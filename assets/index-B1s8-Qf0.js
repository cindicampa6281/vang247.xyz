function _mergeNamespaces(tr,Hn){for(var er=0;er<Hn.length;er++){const nr=Hn[er];if(typeof nr!="string"&&!Array.isArray(nr)){for(const ir in nr)if(ir!=="default"&&!(ir in tr)){const rr=Object.getOwnPropertyDescriptor(nr,ir);rr&&Object.defineProperty(tr,ir,rr.get?rr:{enumerable:!0,get:()=>nr[ir]})}}}return Object.freeze(Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"}))}(function(){const Hn=document.createElement("link").relList;if(Hn&&Hn.supports&&Hn.supports("modulepreload"))return;for(const ir of document.querySelectorAll('link[rel="modulepreload"]'))nr(ir);new MutationObserver(ir=>{for(const rr of ir)if(rr.type==="childList")for(const sr of rr.addedNodes)sr.tagName==="LINK"&&sr.rel==="modulepreload"&&nr(sr)}).observe(document,{childList:!0,subtree:!0});function er(ir){const rr={};return ir.integrity&&(rr.integrity=ir.integrity),ir.referrerPolicy&&(rr.referrerPolicy=ir.referrerPolicy),ir.crossOrigin==="use-credentials"?rr.credentials="include":ir.crossOrigin==="anonymous"?rr.credentials="omit":rr.credentials="same-origin",rr}function nr(ir){if(ir.ep)return;ir.ep=!0;const rr=er(ir);fetch(ir.href,rr)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(tr){return tr&&tr.__esModule&&Object.prototype.hasOwnProperty.call(tr,"default")?tr.default:tr}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var tr=Symbol.for("react.transitional.element"),Hn=Symbol.for("react.fragment");function er(nr,ir,rr){var sr=null;if(rr!==void 0&&(sr=""+rr),ir.key!==void 0&&(sr=""+ir.key),"key"in ir){rr={};for(var ar in ir)ar!=="key"&&(rr[ar]=ir[ar])}else rr=ir;return ir=rr.ref,{$$typeof:tr,type:nr,key:sr,ref:ir!==void 0?ir:null,props:rr}}return reactJsxRuntime_production.Fragment=Hn,reactJsxRuntime_production.jsx=er,reactJsxRuntime_production.jsxs=er,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var tr=Symbol.for("react.transitional.element"),Hn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),nr=Symbol.for("react.strict_mode"),ir=Symbol.for("react.profiler"),rr=Symbol.for("react.consumer"),sr=Symbol.for("react.context"),ar=Symbol.for("react.forward_ref"),or=Symbol.for("react.suspense"),lr=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),ur=Symbol.for("react.activity"),dr=Symbol.iterator;function fr(no){return no===null||typeof no!="object"?null:(no=dr&&no[dr]||no["@@iterator"],typeof no=="function"?no:null)}var gr={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yr=Object.assign,vr={};function jr(no,mo,Eo){this.props=no,this.context=mo,this.refs=vr,this.updater=Eo||gr}jr.prototype.isReactComponent={},jr.prototype.setState=function(no,mo){if(typeof no!="object"&&typeof no!="function"&&no!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,no,mo,"setState")},jr.prototype.forceUpdate=function(no){this.updater.enqueueForceUpdate(this,no,"forceUpdate")};function Sr(){}Sr.prototype=jr.prototype;function Tr(no,mo,Eo){this.props=no,this.context=mo,this.refs=vr,this.updater=Eo||gr}var Lr=Tr.prototype=new Sr;Lr.constructor=Tr,yr(Lr,jr.prototype),Lr.isPureReactComponent=!0;var Mr=Array.isArray;function Nr(){}var Or={H:null,A:null,T:null,S:null},Fr=Object.prototype.hasOwnProperty;function Gr(no,mo,Eo){var bo=Eo.ref;return{$$typeof:tr,type:no,key:mo,ref:bo!==void 0?bo:null,props:Eo}}function qr(no,mo){return Gr(no.type,mo,no.props)}function Hr(no){return typeof no=="object"&&no!==null&&no.$$typeof===tr}function Yr(no){var mo={"=":"=0",":":"=2"};return"$"+no.replace(/[=:]/g,function(Eo){return mo[Eo]})}var ro=/\/+/g;function io(no,mo){return typeof no=="object"&&no!==null&&no.key!=null?Yr(""+no.key):mo.toString(36)}function fo(no){switch(no.status){case"fulfilled":return no.value;case"rejected":throw no.reason;default:switch(typeof no.status=="string"?no.then(Nr,Nr):(no.status="pending",no.then(function(mo){no.status==="pending"&&(no.status="fulfilled",no.value=mo)},function(mo){no.status==="pending"&&(no.status="rejected",no.reason=mo)})),no.status){case"fulfilled":return no.value;case"rejected":throw no.reason}}throw no}function ao(no,mo,Eo,bo,Po){var wo=typeof no;(wo==="undefined"||wo==="boolean")&&(no=null);var To=!1;if(no===null)To=!0;else switch(wo){case"bigint":case"string":case"number":To=!0;break;case"object":switch(no.$$typeof){case tr:case Hn:To=!0;break;case cr:return To=no._init,ao(To(no._payload),mo,Eo,bo,Po)}}if(To)return Po=Po(no),To=bo===""?"."+io(no,0):bo,Mr(Po)?(Eo="",To!=null&&(Eo=To.replace(ro,"$&/")+"/"),ao(Po,mo,Eo,"",function(Go){return Go})):Po!=null&&(Hr(Po)&&(Po=qr(Po,Eo+(Po.key==null||no&&no.key===Po.key?"":(""+Po.key).replace(ro,"$&/")+"/")+To)),mo.push(Po)),1;To=0;var Fo=bo===""?".":bo+":";if(Mr(no))for(var Co=0;Co<no.length;Co++)bo=no[Co],wo=Fo+io(bo,Co),To+=ao(bo,mo,Eo,wo,Po);else if(Co=fr(no),typeof Co=="function")for(no=Co.call(no),Co=0;!(bo=no.next()).done;)bo=bo.value,wo=Fo+io(bo,Co++),To+=ao(bo,mo,Eo,wo,Po);else if(wo==="object"){if(typeof no.then=="function")return ao(fo(no),mo,Eo,bo,Po);throw mo=String(no),Error("Objects are not valid as a React child (found: "+(mo==="[object Object]"?"object with keys {"+Object.keys(no).join(", ")+"}":mo)+"). If you meant to render a collection of children, use an array instead.")}return To}function Jr(no,mo,Eo){if(no==null)return no;var bo=[],Po=0;return ao(no,bo,"","",function(wo){return mo.call(Eo,wo,Po++)}),bo}function uo(no){if(no._status===-1){var mo=no._result;mo=mo(),mo.then(function(Eo){(no._status===0||no._status===-1)&&(no._status=1,no._result=Eo)},function(Eo){(no._status===0||no._status===-1)&&(no._status=2,no._result=Eo)}),no._status===-1&&(no._status=0,no._result=mo)}if(no._status===1)return no._result.default;throw no._result}var oo=typeof reportError=="function"?reportError:function(no){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var mo=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof no=="object"&&no!==null&&typeof no.message=="string"?String(no.message):String(no),error:no});if(!window.dispatchEvent(mo))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",no);return}console.error(no)},co={map:Jr,forEach:function(no,mo,Eo){Jr(no,function(){mo.apply(this,arguments)},Eo)},count:function(no){var mo=0;return Jr(no,function(){mo++}),mo},toArray:function(no){return Jr(no,function(mo){return mo})||[]},only:function(no){if(!Hr(no))throw Error("React.Children.only expected to receive a single React element child.");return no}};return react_production.Activity=ur,react_production.Children=co,react_production.Component=jr,react_production.Fragment=er,react_production.Profiler=ir,react_production.PureComponent=Tr,react_production.StrictMode=nr,react_production.Suspense=or,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Or,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(no){return Or.H.useMemoCache(no)}},react_production.cache=function(no){return function(){return no.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(no,mo,Eo){if(no==null)throw Error("The argument must be a React element, but you passed "+no+".");var bo=yr({},no.props),Po=no.key;if(mo!=null)for(wo in mo.key!==void 0&&(Po=""+mo.key),mo)!Fr.call(mo,wo)||wo==="key"||wo==="__self"||wo==="__source"||wo==="ref"&&mo.ref===void 0||(bo[wo]=mo[wo]);var wo=arguments.length-2;if(wo===1)bo.children=Eo;else if(1<wo){for(var To=Array(wo),Fo=0;Fo<wo;Fo++)To[Fo]=arguments[Fo+2];bo.children=To}return Gr(no.type,Po,bo)},react_production.createContext=function(no){return no={$$typeof:sr,_currentValue:no,_currentValue2:no,_threadCount:0,Provider:null,Consumer:null},no.Provider=no,no.Consumer={$$typeof:rr,_context:no},no},react_production.createElement=function(no,mo,Eo){var bo,Po={},wo=null;if(mo!=null)for(bo in mo.key!==void 0&&(wo=""+mo.key),mo)Fr.call(mo,bo)&&bo!=="key"&&bo!=="__self"&&bo!=="__source"&&(Po[bo]=mo[bo]);var To=arguments.length-2;if(To===1)Po.children=Eo;else if(1<To){for(var Fo=Array(To),Co=0;Co<To;Co++)Fo[Co]=arguments[Co+2];Po.children=Fo}if(no&&no.defaultProps)for(bo in To=no.defaultProps,To)Po[bo]===void 0&&(Po[bo]=To[bo]);return Gr(no,wo,Po)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(no){return{$$typeof:ar,render:no}},react_production.isValidElement=Hr,react_production.lazy=function(no){return{$$typeof:cr,_payload:{_status:-1,_result:no},_init:uo}},react_production.memo=function(no,mo){return{$$typeof:lr,type:no,compare:mo===void 0?null:mo}},react_production.startTransition=function(no){var mo=Or.T,Eo={};Or.T=Eo;try{var bo=no(),Po=Or.S;Po!==null&&Po(Eo,bo),typeof bo=="object"&&bo!==null&&typeof bo.then=="function"&&bo.then(Nr,oo)}catch(wo){oo(wo)}finally{mo!==null&&Eo.types!==null&&(mo.types=Eo.types),Or.T=mo}},react_production.unstable_useCacheRefresh=function(){return Or.H.useCacheRefresh()},react_production.use=function(no){return Or.H.use(no)},react_production.useActionState=function(no,mo,Eo){return Or.H.useActionState(no,mo,Eo)},react_production.useCallback=function(no,mo){return Or.H.useCallback(no,mo)},react_production.useContext=function(no){return Or.H.useContext(no)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(no,mo){return Or.H.useDeferredValue(no,mo)},react_production.useEffect=function(no,mo){return Or.H.useEffect(no,mo)},react_production.useEffectEvent=function(no){return Or.H.useEffectEvent(no)},react_production.useId=function(){return Or.H.useId()},react_production.useImperativeHandle=function(no,mo,Eo){return Or.H.useImperativeHandle(no,mo,Eo)},react_production.useInsertionEffect=function(no,mo){return Or.H.useInsertionEffect(no,mo)},react_production.useLayoutEffect=function(no,mo){return Or.H.useLayoutEffect(no,mo)},react_production.useMemo=function(no,mo){return Or.H.useMemo(no,mo)},react_production.useOptimistic=function(no,mo){return Or.H.useOptimistic(no,mo)},react_production.useReducer=function(no,mo,Eo){return Or.H.useReducer(no,mo,Eo)},react_production.useRef=function(no){return Or.H.useRef(no)},react_production.useState=function(no){return Or.H.useState(no)},react_production.useSyncExternalStore=function(no,mo,Eo){return Or.H.useSyncExternalStore(no,mo,Eo)},react_production.useTransition=function(){return Or.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(tr){function Hn(ao,Jr){var uo=ao.length;ao.push(Jr);e:for(;0<uo;){var oo=uo-1>>>1,co=ao[oo];if(0<ir(co,Jr))ao[oo]=Jr,ao[uo]=co,uo=oo;else break e}}function er(ao){return ao.length===0?null:ao[0]}function nr(ao){if(ao.length===0)return null;var Jr=ao[0],uo=ao.pop();if(uo!==Jr){ao[0]=uo;e:for(var oo=0,co=ao.length,no=co>>>1;oo<no;){var mo=2*(oo+1)-1,Eo=ao[mo],bo=mo+1,Po=ao[bo];if(0>ir(Eo,uo))bo<co&&0>ir(Po,Eo)?(ao[oo]=Po,ao[bo]=uo,oo=bo):(ao[oo]=Eo,ao[mo]=uo,oo=mo);else if(bo<co&&0>ir(Po,uo))ao[oo]=Po,ao[bo]=uo,oo=bo;else break e}}return Jr}function ir(ao,Jr){var uo=ao.sortIndex-Jr.sortIndex;return uo!==0?uo:ao.id-Jr.id}if(tr.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var rr=performance;tr.unstable_now=function(){return rr.now()}}else{var sr=Date,ar=sr.now();tr.unstable_now=function(){return sr.now()-ar}}var or=[],lr=[],cr=1,ur=null,dr=3,fr=!1,gr=!1,yr=!1,vr=!1,jr=typeof setTimeout=="function"?setTimeout:null,Sr=typeof clearTimeout=="function"?clearTimeout:null,Tr=typeof setImmediate<"u"?setImmediate:null;function Lr(ao){for(var Jr=er(lr);Jr!==null;){if(Jr.callback===null)nr(lr);else if(Jr.startTime<=ao)nr(lr),Jr.sortIndex=Jr.expirationTime,Hn(or,Jr);else break;Jr=er(lr)}}function Mr(ao){if(yr=!1,Lr(ao),!gr)if(er(or)!==null)gr=!0,Nr||(Nr=!0,Yr());else{var Jr=er(lr);Jr!==null&&fo(Mr,Jr.startTime-ao)}}var Nr=!1,Or=-1,Fr=5,Gr=-1;function qr(){return vr?!0:!(tr.unstable_now()-Gr<Fr)}function Hr(){if(vr=!1,Nr){var ao=tr.unstable_now();Gr=ao;var Jr=!0;try{e:{gr=!1,yr&&(yr=!1,Sr(Or),Or=-1),fr=!0;var uo=dr;try{t:{for(Lr(ao),ur=er(or);ur!==null&&!(ur.expirationTime>ao&&qr());){var oo=ur.callback;if(typeof oo=="function"){ur.callback=null,dr=ur.priorityLevel;var co=oo(ur.expirationTime<=ao);if(ao=tr.unstable_now(),typeof co=="function"){ur.callback=co,Lr(ao),Jr=!0;break t}ur===er(or)&&nr(or),Lr(ao)}else nr(or);ur=er(or)}if(ur!==null)Jr=!0;else{var no=er(lr);no!==null&&fo(Mr,no.startTime-ao),Jr=!1}}break e}finally{ur=null,dr=uo,fr=!1}Jr=void 0}}finally{Jr?Yr():Nr=!1}}}var Yr;if(typeof Tr=="function")Yr=function(){Tr(Hr)};else if(typeof MessageChannel<"u"){var ro=new MessageChannel,io=ro.port2;ro.port1.onmessage=Hr,Yr=function(){io.postMessage(null)}}else Yr=function(){jr(Hr,0)};function fo(ao,Jr){Or=jr(function(){ao(tr.unstable_now())},Jr)}tr.unstable_IdlePriority=5,tr.unstable_ImmediatePriority=1,tr.unstable_LowPriority=4,tr.unstable_NormalPriority=3,tr.unstable_Profiling=null,tr.unstable_UserBlockingPriority=2,tr.unstable_cancelCallback=function(ao){ao.callback=null},tr.unstable_forceFrameRate=function(ao){0>ao||125<ao?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fr=0<ao?Math.floor(1e3/ao):5},tr.unstable_getCurrentPriorityLevel=function(){return dr},tr.unstable_next=function(ao){switch(dr){case 1:case 2:case 3:var Jr=3;break;default:Jr=dr}var uo=dr;dr=Jr;try{return ao()}finally{dr=uo}},tr.unstable_requestPaint=function(){vr=!0},tr.unstable_runWithPriority=function(ao,Jr){switch(ao){case 1:case 2:case 3:case 4:case 5:break;default:ao=3}var uo=dr;dr=ao;try{return Jr()}finally{dr=uo}},tr.unstable_scheduleCallback=function(ao,Jr,uo){var oo=tr.unstable_now();switch(typeof uo=="object"&&uo!==null?(uo=uo.delay,uo=typeof uo=="number"&&0<uo?oo+uo:oo):uo=oo,ao){case 1:var co=-1;break;case 2:co=250;break;case 5:co=1073741823;break;case 4:co=1e4;break;default:co=5e3}return co=uo+co,ao={id:cr++,callback:Jr,priorityLevel:ao,startTime:uo,expirationTime:co,sortIndex:-1},uo>oo?(ao.sortIndex=uo,Hn(lr,ao),er(or)===null&&ao===er(lr)&&(yr?(Sr(Or),Or=-1):yr=!0,fo(Mr,uo-oo))):(ao.sortIndex=co,Hn(or,ao),gr||fr||(gr=!0,Nr||(Nr=!0,Yr()))),ao},tr.unstable_shouldYield=qr,tr.unstable_wrapCallback=function(ao){var Jr=dr;return function(){var uo=dr;dr=Jr;try{return ao.apply(this,arguments)}finally{dr=uo}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var tr=requireReact();function Hn(or){var lr="https://react.dev/errors/"+or;if(1<arguments.length){lr+="?args[]="+encodeURIComponent(arguments[1]);for(var cr=2;cr<arguments.length;cr++)lr+="&args[]="+encodeURIComponent(arguments[cr])}return"Minified React error #"+or+"; visit "+lr+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function er(){}var nr={d:{f:er,r:function(){throw Error(Hn(522))},D:er,C:er,L:er,m:er,X:er,S:er,M:er},p:0,findDOMNode:null},ir=Symbol.for("react.portal");function rr(or,lr,cr){var ur=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:ur==null?null:""+ur,children:or,containerInfo:lr,implementation:cr}}var sr=tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ar(or,lr){if(or==="font")return"";if(typeof lr=="string")return lr==="use-credentials"?lr:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nr,reactDom_production.createPortal=function(or,lr){var cr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lr||lr.nodeType!==1&&lr.nodeType!==9&&lr.nodeType!==11)throw Error(Hn(299));return rr(or,lr,null,cr)},reactDom_production.flushSync=function(or){var lr=sr.T,cr=nr.p;try{if(sr.T=null,nr.p=2,or)return or()}finally{sr.T=lr,nr.p=cr,nr.d.f()}},reactDom_production.preconnect=function(or,lr){typeof or=="string"&&(lr?(lr=lr.crossOrigin,lr=typeof lr=="string"?lr==="use-credentials"?lr:"":void 0):lr=null,nr.d.C(or,lr))},reactDom_production.prefetchDNS=function(or){typeof or=="string"&&nr.d.D(or)},reactDom_production.preinit=function(or,lr){if(typeof or=="string"&&lr&&typeof lr.as=="string"){var cr=lr.as,ur=ar(cr,lr.crossOrigin),dr=typeof lr.integrity=="string"?lr.integrity:void 0,fr=typeof lr.fetchPriority=="string"?lr.fetchPriority:void 0;cr==="style"?nr.d.S(or,typeof lr.precedence=="string"?lr.precedence:void 0,{crossOrigin:ur,integrity:dr,fetchPriority:fr}):cr==="script"&&nr.d.X(or,{crossOrigin:ur,integrity:dr,fetchPriority:fr,nonce:typeof lr.nonce=="string"?lr.nonce:void 0})}},reactDom_production.preinitModule=function(or,lr){if(typeof or=="string")if(typeof lr=="object"&&lr!==null){if(lr.as==null||lr.as==="script"){var cr=ar(lr.as,lr.crossOrigin);nr.d.M(or,{crossOrigin:cr,integrity:typeof lr.integrity=="string"?lr.integrity:void 0,nonce:typeof lr.nonce=="string"?lr.nonce:void 0})}}else lr==null&&nr.d.M(or)},reactDom_production.preload=function(or,lr){if(typeof or=="string"&&typeof lr=="object"&&lr!==null&&typeof lr.as=="string"){var cr=lr.as,ur=ar(cr,lr.crossOrigin);nr.d.L(or,cr,{crossOrigin:ur,integrity:typeof lr.integrity=="string"?lr.integrity:void 0,nonce:typeof lr.nonce=="string"?lr.nonce:void 0,type:typeof lr.type=="string"?lr.type:void 0,fetchPriority:typeof lr.fetchPriority=="string"?lr.fetchPriority:void 0,referrerPolicy:typeof lr.referrerPolicy=="string"?lr.referrerPolicy:void 0,imageSrcSet:typeof lr.imageSrcSet=="string"?lr.imageSrcSet:void 0,imageSizes:typeof lr.imageSizes=="string"?lr.imageSizes:void 0,media:typeof lr.media=="string"?lr.media:void 0})}},reactDom_production.preloadModule=function(or,lr){if(typeof or=="string")if(lr){var cr=ar(lr.as,lr.crossOrigin);nr.d.m(or,{as:typeof lr.as=="string"&&lr.as!=="script"?lr.as:void 0,crossOrigin:cr,integrity:typeof lr.integrity=="string"?lr.integrity:void 0})}else nr.d.m(or)},reactDom_production.requestFormReset=function(or){nr.d.r(or)},reactDom_production.unstable_batchedUpdates=function(or,lr){return or(lr)},reactDom_production.useFormState=function(or,lr,cr){return sr.H.useFormState(or,lr,cr)},reactDom_production.useFormStatus=function(){return sr.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function tr(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tr)}catch(Hn){console.error(Hn)}}return tr(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var tr=requireScheduler(),Hn=requireReact(),er=requireReactDom();function nr(hr){var pr="https://react.dev/errors/"+hr;if(1<arguments.length){pr+="?args[]="+encodeURIComponent(arguments[1]);for(var _r=2;_r<arguments.length;_r++)pr+="&args[]="+encodeURIComponent(arguments[_r])}return"Minified React error #"+hr+"; visit "+pr+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ir(hr){return!(!hr||hr.nodeType!==1&&hr.nodeType!==9&&hr.nodeType!==11)}function rr(hr){var pr=hr,_r=hr;if(hr.alternate)for(;pr.return;)pr=pr.return;else{hr=pr;do pr=hr,(pr.flags&4098)!==0&&(_r=pr.return),hr=pr.return;while(hr)}return pr.tag===3?_r:null}function sr(hr){if(hr.tag===13){var pr=hr.memoizedState;if(pr===null&&(hr=hr.alternate,hr!==null&&(pr=hr.memoizedState)),pr!==null)return pr.dehydrated}return null}function ar(hr){if(hr.tag===31){var pr=hr.memoizedState;if(pr===null&&(hr=hr.alternate,hr!==null&&(pr=hr.memoizedState)),pr!==null)return pr.dehydrated}return null}function or(hr){if(rr(hr)!==hr)throw Error(nr(188))}function lr(hr){var pr=hr.alternate;if(!pr){if(pr=rr(hr),pr===null)throw Error(nr(188));return pr!==hr?null:hr}for(var _r=hr,Cr=pr;;){var Wr=_r.return;if(Wr===null)break;var Xr=Wr.alternate;if(Xr===null){if(Cr=Wr.return,Cr!==null){_r=Cr;continue}break}if(Wr.child===Xr.child){for(Xr=Wr.child;Xr;){if(Xr===_r)return or(Wr),hr;if(Xr===Cr)return or(Wr),pr;Xr=Xr.sibling}throw Error(nr(188))}if(_r.return!==Cr.return)_r=Wr,Cr=Xr;else{for(var xo=!1,Ao=Wr.child;Ao;){if(Ao===_r){xo=!0,_r=Wr,Cr=Xr;break}if(Ao===Cr){xo=!0,Cr=Wr,_r=Xr;break}Ao=Ao.sibling}if(!xo){for(Ao=Xr.child;Ao;){if(Ao===_r){xo=!0,_r=Xr,Cr=Wr;break}if(Ao===Cr){xo=!0,Cr=Xr,_r=Wr;break}Ao=Ao.sibling}if(!xo)throw Error(nr(189))}}if(_r.alternate!==Cr)throw Error(nr(190))}if(_r.tag!==3)throw Error(nr(188));return _r.stateNode.current===_r?hr:pr}function cr(hr){var pr=hr.tag;if(pr===5||pr===26||pr===27||pr===6)return hr;for(hr=hr.child;hr!==null;){if(pr=cr(hr),pr!==null)return pr;hr=hr.sibling}return null}var ur=Object.assign,dr=Symbol.for("react.element"),fr=Symbol.for("react.transitional.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),vr=Symbol.for("react.strict_mode"),jr=Symbol.for("react.profiler"),Sr=Symbol.for("react.consumer"),Tr=Symbol.for("react.context"),Lr=Symbol.for("react.forward_ref"),Mr=Symbol.for("react.suspense"),Nr=Symbol.for("react.suspense_list"),Or=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),Gr=Symbol.for("react.activity"),qr=Symbol.for("react.memo_cache_sentinel"),Hr=Symbol.iterator;function Yr(hr){return hr===null||typeof hr!="object"?null:(hr=Hr&&hr[Hr]||hr["@@iterator"],typeof hr=="function"?hr:null)}var ro=Symbol.for("react.client.reference");function io(hr){if(hr==null)return null;if(typeof hr=="function")return hr.$$typeof===ro?null:hr.displayName||hr.name||null;if(typeof hr=="string")return hr;switch(hr){case yr:return"Fragment";case jr:return"Profiler";case vr:return"StrictMode";case Mr:return"Suspense";case Nr:return"SuspenseList";case Gr:return"Activity"}if(typeof hr=="object")switch(hr.$$typeof){case gr:return"Portal";case Tr:return hr.displayName||"Context";case Sr:return(hr._context.displayName||"Context")+".Consumer";case Lr:var pr=hr.render;return hr=hr.displayName,hr||(hr=pr.displayName||pr.name||"",hr=hr!==""?"ForwardRef("+hr+")":"ForwardRef"),hr;case Or:return pr=hr.displayName||null,pr!==null?pr:io(hr.type)||"Memo";case Fr:pr=hr._payload,hr=hr._init;try{return io(hr(pr))}catch{}}return null}var fo=Array.isArray,ao=Hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jr=er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,uo={pending:!1,data:null,method:null,action:null},oo=[],co=-1;function no(hr){return{current:hr}}function mo(hr){0>co||(hr.current=oo[co],oo[co]=null,co--)}function Eo(hr,pr){co++,oo[co]=hr.current,hr.current=pr}var bo=no(null),Po=no(null),wo=no(null),To=no(null);function Fo(hr,pr){switch(Eo(wo,pr),Eo(Po,hr),Eo(bo,null),pr.nodeType){case 9:case 11:hr=(hr=pr.documentElement)&&(hr=hr.namespaceURI)?Ql(hr):0;break;default:if(hr=pr.tagName,pr=pr.namespaceURI)pr=Ql(pr),hr=Hc(pr,hr);else switch(hr){case"svg":hr=1;break;case"math":hr=2;break;default:hr=0}}mo(bo),Eo(bo,hr)}function Co(){mo(bo),mo(Po),mo(wo)}function Go(hr){hr.memoizedState!==null&&Eo(To,hr);var pr=bo.current,_r=Hc(pr,hr.type);pr!==_r&&(Eo(Po,hr),Eo(bo,_r))}function el(hr){Po.current===hr&&(mo(bo),mo(Po)),To.current===hr&&(mo(To),lv._currentValue=uo)}var Lo,Uo;function $o(hr){if(Lo===void 0)try{throw Error()}catch(_r){var pr=_r.stack.trim().match(/\n( *(at )?)/);Lo=pr&&pr[1]||"",Uo=-1<_r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lo+hr+Uo}var il=!1;function pl(hr,pr){if(!hr||il)return"";il=!0;var _r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Cr={DetermineComponentFrameRoot:function(){try{if(pr){var Rl=function(){throw Error()};if(Object.defineProperty(Rl.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rl,[])}catch(gl){var hl=gl}Reflect.construct(hr,[],Rl)}else{try{Rl.call()}catch(gl){hl=gl}hr.call(Rl.prototype)}}else{try{throw Error()}catch(gl){hl=gl}(Rl=hr())&&typeof Rl.catch=="function"&&Rl.catch(function(){})}}catch(gl){if(gl&&hl&&typeof gl.stack=="string")return[gl.stack,hl.stack]}return[null,null]}};Cr.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Wr=Object.getOwnPropertyDescriptor(Cr.DetermineComponentFrameRoot,"name");Wr&&Wr.configurable&&Object.defineProperty(Cr.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Xr=Cr.DetermineComponentFrameRoot(),xo=Xr[0],Ao=Xr[1];if(xo&&Ao){var Vo=xo.split(`
`),cl=Ao.split(`
`);for(Wr=Cr=0;Cr<Vo.length&&!Vo[Cr].includes("DetermineComponentFrameRoot");)Cr++;for(;Wr<cl.length&&!cl[Wr].includes("DetermineComponentFrameRoot");)Wr++;if(Cr===Vo.length||Wr===cl.length)for(Cr=Vo.length-1,Wr=cl.length-1;1<=Cr&&0<=Wr&&Vo[Cr]!==cl[Wr];)Wr--;for(;1<=Cr&&0<=Wr;Cr--,Wr--)if(Vo[Cr]!==cl[Wr]){if(Cr!==1||Wr!==1)do if(Cr--,Wr--,0>Wr||Vo[Cr]!==cl[Wr]){var wl=`
`+Vo[Cr].replace(" at new "," at ");return hr.displayName&&wl.includes("<anonymous>")&&(wl=wl.replace("<anonymous>",hr.displayName)),wl}while(1<=Cr&&0<=Wr);break}}}finally{il=!1,Error.prepareStackTrace=_r}return(_r=hr?hr.displayName||hr.name:"")?$o(_r):""}function ml(hr,pr){switch(hr.tag){case 26:case 27:case 5:return $o(hr.type);case 16:return $o("Lazy");case 13:return hr.child!==pr&&pr!==null?$o("Suspense Fallback"):$o("Suspense");case 19:return $o("SuspenseList");case 0:case 15:return pl(hr.type,!1);case 11:return pl(hr.type.render,!1);case 1:return pl(hr.type,!0);case 31:return $o("Activity");default:return""}}function Wl(hr){try{var pr="",_r=null;do pr+=ml(hr,_r),_r=hr,hr=hr.return;while(hr);return pr}catch(Cr){return`
Error generating stack: `+Cr.message+`
`+Cr.stack}}var Xl=Object.prototype.hasOwnProperty,ac=tr.unstable_scheduleCallback,Tl=tr.unstable_cancelCallback,Ol=tr.unstable_shouldYield,dc=tr.unstable_requestPaint,oc=tr.unstable_now,vc=tr.unstable_getCurrentPriorityLevel,Ic=tr.unstable_ImmediatePriority,Yc=tr.unstable_UserBlockingPriority,Rc=tr.unstable_NormalPriority,El=tr.unstable_LowPriority,Kl=tr.unstable_IdlePriority,ec=tr.log,Fc=tr.unstable_setDisableYieldValue,Hl=null,al=null;function sl(hr){if(typeof ec=="function"&&Fc(hr),al&&typeof al.setStrictMode=="function")try{al.setStrictMode(Hl,hr)}catch{}}var fl=Math.clz32?Math.clz32:tc,$l=Math.log,Nl=Math.LN2;function tc(hr){return hr>>>=0,hr===0?32:31-($l(hr)/Nl|0)|0}var uc=256,Kc=262144,bc=4194304;function Cc(hr){var pr=hr&42;if(pr!==0)return pr;switch(hr&-hr){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return hr&261888;case 262144:case 524288:case 1048576:case 2097152:return hr&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return hr&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return hr}}function vu(hr,pr,_r){var Cr=hr.pendingLanes;if(Cr===0)return 0;var Wr=0,Xr=hr.suspendedLanes,xo=hr.pingedLanes;hr=hr.warmLanes;var Ao=Cr&134217727;return Ao!==0?(Cr=Ao&~Xr,Cr!==0?Wr=Cc(Cr):(xo&=Ao,xo!==0?Wr=Cc(xo):_r||(_r=Ao&~hr,_r!==0&&(Wr=Cc(_r))))):(Ao=Cr&~Xr,Ao!==0?Wr=Cc(Ao):xo!==0?Wr=Cc(xo):_r||(_r=Cr&~hr,_r!==0&&(Wr=Cc(_r)))),Wr===0?0:pr!==0&&pr!==Wr&&(pr&Xr)===0&&(Xr=Wr&-Wr,_r=pr&-pr,Xr>=_r||Xr===32&&(_r&4194048)!==0)?pr:Wr}function Zc(hr,pr){return(hr.pendingLanes&~(hr.suspendedLanes&~hr.pingedLanes)&pr)===0}function fc(hr,pr){switch(hr){case 1:case 2:case 4:case 8:case 64:return pr+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return pr+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var hr=bc;return bc<<=1,(bc&62914560)===0&&(bc=4194304),hr}function nc(hr){for(var pr=[],_r=0;31>_r;_r++)pr.push(hr);return pr}function Ul(hr,pr){hr.pendingLanes|=pr,pr!==268435456&&(hr.suspendedLanes=0,hr.pingedLanes=0,hr.warmLanes=0)}function ah(hr,pr,_r,Cr,Wr,Xr){var xo=hr.pendingLanes;hr.pendingLanes=_r,hr.suspendedLanes=0,hr.pingedLanes=0,hr.warmLanes=0,hr.expiredLanes&=_r,hr.entangledLanes&=_r,hr.errorRecoveryDisabledLanes&=_r,hr.shellSuspendCounter=0;var Ao=hr.entanglements,Vo=hr.expirationTimes,cl=hr.hiddenUpdates;for(_r=xo&~_r;0<_r;){var wl=31-fl(_r),Rl=1<<wl;Ao[wl]=0,Vo[wl]=-1;var hl=cl[wl];if(hl!==null)for(cl[wl]=null,wl=0;wl<hl.length;wl++){var gl=hl[wl];gl!==null&&(gl.lane&=-536870913)}_r&=~Rl}Cr!==0&&ol(hr,Cr,0),Xr!==0&&Wr===0&&hr.tag!==0&&(hr.suspendedLanes|=Xr&~(xo&~pr))}function ol(hr,pr,_r){hr.pendingLanes|=pr,hr.suspendedLanes&=~pr;var Cr=31-fl(pr);hr.entangledLanes|=pr,hr.entanglements[Cr]=hr.entanglements[Cr]|1073741824|_r&261930}function bl(hr,pr){var _r=hr.entangledLanes|=pr;for(hr=hr.entanglements;_r;){var Cr=31-fl(_r),Wr=1<<Cr;Wr&pr|hr[Cr]&pr&&(hr[Cr]|=pr),_r&=~Wr}}function Bl(hr,pr){var _r=pr&-pr;return _r=(_r&42)!==0?1:Pl(_r),(_r&(hr.suspendedLanes|pr))!==0?0:_r}function Pl(hr){switch(hr){case 2:hr=1;break;case 8:hr=4;break;case 32:hr=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:hr=128;break;case 268435456:hr=134217728;break;default:hr=0}return hr}function Dl(hr){return hr&=-hr,2<hr?8<hr?(hr&134217727)!==0?32:268435456:8:2}function bu(){var hr=Jr.p;return hr!==0?hr:(hr=window.event,hr===void 0?32:L0(hr.type))}function oh(hr,pr){var _r=Jr.p;try{return Jr.p=hr,pr()}finally{Jr.p=_r}}var ku=Math.random().toString(36).slice(2),Mc="__reactFiber$"+ku,eu="__reactProps$"+ku,Qc="__reactContainer$"+ku,cc="__reactEvents$"+ku,hu="__reactListeners$"+ku,du="__reactHandles$"+ku,Gc="__reactResources$"+ku,Iu="__reactMarker$"+ku;function qh(hr){delete hr[Mc],delete hr[eu],delete hr[cc],delete hr[hu],delete hr[du]}function Bh(hr){var pr=hr[Mc];if(pr)return pr;for(var _r=hr.parentNode;_r;){if(pr=_r[Qc]||_r[Mc]){if(_r=pr.alternate,pr.child!==null||_r!==null&&_r.child!==null)for(hr=qv(hr);hr!==null;){if(_r=hr[Mc])return _r;hr=qv(hr)}return pr}hr=_r,_r=hr.parentNode}return null}function zh(hr){if(hr=hr[Mc]||hr[Qc]){var pr=hr.tag;if(pr===5||pr===6||pr===13||pr===31||pr===26||pr===27||pr===3)return hr}return null}function zc(hr){var pr=hr.tag;if(pr===5||pr===26||pr===27||pr===6)return hr.stateNode;throw Error(nr(33))}function Hu(hr){var pr=hr[Gc];return pr||(pr=hr[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),pr}function tu(hr){hr[Iu]=!0}var Hh=new Set,cd={};function fh(hr,pr){Nh(hr,pr),Nh(hr+"Capture",pr)}function Nh(hr,pr){for(cd[hr]=pr,hr=0;hr<pr.length;hr++)Hh.add(pr[hr])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ed={},_u={};function Bf(hr){return Xl.call(_u,hr)?!0:Xl.call(Ed,hr)?!1:bh.test(hr)?_u[hr]=!0:(Ed[hr]=!0,!1)}function Lc(hr,pr,_r){if(Bf(pr))if(_r===null)hr.removeAttribute(pr);else{switch(typeof _r){case"undefined":case"function":case"symbol":hr.removeAttribute(pr);return;case"boolean":var Cr=pr.toLowerCase().slice(0,5);if(Cr!=="data-"&&Cr!=="aria-"){hr.removeAttribute(pr);return}}hr.setAttribute(pr,""+_r)}}function Vc(hr,pr,_r){if(_r===null)hr.removeAttribute(pr);else{switch(typeof _r){case"undefined":case"function":case"symbol":case"boolean":hr.removeAttribute(pr);return}hr.setAttribute(pr,""+_r)}}function Th(hr,pr,_r,Cr){if(Cr===null)hr.removeAttribute(_r);else{switch(typeof Cr){case"undefined":case"function":case"symbol":case"boolean":hr.removeAttribute(_r);return}hr.setAttributeNS(pr,_r,""+Cr)}}function ph(hr){switch(typeof hr){case"bigint":case"boolean":case"number":case"string":case"undefined":return hr;case"object":return hr;default:return""}}function Sd(hr){var pr=hr.type;return(hr=hr.nodeName)&&hr.toLowerCase()==="input"&&(pr==="checkbox"||pr==="radio")}function fp(hr,pr,_r){var Cr=Object.getOwnPropertyDescriptor(hr.constructor.prototype,pr);if(!hr.hasOwnProperty(pr)&&typeof Cr<"u"&&typeof Cr.get=="function"&&typeof Cr.set=="function"){var Wr=Cr.get,Xr=Cr.set;return Object.defineProperty(hr,pr,{configurable:!0,get:function(){return Wr.call(this)},set:function(xo){_r=""+xo,Xr.call(this,xo)}}),Object.defineProperty(hr,pr,{enumerable:Cr.enumerable}),{getValue:function(){return _r},setValue:function(xo){_r=""+xo},stopTracking:function(){hr._valueTracker=null,delete hr[pr]}}}}function _c(hr){if(!hr._valueTracker){var pr=Sd(hr)?"checked":"value";hr._valueTracker=fp(hr,pr,""+hr[pr])}}function wu(hr){if(!hr)return!1;var pr=hr._valueTracker;if(!pr)return!0;var _r=pr.getValue(),Cr="";return hr&&(Cr=Sd(hr)?hr.checked?"true":"false":hr.value),hr=Cr,hr!==_r?(pr.setValue(hr),!0):!1}function Wh(hr){if(hr=hr||(typeof document<"u"?document:void 0),typeof hr>"u")return null;try{return hr.activeElement||hr.body}catch{return hr.body}}var um=/[\n"\\]/g;function Eu(hr){return hr.replace(um,function(pr){return"\\"+pr.charCodeAt(0).toString(16)+" "})}function zf(hr,pr,_r,Cr,Wr,Xr,xo,Ao){hr.name="",xo!=null&&typeof xo!="function"&&typeof xo!="symbol"&&typeof xo!="boolean"?hr.type=xo:hr.removeAttribute("type"),pr!=null?xo==="number"?(pr===0&&hr.value===""||hr.value!=pr)&&(hr.value=""+ph(pr)):hr.value!==""+ph(pr)&&(hr.value=""+ph(pr)):xo!=="submit"&&xo!=="reset"||hr.removeAttribute("value"),pr!=null?ud(hr,xo,ph(pr)):_r!=null?ud(hr,xo,ph(_r)):Cr!=null&&hr.removeAttribute("value"),Wr==null&&Xr!=null&&(hr.defaultChecked=!!Xr),Wr!=null&&(hr.checked=Wr&&typeof Wr!="function"&&typeof Wr!="symbol"),Ao!=null&&typeof Ao!="function"&&typeof Ao!="symbol"&&typeof Ao!="boolean"?hr.name=""+ph(Ao):hr.removeAttribute("name")}function Jd(hr,pr,_r,Cr,Wr,Xr,xo,Ao){if(Xr!=null&&typeof Xr!="function"&&typeof Xr!="symbol"&&typeof Xr!="boolean"&&(hr.type=Xr),pr!=null||_r!=null){if(!(Xr!=="submit"&&Xr!=="reset"||pr!=null)){_c(hr);return}_r=_r!=null?""+ph(_r):"",pr=pr!=null?""+ph(pr):_r,Ao||pr===hr.value||(hr.value=pr),hr.defaultValue=pr}Cr=Cr??Wr,Cr=typeof Cr!="function"&&typeof Cr!="symbol"&&!!Cr,hr.checked=Ao?hr.checked:!!Cr,hr.defaultChecked=!!Cr,xo!=null&&typeof xo!="function"&&typeof xo!="symbol"&&typeof xo!="boolean"&&(hr.name=xo),_c(hr)}function ud(hr,pr,_r){pr==="number"&&Wh(hr.ownerDocument)===hr||hr.defaultValue===""+_r||(hr.defaultValue=""+_r)}function Au(hr,pr,_r,Cr){if(hr=hr.options,pr){pr={};for(var Wr=0;Wr<_r.length;Wr++)pr["$"+_r[Wr]]=!0;for(_r=0;_r<hr.length;_r++)Wr=pr.hasOwnProperty("$"+hr[_r].value),hr[_r].selected!==Wr&&(hr[_r].selected=Wr),Wr&&Cr&&(hr[_r].defaultSelected=!0)}else{for(_r=""+ph(_r),pr=null,Wr=0;Wr<hr.length;Wr++){if(hr[Wr].value===_r){hr[Wr].selected=!0,Cr&&(hr[Wr].defaultSelected=!0);return}pr!==null||hr[Wr].disabled||(pr=hr[Wr])}pr!==null&&(pr.selected=!0)}}function Ro(hr,pr,_r){if(pr!=null&&(pr=""+ph(pr),pr!==hr.value&&(hr.value=pr),_r==null)){hr.defaultValue!==pr&&(hr.defaultValue=pr);return}hr.defaultValue=_r!=null?""+ph(_r):""}function No(hr,pr,_r,Cr){if(pr==null){if(Cr!=null){if(_r!=null)throw Error(nr(92));if(fo(Cr)){if(1<Cr.length)throw Error(nr(93));Cr=Cr[0]}_r=Cr}_r==null&&(_r=""),pr=_r}_r=ph(pr),hr.defaultValue=_r,Cr=hr.textContent,Cr===_r&&Cr!==""&&Cr!==null&&(hr.value=Cr),_c(hr)}function Bo(hr,pr){if(pr){var _r=hr.firstChild;if(_r&&_r===hr.lastChild&&_r.nodeType===3){_r.nodeValue=pr;return}}hr.textContent=pr}var ul=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(hr,pr,_r){var Cr=pr.indexOf("--")===0;_r==null||typeof _r=="boolean"||_r===""?Cr?hr.setProperty(pr,""):pr==="float"?hr.cssFloat="":hr[pr]="":Cr?hr.setProperty(pr,_r):typeof _r!="number"||_r===0||ul.has(pr)?pr==="float"?hr.cssFloat=_r:hr[pr]=(""+_r).trim():hr[pr]=_r+"px"}function Vl(hr,pr,_r){if(pr!=null&&typeof pr!="object")throw Error(nr(62));if(hr=hr.style,_r!=null){for(var Cr in _r)!_r.hasOwnProperty(Cr)||pr!=null&&pr.hasOwnProperty(Cr)||(Cr.indexOf("--")===0?hr.setProperty(Cr,""):Cr==="float"?hr.cssFloat="":hr[Cr]="");for(var Wr in pr)Cr=pr[Wr],pr.hasOwnProperty(Wr)&&_r[Wr]!==Cr&&Al(hr,Wr,Cr)}else for(var Xr in pr)pr.hasOwnProperty(Xr)&&Al(hr,Xr,pr[Xr])}function wc(hr){if(hr.indexOf("-")===-1)return!1;switch(hr){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zu(hr){return mh.test(""+hr)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":hr}function Qu(){}var Hf=null;function Vm(hr){return hr=hr.target||hr.srcElement||window,hr.correspondingUseElement&&(hr=hr.correspondingUseElement),hr.nodeType===3?hr.parentNode:hr}var vf=null,Ec=null;function ef(hr){var pr=zh(hr);if(pr&&(hr=pr.stateNode)){var _r=hr[eu]||null;e:switch(hr=pr.stateNode,pr.type){case"input":if(zf(hr,_r.value,_r.defaultValue,_r.defaultValue,_r.checked,_r.defaultChecked,_r.type,_r.name),pr=_r.name,_r.type==="radio"&&pr!=null){for(_r=hr;_r.parentNode;)_r=_r.parentNode;for(_r=_r.querySelectorAll('input[name="'+Eu(""+pr)+'"][type="radio"]'),pr=0;pr<_r.length;pr++){var Cr=_r[pr];if(Cr!==hr&&Cr.form===hr.form){var Wr=Cr[eu]||null;if(!Wr)throw Error(nr(90));zf(Cr,Wr.value,Wr.defaultValue,Wr.defaultValue,Wr.checked,Wr.defaultChecked,Wr.type,Wr.name)}}for(pr=0;pr<_r.length;pr++)Cr=_r[pr],Cr.form===hr.form&&wu(Cr)}break e;case"textarea":Ro(hr,_r.value,_r.defaultValue);break e;case"select":pr=_r.value,pr!=null&&Au(hr,!!_r.multiple,pr,!1)}}}var Du=!1;function Um(hr,pr,_r){if(Du)return hr(pr,_r);Du=!0;try{var Cr=hr(pr);return Cr}finally{if(Du=!1,(vf!==null||Ec!==null)&&(Yy(),vf&&(pr=vf,hr=Ec,Ec=vf=null,ef(pr),hr)))for(pr=0;pr<hr.length;pr++)ef(hr[pr])}}function Wf(hr,pr){var _r=hr.stateNode;if(_r===null)return null;var Cr=_r[eu]||null;if(Cr===null)return null;_r=Cr[pr];e:switch(pr){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Cr=!Cr.disabled)||(hr=hr.type,Cr=!(hr==="button"||hr==="input"||hr==="select"||hr==="textarea")),hr=!Cr;break e;default:hr=!1}if(hr)return null;if(_r&&typeof _r!="function")throw Error(nr(231,pr,typeof _r));return _r}var hd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=!1;if(hd)try{var _h={};Object.defineProperty(_h,"passive",{get:function(){hm=!0}}),window.addEventListener("test",_h,_h),window.removeEventListener("test",_h,_h)}catch{hm=!1}var bf=null,tf=null,jc=null;function nu(){if(jc)return jc;var hr,pr=tf,_r=pr.length,Cr,Wr="value"in bf?bf.value:bf.textContent,Xr=Wr.length;for(hr=0;hr<_r&&pr[hr]===Wr[hr];hr++);var xo=_r-hr;for(Cr=1;Cr<=xo&&pr[_r-Cr]===Wr[Xr-Cr];Cr++);return jc=Wr.slice(hr,1<Cr?1-Cr:void 0)}function dm(hr){var pr=hr.keyCode;return"charCode"in hr?(hr=hr.charCode,hr===0&&pr===13&&(hr=13)):hr=pr,hr===10&&(hr=13),32<=hr||hr===13?hr:0}function fm(){return!0}function ny(){return!1}function Kh(hr){function pr(_r,Cr,Wr,Xr,xo){this._reactName=_r,this._targetInst=Wr,this.type=Cr,this.nativeEvent=Xr,this.target=xo,this.currentTarget=null;for(var Ao in hr)hr.hasOwnProperty(Ao)&&(_r=hr[Ao],this[Ao]=_r?_r(Xr):Xr[Ao]);return this.isDefaultPrevented=(Xr.defaultPrevented!=null?Xr.defaultPrevented:Xr.returnValue===!1)?fm:ny,this.isPropagationStopped=ny,this}return ur(pr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _r=this.nativeEvent;_r&&(_r.preventDefault?_r.preventDefault():typeof _r.returnValue!="unknown"&&(_r.returnValue=!1),this.isDefaultPrevented=fm)},stopPropagation:function(){var _r=this.nativeEvent;_r&&(_r.stopPropagation?_r.stopPropagation():typeof _r.cancelBubble!="unknown"&&(_r.cancelBubble=!0),this.isPropagationStopped=fm)},persist:function(){},isPersistent:fm}),pr}var _f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(hr){return hr.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pm=Kh(_f),Id=ur({},_f,{view:0,detail:0}),Nc=Kh(Id),gh,Zh,Qh,mm=ur({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(hr){return hr.relatedTarget===void 0?hr.fromElement===hr.srcElement?hr.toElement:hr.fromElement:hr.relatedTarget},movementX:function(hr){return"movementX"in hr?hr.movementX:(hr!==Qh&&(Qh&&hr.type==="mousemove"?(gh=hr.screenX-Qh.screenX,Zh=hr.screenY-Qh.screenY):Zh=gh=0,Qh=hr),gh)},movementY:function(hr){return"movementY"in hr?hr.movementY:Zh}}),Ym=Kh(mm),gu=ur({},mm,{dataTransfer:0}),nf=Kh(gu),kg=ur({},Id,{relatedTarget:0}),Ag=Kh(kg),ux=ur({},_f,{animationName:0,elapsedTime:0,pseudoElement:0}),pp=Kh(ux),iy=ur({},_f,{clipboardData:function(hr){return"clipboardData"in hr?hr.clipboardData:window.clipboardData}}),Wu=Kh(iy),ry=ur({},_f,{data:0}),wh=Kh(ry),Gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(hr){var pr=this.nativeEvent;return pr.getModifierState?pr.getModifierState(hr):(hr=jd[hr])?!!pr[hr]:!1}function gm(){return Bp}var Fu=ur({},Id,{key:function(hr){if(hr.key){var pr=Gf[hr.key]||hr.key;if(pr!=="Unidentified")return pr}return hr.type==="keypress"?(hr=dm(hr),hr===13?"Enter":String.fromCharCode(hr)):hr.type==="keydown"||hr.type==="keyup"?hx[hr.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(hr){return hr.type==="keypress"?dm(hr):0},keyCode:function(hr){return hr.type==="keydown"||hr.type==="keyup"?hr.keyCode:0},which:function(hr){return hr.type==="keypress"?dm(hr):hr.type==="keydown"||hr.type==="keyup"?hr.keyCode:0}}),wf=Kh(Fu),Xm=ur({},mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sy=Kh(Xm),xm=ur({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),dx=Kh(xm),ay=ur({},_f,{propertyName:0,elapsedTime:0,pseudoElement:0}),oy=Kh(ay),qm=ur({},mm,{deltaX:function(hr){return"deltaX"in hr?hr.deltaX:"wheelDeltaX"in hr?-hr.wheelDeltaX:0},deltaY:function(hr){return"deltaY"in hr?hr.deltaY:"wheelDeltaY"in hr?-hr.wheelDeltaY:"wheelDelta"in hr?-hr.wheelDelta:0},deltaZ:0,deltaMode:0}),Ef=Kh(qm),ym=ur({},_f,{newState:0,oldState:0}),zp=Kh(ym),Rd=[9,13,27,32],Km=hd&&"CompositionEvent"in window,mp=null;hd&&"documentMode"in document&&(mp=document.documentMode);var Tg=hd&&"TextEvent"in window&&!mp,Sf=hd&&(!Km||mp&&8<mp&&11>=mp),Zm=" ",Qm=!1;function Pg(hr,pr){switch(hr){case"keyup":return Rd.indexOf(pr.keyCode)!==-1;case"keydown":return pr.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fx(hr){return hr=hr.detail,typeof hr=="object"&&"data"in hr?hr.data:null}var Hp=!1;function Gu(hr,pr){switch(hr){case"compositionend":return fx(pr);case"keypress":return pr.which!==32?null:(Qm=!0,Zm);case"textInput":return hr=pr.data,hr===Zm&&Qm?null:hr;default:return null}}function jf(hr,pr){if(Hp)return hr==="compositionend"||!Km&&Pg(hr,pr)?(hr=nu(),jc=tf=bf=null,Hp=!1,hr):null;switch(hr){case"paste":return null;case"keypress":if(!(pr.ctrlKey||pr.altKey||pr.metaKey)||pr.ctrlKey&&pr.altKey){if(pr.char&&1<pr.char.length)return pr.char;if(pr.which)return String.fromCharCode(pr.which)}return null;case"compositionend":return Sf&&pr.locale!=="ko"?null:pr.data;default:return null}}var gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(hr){var pr=hr&&hr.nodeName&&hr.nodeName.toLowerCase();return pr==="input"?!!gp[hr.type]:pr==="textarea"}function px(hr,pr,_r,Cr){vf?Ec?Ec.push(Cr):Ec=[Cr]:vf=Cr,pr=yo(pr,"onChange"),0<pr.length&&(_r=new pm("onChange","change",null,_r,Cr),hr.push({event:_r,listeners:pr}))}var rf=null,xp=null;function sf(hr){Kr(hr,0)}function Jm(hr){var pr=zc(hr);if(wu(pr))return hr}function af(hr,pr){if(hr==="change")return pr}var Wp=!1;if(hd){var Gh;if(hd){var Rf="oninput"in document;if(!Rf){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Rf=typeof Dg.oninput=="function"}Gh=Rf}else Gh=!1;Wp=Gh&&(!document.documentMode||9<document.documentMode)}function Gp(){rf&&(rf.detachEvent("onpropertychange",of),xp=rf=null)}function of(hr){if(hr.propertyName==="value"&&Jm(xp)){var pr=[];px(pr,xp,hr,Vm(hr)),Um(sf,pr)}}function Fd(hr,pr,_r){hr==="focusin"?(Gp(),rf=pr,xp=_r,rf.attachEvent("onpropertychange",of)):hr==="focusout"&&Gp()}function hv(hr){if(hr==="selectionchange"||hr==="keyup"||hr==="keydown")return Jm(xp)}function vm(hr,pr){if(hr==="click")return Jm(pr)}function Mg(hr,pr){if(hr==="input"||hr==="change")return Jm(pr)}function fd(hr,pr){return hr===pr&&(hr!==0||1/hr===1/pr)||hr!==hr&&pr!==pr}var zu=typeof Object.is=="function"?Object.is:fd;function Vp(hr,pr){if(zu(hr,pr))return!0;if(typeof hr!="object"||hr===null||typeof pr!="object"||pr===null)return!1;var _r=Object.keys(hr),Cr=Object.keys(pr);if(_r.length!==Cr.length)return!1;for(Cr=0;Cr<_r.length;Cr++){var Wr=_r[Cr];if(!Xl.call(pr,Wr)||!zu(hr[Wr],pr[Wr]))return!1}return!0}function lf(hr){for(;hr&&hr.firstChild;)hr=hr.firstChild;return hr}function eg(hr,pr){var _r=lf(hr);hr=0;for(var Cr;_r;){if(_r.nodeType===3){if(Cr=hr+_r.textContent.length,hr<=pr&&Cr>=pr)return{node:_r,offset:pr-hr};hr=Cr}e:{for(;_r;){if(_r.nextSibling){_r=_r.nextSibling;break e}_r=_r.parentNode}_r=void 0}_r=lf(_r)}}function tg(hr,pr){return hr&&pr?hr===pr?!0:hr&&hr.nodeType===3?!1:pr&&pr.nodeType===3?tg(hr,pr.parentNode):"contains"in hr?hr.contains(pr):hr.compareDocumentPosition?!!(hr.compareDocumentPosition(pr)&16):!1:!1}function ng(hr){hr=hr!=null&&hr.ownerDocument!=null&&hr.ownerDocument.defaultView!=null?hr.ownerDocument.defaultView:window;for(var pr=Wh(hr.document);pr instanceof hr.HTMLIFrameElement;){try{var _r=typeof pr.contentWindow.location.href=="string"}catch{_r=!1}if(_r)hr=pr.contentWindow;else break;pr=Wh(hr.document)}return pr}function yp(hr){var pr=hr&&hr.nodeName&&hr.nodeName.toLowerCase();return pr&&(pr==="input"&&(hr.type==="text"||hr.type==="search"||hr.type==="tel"||hr.type==="url"||hr.type==="password")||pr==="textarea"||hr.contentEditable==="true")}var Bd=hd&&"documentMode"in document&&11>=document.documentMode,Jo=null,_l=null,dl=null,Yl=!1;function mc(hr,pr,_r){var Cr=_r.window===_r?_r.document:_r.nodeType===9?_r:_r.ownerDocument;Yl||Jo==null||Jo!==Wh(Cr)||(Cr=Jo,"selectionStart"in Cr&&yp(Cr)?Cr={start:Cr.selectionStart,end:Cr.selectionEnd}:(Cr=(Cr.ownerDocument&&Cr.ownerDocument.defaultView||window).getSelection(),Cr={anchorNode:Cr.anchorNode,anchorOffset:Cr.anchorOffset,focusNode:Cr.focusNode,focusOffset:Cr.focusOffset}),dl&&Vp(dl,Cr)||(dl=Cr,Cr=yo(_l,"onSelect"),0<Cr.length&&(pr=new pm("onSelect","select",null,pr,_r),hr.push({event:pr,listeners:Cr}),pr.target=Jo)))}function kc(hr,pr){var _r={};return _r[hr.toLowerCase()]=pr.toLowerCase(),_r["Webkit"+hr]="webkit"+pr,_r["Moz"+hr]="moz"+pr,_r}var Ju={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionrun:kc("Transition","TransitionRun"),transitionstart:kc("Transition","TransitionStart"),transitioncancel:kc("Transition","TransitionCancel"),transitionend:kc("Transition","TransitionEnd")},Su={},Ng={};hd&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ju.animationend.animation,delete Ju.animationiteration.animation,delete Ju.animationstart.animation),"TransitionEvent"in window||delete Ju.transitionend.transition);function Vh(hr){if(Su[hr])return Su[hr];if(!Ju[hr])return hr;var pr=Ju[hr],_r;for(_r in pr)if(pr.hasOwnProperty(_r)&&_r in Ng)return Su[hr]=pr[_r];return hr}var Uh=Vh("animationend"),vp=Vh("animationiteration"),Up=Vh("animationstart"),bm=Vh("transitionrun"),bp=Vh("transitionstart"),_m=Vh("transitioncancel"),su=Vh("transitionend"),mx=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function Jh(hr,pr){mx.set(hr,pr),fh(pr,[hr])}var _p=typeof reportError=="function"?reportError:function(hr){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof hr=="object"&&hr!==null&&typeof hr.message=="string"?String(hr.message):String(hr),error:hr});if(!window.dispatchEvent(pr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",hr);return}console.error(hr)},zd=[],pd=0,Yh=0;function Oh(){for(var hr=pd,pr=Yh=pd=0;pr<hr;){var _r=zd[pr];zd[pr++]=null;var Cr=zd[pr];zd[pr++]=null;var Wr=zd[pr];zd[pr++]=null;var Xr=zd[pr];if(zd[pr++]=null,Cr!==null&&Wr!==null){var xo=Cr.pending;xo===null?Wr.next=Wr:(Wr.next=xo.next,xo.next=Wr),Cr.pending=Wr}Xr!==0&&Vf(_r,Wr,Xr)}}function cf(hr,pr,_r,Cr){zd[pd++]=hr,zd[pd++]=pr,zd[pd++]=_r,zd[pd++]=Cr,Yh|=Cr,hr.lanes|=Cr,hr=hr.alternate,hr!==null&&(hr.lanes|=Cr)}function ig(hr,pr,_r,Cr){return cf(hr,pr,_r,Cr),wm(hr)}function kd(hr,pr){return cf(hr,null,null,pr),wm(hr)}function Vf(hr,pr,_r){hr.lanes|=_r;var Cr=hr.alternate;Cr!==null&&(Cr.lanes|=_r);for(var Wr=!1,Xr=hr.return;Xr!==null;)Xr.childLanes|=_r,Cr=Xr.alternate,Cr!==null&&(Cr.childLanes|=_r),Xr.tag===22&&(hr=Xr.stateNode,hr===null||hr._visibility&1||(Wr=!0)),hr=Xr,Xr=Xr.return;return hr.tag===3?(Xr=hr.stateNode,Wr&&pr!==null&&(Wr=31-fl(_r),hr=Xr.hiddenUpdates,Cr=hr[Wr],Cr===null?hr[Wr]=[pr]:Cr.push(pr),pr.lane=_r|536870912),Xr):null}function wm(hr){if(50<Vx)throw Vx=0,Bv=null,Error(nr(185));for(var pr=hr.return;pr!==null;)hr=pr,pr=hr.return;return hr.tag===3?hr.stateNode:null}var Cf={};function gx(hr,pr,_r,Cr){this.tag=hr,this.key=_r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=pr,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Cr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ph(hr,pr,_r,Cr){return new gx(hr,pr,_r,Cr)}function Hd(hr){return hr=hr.prototype,!(!hr||!hr.isReactComponent)}function Vu(hr,pr){var _r=hr.alternate;return _r===null?(_r=Ph(hr.tag,pr,hr.key,hr.mode),_r.elementType=hr.elementType,_r.type=hr.type,_r.stateNode=hr.stateNode,_r.alternate=hr,hr.alternate=_r):(_r.pendingProps=pr,_r.type=hr.type,_r.flags=0,_r.subtreeFlags=0,_r.deletions=null),_r.flags=hr.flags&65011712,_r.childLanes=hr.childLanes,_r.lanes=hr.lanes,_r.child=hr.child,_r.memoizedProps=hr.memoizedProps,_r.memoizedState=hr.memoizedState,_r.updateQueue=hr.updateQueue,pr=hr.dependencies,_r.dependencies=pr===null?null:{lanes:pr.lanes,firstContext:pr.firstContext},_r.sibling=hr.sibling,_r.index=hr.index,_r.ref=hr.ref,_r.refCleanup=hr.refCleanup,_r}function ju(hr,pr){hr.flags&=65011714;var _r=hr.alternate;return _r===null?(hr.childLanes=0,hr.lanes=pr,hr.child=null,hr.subtreeFlags=0,hr.memoizedProps=null,hr.memoizedState=null,hr.updateQueue=null,hr.dependencies=null,hr.stateNode=null):(hr.childLanes=_r.childLanes,hr.lanes=_r.lanes,hr.child=_r.child,hr.subtreeFlags=0,hr.deletions=null,hr.memoizedProps=_r.memoizedProps,hr.memoizedState=_r.memoizedState,hr.updateQueue=_r.updateQueue,hr.type=_r.type,pr=_r.dependencies,hr.dependencies=pr===null?null:{lanes:pr.lanes,firstContext:pr.firstContext}),hr}function rg(hr,pr,_r,Cr,Wr,Xr){var xo=0;if(Cr=hr,typeof hr=="function")Hd(hr)&&(xo=1);else if(typeof hr=="string")xo=K0(hr,_r,bo.current)?26:hr==="html"||hr==="head"||hr==="body"?27:5;else e:switch(hr){case Gr:return hr=Ph(31,_r,pr,Wr),hr.elementType=Gr,hr.lanes=Xr,hr;case yr:return wp(_r.children,Wr,Xr,pr);case vr:xo=8,Wr|=24;break;case jr:return hr=Ph(12,_r,pr,Wr|2),hr.elementType=jr,hr.lanes=Xr,hr;case Mr:return hr=Ph(13,_r,pr,Wr),hr.elementType=Mr,hr.lanes=Xr,hr;case Nr:return hr=Ph(19,_r,pr,Wr),hr.elementType=Nr,hr.lanes=Xr,hr;default:if(typeof hr=="object"&&hr!==null)switch(hr.$$typeof){case Tr:xo=10;break e;case Sr:xo=9;break e;case Lr:xo=11;break e;case Or:xo=14;break e;case Fr:xo=16,Cr=null;break e}xo=29,_r=Error(nr(130,hr===null?"null":typeof hr,"")),Cr=null}return pr=Ph(xo,_r,pr,Wr),pr.elementType=hr,pr.type=Cr,pr.lanes=Xr,pr}function wp(hr,pr,_r,Cr){return hr=Ph(7,hr,Cr,pr),hr.lanes=_r,hr}function Uf(hr,pr,_r){return hr=Ph(6,hr,null,pr),hr.lanes=_r,hr}function Yf(hr){var pr=Ph(18,null,null,0);return pr.stateNode=hr,pr}function Mu(hr,pr,_r){return pr=Ph(4,hr.children!==null?hr.children:[],hr.key,pr),pr.lanes=_r,pr.stateNode={containerInfo:hr.containerInfo,pendingChildren:null,implementation:hr.implementation},pr}var xr=new WeakMap;function Rr(hr,pr){if(typeof hr=="object"&&hr!==null){var _r=xr.get(hr);return _r!==void 0?_r:(pr={value:hr,source:pr,stack:Wl(pr)},xr.set(hr,pr),pr)}return{value:hr,source:pr,stack:Wl(pr)}}var Br=[],Qr=0,ho=null,jo=0,zo=[],tl=0,Qo=null,Sl=1,Il="";function ic(hr,pr){Br[Qr++]=jo,Br[Qr++]=ho,ho=hr,jo=pr}function $c(hr,pr,_r){zo[tl++]=Sl,zo[tl++]=Il,zo[tl++]=Qo,Qo=hr;var Cr=Sl;hr=Il;var Wr=32-fl(Cr)-1;Cr&=~(1<<Wr),_r+=1;var Xr=32-fl(pr)+Wr;if(30<Xr){var xo=Wr-Wr%5;Xr=(Cr&(1<<xo)-1).toString(32),Cr>>=xo,Wr-=xo,Sl=1<<32-fl(pr)+Wr|_r<<Wr|Cr,Il=Xr+hr}else Sl=1<<Xr|_r<<Wr|Cr,Il=hr}function lh(hr){hr.return!==null&&(ic(hr,1),$c(hr,1,0))}function Tu(hr){for(;hr===ho;)ho=Br[--Qr],Br[Qr]=null,jo=Br[--Qr],Br[Qr]=null;for(;hr===Qo;)Qo=zo[--tl],zo[tl]=null,Il=zo[--tl],zo[tl]=null,Sl=zo[--tl],zo[tl]=null}function Lh(hr,pr){zo[tl++]=Sl,zo[tl++]=Il,zo[tl++]=Qo,Sl=pr.id,Il=pr.overflow,Qo=hr}var fu=null,iu=null,Xc=!1,Ep=null,Ad=!1,Og=Error(nr(519));function Sp(hr){var pr=Error(nr(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rp(Rr(pr,hr)),Og}function Em(hr){var pr=hr.stateNode,_r=hr.type,Cr=hr.memoizedProps;switch(pr[Mc]=hr,pr[eu]=Cr,_r){case"dialog":eo("cancel",pr),eo("close",pr);break;case"iframe":case"object":case"embed":eo("load",pr);break;case"video":case"audio":for(_r=0;_r<Ir.length;_r++)eo(Ir[_r],pr);break;case"source":eo("error",pr);break;case"img":case"image":case"link":eo("error",pr),eo("load",pr);break;case"details":eo("toggle",pr);break;case"input":eo("invalid",pr),Jd(pr,Cr.value,Cr.defaultValue,Cr.checked,Cr.defaultChecked,Cr.type,Cr.name,!0);break;case"select":eo("invalid",pr);break;case"textarea":eo("invalid",pr),No(pr,Cr.value,Cr.defaultValue,Cr.children)}_r=Cr.children,typeof _r!="string"&&typeof _r!="number"&&typeof _r!="bigint"||pr.textContent===""+_r||Cr.suppressHydrationWarning===!0||qo(pr.textContent,_r)?(Cr.popover!=null&&(eo("beforetoggle",pr),eo("toggle",pr)),Cr.onScroll!=null&&eo("scroll",pr),Cr.onScrollEnd!=null&&eo("scrollend",pr),Cr.onClick!=null&&(pr.onclick=Qu),pr=!0):pr=!1,pr||Sp(hr,!0)}function Uu(hr){for(fu=hr.return;fu;)switch(fu.tag){case 5:case 31:case 13:Ad=!1;return;case 27:case 3:Ad=!0;return;default:fu=fu.return}}function kf(hr){if(hr!==fu)return!1;if(!Xc)return Uu(hr),Xc=!0,!1;var pr=hr.tag,_r;if((_r=pr!==3&&pr!==27)&&((_r=pr===5)&&(_r=hr.type,_r=!(_r!=="form"&&_r!=="button")||Tc(hr.type,hr.memoizedProps)),_r=!_r),_r&&iu&&Sp(hr),Uu(hr),pr===13){if(hr=hr.memoizedState,hr=hr!==null?hr.dehydrated:null,!hr)throw Error(nr(317));iu=Sg(hr)}else if(pr===31){if(hr=hr.memoizedState,hr=hr!==null?hr.dehydrated:null,!hr)throw Error(nr(317));iu=Sg(hr)}else pr===27?(pr=iu,zl(hr.type)?(hr=xf,xf=null,iu=hr):iu=pr):iu=fu?_d(hr.stateNode.nextSibling):null;return!0}function ko(){iu=fu=null,Xc=!1}function jp(){var hr=Ep;return hr!==null&&(Zd===null?Zd=hr:Zd.push.apply(Zd,hr),Ep=null),hr}function Rp(hr){Ep===null?Ep=[hr]:Ep.push(hr)}var $h=no(null),Ac=null,Dh=null;function Sm(hr,pr,_r){Eo($h,pr._currentValue),pr._currentValue=_r}function Yp(hr){hr._currentValue=$h.current,mo($h)}function Xp(hr,pr,_r){for(;hr!==null;){var Cr=hr.alternate;if((hr.childLanes&pr)!==pr?(hr.childLanes|=pr,Cr!==null&&(Cr.childLanes|=pr)):Cr!==null&&(Cr.childLanes&pr)!==pr&&(Cr.childLanes|=pr),hr===_r)break;hr=hr.return}}function ly(hr,pr,_r,Cr){var Wr=hr.child;for(Wr!==null&&(Wr.return=hr);Wr!==null;){var Xr=Wr.dependencies;if(Xr!==null){var xo=Wr.child;Xr=Xr.firstContext;e:for(;Xr!==null;){var Ao=Xr;Xr=Wr;for(var Vo=0;Vo<pr.length;Vo++)if(Ao.context===pr[Vo]){Xr.lanes|=_r,Ao=Xr.alternate,Ao!==null&&(Ao.lanes|=_r),Xp(Xr.return,_r,hr),Cr||(xo=null);break e}Xr=Ao.next}}else if(Wr.tag===18){if(xo=Wr.return,xo===null)throw Error(nr(341));xo.lanes|=_r,Xr=xo.alternate,Xr!==null&&(Xr.lanes|=_r),Xp(xo,_r,hr),xo=null}else xo=Wr.child;if(xo!==null)xo.return=Wr;else for(xo=Wr;xo!==null;){if(xo===hr){xo=null;break}if(Wr=xo.sibling,Wr!==null){Wr.return=xo.return,xo=Wr;break}xo=xo.return}Wr=xo}}function Lg(hr,pr,_r,Cr){hr=null;for(var Wr=pr,Xr=!1;Wr!==null;){if(!Xr){if((Wr.flags&524288)!==0)Xr=!0;else if((Wr.flags&262144)!==0)break}if(Wr.tag===10){var xo=Wr.alternate;if(xo===null)throw Error(nr(387));if(xo=xo.memoizedProps,xo!==null){var Ao=Wr.type;zu(Wr.pendingProps.value,xo.value)||(hr!==null?hr.push(Ao):hr=[Ao])}}else if(Wr===To.current){if(xo=Wr.alternate,xo===null)throw Error(nr(387));xo.memoizedState.memoizedState!==Wr.memoizedState.memoizedState&&(hr!==null?hr.push(lv):hr=[lv])}Wr=Wr.return}hr!==null&&ly(pr,hr,_r,Cr),pr.flags|=262144}function cy(hr){for(hr=hr.firstContext;hr!==null;){if(!zu(hr.context._currentValue,hr.memoizedValue))return!0;hr=hr.next}return!1}function Cp(hr){Ac=hr,Dh=null,hr=hr.dependencies,hr!==null&&(hr.firstContext=null)}function ed(hr){return tb(Ac,hr)}function uf(hr,pr){return Ac===null&&Cp(hr),tb(hr,pr)}function tb(hr,pr){var _r=pr._currentValue;if(pr={context:pr,memoizedValue:_r,next:null},Dh===null){if(hr===null)throw Error(nr(308));Dh=pr,hr.dependencies={lanes:0,firstContext:pr},hr.flags|=524288}else Dh=Dh.next=pr;return _r}var qb=typeof AbortController<"u"?AbortController:function(){var hr=[],pr=this.signal={aborted:!1,addEventListener:function(_r,Cr){hr.push(Cr)}};this.abort=function(){pr.aborted=!0,hr.forEach(function(_r){return _r()})}},nb=tr.unstable_scheduleCallback,Kb=tr.unstable_NormalPriority,Mh={$$typeof:Tr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new qb,data:new Map,refCount:0}}function kp(hr){hr.refCount--,hr.refCount===0&&nb(Kb,function(){hr.controller.abort()})}var $g=null,dv=0,Ig=0,jm=null;function Rm(hr,pr){if($g===null){var _r=$g=[];dv=0,Ig=pf(),jm={status:"pending",value:void 0,then:function(Cr){_r.push(Cr)}}}return dv++,pr.then(ib,ib),pr}function ib(){if(--dv===0&&$g!==null){jm!==null&&(jm.status="fulfilled");var hr=$g;$g=null,Ig=0,jm=null;for(var pr=0;pr<hr.length;pr++)(0,hr[pr])()}}function Zb(hr,pr){var _r=[],Cr={status:"pending",value:null,reason:null,then:function(Wr){_r.push(Wr)}};return hr.then(function(){Cr.status="fulfilled",Cr.value=pr;for(var Wr=0;Wr<_r.length;Wr++)(0,_r[Wr])(pr)},function(Wr){for(Cr.status="rejected",Cr.reason=Wr,Wr=0;Wr<_r.length;Wr++)(0,_r[Wr])(void 0)}),Cr}var Af=ao.S;ao.S=function(hr,pr){$v=oc(),typeof pr=="object"&&pr!==null&&typeof pr.then=="function"&&Rm(hr,pr),Af!==null&&Af(hr,pr)};var qp=no(null);function fv(){var hr=qp.current;return hr!==null?hr:Xu.pooledCache}function Kp(hr,pr){pr===null?Eo(qp,qp.current):Eo(qp,pr.pool)}function rb(){var hr=fv();return hr===null?null:{parent:Mh._currentValue,pool:hr}}var Cm=Error(nr(460)),uy=Error(nr(474)),sg=Error(nr(542)),xx={then:function(){}};function sb(hr){return hr=hr.status,hr==="fulfilled"||hr==="rejected"}function hy(hr,pr,_r){switch(_r=hr[_r],_r===void 0?hr.push(pr):_r!==pr&&(pr.then(Qu,Qu),pr=_r),pr.status){case"fulfilled":return pr.value;case"rejected":throw hr=pr.reason,pv(hr),hr;default:if(typeof pr.status=="string")pr.then(Qu,Qu);else{if(hr=Xu,hr!==null&&100<hr.shellSuspendCounter)throw Error(nr(482));hr=pr,hr.status="pending",hr.then(function(Cr){if(pr.status==="pending"){var Wr=pr;Wr.status="fulfilled",Wr.value=Cr}},function(Cr){if(pr.status==="pending"){var Wr=pr;Wr.status="rejected",Wr.reason=Cr}})}switch(pr.status){case"fulfilled":return pr.value;case"rejected":throw hr=pr.reason,pv(hr),hr}throw Ap=pr,Cm}}function qf(hr){try{var pr=hr._init;return pr(hr._payload)}catch(_r){throw _r!==null&&typeof _r=="object"&&typeof _r.then=="function"?(Ap=_r,Cm):_r}}var Ap=null;function ab(){if(Ap===null)throw Error(nr(459));var hr=Ap;return Ap=null,hr}function pv(hr){if(hr===Cm||hr===sg)throw Error(nr(483))}var Zp=null,Td=0;function Fg(hr){var pr=Td;return Td+=1,Zp===null&&(Zp=[]),hy(Zp,hr,pr)}function Kf(hr,pr){pr=pr.props.ref,hr.ref=pr!==void 0?pr:null}function Pd(hr,pr){throw pr.$$typeof===dr?Error(nr(525)):(hr=Object.prototype.toString.call(pr),Error(nr(31,hr==="[object Object]"?"object with keys {"+Object.keys(pr).join(", ")+"}":hr)))}function Qp(hr){function pr(nl,Zo){if(hr){var ll=nl.deletions;ll===null?(nl.deletions=[Zo],nl.flags|=16):ll.push(Zo)}}function _r(nl,Zo){if(!hr)return null;for(;Zo!==null;)pr(nl,Zo),Zo=Zo.sibling;return null}function Cr(nl){for(var Zo=new Map;nl!==null;)nl.key!==null?Zo.set(nl.key,nl):Zo.set(nl.index,nl),nl=nl.sibling;return Zo}function Wr(nl,Zo){return nl=Vu(nl,Zo),nl.index=0,nl.sibling=null,nl}function Xr(nl,Zo,ll){return nl.index=ll,hr?(ll=nl.alternate,ll!==null?(ll=ll.index,ll<Zo?(nl.flags|=67108866,Zo):ll):(nl.flags|=67108866,Zo)):(nl.flags|=1048576,Zo)}function xo(nl){return hr&&nl.alternate===null&&(nl.flags|=67108866),nl}function Ao(nl,Zo,ll,jl){return Zo===null||Zo.tag!==6?(Zo=Uf(ll,nl.mode,jl),Zo.return=nl,Zo):(Zo=Wr(Zo,ll),Zo.return=nl,Zo)}function Vo(nl,Zo,ll,jl){var pc=ll.type;return pc===yr?wl(nl,Zo,ll.props.children,jl,ll.key):Zo!==null&&(Zo.elementType===pc||typeof pc=="object"&&pc!==null&&pc.$$typeof===Fr&&qf(pc)===Zo.type)?(Zo=Wr(Zo,ll.props),Kf(Zo,ll),Zo.return=nl,Zo):(Zo=rg(ll.type,ll.key,ll.props,null,nl.mode,jl),Kf(Zo,ll),Zo.return=nl,Zo)}function cl(nl,Zo,ll,jl){return Zo===null||Zo.tag!==4||Zo.stateNode.containerInfo!==ll.containerInfo||Zo.stateNode.implementation!==ll.implementation?(Zo=Mu(ll,nl.mode,jl),Zo.return=nl,Zo):(Zo=Wr(Zo,ll.children||[]),Zo.return=nl,Zo)}function wl(nl,Zo,ll,jl,pc){return Zo===null||Zo.tag!==7?(Zo=wp(ll,nl.mode,jl,pc),Zo.return=nl,Zo):(Zo=Wr(Zo,ll),Zo.return=nl,Zo)}function Rl(nl,Zo,ll){if(typeof Zo=="string"&&Zo!==""||typeof Zo=="number"||typeof Zo=="bigint")return Zo=Uf(""+Zo,nl.mode,ll),Zo.return=nl,Zo;if(typeof Zo=="object"&&Zo!==null){switch(Zo.$$typeof){case fr:return ll=rg(Zo.type,Zo.key,Zo.props,null,nl.mode,ll),Kf(ll,Zo),ll.return=nl,ll;case gr:return Zo=Mu(Zo,nl.mode,ll),Zo.return=nl,Zo;case Fr:return Zo=qf(Zo),Rl(nl,Zo,ll)}if(fo(Zo)||Yr(Zo))return Zo=wp(Zo,nl.mode,ll,null),Zo.return=nl,Zo;if(typeof Zo.then=="function")return Rl(nl,Fg(Zo),ll);if(Zo.$$typeof===Tr)return Rl(nl,uf(nl,Zo),ll);Pd(nl,Zo)}return null}function hl(nl,Zo,ll,jl){var pc=Zo!==null?Zo.key:null;if(typeof ll=="string"&&ll!==""||typeof ll=="number"||typeof ll=="bigint")return pc!==null?null:Ao(nl,Zo,""+ll,jl);if(typeof ll=="object"&&ll!==null){switch(ll.$$typeof){case fr:return ll.key===pc?Vo(nl,Zo,ll,jl):null;case gr:return ll.key===pc?cl(nl,Zo,ll,jl):null;case Fr:return ll=qf(ll),hl(nl,Zo,ll,jl)}if(fo(ll)||Yr(ll))return pc!==null?null:wl(nl,Zo,ll,jl,null);if(typeof ll.then=="function")return hl(nl,Zo,Fg(ll),jl);if(ll.$$typeof===Tr)return hl(nl,Zo,uf(nl,ll),jl);Pd(nl,ll)}return null}function gl(nl,Zo,ll,jl,pc){if(typeof jl=="string"&&jl!==""||typeof jl=="number"||typeof jl=="bigint")return nl=nl.get(ll)||null,Ao(Zo,nl,""+jl,pc);if(typeof jl=="object"&&jl!==null){switch(jl.$$typeof){case fr:return nl=nl.get(jl.key===null?ll:jl.key)||null,Vo(Zo,nl,jl,pc);case gr:return nl=nl.get(jl.key===null?ll:jl.key)||null,cl(Zo,nl,jl,pc);case Fr:return jl=qf(jl),gl(nl,Zo,ll,jl,pc)}if(fo(jl)||Yr(jl))return nl=nl.get(ll)||null,wl(Zo,nl,jl,pc,null);if(typeof jl.then=="function")return gl(nl,Zo,ll,Fg(jl),pc);if(jl.$$typeof===Tr)return gl(nl,Zo,ll,uf(Zo,jl),pc);Pd(Zo,jl)}return null}function rc(nl,Zo,ll,jl){for(var pc=null,Lu=null,lc=Zo,Jc=Zo=0,xu=null;lc!==null&&Jc<ll.length;Jc++){lc.index>Jc?(xu=lc,lc=null):xu=lc.sibling;var $u=hl(nl,lc,ll[Jc],jl);if($u===null){lc===null&&(lc=xu);break}hr&&lc&&$u.alternate===null&&pr(nl,lc),Zo=Xr($u,Zo,Jc),Lu===null?pc=$u:Lu.sibling=$u,Lu=$u,lc=xu}if(Jc===ll.length)return _r(nl,lc),Xc&&ic(nl,Jc),pc;if(lc===null){for(;Jc<ll.length;Jc++)lc=Rl(nl,ll[Jc],jl),lc!==null&&(Zo=Xr(lc,Zo,Jc),Lu===null?pc=lc:Lu.sibling=lc,Lu=lc);return Xc&&ic(nl,Jc),pc}for(lc=Cr(lc);Jc<ll.length;Jc++)xu=gl(lc,nl,Jc,ll[Jc],jl),xu!==null&&(hr&&xu.alternate!==null&&lc.delete(xu.key===null?Jc:xu.key),Zo=Xr(xu,Zo,Jc),Lu===null?pc=xu:Lu.sibling=xu,Lu=xu);return hr&&lc.forEach(function(cx){return pr(nl,cx)}),Xc&&ic(nl,Jc),pc}function Sc(nl,Zo,ll,jl){if(ll==null)throw Error(nr(151));for(var pc=null,Lu=null,lc=Zo,Jc=Zo=0,xu=null,$u=ll.next();lc!==null&&!$u.done;Jc++,$u=ll.next()){lc.index>Jc?(xu=lc,lc=null):xu=lc.sibling;var cx=hl(nl,lc,$u.value,jl);if(cx===null){lc===null&&(lc=xu);break}hr&&lc&&cx.alternate===null&&pr(nl,lc),Zo=Xr(cx,Zo,Jc),Lu===null?pc=cx:Lu.sibling=cx,Lu=cx,lc=xu}if($u.done)return _r(nl,lc),Xc&&ic(nl,Jc),pc;if(lc===null){for(;!$u.done;Jc++,$u=ll.next())$u=Rl(nl,$u.value,jl),$u!==null&&(Zo=Xr($u,Zo,Jc),Lu===null?pc=$u:Lu.sibling=$u,Lu=$u);return Xc&&ic(nl,Jc),pc}for(lc=Cr(lc);!$u.done;Jc++,$u=ll.next())$u=gl(lc,nl,Jc,$u.value,jl),$u!==null&&(hr&&$u.alternate!==null&&lc.delete($u.key===null?Jc:$u.key),Zo=Xr($u,Zo,Jc),Lu===null?pc=$u:Lu.sibling=$u,Lu=$u);return hr&&lc.forEach(function(s1){return pr(nl,s1)}),Xc&&ic(nl,Jc),pc}function sh(nl,Zo,ll,jl){if(typeof ll=="object"&&ll!==null&&ll.type===yr&&ll.key===null&&(ll=ll.props.children),typeof ll=="object"&&ll!==null){switch(ll.$$typeof){case fr:e:{for(var pc=ll.key;Zo!==null;){if(Zo.key===pc){if(pc=ll.type,pc===yr){if(Zo.tag===7){_r(nl,Zo.sibling),jl=Wr(Zo,ll.props.children),jl.return=nl,nl=jl;break e}}else if(Zo.elementType===pc||typeof pc=="object"&&pc!==null&&pc.$$typeof===Fr&&qf(pc)===Zo.type){_r(nl,Zo.sibling),jl=Wr(Zo,ll.props),Kf(jl,ll),jl.return=nl,nl=jl;break e}_r(nl,Zo);break}else pr(nl,Zo);Zo=Zo.sibling}ll.type===yr?(jl=wp(ll.props.children,nl.mode,jl,ll.key),jl.return=nl,nl=jl):(jl=rg(ll.type,ll.key,ll.props,null,nl.mode,jl),Kf(jl,ll),jl.return=nl,nl=jl)}return xo(nl);case gr:e:{for(pc=ll.key;Zo!==null;){if(Zo.key===pc)if(Zo.tag===4&&Zo.stateNode.containerInfo===ll.containerInfo&&Zo.stateNode.implementation===ll.implementation){_r(nl,Zo.sibling),jl=Wr(Zo,ll.children||[]),jl.return=nl,nl=jl;break e}else{_r(nl,Zo);break}else pr(nl,Zo);Zo=Zo.sibling}jl=Mu(ll,nl.mode,jl),jl.return=nl,nl=jl}return xo(nl);case Fr:return ll=qf(ll),sh(nl,Zo,ll,jl)}if(fo(ll))return rc(nl,Zo,ll,jl);if(Yr(ll)){if(pc=Yr(ll),typeof pc!="function")throw Error(nr(150));return ll=pc.call(ll),Sc(nl,Zo,ll,jl)}if(typeof ll.then=="function")return sh(nl,Zo,Fg(ll),jl);if(ll.$$typeof===Tr)return sh(nl,Zo,uf(nl,ll),jl);Pd(nl,ll)}return typeof ll=="string"&&ll!==""||typeof ll=="number"||typeof ll=="bigint"?(ll=""+ll,Zo!==null&&Zo.tag===6?(_r(nl,Zo.sibling),jl=Wr(Zo,ll),jl.return=nl,nl=jl):(_r(nl,Zo),jl=Uf(ll,nl.mode,jl),jl.return=nl,nl=jl),xo(nl)):_r(nl,Zo)}return function(nl,Zo,ll,jl){try{Td=0;var pc=sh(nl,Zo,ll,jl);return Zp=null,pc}catch(lc){if(lc===Cm||lc===sg)throw lc;var Lu=Ph(29,lc,null,nl.mode);return Lu.lanes=jl,Lu.return=nl,Lu}finally{}}}var Zf=Qp(!0),dy=Qp(!1),Ih=!1;function Tp(hr){hr.updateQueue={baseState:hr.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yx(hr,pr){hr=hr.updateQueue,pr.updateQueue===hr&&(pr.updateQueue={baseState:hr.baseState,firstBaseUpdate:hr.firstBaseUpdate,lastBaseUpdate:hr.lastBaseUpdate,shared:hr.shared,callbacks:null})}function km(hr){return{lane:hr,tag:0,payload:null,callback:null,next:null}}function Dd(hr,pr,_r){var Cr=hr.updateQueue;if(Cr===null)return null;if(Cr=Cr.shared,(pu&2)!==0){var Wr=Cr.pending;return Wr===null?pr.next=pr:(pr.next=Wr.next,Wr.next=pr),Cr.pending=pr,pr=wm(hr),Vf(hr,null,_r),pr}return cf(hr,Cr,pr,_r),wm(hr)}function Tf(hr,pr,_r){if(pr=pr.updateQueue,pr!==null&&(pr=pr.shared,(_r&4194048)!==0)){var Cr=pr.lanes;Cr&=hr.pendingLanes,_r|=Cr,pr.lanes=_r,bl(hr,_r)}}function fy(hr,pr){var _r=hr.updateQueue,Cr=hr.alternate;if(Cr!==null&&(Cr=Cr.updateQueue,_r===Cr)){var Wr=null,Xr=null;if(_r=_r.firstBaseUpdate,_r!==null){do{var xo={lane:_r.lane,tag:_r.tag,payload:_r.payload,callback:null,next:null};Xr===null?Wr=Xr=xo:Xr=Xr.next=xo,_r=_r.next}while(_r!==null);Xr===null?Wr=Xr=pr:Xr=Xr.next=pr}else Wr=Xr=pr;_r={baseState:Cr.baseState,firstBaseUpdate:Wr,lastBaseUpdate:Xr,shared:Cr.shared,callbacks:Cr.callbacks},hr.updateQueue=_r;return}hr=_r.lastBaseUpdate,hr===null?_r.firstBaseUpdate=pr:hr.next=pr,_r.lastBaseUpdate=pr}var Rh=!1;function ag(){if(Rh){var hr=jm;if(hr!==null)throw hr}}function Bg(hr,pr,_r,Cr){Rh=!1;var Wr=hr.updateQueue;Ih=!1;var Xr=Wr.firstBaseUpdate,xo=Wr.lastBaseUpdate,Ao=Wr.shared.pending;if(Ao!==null){Wr.shared.pending=null;var Vo=Ao,cl=Vo.next;Vo.next=null,xo===null?Xr=cl:xo.next=cl,xo=Vo;var wl=hr.alternate;wl!==null&&(wl=wl.updateQueue,Ao=wl.lastBaseUpdate,Ao!==xo&&(Ao===null?wl.firstBaseUpdate=cl:Ao.next=cl,wl.lastBaseUpdate=Vo))}if(Xr!==null){var Rl=Wr.baseState;xo=0,wl=cl=Vo=null,Ao=Xr;do{var hl=Ao.lane&-536870913,gl=hl!==Ao.lane;if(gl?(lu&hl)===hl:(Cr&hl)===hl){hl!==0&&hl===Ig&&(Rh=!0),wl!==null&&(wl=wl.next={lane:0,tag:Ao.tag,payload:Ao.payload,callback:null,next:null});e:{var rc=hr,Sc=Ao;hl=pr;var sh=_r;switch(Sc.tag){case 1:if(rc=Sc.payload,typeof rc=="function"){Rl=rc.call(sh,Rl,hl);break e}Rl=rc;break e;case 3:rc.flags=rc.flags&-65537|128;case 0:if(rc=Sc.payload,hl=typeof rc=="function"?rc.call(sh,Rl,hl):rc,hl==null)break e;Rl=ur({},Rl,hl);break e;case 2:Ih=!0}}hl=Ao.callback,hl!==null&&(hr.flags|=64,gl&&(hr.flags|=8192),gl=Wr.callbacks,gl===null?Wr.callbacks=[hl]:gl.push(hl))}else gl={lane:hl,tag:Ao.tag,payload:Ao.payload,callback:Ao.callback,next:null},wl===null?(cl=wl=gl,Vo=Rl):wl=wl.next=gl,xo|=hl;if(Ao=Ao.next,Ao===null){if(Ao=Wr.shared.pending,Ao===null)break;gl=Ao,Ao=gl.next,gl.next=null,Wr.lastBaseUpdate=gl,Wr.shared.pending=null}}while(!0);wl===null&&(Vo=Rl),Wr.baseState=Vo,Wr.firstBaseUpdate=cl,Wr.lastBaseUpdate=wl,Xr===null&&(Wr.shared.lanes=0),Bm|=xo,hr.lanes=xo,hr.memoizedState=Rl}}function Eh(hr,pr){if(typeof hr!="function")throw Error(nr(191,hr));hr.call(pr)}function py(hr,pr){var _r=hr.callbacks;if(_r!==null)for(hr.callbacks=null,hr=0;hr<_r.length;hr++)Eh(_r[hr],pr)}var Qf=no(null),Pf=no(0);function my(hr,pr){hr=cp,Eo(Pf,hr),Eo(Qf,pr),cp=hr|pr.baseLanes}function xh(){Eo(Pf,cp),Eo(Qf,Qf.current)}function Am(){cp=Pf.current,mo(Qf),mo(Pf)}var md=no(null),Df=null;function Tm(hr){var pr=hr.alternate;Eo(Sh,Sh.current&1),Eo(md,hr),Df===null&&(pr===null||Qf.current!==null||pr.memoizedState!==null)&&(Df=hr)}function Wd(hr){Eo(Sh,Sh.current),Eo(md,hr),Df===null&&(Df=hr)}function ob(hr){hr.tag===22?(Eo(Sh,Sh.current),Eo(md,hr),Df===null&&(Df=hr)):hf()}function hf(){Eo(Sh,Sh.current),Eo(md,md.current)}function Ru(hr){mo(md),Df===hr&&(Df=null),mo(Sh)}var Sh=no(0);function gy(hr){for(var pr=hr;pr!==null;){if(pr.tag===13){var _r=pr.memoizedState;if(_r!==null&&(_r=_r.dehydrated,_r===null||mf(_r)||gf(_r)))return pr}else if(pr.tag===19&&(pr.memoizedProps.revealOrder==="forwards"||pr.memoizedProps.revealOrder==="backwards"||pr.memoizedProps.revealOrder==="unstable_legacy-backwards"||pr.memoizedProps.revealOrder==="together")){if((pr.flags&128)!==0)return pr}else if(pr.child!==null){pr.child.return=pr,pr=pr.child;continue}if(pr===hr)break;for(;pr.sibling===null;){if(pr.return===null||pr.return===hr)return null;pr=pr.return}pr.sibling.return=pr.return,pr=pr.sibling}return null}var Gd=0,Oc=null,Cu=null,eh=null,Pm=!1,zg=!1,og=!1,vx=0,lg=0,Jp=null,Qb=0;function yh(){throw Error(nr(321))}function xy(hr,pr){if(pr===null)return!1;for(var _r=0;_r<pr.length&&_r<hr.length;_r++)if(!zu(hr[_r],pr[_r]))return!1;return!0}function nh(hr,pr,_r,Cr,Wr,Xr){return Gd=Xr,Oc=pr,pr.memoizedState=null,pr.updateQueue=null,pr.lanes=0,ao.H=hr===null||hr.memoizedState===null?Sv:Vg,og=!1,Xr=_r(Cr,Wr),og=!1,zg&&(Xr=bx(pr,_r,Cr,Wr)),yy(hr),Xr}function yy(hr){ao.H=Np;var pr=Cu!==null&&Cu.next!==null;if(Gd=0,eh=Cu=Oc=null,Pm=!1,lg=0,Jp=null,pr)throw Error(nr(300));hr===null||uh||(hr=hr.dependencies,hr!==null&&cy(hr)&&(uh=!0))}function bx(hr,pr,_r,Cr){Oc=hr;var Wr=0;do{if(zg&&(Jp=null),lg=0,zg=!1,25<=Wr)throw Error(nr(301));if(Wr+=1,eh=Cu=null,hr.updateQueue!=null){var Xr=hr.updateQueue;Xr.lastEffect=null,Xr.events=null,Xr.stores=null,Xr.memoCache!=null&&(Xr.memoCache.index=0)}ao.H=Md,Xr=pr(_r,Cr)}while(zg);return Xr}function vy(){var hr=ao.H,pr=hr.useState()[0];return pr=typeof pr.then=="function"?cg(pr):pr,hr=hr.useState()[0],(Cu!==null?Cu.memoizedState:null)!==hr&&(Oc.flags|=1024),pr}function by(){var hr=vx!==0;return vx=0,hr}function _y(hr,pr,_r){pr.updateQueue=hr.updateQueue,pr.flags&=-2053,hr.lanes&=~_r}function mv(hr){if(Pm){for(hr=hr.memoizedState;hr!==null;){var pr=hr.queue;pr!==null&&(pr.pending=null),hr=hr.next}Pm=!1}Gd=0,eh=Cu=Oc=null,zg=!1,lg=vx=0,Jp=null}function Ch(){var hr={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return eh===null?Oc.memoizedState=eh=hr:eh=eh.next=hr,eh}function kh(){if(Cu===null){var hr=Oc.alternate;hr=hr!==null?hr.memoizedState:null}else hr=Cu.next;var pr=eh===null?Oc.memoizedState:eh.next;if(pr!==null)eh=pr,Cu=hr;else{if(hr===null)throw Oc.alternate===null?Error(nr(467)):Error(nr(310));Cu=hr,hr={memoizedState:Cu.memoizedState,baseState:Cu.baseState,baseQueue:Cu.baseQueue,queue:Cu.queue,next:null},eh===null?Oc.memoizedState=eh=hr:eh=eh.next=hr}return eh}function Dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cg(hr){var pr=lg;return lg+=1,Jp===null&&(Jp=[]),hr=hy(Jp,hr,pr),pr=Oc,(eh===null?pr.memoizedState:eh.next)===null&&(pr=pr.alternate,ao.H=pr===null||pr.memoizedState===null?Sv:Vg),hr}function ug(hr){if(hr!==null&&typeof hr=="object"){if(typeof hr.then=="function")return cg(hr);if(hr.$$typeof===Tr)return ed(hr)}throw Error(nr(438,String(hr)))}function wy(hr){var pr=null,_r=Oc.updateQueue;if(_r!==null&&(pr=_r.memoCache),pr==null){var Cr=Oc.alternate;Cr!==null&&(Cr=Cr.updateQueue,Cr!==null&&(Cr=Cr.memoCache,Cr!=null&&(pr={data:Cr.data.map(function(Wr){return Wr.slice()}),index:0})))}if(pr==null&&(pr={data:[],index:0}),_r===null&&(_r=Dm(),Oc.updateQueue=_r),_r.memoCache=pr,_r=pr.data[pr.index],_r===void 0)for(_r=pr.data[pr.index]=Array(hr),Cr=0;Cr<hr;Cr++)_r[Cr]=qr;return pr.index++,_r}function Jf(hr,pr){return typeof pr=="function"?pr(hr):pr}function sc(hr){var pr=kh();return gv(pr,Cu,hr)}function gv(hr,pr,_r){var Cr=hr.queue;if(Cr===null)throw Error(nr(311));Cr.lastRenderedReducer=_r;var Wr=hr.baseQueue,Xr=Cr.pending;if(Xr!==null){if(Wr!==null){var xo=Wr.next;Wr.next=Xr.next,Xr.next=xo}pr.baseQueue=Wr=Xr,Cr.pending=null}if(Xr=hr.baseState,Wr===null)hr.memoizedState=Xr;else{pr=Wr.next;var Ao=xo=null,Vo=null,cl=pr,wl=!1;do{var Rl=cl.lane&-536870913;if(Rl!==cl.lane?(lu&Rl)===Rl:(Gd&Rl)===Rl){var hl=cl.revertLane;if(hl===0)Vo!==null&&(Vo=Vo.next={lane:0,revertLane:0,gesture:null,action:cl.action,hasEagerState:cl.hasEagerState,eagerState:cl.eagerState,next:null}),Rl===Ig&&(wl=!0);else if((Gd&hl)===hl){cl=cl.next,hl===Ig&&(wl=!0);continue}else Rl={lane:0,revertLane:cl.revertLane,gesture:null,action:cl.action,hasEagerState:cl.hasEagerState,eagerState:cl.eagerState,next:null},Vo===null?(Ao=Vo=Rl,xo=Xr):Vo=Vo.next=Rl,Oc.lanes|=hl,Bm|=hl;Rl=cl.action,og&&_r(Xr,Rl),Xr=cl.hasEagerState?cl.eagerState:_r(Xr,Rl)}else hl={lane:Rl,revertLane:cl.revertLane,gesture:cl.gesture,action:cl.action,hasEagerState:cl.hasEagerState,eagerState:cl.eagerState,next:null},Vo===null?(Ao=Vo=hl,xo=Xr):Vo=Vo.next=hl,Oc.lanes|=Rl,Bm|=Rl;cl=cl.next}while(cl!==null&&cl!==pr);if(Vo===null?xo=Xr:Vo.next=Ao,!zu(Xr,hr.memoizedState)&&(uh=!0,wl&&(_r=jm,_r!==null)))throw _r;hr.memoizedState=Xr,hr.baseState=xo,hr.baseQueue=Vo,Cr.lastRenderedState=Xr}return Wr===null&&(Cr.lanes=0),[hr.memoizedState,Cr.dispatch]}function xv(hr){var pr=kh(),_r=pr.queue;if(_r===null)throw Error(nr(311));_r.lastRenderedReducer=hr;var Cr=_r.dispatch,Wr=_r.pending,Xr=pr.memoizedState;if(Wr!==null){_r.pending=null;var xo=Wr=Wr.next;do Xr=hr(Xr,xo.action),xo=xo.next;while(xo!==Wr);zu(Xr,pr.memoizedState)||(uh=!0),pr.memoizedState=Xr,pr.baseQueue===null&&(pr.baseState=Xr),_r.lastRenderedState=Xr}return[Xr,Cr]}function hg(hr,pr,_r){var Cr=Oc,Wr=kh(),Xr=Xc;if(Xr){if(_r===void 0)throw Error(nr(407));_r=_r()}else _r=pr();var xo=!zu((Cu||Wr).memoizedState,_r);if(xo&&(Wr.memoizedState=_r,uh=!0),Wr=Wr.queue,Mm(lb.bind(null,Cr,Wr,hr),[hr]),Wr.getSnapshot!==pr||xo||eh!==null&&eh.memoizedState.tag&1){if(Cr.flags|=2048,Yd(9,{destroy:void 0},dg.bind(null,Cr,Wr,_r,pr),null),Xu===null)throw Error(nr(349));Xr||(Gd&127)!==0||Hg(Cr,pr,_r)}return _r}function Hg(hr,pr,_r){hr.flags|=16384,hr={getSnapshot:pr,value:_r},pr=Oc.updateQueue,pr===null?(pr=Dm(),Oc.updateQueue=pr,pr.stores=[hr]):(_r=pr.stores,_r===null?pr.stores=[hr]:_r.push(hr))}function dg(hr,pr,_r,Cr){pr.value=_r,pr.getSnapshot=Cr,au(pr)&&cb(hr)}function lb(hr,pr,_r){return _r(function(){au(pr)&&cb(hr)})}function au(hr){var pr=hr.getSnapshot;hr=hr.value;try{var _r=pr();return!zu(hr,_r)}catch{return!0}}function cb(hr){var pr=kd(hr,2);pr!==null&&Od(pr,hr,2)}function fg(hr){var pr=Ch();if(typeof hr=="function"){var _r=hr;if(hr=_r(),og){sl(!0);try{_r()}finally{sl(!1)}}}return pr.memoizedState=pr.baseState=hr,pr.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:hr},pr}function _x(hr,pr,_r,Cr){return hr.baseState=_r,gv(hr,Cu,typeof Cr=="function"?Cr:Jf)}function yv(hr,pr,_r,Cr,Wr){if(Ax(hr))throw Error(nr(485));if(hr=pr.action,hr!==null){var Xr={payload:Wr,action:hr,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(xo){Xr.listeners.push(xo)}};ao.T!==null?_r(!0):Xr.isTransition=!1,Cr(Xr),_r=pr.pending,_r===null?(Xr.next=pr.pending=Xr,Ah(pr,Xr)):(Xr.next=_r.next,pr.pending=_r.next=Xr)}}function Ah(hr,pr){var _r=pr.action,Cr=pr.payload,Wr=hr.state;if(pr.isTransition){var Xr=ao.T,xo={};ao.T=xo;try{var Ao=_r(Wr,Cr),Vo=ao.S;Vo!==null&&Vo(xo,Ao),Vd(hr,pr,Ao)}catch(cl){pg(hr,pr,cl)}finally{Xr!==null&&xo.types!==null&&(Xr.types=xo.types),ao.T=Xr}}else try{Xr=_r(Wr,Cr),Vd(hr,pr,Xr)}catch(cl){pg(hr,pr,cl)}}function Vd(hr,pr,_r){_r!==null&&typeof _r=="object"&&typeof _r.then=="function"?_r.then(function(Cr){df(hr,pr,Cr)},function(Cr){return pg(hr,pr,Cr)}):df(hr,pr,_r)}function df(hr,pr,_r){pr.status="fulfilled",pr.value=_r,ih(pr),hr.state=_r,pr=hr.pending,pr!==null&&(_r=pr.next,_r===pr?hr.pending=null:(_r=_r.next,pr.next=_r,Ah(hr,_r)))}function pg(hr,pr,_r){var Cr=hr.pending;if(hr.pending=null,Cr!==null){Cr=Cr.next;do pr.status="rejected",pr.reason=_r,ih(pr),pr=pr.next;while(pr!==Cr)}hr.action=null}function ih(hr){hr=hr.listeners;for(var pr=0;pr<hr.length;pr++)(0,hr[pr])()}function wx(hr,pr){return pr}function Ey(hr,pr){if(Xc){var _r=Xu.formState;if(_r!==null){e:{var Cr=Oc;if(Xc){if(iu){t:{for(var Wr=iu,Xr=Ad;Wr.nodeType!==8;){if(!Xr){Wr=null;break t}if(Wr=_d(Wr.nextSibling),Wr===null){Wr=null;break t}}Xr=Wr.data,Wr=Xr==="F!"||Xr==="F"?Wr:null}if(Wr){iu=_d(Wr.nextSibling),Cr=Wr.data==="F!";break e}}Sp(Cr)}Cr=!1}Cr&&(pr=_r[0])}}return _r=Ch(),_r.memoizedState=_r.baseState=pr,Cr={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wx,lastRenderedState:pr},_r.queue=Cr,_r=nm.bind(null,Oc,Cr),Cr.dispatch=_r,Cr=fg(!1),Xr=mg.bind(null,Oc,!1,Cr.queue),Cr=Ch(),Wr={state:pr,dispatch:null,action:hr,pending:null},Cr.queue=Wr,_r=yv.bind(null,Oc,Wr,Xr,_r),Wr.dispatch=_r,Cr.memoizedState=hr,[pr,_r,!1]}function Ud(hr){var pr=kh();return gd(pr,Cu,hr)}function gd(hr,pr,_r){if(pr=gv(hr,pr,wx)[0],hr=sc(Jf)[0],typeof pr=="object"&&pr!==null&&typeof pr.then=="function")try{var Cr=cg(pr)}catch(xo){throw xo===Cm?sg:xo}else Cr=pr;pr=kh();var Wr=pr.queue,Xr=Wr.dispatch;return _r!==pr.memoizedState&&(Oc.flags|=2048,Yd(9,{destroy:void 0},vv.bind(null,Wr,_r),null)),[Cr,Xr,hr]}function vv(hr,pr){hr.action=pr}function Sy(hr){var pr=kh(),_r=Cu;if(_r!==null)return gd(pr,_r,hr);kh(),pr=pr.memoizedState,_r=kh();var Cr=_r.queue.dispatch;return _r.memoizedState=hr,[pr,Cr,!1]}function Yd(hr,pr,_r,Cr){return hr={tag:hr,create:_r,deps:Cr,inst:pr,next:null},pr=Oc.updateQueue,pr===null&&(pr=Dm(),Oc.updateQueue=pr),_r=pr.lastEffect,_r===null?pr.lastEffect=hr.next=hr:(Cr=_r.next,_r.next=hr,hr.next=Cr,pr.lastEffect=hr),hr}function ub(){return kh().memoizedState}function Mf(hr,pr,_r,Cr){var Wr=Ch();Oc.flags|=hr,Wr.memoizedState=Yd(1|pr,{destroy:void 0},_r,Cr===void 0?null:Cr)}function Ex(hr,pr,_r,Cr){var Wr=kh();Cr=Cr===void 0?null:Cr;var Xr=Wr.memoizedState.inst;Cu!==null&&Cr!==null&&xy(Cr,Cu.memoizedState.deps)?Wr.memoizedState=Yd(pr,Xr,_r,Cr):(Oc.flags|=hr,Wr.memoizedState=Yd(1|pr,Xr,_r,Cr))}function bv(hr,pr){Mf(8390656,8,hr,pr)}function Mm(hr,pr){Ex(2048,8,hr,pr)}function Jb(hr){Oc.flags|=4;var pr=Oc.updateQueue;if(pr===null)pr=Dm(),Oc.updateQueue=pr,pr.events=[hr];else{var _r=pr.events;_r===null?pr.events=[hr]:_r.push(hr)}}function hb(hr){var pr=kh().memoizedState;return Jb({ref:pr,nextImpl:hr}),function(){if((pu&2)!==0)throw Error(nr(440));return pr.impl.apply(void 0,arguments)}}function jy(hr,pr){return Ex(4,2,hr,pr)}function _v(hr,pr){return Ex(4,4,hr,pr)}function wv(hr,pr){if(typeof pr=="function"){hr=hr();var _r=pr(hr);return function(){typeof _r=="function"?_r():pr(null)}}if(pr!=null)return hr=hr(),pr.current=hr,function(){pr.current=null}}function Pp(hr,pr,_r){_r=_r!=null?_r.concat([hr]):null,Ex(4,4,wv.bind(null,pr,hr),_r)}function Sx(){}function em(hr,pr){var _r=kh();pr=pr===void 0?null:pr;var Cr=_r.memoizedState;return pr!==null&&xy(pr,Cr[1])?Cr[0]:(_r.memoizedState=[hr,pr],hr)}function ch(hr,pr){var _r=kh();pr=pr===void 0?null:pr;var Cr=_r.memoizedState;if(pr!==null&&xy(pr,Cr[1]))return Cr[0];if(Cr=hr(),og){sl(!0);try{hr()}finally{sl(!1)}}return _r.memoizedState=[Cr,pr],Cr}function Nf(hr,pr,_r){return _r===void 0||(Gd&1073741824)!==0&&(lu&261930)===0?hr.memoizedState=pr:(hr.memoizedState=_r,hr=kb(),Oc.lanes|=hr,Bm|=hr,_r)}function db(hr,pr,_r,Cr){return zu(_r,pr)?_r:Qf.current!==null?(hr=Nf(hr,_r,Cr),zu(hr,pr)||(uh=!0),hr):(Gd&42)===0||(Gd&1073741824)!==0&&(lu&261930)===0?(uh=!0,hr.memoizedState=_r):(hr=kb(),Oc.lanes|=hr,Bm|=hr,pr)}function fb(hr,pr,_r,Cr,Wr){var Xr=Jr.p;Jr.p=Xr!==0&&8>Xr?Xr:8;var xo=ao.T,Ao={};ao.T=Ao,mg(hr,!1,pr,_r);try{var Vo=Wr(),cl=ao.S;if(cl!==null&&cl(Ao,Vo),Vo!==null&&typeof Vo=="object"&&typeof Vo.then=="function"){var wl=Zb(Vo,Cr);Mp(hr,pr,wl,Qd(hr))}else Mp(hr,pr,Cr,Qd(hr))}catch(Rl){Mp(hr,pr,{then:function(){},status:"rejected",reason:Rl},Qd())}finally{Jr.p=Xr,xo!==null&&Ao.types!==null&&(xo.types=Ao.types),ao.T=xo}}function Ry(){}function Dp(hr,pr,_r,Cr){if(hr.tag!==5)throw Error(nr(476));var Wr=Cy(hr).queue;fb(hr,Wr,pr,uo,_r===null?Ry:function(){return jx(hr),_r(Cr)})}function Cy(hr){var pr=hr.memoizedState;if(pr!==null)return pr;pr={memoizedState:uo,baseState:uo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:uo},next:null};var _r={};return pr.next={memoizedState:_r,baseState:_r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:_r},next:null},hr.memoizedState=pr,hr=hr.alternate,hr!==null&&(hr.memoizedState=pr),pr}function jx(hr){var pr=Cy(hr);pr.next===null&&(pr=hr.alternate.memoizedState),Mp(hr,pr.next.queue,{},Qd())}function Ev(){return ed(lv)}function Rx(){return kh().memoizedState}function tm(){return kh().memoizedState}function Cx(hr){for(var pr=hr.return;pr!==null;){switch(pr.tag){case 24:case 3:var _r=Qd();hr=km(_r);var Cr=Dd(pr,hr,_r);Cr!==null&&(Od(Cr,pr,_r),Tf(Cr,pr,_r)),pr={cache:Xf()},hr.payload=pr;return}pr=pr.return}}function pb(hr,pr,_r){var Cr=Qd();_r={lane:Cr,revertLane:0,gesture:null,action:_r,hasEagerState:!1,eagerState:null,next:null},Ax(hr)?Wg(pr,_r):(_r=ig(hr,pr,_r,Cr),_r!==null&&(Od(_r,hr,Cr),Gg(_r,pr,Cr)))}function nm(hr,pr,_r){var Cr=Qd();Mp(hr,pr,_r,Cr)}function Mp(hr,pr,_r,Cr){var Wr={lane:Cr,revertLane:0,gesture:null,action:_r,hasEagerState:!1,eagerState:null,next:null};if(Ax(hr))Wg(pr,Wr);else{var Xr=hr.alternate;if(hr.lanes===0&&(Xr===null||Xr.lanes===0)&&(Xr=pr.lastRenderedReducer,Xr!==null))try{var xo=pr.lastRenderedState,Ao=Xr(xo,_r);if(Wr.hasEagerState=!0,Wr.eagerState=Ao,zu(Ao,xo))return cf(hr,pr,Wr,0),Xu===null&&Oh(),!1}catch{}finally{}if(_r=ig(hr,pr,Wr,Cr),_r!==null)return Od(_r,hr,Cr),Gg(_r,pr,Cr),!0}return!1}function mg(hr,pr,_r,Cr){if(Cr={lane:2,revertLane:pf(),gesture:null,action:Cr,hasEagerState:!1,eagerState:null,next:null},Ax(hr)){if(pr)throw Error(nr(479))}else pr=ig(hr,_r,Cr,2),pr!==null&&Od(pr,hr,2)}function Ax(hr){var pr=hr.alternate;return hr===Oc||pr!==null&&pr===Oc}function Wg(hr,pr){zg=Pm=!0;var _r=hr.pending;_r===null?pr.next=pr:(pr.next=_r.next,_r.next=pr),hr.pending=pr}function Gg(hr,pr,_r){if((_r&4194048)!==0){var Cr=pr.lanes;Cr&=hr.pendingLanes,_r|=Cr,pr.lanes=_r,bl(hr,_r)}}var Np={readContext:ed,use:ug,useCallback:yh,useContext:yh,useEffect:yh,useImperativeHandle:yh,useLayoutEffect:yh,useInsertionEffect:yh,useMemo:yh,useReducer:yh,useRef:yh,useState:yh,useDebugValue:yh,useDeferredValue:yh,useTransition:yh,useSyncExternalStore:yh,useId:yh,useHostTransitionStatus:yh,useFormState:yh,useActionState:yh,useOptimistic:yh,useMemoCache:yh,useCacheRefresh:yh};Np.useEffectEvent=yh;var Sv={readContext:ed,use:ug,useCallback:function(hr,pr){return Ch().memoizedState=[hr,pr===void 0?null:pr],hr},useContext:ed,useEffect:bv,useImperativeHandle:function(hr,pr,_r){_r=_r!=null?_r.concat([hr]):null,Mf(4194308,4,wv.bind(null,pr,hr),_r)},useLayoutEffect:function(hr,pr){return Mf(4194308,4,hr,pr)},useInsertionEffect:function(hr,pr){Mf(4,2,hr,pr)},useMemo:function(hr,pr){var _r=Ch();pr=pr===void 0?null:pr;var Cr=hr();if(og){sl(!0);try{hr()}finally{sl(!1)}}return _r.memoizedState=[Cr,pr],Cr},useReducer:function(hr,pr,_r){var Cr=Ch();if(_r!==void 0){var Wr=_r(pr);if(og){sl(!0);try{_r(pr)}finally{sl(!1)}}}else Wr=pr;return Cr.memoizedState=Cr.baseState=Wr,hr={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:Wr},Cr.queue=hr,hr=hr.dispatch=pb.bind(null,Oc,hr),[Cr.memoizedState,hr]},useRef:function(hr){var pr=Ch();return hr={current:hr},pr.memoizedState=hr},useState:function(hr){hr=fg(hr);var pr=hr.queue,_r=nm.bind(null,Oc,pr);return pr.dispatch=_r,[hr.memoizedState,_r]},useDebugValue:Sx,useDeferredValue:function(hr,pr){var _r=Ch();return Nf(_r,hr,pr)},useTransition:function(){var hr=fg(!1);return hr=fb.bind(null,Oc,hr.queue,!0,!1),Ch().memoizedState=hr,[!1,hr]},useSyncExternalStore:function(hr,pr,_r){var Cr=Oc,Wr=Ch();if(Xc){if(_r===void 0)throw Error(nr(407));_r=_r()}else{if(_r=pr(),Xu===null)throw Error(nr(349));(lu&127)!==0||Hg(Cr,pr,_r)}Wr.memoizedState=_r;var Xr={value:_r,getSnapshot:pr};return Wr.queue=Xr,bv(lb.bind(null,Cr,Xr,hr),[hr]),Cr.flags|=2048,Yd(9,{destroy:void 0},dg.bind(null,Cr,Xr,_r,pr),null),_r},useId:function(){var hr=Ch(),pr=Xu.identifierPrefix;if(Xc){var _r=Il,Cr=Sl;_r=(Cr&~(1<<32-fl(Cr)-1)).toString(32)+_r,pr="_"+pr+"R_"+_r,_r=vx++,0<_r&&(pr+="H"+_r.toString(32)),pr+="_"}else _r=Qb++,pr="_"+pr+"r_"+_r.toString(32)+"_";return hr.memoizedState=pr},useHostTransitionStatus:Ev,useFormState:Ey,useActionState:Ey,useOptimistic:function(hr){var pr=Ch();pr.memoizedState=pr.baseState=hr;var _r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return pr.queue=_r,pr=mg.bind(null,Oc,!0,_r),_r.dispatch=pr,[hr,pr]},useMemoCache:wy,useCacheRefresh:function(){return Ch().memoizedState=Cx.bind(null,Oc)},useEffectEvent:function(hr){var pr=Ch(),_r={impl:hr};return pr.memoizedState=_r,function(){if((pu&2)!==0)throw Error(nr(440));return _r.impl.apply(void 0,arguments)}}},Vg={readContext:ed,use:ug,useCallback:em,useContext:ed,useEffect:Mm,useImperativeHandle:Pp,useInsertionEffect:jy,useLayoutEffect:_v,useMemo:ch,useReducer:sc,useRef:ub,useState:function(){return sc(Jf)},useDebugValue:Sx,useDeferredValue:function(hr,pr){var _r=kh();return db(_r,Cu.memoizedState,hr,pr)},useTransition:function(){var hr=sc(Jf)[0],pr=kh().memoizedState;return[typeof hr=="boolean"?hr:cg(hr),pr]},useSyncExternalStore:hg,useId:Rx,useHostTransitionStatus:Ev,useFormState:Ud,useActionState:Ud,useOptimistic:function(hr,pr){var _r=kh();return _x(_r,Cu,hr,pr)},useMemoCache:wy,useCacheRefresh:tm};Vg.useEffectEvent=hb;var Md={readContext:ed,use:ug,useCallback:em,useContext:ed,useEffect:Mm,useImperativeHandle:Pp,useInsertionEffect:jy,useLayoutEffect:_v,useMemo:ch,useReducer:xv,useRef:ub,useState:function(){return xv(Jf)},useDebugValue:Sx,useDeferredValue:function(hr,pr){var _r=kh();return Cu===null?Nf(_r,hr,pr):db(_r,Cu.memoizedState,hr,pr)},useTransition:function(){var hr=xv(Jf)[0],pr=kh().memoizedState;return[typeof hr=="boolean"?hr:cg(hr),pr]},useSyncExternalStore:hg,useId:Rx,useHostTransitionStatus:Ev,useFormState:Sy,useActionState:Sy,useOptimistic:function(hr,pr){var _r=kh();return Cu!==null?_x(_r,Cu,hr,pr):(_r.baseState=hr,[hr,_r.queue.dispatch])},useMemoCache:wy,useCacheRefresh:tm};Md.useEffectEvent=hb;function ep(hr,pr,_r,Cr){pr=hr.memoizedState,_r=_r(Cr,pr),_r=_r==null?pr:ur({},pr,_r),hr.memoizedState=_r,hr.lanes===0&&(hr.updateQueue.baseState=_r)}var Ug={enqueueSetState:function(hr,pr,_r){hr=hr._reactInternals;var Cr=Qd(),Wr=km(Cr);Wr.payload=pr,_r!=null&&(Wr.callback=_r),pr=Dd(hr,Wr,Cr),pr!==null&&(Od(pr,hr,Cr),Tf(pr,hr,Cr))},enqueueReplaceState:function(hr,pr,_r){hr=hr._reactInternals;var Cr=Qd(),Wr=km(Cr);Wr.tag=1,Wr.payload=pr,_r!=null&&(Wr.callback=_r),pr=Dd(hr,Wr,Cr),pr!==null&&(Od(pr,hr,Cr),Tf(pr,hr,Cr))},enqueueForceUpdate:function(hr,pr){hr=hr._reactInternals;var _r=Qd(),Cr=km(_r);Cr.tag=2,pr!=null&&(Cr.callback=pr),pr=Dd(hr,Cr,_r),pr!==null&&(Od(pr,hr,_r),Tf(pr,hr,_r))}};function mb(hr,pr,_r,Cr,Wr,Xr,xo){return hr=hr.stateNode,typeof hr.shouldComponentUpdate=="function"?hr.shouldComponentUpdate(Cr,Xr,xo):pr.prototype&&pr.prototype.isPureReactComponent?!Vp(_r,Cr)||!Vp(Wr,Xr):!0}function jv(hr,pr,_r,Cr){hr=pr.state,typeof pr.componentWillReceiveProps=="function"&&pr.componentWillReceiveProps(_r,Cr),typeof pr.UNSAFE_componentWillReceiveProps=="function"&&pr.UNSAFE_componentWillReceiveProps(_r,Cr),pr.state!==hr&&Ug.enqueueReplaceState(pr,pr.state,null)}function nd(hr,pr){var _r=pr;if("ref"in pr){_r={};for(var Cr in pr)Cr!=="ref"&&(_r[Cr]=pr[Cr])}if(hr=hr.defaultProps){_r===pr&&(_r=ur({},_r));for(var Wr in hr)_r[Wr]===void 0&&(_r[Wr]=hr[Wr])}return _r}function Op(hr){_p(hr)}function Tx(hr){console.error(hr)}function ru(hr){_p(hr)}function Px(hr,pr){try{var _r=hr.onUncaughtError;_r(pr.value,{componentStack:pr.stack})}catch(Cr){setTimeout(function(){throw Cr})}}function Ay(hr,pr,_r){try{var Cr=hr.onCaughtError;Cr(_r.value,{componentStack:_r.stack,errorBoundary:pr.tag===1?pr.stateNode:null})}catch(Wr){setTimeout(function(){throw Wr})}}function Rv(hr,pr,_r){return _r=km(_r),_r.tag=3,_r.payload={element:null},_r.callback=function(){Px(hr,pr)},_r}function Nd(hr){return hr=km(hr),hr.tag=3,hr}function Ty(hr,pr,_r,Cr){var Wr=_r.type.getDerivedStateFromError;if(typeof Wr=="function"){var Xr=Cr.value;hr.payload=function(){return Wr(Xr)},hr.callback=function(){Ay(pr,_r,Cr)}}var xo=_r.stateNode;xo!==null&&typeof xo.componentDidCatch=="function"&&(hr.callback=function(){Ay(pr,_r,Cr),typeof Wr!="function"&&(up===null?up=new Set([this]):up.add(this));var Ao=Cr.stack;this.componentDidCatch(Cr.value,{componentStack:Ao!==null?Ao:""})})}function Yg(hr,pr,_r,Cr,Wr){if(_r.flags|=32768,Cr!==null&&typeof Cr=="object"&&typeof Cr.then=="function"){if(pr=_r.alternate,pr!==null&&Lg(pr,_r,Wr,!0),_r=md.current,_r!==null){switch(_r.tag){case 31:case 13:return Df===null?Xx():_r.alternate===null&&vh===0&&(vh=3),_r.flags&=-257,_r.flags|=65536,_r.lanes=Wr,Cr===xx?_r.flags|=16384:(pr=_r.updateQueue,pr===null?_r.updateQueue=new Set([Cr]):pr.add(Cr),ev(hr,Cr,Wr)),!1;case 22:return _r.flags|=65536,Cr===xx?_r.flags|=16384:(pr=_r.updateQueue,pr===null?(pr={transitions:null,markerInstances:null,retryQueue:new Set([Cr])},_r.updateQueue=pr):(_r=pr.retryQueue,_r===null?pr.retryQueue=new Set([Cr]):_r.add(Cr)),ev(hr,Cr,Wr)),!1}throw Error(nr(435,_r.tag))}return ev(hr,Cr,Wr),Xx(),!1}if(Xc)return pr=md.current,pr!==null?((pr.flags&65536)===0&&(pr.flags|=256),pr.flags|=65536,pr.lanes=Wr,Cr!==Og&&(hr=Error(nr(422),{cause:Cr}),Rp(Rr(hr,_r)))):(Cr!==Og&&(pr=Error(nr(423),{cause:Cr}),Rp(Rr(pr,_r))),hr=hr.current.alternate,hr.flags|=65536,Wr&=-Wr,hr.lanes|=Wr,Cr=Rr(Cr,_r),Wr=Rv(hr.stateNode,Cr,Wr),fy(hr,Wr),vh!==4&&(vh=2)),!1;var Xr=Error(nr(520),{cause:Cr});if(Xr=Rr(Xr,_r),Gx===null?Gx=[Xr]:Gx.push(Xr),vh!==4&&(vh=2),pr===null)return!0;Cr=Rr(Cr,_r),_r=pr;do{switch(_r.tag){case 3:return _r.flags|=65536,hr=Wr&-Wr,_r.lanes|=hr,hr=Rv(_r.stateNode,Cr,hr),fy(_r,hr),!1;case 1:if(pr=_r.type,Xr=_r.stateNode,(_r.flags&128)===0&&(typeof pr.getDerivedStateFromError=="function"||Xr!==null&&typeof Xr.componentDidCatch=="function"&&(up===null||!up.has(Xr))))return _r.flags|=65536,Wr&=-Wr,_r.lanes|=Wr,Wr=Nd(Wr),Ty(Wr,hr,_r,Cr),fy(_r,Wr),!1}_r=_r.return}while(_r!==null);return!1}var Xd=Error(nr(461)),uh=!1;function ou(hr,pr,_r,Cr){pr.child=hr===null?dy(pr,null,_r,Cr):Zf(pr,hr.child,_r,Cr)}function gc(hr,pr,_r,Cr,Wr){_r=_r.render;var Xr=pr.ref;if("ref"in Cr){var xo={};for(var Ao in Cr)Ao!=="ref"&&(xo[Ao]=Cr[Ao])}else xo=Cr;return Cp(pr),Cr=nh(hr,pr,_r,xo,Xr,Wr),Ao=by(),hr!==null&&!uh?(_y(hr,pr,Wr),Lf(hr,pr,Wr)):(Xc&&Ao&&lh(pr),pr.flags|=1,ou(hr,pr,Cr,Wr),pr.child)}function Xg(hr,pr,_r,Cr,Wr){if(hr===null){var Xr=_r.type;return typeof Xr=="function"&&!Hd(Xr)&&Xr.defaultProps===void 0&&_r.compare===null?(pr.tag=15,pr.type=Xr,Dx(hr,pr,Xr,Cr,Wr)):(hr=rg(_r.type,null,Cr,pr,pr.mode,Wr),hr.ref=pr.ref,hr.return=pr,pr.child=hr)}if(Xr=hr.child,!Om(hr,Wr)){var xo=Xr.memoizedProps;if(_r=_r.compare,_r=_r!==null?_r:Vp,_r(xo,Cr)&&hr.ref===pr.ref)return Lf(hr,pr,Wr)}return pr.flags|=1,hr=Vu(Xr,Cr),hr.ref=pr.ref,hr.return=pr,pr.child=hr}function Dx(hr,pr,_r,Cr,Wr){if(hr!==null){var Xr=hr.memoizedProps;if(Vp(Xr,Cr)&&hr.ref===pr.ref)if(uh=!1,pr.pendingProps=Cr=Xr,Om(hr,Wr))(hr.flags&131072)!==0&&(uh=!0);else return pr.lanes=hr.lanes,Lf(hr,pr,Wr)}return gg(hr,pr,_r,Cr,Wr)}function tp(hr,pr,_r,Cr){var Wr=Cr.children,Xr=hr!==null?hr.memoizedState:null;if(hr===null&&pr.stateNode===null&&(pr.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),Cr.mode==="hidden"){if((pr.flags&128)!==0){if(Xr=Xr!==null?Xr.baseLanes|_r:_r,hr!==null){for(Cr=pr.child=hr.child,Wr=0;Cr!==null;)Wr=Wr|Cr.lanes|Cr.childLanes,Cr=Cr.sibling;Cr=Wr&~Xr}else Cr=0,pr.child=null;return Py(hr,pr,Xr,_r,Cr)}if((_r&536870912)!==0)pr.memoizedState={baseLanes:0,cachePool:null},hr!==null&&Kp(pr,Xr!==null?Xr.cachePool:null),Xr!==null?my(pr,Xr):xh(),ob(pr);else return Cr=pr.lanes=536870912,Py(hr,pr,Xr!==null?Xr.baseLanes|_r:_r,_r,Cr)}else Xr!==null?(Kp(pr,Xr.cachePool),my(pr,Xr),hf(),pr.memoizedState=null):(hr!==null&&Kp(pr,null),xh(),hf());return ou(hr,pr,Wr,_r),pr.child}function Mx(hr,pr){return hr!==null&&hr.tag===22||pr.stateNode!==null||(pr.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),pr.sibling}function Py(hr,pr,_r,Cr,Wr){var Xr=fv();return Xr=Xr===null?null:{parent:Mh._currentValue,pool:Xr},pr.memoizedState={baseLanes:_r,cachePool:Xr},hr!==null&&Kp(pr,null),xh(),ob(pr),hr!==null&&Lg(hr,pr,Cr,!0),pr.childLanes=Wr,null}function Of(hr,pr){return pr=Oy({mode:pr.mode,children:pr.children},hr.mode),pr.ref=hr.ref,hr.child=pr,pr.return=hr,pr}function id(hr,pr,_r){return Zf(pr,hr.child,null,_r),hr=Of(pr,pr.pendingProps),hr.flags|=2,Ru(pr),pr.memoizedState=null,hr}function e0(hr,pr,_r){var Cr=pr.pendingProps,Wr=(pr.flags&128)!==0;if(pr.flags&=-129,hr===null){if(Xc){if(Cr.mode==="hidden")return hr=Of(pr,Cr),pr.lanes=536870912,Mx(null,hr);if(Wd(pr),(hr=iu)?(hr=bd(hr,Ad),hr=hr!==null&&hr.data==="&"?hr:null,hr!==null&&(pr.memoizedState={dehydrated:hr,treeContext:Qo!==null?{id:Sl,overflow:Il}:null,retryLane:536870912,hydrationErrors:null},_r=Yf(hr),_r.return=pr,pr.child=_r,fu=pr,iu=null)):hr=null,hr===null)throw Sp(pr);return pr.lanes=536870912,null}return Of(pr,Cr)}var Xr=hr.memoizedState;if(Xr!==null){var xo=Xr.dehydrated;if(Wd(pr),Wr)if(pr.flags&256)pr.flags&=-257,pr=id(hr,pr,_r);else if(pr.memoizedState!==null)pr.child=hr.child,pr.flags|=128,pr=null;else throw Error(nr(558));else if(uh||Lg(hr,pr,_r,!1),Wr=(_r&hr.childLanes)!==0,uh||Wr){if(Cr=Xu,Cr!==null&&(xo=Bl(Cr,_r),xo!==0&&xo!==Xr.retryLane))throw Xr.retryLane=xo,kd(hr,xo),Od(Cr,hr,xo),Xd;Xx(),pr=id(hr,pr,_r)}else hr=Xr.treeContext,iu=_d(xo.nextSibling),fu=pr,Xc=!0,Ep=null,Ad=!1,hr!==null&&Lh(pr,hr),pr=Of(pr,Cr),pr.flags|=4096;return pr}return hr=Vu(hr.child,{mode:Cr.mode,children:Cr.children}),hr.ref=pr.ref,pr.child=hr,hr.return=pr,hr}function np(hr,pr){var _r=pr.ref;if(_r===null)hr!==null&&hr.ref!==null&&(pr.flags|=4194816);else{if(typeof _r!="function"&&typeof _r!="object")throw Error(nr(284));(hr===null||hr.ref!==_r)&&(pr.flags|=4194816)}}function gg(hr,pr,_r,Cr,Wr){return Cp(pr),_r=nh(hr,pr,_r,Cr,void 0,Wr),Cr=by(),hr!==null&&!uh?(_y(hr,pr,Wr),Lf(hr,pr,Wr)):(Xc&&Cr&&lh(pr),pr.flags|=1,ou(hr,pr,_r,Wr),pr.child)}function Dy(hr,pr,_r,Cr,Wr,Xr){return Cp(pr),pr.updateQueue=null,_r=bx(pr,Cr,_r,Wr),yy(hr),Cr=by(),hr!==null&&!uh?(_y(hr,pr,Xr),Lf(hr,pr,Xr)):(Xc&&Cr&&lh(pr),pr.flags|=1,ou(hr,pr,_r,Xr),pr.child)}function Nx(hr,pr,_r,Cr,Wr){if(Cp(pr),pr.stateNode===null){var Xr=Cf,xo=_r.contextType;typeof xo=="object"&&xo!==null&&(Xr=ed(xo)),Xr=new _r(Cr,Xr),pr.memoizedState=Xr.state!==null&&Xr.state!==void 0?Xr.state:null,Xr.updater=Ug,pr.stateNode=Xr,Xr._reactInternals=pr,Xr=pr.stateNode,Xr.props=Cr,Xr.state=pr.memoizedState,Xr.refs={},Tp(pr),xo=_r.contextType,Xr.context=typeof xo=="object"&&xo!==null?ed(xo):Cf,Xr.state=pr.memoizedState,xo=_r.getDerivedStateFromProps,typeof xo=="function"&&(ep(pr,_r,xo,Cr),Xr.state=pr.memoizedState),typeof _r.getDerivedStateFromProps=="function"||typeof Xr.getSnapshotBeforeUpdate=="function"||typeof Xr.UNSAFE_componentWillMount!="function"&&typeof Xr.componentWillMount!="function"||(xo=Xr.state,typeof Xr.componentWillMount=="function"&&Xr.componentWillMount(),typeof Xr.UNSAFE_componentWillMount=="function"&&Xr.UNSAFE_componentWillMount(),xo!==Xr.state&&Ug.enqueueReplaceState(Xr,Xr.state,null),Bg(pr,Cr,Xr,Wr),ag(),Xr.state=pr.memoizedState),typeof Xr.componentDidMount=="function"&&(pr.flags|=4194308),Cr=!0}else if(hr===null){Xr=pr.stateNode;var Ao=pr.memoizedProps,Vo=nd(_r,Ao);Xr.props=Vo;var cl=Xr.context,wl=_r.contextType;xo=Cf,typeof wl=="object"&&wl!==null&&(xo=ed(wl));var Rl=_r.getDerivedStateFromProps;wl=typeof Rl=="function"||typeof Xr.getSnapshotBeforeUpdate=="function",Ao=pr.pendingProps!==Ao,wl||typeof Xr.UNSAFE_componentWillReceiveProps!="function"&&typeof Xr.componentWillReceiveProps!="function"||(Ao||cl!==xo)&&jv(pr,Xr,Cr,xo),Ih=!1;var hl=pr.memoizedState;Xr.state=hl,Bg(pr,Cr,Xr,Wr),ag(),cl=pr.memoizedState,Ao||hl!==cl||Ih?(typeof Rl=="function"&&(ep(pr,_r,Rl,Cr),cl=pr.memoizedState),(Vo=Ih||mb(pr,_r,Vo,Cr,hl,cl,xo))?(wl||typeof Xr.UNSAFE_componentWillMount!="function"&&typeof Xr.componentWillMount!="function"||(typeof Xr.componentWillMount=="function"&&Xr.componentWillMount(),typeof Xr.UNSAFE_componentWillMount=="function"&&Xr.UNSAFE_componentWillMount()),typeof Xr.componentDidMount=="function"&&(pr.flags|=4194308)):(typeof Xr.componentDidMount=="function"&&(pr.flags|=4194308),pr.memoizedProps=Cr,pr.memoizedState=cl),Xr.props=Cr,Xr.state=cl,Xr.context=xo,Cr=Vo):(typeof Xr.componentDidMount=="function"&&(pr.flags|=4194308),Cr=!1)}else{Xr=pr.stateNode,yx(hr,pr),xo=pr.memoizedProps,wl=nd(_r,xo),Xr.props=wl,Rl=pr.pendingProps,hl=Xr.context,cl=_r.contextType,Vo=Cf,typeof cl=="object"&&cl!==null&&(Vo=ed(cl)),Ao=_r.getDerivedStateFromProps,(cl=typeof Ao=="function"||typeof Xr.getSnapshotBeforeUpdate=="function")||typeof Xr.UNSAFE_componentWillReceiveProps!="function"&&typeof Xr.componentWillReceiveProps!="function"||(xo!==Rl||hl!==Vo)&&jv(pr,Xr,Cr,Vo),Ih=!1,hl=pr.memoizedState,Xr.state=hl,Bg(pr,Cr,Xr,Wr),ag();var gl=pr.memoizedState;xo!==Rl||hl!==gl||Ih||hr!==null&&hr.dependencies!==null&&cy(hr.dependencies)?(typeof Ao=="function"&&(ep(pr,_r,Ao,Cr),gl=pr.memoizedState),(wl=Ih||mb(pr,_r,wl,Cr,hl,gl,Vo)||hr!==null&&hr.dependencies!==null&&cy(hr.dependencies))?(cl||typeof Xr.UNSAFE_componentWillUpdate!="function"&&typeof Xr.componentWillUpdate!="function"||(typeof Xr.componentWillUpdate=="function"&&Xr.componentWillUpdate(Cr,gl,Vo),typeof Xr.UNSAFE_componentWillUpdate=="function"&&Xr.UNSAFE_componentWillUpdate(Cr,gl,Vo)),typeof Xr.componentDidUpdate=="function"&&(pr.flags|=4),typeof Xr.getSnapshotBeforeUpdate=="function"&&(pr.flags|=1024)):(typeof Xr.componentDidUpdate!="function"||xo===hr.memoizedProps&&hl===hr.memoizedState||(pr.flags|=4),typeof Xr.getSnapshotBeforeUpdate!="function"||xo===hr.memoizedProps&&hl===hr.memoizedState||(pr.flags|=1024),pr.memoizedProps=Cr,pr.memoizedState=gl),Xr.props=Cr,Xr.state=gl,Xr.context=Vo,Cr=wl):(typeof Xr.componentDidUpdate!="function"||xo===hr.memoizedProps&&hl===hr.memoizedState||(pr.flags|=4),typeof Xr.getSnapshotBeforeUpdate!="function"||xo===hr.memoizedProps&&hl===hr.memoizedState||(pr.flags|=1024),Cr=!1)}return Xr=Cr,np(hr,pr),Cr=(pr.flags&128)!==0,Xr||Cr?(Xr=pr.stateNode,_r=Cr&&typeof _r.getDerivedStateFromError!="function"?null:Xr.render(),pr.flags|=1,hr!==null&&Cr?(pr.child=Zf(pr,hr.child,null,Wr),pr.child=Zf(pr,null,_r,Wr)):ou(hr,pr,_r,Wr),pr.memoizedState=Xr.state,hr=pr.child):hr=Lf(hr,pr,Wr),hr}function gb(hr,pr,_r,Cr){return ko(),pr.flags|=256,ou(hr,pr,_r,Cr),pr.child}var My={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ny(hr){return{baseLanes:hr,cachePool:rb()}}function ip(hr,pr,_r){return hr=hr!==null?hr.childLanes&~_r:0,pr&&(hr|=ff),hr}function rd(hr,pr,_r){var Cr=pr.pendingProps,Wr=!1,Xr=(pr.flags&128)!==0,xo;if((xo=Xr)||(xo=hr!==null&&hr.memoizedState===null?!1:(Sh.current&2)!==0),xo&&(Wr=!0,pr.flags&=-129),xo=(pr.flags&32)!==0,pr.flags&=-33,hr===null){if(Xc){if(Wr?Tm(pr):hf(),(hr=iu)?(hr=bd(hr,Ad),hr=hr!==null&&hr.data!=="&"?hr:null,hr!==null&&(pr.memoizedState={dehydrated:hr,treeContext:Qo!==null?{id:Sl,overflow:Il}:null,retryLane:536870912,hydrationErrors:null},_r=Yf(hr),_r.return=pr,pr.child=_r,fu=pr,iu=null)):hr=null,hr===null)throw Sp(pr);return gf(hr)?pr.lanes=32:pr.lanes=536870912,null}var Ao=Cr.children;return Cr=Cr.fallback,Wr?(hf(),Wr=pr.mode,Ao=Oy({mode:"hidden",children:Ao},Wr),Cr=wp(Cr,Wr,_r,null),Ao.return=pr,Cr.return=pr,Ao.sibling=Cr,pr.child=Ao,Cr=pr.child,Cr.memoizedState=Ny(_r),Cr.childLanes=ip(hr,xo,_r),pr.memoizedState=My,Mx(null,Cr)):(Tm(pr),im(pr,Ao))}var Vo=hr.memoizedState;if(Vo!==null&&(Ao=Vo.dehydrated,Ao!==null)){if(Xr)pr.flags&256?(Tm(pr),pr.flags&=-257,pr=Ox(hr,pr,_r)):pr.memoizedState!==null?(hf(),pr.child=hr.child,pr.flags|=128,pr=null):(hf(),Ao=Cr.fallback,Wr=pr.mode,Cr=Oy({mode:"visible",children:Cr.children},Wr),Ao=wp(Ao,Wr,_r,null),Ao.flags|=2,Cr.return=pr,Ao.return=pr,Cr.sibling=Ao,pr.child=Cr,Zf(pr,hr.child,null,_r),Cr=pr.child,Cr.memoizedState=Ny(_r),Cr.childLanes=ip(hr,xo,_r),pr.memoizedState=My,pr=Mx(null,Cr));else if(Tm(pr),gf(Ao)){if(xo=Ao.nextSibling&&Ao.nextSibling.dataset,xo)var cl=xo.dgst;xo=cl,Cr=Error(nr(419)),Cr.stack="",Cr.digest=xo,Rp({value:Cr,source:null,stack:null}),pr=Ox(hr,pr,_r)}else if(uh||Lg(hr,pr,_r,!1),xo=(_r&hr.childLanes)!==0,uh||xo){if(xo=Xu,xo!==null&&(Cr=Bl(xo,_r),Cr!==0&&Cr!==Vo.retryLane))throw Vo.retryLane=Cr,kd(hr,Cr),Od(xo,hr,Cr),Xd;mf(Ao)||Xx(),pr=Ox(hr,pr,_r)}else mf(Ao)?(pr.flags|=192,pr.child=hr.child,pr=null):(hr=Vo.treeContext,iu=_d(Ao.nextSibling),fu=pr,Xc=!0,Ep=null,Ad=!1,hr!==null&&Lh(pr,hr),pr=im(pr,Cr.children),pr.flags|=4096);return pr}return Wr?(hf(),Ao=Cr.fallback,Wr=pr.mode,Vo=hr.child,cl=Vo.sibling,Cr=Vu(Vo,{mode:"hidden",children:Cr.children}),Cr.subtreeFlags=Vo.subtreeFlags&65011712,cl!==null?Ao=Vu(cl,Ao):(Ao=wp(Ao,Wr,_r,null),Ao.flags|=2),Ao.return=pr,Cr.return=pr,Cr.sibling=Ao,pr.child=Cr,Mx(null,Cr),Cr=pr.child,Ao=hr.child.memoizedState,Ao===null?Ao=Ny(_r):(Wr=Ao.cachePool,Wr!==null?(Vo=Mh._currentValue,Wr=Wr.parent!==Vo?{parent:Vo,pool:Vo}:Wr):Wr=rb(),Ao={baseLanes:Ao.baseLanes|_r,cachePool:Wr}),Cr.memoizedState=Ao,Cr.childLanes=ip(hr,xo,_r),pr.memoizedState=My,Mx(hr.child,Cr)):(Tm(pr),_r=hr.child,hr=_r.sibling,_r=Vu(_r,{mode:"visible",children:Cr.children}),_r.return=pr,_r.sibling=null,hr!==null&&(xo=pr.deletions,xo===null?(pr.deletions=[hr],pr.flags|=16):xo.push(hr)),pr.child=_r,pr.memoizedState=null,_r)}function im(hr,pr){return pr=Oy({mode:"visible",children:pr},hr.mode),pr.return=hr,hr.child=pr}function Oy(hr,pr){return hr=Ph(22,hr,null,pr),hr.lanes=0,hr}function Ox(hr,pr,_r){return Zf(pr,hr.child,null,_r),hr=im(pr,pr.pendingProps.children),hr.flags|=2,pr.memoizedState=null,hr}function xb(hr,pr,_r){hr.lanes|=pr;var Cr=hr.alternate;Cr!==null&&(Cr.lanes|=pr),Xp(hr.return,pr,_r)}function Ly(hr,pr,_r,Cr,Wr,Xr){var xo=hr.memoizedState;xo===null?hr.memoizedState={isBackwards:pr,rendering:null,renderingStartTime:0,last:Cr,tail:_r,tailMode:Wr,treeForkCount:Xr}:(xo.isBackwards=pr,xo.rendering=null,xo.renderingStartTime=0,xo.last=Cr,xo.tail=_r,xo.tailMode=Wr,xo.treeForkCount=Xr)}function Nm(hr,pr,_r){var Cr=pr.pendingProps,Wr=Cr.revealOrder,Xr=Cr.tail;Cr=Cr.children;var xo=Sh.current,Ao=(xo&2)!==0;if(Ao?(xo=xo&1|2,pr.flags|=128):xo&=1,Eo(Sh,xo),ou(hr,pr,Cr,_r),Cr=Xc?jo:0,!Ao&&hr!==null&&(hr.flags&128)!==0)e:for(hr=pr.child;hr!==null;){if(hr.tag===13)hr.memoizedState!==null&&xb(hr,_r,pr);else if(hr.tag===19)xb(hr,_r,pr);else if(hr.child!==null){hr.child.return=hr,hr=hr.child;continue}if(hr===pr)break e;for(;hr.sibling===null;){if(hr.return===null||hr.return===pr)break e;hr=hr.return}hr.sibling.return=hr.return,hr=hr.sibling}switch(Wr){case"forwards":for(_r=pr.child,Wr=null;_r!==null;)hr=_r.alternate,hr!==null&&gy(hr)===null&&(Wr=_r),_r=_r.sibling;_r=Wr,_r===null?(Wr=pr.child,pr.child=null):(Wr=_r.sibling,_r.sibling=null),Ly(pr,!1,Wr,_r,Xr,Cr);break;case"backwards":case"unstable_legacy-backwards":for(_r=null,Wr=pr.child,pr.child=null;Wr!==null;){if(hr=Wr.alternate,hr!==null&&gy(hr)===null){pr.child=Wr;break}hr=Wr.sibling,Wr.sibling=_r,_r=Wr,Wr=hr}Ly(pr,!0,_r,null,Xr,Cr);break;case"together":Ly(pr,!1,null,null,void 0,Cr);break;default:pr.memoizedState=null}return pr.child}function Lf(hr,pr,_r){if(hr!==null&&(pr.dependencies=hr.dependencies),Bm|=pr.lanes,(_r&pr.childLanes)===0)if(hr!==null){if(Lg(hr,pr,_r,!1),(_r&pr.childLanes)===0)return null}else return null;if(hr!==null&&pr.child!==hr.child)throw Error(nr(153));if(pr.child!==null){for(hr=pr.child,_r=Vu(hr,hr.pendingProps),pr.child=_r,_r.return=pr;hr.sibling!==null;)hr=hr.sibling,_r=_r.sibling=Vu(hr,hr.pendingProps),_r.return=pr;_r.sibling=null}return pr.child}function Om(hr,pr){return(hr.lanes&pr)!==0?!0:(hr=hr.dependencies,!!(hr!==null&&cy(hr)))}function yb(hr,pr,_r){switch(pr.tag){case 3:Fo(pr,pr.stateNode.containerInfo),Sm(pr,Mh,hr.memoizedState.cache),ko();break;case 27:case 5:Go(pr);break;case 4:Fo(pr,pr.stateNode.containerInfo);break;case 10:Sm(pr,pr.type,pr.memoizedProps.value);break;case 31:if(pr.memoizedState!==null)return pr.flags|=128,Wd(pr),null;break;case 13:var Cr=pr.memoizedState;if(Cr!==null)return Cr.dehydrated!==null?(Tm(pr),pr.flags|=128,null):(_r&pr.child.childLanes)!==0?rd(hr,pr,_r):(Tm(pr),hr=Lf(hr,pr,_r),hr!==null?hr.sibling:null);Tm(pr);break;case 19:var Wr=(hr.flags&128)!==0;if(Cr=(_r&pr.childLanes)!==0,Cr||(Lg(hr,pr,_r,!1),Cr=(_r&pr.childLanes)!==0),Wr){if(Cr)return Nm(hr,pr,_r);pr.flags|=128}if(Wr=pr.memoizedState,Wr!==null&&(Wr.rendering=null,Wr.tail=null,Wr.lastEffect=null),Eo(Sh,Sh.current),Cr)break;return null;case 22:return pr.lanes=0,tp(hr,pr,_r,pr.pendingProps);case 24:Sm(pr,Mh,hr.memoizedState.cache)}return Lf(hr,pr,_r)}function vb(hr,pr,_r){if(hr!==null)if(hr.memoizedProps!==pr.pendingProps)uh=!0;else{if(!Om(hr,_r)&&(pr.flags&128)===0)return uh=!1,yb(hr,pr,_r);uh=(hr.flags&131072)!==0}else uh=!1,Xc&&(pr.flags&1048576)!==0&&$c(pr,jo,pr.index);switch(pr.lanes=0,pr.tag){case 16:e:{var Cr=pr.pendingProps;if(hr=qf(pr.elementType),pr.type=hr,typeof hr=="function")Hd(hr)?(Cr=nd(hr,Cr),pr.tag=1,pr=Nx(null,pr,hr,Cr,_r)):(pr.tag=0,pr=gg(null,pr,hr,Cr,_r));else{if(hr!=null){var Wr=hr.$$typeof;if(Wr===Lr){pr.tag=11,pr=gc(null,pr,hr,Cr,_r);break e}else if(Wr===Or){pr.tag=14,pr=Xg(null,pr,hr,Cr,_r);break e}}throw pr=io(hr)||hr,Error(nr(306,pr,""))}}return pr;case 0:return gg(hr,pr,pr.type,pr.pendingProps,_r);case 1:return Cr=pr.type,Wr=nd(Cr,pr.pendingProps),Nx(hr,pr,Cr,Wr,_r);case 3:e:{if(Fo(pr,pr.stateNode.containerInfo),hr===null)throw Error(nr(387));Cr=pr.pendingProps;var Xr=pr.memoizedState;Wr=Xr.element,yx(hr,pr),Bg(pr,Cr,null,_r);var xo=pr.memoizedState;if(Cr=xo.cache,Sm(pr,Mh,Cr),Cr!==Xr.cache&&ly(pr,[Mh],_r,!0),ag(),Cr=xo.element,Xr.isDehydrated)if(Xr={element:Cr,isDehydrated:!1,cache:xo.cache},pr.updateQueue.baseState=Xr,pr.memoizedState=Xr,pr.flags&256){pr=gb(hr,pr,Cr,_r);break e}else if(Cr!==Wr){Wr=Rr(Error(nr(424)),pr),Rp(Wr),pr=gb(hr,pr,Cr,_r);break e}else{switch(hr=pr.stateNode.containerInfo,hr.nodeType){case 9:hr=hr.body;break;default:hr=hr.nodeName==="HTML"?hr.ownerDocument.body:hr}for(iu=_d(hr.firstChild),fu=pr,Xc=!0,Ep=null,Ad=!0,_r=dy(pr,null,Cr,_r),pr.child=_r;_r;)_r.flags=_r.flags&-3|4096,_r=_r.sibling}else{if(ko(),Cr===Wr){pr=Lf(hr,pr,_r);break e}ou(hr,pr,Cr,_r)}pr=pr.child}return pr;case 26:return np(hr,pr),hr===null?(_r=E0(pr.type,null,pr.pendingProps,null))?pr.memoizedState=_r:Xc||(_r=pr.type,hr=pr.pendingProps,Cr=Gl(wo.current).createElement(_r),Cr[Mc]=pr,Cr[eu]=hr,vl(Cr,_r,hr),tu(Cr),pr.stateNode=Cr):pr.memoizedState=E0(pr.type,hr.memoizedProps,pr.pendingProps,hr.memoizedState),null;case 27:return Go(pr),hr===null&&Xc&&(Cr=pr.stateNode=b0(pr.type,pr.pendingProps,wo.current),fu=pr,Ad=!0,Wr=iu,zl(pr.type)?(xf=Wr,iu=_d(Cr.firstChild)):iu=Wr),ou(hr,pr,pr.pendingProps.children,_r),np(hr,pr),hr===null&&(pr.flags|=4194304),pr.child;case 5:return hr===null&&Xc&&((Wr=Cr=iu)&&(Cr=Gm(Cr,pr.type,pr.pendingProps,Ad),Cr!==null?(pr.stateNode=Cr,fu=pr,iu=_d(Cr.firstChild),Ad=!1,Wr=!0):Wr=!1),Wr||Sp(pr)),Go(pr),Wr=pr.type,Xr=pr.pendingProps,xo=hr!==null?hr.memoizedProps:null,Cr=Xr.children,Tc(Wr,Xr)?Cr=null:xo!==null&&Tc(Wr,xo)&&(pr.flags|=32),pr.memoizedState!==null&&(Wr=nh(hr,pr,vy,null,null,_r),lv._currentValue=Wr),np(hr,pr),ou(hr,pr,Cr,_r),pr.child;case 6:return hr===null&&Xc&&((hr=_r=iu)&&(_r=qc(_r,pr.pendingProps,Ad),_r!==null?(pr.stateNode=_r,fu=pr,iu=null,hr=!0):hr=!1),hr||Sp(pr)),null;case 13:return rd(hr,pr,_r);case 4:return Fo(pr,pr.stateNode.containerInfo),Cr=pr.pendingProps,hr===null?pr.child=Zf(pr,null,Cr,_r):ou(hr,pr,Cr,_r),pr.child;case 11:return gc(hr,pr,pr.type,pr.pendingProps,_r);case 7:return ou(hr,pr,pr.pendingProps,_r),pr.child;case 8:return ou(hr,pr,pr.pendingProps.children,_r),pr.child;case 12:return ou(hr,pr,pr.pendingProps.children,_r),pr.child;case 10:return Cr=pr.pendingProps,Sm(pr,pr.type,Cr.value),ou(hr,pr,Cr.children,_r),pr.child;case 9:return Wr=pr.type._context,Cr=pr.pendingProps.children,Cp(pr),Wr=ed(Wr),Cr=Cr(Wr),pr.flags|=1,ou(hr,pr,Cr,_r),pr.child;case 14:return Xg(hr,pr,pr.type,pr.pendingProps,_r);case 15:return Dx(hr,pr,pr.type,pr.pendingProps,_r);case 19:return Nm(hr,pr,_r);case 31:return e0(hr,pr,_r);case 22:return tp(hr,pr,_r,pr.pendingProps);case 24:return Cp(pr),Cr=ed(Mh),hr===null?(Wr=fv(),Wr===null&&(Wr=Xu,Xr=Xf(),Wr.pooledCache=Xr,Xr.refCount++,Xr!==null&&(Wr.pooledCacheLanes|=_r),Wr=Xr),pr.memoizedState={parent:Cr,cache:Wr},Tp(pr),Sm(pr,Mh,Wr)):((hr.lanes&_r)!==0&&(yx(hr,pr),Bg(pr,null,null,_r),ag()),Wr=hr.memoizedState,Xr=pr.memoizedState,Wr.parent!==Cr?(Wr={parent:Cr,cache:Cr},pr.memoizedState=Wr,pr.lanes===0&&(pr.memoizedState=pr.updateQueue.baseState=Wr),Sm(pr,Mh,Cr)):(Cr=Xr.cache,Sm(pr,Mh,Cr),Cr!==Wr.cache&&ly(pr,[Mh],_r,!0))),ou(hr,pr,pr.pendingProps.children,_r),pr.child;case 29:throw pr.pendingProps}throw Error(nr(156,pr.tag))}function rm(hr){hr.flags|=4}function $y(hr,pr,_r,Cr,Wr){if((pr=(hr.mode&32)!==0)&&(pr=!1),pr){if(hr.flags|=16777216,(Wr&335544128)===Wr)if(hr.stateNode.complete)hr.flags|=8192;else if(Yx())hr.flags|=8192;else throw Ap=xx,uy}else hr.flags&=-16777217}function xg(hr,pr){if(pr.type!=="stylesheet"||(pr.state.loading&4)!==0)hr.flags&=-16777217;else if(hr.flags|=16777216,!k0(pr))if(Yx())hr.flags|=8192;else throw Ap=xx,uy}function qg(hr,pr){pr!==null&&(hr.flags|=4),hr.flags&16384&&(pr=hr.tag!==22?Bc():536870912,hr.lanes|=pr,bg|=pr)}function Lx(hr,pr){if(!Xc)switch(hr.tailMode){case"hidden":pr=hr.tail;for(var _r=null;pr!==null;)pr.alternate!==null&&(_r=pr),pr=pr.sibling;_r===null?hr.tail=null:_r.sibling=null;break;case"collapsed":_r=hr.tail;for(var Cr=null;_r!==null;)_r.alternate!==null&&(Cr=_r),_r=_r.sibling;Cr===null?pr||hr.tail===null?hr.tail=null:hr.tail.sibling=null:Cr.sibling=null}}function Yu(hr){var pr=hr.alternate!==null&&hr.alternate.child===hr.child,_r=0,Cr=0;if(pr)for(var Wr=hr.child;Wr!==null;)_r|=Wr.lanes|Wr.childLanes,Cr|=Wr.subtreeFlags&65011712,Cr|=Wr.flags&65011712,Wr.return=hr,Wr=Wr.sibling;else for(Wr=hr.child;Wr!==null;)_r|=Wr.lanes|Wr.childLanes,Cr|=Wr.subtreeFlags,Cr|=Wr.flags,Wr.return=hr,Wr=Wr.sibling;return hr.subtreeFlags|=Cr,hr.childLanes=_r,pr}function Iy(hr,pr,_r){var Cr=pr.pendingProps;switch(Tu(pr),pr.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yu(pr),null;case 1:return Yu(pr),null;case 3:return _r=pr.stateNode,Cr=null,hr!==null&&(Cr=hr.memoizedState.cache),pr.memoizedState.cache!==Cr&&(pr.flags|=2048),Yp(Mh),Co(),_r.pendingContext&&(_r.context=_r.pendingContext,_r.pendingContext=null),(hr===null||hr.child===null)&&(kf(pr)?rm(pr):hr===null||hr.memoizedState.isDehydrated&&(pr.flags&256)===0||(pr.flags|=1024,jp())),Yu(pr),null;case 26:var Wr=pr.type,Xr=pr.memoizedState;return hr===null?(rm(pr),Xr!==null?(Yu(pr),xg(pr,Xr)):(Yu(pr),$y(pr,Wr,null,Cr,_r))):Xr?Xr!==hr.memoizedState?(rm(pr),Yu(pr),xg(pr,Xr)):(Yu(pr),pr.flags&=-16777217):(hr=hr.memoizedProps,hr!==Cr&&rm(pr),Yu(pr),$y(pr,Wr,hr,Cr,_r)),null;case 27:if(el(pr),_r=wo.current,Wr=pr.type,hr!==null&&pr.stateNode!=null)hr.memoizedProps!==Cr&&rm(pr);else{if(!Cr){if(pr.stateNode===null)throw Error(nr(166));return Yu(pr),null}hr=bo.current,kf(pr)?Em(pr):(hr=b0(Wr,Cr,_r),pr.stateNode=hr,rm(pr))}return Yu(pr),null;case 5:if(el(pr),Wr=pr.type,hr!==null&&pr.stateNode!=null)hr.memoizedProps!==Cr&&rm(pr);else{if(!Cr){if(pr.stateNode===null)throw Error(nr(166));return Yu(pr),null}if(Xr=bo.current,kf(pr))Em(pr);else{var xo=Gl(wo.current);switch(Xr){case 1:Xr=xo.createElementNS("http://www.w3.org/2000/svg",Wr);break;case 2:Xr=xo.createElementNS("http://www.w3.org/1998/Math/MathML",Wr);break;default:switch(Wr){case"svg":Xr=xo.createElementNS("http://www.w3.org/2000/svg",Wr);break;case"math":Xr=xo.createElementNS("http://www.w3.org/1998/Math/MathML",Wr);break;case"script":Xr=xo.createElement("div"),Xr.innerHTML="<script><\/script>",Xr=Xr.removeChild(Xr.firstChild);break;case"select":Xr=typeof Cr.is=="string"?xo.createElement("select",{is:Cr.is}):xo.createElement("select"),Cr.multiple?Xr.multiple=!0:Cr.size&&(Xr.size=Cr.size);break;default:Xr=typeof Cr.is=="string"?xo.createElement(Wr,{is:Cr.is}):xo.createElement(Wr)}}Xr[Mc]=pr,Xr[eu]=Cr;e:for(xo=pr.child;xo!==null;){if(xo.tag===5||xo.tag===6)Xr.appendChild(xo.stateNode);else if(xo.tag!==4&&xo.tag!==27&&xo.child!==null){xo.child.return=xo,xo=xo.child;continue}if(xo===pr)break e;for(;xo.sibling===null;){if(xo.return===null||xo.return===pr)break e;xo=xo.return}xo.sibling.return=xo.return,xo=xo.sibling}pr.stateNode=Xr;e:switch(vl(Xr,Wr,Cr),Wr){case"button":case"input":case"select":case"textarea":Cr=!!Cr.autoFocus;break e;case"img":Cr=!0;break e;default:Cr=!1}Cr&&rm(pr)}}return Yu(pr),$y(pr,pr.type,hr===null?null:hr.memoizedProps,pr.pendingProps,_r),null;case 6:if(hr&&pr.stateNode!=null)hr.memoizedProps!==Cr&&rm(pr);else{if(typeof Cr!="string"&&pr.stateNode===null)throw Error(nr(166));if(hr=wo.current,kf(pr)){if(hr=pr.stateNode,_r=pr.memoizedProps,Cr=null,Wr=fu,Wr!==null)switch(Wr.tag){case 27:case 5:Cr=Wr.memoizedProps}hr[Mc]=pr,hr=!!(hr.nodeValue===_r||Cr!==null&&Cr.suppressHydrationWarning===!0||qo(hr.nodeValue,_r)),hr||Sp(pr,!0)}else hr=Gl(hr).createTextNode(Cr),hr[Mc]=pr,pr.stateNode=hr}return Yu(pr),null;case 31:if(_r=pr.memoizedState,hr===null||hr.memoizedState!==null){if(Cr=kf(pr),_r!==null){if(hr===null){if(!Cr)throw Error(nr(318));if(hr=pr.memoizedState,hr=hr!==null?hr.dehydrated:null,!hr)throw Error(nr(557));hr[Mc]=pr}else ko(),(pr.flags&128)===0&&(pr.memoizedState=null),pr.flags|=4;Yu(pr),hr=!1}else _r=jp(),hr!==null&&hr.memoizedState!==null&&(hr.memoizedState.hydrationErrors=_r),hr=!0;if(!hr)return pr.flags&256?(Ru(pr),pr):(Ru(pr),null);if((pr.flags&128)!==0)throw Error(nr(558))}return Yu(pr),null;case 13:if(Cr=pr.memoizedState,hr===null||hr.memoizedState!==null&&hr.memoizedState.dehydrated!==null){if(Wr=kf(pr),Cr!==null&&Cr.dehydrated!==null){if(hr===null){if(!Wr)throw Error(nr(318));if(Wr=pr.memoizedState,Wr=Wr!==null?Wr.dehydrated:null,!Wr)throw Error(nr(317));Wr[Mc]=pr}else ko(),(pr.flags&128)===0&&(pr.memoizedState=null),pr.flags|=4;Yu(pr),Wr=!1}else Wr=jp(),hr!==null&&hr.memoizedState!==null&&(hr.memoizedState.hydrationErrors=Wr),Wr=!0;if(!Wr)return pr.flags&256?(Ru(pr),pr):(Ru(pr),null)}return Ru(pr),(pr.flags&128)!==0?(pr.lanes=_r,pr):(_r=Cr!==null,hr=hr!==null&&hr.memoizedState!==null,_r&&(Cr=pr.child,Wr=null,Cr.alternate!==null&&Cr.alternate.memoizedState!==null&&Cr.alternate.memoizedState.cachePool!==null&&(Wr=Cr.alternate.memoizedState.cachePool.pool),Xr=null,Cr.memoizedState!==null&&Cr.memoizedState.cachePool!==null&&(Xr=Cr.memoizedState.cachePool.pool),Xr!==Wr&&(Cr.flags|=2048)),_r!==hr&&_r&&(pr.child.flags|=8192),qg(pr,pr.updateQueue),Yu(pr),null);case 4:return Co(),hr===null&&po(pr.stateNode.containerInfo),Yu(pr),null;case 10:return Yp(pr.type),Yu(pr),null;case 19:if(mo(Sh),Cr=pr.memoizedState,Cr===null)return Yu(pr),null;if(Wr=(pr.flags&128)!==0,Xr=Cr.rendering,Xr===null)if(Wr)Lx(Cr,!1);else{if(vh!==0||hr!==null&&(hr.flags&128)!==0)for(hr=pr.child;hr!==null;){if(Xr=gy(hr),Xr!==null){for(pr.flags|=128,Lx(Cr,!1),hr=Xr.updateQueue,pr.updateQueue=hr,qg(pr,hr),pr.subtreeFlags=0,hr=_r,_r=pr.child;_r!==null;)ju(_r,hr),_r=_r.sibling;return Eo(Sh,Sh.current&1|2),Xc&&ic(pr,Cr.treeForkCount),pr.child}hr=hr.sibling}Cr.tail!==null&&oc()>_g&&(pr.flags|=128,Wr=!0,Lx(Cr,!1),pr.lanes=4194304)}else{if(!Wr)if(hr=gy(Xr),hr!==null){if(pr.flags|=128,Wr=!0,hr=hr.updateQueue,pr.updateQueue=hr,qg(pr,hr),Lx(Cr,!0),Cr.tail===null&&Cr.tailMode==="hidden"&&!Xr.alternate&&!Xc)return Yu(pr),null}else 2*oc()-Cr.renderingStartTime>_g&&_r!==536870912&&(pr.flags|=128,Wr=!0,Lx(Cr,!1),pr.lanes=4194304);Cr.isBackwards?(Xr.sibling=pr.child,pr.child=Xr):(hr=Cr.last,hr!==null?hr.sibling=Xr:pr.child=Xr,Cr.last=Xr)}return Cr.tail!==null?(hr=Cr.tail,Cr.rendering=hr,Cr.tail=hr.sibling,Cr.renderingStartTime=oc(),hr.sibling=null,_r=Sh.current,Eo(Sh,Wr?_r&1|2:_r&1),Xc&&ic(pr,Cr.treeForkCount),hr):(Yu(pr),null);case 22:case 23:return Ru(pr),Am(),Cr=pr.memoizedState!==null,hr!==null?hr.memoizedState!==null!==Cr&&(pr.flags|=8192):Cr&&(pr.flags|=8192),Cr?(_r&536870912)!==0&&(pr.flags&128)===0&&(Yu(pr),pr.subtreeFlags&6&&(pr.flags|=8192)):Yu(pr),_r=pr.updateQueue,_r!==null&&qg(pr,_r.retryQueue),_r=null,hr!==null&&hr.memoizedState!==null&&hr.memoizedState.cachePool!==null&&(_r=hr.memoizedState.cachePool.pool),Cr=null,pr.memoizedState!==null&&pr.memoizedState.cachePool!==null&&(Cr=pr.memoizedState.cachePool.pool),Cr!==_r&&(pr.flags|=2048),hr!==null&&mo(qp),null;case 24:return _r=null,hr!==null&&(_r=hr.memoizedState.cache),pr.memoizedState.cache!==_r&&(pr.flags|=2048),Yp(Mh),Yu(pr),null;case 25:return null;case 30:return null}throw Error(nr(156,pr.tag))}function rp(hr,pr){switch(Tu(pr),pr.tag){case 1:return hr=pr.flags,hr&65536?(pr.flags=hr&-65537|128,pr):null;case 3:return Yp(Mh),Co(),hr=pr.flags,(hr&65536)!==0&&(hr&128)===0?(pr.flags=hr&-65537|128,pr):null;case 26:case 27:case 5:return el(pr),null;case 31:if(pr.memoizedState!==null){if(Ru(pr),pr.alternate===null)throw Error(nr(340));ko()}return hr=pr.flags,hr&65536?(pr.flags=hr&-65537|128,pr):null;case 13:if(Ru(pr),hr=pr.memoizedState,hr!==null&&hr.dehydrated!==null){if(pr.alternate===null)throw Error(nr(340));ko()}return hr=pr.flags,hr&65536?(pr.flags=hr&-65537|128,pr):null;case 19:return mo(Sh),null;case 4:return Co(),null;case 10:return Yp(pr.type),null;case 22:case 23:return Ru(pr),Am(),hr!==null&&mo(qp),hr=pr.flags,hr&65536?(pr.flags=hr&-65537|128,pr):null;case 24:return Yp(Mh),null;case 25:return null;default:return null}}function Kg(hr,pr){switch(Tu(pr),pr.tag){case 3:Yp(Mh),Co();break;case 26:case 27:case 5:el(pr);break;case 4:Co();break;case 31:pr.memoizedState!==null&&Ru(pr);break;case 13:Ru(pr);break;case 19:mo(Sh);break;case 10:Yp(pr.type);break;case 22:case 23:Ru(pr),Am(),hr!==null&&mo(qp);break;case 24:Yp(Mh)}}function Zg(hr,pr){try{var _r=pr.updateQueue,Cr=_r!==null?_r.lastEffect:null;if(Cr!==null){var Wr=Cr.next;_r=Wr;do{if((_r.tag&hr)===hr){Cr=void 0;var Xr=_r.create,xo=_r.inst;Cr=Xr(),xo.destroy=Cr}_r=_r.next}while(_r!==Wr)}}catch(Ao){Ou(pr,pr.return,Ao)}}function sm(hr,pr,_r){try{var Cr=pr.updateQueue,Wr=Cr!==null?Cr.lastEffect:null;if(Wr!==null){var Xr=Wr.next;Cr=Xr;do{if((Cr.tag&hr)===hr){var xo=Cr.inst,Ao=xo.destroy;if(Ao!==void 0){xo.destroy=void 0,Wr=pr;var Vo=_r,cl=Ao;try{cl()}catch(wl){Ou(Wr,Vo,wl)}}}Cr=Cr.next}while(Cr!==Xr)}}catch(wl){Ou(pr,pr.return,wl)}}function $x(hr){var pr=hr.updateQueue;if(pr!==null){var _r=hr.stateNode;try{py(pr,_r)}catch(Cr){Ou(hr,hr.return,Cr)}}}function Cv(hr,pr,_r){_r.props=nd(hr.type,hr.memoizedProps),_r.state=hr.memoizedState;try{_r.componentWillUnmount()}catch(Cr){Ou(hr,pr,Cr)}}function qd(hr,pr){try{var _r=hr.ref;if(_r!==null){switch(hr.tag){case 26:case 27:case 5:var Cr=hr.stateNode;break;case 30:Cr=hr.stateNode;break;default:Cr=hr.stateNode}typeof _r=="function"?hr.refCleanup=_r(Cr):_r.current=Cr}}catch(Wr){Ou(hr,pr,Wr)}}function xd(hr,pr){var _r=hr.ref,Cr=hr.refCleanup;if(_r!==null)if(typeof Cr=="function")try{Cr()}catch(Wr){Ou(hr,pr,Wr)}finally{hr.refCleanup=null,hr=hr.alternate,hr!=null&&(hr.refCleanup=null)}else if(typeof _r=="function")try{_r(null)}catch(Wr){Ou(hr,pr,Wr)}else _r.current=null}function bb(hr){var pr=hr.type,_r=hr.memoizedProps,Cr=hr.stateNode;try{e:switch(pr){case"button":case"input":case"select":case"textarea":_r.autoFocus&&Cr.focus();break e;case"img":_r.src?Cr.src=_r.src:_r.srcSet&&(Cr.srcset=_r.srcSet)}}catch(Wr){Ou(hr,hr.return,Wr)}}function Fy(hr,pr,_r){try{var Cr=hr.stateNode;yl(Cr,hr.type,_r,pr),Cr[eu]=pr}catch(Wr){Ou(hr,hr.return,Wr)}}function _b(hr){return hr.tag===5||hr.tag===3||hr.tag===26||hr.tag===27&&zl(hr.type)||hr.tag===4}function kv(hr){e:for(;;){for(;hr.sibling===null;){if(hr.return===null||_b(hr.return))return null;hr=hr.return}for(hr.sibling.return=hr.return,hr=hr.sibling;hr.tag!==5&&hr.tag!==6&&hr.tag!==18;){if(hr.tag===27&&zl(hr.type)||hr.flags&2||hr.child===null||hr.tag===4)continue e;hr.child.return=hr,hr=hr.child}if(!(hr.flags&2))return hr.stateNode}}function Av(hr,pr,_r){var Cr=hr.tag;if(Cr===5||Cr===6)hr=hr.stateNode,pr?(_r.nodeType===9?_r.body:_r.nodeName==="HTML"?_r.ownerDocument.body:_r).insertBefore(hr,pr):(pr=_r.nodeType===9?_r.body:_r.nodeName==="HTML"?_r.ownerDocument.body:_r,pr.appendChild(hr),_r=_r._reactRootContainer,_r!=null||pr.onclick!==null||(pr.onclick=Qu));else if(Cr!==4&&(Cr===27&&zl(hr.type)&&(_r=hr.stateNode,pr=null),hr=hr.child,hr!==null))for(Av(hr,pr,_r),hr=hr.sibling;hr!==null;)Av(hr,pr,_r),hr=hr.sibling}function Ix(hr,pr,_r){var Cr=hr.tag;if(Cr===5||Cr===6)hr=hr.stateNode,pr?_r.insertBefore(hr,pr):_r.appendChild(hr);else if(Cr!==4&&(Cr===27&&zl(hr.type)&&(_r=hr.stateNode),hr=hr.child,hr!==null))for(Ix(hr,pr,_r),hr=hr.sibling;hr!==null;)Ix(hr,pr,_r),hr=hr.sibling}function wb(hr){var pr=hr.stateNode,_r=hr.memoizedProps;try{for(var Cr=hr.type,Wr=pr.attributes;Wr.length;)pr.removeAttributeNode(Wr[0]);vl(pr,Cr,_r),pr[Mc]=hr,pr[eu]=_r}catch(Xr){Ou(hr,hr.return,Xr)}}var Lp=!1,jh=!1,Tv=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,Xh=null;function By(hr,pr){if(hr=hr.containerInfo,Jl=Wb,hr=ng(hr),yp(hr)){if("selectionStart"in hr)var _r={start:hr.selectionStart,end:hr.selectionEnd};else e:{_r=(_r=hr.ownerDocument)&&_r.defaultView||window;var Cr=_r.getSelection&&_r.getSelection();if(Cr&&Cr.rangeCount!==0){_r=Cr.anchorNode;var Wr=Cr.anchorOffset,Xr=Cr.focusNode;Cr=Cr.focusOffset;try{_r.nodeType,Xr.nodeType}catch{_r=null;break e}var xo=0,Ao=-1,Vo=-1,cl=0,wl=0,Rl=hr,hl=null;t:for(;;){for(var gl;Rl!==_r||Wr!==0&&Rl.nodeType!==3||(Ao=xo+Wr),Rl!==Xr||Cr!==0&&Rl.nodeType!==3||(Vo=xo+Cr),Rl.nodeType===3&&(xo+=Rl.nodeValue.length),(gl=Rl.firstChild)!==null;)hl=Rl,Rl=gl;for(;;){if(Rl===hr)break t;if(hl===_r&&++cl===Wr&&(Ao=xo),hl===Xr&&++wl===Cr&&(Vo=xo),(gl=Rl.nextSibling)!==null)break;Rl=hl,hl=Rl.parentNode}Rl=gl}_r=Ao===-1||Vo===-1?null:{start:Ao,end:Vo}}else _r=null}_r=_r||{start:0,end:0}}else _r=null;for(Ll={focusedElem:hr,selectionRange:_r},Wb=!1,Xh=pr;Xh!==null;)if(pr=Xh,hr=pr.child,(pr.subtreeFlags&1028)!==0&&hr!==null)hr.return=pr,Xh=hr;else for(;Xh!==null;){switch(pr=Xh,Xr=pr.alternate,hr=pr.flags,pr.tag){case 0:if((hr&4)!==0&&(hr=pr.updateQueue,hr=hr!==null?hr.events:null,hr!==null))for(_r=0;_r<hr.length;_r++)Wr=hr[_r],Wr.ref.impl=Wr.nextImpl;break;case 11:case 15:break;case 1:if((hr&1024)!==0&&Xr!==null){hr=void 0,_r=pr,Wr=Xr.memoizedProps,Xr=Xr.memoizedState,Cr=_r.stateNode;try{var rc=nd(_r.type,Wr);hr=Cr.getSnapshotBeforeUpdate(rc,Xr),Cr.__reactInternalSnapshotBeforeUpdate=hr}catch(Sc){Ou(_r,_r.return,Sc)}}break;case 3:if((hr&1024)!==0){if(hr=pr.stateNode.containerInfo,_r=hr.nodeType,_r===9)od(hr);else if(_r===1)switch(hr.nodeName){case"HEAD":case"HTML":case"BODY":od(hr);break;default:hr.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((hr&1024)!==0)throw Error(nr(163))}if(hr=pr.sibling,hr!==null){hr.return=pr.return,Xh=hr;break}Xh=pr.return}}function Fx(hr,pr,_r){var Cr=_r.flags;switch(_r.tag){case 0:case 11:case 15:$f(hr,_r),Cr&4&&Zg(5,_r);break;case 1:if($f(hr,_r),Cr&4)if(hr=_r.stateNode,pr===null)try{hr.componentDidMount()}catch(xo){Ou(_r,_r.return,xo)}else{var Wr=nd(_r.type,pr.memoizedProps);pr=pr.memoizedState;try{hr.componentDidUpdate(Wr,pr,hr.__reactInternalSnapshotBeforeUpdate)}catch(xo){Ou(_r,_r.return,xo)}}Cr&64&&$x(_r),Cr&512&&qd(_r,_r.return);break;case 3:if($f(hr,_r),Cr&64&&(hr=_r.updateQueue,hr!==null)){if(pr=null,_r.child!==null)switch(_r.child.tag){case 27:case 5:pr=_r.child.stateNode;break;case 1:pr=_r.child.stateNode}try{py(hr,pr)}catch(xo){Ou(_r,_r.return,xo)}}break;case 27:pr===null&&Cr&4&&wb(_r);case 26:case 5:$f(hr,_r),pr===null&&Cr&4&&bb(_r),Cr&512&&qd(_r,_r.return);break;case 12:$f(hr,_r);break;case 31:$f(hr,_r),Cr&4&&Dv(hr,_r);break;case 13:$f(hr,_r),Cr&4&&Hy(hr,_r),Cr&64&&(hr=_r.memoizedState,hr!==null&&(hr=hr.dehydrated,hr!==null&&(_r=tv.bind(null,_r),Eg(hr,_r))));break;case 22:if(Cr=_r.memoizedState!==null||Lp,!Cr){pr=pr!==null&&pr.memoizedState!==null||jh,Wr=Lp;var Xr=jh;Lp=Cr,(jh=pr)&&!Xr?op(hr,_r,(_r.subtreeFlags&8772)!==0):$f(hr,_r),Lp=Wr,jh=Xr}break;case 30:break;default:$f(hr,_r)}}function zy(hr){var pr=hr.alternate;pr!==null&&(hr.alternate=null,zy(pr)),hr.child=null,hr.deletions=null,hr.sibling=null,hr.tag===5&&(pr=hr.stateNode,pr!==null&&qh(pr)),hr.stateNode=null,hr.return=null,hr.dependencies=null,hr.memoizedProps=null,hr.memoizedState=null,hr.pendingProps=null,hr.stateNode=null,hr.updateQueue=null}var hh=null,sd=!1;function sp(hr,pr,_r){for(_r=_r.child;_r!==null;)Pv(hr,pr,_r),_r=_r.sibling}function Pv(hr,pr,_r){if(al&&typeof al.onCommitFiberUnmount=="function")try{al.onCommitFiberUnmount(Hl,_r)}catch{}switch(_r.tag){case 26:jh||xd(_r,pr),sp(hr,pr,_r),_r.memoizedState?_r.memoizedState.count--:_r.stateNode&&(_r=_r.stateNode,_r.parentNode.removeChild(_r));break;case 27:jh||xd(_r,pr);var Cr=hh,Wr=sd;zl(_r.type)&&(hh=_r.stateNode,sd=!1),sp(hr,pr,_r),Kv(_r.stateNode),hh=Cr,sd=Wr;break;case 5:jh||xd(_r,pr);case 6:if(Cr=hh,Wr=sd,hh=null,sp(hr,pr,_r),hh=Cr,sd=Wr,hh!==null)if(sd)try{(hh.nodeType===9?hh.body:hh.nodeName==="HTML"?hh.ownerDocument.body:hh).removeChild(_r.stateNode)}catch(Xr){Ou(_r,pr,Xr)}else try{hh.removeChild(_r.stateNode)}catch(Xr){Ou(_r,pr,Xr)}break;case 18:hh!==null&&(sd?(hr=hh,rh(hr.nodeType===9?hr.body:hr.nodeName==="HTML"?hr.ownerDocument.body:hr,_r.stateNode),uv(hr)):rh(hh,_r.stateNode));break;case 4:Cr=hh,Wr=sd,hh=_r.stateNode.containerInfo,sd=!0,sp(hr,pr,_r),hh=Cr,sd=Wr;break;case 0:case 11:case 14:case 15:sm(2,_r,pr),jh||sm(4,_r,pr),sp(hr,pr,_r);break;case 1:jh||(xd(_r,pr),Cr=_r.stateNode,typeof Cr.componentWillUnmount=="function"&&Cv(_r,pr,Cr)),sp(hr,pr,_r);break;case 21:sp(hr,pr,_r);break;case 22:jh=(Cr=jh)||_r.memoizedState!==null,sp(hr,pr,_r),jh=Cr;break;default:sp(hr,pr,_r)}}function Dv(hr,pr){if(pr.memoizedState===null&&(hr=pr.alternate,hr!==null&&(hr=hr.memoizedState,hr!==null))){hr=hr.dehydrated;try{uv(hr)}catch(_r){Ou(pr,pr.return,_r)}}}function Hy(hr,pr){if(pr.memoizedState===null&&(hr=pr.alternate,hr!==null&&(hr=hr.memoizedState,hr!==null&&(hr=hr.dehydrated,hr!==null))))try{uv(hr)}catch(_r){Ou(pr,pr.return,_r)}}function n0(hr){switch(hr.tag){case 31:case 13:case 19:var pr=hr.stateNode;return pr===null&&(pr=hr.stateNode=new Eb),pr;case 22:return hr=hr.stateNode,pr=hr._retryCache,pr===null&&(pr=hr._retryCache=new Eb),pr;default:throw Error(nr(435,hr.tag))}}function Wy(hr,pr){var _r=n0(hr);pr.forEach(function(Cr){if(!_r.has(Cr)){_r.add(Cr);var Wr=Yv.bind(null,hr,Cr);Cr.then(Wr,Wr)}})}function yd(hr,pr){var _r=pr.deletions;if(_r!==null)for(var Cr=0;Cr<_r.length;Cr++){var Wr=_r[Cr],Xr=hr,xo=pr,Ao=xo;e:for(;Ao!==null;){switch(Ao.tag){case 27:if(zl(Ao.type)){hh=Ao.stateNode,sd=!1;break e}break;case 5:hh=Ao.stateNode,sd=!1;break e;case 3:case 4:hh=Ao.stateNode.containerInfo,sd=!0;break e}Ao=Ao.return}if(hh===null)throw Error(nr(160));Pv(Xr,xo,Wr),hh=null,sd=!1,Xr=Wr.alternate,Xr!==null&&(Xr.return=null),Wr.return=null}if(pr.subtreeFlags&13886)for(pr=pr.child;pr!==null;)Sb(pr,hr),pr=pr.sibling}var ap=null;function Sb(hr,pr){var _r=hr.alternate,Cr=hr.flags;switch(hr.tag){case 0:case 11:case 14:case 15:yd(pr,hr),dh(hr),Cr&4&&(sm(3,hr,hr.return),Zg(3,hr),sm(5,hr,hr.return));break;case 1:yd(pr,hr),dh(hr),Cr&512&&(jh||_r===null||xd(_r,_r.return)),Cr&64&&Lp&&(hr=hr.updateQueue,hr!==null&&(Cr=hr.callbacks,Cr!==null&&(_r=hr.shared.hiddenCallbacks,hr.shared.hiddenCallbacks=_r===null?Cr:_r.concat(Cr))));break;case 26:var Wr=ap;if(yd(pr,hr),dh(hr),Cr&512&&(jh||_r===null||xd(_r,_r.return)),Cr&4){var Xr=_r!==null?_r.memoizedState:null;if(Cr=hr.memoizedState,_r===null)if(Cr===null)if(hr.stateNode===null){e:{Cr=hr.type,_r=hr.memoizedProps,Wr=Wr.ownerDocument||Wr;t:switch(Cr){case"title":Xr=Wr.getElementsByTagName("title")[0],(!Xr||Xr[Iu]||Xr[Mc]||Xr.namespaceURI==="http://www.w3.org/2000/svg"||Xr.hasAttribute("itemprop"))&&(Xr=Wr.createElement(Cr),Wr.head.insertBefore(Xr,Wr.querySelector("head > title"))),vl(Xr,Cr,_r),Xr[Mc]=hr,tu(Xr),Cr=Xr;break e;case"link":var xo=R0("link","href",Wr).get(Cr+(_r.href||""));if(xo){for(var Ao=0;Ao<xo.length;Ao++)if(Xr=xo[Ao],Xr.getAttribute("href")===(_r.href==null||_r.href===""?null:_r.href)&&Xr.getAttribute("rel")===(_r.rel==null?null:_r.rel)&&Xr.getAttribute("title")===(_r.title==null?null:_r.title)&&Xr.getAttribute("crossorigin")===(_r.crossOrigin==null?null:_r.crossOrigin)){xo.splice(Ao,1);break t}}Xr=Wr.createElement(Cr),vl(Xr,Cr,_r),Wr.head.appendChild(Xr);break;case"meta":if(xo=R0("meta","content",Wr).get(Cr+(_r.content||""))){for(Ao=0;Ao<xo.length;Ao++)if(Xr=xo[Ao],Xr.getAttribute("content")===(_r.content==null?null:""+_r.content)&&Xr.getAttribute("name")===(_r.name==null?null:_r.name)&&Xr.getAttribute("property")===(_r.property==null?null:_r.property)&&Xr.getAttribute("http-equiv")===(_r.httpEquiv==null?null:_r.httpEquiv)&&Xr.getAttribute("charset")===(_r.charSet==null?null:_r.charSet)){xo.splice(Ao,1);break t}}Xr=Wr.createElement(Cr),vl(Xr,Cr,_r),Wr.head.appendChild(Xr);break;default:throw Error(nr(468,Cr))}Xr[Mc]=hr,tu(Xr),Cr=Xr}hr.stateNode=Cr}else C0(Wr,hr.type,hr.stateNode);else hr.stateNode=j0(Wr,Cr,hr.memoizedProps);else Xr!==Cr?(Xr===null?_r.stateNode!==null&&(_r=_r.stateNode,_r.parentNode.removeChild(_r)):Xr.count--,Cr===null?C0(Wr,hr.type,hr.stateNode):j0(Wr,Cr,hr.memoizedProps)):Cr===null&&hr.stateNode!==null&&Fy(hr,hr.memoizedProps,_r.memoizedProps)}break;case 27:yd(pr,hr),dh(hr),Cr&512&&(jh||_r===null||xd(_r,_r.return)),_r!==null&&Cr&4&&Fy(hr,hr.memoizedProps,_r.memoizedProps);break;case 5:if(yd(pr,hr),dh(hr),Cr&512&&(jh||_r===null||xd(_r,_r.return)),hr.flags&32){Wr=hr.stateNode;try{Bo(Wr,"")}catch(rc){Ou(hr,hr.return,rc)}}Cr&4&&hr.stateNode!=null&&(Wr=hr.memoizedProps,Fy(hr,Wr,_r!==null?_r.memoizedProps:Wr)),Cr&1024&&(Tv=!0);break;case 6:if(yd(pr,hr),dh(hr),Cr&4){if(hr.stateNode===null)throw Error(nr(162));Cr=hr.memoizedProps,_r=hr.stateNode;try{_r.nodeValue=Cr}catch(rc){Ou(hr,hr.return,rc)}}break;case 3:if(Zv=null,Wr=ap,ap=$b(pr.containerInfo),yd(pr,hr),ap=Wr,dh(hr),Cr&4&&_r!==null&&_r.memoizedState.isDehydrated)try{uv(pr.containerInfo)}catch(rc){Ou(hr,hr.return,rc)}Tv&&(Tv=!1,Bx(hr));break;case 4:Cr=ap,ap=$b(hr.stateNode.containerInfo),yd(pr,hr),dh(hr),ap=Cr;break;case 12:yd(pr,hr),dh(hr);break;case 31:yd(pr,hr),dh(hr),Cr&4&&(Cr=hr.updateQueue,Cr!==null&&(hr.updateQueue=null,Wy(hr,Cr)));break;case 13:yd(pr,hr),dh(hr),hr.child.flags&8192&&hr.memoizedState!==null!=(_r!==null&&_r.memoizedState!==null)&&(zm=oc()),Cr&4&&(Cr=hr.updateQueue,Cr!==null&&(hr.updateQueue=null,Wy(hr,Cr)));break;case 22:Wr=hr.memoizedState!==null;var Vo=_r!==null&&_r.memoizedState!==null,cl=Lp,wl=jh;if(Lp=cl||Wr,jh=wl||Vo,yd(pr,hr),jh=wl,Lp=cl,dh(hr),Cr&8192)e:for(pr=hr.stateNode,pr._visibility=Wr?pr._visibility&-2:pr._visibility|1,Wr&&(_r===null||Vo||Lp||jh||Lm(hr)),_r=null,pr=hr;;){if(pr.tag===5||pr.tag===26){if(_r===null){Vo=_r=pr;try{if(Xr=Vo.stateNode,Wr)xo=Xr.style,typeof xo.setProperty=="function"?xo.setProperty("display","none","important"):xo.display="none";else{Ao=Vo.stateNode;var Rl=Vo.memoizedProps.style,hl=Rl!=null&&Rl.hasOwnProperty("display")?Rl.display:null;Ao.style.display=hl==null||typeof hl=="boolean"?"":(""+hl).trim()}}catch(rc){Ou(Vo,Vo.return,rc)}}}else if(pr.tag===6){if(_r===null){Vo=pr;try{Vo.stateNode.nodeValue=Wr?"":Vo.memoizedProps}catch(rc){Ou(Vo,Vo.return,rc)}}}else if(pr.tag===18){if(_r===null){Vo=pr;try{var gl=Vo.stateNode;Wr?qu(gl,!0):qu(Vo.stateNode,!1)}catch(rc){Ou(Vo,Vo.return,rc)}}}else if((pr.tag!==22&&pr.tag!==23||pr.memoizedState===null||pr===hr)&&pr.child!==null){pr.child.return=pr,pr=pr.child;continue}if(pr===hr)break e;for(;pr.sibling===null;){if(pr.return===null||pr.return===hr)break e;_r===pr&&(_r=null),pr=pr.return}_r===pr&&(_r=null),pr.sibling.return=pr.return,pr=pr.sibling}Cr&4&&(Cr=hr.updateQueue,Cr!==null&&(_r=Cr.retryQueue,_r!==null&&(Cr.retryQueue=null,Wy(hr,_r))));break;case 19:yd(pr,hr),dh(hr),Cr&4&&(Cr=hr.updateQueue,Cr!==null&&(hr.updateQueue=null,Wy(hr,Cr)));break;case 30:break;case 21:break;default:yd(pr,hr),dh(hr)}}function dh(hr){var pr=hr.flags;if(pr&2){try{for(var _r,Cr=hr.return;Cr!==null;){if(_b(Cr)){_r=Cr;break}Cr=Cr.return}if(_r==null)throw Error(nr(160));switch(_r.tag){case 27:var Wr=_r.stateNode,Xr=kv(hr);Ix(hr,Xr,Wr);break;case 5:var xo=_r.stateNode;_r.flags&32&&(Bo(xo,""),_r.flags&=-33);var Ao=kv(hr);Ix(hr,Ao,xo);break;case 3:case 4:var Vo=_r.stateNode.containerInfo,cl=kv(hr);Av(hr,cl,Vo);break;default:throw Error(nr(161))}}catch(wl){Ou(hr,hr.return,wl)}hr.flags&=-3}pr&4096&&(hr.flags&=-4097)}function Bx(hr){if(hr.subtreeFlags&1024)for(hr=hr.child;hr!==null;){var pr=hr;Bx(pr),pr.tag===5&&pr.flags&1024&&pr.stateNode.reset(),hr=hr.sibling}}function $f(hr,pr){if(pr.subtreeFlags&8772)for(pr=pr.child;pr!==null;)Fx(hr,pr.alternate,pr),pr=pr.sibling}function Lm(hr){for(hr=hr.child;hr!==null;){var pr=hr;switch(pr.tag){case 0:case 11:case 14:case 15:sm(4,pr,pr.return),Lm(pr);break;case 1:xd(pr,pr.return);var _r=pr.stateNode;typeof _r.componentWillUnmount=="function"&&Cv(pr,pr.return,_r),Lm(pr);break;case 27:Kv(pr.stateNode);case 26:case 5:xd(pr,pr.return),Lm(pr);break;case 22:pr.memoizedState===null&&Lm(pr);break;case 30:Lm(pr);break;default:Lm(pr)}hr=hr.sibling}}function op(hr,pr,_r){for(_r=_r&&(pr.subtreeFlags&8772)!==0,pr=pr.child;pr!==null;){var Cr=pr.alternate,Wr=hr,Xr=pr,xo=Xr.flags;switch(Xr.tag){case 0:case 11:case 15:op(Wr,Xr,_r),Zg(4,Xr);break;case 1:if(op(Wr,Xr,_r),Cr=Xr,Wr=Cr.stateNode,typeof Wr.componentDidMount=="function")try{Wr.componentDidMount()}catch(cl){Ou(Cr,Cr.return,cl)}if(Cr=Xr,Wr=Cr.updateQueue,Wr!==null){var Ao=Cr.stateNode;try{var Vo=Wr.shared.hiddenCallbacks;if(Vo!==null)for(Wr.shared.hiddenCallbacks=null,Wr=0;Wr<Vo.length;Wr++)Eh(Vo[Wr],Ao)}catch(cl){Ou(Cr,Cr.return,cl)}}_r&&xo&64&&$x(Xr),qd(Xr,Xr.return);break;case 27:wb(Xr);case 26:case 5:op(Wr,Xr,_r),_r&&Cr===null&&xo&4&&bb(Xr),qd(Xr,Xr.return);break;case 12:op(Wr,Xr,_r);break;case 31:op(Wr,Xr,_r),_r&&xo&4&&Dv(Wr,Xr);break;case 13:op(Wr,Xr,_r),_r&&xo&4&&Hy(Wr,Xr);break;case 22:Xr.memoizedState===null&&op(Wr,Xr,_r),qd(Xr,Xr.return);break;case 30:break;default:op(Wr,Xr,_r)}pr=pr.sibling}}function Gy(hr,pr){var _r=null;hr!==null&&hr.memoizedState!==null&&hr.memoizedState.cachePool!==null&&(_r=hr.memoizedState.cachePool.pool),hr=null,pr.memoizedState!==null&&pr.memoizedState.cachePool!==null&&(hr=pr.memoizedState.cachePool.pool),hr!==_r&&(hr!=null&&hr.refCount++,_r!=null&&kp(_r))}function Vy(hr,pr){hr=null,pr.alternate!==null&&(hr=pr.alternate.memoizedState.cache),pr=pr.memoizedState.cache,pr!==hr&&(pr.refCount++,hr!=null&&kp(hr))}function Kd(hr,pr,_r,Cr){if(pr.subtreeFlags&10256)for(pr=pr.child;pr!==null;)Uy(hr,pr,_r,Cr),pr=pr.sibling}function Uy(hr,pr,_r,Cr){var Wr=pr.flags;switch(pr.tag){case 0:case 11:case 15:Kd(hr,pr,_r,Cr),Wr&2048&&Zg(9,pr);break;case 1:Kd(hr,pr,_r,Cr);break;case 3:Kd(hr,pr,_r,Cr),Wr&2048&&(hr=null,pr.alternate!==null&&(hr=pr.alternate.memoizedState.cache),pr=pr.memoizedState.cache,pr!==hr&&(pr.refCount++,hr!=null&&kp(hr)));break;case 12:if(Wr&2048){Kd(hr,pr,_r,Cr),hr=pr.stateNode;try{var Xr=pr.memoizedProps,xo=Xr.id,Ao=Xr.onPostCommit;typeof Ao=="function"&&Ao(xo,pr.alternate===null?"mount":"update",hr.passiveEffectDuration,-0)}catch(Vo){Ou(pr,pr.return,Vo)}}else Kd(hr,pr,_r,Cr);break;case 31:Kd(hr,pr,_r,Cr);break;case 13:Kd(hr,pr,_r,Cr);break;case 23:break;case 22:Xr=pr.stateNode,xo=pr.alternate,pr.memoizedState!==null?Xr._visibility&2?Kd(hr,pr,_r,Cr):zx(hr,pr):Xr._visibility&2?Kd(hr,pr,_r,Cr):(Xr._visibility|=2,If(hr,pr,_r,Cr,(pr.subtreeFlags&10256)!==0||!1)),Wr&2048&&Gy(xo,pr);break;case 24:Kd(hr,pr,_r,Cr),Wr&2048&&Vy(pr.alternate,pr);break;default:Kd(hr,pr,_r,Cr)}}function If(hr,pr,_r,Cr,Wr){for(Wr=Wr&&((pr.subtreeFlags&10256)!==0||!1),pr=pr.child;pr!==null;){var Xr=hr,xo=pr,Ao=_r,Vo=Cr,cl=xo.flags;switch(xo.tag){case 0:case 11:case 15:If(Xr,xo,Ao,Vo,Wr),Zg(8,xo);break;case 23:break;case 22:var wl=xo.stateNode;xo.memoizedState!==null?wl._visibility&2?If(Xr,xo,Ao,Vo,Wr):zx(Xr,xo):(wl._visibility|=2,If(Xr,xo,Ao,Vo,Wr)),Wr&&cl&2048&&Gy(xo.alternate,xo);break;case 24:If(Xr,xo,Ao,Vo,Wr),Wr&&cl&2048&&Vy(xo.alternate,xo);break;default:If(Xr,xo,Ao,Vo,Wr)}pr=pr.sibling}}function zx(hr,pr){if(pr.subtreeFlags&10256)for(pr=pr.child;pr!==null;){var _r=hr,Cr=pr,Wr=Cr.flags;switch(Cr.tag){case 22:zx(_r,Cr),Wr&2048&&Gy(Cr.alternate,Cr);break;case 24:zx(_r,Cr),Wr&2048&&Vy(Cr.alternate,Cr);break;default:zx(_r,Cr)}pr=pr.sibling}}var $m=8192;function am(hr,pr,_r){if(hr.subtreeFlags&$m)for(hr=hr.child;hr!==null;)jb(hr,pr,_r),hr=hr.sibling}function jb(hr,pr,_r){switch(hr.tag){case 26:am(hr,pr,_r),hr.flags&$m&&hr.memoizedState!==null&&ov(_r,ap,hr.memoizedState,hr.memoizedProps);break;case 5:am(hr,pr,_r);break;case 3:case 4:var Cr=ap;ap=$b(hr.stateNode.containerInfo),am(hr,pr,_r),ap=Cr;break;case 22:hr.memoizedState===null&&(Cr=hr.alternate,Cr!==null&&Cr.memoizedState!==null?(Cr=$m,$m=16777216,am(hr,pr,_r),$m=Cr):am(hr,pr,_r));break;default:am(hr,pr,_r)}}function Rb(hr){var pr=hr.alternate;if(pr!==null&&(hr=pr.child,hr!==null)){pr.child=null;do pr=hr.sibling,hr.sibling=null,hr=pr;while(hr!==null)}}function lp(hr){var pr=hr.deletions;if((hr.flags&16)!==0){if(pr!==null)for(var _r=0;_r<pr.length;_r++){var Cr=pr[_r];Xh=Cr,Nv(Cr,hr)}Rb(hr)}if(hr.subtreeFlags&10256)for(hr=hr.child;hr!==null;)Mv(hr),hr=hr.sibling}function Mv(hr){switch(hr.tag){case 0:case 11:case 15:lp(hr),hr.flags&2048&&sm(9,hr,hr.return);break;case 3:lp(hr);break;case 12:lp(hr);break;case 22:var pr=hr.stateNode;hr.memoizedState!==null&&pr._visibility&2&&(hr.return===null||hr.return.tag!==13)?(pr._visibility&=-3,Qg(hr)):lp(hr);break;default:lp(hr)}}function Qg(hr){var pr=hr.deletions;if((hr.flags&16)!==0){if(pr!==null)for(var _r=0;_r<pr.length;_r++){var Cr=pr[_r];Xh=Cr,Nv(Cr,hr)}Rb(hr)}for(hr=hr.child;hr!==null;){switch(pr=hr,pr.tag){case 0:case 11:case 15:sm(8,pr,pr.return),Qg(pr);break;case 22:_r=pr.stateNode,_r._visibility&2&&(_r._visibility&=-3,Qg(pr));break;default:Qg(pr)}hr=hr.sibling}}function Nv(hr,pr){for(;Xh!==null;){var _r=Xh;switch(_r.tag){case 0:case 11:case 15:sm(8,_r,pr);break;case 23:case 22:if(_r.memoizedState!==null&&_r.memoizedState.cachePool!==null){var Cr=_r.memoizedState.cachePool.pool;Cr!=null&&Cr.refCount++}break;case 24:kp(_r.memoizedState.cache)}if(Cr=_r.child,Cr!==null)Cr.return=_r,Xh=Cr;else e:for(_r=hr;Xh!==null;){Cr=Xh;var Wr=Cr.sibling,Xr=Cr.return;if(zy(Cr),Cr===_r){Xh=null;break e}if(Wr!==null){Wr.return=Xr,Xh=Wr;break e}Xh=Xr}}}var Im={getCacheForType:function(hr){var pr=ed(Mh),_r=pr.data.get(hr);return _r===void 0&&(_r=hr(),pr.data.set(hr,_r)),_r},cacheSignal:function(){return ed(Mh).controller.signal}},Hx=typeof WeakMap=="function"?WeakMap:Map,pu=0,Xu=null,Uc=null,lu=0,Nu=0,vd=null,Fm=!1,yg=!1,Ov=!1,cp=0,vh=0,Bm=0,vg=0,Wx=0,ff=0,bg=0,Gx=null,Zd=null,Lv=!1,zm=0,$v=0,_g=1/0,Jg=null,up=null,Fh=0,om=null,ex=null,$p=0,Iv=0,Fv=null,Cb=null,Vx=0,Bv=null;function Qd(){return(pu&2)!==0&&lu!==0?lu&-lu:ao.T!==null?pf():bu()}function kb(){if(ff===0)if((lu&536870912)===0||Xc){var hr=Kc;Kc<<=1,(Kc&3932160)===0&&(Kc=262144),ff=hr}else ff=536870912;return hr=md.current,hr!==null&&(hr.flags|=32),ff}function Od(hr,pr,_r){(hr===Xu&&(Nu===2||Nu===9)||hr.cancelPendingCommit!==null)&&(tx(hr,0),hp(hr,lu,ff,!1)),Ul(hr,_r),((pu&2)===0||hr!==Xu)&&(hr===Xu&&((pu&2)===0&&(vg|=_r),vh===4&&hp(hr,lu,ff,!1)),Ip(hr))}function Ab(hr,pr,_r){if((pu&6)!==0)throw Error(nr(327));var Cr=!_r&&(pr&127)===0&&(pr&hr.expiredLanes)===0||Zc(hr,pr),Wr=Cr?r0(hr,pr):Xy(hr,pr,!0),Xr=Cr;do{if(Wr===0){yg&&!Cr&&hp(hr,pr,0,!1);break}else{if(_r=hr.current.alternate,Xr&&!zv(_r)){Wr=Xy(hr,pr,!1),Xr=!1;continue}if(Wr===2){if(Xr=pr,hr.errorRecoveryDisabledLanes&Xr)var xo=0;else xo=hr.pendingLanes&-536870913,xo=xo!==0?xo:xo&536870912?536870912:0;if(xo!==0){pr=xo;e:{var Ao=hr;Wr=Gx;var Vo=Ao.current.memoizedState.isDehydrated;if(Vo&&(tx(Ao,xo).flags|=256),xo=Xy(Ao,xo,!1),xo!==2){if(Ov&&!Vo){Ao.errorRecoveryDisabledLanes|=Xr,vg|=Xr,Wr=4;break e}Xr=Zd,Zd=Wr,Xr!==null&&(Zd===null?Zd=Xr:Zd.push.apply(Zd,Xr))}Wr=xo}if(Xr=!1,Wr!==2)continue}}if(Wr===1){tx(hr,0),hp(hr,pr,0,!0);break}e:{switch(Cr=hr,Xr=Wr,Xr){case 0:case 1:throw Error(nr(345));case 4:if((pr&4194048)!==pr)break;case 6:hp(Cr,pr,ff,!Fm);break e;case 2:Zd=null;break;case 3:case 5:break;default:throw Error(nr(329))}if((pr&62914560)===pr&&(Wr=zm+300-oc(),10<Wr)){if(hp(Cr,pr,ff,!Fm),vu(Cr,0,!0)!==0)break e;$p=pr,Cr.timeoutHandle=xc(Tb.bind(null,Cr,_r,Zd,Jg,Lv,pr,ff,vg,bg,Fm,Xr,"Throttled",-0,0),Wr);break e}Tb(Cr,_r,Zd,Jg,Lv,pr,ff,vg,bg,Fm,Xr,null,-0,0)}}break}while(!0);Ip(hr)}function Tb(hr,pr,_r,Cr,Wr,Xr,xo,Ao,Vo,cl,wl,Rl,hl,gl){if(hr.timeoutHandle=-1,Rl=pr.subtreeFlags,Rl&8192||(Rl&16785408)===16785408){Rl={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qu},jb(pr,Xr,Rl);var rc=(Xr&62914560)===Xr?zm-oc():(Xr&4194048)===Xr?$v-oc():0;if(rc=Z0(Rl,rc),rc!==null){$p=Xr,hr.cancelPendingCommit=rc(Gv.bind(null,hr,pr,Xr,_r,Cr,Wr,xo,Ao,Vo,wl,Rl,null,hl,gl)),hp(hr,Xr,xo,!cl);return}}Gv(hr,pr,Xr,_r,Cr,Wr,xo,Ao,Vo)}function zv(hr){for(var pr=hr;;){var _r=pr.tag;if((_r===0||_r===11||_r===15)&&pr.flags&16384&&(_r=pr.updateQueue,_r!==null&&(_r=_r.stores,_r!==null)))for(var Cr=0;Cr<_r.length;Cr++){var Wr=_r[Cr],Xr=Wr.getSnapshot;Wr=Wr.value;try{if(!zu(Xr(),Wr))return!1}catch{return!1}}if(_r=pr.child,pr.subtreeFlags&16384&&_r!==null)_r.return=pr,pr=_r;else{if(pr===hr)break;for(;pr.sibling===null;){if(pr.return===null||pr.return===hr)return!0;pr=pr.return}pr.sibling.return=pr.return,pr=pr.sibling}}return!0}function hp(hr,pr,_r,Cr){pr&=~Wx,pr&=~vg,hr.suspendedLanes|=pr,hr.pingedLanes&=~pr,Cr&&(hr.warmLanes|=pr),Cr=hr.expirationTimes;for(var Wr=pr;0<Wr;){var Xr=31-fl(Wr),xo=1<<Xr;Cr[Xr]=-1,Wr&=~xo}_r!==0&&ol(hr,_r,pr)}function Yy(){return(pu&6)===0?(Qx(0),!1):!0}function Ux(){if(Uc!==null){if(Nu===0)var hr=Uc.return;else hr=Uc,Dh=Ac=null,mv(hr),Zp=null,Td=0,hr=Uc;for(;hr!==null;)Kg(hr.alternate,hr),hr=hr.return;Uc=null}}function tx(hr,pr){var _r=hr.timeoutHandle;_r!==-1&&(hr.timeoutHandle=-1,mu(_r)),_r=hr.cancelPendingCommit,_r!==null&&(hr.cancelPendingCommit=null,_r()),$p=0,Ux(),Xu=hr,Uc=_r=Vu(hr.current,null),lu=pr,Nu=0,vd=null,Fm=!1,yg=Zc(hr,pr),Ov=!1,bg=ff=Wx=vg=Bm=vh=0,Zd=Gx=null,Lv=!1,(pr&8)!==0&&(pr|=pr&32);var Cr=hr.entangledLanes;if(Cr!==0)for(hr=hr.entanglements,Cr&=pr;0<Cr;){var Wr=31-fl(Cr),Xr=1<<Wr;pr|=hr[Wr],Cr&=~Xr}return cp=pr,Oh(),_r}function Pb(hr,pr){Oc=null,ao.H=Np,pr===Cm||pr===sg?(pr=ab(),Nu=3):pr===uy?(pr=ab(),Nu=4):Nu=pr===Xd?8:pr!==null&&typeof pr=="object"&&typeof pr.then=="function"?6:1,vd=pr,Uc===null&&(vh=1,Px(hr,Rr(pr,hr.current)))}function Yx(){var hr=md.current;return hr===null?!0:(lu&4194048)===lu?Df===null:(lu&62914560)===lu||(lu&536870912)!==0?hr===Df:!1}function Hv(){var hr=ao.H;return ao.H=Np,hr===null?Np:hr}function Db(){var hr=ao.A;return ao.A=Im,hr}function Xx(){vh=4,Fm||(lu&4194048)!==lu&&md.current!==null||(yg=!0),(Bm&134217727)===0&&(vg&134217727)===0||Xu===null||hp(Xu,lu,ff,!1)}function Xy(hr,pr,_r){var Cr=pu;pu|=2;var Wr=Hv(),Xr=Db();(Xu!==hr||lu!==pr)&&(Jg=null,tx(hr,pr)),pr=!1;var xo=vh;e:do try{if(Nu!==0&&Uc!==null){var Ao=Uc,Vo=vd;switch(Nu){case 8:Ux(),xo=6;break e;case 3:case 2:case 9:case 6:md.current===null&&(pr=!0);var cl=Nu;if(Nu=0,vd=null,nx(hr,Ao,Vo,cl),_r&&yg){xo=0;break e}break;default:cl=Nu,Nu=0,vd=null,nx(hr,Ao,Vo,cl)}}i0(),xo=vh;break}catch(wl){Pb(hr,wl)}while(!0);return pr&&hr.shellSuspendCounter++,Dh=Ac=null,pu=Cr,ao.H=Wr,ao.A=Xr,Uc===null&&(Xu=null,lu=0,Oh()),xo}function i0(){for(;Uc!==null;)Wv(Uc)}function r0(hr,pr){var _r=pu;pu|=2;var Cr=Hv(),Wr=Db();Xu!==hr||lu!==pr?(Jg=null,_g=oc()+500,tx(hr,pr)):yg=Zc(hr,pr);e:do try{if(Nu!==0&&Uc!==null){pr=Uc;var Xr=vd;t:switch(Nu){case 1:Nu=0,vd=null,nx(hr,pr,Xr,1);break;case 2:case 9:if(sb(Xr)){Nu=0,vd=null,Mb(pr);break}pr=function(){Nu!==2&&Nu!==9||Xu!==hr||(Nu=7),Ip(hr)},Xr.then(pr,pr);break e;case 3:Nu=7;break e;case 4:Nu=5;break e;case 7:sb(Xr)?(Nu=0,vd=null,Mb(pr)):(Nu=0,vd=null,nx(hr,pr,Xr,7));break;case 5:var xo=null;switch(Uc.tag){case 26:xo=Uc.memoizedState;case 5:case 27:var Ao=Uc;if(xo?k0(xo):Ao.stateNode.complete){Nu=0,vd=null;var Vo=Ao.sibling;if(Vo!==null)Uc=Vo;else{var cl=Ao.return;cl!==null?(Uc=cl,qy(cl)):Uc=null}break t}}Nu=0,vd=null,nx(hr,pr,Xr,5);break;case 6:Nu=0,vd=null,nx(hr,pr,Xr,6);break;case 8:Ux(),vh=6;break e;default:throw Error(nr(462))}}s0();break}catch(wl){Pb(hr,wl)}while(!0);return Dh=Ac=null,ao.H=Cr,ao.A=Wr,pu=_r,Uc!==null?0:(Xu=null,lu=0,Oh(),vh)}function s0(){for(;Uc!==null&&!Ol();)Wv(Uc)}function Wv(hr){var pr=vb(hr.alternate,hr,cp);hr.memoizedProps=hr.pendingProps,pr===null?qy(hr):Uc=pr}function Mb(hr){var pr=hr,_r=pr.alternate;switch(pr.tag){case 15:case 0:pr=Dy(_r,pr,pr.pendingProps,pr.type,void 0,lu);break;case 11:pr=Dy(_r,pr,pr.pendingProps,pr.type.render,pr.ref,lu);break;case 5:mv(pr);default:Kg(_r,pr),pr=Uc=ju(pr,cp),pr=vb(_r,pr,cp)}hr.memoizedProps=hr.pendingProps,pr===null?qy(hr):Uc=pr}function nx(hr,pr,_r,Cr){Dh=Ac=null,mv(pr),Zp=null,Td=0;var Wr=pr.return;try{if(Yg(hr,Wr,pr,_r,lu)){vh=1,Px(hr,Rr(_r,hr.current)),Uc=null;return}}catch(Xr){if(Wr!==null)throw Uc=Wr,Xr;vh=1,Px(hr,Rr(_r,hr.current)),Uc=null;return}pr.flags&32768?(Xc||Cr===1?hr=!0:yg||(lu&536870912)!==0?hr=!1:(Fm=hr=!0,(Cr===2||Cr===9||Cr===3||Cr===6)&&(Cr=md.current,Cr!==null&&Cr.tag===13&&(Cr.flags|=16384))),qx(pr,hr)):qy(pr)}function qy(hr){var pr=hr;do{if((pr.flags&32768)!==0){qx(pr,Fm);return}hr=pr.return;var _r=Iy(pr.alternate,pr,cp);if(_r!==null){Uc=_r;return}if(pr=pr.sibling,pr!==null){Uc=pr;return}Uc=pr=hr}while(pr!==null);vh===0&&(vh=5)}function qx(hr,pr){do{var _r=rp(hr.alternate,hr);if(_r!==null){_r.flags&=32767,Uc=_r;return}if(_r=hr.return,_r!==null&&(_r.flags|=32768,_r.subtreeFlags=0,_r.deletions=null),!pr&&(hr=hr.sibling,hr!==null)){Uc=hr;return}Uc=hr=_r}while(hr!==null);vh=6,Uc=null}function Gv(hr,pr,_r,Cr,Wr,Xr,xo,Ao,Vo){hr.cancelPendingCommit=null;do Kx();while(Fh!==0);if((pu&6)!==0)throw Error(nr(327));if(pr!==null){if(pr===hr.current)throw Error(nr(177));if(Xr=pr.lanes|pr.childLanes,Xr|=Yh,ah(hr,_r,Xr,xo,Ao,Vo),hr===Xu&&(Uc=Xu=null,lu=0),ex=pr,om=hr,$p=_r,Iv=Xr,Fv=Wr,Cb=Cr,(pr.subtreeFlags&10256)!==0||(pr.flags&10256)!==0?(hr.callbackNode=null,hr.callbackPriority=0,o0(Rc,function(){return Jy(),null})):(hr.callbackNode=null,hr.callbackPriority=0),Cr=(pr.flags&13878)!==0,(pr.subtreeFlags&13878)!==0||Cr){Cr=ao.T,ao.T=null,Wr=Jr.p,Jr.p=2,xo=pu,pu|=4;try{By(hr,pr,_r)}finally{pu=xo,Jr.p=Wr,ao.T=Cr}}Fh=1,Ky(),Vv(),Zy()}}function Ky(){if(Fh===1){Fh=0;var hr=om,pr=ex,_r=(pr.flags&13878)!==0;if((pr.subtreeFlags&13878)!==0||_r){_r=ao.T,ao.T=null;var Cr=Jr.p;Jr.p=2;var Wr=pu;pu|=4;try{Sb(pr,hr);var Xr=Ll,xo=ng(hr.containerInfo),Ao=Xr.focusedElem,Vo=Xr.selectionRange;if(xo!==Ao&&Ao&&Ao.ownerDocument&&tg(Ao.ownerDocument.documentElement,Ao)){if(Vo!==null&&yp(Ao)){var cl=Vo.start,wl=Vo.end;if(wl===void 0&&(wl=cl),"selectionStart"in Ao)Ao.selectionStart=cl,Ao.selectionEnd=Math.min(wl,Ao.value.length);else{var Rl=Ao.ownerDocument||document,hl=Rl&&Rl.defaultView||window;if(hl.getSelection){var gl=hl.getSelection(),rc=Ao.textContent.length,Sc=Math.min(Vo.start,rc),sh=Vo.end===void 0?Sc:Math.min(Vo.end,rc);!gl.extend&&Sc>sh&&(xo=sh,sh=Sc,Sc=xo);var nl=eg(Ao,Sc),Zo=eg(Ao,sh);if(nl&&Zo&&(gl.rangeCount!==1||gl.anchorNode!==nl.node||gl.anchorOffset!==nl.offset||gl.focusNode!==Zo.node||gl.focusOffset!==Zo.offset)){var ll=Rl.createRange();ll.setStart(nl.node,nl.offset),gl.removeAllRanges(),Sc>sh?(gl.addRange(ll),gl.extend(Zo.node,Zo.offset)):(ll.setEnd(Zo.node,Zo.offset),gl.addRange(ll))}}}}for(Rl=[],gl=Ao;gl=gl.parentNode;)gl.nodeType===1&&Rl.push({element:gl,left:gl.scrollLeft,top:gl.scrollTop});for(typeof Ao.focus=="function"&&Ao.focus(),Ao=0;Ao<Rl.length;Ao++){var jl=Rl[Ao];jl.element.scrollLeft=jl.left,jl.element.scrollTop=jl.top}}Wb=!!Jl,Ll=Jl=null}finally{pu=Wr,Jr.p=Cr,ao.T=_r}}hr.current=pr,Fh=2}}function Vv(){if(Fh===2){Fh=0;var hr=om,pr=ex,_r=(pr.flags&8772)!==0;if((pr.subtreeFlags&8772)!==0||_r){_r=ao.T,ao.T=null;var Cr=Jr.p;Jr.p=2;var Wr=pu;pu|=4;try{Fx(hr,pr.alternate,pr)}finally{pu=Wr,Jr.p=Cr,ao.T=_r}}Fh=3}}function Zy(){if(Fh===4||Fh===3){Fh=0,dc();var hr=om,pr=ex,_r=$p,Cr=Cb;(pr.subtreeFlags&10256)!==0||(pr.flags&10256)!==0?Fh=5:(Fh=0,ex=om=null,Qy(hr,hr.pendingLanes));var Wr=hr.pendingLanes;if(Wr===0&&(up=null),Dl(_r),pr=pr.stateNode,al&&typeof al.onCommitFiberRoot=="function")try{al.onCommitFiberRoot(Hl,pr,void 0,(pr.current.flags&128)===128)}catch{}if(Cr!==null){pr=ao.T,Wr=Jr.p,Jr.p=2,ao.T=null;try{for(var Xr=hr.onRecoverableError,xo=0;xo<Cr.length;xo++){var Ao=Cr[xo];Xr(Ao.value,{componentStack:Ao.stack})}}finally{ao.T=pr,Jr.p=Wr}}($p&3)!==0&&Kx(),Ip(hr),Wr=hr.pendingLanes,(_r&261930)!==0&&(Wr&42)!==0?hr===Bv?Vx++:(Vx=0,Bv=hr):Vx=0,Qx(0)}}function Qy(hr,pr){(hr.pooledCacheLanes&=pr)===0&&(pr=hr.pooledCache,pr!=null&&(hr.pooledCache=null,kp(pr)))}function Kx(){return Ky(),Vv(),Zy(),Jy()}function Jy(){if(Fh!==5)return!1;var hr=om,pr=Iv;Iv=0;var _r=Dl($p),Cr=ao.T,Wr=Jr.p;try{Jr.p=32>_r?32:_r,ao.T=null,_r=Fv,Fv=null;var Xr=om,xo=$p;if(Fh=0,ex=om=null,$p=0,(pu&6)!==0)throw Error(nr(331));var Ao=pu;if(pu|=4,Mv(Xr.current),Uy(Xr,Xr.current,xo,_r),pu=Ao,Qx(0,!1),al&&typeof al.onPostCommitFiberRoot=="function")try{al.onPostCommitFiberRoot(Hl,Xr)}catch{}return!0}finally{Jr.p=Wr,ao.T=Cr,Qy(hr,pr)}}function Uv(hr,pr,_r){pr=Rr(_r,pr),pr=Rv(hr.stateNode,pr,2),hr=Dd(hr,pr,2),hr!==null&&(Ul(hr,2),Ip(hr))}function Ou(hr,pr,_r){if(hr.tag===3)Uv(hr,hr,_r);else for(;pr!==null;){if(pr.tag===3){Uv(pr,hr,_r);break}else if(pr.tag===1){var Cr=pr.stateNode;if(typeof pr.type.getDerivedStateFromError=="function"||typeof Cr.componentDidCatch=="function"&&(up===null||!up.has(Cr))){hr=Rr(_r,hr),_r=Nd(2),Cr=Dd(pr,_r,2),Cr!==null&&(Ty(_r,Cr,pr,hr),Ul(Cr,2),Ip(Cr));break}}pr=pr.return}}function ev(hr,pr,_r){var Cr=hr.pingCache;if(Cr===null){Cr=hr.pingCache=new Hx;var Wr=new Set;Cr.set(pr,Wr)}else Wr=Cr.get(pr),Wr===void 0&&(Wr=new Set,Cr.set(pr,Wr));Wr.has(_r)||(Ov=!0,Wr.add(_r),hr=a0.bind(null,hr,pr,_r),pr.then(hr,hr))}function a0(hr,pr,_r){var Cr=hr.pingCache;Cr!==null&&Cr.delete(pr),hr.pingedLanes|=hr.suspendedLanes&_r,hr.warmLanes&=~_r,Xu===hr&&(lu&_r)===_r&&(vh===4||vh===3&&(lu&62914560)===lu&&300>oc()-zm?(pu&2)===0&&tx(hr,0):Wx|=_r,bg===lu&&(bg=0)),Ip(hr)}function ix(hr,pr){pr===0&&(pr=Bc()),hr=kd(hr,pr),hr!==null&&(Ul(hr,pr),Ip(hr))}function tv(hr){var pr=hr.memoizedState,_r=0;pr!==null&&(_r=pr.retryLane),ix(hr,_r)}function Yv(hr,pr){var _r=0;switch(hr.tag){case 31:case 13:var Cr=hr.stateNode,Wr=hr.memoizedState;Wr!==null&&(_r=Wr.retryLane);break;case 19:Cr=hr.stateNode;break;case 22:Cr=hr.stateNode._retryCache;break;default:throw Error(nr(314))}Cr!==null&&Cr.delete(pr),ix(hr,_r)}function o0(hr,pr){return ac(hr,pr)}var wg=null,Hm=null,Xv=!1,nv=!1,Zx=!1,Wm=0;function Ip(hr){hr!==Hm&&hr.next===null&&(Hm===null?wg=Hm=hr:Hm=Hm.next=hr),nv=!0,Xv||(Xv=!0,c0())}function Qx(hr,pr){if(!Zx&&nv){Zx=!0;do for(var _r=!1,Cr=wg;Cr!==null;){if(hr!==0){var Wr=Cr.pendingLanes;if(Wr===0)var Xr=0;else{var xo=Cr.suspendedLanes,Ao=Cr.pingedLanes;Xr=(1<<31-fl(42|hr)+1)-1,Xr&=Wr&~(xo&~Ao),Xr=Xr&201326741?Xr&201326741|1:Xr?Xr|2:0}Xr!==0&&(_r=!0,Lb(Cr,Xr))}else Xr=lu,Xr=vu(Cr,Cr===Xu?Xr:0,Cr.cancelPendingCommit!==null||Cr.timeoutHandle!==-1),(Xr&3)===0||Zc(Cr,Xr)||(_r=!0,Lb(Cr,Xr));Cr=Cr.next}while(_r);Zx=!1}}function l0(){Nb()}function Nb(){nv=Xv=!1;var hr=0;Wm!==0&&yc()&&(hr=Wm);for(var pr=oc(),_r=null,Cr=wg;Cr!==null;){var Wr=Cr.next,Xr=Ob(Cr,pr);Xr===0?(Cr.next=null,_r===null?wg=Wr:_r.next=Wr,Wr===null&&(Hm=_r)):(_r=Cr,(hr!==0||(Xr&3)!==0)&&(nv=!0)),Cr=Wr}Fh!==0&&Fh!==5||Qx(hr),Wm!==0&&(Wm=0)}function Ob(hr,pr){for(var _r=hr.suspendedLanes,Cr=hr.pingedLanes,Wr=hr.expirationTimes,Xr=hr.pendingLanes&-62914561;0<Xr;){var xo=31-fl(Xr),Ao=1<<xo,Vo=Wr[xo];Vo===-1?((Ao&_r)===0||(Ao&Cr)!==0)&&(Wr[xo]=fc(Ao,pr)):Vo<=pr&&(hr.expiredLanes|=Ao),Xr&=~Ao}if(pr=Xu,_r=lu,_r=vu(hr,hr===pr?_r:0,hr.cancelPendingCommit!==null||hr.timeoutHandle!==-1),Cr=hr.callbackNode,_r===0||hr===pr&&(Nu===2||Nu===9)||hr.cancelPendingCommit!==null)return Cr!==null&&Cr!==null&&Tl(Cr),hr.callbackNode=null,hr.callbackPriority=0;if((_r&3)===0||Zc(hr,_r)){if(pr=_r&-_r,pr===hr.callbackPriority)return pr;switch(Cr!==null&&Tl(Cr),Dl(_r)){case 2:case 8:_r=Yc;break;case 32:_r=Rc;break;case 268435456:_r=Kl;break;default:_r=Rc}return Cr=Jx.bind(null,hr),_r=ac(_r,Cr),hr.callbackPriority=pr,hr.callbackNode=_r,pr}return Cr!==null&&Cr!==null&&Tl(Cr),hr.callbackPriority=2,hr.callbackNode=null,2}function Jx(hr,pr){if(Fh!==0&&Fh!==5)return hr.callbackNode=null,hr.callbackPriority=0,null;var _r=hr.callbackNode;if(Kx()&&hr.callbackNode!==_r)return null;var Cr=lu;return Cr=vu(hr,hr===Xu?Cr:0,hr.cancelPendingCommit!==null||hr.timeoutHandle!==-1),Cr===0?null:(Ab(hr,Cr,pr),Ob(hr,oc()),hr.callbackNode!=null&&hr.callbackNode===_r?Jx.bind(null,hr):null)}function Lb(hr,pr){if(Kx())return null;Ab(hr,pr,!0)}function c0(){Bu(function(){(pu&6)!==0?ac(Ic,l0):Nb()})}function pf(){if(Wm===0){var hr=Ig;hr===0&&(hr=uc,uc<<=1,(uc&261888)===0&&(uc=256)),Wm=hr}return Wm}function Ur(hr){return hr==null||typeof hr=="symbol"||typeof hr=="boolean"?null:typeof hr=="function"?hr:Zu(""+hr)}function mr(hr,pr){var _r=pr.ownerDocument.createElement("input");return _r.name=pr.name,_r.value=pr.value,hr.id&&_r.setAttribute("form",hr.id),pr.parentNode.insertBefore(_r,pr),hr=new FormData(hr),_r.parentNode.removeChild(_r),hr}function br(hr,pr,_r,Cr,Wr){if(pr==="submit"&&_r&&_r.stateNode===Wr){var Xr=Ur((Wr[eu]||null).action),xo=Cr.submitter;xo&&(pr=(pr=xo[eu]||null)?Ur(pr.formAction):xo.getAttribute("formAction"),pr!==null&&(Xr=pr,xo=null));var Ao=new pm("action","action",null,Cr,Wr);hr.push({event:Ao,listeners:[{instance:null,listener:function(){if(Cr.defaultPrevented){if(Wm!==0){var Vo=xo?mr(Wr,xo):new FormData(Wr);Dp(_r,{pending:!0,data:Vo,method:Wr.method,action:Xr},null,Vo)}}else typeof Xr=="function"&&(Ao.preventDefault(),Vo=xo?mr(Wr,xo):new FormData(Wr),Dp(_r,{pending:!0,data:Vo,method:Wr.method,action:Xr},Xr,Vo))},currentTarget:Wr}]})}}for(var Er=0;Er<Cd.length;Er++){var Pr=Cd[Er],Dr=Pr.toLowerCase(),$r=Pr[0].toUpperCase()+Pr.slice(1);Jh(Dr,"on"+$r)}Jh(Uh,"onAnimationEnd"),Jh(vp,"onAnimationIteration"),Jh(Up,"onAnimationStart"),Jh("dblclick","onDoubleClick"),Jh("focusin","onFocus"),Jh("focusout","onBlur"),Jh(bm,"onTransitionRun"),Jh(bp,"onTransitionStart"),Jh(_m,"onTransitionCancel"),Jh(su,"onTransitionEnd"),Nh("onMouseEnter",["mouseout","mouseover"]),Nh("onMouseLeave",["mouseout","mouseover"]),Nh("onPointerEnter",["pointerout","pointerover"]),Nh("onPointerLeave",["pointerout","pointerover"]),fh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fh("onBeforeInput",["compositionend","keypress","textInput","paste"]),fh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ir));function Kr(hr,pr){pr=(pr&4)!==0;for(var _r=0;_r<hr.length;_r++){var Cr=hr[_r],Wr=Cr.event;Cr=Cr.listeners;e:{var Xr=void 0;if(pr)for(var xo=Cr.length-1;0<=xo;xo--){var Ao=Cr[xo],Vo=Ao.instance,cl=Ao.currentTarget;if(Ao=Ao.listener,Vo!==Xr&&Wr.isPropagationStopped())break e;Xr=Ao,Wr.currentTarget=cl;try{Xr(Wr)}catch(wl){_p(wl)}Wr.currentTarget=null,Xr=Vo}else for(xo=0;xo<Cr.length;xo++){if(Ao=Cr[xo],Vo=Ao.instance,cl=Ao.currentTarget,Ao=Ao.listener,Vo!==Xr&&Wr.isPropagationStopped())break e;Xr=Ao,Wr.currentTarget=cl;try{Xr(Wr)}catch(wl){_p(wl)}Wr.currentTarget=null,Xr=Vo}}}}function eo(hr,pr){var _r=pr[cc];_r===void 0&&(_r=pr[cc]=new Set);var Cr=hr+"__bubble";_r.has(Cr)||(go(pr,hr,2,!1),_r.add(Cr))}function Zr(hr,pr,_r){var Cr=0;pr&&(Cr|=4),go(_r,hr,Cr,pr)}var so="_reactListening"+Math.random().toString(36).slice(2);function po(hr){if(!hr[so]){hr[so]=!0,Hh.forEach(function(_r){_r!=="selectionchange"&&(zr.has(_r)||Zr(_r,!1,hr),Zr(_r,!0,hr))});var pr=hr.nodeType===9?hr:hr.ownerDocument;pr===null||pr[so]||(pr[so]=!0,Zr("selectionchange",!1,pr))}}function go(hr,pr,_r,Cr){switch(L0(pr)){case 2:var Wr=J0;break;case 8:Wr=e1;break;default:Wr=p0}_r=Wr.bind(null,pr,_r,hr),Wr=void 0,!hm||pr!=="touchstart"&&pr!=="touchmove"&&pr!=="wheel"||(Wr=!0),Cr?Wr!==void 0?hr.addEventListener(pr,_r,{capture:!0,passive:Wr}):hr.addEventListener(pr,_r,!0):Wr!==void 0?hr.addEventListener(pr,_r,{passive:Wr}):hr.addEventListener(pr,_r,!1)}function _o(hr,pr,_r,Cr,Wr){var Xr=Cr;if((pr&1)===0&&(pr&2)===0&&Cr!==null)e:for(;;){if(Cr===null)return;var xo=Cr.tag;if(xo===3||xo===4){var Ao=Cr.stateNode.containerInfo;if(Ao===Wr)break;if(xo===4)for(xo=Cr.return;xo!==null;){var Vo=xo.tag;if((Vo===3||Vo===4)&&xo.stateNode.containerInfo===Wr)return;xo=xo.return}for(;Ao!==null;){if(xo=Bh(Ao),xo===null)return;if(Vo=xo.tag,Vo===5||Vo===6||Vo===26||Vo===27){Cr=Xr=xo;continue e}Ao=Ao.parentNode}}Cr=Cr.return}Um(function(){var cl=Xr,wl=Vm(_r),Rl=[];e:{var hl=mx.get(hr);if(hl!==void 0){var gl=pm,rc=hr;switch(hr){case"keypress":if(dm(_r)===0)break e;case"keydown":case"keyup":gl=wf;break;case"focusin":rc="focus",gl=Ag;break;case"focusout":rc="blur",gl=Ag;break;case"beforeblur":case"afterblur":gl=Ag;break;case"click":if(_r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gl=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gl=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gl=dx;break;case Uh:case vp:case Up:gl=pp;break;case su:gl=oy;break;case"scroll":case"scrollend":gl=Nc;break;case"wheel":gl=Ef;break;case"copy":case"cut":case"paste":gl=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gl=sy;break;case"toggle":case"beforetoggle":gl=zp}var Sc=(pr&4)!==0,sh=!Sc&&(hr==="scroll"||hr==="scrollend"),nl=Sc?hl!==null?hl+"Capture":null:hl;Sc=[];for(var Zo=cl,ll;Zo!==null;){var jl=Zo;if(ll=jl.stateNode,jl=jl.tag,jl!==5&&jl!==26&&jl!==27||ll===null||nl===null||(jl=Wf(Zo,nl),jl!=null&&Sc.push(vo(Zo,jl,ll))),sh)break;Zo=Zo.return}0<Sc.length&&(hl=new gl(hl,rc,null,_r,wl),Rl.push({event:hl,listeners:Sc}))}}if((pr&7)===0){e:{if(hl=hr==="mouseover"||hr==="pointerover",gl=hr==="mouseout"||hr==="pointerout",hl&&_r!==Hf&&(rc=_r.relatedTarget||_r.fromElement)&&(Bh(rc)||rc[Qc]))break e;if((gl||hl)&&(hl=wl.window===wl?wl:(hl=wl.ownerDocument)?hl.defaultView||hl.parentWindow:window,gl?(rc=_r.relatedTarget||_r.toElement,gl=cl,rc=rc?Bh(rc):null,rc!==null&&(sh=rr(rc),Sc=rc.tag,rc!==sh||Sc!==5&&Sc!==27&&Sc!==6)&&(rc=null)):(gl=null,rc=cl),gl!==rc)){if(Sc=Ym,jl="onMouseLeave",nl="onMouseEnter",Zo="mouse",(hr==="pointerout"||hr==="pointerover")&&(Sc=sy,jl="onPointerLeave",nl="onPointerEnter",Zo="pointer"),sh=gl==null?hl:zc(gl),ll=rc==null?hl:zc(rc),hl=new Sc(jl,Zo+"leave",gl,_r,wl),hl.target=sh,hl.relatedTarget=ll,jl=null,Bh(wl)===cl&&(Sc=new Sc(nl,Zo+"enter",rc,_r,wl),Sc.target=ll,Sc.relatedTarget=sh,jl=Sc),sh=jl,gl&&rc)t:{for(Sc=Do,nl=gl,Zo=rc,ll=0,jl=nl;jl;jl=Sc(jl))ll++;jl=0;for(var pc=Zo;pc;pc=Sc(pc))jl++;for(;0<ll-jl;)nl=Sc(nl),ll--;for(;0<jl-ll;)Zo=Sc(Zo),jl--;for(;ll--;){if(nl===Zo||Zo!==null&&nl===Zo.alternate){Sc=nl;break t}nl=Sc(nl),Zo=Sc(Zo)}Sc=null}else Sc=null;gl!==null&&Mo(Rl,hl,gl,Sc,!1),rc!==null&&sh!==null&&Mo(Rl,sh,rc,Sc,!0)}}e:{if(hl=cl?zc(cl):window,gl=hl.nodeName&&hl.nodeName.toLowerCase(),gl==="select"||gl==="input"&&hl.type==="file")var Lu=af;else if(dd(hl))if(Wp)Lu=Mg;else{Lu=hv;var lc=Fd}else gl=hl.nodeName,!gl||gl.toLowerCase()!=="input"||hl.type!=="checkbox"&&hl.type!=="radio"?cl&&wc(cl.elementType)&&(Lu=af):Lu=vm;if(Lu&&(Lu=Lu(hr,cl))){px(Rl,Lu,_r,wl);break e}lc&&lc(hr,hl,cl),hr==="focusout"&&cl&&hl.type==="number"&&cl.memoizedProps.value!=null&&ud(hl,"number",hl.value)}switch(lc=cl?zc(cl):window,hr){case"focusin":(dd(lc)||lc.contentEditable==="true")&&(Jo=lc,_l=cl,dl=null);break;case"focusout":dl=_l=Jo=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,mc(Rl,_r,wl);break;case"selectionchange":if(Bd)break;case"keydown":case"keyup":mc(Rl,_r,wl)}var Jc;if(Km)e:{switch(hr){case"compositionstart":var xu="onCompositionStart";break e;case"compositionend":xu="onCompositionEnd";break e;case"compositionupdate":xu="onCompositionUpdate";break e}xu=void 0}else Hp?Pg(hr,_r)&&(xu="onCompositionEnd"):hr==="keydown"&&_r.keyCode===229&&(xu="onCompositionStart");xu&&(Sf&&_r.locale!=="ko"&&(Hp||xu!=="onCompositionStart"?xu==="onCompositionEnd"&&Hp&&(Jc=nu()):(bf=wl,tf="value"in bf?bf.value:bf.textContent,Hp=!0)),lc=yo(cl,xu),0<lc.length&&(xu=new wh(xu,hr,null,_r,wl),Rl.push({event:xu,listeners:lc}),Jc?xu.data=Jc:(Jc=fx(_r),Jc!==null&&(xu.data=Jc)))),(Jc=Tg?Gu(hr,_r):jf(hr,_r))&&(xu=yo(cl,"onBeforeInput"),0<xu.length&&(lc=new wh("onBeforeInput","beforeinput",null,_r,wl),Rl.push({event:lc,listeners:xu}),lc.data=Jc)),br(Rl,hr,cl,_r,wl)}Kr(Rl,pr)})}function vo(hr,pr,_r){return{instance:hr,listener:pr,currentTarget:_r}}function yo(hr,pr){for(var _r=pr+"Capture",Cr=[];hr!==null;){var Wr=hr,Xr=Wr.stateNode;if(Wr=Wr.tag,Wr!==5&&Wr!==26&&Wr!==27||Xr===null||(Wr=Wf(hr,_r),Wr!=null&&Cr.unshift(vo(hr,Wr,Xr)),Wr=Wf(hr,pr),Wr!=null&&Cr.push(vo(hr,Wr,Xr))),hr.tag===3)return Cr;hr=hr.return}return[]}function Do(hr){if(hr===null)return null;do hr=hr.return;while(hr&&hr.tag!==5&&hr.tag!==27);return hr||null}function Mo(hr,pr,_r,Cr,Wr){for(var Xr=pr._reactName,xo=[];_r!==null&&_r!==Cr;){var Ao=_r,Vo=Ao.alternate,cl=Ao.stateNode;if(Ao=Ao.tag,Vo!==null&&Vo===Cr)break;Ao!==5&&Ao!==26&&Ao!==27||cl===null||(Vo=cl,Wr?(cl=Wf(_r,Xr),cl!=null&&xo.unshift(vo(_r,cl,Vo))):Wr||(cl=Wf(_r,Xr),cl!=null&&xo.push(vo(_r,cl,Vo)))),_r=_r.return}xo.length!==0&&hr.push({event:pr,listeners:xo})}var Io=/\r\n?/g,Yo=/\u0000|\uFFFD/g;function Xo(hr){return(typeof hr=="string"?hr:""+hr).replace(Io,`
`).replace(Yo,"")}function qo(hr,pr){return pr=Xo(pr),Xo(hr)===pr}function Wo(hr,pr,_r,Cr,Wr,Xr){switch(_r){case"children":typeof Cr=="string"?pr==="body"||pr==="textarea"&&Cr===""||Bo(hr,Cr):(typeof Cr=="number"||typeof Cr=="bigint")&&pr!=="body"&&Bo(hr,""+Cr);break;case"className":Vc(hr,"class",Cr);break;case"tabIndex":Vc(hr,"tabindex",Cr);break;case"dir":case"role":case"viewBox":case"width":case"height":Vc(hr,_r,Cr);break;case"style":Vl(hr,Cr,Xr);break;case"data":if(pr!=="object"){Vc(hr,"data",Cr);break}case"src":case"href":if(Cr===""&&(pr!=="a"||_r!=="href")){hr.removeAttribute(_r);break}if(Cr==null||typeof Cr=="function"||typeof Cr=="symbol"||typeof Cr=="boolean"){hr.removeAttribute(_r);break}Cr=Zu(""+Cr),hr.setAttribute(_r,Cr);break;case"action":case"formAction":if(typeof Cr=="function"){hr.setAttribute(_r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Xr=="function"&&(_r==="formAction"?(pr!=="input"&&Wo(hr,pr,"name",Wr.name,Wr,null),Wo(hr,pr,"formEncType",Wr.formEncType,Wr,null),Wo(hr,pr,"formMethod",Wr.formMethod,Wr,null),Wo(hr,pr,"formTarget",Wr.formTarget,Wr,null)):(Wo(hr,pr,"encType",Wr.encType,Wr,null),Wo(hr,pr,"method",Wr.method,Wr,null),Wo(hr,pr,"target",Wr.target,Wr,null)));if(Cr==null||typeof Cr=="symbol"||typeof Cr=="boolean"){hr.removeAttribute(_r);break}Cr=Zu(""+Cr),hr.setAttribute(_r,Cr);break;case"onClick":Cr!=null&&(hr.onclick=Qu);break;case"onScroll":Cr!=null&&eo("scroll",hr);break;case"onScrollEnd":Cr!=null&&eo("scrollend",hr);break;case"dangerouslySetInnerHTML":if(Cr!=null){if(typeof Cr!="object"||!("__html"in Cr))throw Error(nr(61));if(_r=Cr.__html,_r!=null){if(Wr.children!=null)throw Error(nr(60));hr.innerHTML=_r}}break;case"multiple":hr.multiple=Cr&&typeof Cr!="function"&&typeof Cr!="symbol";break;case"muted":hr.muted=Cr&&typeof Cr!="function"&&typeof Cr!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Cr==null||typeof Cr=="function"||typeof Cr=="boolean"||typeof Cr=="symbol"){hr.removeAttribute("xlink:href");break}_r=Zu(""+Cr),hr.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Cr!=null&&typeof Cr!="function"&&typeof Cr!="symbol"?hr.setAttribute(_r,""+Cr):hr.removeAttribute(_r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Cr&&typeof Cr!="function"&&typeof Cr!="symbol"?hr.setAttribute(_r,""):hr.removeAttribute(_r);break;case"capture":case"download":Cr===!0?hr.setAttribute(_r,""):Cr!==!1&&Cr!=null&&typeof Cr!="function"&&typeof Cr!="symbol"?hr.setAttribute(_r,Cr):hr.removeAttribute(_r);break;case"cols":case"rows":case"size":case"span":Cr!=null&&typeof Cr!="function"&&typeof Cr!="symbol"&&!isNaN(Cr)&&1<=Cr?hr.setAttribute(_r,Cr):hr.removeAttribute(_r);break;case"rowSpan":case"start":Cr==null||typeof Cr=="function"||typeof Cr=="symbol"||isNaN(Cr)?hr.removeAttribute(_r):hr.setAttribute(_r,Cr);break;case"popover":eo("beforetoggle",hr),eo("toggle",hr),Lc(hr,"popover",Cr);break;case"xlinkActuate":Th(hr,"http://www.w3.org/1999/xlink","xlink:actuate",Cr);break;case"xlinkArcrole":Th(hr,"http://www.w3.org/1999/xlink","xlink:arcrole",Cr);break;case"xlinkRole":Th(hr,"http://www.w3.org/1999/xlink","xlink:role",Cr);break;case"xlinkShow":Th(hr,"http://www.w3.org/1999/xlink","xlink:show",Cr);break;case"xlinkTitle":Th(hr,"http://www.w3.org/1999/xlink","xlink:title",Cr);break;case"xlinkType":Th(hr,"http://www.w3.org/1999/xlink","xlink:type",Cr);break;case"xmlBase":Th(hr,"http://www.w3.org/XML/1998/namespace","xml:base",Cr);break;case"xmlLang":Th(hr,"http://www.w3.org/XML/1998/namespace","xml:lang",Cr);break;case"xmlSpace":Th(hr,"http://www.w3.org/XML/1998/namespace","xml:space",Cr);break;case"is":Lc(hr,"is",Cr);break;case"innerText":case"textContent":break;default:(!(2<_r.length)||_r[0]!=="o"&&_r[0]!=="O"||_r[1]!=="n"&&_r[1]!=="N")&&(_r=Ku.get(_r)||_r,Lc(hr,_r,Cr))}}function xl(hr,pr,_r,Cr,Wr,Xr){switch(_r){case"style":Vl(hr,Cr,Xr);break;case"dangerouslySetInnerHTML":if(Cr!=null){if(typeof Cr!="object"||!("__html"in Cr))throw Error(nr(61));if(_r=Cr.__html,_r!=null){if(Wr.children!=null)throw Error(nr(60));hr.innerHTML=_r}}break;case"children":typeof Cr=="string"?Bo(hr,Cr):(typeof Cr=="number"||typeof Cr=="bigint")&&Bo(hr,""+Cr);break;case"onScroll":Cr!=null&&eo("scroll",hr);break;case"onScrollEnd":Cr!=null&&eo("scrollend",hr);break;case"onClick":Cr!=null&&(hr.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cd.hasOwnProperty(_r))e:{if(_r[0]==="o"&&_r[1]==="n"&&(Wr=_r.endsWith("Capture"),pr=_r.slice(2,Wr?_r.length-7:void 0),Xr=hr[eu]||null,Xr=Xr!=null?Xr[_r]:null,typeof Xr=="function"&&hr.removeEventListener(pr,Xr,Wr),typeof Cr=="function")){typeof Xr!="function"&&Xr!==null&&(_r in hr?hr[_r]=null:hr.hasAttribute(_r)&&hr.removeAttribute(_r)),hr.addEventListener(pr,Cr,Wr);break e}_r in hr?hr[_r]=Cr:Cr===!0?hr.setAttribute(_r,""):Lc(hr,_r,Cr)}}}function vl(hr,pr,_r){switch(pr){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":eo("error",hr),eo("load",hr);var Cr=!1,Wr=!1,Xr;for(Xr in _r)if(_r.hasOwnProperty(Xr)){var xo=_r[Xr];if(xo!=null)switch(Xr){case"src":Cr=!0;break;case"srcSet":Wr=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(nr(137,pr));default:Wo(hr,pr,Xr,xo,_r,null)}}Wr&&Wo(hr,pr,"srcSet",_r.srcSet,_r,null),Cr&&Wo(hr,pr,"src",_r.src,_r,null);return;case"input":eo("invalid",hr);var Ao=Xr=xo=Wr=null,Vo=null,cl=null;for(Cr in _r)if(_r.hasOwnProperty(Cr)){var wl=_r[Cr];if(wl!=null)switch(Cr){case"name":Wr=wl;break;case"type":xo=wl;break;case"checked":Vo=wl;break;case"defaultChecked":cl=wl;break;case"value":Xr=wl;break;case"defaultValue":Ao=wl;break;case"children":case"dangerouslySetInnerHTML":if(wl!=null)throw Error(nr(137,pr));break;default:Wo(hr,pr,Cr,wl,_r,null)}}Jd(hr,Xr,Ao,Vo,cl,xo,Wr,!1);return;case"select":eo("invalid",hr),Cr=xo=Xr=null;for(Wr in _r)if(_r.hasOwnProperty(Wr)&&(Ao=_r[Wr],Ao!=null))switch(Wr){case"value":Xr=Ao;break;case"defaultValue":xo=Ao;break;case"multiple":Cr=Ao;default:Wo(hr,pr,Wr,Ao,_r,null)}pr=Xr,_r=xo,hr.multiple=!!Cr,pr!=null?Au(hr,!!Cr,pr,!1):_r!=null&&Au(hr,!!Cr,_r,!0);return;case"textarea":eo("invalid",hr),Xr=Wr=Cr=null;for(xo in _r)if(_r.hasOwnProperty(xo)&&(Ao=_r[xo],Ao!=null))switch(xo){case"value":Cr=Ao;break;case"defaultValue":Wr=Ao;break;case"children":Xr=Ao;break;case"dangerouslySetInnerHTML":if(Ao!=null)throw Error(nr(91));break;default:Wo(hr,pr,xo,Ao,_r,null)}No(hr,Cr,Wr,Xr);return;case"option":for(Vo in _r)if(_r.hasOwnProperty(Vo)&&(Cr=_r[Vo],Cr!=null))switch(Vo){case"selected":hr.selected=Cr&&typeof Cr!="function"&&typeof Cr!="symbol";break;default:Wo(hr,pr,Vo,Cr,_r,null)}return;case"dialog":eo("beforetoggle",hr),eo("toggle",hr),eo("cancel",hr),eo("close",hr);break;case"iframe":case"object":eo("load",hr);break;case"video":case"audio":for(Cr=0;Cr<Ir.length;Cr++)eo(Ir[Cr],hr);break;case"image":eo("error",hr),eo("load",hr);break;case"details":eo("toggle",hr);break;case"embed":case"source":case"link":eo("error",hr),eo("load",hr);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(cl in _r)if(_r.hasOwnProperty(cl)&&(Cr=_r[cl],Cr!=null))switch(cl){case"children":case"dangerouslySetInnerHTML":throw Error(nr(137,pr));default:Wo(hr,pr,cl,Cr,_r,null)}return;default:if(wc(pr)){for(wl in _r)_r.hasOwnProperty(wl)&&(Cr=_r[wl],Cr!==void 0&&xl(hr,pr,wl,Cr,_r,void 0));return}}for(Ao in _r)_r.hasOwnProperty(Ao)&&(Cr=_r[Ao],Cr!=null&&Wo(hr,pr,Ao,Cr,_r,null))}function yl(hr,pr,_r,Cr){switch(pr){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Wr=null,Xr=null,xo=null,Ao=null,Vo=null,cl=null,wl=null;for(gl in _r){var Rl=_r[gl];if(_r.hasOwnProperty(gl)&&Rl!=null)switch(gl){case"checked":break;case"value":break;case"defaultValue":Vo=Rl;default:Cr.hasOwnProperty(gl)||Wo(hr,pr,gl,null,Cr,Rl)}}for(var hl in Cr){var gl=Cr[hl];if(Rl=_r[hl],Cr.hasOwnProperty(hl)&&(gl!=null||Rl!=null))switch(hl){case"type":Xr=gl;break;case"name":Wr=gl;break;case"checked":cl=gl;break;case"defaultChecked":wl=gl;break;case"value":xo=gl;break;case"defaultValue":Ao=gl;break;case"children":case"dangerouslySetInnerHTML":if(gl!=null)throw Error(nr(137,pr));break;default:gl!==Rl&&Wo(hr,pr,hl,gl,Cr,Rl)}}zf(hr,xo,Ao,Vo,cl,wl,Xr,Wr);return;case"select":gl=xo=Ao=hl=null;for(Xr in _r)if(Vo=_r[Xr],_r.hasOwnProperty(Xr)&&Vo!=null)switch(Xr){case"value":break;case"multiple":gl=Vo;default:Cr.hasOwnProperty(Xr)||Wo(hr,pr,Xr,null,Cr,Vo)}for(Wr in Cr)if(Xr=Cr[Wr],Vo=_r[Wr],Cr.hasOwnProperty(Wr)&&(Xr!=null||Vo!=null))switch(Wr){case"value":hl=Xr;break;case"defaultValue":Ao=Xr;break;case"multiple":xo=Xr;default:Xr!==Vo&&Wo(hr,pr,Wr,Xr,Cr,Vo)}pr=Ao,_r=xo,Cr=gl,hl!=null?Au(hr,!!_r,hl,!1):!!Cr!=!!_r&&(pr!=null?Au(hr,!!_r,pr,!0):Au(hr,!!_r,_r?[]:"",!1));return;case"textarea":gl=hl=null;for(Ao in _r)if(Wr=_r[Ao],_r.hasOwnProperty(Ao)&&Wr!=null&&!Cr.hasOwnProperty(Ao))switch(Ao){case"value":break;case"children":break;default:Wo(hr,pr,Ao,null,Cr,Wr)}for(xo in Cr)if(Wr=Cr[xo],Xr=_r[xo],Cr.hasOwnProperty(xo)&&(Wr!=null||Xr!=null))switch(xo){case"value":hl=Wr;break;case"defaultValue":gl=Wr;break;case"children":break;case"dangerouslySetInnerHTML":if(Wr!=null)throw Error(nr(91));break;default:Wr!==Xr&&Wo(hr,pr,xo,Wr,Cr,Xr)}Ro(hr,hl,gl);return;case"option":for(var rc in _r)if(hl=_r[rc],_r.hasOwnProperty(rc)&&hl!=null&&!Cr.hasOwnProperty(rc))switch(rc){case"selected":hr.selected=!1;break;default:Wo(hr,pr,rc,null,Cr,hl)}for(Vo in Cr)if(hl=Cr[Vo],gl=_r[Vo],Cr.hasOwnProperty(Vo)&&hl!==gl&&(hl!=null||gl!=null))switch(Vo){case"selected":hr.selected=hl&&typeof hl!="function"&&typeof hl!="symbol";break;default:Wo(hr,pr,Vo,hl,Cr,gl)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Sc in _r)hl=_r[Sc],_r.hasOwnProperty(Sc)&&hl!=null&&!Cr.hasOwnProperty(Sc)&&Wo(hr,pr,Sc,null,Cr,hl);for(cl in Cr)if(hl=Cr[cl],gl=_r[cl],Cr.hasOwnProperty(cl)&&hl!==gl&&(hl!=null||gl!=null))switch(cl){case"children":case"dangerouslySetInnerHTML":if(hl!=null)throw Error(nr(137,pr));break;default:Wo(hr,pr,cl,hl,Cr,gl)}return;default:if(wc(pr)){for(var sh in _r)hl=_r[sh],_r.hasOwnProperty(sh)&&hl!==void 0&&!Cr.hasOwnProperty(sh)&&xl(hr,pr,sh,void 0,Cr,hl);for(wl in Cr)hl=Cr[wl],gl=_r[wl],!Cr.hasOwnProperty(wl)||hl===gl||hl===void 0&&gl===void 0||xl(hr,pr,wl,hl,Cr,gl);return}}for(var nl in _r)hl=_r[nl],_r.hasOwnProperty(nl)&&hl!=null&&!Cr.hasOwnProperty(nl)&&Wo(hr,pr,nl,null,Cr,hl);for(Rl in Cr)hl=Cr[Rl],gl=_r[Rl],!Cr.hasOwnProperty(Rl)||hl===gl||hl==null&&gl==null||Wo(hr,pr,Rl,hl,Cr,gl)}function Fl(hr){switch(hr){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zl(){if(typeof performance.getEntriesByType=="function"){for(var hr=0,pr=0,_r=performance.getEntriesByType("resource"),Cr=0;Cr<_r.length;Cr++){var Wr=_r[Cr],Xr=Wr.transferSize,xo=Wr.initiatorType,Ao=Wr.duration;if(Xr&&Ao&&Fl(xo)){for(xo=0,Ao=Wr.responseEnd,Cr+=1;Cr<_r.length;Cr++){var Vo=_r[Cr],cl=Vo.startTime;if(cl>Ao)break;var wl=Vo.transferSize,Rl=Vo.initiatorType;wl&&Fl(Rl)&&(Vo=Vo.responseEnd,xo+=wl*(Vo<Ao?1:(Ao-cl)/(Vo-cl)))}if(--Cr,pr+=8*(Xr+xo)/(Wr.duration/1e3),hr++,10<hr)break}}if(0<hr)return pr/hr/1e6}return navigator.connection&&(hr=navigator.connection.downlink,typeof hr=="number")?hr:5}var Jl=null,Ll=null;function Gl(hr){return hr.nodeType===9?hr:hr.ownerDocument}function Ql(hr){switch(hr){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hc(hr,pr){if(hr===0)switch(pr){case"svg":return 1;case"math":return 2;default:return 0}return hr===1&&pr==="foreignObject"?0:hr}function Tc(hr,pr){return hr==="textarea"||hr==="noscript"||typeof pr.children=="string"||typeof pr.children=="number"||typeof pr.children=="bigint"||typeof pr.dangerouslySetInnerHTML=="object"&&pr.dangerouslySetInnerHTML!==null&&pr.dangerouslySetInnerHTML.__html!=null}var ad=null;function yc(){var hr=window.event;return hr&&hr.type==="popstate"?hr===ad?!1:(ad=hr,!0):(ad=null,!1)}var xc=typeof setTimeout=="function"?setTimeout:void 0,mu=typeof clearTimeout=="function"?clearTimeout:void 0,Wc=typeof Promise=="function"?Promise:void 0,Bu=typeof queueMicrotask=="function"?queueMicrotask:typeof Wc<"u"?function(hr){return Wc.resolve(null).then(hr).catch(cu)}:xc;function cu(hr){setTimeout(function(){throw hr})}function zl(hr){return hr==="head"}function rh(hr,pr){var _r=pr,Cr=0;do{var Wr=_r.nextSibling;if(hr.removeChild(_r),Wr&&Wr.nodeType===8)if(_r=Wr.data,_r==="/$"||_r==="/&"){if(Cr===0){hr.removeChild(Wr),uv(pr);return}Cr--}else if(_r==="$"||_r==="$?"||_r==="$~"||_r==="$!"||_r==="&")Cr++;else if(_r==="html")Kv(hr.ownerDocument.documentElement);else if(_r==="head"){_r=hr.ownerDocument.head,Kv(_r);for(var Xr=_r.firstChild;Xr;){var xo=Xr.nextSibling,Ao=Xr.nodeName;Xr[Iu]||Ao==="SCRIPT"||Ao==="STYLE"||Ao==="LINK"&&Xr.rel.toLowerCase()==="stylesheet"||_r.removeChild(Xr),Xr=xo}}else _r==="body"&&Kv(hr.ownerDocument.body);_r=Wr}while(_r);uv(pr)}function qu(hr,pr){var _r=hr;hr=0;do{var Cr=_r.nextSibling;if(_r.nodeType===1?pr?(_r._stashedDisplay=_r.style.display,_r.style.display="none"):(_r.style.display=_r._stashedDisplay||"",_r.getAttribute("style")===""&&_r.removeAttribute("style")):_r.nodeType===3&&(pr?(_r._stashedText=_r.nodeValue,_r.nodeValue=""):_r.nodeValue=_r._stashedText||""),Cr&&Cr.nodeType===8)if(_r=Cr.data,_r==="/$"){if(hr===0)break;hr--}else _r!=="$"&&_r!=="$?"&&_r!=="$~"&&_r!=="$!"||hr++;_r=Cr}while(_r)}function od(hr){var pr=hr.firstChild;for(pr&&pr.nodeType===10&&(pr=pr.nextSibling);pr;){var _r=pr;switch(pr=pr.nextSibling,_r.nodeName){case"HTML":case"HEAD":case"BODY":od(_r),qh(_r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_r.rel.toLowerCase()==="stylesheet")continue}hr.removeChild(_r)}}function Gm(hr,pr,_r,Cr){for(;hr.nodeType===1;){var Wr=_r;if(hr.nodeName.toLowerCase()!==pr.toLowerCase()){if(!Cr&&(hr.nodeName!=="INPUT"||hr.type!=="hidden"))break}else if(Cr){if(!hr[Iu])switch(pr){case"meta":if(!hr.hasAttribute("itemprop"))break;return hr;case"link":if(Xr=hr.getAttribute("rel"),Xr==="stylesheet"&&hr.hasAttribute("data-precedence"))break;if(Xr!==Wr.rel||hr.getAttribute("href")!==(Wr.href==null||Wr.href===""?null:Wr.href)||hr.getAttribute("crossorigin")!==(Wr.crossOrigin==null?null:Wr.crossOrigin)||hr.getAttribute("title")!==(Wr.title==null?null:Wr.title))break;return hr;case"style":if(hr.hasAttribute("data-precedence"))break;return hr;case"script":if(Xr=hr.getAttribute("src"),(Xr!==(Wr.src==null?null:Wr.src)||hr.getAttribute("type")!==(Wr.type==null?null:Wr.type)||hr.getAttribute("crossorigin")!==(Wr.crossOrigin==null?null:Wr.crossOrigin))&&Xr&&hr.hasAttribute("async")&&!hr.hasAttribute("itemprop"))break;return hr;default:return hr}}else if(pr==="input"&&hr.type==="hidden"){var Xr=Wr.name==null?null:""+Wr.name;if(Wr.type==="hidden"&&hr.getAttribute("name")===Xr)return hr}else return hr;if(hr=_d(hr.nextSibling),hr===null)break}return null}function qc(hr,pr,_r){if(pr==="")return null;for(;hr.nodeType!==3;)if((hr.nodeType!==1||hr.nodeName!=="INPUT"||hr.type!=="hidden")&&!_r||(hr=_d(hr.nextSibling),hr===null))return null;return hr}function bd(hr,pr){for(;hr.nodeType!==8;)if((hr.nodeType!==1||hr.nodeName!=="INPUT"||hr.type!=="hidden")&&!pr||(hr=_d(hr.nextSibling),hr===null))return null;return hr}function mf(hr){return hr.data==="$?"||hr.data==="$~"}function gf(hr){return hr.data==="$!"||hr.data==="$?"&&hr.ownerDocument.readyState!=="loading"}function Eg(hr,pr){var _r=hr.ownerDocument;if(hr.data==="$~")hr._reactRetry=pr;else if(hr.data!=="$?"||_r.readyState!=="loading")pr();else{var Cr=function(){pr(),_r.removeEventListener("DOMContentLoaded",Cr)};_r.addEventListener("DOMContentLoaded",Cr),hr._reactRetry=Cr}}function _d(hr){for(;hr!=null;hr=hr.nextSibling){var pr=hr.nodeType;if(pr===1||pr===3)break;if(pr===8){if(pr=hr.data,pr==="$"||pr==="$!"||pr==="$?"||pr==="$~"||pr==="&"||pr==="F!"||pr==="F")break;if(pr==="/$"||pr==="/&")return null}}return hr}var xf=null;function Sg(hr){hr=hr.nextSibling;for(var pr=0;hr;){if(hr.nodeType===8){var _r=hr.data;if(_r==="/$"||_r==="/&"){if(pr===0)return _d(hr.nextSibling);pr--}else _r!=="$"&&_r!=="$!"&&_r!=="$?"&&_r!=="$~"&&_r!=="&"||pr++}hr=hr.nextSibling}return null}function qv(hr){hr=hr.previousSibling;for(var pr=0;hr;){if(hr.nodeType===8){var _r=hr.data;if(_r==="$"||_r==="$!"||_r==="$?"||_r==="$~"||_r==="&"){if(pr===0)return hr;pr--}else _r!=="/$"&&_r!=="/&"||pr++}hr=hr.previousSibling}return null}function b0(hr,pr,_r){switch(pr=Gl(_r),hr){case"html":if(hr=pr.documentElement,!hr)throw Error(nr(452));return hr;case"head":if(hr=pr.head,!hr)throw Error(nr(453));return hr;case"body":if(hr=pr.body,!hr)throw Error(nr(454));return hr;default:throw Error(nr(451))}}function Kv(hr){for(var pr=hr.attributes;pr.length;)hr.removeAttributeNode(pr[0]);qh(hr)}var Fp=new Map,_0=new Set;function $b(hr){return typeof hr.getRootNode=="function"?hr.getRootNode():hr.nodeType===9?hr:hr.ownerDocument}var jg=Jr.d;Jr.d={f:W0,r:G0,D:u0,C:V0,L:U0,m:Y0,X:Ff,S:wd,M:X0};function W0(){var hr=jg.f(),pr=Yy();return hr||pr}function G0(hr){var pr=zh(hr);pr!==null&&pr.tag===5&&pr.type==="form"?jx(pr):jg.r(hr)}var rx=typeof document>"u"?null:document;function w0(hr,pr,_r){var Cr=rx;if(Cr&&typeof pr=="string"&&pr){var Wr=Eu(pr);Wr='link[rel="'+hr+'"][href="'+Wr+'"]',typeof _r=="string"&&(Wr+='[crossorigin="'+_r+'"]'),_0.has(Wr)||(_0.add(Wr),hr={rel:hr,crossOrigin:_r,href:pr},Cr.querySelector(Wr)===null&&(pr=Cr.createElement("link"),vl(pr,"link",hr),tu(pr),Cr.head.appendChild(pr)))}}function u0(hr){jg.D(hr),w0("dns-prefetch",hr,null)}function V0(hr,pr){jg.C(hr,pr),w0("preconnect",hr,pr)}function U0(hr,pr,_r){jg.L(hr,pr,_r);var Cr=rx;if(Cr&&hr&&pr){var Wr='link[rel="preload"][as="'+Eu(pr)+'"]';pr==="image"&&_r&&_r.imageSrcSet?(Wr+='[imagesrcset="'+Eu(_r.imageSrcSet)+'"]',typeof _r.imageSizes=="string"&&(Wr+='[imagesizes="'+Eu(_r.imageSizes)+'"]')):Wr+='[href="'+Eu(hr)+'"]';var Xr=Wr;switch(pr){case"style":Xr=iv(hr);break;case"script":Xr=sv(hr)}Fp.has(Xr)||(hr=ur({rel:"preload",href:pr==="image"&&_r&&_r.imageSrcSet?void 0:hr,as:pr},_r),Fp.set(Xr,hr),Cr.querySelector(Wr)!==null||pr==="style"&&Cr.querySelector(rv(Xr))||pr==="script"&&Cr.querySelector(av(Xr))||(pr=Cr.createElement("link"),vl(pr,"link",hr),tu(pr),Cr.head.appendChild(pr)))}}function Y0(hr,pr){jg.m(hr,pr);var _r=rx;if(_r&&hr){var Cr=pr&&typeof pr.as=="string"?pr.as:"script",Wr='link[rel="modulepreload"][as="'+Eu(Cr)+'"][href="'+Eu(hr)+'"]',Xr=Wr;switch(Cr){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Xr=sv(hr)}if(!Fp.has(Xr)&&(hr=ur({rel:"modulepreload",href:hr},pr),Fp.set(Xr,hr),_r.querySelector(Wr)===null)){switch(Cr){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_r.querySelector(av(Xr)))return}Cr=_r.createElement("link"),vl(Cr,"link",hr),tu(Cr),_r.head.appendChild(Cr)}}}function wd(hr,pr,_r){jg.S(hr,pr,_r);var Cr=rx;if(Cr&&hr){var Wr=Hu(Cr).hoistableStyles,Xr=iv(hr);pr=pr||"default";var xo=Wr.get(Xr);if(!xo){var Ao={loading:0,preload:null};if(xo=Cr.querySelector(rv(Xr)))Ao.loading=5;else{hr=ur({rel:"stylesheet",href:hr,"data-precedence":pr},_r),(_r=Fp.get(Xr))&&h0(hr,_r);var Vo=xo=Cr.createElement("link");tu(Vo),vl(Vo,"link",hr),Vo._p=new Promise(function(cl,wl){Vo.onload=cl,Vo.onerror=wl}),Vo.addEventListener("load",function(){Ao.loading|=1}),Vo.addEventListener("error",function(){Ao.loading|=2}),Ao.loading|=4,Ib(xo,pr,Cr)}xo={type:"stylesheet",instance:xo,count:1,state:Ao},Wr.set(Xr,xo)}}}function Ff(hr,pr){jg.X(hr,pr);var _r=rx;if(_r&&hr){var Cr=Hu(_r).hoistableScripts,Wr=sv(hr),Xr=Cr.get(Wr);Xr||(Xr=_r.querySelector(av(Wr)),Xr||(hr=ur({src:hr,async:!0},pr),(pr=Fp.get(Wr))&&Fb(hr,pr),Xr=_r.createElement("script"),tu(Xr),vl(Xr,"link",hr),_r.head.appendChild(Xr)),Xr={type:"script",instance:Xr,count:1,state:null},Cr.set(Wr,Xr))}}function X0(hr,pr){jg.M(hr,pr);var _r=rx;if(_r&&hr){var Cr=Hu(_r).hoistableScripts,Wr=sv(hr),Xr=Cr.get(Wr);Xr||(Xr=_r.querySelector(av(Wr)),Xr||(hr=ur({src:hr,async:!0,type:"module"},pr),(pr=Fp.get(Wr))&&Fb(hr,pr),Xr=_r.createElement("script"),tu(Xr),vl(Xr,"link",hr),_r.head.appendChild(Xr)),Xr={type:"script",instance:Xr,count:1,state:null},Cr.set(Wr,Xr))}}function E0(hr,pr,_r,Cr){var Wr=(Wr=wo.current)?$b(Wr):null;if(!Wr)throw Error(nr(446));switch(hr){case"meta":case"title":return null;case"style":return typeof _r.precedence=="string"&&typeof _r.href=="string"?(pr=iv(_r.href),_r=Hu(Wr).hoistableStyles,Cr=_r.get(pr),Cr||(Cr={type:"style",instance:null,count:0,state:null},_r.set(pr,Cr)),Cr):{type:"void",instance:null,count:0,state:null};case"link":if(_r.rel==="stylesheet"&&typeof _r.href=="string"&&typeof _r.precedence=="string"){hr=iv(_r.href);var Xr=Hu(Wr).hoistableStyles,xo=Xr.get(hr);if(xo||(Wr=Wr.ownerDocument||Wr,xo={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Xr.set(hr,xo),(Xr=Wr.querySelector(rv(hr)))&&!Xr._p&&(xo.instance=Xr,xo.state.loading=5),Fp.has(hr)||(_r={rel:"preload",as:"style",href:_r.href,crossOrigin:_r.crossOrigin,integrity:_r.integrity,media:_r.media,hrefLang:_r.hrefLang,referrerPolicy:_r.referrerPolicy},Fp.set(hr,_r),Xr||q0(Wr,hr,_r,xo.state))),pr&&Cr===null)throw Error(nr(528,""));return xo}if(pr&&Cr!==null)throw Error(nr(529,""));return null;case"script":return pr=_r.async,_r=_r.src,typeof _r=="string"&&pr&&typeof pr!="function"&&typeof pr!="symbol"?(pr=sv(_r),_r=Hu(Wr).hoistableScripts,Cr=_r.get(pr),Cr||(Cr={type:"script",instance:null,count:0,state:null},_r.set(pr,Cr)),Cr):{type:"void",instance:null,count:0,state:null};default:throw Error(nr(444,hr))}}function iv(hr){return'href="'+Eu(hr)+'"'}function rv(hr){return'link[rel="stylesheet"]['+hr+"]"}function S0(hr){return ur({},hr,{"data-precedence":hr.precedence,precedence:null})}function q0(hr,pr,_r,Cr){hr.querySelector('link[rel="preload"][as="style"]['+pr+"]")?Cr.loading=1:(pr=hr.createElement("link"),Cr.preload=pr,pr.addEventListener("load",function(){return Cr.loading|=1}),pr.addEventListener("error",function(){return Cr.loading|=2}),vl(pr,"link",_r),tu(pr),hr.head.appendChild(pr))}function sv(hr){return'[src="'+Eu(hr)+'"]'}function av(hr){return"script[async]"+hr}function j0(hr,pr,_r){if(pr.count++,pr.instance===null)switch(pr.type){case"style":var Cr=hr.querySelector('style[data-href~="'+Eu(_r.href)+'"]');if(Cr)return pr.instance=Cr,tu(Cr),Cr;var Wr=ur({},_r,{"data-href":_r.href,"data-precedence":_r.precedence,href:null,precedence:null});return Cr=(hr.ownerDocument||hr).createElement("style"),tu(Cr),vl(Cr,"style",Wr),Ib(Cr,_r.precedence,hr),pr.instance=Cr;case"stylesheet":Wr=iv(_r.href);var Xr=hr.querySelector(rv(Wr));if(Xr)return pr.state.loading|=4,pr.instance=Xr,tu(Xr),Xr;Cr=S0(_r),(Wr=Fp.get(Wr))&&h0(Cr,Wr),Xr=(hr.ownerDocument||hr).createElement("link"),tu(Xr);var xo=Xr;return xo._p=new Promise(function(Ao,Vo){xo.onload=Ao,xo.onerror=Vo}),vl(Xr,"link",Cr),pr.state.loading|=4,Ib(Xr,_r.precedence,hr),pr.instance=Xr;case"script":return Xr=sv(_r.src),(Wr=hr.querySelector(av(Xr)))?(pr.instance=Wr,tu(Wr),Wr):(Cr=_r,(Wr=Fp.get(Xr))&&(Cr=ur({},_r),Fb(Cr,Wr)),hr=hr.ownerDocument||hr,Wr=hr.createElement("script"),tu(Wr),vl(Wr,"link",Cr),hr.head.appendChild(Wr),pr.instance=Wr);case"void":return null;default:throw Error(nr(443,pr.type))}else pr.type==="stylesheet"&&(pr.state.loading&4)===0&&(Cr=pr.instance,pr.state.loading|=4,Ib(Cr,_r.precedence,hr));return pr.instance}function Ib(hr,pr,_r){for(var Cr=_r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Wr=Cr.length?Cr[Cr.length-1]:null,Xr=Wr,xo=0;xo<Cr.length;xo++){var Ao=Cr[xo];if(Ao.dataset.precedence===pr)Xr=Ao;else if(Xr!==Wr)break}Xr?Xr.parentNode.insertBefore(hr,Xr.nextSibling):(pr=_r.nodeType===9?_r.head:_r,pr.insertBefore(hr,pr.firstChild))}function h0(hr,pr){hr.crossOrigin==null&&(hr.crossOrigin=pr.crossOrigin),hr.referrerPolicy==null&&(hr.referrerPolicy=pr.referrerPolicy),hr.title==null&&(hr.title=pr.title)}function Fb(hr,pr){hr.crossOrigin==null&&(hr.crossOrigin=pr.crossOrigin),hr.referrerPolicy==null&&(hr.referrerPolicy=pr.referrerPolicy),hr.integrity==null&&(hr.integrity=pr.integrity)}var Zv=null;function R0(hr,pr,_r){if(Zv===null){var Cr=new Map,Wr=Zv=new Map;Wr.set(_r,Cr)}else Wr=Zv,Cr=Wr.get(_r),Cr||(Cr=new Map,Wr.set(_r,Cr));if(Cr.has(hr))return Cr;for(Cr.set(hr,null),_r=_r.getElementsByTagName(hr),Wr=0;Wr<_r.length;Wr++){var Xr=_r[Wr];if(!(Xr[Iu]||Xr[Mc]||hr==="link"&&Xr.getAttribute("rel")==="stylesheet")&&Xr.namespaceURI!=="http://www.w3.org/2000/svg"){var xo=Xr.getAttribute(pr)||"";xo=hr+xo;var Ao=Cr.get(xo);Ao?Ao.push(Xr):Cr.set(xo,[Xr])}}return Cr}function C0(hr,pr,_r){hr=hr.ownerDocument||hr,hr.head.insertBefore(_r,pr==="title"?hr.querySelector("head > title"):null)}function K0(hr,pr,_r){if(_r===1||pr.itemProp!=null)return!1;switch(hr){case"meta":case"title":return!0;case"style":if(typeof pr.precedence!="string"||typeof pr.href!="string"||pr.href==="")break;return!0;case"link":if(typeof pr.rel!="string"||typeof pr.href!="string"||pr.href===""||pr.onLoad||pr.onError)break;switch(pr.rel){case"stylesheet":return hr=pr.disabled,typeof pr.precedence=="string"&&hr==null;default:return!0}case"script":if(pr.async&&typeof pr.async!="function"&&typeof pr.async!="symbol"&&!pr.onLoad&&!pr.onError&&pr.src&&typeof pr.src=="string")return!0}return!1}function k0(hr){return!(hr.type==="stylesheet"&&(hr.state.loading&3)===0)}function ov(hr,pr,_r,Cr){if(_r.type==="stylesheet"&&(typeof Cr.media!="string"||matchMedia(Cr.media).matches!==!1)&&(_r.state.loading&4)===0){if(_r.instance===null){var Wr=iv(Cr.href),Xr=pr.querySelector(rv(Wr));if(Xr){pr=Xr._p,pr!==null&&typeof pr=="object"&&typeof pr.then=="function"&&(hr.count++,hr=Bb.bind(hr),pr.then(hr,hr)),_r.state.loading|=4,_r.instance=Xr,tu(Xr);return}Xr=pr.ownerDocument||pr,Cr=S0(Cr),(Wr=Fp.get(Wr))&&h0(Cr,Wr),Xr=Xr.createElement("link"),tu(Xr);var xo=Xr;xo._p=new Promise(function(Ao,Vo){xo.onload=Ao,xo.onerror=Vo}),vl(Xr,"link",Cr),_r.instance=Xr}hr.stylesheets===null&&(hr.stylesheets=new Map),hr.stylesheets.set(_r,pr),(pr=_r.state.preload)&&(_r.state.loading&3)===0&&(hr.count++,_r=Bb.bind(hr),pr.addEventListener("load",_r),pr.addEventListener("error",_r))}}var d0=0;function Z0(hr,pr){return hr.stylesheets&&hr.count===0&&Hb(hr,hr.stylesheets),0<hr.count||0<hr.imgCount?function(_r){var Cr=setTimeout(function(){if(hr.stylesheets&&Hb(hr,hr.stylesheets),hr.unsuspend){var Xr=hr.unsuspend;hr.unsuspend=null,Xr()}},6e4+pr);0<hr.imgBytes&&d0===0&&(d0=62500*Zl());var Wr=setTimeout(function(){if(hr.waitingForImages=!1,hr.count===0&&(hr.stylesheets&&Hb(hr,hr.stylesheets),hr.unsuspend)){var Xr=hr.unsuspend;hr.unsuspend=null,Xr()}},(hr.imgBytes>d0?50:800)+pr);return hr.unsuspend=_r,function(){hr.unsuspend=null,clearTimeout(Cr),clearTimeout(Wr)}}:null}function Bb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hb(this,this.stylesheets);else if(this.unsuspend){var hr=this.unsuspend;this.unsuspend=null,hr()}}}var zb=null;function Hb(hr,pr){hr.stylesheets=null,hr.unsuspend!==null&&(hr.count++,zb=new Map,pr.forEach(A0,hr),zb=null,Bb.call(hr))}function A0(hr,pr){if(!(pr.state.loading&4)){var _r=zb.get(hr);if(_r)var Cr=_r.get(null);else{_r=new Map,zb.set(hr,_r);for(var Wr=hr.querySelectorAll("link[data-precedence],style[data-precedence]"),Xr=0;Xr<Wr.length;Xr++){var xo=Wr[Xr];(xo.nodeName==="LINK"||xo.getAttribute("media")!=="not all")&&(_r.set(xo.dataset.precedence,xo),Cr=xo)}Cr&&_r.set(null,Cr)}Wr=pr.instance,xo=Wr.getAttribute("data-precedence"),Xr=_r.get(xo)||Cr,Xr===Cr&&_r.set(null,Wr),_r.set(xo,Wr),this.count++,Cr=Bb.bind(this),Wr.addEventListener("load",Cr),Wr.addEventListener("error",Cr),Xr?Xr.parentNode.insertBefore(Wr,Xr.nextSibling):(hr=hr.nodeType===9?hr.head:hr,hr.insertBefore(Wr,hr.firstChild)),pr.state.loading|=4}}var lv={$$typeof:Tr,Provider:null,Consumer:null,_currentValue:uo,_currentValue2:uo,_threadCount:0};function Q0(hr,pr,_r,Cr,Wr,Xr,xo,Ao,Vo){this.tag=1,this.containerInfo=hr,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.hiddenUpdates=nc(null),this.identifierPrefix=Cr,this.onUncaughtError=Wr,this.onCaughtError=Xr,this.onRecoverableError=xo,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Vo,this.incompleteTransitions=new Map}function T0(hr,pr,_r,Cr,Wr,Xr,xo,Ao,Vo,cl,wl,Rl){return hr=new Q0(hr,pr,_r,xo,Vo,cl,wl,Rl,Ao),pr=1,Xr===!0&&(pr|=24),Xr=Ph(3,null,null,pr),hr.current=Xr,Xr.stateNode=hr,pr=Xf(),pr.refCount++,hr.pooledCache=pr,pr.refCount++,Xr.memoizedState={element:Cr,isDehydrated:_r,cache:pr},Tp(Xr),hr}function P0(hr){return hr?(hr=Cf,hr):Cf}function D0(hr,pr,_r,Cr,Wr,Xr){Wr=P0(Wr),Cr.context===null?Cr.context=Wr:Cr.pendingContext=Wr,Cr=km(pr),Cr.payload={element:_r},Xr=Xr===void 0?null:Xr,Xr!==null&&(Cr.callback=Xr),_r=Dd(hr,Cr,pr),_r!==null&&(Od(_r,hr,pr),Tf(_r,hr,pr))}function M0(hr,pr){if(hr=hr.memoizedState,hr!==null&&hr.dehydrated!==null){var _r=hr.retryLane;hr.retryLane=_r!==0&&_r<pr?_r:pr}}function f0(hr,pr){M0(hr,pr),(hr=hr.alternate)&&M0(hr,pr)}function N0(hr){if(hr.tag===13||hr.tag===31){var pr=kd(hr,67108864);pr!==null&&Od(pr,hr,67108864),f0(hr,67108864)}}function O0(hr){if(hr.tag===13||hr.tag===31){var pr=Qd();pr=Pl(pr);var _r=kd(hr,pr);_r!==null&&Od(_r,hr,pr),f0(hr,pr)}}var Wb=!0;function J0(hr,pr,_r,Cr){var Wr=ao.T;ao.T=null;var Xr=Jr.p;try{Jr.p=2,p0(hr,pr,_r,Cr)}finally{Jr.p=Xr,ao.T=Wr}}function e1(hr,pr,_r,Cr){var Wr=ao.T;ao.T=null;var Xr=Jr.p;try{Jr.p=8,p0(hr,pr,_r,Cr)}finally{Jr.p=Xr,ao.T=Wr}}function p0(hr,pr,_r,Cr){if(Wb){var Wr=m0(Cr);if(Wr===null)_o(hr,pr,Cr,Gb,_r),$0(hr,Cr);else if(I0(Wr,hr,pr,_r,Cr))Cr.stopPropagation();else if($0(hr,Cr),pr&4&&-1<n1.indexOf(hr)){for(;Wr!==null;){var Xr=zh(Wr);if(Xr!==null)switch(Xr.tag){case 3:if(Xr=Xr.stateNode,Xr.current.memoizedState.isDehydrated){var xo=Cc(Xr.pendingLanes);if(xo!==0){var Ao=Xr;for(Ao.pendingLanes|=2,Ao.entangledLanes|=2;xo;){var Vo=1<<31-fl(xo);Ao.entanglements[1]|=Vo,xo&=~Vo}Ip(Xr),(pu&6)===0&&(_g=oc()+500,Qx(0))}}break;case 31:case 13:Ao=kd(Xr,2),Ao!==null&&Od(Ao,Xr,2),Yy(),f0(Xr,2)}if(Xr=m0(Cr),Xr===null&&_o(hr,pr,Cr,Gb,_r),Xr===Wr)break;Wr=Xr}Wr!==null&&Cr.stopPropagation()}else _o(hr,pr,Cr,null,_r)}}function m0(hr){return hr=Vm(hr),g0(hr)}var Gb=null;function g0(hr){if(Gb=null,hr=Bh(hr),hr!==null){var pr=rr(hr);if(pr===null)hr=null;else{var _r=pr.tag;if(_r===13){if(hr=sr(pr),hr!==null)return hr;hr=null}else if(_r===31){if(hr=ar(pr),hr!==null)return hr;hr=null}else if(_r===3){if(pr.stateNode.current.memoizedState.isDehydrated)return pr.tag===3?pr.stateNode.containerInfo:null;hr=null}else pr!==hr&&(hr=null)}}return Gb=hr,null}function L0(hr){switch(hr){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vc()){case Ic:return 2;case Yc:return 8;case Rc:case El:return 32;case Kl:return 268435456;default:return 32}default:return 32}}var x0=!1,sx=null,ax=null,ox=null,Qv=new Map,Jv=new Map,lx=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(hr,pr){switch(hr){case"focusin":case"focusout":sx=null;break;case"dragenter":case"dragleave":ax=null;break;case"mouseover":case"mouseout":ox=null;break;case"pointerover":case"pointerout":Qv.delete(pr.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jv.delete(pr.pointerId)}}function ey(hr,pr,_r,Cr,Wr,Xr){return hr===null||hr.nativeEvent!==Xr?(hr={blockedOn:pr,domEventName:_r,eventSystemFlags:Cr,nativeEvent:Xr,targetContainers:[Wr]},pr!==null&&(pr=zh(pr),pr!==null&&N0(pr)),hr):(hr.eventSystemFlags|=Cr,pr=hr.targetContainers,Wr!==null&&pr.indexOf(Wr)===-1&&pr.push(Wr),hr)}function I0(hr,pr,_r,Cr,Wr){switch(pr){case"focusin":return sx=ey(sx,hr,pr,_r,Cr,Wr),!0;case"dragenter":return ax=ey(ax,hr,pr,_r,Cr,Wr),!0;case"mouseover":return ox=ey(ox,hr,pr,_r,Cr,Wr),!0;case"pointerover":var Xr=Wr.pointerId;return Qv.set(Xr,ey(Qv.get(Xr)||null,hr,pr,_r,Cr,Wr)),!0;case"gotpointercapture":return Xr=Wr.pointerId,Jv.set(Xr,ey(Jv.get(Xr)||null,hr,pr,_r,Cr,Wr)),!0}return!1}function y0(hr){var pr=Bh(hr.target);if(pr!==null){var _r=rr(pr);if(_r!==null){if(pr=_r.tag,pr===13){if(pr=sr(_r),pr!==null){hr.blockedOn=pr,oh(hr.priority,function(){O0(_r)});return}}else if(pr===31){if(pr=ar(_r),pr!==null){hr.blockedOn=pr,oh(hr.priority,function(){O0(_r)});return}}else if(pr===3&&_r.stateNode.current.memoizedState.isDehydrated){hr.blockedOn=_r.tag===3?_r.stateNode.containerInfo:null;return}}}hr.blockedOn=null}function Vb(hr){if(hr.blockedOn!==null)return!1;for(var pr=hr.targetContainers;0<pr.length;){var _r=m0(hr.nativeEvent);if(_r===null){_r=hr.nativeEvent;var Cr=new _r.constructor(_r.type,_r);Hf=Cr,_r.target.dispatchEvent(Cr),Hf=null}else return pr=zh(_r),pr!==null&&N0(pr),hr.blockedOn=_r,!1;pr.shift()}return!0}function F0(hr,pr,_r){Vb(hr)&&_r.delete(pr)}function i1(){x0=!1,sx!==null&&Vb(sx)&&(sx=null),ax!==null&&Vb(ax)&&(ax=null),ox!==null&&Vb(ox)&&(ox=null),Qv.forEach(F0),Jv.forEach(F0)}function cv(hr,pr){hr.blockedOn===pr&&(hr.blockedOn=null,x0||(x0=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,i1)))}var Ub=null;function B0(hr){Ub!==hr&&(Ub=hr,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,function(){Ub===hr&&(Ub=null);for(var pr=0;pr<hr.length;pr+=3){var _r=hr[pr],Cr=hr[pr+1],Wr=hr[pr+2];if(typeof Cr!="function"){if(g0(Cr||_r)===null)continue;break}var Xr=zh(_r);Xr!==null&&(hr.splice(pr,3),pr-=3,Dp(Xr,{pending:!0,data:Wr,method:_r.method,action:Cr},Cr,Wr))}}))}function uv(hr){function pr(Vo){return cv(Vo,hr)}sx!==null&&cv(sx,hr),ax!==null&&cv(ax,hr),ox!==null&&cv(ox,hr),Qv.forEach(pr),Jv.forEach(pr);for(var _r=0;_r<lx.length;_r++){var Cr=lx[_r];Cr.blockedOn===hr&&(Cr.blockedOn=null)}for(;0<lx.length&&(_r=lx[0],_r.blockedOn===null);)y0(_r),_r.blockedOn===null&&lx.shift();if(_r=(hr.ownerDocument||hr).$$reactFormReplay,_r!=null)for(Cr=0;Cr<_r.length;Cr+=3){var Wr=_r[Cr],Xr=_r[Cr+1],xo=Wr[eu]||null;if(typeof Xr=="function")xo||B0(_r);else if(xo){var Ao=null;if(Xr&&Xr.hasAttribute("formAction")){if(Wr=Xr,xo=Xr[eu]||null)Ao=xo.formAction;else if(g0(Wr)!==null)continue}else Ao=xo.action;typeof Ao=="function"?_r[Cr+1]=Ao:(_r.splice(Cr,3),Cr-=3),B0(_r)}}}function yf(){function hr(Xr){Xr.canIntercept&&Xr.info==="react-transition"&&Xr.intercept({handler:function(){return new Promise(function(xo){return Wr=xo})},focusReset:"manual",scroll:"manual"})}function pr(){Wr!==null&&(Wr(),Wr=null),Cr||setTimeout(_r,20)}function _r(){if(!Cr&&!navigation.transition){var Xr=navigation.currentEntry;Xr&&Xr.url!=null&&navigation.navigate(Xr.url,{state:Xr.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var Cr=!1,Wr=null;return navigation.addEventListener("navigate",hr),navigation.addEventListener("navigatesuccess",pr),navigation.addEventListener("navigateerror",pr),setTimeout(_r,100),function(){Cr=!0,navigation.removeEventListener("navigate",hr),navigation.removeEventListener("navigatesuccess",pr),navigation.removeEventListener("navigateerror",pr),Wr!==null&&(Wr(),Wr=null)}}}function eb(hr){this._internalRoot=hr}Yb.prototype.render=eb.prototype.render=function(hr){var pr=this._internalRoot;if(pr===null)throw Error(nr(409));var _r=pr.current,Cr=Qd();D0(_r,Cr,hr,pr,null,null)},Yb.prototype.unmount=eb.prototype.unmount=function(){var hr=this._internalRoot;if(hr!==null){this._internalRoot=null;var pr=hr.containerInfo;D0(hr.current,2,null,hr,null,null),Yy(),pr[Qc]=null}};function Yb(hr){this._internalRoot=hr}Yb.prototype.unstable_scheduleHydration=function(hr){if(hr){var pr=bu();hr={blockedOn:null,target:hr,priority:pr};for(var _r=0;_r<lx.length&&pr!==0&&pr<lx[_r].priority;_r++);lx.splice(_r,0,hr),_r===0&&y0(hr)}};var z0=Hn.version;if(z0!=="19.2.0")throw Error(nr(527,z0,"19.2.0"));Jr.findDOMNode=function(hr){var pr=hr._reactInternals;if(pr===void 0)throw typeof hr.render=="function"?Error(nr(188)):(hr=Object.keys(hr).join(","),Error(nr(268,hr)));return hr=lr(pr),hr=hr!==null?cr(hr):null,hr=hr===null?null:hr.stateNode,hr};var r1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ao,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xb.isDisabled&&Xb.supportsFiber)try{Hl=Xb.inject(r1),al=Xb}catch{}}return reactDomClient_production.createRoot=function(hr,pr){if(!ir(hr))throw Error(nr(299));var _r=!1,Cr="",Wr=Op,Xr=Tx,xo=ru;return pr!=null&&(pr.unstable_strictMode===!0&&(_r=!0),pr.identifierPrefix!==void 0&&(Cr=pr.identifierPrefix),pr.onUncaughtError!==void 0&&(Wr=pr.onUncaughtError),pr.onCaughtError!==void 0&&(Xr=pr.onCaughtError),pr.onRecoverableError!==void 0&&(xo=pr.onRecoverableError)),pr=T0(hr,1,!1,null,null,_r,Cr,null,Wr,Xr,xo,yf),hr[Qc]=pr.current,po(hr),new eb(pr)},reactDomClient_production.hydrateRoot=function(hr,pr,_r){if(!ir(hr))throw Error(nr(299));var Cr=!1,Wr="",Xr=Op,xo=Tx,Ao=ru,Vo=null;return _r!=null&&(_r.unstable_strictMode===!0&&(Cr=!0),_r.identifierPrefix!==void 0&&(Wr=_r.identifierPrefix),_r.onUncaughtError!==void 0&&(Xr=_r.onUncaughtError),_r.onCaughtError!==void 0&&(xo=_r.onCaughtError),_r.onRecoverableError!==void 0&&(Ao=_r.onRecoverableError),_r.formState!==void 0&&(Vo=_r.formState)),pr=T0(hr,1,!0,pr,_r??null,Cr,Wr,Vo,Xr,xo,Ao,yf),pr.context=P0(null),_r=pr.current,Cr=Qd(),Cr=Pl(Cr),Wr=km(Cr),Wr.callback=null,Dd(_r,Wr,Cr),_r=Cr,pr.current.lanes=_r,Ul(pr,_r),Ip(pr),hr[Qc]=pr.current,po(hr),new Yb(pr)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function tr(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tr)}catch(Hn){console.error(Hn)}}return tr(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var PopStateEventType="popstate";function createHashHistory(tr={}){function Hn(ir,rr){let{pathname:sr="/",search:ar="",hash:or=""}=parsePath(ir.location.hash.substring(1));return!sr.startsWith("/")&&!sr.startsWith(".")&&(sr="/"+sr),createLocation("",{pathname:sr,search:ar,hash:or},rr.state&&rr.state.usr||null,rr.state&&rr.state.key||"default")}function er(ir,rr){let sr=ir.document.querySelector("base"),ar="";if(sr&&sr.getAttribute("href")){let or=ir.location.href,lr=or.indexOf("#");ar=lr===-1?or:or.slice(0,lr)}return ar+"#"+(typeof rr=="string"?rr:createPath(rr))}function nr(ir,rr){warning(ir.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(rr)})`)}return getUrlBasedHistory(Hn,er,nr,tr)}function invariant$1(tr,Hn){if(tr===!1||tr===null||typeof tr>"u")throw new Error(Hn)}function warning(tr,Hn){if(!tr){typeof console<"u"&&console.warn(Hn);try{throw new Error(Hn)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(tr,Hn){return{usr:tr.state,key:tr.key,idx:Hn}}function createLocation(tr,Hn,er=null,nr){return{pathname:typeof tr=="string"?tr:tr.pathname,search:"",hash:"",...typeof Hn=="string"?parsePath(Hn):Hn,state:er,key:Hn&&Hn.key||nr||createKey()}}function createPath({pathname:tr="/",search:Hn="",hash:er=""}){return Hn&&Hn!=="?"&&(tr+=Hn.charAt(0)==="?"?Hn:"?"+Hn),er&&er!=="#"&&(tr+=er.charAt(0)==="#"?er:"#"+er),tr}function parsePath(tr){let Hn={};if(tr){let er=tr.indexOf("#");er>=0&&(Hn.hash=tr.substring(er),tr=tr.substring(0,er));let nr=tr.indexOf("?");nr>=0&&(Hn.search=tr.substring(nr),tr=tr.substring(0,nr)),tr&&(Hn.pathname=tr)}return Hn}function getUrlBasedHistory(tr,Hn,er,nr={}){let{window:ir=document.defaultView,v5Compat:rr=!1}=nr,sr=ir.history,ar="POP",or=null,lr=cr();lr==null&&(lr=0,sr.replaceState({...sr.state,idx:lr},""));function cr(){return(sr.state||{idx:null}).idx}function ur(){ar="POP";let vr=cr(),jr=vr==null?null:vr-lr;lr=vr,or&&or({action:ar,location:yr.location,delta:jr})}function dr(vr,jr){ar="PUSH";let Sr=createLocation(yr.location,vr,jr);er&&er(Sr,vr),lr=cr()+1;let Tr=getHistoryState(Sr,lr),Lr=yr.createHref(Sr);try{sr.pushState(Tr,"",Lr)}catch(Mr){if(Mr instanceof DOMException&&Mr.name==="DataCloneError")throw Mr;ir.location.assign(Lr)}rr&&or&&or({action:ar,location:yr.location,delta:1})}function fr(vr,jr){ar="REPLACE";let Sr=createLocation(yr.location,vr,jr);er&&er(Sr,vr),lr=cr();let Tr=getHistoryState(Sr,lr),Lr=yr.createHref(Sr);sr.replaceState(Tr,"",Lr),rr&&or&&or({action:ar,location:yr.location,delta:0})}function gr(vr){return createBrowserURLImpl(vr)}let yr={get action(){return ar},get location(){return tr(ir,sr)},listen(vr){if(or)throw new Error("A history only accepts one active listener");return ir.addEventListener(PopStateEventType,ur),or=vr,()=>{ir.removeEventListener(PopStateEventType,ur),or=null}},createHref(vr){return Hn(ir,vr)},createURL:gr,encodeLocation(vr){let jr=gr(vr);return{pathname:jr.pathname,search:jr.search,hash:jr.hash}},push:dr,replace:fr,go(vr){return sr.go(vr)}};return yr}function createBrowserURLImpl(tr,Hn=!1){let er="http://localhost";typeof window<"u"&&(er=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(er,"No window.location.(origin|href) available to create URL");let nr=typeof tr=="string"?tr:createPath(tr);return nr=nr.replace(/ $/,"%20"),!Hn&&nr.startsWith("//")&&(nr=er+nr),new URL(nr,er)}function matchRoutes(tr,Hn,er="/"){return matchRoutesImpl(tr,Hn,er,!1)}function matchRoutesImpl(tr,Hn,er,nr){let ir=typeof Hn=="string"?parsePath(Hn):Hn,rr=stripBasename(ir.pathname||"/",er);if(rr==null)return null;let sr=flattenRoutes(tr);rankRouteBranches(sr);let ar=null;for(let or=0;ar==null&&or<sr.length;++or){let lr=decodePath(rr);ar=matchRouteBranch(sr[or],lr,nr)}return ar}function flattenRoutes(tr,Hn=[],er=[],nr="",ir=!1){let rr=(sr,ar,or=ir,lr)=>{let cr={relativePath:lr===void 0?sr.path||"":lr,caseSensitive:sr.caseSensitive===!0,childrenIndex:ar,route:sr};if(cr.relativePath.startsWith("/")){if(!cr.relativePath.startsWith(nr)&&or)return;invariant$1(cr.relativePath.startsWith(nr),`Absolute route path "${cr.relativePath}" nested under path "${nr}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),cr.relativePath=cr.relativePath.slice(nr.length)}let ur=joinPaths([nr,cr.relativePath]),dr=er.concat(cr);sr.children&&sr.children.length>0&&(invariant$1(sr.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ur}".`),flattenRoutes(sr.children,Hn,dr,ur,or)),!(sr.path==null&&!sr.index)&&Hn.push({path:ur,score:computeScore(ur,sr.index),routesMeta:dr})};return tr.forEach((sr,ar)=>{if(sr.path===""||!sr.path?.includes("?"))rr(sr,ar);else for(let or of explodeOptionalSegments(sr.path))rr(sr,ar,!0,or)}),Hn}function explodeOptionalSegments(tr){let Hn=tr.split("/");if(Hn.length===0)return[];let[er,...nr]=Hn,ir=er.endsWith("?"),rr=er.replace(/\?$/,"");if(nr.length===0)return ir?[rr,""]:[rr];let sr=explodeOptionalSegments(nr.join("/")),ar=[];return ar.push(...sr.map(or=>or===""?rr:[rr,or].join("/"))),ir&&ar.push(...sr),ar.map(or=>tr.startsWith("/")&&or===""?"/":or)}function rankRouteBranches(tr){tr.sort((Hn,er)=>Hn.score!==er.score?er.score-Hn.score:compareIndexes(Hn.routesMeta.map(nr=>nr.childrenIndex),er.routesMeta.map(nr=>nr.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=tr=>tr==="*";function computeScore(tr,Hn){let er=tr.split("/"),nr=er.length;return er.some(isSplat)&&(nr+=splatPenalty),Hn&&(nr+=indexRouteValue),er.filter(ir=>!isSplat(ir)).reduce((ir,rr)=>ir+(paramRe.test(rr)?dynamicSegmentValue:rr===""?emptySegmentValue:staticSegmentValue),nr)}function compareIndexes(tr,Hn){return tr.length===Hn.length&&tr.slice(0,-1).every((nr,ir)=>nr===Hn[ir])?tr[tr.length-1]-Hn[Hn.length-1]:0}function matchRouteBranch(tr,Hn,er=!1){let{routesMeta:nr}=tr,ir={},rr="/",sr=[];for(let ar=0;ar<nr.length;++ar){let or=nr[ar],lr=ar===nr.length-1,cr=rr==="/"?Hn:Hn.slice(rr.length)||"/",ur=matchPath({path:or.relativePath,caseSensitive:or.caseSensitive,end:lr},cr),dr=or.route;if(!ur&&lr&&er&&!nr[nr.length-1].route.index&&(ur=matchPath({path:or.relativePath,caseSensitive:or.caseSensitive,end:!1},cr)),!ur)return null;Object.assign(ir,ur.params),sr.push({params:ir,pathname:joinPaths([rr,ur.pathname]),pathnameBase:normalizePathname(joinPaths([rr,ur.pathnameBase])),route:dr}),ur.pathnameBase!=="/"&&(rr=joinPaths([rr,ur.pathnameBase]))}return sr}function matchPath(tr,Hn){typeof tr=="string"&&(tr={path:tr,caseSensitive:!1,end:!0});let[er,nr]=compilePath(tr.path,tr.caseSensitive,tr.end),ir=Hn.match(er);if(!ir)return null;let rr=ir[0],sr=rr.replace(/(.)\/+$/,"$1"),ar=ir.slice(1);return{params:nr.reduce((lr,{paramName:cr,isOptional:ur},dr)=>{if(cr==="*"){let gr=ar[dr]||"";sr=rr.slice(0,rr.length-gr.length).replace(/(.)\/+$/,"$1")}const fr=ar[dr];return ur&&!fr?lr[cr]=void 0:lr[cr]=(fr||"").replace(/%2F/g,"/"),lr},{}),pathname:rr,pathnameBase:sr,pattern:tr}}function compilePath(tr,Hn=!1,er=!0){warning(tr==="*"||!tr.endsWith("*")||tr.endsWith("/*"),`Route path "${tr}" will be treated as if it were "${tr.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${tr.replace(/\*$/,"/*")}".`);let nr=[],ir="^"+tr.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(sr,ar,or)=>(nr.push({paramName:ar,isOptional:or!=null}),or?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return tr.endsWith("*")?(nr.push({paramName:"*"}),ir+=tr==="*"||tr==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):er?ir+="\\/*$":tr!==""&&tr!=="/"&&(ir+="(?:(?=\\/|$))"),[new RegExp(ir,Hn?void 0:"i"),nr]}function decodePath(tr){try{return tr.split("/").map(Hn=>decodeURIComponent(Hn).replace(/\//g,"%2F")).join("/")}catch(Hn){return warning(!1,`The URL path "${tr}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Hn}).`),tr}}function stripBasename(tr,Hn){if(Hn==="/")return tr;if(!tr.toLowerCase().startsWith(Hn.toLowerCase()))return null;let er=Hn.endsWith("/")?Hn.length-1:Hn.length,nr=tr.charAt(er);return nr&&nr!=="/"?null:tr.slice(er)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=tr=>ABSOLUTE_URL_REGEX.test(tr);function resolvePath(tr,Hn="/"){let{pathname:er,search:nr="",hash:ir=""}=typeof tr=="string"?parsePath(tr):tr,rr;if(er)if(isAbsoluteUrl(er))rr=er;else{if(er.includes("//")){let sr=er;er=er.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${sr} -> ${er}`)}er.startsWith("/")?rr=resolvePathname(er.substring(1),"/"):rr=resolvePathname(er,Hn)}else rr=Hn;return{pathname:rr,search:normalizeSearch(nr),hash:normalizeHash(ir)}}function resolvePathname(tr,Hn){let er=Hn.replace(/\/+$/,"").split("/");return tr.split("/").forEach(ir=>{ir===".."?er.length>1&&er.pop():ir!=="."&&er.push(ir)}),er.length>1?er.join("/"):"/"}function getInvalidPathError(tr,Hn,er,nr){return`Cannot include a '${tr}' character in a manually specified \`to.${Hn}\` field [${JSON.stringify(nr)}].  Please separate it out to the \`to.${er}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(tr){return tr.filter((Hn,er)=>er===0||Hn.route.path&&Hn.route.path.length>0)}function getResolveToMatches(tr){let Hn=getPathContributingMatches(tr);return Hn.map((er,nr)=>nr===Hn.length-1?er.pathname:er.pathnameBase)}function resolveTo(tr,Hn,er,nr=!1){let ir;typeof tr=="string"?ir=parsePath(tr):(ir={...tr},invariant$1(!ir.pathname||!ir.pathname.includes("?"),getInvalidPathError("?","pathname","search",ir)),invariant$1(!ir.pathname||!ir.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ir)),invariant$1(!ir.search||!ir.search.includes("#"),getInvalidPathError("#","search","hash",ir)));let rr=tr===""||ir.pathname==="",sr=rr?"/":ir.pathname,ar;if(sr==null)ar=er;else{let ur=Hn.length-1;if(!nr&&sr.startsWith("..")){let dr=sr.split("/");for(;dr[0]==="..";)dr.shift(),ur-=1;ir.pathname=dr.join("/")}ar=ur>=0?Hn[ur]:"/"}let or=resolvePath(ir,ar),lr=sr&&sr!=="/"&&sr.endsWith("/"),cr=(rr||sr===".")&&er.endsWith("/");return!or.pathname.endsWith("/")&&(lr||cr)&&(or.pathname+="/"),or}var joinPaths=tr=>tr.join("/").replace(/\/\/+/g,"/"),normalizePathname=tr=>tr.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=tr=>!tr||tr==="?"?"":tr.startsWith("?")?tr:"?"+tr,normalizeHash=tr=>!tr||tr==="#"?"":tr.startsWith("#")?tr:"#"+tr;function isRouteErrorResponse(tr){return tr!=null&&typeof tr.status=="number"&&typeof tr.statusText=="string"&&typeof tr.internal=="boolean"&&"data"in tr}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(tr,{relative:Hn}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:er,navigator:nr}=reactExports.useContext(NavigationContext),{hash:ir,pathname:rr,search:sr}=useResolvedPath(tr,{relative:Hn}),ar=rr;return er!=="/"&&(ar=rr==="/"?er:joinPaths([er,rr])),nr.createHref({pathname:ar,search:sr,hash:ir})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1(tr){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(tr)}function useNavigate(){let{isDataRoute:tr}=reactExports.useContext(RouteContext);return tr?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let tr=reactExports.useContext(DataRouterContext),{basename:Hn,navigator:er}=reactExports.useContext(NavigationContext),{matches:nr}=reactExports.useContext(RouteContext),{pathname:ir}=useLocation(),rr=JSON.stringify(getResolveToMatches(nr)),sr=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{sr.current=!0}),reactExports.useCallback((or,lr={})=>{if(warning(sr.current,navigateEffectWarning),!sr.current)return;if(typeof or=="number"){er.go(or);return}let cr=resolveTo(or,JSON.parse(rr),ir,lr.relative==="path");tr==null&&Hn!=="/"&&(cr.pathname=cr.pathname==="/"?Hn:joinPaths([Hn,cr.pathname])),(lr.replace?er.replace:er.push)(cr,lr.state,lr)},[Hn,er,rr,ir,tr])}reactExports.createContext(null);function useParams(){let{matches:tr}=reactExports.useContext(RouteContext),Hn=tr[tr.length-1];return Hn?Hn.params:{}}function useResolvedPath(tr,{relative:Hn}={}){let{matches:er}=reactExports.useContext(RouteContext),{pathname:nr}=useLocation(),ir=JSON.stringify(getResolveToMatches(er));return reactExports.useMemo(()=>resolveTo(tr,JSON.parse(ir),nr,Hn==="path"),[tr,ir,nr,Hn])}function useRoutes(tr,Hn){return useRoutesImpl(tr,Hn)}function useRoutesImpl(tr,Hn,er,nr,ir){invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:rr}=reactExports.useContext(NavigationContext),{matches:sr}=reactExports.useContext(RouteContext),ar=sr[sr.length-1],or=ar?ar.params:{},lr=ar?ar.pathname:"/",cr=ar?ar.pathnameBase:"/",ur=ar&&ar.route;{let Sr=ur&&ur.path||"";warningOnce(lr,!ur||Sr.endsWith("*")||Sr.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${lr}" (under <Route path="${Sr}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Sr}"> to <Route path="${Sr==="/"?"*":`${Sr}/*`}">.`)}let dr=useLocation(),fr;if(Hn){let Sr=typeof Hn=="string"?parsePath(Hn):Hn;invariant$1(cr==="/"||Sr.pathname?.startsWith(cr),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${cr}" but pathname "${Sr.pathname}" was given in the \`location\` prop.`),fr=Sr}else fr=dr;let gr=fr.pathname||"/",yr=gr;if(cr!=="/"){let Sr=cr.replace(/^\//,"").split("/");yr="/"+gr.replace(/^\//,"").split("/").slice(Sr.length).join("/")}let vr=matchRoutes(tr,{pathname:yr});warning(ur||vr!=null,`No routes matched location "${fr.pathname}${fr.search}${fr.hash}" `),warning(vr==null||vr[vr.length-1].route.element!==void 0||vr[vr.length-1].route.Component!==void 0||vr[vr.length-1].route.lazy!==void 0,`Matched leaf route at location "${fr.pathname}${fr.search}${fr.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let jr=_renderMatches(vr&&vr.map(Sr=>Object.assign({},Sr,{params:Object.assign({},or,Sr.params),pathname:joinPaths([cr,rr.encodeLocation?rr.encodeLocation(Sr.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Sr.pathname]),pathnameBase:Sr.pathnameBase==="/"?cr:joinPaths([cr,rr.encodeLocation?rr.encodeLocation(Sr.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Sr.pathnameBase])})),sr,er,nr,ir);return Hn&&jr?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...fr},navigationType:"POP"}},jr):jr}function DefaultErrorComponent(){let tr=useRouteError(),Hn=isRouteErrorResponse(tr)?`${tr.status} ${tr.statusText}`:tr instanceof Error?tr.message:JSON.stringify(tr),er=tr instanceof Error?tr.stack:null,nr="rgba(200,200,200, 0.5)",ir={padding:"0.5rem",backgroundColor:nr},rr={padding:"2px 4px",backgroundColor:nr},sr=null;return console.error("Error handled by React Router default ErrorBoundary:",tr),sr=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:rr},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:rr},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},Hn),er?reactExports.createElement("pre",{style:ir},er):null,sr)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(tr){super(tr),this.state={location:tr.location,revalidation:tr.revalidation,error:tr.error}}static getDerivedStateFromError(tr){return{error:tr}}static getDerivedStateFromProps(tr,Hn){return Hn.location!==tr.location||Hn.revalidation!=="idle"&&tr.revalidation==="idle"?{error:tr.error,location:tr.location,revalidation:tr.revalidation}:{error:tr.error!==void 0?tr.error:Hn.error,location:Hn.location,revalidation:tr.revalidation||Hn.revalidation}}componentDidCatch(tr,Hn){this.props.onError?this.props.onError(tr,Hn):console.error("React Router caught the following error during render",tr)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:tr,match:Hn,children:er}){let nr=reactExports.useContext(DataRouterContext);return nr&&nr.static&&nr.staticContext&&(Hn.route.errorElement||Hn.route.ErrorBoundary)&&(nr.staticContext._deepestRenderedBoundaryId=Hn.route.id),reactExports.createElement(RouteContext.Provider,{value:tr},er)}function _renderMatches(tr,Hn=[],er=null,nr=null,ir=null){if(tr==null){if(!er)return null;if(er.errors)tr=er.matches;else if(Hn.length===0&&!er.initialized&&er.matches.length>0)tr=er.matches;else return null}let rr=tr,sr=er?.errors;if(sr!=null){let cr=rr.findIndex(ur=>ur.route.id&&sr?.[ur.route.id]!==void 0);invariant$1(cr>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(sr).join(",")}`),rr=rr.slice(0,Math.min(rr.length,cr+1))}let ar=!1,or=-1;if(er)for(let cr=0;cr<rr.length;cr++){let ur=rr[cr];if((ur.route.HydrateFallback||ur.route.hydrateFallbackElement)&&(or=cr),ur.route.id){let{loaderData:dr,errors:fr}=er,gr=ur.route.loader&&!dr.hasOwnProperty(ur.route.id)&&(!fr||fr[ur.route.id]===void 0);if(ur.route.lazy||gr){ar=!0,or>=0?rr=rr.slice(0,or+1):rr=[rr[0]];break}}}let lr=er&&nr?(cr,ur)=>{nr(cr,{location:er.location,params:er.matches?.[0]?.params??{},errorInfo:ur})}:void 0;return rr.reduceRight((cr,ur,dr)=>{let fr,gr=!1,yr=null,vr=null;er&&(fr=sr&&ur.route.id?sr[ur.route.id]:void 0,yr=ur.route.errorElement||defaultErrorElement,ar&&(or<0&&dr===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),gr=!0,vr=null):or===dr&&(gr=!0,vr=ur.route.hydrateFallbackElement||null)));let jr=Hn.concat(rr.slice(0,dr+1)),Sr=()=>{let Tr;return fr?Tr=yr:gr?Tr=vr:ur.route.Component?Tr=reactExports.createElement(ur.route.Component,null):ur.route.element?Tr=ur.route.element:Tr=cr,reactExports.createElement(RenderedRoute,{match:ur,routeContext:{outlet:cr,matches:jr,isDataRoute:er!=null},children:Tr})};return er&&(ur.route.ErrorBoundary||ur.route.errorElement||dr===0)?reactExports.createElement(RenderErrorBoundary,{location:er.location,revalidation:er.revalidation,component:yr,error:fr,children:Sr(),routeContext:{outlet:null,matches:jr,isDataRoute:!0},onError:lr}):Sr()},null)}function getDataRouterConsoleError(tr){return`${tr} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(tr){let Hn=reactExports.useContext(DataRouterContext);return invariant$1(Hn,getDataRouterConsoleError(tr)),Hn}function useDataRouterState(tr){let Hn=reactExports.useContext(DataRouterStateContext);return invariant$1(Hn,getDataRouterConsoleError(tr)),Hn}function useRouteContext(tr){let Hn=reactExports.useContext(RouteContext);return invariant$1(Hn,getDataRouterConsoleError(tr)),Hn}function useCurrentRouteId(tr){let Hn=useRouteContext(tr),er=Hn.matches[Hn.matches.length-1];return invariant$1(er.route.id,`${tr} can only be used on routes that contain a unique "id"`),er.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let tr=reactExports.useContext(RouteErrorContext),Hn=useDataRouterState("useRouteError"),er=useCurrentRouteId("useRouteError");return tr!==void 0?tr:Hn.errors?.[er]}function useNavigateStable(){let{router:tr}=useDataRouterContext("useNavigate"),Hn=useCurrentRouteId("useNavigate"),er=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{er.current=!0}),reactExports.useCallback(async(ir,rr={})=>{warning(er.current,navigateEffectWarning),er.current&&(typeof ir=="number"?tr.navigate(ir):await tr.navigate(ir,{fromRouteId:Hn,...rr}))},[tr,Hn])}var alreadyWarned={};function warningOnce(tr,Hn,er){!Hn&&!alreadyWarned[tr]&&(alreadyWarned[tr]=!0,warning(!1,er))}reactExports.memo(DataRoutes);function DataRoutes({routes:tr,future:Hn,state:er,unstable_onError:nr}){return useRoutesImpl(tr,void 0,er,nr,Hn)}function Navigate({to:tr,replace:Hn,state:er,relative:nr}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:ir}=reactExports.useContext(NavigationContext);warning(!ir,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:rr}=reactExports.useContext(RouteContext),{pathname:sr}=useLocation(),ar=useNavigate(),or=resolveTo(tr,getResolveToMatches(rr),sr,nr==="path"),lr=JSON.stringify(or);return reactExports.useEffect(()=>{ar(JSON.parse(lr),{replace:Hn,state:er,relative:nr})},[ar,lr,nr,Hn,er]),null}function Route(tr){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:tr="/",children:Hn=null,location:er,navigationType:nr="POP",navigator:ir,static:rr=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let sr=tr.replace(/^\/*/,"/"),ar=reactExports.useMemo(()=>({basename:sr,navigator:ir,static:rr,future:{}}),[sr,ir,rr]);typeof er=="string"&&(er=parsePath(er));let{pathname:or="/",search:lr="",hash:cr="",state:ur=null,key:dr="default"}=er,fr=reactExports.useMemo(()=>{let gr=stripBasename(or,sr);return gr==null?null:{location:{pathname:gr,search:lr,hash:cr,state:ur,key:dr},navigationType:nr}},[sr,or,lr,cr,ur,dr,nr]);return warning(fr!=null,`<Router basename="${sr}"> is not able to match the URL "${or}${lr}${cr}" because it does not start with the basename, so the <Router> won't render anything.`),fr==null?null:reactExports.createElement(NavigationContext.Provider,{value:ar},reactExports.createElement(LocationContext.Provider,{children:Hn,value:fr}))}function Routes({children:tr,location:Hn}){return useRoutes(createRoutesFromChildren(tr),Hn)}function createRoutesFromChildren(tr,Hn=[]){let er=[];return reactExports.Children.forEach(tr,(nr,ir)=>{if(!reactExports.isValidElement(nr))return;let rr=[...Hn,ir];if(nr.type===reactExports.Fragment){er.push.apply(er,createRoutesFromChildren(nr.props.children,rr));return}invariant$1(nr.type===Route,`[${typeof nr.type=="string"?nr.type:nr.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!nr.props.index||!nr.props.children,"An index route cannot have child routes.");let sr={id:nr.props.id||rr.join("-"),caseSensitive:nr.props.caseSensitive,element:nr.props.element,Component:nr.props.Component,index:nr.props.index,path:nr.props.path,middleware:nr.props.middleware,loader:nr.props.loader,action:nr.props.action,hydrateFallbackElement:nr.props.hydrateFallbackElement,HydrateFallback:nr.props.HydrateFallback,errorElement:nr.props.errorElement,ErrorBoundary:nr.props.ErrorBoundary,hasErrorBoundary:nr.props.hasErrorBoundary===!0||nr.props.ErrorBoundary!=null||nr.props.errorElement!=null,shouldRevalidate:nr.props.shouldRevalidate,handle:nr.props.handle,lazy:nr.props.lazy};nr.props.children&&(sr.children=createRoutesFromChildren(nr.props.children,rr)),er.push(sr)}),er}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(tr){return tr!=null&&typeof tr.tagName=="string"}function isButtonElement(tr){return isHtmlElement(tr)&&tr.tagName.toLowerCase()==="button"}function isFormElement(tr){return isHtmlElement(tr)&&tr.tagName.toLowerCase()==="form"}function isInputElement(tr){return isHtmlElement(tr)&&tr.tagName.toLowerCase()==="input"}function isModifiedEvent(tr){return!!(tr.metaKey||tr.altKey||tr.ctrlKey||tr.shiftKey)}function shouldProcessLinkClick(tr,Hn){return tr.button===0&&(!Hn||Hn==="_self")&&!isModifiedEvent(tr)}function createSearchParams(tr=""){return new URLSearchParams(typeof tr=="string"||Array.isArray(tr)||tr instanceof URLSearchParams?tr:Object.keys(tr).reduce((Hn,er)=>{let nr=tr[er];return Hn.concat(Array.isArray(nr)?nr.map(ir=>[er,ir]):[[er,nr]])},[]))}function getSearchParamsForLocation(tr,Hn){let er=createSearchParams(tr);return Hn&&Hn.forEach((nr,ir)=>{er.has(ir)||Hn.getAll(ir).forEach(rr=>{er.append(ir,rr)})}),er}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(tr){return tr!=null&&!supportedFormEncTypes.has(tr)?(warning(!1,`"${tr}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):tr}function getFormSubmissionInfo(tr,Hn){let er,nr,ir,rr,sr;if(isFormElement(tr)){let ar=tr.getAttribute("action");nr=ar?stripBasename(ar,Hn):null,er=tr.getAttribute("method")||defaultMethod,ir=getFormEncType(tr.getAttribute("enctype"))||defaultEncType,rr=new FormData(tr)}else if(isButtonElement(tr)||isInputElement(tr)&&(tr.type==="submit"||tr.type==="image")){let ar=tr.form;if(ar==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let or=tr.getAttribute("formaction")||ar.getAttribute("action");if(nr=or?stripBasename(or,Hn):null,er=tr.getAttribute("formmethod")||ar.getAttribute("method")||defaultMethod,ir=getFormEncType(tr.getAttribute("formenctype"))||getFormEncType(ar.getAttribute("enctype"))||defaultEncType,rr=new FormData(ar,tr),!isFormDataSubmitterSupported()){let{name:lr,type:cr,value:ur}=tr;if(cr==="image"){let dr=lr?`${lr}.`:"";rr.append(`${dr}x`,"0"),rr.append(`${dr}y`,"0")}else lr&&rr.append(lr,ur)}}else{if(isHtmlElement(tr))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');er=defaultMethod,nr=null,ir=defaultEncType,sr=tr}return rr&&ir==="text/plain"&&(sr=rr,rr=void 0),{action:nr,method:er.toLowerCase(),encType:ir,formData:rr,body:sr}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(tr,Hn){if(tr===!1||tr===null||typeof tr>"u")throw new Error(Hn)}function singleFetchUrl(tr,Hn,er){let nr=typeof tr=="string"?new URL(tr,typeof window>"u"?"server://singlefetch/":window.location.origin):tr;return nr.pathname==="/"?nr.pathname=`_root.${er}`:Hn&&stripBasename(nr.pathname,Hn)==="/"?nr.pathname=`${Hn.replace(/\/$/,"")}/_root.${er}`:nr.pathname=`${nr.pathname.replace(/\/$/,"")}.${er}`,nr}async function loadRouteModule(tr,Hn){if(tr.id in Hn)return Hn[tr.id];try{let er=await import(tr.module);return Hn[tr.id]=er,er}catch(er){return console.error(`Error loading route module \`${tr.module}\`, reloading page...`),console.error(er),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(tr){return tr==null?!1:tr.href==null?tr.rel==="preload"&&typeof tr.imageSrcSet=="string"&&typeof tr.imageSizes=="string":typeof tr.rel=="string"&&typeof tr.href=="string"}async function getKeyedPrefetchLinks(tr,Hn,er){let nr=await Promise.all(tr.map(async ir=>{let rr=Hn.routes[ir.route.id];if(rr){let sr=await loadRouteModule(rr,er);return sr.links?sr.links():[]}return[]}));return dedupeLinkDescriptors(nr.flat(1).filter(isHtmlLinkDescriptor).filter(ir=>ir.rel==="stylesheet"||ir.rel==="preload").map(ir=>ir.rel==="stylesheet"?{...ir,rel:"prefetch",as:"style"}:{...ir,rel:"prefetch"}))}function getNewMatchesForLinks(tr,Hn,er,nr,ir,rr){let sr=(or,lr)=>er[lr]?or.route.id!==er[lr].route.id:!0,ar=(or,lr)=>er[lr].pathname!==or.pathname||er[lr].route.path?.endsWith("*")&&er[lr].params["*"]!==or.params["*"];return rr==="assets"?Hn.filter((or,lr)=>sr(or,lr)||ar(or,lr)):rr==="data"?Hn.filter((or,lr)=>{let cr=nr.routes[or.route.id];if(!cr||!cr.hasLoader)return!1;if(sr(or,lr)||ar(or,lr))return!0;if(or.route.shouldRevalidate){let ur=or.route.shouldRevalidate({currentUrl:new URL(ir.pathname+ir.search+ir.hash,window.origin),currentParams:er[0]?.params||{},nextUrl:new URL(tr,window.origin),nextParams:or.params,defaultShouldRevalidate:!0});if(typeof ur=="boolean")return ur}return!0}):[]}function getModuleLinkHrefs(tr,Hn,{includeHydrateFallback:er}={}){return dedupeHrefs(tr.map(nr=>{let ir=Hn.routes[nr.route.id];if(!ir)return[];let rr=[ir.module];return ir.clientActionModule&&(rr=rr.concat(ir.clientActionModule)),ir.clientLoaderModule&&(rr=rr.concat(ir.clientLoaderModule)),er&&ir.hydrateFallbackModule&&(rr=rr.concat(ir.hydrateFallbackModule)),ir.imports&&(rr=rr.concat(ir.imports)),rr}).flat(1))}function dedupeHrefs(tr){return[...new Set(tr)]}function sortKeys(tr){let Hn={},er=Object.keys(tr).sort();for(let nr of er)Hn[nr]=tr[nr];return Hn}function dedupeLinkDescriptors(tr,Hn){let er=new Set;return new Set(Hn),tr.reduce((nr,ir)=>{let rr=JSON.stringify(sortKeys(ir));return er.has(rr)||(er.add(rr),nr.push({key:rr,link:ir})),nr},[])}function useDataRouterContext2(){let tr=reactExports.useContext(DataRouterContext);return invariant2(tr,"You must render this element inside a <DataRouterContext.Provider> element"),tr}function useDataRouterStateContext(){let tr=reactExports.useContext(DataRouterStateContext);return invariant2(tr,"You must render this element inside a <DataRouterStateContext.Provider> element"),tr}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let tr=reactExports.useContext(FrameworkContext);return invariant2(tr,"You must render this element inside a <HydratedRouter> element"),tr}function usePrefetchBehavior(tr,Hn){let er=reactExports.useContext(FrameworkContext),[nr,ir]=reactExports.useState(!1),[rr,sr]=reactExports.useState(!1),{onFocus:ar,onBlur:or,onMouseEnter:lr,onMouseLeave:cr,onTouchStart:ur}=Hn,dr=reactExports.useRef(null);reactExports.useEffect(()=>{if(tr==="render"&&sr(!0),tr==="viewport"){let yr=jr=>{jr.forEach(Sr=>{sr(Sr.isIntersecting)})},vr=new IntersectionObserver(yr,{threshold:.5});return dr.current&&vr.observe(dr.current),()=>{vr.disconnect()}}},[tr]),reactExports.useEffect(()=>{if(nr){let yr=setTimeout(()=>{sr(!0)},100);return()=>{clearTimeout(yr)}}},[nr]);let fr=()=>{ir(!0)},gr=()=>{ir(!1),sr(!1)};return er?tr!=="intent"?[rr,dr,{}]:[rr,dr,{onFocus:composeEventHandlers(ar,fr),onBlur:composeEventHandlers(or,gr),onMouseEnter:composeEventHandlers(lr,fr),onMouseLeave:composeEventHandlers(cr,gr),onTouchStart:composeEventHandlers(ur,fr)}]:[!1,dr,{}]}function composeEventHandlers(tr,Hn){return er=>{tr&&tr(er),er.defaultPrevented||Hn(er)}}function PrefetchPageLinks({page:tr,...Hn}){let{router:er}=useDataRouterContext2(),nr=reactExports.useMemo(()=>matchRoutes(er.routes,tr,er.basename),[er.routes,tr,er.basename]);return nr?reactExports.createElement(PrefetchPageLinksImpl,{page:tr,matches:nr,...Hn}):null}function useKeyedPrefetchLinks(tr){let{manifest:Hn,routeModules:er}=useFrameworkContext(),[nr,ir]=reactExports.useState([]);return reactExports.useEffect(()=>{let rr=!1;return getKeyedPrefetchLinks(tr,Hn,er).then(sr=>{rr||ir(sr)}),()=>{rr=!0}},[tr,Hn,er]),nr}function PrefetchPageLinksImpl({page:tr,matches:Hn,...er}){let nr=useLocation(),{manifest:ir,routeModules:rr}=useFrameworkContext(),{basename:sr}=useDataRouterContext2(),{loaderData:ar,matches:or}=useDataRouterStateContext(),lr=reactExports.useMemo(()=>getNewMatchesForLinks(tr,Hn,or,ir,nr,"data"),[tr,Hn,or,ir,nr]),cr=reactExports.useMemo(()=>getNewMatchesForLinks(tr,Hn,or,ir,nr,"assets"),[tr,Hn,or,ir,nr]),ur=reactExports.useMemo(()=>{if(tr===nr.pathname+nr.search+nr.hash)return[];let gr=new Set,yr=!1;if(Hn.forEach(jr=>{let Sr=ir.routes[jr.route.id];!Sr||!Sr.hasLoader||(!lr.some(Tr=>Tr.route.id===jr.route.id)&&jr.route.id in ar&&rr[jr.route.id]?.shouldRevalidate||Sr.hasClientLoader?yr=!0:gr.add(jr.route.id))}),gr.size===0)return[];let vr=singleFetchUrl(tr,sr,"data");return yr&&gr.size>0&&vr.searchParams.set("_routes",Hn.filter(jr=>gr.has(jr.route.id)).map(jr=>jr.route.id).join(",")),[vr.pathname+vr.search]},[sr,ar,nr,ir,lr,Hn,tr,rr]),dr=reactExports.useMemo(()=>getModuleLinkHrefs(cr,ir),[cr,ir]),fr=useKeyedPrefetchLinks(cr);return reactExports.createElement(reactExports.Fragment,null,ur.map(gr=>reactExports.createElement("link",{key:gr,rel:"prefetch",as:"fetch",href:gr,...er})),dr.map(gr=>reactExports.createElement("link",{key:gr,rel:"modulepreload",href:gr,...er})),fr.map(({key:gr,link:yr})=>reactExports.createElement("link",{key:gr,nonce:er.nonce,...yr})))}function mergeRefs(...tr){return Hn=>{tr.forEach(er=>{typeof er=="function"?er(Hn):er!=null&&(er.current=Hn)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.6")}catch{}function HashRouter({basename:tr,children:Hn,window:er}){let nr=reactExports.useRef();nr.current==null&&(nr.current=createHashHistory({window:er,v5Compat:!0}));let ir=nr.current,[rr,sr]=reactExports.useState({action:ir.action,location:ir.location}),ar=reactExports.useCallback(or=>{reactExports.startTransition(()=>sr(or))},[sr]);return reactExports.useLayoutEffect(()=>ir.listen(ar),[ir,ar]),reactExports.createElement(Router,{basename:tr,children:Hn,location:rr.location,navigationType:rr.action,navigator:ir})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:Hn,discover:er="render",prefetch:nr="none",relative:ir,reloadDocument:rr,replace:sr,state:ar,target:or,to:lr,preventScrollReset:cr,viewTransition:ur,...dr},fr){let{basename:gr}=reactExports.useContext(NavigationContext),yr=typeof lr=="string"&&ABSOLUTE_URL_REGEX2.test(lr),vr,jr=!1;if(typeof lr=="string"&&yr&&(vr=lr,isBrowser))try{let Gr=new URL(window.location.href),qr=lr.startsWith("//")?new URL(Gr.protocol+lr):new URL(lr),Hr=stripBasename(qr.pathname,gr);qr.origin===Gr.origin&&Hr!=null?lr=Hr+qr.search+qr.hash:jr=!0}catch{warning(!1,`<Link to="${lr}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Sr=useHref(lr,{relative:ir}),[Tr,Lr,Mr]=usePrefetchBehavior(nr,dr),Nr=useLinkClickHandler(lr,{replace:sr,state:ar,target:or,preventScrollReset:cr,relative:ir,viewTransition:ur});function Or(Gr){Hn&&Hn(Gr),Gr.defaultPrevented||Nr(Gr)}let Fr=reactExports.createElement("a",{...dr,...Mr,href:vr||Sr,onClick:jr||rr?Hn:Or,ref:mergeRefs(fr,Lr),target:or,"data-discover":!yr&&er==="render"?"true":void 0});return Tr&&!yr?reactExports.createElement(reactExports.Fragment,null,Fr,reactExports.createElement(PrefetchPageLinks,{page:Sr})):Fr});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":Hn="page",caseSensitive:er=!1,className:nr="",end:ir=!1,style:rr,to:sr,viewTransition:ar,children:or,...lr},cr){let ur=useResolvedPath(sr,{relative:lr.relative}),dr=useLocation(),fr=reactExports.useContext(DataRouterStateContext),{navigator:gr,basename:yr}=reactExports.useContext(NavigationContext),vr=fr!=null&&useViewTransitionState(ur)&&ar===!0,jr=gr.encodeLocation?gr.encodeLocation(ur).pathname:ur.pathname,Sr=dr.pathname,Tr=fr&&fr.navigation&&fr.navigation.location?fr.navigation.location.pathname:null;er||(Sr=Sr.toLowerCase(),Tr=Tr?Tr.toLowerCase():null,jr=jr.toLowerCase()),Tr&&yr&&(Tr=stripBasename(Tr,yr)||Tr);const Lr=jr!=="/"&&jr.endsWith("/")?jr.length-1:jr.length;let Mr=Sr===jr||!ir&&Sr.startsWith(jr)&&Sr.charAt(Lr)==="/",Nr=Tr!=null&&(Tr===jr||!ir&&Tr.startsWith(jr)&&Tr.charAt(jr.length)==="/"),Or={isActive:Mr,isPending:Nr,isTransitioning:vr},Fr=Mr?Hn:void 0,Gr;typeof nr=="function"?Gr=nr(Or):Gr=[nr,Mr?"active":null,Nr?"pending":null,vr?"transitioning":null].filter(Boolean).join(" ");let qr=typeof rr=="function"?rr(Or):rr;return reactExports.createElement(Link,{...lr,"aria-current":Fr,className:Gr,ref:cr,style:qr,to:sr,viewTransition:ar},typeof or=="function"?or(Or):or)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:tr="render",fetcherKey:Hn,navigate:er,reloadDocument:nr,replace:ir,state:rr,method:sr=defaultMethod,action:ar,onSubmit:or,relative:lr,preventScrollReset:cr,viewTransition:ur,...dr},fr)=>{let gr=useSubmit(),yr=useFormAction(ar,{relative:lr}),vr=sr.toLowerCase()==="get"?"get":"post",jr=typeof ar=="string"&&ABSOLUTE_URL_REGEX2.test(ar),Sr=Tr=>{if(or&&or(Tr),Tr.defaultPrevented)return;Tr.preventDefault();let Lr=Tr.nativeEvent.submitter,Mr=Lr?.getAttribute("formmethod")||sr;gr(Lr||Tr.currentTarget,{fetcherKey:Hn,method:Mr,navigate:er,replace:ir,state:rr,relative:lr,preventScrollReset:cr,viewTransition:ur})};return reactExports.createElement("form",{ref:fr,method:vr,action:yr,onSubmit:nr?or:Sr,...dr,"data-discover":!jr&&tr==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(tr){return`${tr} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(tr){let Hn=reactExports.useContext(DataRouterContext);return invariant$1(Hn,getDataRouterConsoleError2(tr)),Hn}function useLinkClickHandler(tr,{target:Hn,replace:er,state:nr,preventScrollReset:ir,relative:rr,viewTransition:sr}={}){let ar=useNavigate(),or=useLocation(),lr=useResolvedPath(tr,{relative:rr});return reactExports.useCallback(cr=>{if(shouldProcessLinkClick(cr,Hn)){cr.preventDefault();let ur=er!==void 0?er:createPath(or)===createPath(lr);ar(tr,{replace:ur,state:nr,preventScrollReset:ir,relative:rr,viewTransition:sr})}},[or,ar,lr,er,nr,Hn,tr,ir,rr,sr])}function useSearchParams(tr){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let Hn=reactExports.useRef(createSearchParams(tr)),er=reactExports.useRef(!1),nr=useLocation(),ir=reactExports.useMemo(()=>getSearchParamsForLocation(nr.search,er.current?null:Hn.current),[nr.search]),rr=useNavigate(),sr=reactExports.useCallback((ar,or)=>{const lr=createSearchParams(typeof ar=="function"?ar(new URLSearchParams(ir)):ar);er.current=!0,rr("?"+lr,or)},[rr,ir]);return[ir,sr]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:tr}=useDataRouterContext3("useSubmit"),{basename:Hn}=reactExports.useContext(NavigationContext),er=useRouteId();return reactExports.useCallback(async(nr,ir={})=>{let{action:rr,method:sr,encType:ar,formData:or,body:lr}=getFormSubmissionInfo(nr,Hn);if(ir.navigate===!1){let cr=ir.fetcherKey||getUniqueFetcherId();await tr.fetch(cr,er,ir.action||rr,{preventScrollReset:ir.preventScrollReset,formData:or,body:lr,formMethod:ir.method||sr,formEncType:ir.encType||ar,flushSync:ir.flushSync})}else await tr.navigate(ir.action||rr,{preventScrollReset:ir.preventScrollReset,formData:or,body:lr,formMethod:ir.method||sr,formEncType:ir.encType||ar,replace:ir.replace,state:ir.state,fromRouteId:er,flushSync:ir.flushSync,viewTransition:ir.viewTransition})},[tr,Hn,er])}function useFormAction(tr,{relative:Hn}={}){let{basename:er}=reactExports.useContext(NavigationContext),nr=reactExports.useContext(RouteContext);invariant$1(nr,"useFormAction must be used inside a RouteContext");let[ir]=nr.matches.slice(-1),rr={...useResolvedPath(tr||".",{relative:Hn})},sr=useLocation();if(tr==null){rr.search=sr.search;let ar=new URLSearchParams(rr.search),or=ar.getAll("index");if(or.some(cr=>cr==="")){ar.delete("index"),or.filter(ur=>ur).forEach(ur=>ar.append("index",ur));let cr=ar.toString();rr.search=cr?`?${cr}`:""}}return(!tr||tr===".")&&ir.route.index&&(rr.search=rr.search?rr.search.replace(/^\?/,"?index&"):"?index"),er!=="/"&&(rr.pathname=rr.pathname==="/"?er:joinPaths([er,rr.pathname])),createPath(rr)}function useViewTransitionState(tr,{relative:Hn}={}){let er=reactExports.useContext(ViewTransitionContext);invariant$1(er!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:nr}=useDataRouterContext3("useViewTransitionState"),ir=useResolvedPath(tr,{relative:Hn});if(!er.isTransitioning)return!1;let rr=stripBasename(er.currentLocation.pathname,nr)||er.currentLocation.pathname,sr=stripBasename(er.nextLocation.pathname,nr)||er.nextLocation.pathname;return matchPath(ir.pathname,sr)!=null||matchPath(ir.pathname,rr)!=null}var reactDomExports=requireReactDom();function round$2(tr){return tr+.5|0}const lim=(tr,Hn,er)=>Math.max(Math.min(tr,er),Hn);function p2b(tr){return lim(round$2(tr*2.55),0,255)}function n2b(tr){return lim(round$2(tr*255),0,255)}function b2n(tr){return lim(round$2(tr/2.55)/100,0,1)}function n2p(tr){return lim(round$2(tr*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=tr=>hex$1[tr&15],h2=tr=>hex$1[(tr&240)>>4]+hex$1[tr&15],eq$1=tr=>(tr&240)>>4===(tr&15),isShort=tr=>eq$1(tr.r)&&eq$1(tr.g)&&eq$1(tr.b)&&eq$1(tr.a);function hexParse(tr){var Hn=tr.length,er;return tr[0]==="#"&&(Hn===4||Hn===5?er={r:255&map$1$1[tr[1]]*17,g:255&map$1$1[tr[2]]*17,b:255&map$1$1[tr[3]]*17,a:Hn===5?map$1$1[tr[4]]*17:255}:(Hn===7||Hn===9)&&(er={r:map$1$1[tr[1]]<<4|map$1$1[tr[2]],g:map$1$1[tr[3]]<<4|map$1$1[tr[4]],b:map$1$1[tr[5]]<<4|map$1$1[tr[6]],a:Hn===9?map$1$1[tr[7]]<<4|map$1$1[tr[8]]:255})),er}const alpha$1=(tr,Hn)=>tr<255?Hn(tr):"";function hexString(tr){var Hn=isShort(tr)?h1:h2;return tr?"#"+Hn(tr.r)+Hn(tr.g)+Hn(tr.b)+alpha$1(tr.a,Hn):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(tr,Hn,er){const nr=Hn*Math.min(er,1-er),ir=(rr,sr=(rr+tr/30)%12)=>er-nr*Math.max(Math.min(sr-3,9-sr,1),-1);return[ir(0),ir(8),ir(4)]}function hsv2rgbn(tr,Hn,er){const nr=(ir,rr=(ir+tr/60)%6)=>er-er*Hn*Math.max(Math.min(rr,4-rr,1),0);return[nr(5),nr(3),nr(1)]}function hwb2rgbn(tr,Hn,er){const nr=hsl2rgbn(tr,1,.5);let ir;for(Hn+er>1&&(ir=1/(Hn+er),Hn*=ir,er*=ir),ir=0;ir<3;ir++)nr[ir]*=1-Hn-er,nr[ir]+=Hn;return nr}function hueValue(tr,Hn,er,nr,ir){return tr===ir?(Hn-er)/nr+(Hn<er?6:0):Hn===ir?(er-tr)/nr+2:(tr-Hn)/nr+4}function rgb2hsl(tr){const er=tr.r/255,nr=tr.g/255,ir=tr.b/255,rr=Math.max(er,nr,ir),sr=Math.min(er,nr,ir),ar=(rr+sr)/2;let or,lr,cr;return rr!==sr&&(cr=rr-sr,lr=ar>.5?cr/(2-rr-sr):cr/(rr+sr),or=hueValue(er,nr,ir,cr,rr),or=or*60+.5),[or|0,lr||0,ar]}function calln(tr,Hn,er,nr){return(Array.isArray(Hn)?tr(Hn[0],Hn[1],Hn[2]):tr(Hn,er,nr)).map(n2b)}function hsl2rgb$1(tr,Hn,er){return calln(hsl2rgbn,tr,Hn,er)}function hwb2rgb(tr,Hn,er){return calln(hwb2rgbn,tr,Hn,er)}function hsv2rgb(tr,Hn,er){return calln(hsv2rgbn,tr,Hn,er)}function hue(tr){return(tr%360+360)%360}function hueParse(tr){const Hn=HUE_RE.exec(tr);let er=255,nr;if(!Hn)return;Hn[5]!==nr&&(er=Hn[6]?p2b(+Hn[5]):n2b(+Hn[5]));const ir=hue(+Hn[2]),rr=+Hn[3]/100,sr=+Hn[4]/100;return Hn[1]==="hwb"?nr=hwb2rgb(ir,rr,sr):Hn[1]==="hsv"?nr=hsv2rgb(ir,rr,sr):nr=hsl2rgb$1(ir,rr,sr),{r:nr[0],g:nr[1],b:nr[2],a:er}}function rotate(tr,Hn){var er=rgb2hsl(tr);er[0]=hue(er[0]+Hn),er=hsl2rgb$1(er),tr.r=er[0],tr.g=er[1],tr.b=er[2]}function hslString(tr){if(!tr)return;const Hn=rgb2hsl(tr),er=Hn[0],nr=n2p(Hn[1]),ir=n2p(Hn[2]);return tr.a<255?`hsla(${er}, ${nr}%, ${ir}%, ${b2n(tr.a)})`:`hsl(${er}, ${nr}%, ${ir}%)`}const map$3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const tr={},Hn=Object.keys(names$1),er=Object.keys(map$3);let nr,ir,rr,sr,ar;for(nr=0;nr<Hn.length;nr++){for(sr=ar=Hn[nr],ir=0;ir<er.length;ir++)rr=er[ir],ar=ar.replace(rr,map$3[rr]);rr=parseInt(names$1[sr],16),tr[ar]=[rr>>16&255,rr>>8&255,rr&255]}return tr}let names;function nameParse(tr){names||(names=unpack(),names.transparent=[0,0,0,0]);const Hn=names[tr.toLowerCase()];return Hn&&{r:Hn[0],g:Hn[1],b:Hn[2],a:Hn.length===4?Hn[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(tr){const Hn=RGB_RE.exec(tr);let er=255,nr,ir,rr;if(Hn){if(Hn[7]!==nr){const sr=+Hn[7];er=Hn[8]?p2b(sr):lim(sr*255,0,255)}return nr=+Hn[1],ir=+Hn[3],rr=+Hn[5],nr=255&(Hn[2]?p2b(nr):lim(nr,0,255)),ir=255&(Hn[4]?p2b(ir):lim(ir,0,255)),rr=255&(Hn[6]?p2b(rr):lim(rr,0,255)),{r:nr,g:ir,b:rr,a:er}}}function rgbString(tr){return tr&&(tr.a<255?`rgba(${tr.r}, ${tr.g}, ${tr.b}, ${b2n(tr.a)})`:`rgb(${tr.r}, ${tr.g}, ${tr.b})`)}const to$1=tr=>tr<=.0031308?tr*12.92:Math.pow(tr,1/2.4)*1.055-.055,from$1=tr=>tr<=.04045?tr/12.92:Math.pow((tr+.055)/1.055,2.4);function interpolate$3(tr,Hn,er){const nr=from$1(b2n(tr.r)),ir=from$1(b2n(tr.g)),rr=from$1(b2n(tr.b));return{r:n2b(to$1(nr+er*(from$1(b2n(Hn.r))-nr))),g:n2b(to$1(ir+er*(from$1(b2n(Hn.g))-ir))),b:n2b(to$1(rr+er*(from$1(b2n(Hn.b))-rr))),a:tr.a+er*(Hn.a-tr.a)}}function modHSL(tr,Hn,er){if(tr){let nr=rgb2hsl(tr);nr[Hn]=Math.max(0,Math.min(nr[Hn]+nr[Hn]*er,Hn===0?360:1)),nr=hsl2rgb$1(nr),tr.r=nr[0],tr.g=nr[1],tr.b=nr[2]}}function clone$2(tr,Hn){return tr&&Object.assign(Hn||{},tr)}function fromObject(tr){var Hn={r:0,g:0,b:0,a:255};return Array.isArray(tr)?tr.length>=3&&(Hn={r:tr[0],g:tr[1],b:tr[2],a:255},tr.length>3&&(Hn.a=n2b(tr[3]))):(Hn=clone$2(tr,{r:0,g:0,b:0,a:1}),Hn.a=n2b(Hn.a)),Hn}function functionParse(tr){return tr.charAt(0)==="r"?rgbParse(tr):hueParse(tr)}let Color$1=class a1{constructor(Hn){if(Hn instanceof a1)return Hn;const er=typeof Hn;let nr;er==="object"?nr=fromObject(Hn):er==="string"&&(nr=hexParse(Hn)||nameParse(Hn)||functionParse(Hn)),this._rgb=nr,this._valid=!!nr}get valid(){return this._valid}get rgb(){var Hn=clone$2(this._rgb);return Hn&&(Hn.a=b2n(Hn.a)),Hn}set rgb(Hn){this._rgb=fromObject(Hn)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(Hn,er){if(Hn){const nr=this.rgb,ir=Hn.rgb;let rr;const sr=er===rr?.5:er,ar=2*sr-1,or=nr.a-ir.a,lr=((ar*or===-1?ar:(ar+or)/(1+ar*or))+1)/2;rr=1-lr,nr.r=255&lr*nr.r+rr*ir.r+.5,nr.g=255&lr*nr.g+rr*ir.g+.5,nr.b=255&lr*nr.b+rr*ir.b+.5,nr.a=sr*nr.a+(1-sr)*ir.a,this.rgb=nr}return this}interpolate(Hn,er){return Hn&&(this._rgb=interpolate$3(this._rgb,Hn._rgb,er)),this}clone(){return new a1(this.rgb)}alpha(Hn){return this._rgb.a=n2b(Hn),this}clearer(Hn){const er=this._rgb;return er.a*=1-Hn,this}greyscale(){const Hn=this._rgb,er=round$2(Hn.r*.3+Hn.g*.59+Hn.b*.11);return Hn.r=Hn.g=Hn.b=er,this}opaquer(Hn){const er=this._rgb;return er.a*=1+Hn,this}negate(){const Hn=this._rgb;return Hn.r=255-Hn.r,Hn.g=255-Hn.g,Hn.b=255-Hn.b,this}lighten(Hn){return modHSL(this._rgb,2,Hn),this}darken(Hn){return modHSL(this._rgb,2,-Hn),this}saturate(Hn){return modHSL(this._rgb,1,Hn),this}desaturate(Hn){return modHSL(this._rgb,1,-Hn),this}rotate(Hn){return rotate(this._rgb,Hn),this}};function noop$5(){}const uid=(()=>{let tr=0;return()=>tr++})();function isNullOrUndef(tr){return tr==null}function isArray$1(tr){if(Array.isArray&&Array.isArray(tr))return!0;const Hn=Object.prototype.toString.call(tr);return Hn.slice(0,7)==="[object"&&Hn.slice(-6)==="Array]"}function isObject$2(tr){return tr!==null&&Object.prototype.toString.call(tr)==="[object Object]"}function isNumberFinite(tr){return(typeof tr=="number"||tr instanceof Number)&&isFinite(+tr)}function finiteOrDefault(tr,Hn){return isNumberFinite(tr)?tr:Hn}function valueOrDefault(tr,Hn){return typeof tr>"u"?Hn:tr}const toPercentage=(tr,Hn)=>typeof tr=="string"&&tr.endsWith("%")?parseFloat(tr)/100:+tr/Hn,toDimension=(tr,Hn)=>typeof tr=="string"&&tr.endsWith("%")?parseFloat(tr)/100*Hn:+tr;function callback(tr,Hn,er){if(tr&&typeof tr.call=="function")return tr.apply(er,Hn)}function each$1(tr,Hn,er,nr){let ir,rr,sr;if(isArray$1(tr))for(rr=tr.length,ir=0;ir<rr;ir++)Hn.call(er,tr[ir],ir);else if(isObject$2(tr))for(sr=Object.keys(tr),rr=sr.length,ir=0;ir<rr;ir++)Hn.call(er,tr[sr[ir]],sr[ir])}function _elementsEqual(tr,Hn){let er,nr,ir,rr;if(!tr||!Hn||tr.length!==Hn.length)return!1;for(er=0,nr=tr.length;er<nr;++er)if(ir=tr[er],rr=Hn[er],ir.datasetIndex!==rr.datasetIndex||ir.index!==rr.index)return!1;return!0}function clone$1(tr){if(isArray$1(tr))return tr.map(clone$1);if(isObject$2(tr)){const Hn=Object.create(null),er=Object.keys(tr),nr=er.length;let ir=0;for(;ir<nr;++ir)Hn[er[ir]]=clone$1(tr[er[ir]]);return Hn}return tr}function isValidKey(tr){return["__proto__","prototype","constructor"].indexOf(tr)===-1}function _merger(tr,Hn,er,nr){if(!isValidKey(tr))return;const ir=Hn[tr],rr=er[tr];isObject$2(ir)&&isObject$2(rr)?merge$1(ir,rr,nr):Hn[tr]=clone$1(rr)}function merge$1(tr,Hn,er){const nr=isArray$1(Hn)?Hn:[Hn],ir=nr.length;if(!isObject$2(tr))return tr;er=er||{};const rr=er.merger||_merger;let sr;for(let ar=0;ar<ir;++ar){if(sr=nr[ar],!isObject$2(sr))continue;const or=Object.keys(sr);for(let lr=0,cr=or.length;lr<cr;++lr)rr(or[lr],tr,sr,er)}return tr}function mergeIf(tr,Hn){return merge$1(tr,Hn,{merger:_mergerIf})}function _mergerIf(tr,Hn,er){if(!isValidKey(tr))return;const nr=Hn[tr],ir=er[tr];isObject$2(nr)&&isObject$2(ir)?mergeIf(nr,ir):Object.prototype.hasOwnProperty.call(Hn,tr)||(Hn[tr]=clone$1(ir))}const keyResolvers={"":tr=>tr,x:tr=>tr.x,y:tr=>tr.y};function _splitKey(tr){const Hn=tr.split("."),er=[];let nr="";for(const ir of Hn)nr+=ir,nr.endsWith("\\")?nr=nr.slice(0,-1)+".":(er.push(nr),nr="");return er}function _getKeyResolver(tr){const Hn=_splitKey(tr);return er=>{for(const nr of Hn){if(nr==="")break;er=er&&er[nr]}return er}}function resolveObjectKey(tr,Hn){return(keyResolvers[Hn]||(keyResolvers[Hn]=_getKeyResolver(Hn)))(tr)}function _capitalize(tr){return tr.charAt(0).toUpperCase()+tr.slice(1)}const defined$1=tr=>typeof tr<"u",isFunction$2=tr=>typeof tr=="function",setsEqual=(tr,Hn)=>{if(tr.size!==Hn.size)return!1;for(const er of tr)if(!Hn.has(er))return!1;return!0};function _isClickEvent(tr){return tr.type==="mouseup"||tr.type==="click"||tr.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign$1=Math.sign;function almostEquals(tr,Hn,er){return Math.abs(tr-Hn)<er}function niceNum(tr){const Hn=Math.round(tr);tr=almostEquals(tr,Hn,tr/1e3)?Hn:tr;const er=Math.pow(10,Math.floor(log10(tr))),nr=tr/er;return(nr<=1?1:nr<=2?2:nr<=5?5:10)*er}function _factorize(tr){const Hn=[],er=Math.sqrt(tr);let nr;for(nr=1;nr<er;nr++)tr%nr===0&&(Hn.push(nr),Hn.push(tr/nr));return er===(er|0)&&Hn.push(er),Hn.sort((ir,rr)=>ir-rr).pop(),Hn}function isNonPrimitive(tr){return typeof tr=="symbol"||typeof tr=="object"&&tr!==null&&!(Symbol.toPrimitive in tr||"toString"in tr||"valueOf"in tr)}function isNumber$2(tr){return!isNonPrimitive(tr)&&!isNaN(parseFloat(tr))&&isFinite(tr)}function almostWhole(tr,Hn){const er=Math.round(tr);return er-Hn<=tr&&er+Hn>=tr}function _setMinAndMaxByKey(tr,Hn,er){let nr,ir,rr;for(nr=0,ir=tr.length;nr<ir;nr++)rr=tr[nr][er],isNaN(rr)||(Hn.min=Math.min(Hn.min,rr),Hn.max=Math.max(Hn.max,rr))}function toRadians(tr){return tr*(PI/180)}function toDegrees(tr){return tr*(180/PI)}function _decimalPlaces(tr){if(!isNumberFinite(tr))return;let Hn=1,er=0;for(;Math.round(tr*Hn)/Hn!==tr;)Hn*=10,er++;return er}function getAngleFromPoint(tr,Hn){const er=Hn.x-tr.x,nr=Hn.y-tr.y,ir=Math.sqrt(er*er+nr*nr);let rr=Math.atan2(nr,er);return rr<-.5*PI&&(rr+=TAU),{angle:rr,distance:ir}}function distanceBetweenPoints$1(tr,Hn){return Math.sqrt(Math.pow(Hn.x-tr.x,2)+Math.pow(Hn.y-tr.y,2))}function _angleDiff(tr,Hn){return(tr-Hn+PITAU)%TAU-PI}function _normalizeAngle(tr){return(tr%TAU+TAU)%TAU}function _angleBetween(tr,Hn,er,nr){const ir=_normalizeAngle(tr),rr=_normalizeAngle(Hn),sr=_normalizeAngle(er),ar=_normalizeAngle(rr-ir),or=_normalizeAngle(sr-ir),lr=_normalizeAngle(ir-rr),cr=_normalizeAngle(ir-sr);return ir===rr||ir===sr||nr&&rr===sr||ar>or&&lr<cr}function _limitValue(tr,Hn,er){return Math.max(Hn,Math.min(er,tr))}function _int16Range(tr){return _limitValue(tr,-32768,32767)}function _isBetween(tr,Hn,er,nr=1e-6){return tr>=Math.min(Hn,er)-nr&&tr<=Math.max(Hn,er)+nr}function _lookup(tr,Hn,er){er=er||(sr=>tr[sr]<Hn);let nr=tr.length-1,ir=0,rr;for(;nr-ir>1;)rr=ir+nr>>1,er(rr)?ir=rr:nr=rr;return{lo:ir,hi:nr}}const _lookupByKey=(tr,Hn,er,nr)=>_lookup(tr,er,nr?ir=>{const rr=tr[ir][Hn];return rr<er||rr===er&&tr[ir+1][Hn]===er}:ir=>tr[ir][Hn]<er),_rlookupByKey=(tr,Hn,er)=>_lookup(tr,er,nr=>tr[nr][Hn]>=er);function _filterBetween(tr,Hn,er){let nr=0,ir=tr.length;for(;nr<ir&&tr[nr]<Hn;)nr++;for(;ir>nr&&tr[ir-1]>er;)ir--;return nr>0||ir<tr.length?tr.slice(nr,ir):tr}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(tr,Hn){if(tr._chartjs){tr._chartjs.listeners.push(Hn);return}Object.defineProperty(tr,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[Hn]}}),arrayEvents.forEach(er=>{const nr="_onData"+_capitalize(er),ir=tr[er];Object.defineProperty(tr,er,{configurable:!0,enumerable:!1,value(...rr){const sr=ir.apply(this,rr);return tr._chartjs.listeners.forEach(ar=>{typeof ar[nr]=="function"&&ar[nr](...rr)}),sr}})})}function unlistenArrayEvents(tr,Hn){const er=tr._chartjs;if(!er)return;const nr=er.listeners,ir=nr.indexOf(Hn);ir!==-1&&nr.splice(ir,1),!(nr.length>0)&&(arrayEvents.forEach(rr=>{delete tr[rr]}),delete tr._chartjs)}function _arrayUnique(tr){const Hn=new Set(tr);return Hn.size===tr.length?tr:Array.from(Hn)}const requestAnimFrame=(function(){return typeof window>"u"?function(tr){return tr()}:window.requestAnimationFrame})();function throttled(tr,Hn){let er=[],nr=!1;return function(...ir){er=ir,nr||(nr=!0,requestAnimFrame.call(window,()=>{nr=!1,tr.apply(Hn,er)}))}}function debounce$3(tr,Hn){let er;return function(...nr){return Hn?(clearTimeout(er),er=setTimeout(tr,Hn,nr)):tr.apply(this,nr),Hn}}const _toLeftRightCenter=tr=>tr==="start"?"left":tr==="end"?"right":"center",_alignStartEnd=(tr,Hn,er)=>tr==="start"?Hn:tr==="end"?er:(Hn+er)/2,_textX=(tr,Hn,er,nr)=>tr===(nr?"left":"right")?er:tr==="center"?(Hn+er)/2:Hn;function _getStartAndCountOfVisiblePoints(tr,Hn,er){const nr=Hn.length;let ir=0,rr=nr;if(tr._sorted){const{iScale:sr,vScale:ar,_parsed:or}=tr,lr=tr.dataset&&tr.dataset.options?tr.dataset.options.spanGaps:null,cr=sr.axis,{min:ur,max:dr,minDefined:fr,maxDefined:gr}=sr.getUserBounds();if(fr){if(ir=Math.min(_lookupByKey(or,cr,ur).lo,er?nr:_lookupByKey(Hn,cr,sr.getPixelForValue(ur)).lo),lr){const yr=or.slice(0,ir+1).reverse().findIndex(vr=>!isNullOrUndef(vr[ar.axis]));ir-=Math.max(0,yr)}ir=_limitValue(ir,0,nr-1)}if(gr){let yr=Math.max(_lookupByKey(or,sr.axis,dr,!0).hi+1,er?0:_lookupByKey(Hn,cr,sr.getPixelForValue(dr),!0).hi+1);if(lr){const vr=or.slice(yr-1).findIndex(jr=>!isNullOrUndef(jr[ar.axis]));yr+=Math.max(0,vr)}rr=_limitValue(yr,ir,nr)-ir}else rr=nr-ir}return{start:ir,count:rr}}function _scaleRangesChanged(tr){const{xScale:Hn,yScale:er,_scaleRanges:nr}=tr,ir={xmin:Hn.min,xmax:Hn.max,ymin:er.min,ymax:er.max};if(!nr)return tr._scaleRanges=ir,!0;const rr=nr.xmin!==Hn.min||nr.xmax!==Hn.max||nr.ymin!==er.min||nr.ymax!==er.max;return Object.assign(nr,ir),rr}const atEdge=tr=>tr===0||tr===1,elasticIn=(tr,Hn,er)=>-(Math.pow(2,10*(tr-=1))*Math.sin((tr-Hn)*TAU/er)),elasticOut=(tr,Hn,er)=>Math.pow(2,-10*tr)*Math.sin((tr-Hn)*TAU/er)+1,effects={linear:tr=>tr,easeInQuad:tr=>tr*tr,easeOutQuad:tr=>-tr*(tr-2),easeInOutQuad:tr=>(tr/=.5)<1?.5*tr*tr:-.5*(--tr*(tr-2)-1),easeInCubic:tr=>tr*tr*tr,easeOutCubic:tr=>(tr-=1)*tr*tr+1,easeInOutCubic:tr=>(tr/=.5)<1?.5*tr*tr*tr:.5*((tr-=2)*tr*tr+2),easeInQuart:tr=>tr*tr*tr*tr,easeOutQuart:tr=>-((tr-=1)*tr*tr*tr-1),easeInOutQuart:tr=>(tr/=.5)<1?.5*tr*tr*tr*tr:-.5*((tr-=2)*tr*tr*tr-2),easeInQuint:tr=>tr*tr*tr*tr*tr,easeOutQuint:tr=>(tr-=1)*tr*tr*tr*tr+1,easeInOutQuint:tr=>(tr/=.5)<1?.5*tr*tr*tr*tr*tr:.5*((tr-=2)*tr*tr*tr*tr+2),easeInSine:tr=>-Math.cos(tr*HALF_PI)+1,easeOutSine:tr=>Math.sin(tr*HALF_PI),easeInOutSine:tr=>-.5*(Math.cos(PI*tr)-1),easeInExpo:tr=>tr===0?0:Math.pow(2,10*(tr-1)),easeOutExpo:tr=>tr===1?1:-Math.pow(2,-10*tr)+1,easeInOutExpo:tr=>atEdge(tr)?tr:tr<.5?.5*Math.pow(2,10*(tr*2-1)):.5*(-Math.pow(2,-10*(tr*2-1))+2),easeInCirc:tr=>tr>=1?tr:-(Math.sqrt(1-tr*tr)-1),easeOutCirc:tr=>Math.sqrt(1-(tr-=1)*tr),easeInOutCirc:tr=>(tr/=.5)<1?-.5*(Math.sqrt(1-tr*tr)-1):.5*(Math.sqrt(1-(tr-=2)*tr)+1),easeInElastic:tr=>atEdge(tr)?tr:elasticIn(tr,.075,.3),easeOutElastic:tr=>atEdge(tr)?tr:elasticOut(tr,.075,.3),easeInOutElastic(tr){return atEdge(tr)?tr:tr<.5?.5*elasticIn(tr*2,.1125,.45):.5+.5*elasticOut(tr*2-1,.1125,.45)},easeInBack(tr){return tr*tr*((1.70158+1)*tr-1.70158)},easeOutBack(tr){return(tr-=1)*tr*((1.70158+1)*tr+1.70158)+1},easeInOutBack(tr){let Hn=1.70158;return(tr/=.5)<1?.5*(tr*tr*(((Hn*=1.525)+1)*tr-Hn)):.5*((tr-=2)*tr*(((Hn*=1.525)+1)*tr+Hn)+2)},easeInBounce:tr=>1-effects.easeOutBounce(1-tr),easeOutBounce(tr){return tr<1/2.75?7.5625*tr*tr:tr<2/2.75?7.5625*(tr-=1.5/2.75)*tr+.75:tr<2.5/2.75?7.5625*(tr-=2.25/2.75)*tr+.9375:7.5625*(tr-=2.625/2.75)*tr+.984375},easeInOutBounce:tr=>tr<.5?effects.easeInBounce(tr*2)*.5:effects.easeOutBounce(tr*2-1)*.5+.5};function isPatternOrGradient(tr){if(tr&&typeof tr=="object"){const Hn=tr.toString();return Hn==="[object CanvasPattern]"||Hn==="[object CanvasGradient]"}return!1}function color$1(tr){return isPatternOrGradient(tr)?tr:new Color$1(tr)}function getHoverColor(tr){return isPatternOrGradient(tr)?tr:new Color$1(tr).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(tr){tr.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),tr.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:Hn=>Hn!=="onProgress"&&Hn!=="onComplete"&&Hn!=="fn"}),tr.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers$1}}),tr.describe("animations",{_fallback:"animation"}),tr.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:Hn=>Hn|0}}}})}function applyLayoutsDefaults(tr){tr.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(tr,Hn){Hn=Hn||{};const er=tr+JSON.stringify(Hn);let nr=intlCache.get(er);return nr||(nr=new Intl.NumberFormat(tr,Hn),intlCache.set(er,nr)),nr}function formatNumber$2(tr,Hn,er){return getNumberFormat(Hn,er).format(tr)}const formatters$1={values(tr){return isArray$1(tr)?tr:""+tr},numeric(tr,Hn,er){if(tr===0)return"0";const nr=this.chart.options.locale;let ir,rr=tr;if(er.length>1){const lr=Math.max(Math.abs(er[0].value),Math.abs(er[er.length-1].value));(lr<1e-4||lr>1e15)&&(ir="scientific"),rr=calculateDelta(tr,er)}const sr=log10(Math.abs(rr)),ar=isNaN(sr)?1:Math.max(Math.min(-1*Math.floor(sr),20),0),or={notation:ir,minimumFractionDigits:ar,maximumFractionDigits:ar};return Object.assign(or,this.options.ticks.format),formatNumber$2(tr,nr,or)},logarithmic(tr,Hn,er){if(tr===0)return"0";const nr=er[Hn].significand||tr/Math.pow(10,Math.floor(log10(tr)));return[1,2,3,5,10,15].includes(nr)||Hn>.8*er.length?formatters$1.numeric.call(this,tr,Hn,er):""}};function calculateDelta(tr,Hn){let er=Hn.length>3?Hn[2].value-Hn[1].value:Hn[1].value-Hn[0].value;return Math.abs(er)>=1&&tr!==Math.floor(tr)&&(er=tr-Math.floor(tr)),er}var Ticks$1={formatters:formatters$1};function applyScaleDefaults(tr){tr.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(Hn,er)=>er.lineWidth,tickColor:(Hn,er)=>er.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks$1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),tr.route("scale.ticks","color","","color"),tr.route("scale.grid","color","","borderColor"),tr.route("scale.border","color","","borderColor"),tr.route("scale.title","color","","color"),tr.describe("scale",{_fallback:!1,_scriptable:Hn=>!Hn.startsWith("before")&&!Hn.startsWith("after")&&Hn!=="callback"&&Hn!=="parser",_indexable:Hn=>Hn!=="borderDash"&&Hn!=="tickBorderDash"&&Hn!=="dash"}),tr.describe("scales",{_fallback:"scale"}),tr.describe("scale.ticks",{_scriptable:Hn=>Hn!=="backdropPadding"&&Hn!=="callback",_indexable:Hn=>Hn!=="backdropPadding"})}const overrides=Object.create(null),descriptors$1=Object.create(null);function getScope$1(tr,Hn){if(!Hn)return tr;const er=Hn.split(".");for(let nr=0,ir=er.length;nr<ir;++nr){const rr=er[nr];tr=tr[rr]||(tr[rr]=Object.create(null))}return tr}function set$1(tr,Hn,er){return typeof Hn=="string"?merge$1(getScope$1(tr,Hn),er):merge$1(getScope$1(tr,""),Hn)}class Defaults{constructor(Hn,er){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=nr=>nr.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(nr,ir)=>getHoverColor(ir.backgroundColor),this.hoverBorderColor=(nr,ir)=>getHoverColor(ir.borderColor),this.hoverColor=(nr,ir)=>getHoverColor(ir.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(Hn),this.apply(er)}set(Hn,er){return set$1(this,Hn,er)}get(Hn){return getScope$1(this,Hn)}describe(Hn,er){return set$1(descriptors$1,Hn,er)}override(Hn,er){return set$1(overrides,Hn,er)}route(Hn,er,nr,ir){const rr=getScope$1(this,Hn),sr=getScope$1(this,nr),ar="_"+er;Object.defineProperties(rr,{[ar]:{value:rr[er],writable:!0},[er]:{enumerable:!0,get(){const or=this[ar],lr=sr[ir];return isObject$2(or)?Object.assign({},lr,or):valueOrDefault(or,lr)},set(or){this[ar]=or}}})}apply(Hn){Hn.forEach(er=>er(this))}}var defaults$4=new Defaults({_scriptable:tr=>!tr.startsWith("on"),_indexable:tr=>tr!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(tr){return!tr||isNullOrUndef(tr.size)||isNullOrUndef(tr.family)?null:(tr.style?tr.style+" ":"")+(tr.weight?tr.weight+" ":"")+tr.size+"px "+tr.family}function _measureText(tr,Hn,er,nr,ir){let rr=Hn[ir];return rr||(rr=Hn[ir]=tr.measureText(ir).width,er.push(ir)),rr>nr&&(nr=rr),nr}function _longestText(tr,Hn,er,nr){nr=nr||{};let ir=nr.data=nr.data||{},rr=nr.garbageCollect=nr.garbageCollect||[];nr.font!==Hn&&(ir=nr.data={},rr=nr.garbageCollect=[],nr.font=Hn),tr.save(),tr.font=Hn;let sr=0;const ar=er.length;let or,lr,cr,ur,dr;for(or=0;or<ar;or++)if(ur=er[or],ur!=null&&!isArray$1(ur))sr=_measureText(tr,ir,rr,sr,ur);else if(isArray$1(ur))for(lr=0,cr=ur.length;lr<cr;lr++)dr=ur[lr],dr!=null&&!isArray$1(dr)&&(sr=_measureText(tr,ir,rr,sr,dr));tr.restore();const fr=rr.length/2;if(fr>er.length){for(or=0;or<fr;or++)delete ir[rr[or]];rr.splice(0,fr)}return sr}function _alignPixel(tr,Hn,er){const nr=tr.currentDevicePixelRatio,ir=er!==0?Math.max(er/2,.5):0;return Math.round((Hn-ir)*nr)/nr+ir}function clearCanvas(tr,Hn){!Hn&&!tr||(Hn=Hn||tr.getContext("2d"),Hn.save(),Hn.resetTransform(),Hn.clearRect(0,0,tr.width,tr.height),Hn.restore())}function drawPoint$1(tr,Hn,er,nr){drawPointLegend(tr,Hn,er,nr,null)}function drawPointLegend(tr,Hn,er,nr,ir){let rr,sr,ar,or,lr,cr,ur,dr;const fr=Hn.pointStyle,gr=Hn.rotation,yr=Hn.radius;let vr=(gr||0)*RAD_PER_DEG;if(fr&&typeof fr=="object"&&(rr=fr.toString(),rr==="[object HTMLImageElement]"||rr==="[object HTMLCanvasElement]")){tr.save(),tr.translate(er,nr),tr.rotate(vr),tr.drawImage(fr,-fr.width/2,-fr.height/2,fr.width,fr.height),tr.restore();return}if(!(isNaN(yr)||yr<=0)){switch(tr.beginPath(),fr){default:ir?tr.ellipse(er,nr,ir/2,yr,0,0,TAU):tr.arc(er,nr,yr,0,TAU),tr.closePath();break;case"triangle":cr=ir?ir/2:yr,tr.moveTo(er+Math.sin(vr)*cr,nr-Math.cos(vr)*yr),vr+=TWO_THIRDS_PI,tr.lineTo(er+Math.sin(vr)*cr,nr-Math.cos(vr)*yr),vr+=TWO_THIRDS_PI,tr.lineTo(er+Math.sin(vr)*cr,nr-Math.cos(vr)*yr),tr.closePath();break;case"rectRounded":lr=yr*.516,or=yr-lr,sr=Math.cos(vr+QUARTER_PI)*or,ur=Math.cos(vr+QUARTER_PI)*(ir?ir/2-lr:or),ar=Math.sin(vr+QUARTER_PI)*or,dr=Math.sin(vr+QUARTER_PI)*(ir?ir/2-lr:or),tr.arc(er-ur,nr-ar,lr,vr-PI,vr-HALF_PI),tr.arc(er+dr,nr-sr,lr,vr-HALF_PI,vr),tr.arc(er+ur,nr+ar,lr,vr,vr+HALF_PI),tr.arc(er-dr,nr+sr,lr,vr+HALF_PI,vr+PI),tr.closePath();break;case"rect":if(!gr){or=Math.SQRT1_2*yr,cr=ir?ir/2:or,tr.rect(er-cr,nr-or,2*cr,2*or);break}vr+=QUARTER_PI;case"rectRot":ur=Math.cos(vr)*(ir?ir/2:yr),sr=Math.cos(vr)*yr,ar=Math.sin(vr)*yr,dr=Math.sin(vr)*(ir?ir/2:yr),tr.moveTo(er-ur,nr-ar),tr.lineTo(er+dr,nr-sr),tr.lineTo(er+ur,nr+ar),tr.lineTo(er-dr,nr+sr),tr.closePath();break;case"crossRot":vr+=QUARTER_PI;case"cross":ur=Math.cos(vr)*(ir?ir/2:yr),sr=Math.cos(vr)*yr,ar=Math.sin(vr)*yr,dr=Math.sin(vr)*(ir?ir/2:yr),tr.moveTo(er-ur,nr-ar),tr.lineTo(er+ur,nr+ar),tr.moveTo(er+dr,nr-sr),tr.lineTo(er-dr,nr+sr);break;case"star":ur=Math.cos(vr)*(ir?ir/2:yr),sr=Math.cos(vr)*yr,ar=Math.sin(vr)*yr,dr=Math.sin(vr)*(ir?ir/2:yr),tr.moveTo(er-ur,nr-ar),tr.lineTo(er+ur,nr+ar),tr.moveTo(er+dr,nr-sr),tr.lineTo(er-dr,nr+sr),vr+=QUARTER_PI,ur=Math.cos(vr)*(ir?ir/2:yr),sr=Math.cos(vr)*yr,ar=Math.sin(vr)*yr,dr=Math.sin(vr)*(ir?ir/2:yr),tr.moveTo(er-ur,nr-ar),tr.lineTo(er+ur,nr+ar),tr.moveTo(er+dr,nr-sr),tr.lineTo(er-dr,nr+sr);break;case"line":sr=ir?ir/2:Math.cos(vr)*yr,ar=Math.sin(vr)*yr,tr.moveTo(er-sr,nr-ar),tr.lineTo(er+sr,nr+ar);break;case"dash":tr.moveTo(er,nr),tr.lineTo(er+Math.cos(vr)*(ir?ir/2:yr),nr+Math.sin(vr)*yr);break;case!1:tr.closePath();break}tr.fill(),Hn.borderWidth>0&&tr.stroke()}}function _isPointInArea(tr,Hn,er){return er=er||.5,!Hn||tr&&tr.x>Hn.left-er&&tr.x<Hn.right+er&&tr.y>Hn.top-er&&tr.y<Hn.bottom+er}function clipArea(tr,Hn){tr.save(),tr.beginPath(),tr.rect(Hn.left,Hn.top,Hn.right-Hn.left,Hn.bottom-Hn.top),tr.clip()}function unclipArea(tr){tr.restore()}function _steppedLineTo(tr,Hn,er,nr,ir){if(!Hn)return tr.lineTo(er.x,er.y);if(ir==="middle"){const rr=(Hn.x+er.x)/2;tr.lineTo(rr,Hn.y),tr.lineTo(rr,er.y)}else ir==="after"!=!!nr?tr.lineTo(Hn.x,er.y):tr.lineTo(er.x,Hn.y);tr.lineTo(er.x,er.y)}function _bezierCurveTo(tr,Hn,er,nr){if(!Hn)return tr.lineTo(er.x,er.y);tr.bezierCurveTo(nr?Hn.cp1x:Hn.cp2x,nr?Hn.cp1y:Hn.cp2y,nr?er.cp2x:er.cp1x,nr?er.cp2y:er.cp1y,er.x,er.y)}function setRenderOpts(tr,Hn){Hn.translation&&tr.translate(Hn.translation[0],Hn.translation[1]),isNullOrUndef(Hn.rotation)||tr.rotate(Hn.rotation),Hn.color&&(tr.fillStyle=Hn.color),Hn.textAlign&&(tr.textAlign=Hn.textAlign),Hn.textBaseline&&(tr.textBaseline=Hn.textBaseline)}function decorateText(tr,Hn,er,nr,ir){if(ir.strikethrough||ir.underline){const rr=tr.measureText(nr),sr=Hn-rr.actualBoundingBoxLeft,ar=Hn+rr.actualBoundingBoxRight,or=er-rr.actualBoundingBoxAscent,lr=er+rr.actualBoundingBoxDescent,cr=ir.strikethrough?(or+lr)/2:lr;tr.strokeStyle=tr.fillStyle,tr.beginPath(),tr.lineWidth=ir.decorationWidth||2,tr.moveTo(sr,cr),tr.lineTo(ar,cr),tr.stroke()}}function drawBackdrop(tr,Hn){const er=tr.fillStyle;tr.fillStyle=Hn.color,tr.fillRect(Hn.left,Hn.top,Hn.width,Hn.height),tr.fillStyle=er}function renderText(tr,Hn,er,nr,ir,rr={}){const sr=isArray$1(Hn)?Hn:[Hn],ar=rr.strokeWidth>0&&rr.strokeColor!=="";let or,lr;for(tr.save(),tr.font=ir.string,setRenderOpts(tr,rr),or=0;or<sr.length;++or)lr=sr[or],rr.backdrop&&drawBackdrop(tr,rr.backdrop),ar&&(rr.strokeColor&&(tr.strokeStyle=rr.strokeColor),isNullOrUndef(rr.strokeWidth)||(tr.lineWidth=rr.strokeWidth),tr.strokeText(lr,er,nr,rr.maxWidth)),tr.fillText(lr,er,nr,rr.maxWidth),decorateText(tr,er,nr,lr,rr),nr+=Number(ir.lineHeight);tr.restore()}function addRoundedRectPath(tr,Hn){const{x:er,y:nr,w:ir,h:rr,radius:sr}=Hn;tr.arc(er+sr.topLeft,nr+sr.topLeft,sr.topLeft,1.5*PI,PI,!0),tr.lineTo(er,nr+rr-sr.bottomLeft),tr.arc(er+sr.bottomLeft,nr+rr-sr.bottomLeft,sr.bottomLeft,PI,HALF_PI,!0),tr.lineTo(er+ir-sr.bottomRight,nr+rr),tr.arc(er+ir-sr.bottomRight,nr+rr-sr.bottomRight,sr.bottomRight,HALF_PI,0,!0),tr.lineTo(er+ir,nr+sr.topRight),tr.arc(er+ir-sr.topRight,nr+sr.topRight,sr.topRight,0,-HALF_PI,!0),tr.lineTo(er+sr.topLeft,nr)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(tr,Hn){const er=(""+tr).match(LINE_HEIGHT);if(!er||er[1]==="normal")return Hn*1.2;switch(tr=+er[2],er[3]){case"px":return tr;case"%":tr/=100;break}return Hn*tr}const numberOrZero=tr=>+tr||0;function _readValueToProps(tr,Hn){const er={},nr=isObject$2(Hn),ir=nr?Object.keys(Hn):Hn,rr=isObject$2(tr)?nr?sr=>valueOrDefault(tr[sr],tr[Hn[sr]]):sr=>tr[sr]:()=>tr;for(const sr of ir)er[sr]=numberOrZero(rr(sr));return er}function toTRBL(tr){return _readValueToProps(tr,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(tr){return _readValueToProps(tr,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(tr){const Hn=toTRBL(tr);return Hn.width=Hn.left+Hn.right,Hn.height=Hn.top+Hn.bottom,Hn}function toFont(tr,Hn){tr=tr||{},Hn=Hn||defaults$4.font;let er=valueOrDefault(tr.size,Hn.size);typeof er=="string"&&(er=parseInt(er,10));let nr=valueOrDefault(tr.style,Hn.style);nr&&!(""+nr).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+nr+'"'),nr=void 0);const ir={family:valueOrDefault(tr.family,Hn.family),lineHeight:toLineHeight(valueOrDefault(tr.lineHeight,Hn.lineHeight),er),size:er,style:nr,weight:valueOrDefault(tr.weight,Hn.weight),string:""};return ir.string=toFontString(ir),ir}function resolve$1(tr,Hn,er,nr){let ir,rr,sr;for(ir=0,rr=tr.length;ir<rr;++ir)if(sr=tr[ir],sr!==void 0&&(Hn!==void 0&&typeof sr=="function"&&(sr=sr(Hn)),er!==void 0&&isArray$1(sr)&&(sr=sr[er%sr.length]),sr!==void 0))return sr}function _addGrace(tr,Hn,er){const{min:nr,max:ir}=tr,rr=toDimension(Hn,(ir-nr)/2),sr=(ar,or)=>er&&ar===0?0:ar+or;return{min:sr(nr,-Math.abs(rr)),max:sr(ir,rr)}}function createContext(tr,Hn){return Object.assign(Object.create(tr),Hn)}function _createResolver(tr,Hn=[""],er,nr,ir=()=>tr[0]){const rr=er||tr;typeof nr>"u"&&(nr=_resolve("_fallback",tr));const sr={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:tr,_rootScopes:rr,_fallback:nr,_getTarget:ir,override:ar=>_createResolver([ar,...tr],Hn,rr,nr)};return new Proxy(sr,{deleteProperty(ar,or){return delete ar[or],delete ar._keys,delete tr[0][or],!0},get(ar,or){return _cached(ar,or,()=>_resolveWithPrefixes(or,Hn,tr,ar))},getOwnPropertyDescriptor(ar,or){return Reflect.getOwnPropertyDescriptor(ar._scopes[0],or)},getPrototypeOf(){return Reflect.getPrototypeOf(tr[0])},has(ar,or){return getKeysFromAllScopes(ar).includes(or)},ownKeys(ar){return getKeysFromAllScopes(ar)},set(ar,or,lr){const cr=ar._storage||(ar._storage=ir());return ar[or]=cr[or]=lr,delete ar._keys,!0}})}function _attachContext(tr,Hn,er,nr){const ir={_cacheable:!1,_proxy:tr,_context:Hn,_subProxy:er,_stack:new Set,_descriptors:_descriptors(tr,nr),setContext:rr=>_attachContext(tr,rr,er,nr),override:rr=>_attachContext(tr.override(rr),Hn,er,nr)};return new Proxy(ir,{deleteProperty(rr,sr){return delete rr[sr],delete tr[sr],!0},get(rr,sr,ar){return _cached(rr,sr,()=>_resolveWithContext(rr,sr,ar))},getOwnPropertyDescriptor(rr,sr){return rr._descriptors.allKeys?Reflect.has(tr,sr)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(tr,sr)},getPrototypeOf(){return Reflect.getPrototypeOf(tr)},has(rr,sr){return Reflect.has(tr,sr)},ownKeys(){return Reflect.ownKeys(tr)},set(rr,sr,ar){return tr[sr]=ar,delete rr[sr],!0}})}function _descriptors(tr,Hn={scriptable:!0,indexable:!0}){const{_scriptable:er=Hn.scriptable,_indexable:nr=Hn.indexable,_allKeys:ir=Hn.allKeys}=tr;return{allKeys:ir,scriptable:er,indexable:nr,isScriptable:isFunction$2(er)?er:()=>er,isIndexable:isFunction$2(nr)?nr:()=>nr}}const readKey=(tr,Hn)=>tr?tr+_capitalize(Hn):Hn,needsSubResolver=(tr,Hn)=>isObject$2(Hn)&&tr!=="adapters"&&(Object.getPrototypeOf(Hn)===null||Hn.constructor===Object);function _cached(tr,Hn,er){if(Object.prototype.hasOwnProperty.call(tr,Hn)||Hn==="constructor")return tr[Hn];const nr=er();return tr[Hn]=nr,nr}function _resolveWithContext(tr,Hn,er){const{_proxy:nr,_context:ir,_subProxy:rr,_descriptors:sr}=tr;let ar=nr[Hn];return isFunction$2(ar)&&sr.isScriptable(Hn)&&(ar=_resolveScriptable(Hn,ar,tr,er)),isArray$1(ar)&&ar.length&&(ar=_resolveArray(Hn,ar,tr,sr.isIndexable)),needsSubResolver(Hn,ar)&&(ar=_attachContext(ar,ir,rr&&rr[Hn],sr)),ar}function _resolveScriptable(tr,Hn,er,nr){const{_proxy:ir,_context:rr,_subProxy:sr,_stack:ar}=er;if(ar.has(tr))throw new Error("Recursion detected: "+Array.from(ar).join("->")+"->"+tr);ar.add(tr);let or=Hn(rr,sr||nr);return ar.delete(tr),needsSubResolver(tr,or)&&(or=createSubResolver(ir._scopes,ir,tr,or)),or}function _resolveArray(tr,Hn,er,nr){const{_proxy:ir,_context:rr,_subProxy:sr,_descriptors:ar}=er;if(typeof rr.index<"u"&&nr(tr))return Hn[rr.index%Hn.length];if(isObject$2(Hn[0])){const or=Hn,lr=ir._scopes.filter(cr=>cr!==or);Hn=[];for(const cr of or){const ur=createSubResolver(lr,ir,tr,cr);Hn.push(_attachContext(ur,rr,sr&&sr[tr],ar))}}return Hn}function resolveFallback(tr,Hn,er){return isFunction$2(tr)?tr(Hn,er):tr}const getScope=(tr,Hn)=>tr===!0?Hn:typeof tr=="string"?resolveObjectKey(Hn,tr):void 0;function addScopes(tr,Hn,er,nr,ir){for(const rr of Hn){const sr=getScope(er,rr);if(sr){tr.add(sr);const ar=resolveFallback(sr._fallback,er,ir);if(typeof ar<"u"&&ar!==er&&ar!==nr)return ar}else if(sr===!1&&typeof nr<"u"&&er!==nr)return null}return!1}function createSubResolver(tr,Hn,er,nr){const ir=Hn._rootScopes,rr=resolveFallback(Hn._fallback,er,nr),sr=[...tr,...ir],ar=new Set;ar.add(nr);let or=addScopesFromKey(ar,sr,er,rr||er,nr);return or===null||typeof rr<"u"&&rr!==er&&(or=addScopesFromKey(ar,sr,rr,or,nr),or===null)?!1:_createResolver(Array.from(ar),[""],ir,rr,()=>subGetTarget(Hn,er,nr))}function addScopesFromKey(tr,Hn,er,nr,ir){for(;er;)er=addScopes(tr,Hn,er,nr,ir);return er}function subGetTarget(tr,Hn,er){const nr=tr._getTarget();Hn in nr||(nr[Hn]={});const ir=nr[Hn];return isArray$1(ir)&&isObject$2(er)?er:ir||{}}function _resolveWithPrefixes(tr,Hn,er,nr){let ir;for(const rr of Hn)if(ir=_resolve(readKey(rr,tr),er),typeof ir<"u")return needsSubResolver(tr,ir)?createSubResolver(er,nr,tr,ir):ir}function _resolve(tr,Hn){for(const er of Hn){if(!er)continue;const nr=er[tr];if(typeof nr<"u")return nr}}function getKeysFromAllScopes(tr){let Hn=tr._keys;return Hn||(Hn=tr._keys=resolveKeysFromAllScopes(tr._scopes)),Hn}function resolveKeysFromAllScopes(tr){const Hn=new Set;for(const er of tr)for(const nr of Object.keys(er).filter(ir=>!ir.startsWith("_")))Hn.add(nr);return Array.from(Hn)}function _parseObjectDataRadialScale(tr,Hn,er,nr){const{iScale:ir}=tr,{key:rr="r"}=this._parsing,sr=new Array(nr);let ar,or,lr,cr;for(ar=0,or=nr;ar<or;++ar)lr=ar+er,cr=Hn[lr],sr[ar]={r:ir.parse(resolveObjectKey(cr,rr),lr)};return sr}const EPSILON$1=Number.EPSILON||1e-14,getPoint=(tr,Hn)=>Hn<tr.length&&!tr[Hn].skip&&tr[Hn],getValueAxis=tr=>tr==="x"?"y":"x";function splineCurve(tr,Hn,er,nr){const ir=tr.skip?Hn:tr,rr=Hn,sr=er.skip?Hn:er,ar=distanceBetweenPoints$1(rr,ir),or=distanceBetweenPoints$1(sr,rr);let lr=ar/(ar+or),cr=or/(ar+or);lr=isNaN(lr)?0:lr,cr=isNaN(cr)?0:cr;const ur=nr*lr,dr=nr*cr;return{previous:{x:rr.x-ur*(sr.x-ir.x),y:rr.y-ur*(sr.y-ir.y)},next:{x:rr.x+dr*(sr.x-ir.x),y:rr.y+dr*(sr.y-ir.y)}}}function monotoneAdjust(tr,Hn,er){const nr=tr.length;let ir,rr,sr,ar,or,lr=getPoint(tr,0);for(let cr=0;cr<nr-1;++cr)if(or=lr,lr=getPoint(tr,cr+1),!(!or||!lr)){if(almostEquals(Hn[cr],0,EPSILON$1)){er[cr]=er[cr+1]=0;continue}ir=er[cr]/Hn[cr],rr=er[cr+1]/Hn[cr],ar=Math.pow(ir,2)+Math.pow(rr,2),!(ar<=9)&&(sr=3/Math.sqrt(ar),er[cr]=ir*sr*Hn[cr],er[cr+1]=rr*sr*Hn[cr])}}function monotoneCompute(tr,Hn,er="x"){const nr=getValueAxis(er),ir=tr.length;let rr,sr,ar,or=getPoint(tr,0);for(let lr=0;lr<ir;++lr){if(sr=ar,ar=or,or=getPoint(tr,lr+1),!ar)continue;const cr=ar[er],ur=ar[nr];sr&&(rr=(cr-sr[er])/3,ar[`cp1${er}`]=cr-rr,ar[`cp1${nr}`]=ur-rr*Hn[lr]),or&&(rr=(or[er]-cr)/3,ar[`cp2${er}`]=cr+rr,ar[`cp2${nr}`]=ur+rr*Hn[lr])}}function splineCurveMonotone(tr,Hn="x"){const er=getValueAxis(Hn),nr=tr.length,ir=Array(nr).fill(0),rr=Array(nr);let sr,ar,or,lr=getPoint(tr,0);for(sr=0;sr<nr;++sr)if(ar=or,or=lr,lr=getPoint(tr,sr+1),!!or){if(lr){const cr=lr[Hn]-or[Hn];ir[sr]=cr!==0?(lr[er]-or[er])/cr:0}rr[sr]=ar?lr?sign$1(ir[sr-1])!==sign$1(ir[sr])?0:(ir[sr-1]+ir[sr])/2:ir[sr-1]:ir[sr]}monotoneAdjust(tr,ir,rr),monotoneCompute(tr,rr,Hn)}function capControlPoint(tr,Hn,er){return Math.max(Math.min(tr,er),Hn)}function capBezierPoints(tr,Hn){let er,nr,ir,rr,sr,ar=_isPointInArea(tr[0],Hn);for(er=0,nr=tr.length;er<nr;++er)sr=rr,rr=ar,ar=er<nr-1&&_isPointInArea(tr[er+1],Hn),rr&&(ir=tr[er],sr&&(ir.cp1x=capControlPoint(ir.cp1x,Hn.left,Hn.right),ir.cp1y=capControlPoint(ir.cp1y,Hn.top,Hn.bottom)),ar&&(ir.cp2x=capControlPoint(ir.cp2x,Hn.left,Hn.right),ir.cp2y=capControlPoint(ir.cp2y,Hn.top,Hn.bottom)))}function _updateBezierControlPoints(tr,Hn,er,nr,ir){let rr,sr,ar,or;if(Hn.spanGaps&&(tr=tr.filter(lr=>!lr.skip)),Hn.cubicInterpolationMode==="monotone")splineCurveMonotone(tr,ir);else{let lr=nr?tr[tr.length-1]:tr[0];for(rr=0,sr=tr.length;rr<sr;++rr)ar=tr[rr],or=splineCurve(lr,ar,tr[Math.min(rr+1,sr-(nr?0:1))%sr],Hn.tension),ar.cp1x=or.previous.x,ar.cp1y=or.previous.y,ar.cp2x=or.next.x,ar.cp2y=or.next.y,lr=ar}Hn.capBezierPoints&&capBezierPoints(tr,er)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(tr){let Hn=tr.parentNode;return Hn&&Hn.toString()==="[object ShadowRoot]"&&(Hn=Hn.host),Hn}function parseMaxStyle(tr,Hn,er){let nr;return typeof tr=="string"?(nr=parseInt(tr,10),tr.indexOf("%")!==-1&&(nr=nr/100*Hn.parentNode[er])):nr=tr,nr}const getComputedStyle$2=tr=>tr.ownerDocument.defaultView.getComputedStyle(tr,null);function getStyle(tr,Hn){return getComputedStyle$2(tr).getPropertyValue(Hn)}const positions$1=["top","right","bottom","left"];function getPositionedStyle(tr,Hn,er){const nr={};er=er?"-"+er:"";for(let ir=0;ir<4;ir++){const rr=positions$1[ir];nr[rr]=parseFloat(tr[Hn+"-"+rr+er])||0}return nr.width=nr.left+nr.right,nr.height=nr.top+nr.bottom,nr}const useOffsetPos=(tr,Hn,er)=>(tr>0||Hn>0)&&(!er||!er.shadowRoot);function getCanvasPosition(tr,Hn){const er=tr.touches,nr=er&&er.length?er[0]:tr,{offsetX:ir,offsetY:rr}=nr;let sr=!1,ar,or;if(useOffsetPos(ir,rr,tr.target))ar=ir,or=rr;else{const lr=Hn.getBoundingClientRect();ar=nr.clientX-lr.left,or=nr.clientY-lr.top,sr=!0}return{x:ar,y:or,box:sr}}function getRelativePosition$1(tr,Hn){if("native"in tr)return tr;const{canvas:er,currentDevicePixelRatio:nr}=Hn,ir=getComputedStyle$2(er),rr=ir.boxSizing==="border-box",sr=getPositionedStyle(ir,"padding"),ar=getPositionedStyle(ir,"border","width"),{x:or,y:lr,box:cr}=getCanvasPosition(tr,er),ur=sr.left+(cr&&ar.left),dr=sr.top+(cr&&ar.top);let{width:fr,height:gr}=Hn;return rr&&(fr-=sr.width+ar.width,gr-=sr.height+ar.height),{x:Math.round((or-ur)/fr*er.width/nr),y:Math.round((lr-dr)/gr*er.height/nr)}}function getContainerSize(tr,Hn,er){let nr,ir;if(Hn===void 0||er===void 0){const rr=tr&&_getParentNode(tr);if(!rr)Hn=tr.clientWidth,er=tr.clientHeight;else{const sr=rr.getBoundingClientRect(),ar=getComputedStyle$2(rr),or=getPositionedStyle(ar,"border","width"),lr=getPositionedStyle(ar,"padding");Hn=sr.width-lr.width-or.width,er=sr.height-lr.height-or.height,nr=parseMaxStyle(ar.maxWidth,rr,"clientWidth"),ir=parseMaxStyle(ar.maxHeight,rr,"clientHeight")}}return{width:Hn,height:er,maxWidth:nr||INFINITY,maxHeight:ir||INFINITY}}const round1=tr=>Math.round(tr*10)/10;function getMaximumSize(tr,Hn,er,nr){const ir=getComputedStyle$2(tr),rr=getPositionedStyle(ir,"margin"),sr=parseMaxStyle(ir.maxWidth,tr,"clientWidth")||INFINITY,ar=parseMaxStyle(ir.maxHeight,tr,"clientHeight")||INFINITY,or=getContainerSize(tr,Hn,er);let{width:lr,height:cr}=or;if(ir.boxSizing==="content-box"){const dr=getPositionedStyle(ir,"border","width"),fr=getPositionedStyle(ir,"padding");lr-=fr.width+dr.width,cr-=fr.height+dr.height}return lr=Math.max(0,lr-rr.width),cr=Math.max(0,nr?lr/nr:cr-rr.height),lr=round1(Math.min(lr,sr,or.maxWidth)),cr=round1(Math.min(cr,ar,or.maxHeight)),lr&&!cr&&(cr=round1(lr/2)),(Hn!==void 0||er!==void 0)&&nr&&or.height&&cr>or.height&&(cr=or.height,lr=round1(Math.floor(cr*nr))),{width:lr,height:cr}}function retinaScale(tr,Hn,er){const nr=Hn||1,ir=round1(tr.height*nr),rr=round1(tr.width*nr);tr.height=round1(tr.height),tr.width=round1(tr.width);const sr=tr.canvas;return sr.style&&(er||!sr.style.height&&!sr.style.width)&&(sr.style.height=`${tr.height}px`,sr.style.width=`${tr.width}px`),tr.currentDevicePixelRatio!==nr||sr.height!==ir||sr.width!==rr?(tr.currentDevicePixelRatio=nr,sr.height=ir,sr.width=rr,tr.ctx.setTransform(nr,0,0,nr,0,0),!0):!1}const supportsEventListenerOptions=(function(){let tr=!1;try{const Hn={get passive(){return tr=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,Hn),window.removeEventListener("test",null,Hn))}catch{}return tr})();function readUsedSize(tr,Hn){const er=getStyle(tr,Hn),nr=er&&er.match(/^(\d+)(\.\d+)?px$/);return nr?+nr[1]:void 0}function _pointInLine(tr,Hn,er,nr){return{x:tr.x+er*(Hn.x-tr.x),y:tr.y+er*(Hn.y-tr.y)}}function _steppedInterpolation(tr,Hn,er,nr){return{x:tr.x+er*(Hn.x-tr.x),y:nr==="middle"?er<.5?tr.y:Hn.y:nr==="after"?er<1?tr.y:Hn.y:er>0?Hn.y:tr.y}}function _bezierInterpolation(tr,Hn,er,nr){const ir={x:tr.cp2x,y:tr.cp2y},rr={x:Hn.cp1x,y:Hn.cp1y},sr=_pointInLine(tr,ir,er),ar=_pointInLine(ir,rr,er),or=_pointInLine(rr,Hn,er),lr=_pointInLine(sr,ar,er),cr=_pointInLine(ar,or,er);return _pointInLine(lr,cr,er)}const getRightToLeftAdapter=function(tr,Hn){return{x(er){return tr+tr+Hn-er},setWidth(er){Hn=er},textAlign(er){return er==="center"?er:er==="right"?"left":"right"},xPlus(er,nr){return er-nr},leftForLtr(er,nr){return er-nr}}},getLeftToRightAdapter=function(){return{x(tr){return tr},setWidth(tr){},textAlign(tr){return tr},xPlus(tr,Hn){return tr+Hn},leftForLtr(tr,Hn){return tr}}};function getRtlAdapter(tr,Hn,er){return tr?getRightToLeftAdapter(Hn,er):getLeftToRightAdapter()}function overrideTextDirection(tr,Hn){let er,nr;(Hn==="ltr"||Hn==="rtl")&&(er=tr.canvas.style,nr=[er.getPropertyValue("direction"),er.getPropertyPriority("direction")],er.setProperty("direction",Hn,"important"),tr.prevTextDirection=nr)}function restoreTextDirection(tr,Hn){Hn!==void 0&&(delete tr.prevTextDirection,tr.canvas.style.setProperty("direction",Hn[0],Hn[1]))}function propertyFn(tr){return tr==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(Hn,er)=>Hn-er,normalize:Hn=>Hn}}function normalizeSegment({start:tr,end:Hn,count:er,loop:nr,style:ir}){return{start:tr%er,end:Hn%er,loop:nr&&(Hn-tr+1)%er===0,style:ir}}function getSegment(tr,Hn,er){const{property:nr,start:ir,end:rr}=er,{between:sr,normalize:ar}=propertyFn(nr),or=Hn.length;let{start:lr,end:cr,loop:ur}=tr,dr,fr;if(ur){for(lr+=or,cr+=or,dr=0,fr=or;dr<fr&&sr(ar(Hn[lr%or][nr]),ir,rr);++dr)lr--,cr--;lr%=or,cr%=or}return cr<lr&&(cr+=or),{start:lr,end:cr,loop:ur,style:tr.style}}function _boundSegment(tr,Hn,er){if(!er)return[tr];const{property:nr,start:ir,end:rr}=er,sr=Hn.length,{compare:ar,between:or,normalize:lr}=propertyFn(nr),{start:cr,end:ur,loop:dr,style:fr}=getSegment(tr,Hn,er),gr=[];let yr=!1,vr=null,jr,Sr,Tr;const Lr=()=>or(ir,Tr,jr)&&ar(ir,Tr)!==0,Mr=()=>ar(rr,jr)===0||or(rr,Tr,jr),Nr=()=>yr||Lr(),Or=()=>!yr||Mr();for(let Fr=cr,Gr=cr;Fr<=ur;++Fr)Sr=Hn[Fr%sr],!Sr.skip&&(jr=lr(Sr[nr]),jr!==Tr&&(yr=or(jr,ir,rr),vr===null&&Nr()&&(vr=ar(jr,ir)===0?Fr:Gr),vr!==null&&Or()&&(gr.push(normalizeSegment({start:vr,end:Fr,loop:dr,count:sr,style:fr})),vr=null),Gr=Fr,Tr=jr));return vr!==null&&gr.push(normalizeSegment({start:vr,end:ur,loop:dr,count:sr,style:fr})),gr}function _boundSegments(tr,Hn){const er=[],nr=tr.segments;for(let ir=0;ir<nr.length;ir++){const rr=_boundSegment(nr[ir],tr.points,Hn);rr.length&&er.push(...rr)}return er}function findStartAndEnd(tr,Hn,er,nr){let ir=0,rr=Hn-1;if(er&&!nr)for(;ir<Hn&&!tr[ir].skip;)ir++;for(;ir<Hn&&tr[ir].skip;)ir++;for(ir%=Hn,er&&(rr+=ir);rr>ir&&tr[rr%Hn].skip;)rr--;return rr%=Hn,{start:ir,end:rr}}function solidSegments(tr,Hn,er,nr){const ir=tr.length,rr=[];let sr=Hn,ar=tr[Hn],or;for(or=Hn+1;or<=er;++or){const lr=tr[or%ir];lr.skip||lr.stop?ar.skip||(nr=!1,rr.push({start:Hn%ir,end:(or-1)%ir,loop:nr}),Hn=sr=lr.stop?or:null):(sr=or,ar.skip&&(Hn=or)),ar=lr}return sr!==null&&rr.push({start:Hn%ir,end:sr%ir,loop:nr}),rr}function _computeSegments(tr,Hn){const er=tr.points,nr=tr.options.spanGaps,ir=er.length;if(!ir)return[];const rr=!!tr._loop,{start:sr,end:ar}=findStartAndEnd(er,ir,rr,nr);if(nr===!0)return splitByStyles(tr,[{start:sr,end:ar,loop:rr}],er,Hn);const or=ar<sr?ar+ir:ar,lr=!!tr._fullLoop&&sr===0&&ar===ir-1;return splitByStyles(tr,solidSegments(er,sr,or,lr),er,Hn)}function splitByStyles(tr,Hn,er,nr){return!nr||!nr.setContext||!er?Hn:doSplitByStyles(tr,Hn,er,nr)}function doSplitByStyles(tr,Hn,er,nr){const ir=tr._chart.getContext(),rr=readStyle(tr.options),{_datasetIndex:sr,options:{spanGaps:ar}}=tr,or=er.length,lr=[];let cr=rr,ur=Hn[0].start,dr=ur;function fr(gr,yr,vr,jr){const Sr=ar?-1:1;if(gr!==yr){for(gr+=or;er[gr%or].skip;)gr-=Sr;for(;er[yr%or].skip;)yr+=Sr;gr%or!==yr%or&&(lr.push({start:gr%or,end:yr%or,loop:vr,style:jr}),cr=jr,ur=yr%or)}}for(const gr of Hn){ur=ar?ur:gr.start;let yr=er[ur%or],vr;for(dr=ur+1;dr<=gr.end;dr++){const jr=er[dr%or];vr=readStyle(nr.setContext(createContext(ir,{type:"segment",p0:yr,p1:jr,p0DataIndex:(dr-1)%or,p1DataIndex:dr%or,datasetIndex:sr}))),styleChanged(vr,cr)&&fr(ur,dr-1,gr.loop,cr),yr=jr,cr=vr}ur<dr-1&&fr(ur,dr-1,gr.loop,cr)}return lr}function readStyle(tr){return{backgroundColor:tr.backgroundColor,borderCapStyle:tr.borderCapStyle,borderDash:tr.borderDash,borderDashOffset:tr.borderDashOffset,borderJoinStyle:tr.borderJoinStyle,borderWidth:tr.borderWidth,borderColor:tr.borderColor}}function styleChanged(tr,Hn){if(!Hn)return!1;const er=[],nr=function(ir,rr){return isPatternOrGradient(rr)?(er.includes(rr)||er.push(rr),er.indexOf(rr)):rr};return JSON.stringify(tr,nr)!==JSON.stringify(Hn,nr)}function getSizeForArea(tr,Hn,er){return tr.options.clip?tr[er]:Hn[er]}function getDatasetArea(tr,Hn){const{xScale:er,yScale:nr}=tr;return er&&nr?{left:getSizeForArea(er,Hn,"left"),right:getSizeForArea(er,Hn,"right"),top:getSizeForArea(nr,Hn,"top"),bottom:getSizeForArea(nr,Hn,"bottom")}:Hn}function getDatasetClipArea(tr,Hn){const er=Hn._clip;if(er.disabled)return!1;const nr=getDatasetArea(Hn,tr.chartArea);return{left:er.left===!1?0:nr.left-(er.left===!0?0:er.left),right:er.right===!1?tr.width:nr.right+(er.right===!0?0:er.right),top:er.top===!1?0:nr.top-(er.top===!0?0:er.top),bottom:er.bottom===!1?tr.height:nr.bottom+(er.bottom===!0?0:er.bottom)}}class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(Hn,er,nr,ir){const rr=er.listeners[ir],sr=er.duration;rr.forEach(ar=>ar({chart:Hn,initial:er.initial,numSteps:sr,currentStep:Math.min(nr-er.start,sr)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(Hn=Date.now()){let er=0;this._charts.forEach((nr,ir)=>{if(!nr.running||!nr.items.length)return;const rr=nr.items;let sr=rr.length-1,ar=!1,or;for(;sr>=0;--sr)or=rr[sr],or._active?(or._total>nr.duration&&(nr.duration=or._total),or.tick(Hn),ar=!0):(rr[sr]=rr[rr.length-1],rr.pop());ar&&(ir.draw(),this._notify(ir,nr,Hn,"progress")),rr.length||(nr.running=!1,this._notify(ir,nr,Hn,"complete"),nr.initial=!1),er+=rr.length}),this._lastDate=Hn,er===0&&(this._running=!1)}_getAnims(Hn){const er=this._charts;let nr=er.get(Hn);return nr||(nr={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},er.set(Hn,nr)),nr}listen(Hn,er,nr){this._getAnims(Hn).listeners[er].push(nr)}add(Hn,er){!er||!er.length||this._getAnims(Hn).items.push(...er)}has(Hn){return this._getAnims(Hn).items.length>0}start(Hn){const er=this._charts.get(Hn);er&&(er.running=!0,er.start=Date.now(),er.duration=er.items.reduce((nr,ir)=>Math.max(nr,ir._duration),0),this._refresh())}running(Hn){if(!this._running)return!1;const er=this._charts.get(Hn);return!(!er||!er.running||!er.items.length)}stop(Hn){const er=this._charts.get(Hn);if(!er||!er.items.length)return;const nr=er.items;let ir=nr.length-1;for(;ir>=0;--ir)nr[ir].cancel();er.items=[],this._notify(Hn,er,Date.now(),"complete")}remove(Hn){return this._charts.delete(Hn)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(tr,Hn,er){return er>.5?Hn:tr},color(tr,Hn,er){const nr=color$1(tr||transparent),ir=nr.valid&&color$1(Hn||transparent);return ir&&ir.valid?ir.mix(nr,er).hexString():Hn},number(tr,Hn,er){return tr+(Hn-tr)*er}};class Animation{constructor(Hn,er,nr,ir){const rr=er[nr];ir=resolve$1([Hn.to,ir,rr,Hn.from]);const sr=resolve$1([Hn.from,rr,ir]);this._active=!0,this._fn=Hn.fn||interpolators[Hn.type||typeof sr],this._easing=effects[Hn.easing]||effects.linear,this._start=Math.floor(Date.now()+(Hn.delay||0)),this._duration=this._total=Math.floor(Hn.duration),this._loop=!!Hn.loop,this._target=er,this._prop=nr,this._from=sr,this._to=ir,this._promises=void 0}active(){return this._active}update(Hn,er,nr){if(this._active){this._notify(!1);const ir=this._target[this._prop],rr=nr-this._start,sr=this._duration-rr;this._start=nr,this._duration=Math.floor(Math.max(sr,Hn.duration)),this._total+=rr,this._loop=!!Hn.loop,this._to=resolve$1([Hn.to,er,ir,Hn.from]),this._from=resolve$1([Hn.from,ir,er])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(Hn){const er=Hn-this._start,nr=this._duration,ir=this._prop,rr=this._from,sr=this._loop,ar=this._to;let or;if(this._active=rr!==ar&&(sr||er<nr),!this._active){this._target[ir]=ar,this._notify(!0);return}if(er<0){this._target[ir]=rr;return}or=er/nr%2,or=sr&&or>1?2-or:or,or=this._easing(Math.min(1,Math.max(0,or))),this._target[ir]=this._fn(rr,ar,or)}wait(){const Hn=this._promises||(this._promises=[]);return new Promise((er,nr)=>{Hn.push({res:er,rej:nr})})}_notify(Hn){const er=Hn?"res":"rej",nr=this._promises||[];for(let ir=0;ir<nr.length;ir++)nr[ir][er]()}}class Animations{constructor(Hn,er){this._chart=Hn,this._properties=new Map,this.configure(er)}configure(Hn){if(!isObject$2(Hn))return;const er=Object.keys(defaults$4.animation),nr=this._properties;Object.getOwnPropertyNames(Hn).forEach(ir=>{const rr=Hn[ir];if(!isObject$2(rr))return;const sr={};for(const ar of er)sr[ar]=rr[ar];(isArray$1(rr.properties)&&rr.properties||[ir]).forEach(ar=>{(ar===ir||!nr.has(ar))&&nr.set(ar,sr)})})}_animateOptions(Hn,er){const nr=er.options,ir=resolveTargetOptions(Hn,nr);if(!ir)return[];const rr=this._createAnimations(ir,nr);return nr.$shared&&awaitAll(Hn.options.$animations,nr).then(()=>{Hn.options=nr},()=>{}),rr}_createAnimations(Hn,er){const nr=this._properties,ir=[],rr=Hn.$animations||(Hn.$animations={}),sr=Object.keys(er),ar=Date.now();let or;for(or=sr.length-1;or>=0;--or){const lr=sr[or];if(lr.charAt(0)==="$")continue;if(lr==="options"){ir.push(...this._animateOptions(Hn,er));continue}const cr=er[lr];let ur=rr[lr];const dr=nr.get(lr);if(ur)if(dr&&ur.active()){ur.update(dr,cr,ar);continue}else ur.cancel();if(!dr||!dr.duration){Hn[lr]=cr;continue}rr[lr]=ur=new Animation(dr,Hn,lr,cr),ir.push(ur)}return ir}update(Hn,er){if(this._properties.size===0){Object.assign(Hn,er);return}const nr=this._createAnimations(Hn,er);if(nr.length)return animator.add(this._chart,nr),!0}}function awaitAll(tr,Hn){const er=[],nr=Object.keys(Hn);for(let ir=0;ir<nr.length;ir++){const rr=tr[nr[ir]];rr&&rr.active()&&er.push(rr.wait())}return Promise.all(er)}function resolveTargetOptions(tr,Hn){if(!Hn)return;let er=tr.options;if(!er){tr.options=Hn;return}return er.$shared&&(tr.options=er=Object.assign({},er,{$shared:!1,$animations:{}})),er}function scaleClip(tr,Hn){const er=tr&&tr.options||{},nr=er.reverse,ir=er.min===void 0?Hn:0,rr=er.max===void 0?Hn:0;return{start:nr?rr:ir,end:nr?ir:rr}}function defaultClip(tr,Hn,er){if(er===!1)return!1;const nr=scaleClip(tr,er),ir=scaleClip(Hn,er);return{top:ir.end,right:nr.end,bottom:ir.start,left:nr.start}}function toClip(tr){let Hn,er,nr,ir;return isObject$2(tr)?(Hn=tr.top,er=tr.right,nr=tr.bottom,ir=tr.left):Hn=er=nr=ir=tr,{top:Hn,right:er,bottom:nr,left:ir,disabled:tr===!1}}function getSortedDatasetIndices(tr,Hn){const er=[],nr=tr._getSortedDatasetMetas(Hn);let ir,rr;for(ir=0,rr=nr.length;ir<rr;++ir)er.push(nr[ir].index);return er}function applyStack(tr,Hn,er,nr={}){const ir=tr.keys,rr=nr.mode==="single";let sr,ar,or,lr;if(Hn===null)return;let cr=!1;for(sr=0,ar=ir.length;sr<ar;++sr){if(or=+ir[sr],or===er){if(cr=!0,nr.all)continue;break}lr=tr.values[or],isNumberFinite(lr)&&(rr||Hn===0||sign$1(Hn)===sign$1(lr))&&(Hn+=lr)}return!cr&&!nr.all?0:Hn}function convertObjectDataToArray(tr,Hn){const{iScale:er,vScale:nr}=Hn,ir=er.axis==="x"?"x":"y",rr=nr.axis==="x"?"x":"y",sr=Object.keys(tr),ar=new Array(sr.length);let or,lr,cr;for(or=0,lr=sr.length;or<lr;++or)cr=sr[or],ar[or]={[ir]:cr,[rr]:tr[cr]};return ar}function isStacked$1(tr,Hn){const er=tr&&tr.options.stacked;return er||er===void 0&&Hn.stack!==void 0}function getStackKey(tr,Hn,er){return`${tr.id}.${Hn.id}.${er.stack||er.type}`}function getUserBounds(tr){const{min:Hn,max:er,minDefined:nr,maxDefined:ir}=tr.getUserBounds();return{min:nr?Hn:Number.NEGATIVE_INFINITY,max:ir?er:Number.POSITIVE_INFINITY}}function getOrCreateStack(tr,Hn,er){const nr=tr[Hn]||(tr[Hn]={});return nr[er]||(nr[er]={})}function getLastIndexInStack(tr,Hn,er,nr){for(const ir of Hn.getMatchingVisibleMetas(nr).reverse()){const rr=tr[ir.index];if(er&&rr>0||!er&&rr<0)return ir.index}return null}function updateStacks(tr,Hn){const{chart:er,_cachedMeta:nr}=tr,ir=er._stacks||(er._stacks={}),{iScale:rr,vScale:sr,index:ar}=nr,or=rr.axis,lr=sr.axis,cr=getStackKey(rr,sr,nr),ur=Hn.length;let dr;for(let fr=0;fr<ur;++fr){const gr=Hn[fr],{[or]:yr,[lr]:vr}=gr,jr=gr._stacks||(gr._stacks={});dr=jr[lr]=getOrCreateStack(ir,cr,yr),dr[ar]=vr,dr._top=getLastIndexInStack(dr,sr,!0,nr.type),dr._bottom=getLastIndexInStack(dr,sr,!1,nr.type);const Sr=dr._visualValues||(dr._visualValues={});Sr[ar]=vr}}function getFirstScaleId(tr,Hn){const er=tr.scales;return Object.keys(er).filter(nr=>er[nr].axis===Hn).shift()}function createDatasetContext(tr,Hn){return createContext(tr,{active:!1,dataset:void 0,datasetIndex:Hn,index:Hn,mode:"default",type:"dataset"})}function createDataContext(tr,Hn,er){return createContext(tr,{active:!1,dataIndex:Hn,parsed:void 0,raw:void 0,element:er,index:Hn,mode:"default",type:"data"})}function clearStacks(tr,Hn){const er=tr.controller.index,nr=tr.vScale&&tr.vScale.axis;if(nr){Hn=Hn||tr._parsed;for(const ir of Hn){const rr=ir._stacks;if(!rr||rr[nr]===void 0||rr[nr][er]===void 0)return;delete rr[nr][er],rr[nr]._visualValues!==void 0&&rr[nr]._visualValues[er]!==void 0&&delete rr[nr]._visualValues[er]}}}const isDirectUpdateMode=tr=>tr==="reset"||tr==="none",cloneIfNotShared=(tr,Hn)=>Hn?tr:Object.assign({},tr),createStack=(tr,Hn,er)=>tr&&!Hn.hidden&&Hn._stacked&&{keys:getSortedDatasetIndices(er,!0),values:null};class DatasetController{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(Hn,er){this.chart=Hn,this._ctx=Hn.ctx,this.index=er,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const Hn=this._cachedMeta;this.configure(),this.linkScales(),Hn._stacked=isStacked$1(Hn.vScale,Hn),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(Hn){this.index!==Hn&&clearStacks(this._cachedMeta),this.index=Hn}linkScales(){const Hn=this.chart,er=this._cachedMeta,nr=this.getDataset(),ir=(ur,dr,fr,gr)=>ur==="x"?dr:ur==="r"?gr:fr,rr=er.xAxisID=valueOrDefault(nr.xAxisID,getFirstScaleId(Hn,"x")),sr=er.yAxisID=valueOrDefault(nr.yAxisID,getFirstScaleId(Hn,"y")),ar=er.rAxisID=valueOrDefault(nr.rAxisID,getFirstScaleId(Hn,"r")),or=er.indexAxis,lr=er.iAxisID=ir(or,rr,sr,ar),cr=er.vAxisID=ir(or,sr,rr,ar);er.xScale=this.getScaleForId(rr),er.yScale=this.getScaleForId(sr),er.rScale=this.getScaleForId(ar),er.iScale=this.getScaleForId(lr),er.vScale=this.getScaleForId(cr)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(Hn){return this.chart.scales[Hn]}_getOtherScale(Hn){const er=this._cachedMeta;return Hn===er.iScale?er.vScale:er.iScale}reset(){this._update("reset")}_destroy(){const Hn=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),Hn._stacked&&clearStacks(Hn)}_dataCheck(){const Hn=this.getDataset(),er=Hn.data||(Hn.data=[]),nr=this._data;if(isObject$2(er)){const ir=this._cachedMeta;this._data=convertObjectDataToArray(er,ir)}else if(nr!==er){if(nr){unlistenArrayEvents(nr,this);const ir=this._cachedMeta;clearStacks(ir),ir._parsed=[]}er&&Object.isExtensible(er)&&listenArrayEvents(er,this),this._syncList=[],this._data=er}}addElements(){const Hn=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(Hn.dataset=new this.datasetElementType)}buildOrUpdateElements(Hn){const er=this._cachedMeta,nr=this.getDataset();let ir=!1;this._dataCheck();const rr=er._stacked;er._stacked=isStacked$1(er.vScale,er),er.stack!==nr.stack&&(ir=!0,clearStacks(er),er.stack=nr.stack),this._resyncElements(Hn),(ir||rr!==er._stacked)&&(updateStacks(this,er._parsed),er._stacked=isStacked$1(er.vScale,er))}configure(){const Hn=this.chart.config,er=Hn.datasetScopeKeys(this._type),nr=Hn.getOptionScopes(this.getDataset(),er,!0);this.options=Hn.createResolver(nr,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(Hn,er){const{_cachedMeta:nr,_data:ir}=this,{iScale:rr,_stacked:sr}=nr,ar=rr.axis;let or=Hn===0&&er===ir.length?!0:nr._sorted,lr=Hn>0&&nr._parsed[Hn-1],cr,ur,dr;if(this._parsing===!1)nr._parsed=ir,nr._sorted=!0,dr=ir;else{isArray$1(ir[Hn])?dr=this.parseArrayData(nr,ir,Hn,er):isObject$2(ir[Hn])?dr=this.parseObjectData(nr,ir,Hn,er):dr=this.parsePrimitiveData(nr,ir,Hn,er);const fr=()=>ur[ar]===null||lr&&ur[ar]<lr[ar];for(cr=0;cr<er;++cr)nr._parsed[cr+Hn]=ur=dr[cr],or&&(fr()&&(or=!1),lr=ur);nr._sorted=or}sr&&updateStacks(this,dr)}parsePrimitiveData(Hn,er,nr,ir){const{iScale:rr,vScale:sr}=Hn,ar=rr.axis,or=sr.axis,lr=rr.getLabels(),cr=rr===sr,ur=new Array(ir);let dr,fr,gr;for(dr=0,fr=ir;dr<fr;++dr)gr=dr+nr,ur[dr]={[ar]:cr||rr.parse(lr[gr],gr),[or]:sr.parse(er[gr],gr)};return ur}parseArrayData(Hn,er,nr,ir){const{xScale:rr,yScale:sr}=Hn,ar=new Array(ir);let or,lr,cr,ur;for(or=0,lr=ir;or<lr;++or)cr=or+nr,ur=er[cr],ar[or]={x:rr.parse(ur[0],cr),y:sr.parse(ur[1],cr)};return ar}parseObjectData(Hn,er,nr,ir){const{xScale:rr,yScale:sr}=Hn,{xAxisKey:ar="x",yAxisKey:or="y"}=this._parsing,lr=new Array(ir);let cr,ur,dr,fr;for(cr=0,ur=ir;cr<ur;++cr)dr=cr+nr,fr=er[dr],lr[cr]={x:rr.parse(resolveObjectKey(fr,ar),dr),y:sr.parse(resolveObjectKey(fr,or),dr)};return lr}getParsed(Hn){return this._cachedMeta._parsed[Hn]}getDataElement(Hn){return this._cachedMeta.data[Hn]}applyStack(Hn,er,nr){const ir=this.chart,rr=this._cachedMeta,sr=er[Hn.axis],ar={keys:getSortedDatasetIndices(ir,!0),values:er._stacks[Hn.axis]._visualValues};return applyStack(ar,sr,rr.index,{mode:nr})}updateRangeFromParsed(Hn,er,nr,ir){const rr=nr[er.axis];let sr=rr===null?NaN:rr;const ar=ir&&nr._stacks[er.axis];ir&&ar&&(ir.values=ar,sr=applyStack(ir,rr,this._cachedMeta.index)),Hn.min=Math.min(Hn.min,sr),Hn.max=Math.max(Hn.max,sr)}getMinMax(Hn,er){const nr=this._cachedMeta,ir=nr._parsed,rr=nr._sorted&&Hn===nr.iScale,sr=ir.length,ar=this._getOtherScale(Hn),or=createStack(er,nr,this.chart),lr={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:cr,max:ur}=getUserBounds(ar);let dr,fr;function gr(){fr=ir[dr];const yr=fr[ar.axis];return!isNumberFinite(fr[Hn.axis])||cr>yr||ur<yr}for(dr=0;dr<sr&&!(!gr()&&(this.updateRangeFromParsed(lr,Hn,fr,or),rr));++dr);if(rr){for(dr=sr-1;dr>=0;--dr)if(!gr()){this.updateRangeFromParsed(lr,Hn,fr,or);break}}return lr}getAllParsedValues(Hn){const er=this._cachedMeta._parsed,nr=[];let ir,rr,sr;for(ir=0,rr=er.length;ir<rr;++ir)sr=er[ir][Hn.axis],isNumberFinite(sr)&&nr.push(sr);return nr}getMaxOverflow(){return!1}getLabelAndValue(Hn){const er=this._cachedMeta,nr=er.iScale,ir=er.vScale,rr=this.getParsed(Hn);return{label:nr?""+nr.getLabelForValue(rr[nr.axis]):"",value:ir?""+ir.getLabelForValue(rr[ir.axis]):""}}_update(Hn){const er=this._cachedMeta;this.update(Hn||"default"),er._clip=toClip(valueOrDefault(this.options.clip,defaultClip(er.xScale,er.yScale,this.getMaxOverflow())))}update(Hn){}draw(){const Hn=this._ctx,er=this.chart,nr=this._cachedMeta,ir=nr.data||[],rr=er.chartArea,sr=[],ar=this._drawStart||0,or=this._drawCount||ir.length-ar,lr=this.options.drawActiveElementsOnTop;let cr;for(nr.dataset&&nr.dataset.draw(Hn,rr,ar,or),cr=ar;cr<ar+or;++cr){const ur=ir[cr];ur.hidden||(ur.active&&lr?sr.push(ur):ur.draw(Hn,rr))}for(cr=0;cr<sr.length;++cr)sr[cr].draw(Hn,rr)}getStyle(Hn,er){const nr=er?"active":"default";return Hn===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(nr):this.resolveDataElementOptions(Hn||0,nr)}getContext(Hn,er,nr){const ir=this.getDataset();let rr;if(Hn>=0&&Hn<this._cachedMeta.data.length){const sr=this._cachedMeta.data[Hn];rr=sr.$context||(sr.$context=createDataContext(this.getContext(),Hn,sr)),rr.parsed=this.getParsed(Hn),rr.raw=ir.data[Hn],rr.index=rr.dataIndex=Hn}else rr=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),rr.dataset=ir,rr.index=rr.datasetIndex=this.index;return rr.active=!!er,rr.mode=nr,rr}resolveDatasetElementOptions(Hn){return this._resolveElementOptions(this.datasetElementType.id,Hn)}resolveDataElementOptions(Hn,er){return this._resolveElementOptions(this.dataElementType.id,er,Hn)}_resolveElementOptions(Hn,er="default",nr){const ir=er==="active",rr=this._cachedDataOpts,sr=Hn+"-"+er,ar=rr[sr],or=this.enableOptionSharing&&defined$1(nr);if(ar)return cloneIfNotShared(ar,or);const lr=this.chart.config,cr=lr.datasetElementScopeKeys(this._type,Hn),ur=ir?[`${Hn}Hover`,"hover",Hn,""]:[Hn,""],dr=lr.getOptionScopes(this.getDataset(),cr),fr=Object.keys(defaults$4.elements[Hn]),gr=()=>this.getContext(nr,ir,er),yr=lr.resolveNamedOptions(dr,fr,gr,ur);return yr.$shared&&(yr.$shared=or,rr[sr]=Object.freeze(cloneIfNotShared(yr,or))),yr}_resolveAnimations(Hn,er,nr){const ir=this.chart,rr=this._cachedDataOpts,sr=`animation-${er}`,ar=rr[sr];if(ar)return ar;let or;if(ir.options.animation!==!1){const cr=this.chart.config,ur=cr.datasetAnimationScopeKeys(this._type,er),dr=cr.getOptionScopes(this.getDataset(),ur);or=cr.createResolver(dr,this.getContext(Hn,nr,er))}const lr=new Animations(ir,or&&or.animations);return or&&or._cacheable&&(rr[sr]=Object.freeze(lr)),lr}getSharedOptions(Hn){if(Hn.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},Hn))}includeOptions(Hn,er){return!er||isDirectUpdateMode(Hn)||this.chart._animationsDisabled}_getSharedOptions(Hn,er){const nr=this.resolveDataElementOptions(Hn,er),ir=this._sharedOptions,rr=this.getSharedOptions(nr),sr=this.includeOptions(er,rr)||rr!==ir;return this.updateSharedOptions(rr,er,nr),{sharedOptions:rr,includeOptions:sr}}updateElement(Hn,er,nr,ir){isDirectUpdateMode(ir)?Object.assign(Hn,nr):this._resolveAnimations(er,ir).update(Hn,nr)}updateSharedOptions(Hn,er,nr){Hn&&!isDirectUpdateMode(er)&&this._resolveAnimations(void 0,er).update(Hn,nr)}_setStyle(Hn,er,nr,ir){Hn.active=ir;const rr=this.getStyle(er,ir);this._resolveAnimations(er,nr,ir).update(Hn,{options:!ir&&this.getSharedOptions(rr)||rr})}removeHoverStyle(Hn,er,nr){this._setStyle(Hn,nr,"active",!1)}setHoverStyle(Hn,er,nr){this._setStyle(Hn,nr,"active",!0)}_removeDatasetHoverStyle(){const Hn=this._cachedMeta.dataset;Hn&&this._setStyle(Hn,void 0,"active",!1)}_setDatasetHoverStyle(){const Hn=this._cachedMeta.dataset;Hn&&this._setStyle(Hn,void 0,"active",!0)}_resyncElements(Hn){const er=this._data,nr=this._cachedMeta.data;for(const[ar,or,lr]of this._syncList)this[ar](or,lr);this._syncList=[];const ir=nr.length,rr=er.length,sr=Math.min(rr,ir);sr&&this.parse(0,sr),rr>ir?this._insertElements(ir,rr-ir,Hn):rr<ir&&this._removeElements(rr,ir-rr)}_insertElements(Hn,er,nr=!0){const ir=this._cachedMeta,rr=ir.data,sr=Hn+er;let ar;const or=lr=>{for(lr.length+=er,ar=lr.length-1;ar>=sr;ar--)lr[ar]=lr[ar-er]};for(or(rr),ar=Hn;ar<sr;++ar)rr[ar]=new this.dataElementType;this._parsing&&or(ir._parsed),this.parse(Hn,er),nr&&this.updateElements(rr,Hn,er,"reset")}updateElements(Hn,er,nr,ir){}_removeElements(Hn,er){const nr=this._cachedMeta;if(this._parsing){const ir=nr._parsed.splice(Hn,er);nr._stacked&&clearStacks(nr,ir)}nr.data.splice(Hn,er)}_sync(Hn){if(this._parsing)this._syncList.push(Hn);else{const[er,nr,ir]=Hn;this[er](nr,ir)}this.chart._dataChanges.push([this.index,...Hn])}_onDataPush(){const Hn=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-Hn,Hn])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(Hn,er){er&&this._sync(["_removeElements",Hn,er]);const nr=arguments.length-2;nr&&this._sync(["_insertElements",Hn,nr])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(tr,Hn){if(!tr._cache.$bar){const er=tr.getMatchingVisibleMetas(Hn);let nr=[];for(let ir=0,rr=er.length;ir<rr;ir++)nr=nr.concat(er[ir].controller.getAllParsedValues(tr));tr._cache.$bar=_arrayUnique(nr.sort((ir,rr)=>ir-rr))}return tr._cache.$bar}function computeMinSampleSize(tr){const Hn=tr.iScale,er=getAllScaleValues(Hn,tr.type);let nr=Hn._length,ir,rr,sr,ar;const or=()=>{sr===32767||sr===-32768||(defined$1(ar)&&(nr=Math.min(nr,Math.abs(sr-ar)||nr)),ar=sr)};for(ir=0,rr=er.length;ir<rr;++ir)sr=Hn.getPixelForValue(er[ir]),or();for(ar=void 0,ir=0,rr=Hn.ticks.length;ir<rr;++ir)sr=Hn.getPixelForTick(ir),or();return nr}function computeFitCategoryTraits(tr,Hn,er,nr){const ir=er.barThickness;let rr,sr;return isNullOrUndef(ir)?(rr=Hn.min*er.categoryPercentage,sr=er.barPercentage):(rr=ir*nr,sr=1),{chunk:rr/nr,ratio:sr,start:Hn.pixels[tr]-rr/2}}function computeFlexCategoryTraits(tr,Hn,er,nr){const ir=Hn.pixels,rr=ir[tr];let sr=tr>0?ir[tr-1]:null,ar=tr<ir.length-1?ir[tr+1]:null;const or=er.categoryPercentage;sr===null&&(sr=rr-(ar===null?Hn.end-Hn.start:ar-rr)),ar===null&&(ar=rr+rr-sr);const lr=rr-(rr-Math.min(sr,ar))/2*or;return{chunk:Math.abs(ar-sr)/2*or/nr,ratio:er.barPercentage,start:lr}}function parseFloatBar(tr,Hn,er,nr){const ir=er.parse(tr[0],nr),rr=er.parse(tr[1],nr),sr=Math.min(ir,rr),ar=Math.max(ir,rr);let or=sr,lr=ar;Math.abs(sr)>Math.abs(ar)&&(or=ar,lr=sr),Hn[er.axis]=lr,Hn._custom={barStart:or,barEnd:lr,start:ir,end:rr,min:sr,max:ar}}function parseValue(tr,Hn,er,nr){return isArray$1(tr)?parseFloatBar(tr,Hn,er,nr):Hn[er.axis]=er.parse(tr,nr),Hn}function parseArrayOrPrimitive(tr,Hn,er,nr){const ir=tr.iScale,rr=tr.vScale,sr=ir.getLabels(),ar=ir===rr,or=[];let lr,cr,ur,dr;for(lr=er,cr=er+nr;lr<cr;++lr)dr=Hn[lr],ur={},ur[ir.axis]=ar||ir.parse(sr[lr],lr),or.push(parseValue(dr,ur,rr,lr));return or}function isFloatBar(tr){return tr&&tr.barStart!==void 0&&tr.barEnd!==void 0}function barSign(tr,Hn,er){return tr!==0?sign$1(tr):(Hn.isHorizontal()?1:-1)*(Hn.min>=er?1:-1)}function borderProps(tr){let Hn,er,nr,ir,rr;return tr.horizontal?(Hn=tr.base>tr.x,er="left",nr="right"):(Hn=tr.base<tr.y,er="bottom",nr="top"),Hn?(ir="end",rr="start"):(ir="start",rr="end"),{start:er,end:nr,reverse:Hn,top:ir,bottom:rr}}function setBorderSkipped(tr,Hn,er,nr){let ir=Hn.borderSkipped;const rr={};if(!ir){tr.borderSkipped=rr;return}if(ir===!0){tr.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:sr,end:ar,reverse:or,top:lr,bottom:cr}=borderProps(tr);ir==="middle"&&er&&(tr.enableBorderRadius=!0,(er._top||0)===nr?ir=lr:(er._bottom||0)===nr?ir=cr:(rr[parseEdge(cr,sr,ar,or)]=!0,ir=lr)),rr[parseEdge(ir,sr,ar,or)]=!0,tr.borderSkipped=rr}function parseEdge(tr,Hn,er,nr){return nr?(tr=swap$1(tr,Hn,er),tr=startEnd(tr,er,Hn)):tr=startEnd(tr,Hn,er),tr}function swap$1(tr,Hn,er){return tr===Hn?er:tr===er?Hn:tr}function startEnd(tr,Hn,er){return tr==="start"?Hn:tr==="end"?er:tr}function setInflateAmount(tr,{inflateAmount:Hn},er){tr.inflateAmount=Hn==="auto"?er===1?.33:0:Hn}class BarController extends DatasetController{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(Hn,er,nr,ir){return parseArrayOrPrimitive(Hn,er,nr,ir)}parseArrayData(Hn,er,nr,ir){return parseArrayOrPrimitive(Hn,er,nr,ir)}parseObjectData(Hn,er,nr,ir){const{iScale:rr,vScale:sr}=Hn,{xAxisKey:ar="x",yAxisKey:or="y"}=this._parsing,lr=rr.axis==="x"?ar:or,cr=sr.axis==="x"?ar:or,ur=[];let dr,fr,gr,yr;for(dr=nr,fr=nr+ir;dr<fr;++dr)yr=er[dr],gr={},gr[rr.axis]=rr.parse(resolveObjectKey(yr,lr),dr),ur.push(parseValue(resolveObjectKey(yr,cr),gr,sr,dr));return ur}updateRangeFromParsed(Hn,er,nr,ir){super.updateRangeFromParsed(Hn,er,nr,ir);const rr=nr._custom;rr&&er===this._cachedMeta.vScale&&(Hn.min=Math.min(Hn.min,rr.min),Hn.max=Math.max(Hn.max,rr.max))}getMaxOverflow(){return 0}getLabelAndValue(Hn){const er=this._cachedMeta,{iScale:nr,vScale:ir}=er,rr=this.getParsed(Hn),sr=rr._custom,ar=isFloatBar(sr)?"["+sr.start+", "+sr.end+"]":""+ir.getLabelForValue(rr[ir.axis]);return{label:""+nr.getLabelForValue(rr[nr.axis]),value:ar}}initialize(){this.enableOptionSharing=!0,super.initialize();const Hn=this._cachedMeta;Hn.stack=this.getDataset().stack}update(Hn){const er=this._cachedMeta;this.updateElements(er.data,0,er.data.length,Hn)}updateElements(Hn,er,nr,ir){const rr=ir==="reset",{index:sr,_cachedMeta:{vScale:ar}}=this,or=ar.getBasePixel(),lr=ar.isHorizontal(),cr=this._getRuler(),{sharedOptions:ur,includeOptions:dr}=this._getSharedOptions(er,ir);for(let fr=er;fr<er+nr;fr++){const gr=this.getParsed(fr),yr=rr||isNullOrUndef(gr[ar.axis])?{base:or,head:or}:this._calculateBarValuePixels(fr),vr=this._calculateBarIndexPixels(fr,cr),jr=(gr._stacks||{})[ar.axis],Sr={horizontal:lr,base:yr.base,enableBorderRadius:!jr||isFloatBar(gr._custom)||sr===jr._top||sr===jr._bottom,x:lr?yr.head:vr.center,y:lr?vr.center:yr.head,height:lr?vr.size:Math.abs(yr.size),width:lr?Math.abs(yr.size):vr.size};dr&&(Sr.options=ur||this.resolveDataElementOptions(fr,Hn[fr].active?"active":ir));const Tr=Sr.options||Hn[fr].options;setBorderSkipped(Sr,Tr,jr,sr),setInflateAmount(Sr,Tr,cr.ratio),this.updateElement(Hn[fr],fr,Sr,ir)}}_getStacks(Hn,er){const{iScale:nr}=this._cachedMeta,ir=nr.getMatchingVisibleMetas(this._type).filter(cr=>cr.controller.options.grouped),rr=nr.options.stacked,sr=[],ar=this._cachedMeta.controller.getParsed(er),or=ar&&ar[nr.axis],lr=cr=>{const ur=cr._parsed.find(fr=>fr[nr.axis]===or),dr=ur&&ur[cr.vScale.axis];if(isNullOrUndef(dr)||isNaN(dr))return!0};for(const cr of ir)if(!(er!==void 0&&lr(cr))&&((rr===!1||sr.indexOf(cr.stack)===-1||rr===void 0&&cr.stack===void 0)&&sr.push(cr.stack),cr.index===Hn))break;return sr.length||sr.push(void 0),sr}_getStackCount(Hn){return this._getStacks(void 0,Hn).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const Hn=this.chart.scales,er=this.chart.options.indexAxis;return Object.keys(Hn).filter(nr=>Hn[nr].axis===er).shift()}_getAxis(){const Hn={},er=this.getFirstScaleIdForIndexAxis();for(const nr of this.chart.data.datasets)Hn[valueOrDefault(this.chart.options.indexAxis==="x"?nr.xAxisID:nr.yAxisID,er)]=!0;return Object.keys(Hn)}_getStackIndex(Hn,er,nr){const ir=this._getStacks(Hn,nr),rr=er!==void 0?ir.indexOf(er):-1;return rr===-1?ir.length-1:rr}_getRuler(){const Hn=this.options,er=this._cachedMeta,nr=er.iScale,ir=[];let rr,sr;for(rr=0,sr=er.data.length;rr<sr;++rr)ir.push(nr.getPixelForValue(this.getParsed(rr)[nr.axis],rr));const ar=Hn.barThickness;return{min:ar||computeMinSampleSize(er),pixels:ir,start:nr._startPixel,end:nr._endPixel,stackCount:this._getStackCount(),scale:nr,grouped:Hn.grouped,ratio:ar?1:Hn.categoryPercentage*Hn.barPercentage}}_calculateBarValuePixels(Hn){const{_cachedMeta:{vScale:er,_stacked:nr,index:ir},options:{base:rr,minBarLength:sr}}=this,ar=rr||0,or=this.getParsed(Hn),lr=or._custom,cr=isFloatBar(lr);let ur=or[er.axis],dr=0,fr=nr?this.applyStack(er,or,nr):ur,gr,yr;fr!==ur&&(dr=fr-ur,fr=ur),cr&&(ur=lr.barStart,fr=lr.barEnd-lr.barStart,ur!==0&&sign$1(ur)!==sign$1(lr.barEnd)&&(dr=0),dr+=ur);const vr=!isNullOrUndef(rr)&&!cr?rr:dr;let jr=er.getPixelForValue(vr);if(this.chart.getDataVisibility(Hn)?gr=er.getPixelForValue(dr+fr):gr=jr,yr=gr-jr,Math.abs(yr)<sr){yr=barSign(yr,er,ar)*sr,ur===ar&&(jr-=yr/2);const Sr=er.getPixelForDecimal(0),Tr=er.getPixelForDecimal(1),Lr=Math.min(Sr,Tr),Mr=Math.max(Sr,Tr);jr=Math.max(Math.min(jr,Mr),Lr),gr=jr+yr,nr&&!cr&&(or._stacks[er.axis]._visualValues[ir]=er.getValueForPixel(gr)-er.getValueForPixel(jr))}if(jr===er.getPixelForValue(ar)){const Sr=sign$1(yr)*er.getLineWidthForValue(ar)/2;jr+=Sr,yr-=Sr}return{size:yr,base:jr,head:gr,center:gr+yr/2}}_calculateBarIndexPixels(Hn,er){const nr=er.scale,ir=this.options,rr=ir.skipNull,sr=valueOrDefault(ir.maxBarThickness,1/0);let ar,or;const lr=this._getAxisCount();if(er.grouped){const cr=rr?this._getStackCount(Hn):er.stackCount,ur=ir.barThickness==="flex"?computeFlexCategoryTraits(Hn,er,ir,cr*lr):computeFitCategoryTraits(Hn,er,ir,cr*lr),dr=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,fr=this._getAxis().indexOf(valueOrDefault(dr,this.getFirstScaleIdForIndexAxis())),gr=this._getStackIndex(this.index,this._cachedMeta.stack,rr?Hn:void 0)+fr;ar=ur.start+ur.chunk*gr+ur.chunk/2,or=Math.min(sr,ur.chunk*ur.ratio)}else ar=nr.getPixelForValue(this.getParsed(Hn)[nr.axis],Hn),or=Math.min(sr,er.min*er.ratio);return{base:ar-or/2,head:ar+or/2,center:ar,size:or}}draw(){const Hn=this._cachedMeta,er=Hn.vScale,nr=Hn.data,ir=nr.length;let rr=0;for(;rr<ir;++rr)this.getParsed(rr)[er.axis]!==null&&!nr[rr].hidden&&nr[rr].draw(this._ctx)}}class BubbleController extends DatasetController{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(Hn,er,nr,ir){const rr=super.parsePrimitiveData(Hn,er,nr,ir);for(let sr=0;sr<rr.length;sr++)rr[sr]._custom=this.resolveDataElementOptions(sr+nr).radius;return rr}parseArrayData(Hn,er,nr,ir){const rr=super.parseArrayData(Hn,er,nr,ir);for(let sr=0;sr<rr.length;sr++){const ar=er[nr+sr];rr[sr]._custom=valueOrDefault(ar[2],this.resolveDataElementOptions(sr+nr).radius)}return rr}parseObjectData(Hn,er,nr,ir){const rr=super.parseObjectData(Hn,er,nr,ir);for(let sr=0;sr<rr.length;sr++){const ar=er[nr+sr];rr[sr]._custom=valueOrDefault(ar&&ar.r&&+ar.r,this.resolveDataElementOptions(sr+nr).radius)}return rr}getMaxOverflow(){const Hn=this._cachedMeta.data;let er=0;for(let nr=Hn.length-1;nr>=0;--nr)er=Math.max(er,Hn[nr].size(this.resolveDataElementOptions(nr))/2);return er>0&&er}getLabelAndValue(Hn){const er=this._cachedMeta,nr=this.chart.data.labels||[],{xScale:ir,yScale:rr}=er,sr=this.getParsed(Hn),ar=ir.getLabelForValue(sr.x),or=rr.getLabelForValue(sr.y),lr=sr._custom;return{label:nr[Hn]||"",value:"("+ar+", "+or+(lr?", "+lr:"")+")"}}update(Hn){const er=this._cachedMeta.data;this.updateElements(er,0,er.length,Hn)}updateElements(Hn,er,nr,ir){const rr=ir==="reset",{iScale:sr,vScale:ar}=this._cachedMeta,{sharedOptions:or,includeOptions:lr}=this._getSharedOptions(er,ir),cr=sr.axis,ur=ar.axis;for(let dr=er;dr<er+nr;dr++){const fr=Hn[dr],gr=!rr&&this.getParsed(dr),yr={},vr=yr[cr]=rr?sr.getPixelForDecimal(.5):sr.getPixelForValue(gr[cr]),jr=yr[ur]=rr?ar.getBasePixel():ar.getPixelForValue(gr[ur]);yr.skip=isNaN(vr)||isNaN(jr),lr&&(yr.options=or||this.resolveDataElementOptions(dr,fr.active?"active":ir),rr&&(yr.options.radius=0)),this.updateElement(fr,dr,yr,ir)}}resolveDataElementOptions(Hn,er){const nr=this.getParsed(Hn);let ir=super.resolveDataElementOptions(Hn,er);ir.$shared&&(ir=Object.assign({},ir,{$shared:!1}));const rr=ir.radius;return er!=="active"&&(ir.radius=0),ir.radius+=valueOrDefault(nr&&nr._custom,rr),ir}}function getRatioAndOffset(tr,Hn,er){let nr=1,ir=1,rr=0,sr=0;if(Hn<TAU){const ar=tr,or=ar+Hn,lr=Math.cos(ar),cr=Math.sin(ar),ur=Math.cos(or),dr=Math.sin(or),fr=(Tr,Lr,Mr)=>_angleBetween(Tr,ar,or,!0)?1:Math.max(Lr,Lr*er,Mr,Mr*er),gr=(Tr,Lr,Mr)=>_angleBetween(Tr,ar,or,!0)?-1:Math.min(Lr,Lr*er,Mr,Mr*er),yr=fr(0,lr,ur),vr=fr(HALF_PI,cr,dr),jr=gr(PI,lr,ur),Sr=gr(PI+HALF_PI,cr,dr);nr=(yr-jr)/2,ir=(vr-Sr)/2,rr=-(yr+jr)/2,sr=-(vr+Sr)/2}return{ratioX:nr,ratioY:ir,offsetX:rr,offsetY:sr}}class DoughnutController extends DatasetController{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:Hn=>Hn!=="spacing",_indexable:Hn=>Hn!=="spacing"&&!Hn.startsWith("borderDash")&&!Hn.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(Hn){const er=Hn.data,{labels:{pointStyle:nr,textAlign:ir,color:rr,useBorderRadius:sr,borderRadius:ar}}=Hn.legend.options;return er.labels.length&&er.datasets.length?er.labels.map((or,lr)=>{const ur=Hn.getDatasetMeta(0).controller.getStyle(lr);return{text:or,fillStyle:ur.backgroundColor,fontColor:rr,hidden:!Hn.getDataVisibility(lr),lineDash:ur.borderDash,lineDashOffset:ur.borderDashOffset,lineJoin:ur.borderJoinStyle,lineWidth:ur.borderWidth,strokeStyle:ur.borderColor,textAlign:ir,pointStyle:nr,borderRadius:sr&&(ar||ur.borderRadius),index:lr}}):[]}},onClick(Hn,er,nr){nr.chart.toggleDataVisibility(er.index),nr.chart.update()}}}};constructor(Hn,er){super(Hn,er),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(Hn,er){const nr=this.getDataset().data,ir=this._cachedMeta;if(this._parsing===!1)ir._parsed=nr;else{let rr=or=>+nr[or];if(isObject$2(nr[Hn])){const{key:or="value"}=this._parsing;rr=lr=>+resolveObjectKey(nr[lr],or)}let sr,ar;for(sr=Hn,ar=Hn+er;sr<ar;++sr)ir._parsed[sr]=rr(sr)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let Hn=TAU,er=-TAU;for(let nr=0;nr<this.chart.data.datasets.length;++nr)if(this.chart.isDatasetVisible(nr)&&this.chart.getDatasetMeta(nr).type===this._type){const ir=this.chart.getDatasetMeta(nr).controller,rr=ir._getRotation(),sr=ir._getCircumference();Hn=Math.min(Hn,rr),er=Math.max(er,rr+sr)}return{rotation:Hn,circumference:er-Hn}}update(Hn){const er=this.chart,{chartArea:nr}=er,ir=this._cachedMeta,rr=ir.data,sr=this.getMaxBorderWidth()+this.getMaxOffset(rr)+this.options.spacing,ar=Math.max((Math.min(nr.width,nr.height)-sr)/2,0),or=Math.min(toPercentage(this.options.cutout,ar),1),lr=this._getRingWeight(this.index),{circumference:cr,rotation:ur}=this._getRotationExtents(),{ratioX:dr,ratioY:fr,offsetX:gr,offsetY:yr}=getRatioAndOffset(ur,cr,or),vr=(nr.width-sr)/dr,jr=(nr.height-sr)/fr,Sr=Math.max(Math.min(vr,jr)/2,0),Tr=toDimension(this.options.radius,Sr),Lr=Math.max(Tr*or,0),Mr=(Tr-Lr)/this._getVisibleDatasetWeightTotal();this.offsetX=gr*Tr,this.offsetY=yr*Tr,ir.total=this.calculateTotal(),this.outerRadius=Tr-Mr*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Mr*lr,0),this.updateElements(rr,0,rr.length,Hn)}_circumference(Hn,er){const nr=this.options,ir=this._cachedMeta,rr=this._getCircumference();return er&&nr.animation.animateRotate||!this.chart.getDataVisibility(Hn)||ir._parsed[Hn]===null||ir.data[Hn].hidden?0:this.calculateCircumference(ir._parsed[Hn]*rr/TAU)}updateElements(Hn,er,nr,ir){const rr=ir==="reset",sr=this.chart,ar=sr.chartArea,lr=sr.options.animation,cr=(ar.left+ar.right)/2,ur=(ar.top+ar.bottom)/2,dr=rr&&lr.animateScale,fr=dr?0:this.innerRadius,gr=dr?0:this.outerRadius,{sharedOptions:yr,includeOptions:vr}=this._getSharedOptions(er,ir);let jr=this._getRotation(),Sr;for(Sr=0;Sr<er;++Sr)jr+=this._circumference(Sr,rr);for(Sr=er;Sr<er+nr;++Sr){const Tr=this._circumference(Sr,rr),Lr=Hn[Sr],Mr={x:cr+this.offsetX,y:ur+this.offsetY,startAngle:jr,endAngle:jr+Tr,circumference:Tr,outerRadius:gr,innerRadius:fr};vr&&(Mr.options=yr||this.resolveDataElementOptions(Sr,Lr.active?"active":ir)),jr+=Tr,this.updateElement(Lr,Sr,Mr,ir)}}calculateTotal(){const Hn=this._cachedMeta,er=Hn.data;let nr=0,ir;for(ir=0;ir<er.length;ir++){const rr=Hn._parsed[ir];rr!==null&&!isNaN(rr)&&this.chart.getDataVisibility(ir)&&!er[ir].hidden&&(nr+=Math.abs(rr))}return nr}calculateCircumference(Hn){const er=this._cachedMeta.total;return er>0&&!isNaN(Hn)?TAU*(Math.abs(Hn)/er):0}getLabelAndValue(Hn){const er=this._cachedMeta,nr=this.chart,ir=nr.data.labels||[],rr=formatNumber$2(er._parsed[Hn],nr.options.locale);return{label:ir[Hn]||"",value:rr}}getMaxBorderWidth(Hn){let er=0;const nr=this.chart;let ir,rr,sr,ar,or;if(!Hn){for(ir=0,rr=nr.data.datasets.length;ir<rr;++ir)if(nr.isDatasetVisible(ir)){sr=nr.getDatasetMeta(ir),Hn=sr.data,ar=sr.controller;break}}if(!Hn)return 0;for(ir=0,rr=Hn.length;ir<rr;++ir)or=ar.resolveDataElementOptions(ir),or.borderAlign!=="inner"&&(er=Math.max(er,or.borderWidth||0,or.hoverBorderWidth||0));return er}getMaxOffset(Hn){let er=0;for(let nr=0,ir=Hn.length;nr<ir;++nr){const rr=this.resolveDataElementOptions(nr);er=Math.max(er,rr.offset||0,rr.hoverOffset||0)}return er}_getRingWeightOffset(Hn){let er=0;for(let nr=0;nr<Hn;++nr)this.chart.isDatasetVisible(nr)&&(er+=this._getRingWeight(nr));return er}_getRingWeight(Hn){return Math.max(valueOrDefault(this.chart.data.datasets[Hn].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class LineController extends DatasetController{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(Hn){const er=this._cachedMeta,{dataset:nr,data:ir=[],_dataset:rr}=er,sr=this.chart._animationsDisabled;let{start:ar,count:or}=_getStartAndCountOfVisiblePoints(er,ir,sr);this._drawStart=ar,this._drawCount=or,_scaleRangesChanged(er)&&(ar=0,or=ir.length),nr._chart=this.chart,nr._datasetIndex=this.index,nr._decimated=!!rr._decimated,nr.points=ir;const lr=this.resolveDatasetElementOptions(Hn);this.options.showLine||(lr.borderWidth=0),lr.segment=this.options.segment,this.updateElement(nr,void 0,{animated:!sr,options:lr},Hn),this.updateElements(ir,ar,or,Hn)}updateElements(Hn,er,nr,ir){const rr=ir==="reset",{iScale:sr,vScale:ar,_stacked:or,_dataset:lr}=this._cachedMeta,{sharedOptions:cr,includeOptions:ur}=this._getSharedOptions(er,ir),dr=sr.axis,fr=ar.axis,{spanGaps:gr,segment:yr}=this.options,vr=isNumber$2(gr)?gr:Number.POSITIVE_INFINITY,jr=this.chart._animationsDisabled||rr||ir==="none",Sr=er+nr,Tr=Hn.length;let Lr=er>0&&this.getParsed(er-1);for(let Mr=0;Mr<Tr;++Mr){const Nr=Hn[Mr],Or=jr?Nr:{};if(Mr<er||Mr>=Sr){Or.skip=!0;continue}const Fr=this.getParsed(Mr),Gr=isNullOrUndef(Fr[fr]),qr=Or[dr]=sr.getPixelForValue(Fr[dr],Mr),Hr=Or[fr]=rr||Gr?ar.getBasePixel():ar.getPixelForValue(or?this.applyStack(ar,Fr,or):Fr[fr],Mr);Or.skip=isNaN(qr)||isNaN(Hr)||Gr,Or.stop=Mr>0&&Math.abs(Fr[dr]-Lr[dr])>vr,yr&&(Or.parsed=Fr,Or.raw=lr.data[Mr]),ur&&(Or.options=cr||this.resolveDataElementOptions(Mr,Nr.active?"active":ir)),jr||this.updateElement(Nr,Mr,Or,ir),Lr=Fr}}getMaxOverflow(){const Hn=this._cachedMeta,er=Hn.dataset,nr=er.options&&er.options.borderWidth||0,ir=Hn.data||[];if(!ir.length)return nr;const rr=ir[0].size(this.resolveDataElementOptions(0)),sr=ir[ir.length-1].size(this.resolveDataElementOptions(ir.length-1));return Math.max(nr,rr,sr)/2}draw(){const Hn=this._cachedMeta;Hn.dataset.updateControlPoints(this.chart.chartArea,Hn.iScale.axis),super.draw()}}class PolarAreaController extends DatasetController{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(Hn){const er=Hn.data;if(er.labels.length&&er.datasets.length){const{labels:{pointStyle:nr,color:ir}}=Hn.legend.options;return er.labels.map((rr,sr)=>{const or=Hn.getDatasetMeta(0).controller.getStyle(sr);return{text:rr,fillStyle:or.backgroundColor,strokeStyle:or.borderColor,fontColor:ir,lineWidth:or.borderWidth,pointStyle:nr,hidden:!Hn.getDataVisibility(sr),index:sr}})}return[]}},onClick(Hn,er,nr){nr.chart.toggleDataVisibility(er.index),nr.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(Hn,er){super(Hn,er),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(Hn){const er=this._cachedMeta,nr=this.chart,ir=nr.data.labels||[],rr=formatNumber$2(er._parsed[Hn].r,nr.options.locale);return{label:ir[Hn]||"",value:rr}}parseObjectData(Hn,er,nr,ir){return _parseObjectDataRadialScale.bind(this)(Hn,er,nr,ir)}update(Hn){const er=this._cachedMeta.data;this._updateRadius(),this.updateElements(er,0,er.length,Hn)}getMinMax(){const Hn=this._cachedMeta,er={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return Hn.data.forEach((nr,ir)=>{const rr=this.getParsed(ir).r;!isNaN(rr)&&this.chart.getDataVisibility(ir)&&(rr<er.min&&(er.min=rr),rr>er.max&&(er.max=rr))}),er}_updateRadius(){const Hn=this.chart,er=Hn.chartArea,nr=Hn.options,ir=Math.min(er.right-er.left,er.bottom-er.top),rr=Math.max(ir/2,0),sr=Math.max(nr.cutoutPercentage?rr/100*nr.cutoutPercentage:1,0),ar=(rr-sr)/Hn.getVisibleDatasetCount();this.outerRadius=rr-ar*this.index,this.innerRadius=this.outerRadius-ar}updateElements(Hn,er,nr,ir){const rr=ir==="reset",sr=this.chart,or=sr.options.animation,lr=this._cachedMeta.rScale,cr=lr.xCenter,ur=lr.yCenter,dr=lr.getIndexAngle(0)-.5*PI;let fr=dr,gr;const yr=360/this.countVisibleElements();for(gr=0;gr<er;++gr)fr+=this._computeAngle(gr,ir,yr);for(gr=er;gr<er+nr;gr++){const vr=Hn[gr];let jr=fr,Sr=fr+this._computeAngle(gr,ir,yr),Tr=sr.getDataVisibility(gr)?lr.getDistanceFromCenterForValue(this.getParsed(gr).r):0;fr=Sr,rr&&(or.animateScale&&(Tr=0),or.animateRotate&&(jr=Sr=dr));const Lr={x:cr,y:ur,innerRadius:0,outerRadius:Tr,startAngle:jr,endAngle:Sr,options:this.resolveDataElementOptions(gr,vr.active?"active":ir)};this.updateElement(vr,gr,Lr,ir)}}countVisibleElements(){const Hn=this._cachedMeta;let er=0;return Hn.data.forEach((nr,ir)=>{!isNaN(this.getParsed(ir).r)&&this.chart.getDataVisibility(ir)&&er++}),er}_computeAngle(Hn,er,nr){return this.chart.getDataVisibility(Hn)?toRadians(this.resolveDataElementOptions(Hn,er).angle||nr):0}}class PieController extends DoughnutController{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class RadarController extends DatasetController{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(Hn){const er=this._cachedMeta.vScale,nr=this.getParsed(Hn);return{label:er.getLabels()[Hn],value:""+er.getLabelForValue(nr[er.axis])}}parseObjectData(Hn,er,nr,ir){return _parseObjectDataRadialScale.bind(this)(Hn,er,nr,ir)}update(Hn){const er=this._cachedMeta,nr=er.dataset,ir=er.data||[],rr=er.iScale.getLabels();if(nr.points=ir,Hn!=="resize"){const sr=this.resolveDatasetElementOptions(Hn);this.options.showLine||(sr.borderWidth=0);const ar={_loop:!0,_fullLoop:rr.length===ir.length,options:sr};this.updateElement(nr,void 0,ar,Hn)}this.updateElements(ir,0,ir.length,Hn)}updateElements(Hn,er,nr,ir){const rr=this._cachedMeta.rScale,sr=ir==="reset";for(let ar=er;ar<er+nr;ar++){const or=Hn[ar],lr=this.resolveDataElementOptions(ar,or.active?"active":ir),cr=rr.getPointPositionForValue(ar,this.getParsed(ar).r),ur=sr?rr.xCenter:cr.x,dr=sr?rr.yCenter:cr.y,fr={x:ur,y:dr,angle:cr.angle,skip:isNaN(ur)||isNaN(dr),options:lr};this.updateElement(or,ar,fr,ir)}}}class ScatterController extends DatasetController{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(Hn){const er=this._cachedMeta,nr=this.chart.data.labels||[],{xScale:ir,yScale:rr}=er,sr=this.getParsed(Hn),ar=ir.getLabelForValue(sr.x),or=rr.getLabelForValue(sr.y);return{label:nr[Hn]||"",value:"("+ar+", "+or+")"}}update(Hn){const er=this._cachedMeta,{data:nr=[]}=er,ir=this.chart._animationsDisabled;let{start:rr,count:sr}=_getStartAndCountOfVisiblePoints(er,nr,ir);if(this._drawStart=rr,this._drawCount=sr,_scaleRangesChanged(er)&&(rr=0,sr=nr.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:ar,_dataset:or}=er;ar._chart=this.chart,ar._datasetIndex=this.index,ar._decimated=!!or._decimated,ar.points=nr;const lr=this.resolveDatasetElementOptions(Hn);lr.segment=this.options.segment,this.updateElement(ar,void 0,{animated:!ir,options:lr},Hn)}else this.datasetElementType&&(delete er.dataset,this.datasetElementType=!1);this.updateElements(nr,rr,sr,Hn)}addElements(){const{showLine:Hn}=this.options;!this.datasetElementType&&Hn&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(Hn,er,nr,ir){const rr=ir==="reset",{iScale:sr,vScale:ar,_stacked:or,_dataset:lr}=this._cachedMeta,cr=this.resolveDataElementOptions(er,ir),ur=this.getSharedOptions(cr),dr=this.includeOptions(ir,ur),fr=sr.axis,gr=ar.axis,{spanGaps:yr,segment:vr}=this.options,jr=isNumber$2(yr)?yr:Number.POSITIVE_INFINITY,Sr=this.chart._animationsDisabled||rr||ir==="none";let Tr=er>0&&this.getParsed(er-1);for(let Lr=er;Lr<er+nr;++Lr){const Mr=Hn[Lr],Nr=this.getParsed(Lr),Or=Sr?Mr:{},Fr=isNullOrUndef(Nr[gr]),Gr=Or[fr]=sr.getPixelForValue(Nr[fr],Lr),qr=Or[gr]=rr||Fr?ar.getBasePixel():ar.getPixelForValue(or?this.applyStack(ar,Nr,or):Nr[gr],Lr);Or.skip=isNaN(Gr)||isNaN(qr)||Fr,Or.stop=Lr>0&&Math.abs(Nr[fr]-Tr[fr])>jr,vr&&(Or.parsed=Nr,Or.raw=lr.data[Lr]),dr&&(Or.options=ur||this.resolveDataElementOptions(Lr,Mr.active?"active":ir)),Sr||this.updateElement(Mr,Lr,Or,ir),Tr=Nr}this.updateSharedOptions(ur,ir,cr)}getMaxOverflow(){const Hn=this._cachedMeta,er=Hn.data||[];if(!this.options.showLine){let ar=0;for(let or=er.length-1;or>=0;--or)ar=Math.max(ar,er[or].size(this.resolveDataElementOptions(or))/2);return ar>0&&ar}const nr=Hn.dataset,ir=nr.options&&nr.options.borderWidth||0;if(!er.length)return ir;const rr=er[0].size(this.resolveDataElementOptions(0)),sr=er[er.length-1].size(this.resolveDataElementOptions(er.length-1));return Math.max(ir,rr,sr)/2}}var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PieController,PolarAreaController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(Hn){Object.assign(DateAdapterBase.prototype,Hn)}options;constructor(Hn){this.options=Hn||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters$1={_date:DateAdapterBase};function binarySearch(tr,Hn,er,nr){const{controller:ir,data:rr,_sorted:sr}=tr,ar=ir._cachedMeta.iScale,or=tr.dataset&&tr.dataset.options?tr.dataset.options.spanGaps:null;if(ar&&Hn===ar.axis&&Hn!=="r"&&sr&&rr.length){const lr=ar._reversePixels?_rlookupByKey:_lookupByKey;if(nr){if(ir._sharedOptions){const cr=rr[0],ur=typeof cr.getRange=="function"&&cr.getRange(Hn);if(ur){const dr=lr(rr,Hn,er-ur),fr=lr(rr,Hn,er+ur);return{lo:dr.lo,hi:fr.hi}}}}else{const cr=lr(rr,Hn,er);if(or){const{vScale:ur}=ir._cachedMeta,{_parsed:dr}=tr,fr=dr.slice(0,cr.lo+1).reverse().findIndex(yr=>!isNullOrUndef(yr[ur.axis]));cr.lo-=Math.max(0,fr);const gr=dr.slice(cr.hi).findIndex(yr=>!isNullOrUndef(yr[ur.axis]));cr.hi+=Math.max(0,gr)}return cr}}return{lo:0,hi:rr.length-1}}function evaluateInteractionItems(tr,Hn,er,nr,ir){const rr=tr.getSortedVisibleDatasetMetas(),sr=er[Hn];for(let ar=0,or=rr.length;ar<or;++ar){const{index:lr,data:cr}=rr[ar],{lo:ur,hi:dr}=binarySearch(rr[ar],Hn,sr,ir);for(let fr=ur;fr<=dr;++fr){const gr=cr[fr];gr.skip||nr(gr,lr,fr)}}}function getDistanceMetricForAxis(tr){const Hn=tr.indexOf("x")!==-1,er=tr.indexOf("y")!==-1;return function(nr,ir){const rr=Hn?Math.abs(nr.x-ir.x):0,sr=er?Math.abs(nr.y-ir.y):0;return Math.sqrt(Math.pow(rr,2)+Math.pow(sr,2))}}function getIntersectItems(tr,Hn,er,nr,ir){const rr=[];return!ir&&!tr.isPointInArea(Hn)||evaluateInteractionItems(tr,er,Hn,function(ar,or,lr){!ir&&!_isPointInArea(ar,tr.chartArea,0)||ar.inRange(Hn.x,Hn.y,nr)&&rr.push({element:ar,datasetIndex:or,index:lr})},!0),rr}function getNearestRadialItems(tr,Hn,er,nr){let ir=[];function rr(sr,ar,or){const{startAngle:lr,endAngle:cr}=sr.getProps(["startAngle","endAngle"],nr),{angle:ur}=getAngleFromPoint(sr,{x:Hn.x,y:Hn.y});_angleBetween(ur,lr,cr)&&ir.push({element:sr,datasetIndex:ar,index:or})}return evaluateInteractionItems(tr,er,Hn,rr),ir}function getNearestCartesianItems(tr,Hn,er,nr,ir,rr){let sr=[];const ar=getDistanceMetricForAxis(er);let or=Number.POSITIVE_INFINITY;function lr(cr,ur,dr){const fr=cr.inRange(Hn.x,Hn.y,ir);if(nr&&!fr)return;const gr=cr.getCenterPoint(ir);if(!(!!rr||tr.isPointInArea(gr))&&!fr)return;const vr=ar(Hn,gr);vr<or?(sr=[{element:cr,datasetIndex:ur,index:dr}],or=vr):vr===or&&sr.push({element:cr,datasetIndex:ur,index:dr})}return evaluateInteractionItems(tr,er,Hn,lr),sr}function getNearestItems(tr,Hn,er,nr,ir,rr){return!rr&&!tr.isPointInArea(Hn)?[]:er==="r"&&!nr?getNearestRadialItems(tr,Hn,er,ir):getNearestCartesianItems(tr,Hn,er,nr,ir,rr)}function getAxisItems(tr,Hn,er,nr,ir){const rr=[],sr=er==="x"?"inXRange":"inYRange";let ar=!1;return evaluateInteractionItems(tr,er,Hn,(or,lr,cr)=>{or[sr]&&or[sr](Hn[er],ir)&&(rr.push({element:or,datasetIndex:lr,index:cr}),ar=ar||or.inRange(Hn.x,Hn.y,ir))}),nr&&!ar?[]:rr}var Interaction={modes:{index(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr),rr=er.axis||"x",sr=er.includeInvisible||!1,ar=er.intersect?getIntersectItems(tr,ir,rr,nr,sr):getNearestItems(tr,ir,rr,!1,nr,sr),or=[];return ar.length?(tr.getSortedVisibleDatasetMetas().forEach(lr=>{const cr=ar[0].index,ur=lr.data[cr];ur&&!ur.skip&&or.push({element:ur,datasetIndex:lr.index,index:cr})}),or):[]},dataset(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr),rr=er.axis||"xy",sr=er.includeInvisible||!1;let ar=er.intersect?getIntersectItems(tr,ir,rr,nr,sr):getNearestItems(tr,ir,rr,!1,nr,sr);if(ar.length>0){const or=ar[0].datasetIndex,lr=tr.getDatasetMeta(or).data;ar=[];for(let cr=0;cr<lr.length;++cr)ar.push({element:lr[cr],datasetIndex:or,index:cr})}return ar},point(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr),rr=er.axis||"xy",sr=er.includeInvisible||!1;return getIntersectItems(tr,ir,rr,nr,sr)},nearest(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr),rr=er.axis||"xy",sr=er.includeInvisible||!1;return getNearestItems(tr,ir,rr,er.intersect,nr,sr)},x(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr);return getAxisItems(tr,ir,"x",er.intersect,nr)},y(tr,Hn,er,nr){const ir=getRelativePosition$1(Hn,tr);return getAxisItems(tr,ir,"y",er.intersect,nr)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(tr,Hn){return tr.filter(er=>er.pos===Hn)}function filterDynamicPositionByAxis(tr,Hn){return tr.filter(er=>STATIC_POSITIONS.indexOf(er.pos)===-1&&er.box.axis===Hn)}function sortByWeight(tr,Hn){return tr.sort((er,nr)=>{const ir=Hn?nr:er,rr=Hn?er:nr;return ir.weight===rr.weight?ir.index-rr.index:ir.weight-rr.weight})}function wrapBoxes(tr){const Hn=[];let er,nr,ir,rr,sr,ar;for(er=0,nr=(tr||[]).length;er<nr;++er)ir=tr[er],{position:rr,options:{stack:sr,stackWeight:ar=1}}=ir,Hn.push({index:er,box:ir,pos:rr,horizontal:ir.isHorizontal(),weight:ir.weight,stack:sr&&rr+sr,stackWeight:ar});return Hn}function buildStacks(tr){const Hn={};for(const er of tr){const{stack:nr,pos:ir,stackWeight:rr}=er;if(!nr||!STATIC_POSITIONS.includes(ir))continue;const sr=Hn[nr]||(Hn[nr]={count:0,placed:0,weight:0,size:0});sr.count++,sr.weight+=rr}return Hn}function setLayoutDims(tr,Hn){const er=buildStacks(tr),{vBoxMaxWidth:nr,hBoxMaxHeight:ir}=Hn;let rr,sr,ar;for(rr=0,sr=tr.length;rr<sr;++rr){ar=tr[rr];const{fullSize:or}=ar.box,lr=er[ar.stack],cr=lr&&ar.stackWeight/lr.weight;ar.horizontal?(ar.width=cr?cr*nr:or&&Hn.availableWidth,ar.height=ir):(ar.width=nr,ar.height=cr?cr*ir:or&&Hn.availableHeight)}return er}function buildLayoutBoxes(tr){const Hn=wrapBoxes(tr),er=sortByWeight(Hn.filter(lr=>lr.box.fullSize),!0),nr=sortByWeight(filterByPosition(Hn,"left"),!0),ir=sortByWeight(filterByPosition(Hn,"right")),rr=sortByWeight(filterByPosition(Hn,"top"),!0),sr=sortByWeight(filterByPosition(Hn,"bottom")),ar=filterDynamicPositionByAxis(Hn,"x"),or=filterDynamicPositionByAxis(Hn,"y");return{fullSize:er,leftAndTop:nr.concat(rr),rightAndBottom:ir.concat(or).concat(sr).concat(ar),chartArea:filterByPosition(Hn,"chartArea"),vertical:nr.concat(ir).concat(or),horizontal:rr.concat(sr).concat(ar)}}function getCombinedMax(tr,Hn,er,nr){return Math.max(tr[er],Hn[er])+Math.max(tr[nr],Hn[nr])}function updateMaxPadding(tr,Hn){tr.top=Math.max(tr.top,Hn.top),tr.left=Math.max(tr.left,Hn.left),tr.bottom=Math.max(tr.bottom,Hn.bottom),tr.right=Math.max(tr.right,Hn.right)}function updateDims(tr,Hn,er,nr){const{pos:ir,box:rr}=er,sr=tr.maxPadding;if(!isObject$2(ir)){er.size&&(tr[ir]-=er.size);const ur=nr[er.stack]||{size:0,count:1};ur.size=Math.max(ur.size,er.horizontal?rr.height:rr.width),er.size=ur.size/ur.count,tr[ir]+=er.size}rr.getPadding&&updateMaxPadding(sr,rr.getPadding());const ar=Math.max(0,Hn.outerWidth-getCombinedMax(sr,tr,"left","right")),or=Math.max(0,Hn.outerHeight-getCombinedMax(sr,tr,"top","bottom")),lr=ar!==tr.w,cr=or!==tr.h;return tr.w=ar,tr.h=or,er.horizontal?{same:lr,other:cr}:{same:cr,other:lr}}function handleMaxPadding(tr){const Hn=tr.maxPadding;function er(nr){const ir=Math.max(Hn[nr]-tr[nr],0);return tr[nr]+=ir,ir}tr.y+=er("top"),tr.x+=er("left"),er("right"),er("bottom")}function getMargins(tr,Hn){const er=Hn.maxPadding;function nr(ir){const rr={left:0,top:0,right:0,bottom:0};return ir.forEach(sr=>{rr[sr]=Math.max(Hn[sr],er[sr])}),rr}return nr(tr?["left","right"]:["top","bottom"])}function fitBoxes(tr,Hn,er,nr){const ir=[];let rr,sr,ar,or,lr,cr;for(rr=0,sr=tr.length,lr=0;rr<sr;++rr){ar=tr[rr],or=ar.box,or.update(ar.width||Hn.w,ar.height||Hn.h,getMargins(ar.horizontal,Hn));const{same:ur,other:dr}=updateDims(Hn,er,ar,nr);lr|=ur&&ir.length,cr=cr||dr,or.fullSize||ir.push(ar)}return lr&&fitBoxes(ir,Hn,er,nr)||cr}function setBoxDims(tr,Hn,er,nr,ir){tr.top=er,tr.left=Hn,tr.right=Hn+nr,tr.bottom=er+ir,tr.width=nr,tr.height=ir}function placeBoxes(tr,Hn,er,nr){const ir=er.padding;let{x:rr,y:sr}=Hn;for(const ar of tr){const or=ar.box,lr=nr[ar.stack]||{placed:0,weight:1},cr=ar.stackWeight/lr.weight||1;if(ar.horizontal){const ur=Hn.w*cr,dr=lr.size||or.height;defined$1(lr.start)&&(sr=lr.start),or.fullSize?setBoxDims(or,ir.left,sr,er.outerWidth-ir.right-ir.left,dr):setBoxDims(or,Hn.left+lr.placed,sr,ur,dr),lr.start=sr,lr.placed+=ur,sr=or.bottom}else{const ur=Hn.h*cr,dr=lr.size||or.width;defined$1(lr.start)&&(rr=lr.start),or.fullSize?setBoxDims(or,rr,ir.top,dr,er.outerHeight-ir.bottom-ir.top):setBoxDims(or,rr,Hn.top+lr.placed,dr,ur),lr.start=rr,lr.placed+=ur,rr=or.right}}Hn.x=rr,Hn.y=sr}var layouts={addBox(tr,Hn){tr.boxes||(tr.boxes=[]),Hn.fullSize=Hn.fullSize||!1,Hn.position=Hn.position||"top",Hn.weight=Hn.weight||0,Hn._layers=Hn._layers||function(){return[{z:0,draw(er){Hn.draw(er)}}]},tr.boxes.push(Hn)},removeBox(tr,Hn){const er=tr.boxes?tr.boxes.indexOf(Hn):-1;er!==-1&&tr.boxes.splice(er,1)},configure(tr,Hn,er){Hn.fullSize=er.fullSize,Hn.position=er.position,Hn.weight=er.weight},update(tr,Hn,er,nr){if(!tr)return;const ir=toPadding(tr.options.layout.padding),rr=Math.max(Hn-ir.width,0),sr=Math.max(er-ir.height,0),ar=buildLayoutBoxes(tr.boxes),or=ar.vertical,lr=ar.horizontal;each$1(tr.boxes,yr=>{typeof yr.beforeLayout=="function"&&yr.beforeLayout()});const cr=or.reduce((yr,vr)=>vr.box.options&&vr.box.options.display===!1?yr:yr+1,0)||1,ur=Object.freeze({outerWidth:Hn,outerHeight:er,padding:ir,availableWidth:rr,availableHeight:sr,vBoxMaxWidth:rr/2/cr,hBoxMaxHeight:sr/2}),dr=Object.assign({},ir);updateMaxPadding(dr,toPadding(nr));const fr=Object.assign({maxPadding:dr,w:rr,h:sr,x:ir.left,y:ir.top},ir),gr=setLayoutDims(or.concat(lr),ur);fitBoxes(ar.fullSize,fr,ur,gr),fitBoxes(or,fr,ur,gr),fitBoxes(lr,fr,ur,gr)&&fitBoxes(or,fr,ur,gr),handleMaxPadding(fr),placeBoxes(ar.leftAndTop,fr,ur,gr),fr.x+=fr.w,fr.y+=fr.h,placeBoxes(ar.rightAndBottom,fr,ur,gr),tr.chartArea={left:fr.left,top:fr.top,right:fr.left+fr.w,bottom:fr.top+fr.h,height:fr.h,width:fr.w},each$1(ar.chartArea,yr=>{const vr=yr.box;Object.assign(vr,tr.chartArea),vr.update(fr.w,fr.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(Hn,er){}releaseContext(Hn){return!1}addEventListener(Hn,er,nr){}removeEventListener(Hn,er,nr){}getDevicePixelRatio(){return 1}getMaximumSize(Hn,er,nr,ir){return er=Math.max(0,er||Hn.width),nr=nr||Hn.height,{width:er,height:Math.max(0,ir?Math.floor(er/ir):nr)}}isAttached(Hn){return!0}updateConfig(Hn){}}class BasicPlatform extends BasePlatform{acquireContext(Hn){return Hn&&Hn.getContext&&Hn.getContext("2d")||null}updateConfig(Hn){Hn.options.animation=!1}}const EXPANDO_KEY$1="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=tr=>tr===null||tr==="";function initCanvas(tr,Hn){const er=tr.style,nr=tr.getAttribute("height"),ir=tr.getAttribute("width");if(tr[EXPANDO_KEY$1]={initial:{height:nr,width:ir,style:{display:er.display,height:er.height,width:er.width}}},er.display=er.display||"block",er.boxSizing=er.boxSizing||"border-box",isNullOrEmpty(ir)){const rr=readUsedSize(tr,"width");rr!==void 0&&(tr.width=rr)}if(isNullOrEmpty(nr))if(tr.style.height==="")tr.height=tr.width/(Hn||2);else{const rr=readUsedSize(tr,"height");rr!==void 0&&(tr.height=rr)}return tr}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener$1(tr,Hn,er){tr&&tr.addEventListener(Hn,er,eventListenerOptions)}function removeListener$1(tr,Hn,er){tr&&tr.canvas&&tr.canvas.removeEventListener(Hn,er,eventListenerOptions)}function fromNativeEvent(tr,Hn){const er=EVENT_TYPES[tr.type]||tr.type,{x:nr,y:ir}=getRelativePosition$1(tr,Hn);return{type:er,chart:Hn,native:tr,x:nr!==void 0?nr:null,y:ir!==void 0?ir:null}}function nodeListContains(tr,Hn){for(const er of tr)if(er===Hn||er.contains(Hn))return!0}function createAttachObserver(tr,Hn,er){const nr=tr.canvas,ir=new MutationObserver(rr=>{let sr=!1;for(const ar of rr)sr=sr||nodeListContains(ar.addedNodes,nr),sr=sr&&!nodeListContains(ar.removedNodes,nr);sr&&er()});return ir.observe(document,{childList:!0,subtree:!0}),ir}function createDetachObserver(tr,Hn,er){const nr=tr.canvas,ir=new MutationObserver(rr=>{let sr=!1;for(const ar of rr)sr=sr||nodeListContains(ar.removedNodes,nr),sr=sr&&!nodeListContains(ar.addedNodes,nr);sr&&er()});return ir.observe(document,{childList:!0,subtree:!0}),ir}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const tr=window.devicePixelRatio;tr!==oldDevicePixelRatio&&(oldDevicePixelRatio=tr,drpListeningCharts.forEach((Hn,er)=>{er.currentDevicePixelRatio!==tr&&Hn()}))}function listenDevicePixelRatioChanges(tr,Hn){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(tr,Hn)}function unlistenDevicePixelRatioChanges(tr){drpListeningCharts.delete(tr),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(tr,Hn,er){const nr=tr.canvas,ir=nr&&_getParentNode(nr);if(!ir)return;const rr=throttled((ar,or)=>{const lr=ir.clientWidth;er(ar,or),lr<ir.clientWidth&&er()},window),sr=new ResizeObserver(ar=>{const or=ar[0],lr=or.contentRect.width,cr=or.contentRect.height;lr===0&&cr===0||rr(lr,cr)});return sr.observe(ir),listenDevicePixelRatioChanges(tr,rr),sr}function releaseObserver(tr,Hn,er){er&&er.disconnect(),Hn==="resize"&&unlistenDevicePixelRatioChanges(tr)}function createProxyAndListen(tr,Hn,er){const nr=tr.canvas,ir=throttled(rr=>{tr.ctx!==null&&er(fromNativeEvent(rr,tr))},tr);return addListener$1(nr,Hn,ir),ir}class DomPlatform extends BasePlatform{acquireContext(Hn,er){const nr=Hn&&Hn.getContext&&Hn.getContext("2d");return nr&&nr.canvas===Hn?(initCanvas(Hn,er),nr):null}releaseContext(Hn){const er=Hn.canvas;if(!er[EXPANDO_KEY$1])return!1;const nr=er[EXPANDO_KEY$1].initial;["height","width"].forEach(rr=>{const sr=nr[rr];isNullOrUndef(sr)?er.removeAttribute(rr):er.setAttribute(rr,sr)});const ir=nr.style||{};return Object.keys(ir).forEach(rr=>{er.style[rr]=ir[rr]}),er.width=er.width,delete er[EXPANDO_KEY$1],!0}addEventListener(Hn,er,nr){this.removeEventListener(Hn,er);const ir=Hn.$proxies||(Hn.$proxies={}),sr={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[er]||createProxyAndListen;ir[er]=sr(Hn,er,nr)}removeEventListener(Hn,er){const nr=Hn.$proxies||(Hn.$proxies={}),ir=nr[er];if(!ir)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[er]||removeListener$1)(Hn,er,ir),nr[er]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(Hn,er,nr,ir){return getMaximumSize(Hn,er,nr,ir)}isAttached(Hn){const er=Hn&&_getParentNode(Hn);return!!(er&&er.isConnected)}}function _detectPlatform(tr){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&tr instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(Hn){const{x:er,y:nr}=this.getProps(["x","y"],Hn);return{x:er,y:nr}}hasValue(){return isNumber$2(this.x)&&isNumber$2(this.y)}getProps(Hn,er){const nr=this.$animations;if(!er||!nr)return this;const ir={};return Hn.forEach(rr=>{ir[rr]=nr[rr]&&nr[rr].active()?nr[rr]._to:this[rr]}),ir}};function autoSkip(tr,Hn){const er=tr.options.ticks,nr=determineMaxTicks(tr),ir=Math.min(er.maxTicksLimit||nr,nr),rr=er.major.enabled?getMajorIndices(Hn):[],sr=rr.length,ar=rr[0],or=rr[sr-1],lr=[];if(sr>ir)return skipMajors(Hn,lr,rr,sr/ir),lr;const cr=calculateSpacing(rr,Hn,ir);if(sr>0){let ur,dr;const fr=sr>1?Math.round((or-ar)/(sr-1)):null;for(skip(Hn,lr,cr,isNullOrUndef(fr)?0:ar-fr,ar),ur=0,dr=sr-1;ur<dr;ur++)skip(Hn,lr,cr,rr[ur],rr[ur+1]);return skip(Hn,lr,cr,or,isNullOrUndef(fr)?Hn.length:or+fr),lr}return skip(Hn,lr,cr),lr}function determineMaxTicks(tr){const Hn=tr.options.offset,er=tr._tickSize(),nr=tr._length/er+(Hn?0:1),ir=tr._maxLength/er;return Math.floor(Math.min(nr,ir))}function calculateSpacing(tr,Hn,er){const nr=getEvenSpacing(tr),ir=Hn.length/er;if(!nr)return Math.max(ir,1);const rr=_factorize(nr);for(let sr=0,ar=rr.length-1;sr<ar;sr++){const or=rr[sr];if(or>ir)return or}return Math.max(ir,1)}function getMajorIndices(tr){const Hn=[];let er,nr;for(er=0,nr=tr.length;er<nr;er++)tr[er].major&&Hn.push(er);return Hn}function skipMajors(tr,Hn,er,nr){let ir=0,rr=er[0],sr;for(nr=Math.ceil(nr),sr=0;sr<tr.length;sr++)sr===rr&&(Hn.push(tr[sr]),ir++,rr=er[ir*nr])}function skip(tr,Hn,er,nr,ir){const rr=valueOrDefault(nr,0),sr=Math.min(valueOrDefault(ir,tr.length),tr.length);let ar=0,or,lr,cr;for(er=Math.ceil(er),ir&&(or=ir-nr,er=or/Math.floor(or/er)),cr=rr;cr<0;)ar++,cr=Math.round(rr+ar*er);for(lr=Math.max(rr,0);lr<sr;lr++)lr===cr&&(Hn.push(tr[lr]),ar++,cr=Math.round(rr+ar*er))}function getEvenSpacing(tr){const Hn=tr.length;let er,nr;if(Hn<2)return!1;for(nr=tr[0],er=1;er<Hn;++er)if(tr[er]-tr[er-1]!==nr)return!1;return nr}const reverseAlign=tr=>tr==="left"?"right":tr==="right"?"left":tr,offsetFromEdge=(tr,Hn,er)=>Hn==="top"||Hn==="left"?tr[Hn]+er:tr[Hn]-er,getTicksLimit=(tr,Hn)=>Math.min(Hn||tr,tr);function sample(tr,Hn){const er=[],nr=tr.length/Hn,ir=tr.length;let rr=0;for(;rr<ir;rr+=nr)er.push(tr[Math.floor(rr)]);return er}function getPixelForGridLine(tr,Hn,er){const nr=tr.ticks.length,ir=Math.min(Hn,nr-1),rr=tr._startPixel,sr=tr._endPixel,ar=1e-6;let or=tr.getPixelForTick(ir),lr;if(!(er&&(nr===1?lr=Math.max(or-rr,sr-or):Hn===0?lr=(tr.getPixelForTick(1)-or)/2:lr=(or-tr.getPixelForTick(ir-1))/2,or+=ir<Hn?lr:-lr,or<rr-ar||or>sr+ar)))return or}function garbageCollect(tr,Hn){each$1(tr,er=>{const nr=er.gc,ir=nr.length/2;let rr;if(ir>Hn){for(rr=0;rr<ir;++rr)delete er.data[nr[rr]];nr.splice(0,ir)}})}function getTickMarkLength(tr){return tr.drawTicks?tr.tickLength:0}function getTitleHeight(tr,Hn){if(!tr.display)return 0;const er=toFont(tr.font,Hn),nr=toPadding(tr.padding);return(isArray$1(tr.text)?tr.text.length:1)*er.lineHeight+nr.height}function createScaleContext(tr,Hn){return createContext(tr,{scale:Hn,type:"scale"})}function createTickContext(tr,Hn,er){return createContext(tr,{tick:er,index:Hn,type:"tick"})}function titleAlign(tr,Hn,er){let nr=_toLeftRightCenter(tr);return(er&&Hn!=="right"||!er&&Hn==="right")&&(nr=reverseAlign(nr)),nr}function titleArgs(tr,Hn,er,nr){const{top:ir,left:rr,bottom:sr,right:ar,chart:or}=tr,{chartArea:lr,scales:cr}=or;let ur=0,dr,fr,gr;const yr=sr-ir,vr=ar-rr;if(tr.isHorizontal()){if(fr=_alignStartEnd(nr,rr,ar),isObject$2(er)){const jr=Object.keys(er)[0],Sr=er[jr];gr=cr[jr].getPixelForValue(Sr)+yr-Hn}else er==="center"?gr=(lr.bottom+lr.top)/2+yr-Hn:gr=offsetFromEdge(tr,er,Hn);dr=ar-rr}else{if(isObject$2(er)){const jr=Object.keys(er)[0],Sr=er[jr];fr=cr[jr].getPixelForValue(Sr)-vr+Hn}else er==="center"?fr=(lr.left+lr.right)/2-vr+Hn:fr=offsetFromEdge(tr,er,Hn);gr=_alignStartEnd(nr,sr,ir),ur=er==="left"?-HALF_PI:HALF_PI}return{titleX:fr,titleY:gr,maxWidth:dr,rotation:ur}}class Scale extends Element$1{constructor(Hn){super(),this.id=Hn.id,this.type=Hn.type,this.options=void 0,this.ctx=Hn.ctx,this.chart=Hn.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(Hn){this.options=Hn.setContext(this.getContext()),this.axis=Hn.axis,this._userMin=this.parse(Hn.min),this._userMax=this.parse(Hn.max),this._suggestedMin=this.parse(Hn.suggestedMin),this._suggestedMax=this.parse(Hn.suggestedMax)}parse(Hn,er){return Hn}getUserBounds(){let{_userMin:Hn,_userMax:er,_suggestedMin:nr,_suggestedMax:ir}=this;return Hn=finiteOrDefault(Hn,Number.POSITIVE_INFINITY),er=finiteOrDefault(er,Number.NEGATIVE_INFINITY),nr=finiteOrDefault(nr,Number.POSITIVE_INFINITY),ir=finiteOrDefault(ir,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(Hn,nr),max:finiteOrDefault(er,ir),minDefined:isNumberFinite(Hn),maxDefined:isNumberFinite(er)}}getMinMax(Hn){let{min:er,max:nr,minDefined:ir,maxDefined:rr}=this.getUserBounds(),sr;if(ir&&rr)return{min:er,max:nr};const ar=this.getMatchingVisibleMetas();for(let or=0,lr=ar.length;or<lr;++or)sr=ar[or].controller.getMinMax(this,Hn),ir||(er=Math.min(er,sr.min)),rr||(nr=Math.max(nr,sr.max));return er=rr&&er>nr?nr:er,nr=ir&&er>nr?er:nr,{min:finiteOrDefault(er,finiteOrDefault(nr,er)),max:finiteOrDefault(nr,finiteOrDefault(er,nr))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const Hn=this.chart.data;return this.options.labels||(this.isHorizontal()?Hn.xLabels:Hn.yLabels)||Hn.labels||[]}getLabelItems(Hn=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(Hn))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(Hn,er,nr){const{beginAtZero:ir,grace:rr,ticks:sr}=this.options,ar=sr.sampleSize;this.beforeUpdate(),this.maxWidth=Hn,this.maxHeight=er,this._margins=nr=Object.assign({left:0,right:0,top:0,bottom:0},nr),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+nr.left+nr.right:this.height+nr.top+nr.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,rr,ir),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const or=ar<this.ticks.length;this._convertTicksToLabels(or?sample(this.ticks,ar):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),sr.display&&(sr.autoSkip||sr.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),or&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let Hn=this.options.reverse,er,nr;this.isHorizontal()?(er=this.left,nr=this.right):(er=this.top,nr=this.bottom,Hn=!Hn),this._startPixel=er,this._endPixel=nr,this._reversePixels=Hn,this._length=nr-er,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(Hn){this.chart.notifyPlugins(Hn,this.getContext()),callback(this.options[Hn],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(Hn){const er=this.options.ticks;let nr,ir,rr;for(nr=0,ir=Hn.length;nr<ir;nr++)rr=Hn[nr],rr.label=callback(er.callback,[rr.value,nr,Hn],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const Hn=this.options,er=Hn.ticks,nr=getTicksLimit(this.ticks.length,Hn.ticks.maxTicksLimit),ir=er.minRotation||0,rr=er.maxRotation;let sr=ir,ar,or,lr;if(!this._isVisible()||!er.display||ir>=rr||nr<=1||!this.isHorizontal()){this.labelRotation=ir;return}const cr=this._getLabelSizes(),ur=cr.widest.width,dr=cr.highest.height,fr=_limitValue(this.chart.width-ur,0,this.maxWidth);ar=Hn.offset?this.maxWidth/nr:fr/(nr-1),ur+6>ar&&(ar=fr/(nr-(Hn.offset?.5:1)),or=this.maxHeight-getTickMarkLength(Hn.grid)-er.padding-getTitleHeight(Hn.title,this.chart.options.font),lr=Math.sqrt(ur*ur+dr*dr),sr=toDegrees(Math.min(Math.asin(_limitValue((cr.highest.height+6)/ar,-1,1)),Math.asin(_limitValue(or/lr,-1,1))-Math.asin(_limitValue(dr/lr,-1,1)))),sr=Math.max(ir,Math.min(rr,sr))),this.labelRotation=sr}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const Hn={width:0,height:0},{chart:er,options:{ticks:nr,title:ir,grid:rr}}=this,sr=this._isVisible(),ar=this.isHorizontal();if(sr){const or=getTitleHeight(ir,er.options.font);if(ar?(Hn.width=this.maxWidth,Hn.height=getTickMarkLength(rr)+or):(Hn.height=this.maxHeight,Hn.width=getTickMarkLength(rr)+or),nr.display&&this.ticks.length){const{first:lr,last:cr,widest:ur,highest:dr}=this._getLabelSizes(),fr=nr.padding*2,gr=toRadians(this.labelRotation),yr=Math.cos(gr),vr=Math.sin(gr);if(ar){const jr=nr.mirror?0:vr*ur.width+yr*dr.height;Hn.height=Math.min(this.maxHeight,Hn.height+jr+fr)}else{const jr=nr.mirror?0:yr*ur.width+vr*dr.height;Hn.width=Math.min(this.maxWidth,Hn.width+jr+fr)}this._calculatePadding(lr,cr,vr,yr)}}this._handleMargins(),ar?(this.width=this._length=er.width-this._margins.left-this._margins.right,this.height=Hn.height):(this.width=Hn.width,this.height=this._length=er.height-this._margins.top-this._margins.bottom)}_calculatePadding(Hn,er,nr,ir){const{ticks:{align:rr,padding:sr},position:ar}=this.options,or=this.labelRotation!==0,lr=ar!=="top"&&this.axis==="x";if(this.isHorizontal()){const cr=this.getPixelForTick(0)-this.left,ur=this.right-this.getPixelForTick(this.ticks.length-1);let dr=0,fr=0;or?lr?(dr=ir*Hn.width,fr=nr*er.height):(dr=nr*Hn.height,fr=ir*er.width):rr==="start"?fr=er.width:rr==="end"?dr=Hn.width:rr!=="inner"&&(dr=Hn.width/2,fr=er.width/2),this.paddingLeft=Math.max((dr-cr+sr)*this.width/(this.width-cr),0),this.paddingRight=Math.max((fr-ur+sr)*this.width/(this.width-ur),0)}else{let cr=er.height/2,ur=Hn.height/2;rr==="start"?(cr=0,ur=Hn.height):rr==="end"&&(cr=er.height,ur=0),this.paddingTop=cr+sr,this.paddingBottom=ur+sr}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:Hn,position:er}=this.options;return er==="top"||er==="bottom"||Hn==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(Hn){this.beforeTickToLabelConversion(),this.generateTickLabels(Hn);let er,nr;for(er=0,nr=Hn.length;er<nr;er++)isNullOrUndef(Hn[er].label)&&(Hn.splice(er,1),nr--,er--);this.afterTickToLabelConversion()}_getLabelSizes(){let Hn=this._labelSizes;if(!Hn){const er=this.options.ticks.sampleSize;let nr=this.ticks;er<nr.length&&(nr=sample(nr,er)),this._labelSizes=Hn=this._computeLabelSizes(nr,nr.length,this.options.ticks.maxTicksLimit)}return Hn}_computeLabelSizes(Hn,er,nr){const{ctx:ir,_longestTextCache:rr}=this,sr=[],ar=[],or=Math.floor(er/getTicksLimit(er,nr));let lr=0,cr=0,ur,dr,fr,gr,yr,vr,jr,Sr,Tr,Lr,Mr;for(ur=0;ur<er;ur+=or){if(gr=Hn[ur].label,yr=this._resolveTickFontOptions(ur),ir.font=vr=yr.string,jr=rr[vr]=rr[vr]||{data:{},gc:[]},Sr=yr.lineHeight,Tr=Lr=0,!isNullOrUndef(gr)&&!isArray$1(gr))Tr=_measureText(ir,jr.data,jr.gc,Tr,gr),Lr=Sr;else if(isArray$1(gr))for(dr=0,fr=gr.length;dr<fr;++dr)Mr=gr[dr],!isNullOrUndef(Mr)&&!isArray$1(Mr)&&(Tr=_measureText(ir,jr.data,jr.gc,Tr,Mr),Lr+=Sr);sr.push(Tr),ar.push(Lr),lr=Math.max(Tr,lr),cr=Math.max(Lr,cr)}garbageCollect(rr,er);const Nr=sr.indexOf(lr),Or=ar.indexOf(cr),Fr=Gr=>({width:sr[Gr]||0,height:ar[Gr]||0});return{first:Fr(0),last:Fr(er-1),widest:Fr(Nr),highest:Fr(Or),widths:sr,heights:ar}}getLabelForValue(Hn){return Hn}getPixelForValue(Hn,er){return NaN}getValueForPixel(Hn){}getPixelForTick(Hn){const er=this.ticks;return Hn<0||Hn>er.length-1?null:this.getPixelForValue(er[Hn].value)}getPixelForDecimal(Hn){this._reversePixels&&(Hn=1-Hn);const er=this._startPixel+Hn*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,er,0):er)}getDecimalForPixel(Hn){const er=(Hn-this._startPixel)/this._length;return this._reversePixels?1-er:er}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:Hn,max:er}=this;return Hn<0&&er<0?er:Hn>0&&er>0?Hn:0}getContext(Hn){const er=this.ticks||[];if(Hn>=0&&Hn<er.length){const nr=er[Hn];return nr.$context||(nr.$context=createTickContext(this.getContext(),Hn,nr))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const Hn=this.options.ticks,er=toRadians(this.labelRotation),nr=Math.abs(Math.cos(er)),ir=Math.abs(Math.sin(er)),rr=this._getLabelSizes(),sr=Hn.autoSkipPadding||0,ar=rr?rr.widest.width+sr:0,or=rr?rr.highest.height+sr:0;return this.isHorizontal()?or*nr>ar*ir?ar/nr:or/ir:or*ir<ar*nr?or/nr:ar/ir}_isVisible(){const Hn=this.options.display;return Hn!=="auto"?!!Hn:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(Hn){const er=this.axis,nr=this.chart,ir=this.options,{grid:rr,position:sr,border:ar}=ir,or=rr.offset,lr=this.isHorizontal(),ur=this.ticks.length+(or?1:0),dr=getTickMarkLength(rr),fr=[],gr=ar.setContext(this.getContext()),yr=gr.display?gr.width:0,vr=yr/2,jr=function(ao){return _alignPixel(nr,ao,yr)};let Sr,Tr,Lr,Mr,Nr,Or,Fr,Gr,qr,Hr,Yr,ro;if(sr==="top")Sr=jr(this.bottom),Or=this.bottom-dr,Gr=Sr-vr,Hr=jr(Hn.top)+vr,ro=Hn.bottom;else if(sr==="bottom")Sr=jr(this.top),Hr=Hn.top,ro=jr(Hn.bottom)-vr,Or=Sr+vr,Gr=this.top+dr;else if(sr==="left")Sr=jr(this.right),Nr=this.right-dr,Fr=Sr-vr,qr=jr(Hn.left)+vr,Yr=Hn.right;else if(sr==="right")Sr=jr(this.left),qr=Hn.left,Yr=jr(Hn.right)-vr,Nr=Sr+vr,Fr=this.left+dr;else if(er==="x"){if(sr==="center")Sr=jr((Hn.top+Hn.bottom)/2+.5);else if(isObject$2(sr)){const ao=Object.keys(sr)[0],Jr=sr[ao];Sr=jr(this.chart.scales[ao].getPixelForValue(Jr))}Hr=Hn.top,ro=Hn.bottom,Or=Sr+vr,Gr=Or+dr}else if(er==="y"){if(sr==="center")Sr=jr((Hn.left+Hn.right)/2);else if(isObject$2(sr)){const ao=Object.keys(sr)[0],Jr=sr[ao];Sr=jr(this.chart.scales[ao].getPixelForValue(Jr))}Nr=Sr-vr,Fr=Nr-dr,qr=Hn.left,Yr=Hn.right}const io=valueOrDefault(ir.ticks.maxTicksLimit,ur),fo=Math.max(1,Math.ceil(ur/io));for(Tr=0;Tr<ur;Tr+=fo){const ao=this.getContext(Tr),Jr=rr.setContext(ao),uo=ar.setContext(ao),oo=Jr.lineWidth,co=Jr.color,no=uo.dash||[],mo=uo.dashOffset,Eo=Jr.tickWidth,bo=Jr.tickColor,Po=Jr.tickBorderDash||[],wo=Jr.tickBorderDashOffset;Lr=getPixelForGridLine(this,Tr,or),Lr!==void 0&&(Mr=_alignPixel(nr,Lr,oo),lr?Nr=Fr=qr=Yr=Mr:Or=Gr=Hr=ro=Mr,fr.push({tx1:Nr,ty1:Or,tx2:Fr,ty2:Gr,x1:qr,y1:Hr,x2:Yr,y2:ro,width:oo,color:co,borderDash:no,borderDashOffset:mo,tickWidth:Eo,tickColor:bo,tickBorderDash:Po,tickBorderDashOffset:wo}))}return this._ticksLength=ur,this._borderValue=Sr,fr}_computeLabelItems(Hn){const er=this.axis,nr=this.options,{position:ir,ticks:rr}=nr,sr=this.isHorizontal(),ar=this.ticks,{align:or,crossAlign:lr,padding:cr,mirror:ur}=rr,dr=getTickMarkLength(nr.grid),fr=dr+cr,gr=ur?-cr:fr,yr=-toRadians(this.labelRotation),vr=[];let jr,Sr,Tr,Lr,Mr,Nr,Or,Fr,Gr,qr,Hr,Yr,ro="middle";if(ir==="top")Nr=this.bottom-gr,Or=this._getXAxisLabelAlignment();else if(ir==="bottom")Nr=this.top+gr,Or=this._getXAxisLabelAlignment();else if(ir==="left"){const fo=this._getYAxisLabelAlignment(dr);Or=fo.textAlign,Mr=fo.x}else if(ir==="right"){const fo=this._getYAxisLabelAlignment(dr);Or=fo.textAlign,Mr=fo.x}else if(er==="x"){if(ir==="center")Nr=(Hn.top+Hn.bottom)/2+fr;else if(isObject$2(ir)){const fo=Object.keys(ir)[0],ao=ir[fo];Nr=this.chart.scales[fo].getPixelForValue(ao)+fr}Or=this._getXAxisLabelAlignment()}else if(er==="y"){if(ir==="center")Mr=(Hn.left+Hn.right)/2-fr;else if(isObject$2(ir)){const fo=Object.keys(ir)[0],ao=ir[fo];Mr=this.chart.scales[fo].getPixelForValue(ao)}Or=this._getYAxisLabelAlignment(dr).textAlign}er==="y"&&(or==="start"?ro="top":or==="end"&&(ro="bottom"));const io=this._getLabelSizes();for(jr=0,Sr=ar.length;jr<Sr;++jr){Tr=ar[jr],Lr=Tr.label;const fo=rr.setContext(this.getContext(jr));Fr=this.getPixelForTick(jr)+rr.labelOffset,Gr=this._resolveTickFontOptions(jr),qr=Gr.lineHeight,Hr=isArray$1(Lr)?Lr.length:1;const ao=Hr/2,Jr=fo.color,uo=fo.textStrokeColor,oo=fo.textStrokeWidth;let co=Or;sr?(Mr=Fr,Or==="inner"&&(jr===Sr-1?co=this.options.reverse?"left":"right":jr===0?co=this.options.reverse?"right":"left":co="center"),ir==="top"?lr==="near"||yr!==0?Yr=-Hr*qr+qr/2:lr==="center"?Yr=-io.highest.height/2-ao*qr+qr:Yr=-io.highest.height+qr/2:lr==="near"||yr!==0?Yr=qr/2:lr==="center"?Yr=io.highest.height/2-ao*qr:Yr=io.highest.height-Hr*qr,ur&&(Yr*=-1),yr!==0&&!fo.showLabelBackdrop&&(Mr+=qr/2*Math.sin(yr))):(Nr=Fr,Yr=(1-Hr)*qr/2);let no;if(fo.showLabelBackdrop){const mo=toPadding(fo.backdropPadding),Eo=io.heights[jr],bo=io.widths[jr];let Po=Yr-mo.top,wo=0-mo.left;switch(ro){case"middle":Po-=Eo/2;break;case"bottom":Po-=Eo;break}switch(Or){case"center":wo-=bo/2;break;case"right":wo-=bo;break;case"inner":jr===Sr-1?wo-=bo:jr>0&&(wo-=bo/2);break}no={left:wo,top:Po,width:bo+mo.width,height:Eo+mo.height,color:fo.backdropColor}}vr.push({label:Lr,font:Gr,textOffset:Yr,options:{rotation:yr,color:Jr,strokeColor:uo,strokeWidth:oo,textAlign:co,textBaseline:ro,translation:[Mr,Nr],backdrop:no}})}return vr}_getXAxisLabelAlignment(){const{position:Hn,ticks:er}=this.options;if(-toRadians(this.labelRotation))return Hn==="top"?"left":"right";let ir="center";return er.align==="start"?ir="left":er.align==="end"?ir="right":er.align==="inner"&&(ir="inner"),ir}_getYAxisLabelAlignment(Hn){const{position:er,ticks:{crossAlign:nr,mirror:ir,padding:rr}}=this.options,sr=this._getLabelSizes(),ar=Hn+rr,or=sr.widest.width;let lr,cr;return er==="left"?ir?(cr=this.right+rr,nr==="near"?lr="left":nr==="center"?(lr="center",cr+=or/2):(lr="right",cr+=or)):(cr=this.right-ar,nr==="near"?lr="right":nr==="center"?(lr="center",cr-=or/2):(lr="left",cr=this.left)):er==="right"?ir?(cr=this.left+rr,nr==="near"?lr="right":nr==="center"?(lr="center",cr-=or/2):(lr="left",cr-=or)):(cr=this.left+ar,nr==="near"?lr="left":nr==="center"?(lr="center",cr+=or/2):(lr="right",cr=this.right)):lr="right",{textAlign:lr,x:cr}}_computeLabelArea(){if(this.options.ticks.mirror)return;const Hn=this.chart,er=this.options.position;if(er==="left"||er==="right")return{top:0,left:this.left,bottom:Hn.height,right:this.right};if(er==="top"||er==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:Hn.width}}drawBackground(){const{ctx:Hn,options:{backgroundColor:er},left:nr,top:ir,width:rr,height:sr}=this;er&&(Hn.save(),Hn.fillStyle=er,Hn.fillRect(nr,ir,rr,sr),Hn.restore())}getLineWidthForValue(Hn){const er=this.options.grid;if(!this._isVisible()||!er.display)return 0;const ir=this.ticks.findIndex(rr=>rr.value===Hn);return ir>=0?er.setContext(this.getContext(ir)).lineWidth:0}drawGrid(Hn){const er=this.options.grid,nr=this.ctx,ir=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(Hn));let rr,sr;const ar=(or,lr,cr)=>{!cr.width||!cr.color||(nr.save(),nr.lineWidth=cr.width,nr.strokeStyle=cr.color,nr.setLineDash(cr.borderDash||[]),nr.lineDashOffset=cr.borderDashOffset,nr.beginPath(),nr.moveTo(or.x,or.y),nr.lineTo(lr.x,lr.y),nr.stroke(),nr.restore())};if(er.display)for(rr=0,sr=ir.length;rr<sr;++rr){const or=ir[rr];er.drawOnChartArea&&ar({x:or.x1,y:or.y1},{x:or.x2,y:or.y2},or),er.drawTicks&&ar({x:or.tx1,y:or.ty1},{x:or.tx2,y:or.ty2},{color:or.tickColor,width:or.tickWidth,borderDash:or.tickBorderDash,borderDashOffset:or.tickBorderDashOffset})}}drawBorder(){const{chart:Hn,ctx:er,options:{border:nr,grid:ir}}=this,rr=nr.setContext(this.getContext()),sr=nr.display?rr.width:0;if(!sr)return;const ar=ir.setContext(this.getContext(0)).lineWidth,or=this._borderValue;let lr,cr,ur,dr;this.isHorizontal()?(lr=_alignPixel(Hn,this.left,sr)-sr/2,cr=_alignPixel(Hn,this.right,ar)+ar/2,ur=dr=or):(ur=_alignPixel(Hn,this.top,sr)-sr/2,dr=_alignPixel(Hn,this.bottom,ar)+ar/2,lr=cr=or),er.save(),er.lineWidth=rr.width,er.strokeStyle=rr.color,er.beginPath(),er.moveTo(lr,ur),er.lineTo(cr,dr),er.stroke(),er.restore()}drawLabels(Hn){if(!this.options.ticks.display)return;const nr=this.ctx,ir=this._computeLabelArea();ir&&clipArea(nr,ir);const rr=this.getLabelItems(Hn);for(const sr of rr){const ar=sr.options,or=sr.font,lr=sr.label,cr=sr.textOffset;renderText(nr,lr,0,cr,or,ar)}ir&&unclipArea(nr)}drawTitle(){const{ctx:Hn,options:{position:er,title:nr,reverse:ir}}=this;if(!nr.display)return;const rr=toFont(nr.font),sr=toPadding(nr.padding),ar=nr.align;let or=rr.lineHeight/2;er==="bottom"||er==="center"||isObject$2(er)?(or+=sr.bottom,isArray$1(nr.text)&&(or+=rr.lineHeight*(nr.text.length-1))):or+=sr.top;const{titleX:lr,titleY:cr,maxWidth:ur,rotation:dr}=titleArgs(this,or,er,ar);renderText(Hn,nr.text,0,0,rr,{color:nr.color,maxWidth:ur,rotation:dr,textAlign:titleAlign(ar,er,ir),textBaseline:"middle",translation:[lr,cr]})}draw(Hn){this._isVisible()&&(this.drawBackground(),this.drawGrid(Hn),this.drawBorder(),this.drawTitle(),this.drawLabels(Hn))}_layers(){const Hn=this.options,er=Hn.ticks&&Hn.ticks.z||0,nr=valueOrDefault(Hn.grid&&Hn.grid.z,-1),ir=valueOrDefault(Hn.border&&Hn.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:er,draw:rr=>{this.draw(rr)}}]:[{z:nr,draw:rr=>{this.drawBackground(),this.drawGrid(rr),this.drawTitle()}},{z:ir,draw:()=>{this.drawBorder()}},{z:er,draw:rr=>{this.drawLabels(rr)}}]}getMatchingVisibleMetas(Hn){const er=this.chart.getSortedVisibleDatasetMetas(),nr=this.axis+"AxisID",ir=[];let rr,sr;for(rr=0,sr=er.length;rr<sr;++rr){const ar=er[rr];ar[nr]===this.id&&(!Hn||ar.type===Hn)&&ir.push(ar)}return ir}_resolveTickFontOptions(Hn){const er=this.options.ticks.setContext(this.getContext(Hn));return toFont(er.font)}_maxDigits(){const Hn=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/Hn}}class TypedRegistry{constructor(Hn,er,nr){this.type=Hn,this.scope=er,this.override=nr,this.items=Object.create(null)}isForType(Hn){return Object.prototype.isPrototypeOf.call(this.type.prototype,Hn.prototype)}register(Hn){const er=Object.getPrototypeOf(Hn);let nr;isIChartComponent(er)&&(nr=this.register(er));const ir=this.items,rr=Hn.id,sr=this.scope+"."+rr;if(!rr)throw new Error("class does not have id: "+Hn);return rr in ir||(ir[rr]=Hn,registerDefaults(Hn,sr,nr),this.override&&defaults$4.override(Hn.id,Hn.overrides)),sr}get(Hn){return this.items[Hn]}unregister(Hn){const er=this.items,nr=Hn.id,ir=this.scope;nr in er&&delete er[nr],ir&&nr in defaults$4[ir]&&(delete defaults$4[ir][nr],this.override&&delete overrides[nr])}}function registerDefaults(tr,Hn,er){const nr=merge$1(Object.create(null),[er?defaults$4.get(er):{},defaults$4.get(Hn),tr.defaults]);defaults$4.set(Hn,nr),tr.defaultRoutes&&routeDefaults(Hn,tr.defaultRoutes),tr.descriptors&&defaults$4.describe(Hn,tr.descriptors)}function routeDefaults(tr,Hn){Object.keys(Hn).forEach(er=>{const nr=er.split("."),ir=nr.pop(),rr=[tr].concat(nr).join("."),sr=Hn[er].split("."),ar=sr.pop(),or=sr.join(".");defaults$4.route(rr,ir,or,ar)})}function isIChartComponent(tr){return"id"in tr&&"defaults"in tr}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...Hn){this._each("register",Hn)}remove(...Hn){this._each("unregister",Hn)}addControllers(...Hn){this._each("register",Hn,this.controllers)}addElements(...Hn){this._each("register",Hn,this.elements)}addPlugins(...Hn){this._each("register",Hn,this.plugins)}addScales(...Hn){this._each("register",Hn,this.scales)}getController(Hn){return this._get(Hn,this.controllers,"controller")}getElement(Hn){return this._get(Hn,this.elements,"element")}getPlugin(Hn){return this._get(Hn,this.plugins,"plugin")}getScale(Hn){return this._get(Hn,this.scales,"scale")}removeControllers(...Hn){this._each("unregister",Hn,this.controllers)}removeElements(...Hn){this._each("unregister",Hn,this.elements)}removePlugins(...Hn){this._each("unregister",Hn,this.plugins)}removeScales(...Hn){this._each("unregister",Hn,this.scales)}_each(Hn,er,nr){[...er].forEach(ir=>{const rr=nr||this._getRegistryForType(ir);nr||rr.isForType(ir)||rr===this.plugins&&ir.id?this._exec(Hn,rr,ir):each$1(ir,sr=>{const ar=nr||this._getRegistryForType(sr);this._exec(Hn,ar,sr)})})}_exec(Hn,er,nr){const ir=_capitalize(Hn);callback(nr["before"+ir],[],nr),er[Hn](nr),callback(nr["after"+ir],[],nr)}_getRegistryForType(Hn){for(let er=0;er<this._typedRegistries.length;er++){const nr=this._typedRegistries[er];if(nr.isForType(Hn))return nr}return this.plugins}_get(Hn,er,nr){const ir=er.get(Hn);if(ir===void 0)throw new Error('"'+Hn+'" is not a registered '+nr+".");return ir}}var registry=new Registry;class PluginService{constructor(){this._init=void 0}notify(Hn,er,nr,ir){if(er==="beforeInit"&&(this._init=this._createDescriptors(Hn,!0),this._notify(this._init,Hn,"install")),this._init===void 0)return;const rr=ir?this._descriptors(Hn).filter(ir):this._descriptors(Hn),sr=this._notify(rr,Hn,er,nr);return er==="afterDestroy"&&(this._notify(rr,Hn,"stop"),this._notify(this._init,Hn,"uninstall"),this._init=void 0),sr}_notify(Hn,er,nr,ir){ir=ir||{};for(const rr of Hn){const sr=rr.plugin,ar=sr[nr],or=[er,ir,rr.options];if(callback(ar,or,sr)===!1&&ir.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(Hn){if(this._cache)return this._cache;const er=this._cache=this._createDescriptors(Hn);return this._notifyStateChanges(Hn),er}_createDescriptors(Hn,er){const nr=Hn&&Hn.config,ir=valueOrDefault(nr.options&&nr.options.plugins,{}),rr=allPlugins(nr);return ir===!1&&!er?[]:createDescriptors(Hn,rr,ir,er)}_notifyStateChanges(Hn){const er=this._oldCache||[],nr=this._cache,ir=(rr,sr)=>rr.filter(ar=>!sr.some(or=>ar.plugin.id===or.plugin.id));this._notify(ir(er,nr),Hn,"stop"),this._notify(ir(nr,er),Hn,"start")}}function allPlugins(tr){const Hn={},er=[],nr=Object.keys(registry.plugins.items);for(let rr=0;rr<nr.length;rr++)er.push(registry.getPlugin(nr[rr]));const ir=tr.plugins||[];for(let rr=0;rr<ir.length;rr++){const sr=ir[rr];er.indexOf(sr)===-1&&(er.push(sr),Hn[sr.id]=!0)}return{plugins:er,localIds:Hn}}function getOpts(tr,Hn){return!Hn&&tr===!1?null:tr===!0?{}:tr}function createDescriptors(tr,{plugins:Hn,localIds:er},nr,ir){const rr=[],sr=tr.getContext();for(const ar of Hn){const or=ar.id,lr=getOpts(nr[or],ir);lr!==null&&rr.push({plugin:ar,options:pluginOpts(tr.config,{plugin:ar,local:er[or]},lr,sr)})}return rr}function pluginOpts(tr,{plugin:Hn,local:er},nr,ir){const rr=tr.pluginScopeKeys(Hn),sr=tr.getOptionScopes(nr,rr);return er&&Hn.defaults&&sr.push(Hn.defaults),tr.createResolver(sr,ir,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(tr,Hn){const er=defaults$4.datasets[tr]||{};return((Hn.datasets||{})[tr]||{}).indexAxis||Hn.indexAxis||er.indexAxis||"x"}function getAxisFromDefaultScaleID(tr,Hn){let er=tr;return tr==="_index_"?er=Hn:tr==="_value_"&&(er=Hn==="x"?"y":"x"),er}function getDefaultScaleIDFromAxis(tr,Hn){return tr===Hn?"_index_":"_value_"}function idMatchesAxis(tr){if(tr==="x"||tr==="y"||tr==="r")return tr}function axisFromPosition(tr){if(tr==="top"||tr==="bottom")return"x";if(tr==="left"||tr==="right")return"y"}function determineAxis(tr,...Hn){if(idMatchesAxis(tr))return tr;for(const er of Hn){const nr=er.axis||axisFromPosition(er.position)||tr.length>1&&idMatchesAxis(tr[0].toLowerCase());if(nr)return nr}throw new Error(`Cannot determine type of '${tr}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(tr,Hn,er){if(er[Hn+"AxisID"]===tr)return{axis:Hn}}function retrieveAxisFromDatasets(tr,Hn){if(Hn.data&&Hn.data.datasets){const er=Hn.data.datasets.filter(nr=>nr.xAxisID===tr||nr.yAxisID===tr);if(er.length)return getAxisFromDataset(tr,"x",er[0])||getAxisFromDataset(tr,"y",er[0])}return{}}function mergeScaleConfig(tr,Hn){const er=overrides[tr.type]||{scales:{}},nr=Hn.scales||{},ir=getIndexAxis(tr.type,Hn),rr=Object.create(null);return Object.keys(nr).forEach(sr=>{const ar=nr[sr];if(!isObject$2(ar))return console.error(`Invalid scale configuration for scale: ${sr}`);if(ar._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${sr}`);const or=determineAxis(sr,ar,retrieveAxisFromDatasets(sr,tr),defaults$4.scales[ar.type]),lr=getDefaultScaleIDFromAxis(or,ir),cr=er.scales||{};rr[sr]=mergeIf(Object.create(null),[{axis:or},ar,cr[or],cr[lr]])}),tr.data.datasets.forEach(sr=>{const ar=sr.type||tr.type,or=sr.indexAxis||getIndexAxis(ar,Hn),cr=(overrides[ar]||{}).scales||{};Object.keys(cr).forEach(ur=>{const dr=getAxisFromDefaultScaleID(ur,or),fr=sr[dr+"AxisID"]||dr;rr[fr]=rr[fr]||Object.create(null),mergeIf(rr[fr],[{axis:dr},nr[fr],cr[ur]])})}),Object.keys(rr).forEach(sr=>{const ar=rr[sr];mergeIf(ar,[defaults$4.scales[ar.type],defaults$4.scale])}),rr}function initOptions(tr){const Hn=tr.options||(tr.options={});Hn.plugins=valueOrDefault(Hn.plugins,{}),Hn.scales=mergeScaleConfig(tr,Hn)}function initData(tr){return tr=tr||{},tr.datasets=tr.datasets||[],tr.labels=tr.labels||[],tr}function initConfig(tr){return tr=tr||{},tr.data=initData(tr.data),initOptions(tr),tr}const keyCache=new Map,keysCached=new Set;function cachedKeys(tr,Hn){let er=keyCache.get(tr);return er||(er=Hn(),keyCache.set(tr,er),keysCached.add(er)),er}const addIfFound=(tr,Hn,er)=>{const nr=resolveObjectKey(Hn,er);nr!==void 0&&tr.add(nr)};class Config{constructor(Hn){this._config=initConfig(Hn),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(Hn){this._config.type=Hn}get data(){return this._config.data}set data(Hn){this._config.data=initData(Hn)}get options(){return this._config.options}set options(Hn){this._config.options=Hn}get plugins(){return this._config.plugins}update(){const Hn=this._config;this.clearCache(),initOptions(Hn)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(Hn){return cachedKeys(Hn,()=>[[`datasets.${Hn}`,""]])}datasetAnimationScopeKeys(Hn,er){return cachedKeys(`${Hn}.transition.${er}`,()=>[[`datasets.${Hn}.transitions.${er}`,`transitions.${er}`],[`datasets.${Hn}`,""]])}datasetElementScopeKeys(Hn,er){return cachedKeys(`${Hn}-${er}`,()=>[[`datasets.${Hn}.elements.${er}`,`datasets.${Hn}`,`elements.${er}`,""]])}pluginScopeKeys(Hn){const er=Hn.id,nr=this.type;return cachedKeys(`${nr}-plugin-${er}`,()=>[[`plugins.${er}`,...Hn.additionalOptionScopes||[]]])}_cachedScopes(Hn,er){const nr=this._scopeCache;let ir=nr.get(Hn);return(!ir||er)&&(ir=new Map,nr.set(Hn,ir)),ir}getOptionScopes(Hn,er,nr){const{options:ir,type:rr}=this,sr=this._cachedScopes(Hn,nr),ar=sr.get(er);if(ar)return ar;const or=new Set;er.forEach(cr=>{Hn&&(or.add(Hn),cr.forEach(ur=>addIfFound(or,Hn,ur))),cr.forEach(ur=>addIfFound(or,ir,ur)),cr.forEach(ur=>addIfFound(or,overrides[rr]||{},ur)),cr.forEach(ur=>addIfFound(or,defaults$4,ur)),cr.forEach(ur=>addIfFound(or,descriptors$1,ur))});const lr=Array.from(or);return lr.length===0&&lr.push(Object.create(null)),keysCached.has(er)&&sr.set(er,lr),lr}chartOptionScopes(){const{options:Hn,type:er}=this;return[Hn,overrides[er]||{},defaults$4.datasets[er]||{},{type:er},defaults$4,descriptors$1]}resolveNamedOptions(Hn,er,nr,ir=[""]){const rr={$shared:!0},{resolver:sr,subPrefixes:ar}=getResolver(this._resolverCache,Hn,ir);let or=sr;if(needContext(sr,er)){rr.$shared=!1,nr=isFunction$2(nr)?nr():nr;const lr=this.createResolver(Hn,nr,ar);or=_attachContext(sr,nr,lr)}for(const lr of er)rr[lr]=or[lr];return rr}createResolver(Hn,er,nr=[""],ir){const{resolver:rr}=getResolver(this._resolverCache,Hn,nr);return isObject$2(er)?_attachContext(rr,er,void 0,ir):rr}}function getResolver(tr,Hn,er){let nr=tr.get(Hn);nr||(nr=new Map,tr.set(Hn,nr));const ir=er.join();let rr=nr.get(ir);return rr||(rr={resolver:_createResolver(Hn,er),subPrefixes:er.filter(ar=>!ar.toLowerCase().includes("hover"))},nr.set(ir,rr)),rr}const hasFunction=tr=>isObject$2(tr)&&Object.getOwnPropertyNames(tr).some(Hn=>isFunction$2(tr[Hn]));function needContext(tr,Hn){const{isScriptable:er,isIndexable:nr}=_descriptors(tr);for(const ir of Hn){const rr=er(ir),sr=nr(ir),ar=(sr||rr)&&tr[ir];if(rr&&(isFunction$2(ar)||hasFunction(ar))||sr&&isArray$1(ar))return!0}return!1}var version$2="4.5.1";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(tr,Hn){return tr==="top"||tr==="bottom"||KNOWN_POSITIONS.indexOf(tr)===-1&&Hn==="x"}function compare2Level(tr,Hn){return function(er,nr){return er[tr]===nr[tr]?er[Hn]-nr[Hn]:er[tr]-nr[tr]}}function onAnimationsComplete(tr){const Hn=tr.chart,er=Hn.options.animation;Hn.notifyPlugins("afterRender"),callback(er&&er.onComplete,[tr],Hn)}function onAnimationProgress(tr){const Hn=tr.chart,er=Hn.options.animation;callback(er&&er.onProgress,[tr],Hn)}function getCanvas(tr){return _isDomSupported()&&typeof tr=="string"?tr=document.getElementById(tr):tr&&tr.length&&(tr=tr[0]),tr&&tr.canvas&&(tr=tr.canvas),tr}const instances={},getChart=tr=>{const Hn=getCanvas(tr);return Object.values(instances).filter(er=>er.canvas===Hn).pop()};function moveNumericKeys(tr,Hn,er){const nr=Object.keys(tr);for(const ir of nr){const rr=+ir;if(rr>=Hn){const sr=tr[ir];delete tr[ir],(er>0||rr>Hn)&&(tr[rr+er]=sr)}}}function determineLastEvent(tr,Hn,er,nr){return!er||tr.type==="mouseout"?null:nr?Hn:tr}let Chart$1=class{static defaults=defaults$4;static instances=instances;static overrides=overrides;static registry=registry;static version=version$2;static getChart=getChart;static register(...Hn){registry.add(...Hn),invalidatePlugins()}static unregister(...Hn){registry.remove(...Hn),invalidatePlugins()}constructor(Hn,er){const nr=this.config=new Config(er),ir=getCanvas(Hn),rr=getChart(ir);if(rr)throw new Error("Canvas is already in use. Chart with ID '"+rr.id+"' must be destroyed before the canvas with ID '"+rr.canvas.id+"' can be reused.");const sr=nr.createResolver(nr.chartOptionScopes(),this.getContext());this.platform=new(nr.platform||_detectPlatform(ir)),this.platform.updateConfig(nr);const ar=this.platform.acquireContext(ir,sr.aspectRatio),or=ar&&ar.canvas,lr=or&&or.height,cr=or&&or.width;if(this.id=uid(),this.ctx=ar,this.canvas=or,this.width=cr,this.height=lr,this._options=sr,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce$3(ur=>this.update(ur),sr.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!ar||!or){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:Hn,maintainAspectRatio:er},width:nr,height:ir,_aspectRatio:rr}=this;return isNullOrUndef(Hn)?er&&rr?rr:ir?nr/ir:null:Hn}get data(){return this.config.data}set data(Hn){this.config.data=Hn}get options(){return this._options}set options(Hn){this.config.options=Hn}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(Hn,er){animator.running(this)?this._resizeBeforeDraw={width:Hn,height:er}:this._resize(Hn,er)}_resize(Hn,er){const nr=this.options,ir=this.canvas,rr=nr.maintainAspectRatio&&this.aspectRatio,sr=this.platform.getMaximumSize(ir,Hn,er,rr),ar=nr.devicePixelRatio||this.platform.getDevicePixelRatio(),or=this.width?"resize":"attach";this.width=sr.width,this.height=sr.height,this._aspectRatio=this.aspectRatio,retinaScale(this,ar,!0)&&(this.notifyPlugins("resize",{size:sr}),callback(nr.onResize,[this,sr],this),this.attached&&this._doResize(or)&&this.render())}ensureScalesHaveIDs(){const er=this.options.scales||{};each$1(er,(nr,ir)=>{nr.id=ir})}buildOrUpdateScales(){const Hn=this.options,er=Hn.scales,nr=this.scales,ir=Object.keys(nr).reduce((sr,ar)=>(sr[ar]=!1,sr),{});let rr=[];er&&(rr=rr.concat(Object.keys(er).map(sr=>{const ar=er[sr],or=determineAxis(sr,ar),lr=or==="r",cr=or==="x";return{options:ar,dposition:lr?"chartArea":cr?"bottom":"left",dtype:lr?"radialLinear":cr?"category":"linear"}}))),each$1(rr,sr=>{const ar=sr.options,or=ar.id,lr=determineAxis(or,ar),cr=valueOrDefault(ar.type,sr.dtype);(ar.position===void 0||positionIsHorizontal(ar.position,lr)!==positionIsHorizontal(sr.dposition))&&(ar.position=sr.dposition),ir[or]=!0;let ur=null;if(or in nr&&nr[or].type===cr)ur=nr[or];else{const dr=registry.getScale(cr);ur=new dr({id:or,type:cr,ctx:this.ctx,chart:this}),nr[ur.id]=ur}ur.init(ar,Hn)}),each$1(ir,(sr,ar)=>{sr||delete nr[ar]}),each$1(nr,sr=>{layouts.configure(this,sr,sr.options),layouts.addBox(this,sr)})}_updateMetasets(){const Hn=this._metasets,er=this.data.datasets.length,nr=Hn.length;if(Hn.sort((ir,rr)=>ir.index-rr.index),nr>er){for(let ir=er;ir<nr;++ir)this._destroyDatasetMeta(ir);Hn.splice(er,nr-er)}this._sortedMetasets=Hn.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:Hn,data:{datasets:er}}=this;Hn.length>er.length&&delete this._stacks,Hn.forEach((nr,ir)=>{er.filter(rr=>rr===nr._dataset).length===0&&this._destroyDatasetMeta(ir)})}buildOrUpdateControllers(){const Hn=[],er=this.data.datasets;let nr,ir;for(this._removeUnreferencedMetasets(),nr=0,ir=er.length;nr<ir;nr++){const rr=er[nr];let sr=this.getDatasetMeta(nr);const ar=rr.type||this.config.type;if(sr.type&&sr.type!==ar&&(this._destroyDatasetMeta(nr),sr=this.getDatasetMeta(nr)),sr.type=ar,sr.indexAxis=rr.indexAxis||getIndexAxis(ar,this.options),sr.order=rr.order||0,sr.index=nr,sr.label=""+rr.label,sr.visible=this.isDatasetVisible(nr),sr.controller)sr.controller.updateIndex(nr),sr.controller.linkScales();else{const or=registry.getController(ar),{datasetElementType:lr,dataElementType:cr}=defaults$4.datasets[ar];Object.assign(or,{dataElementType:registry.getElement(cr),datasetElementType:lr&&registry.getElement(lr)}),sr.controller=new or(this,nr),Hn.push(sr.controller)}}return this._updateMetasets(),Hn}_resetElements(){each$1(this.data.datasets,(Hn,er)=>{this.getDatasetMeta(er).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(Hn){const er=this.config;er.update();const nr=this._options=er.createResolver(er.chartOptionScopes(),this.getContext()),ir=this._animationsDisabled=!nr.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:Hn,cancelable:!0})===!1)return;const rr=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let sr=0;for(let lr=0,cr=this.data.datasets.length;lr<cr;lr++){const{controller:ur}=this.getDatasetMeta(lr),dr=!ir&&rr.indexOf(ur)===-1;ur.buildOrUpdateElements(dr),sr=Math.max(+ur.getMaxOverflow(),sr)}sr=this._minPadding=nr.layout.autoPadding?sr:0,this._updateLayout(sr),ir||each$1(rr,lr=>{lr.reset()}),this._updateDatasets(Hn),this.notifyPlugins("afterUpdate",{mode:Hn}),this._layers.sort(compare2Level("z","_idx"));const{_active:ar,_lastEvent:or}=this;or?this._eventHandler(or,!0):ar.length&&this._updateHoverStyles(ar,ar,!0),this.render()}_updateScales(){each$1(this.scales,Hn=>{layouts.removeBox(this,Hn)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const Hn=this.options,er=new Set(Object.keys(this._listeners)),nr=new Set(Hn.events);(!setsEqual(er,nr)||!!this._responsiveListeners!==Hn.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:Hn}=this,er=this._getUniformDataChanges()||[];for(const{method:nr,start:ir,count:rr}of er){const sr=nr==="_removeElements"?-rr:rr;moveNumericKeys(Hn,ir,sr)}}_getUniformDataChanges(){const Hn=this._dataChanges;if(!Hn||!Hn.length)return;this._dataChanges=[];const er=this.data.datasets.length,nr=rr=>new Set(Hn.filter(sr=>sr[0]===rr).map((sr,ar)=>ar+","+sr.splice(1).join(","))),ir=nr(0);for(let rr=1;rr<er;rr++)if(!setsEqual(ir,nr(rr)))return;return Array.from(ir).map(rr=>rr.split(",")).map(rr=>({method:rr[1],start:+rr[2],count:+rr[3]}))}_updateLayout(Hn){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,Hn);const er=this.chartArea,nr=er.width<=0||er.height<=0;this._layers=[],each$1(this.boxes,ir=>{nr&&ir.position==="chartArea"||(ir.configure&&ir.configure(),this._layers.push(...ir._layers()))},this),this._layers.forEach((ir,rr)=>{ir._idx=rr}),this.notifyPlugins("afterLayout")}_updateDatasets(Hn){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:Hn,cancelable:!0})!==!1){for(let er=0,nr=this.data.datasets.length;er<nr;++er)this.getDatasetMeta(er).controller.configure();for(let er=0,nr=this.data.datasets.length;er<nr;++er)this._updateDataset(er,isFunction$2(Hn)?Hn({datasetIndex:er}):Hn);this.notifyPlugins("afterDatasetsUpdate",{mode:Hn})}}_updateDataset(Hn,er){const nr=this.getDatasetMeta(Hn),ir={meta:nr,index:Hn,mode:er,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",ir)!==!1&&(nr.controller._update(er),ir.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",ir))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let Hn;if(this._resizeBeforeDraw){const{width:nr,height:ir}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(nr,ir)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const er=this._layers;for(Hn=0;Hn<er.length&&er[Hn].z<=0;++Hn)er[Hn].draw(this.chartArea);for(this._drawDatasets();Hn<er.length;++Hn)er[Hn].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(Hn){const er=this._sortedMetasets,nr=[];let ir,rr;for(ir=0,rr=er.length;ir<rr;++ir){const sr=er[ir];(!Hn||sr.visible)&&nr.push(sr)}return nr}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const Hn=this.getSortedVisibleDatasetMetas();for(let er=Hn.length-1;er>=0;--er)this._drawDataset(Hn[er]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(Hn){const er=this.ctx,nr={meta:Hn,index:Hn.index,cancelable:!0},ir=getDatasetClipArea(this,Hn);this.notifyPlugins("beforeDatasetDraw",nr)!==!1&&(ir&&clipArea(er,ir),Hn.controller.draw(),ir&&unclipArea(er),nr.cancelable=!1,this.notifyPlugins("afterDatasetDraw",nr))}isPointInArea(Hn){return _isPointInArea(Hn,this.chartArea,this._minPadding)}getElementsAtEventForMode(Hn,er,nr,ir){const rr=Interaction.modes[er];return typeof rr=="function"?rr(this,Hn,nr,ir):[]}getDatasetMeta(Hn){const er=this.data.datasets[Hn],nr=this._metasets;let ir=nr.filter(rr=>rr&&rr._dataset===er).pop();return ir||(ir={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:er&&er.order||0,index:Hn,_dataset:er,_parsed:[],_sorted:!1},nr.push(ir)),ir}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(Hn){const er=this.data.datasets[Hn];if(!er)return!1;const nr=this.getDatasetMeta(Hn);return typeof nr.hidden=="boolean"?!nr.hidden:!er.hidden}setDatasetVisibility(Hn,er){const nr=this.getDatasetMeta(Hn);nr.hidden=!er}toggleDataVisibility(Hn){this._hiddenIndices[Hn]=!this._hiddenIndices[Hn]}getDataVisibility(Hn){return!this._hiddenIndices[Hn]}_updateVisibility(Hn,er,nr){const ir=nr?"show":"hide",rr=this.getDatasetMeta(Hn),sr=rr.controller._resolveAnimations(void 0,ir);defined$1(er)?(rr.data[er].hidden=!nr,this.update()):(this.setDatasetVisibility(Hn,nr),sr.update(rr,{visible:nr}),this.update(ar=>ar.datasetIndex===Hn?ir:void 0))}hide(Hn,er){this._updateVisibility(Hn,er,!1)}show(Hn,er){this._updateVisibility(Hn,er,!0)}_destroyDatasetMeta(Hn){const er=this._metasets[Hn];er&&er.controller&&er.controller._destroy(),delete this._metasets[Hn]}_stop(){let Hn,er;for(this.stop(),animator.remove(this),Hn=0,er=this.data.datasets.length;Hn<er;++Hn)this._destroyDatasetMeta(Hn)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:Hn,ctx:er}=this;this._stop(),this.config.clearCache(),Hn&&(this.unbindEvents(),clearCanvas(Hn,er),this.platform.releaseContext(er),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...Hn){return this.canvas.toDataURL(...Hn)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const Hn=this._listeners,er=this.platform,nr=(rr,sr)=>{er.addEventListener(this,rr,sr),Hn[rr]=sr},ir=(rr,sr,ar)=>{rr.offsetX=sr,rr.offsetY=ar,this._eventHandler(rr)};each$1(this.options.events,rr=>nr(rr,ir))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const Hn=this._responsiveListeners,er=this.platform,nr=(or,lr)=>{er.addEventListener(this,or,lr),Hn[or]=lr},ir=(or,lr)=>{Hn[or]&&(er.removeEventListener(this,or,lr),delete Hn[or])},rr=(or,lr)=>{this.canvas&&this.resize(or,lr)};let sr;const ar=()=>{ir("attach",ar),this.attached=!0,this.resize(),nr("resize",rr),nr("detach",sr)};sr=()=>{this.attached=!1,ir("resize",rr),this._stop(),this._resize(0,0),nr("attach",ar)},er.isAttached(this.canvas)?ar():sr()}unbindEvents(){each$1(this._listeners,(Hn,er)=>{this.platform.removeEventListener(this,er,Hn)}),this._listeners={},each$1(this._responsiveListeners,(Hn,er)=>{this.platform.removeEventListener(this,er,Hn)}),this._responsiveListeners=void 0}updateHoverStyle(Hn,er,nr){const ir=nr?"set":"remove";let rr,sr,ar,or;for(er==="dataset"&&(rr=this.getDatasetMeta(Hn[0].datasetIndex),rr.controller["_"+ir+"DatasetHoverStyle"]()),ar=0,or=Hn.length;ar<or;++ar){sr=Hn[ar];const lr=sr&&this.getDatasetMeta(sr.datasetIndex).controller;lr&&lr[ir+"HoverStyle"](sr.element,sr.datasetIndex,sr.index)}}getActiveElements(){return this._active||[]}setActiveElements(Hn){const er=this._active||[],nr=Hn.map(({datasetIndex:rr,index:sr})=>{const ar=this.getDatasetMeta(rr);if(!ar)throw new Error("No dataset found at index "+rr);return{datasetIndex:rr,element:ar.data[sr],index:sr}});!_elementsEqual(nr,er)&&(this._active=nr,this._lastEvent=null,this._updateHoverStyles(nr,er))}notifyPlugins(Hn,er,nr){return this._plugins.notify(this,Hn,er,nr)}isPluginEnabled(Hn){return this._plugins._cache.filter(er=>er.plugin.id===Hn).length===1}_updateHoverStyles(Hn,er,nr){const ir=this.options.hover,rr=(or,lr)=>or.filter(cr=>!lr.some(ur=>cr.datasetIndex===ur.datasetIndex&&cr.index===ur.index)),sr=rr(er,Hn),ar=nr?Hn:rr(Hn,er);sr.length&&this.updateHoverStyle(sr,ir.mode,!1),ar.length&&ir.mode&&this.updateHoverStyle(ar,ir.mode,!0)}_eventHandler(Hn,er){const nr={event:Hn,replay:er,cancelable:!0,inChartArea:this.isPointInArea(Hn)},ir=sr=>(sr.options.events||this.options.events).includes(Hn.native.type);if(this.notifyPlugins("beforeEvent",nr,ir)===!1)return;const rr=this._handleEvent(Hn,er,nr.inChartArea);return nr.cancelable=!1,this.notifyPlugins("afterEvent",nr,ir),(rr||nr.changed)&&this.render(),this}_handleEvent(Hn,er,nr){const{_active:ir=[],options:rr}=this,sr=er,ar=this._getActiveElements(Hn,ir,nr,sr),or=_isClickEvent(Hn),lr=determineLastEvent(Hn,this._lastEvent,nr,or);nr&&(this._lastEvent=null,callback(rr.onHover,[Hn,ar,this],this),or&&callback(rr.onClick,[Hn,ar,this],this));const cr=!_elementsEqual(ar,ir);return(cr||er)&&(this._active=ar,this._updateHoverStyles(ar,ir,er)),this._lastEvent=lr,cr}_getActiveElements(Hn,er,nr,ir){if(Hn.type==="mouseout")return[];if(!nr)return er;const rr=this.options.hover;return this.getElementsAtEventForMode(Hn,rr.mode,rr,ir)}};function invalidatePlugins(){return each$1(Chart$1.instances,tr=>tr._plugins.invalidate())}function clipSelf(tr,Hn,er){const{startAngle:nr,x:ir,y:rr,outerRadius:sr,innerRadius:ar,options:or}=Hn,{borderWidth:lr,borderJoinStyle:cr}=or,ur=Math.min(lr/sr,_normalizeAngle(nr-er));if(tr.beginPath(),tr.arc(ir,rr,sr-lr/2,nr+ur/2,er-ur/2),ar>0){const dr=Math.min(lr/ar,_normalizeAngle(nr-er));tr.arc(ir,rr,ar+lr/2,er-dr/2,nr+dr/2,!0)}else{const dr=Math.min(lr/2,sr*_normalizeAngle(nr-er));if(cr==="round")tr.arc(ir,rr,dr,er-PI/2,nr+PI/2,!0);else if(cr==="bevel"){const fr=2*dr*dr,gr=-fr*Math.cos(er+PI/2)+ir,yr=-fr*Math.sin(er+PI/2)+rr,vr=fr*Math.cos(nr+PI/2)+ir,jr=fr*Math.sin(nr+PI/2)+rr;tr.lineTo(gr,yr),tr.lineTo(vr,jr)}}tr.closePath(),tr.moveTo(0,0),tr.rect(0,0,tr.canvas.width,tr.canvas.height),tr.clip("evenodd")}function clipArc(tr,Hn,er){const{startAngle:nr,pixelMargin:ir,x:rr,y:sr,outerRadius:ar,innerRadius:or}=Hn;let lr=ir/ar;tr.beginPath(),tr.arc(rr,sr,ar,nr-lr,er+lr),or>ir?(lr=ir/or,tr.arc(rr,sr,or,er+lr,nr-lr,!0)):tr.arc(rr,sr,ir,er+HALF_PI,nr-HALF_PI),tr.closePath(),tr.clip()}function toRadiusCorners(tr){return _readValueToProps(tr,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(tr,Hn,er,nr){const ir=toRadiusCorners(tr.options.borderRadius),rr=(er-Hn)/2,sr=Math.min(rr,nr*Hn/2),ar=or=>{const lr=(er-Math.min(rr,or))*nr/2;return _limitValue(or,0,Math.min(rr,lr))};return{outerStart:ar(ir.outerStart),outerEnd:ar(ir.outerEnd),innerStart:_limitValue(ir.innerStart,0,sr),innerEnd:_limitValue(ir.innerEnd,0,sr)}}function rThetaToXY(tr,Hn,er,nr){return{x:er+tr*Math.cos(Hn),y:nr+tr*Math.sin(Hn)}}function pathArc(tr,Hn,er,nr,ir,rr){const{x:sr,y:ar,startAngle:or,pixelMargin:lr,innerRadius:cr}=Hn,ur=Math.max(Hn.outerRadius+nr+er-lr,0),dr=cr>0?cr+nr+er+lr:0;let fr=0;const gr=ir-or;if(nr){const fo=cr>0?cr-nr:0,ao=ur>0?ur-nr:0,Jr=(fo+ao)/2,uo=Jr!==0?gr*Jr/(Jr+nr):gr;fr=(gr-uo)/2}const yr=Math.max(.001,gr*ur-er/PI)/ur,vr=(gr-yr)/2,jr=or+vr+fr,Sr=ir-vr-fr,{outerStart:Tr,outerEnd:Lr,innerStart:Mr,innerEnd:Nr}=parseBorderRadius$1(Hn,dr,ur,Sr-jr),Or=ur-Tr,Fr=ur-Lr,Gr=jr+Tr/Or,qr=Sr-Lr/Fr,Hr=dr+Mr,Yr=dr+Nr,ro=jr+Mr/Hr,io=Sr-Nr/Yr;if(tr.beginPath(),rr){const fo=(Gr+qr)/2;if(tr.arc(sr,ar,ur,Gr,fo),tr.arc(sr,ar,ur,fo,qr),Lr>0){const oo=rThetaToXY(Fr,qr,sr,ar);tr.arc(oo.x,oo.y,Lr,qr,Sr+HALF_PI)}const ao=rThetaToXY(Yr,Sr,sr,ar);if(tr.lineTo(ao.x,ao.y),Nr>0){const oo=rThetaToXY(Yr,io,sr,ar);tr.arc(oo.x,oo.y,Nr,Sr+HALF_PI,io+Math.PI)}const Jr=(Sr-Nr/dr+(jr+Mr/dr))/2;if(tr.arc(sr,ar,dr,Sr-Nr/dr,Jr,!0),tr.arc(sr,ar,dr,Jr,jr+Mr/dr,!0),Mr>0){const oo=rThetaToXY(Hr,ro,sr,ar);tr.arc(oo.x,oo.y,Mr,ro+Math.PI,jr-HALF_PI)}const uo=rThetaToXY(Or,jr,sr,ar);if(tr.lineTo(uo.x,uo.y),Tr>0){const oo=rThetaToXY(Or,Gr,sr,ar);tr.arc(oo.x,oo.y,Tr,jr-HALF_PI,Gr)}}else{tr.moveTo(sr,ar);const fo=Math.cos(Gr)*ur+sr,ao=Math.sin(Gr)*ur+ar;tr.lineTo(fo,ao);const Jr=Math.cos(qr)*ur+sr,uo=Math.sin(qr)*ur+ar;tr.lineTo(Jr,uo)}tr.closePath()}function drawArc(tr,Hn,er,nr,ir){const{fullCircles:rr,startAngle:sr,circumference:ar}=Hn;let or=Hn.endAngle;if(rr){pathArc(tr,Hn,er,nr,or,ir);for(let lr=0;lr<rr;++lr)tr.fill();isNaN(ar)||(or=sr+(ar%TAU||TAU))}return pathArc(tr,Hn,er,nr,or,ir),tr.fill(),or}function drawBorder(tr,Hn,er,nr,ir){const{fullCircles:rr,startAngle:sr,circumference:ar,options:or}=Hn,{borderWidth:lr,borderJoinStyle:cr,borderDash:ur,borderDashOffset:dr,borderRadius:fr}=or,gr=or.borderAlign==="inner";if(!lr)return;tr.setLineDash(ur||[]),tr.lineDashOffset=dr,gr?(tr.lineWidth=lr*2,tr.lineJoin=cr||"round"):(tr.lineWidth=lr,tr.lineJoin=cr||"bevel");let yr=Hn.endAngle;if(rr){pathArc(tr,Hn,er,nr,yr,ir);for(let vr=0;vr<rr;++vr)tr.stroke();isNaN(ar)||(yr=sr+(ar%TAU||TAU))}gr&&clipArc(tr,Hn,yr),or.selfJoin&&yr-sr>=PI&&fr===0&&cr!=="miter"&&clipSelf(tr,Hn,yr),rr||(pathArc(tr,Hn,er,nr,yr,ir),tr.stroke())}class ArcElement extends Element$1{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:Hn=>Hn!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(Hn){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,Hn&&Object.assign(this,Hn)}inRange(Hn,er,nr){const ir=this.getProps(["x","y"],nr),{angle:rr,distance:sr}=getAngleFromPoint(ir,{x:Hn,y:er}),{startAngle:ar,endAngle:or,innerRadius:lr,outerRadius:cr,circumference:ur}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],nr),dr=(this.options.spacing+this.options.borderWidth)/2,fr=valueOrDefault(ur,or-ar),gr=_angleBetween(rr,ar,or)&&ar!==or,yr=fr>=TAU||gr,vr=_isBetween(sr,lr+dr,cr+dr);return yr&&vr}getCenterPoint(Hn){const{x:er,y:nr,startAngle:ir,endAngle:rr,innerRadius:sr,outerRadius:ar}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],Hn),{offset:or,spacing:lr}=this.options,cr=(ir+rr)/2,ur=(sr+ar+lr+or)/2;return{x:er+Math.cos(cr)*ur,y:nr+Math.sin(cr)*ur}}tooltipPosition(Hn){return this.getCenterPoint(Hn)}draw(Hn){const{options:er,circumference:nr}=this,ir=(er.offset||0)/4,rr=(er.spacing||0)/2,sr=er.circular;if(this.pixelMargin=er.borderAlign==="inner"?.33:0,this.fullCircles=nr>TAU?Math.floor(nr/TAU):0,nr===0||this.innerRadius<0||this.outerRadius<0)return;Hn.save();const ar=(this.startAngle+this.endAngle)/2;Hn.translate(Math.cos(ar)*ir,Math.sin(ar)*ir);const or=1-Math.sin(Math.min(PI,nr||0)),lr=ir*or;Hn.fillStyle=er.backgroundColor,Hn.strokeStyle=er.borderColor,drawArc(Hn,this,lr,rr,sr),drawBorder(Hn,this,lr,rr,sr),Hn.restore()}}function setStyle(tr,Hn,er=Hn){tr.lineCap=valueOrDefault(er.borderCapStyle,Hn.borderCapStyle),tr.setLineDash(valueOrDefault(er.borderDash,Hn.borderDash)),tr.lineDashOffset=valueOrDefault(er.borderDashOffset,Hn.borderDashOffset),tr.lineJoin=valueOrDefault(er.borderJoinStyle,Hn.borderJoinStyle),tr.lineWidth=valueOrDefault(er.borderWidth,Hn.borderWidth),tr.strokeStyle=valueOrDefault(er.borderColor,Hn.borderColor)}function lineTo(tr,Hn,er){tr.lineTo(er.x,er.y)}function getLineMethod(tr){return tr.stepped?_steppedLineTo:tr.tension||tr.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(tr,Hn,er={}){const nr=tr.length,{start:ir=0,end:rr=nr-1}=er,{start:sr,end:ar}=Hn,or=Math.max(ir,sr),lr=Math.min(rr,ar),cr=ir<sr&&rr<sr||ir>ar&&rr>ar;return{count:nr,start:or,loop:Hn.loop,ilen:lr<or&&!cr?nr+lr-or:lr-or}}function pathSegment(tr,Hn,er,nr){const{points:ir,options:rr}=Hn,{count:sr,start:ar,loop:or,ilen:lr}=pathVars(ir,er,nr),cr=getLineMethod(rr);let{move:ur=!0,reverse:dr}=nr||{},fr,gr,yr;for(fr=0;fr<=lr;++fr)gr=ir[(ar+(dr?lr-fr:fr))%sr],!gr.skip&&(ur?(tr.moveTo(gr.x,gr.y),ur=!1):cr(tr,yr,gr,dr,rr.stepped),yr=gr);return or&&(gr=ir[(ar+(dr?lr:0))%sr],cr(tr,yr,gr,dr,rr.stepped)),!!or}function fastPathSegment(tr,Hn,er,nr){const ir=Hn.points,{count:rr,start:sr,ilen:ar}=pathVars(ir,er,nr),{move:or=!0,reverse:lr}=nr||{};let cr=0,ur=0,dr,fr,gr,yr,vr,jr;const Sr=Lr=>(sr+(lr?ar-Lr:Lr))%rr,Tr=()=>{yr!==vr&&(tr.lineTo(cr,vr),tr.lineTo(cr,yr),tr.lineTo(cr,jr))};for(or&&(fr=ir[Sr(0)],tr.moveTo(fr.x,fr.y)),dr=0;dr<=ar;++dr){if(fr=ir[Sr(dr)],fr.skip)continue;const Lr=fr.x,Mr=fr.y,Nr=Lr|0;Nr===gr?(Mr<yr?yr=Mr:Mr>vr&&(vr=Mr),cr=(ur*cr+Lr)/++ur):(Tr(),tr.lineTo(Lr,Mr),gr=Nr,ur=0,yr=vr=Mr),jr=Mr}Tr()}function _getSegmentMethod(tr){const Hn=tr.options,er=Hn.borderDash&&Hn.borderDash.length;return!tr._decimated&&!tr._loop&&!Hn.tension&&Hn.cubicInterpolationMode!=="monotone"&&!Hn.stepped&&!er?fastPathSegment:pathSegment}function _getInterpolationMethod(tr){return tr.stepped?_steppedInterpolation:tr.tension||tr.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(tr,Hn,er,nr){let ir=Hn._path;ir||(ir=Hn._path=new Path2D,Hn.path(ir,er,nr)&&ir.closePath()),setStyle(tr,Hn.options),tr.stroke(ir)}function strokePathDirect(tr,Hn,er,nr){const{segments:ir,options:rr}=Hn,sr=_getSegmentMethod(Hn);for(const ar of ir)setStyle(tr,rr,ar.style),tr.beginPath(),sr(tr,Hn,ar,{start:er,end:er+nr-1})&&tr.closePath(),tr.stroke()}const usePath2D=typeof Path2D=="function";function draw$2(tr,Hn,er,nr){usePath2D&&!Hn.options.segment?strokePathWithCache(tr,Hn,er,nr):strokePathDirect(tr,Hn,er,nr)}class LineElement extends Element$1{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:Hn=>Hn!=="borderDash"&&Hn!=="fill"};constructor(Hn){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,Hn&&Object.assign(this,Hn)}updateControlPoints(Hn,er){const nr=this.options;if((nr.tension||nr.cubicInterpolationMode==="monotone")&&!nr.stepped&&!this._pointsUpdated){const ir=nr.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,nr,Hn,ir,er),this._pointsUpdated=!0}}set points(Hn){this._points=Hn,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const Hn=this.segments,er=this.points;return Hn.length&&er[Hn[0].start]}last(){const Hn=this.segments,er=this.points,nr=Hn.length;return nr&&er[Hn[nr-1].end]}interpolate(Hn,er){const nr=this.options,ir=Hn[er],rr=this.points,sr=_boundSegments(this,{property:er,start:ir,end:ir});if(!sr.length)return;const ar=[],or=_getInterpolationMethod(nr);let lr,cr;for(lr=0,cr=sr.length;lr<cr;++lr){const{start:ur,end:dr}=sr[lr],fr=rr[ur],gr=rr[dr];if(fr===gr){ar.push(fr);continue}const yr=Math.abs((ir-fr[er])/(gr[er]-fr[er])),vr=or(fr,gr,yr,nr.stepped);vr[er]=Hn[er],ar.push(vr)}return ar.length===1?ar[0]:ar}pathSegment(Hn,er,nr){return _getSegmentMethod(this)(Hn,this,er,nr)}path(Hn,er,nr){const ir=this.segments,rr=_getSegmentMethod(this);let sr=this._loop;er=er||0,nr=nr||this.points.length-er;for(const ar of ir)sr&=rr(Hn,this,ar,{start:er,end:er+nr-1});return!!sr}draw(Hn,er,nr,ir){const rr=this.options||{};(this.points||[]).length&&rr.borderWidth&&(Hn.save(),draw$2(Hn,this,nr,ir),Hn.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1(tr,Hn,er,nr){const ir=tr.options,{[er]:rr}=tr.getProps([er],nr);return Math.abs(Hn-rr)<ir.radius+ir.hitRadius}class PointElement extends Element$1{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Hn){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,Hn&&Object.assign(this,Hn)}inRange(Hn,er,nr){const ir=this.options,{x:rr,y:sr}=this.getProps(["x","y"],nr);return Math.pow(Hn-rr,2)+Math.pow(er-sr,2)<Math.pow(ir.hitRadius+ir.radius,2)}inXRange(Hn,er){return inRange$1(this,Hn,"x",er)}inYRange(Hn,er){return inRange$1(this,Hn,"y",er)}getCenterPoint(Hn){const{x:er,y:nr}=this.getProps(["x","y"],Hn);return{x:er,y:nr}}size(Hn){Hn=Hn||this.options||{};let er=Hn.radius||0;er=Math.max(er,er&&Hn.hoverRadius||0);const nr=er&&Hn.borderWidth||0;return(er+nr)*2}draw(Hn,er){const nr=this.options;this.skip||nr.radius<.1||!_isPointInArea(this,er,this.size(nr)/2)||(Hn.strokeStyle=nr.borderColor,Hn.lineWidth=nr.borderWidth,Hn.fillStyle=nr.backgroundColor,drawPoint$1(Hn,nr,this.x,this.y))}getRange(){const Hn=this.options||{};return Hn.radius+Hn.hitRadius}}function getBarBounds$1(tr,Hn){const{x:er,y:nr,base:ir,width:rr,height:sr}=tr.getProps(["x","y","base","width","height"],Hn);let ar,or,lr,cr,ur;return tr.horizontal?(ur=sr/2,ar=Math.min(er,ir),or=Math.max(er,ir),lr=nr-ur,cr=nr+ur):(ur=rr/2,ar=er-ur,or=er+ur,lr=Math.min(nr,ir),cr=Math.max(nr,ir)),{left:ar,top:lr,right:or,bottom:cr}}function skipOrLimit(tr,Hn,er,nr){return tr?0:_limitValue(Hn,er,nr)}function parseBorderWidth(tr,Hn,er){const nr=tr.options.borderWidth,ir=tr.borderSkipped,rr=toTRBL(nr);return{t:skipOrLimit(ir.top,rr.top,0,er),r:skipOrLimit(ir.right,rr.right,0,Hn),b:skipOrLimit(ir.bottom,rr.bottom,0,er),l:skipOrLimit(ir.left,rr.left,0,Hn)}}function parseBorderRadius(tr,Hn,er){const{enableBorderRadius:nr}=tr.getProps(["enableBorderRadius"]),ir=tr.options.borderRadius,rr=toTRBLCorners(ir),sr=Math.min(Hn,er),ar=tr.borderSkipped,or=nr||isObject$2(ir);return{topLeft:skipOrLimit(!or||ar.top||ar.left,rr.topLeft,0,sr),topRight:skipOrLimit(!or||ar.top||ar.right,rr.topRight,0,sr),bottomLeft:skipOrLimit(!or||ar.bottom||ar.left,rr.bottomLeft,0,sr),bottomRight:skipOrLimit(!or||ar.bottom||ar.right,rr.bottomRight,0,sr)}}function boundingRects$1(tr){const Hn=getBarBounds$1(tr),er=Hn.right-Hn.left,nr=Hn.bottom-Hn.top,ir=parseBorderWidth(tr,er/2,nr/2),rr=parseBorderRadius(tr,er/2,nr/2);return{outer:{x:Hn.left,y:Hn.top,w:er,h:nr,radius:rr},inner:{x:Hn.left+ir.l,y:Hn.top+ir.t,w:er-ir.l-ir.r,h:nr-ir.t-ir.b,radius:{topLeft:Math.max(0,rr.topLeft-Math.max(ir.t,ir.l)),topRight:Math.max(0,rr.topRight-Math.max(ir.t,ir.r)),bottomLeft:Math.max(0,rr.bottomLeft-Math.max(ir.b,ir.l)),bottomRight:Math.max(0,rr.bottomRight-Math.max(ir.b,ir.r))}}}}function inRange$2(tr,Hn,er,nr){const ir=Hn===null,rr=er===null,ar=tr&&!(ir&&rr)&&getBarBounds$1(tr,nr);return ar&&(ir||_isBetween(Hn,ar.left,ar.right))&&(rr||_isBetween(er,ar.top,ar.bottom))}function hasRadius(tr){return tr.topLeft||tr.topRight||tr.bottomLeft||tr.bottomRight}function addNormalRectPath(tr,Hn){tr.rect(Hn.x,Hn.y,Hn.w,Hn.h)}function inflateRect(tr,Hn,er={}){const nr=tr.x!==er.x?-Hn:0,ir=tr.y!==er.y?-Hn:0,rr=(tr.x+tr.w!==er.x+er.w?Hn:0)-nr,sr=(tr.y+tr.h!==er.y+er.h?Hn:0)-ir;return{x:tr.x+nr,y:tr.y+ir,w:tr.w+rr,h:tr.h+sr,radius:tr.radius}}class BarElement extends Element$1{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Hn){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,Hn&&Object.assign(this,Hn)}draw(Hn){const{inflateAmount:er,options:{borderColor:nr,backgroundColor:ir}}=this,{inner:rr,outer:sr}=boundingRects$1(this),ar=hasRadius(sr.radius)?addRoundedRectPath:addNormalRectPath;Hn.save(),(sr.w!==rr.w||sr.h!==rr.h)&&(Hn.beginPath(),ar(Hn,inflateRect(sr,er,rr)),Hn.clip(),ar(Hn,inflateRect(rr,-er,sr)),Hn.fillStyle=nr,Hn.fill("evenodd")),Hn.beginPath(),ar(Hn,inflateRect(rr,er)),Hn.fillStyle=ir,Hn.fill(),Hn.restore()}inRange(Hn,er,nr){return inRange$2(this,Hn,er,nr)}inXRange(Hn,er){return inRange$2(this,Hn,null,er)}inYRange(Hn,er){return inRange$2(this,null,Hn,er)}getCenterPoint(Hn){const{x:er,y:nr,base:ir,horizontal:rr}=this.getProps(["x","y","base","horizontal"],Hn);return{x:rr?(er+ir)/2:er,y:rr?nr:(nr+ir)/2}}getRange(Hn){return Hn==="x"?this.width/2:this.height/2}}var elements=Object.freeze({__proto__:null,ArcElement,BarElement,LineElement,PointElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(tr=>tr.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(tr){return BORDER_COLORS[tr%BORDER_COLORS.length]}function getBackgroundColor(tr){return BACKGROUND_COLORS[tr%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(tr,Hn){return tr.borderColor=getBorderColor(Hn),tr.backgroundColor=getBackgroundColor(Hn),++Hn}function colorizeDoughnutDataset(tr,Hn){return tr.backgroundColor=tr.data.map(()=>getBorderColor(Hn++)),Hn}function colorizePolarAreaDataset(tr,Hn){return tr.backgroundColor=tr.data.map(()=>getBackgroundColor(Hn++)),Hn}function getColorizer(tr){let Hn=0;return(er,nr)=>{const ir=tr.getDatasetMeta(nr).controller;ir instanceof DoughnutController?Hn=colorizeDoughnutDataset(er,Hn):ir instanceof PolarAreaController?Hn=colorizePolarAreaDataset(er,Hn):ir&&(Hn=colorizeDefaultDataset(er,Hn))}}function containsColorsDefinitions(tr){let Hn;for(Hn in tr)if(tr[Hn].borderColor||tr[Hn].backgroundColor)return!0;return!1}function containsColorsDefinition(tr){return tr&&(tr.borderColor||tr.backgroundColor)}function containsDefaultColorsDefenitions(){return defaults$4.borderColor!=="rgba(0,0,0,0.1)"||defaults$4.backgroundColor!=="rgba(0,0,0,0.1)"}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(tr,Hn,er){if(!er.enabled)return;const{data:{datasets:nr},options:ir}=tr.config,{elements:rr}=ir,sr=containsColorsDefinitions(nr)||containsColorsDefinition(ir)||rr&&containsColorsDefinitions(rr)||containsDefaultColorsDefenitions();if(!er.forceOverride&&sr)return;const ar=getColorizer(tr);nr.forEach(ar)}};function lttbDecimation(tr,Hn,er,nr,ir){const rr=ir.samples||nr;if(rr>=er)return tr.slice(Hn,Hn+er);const sr=[],ar=(er-2)/(rr-2);let or=0;const lr=Hn+er-1;let cr=Hn,ur,dr,fr,gr,yr;for(sr[or++]=tr[cr],ur=0;ur<rr-2;ur++){let vr=0,jr=0,Sr;const Tr=Math.floor((ur+1)*ar)+1+Hn,Lr=Math.min(Math.floor((ur+2)*ar)+1,er)+Hn,Mr=Lr-Tr;for(Sr=Tr;Sr<Lr;Sr++)vr+=tr[Sr].x,jr+=tr[Sr].y;vr/=Mr,jr/=Mr;const Nr=Math.floor(ur*ar)+1+Hn,Or=Math.min(Math.floor((ur+1)*ar)+1,er)+Hn,{x:Fr,y:Gr}=tr[cr];for(fr=gr=-1,Sr=Nr;Sr<Or;Sr++)gr=.5*Math.abs((Fr-vr)*(tr[Sr].y-Gr)-(Fr-tr[Sr].x)*(jr-Gr)),gr>fr&&(fr=gr,dr=tr[Sr],yr=Sr);sr[or++]=dr,cr=yr}return sr[or++]=tr[lr],sr}function minMaxDecimation(tr,Hn,er,nr){let ir=0,rr=0,sr,ar,or,lr,cr,ur,dr,fr,gr,yr;const vr=[],jr=Hn+er-1,Sr=tr[Hn].x,Lr=tr[jr].x-Sr;for(sr=Hn;sr<Hn+er;++sr){ar=tr[sr],or=(ar.x-Sr)/Lr*nr,lr=ar.y;const Mr=or|0;if(Mr===cr)lr<gr?(gr=lr,ur=sr):lr>yr&&(yr=lr,dr=sr),ir=(rr*ir+ar.x)/++rr;else{const Nr=sr-1;if(!isNullOrUndef(ur)&&!isNullOrUndef(dr)){const Or=Math.min(ur,dr),Fr=Math.max(ur,dr);Or!==fr&&Or!==Nr&&vr.push({...tr[Or],x:ir}),Fr!==fr&&Fr!==Nr&&vr.push({...tr[Fr],x:ir})}sr>0&&Nr!==fr&&vr.push(tr[Nr]),vr.push(ar),cr=Mr,rr=0,gr=yr=lr,ur=dr=fr=sr}}return vr}function cleanDecimatedDataset(tr){if(tr._decimated){const Hn=tr._data;delete tr._decimated,delete tr._data,Object.defineProperty(tr,"data",{configurable:!0,enumerable:!0,writable:!0,value:Hn})}}function cleanDecimatedData(tr){tr.data.datasets.forEach(Hn=>{cleanDecimatedDataset(Hn)})}function getStartAndCountOfVisiblePointsSimplified(tr,Hn){const er=Hn.length;let nr=0,ir;const{iScale:rr}=tr,{min:sr,max:ar,minDefined:or,maxDefined:lr}=rr.getUserBounds();return or&&(nr=_limitValue(_lookupByKey(Hn,rr.axis,sr).lo,0,er-1)),lr?ir=_limitValue(_lookupByKey(Hn,rr.axis,ar).hi+1,nr,er)-nr:ir=er-nr,{start:nr,count:ir}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(tr,Hn,er)=>{if(!er.enabled){cleanDecimatedData(tr);return}const nr=tr.width;tr.data.datasets.forEach((ir,rr)=>{const{_data:sr,indexAxis:ar}=ir,or=tr.getDatasetMeta(rr),lr=sr||ir.data;if(resolve$1([ar,tr.options.indexAxis])==="y"||!or.controller.supportsDecimation)return;const cr=tr.scales[or.xAxisID];if(cr.type!=="linear"&&cr.type!=="time"||tr.options.parsing)return;let{start:ur,count:dr}=getStartAndCountOfVisiblePointsSimplified(or,lr);const fr=er.threshold||4*nr;if(dr<=fr){cleanDecimatedDataset(ir);return}isNullOrUndef(sr)&&(ir._data=lr,delete ir.data,Object.defineProperty(ir,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(yr){this._data=yr}}));let gr;switch(er.algorithm){case"lttb":gr=lttbDecimation(lr,ur,dr,nr,er);break;case"min-max":gr=minMaxDecimation(lr,ur,dr,nr);break;default:throw new Error(`Unsupported decimation algorithm '${er.algorithm}'`)}ir._decimated=gr})},destroy(tr){cleanDecimatedData(tr)}};function _segments(tr,Hn,er){const nr=tr.segments,ir=tr.points,rr=Hn.points,sr=[];for(const ar of nr){let{start:or,end:lr}=ar;lr=_findSegmentEnd(or,lr,ir);const cr=_getBounds(er,ir[or],ir[lr],ar.loop);if(!Hn.segments){sr.push({source:ar,target:cr,start:ir[or],end:ir[lr]});continue}const ur=_boundSegments(Hn,cr);for(const dr of ur){const fr=_getBounds(er,rr[dr.start],rr[dr.end],dr.loop),gr=_boundSegment(ar,ir,fr);for(const yr of gr)sr.push({source:yr,target:dr,start:{[er]:_getEdge(cr,fr,"start",Math.max)},end:{[er]:_getEdge(cr,fr,"end",Math.min)}})}}return sr}function _getBounds(tr,Hn,er,nr){if(nr)return;let ir=Hn[tr],rr=er[tr];return tr==="angle"&&(ir=_normalizeAngle(ir),rr=_normalizeAngle(rr)),{property:tr,start:ir,end:rr}}function _pointsFromSegments(tr,Hn){const{x:er=null,y:nr=null}=tr||{},ir=Hn.points,rr=[];return Hn.segments.forEach(({start:sr,end:ar})=>{ar=_findSegmentEnd(sr,ar,ir);const or=ir[sr],lr=ir[ar];nr!==null?(rr.push({x:or.x,y:nr}),rr.push({x:lr.x,y:nr})):er!==null&&(rr.push({x:er,y:or.y}),rr.push({x:er,y:lr.y}))}),rr}function _findSegmentEnd(tr,Hn,er){for(;Hn>tr;Hn--){const nr=er[Hn];if(!isNaN(nr.x)&&!isNaN(nr.y))break}return Hn}function _getEdge(tr,Hn,er,nr){return tr&&Hn?nr(tr[er],Hn[er]):tr?tr[er]:Hn?Hn[er]:0}function _createBoundaryLine(tr,Hn){let er=[],nr=!1;return isArray$1(tr)?(nr=!0,er=tr):er=_pointsFromSegments(tr,Hn),er.length?new LineElement({points:er,options:{tension:0},_loop:nr,_fullLoop:nr}):null}function _shouldApplyFill(tr){return tr&&tr.fill!==!1}function _resolveTarget(tr,Hn,er){let ir=tr[Hn].fill;const rr=[Hn];let sr;if(!er)return ir;for(;ir!==!1&&rr.indexOf(ir)===-1;){if(!isNumberFinite(ir))return ir;if(sr=tr[ir],!sr)return!1;if(sr.visible)return ir;rr.push(ir),ir=sr.fill}return!1}function _decodeFill(tr,Hn,er){const nr=parseFillOption(tr);if(isObject$2(nr))return isNaN(nr.value)?!1:nr;let ir=parseFloat(nr);return isNumberFinite(ir)&&Math.floor(ir)===ir?decodeTargetIndex(nr[0],Hn,ir,er):["origin","start","end","stack","shape"].indexOf(nr)>=0&&nr}function decodeTargetIndex(tr,Hn,er,nr){return(tr==="-"||tr==="+")&&(er=Hn+er),er===Hn||er<0||er>=nr?!1:er}function _getTargetPixel(tr,Hn){let er=null;return tr==="start"?er=Hn.bottom:tr==="end"?er=Hn.top:isObject$2(tr)?er=Hn.getPixelForValue(tr.value):Hn.getBasePixel&&(er=Hn.getBasePixel()),er}function _getTargetValue(tr,Hn,er){let nr;return tr==="start"?nr=er:tr==="end"?nr=Hn.options.reverse?Hn.min:Hn.max:isObject$2(tr)?nr=tr.value:nr=Hn.getBaseValue(),nr}function parseFillOption(tr){const Hn=tr.options,er=Hn.fill;let nr=valueOrDefault(er&&er.target,er);return nr===void 0&&(nr=!!Hn.backgroundColor),nr===!1||nr===null?!1:nr===!0?"origin":nr}function _buildStackLine(tr){const{scale:Hn,index:er,line:nr}=tr,ir=[],rr=nr.segments,sr=nr.points,ar=getLinesBelow(Hn,er);ar.push(_createBoundaryLine({x:null,y:Hn.bottom},nr));for(let or=0;or<rr.length;or++){const lr=rr[or];for(let cr=lr.start;cr<=lr.end;cr++)addPointsBelow(ir,sr[cr],ar)}return new LineElement({points:ir,options:{}})}function getLinesBelow(tr,Hn){const er=[],nr=tr.getMatchingVisibleMetas("line");for(let ir=0;ir<nr.length;ir++){const rr=nr[ir];if(rr.index===Hn)break;rr.hidden||er.unshift(rr.dataset)}return er}function addPointsBelow(tr,Hn,er){const nr=[];for(let ir=0;ir<er.length;ir++){const rr=er[ir],{first:sr,last:ar,point:or}=findPoint(rr,Hn,"x");if(!(!or||sr&&ar)){if(sr)nr.unshift(or);else if(tr.push(or),!ar)break}}tr.push(...nr)}function findPoint(tr,Hn,er){const nr=tr.interpolate(Hn,er);if(!nr)return{};const ir=nr[er],rr=tr.segments,sr=tr.points;let ar=!1,or=!1;for(let lr=0;lr<rr.length;lr++){const cr=rr[lr],ur=sr[cr.start][er],dr=sr[cr.end][er];if(_isBetween(ir,ur,dr)){ar=ir===ur,or=ir===dr;break}}return{first:ar,last:or,point:nr}}class simpleArc{constructor(Hn){this.x=Hn.x,this.y=Hn.y,this.radius=Hn.radius}pathSegment(Hn,er,nr){const{x:ir,y:rr,radius:sr}=this;return er=er||{start:0,end:TAU},Hn.arc(ir,rr,sr,er.end,er.start,!0),!nr.bounds}interpolate(Hn){const{x:er,y:nr,radius:ir}=this,rr=Hn.angle;return{x:er+Math.cos(rr)*ir,y:nr+Math.sin(rr)*ir,angle:rr}}}function _getTarget(tr){const{chart:Hn,fill:er,line:nr}=tr;if(isNumberFinite(er))return getLineByIndex(Hn,er);if(er==="stack")return _buildStackLine(tr);if(er==="shape")return!0;const ir=computeBoundary(tr);return ir instanceof simpleArc?ir:_createBoundaryLine(ir,nr)}function getLineByIndex(tr,Hn){const er=tr.getDatasetMeta(Hn);return er&&tr.isDatasetVisible(Hn)?er.dataset:null}function computeBoundary(tr){return(tr.scale||{}).getPointPositionForValue?computeCircularBoundary(tr):computeLinearBoundary(tr)}function computeLinearBoundary(tr){const{scale:Hn={},fill:er}=tr,nr=_getTargetPixel(er,Hn);if(isNumberFinite(nr)){const ir=Hn.isHorizontal();return{x:ir?nr:null,y:ir?null:nr}}return null}function computeCircularBoundary(tr){const{scale:Hn,fill:er}=tr,nr=Hn.options,ir=Hn.getLabels().length,rr=nr.reverse?Hn.max:Hn.min,sr=_getTargetValue(er,Hn,rr),ar=[];if(nr.grid.circular){const or=Hn.getPointPositionForValue(0,rr);return new simpleArc({x:or.x,y:or.y,radius:Hn.getDistanceFromCenterForValue(sr)})}for(let or=0;or<ir;++or)ar.push(Hn.getPointPositionForValue(or,sr));return ar}function _drawfill(tr,Hn,er){const nr=_getTarget(Hn),{chart:ir,index:rr,line:sr,scale:ar,axis:or}=Hn,lr=sr.options,cr=lr.fill,ur=lr.backgroundColor,{above:dr=ur,below:fr=ur}=cr||{},gr=ir.getDatasetMeta(rr),yr=getDatasetClipArea(ir,gr);nr&&sr.points.length&&(clipArea(tr,er),doFill(tr,{line:sr,target:nr,above:dr,below:fr,area:er,scale:ar,axis:or,clip:yr}),unclipArea(tr))}function doFill(tr,Hn){const{line:er,target:nr,above:ir,below:rr,area:sr,scale:ar,clip:or}=Hn,lr=er._loop?"angle":Hn.axis;tr.save();let cr=rr;rr!==ir&&(lr==="x"?(clipVertical(tr,nr,sr.top),fill(tr,{line:er,target:nr,color:ir,scale:ar,property:lr,clip:or}),tr.restore(),tr.save(),clipVertical(tr,nr,sr.bottom)):lr==="y"&&(clipHorizontal(tr,nr,sr.left),fill(tr,{line:er,target:nr,color:rr,scale:ar,property:lr,clip:or}),tr.restore(),tr.save(),clipHorizontal(tr,nr,sr.right),cr=ir)),fill(tr,{line:er,target:nr,color:cr,scale:ar,property:lr,clip:or}),tr.restore()}function clipVertical(tr,Hn,er){const{segments:nr,points:ir}=Hn;let rr=!0,sr=!1;tr.beginPath();for(const ar of nr){const{start:or,end:lr}=ar,cr=ir[or],ur=ir[_findSegmentEnd(or,lr,ir)];rr?(tr.moveTo(cr.x,cr.y),rr=!1):(tr.lineTo(cr.x,er),tr.lineTo(cr.x,cr.y)),sr=!!Hn.pathSegment(tr,ar,{move:sr}),sr?tr.closePath():tr.lineTo(ur.x,er)}tr.lineTo(Hn.first().x,er),tr.closePath(),tr.clip()}function clipHorizontal(tr,Hn,er){const{segments:nr,points:ir}=Hn;let rr=!0,sr=!1;tr.beginPath();for(const ar of nr){const{start:or,end:lr}=ar,cr=ir[or],ur=ir[_findSegmentEnd(or,lr,ir)];rr?(tr.moveTo(cr.x,cr.y),rr=!1):(tr.lineTo(er,cr.y),tr.lineTo(cr.x,cr.y)),sr=!!Hn.pathSegment(tr,ar,{move:sr}),sr?tr.closePath():tr.lineTo(er,ur.y)}tr.lineTo(er,Hn.first().y),tr.closePath(),tr.clip()}function fill(tr,Hn){const{line:er,target:nr,property:ir,color:rr,scale:sr,clip:ar}=Hn,or=_segments(er,nr,ir);for(const{source:lr,target:cr,start:ur,end:dr}of or){const{style:{backgroundColor:fr=rr}={}}=lr,gr=nr!==!0;tr.save(),tr.fillStyle=fr,clipBounds(tr,sr,ar,gr&&_getBounds(ir,ur,dr)),tr.beginPath();const yr=!!er.pathSegment(tr,lr);let vr;if(gr){yr?tr.closePath():interpolatedLineTo(tr,nr,dr,ir);const jr=!!nr.pathSegment(tr,cr,{move:yr,reverse:!0});vr=yr&&jr,vr||interpolatedLineTo(tr,nr,ur,ir)}tr.closePath(),tr.fill(vr?"evenodd":"nonzero"),tr.restore()}}function clipBounds(tr,Hn,er,nr){const ir=Hn.chart.chartArea,{property:rr,start:sr,end:ar}=nr||{};if(rr==="x"||rr==="y"){let or,lr,cr,ur;rr==="x"?(or=sr,lr=ir.top,cr=ar,ur=ir.bottom):(or=ir.left,lr=sr,cr=ir.right,ur=ar),tr.beginPath(),er&&(or=Math.max(or,er.left),cr=Math.min(cr,er.right),lr=Math.max(lr,er.top),ur=Math.min(ur,er.bottom)),tr.rect(or,lr,cr-or,ur-lr),tr.clip()}}function interpolatedLineTo(tr,Hn,er,nr){const ir=Hn.interpolate(er,nr);ir&&tr.lineTo(ir.x,ir.y)}var index={id:"filler",afterDatasetsUpdate(tr,Hn,er){const nr=(tr.data.datasets||[]).length,ir=[];let rr,sr,ar,or;for(sr=0;sr<nr;++sr)rr=tr.getDatasetMeta(sr),ar=rr.dataset,or=null,ar&&ar.options&&ar instanceof LineElement&&(or={visible:tr.isDatasetVisible(sr),index:sr,fill:_decodeFill(ar,sr,nr),chart:tr,axis:rr.controller.options.indexAxis,scale:rr.vScale,line:ar}),rr.$filler=or,ir.push(or);for(sr=0;sr<nr;++sr)or=ir[sr],!(!or||or.fill===!1)&&(or.fill=_resolveTarget(ir,sr,er.propagate))},beforeDraw(tr,Hn,er){const nr=er.drawTime==="beforeDraw",ir=tr.getSortedVisibleDatasetMetas(),rr=tr.chartArea;for(let sr=ir.length-1;sr>=0;--sr){const ar=ir[sr].$filler;ar&&(ar.line.updateControlPoints(rr,ar.axis),nr&&ar.fill&&_drawfill(tr.ctx,ar,rr))}},beforeDatasetsDraw(tr,Hn,er){if(er.drawTime!=="beforeDatasetsDraw")return;const nr=tr.getSortedVisibleDatasetMetas();for(let ir=nr.length-1;ir>=0;--ir){const rr=nr[ir].$filler;_shouldApplyFill(rr)&&_drawfill(tr.ctx,rr,tr.chartArea)}},beforeDatasetDraw(tr,Hn,er){const nr=Hn.meta.$filler;!_shouldApplyFill(nr)||er.drawTime!=="beforeDatasetDraw"||_drawfill(tr.ctx,nr,tr.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(tr,Hn)=>{let{boxHeight:er=Hn,boxWidth:nr=Hn}=tr;return tr.usePointStyle&&(er=Math.min(er,Hn),nr=tr.pointStyleWidth||Math.min(nr,Hn)),{boxWidth:nr,boxHeight:er,itemHeight:Math.max(Hn,er)}},itemsEqual=(tr,Hn)=>tr!==null&&Hn!==null&&tr.datasetIndex===Hn.datasetIndex&&tr.index===Hn.index;class Legend extends Element$1{constructor(Hn){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=Hn.chart,this.options=Hn.options,this.ctx=Hn.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Hn,er,nr){this.maxWidth=Hn,this.maxHeight=er,this._margins=nr,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const Hn=this.options.labels||{};let er=callback(Hn.generateLabels,[this.chart],this)||[];Hn.filter&&(er=er.filter(nr=>Hn.filter(nr,this.chart.data))),Hn.sort&&(er=er.sort((nr,ir)=>Hn.sort(nr,ir,this.chart.data))),this.options.reverse&&er.reverse(),this.legendItems=er}fit(){const{options:Hn,ctx:er}=this;if(!Hn.display){this.width=this.height=0;return}const nr=Hn.labels,ir=toFont(nr.font),rr=ir.size,sr=this._computeTitleHeight(),{boxWidth:ar,itemHeight:or}=getBoxSize(nr,rr);let lr,cr;er.font=ir.string,this.isHorizontal()?(lr=this.maxWidth,cr=this._fitRows(sr,rr,ar,or)+10):(cr=this.maxHeight,lr=this._fitCols(sr,ir,ar,or)+10),this.width=Math.min(lr,Hn.maxWidth||this.maxWidth),this.height=Math.min(cr,Hn.maxHeight||this.maxHeight)}_fitRows(Hn,er,nr,ir){const{ctx:rr,maxWidth:sr,options:{labels:{padding:ar}}}=this,or=this.legendHitBoxes=[],lr=this.lineWidths=[0],cr=ir+ar;let ur=Hn;rr.textAlign="left",rr.textBaseline="middle";let dr=-1,fr=-cr;return this.legendItems.forEach((gr,yr)=>{const vr=nr+er/2+rr.measureText(gr.text).width;(yr===0||lr[lr.length-1]+vr+2*ar>sr)&&(ur+=cr,lr[lr.length-(yr>0?0:1)]=0,fr+=cr,dr++),or[yr]={left:0,top:fr,row:dr,width:vr,height:ir},lr[lr.length-1]+=vr+ar}),ur}_fitCols(Hn,er,nr,ir){const{ctx:rr,maxHeight:sr,options:{labels:{padding:ar}}}=this,or=this.legendHitBoxes=[],lr=this.columnSizes=[],cr=sr-Hn;let ur=ar,dr=0,fr=0,gr=0,yr=0;return this.legendItems.forEach((vr,jr)=>{const{itemWidth:Sr,itemHeight:Tr}=calculateItemSize(nr,er,rr,vr,ir);jr>0&&fr+Tr+2*ar>cr&&(ur+=dr+ar,lr.push({width:dr,height:fr}),gr+=dr+ar,yr++,dr=fr=0),or[jr]={left:gr,top:fr,col:yr,width:Sr,height:Tr},dr=Math.max(dr,Sr),fr+=Tr+ar}),ur+=dr,lr.push({width:dr,height:fr}),ur}adjustHitBoxes(){if(!this.options.display)return;const Hn=this._computeTitleHeight(),{legendHitBoxes:er,options:{align:nr,labels:{padding:ir},rtl:rr}}=this,sr=getRtlAdapter(rr,this.left,this.width);if(this.isHorizontal()){let ar=0,or=_alignStartEnd(nr,this.left+ir,this.right-this.lineWidths[ar]);for(const lr of er)ar!==lr.row&&(ar=lr.row,or=_alignStartEnd(nr,this.left+ir,this.right-this.lineWidths[ar])),lr.top+=this.top+Hn+ir,lr.left=sr.leftForLtr(sr.x(or),lr.width),or+=lr.width+ir}else{let ar=0,or=_alignStartEnd(nr,this.top+Hn+ir,this.bottom-this.columnSizes[ar].height);for(const lr of er)lr.col!==ar&&(ar=lr.col,or=_alignStartEnd(nr,this.top+Hn+ir,this.bottom-this.columnSizes[ar].height)),lr.top=or,lr.left+=this.left+ir,lr.left=sr.leftForLtr(sr.x(lr.left),lr.width),or+=lr.height+ir}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const Hn=this.ctx;clipArea(Hn,this),this._draw(),unclipArea(Hn)}}_draw(){const{options:Hn,columnSizes:er,lineWidths:nr,ctx:ir}=this,{align:rr,labels:sr}=Hn,ar=defaults$4.color,or=getRtlAdapter(Hn.rtl,this.left,this.width),lr=toFont(sr.font),{padding:cr}=sr,ur=lr.size,dr=ur/2;let fr;this.drawTitle(),ir.textAlign=or.textAlign("left"),ir.textBaseline="middle",ir.lineWidth=.5,ir.font=lr.string;const{boxWidth:gr,boxHeight:yr,itemHeight:vr}=getBoxSize(sr,ur),jr=function(Nr,Or,Fr){if(isNaN(gr)||gr<=0||isNaN(yr)||yr<0)return;ir.save();const Gr=valueOrDefault(Fr.lineWidth,1);if(ir.fillStyle=valueOrDefault(Fr.fillStyle,ar),ir.lineCap=valueOrDefault(Fr.lineCap,"butt"),ir.lineDashOffset=valueOrDefault(Fr.lineDashOffset,0),ir.lineJoin=valueOrDefault(Fr.lineJoin,"miter"),ir.lineWidth=Gr,ir.strokeStyle=valueOrDefault(Fr.strokeStyle,ar),ir.setLineDash(valueOrDefault(Fr.lineDash,[])),sr.usePointStyle){const qr={radius:yr*Math.SQRT2/2,pointStyle:Fr.pointStyle,rotation:Fr.rotation,borderWidth:Gr},Hr=or.xPlus(Nr,gr/2),Yr=Or+dr;drawPointLegend(ir,qr,Hr,Yr,sr.pointStyleWidth&&gr)}else{const qr=Or+Math.max((ur-yr)/2,0),Hr=or.leftForLtr(Nr,gr),Yr=toTRBLCorners(Fr.borderRadius);ir.beginPath(),Object.values(Yr).some(ro=>ro!==0)?addRoundedRectPath(ir,{x:Hr,y:qr,w:gr,h:yr,radius:Yr}):ir.rect(Hr,qr,gr,yr),ir.fill(),Gr!==0&&ir.stroke()}ir.restore()},Sr=function(Nr,Or,Fr){renderText(ir,Fr.text,Nr,Or+vr/2,lr,{strikethrough:Fr.hidden,textAlign:or.textAlign(Fr.textAlign)})},Tr=this.isHorizontal(),Lr=this._computeTitleHeight();Tr?fr={x:_alignStartEnd(rr,this.left+cr,this.right-nr[0]),y:this.top+cr+Lr,line:0}:fr={x:this.left+cr,y:_alignStartEnd(rr,this.top+Lr+cr,this.bottom-er[0].height),line:0},overrideTextDirection(this.ctx,Hn.textDirection);const Mr=vr+cr;this.legendItems.forEach((Nr,Or)=>{ir.strokeStyle=Nr.fontColor,ir.fillStyle=Nr.fontColor;const Fr=ir.measureText(Nr.text).width,Gr=or.textAlign(Nr.textAlign||(Nr.textAlign=sr.textAlign)),qr=gr+dr+Fr;let Hr=fr.x,Yr=fr.y;or.setWidth(this.width),Tr?Or>0&&Hr+qr+cr>this.right&&(Yr=fr.y+=Mr,fr.line++,Hr=fr.x=_alignStartEnd(rr,this.left+cr,this.right-nr[fr.line])):Or>0&&Yr+Mr>this.bottom&&(Hr=fr.x=Hr+er[fr.line].width+cr,fr.line++,Yr=fr.y=_alignStartEnd(rr,this.top+Lr+cr,this.bottom-er[fr.line].height));const ro=or.x(Hr);if(jr(ro,Yr,Nr),Hr=_textX(Gr,Hr+gr+dr,Tr?Hr+qr:this.right,Hn.rtl),Sr(or.x(Hr),Yr,Nr),Tr)fr.x+=qr+cr;else if(typeof Nr.text!="string"){const io=lr.lineHeight;fr.y+=calculateLegendItemHeight(Nr,io)+cr}else fr.y+=Mr}),restoreTextDirection(this.ctx,Hn.textDirection)}drawTitle(){const Hn=this.options,er=Hn.title,nr=toFont(er.font),ir=toPadding(er.padding);if(!er.display)return;const rr=getRtlAdapter(Hn.rtl,this.left,this.width),sr=this.ctx,ar=er.position,or=nr.size/2,lr=ir.top+or;let cr,ur=this.left,dr=this.width;if(this.isHorizontal())dr=Math.max(...this.lineWidths),cr=this.top+lr,ur=_alignStartEnd(Hn.align,ur,this.right-dr);else{const gr=this.columnSizes.reduce((yr,vr)=>Math.max(yr,vr.height),0);cr=lr+_alignStartEnd(Hn.align,this.top,this.bottom-gr-Hn.labels.padding-this._computeTitleHeight())}const fr=_alignStartEnd(ar,ur,ur+dr);sr.textAlign=rr.textAlign(_toLeftRightCenter(ar)),sr.textBaseline="middle",sr.strokeStyle=er.color,sr.fillStyle=er.color,sr.font=nr.string,renderText(sr,er.text,fr,cr,nr)}_computeTitleHeight(){const Hn=this.options.title,er=toFont(Hn.font),nr=toPadding(Hn.padding);return Hn.display?er.lineHeight+nr.height:0}_getLegendItemAt(Hn,er){let nr,ir,rr;if(_isBetween(Hn,this.left,this.right)&&_isBetween(er,this.top,this.bottom)){for(rr=this.legendHitBoxes,nr=0;nr<rr.length;++nr)if(ir=rr[nr],_isBetween(Hn,ir.left,ir.left+ir.width)&&_isBetween(er,ir.top,ir.top+ir.height))return this.legendItems[nr]}return null}handleEvent(Hn){const er=this.options;if(!isListened(Hn.type,er))return;const nr=this._getLegendItemAt(Hn.x,Hn.y);if(Hn.type==="mousemove"||Hn.type==="mouseout"){const ir=this._hoveredItem,rr=itemsEqual(ir,nr);ir&&!rr&&callback(er.onLeave,[Hn,ir,this],this),this._hoveredItem=nr,nr&&!rr&&callback(er.onHover,[Hn,nr,this],this)}else nr&&callback(er.onClick,[Hn,nr,this],this)}}function calculateItemSize(tr,Hn,er,nr,ir){const rr=calculateItemWidth(nr,tr,Hn,er),sr=calculateItemHeight(ir,nr,Hn.lineHeight);return{itemWidth:rr,itemHeight:sr}}function calculateItemWidth(tr,Hn,er,nr){let ir=tr.text;return ir&&typeof ir!="string"&&(ir=ir.reduce((rr,sr)=>rr.length>sr.length?rr:sr)),Hn+er.size/2+nr.measureText(ir).width}function calculateItemHeight(tr,Hn,er){let nr=tr;return typeof Hn.text!="string"&&(nr=calculateLegendItemHeight(Hn,er)),nr}function calculateLegendItemHeight(tr,Hn){const er=tr.text?tr.text.length:0;return Hn*er}function isListened(tr,Hn){return!!((tr==="mousemove"||tr==="mouseout")&&(Hn.onHover||Hn.onLeave)||Hn.onClick&&(tr==="click"||tr==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(tr,Hn,er){const nr=tr.legend=new Legend({ctx:tr.ctx,options:er,chart:tr});layouts.configure(tr,nr,er),layouts.addBox(tr,nr)},stop(tr){layouts.removeBox(tr,tr.legend),delete tr.legend},beforeUpdate(tr,Hn,er){const nr=tr.legend;layouts.configure(tr,nr,er),nr.options=er},afterUpdate(tr){const Hn=tr.legend;Hn.buildLabels(),Hn.adjustHitBoxes()},afterEvent(tr,Hn){Hn.replay||tr.legend.handleEvent(Hn.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(tr,Hn,er){const nr=Hn.datasetIndex,ir=er.chart;ir.isDatasetVisible(nr)?(ir.hide(nr),Hn.hidden=!0):(ir.show(nr),Hn.hidden=!1)},onHover:null,onLeave:null,labels:{color:tr=>tr.chart.options.color,boxWidth:40,padding:10,generateLabels(tr){const Hn=tr.data.datasets,{labels:{usePointStyle:er,pointStyle:nr,textAlign:ir,color:rr,useBorderRadius:sr,borderRadius:ar}}=tr.legend.options;return tr._getSortedDatasetMetas().map(or=>{const lr=or.controller.getStyle(er?0:void 0),cr=toPadding(lr.borderWidth);return{text:Hn[or.index].label,fillStyle:lr.backgroundColor,fontColor:rr,hidden:!or.visible,lineCap:lr.borderCapStyle,lineDash:lr.borderDash,lineDashOffset:lr.borderDashOffset,lineJoin:lr.borderJoinStyle,lineWidth:(cr.width+cr.height)/4,strokeStyle:lr.borderColor,pointStyle:nr||lr.pointStyle,rotation:lr.rotation,textAlign:ir||lr.textAlign,borderRadius:sr&&(ar||lr.borderRadius),datasetIndex:or.index}},this)}},title:{color:tr=>tr.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:tr=>!tr.startsWith("on"),labels:{_scriptable:tr=>!["generateLabels","filter","sort"].includes(tr)}}};class Title extends Element$1{constructor(Hn){super(),this.chart=Hn.chart,this.options=Hn.options,this.ctx=Hn.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Hn,er){const nr=this.options;if(this.left=0,this.top=0,!nr.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=Hn,this.height=this.bottom=er;const ir=isArray$1(nr.text)?nr.text.length:1;this._padding=toPadding(nr.padding);const rr=ir*toFont(nr.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=rr:this.width=rr}isHorizontal(){const Hn=this.options.position;return Hn==="top"||Hn==="bottom"}_drawArgs(Hn){const{top:er,left:nr,bottom:ir,right:rr,options:sr}=this,ar=sr.align;let or=0,lr,cr,ur;return this.isHorizontal()?(cr=_alignStartEnd(ar,nr,rr),ur=er+Hn,lr=rr-nr):(sr.position==="left"?(cr=nr+Hn,ur=_alignStartEnd(ar,ir,er),or=PI*-.5):(cr=rr-Hn,ur=_alignStartEnd(ar,er,ir),or=PI*.5),lr=ir-er),{titleX:cr,titleY:ur,maxWidth:lr,rotation:or}}draw(){const Hn=this.ctx,er=this.options;if(!er.display)return;const nr=toFont(er.font),rr=nr.lineHeight/2+this._padding.top,{titleX:sr,titleY:ar,maxWidth:or,rotation:lr}=this._drawArgs(rr);renderText(Hn,er.text,0,0,nr,{color:er.color,maxWidth:or,rotation:lr,textAlign:_toLeftRightCenter(er.align),textBaseline:"middle",translation:[sr,ar]})}}function createTitle(tr,Hn){const er=new Title({ctx:tr.ctx,options:Hn,chart:tr});layouts.configure(tr,er,Hn),layouts.addBox(tr,er),tr.titleBlock=er}var plugin_title={id:"title",_element:Title,start(tr,Hn,er){createTitle(tr,er)},stop(tr){const Hn=tr.titleBlock;layouts.removeBox(tr,Hn),delete tr.titleBlock},beforeUpdate(tr,Hn,er){const nr=tr.titleBlock;layouts.configure(tr,nr,er),nr.options=er},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map$2=new WeakMap;var plugin_subtitle={id:"subtitle",start(tr,Hn,er){const nr=new Title({ctx:tr.ctx,options:er,chart:tr});layouts.configure(tr,nr,er),layouts.addBox(tr,nr),map$2.set(tr,nr)},stop(tr){layouts.removeBox(tr,map$2.get(tr)),map$2.delete(tr)},beforeUpdate(tr,Hn,er){const nr=map$2.get(tr);layouts.configure(tr,nr,er),nr.options=er},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners$1={average(tr){if(!tr.length)return!1;let Hn,er,nr=new Set,ir=0,rr=0;for(Hn=0,er=tr.length;Hn<er;++Hn){const ar=tr[Hn].element;if(ar&&ar.hasValue()){const or=ar.tooltipPosition();nr.add(or.x),ir+=or.y,++rr}}return rr===0||nr.size===0?!1:{x:[...nr].reduce((ar,or)=>ar+or)/nr.size,y:ir/rr}},nearest(tr,Hn){if(!tr.length)return!1;let er=Hn.x,nr=Hn.y,ir=Number.POSITIVE_INFINITY,rr,sr,ar;for(rr=0,sr=tr.length;rr<sr;++rr){const or=tr[rr].element;if(or&&or.hasValue()){const lr=or.getCenterPoint(),cr=distanceBetweenPoints$1(Hn,lr);cr<ir&&(ir=cr,ar=or)}}if(ar){const or=ar.tooltipPosition();er=or.x,nr=or.y}return{x:er,y:nr}}};function pushOrConcat(tr,Hn){return Hn&&(isArray$1(Hn)?Array.prototype.push.apply(tr,Hn):tr.push(Hn)),tr}function splitNewlines(tr){return(typeof tr=="string"||tr instanceof String)&&tr.indexOf(`
`)>-1?tr.split(`
`):tr}function createTooltipItem(tr,Hn){const{element:er,datasetIndex:nr,index:ir}=Hn,rr=tr.getDatasetMeta(nr).controller,{label:sr,value:ar}=rr.getLabelAndValue(ir);return{chart:tr,label:sr,parsed:rr.getParsed(ir),raw:tr.data.datasets[nr].data[ir],formattedValue:ar,dataset:rr.getDataset(),dataIndex:ir,datasetIndex:nr,element:er}}function getTooltipSize(tr,Hn){const er=tr.chart.ctx,{body:nr,footer:ir,title:rr}=tr,{boxWidth:sr,boxHeight:ar}=Hn,or=toFont(Hn.bodyFont),lr=toFont(Hn.titleFont),cr=toFont(Hn.footerFont),ur=rr.length,dr=ir.length,fr=nr.length,gr=toPadding(Hn.padding);let yr=gr.height,vr=0,jr=nr.reduce((Lr,Mr)=>Lr+Mr.before.length+Mr.lines.length+Mr.after.length,0);if(jr+=tr.beforeBody.length+tr.afterBody.length,ur&&(yr+=ur*lr.lineHeight+(ur-1)*Hn.titleSpacing+Hn.titleMarginBottom),jr){const Lr=Hn.displayColors?Math.max(ar,or.lineHeight):or.lineHeight;yr+=fr*Lr+(jr-fr)*or.lineHeight+(jr-1)*Hn.bodySpacing}dr&&(yr+=Hn.footerMarginTop+dr*cr.lineHeight+(dr-1)*Hn.footerSpacing);let Sr=0;const Tr=function(Lr){vr=Math.max(vr,er.measureText(Lr).width+Sr)};return er.save(),er.font=lr.string,each$1(tr.title,Tr),er.font=or.string,each$1(tr.beforeBody.concat(tr.afterBody),Tr),Sr=Hn.displayColors?sr+2+Hn.boxPadding:0,each$1(nr,Lr=>{each$1(Lr.before,Tr),each$1(Lr.lines,Tr),each$1(Lr.after,Tr)}),Sr=0,er.font=cr.string,each$1(tr.footer,Tr),er.restore(),vr+=gr.width,{width:vr,height:yr}}function determineYAlign(tr,Hn){const{y:er,height:nr}=Hn;return er<nr/2?"top":er>tr.height-nr/2?"bottom":"center"}function doesNotFitWithAlign(tr,Hn,er,nr){const{x:ir,width:rr}=nr,sr=er.caretSize+er.caretPadding;if(tr==="left"&&ir+rr+sr>Hn.width||tr==="right"&&ir-rr-sr<0)return!0}function determineXAlign(tr,Hn,er,nr){const{x:ir,width:rr}=er,{width:sr,chartArea:{left:ar,right:or}}=tr;let lr="center";return nr==="center"?lr=ir<=(ar+or)/2?"left":"right":ir<=rr/2?lr="left":ir>=sr-rr/2&&(lr="right"),doesNotFitWithAlign(lr,tr,Hn,er)&&(lr="center"),lr}function determineAlignment(tr,Hn,er){const nr=er.yAlign||Hn.yAlign||determineYAlign(tr,er);return{xAlign:er.xAlign||Hn.xAlign||determineXAlign(tr,Hn,er,nr),yAlign:nr}}function alignX(tr,Hn){let{x:er,width:nr}=tr;return Hn==="right"?er-=nr:Hn==="center"&&(er-=nr/2),er}function alignY(tr,Hn,er){let{y:nr,height:ir}=tr;return Hn==="top"?nr+=er:Hn==="bottom"?nr-=ir+er:nr-=ir/2,nr}function getBackgroundPoint(tr,Hn,er,nr){const{caretSize:ir,caretPadding:rr,cornerRadius:sr}=tr,{xAlign:ar,yAlign:or}=er,lr=ir+rr,{topLeft:cr,topRight:ur,bottomLeft:dr,bottomRight:fr}=toTRBLCorners(sr);let gr=alignX(Hn,ar);const yr=alignY(Hn,or,lr);return or==="center"?ar==="left"?gr+=lr:ar==="right"&&(gr-=lr):ar==="left"?gr-=Math.max(cr,dr)+ir:ar==="right"&&(gr+=Math.max(ur,fr)+ir),{x:_limitValue(gr,0,nr.width-Hn.width),y:_limitValue(yr,0,nr.height-Hn.height)}}function getAlignedX(tr,Hn,er){const nr=toPadding(er.padding);return Hn==="center"?tr.x+tr.width/2:Hn==="right"?tr.x+tr.width-nr.right:tr.x+nr.left}function getBeforeAfterBodyLines(tr){return pushOrConcat([],splitNewlines(tr))}function createTooltipContext(tr,Hn,er){return createContext(tr,{tooltip:Hn,tooltipItems:er,type:"tooltip"})}function overrideCallbacks(tr,Hn){const er=Hn&&Hn.dataset&&Hn.dataset.tooltip&&Hn.dataset.tooltip.callbacks;return er?tr.override(er):tr}const defaultCallbacks={beforeTitle:noop$5,title(tr){if(tr.length>0){const Hn=tr[0],er=Hn.chart.data.labels,nr=er?er.length:0;if(this&&this.options&&this.options.mode==="dataset")return Hn.dataset.label||"";if(Hn.label)return Hn.label;if(nr>0&&Hn.dataIndex<nr)return er[Hn.dataIndex]}return""},afterTitle:noop$5,beforeBody:noop$5,beforeLabel:noop$5,label(tr){if(this&&this.options&&this.options.mode==="dataset")return tr.label+": "+tr.formattedValue||tr.formattedValue;let Hn=tr.dataset.label||"";Hn&&(Hn+=": ");const er=tr.formattedValue;return isNullOrUndef(er)||(Hn+=er),Hn},labelColor(tr){const er=tr.chart.getDatasetMeta(tr.datasetIndex).controller.getStyle(tr.dataIndex);return{borderColor:er.borderColor,backgroundColor:er.backgroundColor,borderWidth:er.borderWidth,borderDash:er.borderDash,borderDashOffset:er.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(tr){const er=tr.chart.getDatasetMeta(tr.datasetIndex).controller.getStyle(tr.dataIndex);return{pointStyle:er.pointStyle,rotation:er.rotation}},afterLabel:noop$5,afterBody:noop$5,beforeFooter:noop$5,footer:noop$5,afterFooter:noop$5};function invokeCallbackWithFallback(tr,Hn,er,nr){const ir=tr[Hn].call(er,nr);return typeof ir>"u"?defaultCallbacks[Hn].call(er,nr):ir}let Tooltip$2=class extends Element$1{static positioners=positioners$1;constructor(Hn){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=Hn.chart,this.options=Hn.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(Hn){this.options=Hn,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const Hn=this._cachedAnimations;if(Hn)return Hn;const er=this.chart,nr=this.options.setContext(this.getContext()),ir=nr.enabled&&er.options.animation&&nr.animations,rr=new Animations(this.chart,ir);return ir._cacheable&&(this._cachedAnimations=Object.freeze(rr)),rr}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(Hn,er){const{callbacks:nr}=er,ir=invokeCallbackWithFallback(nr,"beforeTitle",this,Hn),rr=invokeCallbackWithFallback(nr,"title",this,Hn),sr=invokeCallbackWithFallback(nr,"afterTitle",this,Hn);let ar=[];return ar=pushOrConcat(ar,splitNewlines(ir)),ar=pushOrConcat(ar,splitNewlines(rr)),ar=pushOrConcat(ar,splitNewlines(sr)),ar}getBeforeBody(Hn,er){return getBeforeAfterBodyLines(invokeCallbackWithFallback(er.callbacks,"beforeBody",this,Hn))}getBody(Hn,er){const{callbacks:nr}=er,ir=[];return each$1(Hn,rr=>{const sr={before:[],lines:[],after:[]},ar=overrideCallbacks(nr,rr);pushOrConcat(sr.before,splitNewlines(invokeCallbackWithFallback(ar,"beforeLabel",this,rr))),pushOrConcat(sr.lines,invokeCallbackWithFallback(ar,"label",this,rr)),pushOrConcat(sr.after,splitNewlines(invokeCallbackWithFallback(ar,"afterLabel",this,rr))),ir.push(sr)}),ir}getAfterBody(Hn,er){return getBeforeAfterBodyLines(invokeCallbackWithFallback(er.callbacks,"afterBody",this,Hn))}getFooter(Hn,er){const{callbacks:nr}=er,ir=invokeCallbackWithFallback(nr,"beforeFooter",this,Hn),rr=invokeCallbackWithFallback(nr,"footer",this,Hn),sr=invokeCallbackWithFallback(nr,"afterFooter",this,Hn);let ar=[];return ar=pushOrConcat(ar,splitNewlines(ir)),ar=pushOrConcat(ar,splitNewlines(rr)),ar=pushOrConcat(ar,splitNewlines(sr)),ar}_createItems(Hn){const er=this._active,nr=this.chart.data,ir=[],rr=[],sr=[];let ar=[],or,lr;for(or=0,lr=er.length;or<lr;++or)ar.push(createTooltipItem(this.chart,er[or]));return Hn.filter&&(ar=ar.filter((cr,ur,dr)=>Hn.filter(cr,ur,dr,nr))),Hn.itemSort&&(ar=ar.sort((cr,ur)=>Hn.itemSort(cr,ur,nr))),each$1(ar,cr=>{const ur=overrideCallbacks(Hn.callbacks,cr);ir.push(invokeCallbackWithFallback(ur,"labelColor",this,cr)),rr.push(invokeCallbackWithFallback(ur,"labelPointStyle",this,cr)),sr.push(invokeCallbackWithFallback(ur,"labelTextColor",this,cr))}),this.labelColors=ir,this.labelPointStyles=rr,this.labelTextColors=sr,this.dataPoints=ar,ar}update(Hn,er){const nr=this.options.setContext(this.getContext()),ir=this._active;let rr,sr=[];if(!ir.length)this.opacity!==0&&(rr={opacity:0});else{const ar=positioners$1[nr.position].call(this,ir,this._eventPosition);sr=this._createItems(nr),this.title=this.getTitle(sr,nr),this.beforeBody=this.getBeforeBody(sr,nr),this.body=this.getBody(sr,nr),this.afterBody=this.getAfterBody(sr,nr),this.footer=this.getFooter(sr,nr);const or=this._size=getTooltipSize(this,nr),lr=Object.assign({},ar,or),cr=determineAlignment(this.chart,nr,lr),ur=getBackgroundPoint(nr,lr,cr,this.chart);this.xAlign=cr.xAlign,this.yAlign=cr.yAlign,rr={opacity:1,x:ur.x,y:ur.y,width:or.width,height:or.height,caretX:ar.x,caretY:ar.y}}this._tooltipItems=sr,this.$context=void 0,rr&&this._resolveAnimations().update(this,rr),Hn&&nr.external&&nr.external.call(this,{chart:this.chart,tooltip:this,replay:er})}drawCaret(Hn,er,nr,ir){const rr=this.getCaretPosition(Hn,nr,ir);er.lineTo(rr.x1,rr.y1),er.lineTo(rr.x2,rr.y2),er.lineTo(rr.x3,rr.y3)}getCaretPosition(Hn,er,nr){const{xAlign:ir,yAlign:rr}=this,{caretSize:sr,cornerRadius:ar}=nr,{topLeft:or,topRight:lr,bottomLeft:cr,bottomRight:ur}=toTRBLCorners(ar),{x:dr,y:fr}=Hn,{width:gr,height:yr}=er;let vr,jr,Sr,Tr,Lr,Mr;return rr==="center"?(Lr=fr+yr/2,ir==="left"?(vr=dr,jr=vr-sr,Tr=Lr+sr,Mr=Lr-sr):(vr=dr+gr,jr=vr+sr,Tr=Lr-sr,Mr=Lr+sr),Sr=vr):(ir==="left"?jr=dr+Math.max(or,cr)+sr:ir==="right"?jr=dr+gr-Math.max(lr,ur)-sr:jr=this.caretX,rr==="top"?(Tr=fr,Lr=Tr-sr,vr=jr-sr,Sr=jr+sr):(Tr=fr+yr,Lr=Tr+sr,vr=jr+sr,Sr=jr-sr),Mr=Tr),{x1:vr,x2:jr,x3:Sr,y1:Tr,y2:Lr,y3:Mr}}drawTitle(Hn,er,nr){const ir=this.title,rr=ir.length;let sr,ar,or;if(rr){const lr=getRtlAdapter(nr.rtl,this.x,this.width);for(Hn.x=getAlignedX(this,nr.titleAlign,nr),er.textAlign=lr.textAlign(nr.titleAlign),er.textBaseline="middle",sr=toFont(nr.titleFont),ar=nr.titleSpacing,er.fillStyle=nr.titleColor,er.font=sr.string,or=0;or<rr;++or)er.fillText(ir[or],lr.x(Hn.x),Hn.y+sr.lineHeight/2),Hn.y+=sr.lineHeight+ar,or+1===rr&&(Hn.y+=nr.titleMarginBottom-ar)}}_drawColorBox(Hn,er,nr,ir,rr){const sr=this.labelColors[nr],ar=this.labelPointStyles[nr],{boxHeight:or,boxWidth:lr}=rr,cr=toFont(rr.bodyFont),ur=getAlignedX(this,"left",rr),dr=ir.x(ur),fr=or<cr.lineHeight?(cr.lineHeight-or)/2:0,gr=er.y+fr;if(rr.usePointStyle){const yr={radius:Math.min(lr,or)/2,pointStyle:ar.pointStyle,rotation:ar.rotation,borderWidth:1},vr=ir.leftForLtr(dr,lr)+lr/2,jr=gr+or/2;Hn.strokeStyle=rr.multiKeyBackground,Hn.fillStyle=rr.multiKeyBackground,drawPoint$1(Hn,yr,vr,jr),Hn.strokeStyle=sr.borderColor,Hn.fillStyle=sr.backgroundColor,drawPoint$1(Hn,yr,vr,jr)}else{Hn.lineWidth=isObject$2(sr.borderWidth)?Math.max(...Object.values(sr.borderWidth)):sr.borderWidth||1,Hn.strokeStyle=sr.borderColor,Hn.setLineDash(sr.borderDash||[]),Hn.lineDashOffset=sr.borderDashOffset||0;const yr=ir.leftForLtr(dr,lr),vr=ir.leftForLtr(ir.xPlus(dr,1),lr-2),jr=toTRBLCorners(sr.borderRadius);Object.values(jr).some(Sr=>Sr!==0)?(Hn.beginPath(),Hn.fillStyle=rr.multiKeyBackground,addRoundedRectPath(Hn,{x:yr,y:gr,w:lr,h:or,radius:jr}),Hn.fill(),Hn.stroke(),Hn.fillStyle=sr.backgroundColor,Hn.beginPath(),addRoundedRectPath(Hn,{x:vr,y:gr+1,w:lr-2,h:or-2,radius:jr}),Hn.fill()):(Hn.fillStyle=rr.multiKeyBackground,Hn.fillRect(yr,gr,lr,or),Hn.strokeRect(yr,gr,lr,or),Hn.fillStyle=sr.backgroundColor,Hn.fillRect(vr,gr+1,lr-2,or-2))}Hn.fillStyle=this.labelTextColors[nr]}drawBody(Hn,er,nr){const{body:ir}=this,{bodySpacing:rr,bodyAlign:sr,displayColors:ar,boxHeight:or,boxWidth:lr,boxPadding:cr}=nr,ur=toFont(nr.bodyFont);let dr=ur.lineHeight,fr=0;const gr=getRtlAdapter(nr.rtl,this.x,this.width),yr=function(Fr){er.fillText(Fr,gr.x(Hn.x+fr),Hn.y+dr/2),Hn.y+=dr+rr},vr=gr.textAlign(sr);let jr,Sr,Tr,Lr,Mr,Nr,Or;for(er.textAlign=sr,er.textBaseline="middle",er.font=ur.string,Hn.x=getAlignedX(this,vr,nr),er.fillStyle=nr.bodyColor,each$1(this.beforeBody,yr),fr=ar&&vr!=="right"?sr==="center"?lr/2+cr:lr+2+cr:0,Lr=0,Nr=ir.length;Lr<Nr;++Lr){for(jr=ir[Lr],Sr=this.labelTextColors[Lr],er.fillStyle=Sr,each$1(jr.before,yr),Tr=jr.lines,ar&&Tr.length&&(this._drawColorBox(er,Hn,Lr,gr,nr),dr=Math.max(ur.lineHeight,or)),Mr=0,Or=Tr.length;Mr<Or;++Mr)yr(Tr[Mr]),dr=ur.lineHeight;each$1(jr.after,yr)}fr=0,dr=ur.lineHeight,each$1(this.afterBody,yr),Hn.y-=rr}drawFooter(Hn,er,nr){const ir=this.footer,rr=ir.length;let sr,ar;if(rr){const or=getRtlAdapter(nr.rtl,this.x,this.width);for(Hn.x=getAlignedX(this,nr.footerAlign,nr),Hn.y+=nr.footerMarginTop,er.textAlign=or.textAlign(nr.footerAlign),er.textBaseline="middle",sr=toFont(nr.footerFont),er.fillStyle=nr.footerColor,er.font=sr.string,ar=0;ar<rr;++ar)er.fillText(ir[ar],or.x(Hn.x),Hn.y+sr.lineHeight/2),Hn.y+=sr.lineHeight+nr.footerSpacing}}drawBackground(Hn,er,nr,ir){const{xAlign:rr,yAlign:sr}=this,{x:ar,y:or}=Hn,{width:lr,height:cr}=nr,{topLeft:ur,topRight:dr,bottomLeft:fr,bottomRight:gr}=toTRBLCorners(ir.cornerRadius);er.fillStyle=ir.backgroundColor,er.strokeStyle=ir.borderColor,er.lineWidth=ir.borderWidth,er.beginPath(),er.moveTo(ar+ur,or),sr==="top"&&this.drawCaret(Hn,er,nr,ir),er.lineTo(ar+lr-dr,or),er.quadraticCurveTo(ar+lr,or,ar+lr,or+dr),sr==="center"&&rr==="right"&&this.drawCaret(Hn,er,nr,ir),er.lineTo(ar+lr,or+cr-gr),er.quadraticCurveTo(ar+lr,or+cr,ar+lr-gr,or+cr),sr==="bottom"&&this.drawCaret(Hn,er,nr,ir),er.lineTo(ar+fr,or+cr),er.quadraticCurveTo(ar,or+cr,ar,or+cr-fr),sr==="center"&&rr==="left"&&this.drawCaret(Hn,er,nr,ir),er.lineTo(ar,or+ur),er.quadraticCurveTo(ar,or,ar+ur,or),er.closePath(),er.fill(),ir.borderWidth>0&&er.stroke()}_updateAnimationTarget(Hn){const er=this.chart,nr=this.$animations,ir=nr&&nr.x,rr=nr&&nr.y;if(ir||rr){const sr=positioners$1[Hn.position].call(this,this._active,this._eventPosition);if(!sr)return;const ar=this._size=getTooltipSize(this,Hn),or=Object.assign({},sr,this._size),lr=determineAlignment(er,Hn,or),cr=getBackgroundPoint(Hn,or,lr,er);(ir._to!==cr.x||rr._to!==cr.y)&&(this.xAlign=lr.xAlign,this.yAlign=lr.yAlign,this.width=ar.width,this.height=ar.height,this.caretX=sr.x,this.caretY=sr.y,this._resolveAnimations().update(this,cr))}}_willRender(){return!!this.opacity}draw(Hn){const er=this.options.setContext(this.getContext());let nr=this.opacity;if(!nr)return;this._updateAnimationTarget(er);const ir={width:this.width,height:this.height},rr={x:this.x,y:this.y};nr=Math.abs(nr)<.001?0:nr;const sr=toPadding(er.padding),ar=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;er.enabled&&ar&&(Hn.save(),Hn.globalAlpha=nr,this.drawBackground(rr,Hn,ir,er),overrideTextDirection(Hn,er.textDirection),rr.y+=sr.top,this.drawTitle(rr,Hn,er),this.drawBody(rr,Hn,er),this.drawFooter(rr,Hn,er),restoreTextDirection(Hn,er.textDirection),Hn.restore())}getActiveElements(){return this._active||[]}setActiveElements(Hn,er){const nr=this._active,ir=Hn.map(({datasetIndex:ar,index:or})=>{const lr=this.chart.getDatasetMeta(ar);if(!lr)throw new Error("Cannot find a dataset at index "+ar);return{datasetIndex:ar,element:lr.data[or],index:or}}),rr=!_elementsEqual(nr,ir),sr=this._positionChanged(ir,er);(rr||sr)&&(this._active=ir,this._eventPosition=er,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(Hn,er,nr=!0){if(er&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const ir=this.options,rr=this._active||[],sr=this._getActiveElements(Hn,rr,er,nr),ar=this._positionChanged(sr,Hn),or=er||!_elementsEqual(sr,rr)||ar;return or&&(this._active=sr,(ir.enabled||ir.external)&&(this._eventPosition={x:Hn.x,y:Hn.y},this.update(!0,er))),or}_getActiveElements(Hn,er,nr,ir){const rr=this.options;if(Hn.type==="mouseout")return[];if(!ir)return er.filter(ar=>this.chart.data.datasets[ar.datasetIndex]&&this.chart.getDatasetMeta(ar.datasetIndex).controller.getParsed(ar.index)!==void 0);const sr=this.chart.getElementsAtEventForMode(Hn,rr.mode,rr,nr);return rr.reverse&&sr.reverse(),sr}_positionChanged(Hn,er){const{caretX:nr,caretY:ir,options:rr}=this,sr=positioners$1[rr.position].call(this,Hn,er);return sr!==!1&&(nr!==sr.x||ir!==sr.y)}};var plugin_tooltip={id:"tooltip",_element:Tooltip$2,positioners:positioners$1,afterInit(tr,Hn,er){er&&(tr.tooltip=new Tooltip$2({chart:tr,options:er}))},beforeUpdate(tr,Hn,er){tr.tooltip&&tr.tooltip.initialize(er)},reset(tr,Hn,er){tr.tooltip&&tr.tooltip.initialize(er)},afterDraw(tr){const Hn=tr.tooltip;if(Hn&&Hn._willRender()){const er={tooltip:Hn};if(tr.notifyPlugins("beforeTooltipDraw",{...er,cancelable:!0})===!1)return;Hn.draw(tr.ctx),tr.notifyPlugins("afterTooltipDraw",er)}},afterEvent(tr,Hn){if(tr.tooltip){const er=Hn.replay;tr.tooltip.handleEvent(Hn.event,er,Hn.inChartArea)&&(Hn.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(tr,Hn)=>Hn.bodyFont.size,boxWidth:(tr,Hn)=>Hn.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:tr=>tr!=="filter"&&tr!=="itemSort"&&tr!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins$1=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(tr,Hn,er,nr)=>(typeof Hn=="string"?(er=tr.push(Hn)-1,nr.unshift({index:er,label:Hn})):isNaN(Hn)&&(er=null),er);function findOrAddLabel(tr,Hn,er,nr){const ir=tr.indexOf(Hn);if(ir===-1)return addIfString(tr,Hn,er,nr);const rr=tr.lastIndexOf(Hn);return ir!==rr?er:ir}const validIndex=(tr,Hn)=>tr===null?null:_limitValue(Math.round(tr),0,Hn);function _getLabelForValue(tr){const Hn=this.getLabels();return tr>=0&&tr<Hn.length?Hn[tr]:tr}class CategoryScale extends Scale{static id="category";static defaults={ticks:{callback:_getLabelForValue}};constructor(Hn){super(Hn),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(Hn){const er=this._addedLabels;if(er.length){const nr=this.getLabels();for(const{index:ir,label:rr}of er)nr[ir]===rr&&nr.splice(ir,1);this._addedLabels=[]}super.init(Hn)}parse(Hn,er){if(isNullOrUndef(Hn))return null;const nr=this.getLabels();return er=isFinite(er)&&nr[er]===Hn?er:findOrAddLabel(nr,Hn,valueOrDefault(er,Hn),this._addedLabels),validIndex(er,nr.length-1)}determineDataLimits(){const{minDefined:Hn,maxDefined:er}=this.getUserBounds();let{min:nr,max:ir}=this.getMinMax(!0);this.options.bounds==="ticks"&&(Hn||(nr=0),er||(ir=this.getLabels().length-1)),this.min=nr,this.max=ir}buildTicks(){const Hn=this.min,er=this.max,nr=this.options.offset,ir=[];let rr=this.getLabels();rr=Hn===0&&er===rr.length-1?rr:rr.slice(Hn,er+1),this._valueRange=Math.max(rr.length-(nr?0:1),1),this._startValue=this.min-(nr?.5:0);for(let sr=Hn;sr<=er;sr++)ir.push({value:sr});return ir}getLabelForValue(Hn){return _getLabelForValue.call(this,Hn)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(Hn){return typeof Hn!="number"&&(Hn=this.parse(Hn)),Hn===null?NaN:this.getPixelForDecimal((Hn-this._startValue)/this._valueRange)}getPixelForTick(Hn){const er=this.ticks;return Hn<0||Hn>er.length-1?null:this.getPixelForValue(er[Hn].value)}getValueForPixel(Hn){return Math.round(this._startValue+this.getDecimalForPixel(Hn)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(tr,Hn){const er=[],{bounds:ir,step:rr,min:sr,max:ar,precision:or,count:lr,maxTicks:cr,maxDigits:ur,includeBounds:dr}=tr,fr=rr||1,gr=cr-1,{min:yr,max:vr}=Hn,jr=!isNullOrUndef(sr),Sr=!isNullOrUndef(ar),Tr=!isNullOrUndef(lr),Lr=(vr-yr)/(ur+1);let Mr=niceNum((vr-yr)/gr/fr)*fr,Nr,Or,Fr,Gr;if(Mr<1e-14&&!jr&&!Sr)return[{value:yr},{value:vr}];Gr=Math.ceil(vr/Mr)-Math.floor(yr/Mr),Gr>gr&&(Mr=niceNum(Gr*Mr/gr/fr)*fr),isNullOrUndef(or)||(Nr=Math.pow(10,or),Mr=Math.ceil(Mr*Nr)/Nr),ir==="ticks"?(Or=Math.floor(yr/Mr)*Mr,Fr=Math.ceil(vr/Mr)*Mr):(Or=yr,Fr=vr),jr&&Sr&&rr&&almostWhole((ar-sr)/rr,Mr/1e3)?(Gr=Math.round(Math.min((ar-sr)/Mr,cr)),Mr=(ar-sr)/Gr,Or=sr,Fr=ar):Tr?(Or=jr?sr:Or,Fr=Sr?ar:Fr,Gr=lr-1,Mr=(Fr-Or)/Gr):(Gr=(Fr-Or)/Mr,almostEquals(Gr,Math.round(Gr),Mr/1e3)?Gr=Math.round(Gr):Gr=Math.ceil(Gr));const qr=Math.max(_decimalPlaces(Mr),_decimalPlaces(Or));Nr=Math.pow(10,isNullOrUndef(or)?qr:or),Or=Math.round(Or*Nr)/Nr,Fr=Math.round(Fr*Nr)/Nr;let Hr=0;for(jr&&(dr&&Or!==sr?(er.push({value:sr}),Or<sr&&Hr++,almostEquals(Math.round((Or+Hr*Mr)*Nr)/Nr,sr,relativeLabelSize(sr,Lr,tr))&&Hr++):Or<sr&&Hr++);Hr<Gr;++Hr){const Yr=Math.round((Or+Hr*Mr)*Nr)/Nr;if(Sr&&Yr>ar)break;er.push({value:Yr})}return Sr&&dr&&Fr!==ar?er.length&&almostEquals(er[er.length-1].value,ar,relativeLabelSize(ar,Lr,tr))?er[er.length-1].value=ar:er.push({value:ar}):(!Sr||Fr===ar)&&er.push({value:Fr}),er}function relativeLabelSize(tr,Hn,{horizontal:er,minRotation:nr}){const ir=toRadians(nr),rr=(er?Math.sin(ir):Math.cos(ir))||.001,sr=.75*Hn*(""+tr).length;return Math.min(Hn/rr,sr)}class LinearScaleBase extends Scale{constructor(Hn){super(Hn),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(Hn,er){return isNullOrUndef(Hn)||(typeof Hn=="number"||Hn instanceof Number)&&!isFinite(+Hn)?null:+Hn}handleTickRangeOptions(){const{beginAtZero:Hn}=this.options,{minDefined:er,maxDefined:nr}=this.getUserBounds();let{min:ir,max:rr}=this;const sr=or=>ir=er?ir:or,ar=or=>rr=nr?rr:or;if(Hn){const or=sign$1(ir),lr=sign$1(rr);or<0&&lr<0?ar(0):or>0&&lr>0&&sr(0)}if(ir===rr){let or=rr===0?1:Math.abs(rr*.05);ar(rr+or),Hn||sr(ir-or)}this.min=ir,this.max=rr}getTickLimit(){const Hn=this.options.ticks;let{maxTicksLimit:er,stepSize:nr}=Hn,ir;return nr?(ir=Math.ceil(this.max/nr)-Math.floor(this.min/nr)+1,ir>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${nr} would result generating up to ${ir} ticks. Limiting to 1000.`),ir=1e3)):(ir=this.computeTickLimit(),er=er||11),er&&(ir=Math.min(er,ir)),ir}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const Hn=this.options,er=Hn.ticks;let nr=this.getTickLimit();nr=Math.max(2,nr);const ir={maxTicks:nr,bounds:Hn.bounds,min:Hn.min,max:Hn.max,precision:er.precision,step:er.stepSize,count:er.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:er.minRotation||0,includeBounds:er.includeBounds!==!1},rr=this._range||this,sr=generateTicks$1(ir,rr);return Hn.bounds==="ticks"&&_setMinAndMaxByKey(sr,this,"value"),Hn.reverse?(sr.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),sr}configure(){const Hn=this.ticks;let er=this.min,nr=this.max;if(super.configure(),this.options.offset&&Hn.length){const ir=(nr-er)/Math.max(Hn.length-1,1)/2;er-=ir,nr+=ir}this._startValue=er,this._endValue=nr,this._valueRange=nr-er}getLabelForValue(Hn){return formatNumber$2(Hn,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{static id="linear";static defaults={ticks:{callback:Ticks$1.formatters.numeric}};determineDataLimits(){const{min:Hn,max:er}=this.getMinMax(!0);this.min=isNumberFinite(Hn)?Hn:0,this.max=isNumberFinite(er)?er:1,this.handleTickRangeOptions()}computeTickLimit(){const Hn=this.isHorizontal(),er=Hn?this.width:this.height,nr=toRadians(this.options.ticks.minRotation),ir=(Hn?Math.sin(nr):Math.cos(nr))||.001,rr=this._resolveTickFontOptions(0);return Math.ceil(er/Math.min(40,rr.lineHeight/ir))}getPixelForValue(Hn){return Hn===null?NaN:this.getPixelForDecimal((Hn-this._startValue)/this._valueRange)}getValueForPixel(Hn){return this._startValue+this.getDecimalForPixel(Hn)*this._valueRange}}const log10Floor=tr=>Math.floor(log10(tr)),changeExponent=(tr,Hn)=>Math.pow(10,log10Floor(tr)+Hn);function isMajor(tr){return tr/Math.pow(10,log10Floor(tr))===1}function steps(tr,Hn,er){const nr=Math.pow(10,er),ir=Math.floor(tr/nr);return Math.ceil(Hn/nr)-ir}function startExp(tr,Hn){const er=Hn-tr;let nr=log10Floor(er);for(;steps(tr,Hn,nr)>10;)nr++;for(;steps(tr,Hn,nr)<10;)nr--;return Math.min(nr,log10Floor(tr))}function generateTicks(tr,{min:Hn,max:er}){Hn=finiteOrDefault(tr.min,Hn);const nr=[],ir=log10Floor(Hn);let rr=startExp(Hn,er),sr=rr<0?Math.pow(10,Math.abs(rr)):1;const ar=Math.pow(10,rr),or=ir>rr?Math.pow(10,ir):0,lr=Math.round((Hn-or)*sr)/sr,cr=Math.floor((Hn-or)/ar/10)*ar*10;let ur=Math.floor((lr-cr)/Math.pow(10,rr)),dr=finiteOrDefault(tr.min,Math.round((or+cr+ur*Math.pow(10,rr))*sr)/sr);for(;dr<er;)nr.push({value:dr,major:isMajor(dr),significand:ur}),ur>=10?ur=ur<15?15:20:ur++,ur>=20&&(rr++,ur=2,sr=rr>=0?1:sr),dr=Math.round((or+cr+ur*Math.pow(10,rr))*sr)/sr;const fr=finiteOrDefault(tr.max,dr);return nr.push({value:fr,major:isMajor(fr),significand:ur}),nr}class LogarithmicScale extends Scale{static id="logarithmic";static defaults={ticks:{callback:Ticks$1.formatters.logarithmic,major:{enabled:!0}}};constructor(Hn){super(Hn),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(Hn,er){const nr=LinearScaleBase.prototype.parse.apply(this,[Hn,er]);if(nr===0){this._zero=!0;return}return isNumberFinite(nr)&&nr>0?nr:null}determineDataLimits(){const{min:Hn,max:er}=this.getMinMax(!0);this.min=isNumberFinite(Hn)?Math.max(0,Hn):null,this.max=isNumberFinite(er)?Math.max(0,er):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=Hn===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:Hn,maxDefined:er}=this.getUserBounds();let nr=this.min,ir=this.max;const rr=ar=>nr=Hn?nr:ar,sr=ar=>ir=er?ir:ar;nr===ir&&(nr<=0?(rr(1),sr(10)):(rr(changeExponent(nr,-1)),sr(changeExponent(ir,1)))),nr<=0&&rr(changeExponent(ir,-1)),ir<=0&&sr(changeExponent(nr,1)),this.min=nr,this.max=ir}buildTicks(){const Hn=this.options,er={min:this._userMin,max:this._userMax},nr=generateTicks(er,this);return Hn.bounds==="ticks"&&_setMinAndMaxByKey(nr,this,"value"),Hn.reverse?(nr.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),nr}getLabelForValue(Hn){return Hn===void 0?"0":formatNumber$2(Hn,this.chart.options.locale,this.options.ticks.format)}configure(){const Hn=this.min;super.configure(),this._startValue=log10(Hn),this._valueRange=log10(this.max)-log10(Hn)}getPixelForValue(Hn){return(Hn===void 0||Hn===0)&&(Hn=this.min),Hn===null||isNaN(Hn)?NaN:this.getPixelForDecimal(Hn===this.min?0:(log10(Hn)-this._startValue)/this._valueRange)}getValueForPixel(Hn){const er=this.getDecimalForPixel(Hn);return Math.pow(10,this._startValue+er*this._valueRange)}}function getTickBackdropHeight(tr){const Hn=tr.ticks;if(Hn.display&&tr.display){const er=toPadding(Hn.backdropPadding);return valueOrDefault(Hn.font&&Hn.font.size,defaults$4.font.size)+er.height}return 0}function measureLabelSize$1(tr,Hn,er){return er=isArray$1(er)?er:[er],{w:_longestText(tr,Hn.string,er),h:er.length*Hn.lineHeight}}function determineLimits(tr,Hn,er,nr,ir){return tr===nr||tr===ir?{start:Hn-er/2,end:Hn+er/2}:tr<nr||tr>ir?{start:Hn-er,end:Hn}:{start:Hn,end:Hn+er}}function fitWithPointLabels(tr){const Hn={l:tr.left+tr._padding.left,r:tr.right-tr._padding.right,t:tr.top+tr._padding.top,b:tr.bottom-tr._padding.bottom},er=Object.assign({},Hn),nr=[],ir=[],rr=tr._pointLabels.length,sr=tr.options.pointLabels,ar=sr.centerPointLabels?PI/rr:0;for(let or=0;or<rr;or++){const lr=sr.setContext(tr.getPointLabelContext(or));ir[or]=lr.padding;const cr=tr.getPointPosition(or,tr.drawingArea+ir[or],ar),ur=toFont(lr.font),dr=measureLabelSize$1(tr.ctx,ur,tr._pointLabels[or]);nr[or]=dr;const fr=_normalizeAngle(tr.getIndexAngle(or)+ar),gr=Math.round(toDegrees(fr)),yr=determineLimits(gr,cr.x,dr.w,0,180),vr=determineLimits(gr,cr.y,dr.h,90,270);updateLimits$1(er,Hn,fr,yr,vr)}tr.setCenterPoint(Hn.l-er.l,er.r-Hn.r,Hn.t-er.t,er.b-Hn.b),tr._pointLabelItems=buildPointLabelItems(tr,nr,ir)}function updateLimits$1(tr,Hn,er,nr,ir){const rr=Math.abs(Math.sin(er)),sr=Math.abs(Math.cos(er));let ar=0,or=0;nr.start<Hn.l?(ar=(Hn.l-nr.start)/rr,tr.l=Math.min(tr.l,Hn.l-ar)):nr.end>Hn.r&&(ar=(nr.end-Hn.r)/rr,tr.r=Math.max(tr.r,Hn.r+ar)),ir.start<Hn.t?(or=(Hn.t-ir.start)/sr,tr.t=Math.min(tr.t,Hn.t-or)):ir.end>Hn.b&&(or=(ir.end-Hn.b)/sr,tr.b=Math.max(tr.b,Hn.b+or))}function createPointLabelItem(tr,Hn,er){const nr=tr.drawingArea,{extra:ir,additionalAngle:rr,padding:sr,size:ar}=er,or=tr.getPointPosition(Hn,nr+ir+sr,rr),lr=Math.round(toDegrees(_normalizeAngle(or.angle+HALF_PI))),cr=yForAngle(or.y,ar.h,lr),ur=getTextAlignForAngle(lr),dr=leftForTextAlign(or.x,ar.w,ur);return{visible:!0,x:or.x,y:cr,textAlign:ur,left:dr,top:cr,right:dr+ar.w,bottom:cr+ar.h}}function isNotOverlapped(tr,Hn){if(!Hn)return!0;const{left:er,top:nr,right:ir,bottom:rr}=tr;return!(_isPointInArea({x:er,y:nr},Hn)||_isPointInArea({x:er,y:rr},Hn)||_isPointInArea({x:ir,y:nr},Hn)||_isPointInArea({x:ir,y:rr},Hn))}function buildPointLabelItems(tr,Hn,er){const nr=[],ir=tr._pointLabels.length,rr=tr.options,{centerPointLabels:sr,display:ar}=rr.pointLabels,or={extra:getTickBackdropHeight(rr)/2,additionalAngle:sr?PI/ir:0};let lr;for(let cr=0;cr<ir;cr++){or.padding=er[cr],or.size=Hn[cr];const ur=createPointLabelItem(tr,cr,or);nr.push(ur),ar==="auto"&&(ur.visible=isNotOverlapped(ur,lr),ur.visible&&(lr=ur))}return nr}function getTextAlignForAngle(tr){return tr===0||tr===180?"center":tr<180?"left":"right"}function leftForTextAlign(tr,Hn,er){return er==="right"?tr-=Hn:er==="center"&&(tr-=Hn/2),tr}function yForAngle(tr,Hn,er){return er===90||er===270?tr-=Hn/2:(er>270||er<90)&&(tr-=Hn),tr}function drawPointLabelBox(tr,Hn,er){const{left:nr,top:ir,right:rr,bottom:sr}=er,{backdropColor:ar}=Hn;if(!isNullOrUndef(ar)){const or=toTRBLCorners(Hn.borderRadius),lr=toPadding(Hn.backdropPadding);tr.fillStyle=ar;const cr=nr-lr.left,ur=ir-lr.top,dr=rr-nr+lr.width,fr=sr-ir+lr.height;Object.values(or).some(gr=>gr!==0)?(tr.beginPath(),addRoundedRectPath(tr,{x:cr,y:ur,w:dr,h:fr,radius:or}),tr.fill()):tr.fillRect(cr,ur,dr,fr)}}function drawPointLabels(tr,Hn){const{ctx:er,options:{pointLabels:nr}}=tr;for(let ir=Hn-1;ir>=0;ir--){const rr=tr._pointLabelItems[ir];if(!rr.visible)continue;const sr=nr.setContext(tr.getPointLabelContext(ir));drawPointLabelBox(er,sr,rr);const ar=toFont(sr.font),{x:or,y:lr,textAlign:cr}=rr;renderText(er,tr._pointLabels[ir],or,lr+ar.lineHeight/2,ar,{color:sr.color,textAlign:cr,textBaseline:"middle"})}}function pathRadiusLine(tr,Hn,er,nr){const{ctx:ir}=tr;if(er)ir.arc(tr.xCenter,tr.yCenter,Hn,0,TAU);else{let rr=tr.getPointPosition(0,Hn);ir.moveTo(rr.x,rr.y);for(let sr=1;sr<nr;sr++)rr=tr.getPointPosition(sr,Hn),ir.lineTo(rr.x,rr.y)}}function drawRadiusLine(tr,Hn,er,nr,ir){const rr=tr.ctx,sr=Hn.circular,{color:ar,lineWidth:or}=Hn;!sr&&!nr||!ar||!or||er<0||(rr.save(),rr.strokeStyle=ar,rr.lineWidth=or,rr.setLineDash(ir.dash||[]),rr.lineDashOffset=ir.dashOffset,rr.beginPath(),pathRadiusLine(tr,er,sr,nr),rr.closePath(),rr.stroke(),rr.restore())}function createPointLabelContext(tr,Hn,er){return createContext(tr,{label:er,index:Hn,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks$1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(Hn){return Hn},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(Hn){super(Hn),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const Hn=this._padding=toPadding(getTickBackdropHeight(this.options)/2),er=this.width=this.maxWidth-Hn.width,nr=this.height=this.maxHeight-Hn.height;this.xCenter=Math.floor(this.left+er/2+Hn.left),this.yCenter=Math.floor(this.top+nr/2+Hn.top),this.drawingArea=Math.floor(Math.min(er,nr)/2)}determineDataLimits(){const{min:Hn,max:er}=this.getMinMax(!1);this.min=isNumberFinite(Hn)&&!isNaN(Hn)?Hn:0,this.max=isNumberFinite(er)&&!isNaN(er)?er:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(Hn){LinearScaleBase.prototype.generateTickLabels.call(this,Hn),this._pointLabels=this.getLabels().map((er,nr)=>{const ir=callback(this.options.pointLabels.callback,[er,nr],this);return ir||ir===0?ir:""}).filter((er,nr)=>this.chart.getDataVisibility(nr))}fit(){const Hn=this.options;Hn.display&&Hn.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(Hn,er,nr,ir){this.xCenter+=Math.floor((Hn-er)/2),this.yCenter+=Math.floor((nr-ir)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(Hn,er,nr,ir))}getIndexAngle(Hn){const er=TAU/(this._pointLabels.length||1),nr=this.options.startAngle||0;return _normalizeAngle(Hn*er+toRadians(nr))}getDistanceFromCenterForValue(Hn){if(isNullOrUndef(Hn))return NaN;const er=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-Hn)*er:(Hn-this.min)*er}getValueForDistanceFromCenter(Hn){if(isNullOrUndef(Hn))return NaN;const er=Hn/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-er:this.min+er}getPointLabelContext(Hn){const er=this._pointLabels||[];if(Hn>=0&&Hn<er.length){const nr=er[Hn];return createPointLabelContext(this.getContext(),Hn,nr)}}getPointPosition(Hn,er,nr=0){const ir=this.getIndexAngle(Hn)-HALF_PI+nr;return{x:Math.cos(ir)*er+this.xCenter,y:Math.sin(ir)*er+this.yCenter,angle:ir}}getPointPositionForValue(Hn,er){return this.getPointPosition(Hn,this.getDistanceFromCenterForValue(er))}getBasePosition(Hn){return this.getPointPositionForValue(Hn||0,this.getBaseValue())}getPointLabelPosition(Hn){const{left:er,top:nr,right:ir,bottom:rr}=this._pointLabelItems[Hn];return{left:er,top:nr,right:ir,bottom:rr}}drawBackground(){const{backgroundColor:Hn,grid:{circular:er}}=this.options;if(Hn){const nr=this.ctx;nr.save(),nr.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),er,this._pointLabels.length),nr.closePath(),nr.fillStyle=Hn,nr.fill(),nr.restore()}}drawGrid(){const Hn=this.ctx,er=this.options,{angleLines:nr,grid:ir,border:rr}=er,sr=this._pointLabels.length;let ar,or,lr;if(er.pointLabels.display&&drawPointLabels(this,sr),ir.display&&this.ticks.forEach((cr,ur)=>{if(ur!==0||ur===0&&this.min<0){or=this.getDistanceFromCenterForValue(cr.value);const dr=this.getContext(ur),fr=ir.setContext(dr),gr=rr.setContext(dr);drawRadiusLine(this,fr,or,sr,gr)}}),nr.display){for(Hn.save(),ar=sr-1;ar>=0;ar--){const cr=nr.setContext(this.getPointLabelContext(ar)),{color:ur,lineWidth:dr}=cr;!dr||!ur||(Hn.lineWidth=dr,Hn.strokeStyle=ur,Hn.setLineDash(cr.borderDash),Hn.lineDashOffset=cr.borderDashOffset,or=this.getDistanceFromCenterForValue(er.reverse?this.min:this.max),lr=this.getPointPosition(ar,or),Hn.beginPath(),Hn.moveTo(this.xCenter,this.yCenter),Hn.lineTo(lr.x,lr.y),Hn.stroke())}Hn.restore()}}drawBorder(){}drawLabels(){const Hn=this.ctx,er=this.options,nr=er.ticks;if(!nr.display)return;const ir=this.getIndexAngle(0);let rr,sr;Hn.save(),Hn.translate(this.xCenter,this.yCenter),Hn.rotate(ir),Hn.textAlign="center",Hn.textBaseline="middle",this.ticks.forEach((ar,or)=>{if(or===0&&this.min>=0&&!er.reverse)return;const lr=nr.setContext(this.getContext(or)),cr=toFont(lr.font);if(rr=this.getDistanceFromCenterForValue(this.ticks[or].value),lr.showLabelBackdrop){Hn.font=cr.string,sr=Hn.measureText(ar.label).width,Hn.fillStyle=lr.backdropColor;const ur=toPadding(lr.backdropPadding);Hn.fillRect(-sr/2-ur.left,-rr-cr.size/2-ur.top,sr+ur.width,cr.size+ur.height)}renderText(Hn,ar.label,0,-rr,cr,{color:lr.color,strokeColor:lr.textStrokeColor,strokeWidth:lr.textStrokeWidth})}),Hn.restore()}drawTitle(){}}const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(tr,Hn){return tr-Hn}function parse$1(tr,Hn){if(isNullOrUndef(Hn))return null;const er=tr._adapter,{parser:nr,round:ir,isoWeekday:rr}=tr._parseOpts;let sr=Hn;return typeof nr=="function"&&(sr=nr(sr)),isNumberFinite(sr)||(sr=typeof nr=="string"?er.parse(sr,nr):er.parse(sr)),sr===null?null:(ir&&(sr=ir==="week"&&(isNumber$2(rr)||rr===!0)?er.startOf(sr,"isoWeek",rr):er.startOf(sr,ir)),+sr)}function determineUnitForAutoTicks(tr,Hn,er,nr){const ir=UNITS.length;for(let rr=UNITS.indexOf(tr);rr<ir-1;++rr){const sr=INTERVALS[UNITS[rr]],ar=sr.steps?sr.steps:Number.MAX_SAFE_INTEGER;if(sr.common&&Math.ceil((er-Hn)/(ar*sr.size))<=nr)return UNITS[rr]}return UNITS[ir-1]}function determineUnitForFormatting(tr,Hn,er,nr,ir){for(let rr=UNITS.length-1;rr>=UNITS.indexOf(er);rr--){const sr=UNITS[rr];if(INTERVALS[sr].common&&tr._adapter.diff(ir,nr,sr)>=Hn-1)return sr}return UNITS[er?UNITS.indexOf(er):0]}function determineMajorUnit(tr){for(let Hn=UNITS.indexOf(tr)+1,er=UNITS.length;Hn<er;++Hn)if(INTERVALS[UNITS[Hn]].common)return UNITS[Hn]}function addTick(tr,Hn,er){if(!er)tr[Hn]=!0;else if(er.length){const{lo:nr,hi:ir}=_lookup(er,Hn),rr=er[nr]>=Hn?er[nr]:er[ir];tr[rr]=!0}}function setMajorTicks(tr,Hn,er,nr){const ir=tr._adapter,rr=+ir.startOf(Hn[0].value,nr),sr=Hn[Hn.length-1].value;let ar,or;for(ar=rr;ar<=sr;ar=+ir.add(ar,1,nr))or=er[ar],or>=0&&(Hn[or].major=!0);return Hn}function ticksFromTimestamps(tr,Hn,er){const nr=[],ir={},rr=Hn.length;let sr,ar;for(sr=0;sr<rr;++sr)ar=Hn[sr],ir[ar]=sr,nr.push({value:ar,major:!1});return rr===0||!er?nr:setMajorTicks(tr,nr,ir,er)}class TimeScale extends Scale{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(Hn){super(Hn),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(Hn,er={}){const nr=Hn.time||(Hn.time={}),ir=this._adapter=new adapters$1._date(Hn.adapters.date);ir.init(er),mergeIf(nr.displayFormats,ir.formats()),this._parseOpts={parser:nr.parser,round:nr.round,isoWeekday:nr.isoWeekday},super.init(Hn),this._normalized=er.normalized}parse(Hn,er){return Hn===void 0?null:parse$1(this,Hn)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const Hn=this.options,er=this._adapter,nr=Hn.time.unit||"day";let{min:ir,max:rr,minDefined:sr,maxDefined:ar}=this.getUserBounds();function or(lr){!sr&&!isNaN(lr.min)&&(ir=Math.min(ir,lr.min)),!ar&&!isNaN(lr.max)&&(rr=Math.max(rr,lr.max))}(!sr||!ar)&&(or(this._getLabelBounds()),(Hn.bounds!=="ticks"||Hn.ticks.source!=="labels")&&or(this.getMinMax(!1))),ir=isNumberFinite(ir)&&!isNaN(ir)?ir:+er.startOf(Date.now(),nr),rr=isNumberFinite(rr)&&!isNaN(rr)?rr:+er.endOf(Date.now(),nr)+1,this.min=Math.min(ir,rr-1),this.max=Math.max(ir+1,rr)}_getLabelBounds(){const Hn=this.getLabelTimestamps();let er=Number.POSITIVE_INFINITY,nr=Number.NEGATIVE_INFINITY;return Hn.length&&(er=Hn[0],nr=Hn[Hn.length-1]),{min:er,max:nr}}buildTicks(){const Hn=this.options,er=Hn.time,nr=Hn.ticks,ir=nr.source==="labels"?this.getLabelTimestamps():this._generate();Hn.bounds==="ticks"&&ir.length&&(this.min=this._userMin||ir[0],this.max=this._userMax||ir[ir.length-1]);const rr=this.min,sr=this.max,ar=_filterBetween(ir,rr,sr);return this._unit=er.unit||(nr.autoSkip?determineUnitForAutoTicks(er.minUnit,this.min,this.max,this._getLabelCapacity(rr)):determineUnitForFormatting(this,ar.length,er.minUnit,this.min,this.max)),this._majorUnit=!nr.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(ir),Hn.reverse&&ar.reverse(),ticksFromTimestamps(this,ar,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(Hn=>+Hn.value))}initOffsets(Hn=[]){let er=0,nr=0,ir,rr;this.options.offset&&Hn.length&&(ir=this.getDecimalForValue(Hn[0]),Hn.length===1?er=1-ir:er=(this.getDecimalForValue(Hn[1])-ir)/2,rr=this.getDecimalForValue(Hn[Hn.length-1]),Hn.length===1?nr=rr:nr=(rr-this.getDecimalForValue(Hn[Hn.length-2]))/2);const sr=Hn.length<3?.5:.25;er=_limitValue(er,0,sr),nr=_limitValue(nr,0,sr),this._offsets={start:er,end:nr,factor:1/(er+1+nr)}}_generate(){const Hn=this._adapter,er=this.min,nr=this.max,ir=this.options,rr=ir.time,sr=rr.unit||determineUnitForAutoTicks(rr.minUnit,er,nr,this._getLabelCapacity(er)),ar=valueOrDefault(ir.ticks.stepSize,1),or=sr==="week"?rr.isoWeekday:!1,lr=isNumber$2(or)||or===!0,cr={};let ur=er,dr,fr;if(lr&&(ur=+Hn.startOf(ur,"isoWeek",or)),ur=+Hn.startOf(ur,lr?"day":sr),Hn.diff(nr,er,sr)>1e5*ar)throw new Error(er+" and "+nr+" are too far apart with stepSize of "+ar+" "+sr);const gr=ir.ticks.source==="data"&&this.getDataTimestamps();for(dr=ur,fr=0;dr<nr;dr=+Hn.add(dr,ar,sr),fr++)addTick(cr,dr,gr);return(dr===nr||ir.bounds==="ticks"||fr===1)&&addTick(cr,dr,gr),Object.keys(cr).sort(sorter).map(yr=>+yr)}getLabelForValue(Hn){const er=this._adapter,nr=this.options.time;return nr.tooltipFormat?er.format(Hn,nr.tooltipFormat):er.format(Hn,nr.displayFormats.datetime)}format(Hn,er){const ir=this.options.time.displayFormats,rr=this._unit,sr=er||ir[rr];return this._adapter.format(Hn,sr)}_tickFormatFunction(Hn,er,nr,ir){const rr=this.options,sr=rr.ticks.callback;if(sr)return callback(sr,[Hn,er,nr],this);const ar=rr.time.displayFormats,or=this._unit,lr=this._majorUnit,cr=or&&ar[or],ur=lr&&ar[lr],dr=nr[er],fr=lr&&ur&&dr&&dr.major;return this._adapter.format(Hn,ir||(fr?ur:cr))}generateTickLabels(Hn){let er,nr,ir;for(er=0,nr=Hn.length;er<nr;++er)ir=Hn[er],ir.label=this._tickFormatFunction(ir.value,er,Hn)}getDecimalForValue(Hn){return Hn===null?NaN:(Hn-this.min)/(this.max-this.min)}getPixelForValue(Hn){const er=this._offsets,nr=this.getDecimalForValue(Hn);return this.getPixelForDecimal((er.start+nr)*er.factor)}getValueForPixel(Hn){const er=this._offsets,nr=this.getDecimalForPixel(Hn)/er.factor-er.end;return this.min+nr*(this.max-this.min)}_getLabelSize(Hn){const er=this.options.ticks,nr=this.ctx.measureText(Hn).width,ir=toRadians(this.isHorizontal()?er.maxRotation:er.minRotation),rr=Math.cos(ir),sr=Math.sin(ir),ar=this._resolveTickFontOptions(0).size;return{w:nr*rr+ar*sr,h:nr*sr+ar*rr}}_getLabelCapacity(Hn){const er=this.options.time,nr=er.displayFormats,ir=nr[er.unit]||nr.millisecond,rr=this._tickFormatFunction(Hn,0,ticksFromTimestamps(this,[Hn],this._majorUnit),ir),sr=this._getLabelSize(rr),ar=Math.floor(this.isHorizontal()?this.width/sr.w:this.height/sr.h)-1;return ar>0?ar:1}getDataTimestamps(){let Hn=this._cache.data||[],er,nr;if(Hn.length)return Hn;const ir=this.getMatchingVisibleMetas();if(this._normalized&&ir.length)return this._cache.data=ir[0].controller.getAllParsedValues(this);for(er=0,nr=ir.length;er<nr;++er)Hn=Hn.concat(ir[er].controller.getAllParsedValues(this));return this._cache.data=this.normalize(Hn)}getLabelTimestamps(){const Hn=this._cache.labels||[];let er,nr;if(Hn.length)return Hn;const ir=this.getLabels();for(er=0,nr=ir.length;er<nr;++er)Hn.push(parse$1(this,ir[er]));return this._cache.labels=this._normalized?Hn:this.normalize(Hn)}normalize(Hn){return _arrayUnique(Hn.sort(sorter))}}function interpolate$2(tr,Hn,er){let nr=0,ir=tr.length-1,rr,sr,ar,or;er?(Hn>=tr[nr].pos&&Hn<=tr[ir].pos&&({lo:nr,hi:ir}=_lookupByKey(tr,"pos",Hn)),{pos:rr,time:ar}=tr[nr],{pos:sr,time:or}=tr[ir]):(Hn>=tr[nr].time&&Hn<=tr[ir].time&&({lo:nr,hi:ir}=_lookupByKey(tr,"time",Hn)),{time:rr,pos:ar}=tr[nr],{time:sr,pos:or}=tr[ir]);const lr=sr-rr;return lr?ar+(or-ar)*(Hn-rr)/lr:ar}class TimeSeriesScale extends TimeScale{static id="timeseries";static defaults=TimeScale.defaults;constructor(Hn){super(Hn),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const Hn=this._getTimestampsForTable(),er=this._table=this.buildLookupTable(Hn);this._minPos=interpolate$2(er,this.min),this._tableRange=interpolate$2(er,this.max)-this._minPos,super.initOffsets(Hn)}buildLookupTable(Hn){const{min:er,max:nr}=this,ir=[],rr=[];let sr,ar,or,lr,cr;for(sr=0,ar=Hn.length;sr<ar;++sr)lr=Hn[sr],lr>=er&&lr<=nr&&ir.push(lr);if(ir.length<2)return[{time:er,pos:0},{time:nr,pos:1}];for(sr=0,ar=ir.length;sr<ar;++sr)cr=ir[sr+1],or=ir[sr-1],lr=ir[sr],Math.round((cr+or)/2)!==lr&&rr.push({time:lr,pos:sr/(ar-1)});return rr}_generate(){const Hn=this.min,er=this.max;let nr=super.getDataTimestamps();return(!nr.includes(Hn)||!nr.length)&&nr.splice(0,0,Hn),(!nr.includes(er)||nr.length===1)&&nr.push(er),nr.sort((ir,rr)=>ir-rr)}_getTimestampsForTable(){let Hn=this._cache.all||[];if(Hn.length)return Hn;const er=this.getDataTimestamps(),nr=this.getLabelTimestamps();return er.length&&nr.length?Hn=this.normalize(er.concat(nr)):Hn=er.length?er:nr,Hn=this._cache.all=Hn,Hn}getDecimalForValue(Hn){return(interpolate$2(this._table,Hn)-this._minPos)/this._tableRange}getValueForPixel(Hn){const er=this._offsets,nr=this.getDecimalForPixel(Hn)/er.factor-er.end;return interpolate$2(this._table,nr*this._tableRange+this._minPos,!0)}}var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins$1,scales],defaultDatasetIdKey="label";function reforwardRef(tr,Hn){typeof tr=="function"?tr(Hn):tr&&(tr.current=Hn)}function setOptions(tr,Hn){const er=tr.options;er&&Hn&&Object.assign(er,Hn)}function setLabels(tr,Hn){tr.labels=Hn}function setDatasets(tr,Hn,er=defaultDatasetIdKey){const nr=[];tr.datasets=Hn.map(ir=>{const rr=tr.datasets.find(sr=>sr[er]===ir[er]);return!rr||!ir.data||nr.includes(rr)?{...ir}:(nr.push(rr),Object.assign(rr,ir),rr)})}function cloneData(tr,Hn=defaultDatasetIdKey){const er={labels:[],datasets:[]};return setLabels(er,tr.labels),setDatasets(er,tr.datasets,Hn),er}function getElementAtEvent(tr,Hn){return tr.getElementsAtEventForMode(Hn.nativeEvent,"nearest",{intersect:!0},!1)}function ChartComponent(tr,Hn){const{height:er=150,width:nr=300,redraw:ir=!1,datasetIdKey:rr,type:sr,data:ar,options:or,plugins:lr=[],fallbackContent:cr,updateMode:ur,...dr}=tr,fr=reactExports.useRef(null),gr=reactExports.useRef(null),yr=()=>{fr.current&&(gr.current=new Chart$1(fr.current,{type:sr,data:cloneData(ar,rr),options:or&&{...or},plugins:lr}),reforwardRef(Hn,gr.current))},vr=()=>{reforwardRef(Hn,null),gr.current&&(gr.current.destroy(),gr.current=null)};return reactExports.useEffect(()=>{!ir&&gr.current&&or&&setOptions(gr.current,or)},[ir,or]),reactExports.useEffect(()=>{!ir&&gr.current&&setLabels(gr.current.config.data,ar.labels)},[ir,ar.labels]),reactExports.useEffect(()=>{!ir&&gr.current&&ar.datasets&&setDatasets(gr.current.config.data,ar.datasets,rr)},[ir,ar.datasets]),reactExports.useEffect(()=>{gr.current&&(ir?(vr(),setTimeout(yr)):gr.current.update(ur))},[ir,or,ar.labels,ar.datasets,ur]),reactExports.useEffect(()=>{gr.current&&(vr(),setTimeout(yr))},[sr]),reactExports.useEffect(()=>(yr(),()=>vr()),[]),jsxRuntimeExports.jsx("canvas",{ref:fr,role:"img",height:er,width:nr,...dr,children:cr})}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(tr,Hn){return Chart$1.register(Hn),reactExports.forwardRef((er,nr)=>jsxRuntimeExports.jsx(Chart,{...er,ref:nr,type:tr}))}const Line=createTypedChart("line",LineController),Bar$1=createTypedChart("bar",BarController),millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(tr,Hn){return typeof tr=="function"?tr(Hn):tr&&typeof tr=="object"&&constructFromSymbol in tr?tr[constructFromSymbol](Hn):tr instanceof Date?new tr.constructor(Hn):new Date(Hn)}function toDate$1(tr,Hn){return constructFrom(Hn||tr,tr)}function addDays(tr,Hn,er){const nr=toDate$1(tr,er?.in);return isNaN(Hn)?constructFrom(er?.in||tr,NaN):(Hn&&nr.setDate(nr.getDate()+Hn),nr)}function addMonths(tr,Hn,er){const nr=toDate$1(tr,er?.in);if(isNaN(Hn))return constructFrom(tr,NaN);if(!Hn)return nr;const ir=nr.getDate(),rr=constructFrom(tr,nr.getTime());rr.setMonth(nr.getMonth()+Hn+1,0);const sr=rr.getDate();return ir>=sr?rr:(nr.setFullYear(rr.getFullYear(),rr.getMonth(),ir),nr)}function addMilliseconds(tr,Hn,er){return constructFrom(tr,+toDate$1(tr)+Hn)}function addHours(tr,Hn,er){return addMilliseconds(tr,Hn*millisecondsInHour)}let defaultOptions={};function getDefaultOptions$1(){return defaultOptions}function startOfWeek(tr,Hn){const er=getDefaultOptions$1(),nr=Hn?.weekStartsOn??Hn?.locale?.options?.weekStartsOn??er.weekStartsOn??er.locale?.options?.weekStartsOn??0,ir=toDate$1(tr,Hn?.in),rr=ir.getDay(),sr=(rr<nr?7:0)+rr-nr;return ir.setDate(ir.getDate()-sr),ir.setHours(0,0,0,0),ir}function startOfISOWeek(tr,Hn){return startOfWeek(tr,{...Hn,weekStartsOn:1})}function getISOWeekYear(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getFullYear(),ir=constructFrom(er,0);ir.setFullYear(nr+1,0,4),ir.setHours(0,0,0,0);const rr=startOfISOWeek(ir),sr=constructFrom(er,0);sr.setFullYear(nr,0,4),sr.setHours(0,0,0,0);const ar=startOfISOWeek(sr);return er.getTime()>=rr.getTime()?nr+1:er.getTime()>=ar.getTime()?nr:nr-1}function getTimezoneOffsetInMilliseconds(tr){const Hn=toDate$1(tr),er=new Date(Date.UTC(Hn.getFullYear(),Hn.getMonth(),Hn.getDate(),Hn.getHours(),Hn.getMinutes(),Hn.getSeconds(),Hn.getMilliseconds()));return er.setUTCFullYear(Hn.getFullYear()),+tr-+er}function normalizeDates(tr,...Hn){const er=constructFrom.bind(null,Hn.find(nr=>typeof nr=="object"));return Hn.map(er)}function startOfDay(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setHours(0,0,0,0),er}function differenceInCalendarDays(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=startOfDay(nr),sr=startOfDay(ir),ar=+rr-getTimezoneOffsetInMilliseconds(rr),or=+sr-getTimezoneOffsetInMilliseconds(sr);return Math.round((ar-or)/millisecondsInDay)}function startOfISOWeekYear(tr,Hn){const er=getISOWeekYear(tr,Hn),nr=constructFrom(tr,0);return nr.setFullYear(er,0,4),nr.setHours(0,0,0,0),startOfISOWeek(nr)}function addMinutes(tr,Hn,er){const nr=toDate$1(tr,er?.in);return nr.setTime(nr.getTime()+Hn*millisecondsInMinute),nr}function addQuarters(tr,Hn,er){return addMonths(tr,Hn*3,er)}function addSeconds(tr,Hn,er){return addMilliseconds(tr,Hn*1e3)}function addWeeks(tr,Hn,er){return addDays(tr,Hn*7,er)}function addYears(tr,Hn,er){return addMonths(tr,Hn*12,er)}function compareAsc(tr,Hn){const er=+toDate$1(tr)-+toDate$1(Hn);return er<0?-1:er>0?1:er}function isDate$1(tr){return tr instanceof Date||typeof tr=="object"&&Object.prototype.toString.call(tr)==="[object Date]"}function isValid(tr){return!(!isDate$1(tr)&&typeof tr!="number"||isNaN(+toDate$1(tr)))}function differenceInCalendarMonths(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=nr.getFullYear()-ir.getFullYear(),sr=nr.getMonth()-ir.getMonth();return rr*12+sr}function differenceInCalendarYears(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn);return nr.getFullYear()-ir.getFullYear()}function differenceInDays(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=compareLocalAsc(nr,ir),sr=Math.abs(differenceInCalendarDays(nr,ir));nr.setDate(nr.getDate()-rr*sr);const ar=+(compareLocalAsc(nr,ir)===-rr),or=rr*(sr-ar);return or===0?0:or}function compareLocalAsc(tr,Hn){const er=tr.getFullYear()-Hn.getFullYear()||tr.getMonth()-Hn.getMonth()||tr.getDate()-Hn.getDate()||tr.getHours()-Hn.getHours()||tr.getMinutes()-Hn.getMinutes()||tr.getSeconds()-Hn.getSeconds()||tr.getMilliseconds()-Hn.getMilliseconds();return er<0?-1:er>0?1:er}function getRoundingMethod(tr){return Hn=>{const nr=(tr?Math[tr]:Math.trunc)(Hn);return nr===0?0:nr}}function differenceInHours(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=(+nr-+ir)/millisecondsInHour;return getRoundingMethod(er?.roundingMethod)(rr)}function differenceInMilliseconds(tr,Hn){return+toDate$1(tr)-+toDate$1(Hn)}function differenceInMinutes(tr,Hn,er){const nr=differenceInMilliseconds(tr,Hn)/millisecondsInMinute;return getRoundingMethod(er?.roundingMethod)(nr)}function endOfDay(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setHours(23,59,59,999),er}function endOfMonth(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getMonth();return er.setFullYear(er.getFullYear(),nr+1,0),er.setHours(23,59,59,999),er}function isLastDayOfMonth(tr,Hn){const er=toDate$1(tr,Hn?.in);return+endOfDay(er,Hn)==+endOfMonth(er,Hn)}function differenceInMonths(tr,Hn,er){const[nr,ir,rr]=normalizeDates(er?.in,tr,tr,Hn),sr=compareAsc(ir,rr),ar=Math.abs(differenceInCalendarMonths(ir,rr));if(ar<1)return 0;ir.getMonth()===1&&ir.getDate()>27&&ir.setDate(30),ir.setMonth(ir.getMonth()-sr*ar);let or=compareAsc(ir,rr)===-sr;isLastDayOfMonth(nr)&&ar===1&&compareAsc(nr,rr)===1&&(or=!1);const lr=sr*(ar-+or);return lr===0?0:lr}function differenceInQuarters(tr,Hn,er){const nr=differenceInMonths(tr,Hn,er)/3;return getRoundingMethod(er?.roundingMethod)(nr)}function differenceInSeconds(tr,Hn,er){const nr=differenceInMilliseconds(tr,Hn)/1e3;return getRoundingMethod(er?.roundingMethod)(nr)}function differenceInWeeks(tr,Hn,er){const nr=differenceInDays(tr,Hn,er)/7;return getRoundingMethod(er?.roundingMethod)(nr)}function differenceInYears(tr,Hn,er){const[nr,ir]=normalizeDates(er?.in,tr,Hn),rr=compareAsc(nr,ir),sr=Math.abs(differenceInCalendarYears(nr,ir));nr.setFullYear(1584),ir.setFullYear(1584);const ar=compareAsc(nr,ir)===-rr,or=rr*(sr-+ar);return or===0?0:or}function startOfQuarter(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getMonth(),ir=nr-nr%3;return er.setMonth(ir,1),er.setHours(0,0,0,0),er}function startOfMonth(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setDate(1),er.setHours(0,0,0,0),er}function endOfYear(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getFullYear();return er.setFullYear(nr+1,0,0),er.setHours(23,59,59,999),er}function startOfYear(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setFullYear(er.getFullYear(),0,1),er.setHours(0,0,0,0),er}function endOfHour(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setMinutes(59,59,999),er}function endOfWeek(tr,Hn){const er=getDefaultOptions$1(),nr=er.weekStartsOn??er.locale?.options?.weekStartsOn??0,ir=toDate$1(tr,Hn?.in),rr=ir.getDay(),sr=(rr<nr?-7:0)+6-(rr-nr);return ir.setDate(ir.getDate()+sr),ir.setHours(23,59,59,999),ir}function endOfMinute(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setSeconds(59,999),er}function endOfQuarter(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getMonth(),ir=nr-nr%3+3;return er.setMonth(ir,0),er.setHours(23,59,59,999),er}function endOfSecond(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setMilliseconds(999),er}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(tr,Hn,er)=>{let nr;const ir=formatDistanceLocale$1[tr];return typeof ir=="string"?nr=ir:Hn===1?nr=ir.one:nr=ir.other.replace("{{count}}",Hn.toString()),er?.addSuffix?er.comparison&&er.comparison>0?"in "+nr:nr+" ago":nr};function buildFormatLongFn(tr){return(Hn={})=>{const er=Hn.width?String(Hn.width):tr.defaultWidth;return tr.formats[er]||tr.formats[tr.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(tr,Hn,er,nr)=>formatRelativeLocale$1[tr];function buildLocalizeFn(tr){return(Hn,er)=>{const nr=er?.context?String(er.context):"standalone";let ir;if(nr==="formatting"&&tr.formattingValues){const sr=tr.defaultFormattingWidth||tr.defaultWidth,ar=er?.width?String(er.width):sr;ir=tr.formattingValues[ar]||tr.formattingValues[sr]}else{const sr=tr.defaultWidth,ar=er?.width?String(er.width):tr.defaultWidth;ir=tr.values[ar]||tr.values[sr]}const rr=tr.argumentCallback?tr.argumentCallback(Hn):Hn;return ir[rr]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(tr,Hn)=>{const er=Number(tr),nr=er%100;if(nr>20||nr<10)switch(nr%10){case 1:return er+"st";case 2:return er+"nd";case 3:return er+"rd"}return er+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:tr=>tr-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(tr){return(Hn,er={})=>{const nr=er.width,ir=nr&&tr.matchPatterns[nr]||tr.matchPatterns[tr.defaultMatchWidth],rr=Hn.match(ir);if(!rr)return null;const sr=rr[0],ar=nr&&tr.parsePatterns[nr]||tr.parsePatterns[tr.defaultParseWidth],or=Array.isArray(ar)?findIndex(ar,ur=>ur.test(sr)):findKey$1(ar,ur=>ur.test(sr));let lr;lr=tr.valueCallback?tr.valueCallback(or):or,lr=er.valueCallback?er.valueCallback(lr):lr;const cr=Hn.slice(sr.length);return{value:lr,rest:cr}}}function findKey$1(tr,Hn){for(const er in tr)if(Object.prototype.hasOwnProperty.call(tr,er)&&Hn(tr[er]))return er}function findIndex(tr,Hn){for(let er=0;er<tr.length;er++)if(Hn(tr[er]))return er}function buildMatchPatternFn(tr){return(Hn,er={})=>{const nr=Hn.match(tr.matchPattern);if(!nr)return null;const ir=nr[0],rr=Hn.match(tr.parsePattern);if(!rr)return null;let sr=tr.valueCallback?tr.valueCallback(rr[0]):rr[0];sr=er.valueCallback?er.valueCallback(sr):sr;const ar=Hn.slice(ir.length);return{value:sr,rest:ar}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:tr=>parseInt(tr,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:tr=>tr+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(tr,Hn){const er=toDate$1(tr,Hn?.in);return differenceInCalendarDays(er,startOfYear(er))+1}function getISOWeek(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=+startOfISOWeek(er)-+startOfISOWeekYear(er);return Math.round(nr/millisecondsInWeek)+1}function getWeekYear(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=er.getFullYear(),ir=getDefaultOptions$1(),rr=Hn?.firstWeekContainsDate??Hn?.locale?.options?.firstWeekContainsDate??ir.firstWeekContainsDate??ir.locale?.options?.firstWeekContainsDate??1,sr=constructFrom(Hn?.in||tr,0);sr.setFullYear(nr+1,0,rr),sr.setHours(0,0,0,0);const ar=startOfWeek(sr,Hn),or=constructFrom(Hn?.in||tr,0);or.setFullYear(nr,0,rr),or.setHours(0,0,0,0);const lr=startOfWeek(or,Hn);return+er>=+ar?nr+1:+er>=+lr?nr:nr-1}function startOfWeekYear(tr,Hn){const er=getDefaultOptions$1(),nr=Hn?.firstWeekContainsDate??Hn?.locale?.options?.firstWeekContainsDate??er.firstWeekContainsDate??er.locale?.options?.firstWeekContainsDate??1,ir=getWeekYear(tr,Hn),rr=constructFrom(Hn?.in||tr,0);return rr.setFullYear(ir,0,nr),rr.setHours(0,0,0,0),startOfWeek(rr,Hn)}function getWeek(tr,Hn){const er=toDate$1(tr,Hn?.in),nr=+startOfWeek(er,Hn)-+startOfWeekYear(er,Hn);return Math.round(nr/millisecondsInWeek)+1}function addLeadingZeros(tr,Hn){const er=tr<0?"-":"",nr=Math.abs(tr).toString().padStart(Hn,"0");return er+nr}const lightFormatters={y(tr,Hn){const er=tr.getFullYear(),nr=er>0?er:1-er;return addLeadingZeros(Hn==="yy"?nr%100:nr,Hn.length)},M(tr,Hn){const er=tr.getMonth();return Hn==="M"?String(er+1):addLeadingZeros(er+1,2)},d(tr,Hn){return addLeadingZeros(tr.getDate(),Hn.length)},a(tr,Hn){const er=tr.getHours()/12>=1?"pm":"am";switch(Hn){case"a":case"aa":return er.toUpperCase();case"aaa":return er;case"aaaaa":return er[0];case"aaaa":default:return er==="am"?"a.m.":"p.m."}},h(tr,Hn){return addLeadingZeros(tr.getHours()%12||12,Hn.length)},H(tr,Hn){return addLeadingZeros(tr.getHours(),Hn.length)},m(tr,Hn){return addLeadingZeros(tr.getMinutes(),Hn.length)},s(tr,Hn){return addLeadingZeros(tr.getSeconds(),Hn.length)},S(tr,Hn){const er=Hn.length,nr=tr.getMilliseconds(),ir=Math.trunc(nr*Math.pow(10,er-3));return addLeadingZeros(ir,Hn.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(tr,Hn,er){const nr=tr.getFullYear()>0?1:0;switch(Hn){case"G":case"GG":case"GGG":return er.era(nr,{width:"abbreviated"});case"GGGGG":return er.era(nr,{width:"narrow"});case"GGGG":default:return er.era(nr,{width:"wide"})}},y:function(tr,Hn,er){if(Hn==="yo"){const nr=tr.getFullYear(),ir=nr>0?nr:1-nr;return er.ordinalNumber(ir,{unit:"year"})}return lightFormatters.y(tr,Hn)},Y:function(tr,Hn,er,nr){const ir=getWeekYear(tr,nr),rr=ir>0?ir:1-ir;if(Hn==="YY"){const sr=rr%100;return addLeadingZeros(sr,2)}return Hn==="Yo"?er.ordinalNumber(rr,{unit:"year"}):addLeadingZeros(rr,Hn.length)},R:function(tr,Hn){const er=getISOWeekYear(tr);return addLeadingZeros(er,Hn.length)},u:function(tr,Hn){const er=tr.getFullYear();return addLeadingZeros(er,Hn.length)},Q:function(tr,Hn,er){const nr=Math.ceil((tr.getMonth()+1)/3);switch(Hn){case"Q":return String(nr);case"QQ":return addLeadingZeros(nr,2);case"Qo":return er.ordinalNumber(nr,{unit:"quarter"});case"QQQ":return er.quarter(nr,{width:"abbreviated",context:"formatting"});case"QQQQQ":return er.quarter(nr,{width:"narrow",context:"formatting"});case"QQQQ":default:return er.quarter(nr,{width:"wide",context:"formatting"})}},q:function(tr,Hn,er){const nr=Math.ceil((tr.getMonth()+1)/3);switch(Hn){case"q":return String(nr);case"qq":return addLeadingZeros(nr,2);case"qo":return er.ordinalNumber(nr,{unit:"quarter"});case"qqq":return er.quarter(nr,{width:"abbreviated",context:"standalone"});case"qqqqq":return er.quarter(nr,{width:"narrow",context:"standalone"});case"qqqq":default:return er.quarter(nr,{width:"wide",context:"standalone"})}},M:function(tr,Hn,er){const nr=tr.getMonth();switch(Hn){case"M":case"MM":return lightFormatters.M(tr,Hn);case"Mo":return er.ordinalNumber(nr+1,{unit:"month"});case"MMM":return er.month(nr,{width:"abbreviated",context:"formatting"});case"MMMMM":return er.month(nr,{width:"narrow",context:"formatting"});case"MMMM":default:return er.month(nr,{width:"wide",context:"formatting"})}},L:function(tr,Hn,er){const nr=tr.getMonth();switch(Hn){case"L":return String(nr+1);case"LL":return addLeadingZeros(nr+1,2);case"Lo":return er.ordinalNumber(nr+1,{unit:"month"});case"LLL":return er.month(nr,{width:"abbreviated",context:"standalone"});case"LLLLL":return er.month(nr,{width:"narrow",context:"standalone"});case"LLLL":default:return er.month(nr,{width:"wide",context:"standalone"})}},w:function(tr,Hn,er,nr){const ir=getWeek(tr,nr);return Hn==="wo"?er.ordinalNumber(ir,{unit:"week"}):addLeadingZeros(ir,Hn.length)},I:function(tr,Hn,er){const nr=getISOWeek(tr);return Hn==="Io"?er.ordinalNumber(nr,{unit:"week"}):addLeadingZeros(nr,Hn.length)},d:function(tr,Hn,er){return Hn==="do"?er.ordinalNumber(tr.getDate(),{unit:"date"}):lightFormatters.d(tr,Hn)},D:function(tr,Hn,er){const nr=getDayOfYear(tr);return Hn==="Do"?er.ordinalNumber(nr,{unit:"dayOfYear"}):addLeadingZeros(nr,Hn.length)},E:function(tr,Hn,er){const nr=tr.getDay();switch(Hn){case"E":case"EE":case"EEE":return er.day(nr,{width:"abbreviated",context:"formatting"});case"EEEEE":return er.day(nr,{width:"narrow",context:"formatting"});case"EEEEEE":return er.day(nr,{width:"short",context:"formatting"});case"EEEE":default:return er.day(nr,{width:"wide",context:"formatting"})}},e:function(tr,Hn,er,nr){const ir=tr.getDay(),rr=(ir-nr.weekStartsOn+8)%7||7;switch(Hn){case"e":return String(rr);case"ee":return addLeadingZeros(rr,2);case"eo":return er.ordinalNumber(rr,{unit:"day"});case"eee":return er.day(ir,{width:"abbreviated",context:"formatting"});case"eeeee":return er.day(ir,{width:"narrow",context:"formatting"});case"eeeeee":return er.day(ir,{width:"short",context:"formatting"});case"eeee":default:return er.day(ir,{width:"wide",context:"formatting"})}},c:function(tr,Hn,er,nr){const ir=tr.getDay(),rr=(ir-nr.weekStartsOn+8)%7||7;switch(Hn){case"c":return String(rr);case"cc":return addLeadingZeros(rr,Hn.length);case"co":return er.ordinalNumber(rr,{unit:"day"});case"ccc":return er.day(ir,{width:"abbreviated",context:"standalone"});case"ccccc":return er.day(ir,{width:"narrow",context:"standalone"});case"cccccc":return er.day(ir,{width:"short",context:"standalone"});case"cccc":default:return er.day(ir,{width:"wide",context:"standalone"})}},i:function(tr,Hn,er){const nr=tr.getDay(),ir=nr===0?7:nr;switch(Hn){case"i":return String(ir);case"ii":return addLeadingZeros(ir,Hn.length);case"io":return er.ordinalNumber(ir,{unit:"day"});case"iii":return er.day(nr,{width:"abbreviated",context:"formatting"});case"iiiii":return er.day(nr,{width:"narrow",context:"formatting"});case"iiiiii":return er.day(nr,{width:"short",context:"formatting"});case"iiii":default:return er.day(nr,{width:"wide",context:"formatting"})}},a:function(tr,Hn,er){const ir=tr.getHours()/12>=1?"pm":"am";switch(Hn){case"a":case"aa":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"});case"aaa":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return er.dayPeriod(ir,{width:"narrow",context:"formatting"});case"aaaa":default:return er.dayPeriod(ir,{width:"wide",context:"formatting"})}},b:function(tr,Hn,er){const nr=tr.getHours();let ir;switch(nr===12?ir=dayPeriodEnum.noon:nr===0?ir=dayPeriodEnum.midnight:ir=nr/12>=1?"pm":"am",Hn){case"b":case"bb":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"});case"bbb":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return er.dayPeriod(ir,{width:"narrow",context:"formatting"});case"bbbb":default:return er.dayPeriod(ir,{width:"wide",context:"formatting"})}},B:function(tr,Hn,er){const nr=tr.getHours();let ir;switch(nr>=17?ir=dayPeriodEnum.evening:nr>=12?ir=dayPeriodEnum.afternoon:nr>=4?ir=dayPeriodEnum.morning:ir=dayPeriodEnum.night,Hn){case"B":case"BB":case"BBB":return er.dayPeriod(ir,{width:"abbreviated",context:"formatting"});case"BBBBB":return er.dayPeriod(ir,{width:"narrow",context:"formatting"});case"BBBB":default:return er.dayPeriod(ir,{width:"wide",context:"formatting"})}},h:function(tr,Hn,er){if(Hn==="ho"){let nr=tr.getHours()%12;return nr===0&&(nr=12),er.ordinalNumber(nr,{unit:"hour"})}return lightFormatters.h(tr,Hn)},H:function(tr,Hn,er){return Hn==="Ho"?er.ordinalNumber(tr.getHours(),{unit:"hour"}):lightFormatters.H(tr,Hn)},K:function(tr,Hn,er){const nr=tr.getHours()%12;return Hn==="Ko"?er.ordinalNumber(nr,{unit:"hour"}):addLeadingZeros(nr,Hn.length)},k:function(tr,Hn,er){let nr=tr.getHours();return nr===0&&(nr=24),Hn==="ko"?er.ordinalNumber(nr,{unit:"hour"}):addLeadingZeros(nr,Hn.length)},m:function(tr,Hn,er){return Hn==="mo"?er.ordinalNumber(tr.getMinutes(),{unit:"minute"}):lightFormatters.m(tr,Hn)},s:function(tr,Hn,er){return Hn==="so"?er.ordinalNumber(tr.getSeconds(),{unit:"second"}):lightFormatters.s(tr,Hn)},S:function(tr,Hn){return lightFormatters.S(tr,Hn)},X:function(tr,Hn,er){const nr=tr.getTimezoneOffset();if(nr===0)return"Z";switch(Hn){case"X":return formatTimezoneWithOptionalMinutes(nr);case"XXXX":case"XX":return formatTimezone(nr);case"XXXXX":case"XXX":default:return formatTimezone(nr,":")}},x:function(tr,Hn,er){const nr=tr.getTimezoneOffset();switch(Hn){case"x":return formatTimezoneWithOptionalMinutes(nr);case"xxxx":case"xx":return formatTimezone(nr);case"xxxxx":case"xxx":default:return formatTimezone(nr,":")}},O:function(tr,Hn,er){const nr=tr.getTimezoneOffset();switch(Hn){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(nr,":");case"OOOO":default:return"GMT"+formatTimezone(nr,":")}},z:function(tr,Hn,er){const nr=tr.getTimezoneOffset();switch(Hn){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(nr,":");case"zzzz":default:return"GMT"+formatTimezone(nr,":")}},t:function(tr,Hn,er){const nr=Math.trunc(+tr/1e3);return addLeadingZeros(nr,Hn.length)},T:function(tr,Hn,er){return addLeadingZeros(+tr,Hn.length)}};function formatTimezoneShort(tr,Hn=""){const er=tr>0?"-":"+",nr=Math.abs(tr),ir=Math.trunc(nr/60),rr=nr%60;return rr===0?er+String(ir):er+String(ir)+Hn+addLeadingZeros(rr,2)}function formatTimezoneWithOptionalMinutes(tr,Hn){return tr%60===0?(tr>0?"-":"+")+addLeadingZeros(Math.abs(tr)/60,2):formatTimezone(tr,Hn)}function formatTimezone(tr,Hn=""){const er=tr>0?"-":"+",nr=Math.abs(tr),ir=addLeadingZeros(Math.trunc(nr/60),2),rr=addLeadingZeros(nr%60,2);return er+ir+Hn+rr}const dateLongFormatter=(tr,Hn)=>{switch(tr){case"P":return Hn.date({width:"short"});case"PP":return Hn.date({width:"medium"});case"PPP":return Hn.date({width:"long"});case"PPPP":default:return Hn.date({width:"full"})}},timeLongFormatter=(tr,Hn)=>{switch(tr){case"p":return Hn.time({width:"short"});case"pp":return Hn.time({width:"medium"});case"ppp":return Hn.time({width:"long"});case"pppp":default:return Hn.time({width:"full"})}},dateTimeLongFormatter=(tr,Hn)=>{const er=tr.match(/(P+)(p+)?/)||[],nr=er[1],ir=er[2];if(!ir)return dateLongFormatter(tr,Hn);let rr;switch(nr){case"P":rr=Hn.dateTime({width:"short"});break;case"PP":rr=Hn.dateTime({width:"medium"});break;case"PPP":rr=Hn.dateTime({width:"long"});break;case"PPPP":default:rr=Hn.dateTime({width:"full"});break}return rr.replace("{{date}}",dateLongFormatter(nr,Hn)).replace("{{time}}",timeLongFormatter(ir,Hn))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(tr){return dayOfYearTokenRE.test(tr)}function isProtectedWeekYearToken(tr){return weekYearTokenRE.test(tr)}function warnOrThrowProtectedError(tr,Hn,er){const nr=message$1(tr,Hn,er);if(console.warn(nr),throwTokens.includes(tr))throw new RangeError(nr)}function message$1(tr,Hn,er){const nr=tr[0]==="Y"?"years":"days of the month";return`Use \`${tr.toLowerCase()}\` instead of \`${tr}\` (in \`${Hn}\`) for formatting ${nr} to the input \`${er}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format$1(tr,Hn,er){const nr=getDefaultOptions$1(),ir=er?.locale??nr.locale??enUS,rr=er?.firstWeekContainsDate??er?.locale?.options?.firstWeekContainsDate??nr.firstWeekContainsDate??nr.locale?.options?.firstWeekContainsDate??1,sr=er?.weekStartsOn??er?.locale?.options?.weekStartsOn??nr.weekStartsOn??nr.locale?.options?.weekStartsOn??0,ar=toDate$1(tr,er?.in);if(!isValid(ar))throw new RangeError("Invalid time value");let or=Hn.match(longFormattingTokensRegExp$1).map(cr=>{const ur=cr[0];if(ur==="p"||ur==="P"){const dr=longFormatters[ur];return dr(cr,ir.formatLong)}return cr}).join("").match(formattingTokensRegExp$1).map(cr=>{if(cr==="''")return{isToken:!1,value:"'"};const ur=cr[0];if(ur==="'")return{isToken:!1,value:cleanEscapedString$1(cr)};if(formatters[ur])return{isToken:!0,value:cr};if(ur.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ur+"`");return{isToken:!1,value:cr}});ir.localize.preprocessor&&(or=ir.localize.preprocessor(ar,or));const lr={firstWeekContainsDate:rr,weekStartsOn:sr,locale:ir};return or.map(cr=>{if(!cr.isToken)return cr.value;const ur=cr.value;(!er?.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(ur)||!er?.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(ur))&&warnOrThrowProtectedError(ur,Hn,String(tr));const dr=formatters[ur[0]];return dr(ar,ur,ir.localize,lr)}).join("")}function cleanEscapedString$1(tr){const Hn=tr.match(escapedStringRegExp$1);return Hn?Hn[1].replace(doubleQuoteRegExp$1,"'"):tr}function getDefaultOptions(){return Object.assign({},getDefaultOptions$1())}function getISODay(tr,Hn){const er=toDate$1(tr,Hn?.in).getDay();return er===0?7:er}function isAfter(tr,Hn){return+toDate$1(tr)>+toDate$1(Hn)}function transpose(tr,Hn){const er=isConstructor(Hn)?new Hn(0):constructFrom(Hn,0);return er.setFullYear(tr.getFullYear(),tr.getMonth(),tr.getDate()),er.setHours(tr.getHours(),tr.getMinutes(),tr.getSeconds(),tr.getMilliseconds()),er}function isConstructor(tr){return typeof tr=="function"&&tr.prototype?.constructor===tr}const TIMEZONE_UNIT_PRIORITY=10;class Setter{subPriority=0;validate(Hn,er){return!0}}class ValueSetter extends Setter{constructor(Hn,er,nr,ir,rr){super(),this.value=Hn,this.validateValue=er,this.setValue=nr,this.priority=ir,rr&&(this.subPriority=rr)}validate(Hn,er){return this.validateValue(Hn,this.value,er)}set(Hn,er,nr){return this.setValue(Hn,er,this.value,nr)}}class DateTimezoneSetter extends Setter{priority=TIMEZONE_UNIT_PRIORITY;subPriority=-1;constructor(Hn,er){super(),this.context=Hn||(nr=>constructFrom(er,nr))}set(Hn,er){return er.timestampIsSet?Hn:constructFrom(Hn,transpose(Hn,this.context))}}class Parser{run(Hn,er,nr,ir){const rr=this.parse(Hn,er,nr,ir);return rr?{setter:new ValueSetter(rr.value,this.validate,this.set,this.priority,this.subPriority),rest:rr.rest}:null}validate(Hn,er,nr){return!0}}class EraParser extends Parser{priority=140;parse(Hn,er,nr){switch(er){case"G":case"GG":case"GGG":return nr.era(Hn,{width:"abbreviated"})||nr.era(Hn,{width:"narrow"});case"GGGGG":return nr.era(Hn,{width:"narrow"});case"GGGG":default:return nr.era(Hn,{width:"wide"})||nr.era(Hn,{width:"abbreviated"})||nr.era(Hn,{width:"narrow"})}}set(Hn,er,nr){return er.era=nr,Hn.setFullYear(nr,0,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["R","u","t","T"]}const numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(tr,Hn){return tr&&{value:Hn(tr.value),rest:tr.rest}}function parseNumericPattern(tr,Hn){const er=Hn.match(tr);return er?{value:parseInt(er[0],10),rest:Hn.slice(er[0].length)}:null}function parseTimezonePattern(tr,Hn){const er=Hn.match(tr);if(!er)return null;if(er[0]==="Z")return{value:0,rest:Hn.slice(1)};const nr=er[1]==="+"?1:-1,ir=er[2]?parseInt(er[2],10):0,rr=er[3]?parseInt(er[3],10):0,sr=er[5]?parseInt(er[5],10):0;return{value:nr*(ir*millisecondsInHour+rr*millisecondsInMinute+sr*millisecondsInSecond),rest:Hn.slice(er[0].length)}}function parseAnyDigitsSigned(tr){return parseNumericPattern(numericPatterns.anyDigitsSigned,tr)}function parseNDigits(tr,Hn){switch(tr){case 1:return parseNumericPattern(numericPatterns.singleDigit,Hn);case 2:return parseNumericPattern(numericPatterns.twoDigits,Hn);case 3:return parseNumericPattern(numericPatterns.threeDigits,Hn);case 4:return parseNumericPattern(numericPatterns.fourDigits,Hn);default:return parseNumericPattern(new RegExp("^\\d{1,"+tr+"}"),Hn)}}function parseNDigitsSigned(tr,Hn){switch(tr){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,Hn);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,Hn);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,Hn);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,Hn);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+tr+"}"),Hn)}}function dayPeriodEnumToHours(tr){switch(tr){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(tr,Hn){const er=Hn>0,nr=er?Hn:1-Hn;let ir;if(nr<=50)ir=tr||100;else{const rr=nr+50,sr=Math.trunc(rr/100)*100,ar=tr>=rr%100;ir=tr+sr-(ar?100:0)}return er?ir:1-ir}function isLeapYearIndex$1(tr){return tr%400===0||tr%4===0&&tr%100!==0}class YearParser extends Parser{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(Hn,er,nr){const ir=rr=>({year:rr,isTwoDigitYear:er==="yy"});switch(er){case"y":return mapValue(parseNDigits(4,Hn),ir);case"yo":return mapValue(nr.ordinalNumber(Hn,{unit:"year"}),ir);default:return mapValue(parseNDigits(er.length,Hn),ir)}}validate(Hn,er){return er.isTwoDigitYear||er.year>0}set(Hn,er,nr){const ir=Hn.getFullYear();if(nr.isTwoDigitYear){const sr=normalizeTwoDigitYear(nr.year,ir);return Hn.setFullYear(sr,0,1),Hn.setHours(0,0,0,0),Hn}const rr=!("era"in er)||er.era===1?nr.year:1-nr.year;return Hn.setFullYear(rr,0,1),Hn.setHours(0,0,0,0),Hn}}class LocalWeekYearParser extends Parser{priority=130;parse(Hn,er,nr){const ir=rr=>({year:rr,isTwoDigitYear:er==="YY"});switch(er){case"Y":return mapValue(parseNDigits(4,Hn),ir);case"Yo":return mapValue(nr.ordinalNumber(Hn,{unit:"year"}),ir);default:return mapValue(parseNDigits(er.length,Hn),ir)}}validate(Hn,er){return er.isTwoDigitYear||er.year>0}set(Hn,er,nr,ir){const rr=getWeekYear(Hn,ir);if(nr.isTwoDigitYear){const ar=normalizeTwoDigitYear(nr.year,rr);return Hn.setFullYear(ar,0,ir.firstWeekContainsDate),Hn.setHours(0,0,0,0),startOfWeek(Hn,ir)}const sr=!("era"in er)||er.era===1?nr.year:1-nr.year;return Hn.setFullYear(sr,0,ir.firstWeekContainsDate),Hn.setHours(0,0,0,0),startOfWeek(Hn,ir)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class ISOWeekYearParser extends Parser{priority=130;parse(Hn,er){return parseNDigitsSigned(er==="R"?4:er.length,Hn)}set(Hn,er,nr){const ir=constructFrom(Hn,0);return ir.setFullYear(nr,0,4),ir.setHours(0,0,0,0),startOfISOWeek(ir)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class ExtendedYearParser extends Parser{priority=130;parse(Hn,er){return parseNDigitsSigned(er==="u"?4:er.length,Hn)}set(Hn,er,nr){return Hn.setFullYear(nr,0,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class QuarterParser extends Parser{priority=120;parse(Hn,er,nr){switch(er){case"Q":case"QQ":return parseNDigits(er.length,Hn);case"Qo":return nr.ordinalNumber(Hn,{unit:"quarter"});case"QQQ":return nr.quarter(Hn,{width:"abbreviated",context:"formatting"})||nr.quarter(Hn,{width:"narrow",context:"formatting"});case"QQQQQ":return nr.quarter(Hn,{width:"narrow",context:"formatting"});case"QQQQ":default:return nr.quarter(Hn,{width:"wide",context:"formatting"})||nr.quarter(Hn,{width:"abbreviated",context:"formatting"})||nr.quarter(Hn,{width:"narrow",context:"formatting"})}}validate(Hn,er){return er>=1&&er<=4}set(Hn,er,nr){return Hn.setMonth((nr-1)*3,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class StandAloneQuarterParser extends Parser{priority=120;parse(Hn,er,nr){switch(er){case"q":case"qq":return parseNDigits(er.length,Hn);case"qo":return nr.ordinalNumber(Hn,{unit:"quarter"});case"qqq":return nr.quarter(Hn,{width:"abbreviated",context:"standalone"})||nr.quarter(Hn,{width:"narrow",context:"standalone"});case"qqqqq":return nr.quarter(Hn,{width:"narrow",context:"standalone"});case"qqqq":default:return nr.quarter(Hn,{width:"wide",context:"standalone"})||nr.quarter(Hn,{width:"abbreviated",context:"standalone"})||nr.quarter(Hn,{width:"narrow",context:"standalone"})}}validate(Hn,er){return er>=1&&er<=4}set(Hn,er,nr){return Hn.setMonth((nr-1)*3,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class MonthParser extends Parser{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(Hn,er,nr){const ir=rr=>rr-1;switch(er){case"M":return mapValue(parseNumericPattern(numericPatterns.month,Hn),ir);case"MM":return mapValue(parseNDigits(2,Hn),ir);case"Mo":return mapValue(nr.ordinalNumber(Hn,{unit:"month"}),ir);case"MMM":return nr.month(Hn,{width:"abbreviated",context:"formatting"})||nr.month(Hn,{width:"narrow",context:"formatting"});case"MMMMM":return nr.month(Hn,{width:"narrow",context:"formatting"});case"MMMM":default:return nr.month(Hn,{width:"wide",context:"formatting"})||nr.month(Hn,{width:"abbreviated",context:"formatting"})||nr.month(Hn,{width:"narrow",context:"formatting"})}}validate(Hn,er){return er>=0&&er<=11}set(Hn,er,nr){return Hn.setMonth(nr,1),Hn.setHours(0,0,0,0),Hn}}class StandAloneMonthParser extends Parser{priority=110;parse(Hn,er,nr){const ir=rr=>rr-1;switch(er){case"L":return mapValue(parseNumericPattern(numericPatterns.month,Hn),ir);case"LL":return mapValue(parseNDigits(2,Hn),ir);case"Lo":return mapValue(nr.ordinalNumber(Hn,{unit:"month"}),ir);case"LLL":return nr.month(Hn,{width:"abbreviated",context:"standalone"})||nr.month(Hn,{width:"narrow",context:"standalone"});case"LLLLL":return nr.month(Hn,{width:"narrow",context:"standalone"});case"LLLL":default:return nr.month(Hn,{width:"wide",context:"standalone"})||nr.month(Hn,{width:"abbreviated",context:"standalone"})||nr.month(Hn,{width:"narrow",context:"standalone"})}}validate(Hn,er){return er>=0&&er<=11}set(Hn,er,nr){return Hn.setMonth(nr,1),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function setWeek(tr,Hn,er){const nr=toDate$1(tr,er?.in),ir=getWeek(nr,er)-Hn;return nr.setDate(nr.getDate()-ir*7),toDate$1(nr,er?.in)}class LocalWeekParser extends Parser{priority=100;parse(Hn,er,nr){switch(er){case"w":return parseNumericPattern(numericPatterns.week,Hn);case"wo":return nr.ordinalNumber(Hn,{unit:"week"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=1&&er<=53}set(Hn,er,nr,ir){return startOfWeek(setWeek(Hn,nr,ir),ir)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function setISOWeek(tr,Hn,er){const nr=toDate$1(tr,er?.in),ir=getISOWeek(nr,er)-Hn;return nr.setDate(nr.getDate()-ir*7),nr}class ISOWeekParser extends Parser{priority=100;parse(Hn,er,nr){switch(er){case"I":return parseNumericPattern(numericPatterns.week,Hn);case"Io":return nr.ordinalNumber(Hn,{unit:"week"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=1&&er<=53}set(Hn,er,nr){return startOfISOWeek(setISOWeek(Hn,nr))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];class DateParser extends Parser{priority=90;subPriority=1;parse(Hn,er,nr){switch(er){case"d":return parseNumericPattern(numericPatterns.date,Hn);case"do":return nr.ordinalNumber(Hn,{unit:"date"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){const nr=Hn.getFullYear(),ir=isLeapYearIndex$1(nr),rr=Hn.getMonth();return ir?er>=1&&er<=DAYS_IN_MONTH_LEAP_YEAR[rr]:er>=1&&er<=DAYS_IN_MONTH[rr]}set(Hn,er,nr){return Hn.setDate(nr),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class DayOfYearParser extends Parser{priority=90;subpriority=1;parse(Hn,er,nr){switch(er){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,Hn);case"Do":return nr.ordinalNumber(Hn,{unit:"date"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){const nr=Hn.getFullYear();return isLeapYearIndex$1(nr)?er>=1&&er<=366:er>=1&&er<=365}set(Hn,er,nr){return Hn.setMonth(0,nr),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function setDay(tr,Hn,er){const nr=getDefaultOptions$1(),ir=er?.weekStartsOn??er?.locale?.options?.weekStartsOn??nr.weekStartsOn??nr.locale?.options?.weekStartsOn??0,rr=toDate$1(tr,er?.in),sr=rr.getDay(),or=(Hn%7+7)%7,lr=7-ir,cr=Hn<0||Hn>6?Hn-(sr+lr)%7:(or+lr)%7-(sr+lr)%7;return addDays(rr,cr,er)}class DayParser extends Parser{priority=90;parse(Hn,er,nr){switch(er){case"E":case"EE":case"EEE":return nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"});case"EEEEE":return nr.day(Hn,{width:"narrow",context:"formatting"});case"EEEEEE":return nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"});case"EEEE":default:return nr.day(Hn,{width:"wide",context:"formatting"})||nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"})}}validate(Hn,er){return er>=0&&er<=6}set(Hn,er,nr,ir){return Hn=setDay(Hn,nr,ir),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["D","i","e","c","t","T"]}class LocalDayParser extends Parser{priority=90;parse(Hn,er,nr,ir){const rr=sr=>{const ar=Math.floor((sr-1)/7)*7;return(sr+ir.weekStartsOn+6)%7+ar};switch(er){case"e":case"ee":return mapValue(parseNDigits(er.length,Hn),rr);case"eo":return mapValue(nr.ordinalNumber(Hn,{unit:"day"}),rr);case"eee":return nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"});case"eeeee":return nr.day(Hn,{width:"narrow",context:"formatting"});case"eeeeee":return nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"});case"eeee":default:return nr.day(Hn,{width:"wide",context:"formatting"})||nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"})}}validate(Hn,er){return er>=0&&er<=6}set(Hn,er,nr,ir){return Hn=setDay(Hn,nr,ir),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class StandAloneLocalDayParser extends Parser{priority=90;parse(Hn,er,nr,ir){const rr=sr=>{const ar=Math.floor((sr-1)/7)*7;return(sr+ir.weekStartsOn+6)%7+ar};switch(er){case"c":case"cc":return mapValue(parseNDigits(er.length,Hn),rr);case"co":return mapValue(nr.ordinalNumber(Hn,{unit:"day"}),rr);case"ccc":return nr.day(Hn,{width:"abbreviated",context:"standalone"})||nr.day(Hn,{width:"short",context:"standalone"})||nr.day(Hn,{width:"narrow",context:"standalone"});case"ccccc":return nr.day(Hn,{width:"narrow",context:"standalone"});case"cccccc":return nr.day(Hn,{width:"short",context:"standalone"})||nr.day(Hn,{width:"narrow",context:"standalone"});case"cccc":default:return nr.day(Hn,{width:"wide",context:"standalone"})||nr.day(Hn,{width:"abbreviated",context:"standalone"})||nr.day(Hn,{width:"short",context:"standalone"})||nr.day(Hn,{width:"narrow",context:"standalone"})}}validate(Hn,er){return er>=0&&er<=6}set(Hn,er,nr,ir){return Hn=setDay(Hn,nr,ir),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function setISODay(tr,Hn,er){const nr=toDate$1(tr,er?.in),ir=getISODay(nr,er),rr=Hn-ir;return addDays(nr,rr,er)}class ISODayParser extends Parser{priority=90;parse(Hn,er,nr){const ir=rr=>rr===0?7:rr;switch(er){case"i":case"ii":return parseNDigits(er.length,Hn);case"io":return nr.ordinalNumber(Hn,{unit:"day"});case"iii":return mapValue(nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"}),ir);case"iiiii":return mapValue(nr.day(Hn,{width:"narrow",context:"formatting"}),ir);case"iiiiii":return mapValue(nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"}),ir);case"iiii":default:return mapValue(nr.day(Hn,{width:"wide",context:"formatting"})||nr.day(Hn,{width:"abbreviated",context:"formatting"})||nr.day(Hn,{width:"short",context:"formatting"})||nr.day(Hn,{width:"narrow",context:"formatting"}),ir)}}validate(Hn,er){return er>=1&&er<=7}set(Hn,er,nr){return Hn=setISODay(Hn,nr),Hn.setHours(0,0,0,0),Hn}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class AMPMParser extends Parser{priority=80;parse(Hn,er,nr){switch(er){case"a":case"aa":case"aaa":return nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"aaaaa":return nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"aaaa":default:return nr.dayPeriod(Hn,{width:"wide",context:"formatting"})||nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"})}}set(Hn,er,nr){return Hn.setHours(dayPeriodEnumToHours(nr),0,0,0),Hn}incompatibleTokens=["b","B","H","k","t","T"]}class AMPMMidnightParser extends Parser{priority=80;parse(Hn,er,nr){switch(er){case"b":case"bb":case"bbb":return nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"bbbbb":return nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"bbbb":default:return nr.dayPeriod(Hn,{width:"wide",context:"formatting"})||nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"})}}set(Hn,er,nr){return Hn.setHours(dayPeriodEnumToHours(nr),0,0,0),Hn}incompatibleTokens=["a","B","H","k","t","T"]}class DayPeriodParser extends Parser{priority=80;parse(Hn,er,nr){switch(er){case"B":case"BB":case"BBB":return nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"BBBBB":return nr.dayPeriod(Hn,{width:"narrow",context:"formatting"});case"BBBB":default:return nr.dayPeriod(Hn,{width:"wide",context:"formatting"})||nr.dayPeriod(Hn,{width:"abbreviated",context:"formatting"})||nr.dayPeriod(Hn,{width:"narrow",context:"formatting"})}}set(Hn,er,nr){return Hn.setHours(dayPeriodEnumToHours(nr),0,0,0),Hn}incompatibleTokens=["a","b","t","T"]}class Hour1to12Parser extends Parser{priority=70;parse(Hn,er,nr){switch(er){case"h":return parseNumericPattern(numericPatterns.hour12h,Hn);case"ho":return nr.ordinalNumber(Hn,{unit:"hour"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=1&&er<=12}set(Hn,er,nr){const ir=Hn.getHours()>=12;return ir&&nr<12?Hn.setHours(nr+12,0,0,0):!ir&&nr===12?Hn.setHours(0,0,0,0):Hn.setHours(nr,0,0,0),Hn}incompatibleTokens=["H","K","k","t","T"]}class Hour0to23Parser extends Parser{priority=70;parse(Hn,er,nr){switch(er){case"H":return parseNumericPattern(numericPatterns.hour23h,Hn);case"Ho":return nr.ordinalNumber(Hn,{unit:"hour"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=0&&er<=23}set(Hn,er,nr){return Hn.setHours(nr,0,0,0),Hn}incompatibleTokens=["a","b","h","K","k","t","T"]}class Hour0To11Parser extends Parser{priority=70;parse(Hn,er,nr){switch(er){case"K":return parseNumericPattern(numericPatterns.hour11h,Hn);case"Ko":return nr.ordinalNumber(Hn,{unit:"hour"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=0&&er<=11}set(Hn,er,nr){return Hn.getHours()>=12&&nr<12?Hn.setHours(nr+12,0,0,0):Hn.setHours(nr,0,0,0),Hn}incompatibleTokens=["h","H","k","t","T"]}class Hour1To24Parser extends Parser{priority=70;parse(Hn,er,nr){switch(er){case"k":return parseNumericPattern(numericPatterns.hour24h,Hn);case"ko":return nr.ordinalNumber(Hn,{unit:"hour"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=1&&er<=24}set(Hn,er,nr){const ir=nr<=24?nr%24:nr;return Hn.setHours(ir,0,0,0),Hn}incompatibleTokens=["a","b","h","H","K","t","T"]}class MinuteParser extends Parser{priority=60;parse(Hn,er,nr){switch(er){case"m":return parseNumericPattern(numericPatterns.minute,Hn);case"mo":return nr.ordinalNumber(Hn,{unit:"minute"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=0&&er<=59}set(Hn,er,nr){return Hn.setMinutes(nr,0,0),Hn}incompatibleTokens=["t","T"]}class SecondParser extends Parser{priority=50;parse(Hn,er,nr){switch(er){case"s":return parseNumericPattern(numericPatterns.second,Hn);case"so":return nr.ordinalNumber(Hn,{unit:"second"});default:return parseNDigits(er.length,Hn)}}validate(Hn,er){return er>=0&&er<=59}set(Hn,er,nr){return Hn.setSeconds(nr,0),Hn}incompatibleTokens=["t","T"]}class FractionOfSecondParser extends Parser{priority=30;parse(Hn,er){const nr=ir=>Math.trunc(ir*Math.pow(10,-er.length+3));return mapValue(parseNDigits(er.length,Hn),nr)}set(Hn,er,nr){return Hn.setMilliseconds(nr),Hn}incompatibleTokens=["t","T"]}class ISOTimezoneWithZParser extends Parser{priority=10;parse(Hn,er){switch(er){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,Hn);case"XX":return parseTimezonePattern(timezonePatterns.basic,Hn);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,Hn);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,Hn);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,Hn)}}set(Hn,er,nr){return er.timestampIsSet?Hn:constructFrom(Hn,Hn.getTime()-getTimezoneOffsetInMilliseconds(Hn)-nr)}incompatibleTokens=["t","T","x"]}class ISOTimezoneParser extends Parser{priority=10;parse(Hn,er){switch(er){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,Hn);case"xx":return parseTimezonePattern(timezonePatterns.basic,Hn);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,Hn);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,Hn);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,Hn)}}set(Hn,er,nr){return er.timestampIsSet?Hn:constructFrom(Hn,Hn.getTime()-getTimezoneOffsetInMilliseconds(Hn)-nr)}incompatibleTokens=["t","T","X"]}class TimestampSecondsParser extends Parser{priority=40;parse(Hn){return parseAnyDigitsSigned(Hn)}set(Hn,er,nr){return[constructFrom(Hn,nr*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class TimestampMillisecondsParser extends Parser{priority=20;parse(Hn){return parseAnyDigitsSigned(Hn)}set(Hn,er,nr){return[constructFrom(Hn,nr),{timestampIsSet:!0}]}incompatibleTokens="*"}const parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(tr,Hn,er,nr){const ir=()=>constructFrom(nr?.in||er,NaN),rr=getDefaultOptions(),sr=nr?.locale??rr.locale??enUS,ar=nr?.firstWeekContainsDate??nr?.locale?.options?.firstWeekContainsDate??rr.firstWeekContainsDate??rr.locale?.options?.firstWeekContainsDate??1,or=nr?.weekStartsOn??nr?.locale?.options?.weekStartsOn??rr.weekStartsOn??rr.locale?.options?.weekStartsOn??0;if(!Hn)return tr?ir():toDate$1(er,nr?.in);const lr={firstWeekContainsDate:ar,weekStartsOn:or,locale:sr},cr=[new DateTimezoneSetter(nr?.in,er)],ur=Hn.match(longFormattingTokensRegExp).map(vr=>{const jr=vr[0];if(jr in longFormatters){const Sr=longFormatters[jr];return Sr(vr,sr.formatLong)}return vr}).join("").match(formattingTokensRegExp),dr=[];for(let vr of ur){!nr?.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(vr)&&warnOrThrowProtectedError(vr,Hn,tr),!nr?.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(vr)&&warnOrThrowProtectedError(vr,Hn,tr);const jr=vr[0],Sr=parsers[jr];if(Sr){const{incompatibleTokens:Tr}=Sr;if(Array.isArray(Tr)){const Mr=dr.find(Nr=>Tr.includes(Nr.token)||Nr.token===jr);if(Mr)throw new RangeError(`The format string mustn't contain \`${Mr.fullToken}\` and \`${vr}\` at the same time`)}else if(Sr.incompatibleTokens==="*"&&dr.length>0)throw new RangeError(`The format string mustn't contain \`${vr}\` and any other token at the same time`);dr.push({token:jr,fullToken:vr});const Lr=Sr.run(tr,vr,sr.match,lr);if(!Lr)return ir();cr.push(Lr.setter),tr=Lr.rest}else{if(jr.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+jr+"`");if(vr==="''"?vr="'":jr==="'"&&(vr=cleanEscapedString(vr)),tr.indexOf(vr)===0)tr=tr.slice(vr.length);else return ir()}}if(tr.length>0&&notWhitespaceRegExp.test(tr))return ir();const fr=cr.map(vr=>vr.priority).sort((vr,jr)=>jr-vr).filter((vr,jr,Sr)=>Sr.indexOf(vr)===jr).map(vr=>cr.filter(jr=>jr.priority===vr).sort((jr,Sr)=>Sr.subPriority-jr.subPriority)).map(vr=>vr[0]);let gr=toDate$1(er,nr?.in);if(isNaN(+gr))return ir();const yr={};for(const vr of fr){if(!vr.validate(gr,lr))return ir();const jr=vr.set(gr,yr,lr);Array.isArray(jr)?(gr=jr[0],Object.assign(yr,jr[1])):gr=jr}return gr}function cleanEscapedString(tr){return tr.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function startOfHour(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setMinutes(0,0,0),er}function startOfMinute(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setSeconds(0,0),er}function startOfSecond(tr,Hn){const er=toDate$1(tr,Hn?.in);return er.setMilliseconds(0),er}function subDays(tr,Hn,er){return addDays(tr,-Hn,er)}function parseISO(tr,Hn){const er=()=>constructFrom(Hn?.in,NaN),nr=Hn?.additionalDigits??2,ir=splitDateString(tr);let rr;if(ir.date){const lr=parseYear$1(ir.date,nr);rr=parseDate(lr.restDateString,lr.year)}if(!rr||isNaN(+rr))return er();const sr=+rr;let ar=0,or;if(ir.time&&(ar=parseTime(ir.time),isNaN(ar)))return er();if(ir.timezone){if(or=parseTimezone(ir.timezone),isNaN(or))return er()}else{const lr=new Date(sr+ar),cr=toDate$1(0,Hn?.in);return cr.setFullYear(lr.getUTCFullYear(),lr.getUTCMonth(),lr.getUTCDate()),cr.setHours(lr.getUTCHours(),lr.getUTCMinutes(),lr.getUTCSeconds(),lr.getUTCMilliseconds()),cr}return toDate$1(sr+ar+or,Hn?.in)}const patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(tr){const Hn={},er=tr.split(patterns.dateTimeDelimiter);let nr;if(er.length>2)return Hn;if(/:/.test(er[0])?nr=er[0]:(Hn.date=er[0],nr=er[1],patterns.timeZoneDelimiter.test(Hn.date)&&(Hn.date=tr.split(patterns.timeZoneDelimiter)[0],nr=tr.substr(Hn.date.length,tr.length))),nr){const ir=patterns.timezone.exec(nr);ir?(Hn.time=nr.replace(ir[1],""),Hn.timezone=ir[1]):Hn.time=nr}return Hn}function parseYear$1(tr,Hn){const er=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+Hn)+"})|(\\d{2}|[+-]\\d{"+(2+Hn)+"})$)"),nr=tr.match(er);if(!nr)return{year:NaN,restDateString:""};const ir=nr[1]?parseInt(nr[1]):null,rr=nr[2]?parseInt(nr[2]):null;return{year:rr===null?ir:rr*100,restDateString:tr.slice((nr[1]||nr[2]).length)}}function parseDate(tr,Hn){if(Hn===null)return new Date(NaN);const er=tr.match(dateRegex);if(!er)return new Date(NaN);const nr=!!er[4],ir=parseDateUnit(er[1]),rr=parseDateUnit(er[2])-1,sr=parseDateUnit(er[3]),ar=parseDateUnit(er[4]),or=parseDateUnit(er[5])-1;if(nr)return validateWeekDate(Hn,ar,or)?dayOfISOWeekYear(Hn,ar,or):new Date(NaN);{const lr=new Date(0);return!validateDate(Hn,rr,sr)||!validateDayOfYearDate(Hn,ir)?new Date(NaN):(lr.setUTCFullYear(Hn,rr,Math.max(ir,sr)),lr)}}function parseDateUnit(tr){return tr?parseInt(tr):1}function parseTime(tr){const Hn=tr.match(timeRegex);if(!Hn)return NaN;const er=parseTimeUnit(Hn[1]),nr=parseTimeUnit(Hn[2]),ir=parseTimeUnit(Hn[3]);return validateTime(er,nr,ir)?er*millisecondsInHour+nr*millisecondsInMinute+ir*1e3:NaN}function parseTimeUnit(tr){return tr&&parseFloat(tr.replace(",","."))||0}function parseTimezone(tr){if(tr==="Z")return 0;const Hn=tr.match(timezoneRegex);if(!Hn)return 0;const er=Hn[1]==="+"?-1:1,nr=parseInt(Hn[2]),ir=Hn[3]&&parseInt(Hn[3])||0;return validateTimezone(nr,ir)?er*(nr*millisecondsInHour+ir*millisecondsInMinute):NaN}function dayOfISOWeekYear(tr,Hn,er){const nr=new Date(0);nr.setUTCFullYear(tr,0,4);const ir=nr.getUTCDay()||7,rr=(Hn-1)*7+er+1-ir;return nr.setUTCDate(nr.getUTCDate()+rr),nr}const daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(tr){return tr%400===0||tr%4===0&&tr%100!==0}function validateDate(tr,Hn,er){return Hn>=0&&Hn<=11&&er>=1&&er<=(daysInMonths[Hn]||(isLeapYearIndex(tr)?29:28))}function validateDayOfYearDate(tr,Hn){return Hn>=1&&Hn<=(isLeapYearIndex(tr)?366:365)}function validateWeekDate(tr,Hn,er){return Hn>=1&&Hn<=53&&er>=0&&er<=6}function validateTime(tr,Hn,er){return tr===24?Hn===0&&er===0:er>=0&&er<60&&Hn>=0&&Hn<60&&tr>=0&&tr<25}function validateTimezone(tr,Hn){return Hn>=0&&Hn<=59}function subMonths(tr,Hn,er){return addMonths(tr,-Hn,er)}function subYears(tr,Hn,er){return addYears(tr,-1,er)}const FORMATS={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};adapters$1._date.override({_id:"date-fns",formats:function(){return FORMATS},parse:function(tr,Hn){if(tr===null||typeof tr>"u")return null;const er=typeof tr;return er==="number"||tr instanceof Date?tr=toDate$1(tr):er==="string"&&(typeof Hn=="string"?tr=parse(tr,Hn,new Date,this.options):tr=parseISO(tr,this.options)),isValid(tr)?tr.getTime():null},format:function(tr,Hn){return format$1(tr,Hn,this.options)},add:function(tr,Hn,er){switch(er){case"millisecond":return addMilliseconds(tr,Hn);case"second":return addSeconds(tr,Hn);case"minute":return addMinutes(tr,Hn);case"hour":return addHours(tr,Hn);case"day":return addDays(tr,Hn);case"week":return addWeeks(tr,Hn);case"month":return addMonths(tr,Hn);case"quarter":return addQuarters(tr,Hn);case"year":return addYears(tr,Hn);default:return tr}},diff:function(tr,Hn,er){switch(er){case"millisecond":return differenceInMilliseconds(tr,Hn);case"second":return differenceInSeconds(tr,Hn);case"minute":return differenceInMinutes(tr,Hn);case"hour":return differenceInHours(tr,Hn);case"day":return differenceInDays(tr,Hn);case"week":return differenceInWeeks(tr,Hn);case"month":return differenceInMonths(tr,Hn);case"quarter":return differenceInQuarters(tr,Hn);case"year":return differenceInYears(tr,Hn);default:return 0}},startOf:function(tr,Hn,er){switch(Hn){case"second":return startOfSecond(tr);case"minute":return startOfMinute(tr);case"hour":return startOfHour(tr);case"day":return startOfDay(tr);case"week":return startOfWeek(tr);case"isoWeek":return startOfWeek(tr,{weekStartsOn:+er});case"month":return startOfMonth(tr);case"quarter":return startOfQuarter(tr);case"year":return startOfYear(tr);default:return tr}},endOf:function(tr,Hn){switch(Hn){case"second":return endOfSecond(tr);case"minute":return endOfMinute(tr);case"hour":return endOfHour(tr);case"day":return endOfDay(tr);case"week":return endOfWeek(tr);case"month":return endOfMonth(tr);case"quarter":return endOfQuarter(tr);case"year":return endOfYear(tr);default:return tr}}});Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend);const API_URL$6="https://api_gold.thinkdiff.us/ZSL_proshare_ultrashort_silver",verticalLinePlugin$1={id:"verticalLine",afterDraw(tr){const Hn=tr.tooltip;if(!Hn||!Hn.getActiveElements().length)return;const er=tr.ctx,nr=Hn.getActiveElements()[0].element.x,ir=tr.chartArea.top,rr=tr.chartArea.bottom;er.save(),er.beginPath(),er.moveTo(nr,ir),er.lineTo(nr,rr),er.lineWidth=1.2,er.strokeStyle="rgba(148,163,184,0.12)",er.stroke(),er.restore()}},buildPoints=(tr=[],Hn=[],er=1)=>!Array.isArray(tr)||!Array.isArray(Hn)?[]:tr.map((nr,ir)=>{const rr=Hn[ir];return rr==null?null:{x:new Date(nr*1e3),y:Number(rr)/er}}).filter(Boolean),buildVolumePoints=(tr=[],Hn=[])=>!Array.isArray(tr)||!Array.isArray(Hn)?[]:tr.map((er,nr)=>{const ir=Hn[nr];return ir==null?null:{x:new Date(er*1e3),y:Number(ir)}}).filter(Boolean),ZslPriceChart=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState("6M");reactExports.useEffect(()=>{let Sr=!1;return(async()=>{try{nr(!0);const Lr=await(await fetch(API_URL$6)).json();Sr||Hn(Lr)}catch(Tr){Sr||rr(Tr.message||"Li khi fetch d liu")}finally{Sr||nr(!1)}})(),()=>Sr=!0},[]);const{pricePoints:or,volPoints:lr,latest:cr,allPricePoints:ur}=reactExports.useMemo(()=>{if(!tr)return{pricePoints:[],volPoints:[],latest:null};const Sr=tr.ZSL_co_phieu?.chart?.result?.[0],Tr=Sr?.timestamp||[],Lr=Sr?.indicators?.quote?.[0]||{},Mr=Lr.close||[],Nr=Lr.volume||[],Or=Sr?.meta?.priceHint??4,Fr=Math.pow(10,Or),Gr=buildPoints(Tr,Mr,Fr),qr=buildVolumePoints(Tr,Nr),Hr=Gr.length?Gr[Gr.length-1].x.getTime():Date.now(),Yr=1440*60*1e3;let ro=0;switch(sr){case"1W":ro=Hr-7*Yr;break;case"1M":ro=Hr-30*Yr;break;case"6M":ro=Hr-180*Yr;break;default:ro=-1/0}const io=sr==="ALL"?Gr:Gr.filter(oo=>oo.x.getTime()>=ro),fo=sr==="ALL"?qr:qr.filter(oo=>oo.x.getTime()>=ro),ao=io.length?io[io.length-1]:null;let Jr=null;io.length>=2&&(Jr=io[io.length-2]);const uo=ao?{price:ao.y,prev:Jr?Jr.y:null,date:ao.x}:null;return{pricePoints:io,volPoints:fo,latest:uo,allPricePoints:Gr}},[tr,sr]),dr={datasets:[{type:"line",label:"Price",data:or,borderColor:"#e25555",backgroundColor:Sr=>{const Lr=Sr.chart.ctx.createLinearGradient(0,0,0,200);return Lr.addColorStop(0,"rgba(226,85,85,0.16)"),Lr.addColorStop(1,"rgba(226,85,85,0.02)"),Lr},pointRadius:0,tension:.25,yAxisID:"y",fill:!0},{type:"bar",label:"Volume",data:lr,backgroundColor:"rgba(200,200,200,0.6)",yAxisID:"yVolume",barThickness:"flex"}]},fr=[...or,...lr].map(Sr=>+Sr.x),gr=fr.length?Math.min(...fr):void 0,yr=fr.length?Math.max(...fr):void 0,vr=Sr=>{const Tr=ur;if(!Tr||Tr.length===0)return null;if(Tr.length===1)return Tr[0].y;for(let Lr=0;Lr<Tr.length-1;Lr++){const Mr=Tr[Lr],Nr=Tr[Lr+1],Or=Mr.x.getTime(),Fr=Nr.x.getTime();if(Sr>=Or&&Sr<=Fr){const Gr=(Sr-Or)/(Fr-Or);return Mr.y+(Nr.y-Mr.y)*Gr}}return Sr<Tr[0].x.getTime()?Tr[0].y:Sr>Tr[Tr.length-1].x.getTime()?Tr[Tr.length-1].y:null},jr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"x",intersect:!1},plugins:{legend:{position:"top"},tooltip:{filter:Sr=>Sr.raw&&Sr.raw.y!==null&&Sr.raw.y!==void 0,callbacks:{title:Sr=>Sr&&Sr.length?new Date(Sr[0].parsed.x).toLocaleDateString():"",label:Sr=>Sr.dataset.type==="bar"?`Volume: ${Number(Sr.parsed.y).toLocaleString()}`:`Price: ${Number(Sr.parsed.y).toFixed(4)}`,footer:Sr=>{if(!Sr||!Sr.length)return"";const Tr=Sr[0].parsed?Sr[0].parsed.x:Sr[0].raw&&Sr[0].raw.x?new Date(Sr[0].raw.x).getTime():null;if(!Tr)return"";const Lr=vr(Tr);return Lr==null?"":`Price (interp): ${Number(Lr).toFixed(4)}`}}}},scales:{x:{type:"time",min:gr,max:yr,time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{color:"rgba(148,163,184,0.06)"}},y:{position:"left",ticks:{color:"#e6eef6"},grid:{color:"rgba(148,163,184,0.06)"}},yVolume:{position:"right",grid:{display:!1},ticks:{display:!1}}}};return jsxRuntimeExports.jsxs("div",{className:"zsl-price-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"zsl-price-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:20},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[jsxRuntimeExports.jsx("div",{className:"zsl-price-title",children:"ProShares UltraShort Silver (ZSL)"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:8},children:["1W","1M","6M","ALL"].map(Sr=>jsxRuntimeExports.jsx("button",{onClick:()=>ar(Sr),style:{padding:"6px 10px",borderRadius:8,border:sr===Sr?"1px solid #e25555":"1px solid rgba(255,255,255,0.06)",background:sr===Sr?"rgba(226,85,85,0.12)":"transparent",color:"#e6eef6",cursor:"pointer",fontSize:12,fontWeight:"bold"},children:Sr==="1W"?"1 Tun":Sr==="1M"?"1 Thng":Sr==="6M"?"6 Thng":"Tt c"},Sr))})]}),jsxRuntimeExports.jsxs("div",{className:"zsl-price-stats",children:[er&&jsxRuntimeExports.jsx("span",{children:"ang ti..."}),!er&&!cr&&jsxRuntimeExports.jsx("span",{children:"Khng c d liu"}),!er&&cr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"price",children:cr.price.toFixed(4)}),jsxRuntimeExports.jsx("div",{className:`change ${cr.prev!==null&&cr.prev>cr.price?"down":"up"}`,children:cr.prev!==null?`${(cr.price-cr.prev).toFixed(4)} (${((cr.price-cr.prev)/cr.prev*100).toFixed(2)}%)`:""})]})]})]}),ir&&jsxRuntimeExports.jsxs("div",{className:"zsl-error",children:["Li: ",ir]}),jsxRuntimeExports.jsx("div",{className:"zsl-price-chart",children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:dr,options:jr,plugins:[verticalLinePlugin$1]})})]})};Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend);const API_URL$5="https://api_gold.thinkdiff.us/ZSL_proshare_ultrashort_silver",parseSeries=(tr,Hn)=>{if(!tr)return[];if(typeof tr=="object"&&!Array.isArray(tr)){if(tr[Hn])return tr[Hn];for(const er of Object.keys(tr))if(Array.isArray(tr[er]))return tr[er];return[]}return Array.isArray(tr)?tr:[]},toChartPoints=tr=>Array.isArray(tr)?tr.map(Hn=>!Hn||typeof Hn!="object"?null:Hn.date&&Array.isArray(Hn.data)&&Hn.data.length>0?{x:new Date(Hn.date),y:Number(Hn.data[0])}:Hn.x!==void 0&&Hn.y!==void 0?{x:new Date(Hn.x),y:Number(Hn.y)}:null).filter(Boolean).sort((Hn,er)=>Hn.x-er.x):[],pctFormat=tr=>tr==null||isNaN(tr)?"N/A":`${Number(tr).toFixed(2)}%`,verticalLinePlugin={id:"verticalLine",afterDraw(tr){const Hn=tr.tooltip;if(!Hn||!Hn.getActiveElements().length)return;const er=tr.ctx,nr=Hn.getActiveElements()[0].element.x,ir=tr.chartArea.top,rr=tr.chartArea.bottom;er.save(),er.beginPath(),er.moveTo(nr,ir),er.lineTo(nr,rr),er.lineWidth=1.5,er.strokeStyle="gray",er.stroke(),er.restore()}},ZslComparisonChart=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null);reactExports.useEffect(()=>{let fr=!1;return(async()=>{rr(!0),ar(null);try{const vr=await(await fetch(API_URL$5)).json(),jr=parseSeries(vr,"ZSL_performance")||[],Sr=parseSeries(vr,"ZSL_proshare_ultrashort_silver")||[],Tr=toChartPoints(jr).slice(-15),Lr=toChartPoints(Sr).slice(-16);fr||(Hn(Tr),nr(Lr))}catch(yr){fr||ar(yr.message||"Li khi fetch d liu")}finally{fr||rr(!1)}})(),()=>fr=!0},[]);const or={datasets:[{label:"ZSL Performance",data:tr,borderColor:"#4DA6FF",backgroundColor:"rgba(77,166,255,0.08)",tension:.25,pointRadius:3,pointHoverRadius:6,fill:!1},{label:"ZSL Proshare UltraShort Silver",data:er,borderColor:"#0B2B2B",backgroundColor:"rgba(11,43,43,0.04)",tension:.25,pointRadius:3,pointHoverRadius:6,fill:!1}]},lr=[...tr,...er].map(fr=>+fr.x),cr=lr.length?Math.min(...lr):void 0,ur=lr.length?Math.max(...lr):void 0,dr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"x",intersect:!1},plugins:{legend:{position:"top"},tooltip:{filter:fr=>fr.raw&&fr.raw.y!==null&&fr.raw.y!==void 0,callbacks:{title:fr=>fr.length?new Date(fr[0].parsed.x).toLocaleDateString():"",label:fr=>`${fr.dataset.label}: ${pctFormat(fr.parsed.y)}`}}},scales:{x:{type:"time",offset:!1,min:cr,max:ur,time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{color:"rgba(148,163,184,0.06)"}},y:{ticks:{callback:fr=>`${fr}%`,color:"#64748B"},grid:{color:"rgba(148,163,184,0.06)"}}}};return jsxRuntimeExports.jsxs("div",{className:"zsl-chart-wrapper",children:[jsxRuntimeExports.jsx("h3",{children:"ZSL Comparison"}),ir&&jsxRuntimeExports.jsx("div",{className:"zsl-loading",children:"ang ti d liu..."}),sr&&jsxRuntimeExports.jsxs("div",{className:"zsl-error",children:["Li: ",sr]}),!ir&&!sr&&jsxRuntimeExports.jsx("div",{className:"zsl-chart-container",children:jsxRuntimeExports.jsx(Chart,{type:"line",data:or,options:dr,plugins:[verticalLinePlugin]})})]})},ZslPage=()=>jsxRuntimeExports.jsxs("div",{style:{padding:20},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#f1c40f"},children:"ZSL  Price & Comparison"}),jsxRuntimeExports.jsxs("section",{style:{marginTop:20},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#e25555",marginBottom:12},children:"Price"}),jsxRuntimeExports.jsx(ZslPriceChart,{})]}),jsxRuntimeExports.jsx("hr",{style:{margin:"30px 0",borderColor:"rgba(148,163,184,0.06)"}}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h3",{style:{color:"#4DA6FF",marginBottom:12},children:"Comparison"}),jsxRuntimeExports.jsx(ZslComparisonChart,{})]})]}),useRealTimeData=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!1),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState(0),[or,lr]=reactExports.useState(()=>new Set),cr=reactExports.useRef(null),ur=reactExports.useRef(null),dr=reactExports.useRef(null),fr=reactExports.useRef(!1),gr=reactExports.useRef(!1),yr=Tr=>{if(Tr&&(Hn(Tr),Tr.ContentNew&&Array.isArray(Tr.ContentNew))){const Lr=[...Tr.ContentNew].sort((Mr,Nr)=>new Date(Nr.created_at||Nr.id)-new Date(Mr.created_at||Mr.id));rr(Lr),lr(Mr=>{const Nr=Lr.filter(Or=>!Mr.has(Or.id||Or.ID)).length;return ar(Nr),Mr})}},vr=async()=>{try{const Lr=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"/api_gold/socket_mihong_goldenfund":"https://api_gold.thinkdiff.us/socket_mihong_goldenfund",Mr=await fetch(Lr),Nr=Mr.headers.get("content-type");if(!Nr||!Nr.includes("application/json")){const Gr=await Mr.text();return}const Or=await Mr.json();let Fr=Or?.data?.socket_all??Or?.socket_all??Or?.data?.data?.socket_all??null;Fr&&(gr.current=!0,yr(Fr))}catch(Tr){console.warn(" fetchFallbackData error:",Tr.message)}},jr=()=>{dr.current&&clearInterval(dr.current),dr.current=setInterval(()=>{gr.current&&!er&&vr()},3e4)};return reactExports.useEffect(()=>{let Tr=!0;const Lr=()=>{const Mr="wss://vang247.com/price-service/ws/v1/prices",Nr=new WebSocket(Mr);cr.current=Nr,Nr.onopen=()=>{nr(!0),gr.current=!1,dr.current&&clearInterval(dr.current)},Nr.onmessage=Or=>{try{const Fr=JSON.parse(Or.data);yr(Fr)}catch(Fr){console.warn(" WS parse error:",Fr)}},Nr.onclose=()=>{nr(!1),ur.current=setTimeout(Lr,5e3)}};return setTimeout(()=>{fr.current||(fr.current=!0,vr(),jr())},50),setTimeout(()=>{Tr&&Lr()},150),()=>{Tr=!1,ur.current&&clearTimeout(ur.current),dr.current&&clearInterval(dr.current),cr.current&&cr.current.close()}},[]),{liveData:tr,isConnected:er,news:ir,unreadNewsCount:sr,markNewsAsSeen:()=>{const Tr=ir.map(Lr=>Lr.id||Lr.ID);lr(new Set(Tr)),ar(0)}}},getVang247FolderUrl=(tr,Hn,er)=>{const nr=String(tr).padStart(2,"0"),ir=String(Hn).padStart(2,"0"),sr=`https://api_gold.thinkdiff.us/all_json_1_day/${`${nr}_${ir}_${er}`}`;return getApiUrl$2(sr)},API_BASE_THINKDIFF="https://api_gold.thinkdiff.us",isLocalhost=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",getApiUrl$2=tr=>{if(isLocalhost()){if(tr.includes("api_gold.thinkdiff.us"))return tr.replace("https://api_gold.thinkdiff.us","/api_gold");if(tr.includes("thinkdiff.us"))return tr.replace("https://thinkdiff.us","/vang247_xyz")}return tr},getVang247FileUrl=(tr,Hn,er,nr,ir,rr=null)=>{if(!tr||!Hn||!er)return console.warn("getVang247FileUrl: missing date parts",{day:tr,month:Hn,year:er,hour:nr,minute:ir,second:rr}),null;const sr=`${tr}_${Hn}_${er}`,ar=Number(nr),or=Number(ir),lr=rr!==null?Number(rr):null;if(!Number.isFinite(ar)||!Number.isFinite(or)||rr!==null&&!Number.isFinite(lr))return console.warn("getVang247FileUrl: invalid time parts",{day:tr,month:Hn,year:er,hour:nr,minute:ir,second:rr}),null;const cr=lr===null?`${ar}_${or}`:`${ar}_${or}_${lr}`,ur=`view_full_data_json/${sr}/${sr}_${cr}.json`,dr=`${API_BASE_THINKDIFF}/${ur}`;return getApiUrl$2(dr)},fetchVang247FileList=async(tr,Hn,er)=>{const nr=getVang247FolderUrl(tr,Hn,er),ir=await fetch(nr);if(!ir.ok)throw new Error(`HTTP ${ir.status}`);const rr=ir.headers.get("content-type");if(!rr||!rr.includes("application/json")){const ar=await ir.text();throw console.error("API Error: Server returned non-JSON data (likely HTML error page). Content:",ar.substring(0,200)+(ar.length>200?"...":"")),new Error("API did not return expected JSON data. Check the URL rewrite or API endpoint.")}const sr=await ir.json();if(!sr||!sr.data)throw new Error("Invalid structure: 'data' field not found in response.");return sr.data.map(ar=>({link:ar.link,modified_time:ar.modified_time,size_bytes:ar.size_bytes}))},fetchVang247SingleFile=async tr=>{const Hn=getApiUrl$2(tr),er=await fetch(Hn);if(!er.ok)throw new Error(`HTTP ${er.status}`);return await er.json()},fetchVangOneDayData=async(tr,Hn,er,nr,ir,rr=null)=>{try{const sr=getVang247FileUrl(tr,Hn,er,nr,ir,rr);if(console.log("url getVang247FileUrl: ",sr),!sr)throw new Error(`Invalid parameters when building Vang247 file URL: ${tr}/${Hn}/${er} ${nr}:${ir}`);const ar=await fetch(sr);if(!ar.ok){if(ar.status===404||ar.status===500){const cr=new Error(`Khng tm thy d liu cho ngy ${tr}/${Hn}/${er} lc ${nr}:${ir}`);throw cr.status=ar.status,cr.isNotFound=!0,cr}throw new Error(`HTTP error! status: ${ar.status}`)}const or=await ar.json();if(console.log("data",or),!or.data||!or.data.list_server)throw new Error("Invalid data structure");const lr=or.data.list_server.map(cr=>({site:cr.site||cr.data?.site,name:cr.name||cr.data?.name,fetched_at:cr.data?.data?.fetched_at||null,timestamp:cr.data?.data?.site_timestamp||null,items:cr.data?.data?.items||cr.data?.items||[],do_uy_tin:cr.do_uy_tin||null,quoc_gia:cr.quoc_gia||null,maps:cr.maps||[]}));return console.log("list_server",lr),{list_server:lr,phan_tich:or.data.phan_tich,tin_tuc:or.data.tintuc,bieu_do:or.data.bieudo}}catch(sr){throw sr.isNotFound||console.error("Error fetching Vang247 prices:",sr.message),sr}},findNearestAvailableFile=(tr,Hn,er)=>{if(!tr||tr.length===0)return null;const nr=new Date(`2000-01-01 ${String(Hn).padStart(2,"0")}:${String(er).padStart(2,"0")}:00`).getTime(),ir=[...tr].sort((sr,ar)=>{const or=new Date(`2000-01-01 ${String(sr.hour).padStart(2,"0")}:${String(sr.minute).padStart(2,"0")}:00`).getTime();return new Date(`2000-01-01 ${String(ar.hour).padStart(2,"0")}:${String(ar.minute).padStart(2,"0")}:00`).getTime()-or});return ir.find(sr=>new Date(`2000-01-01 ${String(sr.hour).padStart(2,"0")}:${String(sr.minute).padStart(2,"0")}:00`).getTime()<=nr)||ir[ir.length-1]||null},getLatestUpdateTime$1=tr=>{if(!tr||tr.length===0)return"";const Hn=tr.reduce((er,nr)=>er.timestamp?new Date(nr.timestamp)>new Date(er.timestamp)?nr:er:nr,tr[0]);return Hn.fetched_at||Hn.timestamp},UseGoldOneDayPrices=tr=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState(null),[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(!0),[ur,dr]=reactExports.useState(null),[fr,gr]=reactExports.useState({loaded:0,total:0});reactExports.useEffect(()=>{let Sr=!1;return(async()=>{try{const{day:Lr,month:Mr,year:Nr,hour:Or,minute:Fr}=tr;if(!Lr||!Mr||!Nr||!Or||!Fr){cr(!1),er([]),dr(null);return}cr(!0),er([]),dr(null),gr({loaded:0,total:1});const Gr=String(Or).padStart(2,"0"),qr=String(Fr).padStart(2,"0");try{const Hr=await fetchVangOneDayData(Lr,Mr,Nr,Gr,qr);if(Sr)return;er(Hr.list_server||[]),ir(Hr.phan_tich),sr(Hr.tin_tuc),or(Hr.bieu_do),gr({loaded:1,total:1}),dr(null)}catch(Hr){if(Sr)return;if(Hr.isNotFound)try{const Yr=await fetchVang247FileList(Lr,Mr,Nr),ro=ao=>{try{const uo=ao.split("/").pop().replace(".json","").split("_");if(uo.length>=5){const[oo,co,no,mo,Eo]=uo;return{day:oo,month:co,year:no,hour:mo,minute:Eo}}return null}catch{return null}},io=(Yr||[]).map(ao=>ro(ao.link)).filter(ao=>ao!==null),fo=findNearestAvailableFile(io,Gr,qr);if(fo){const ao=await fetchVangOneDayData(fo.day,fo.month,fo.year,fo.hour,fo.minute);if(Sr)return;er(ao.list_server||[]),ir(ao.phan_tich),sr(ao.tin_tuc),or(ao.bieu_do),gr({loaded:1,total:1}),dr(null)}else throw new Error(`Khng tm thy d liu cho ngy ${Lr}/${Mr}/${Nr}`)}catch{Sr||dr(`Khng tm thy d liu cho ngy ${Lr}/${Mr}/${Nr} lc ${Gr}:${qr}`)}else Sr||dr(Hr.message||"Khng th ti d liu gi vng. Vui lng th li sau.")}}catch(Lr){Sr||dr(Lr.message||"Li h thng khi ti d liu.")}finally{Sr||cr(!1)}})(),()=>{Sr=!0}},[tr.day,tr.month,tr.year,tr.hour,tr.minute]);const yr=reactExports.useMemo(()=>{if(!Hn||!Array.isArray(Hn))return[];let Sr=Hn;return tr.region&&(tr.region==="vietnam"?Sr=Hn.filter(Mr=>Mr.quoc_gia==="Vietnam"||Mr.quoc_gia==="Vit Nam"||!Mr.quoc_gia):tr.region==="international"?Sr=Hn.filter(Mr=>Mr.quoc_gia&&Mr.quoc_gia!=="Vietnam"&&Mr.quoc_gia!=="Vit Nam"):Sr=Hn.filter(Mr=>Mr.quoc_gia===tr.region)),Sr.map(Mr=>{let Nr=Mr.items||Mr.data?.data?.items||[];return Array.isArray(Nr)||(Nr=[]),{...Mr,items:Nr.filter(Or=>{if(!Or||!Or.TYPE)return!1;const Fr=Or.TYPE.toUpperCase();return tr.type==="gold"?Fr==="VANG"||Fr==="GOLD":tr.type==="silver"?Fr==="BAC"||Fr==="SILVER":!0})}}).filter(Mr=>Mr.items&&Mr.items.length>0).map(Mr=>({...Mr,items:Mr.items.map(Nr=>({...Nr,buy:Number(Nr.buy)>1e9?Number(Nr.buy)/1e3:Number(Nr.buy),sell:Number(Nr.sell)>1e9?Number(Nr.sell)/1e3:Number(Nr.sell)}))}))},[Hn,tr]),vr=reactExports.useMemo(()=>getLatestUpdateTime$1(Hn),[Hn]),jr=reactExports.useMemo(()=>{const Sr=new Set;return Array.isArray(Hn)&&Hn.forEach(Tr=>{Tr.quoc_gia&&Sr.add(Tr.quoc_gia)}),Array.from(Sr).sort()},[Hn]);return{loading:lr,error:ur,displayedPrices:yr,lastUpdated:vr,loadingProgress:fr,availableCountries:jr,fomo:nr,news:rr,charts:ar}},NotificationDropdown=({newsItems:tr,onNewsClick:Hn,onClose:er,newsInAPI:nr})=>{const ir=()=>{let rr=tr.length;return nr.forEach((sr,ar)=>{sr.data.forEach((or,lr)=>{rr++})}),rr};return!tr||tr.length===0?jsxRuntimeExports.jsxs("div",{className:"notification-dropdown",children:[jsxRuntimeExports.jsxs("div",{className:"dropdown-header",children:[jsxRuntimeExports.jsx("h3",{children:"Thng bo"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:er,children:""})]}),jsxRuntimeExports.jsxs("div",{className:"empty-state",children:[jsxRuntimeExports.jsx("span",{className:"empty-icon",children:""}),jsxRuntimeExports.jsx("p",{children:"Cha c tin tc mi"})]})]}):jsxRuntimeExports.jsxs("div",{className:"notification-dropdown",children:[jsxRuntimeExports.jsxs("div",{className:"dropdown-header",children:[jsxRuntimeExports.jsxs("h3",{children:["Thng bo (",ir,")"]}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:er,children:""})]}),jsxRuntimeExports.jsx("div",{className:"news-list",children:tr.slice(0,10).map(rr=>jsxRuntimeExports.jsxs("div",{className:"news-item",onClick:()=>Hn(rr),children:[jsxRuntimeExports.jsx("div",{className:"news-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"news-content",children:[jsxRuntimeExports.jsx("div",{className:"news-title",children:rr.title}),rr.created_at&&jsxRuntimeExports.jsx("div",{className:"news-time",children:new Date(rr.created_at).toLocaleString("vi-VN")})]}),jsxRuntimeExports.jsx("div",{className:"news-arrow",children:""})]},rr.id||rr.ID))}),jsxRuntimeExports.jsx("div",{className:"dropdown-footer",children:jsxRuntimeExports.jsx("button",{className:"view-all-btn",children:"Xem tt c"})})]})},NotificationBell=({onNewsClick:tr,newsInAPI:Hn})=>{const{news:er,unreadNewsCount:nr,markNewsAsSeen:ir}=useRealTimeData(),[rr,sr]=reactExports.useState(!1),ar=reactExports.useRef(null);reactExports.useEffect(()=>{const cr=ur=>{ar.current&&!ar.current.contains(ur.target)&&sr(!1)};return rr&&document.addEventListener("mousedown",cr),()=>{document.removeEventListener("mousedown",cr)}},[rr]);const or=()=>{rr||ir(),sr(!rr)},lr=cr=>{sr(!1),tr&&tr(cr)};return jsxRuntimeExports.jsxs("div",{className:"notification-bell-container",ref:ar,children:[jsxRuntimeExports.jsxs("button",{className:`notification-bell ${nr>0?"has-unread":""}`,onClick:or,"aria-label":"Thng bo",children:[jsxRuntimeExports.jsx("span",{className:"bell-icon",children:""}),nr>0&&jsxRuntimeExports.jsx("span",{className:"notification-badge",children:nr})]}),rr&&jsxRuntimeExports.jsx(NotificationDropdown,{newsItems:er,onNewsClick:lr,onClose:()=>sr(!1),newsInAPI:Hn})]})},getApiUrl$1=tr=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?tr.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):tr,API_GET_DIRS="https://api_gold.thinkdiff.us/all_day_save_price",fetchAllDirnames=async()=>{try{const tr=getApiUrl$1(API_GET_DIRS),Hn=await fetch(tr);if(console.log("response: ",Hn),!Hn.ok)throw new Error(`HTTP Error ${Hn.status}`);return(await Hn.json()).data.toSorted((nr,ir)=>{const rr=nr.dirname.split("_").map(Number),sr=ir.dirname.split("_").map(Number);return new Date(sr[2],sr[1]-1,sr[0])-new Date(rr[2],rr[1]-1,rr[0])})}catch(tr){throw console.error("Error fetchAllDirnames:",tr),tr}},useDateGold=(tr={})=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState(!0),[rr,sr]=reactExports.useState(null);reactExports.useEffect(()=>{let lr=!1;return(async()=>{try{ir(!0),sr(null);const ur=await fetchAllDirnames();console.log("dataDate",ur),lr||er(ur)}catch(ur){lr||(console.error("Error loading gold dates:",ur),sr("Khng th ti danh sch ngy."))}finally{lr||ir(!1)}})(),()=>{lr=!0}},[]);const ar=reactExports.useMemo(()=>{if(!tr.sortBy)return Hn;const{sortBy:lr,sortOrder:cr="asc"}=tr,ur=cr==="asc"?1:-1;return[...Hn].sort((fr,gr)=>lr==="dirname"?fr.dirname.localeCompare(gr.dirname)*ur:lr==="datetime"?fr.datetime.localeCompare(gr.datetime)*ur:0)},[Hn,tr]),or=reactExports.useMemo(()=>Hn.map(lr=>lr.dirname),[Hn]);return{loading:nr,error:rr,displayedDates:ar,availableDates:or}},parseDateFromFileUrl=tr=>{try{const er=tr.split("/").pop().replace(".json","").split("_");if(er.length===5){const[nr,ir,rr,sr,ar]=er;return{day:nr,month:ir,year:rr,hour:sr,minute:ar,second:null}}if(er.length===6){const[nr,ir,rr,sr,ar,or]=er;return{day:nr,month:ir,year:rr,hour:sr,minute:ar,second:or}}return null}catch{return null}},useVang247Dates=(tr,Hn,er)=>{const[nr,ir]=reactExports.useState([]),[rr,sr]=reactExports.useState(!0),[ar,or]=reactExports.useState(null);reactExports.useEffect(()=>{if(!tr||!Hn||!er){sr(!1),ir([]);return}let dr=!1;return(async()=>{try{sr(!0),or(null);let gr=[];try{gr=await fetchVang247FileList(tr,Hn,er)}catch{dr||(ir([]),or(null));return}if(dr)return;if(!gr||gr.length===0){ir([]),or(null);return}const yr=gr.map(vr=>{const jr=parseDateFromFileUrl(vr.link);return{...vr,...jr}});ir(yr)}catch(gr){dr||(console.error("Error loading files:",gr),or(null),ir([]))}finally{dr||sr(!1)}})(),()=>{dr=!0}},[tr,Hn,er]);const lr=dr=>String(dr).padStart(2,"0"),cr=dr=>new Date(`${dr.year}-${lr(dr.month)}-${lr(dr.day)}T${lr(dr.hour)}:${lr(dr.minute)}:${lr(dr.second??0)}`).getTime(),ur=reactExports.useMemo(()=>[...nr].sort((dr,fr)=>cr(fr)-cr(dr)),[nr]);return{loading:rr,error:ar,files:ur}};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$n=["attr","size","title"];function _objectWithoutProperties$m(tr,Hn){if(tr==null)return{};var er=_objectWithoutPropertiesLoose$n(tr,Hn),nr,ir;if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(ir=0;ir<rr.length;ir++)nr=rr[ir],!(Hn.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(er[nr]=tr[nr])}return er}function _objectWithoutPropertiesLoose$n(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)>=0)continue;er[nr]=tr[nr]}return er}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)Object.prototype.hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$r.apply(this,arguments)}function ownKeys$B(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$B(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$B(Object(er),!0).forEach(function(nr){_defineProperty$C(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$B(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$C(tr,Hn,er){return Hn=_toPropertyKey$C(Hn),Hn in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$C(tr){var Hn=_toPrimitive$C(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$C(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function Tree2Element(tr){return tr&&tr.map((Hn,er)=>React.createElement(Hn.tag,_objectSpread$B({key:er},Hn.attr),Tree2Element(Hn.child)))}function GenIcon(tr){return Hn=>React.createElement(IconBase,_extends$r({attr:_objectSpread$B({},tr.attr)},Hn),Tree2Element(tr.child))}function IconBase(tr){var Hn=er=>{var{attr:nr,size:ir,title:rr}=tr,sr=_objectWithoutProperties$m(tr,_excluded$n),ar=ir||er.size||"1em",or;return er.className&&(or=er.className),tr.className&&(or=(or?or+" ":"")+tr.className),React.createElement("svg",_extends$r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},er.attr,nr,sr,{className:or,style:_objectSpread$B(_objectSpread$B({color:tr.color||er.color},er.style),tr.style),height:ar,width:ar,xmlns:"http://www.w3.org/2000/svg"}),rr&&React.createElement("title",null,rr),tr.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,er=>Hn(er)):Hn(DefaultContext)}function MdOutlineTableChart(tr){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 2v3H5V5h15zm-5 14h-5v-9h5v9zM5 10h3v9H5v-9zm12 9v-9h3v9h-3z"},child:[]}]})(tr)}const UpdateDataModal=({isVisible:tr,latestData:Hn,onConfirm:er,onCancel:nr})=>{if(!tr||!Hn)return null;const rr=((sr,ar,or,lr,cr)=>`${String(sr).padStart(2,"0")}/${String(ar).padStart(2,"0")}/${or} ${String(lr).padStart(2,"0")}:${String(cr).padStart(2,"0")}`)(Hn.day,Hn.month,Hn.year,Hn.hour,Hn.minute);return jsxRuntimeExports.jsx("div",{className:"update-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"update-modal-container",children:[jsxRuntimeExports.jsxs("div",{className:"update-modal-header",children:[jsxRuntimeExports.jsx("div",{className:"update-modal-icon",children:""}),jsxRuntimeExports.jsx("h2",{children:"D Liu Mi C Sn"}),jsxRuntimeExports.jsx("button",{className:"update-modal-close",onClick:nr,children:""})]}),jsxRuntimeExports.jsxs("div",{className:"update-modal-body",children:[jsxRuntimeExports.jsx("p",{className:"update-modal-message",children:" c d liu vng mi hn cho thi gian:"}),jsxRuntimeExports.jsxs("div",{className:"update-modal-timestamp",children:[jsxRuntimeExports.jsx("span",{className:"time-icon",children:""}),jsxRuntimeExports.jsx("span",{className:"time-value",children:rr})]}),jsxRuntimeExports.jsx("p",{className:"update-modal-subtext",children:"Bn c mun cp nht  xem d liu mi nht khng?"})]}),jsxRuntimeExports.jsxs("div",{className:"update-modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"btn-cancel",onClick:nr,children:"Khng, Cm n"}),jsxRuntimeExports.jsx("button",{className:"btn-confirm",onClick:er,children:" Cp Nht Ngay"})]})]})})},LiveNewsBell=({onClick:tr,hasNew:Hn})=>jsxRuntimeExports.jsx("button",{className:`notification-bell ${Hn?"has-unread":""}`,onClick:tr,title:"Tin tc mi",children:jsxRuntimeExports.jsx("span",{className:"bell-icon",children:""})});function bind(tr,Hn){return function(){return tr.apply(Hn,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,{iterator,toStringTag}=Symbol,kindOf=(tr=>Hn=>{const er=toString$2.call(Hn);return tr[er]||(tr[er]=er.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=tr=>(tr=tr.toLowerCase(),Hn=>kindOf(Hn)===tr),typeOfTest=tr=>Hn=>typeof Hn===tr,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(tr){return tr!==null&&!isUndefined(tr)&&tr.constructor!==null&&!isUndefined(tr.constructor)&&isFunction$1(tr.constructor.isBuffer)&&tr.constructor.isBuffer(tr)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(tr){let Hn;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?Hn=ArrayBuffer.isView(tr):Hn=tr&&tr.buffer&&isArrayBuffer(tr.buffer),Hn}const isString$1=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=tr=>tr!==null&&typeof tr=="object",isBoolean$1=tr=>tr===!0||tr===!1,isPlainObject$5=tr=>{if(kindOf(tr)!=="object")return!1;const Hn=getPrototypeOf$1(tr);return(Hn===null||Hn===Object.prototype||Object.getPrototypeOf(Hn)===null)&&!(toStringTag in tr)&&!(iterator in tr)},isEmptyObject=tr=>{if(!isObject$1(tr)||isBuffer(tr))return!1;try{return Object.keys(tr).length===0&&Object.getPrototypeOf(tr)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=tr=>isObject$1(tr)&&isFunction$1(tr.pipe),isFormData=tr=>{let Hn;return tr&&(typeof FormData=="function"&&tr instanceof FormData||isFunction$1(tr.append)&&((Hn=kindOf(tr))==="formdata"||Hn==="object"&&isFunction$1(tr.toString)&&tr.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=tr=>tr.trim?tr.trim():tr.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(tr,Hn,{allOwnKeys:er=!1}={}){if(tr===null||typeof tr>"u")return;let nr,ir;if(typeof tr!="object"&&(tr=[tr]),isArray(tr))for(nr=0,ir=tr.length;nr<ir;nr++)Hn.call(null,tr[nr],nr,tr);else{if(isBuffer(tr))return;const rr=er?Object.getOwnPropertyNames(tr):Object.keys(tr),sr=rr.length;let ar;for(nr=0;nr<sr;nr++)ar=rr[nr],Hn.call(null,tr[ar],ar,tr)}}function findKey(tr,Hn){if(isBuffer(tr))return null;Hn=Hn.toLowerCase();const er=Object.keys(tr);let nr=er.length,ir;for(;nr-- >0;)if(ir=er[nr],Hn===ir.toLowerCase())return ir;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=tr=>!isUndefined(tr)&&tr!==_global;function merge(){const{caseless:tr,skipUndefined:Hn}=isContextDefined(this)&&this||{},er={},nr=(ir,rr)=>{const sr=tr&&findKey(er,rr)||rr;isPlainObject$5(er[sr])&&isPlainObject$5(ir)?er[sr]=merge(er[sr],ir):isPlainObject$5(ir)?er[sr]=merge({},ir):isArray(ir)?er[sr]=ir.slice():(!Hn||!isUndefined(ir))&&(er[sr]=ir)};for(let ir=0,rr=arguments.length;ir<rr;ir++)arguments[ir]&&forEach(arguments[ir],nr);return er}const extend$1=(tr,Hn,er,{allOwnKeys:nr}={})=>(forEach(Hn,(ir,rr)=>{er&&isFunction$1(ir)?tr[rr]=bind(ir,er):tr[rr]=ir},{allOwnKeys:nr}),tr),stripBOM=tr=>(tr.charCodeAt(0)===65279&&(tr=tr.slice(1)),tr),inherits=(tr,Hn,er,nr)=>{tr.prototype=Object.create(Hn.prototype,nr),tr.prototype.constructor=tr,Object.defineProperty(tr,"super",{value:Hn.prototype}),er&&Object.assign(tr.prototype,er)},toFlatObject=(tr,Hn,er,nr)=>{let ir,rr,sr;const ar={};if(Hn=Hn||{},tr==null)return Hn;do{for(ir=Object.getOwnPropertyNames(tr),rr=ir.length;rr-- >0;)sr=ir[rr],(!nr||nr(sr,tr,Hn))&&!ar[sr]&&(Hn[sr]=tr[sr],ar[sr]=!0);tr=er!==!1&&getPrototypeOf$1(tr)}while(tr&&(!er||er(tr,Hn))&&tr!==Object.prototype);return Hn},endsWith=(tr,Hn,er)=>{tr=String(tr),(er===void 0||er>tr.length)&&(er=tr.length),er-=Hn.length;const nr=tr.indexOf(Hn,er);return nr!==-1&&nr===er},toArray$2=tr=>{if(!tr)return null;if(isArray(tr))return tr;let Hn=tr.length;if(!isNumber$1(Hn))return null;const er=new Array(Hn);for(;Hn-- >0;)er[Hn]=tr[Hn];return er},isTypedArray$1=(tr=>Hn=>tr&&Hn instanceof tr)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(tr,Hn)=>{const nr=(tr&&tr[iterator]).call(tr);let ir;for(;(ir=nr.next())&&!ir.done;){const rr=ir.value;Hn.call(tr,rr[0],rr[1])}},matchAll=(tr,Hn)=>{let er;const nr=[];for(;(er=tr.exec(Hn))!==null;)nr.push(er);return nr},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=tr=>tr.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(er,nr,ir){return nr.toUpperCase()+ir}),hasOwnProperty=(({hasOwnProperty:tr})=>(Hn,er)=>tr.call(Hn,er))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(tr,Hn)=>{const er=Object.getOwnPropertyDescriptors(tr),nr={};forEach(er,(ir,rr)=>{let sr;(sr=Hn(ir,rr,tr))!==!1&&(nr[rr]=sr||ir)}),Object.defineProperties(tr,nr)},freezeMethods=tr=>{reduceDescriptors(tr,(Hn,er)=>{if(isFunction$1(tr)&&["arguments","caller","callee"].indexOf(er)!==-1)return!1;const nr=tr[er];if(isFunction$1(nr)){if(Hn.enumerable=!1,"writable"in Hn){Hn.writable=!1;return}Hn.set||(Hn.set=()=>{throw Error("Can not rewrite read-only method '"+er+"'")})}})},toObjectSet=(tr,Hn)=>{const er={},nr=ir=>{ir.forEach(rr=>{er[rr]=!0})};return isArray(tr)?nr(tr):nr(String(tr).split(Hn)),er},noop$4=()=>{},toFiniteNumber$1=(tr,Hn)=>tr!=null&&Number.isFinite(tr=+tr)?tr:Hn;function isSpecCompliantForm(tr){return!!(tr&&isFunction$1(tr.append)&&tr[toStringTag]==="FormData"&&tr[iterator])}const toJSONObject=tr=>{const Hn=new Array(10),er=(nr,ir)=>{if(isObject$1(nr)){if(Hn.indexOf(nr)>=0)return;if(isBuffer(nr))return nr;if(!("toJSON"in nr)){Hn[ir]=nr;const rr=isArray(nr)?[]:{};return forEach(nr,(sr,ar)=>{const or=er(sr,ir+1);!isUndefined(or)&&(rr[ar]=or)}),Hn[ir]=void 0,rr}}return nr};return er(tr,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=tr=>tr&&(isObject$1(tr)||isFunction$1(tr))&&isFunction$1(tr.then)&&isFunction$1(tr.catch),_setImmediate=((tr,Hn)=>tr?setImmediate:Hn?((er,nr)=>(_global.addEventListener("message",({source:ir,data:rr})=>{ir===_global&&rr===er&&nr.length&&nr.shift()()},!1),ir=>{nr.push(ir),_global.postMessage(er,"*")}))(`axios@${Math.random()}`,[]):er=>setTimeout(er))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=tr=>tr!=null&&isFunction$1(tr[iterator]),utils$2={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject:isPlainObject$5,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$2,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$4,toFiniteNumber:toFiniteNumber$1,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(tr,Hn,er,nr,ir){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=tr,this.name="AxiosError",Hn&&(this.code=Hn),er&&(this.config=er),nr&&(this.request=nr),ir&&(this.response=ir,this.status=ir.status?ir.status:null)}utils$2.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(tr=>{descriptors[tr]={value:tr}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(tr,Hn,er,nr,ir,rr)=>{const sr=Object.create(prototype$1);utils$2.toFlatObject(tr,sr,function(cr){return cr!==Error.prototype},lr=>lr!=="isAxiosError");const ar=tr&&tr.message?tr.message:"Error",or=Hn==null&&tr?tr.code:Hn;return AxiosError$1.call(sr,ar,or,er,nr,ir),tr&&sr.cause==null&&Object.defineProperty(sr,"cause",{value:tr,configurable:!0}),sr.name=tr&&tr.name||"Error",rr&&Object.assign(sr,rr),sr};const httpAdapter=null;function isVisitable(tr){return utils$2.isPlainObject(tr)||utils$2.isArray(tr)}function removeBrackets(tr){return utils$2.endsWith(tr,"[]")?tr.slice(0,-2):tr}function renderKey(tr,Hn,er){return tr?tr.concat(Hn).map(function(ir,rr){return ir=removeBrackets(ir),!er&&rr?"["+ir+"]":ir}).join(er?".":""):Hn}function isFlatArray(tr){return utils$2.isArray(tr)&&!tr.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function(Hn){return/^is[A-Z]/.test(Hn)});function toFormData$1(tr,Hn,er){if(!utils$2.isObject(tr))throw new TypeError("target must be an object");Hn=Hn||new FormData,er=utils$2.toFlatObject(er,{metaTokens:!0,dots:!1,indexes:!1},!1,function(yr,vr){return!utils$2.isUndefined(vr[yr])});const nr=er.metaTokens,ir=er.visitor||cr,rr=er.dots,sr=er.indexes,or=(er.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(Hn);if(!utils$2.isFunction(ir))throw new TypeError("visitor must be a function");function lr(gr){if(gr===null)return"";if(utils$2.isDate(gr))return gr.toISOString();if(utils$2.isBoolean(gr))return gr.toString();if(!or&&utils$2.isBlob(gr))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(gr)||utils$2.isTypedArray(gr)?or&&typeof Blob=="function"?new Blob([gr]):Buffer.from(gr):gr}function cr(gr,yr,vr){let jr=gr;if(gr&&!vr&&typeof gr=="object"){if(utils$2.endsWith(yr,"{}"))yr=nr?yr:yr.slice(0,-2),gr=JSON.stringify(gr);else if(utils$2.isArray(gr)&&isFlatArray(gr)||(utils$2.isFileList(gr)||utils$2.endsWith(yr,"[]"))&&(jr=utils$2.toArray(gr)))return yr=removeBrackets(yr),jr.forEach(function(Tr,Lr){!(utils$2.isUndefined(Tr)||Tr===null)&&Hn.append(sr===!0?renderKey([yr],Lr,rr):sr===null?yr:yr+"[]",lr(Tr))}),!1}return isVisitable(gr)?!0:(Hn.append(renderKey(vr,yr,rr),lr(gr)),!1)}const ur=[],dr=Object.assign(predicates,{defaultVisitor:cr,convertValue:lr,isVisitable});function fr(gr,yr){if(!utils$2.isUndefined(gr)){if(ur.indexOf(gr)!==-1)throw Error("Circular reference detected in "+yr.join("."));ur.push(gr),utils$2.forEach(gr,function(jr,Sr){(!(utils$2.isUndefined(jr)||jr===null)&&ir.call(Hn,jr,utils$2.isString(Sr)?Sr.trim():Sr,yr,dr))===!0&&fr(jr,yr?yr.concat(Sr):[Sr])}),ur.pop()}}if(!utils$2.isObject(tr))throw new TypeError("data must be an object");return fr(tr),Hn}function encode$1(tr){const Hn={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(tr).replace(/[!'()~]|%20|%00/g,function(nr){return Hn[nr]})}function AxiosURLSearchParams(tr,Hn){this._pairs=[],tr&&toFormData$1(tr,this,Hn)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(Hn,er){this._pairs.push([Hn,er])};prototype.toString=function(Hn){const er=Hn?function(nr){return Hn.call(this,nr,encode$1)}:encode$1;return this._pairs.map(function(ir){return er(ir[0])+"="+er(ir[1])},"").join("&")};function encode(tr){return encodeURIComponent(tr).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(tr,Hn,er){if(!Hn)return tr;const nr=er&&er.encode||encode;utils$2.isFunction(er)&&(er={serialize:er});const ir=er&&er.serialize;let rr;if(ir?rr=ir(Hn,er):rr=utils$2.isURLSearchParams(Hn)?Hn.toString():new AxiosURLSearchParams(Hn,er).toString(nr),rr){const sr=tr.indexOf("#");sr!==-1&&(tr=tr.slice(0,sr)),tr+=(tr.indexOf("?")===-1?"?":"&")+rr}return tr}class InterceptorManager{constructor(){this.handlers=[]}use(Hn,er,nr){return this.handlers.push({fulfilled:Hn,rejected:er,synchronous:nr?nr.synchronous:!1,runWhen:nr?nr.runWhen:null}),this.handlers.length-1}eject(Hn){this.handlers[Hn]&&(this.handlers[Hn]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(Hn){utils$2.forEach(this.handlers,function(nr){nr!==null&&Hn(nr)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$2={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform$1={...utils$1,...platform$2};function toURLEncodedForm(tr,Hn){return toFormData$1(tr,new platform$1.classes.URLSearchParams,{visitor:function(er,nr,ir,rr){return platform$1.isNode&&utils$2.isBuffer(er)?(this.append(nr,er.toString("base64")),!1):rr.defaultVisitor.apply(this,arguments)},...Hn})}function parsePropPath(tr){return utils$2.matchAll(/\w+|\[(\w*)]/g,tr).map(Hn=>Hn[0]==="[]"?"":Hn[1]||Hn[0])}function arrayToObject(tr){const Hn={},er=Object.keys(tr);let nr;const ir=er.length;let rr;for(nr=0;nr<ir;nr++)rr=er[nr],Hn[rr]=tr[rr];return Hn}function formDataToJSON(tr){function Hn(er,nr,ir,rr){let sr=er[rr++];if(sr==="__proto__")return!0;const ar=Number.isFinite(+sr),or=rr>=er.length;return sr=!sr&&utils$2.isArray(ir)?ir.length:sr,or?(utils$2.hasOwnProp(ir,sr)?ir[sr]=[ir[sr],nr]:ir[sr]=nr,!ar):((!ir[sr]||!utils$2.isObject(ir[sr]))&&(ir[sr]=[]),Hn(er,nr,ir[sr],rr)&&utils$2.isArray(ir[sr])&&(ir[sr]=arrayToObject(ir[sr])),!ar)}if(utils$2.isFormData(tr)&&utils$2.isFunction(tr.entries)){const er={};return utils$2.forEachEntry(tr,(nr,ir)=>{Hn(parsePropPath(nr),ir,er,0)}),er}return null}function stringifySafely(tr,Hn,er){if(utils$2.isString(tr))try{return(Hn||JSON.parse)(tr),utils$2.trim(tr)}catch(nr){if(nr.name!=="SyntaxError")throw nr}return(er||JSON.stringify)(tr)}const defaults$3={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(Hn,er){const nr=er.getContentType()||"",ir=nr.indexOf("application/json")>-1,rr=utils$2.isObject(Hn);if(rr&&utils$2.isHTMLForm(Hn)&&(Hn=new FormData(Hn)),utils$2.isFormData(Hn))return ir?JSON.stringify(formDataToJSON(Hn)):Hn;if(utils$2.isArrayBuffer(Hn)||utils$2.isBuffer(Hn)||utils$2.isStream(Hn)||utils$2.isFile(Hn)||utils$2.isBlob(Hn)||utils$2.isReadableStream(Hn))return Hn;if(utils$2.isArrayBufferView(Hn))return Hn.buffer;if(utils$2.isURLSearchParams(Hn))return er.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),Hn.toString();let ar;if(rr){if(nr.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(Hn,this.formSerializer).toString();if((ar=utils$2.isFileList(Hn))||nr.indexOf("multipart/form-data")>-1){const or=this.env&&this.env.FormData;return toFormData$1(ar?{"files[]":Hn}:Hn,or&&new or,this.formSerializer)}}return rr||ir?(er.setContentType("application/json",!1),stringifySafely(Hn)):Hn}],transformResponse:[function(Hn){const er=this.transitional||defaults$3.transitional,nr=er&&er.forcedJSONParsing,ir=this.responseType==="json";if(utils$2.isResponse(Hn)||utils$2.isReadableStream(Hn))return Hn;if(Hn&&utils$2.isString(Hn)&&(nr&&!this.responseType||ir)){const sr=!(er&&er.silentJSONParsing)&&ir;try{return JSON.parse(Hn,this.parseReviver)}catch(ar){if(sr)throw ar.name==="SyntaxError"?AxiosError$1.from(ar,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):ar}}return Hn}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(Hn){return Hn>=200&&Hn<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],tr=>{defaults$3.headers[tr]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=tr=>{const Hn={};let er,nr,ir;return tr&&tr.split(`
`).forEach(function(sr){ir=sr.indexOf(":"),er=sr.substring(0,ir).trim().toLowerCase(),nr=sr.substring(ir+1).trim(),!(!er||Hn[er]&&ignoreDuplicateOf[er])&&(er==="set-cookie"?Hn[er]?Hn[er].push(nr):Hn[er]=[nr]:Hn[er]=Hn[er]?Hn[er]+", "+nr:nr)}),Hn},$internals=Symbol("internals");function normalizeHeader(tr){return tr&&String(tr).trim().toLowerCase()}function normalizeValue(tr){return tr===!1||tr==null?tr:utils$2.isArray(tr)?tr.map(normalizeValue):String(tr)}function parseTokens(tr){const Hn=Object.create(null),er=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nr;for(;nr=er.exec(tr);)Hn[nr[1]]=nr[2];return Hn}const isValidHeaderName=tr=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(tr.trim());function matchHeaderValue(tr,Hn,er,nr,ir){if(utils$2.isFunction(nr))return nr.call(this,Hn,er);if(ir&&(Hn=er),!!utils$2.isString(Hn)){if(utils$2.isString(nr))return Hn.indexOf(nr)!==-1;if(utils$2.isRegExp(nr))return nr.test(Hn)}}function formatHeader(tr){return tr.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(Hn,er,nr)=>er.toUpperCase()+nr)}function buildAccessors(tr,Hn){const er=utils$2.toCamelCase(" "+Hn);["get","set","has"].forEach(nr=>{Object.defineProperty(tr,nr+er,{value:function(ir,rr,sr){return this[nr].call(this,Hn,ir,rr,sr)},configurable:!0})})}let AxiosHeaders$1=class{constructor(Hn){Hn&&this.set(Hn)}set(Hn,er,nr){const ir=this;function rr(ar,or,lr){const cr=normalizeHeader(or);if(!cr)throw new Error("header name must be a non-empty string");const ur=utils$2.findKey(ir,cr);(!ur||ir[ur]===void 0||lr===!0||lr===void 0&&ir[ur]!==!1)&&(ir[ur||or]=normalizeValue(ar))}const sr=(ar,or)=>utils$2.forEach(ar,(lr,cr)=>rr(lr,cr,or));if(utils$2.isPlainObject(Hn)||Hn instanceof this.constructor)sr(Hn,er);else if(utils$2.isString(Hn)&&(Hn=Hn.trim())&&!isValidHeaderName(Hn))sr(parseHeaders(Hn),er);else if(utils$2.isObject(Hn)&&utils$2.isIterable(Hn)){let ar={},or,lr;for(const cr of Hn){if(!utils$2.isArray(cr))throw TypeError("Object iterator must return a key-value pair");ar[lr=cr[0]]=(or=ar[lr])?utils$2.isArray(or)?[...or,cr[1]]:[or,cr[1]]:cr[1]}sr(ar,er)}else Hn!=null&&rr(er,Hn,nr);return this}get(Hn,er){if(Hn=normalizeHeader(Hn),Hn){const nr=utils$2.findKey(this,Hn);if(nr){const ir=this[nr];if(!er)return ir;if(er===!0)return parseTokens(ir);if(utils$2.isFunction(er))return er.call(this,ir,nr);if(utils$2.isRegExp(er))return er.exec(ir);throw new TypeError("parser must be boolean|regexp|function")}}}has(Hn,er){if(Hn=normalizeHeader(Hn),Hn){const nr=utils$2.findKey(this,Hn);return!!(nr&&this[nr]!==void 0&&(!er||matchHeaderValue(this,this[nr],nr,er)))}return!1}delete(Hn,er){const nr=this;let ir=!1;function rr(sr){if(sr=normalizeHeader(sr),sr){const ar=utils$2.findKey(nr,sr);ar&&(!er||matchHeaderValue(nr,nr[ar],ar,er))&&(delete nr[ar],ir=!0)}}return utils$2.isArray(Hn)?Hn.forEach(rr):rr(Hn),ir}clear(Hn){const er=Object.keys(this);let nr=er.length,ir=!1;for(;nr--;){const rr=er[nr];(!Hn||matchHeaderValue(this,this[rr],rr,Hn,!0))&&(delete this[rr],ir=!0)}return ir}normalize(Hn){const er=this,nr={};return utils$2.forEach(this,(ir,rr)=>{const sr=utils$2.findKey(nr,rr);if(sr){er[sr]=normalizeValue(ir),delete er[rr];return}const ar=Hn?formatHeader(rr):String(rr).trim();ar!==rr&&delete er[rr],er[ar]=normalizeValue(ir),nr[ar]=!0}),this}concat(...Hn){return this.constructor.concat(this,...Hn)}toJSON(Hn){const er=Object.create(null);return utils$2.forEach(this,(nr,ir)=>{nr!=null&&nr!==!1&&(er[ir]=Hn&&utils$2.isArray(nr)?nr.join(", "):nr)}),er}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([Hn,er])=>Hn+": "+er).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(Hn){return Hn instanceof this?Hn:new this(Hn)}static concat(Hn,...er){const nr=new this(Hn);return er.forEach(ir=>nr.set(ir)),nr}static accessor(Hn){const nr=(this[$internals]=this[$internals]={accessors:{}}).accessors,ir=this.prototype;function rr(sr){const ar=normalizeHeader(sr);nr[ar]||(buildAccessors(ir,sr),nr[ar]=!0)}return utils$2.isArray(Hn)?Hn.forEach(rr):rr(Hn),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders$1.prototype,({value:tr},Hn)=>{let er=Hn[0].toUpperCase()+Hn.slice(1);return{get:()=>tr,set(nr){this[er]=nr}}});utils$2.freezeMethods(AxiosHeaders$1);function transformData(tr,Hn){const er=this||defaults$3,nr=Hn||er,ir=AxiosHeaders$1.from(nr.headers);let rr=nr.data;return utils$2.forEach(tr,function(ar){rr=ar.call(er,rr,ir.normalize(),Hn?Hn.status:void 0)}),ir.normalize(),rr}function isCancel$1(tr){return!!(tr&&tr.__CANCEL__)}function CanceledError$1(tr,Hn,er){AxiosError$1.call(this,tr??"canceled",AxiosError$1.ERR_CANCELED,Hn,er),this.name="CanceledError"}utils$2.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(tr,Hn,er){const nr=er.config.validateStatus;!er.status||!nr||nr(er.status)?tr(er):Hn(new AxiosError$1("Request failed with status code "+er.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(er.status/100)-4],er.config,er.request,er))}function parseProtocol(tr){const Hn=/^([-+\w]{1,25})(:?\/\/|:)/.exec(tr);return Hn&&Hn[1]||""}function speedometer(tr,Hn){tr=tr||10;const er=new Array(tr),nr=new Array(tr);let ir=0,rr=0,sr;return Hn=Hn!==void 0?Hn:1e3,function(or){const lr=Date.now(),cr=nr[rr];sr||(sr=lr),er[ir]=or,nr[ir]=lr;let ur=rr,dr=0;for(;ur!==ir;)dr+=er[ur++],ur=ur%tr;if(ir=(ir+1)%tr,ir===rr&&(rr=(rr+1)%tr),lr-sr<Hn)return;const fr=cr&&lr-cr;return fr?Math.round(dr*1e3/fr):void 0}}function throttle$3(tr,Hn){let er=0,nr=1e3/Hn,ir,rr;const sr=(lr,cr=Date.now())=>{er=cr,ir=null,rr&&(clearTimeout(rr),rr=null),tr(...lr)};return[(...lr)=>{const cr=Date.now(),ur=cr-er;ur>=nr?sr(lr,cr):(ir=lr,rr||(rr=setTimeout(()=>{rr=null,sr(ir)},nr-ur)))},()=>ir&&sr(ir)]}const progressEventReducer=(tr,Hn,er=3)=>{let nr=0;const ir=speedometer(50,250);return throttle$3(rr=>{const sr=rr.loaded,ar=rr.lengthComputable?rr.total:void 0,or=sr-nr,lr=ir(or),cr=sr<=ar;nr=sr;const ur={loaded:sr,total:ar,progress:ar?sr/ar:void 0,bytes:or,rate:lr||void 0,estimated:lr&&ar&&cr?(ar-sr)/lr:void 0,event:rr,lengthComputable:ar!=null,[Hn?"download":"upload"]:!0};tr(ur)},er)},progressEventDecorator=(tr,Hn)=>{const er=tr!=null;return[nr=>Hn[0]({lengthComputable:er,total:tr,loaded:nr}),Hn[1]]},asyncDecorator=tr=>(...Hn)=>utils$2.asap(()=>tr(...Hn)),isURLSameOrigin=platform$1.hasStandardBrowserEnv?((tr,Hn)=>er=>(er=new URL(er,platform$1.origin),tr.protocol===er.protocol&&tr.host===er.host&&(Hn||tr.port===er.port)))(new URL(platform$1.origin),platform$1.navigator&&/(msie|trident)/i.test(platform$1.navigator.userAgent)):()=>!0,cookies=platform$1.hasStandardBrowserEnv?{write(tr,Hn,er,nr,ir,rr,sr){if(typeof document>"u")return;const ar=[`${tr}=${encodeURIComponent(Hn)}`];utils$2.isNumber(er)&&ar.push(`expires=${new Date(er).toUTCString()}`),utils$2.isString(nr)&&ar.push(`path=${nr}`),utils$2.isString(ir)&&ar.push(`domain=${ir}`),rr===!0&&ar.push("secure"),utils$2.isString(sr)&&ar.push(`SameSite=${sr}`),document.cookie=ar.join("; ")},read(tr){if(typeof document>"u")return null;const Hn=document.cookie.match(new RegExp("(?:^|; )"+tr+"=([^;]*)"));return Hn?decodeURIComponent(Hn[1]):null},remove(tr){this.write(tr,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(tr){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(tr)}function combineURLs(tr,Hn){return Hn?tr.replace(/\/?\/$/,"")+"/"+Hn.replace(/^\/+/,""):tr}function buildFullPath(tr,Hn,er){let nr=!isAbsoluteURL(Hn);return tr&&(nr||er==!1)?combineURLs(tr,Hn):Hn}const headersToObject=tr=>tr instanceof AxiosHeaders$1?{...tr}:tr;function mergeConfig$1(tr,Hn){Hn=Hn||{};const er={};function nr(lr,cr,ur,dr){return utils$2.isPlainObject(lr)&&utils$2.isPlainObject(cr)?utils$2.merge.call({caseless:dr},lr,cr):utils$2.isPlainObject(cr)?utils$2.merge({},cr):utils$2.isArray(cr)?cr.slice():cr}function ir(lr,cr,ur,dr){if(utils$2.isUndefined(cr)){if(!utils$2.isUndefined(lr))return nr(void 0,lr,ur,dr)}else return nr(lr,cr,ur,dr)}function rr(lr,cr){if(!utils$2.isUndefined(cr))return nr(void 0,cr)}function sr(lr,cr){if(utils$2.isUndefined(cr)){if(!utils$2.isUndefined(lr))return nr(void 0,lr)}else return nr(void 0,cr)}function ar(lr,cr,ur){if(ur in Hn)return nr(lr,cr);if(ur in tr)return nr(void 0,lr)}const or={url:rr,method:rr,data:rr,baseURL:sr,transformRequest:sr,transformResponse:sr,paramsSerializer:sr,timeout:sr,timeoutMessage:sr,withCredentials:sr,withXSRFToken:sr,adapter:sr,responseType:sr,xsrfCookieName:sr,xsrfHeaderName:sr,onUploadProgress:sr,onDownloadProgress:sr,decompress:sr,maxContentLength:sr,maxBodyLength:sr,beforeRedirect:sr,transport:sr,httpAgent:sr,httpsAgent:sr,cancelToken:sr,socketPath:sr,responseEncoding:sr,validateStatus:ar,headers:(lr,cr,ur)=>ir(headersToObject(lr),headersToObject(cr),ur,!0)};return utils$2.forEach(Object.keys({...tr,...Hn}),function(cr){const ur=or[cr]||ir,dr=ur(tr[cr],Hn[cr],cr);utils$2.isUndefined(dr)&&ur!==ar||(er[cr]=dr)}),er}const resolveConfig=tr=>{const Hn=mergeConfig$1({},tr);let{data:er,withXSRFToken:nr,xsrfHeaderName:ir,xsrfCookieName:rr,headers:sr,auth:ar}=Hn;if(Hn.headers=sr=AxiosHeaders$1.from(sr),Hn.url=buildURL(buildFullPath(Hn.baseURL,Hn.url,Hn.allowAbsoluteUrls),tr.params,tr.paramsSerializer),ar&&sr.set("Authorization","Basic "+btoa((ar.username||"")+":"+(ar.password?unescape(encodeURIComponent(ar.password)):""))),utils$2.isFormData(er)){if(platform$1.hasStandardBrowserEnv||platform$1.hasStandardBrowserWebWorkerEnv)sr.setContentType(void 0);else if(utils$2.isFunction(er.getHeaders)){const or=er.getHeaders(),lr=["content-type","content-length"];Object.entries(or).forEach(([cr,ur])=>{lr.includes(cr.toLowerCase())&&sr.set(cr,ur)})}}if(platform$1.hasStandardBrowserEnv&&(nr&&utils$2.isFunction(nr)&&(nr=nr(Hn)),nr||nr!==!1&&isURLSameOrigin(Hn.url))){const or=ir&&rr&&cookies.read(rr);or&&sr.set(ir,or)}return Hn},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(tr){return new Promise(function(er,nr){const ir=resolveConfig(tr);let rr=ir.data;const sr=AxiosHeaders$1.from(ir.headers).normalize();let{responseType:ar,onUploadProgress:or,onDownloadProgress:lr}=ir,cr,ur,dr,fr,gr;function yr(){fr&&fr(),gr&&gr(),ir.cancelToken&&ir.cancelToken.unsubscribe(cr),ir.signal&&ir.signal.removeEventListener("abort",cr)}let vr=new XMLHttpRequest;vr.open(ir.method.toUpperCase(),ir.url,!0),vr.timeout=ir.timeout;function jr(){if(!vr)return;const Tr=AxiosHeaders$1.from("getAllResponseHeaders"in vr&&vr.getAllResponseHeaders()),Mr={data:!ar||ar==="text"||ar==="json"?vr.responseText:vr.response,status:vr.status,statusText:vr.statusText,headers:Tr,config:tr,request:vr};settle(function(Or){er(Or),yr()},function(Or){nr(Or),yr()},Mr),vr=null}"onloadend"in vr?vr.onloadend=jr:vr.onreadystatechange=function(){!vr||vr.readyState!==4||vr.status===0&&!(vr.responseURL&&vr.responseURL.indexOf("file:")===0)||setTimeout(jr)},vr.onabort=function(){vr&&(nr(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,tr,vr)),vr=null)},vr.onerror=function(Lr){const Mr=Lr&&Lr.message?Lr.message:"Network Error",Nr=new AxiosError$1(Mr,AxiosError$1.ERR_NETWORK,tr,vr);Nr.event=Lr||null,nr(Nr),vr=null},vr.ontimeout=function(){let Lr=ir.timeout?"timeout of "+ir.timeout+"ms exceeded":"timeout exceeded";const Mr=ir.transitional||transitionalDefaults;ir.timeoutErrorMessage&&(Lr=ir.timeoutErrorMessage),nr(new AxiosError$1(Lr,Mr.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,tr,vr)),vr=null},rr===void 0&&sr.setContentType(null),"setRequestHeader"in vr&&utils$2.forEach(sr.toJSON(),function(Lr,Mr){vr.setRequestHeader(Mr,Lr)}),utils$2.isUndefined(ir.withCredentials)||(vr.withCredentials=!!ir.withCredentials),ar&&ar!=="json"&&(vr.responseType=ir.responseType),lr&&([dr,gr]=progressEventReducer(lr,!0),vr.addEventListener("progress",dr)),or&&vr.upload&&([ur,fr]=progressEventReducer(or),vr.upload.addEventListener("progress",ur),vr.upload.addEventListener("loadend",fr)),(ir.cancelToken||ir.signal)&&(cr=Tr=>{vr&&(nr(!Tr||Tr.type?new CanceledError$1(null,tr,vr):Tr),vr.abort(),vr=null)},ir.cancelToken&&ir.cancelToken.subscribe(cr),ir.signal&&(ir.signal.aborted?cr():ir.signal.addEventListener("abort",cr)));const Sr=parseProtocol(ir.url);if(Sr&&platform$1.protocols.indexOf(Sr)===-1){nr(new AxiosError$1("Unsupported protocol "+Sr+":",AxiosError$1.ERR_BAD_REQUEST,tr));return}vr.send(rr||null)})},composeSignals=(tr,Hn)=>{const{length:er}=tr=tr?tr.filter(Boolean):[];if(Hn||er){let nr=new AbortController,ir;const rr=function(lr){if(!ir){ir=!0,ar();const cr=lr instanceof Error?lr:this.reason;nr.abort(cr instanceof AxiosError$1?cr:new CanceledError$1(cr instanceof Error?cr.message:cr))}};let sr=Hn&&setTimeout(()=>{sr=null,rr(new AxiosError$1(`timeout ${Hn} of ms exceeded`,AxiosError$1.ETIMEDOUT))},Hn);const ar=()=>{tr&&(sr&&clearTimeout(sr),sr=null,tr.forEach(lr=>{lr.unsubscribe?lr.unsubscribe(rr):lr.removeEventListener("abort",rr)}),tr=null)};tr.forEach(lr=>lr.addEventListener("abort",rr));const{signal:or}=nr;return or.unsubscribe=()=>utils$2.asap(ar),or}},streamChunk=function*(tr,Hn){let er=tr.byteLength;if(er<Hn){yield tr;return}let nr=0,ir;for(;nr<er;)ir=nr+Hn,yield tr.slice(nr,ir),nr=ir},readBytes=async function*(tr,Hn){for await(const er of readStream(tr))yield*streamChunk(er,Hn)},readStream=async function*(tr){if(tr[Symbol.asyncIterator]){yield*tr;return}const Hn=tr.getReader();try{for(;;){const{done:er,value:nr}=await Hn.read();if(er)break;yield nr}}finally{await Hn.cancel()}},trackStream=(tr,Hn,er,nr)=>{const ir=readBytes(tr,Hn);let rr=0,sr,ar=or=>{sr||(sr=!0,nr&&nr(or))};return new ReadableStream({async pull(or){try{const{done:lr,value:cr}=await ir.next();if(lr){ar(),or.close();return}let ur=cr.byteLength;if(er){let dr=rr+=ur;er(dr)}or.enqueue(new Uint8Array(cr))}catch(lr){throw ar(lr),lr}},cancel(or){return ar(or),ir.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction}=utils$2,globalFetchAPI=(({Request:tr,Response:Hn})=>({Request:tr,Response:Hn}))(utils$2.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$2.global,test=(tr,...Hn)=>{try{return!!tr(...Hn)}catch{return!1}},factory=tr=>{tr=utils$2.merge.call({skipUndefined:!0},globalFetchAPI,tr);const{fetch:Hn,Request:er,Response:nr}=tr,ir=Hn?isFunction(Hn):typeof fetch=="function",rr=isFunction(er),sr=isFunction(nr);if(!ir)return!1;const ar=ir&&isFunction(ReadableStream$1),or=ir&&(typeof TextEncoder$1=="function"?(gr=>yr=>gr.encode(yr))(new TextEncoder$1):async gr=>new Uint8Array(await new er(gr).arrayBuffer())),lr=rr&&ar&&test(()=>{let gr=!1;const yr=new er(platform$1.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return gr=!0,"half"}}).headers.has("Content-Type");return gr&&!yr}),cr=sr&&ar&&test(()=>utils$2.isReadableStream(new nr("").body)),ur={stream:cr&&(gr=>gr.body)};ir&&["text","arrayBuffer","blob","formData","stream"].forEach(gr=>{!ur[gr]&&(ur[gr]=(yr,vr)=>{let jr=yr&&yr[gr];if(jr)return jr.call(yr);throw new AxiosError$1(`Response type '${gr}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,vr)})});const dr=async gr=>{if(gr==null)return 0;if(utils$2.isBlob(gr))return gr.size;if(utils$2.isSpecCompliantForm(gr))return(await new er(platform$1.origin,{method:"POST",body:gr}).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(gr)||utils$2.isArrayBuffer(gr))return gr.byteLength;if(utils$2.isURLSearchParams(gr)&&(gr=gr+""),utils$2.isString(gr))return(await or(gr)).byteLength},fr=async(gr,yr)=>{const vr=utils$2.toFiniteNumber(gr.getContentLength());return vr??dr(yr)};return async gr=>{let{url:yr,method:vr,data:jr,signal:Sr,cancelToken:Tr,timeout:Lr,onDownloadProgress:Mr,onUploadProgress:Nr,responseType:Or,headers:Fr,withCredentials:Gr="same-origin",fetchOptions:qr}=resolveConfig(gr),Hr=Hn||fetch;Or=Or?(Or+"").toLowerCase():"text";let Yr=composeSignals([Sr,Tr&&Tr.toAbortSignal()],Lr),ro=null;const io=Yr&&Yr.unsubscribe&&(()=>{Yr.unsubscribe()});let fo;try{if(Nr&&lr&&vr!=="get"&&vr!=="head"&&(fo=await fr(Fr,jr))!==0){let no=new er(yr,{method:"POST",body:jr,duplex:"half"}),mo;if(utils$2.isFormData(jr)&&(mo=no.headers.get("content-type"))&&Fr.setContentType(mo),no.body){const[Eo,bo]=progressEventDecorator(fo,progressEventReducer(asyncDecorator(Nr)));jr=trackStream(no.body,DEFAULT_CHUNK_SIZE,Eo,bo)}}utils$2.isString(Gr)||(Gr=Gr?"include":"omit");const ao=rr&&"credentials"in er.prototype,Jr={...qr,signal:Yr,method:vr.toUpperCase(),headers:Fr.normalize().toJSON(),body:jr,duplex:"half",credentials:ao?Gr:void 0};ro=rr&&new er(yr,Jr);let uo=await(rr?Hr(ro,qr):Hr(yr,Jr));const oo=cr&&(Or==="stream"||Or==="response");if(cr&&(Mr||oo&&io)){const no={};["status","statusText","headers"].forEach(Po=>{no[Po]=uo[Po]});const mo=utils$2.toFiniteNumber(uo.headers.get("content-length")),[Eo,bo]=Mr&&progressEventDecorator(mo,progressEventReducer(asyncDecorator(Mr),!0))||[];uo=new nr(trackStream(uo.body,DEFAULT_CHUNK_SIZE,Eo,()=>{bo&&bo(),io&&io()}),no)}Or=Or||"text";let co=await ur[utils$2.findKey(ur,Or)||"text"](uo,gr);return!oo&&io&&io(),await new Promise((no,mo)=>{settle(no,mo,{data:co,headers:AxiosHeaders$1.from(uo.headers),status:uo.status,statusText:uo.statusText,config:gr,request:ro})})}catch(ao){throw io&&io(),ao&&ao.name==="TypeError"&&/Load failed|fetch/i.test(ao.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,gr,ro),{cause:ao.cause||ao}):AxiosError$1.from(ao,ao&&ao.code,gr,ro)}}},seedCache=new Map,getFetch=tr=>{let Hn=tr&&tr.env||{};const{fetch:er,Request:nr,Response:ir}=Hn,rr=[nr,ir,er];let sr=rr.length,ar=sr,or,lr,cr=seedCache;for(;ar--;)or=rr[ar],lr=cr.get(or),lr===void 0&&cr.set(or,lr=ar?new Map:factory(Hn)),cr=lr;return lr};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$2.forEach(knownAdapters,(tr,Hn)=>{if(tr){try{Object.defineProperty(tr,"name",{value:Hn})}catch{}Object.defineProperty(tr,"adapterName",{value:Hn})}});const renderReason=tr=>`- ${tr}`,isResolvedHandle=tr=>utils$2.isFunction(tr)||tr===null||tr===!1;function getAdapter$1(tr,Hn){tr=utils$2.isArray(tr)?tr:[tr];const{length:er}=tr;let nr,ir;const rr={};for(let sr=0;sr<er;sr++){nr=tr[sr];let ar;if(ir=nr,!isResolvedHandle(nr)&&(ir=knownAdapters[(ar=String(nr)).toLowerCase()],ir===void 0))throw new AxiosError$1(`Unknown adapter '${ar}'`);if(ir&&(utils$2.isFunction(ir)||(ir=ir.get(Hn))))break;rr[ar||"#"+sr]=ir}if(!ir){const sr=Object.entries(rr).map(([or,lr])=>`adapter ${or} `+(lr===!1?"is not supported by the environment":"is not available in the build"));let ar=er?sr.length>1?`since :
`+sr.map(renderReason).join(`
`):" "+renderReason(sr[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+ar,"ERR_NOT_SUPPORT")}return ir}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(tr){if(tr.cancelToken&&tr.cancelToken.throwIfRequested(),tr.signal&&tr.signal.aborted)throw new CanceledError$1(null,tr)}function dispatchRequest(tr){return throwIfCancellationRequested(tr),tr.headers=AxiosHeaders$1.from(tr.headers),tr.data=transformData.call(tr,tr.transformRequest),["post","put","patch"].indexOf(tr.method)!==-1&&tr.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(tr.adapter||defaults$3.adapter,tr)(tr).then(function(nr){return throwIfCancellationRequested(tr),nr.data=transformData.call(tr,tr.transformResponse,nr),nr.headers=AxiosHeaders$1.from(nr.headers),nr},function(nr){return isCancel$1(nr)||(throwIfCancellationRequested(tr),nr&&nr.response&&(nr.response.data=transformData.call(tr,tr.transformResponse,nr.response),nr.response.headers=AxiosHeaders$1.from(nr.response.headers))),Promise.reject(nr)})}const VERSION$1="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((tr,Hn)=>{validators$1[tr]=function(nr){return typeof nr===tr||"a"+(Hn<1?"n ":" ")+tr}});const deprecatedWarnings={};validators$1.transitional=function(Hn,er,nr){function ir(rr,sr){return"[Axios v"+VERSION$1+"] Transitional option '"+rr+"'"+sr+(nr?". "+nr:"")}return(rr,sr,ar)=>{if(Hn===!1)throw new AxiosError$1(ir(sr," has been removed"+(er?" in "+er:"")),AxiosError$1.ERR_DEPRECATED);return er&&!deprecatedWarnings[sr]&&(deprecatedWarnings[sr]=!0,console.warn(ir(sr," has been deprecated since v"+er+" and will be removed in the near future"))),Hn?Hn(rr,sr,ar):!0}};validators$1.spelling=function(Hn){return(er,nr)=>(console.warn(`${nr} is likely a misspelling of ${Hn}`),!0)};function assertOptions(tr,Hn,er){if(typeof tr!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const nr=Object.keys(tr);let ir=nr.length;for(;ir-- >0;){const rr=nr[ir],sr=Hn[rr];if(sr){const ar=tr[rr],or=ar===void 0||sr(ar,rr,tr);if(or!==!0)throw new AxiosError$1("option "+rr+" must be "+or,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(er!==!0)throw new AxiosError$1("Unknown option "+rr,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(Hn){this.defaults=Hn||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(Hn,er){try{return await this._request(Hn,er)}catch(nr){if(nr instanceof Error){let ir={};Error.captureStackTrace?Error.captureStackTrace(ir):ir=new Error;const rr=ir.stack?ir.stack.replace(/^.+\n/,""):"";try{nr.stack?rr&&!String(nr.stack).endsWith(rr.replace(/^.+\n.+\n/,""))&&(nr.stack+=`
`+rr):nr.stack=rr}catch{}}throw nr}}_request(Hn,er){typeof Hn=="string"?(er=er||{},er.url=Hn):er=Hn||{},er=mergeConfig$1(this.defaults,er);const{transitional:nr,paramsSerializer:ir,headers:rr}=er;nr!==void 0&&validator.assertOptions(nr,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),ir!=null&&(utils$2.isFunction(ir)?er.paramsSerializer={serialize:ir}:validator.assertOptions(ir,{encode:validators.function,serialize:validators.function},!0)),er.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?er.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:er.allowAbsoluteUrls=!0),validator.assertOptions(er,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),er.method=(er.method||this.defaults.method||"get").toLowerCase();let sr=rr&&utils$2.merge(rr.common,rr[er.method]);rr&&utils$2.forEach(["delete","get","head","post","put","patch","common"],gr=>{delete rr[gr]}),er.headers=AxiosHeaders$1.concat(sr,rr);const ar=[];let or=!0;this.interceptors.request.forEach(function(yr){typeof yr.runWhen=="function"&&yr.runWhen(er)===!1||(or=or&&yr.synchronous,ar.unshift(yr.fulfilled,yr.rejected))});const lr=[];this.interceptors.response.forEach(function(yr){lr.push(yr.fulfilled,yr.rejected)});let cr,ur=0,dr;if(!or){const gr=[dispatchRequest.bind(this),void 0];for(gr.unshift(...ar),gr.push(...lr),dr=gr.length,cr=Promise.resolve(er);ur<dr;)cr=cr.then(gr[ur++],gr[ur++]);return cr}dr=ar.length;let fr=er;for(;ur<dr;){const gr=ar[ur++],yr=ar[ur++];try{fr=gr(fr)}catch(vr){yr.call(this,vr);break}}try{cr=dispatchRequest.call(this,fr)}catch(gr){return Promise.reject(gr)}for(ur=0,dr=lr.length;ur<dr;)cr=cr.then(lr[ur++],lr[ur++]);return cr}getUri(Hn){Hn=mergeConfig$1(this.defaults,Hn);const er=buildFullPath(Hn.baseURL,Hn.url,Hn.allowAbsoluteUrls);return buildURL(er,Hn.params,Hn.paramsSerializer)}};utils$2.forEach(["delete","get","head","options"],function(Hn){Axios$1.prototype[Hn]=function(er,nr){return this.request(mergeConfig$1(nr||{},{method:Hn,url:er,data:(nr||{}).data}))}});utils$2.forEach(["post","put","patch"],function(Hn){function er(nr){return function(rr,sr,ar){return this.request(mergeConfig$1(ar||{},{method:Hn,headers:nr?{"Content-Type":"multipart/form-data"}:{},url:rr,data:sr}))}}Axios$1.prototype[Hn]=er(),Axios$1.prototype[Hn+"Form"]=er(!0)});let CancelToken$1=class l1{constructor(Hn){if(typeof Hn!="function")throw new TypeError("executor must be a function.");let er;this.promise=new Promise(function(rr){er=rr});const nr=this;this.promise.then(ir=>{if(!nr._listeners)return;let rr=nr._listeners.length;for(;rr-- >0;)nr._listeners[rr](ir);nr._listeners=null}),this.promise.then=ir=>{let rr;const sr=new Promise(ar=>{nr.subscribe(ar),rr=ar}).then(ir);return sr.cancel=function(){nr.unsubscribe(rr)},sr},Hn(function(rr,sr,ar){nr.reason||(nr.reason=new CanceledError$1(rr,sr,ar),er(nr.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(Hn){if(this.reason){Hn(this.reason);return}this._listeners?this._listeners.push(Hn):this._listeners=[Hn]}unsubscribe(Hn){if(!this._listeners)return;const er=this._listeners.indexOf(Hn);er!==-1&&this._listeners.splice(er,1)}toAbortSignal(){const Hn=new AbortController,er=nr=>{Hn.abort(nr)};return this.subscribe(er),Hn.signal.unsubscribe=()=>this.unsubscribe(er),Hn.signal}static source(){let Hn;return{token:new l1(function(ir){Hn=ir}),cancel:Hn}}};function spread$1(tr){return function(er){return tr.apply(null,er)}}function isAxiosError$1(tr){return utils$2.isObject(tr)&&tr.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([tr,Hn])=>{HttpStatusCode$1[Hn]=tr});function createInstance(tr){const Hn=new Axios$1(tr),er=bind(Axios$1.prototype.request,Hn);return utils$2.extend(er,Axios$1.prototype,Hn,{allOwnKeys:!0}),utils$2.extend(er,Hn,null,{allOwnKeys:!0}),er.create=function(ir){return createInstance(mergeConfig$1(tr,ir))},er}const axios=createInstance(defaults$3);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(Hn){return Promise.all(Hn)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=tr=>formDataToJSON(utils$2.isHTMLForm(tr)?new FormData(tr):tr);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;function LuClock(tr){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(tr)}function LuExternalLink(tr){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h6v6"},child:[]},{tag:"path",attr:{d:"M10 14 21 3"},child:[]},{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]}]})(tr)}function LuLanguages(tr){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m5 8 6 6"},child:[]},{tag:"path",attr:{d:"m4 14 6-6 2-3"},child:[]},{tag:"path",attr:{d:"M2 5h12"},child:[]},{tag:"path",attr:{d:"M7 2h1"},child:[]},{tag:"path",attr:{d:"m22 22-5-10-5 10"},child:[]},{tag:"path",attr:{d:"M14 18h6"},child:[]}]})(tr)}function FaChartBar(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(tr)}function FaEye(tr){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(tr)}function FaMapMarkedAlt(tr){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(tr)}function FaShare(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(tr)}function FaThList(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"},child:[]}]})(tr)}function FaRegComment$1(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(tr)}function IoSend(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(tr)}function IoShareSocialOutline(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"128",cy:"256",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"384",cy:"112",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"384",cy:"400",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m169.83 279.53 172.34 96.94m0-240.94-172.34 96.94"},child:[]}]})(tr)}function IoVolumeHigh(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M232 416a23.88 23.88 0 0 1-14.2-4.68 8.27 8.27 0 0 1-.66-.51L125.76 336H56a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.75l91.37-74.81a8.27 8.27 0 0 1 .66-.51A24 24 0 0 1 256 120v272a24 24 0 0 1-24 24zm-106.18-80zm-.27-159.86zM320 336a16 16 0 0 1-14.29-23.19c9.49-18.87 14.3-38 14.3-56.81 0-19.38-4.66-37.94-14.25-56.73a16 16 0 0 1 28.5-14.54C346.19 208.12 352 231.44 352 256c0 23.86-6 47.81-17.7 71.19A16 16 0 0 1 320 336z"},child:[]},{tag:"path",attr:{d:"M368 384a16 16 0 0 1-13.86-24C373.05 327.09 384 299.51 384 256c0-44.17-10.93-71.56-29.82-103.94a16 16 0 0 1 27.64-16.12C402.92 172.11 416 204.81 416 256c0 50.43-13.06 83.29-34.13 120a16 16 0 0 1-13.87 8z"},child:[]},{tag:"path",attr:{d:"M416 432a16 16 0 0 1-13.39-24.74C429.85 365.47 448 323.76 448 256c0-66.5-18.18-108.62-45.49-151.39a16 16 0 1 1 27-17.22C459.81 134.89 480 181.74 480 256c0 64.75-14.66 113.63-50.6 168.74A16 16 0 0 1 416 432z"},child:[]}]})(tr)}function IoVolumeMute(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"},child:[]},{tag:"path",attr:{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"},child:[]},{tag:"path",attr:{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"},child:[]}]})(tr)}const _hasBuffer=typeof Buffer=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(tr=>{let Hn={};return tr.forEach((er,nr)=>Hn[er]=nr),Hn})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):tr=>new Uint8Array(Array.prototype.slice.call(tr,0)),_tidyB64=tr=>tr.replace(/[^A-Za-z0-9\+\/]/g,""),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=tr=>{switch(tr.length){case 4:var Hn=(7&tr.charCodeAt(0))<<18|(63&tr.charCodeAt(1))<<12|(63&tr.charCodeAt(2))<<6|63&tr.charCodeAt(3),er=Hn-65536;return _fromCC((er>>>10)+55296)+_fromCC((er&1023)+56320);case 3:return _fromCC((15&tr.charCodeAt(0))<<12|(63&tr.charCodeAt(1))<<6|63&tr.charCodeAt(2));default:return _fromCC((31&tr.charCodeAt(0))<<6|63&tr.charCodeAt(1))}},btou=tr=>tr.replace(re_btou,cb_btou),atobPolyfill=tr=>{if(tr=tr.replace(/\s+/g,""),!b64re.test(tr))throw new TypeError("malformed base64.");tr+="==".slice(2-(tr.length&3));let Hn,er,nr,ir=[];for(let rr=0;rr<tr.length;)Hn=b64tab[tr.charAt(rr++)]<<18|b64tab[tr.charAt(rr++)]<<12|(er=b64tab[tr.charAt(rr++)])<<6|(nr=b64tab[tr.charAt(rr++)]),er===64?ir.push(_fromCC(Hn>>16&255)):nr===64?ir.push(_fromCC(Hn>>16&255,Hn>>8&255)):ir.push(_fromCC(Hn>>16&255,Hn>>8&255,Hn&255));return ir.join("")},_atob=typeof atob=="function"?tr=>atob(_tidyB64(tr)):_hasBuffer?tr=>Buffer.from(tr,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?tr=>_U8Afrom(Buffer.from(tr,"base64")):tr=>_U8Afrom(_atob(tr).split("").map(Hn=>Hn.charCodeAt(0))),_decode=_hasBuffer?tr=>Buffer.from(tr,"base64").toString("utf8"):_TD?tr=>_TD.decode(_toUint8Array(tr)):tr=>btou(_atob(tr)),_unURI=tr=>_tidyB64(tr.replace(/[-_]/g,Hn=>Hn=="-"?"+":"/")),decode=tr=>_decode(_unURI(tr)),cleanText=tr=>tr?tr.replace(/#[a-zA-Z0-9_]+/g,"").replace(/\s+/g," ").trim():"",LiveNewsPanel=({open:tr,onClose:Hn})=>{const er=reactExports.useRef(null),[nr,ir]=reactExports.useState([]),[rr,sr]=reactExports.useState(!1),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState(""),[fr,gr]=reactExports.useState(!1),[yr,vr]=reactExports.useState(!1),[jr,Sr]=reactExports.useState({}),[Tr,Lr]=reactExports.useState(!1),[Mr,Nr]=reactExports.useState(!1),[Or,Fr]=reactExports.useState(""),[Gr,qr]=reactExports.useState(""),[Hr,Yr]=reactExports.useState(!1),[ro,io]=reactExports.useState(!1),fo=reactExports.useRef(null),[ao,Jr]=reactExports.useState(0),[uo,oo]=reactExports.useState(!1),co=reactExports.useRef(null),[no,mo]=reactExports.useState([]),[Eo,bo]=reactExports.useState(null);reactExports.useEffect(()=>{if(!tr||ar)return;const Lo=Uo=>{const $o=er.current&&er.current.contains(Uo.target),il=Uo.target.closest(".news-toast")||Uo.target.closest(".hot-toast-container");!$o&&!il&&Hn()};return document.addEventListener("mousedown",Lo),()=>document.removeEventListener("mousedown",Lo)},[tr,Hn,ar]);const Po=Lo=>{try{return Lo?decode(Lo):""}catch(Uo){return console.error("Decode error:",Uo),Lo}};reactExports.useEffect(()=>{if(!tr)return;(async()=>{Nr(!0);try{const $o=(await axios.get("https://api_gold.thinkdiff.us/tin_tuc_moi_nhat_1_ngay")).data?.data||[];if(!$o.length){ir([]);return}mo($o);let il=Eo;il===null&&(il=$o.length-1,bo(il));const pl=$o[il];if(!pl)return;const ml=await axios.get(pl.link),Wl=ml.data?.posts||[];if(!Wl.length){ir([]);return}const Xl=Wl.filter(Tl=>Tl.post_db_id).map(Tl=>{const Ol=Po(Tl.content),dc=Po(Tl.content_text_vi);return{id:Tl.post_db_id,content:dc||Ol,time:Tl.date_time,source:Tl.user_id||"",link:Tl.link_baiviet_goc||Tl.page_web||"",images:Tl.images||[]}}).sort((Tl,Ol)=>new Date(Ol.time)-new Date(Tl.time)),ac=ml.data?.time_save||"";ac&&Fr(ac),ir(Xl)}catch(Uo){console.error("Li load API:",Uo),ir([])}finally{Nr(!1)}})()},[tr,Eo]);const wo=Lo=>{const Uo=document.createElement("DIV");return Uo.innerHTML=Lo,Uo.textContent||Uo.innerText||""};reactExports.useEffect(()=>{ar||(cr(!1),dr(""))},[ar]);const To=()=>{if(!ar)return;if(uo){window.speechSynthesis.cancel(),oo(!1);return}const Lo=lr?ur:ar.content,Uo=wo(Lo);if(!Uo)return;const $o=new SpeechSynthesisUtterance(Uo);$o.lang=lr?"vi-VN":"en-US",$o.rate=1,$o.onend=()=>oo(!1),$o.onerror=()=>oo(!1),co.current=$o,window.speechSynthesis.speak($o),oo(!0)};if(reactExports.useEffect(()=>()=>{window.speechSynthesis.cancel(),oo(!1)},[ar]),reactExports.useEffect(()=>{tr&&nr.length&&!yr&&Co()},[tr,nr]),!tr)return null;const Fo=async()=>{if(ar){if(lr){cr(!1);return}if(ur){cr(!0);return}gr(!0);try{const $o=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(ar.content)}`)).json())[0].map(il=>il[0]).join("");dr($o),cr(!0)}catch(Lo){console.error(Lo)}finally{gr(!1)}}},Co=async()=>{if(yr){vr(!1);return}if(Object.keys(jr).length){vr(!0);return}Lr(!0);const Lo={};try{for(const $o of nr){const pl=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent($o.content.slice(0,400))}`)).json();Lo[$o.id]=pl[0].map(ml=>ml[0]).join("")}const Uo=Object.values(Lo).map($o=>cleanText($o)).join(". . . Tin tc tip theo . . .");qr(Uo),Sr(Lo),vr(!0)}catch(Uo){console.error("Translate list failed:",Uo)}finally{Lr(!1)}},Go=()=>{const Lo=window.speechSynthesis;if(ro){Lo.resume(),io(!1),Yr(!0);return}if(Hr&&!ro){Lo.pause(),io(!0);return}if(!Gr)return;Lo.cancel();const Uo=new SpeechSynthesisUtterance(Gr);Uo.lang="vi-VN",Uo.rate=1.1,Uo.onboundary=$o=>{const il=$o.charIndex,pl=Gr.length;pl>0&&Jr(il/pl*100)},Uo.onstart=()=>{Yr(!0),io(!1)},Uo.onend=()=>{Yr(!1),io(!1),Jr(0)},Uo.onerror=()=>{Yr(!1),io(!1)},fo.current=Uo,Lo.speak(Uo)},el=()=>{window.speechSynthesis.cancel(),Yr(!1),io(!1),Jr(0)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"live-news-overlay",children:jsxRuntimeExports.jsxs("div",{ref:er,className:`live-news-panel ${rr?"zoomed":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"live-news-header",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("span",{style:{fontWeight:"bold"},children:" TIN TC MI NHT"}),Or&&jsxRuntimeExports.jsxs("span",{style:{fontSize:"10px",opacity:.8,marginTop:"2px"},children:["Cp nht ln cui vo lc:"," ",jsxRuntimeExports.jsx("span",{style:{color:"#16a34a",fontWeight:800},children:Or})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px"},children:[Eo>0&&jsxRuntimeExports.jsx("button",{onClick:()=>bo(Lo=>Lo-1),style:{padding:"6px 10px",cursor:"pointer",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px"},children:" Ngy trc"}),Eo<no.length-1&&jsxRuntimeExports.jsx("button",{onClick:()=>bo(Lo=>Lo+1),style:{padding:"6px 10px",cursor:"pointer",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px"},children:"Ngy tip theo "})]}),jsxRuntimeExports.jsxs("div",{className:"live-news-actions",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",width:"100%",padding:"10px"},children:[jsxRuntimeExports.jsx("div",{style:{flex:1,height:"8px",backgroundColor:"#e0e0e0",borderRadius:"5px",overflow:"hidden",minWidth:"100px"},children:jsxRuntimeExports.jsx("div",{style:{width:`${ao}%`,height:"100%",backgroundColor:"#4caf50",transition:"width 0.2s ease-in-out"}})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[jsxRuntimeExports.jsx("button",{onClick:Go,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:Hr&&!ro?"#f0ad4e":"#0275d8",color:"white",border:"none",borderRadius:"4px",whiteSpace:"nowrap",fontSize:"14px"},children:ro?"":Hr?"":""}),jsxRuntimeExports.jsx("button",{onClick:el,disabled:!Hr&&!ro,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:"#d9534f",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",opacity:!Hr&&!ro?.5:1,whiteSpace:"nowrap"},children:"Stop"})]})]}),jsxRuntimeExports.jsxs("button",{className:`live-news-translate ${yr?"active":""}`,onClick:Co,title:"Dch ton b tin",children:[jsxRuntimeExports.jsx(LuLanguages,{size:14}),Tr?"...":"VN"]}),jsxRuntimeExports.jsx("button",{className:"live-news-zoom",onClick:()=>sr(Lo=>!Lo),children:rr?"":""}),jsxRuntimeExports.jsx("button",{className:"live-news-close",onClick:()=>{Hn(),el()},children:""})]})]}),jsxRuntimeExports.jsx("div",{className:"live-news-body",children:jsxRuntimeExports.jsxs("div",{className:"live-news-vertical",children:[Mr&&jsxRuntimeExports.jsx("div",{className:"live-news-empty",children:" ang cp nht tin tc, xin ch cht..."}),!Mr&&nr.length===0&&jsxRuntimeExports.jsx("div",{className:"live-news-empty",children:" Hin cha c tin tc mi"}),!Mr&&nr.map((Lo,Uo)=>jsxRuntimeExports.jsxs("div",{className:"live-news-row",onClick:()=>or(Lo),children:[Lo.images.length>0&&jsxRuntimeExports.jsx("img",{src:Lo.images[0],alt:"",className:"news-thumb"}),jsxRuntimeExports.jsx("div",{className:"news-preview",children:yr&&jr[Lo.id]||Lo.content}),jsxRuntimeExports.jsxs("div",{className:"live-news-meta",children:[jsxRuntimeExports.jsx("span",{children:Lo.source}),jsxRuntimeExports.jsx("span",{children:Lo.time})]})]},`${Lo.id}-${Uo}`))]})})]})}),ar&&reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"news-modal-overlay",onClick:()=>or(null),children:jsxRuntimeExports.jsxs("div",{className:"news-modal-content",onClick:Lo=>Lo.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"news-modal-header",children:[jsxRuntimeExports.jsx("h2",{children:" Tin tc chi tit"}),jsxRuntimeExports.jsxs("div",{className:"news-modal-actions",children:[jsxRuntimeExports.jsx("button",{onClick:To,title:uo?"Dng c":"c bi vit",style:{marginRight:"8px",background:"none",border:"none",cursor:"pointer",color:uo?"#ef4444":"#3b82f6"},children:uo?jsxRuntimeExports.jsx(IoVolumeHigh,{size:20}):jsxRuntimeExports.jsx(IoVolumeMute,{size:20})}),jsxRuntimeExports.jsxs("button",{className:"news-translate-btn",onClick:Fo,disabled:fr,children:[jsxRuntimeExports.jsx(LuLanguages,{size:14}),fr?"...":lr?"Gc":"VN"]}),jsxRuntimeExports.jsx("button",{className:"news-modal-close",onClick:()=>or(null),children:""})]})]}),ar.images?.length>0&&jsxRuntimeExports.jsx("img",{src:ar.images[0],alt:"",className:"news-modal-image"}),jsxRuntimeExports.jsx("p",{className:"news-modal-text",children:lr?ur:ar.content}),jsxRuntimeExports.jsxs("div",{className:"news-modal-meta",children:[ar.source,"  ",ar.time]}),ar.link&&jsxRuntimeExports.jsx("a",{href:ar.link,target:"_blank",rel:"noopener noreferrer",className:"news-modal-link",children:"Xem ngun gc "})]})}),document.body)]})},LatestPostTicker=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!1),[ir,rr]=reactExports.useState(null),sr=reactExports.useRef(null),[ar,or]=reactExports.useState({}),[lr,cr]=reactExports.useState({}),[ur,dr]=reactExports.useState([]),[fr,gr]=reactExports.useState(""),[yr,vr]=reactExports.useState(!1),[jr,Sr]=reactExports.useState(!1);reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/all_day_tin_tuc").then(Fr=>Fr.json()).then(Fr=>{if(Fr?.status==="success"&&Fr.data.length>0){const Gr=Fr.data[Fr.data.length-1].dirname;dr(Fr.data),gr(Gr)}})},[]),reactExports.useEffect(()=>{fr&&(Hn([]),or({}),cr({}),window.speechSynthesis.cancel(),vr(!1),Sr(!1),fetch(`https://api_gold.thinkdiff.us/liet_ke_tin_tuc_1ngay/${fr}`).then(Fr=>Fr.json()).then(Fr=>{Fr?.status==="success"&&Hn(Fr.data)}))},[fr]),reactExports.useEffect(()=>{tr.forEach(Fr=>{!Fr.link||lr[Fr.link]||fetch(Fr.link).then(Gr=>Gr.text()).then(Gr=>{let qr=Gr.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<style[^>]*>.*?<\/style>/gi,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();cr(Yr=>({...Yr,[Fr.link]:qr}));const Hr=qr.length>100?qr.slice(0,100)+"":qr;or(Yr=>({...Yr,[Fr.link]:Hr}))}).catch(()=>{or(Gr=>({...Gr,[Fr.link]:" Khng th ti ni dung"}))})})},[tr,lr]);const Tr=(Fr,Gr)=>{if(!Fr)return;(Fr.match(/[^.!?\n]+[.!?]?/g)?.map(Hr=>Hr.trim()).filter(Boolean)||[Fr]).forEach(Hr=>{const Yr=new SpeechSynthesisUtterance(Hr);Yr.lang="vi-VN",Yr.rate=1,window.speechSynthesis.speak(Yr)}),window.speechSynthesis.onend=()=>Gr(!1),Gr(!0)},Lr=()=>{if(!ir)return;if(yr){window.speechSynthesis.cancel(),vr(!1);return}const Fr=lr[ir];Tr(Fr,vr)},Mr=()=>{if(jr){window.speechSynthesis.cancel(),Sr(!1);return}const Fr=tr.map(Gr=>lr[Gr.link]).filter(Boolean).join(". ");Tr(Fr,Sr)},Nr=ur[ur.length-1]?.dirname,Or=fr===Nr;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"notification-bell bell-icon",onClick:()=>nr(Fr=>!Fr),children:""}),er&&jsxRuntimeExports.jsx("div",{className:"live-news-overlay",style:{marginTop:"70px"},children:jsxRuntimeExports.jsxs("div",{ref:sr,className:"live-news-panel",children:[jsxRuntimeExports.jsxs("div",{className:"live-news-header",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[jsxRuntimeExports.jsxs("span",{children:[" ",Or?"BI VIT MI NHT":`BI VIT NGY ${fr}`]}),jsxRuntimeExports.jsx("button",{onClick:Mr,title:jr?"Dng c":"c tt c bi vit",style:{background:"none",border:"none",cursor:"pointer",color:jr?"#ef4444":"#3b82f6"},children:jr?jsxRuntimeExports.jsx(IoVolumeHigh,{size:18}):jsxRuntimeExports.jsx(IoVolumeMute,{size:18})})]}),jsxRuntimeExports.jsx("select",{value:fr,onChange:Fr=>gr(Fr.target.value),style:{background:"#020617",color:"#e5e7eb",border:"1px solid #334155",borderRadius:"6px",padding:"4px 8px",fontSize:"13px",cursor:"pointer"},children:ur.map(Fr=>jsxRuntimeExports.jsx("option",{value:Fr.dirname,children:Fr.dirname},Fr.dirname))}),jsxRuntimeExports.jsx("div",{className:"live-news-actions",children:jsxRuntimeExports.jsx("button",{className:"live-news-close",onClick:()=>nr(!1),children:""})})]}),jsxRuntimeExports.jsx("div",{className:"live-news-body",children:jsxRuntimeExports.jsxs("div",{className:"live-news-vertical",children:[tr.length===0&&jsxRuntimeExports.jsx("div",{className:"live-news-empty",children:" ang cp nht bi vit mi..."}),tr.map((Fr,Gr)=>jsxRuntimeExports.jsxs("div",{className:"live-news-row",onClick:()=>{rr(Fr.link),nr(!1)},children:[jsxRuntimeExports.jsx("div",{className:"news-preview",children:ar[Fr.link]||" ang ti ni dung..."}),jsxRuntimeExports.jsx("div",{className:"live-news-meta",children:jsxRuntimeExports.jsx("span",{children:Fr.modified_time})})]},Gr))]})})]})}),ir&&jsxRuntimeExports.jsx("div",{className:"article-overlay",onClick:()=>rr(null),children:jsxRuntimeExports.jsxs("div",{className:"article-panel",onClick:Fr=>Fr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"article-header",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"50px",alignItems:"center"},children:[jsxRuntimeExports.jsx("h2",{children:" Bi vit chi tit"}),jsxRuntimeExports.jsx("button",{onClick:Lr,title:yr?"Dng c":"c bi vit",style:{background:"none",border:"none",cursor:"pointer",color:yr?"#ef4444":"#3b82f6"},children:yr?jsxRuntimeExports.jsx(IoVolumeHigh,{size:22}):jsxRuntimeExports.jsx(IoVolumeMute,{size:22})})]}),jsxRuntimeExports.jsx("button",{className:"article-close",onClick:()=>{window.speechSynthesis.cancel(),vr(!1),rr(null)},children:""})]}),jsxRuntimeExports.jsx("iframe",{src:ir,title:"Ni dung bi vit",className:"article-frame"})]})})]})},filterDate$1={sortBy:"datetime",sortOrder:"desc"},Header=({lastUpdated:tr,newsInAPI:Hn})=>{const[er,nr]=reactExports.useState(null),ir=useLocation(),rr=useNavigate(),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState(null);reactExports.useRef(null),reactExports.useEffect(()=>{if(dr){const no=`${dr.day}-${dr.month}-${dr.year}-${dr.hour}-${dr.minute}`,mo=localStorage.getItem("last_data_time");if(mo&&mo!==no){const Eo=new Audio("/co_du_lieu_moi.mp3");Eo.volume=.7,Eo.play().catch(bo=>{console.warn("Trnh duyt chn m thanh t ng. Hy click vo trang web 1 ln  kch hot.")})}localStorage.setItem("last_data_time",no)}},[dr]);const{displayedDates:gr}=useDateGold(filterDate$1),yr=reactExports.useMemo(()=>{if(gr.length===0)return null;const no=gr.filter(mo=>mo.dirname!=="image_tintuc").sort((mo,Eo)=>Eo.datetime.localeCompare(mo.datetime));return no.length>0&&console.log("latestDateString: ",no[0].dirname),no.length>0?no[0].dirname:null},[gr]),[vr,jr,Sr]=yr?yr.split("_"):[null,null,null],{files:Tr}=useVang247Dates(vr,jr,Sr),Lr=Tr?.length>0?Tr[0]:null,Mr=Lr?.day||vr,Nr=Lr?.month||jr,Or=Lr?.year||Sr,Fr=ir.pathname;useParams();const Gr=Fr.split("/");let qr="";if(Gr.length>=8){const no=String(Gr[3]).padStart(2,"0"),mo=String(Gr[4]).padStart(2,"0"),Eo=Gr[5],bo=String(Gr[6]).padStart(2,"0"),Po=String(Gr[7]).padStart(2,"0");qr=`${no}/${mo}/${Eo}/${bo}/${Po}`}const Hr=async(no,mo)=>{if(no.stopPropagation(),sr){ar(!1);return}if(or){ar(!0);return}ur(!0);try{const bo=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(mo||"")}`)).json();if(bo&&bo[0]){const Po=bo[0].map(wo=>wo[0]).join("");lr(Po),ar(!0)}}catch(Eo){console.error("Li dch:",Eo)}finally{ur(!1)}};reactExports.useEffect(()=>{(async()=>{Lr&&Mr&&Nr&&Or&&(`${Mr}${Nr}${Or}${String(Lr.hour).padStart(2,"0")}${String(Lr.minute).padStart(2,"0")}`,fr({day:Mr,month:Nr,year:Or,hour:Lr.hour,minute:Lr.minute}),Lr.hour,Lr.minute);let no=null;const mo=new Date;for(let el=0;el<3;el++){const Lo=new Date(mo);Lo.setDate(Lo.getDate()-el);const Uo=String(Lo.getDate()).padStart(2,"0"),$o=String(Lo.getMonth()+1).padStart(2,"0"),il=Lo.getFullYear();try{const pl=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Uo}_${$o}_${il}`);if(!pl.ok)continue;const ml=await pl.json();if(ml.status==="success"&&ml.data?.length){no=ml.data;break}}catch{continue}}if(!no)return;const Eo=no?.at(-1);if(!Eo?.modified_time)return;const[bo,Po]=Eo.modified_time.split(" "),[wo,To,Fo]=bo.split("/"),[Co,Go]=Po.split(":")})()},[Fr]);const Yr=no=>{nr(no),ar(!1),lr("")},ro=()=>{nr(null),ar(!1),lr("")},[io,fo]=reactExports.useState(!1),ao=()=>{fo(!1),rr(`/vietnam/gold/${dr?.day}/${dr?.month}/${dr?.year}/${dr?.hour}/${dr?.minute}`)},Jr=()=>{fo(!1)},[uo,oo]=reactExports.useState(!1),co=()=>{const no=new Date,mo=no.getDate(),Eo=no.getMonth()+1,bo=no.getFullYear();return`/orderflowanalysis/gold/${mo}/${Eo}/${bo}`};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[dr&&jsxRuntimeExports.jsx(UpdateDataModal,{isVisible:io,latestData:dr,onConfirm:ao,onCancel:Jr}),jsxRuntimeExports.jsxs("header",{className:"header",children:[jsxRuntimeExports.jsxs("div",{className:"header-content",children:[jsxRuntimeExports.jsxs("div",{className:"header-left",children:[jsxRuntimeExports.jsxs("div",{style:{color:"#ffffff",fontSize:"24px",fontWeight:"500",marginBottom:"5px"},children:["Thi gian update cui cng:"," ",jsxRuntimeExports.jsx("span",{style:{color:`${dr?.day}/${dr?.month}/${dr?.year}/${dr?.hour}/${dr?.minute}`===qr?"#006400":"red",cursor:"pointer"},onClick:()=>{dr&&`${dr?.day}/${dr?.month}/${dr?.year}/${dr?.hour}/${dr?.minute}`!==qr&&fo(!0)},children:dr?`${dr?.day}/${dr?.month}/${dr?.year} ${dr?.hour}:${dr?.minute}`:"ang ti thi gian..."})]}),jsxRuntimeExports.jsx("h2",{className:"site-title",children:"TOOL PHN TCH GI VNG - BC - T GI"})]}),jsxRuntimeExports.jsxs("div",{className:"header-right",children:[jsxRuntimeExports.jsxs("div",{className:"header-right-top",children:[jsxRuntimeExports.jsxs(NavLink,{to:"/",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Bng Gi Vng",children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 17l4-9h10l4 9H3zm7-7l-2 5h8l-2-5H10z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Bng Gi Vng"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/tin-tuc-moi-nhat",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Tin tc mi nht",children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[jsxRuntimeExports.jsx("path",{d:"M19 3H4a2 2 0 00-2 2v13a3 3 0 003 3h14a3 3 0 003-3V6a3 3 0 00-3-3zm0 15H5a1 1 0 01-1-1V6h15z"}),jsxRuntimeExports.jsx("path",{d:"M7 8h7v2H7zM7 12h10v2H7z"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Tin tc"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/lich_kinh_te",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Lch Kinh T",children:[jsxRuntimeExports.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Lch Kinh T"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/ty-gia",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"T Gi USD",children:[jsxRuntimeExports.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"T Gi USD"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/TradingEconomicsWidgets",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Ch s kinh t",children:[jsxRuntimeExports.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Ch s kinh t"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/lich-su-gia",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Lch s gi",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[jsxRuntimeExports.jsx("path",{d:"M13 3a9 9 0 1 0 8.94 10h-2.02A7 7 0 1 1 13 5v4l5-5-5-5v4z"}),jsxRuntimeExports.jsx("path",{d:"M12 8v5l4 2 .75-1.23-3.25-1.77V8z"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Lch s gi"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/bao-cao-luong-luu-tru",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Bo co lng lu tr SHFE",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[jsxRuntimeExports.jsx("rect",{x:"3",y:"2",width:"18",height:"20",rx:"2",ry:"2",stroke:"currentColor",fill:"none",strokeWidth:"2"}),jsxRuntimeExports.jsx("path",{d:"M5 5h14v1H5z"})," ",jsxRuntimeExports.jsx("path",{d:"M5 8h14v1H5z"})," ",jsxRuntimeExports.jsx("path",{d:"M5 11h14v1H5z"}),jsxRuntimeExports.jsx("path",{d:"M5 14h14v1H5z"})," ",jsxRuntimeExports.jsx("path",{d:"M5 17h14v1H5z"}),"  ",jsxRuntimeExports.jsx("path",{d:"M5 20h14v1H5z"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Lng lu tr SHFE"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/bao-cao-san-thuong-hai-tuong-lai",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"bao-cao-san-thuong-hai-tuong-lai",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Bo co SHFE"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/luong-truy-cap",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Lng truy cp",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 3h2v18H3V3zm7 6h2v12h-2V9zm7-4h2v16h-2V5z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Lng truy cp"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/lbma-reserves",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"LBMA Reserves",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 4.02 2 6.5S6.48 11 12 11s10-2.02 10-4.5S17.52 2 12 2zm0 9c-5.52 0-10 2.02-10 4.5S6.48 20 12 20s10-2.02 10-4.5S17.52 11 12 11z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"LBMA Reserves"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/loi-nhuan-tuan",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Li nhun tun",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Bo co tc  tng trng ca nh vng"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/volumexagxau",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Xem tt c biu ",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Volume XAG / XAU"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/futures-chain",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Futures Chain",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 3h18v2H3V3zm2 4h3v10H5V7zm5 4h3v6h-3v-6zm5-6h3v12h-3V5z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Futures Gold & Silver"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/xau-xag-chart",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Biu  XAU/XAG",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Biu  XAU/XAG Kt Hp"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/zsl",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"ZSL",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"ZSL"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/dang-ky-tai-khoan",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"ng k ti khon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"ng k v"})]}),jsxRuntimeExports.jsxs(NavLink,{to:co(),className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Biu  t lnh gi vng bc theo timeline",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"}),jsxRuntimeExports.jsx("path",{d:"M7 14h2v3H7zm4-2h2v5h-2zm4-3h2v8h-2z",opacity:".3"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:" Timeline"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/trade-flow",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"SLV Trade History",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M3 13h6v8H3zM9 3h6v18H9zM15 9h6v12h-6z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"SLV Trade History"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/ig-sentiment",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"IG Sentiment",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"calendar-icon",children:[jsxRuntimeExports.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),jsxRuntimeExports.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"IG Sentiment"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/cftc_comexchart",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Bo co COT & Comex",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"calendar-icon",children:[jsxRuntimeExports.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),jsxRuntimeExports.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"CFTC & Comex"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/order-book",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Order Book",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Order Book"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/bai-viet/",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Bi vit mi nht",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14l4-4h12c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 9H7v-2h10v2zm0-3H7V7h10v2z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Bi vit"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/vangtheotuan",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"Vng theo tun",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14l4-4h12c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 9H7v-2h10v2zm0-3H7V7h10v2z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"Vng theo tun"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/so-sanh-quoc-gia",className:({isActive:no})=>`calendar-btn ${no?"active":""}`,title:"So snh quc gia",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:jsxRuntimeExports.jsx("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20zm7.93 9h-3.02a15.7 15.7 0 00-1.38-5.03A8.03 8.03 0 0119.93 11zM12 4c.98 1.42 1.72 3.2 2.09 5H9.91C10.28 7.2 11.02 5.42 12 4zM4.07 13h3.02c.32 1.86 1.06 3.64 2.09 5a8.03 8.03 0 01-5.11-5zM7.09 11H4.07a8.03 8.03 0 015.11-5A15.7 15.7 0 007.09 11zm4.91 9c-.98-1.42-1.72-3.2-2.09-5h4.18c-.37 1.8-1.11 3.58-2.09 5zm2.82-7H9.18a13.8 13.8 0 010-2h5.64a13.8 13.8 0 010 2zm.01 5a15.7 15.7 0 001.38-5.03h3.02a8.03 8.03 0 01-4.4 5.03z"})}),jsxRuntimeExports.jsx("span",{className:"calendar-text",children:"So snh quc gia"})]})]}),jsxRuntimeExports.jsxs("div",{className:"header-right-bottom",style:{display:"flex",flexDirection:"column",gap:"6px"},children:[jsxRuntimeExports.jsx(LiveNewsBell,{hasNew:!0,onClick:()=>oo(!0)}),jsxRuntimeExports.jsx(LiveNewsPanel,{open:uo,onClose:()=>oo(!1)}),jsxRuntimeExports.jsx(NotificationBell,{onNewsClick:Yr,newsInAPI:Hn}),jsxRuntimeExports.jsx(LatestPostTicker,{onNewsClick:Yr,newsInAPI:Hn})]})]})]}),er&&jsxRuntimeExports.jsx("div",{className:"news-modal-overlay",onClick:ro,children:jsxRuntimeExports.jsxs("div",{className:"news-modal-content",onClick:no=>no.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:"news-modal-close",onClick:ro,children:""}),jsxRuntimeExports.jsx("h2",{className:"news-modal-title",children:er.title}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px"},children:jsxRuntimeExports.jsx("button",{onClick:no=>Hr(no,er.content),disabled:cr,style:{cursor:"pointer",padding:"5px 12px",borderRadius:"15px",border:"1px solid #1877f2",fontSize:"12px",fontWeight:"bold",background:sr?"#1877f2":"#fff",color:sr?"#fff":"#1877f2"},children:cr?"...":sr?"Xem gc":"Dch ni dung"})}),jsxRuntimeExports.jsx("div",{className:"news-modal-body",dangerouslySetInnerHTML:{__html:sr?or:er.content}}),jsxRuntimeExports.jsx("div",{className:"news-modal-footer",children:jsxRuntimeExports.jsx("small",{children:er.created_at?new Date(er.created_at).toLocaleString("vi-VN"):""})})]})})]})]})},Footer=()=>jsxRuntimeExports.jsxs("footer",{className:"footer",children:[jsxRuntimeExports.jsxs("div",{className:"footer-content",children:[jsxRuntimeExports.jsxs("div",{className:"footer-section",children:[jsxRuntimeExports.jsx("h3",{children:"AI ANALYSIS"}),jsxRuntimeExports.jsx("p",{className:"company-tagline",children:"S dng AI  phn tch bin ng gi vng"})]}),jsxRuntimeExports.jsx("div",{className:"footer-section",children:jsxRuntimeExports.jsx("h4",{children:"Lin h"})}),jsxRuntimeExports.jsxs("div",{className:"footer-section",children:[jsxRuntimeExports.jsx("h4",{children:" Tuyn b min tr trch nhim"}),jsxRuntimeExports.jsx("p",{className:"disclaimer",children:"Thng tin gi vng c hin th trn trang web ny ch mang tnh cht tham kho. Vui lng lin h trc tip vi cc nh cung cp  c thng tin chnh xc v cp nht nht."})]})]}),jsxRuntimeExports.jsx("div",{className:"footer-bottom",children:jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," All rights reserved."]})})]});var src={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=tr;function tr(Hn,er){for(var nr=new Array(arguments.length-1),ir=0,rr=2,sr=!0;rr<arguments.length;)nr[ir++]=arguments[rr++];return new Promise(function(or,lr){nr[ir]=function(ur){if(sr)if(sr=!1,ur)lr(ur);else{for(var dr=new Array(arguments.length-1),fr=0;fr<dr.length;)dr[fr++]=arguments[fr];or.apply(null,dr)}};try{Hn.apply(er||null,nr)}catch(cr){sr&&(sr=!1,lr(cr))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(tr){var Hn=tr;Hn.length=function(ar){var or=ar.length;if(!or)return 0;for(var lr=0;--or%4>1&&ar.charAt(or)==="=";)++lr;return Math.ceil(ar.length*3)/4-lr};for(var er=new Array(64),nr=new Array(123),ir=0;ir<64;)nr[er[ir]=ir<26?ir+65:ir<52?ir+71:ir<62?ir-4:ir-59|43]=ir++;Hn.encode=function(ar,or,lr){for(var cr=null,ur=[],dr=0,fr=0,gr;or<lr;){var yr=ar[or++];switch(fr){case 0:ur[dr++]=er[yr>>2],gr=(yr&3)<<4,fr=1;break;case 1:ur[dr++]=er[gr|yr>>4],gr=(yr&15)<<2,fr=2;break;case 2:ur[dr++]=er[gr|yr>>6],ur[dr++]=er[yr&63],fr=0;break}dr>8191&&((cr||(cr=[])).push(String.fromCharCode.apply(String,ur)),dr=0)}return fr&&(ur[dr++]=er[gr],ur[dr++]=61,fr===1&&(ur[dr++]=61)),cr?(dr&&cr.push(String.fromCharCode.apply(String,ur.slice(0,dr))),cr.join("")):String.fromCharCode.apply(String,ur.slice(0,dr))};var rr="invalid encoding";Hn.decode=function(ar,or,lr){for(var cr=lr,ur=0,dr,fr=0;fr<ar.length;){var gr=ar.charCodeAt(fr++);if(gr===61&&ur>1)break;if((gr=nr[gr])===void 0)throw Error(rr);switch(ur){case 0:dr=gr,ur=1;break;case 1:or[lr++]=dr<<2|(gr&48)>>4,dr=gr,ur=2;break;case 2:or[lr++]=(dr&15)<<4|(gr&60)>>2,dr=gr,ur=3;break;case 3:or[lr++]=(dr&3)<<6|gr,ur=0;break}}if(ur===1)throw Error(rr);return lr-cr},Hn.test=function(ar){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ar)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=tr;function tr(){this._listeners={}}return tr.prototype.on=function(er,nr,ir){return(this._listeners[er]||(this._listeners[er]=[])).push({fn:nr,ctx:ir||this}),this},tr.prototype.off=function(er,nr){if(er===void 0)this._listeners={};else if(nr===void 0)this._listeners[er]=[];else for(var ir=this._listeners[er],rr=0;rr<ir.length;)ir[rr].fn===nr?ir.splice(rr,1):++rr;return this},tr.prototype.emit=function(er){var nr=this._listeners[er];if(nr){for(var ir=[],rr=1;rr<arguments.length;)ir.push(arguments[rr++]);for(rr=0;rr<nr.length;)nr[rr].fn.apply(nr[rr++].ctx,ir)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=tr(tr);function tr(rr){return typeof Float32Array<"u"?(function(){var sr=new Float32Array([-0]),ar=new Uint8Array(sr.buffer),or=ar[3]===128;function lr(fr,gr,yr){sr[0]=fr,gr[yr]=ar[0],gr[yr+1]=ar[1],gr[yr+2]=ar[2],gr[yr+3]=ar[3]}function cr(fr,gr,yr){sr[0]=fr,gr[yr]=ar[3],gr[yr+1]=ar[2],gr[yr+2]=ar[1],gr[yr+3]=ar[0]}rr.writeFloatLE=or?lr:cr,rr.writeFloatBE=or?cr:lr;function ur(fr,gr){return ar[0]=fr[gr],ar[1]=fr[gr+1],ar[2]=fr[gr+2],ar[3]=fr[gr+3],sr[0]}function dr(fr,gr){return ar[3]=fr[gr],ar[2]=fr[gr+1],ar[1]=fr[gr+2],ar[0]=fr[gr+3],sr[0]}rr.readFloatLE=or?ur:dr,rr.readFloatBE=or?dr:ur})():(function(){function sr(or,lr,cr,ur){var dr=lr<0?1:0;if(dr&&(lr=-lr),lr===0)or(1/lr>0?0:2147483648,cr,ur);else if(isNaN(lr))or(2143289344,cr,ur);else if(lr>34028234663852886e22)or((dr<<31|2139095040)>>>0,cr,ur);else if(lr<11754943508222875e-54)or((dr<<31|Math.round(lr/1401298464324817e-60))>>>0,cr,ur);else{var fr=Math.floor(Math.log(lr)/Math.LN2),gr=Math.round(lr*Math.pow(2,-fr)*8388608)&8388607;or((dr<<31|fr+127<<23|gr)>>>0,cr,ur)}}rr.writeFloatLE=sr.bind(null,Hn),rr.writeFloatBE=sr.bind(null,er);function ar(or,lr,cr){var ur=or(lr,cr),dr=(ur>>31)*2+1,fr=ur>>>23&255,gr=ur&8388607;return fr===255?gr?NaN:dr*(1/0):fr===0?dr*1401298464324817e-60*gr:dr*Math.pow(2,fr-150)*(gr+8388608)}rr.readFloatLE=ar.bind(null,nr),rr.readFloatBE=ar.bind(null,ir)})(),typeof Float64Array<"u"?(function(){var sr=new Float64Array([-0]),ar=new Uint8Array(sr.buffer),or=ar[7]===128;function lr(fr,gr,yr){sr[0]=fr,gr[yr]=ar[0],gr[yr+1]=ar[1],gr[yr+2]=ar[2],gr[yr+3]=ar[3],gr[yr+4]=ar[4],gr[yr+5]=ar[5],gr[yr+6]=ar[6],gr[yr+7]=ar[7]}function cr(fr,gr,yr){sr[0]=fr,gr[yr]=ar[7],gr[yr+1]=ar[6],gr[yr+2]=ar[5],gr[yr+3]=ar[4],gr[yr+4]=ar[3],gr[yr+5]=ar[2],gr[yr+6]=ar[1],gr[yr+7]=ar[0]}rr.writeDoubleLE=or?lr:cr,rr.writeDoubleBE=or?cr:lr;function ur(fr,gr){return ar[0]=fr[gr],ar[1]=fr[gr+1],ar[2]=fr[gr+2],ar[3]=fr[gr+3],ar[4]=fr[gr+4],ar[5]=fr[gr+5],ar[6]=fr[gr+6],ar[7]=fr[gr+7],sr[0]}function dr(fr,gr){return ar[7]=fr[gr],ar[6]=fr[gr+1],ar[5]=fr[gr+2],ar[4]=fr[gr+3],ar[3]=fr[gr+4],ar[2]=fr[gr+5],ar[1]=fr[gr+6],ar[0]=fr[gr+7],sr[0]}rr.readDoubleLE=or?ur:dr,rr.readDoubleBE=or?dr:ur})():(function(){function sr(or,lr,cr,ur,dr,fr){var gr=ur<0?1:0;if(gr&&(ur=-ur),ur===0)or(0,dr,fr+lr),or(1/ur>0?0:2147483648,dr,fr+cr);else if(isNaN(ur))or(0,dr,fr+lr),or(2146959360,dr,fr+cr);else if(ur>17976931348623157e292)or(0,dr,fr+lr),or((gr<<31|2146435072)>>>0,dr,fr+cr);else{var yr;if(ur<22250738585072014e-324)yr=ur/5e-324,or(yr>>>0,dr,fr+lr),or((gr<<31|yr/4294967296)>>>0,dr,fr+cr);else{var vr=Math.floor(Math.log(ur)/Math.LN2);vr===1024&&(vr=1023),yr=ur*Math.pow(2,-vr),or(yr*4503599627370496>>>0,dr,fr+lr),or((gr<<31|vr+1023<<20|yr*1048576&1048575)>>>0,dr,fr+cr)}}}rr.writeDoubleLE=sr.bind(null,Hn,0,4),rr.writeDoubleBE=sr.bind(null,er,4,0);function ar(or,lr,cr,ur,dr){var fr=or(ur,dr+lr),gr=or(ur,dr+cr),yr=(gr>>31)*2+1,vr=gr>>>20&2047,jr=4294967296*(gr&1048575)+fr;return vr===2047?jr?NaN:yr*(1/0):vr===0?yr*5e-324*jr:yr*Math.pow(2,vr-1075)*(jr+4503599627370496)}rr.readDoubleLE=ar.bind(null,nr,0,4),rr.readDoubleBE=ar.bind(null,ir,4,0)})(),rr}function Hn(rr,sr,ar){sr[ar]=rr&255,sr[ar+1]=rr>>>8&255,sr[ar+2]=rr>>>16&255,sr[ar+3]=rr>>>24}function er(rr,sr,ar){sr[ar]=rr>>>24,sr[ar+1]=rr>>>16&255,sr[ar+2]=rr>>>8&255,sr[ar+3]=rr&255}function nr(rr,sr){return(rr[sr]|rr[sr+1]<<8|rr[sr+2]<<16|rr[sr+3]<<24)>>>0}function ir(rr,sr){return(rr[sr]<<24|rr[sr+1]<<16|rr[sr+2]<<8|rr[sr+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(tr){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(tr){var Hn=tr;Hn.length=function(nr){for(var ir=0,rr=0,sr=0;sr<nr.length;++sr)rr=nr.charCodeAt(sr),rr<128?ir+=1:rr<2048?ir+=2:(rr&64512)===55296&&(nr.charCodeAt(sr+1)&64512)===56320?(++sr,ir+=4):ir+=3;return ir},Hn.read=function(nr,ir,rr){var sr=rr-ir;if(sr<1)return"";for(var ar=null,or=[],lr=0,cr;ir<rr;)cr=nr[ir++],cr<128?or[lr++]=cr:cr>191&&cr<224?or[lr++]=(cr&31)<<6|nr[ir++]&63:cr>239&&cr<365?(cr=((cr&7)<<18|(nr[ir++]&63)<<12|(nr[ir++]&63)<<6|nr[ir++]&63)-65536,or[lr++]=55296+(cr>>10),or[lr++]=56320+(cr&1023)):or[lr++]=(cr&15)<<12|(nr[ir++]&63)<<6|nr[ir++]&63,lr>8191&&((ar||(ar=[])).push(String.fromCharCode.apply(String,or)),lr=0);return ar?(lr&&ar.push(String.fromCharCode.apply(String,or.slice(0,lr))),ar.join("")):String.fromCharCode.apply(String,or.slice(0,lr))},Hn.write=function(nr,ir,rr){for(var sr=rr,ar,or,lr=0;lr<nr.length;++lr)ar=nr.charCodeAt(lr),ar<128?ir[rr++]=ar:ar<2048?(ir[rr++]=ar>>6|192,ir[rr++]=ar&63|128):(ar&64512)===55296&&((or=nr.charCodeAt(lr+1))&64512)===56320?(ar=65536+((ar&1023)<<10)+(or&1023),++lr,ir[rr++]=ar>>18|240,ir[rr++]=ar>>12&63|128,ir[rr++]=ar>>6&63|128,ir[rr++]=ar&63|128):(ir[rr++]=ar>>12|224,ir[rr++]=ar>>6&63|128,ir[rr++]=ar&63|128);return rr-sr}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=tr;function tr(Hn,er,nr){var ir=nr||8192,rr=ir>>>1,sr=null,ar=ir;return function(lr){if(lr<1||lr>rr)return Hn(lr);ar+lr>ir&&(sr=Hn(ir),ar=0);var cr=er.call(sr,ar,ar+=lr);return ar&7&&(ar=(ar|7)+1),cr}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=Hn;var tr=requireMinimal();function Hn(rr,sr){this.lo=rr>>>0,this.hi=sr>>>0}var er=Hn.zero=new Hn(0,0);er.toNumber=function(){return 0},er.zzEncode=er.zzDecode=function(){return this},er.length=function(){return 1};var nr=Hn.zeroHash="\0\0\0\0\0\0\0\0";Hn.fromNumber=function(sr){if(sr===0)return er;var ar=sr<0;ar&&(sr=-sr);var or=sr>>>0,lr=(sr-or)/4294967296>>>0;return ar&&(lr=~lr>>>0,or=~or>>>0,++or>4294967295&&(or=0,++lr>4294967295&&(lr=0))),new Hn(or,lr)},Hn.from=function(sr){if(typeof sr=="number")return Hn.fromNumber(sr);if(tr.isString(sr))if(tr.Long)sr=tr.Long.fromString(sr);else return Hn.fromNumber(parseInt(sr,10));return sr.low||sr.high?new Hn(sr.low>>>0,sr.high>>>0):er},Hn.prototype.toNumber=function(sr){if(!sr&&this.hi>>>31){var ar=~this.lo+1>>>0,or=~this.hi>>>0;return ar||(or=or+1>>>0),-(ar+or*4294967296)}return this.lo+this.hi*4294967296},Hn.prototype.toLong=function(sr){return tr.Long?new tr.Long(this.lo|0,this.hi|0,!!sr):{low:this.lo|0,high:this.hi|0,unsigned:!!sr}};var ir=String.prototype.charCodeAt;return Hn.fromHash=function(sr){return sr===nr?er:new Hn((ir.call(sr,0)|ir.call(sr,1)<<8|ir.call(sr,2)<<16|ir.call(sr,3)<<24)>>>0,(ir.call(sr,4)|ir.call(sr,5)<<8|ir.call(sr,6)<<16|ir.call(sr,7)<<24)>>>0)},Hn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Hn.prototype.zzEncode=function(){var sr=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^sr)>>>0,this.lo=(this.lo<<1^sr)>>>0,this},Hn.prototype.zzDecode=function(){var sr=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^sr)>>>0,this.hi=(this.hi>>>1^sr)>>>0,this},Hn.prototype.length=function(){var sr=this.lo,ar=(this.lo>>>28|this.hi<<4)>>>0,or=this.hi>>>24;return or===0?ar===0?sr<16384?sr<128?1:2:sr<2097152?3:4:ar<16384?ar<128?5:6:ar<2097152?7:8:or<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,(function(tr){var Hn=tr;Hn.asPromise=requireAspromise(),Hn.base64=requireBase64(),Hn.EventEmitter=requireEventemitter(),Hn.float=requireFloat(),Hn.inquire=requireInquire(),Hn.utf8=requireUtf8(),Hn.pool=requirePool(),Hn.LongBits=requireLongbits(),Hn.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),Hn.global=Hn.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal,Hn.emptyArray=Object.freeze?Object.freeze([]):[],Hn.emptyObject=Object.freeze?Object.freeze({}):{},Hn.isInteger=Number.isInteger||function(rr){return typeof rr=="number"&&isFinite(rr)&&Math.floor(rr)===rr},Hn.isString=function(rr){return typeof rr=="string"||rr instanceof String},Hn.isObject=function(rr){return rr&&typeof rr=="object"},Hn.isset=Hn.isSet=function(rr,sr){var ar=rr[sr];return ar!=null&&rr.hasOwnProperty(sr)?typeof ar!="object"||(Array.isArray(ar)?ar.length:Object.keys(ar).length)>0:!1},Hn.Buffer=(function(){try{var ir=Hn.inquire("buffer").Buffer;return ir.prototype.utf8Write?ir:null}catch{return null}})(),Hn._Buffer_from=null,Hn._Buffer_allocUnsafe=null,Hn.newBuffer=function(rr){return typeof rr=="number"?Hn.Buffer?Hn._Buffer_allocUnsafe(rr):new Hn.Array(rr):Hn.Buffer?Hn._Buffer_from(rr):typeof Uint8Array>"u"?rr:new Uint8Array(rr)},Hn.Array=typeof Uint8Array<"u"?Uint8Array:Array,Hn.Long=Hn.global.dcodeIO&&Hn.global.dcodeIO.Long||Hn.global.Long||Hn.inquire("long"),Hn.key2Re=/^true|false|0|1$/,Hn.key32Re=/^-?(?:0|[1-9][0-9]*)$/,Hn.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,Hn.longToHash=function(rr){return rr?Hn.LongBits.from(rr).toHash():Hn.LongBits.zeroHash},Hn.longFromHash=function(rr,sr){var ar=Hn.LongBits.fromHash(rr);return Hn.Long?Hn.Long.fromBits(ar.lo,ar.hi,sr):ar.toNumber(!!sr)};function er(ir,rr,sr){for(var ar=Object.keys(rr),or=0;or<ar.length;++or)(ir[ar[or]]===void 0||!sr)&&(ir[ar[or]]=rr[ar[or]]);return ir}Hn.merge=er,Hn.lcFirst=function(rr){return rr.charAt(0).toLowerCase()+rr.substring(1)};function nr(ir){function rr(sr,ar){if(!(this instanceof rr))return new rr(sr,ar);Object.defineProperty(this,"message",{get:function(){return sr}}),Error.captureStackTrace?Error.captureStackTrace(this,rr):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ar&&er(this,ar)}return rr.prototype=Object.create(Error.prototype,{constructor:{value:rr,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return ir},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),rr}Hn.newError=nr,Hn.ProtocolError=nr("ProtocolError"),Hn.oneOfGetter=function(rr){for(var sr={},ar=0;ar<rr.length;++ar)sr[rr[ar]]=1;return function(){for(var or=Object.keys(this),lr=or.length-1;lr>-1;--lr)if(sr[or[lr]]===1&&this[or[lr]]!==void 0&&this[or[lr]]!==null)return or[lr]}},Hn.oneOfSetter=function(rr){return function(sr){for(var ar=0;ar<rr.length;++ar)rr[ar]!==sr&&delete this[rr[ar]]}},Hn.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},Hn._configure=function(){var ir=Hn.Buffer;if(!ir){Hn._Buffer_from=Hn._Buffer_allocUnsafe=null;return}Hn._Buffer_from=ir.from!==Uint8Array.from&&ir.from||function(sr,ar){return new ir(sr,ar)},Hn._Buffer_allocUnsafe=ir.allocUnsafe||function(sr){return new ir(sr)}}})(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=or;var tr=requireMinimal(),Hn,er=tr.LongBits,nr=tr.base64,ir=tr.utf8;function rr(vr,jr,Sr){this.fn=vr,this.len=jr,this.next=void 0,this.val=Sr}function sr(){}function ar(vr){this.head=vr.head,this.tail=vr.tail,this.len=vr.len,this.next=vr.states}function or(){this.len=0,this.head=new rr(sr,0,0),this.tail=this.head,this.states=null}var lr=function(){return tr.Buffer?function(){return(or.create=function(){return new Hn})()}:function(){return new or}};or.create=lr(),or.alloc=function(jr){return new tr.Array(jr)},tr.Array!==Array&&(or.alloc=tr.pool(or.alloc,tr.Array.prototype.subarray)),or.prototype._push=function(jr,Sr,Tr){return this.tail=this.tail.next=new rr(jr,Sr,Tr),this.len+=Sr,this};function cr(vr,jr,Sr){jr[Sr]=vr&255}function ur(vr,jr,Sr){for(;vr>127;)jr[Sr++]=vr&127|128,vr>>>=7;jr[Sr]=vr}function dr(vr,jr){this.len=vr,this.next=void 0,this.val=jr}dr.prototype=Object.create(rr.prototype),dr.prototype.fn=ur,or.prototype.uint32=function(jr){return this.len+=(this.tail=this.tail.next=new dr((jr=jr>>>0)<128?1:jr<16384?2:jr<2097152?3:jr<268435456?4:5,jr)).len,this},or.prototype.int32=function(jr){return jr<0?this._push(fr,10,er.fromNumber(jr)):this.uint32(jr)},or.prototype.sint32=function(jr){return this.uint32((jr<<1^jr>>31)>>>0)};function fr(vr,jr,Sr){for(;vr.hi;)jr[Sr++]=vr.lo&127|128,vr.lo=(vr.lo>>>7|vr.hi<<25)>>>0,vr.hi>>>=7;for(;vr.lo>127;)jr[Sr++]=vr.lo&127|128,vr.lo=vr.lo>>>7;jr[Sr++]=vr.lo}or.prototype.uint64=function(jr){var Sr=er.from(jr);return this._push(fr,Sr.length(),Sr)},or.prototype.int64=or.prototype.uint64,or.prototype.sint64=function(jr){var Sr=er.from(jr).zzEncode();return this._push(fr,Sr.length(),Sr)},or.prototype.bool=function(jr){return this._push(cr,1,jr?1:0)};function gr(vr,jr,Sr){jr[Sr]=vr&255,jr[Sr+1]=vr>>>8&255,jr[Sr+2]=vr>>>16&255,jr[Sr+3]=vr>>>24}or.prototype.fixed32=function(jr){return this._push(gr,4,jr>>>0)},or.prototype.sfixed32=or.prototype.fixed32,or.prototype.fixed64=function(jr){var Sr=er.from(jr);return this._push(gr,4,Sr.lo)._push(gr,4,Sr.hi)},or.prototype.sfixed64=or.prototype.fixed64,or.prototype.float=function(jr){return this._push(tr.float.writeFloatLE,4,jr)},or.prototype.double=function(jr){return this._push(tr.float.writeDoubleLE,8,jr)};var yr=tr.Array.prototype.set?function(jr,Sr,Tr){Sr.set(jr,Tr)}:function(jr,Sr,Tr){for(var Lr=0;Lr<jr.length;++Lr)Sr[Tr+Lr]=jr[Lr]};return or.prototype.bytes=function(jr){var Sr=jr.length>>>0;if(!Sr)return this._push(cr,1,0);if(tr.isString(jr)){var Tr=or.alloc(Sr=nr.length(jr));nr.decode(jr,Tr,0),jr=Tr}return this.uint32(Sr)._push(yr,Sr,jr)},or.prototype.string=function(jr){var Sr=ir.length(jr);return Sr?this.uint32(Sr)._push(ir.write,Sr,jr):this._push(cr,1,0)},or.prototype.fork=function(){return this.states=new ar(this),this.head=this.tail=new rr(sr,0,0),this.len=0,this},or.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new rr(sr,0,0),this.len=0),this},or.prototype.ldelim=function(){var jr=this.head,Sr=this.tail,Tr=this.len;return this.reset().uint32(Tr),Tr&&(this.tail.next=jr.next,this.tail=Sr,this.len+=Tr),this},or.prototype.finish=function(){for(var jr=this.head.next,Sr=this.constructor.alloc(this.len),Tr=0;jr;)jr.fn(jr.val,Sr,Tr),Tr+=jr.len,jr=jr.next;return Sr},or._configure=function(vr){Hn=vr,or.create=lr(),Hn._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=er;var tr=requireWriter();(er.prototype=Object.create(tr.prototype)).constructor=er;var Hn=requireMinimal();function er(){tr.call(this)}er._configure=function(){er.alloc=Hn._Buffer_allocUnsafe,er.writeBytesBuffer=Hn.Buffer&&Hn.Buffer.prototype instanceof Uint8Array&&Hn.Buffer.prototype.set.name==="set"?function(rr,sr,ar){sr.set(rr,ar)}:function(rr,sr,ar){if(rr.copy)rr.copy(sr,ar,0,rr.length);else for(var or=0;or<rr.length;)sr[ar++]=rr[or++]}},er.prototype.bytes=function(rr){Hn.isString(rr)&&(rr=Hn._Buffer_from(rr,"base64"));var sr=rr.length>>>0;return this.uint32(sr),sr&&this._push(er.writeBytesBuffer,sr,rr),this};function nr(ir,rr,sr){ir.length<40?Hn.utf8.write(ir,rr,sr):rr.utf8Write?rr.utf8Write(ir,sr):rr.write(ir,sr)}return er.prototype.string=function(rr){var sr=Hn.Buffer.byteLength(rr);return this.uint32(sr),sr&&this._push(nr,sr,rr),this},er._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=rr;var tr=requireMinimal(),Hn,er=tr.LongBits,nr=tr.utf8;function ir(ur,dr){return RangeError("index out of range: "+ur.pos+" + "+(dr||1)+" > "+ur.len)}function rr(ur){this.buf=ur,this.pos=0,this.len=ur.length}var sr=typeof Uint8Array<"u"?function(dr){if(dr instanceof Uint8Array||Array.isArray(dr))return new rr(dr);throw Error("illegal buffer")}:function(dr){if(Array.isArray(dr))return new rr(dr);throw Error("illegal buffer")},ar=function(){return tr.Buffer?function(fr){return(rr.create=function(yr){return tr.Buffer.isBuffer(yr)?new Hn(yr):sr(yr)})(fr)}:sr};rr.create=ar(),rr.prototype._slice=tr.Array.prototype.subarray||tr.Array.prototype.slice,rr.prototype.uint32=(function(){var dr=4294967295;return function(){if(dr=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(dr=(dr|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(dr=(dr|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(dr=(dr|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(dr=(dr|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return dr;if((this.pos+=5)>this.len)throw this.pos=this.len,ir(this,10);return dr}})(),rr.prototype.int32=function(){return this.uint32()|0},rr.prototype.sint32=function(){var dr=this.uint32();return dr>>>1^-(dr&1)|0};function or(){var ur=new er(0,0),dr=0;if(this.len-this.pos>4){for(;dr<4;++dr)if(ur.lo=(ur.lo|(this.buf[this.pos]&127)<<dr*7)>>>0,this.buf[this.pos++]<128)return ur;if(ur.lo=(ur.lo|(this.buf[this.pos]&127)<<28)>>>0,ur.hi=(ur.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return ur;dr=0}else{for(;dr<3;++dr){if(this.pos>=this.len)throw ir(this);if(ur.lo=(ur.lo|(this.buf[this.pos]&127)<<dr*7)>>>0,this.buf[this.pos++]<128)return ur}return ur.lo=(ur.lo|(this.buf[this.pos++]&127)<<dr*7)>>>0,ur}if(this.len-this.pos>4){for(;dr<5;++dr)if(ur.hi=(ur.hi|(this.buf[this.pos]&127)<<dr*7+3)>>>0,this.buf[this.pos++]<128)return ur}else for(;dr<5;++dr){if(this.pos>=this.len)throw ir(this);if(ur.hi=(ur.hi|(this.buf[this.pos]&127)<<dr*7+3)>>>0,this.buf[this.pos++]<128)return ur}throw Error("invalid varint encoding")}rr.prototype.bool=function(){return this.uint32()!==0};function lr(ur,dr){return(ur[dr-4]|ur[dr-3]<<8|ur[dr-2]<<16|ur[dr-1]<<24)>>>0}rr.prototype.fixed32=function(){if(this.pos+4>this.len)throw ir(this,4);return lr(this.buf,this.pos+=4)},rr.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ir(this,4);return lr(this.buf,this.pos+=4)|0};function cr(){if(this.pos+8>this.len)throw ir(this,8);return new er(lr(this.buf,this.pos+=4),lr(this.buf,this.pos+=4))}return rr.prototype.float=function(){if(this.pos+4>this.len)throw ir(this,4);var dr=tr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,dr},rr.prototype.double=function(){if(this.pos+8>this.len)throw ir(this,4);var dr=tr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,dr},rr.prototype.bytes=function(){var dr=this.uint32(),fr=this.pos,gr=this.pos+dr;if(gr>this.len)throw ir(this,dr);if(this.pos+=dr,Array.isArray(this.buf))return this.buf.slice(fr,gr);if(fr===gr){var yr=tr.Buffer;return yr?yr.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,fr,gr)},rr.prototype.string=function(){var dr=this.bytes();return nr.read(dr,0,dr.length)},rr.prototype.skip=function(dr){if(typeof dr=="number"){if(this.pos+dr>this.len)throw ir(this,dr);this.pos+=dr}else do if(this.pos>=this.len)throw ir(this);while(this.buf[this.pos++]&128);return this},rr.prototype.skipType=function(ur){switch(ur){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ur=this.uint32()&7)!==4;)this.skipType(ur);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ur+" at offset "+this.pos)}return this},rr._configure=function(ur){Hn=ur,rr.create=ar(),Hn._configure();var dr=tr.Long?"toLong":"toNumber";tr.merge(rr.prototype,{int64:function(){return or.call(this)[dr](!1)},uint64:function(){return or.call(this)[dr](!0)},sint64:function(){return or.call(this).zzDecode()[dr](!1)},fixed64:function(){return cr.call(this)[dr](!0)},sfixed64:function(){return cr.call(this)[dr](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=er;var tr=requireReader();(er.prototype=Object.create(tr.prototype)).constructor=er;var Hn=requireMinimal();function er(nr){tr.call(this,nr)}return er._configure=function(){Hn.Buffer&&(er.prototype._slice=Hn.Buffer.prototype.slice)},er.prototype.string=function(){var ir=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+ir,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+ir,this.len))},er._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=Hn;var tr=requireMinimal();(Hn.prototype=Object.create(tr.EventEmitter.prototype)).constructor=Hn;function Hn(er,nr,ir){if(typeof er!="function")throw TypeError("rpcImpl must be a function");tr.EventEmitter.call(this),this.rpcImpl=er,this.requestDelimited=!!nr,this.responseDelimited=!!ir}return Hn.prototype.rpcCall=function er(nr,ir,rr,sr,ar){if(!sr)throw TypeError("request must be specified");var or=this;if(!ar)return tr.asPromise(er,or,nr,ir,rr,sr);if(!or.rpcImpl){setTimeout(function(){ar(Error("already ended"))},0);return}try{return or.rpcImpl(nr,ir[or.requestDelimited?"encodeDelimited":"encode"](sr).finish(),function(cr,ur){if(cr)return or.emit("error",cr,nr),ar(cr);if(ur===null){or.end(!0);return}if(!(ur instanceof rr))try{ur=rr[or.responseDelimited?"decodeDelimited":"decode"](ur)}catch(dr){return or.emit("error",dr,nr),ar(dr)}return or.emit("data",ur,nr),ar(null,ur)})}catch(lr){or.emit("error",lr,nr),setTimeout(function(){ar(lr)},0);return}},Hn.prototype.end=function(nr){return this.rpcImpl&&(nr||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(tr){var Hn=tr;Hn.Service=requireService$1()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(tr){var Hn=tr;Hn.build="minimal",Hn.Writer=requireWriter(),Hn.BufferWriter=requireWriter_buffer(),Hn.Reader=requireReader(),Hn.BufferReader=requireReader_buffer(),Hn.util=requireMinimal(),Hn.rpc=requireRpc(),Hn.roots=requireRoots(),Hn.configure=er;function er(){Hn.util._configure(),Hn.Writer._configure(Hn.BufferWriter),Hn.Reader._configure(Hn.BufferReader)}er()})(indexMinimal)),indexMinimal}var types={},util={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=tr;function tr(Hn,er){typeof Hn=="string"&&(er=Hn,Hn=void 0);var nr=[];function ir(sr){if(typeof sr!="string"){var ar=rr();if(tr.verbose&&console.log("codegen: "+ar),ar="return "+ar,sr){for(var or=Object.keys(sr),lr=new Array(or.length+1),cr=new Array(or.length),ur=0;ur<or.length;)lr[ur]=or[ur],cr[ur]=sr[or[ur++]];return lr[ur]=ar,Function.apply(null,lr).apply(null,cr)}return Function(ar)()}for(var dr=new Array(arguments.length-1),fr=0;fr<dr.length;)dr[fr]=arguments[++fr];if(fr=0,sr=sr.replace(/%([%dfijs])/g,function(yr,vr){var jr=dr[fr++];switch(vr){case"d":case"f":return String(Number(jr));case"i":return String(Math.floor(jr));case"j":return JSON.stringify(jr);case"s":return String(jr)}return"%"}),fr!==dr.length)throw Error("parameter count mismatch");return nr.push(sr),ir}function rr(sr){return"function "+(sr||er||"")+"("+(Hn&&Hn.join(",")||"")+`){
  `+nr.join(`
  `)+`
}`}return ir.toString=rr,ir}return tr.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=nr;var tr=requireAspromise(),Hn=requireInquire(),er=Hn("fs");function nr(ir,rr,sr){return typeof rr=="function"?(sr=rr,rr={}):rr||(rr={}),sr?!rr.xhr&&er&&er.readFile?er.readFile(ir,function(or,lr){return or&&typeof XMLHttpRequest<"u"?nr.xhr(ir,rr,sr):or?sr(or):sr(null,rr.binary?lr:lr.toString("utf8"))}):nr.xhr(ir,rr,sr):tr(nr,this,ir,rr)}return nr.xhr=function(rr,sr,ar){var or=new XMLHttpRequest;or.onreadystatechange=function(){if(or.readyState===4){if(or.status!==0&&or.status!==200)return ar(Error("status "+or.status));if(sr.binary){var cr=or.response;if(!cr){cr=[];for(var ur=0;ur<or.responseText.length;++ur)cr.push(or.responseText.charCodeAt(ur)&255)}return ar(null,typeof Uint8Array<"u"?new Uint8Array(cr):cr)}return ar(null,or.responseText)}},sr.binary&&("overrideMimeType"in or&&or.overrideMimeType("text/plain; charset=x-user-defined"),or.responseType="arraybuffer"),or.open("GET",rr),or.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,(function(tr){var Hn=tr,er=Hn.isAbsolute=function(rr){return/^(?:\/|\w+:)/.test(rr)},nr=Hn.normalize=function(rr){rr=rr.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var sr=rr.split("/"),ar=er(rr),or="";ar&&(or=sr.shift()+"/");for(var lr=0;lr<sr.length;)sr[lr]===".."?lr>0&&sr[lr-1]!==".."?sr.splice(--lr,2):ar?sr.splice(lr,1):++lr:sr[lr]==="."?sr.splice(lr,1):++lr;return or+sr.join("/")};Hn.resolve=function(rr,sr,ar){return ar||(sr=nr(sr)),er(sr)?sr:(ar||(rr=nr(rr)),(rr=rr.replace(/(?:\/|^)[^/]+$/,"")).length?nr(rr+"/"+sr):sr)}})(path)),path}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=or;var tr=requireObject();((or.prototype=Object.create(tr.prototype)).constructor=or).className="Namespace";var Hn=requireField(),er=requireUtil(),nr=requireOneof(),ir,rr,sr;or.fromJSON=function(ur,dr){return new or(ur,dr.options).addJSON(dr.nested)};function ar(cr,ur){if(cr&&cr.length){for(var dr={},fr=0;fr<cr.length;++fr)dr[cr[fr].name]=cr[fr].toJSON(ur);return dr}}or.arrayToJSON=ar,or.isReservedId=function(ur,dr){if(ur){for(var fr=0;fr<ur.length;++fr)if(typeof ur[fr]!="string"&&ur[fr][0]<=dr&&ur[fr][1]>dr)return!0}return!1},or.isReservedName=function(ur,dr){if(ur){for(var fr=0;fr<ur.length;++fr)if(ur[fr]===dr)return!0}return!1};function or(cr,ur){tr.call(this,cr,ur),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function lr(cr){cr._nestedArray=null,cr._lookupCache={};for(var ur=cr;ur=ur.parent;)ur._lookupCache={};return cr}return Object.defineProperty(or.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=er.toArray(this.nested))}}),or.prototype.toJSON=function(ur){return er.toObject(["options",this.options,"nested",ar(this.nestedArray,ur)])},or.prototype.addJSON=function(ur){var dr=this;if(ur)for(var fr=Object.keys(ur),gr=0,yr;gr<fr.length;++gr)yr=ur[fr[gr]],dr.add((yr.fields!==void 0?ir.fromJSON:yr.values!==void 0?sr.fromJSON:yr.methods!==void 0?rr.fromJSON:yr.id!==void 0?Hn.fromJSON:or.fromJSON)(fr[gr],yr));return this},or.prototype.get=function(ur){return this.nested&&this.nested[ur]||null},or.prototype.getEnum=function(ur){if(this.nested&&this.nested[ur]instanceof sr)return this.nested[ur].values;throw Error("no such enum: "+ur)},or.prototype.add=function(ur){if(!(ur instanceof Hn&&ur.extend!==void 0||ur instanceof ir||ur instanceof nr||ur instanceof sr||ur instanceof rr||ur instanceof or))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var dr=this.get(ur.name);if(dr)if(dr instanceof or&&ur instanceof or&&!(dr instanceof ir||dr instanceof rr)){for(var fr=dr.nestedArray,gr=0;gr<fr.length;++gr)ur.add(fr[gr]);this.remove(dr),this.nested||(this.nested={}),ur.setOptions(dr.options,!0)}else throw Error("duplicate name '"+ur.name+"' in "+this)}this.nested[ur.name]=ur,this instanceof ir||this instanceof rr||this instanceof sr||this instanceof Hn||ur._edition||(ur._edition=ur._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var yr=this;yr=yr.parent;)yr._needsRecursiveFeatureResolution=!0,yr._needsRecursiveResolve=!0;return ur.onAdd(this),lr(this)},or.prototype.remove=function(ur){if(!(ur instanceof tr))throw TypeError("object must be a ReflectionObject");if(ur.parent!==this)throw Error(ur+" is not a member of "+this);return delete this.nested[ur.name],Object.keys(this.nested).length||(this.nested=void 0),ur.onRemove(this),lr(this)},or.prototype.define=function(ur,dr){if(er.isString(ur))ur=ur.split(".");else if(!Array.isArray(ur))throw TypeError("illegal path");if(ur&&ur.length&&ur[0]==="")throw Error("path must be relative");for(var fr=this;ur.length>0;){var gr=ur.shift();if(fr.nested&&fr.nested[gr]){if(fr=fr.nested[gr],!(fr instanceof or))throw Error("path conflicts with non-namespace objects")}else fr.add(fr=new or(gr))}return dr&&fr.addJSON(dr),fr},or.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var ur=this.nestedArray,dr=0;for(this.resolve();dr<ur.length;)ur[dr]instanceof or?ur[dr++].resolveAll():ur[dr++].resolve();return this._needsRecursiveResolve=!1,this},or.prototype._resolveFeaturesRecursive=function(ur){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,ur=this._edition||ur,tr.prototype._resolveFeaturesRecursive.call(this,ur),this.nestedArray.forEach(dr=>{dr._resolveFeaturesRecursive(ur)}),this):this},or.prototype.lookup=function(ur,dr,fr){if(typeof dr=="boolean"?(fr=dr,dr=void 0):dr&&!Array.isArray(dr)&&(dr=[dr]),er.isString(ur)&&ur.length){if(ur===".")return this.root;ur=ur.split(".")}else if(!ur.length)return this;var gr=ur.join(".");if(ur[0]==="")return this.root.lookup(ur.slice(1),dr);var yr=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+gr];if(yr&&(!dr||dr.indexOf(yr.constructor)>-1)||(yr=this._lookupImpl(ur,gr),yr&&(!dr||dr.indexOf(yr.constructor)>-1)))return yr;if(fr)return null;for(var vr=this;vr.parent;){if(yr=vr.parent._lookupImpl(ur,gr),yr&&(!dr||dr.indexOf(yr.constructor)>-1))return yr;vr=vr.parent}return null},or.prototype._lookupImpl=function(ur,dr){if(Object.prototype.hasOwnProperty.call(this._lookupCache,dr))return this._lookupCache[dr];var fr=this.get(ur[0]),gr=null;if(fr)ur.length===1?gr=fr:fr instanceof or&&(ur=ur.slice(1),gr=fr._lookupImpl(ur,ur.join(".")));else for(var yr=0;yr<this.nestedArray.length;++yr)this._nestedArray[yr]instanceof or&&(fr=this._nestedArray[yr]._lookupImpl(ur,dr))&&(gr=fr);return this._lookupCache[dr]=gr,gr},or.prototype.lookupType=function(ur){var dr=this.lookup(ur,[ir]);if(!dr)throw Error("no such type: "+ur);return dr},or.prototype.lookupEnum=function(ur){var dr=this.lookup(ur,[sr]);if(!dr)throw Error("no such Enum '"+ur+"' in "+this);return dr},or.prototype.lookupTypeOrEnum=function(ur){var dr=this.lookup(ur,[ir,sr]);if(!dr)throw Error("no such Type or Enum '"+ur+"' in "+this);return dr},or.prototype.lookupService=function(ur){var dr=this.lookup(ur,[rr]);if(!dr)throw Error("no such Service '"+ur+"' in "+this);return dr},or._configure=function(cr,ur,dr){ir=cr,rr=ur,sr=dr},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=nr;var tr=requireField();((nr.prototype=Object.create(tr.prototype)).constructor=nr).className="MapField";var Hn=requireTypes(),er=requireUtil();function nr(ir,rr,sr,ar,or,lr){if(tr.call(this,ir,rr,ar,void 0,void 0,or,lr),!er.isString(sr))throw TypeError("keyType must be a string");this.keyType=sr,this.resolvedKeyType=null,this.map=!0}return nr.fromJSON=function(rr,sr){return new nr(rr,sr.id,sr.keyType,sr.type,sr.options,sr.comment)},nr.prototype.toJSON=function(rr){var sr=rr?!!rr.keepComments:!1;return er.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",sr?this.comment:void 0])},nr.prototype.resolve=function(){if(this.resolved)return this;if(Hn.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return tr.prototype.resolve.call(this)},nr.d=function(rr,sr,ar){return typeof ar=="function"?ar=er.decorateType(ar).name:ar&&typeof ar=="object"&&(ar=er.decorateEnum(ar).name),function(lr,cr){er.decorateType(lr.constructor).add(new nr(cr,rr,sr,ar))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=er;var tr=requireObject();((er.prototype=Object.create(tr.prototype)).constructor=er).className="Method";var Hn=requireUtil();function er(nr,ir,rr,sr,ar,or,lr,cr,ur){if(Hn.isObject(ar)?(lr=ar,ar=or=void 0):Hn.isObject(or)&&(lr=or,or=void 0),!(ir===void 0||Hn.isString(ir)))throw TypeError("type must be a string");if(!Hn.isString(rr))throw TypeError("requestType must be a string");if(!Hn.isString(sr))throw TypeError("responseType must be a string");tr.call(this,nr,lr),this.type=ir||"rpc",this.requestType=rr,this.requestStream=ar?!0:void 0,this.responseType=sr,this.responseStream=or?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=cr,this.parsedOptions=ur}return er.fromJSON=function(ir,rr){return new er(ir,rr.type,rr.requestType,rr.responseType,rr.requestStream,rr.responseStream,rr.options,rr.comment,rr.parsedOptions)},er.prototype.toJSON=function(ir){var rr=ir?!!ir.keepComments:!1;return Hn.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",rr?this.comment:void 0,"parsedOptions",this.parsedOptions])},er.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),tr.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=ir;var tr=requireNamespace();((ir.prototype=Object.create(tr.prototype)).constructor=ir).className="Service";var Hn=requireMethod(),er=requireUtil(),nr=requireRpc();function ir(sr,ar){tr.call(this,sr,ar),this.methods={},this._methodsArray=null}ir.fromJSON=function(ar,or){var lr=new ir(ar,or.options);if(or.methods)for(var cr=Object.keys(or.methods),ur=0;ur<cr.length;++ur)lr.add(Hn.fromJSON(cr[ur],or.methods[cr[ur]]));return or.nested&&lr.addJSON(or.nested),or.edition&&(lr._edition=or.edition),lr.comment=or.comment,lr._defaultEdition="proto3",lr},ir.prototype.toJSON=function(ar){var or=tr.prototype.toJSON.call(this,ar),lr=ar?!!ar.keepComments:!1;return er.toObject(["edition",this._editionToJSON(),"options",or&&or.options||void 0,"methods",tr.arrayToJSON(this.methodsArray,ar)||{},"nested",or&&or.nested||void 0,"comment",lr?this.comment:void 0])},Object.defineProperty(ir.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=er.toArray(this.methods))}});function rr(sr){return sr._methodsArray=null,sr}return ir.prototype.get=function(ar){return this.methods[ar]||tr.prototype.get.call(this,ar)},ir.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;tr.prototype.resolve.call(this);for(var ar=this.methodsArray,or=0;or<ar.length;++or)ar[or].resolve();return this},ir.prototype._resolveFeaturesRecursive=function(ar){return this._needsRecursiveFeatureResolution?(ar=this._edition||ar,tr.prototype._resolveFeaturesRecursive.call(this,ar),this.methodsArray.forEach(or=>{or._resolveFeaturesRecursive(ar)}),this):this},ir.prototype.add=function(ar){if(this.get(ar.name))throw Error("duplicate name '"+ar.name+"' in "+this);return ar instanceof Hn?(this.methods[ar.name]=ar,ar.parent=this,rr(this)):tr.prototype.add.call(this,ar)},ir.prototype.remove=function(ar){if(ar instanceof Hn){if(this.methods[ar.name]!==ar)throw Error(ar+" is not a member of "+this);return delete this.methods[ar.name],ar.parent=null,rr(this)}return tr.prototype.remove.call(this,ar)},ir.prototype.create=function(ar,or,lr){for(var cr=new nr.Service(ar,or,lr),ur=0,dr;ur<this.methodsArray.length;++ur){var fr=er.lcFirst((dr=this._methodsArray[ur]).resolve().name).replace(/[^$\w_]/g,"");cr[fr]=er.codegen(["r","c"],er.isReserved(fr)?fr+"_":fr)("return this.rpcCall(m,q,s,r,c)")({m:dr,q:dr.resolvedRequestType.ctor,s:dr.resolvedResponseType.ctor})}return cr},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=Hn;var tr=requireMinimal();function Hn(er){if(er)for(var nr=Object.keys(er),ir=0;ir<nr.length;++ir)this[nr[ir]]=er[nr[ir]]}return Hn.create=function(nr){return this.$type.create(nr)},Hn.encode=function(nr,ir){return this.$type.encode(nr,ir)},Hn.encodeDelimited=function(nr,ir){return this.$type.encodeDelimited(nr,ir)},Hn.decode=function(nr){return this.$type.decode(nr)},Hn.decodeDelimited=function(nr){return this.$type.decodeDelimited(nr)},Hn.verify=function(nr){return this.$type.verify(nr)},Hn.fromObject=function(nr){return this.$type.fromObject(nr)},Hn.toObject=function(nr,ir){return this.$type.toObject(nr,ir)},Hn.prototype.toJSON=function(){return this.$type.toObject(this,tr.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=ir;var tr=require_enum(),Hn=requireTypes(),er=requireUtil();function nr(rr){return"missing required '"+rr.name+"'"}function ir(rr){for(var sr=er.codegen(["r","l","e"],rr.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(rr.fieldsArray.filter(function(dr){return dr.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),ar=0;ar<rr.fieldsArray.length;++ar){var or=rr._fieldsArray[ar].resolve(),lr=or.resolvedType instanceof tr?"int32":or.type,cr="m"+er.safeProp(or.name);sr("case %i: {",or.id),or.map?(sr("if(%s===util.emptyObject)",cr)("%s={}",cr)("var c2 = r.uint32()+r.pos"),Hn.defaults[or.keyType]!==void 0?sr("k=%j",Hn.defaults[or.keyType]):sr("k=null"),Hn.defaults[lr]!==void 0?sr("value=%j",Hn.defaults[lr]):sr("value=null"),sr("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",or.keyType)("case 2:"),Hn.basic[lr]===void 0?sr("value=types[%i].decode(r,r.uint32())",ar):sr("value=r.%s()",lr),sr("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Hn.long[or.keyType]!==void 0?sr('%s[typeof k==="object"?util.longToHash(k):k]=value',cr):sr("%s[k]=value",cr)):or.repeated?(sr("if(!(%s&&%s.length))",cr,cr)("%s=[]",cr),Hn.packed[lr]!==void 0&&sr("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",cr,lr)("}else"),Hn.basic[lr]===void 0?sr(or.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",cr,ar):sr("%s.push(r.%s())",cr,lr)):Hn.basic[lr]===void 0?sr(or.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",cr,ar):sr("%s=r.%s()",cr,lr),sr("break")("}")}for(sr("default:")("r.skipType(t&7)")("break")("}")("}"),ar=0;ar<rr._fieldsArray.length;++ar){var ur=rr._fieldsArray[ar];ur.required&&sr("if(!m.hasOwnProperty(%j))",ur.name)("throw util.ProtocolError(%j,{instance:m})",nr(ur))}return sr("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=rr;var tr=require_enum(),Hn=requireUtil();function er(sr,ar){return sr.name+": "+ar+(sr.repeated&&ar!=="array"?"[]":sr.map&&ar!=="object"?"{k:"+sr.keyType+"}":"")+" expected"}function nr(sr,ar,or,lr){if(ar.resolvedType)if(ar.resolvedType instanceof tr){sr("switch(%s){",lr)("default:")("return%j",er(ar,"enum value"));for(var cr=Object.keys(ar.resolvedType.values),ur=0;ur<cr.length;++ur)sr("case %i:",ar.resolvedType.values[cr[ur]]);sr("break")("}")}else sr("{")("var e=types[%i].verify(%s);",or,lr)("if(e)")("return%j+e",ar.name+".")("}");else switch(ar.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":sr("if(!util.isInteger(%s))",lr)("return%j",er(ar,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":sr("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",lr,lr,lr,lr)("return%j",er(ar,"integer|Long"));break;case"float":case"double":sr('if(typeof %s!=="number")',lr)("return%j",er(ar,"number"));break;case"bool":sr('if(typeof %s!=="boolean")',lr)("return%j",er(ar,"boolean"));break;case"string":sr("if(!util.isString(%s))",lr)("return%j",er(ar,"string"));break;case"bytes":sr('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',lr,lr,lr)("return%j",er(ar,"buffer"));break}return sr}function ir(sr,ar,or){switch(ar.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":sr("if(!util.key32Re.test(%s))",or)("return%j",er(ar,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":sr("if(!util.key64Re.test(%s))",or)("return%j",er(ar,"integer|Long key"));break;case"bool":sr("if(!util.key2Re.test(%s))",or)("return%j",er(ar,"boolean key"));break}return sr}function rr(sr){var ar=Hn.codegen(["m"],sr.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),or=sr.oneofsArray,lr={};or.length&&ar("var p={}");for(var cr=0;cr<sr.fieldsArray.length;++cr){var ur=sr._fieldsArray[cr].resolve(),dr="m"+Hn.safeProp(ur.name);if(ur.optional&&ar("if(%s!=null&&m.hasOwnProperty(%j)){",dr,ur.name),ur.map)ar("if(!util.isObject(%s))",dr)("return%j",er(ur,"object"))("var k=Object.keys(%s)",dr)("for(var i=0;i<k.length;++i){"),ir(ar,ur,"k[i]"),nr(ar,ur,cr,dr+"[k[i]]")("}");else if(ur.repeated)ar("if(!Array.isArray(%s))",dr)("return%j",er(ur,"array"))("for(var i=0;i<%s.length;++i){",dr),nr(ar,ur,cr,dr+"[i]")("}");else{if(ur.partOf){var fr=Hn.safeProp(ur.partOf.name);lr[ur.partOf.name]===1&&ar("if(p%s===1)",fr)("return%j",ur.partOf.name+": multiple values"),lr[ur.partOf.name]=1,ar("p%s=1",fr)}nr(ar,ur,cr,dr)}ur.optional&&ar("}")}return ar("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,(function(tr){var Hn=tr,er=require_enum(),nr=requireUtil();function ir(sr,ar,or,lr){var cr=!1;if(ar.resolvedType)if(ar.resolvedType instanceof er){sr("switch(d%s){",lr);for(var ur=ar.resolvedType.values,dr=Object.keys(ur),fr=0;fr<dr.length;++fr)ur[dr[fr]]===ar.typeDefault&&!cr&&(sr("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',lr,lr,lr),ar.repeated||sr("break"),cr=!0),sr("case%j:",dr[fr])("case %i:",ur[dr[fr]])("m%s=%j",lr,ur[dr[fr]])("break");sr("}")}else sr('if(typeof d%s!=="object")',lr)("throw TypeError(%j)",ar.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",lr,or,lr);else{var gr=!1;switch(ar.type){case"double":case"float":sr("m%s=Number(d%s)",lr,lr);break;case"uint32":case"fixed32":sr("m%s=d%s>>>0",lr,lr);break;case"int32":case"sint32":case"sfixed32":sr("m%s=d%s|0",lr,lr);break;case"uint64":gr=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":sr("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",lr,lr,gr)('else if(typeof d%s==="string")',lr)("m%s=parseInt(d%s,10)",lr,lr)('else if(typeof d%s==="number")',lr)("m%s=d%s",lr,lr)('else if(typeof d%s==="object")',lr)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",lr,lr,lr,gr?"true":"");break;case"bytes":sr('if(typeof d%s==="string")',lr)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",lr,lr,lr)("else if(d%s.length >= 0)",lr)("m%s=d%s",lr,lr);break;case"string":sr("m%s=String(d%s)",lr,lr);break;case"bool":sr("m%s=Boolean(d%s)",lr,lr);break}}return sr}Hn.fromObject=function(ar){var or=ar.fieldsArray,lr=nr.codegen(["d"],ar.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!or.length)return lr("return new this.ctor");lr("var m=new this.ctor");for(var cr=0;cr<or.length;++cr){var ur=or[cr].resolve(),dr=nr.safeProp(ur.name);ur.map?(lr("if(d%s){",dr)('if(typeof d%s!=="object")',dr)("throw TypeError(%j)",ur.fullName+": object expected")("m%s={}",dr)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",dr),ir(lr,ur,cr,dr+"[ks[i]]")("}")("}")):ur.repeated?(lr("if(d%s){",dr)("if(!Array.isArray(d%s))",dr)("throw TypeError(%j)",ur.fullName+": array expected")("m%s=[]",dr)("for(var i=0;i<d%s.length;++i){",dr),ir(lr,ur,cr,dr+"[i]")("}")("}")):(ur.resolvedType instanceof er||lr("if(d%s!=null){",dr),ir(lr,ur,cr,dr),ur.resolvedType instanceof er||lr("}"))}return lr("return m")};function rr(sr,ar,or,lr){if(ar.resolvedType)ar.resolvedType instanceof er?sr("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",lr,or,lr,lr,or,lr,lr):sr("d%s=types[%i].toObject(m%s,o)",lr,or,lr);else{var cr=!1;switch(ar.type){case"double":case"float":sr("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",lr,lr,lr,lr);break;case"uint64":cr=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":sr('if(typeof m%s==="number")',lr)("d%s=o.longs===String?String(m%s):m%s",lr,lr,lr)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",lr,lr,lr,lr,cr?"true":"",lr);break;case"bytes":sr("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",lr,lr,lr,lr,lr);break;default:sr("d%s=m%s",lr,lr);break}}return sr}Hn.toObject=function(ar){var or=ar.fieldsArray.slice().sort(nr.compareFieldsById);if(!or.length)return nr.codegen()("return {}");for(var lr=nr.codegen(["m","o"],ar.name+"$toObject")("if(!o)")("o={}")("var d={}"),cr=[],ur=[],dr=[],fr=0;fr<or.length;++fr)or[fr].partOf||(or[fr].resolve().repeated?cr:or[fr].map?ur:dr).push(or[fr]);if(cr.length){for(lr("if(o.arrays||o.defaults){"),fr=0;fr<cr.length;++fr)lr("d%s=[]",nr.safeProp(cr[fr].name));lr("}")}if(ur.length){for(lr("if(o.objects||o.defaults){"),fr=0;fr<ur.length;++fr)lr("d%s={}",nr.safeProp(ur[fr].name));lr("}")}if(dr.length){for(lr("if(o.defaults){"),fr=0;fr<dr.length;++fr){var gr=dr[fr],yr=nr.safeProp(gr.name);if(gr.resolvedType instanceof er)lr("d%s=o.enums===String?%j:%j",yr,gr.resolvedType.valuesById[gr.typeDefault],gr.typeDefault);else if(gr.long)lr("if(util.Long){")("var n=new util.Long(%i,%i,%j)",gr.typeDefault.low,gr.typeDefault.high,gr.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",yr)("}else")("d%s=o.longs===String?%j:%i",yr,gr.typeDefault.toString(),gr.typeDefault.toNumber());else if(gr.bytes){var vr="["+Array.prototype.slice.call(gr.typeDefault).join(",")+"]";lr("if(o.bytes===String)d%s=%j",yr,String.fromCharCode.apply(String,gr.typeDefault))("else{")("d%s=%s",yr,vr)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",yr,yr)("}")}else lr("d%s=%j",yr,gr.typeDefault)}lr("}")}var jr=!1;for(fr=0;fr<or.length;++fr){var gr=or[fr],Sr=ar._fieldsArray.indexOf(gr),yr=nr.safeProp(gr.name);gr.map?(jr||(jr=!0,lr("var ks2")),lr("if(m%s&&(ks2=Object.keys(m%s)).length){",yr,yr)("d%s={}",yr)("for(var j=0;j<ks2.length;++j){"),rr(lr,gr,Sr,yr+"[ks2[j]]")("}")):gr.repeated?(lr("if(m%s&&m%s.length){",yr,yr)("d%s=[]",yr)("for(var j=0;j<m%s.length;++j){",yr),rr(lr,gr,Sr,yr+"[j]")("}")):(lr("if(m%s!=null&&m.hasOwnProperty(%j)){",yr,gr.name),rr(lr,gr,Sr,yr),gr.partOf&&lr("if(o.oneofs)")("d%s=%j",nr.safeProp(gr.partOf.name),gr.name)),lr("}")}return lr("return d")}})(converter)),converter}var wrappers={},hasRequiredWrappers;function requireWrappers(){return hasRequiredWrappers||(hasRequiredWrappers=1,(function(tr){var Hn=tr,er=requireMessage();Hn[".google.protobuf.Any"]={fromObject:function(nr){if(nr&&nr["@type"]){var ir=nr["@type"].substring(nr["@type"].lastIndexOf("/")+1),rr=this.lookup(ir);if(rr){var sr=nr["@type"].charAt(0)==="."?nr["@type"].slice(1):nr["@type"];return sr.indexOf("/")===-1&&(sr="/"+sr),this.create({type_url:sr,value:rr.encode(rr.fromObject(nr)).finish()})}}return this.fromObject(nr)},toObject:function(nr,ir){var rr="type.googleapis.com/",sr="",ar="";if(ir&&ir.json&&nr.type_url&&nr.value){ar=nr.type_url.substring(nr.type_url.lastIndexOf("/")+1),sr=nr.type_url.substring(0,nr.type_url.lastIndexOf("/")+1);var or=this.lookup(ar);or&&(nr=or.decode(nr.value))}if(!(nr instanceof this.ctor)&&nr instanceof er){var lr=nr.$type.toObject(nr,ir),cr=nr.$type.fullName[0]==="."?nr.$type.fullName.slice(1):nr.$type.fullName;return sr===""&&(sr=rr),ar=sr+cr,lr["@type"]=ar,lr}return this.toObject(nr,ir)}}})(wrappers)),wrappers}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=yr;var tr=requireNamespace();((yr.prototype=Object.create(tr.prototype)).constructor=yr).className="Type";var Hn=require_enum(),er=requireOneof(),nr=requireField(),ir=requireMapfield(),rr=requireService(),sr=requireMessage(),ar=requireReader(),or=requireWriter(),lr=requireUtil(),cr=requireEncoder(),ur=requireDecoder(),dr=requireVerifier(),fr=requireConverter(),gr=requireWrappers();function yr(jr,Sr){tr.call(this,jr,Sr),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(yr.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var jr=Object.keys(this.fields),Sr=0;Sr<jr.length;++Sr){var Tr=this.fields[jr[Sr]],Lr=Tr.id;if(this._fieldsById[Lr])throw Error("duplicate id "+Lr+" in "+this);this._fieldsById[Lr]=Tr}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=lr.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=lr.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=yr.generateConstructor(this)())},set:function(jr){var Sr=jr.prototype;Sr instanceof sr||((jr.prototype=new sr).constructor=jr,lr.merge(jr.prototype,Sr)),jr.$type=jr.prototype.$type=this,lr.merge(jr,sr,!0),this._ctor=jr;for(var Tr=0;Tr<this.fieldsArray.length;++Tr)this._fieldsArray[Tr].resolve();var Lr={};for(Tr=0;Tr<this.oneofsArray.length;++Tr)Lr[this._oneofsArray[Tr].resolve().name]={get:lr.oneOfGetter(this._oneofsArray[Tr].oneof),set:lr.oneOfSetter(this._oneofsArray[Tr].oneof)};Tr&&Object.defineProperties(jr.prototype,Lr)}}}),yr.generateConstructor=function(Sr){for(var Tr=lr.codegen(["p"],Sr.name),Lr=0,Mr;Lr<Sr.fieldsArray.length;++Lr)(Mr=Sr._fieldsArray[Lr]).map?Tr("this%s={}",lr.safeProp(Mr.name)):Mr.repeated&&Tr("this%s=[]",lr.safeProp(Mr.name));return Tr("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function vr(jr){return jr._fieldsById=jr._fieldsArray=jr._oneofsArray=null,delete jr.encode,delete jr.decode,delete jr.verify,jr}return yr.fromJSON=function(Sr,Tr){var Lr=new yr(Sr,Tr.options);Lr.extensions=Tr.extensions,Lr.reserved=Tr.reserved;for(var Mr=Object.keys(Tr.fields),Nr=0;Nr<Mr.length;++Nr)Lr.add((typeof Tr.fields[Mr[Nr]].keyType<"u"?ir.fromJSON:nr.fromJSON)(Mr[Nr],Tr.fields[Mr[Nr]]));if(Tr.oneofs)for(Mr=Object.keys(Tr.oneofs),Nr=0;Nr<Mr.length;++Nr)Lr.add(er.fromJSON(Mr[Nr],Tr.oneofs[Mr[Nr]]));if(Tr.nested)for(Mr=Object.keys(Tr.nested),Nr=0;Nr<Mr.length;++Nr){var Or=Tr.nested[Mr[Nr]];Lr.add((Or.id!==void 0?nr.fromJSON:Or.fields!==void 0?yr.fromJSON:Or.values!==void 0?Hn.fromJSON:Or.methods!==void 0?rr.fromJSON:tr.fromJSON)(Mr[Nr],Or))}return Tr.extensions&&Tr.extensions.length&&(Lr.extensions=Tr.extensions),Tr.reserved&&Tr.reserved.length&&(Lr.reserved=Tr.reserved),Tr.group&&(Lr.group=!0),Tr.comment&&(Lr.comment=Tr.comment),Tr.edition&&(Lr._edition=Tr.edition),Lr._defaultEdition="proto3",Lr},yr.prototype.toJSON=function(Sr){var Tr=tr.prototype.toJSON.call(this,Sr),Lr=Sr?!!Sr.keepComments:!1;return lr.toObject(["edition",this._editionToJSON(),"options",Tr&&Tr.options||void 0,"oneofs",tr.arrayToJSON(this.oneofsArray,Sr),"fields",tr.arrayToJSON(this.fieldsArray.filter(function(Mr){return!Mr.declaringField}),Sr)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",Tr&&Tr.nested||void 0,"comment",Lr?this.comment:void 0])},yr.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;tr.prototype.resolveAll.call(this);var Sr=this.oneofsArray;for(Lr=0;Lr<Sr.length;)Sr[Lr++].resolve();for(var Tr=this.fieldsArray,Lr=0;Lr<Tr.length;)Tr[Lr++].resolve();return this},yr.prototype._resolveFeaturesRecursive=function(Sr){return this._needsRecursiveFeatureResolution?(Sr=this._edition||Sr,tr.prototype._resolveFeaturesRecursive.call(this,Sr),this.oneofsArray.forEach(Tr=>{Tr._resolveFeatures(Sr)}),this.fieldsArray.forEach(Tr=>{Tr._resolveFeatures(Sr)}),this):this},yr.prototype.get=function(Sr){return this.fields[Sr]||this.oneofs&&this.oneofs[Sr]||this.nested&&this.nested[Sr]||null},yr.prototype.add=function(Sr){if(this.get(Sr.name))throw Error("duplicate name '"+Sr.name+"' in "+this);if(Sr instanceof nr&&Sr.extend===void 0){if(this._fieldsById?this._fieldsById[Sr.id]:this.fieldsById[Sr.id])throw Error("duplicate id "+Sr.id+" in "+this);if(this.isReservedId(Sr.id))throw Error("id "+Sr.id+" is reserved in "+this);if(this.isReservedName(Sr.name))throw Error("name '"+Sr.name+"' is reserved in "+this);return Sr.parent&&Sr.parent.remove(Sr),this.fields[Sr.name]=Sr,Sr.message=this,Sr.onAdd(this),vr(this)}return Sr instanceof er?(this.oneofs||(this.oneofs={}),this.oneofs[Sr.name]=Sr,Sr.onAdd(this),vr(this)):tr.prototype.add.call(this,Sr)},yr.prototype.remove=function(Sr){if(Sr instanceof nr&&Sr.extend===void 0){if(!this.fields||this.fields[Sr.name]!==Sr)throw Error(Sr+" is not a member of "+this);return delete this.fields[Sr.name],Sr.parent=null,Sr.onRemove(this),vr(this)}if(Sr instanceof er){if(!this.oneofs||this.oneofs[Sr.name]!==Sr)throw Error(Sr+" is not a member of "+this);return delete this.oneofs[Sr.name],Sr.parent=null,Sr.onRemove(this),vr(this)}return tr.prototype.remove.call(this,Sr)},yr.prototype.isReservedId=function(Sr){return tr.isReservedId(this.reserved,Sr)},yr.prototype.isReservedName=function(Sr){return tr.isReservedName(this.reserved,Sr)},yr.prototype.create=function(Sr){return new this.ctor(Sr)},yr.prototype.setup=function(){for(var Sr=this.fullName,Tr=[],Lr=0;Lr<this.fieldsArray.length;++Lr)Tr.push(this._fieldsArray[Lr].resolve().resolvedType);this.encode=cr(this)({Writer:or,types:Tr,util:lr}),this.decode=ur(this)({Reader:ar,types:Tr,util:lr}),this.verify=dr(this)({types:Tr,util:lr}),this.fromObject=fr.fromObject(this)({types:Tr,util:lr}),this.toObject=fr.toObject(this)({types:Tr,util:lr});var Mr=gr[Sr];if(Mr){var Nr=Object.create(this);Nr.fromObject=this.fromObject,this.fromObject=Mr.fromObject.bind(Nr),Nr.toObject=this.toObject,this.toObject=Mr.toObject.bind(Nr)}return this},yr.prototype.encode=function(Sr,Tr){return this.setup().encode(Sr,Tr)},yr.prototype.encodeDelimited=function(Sr,Tr){return this.encode(Sr,Tr&&Tr.len?Tr.fork():Tr).ldelim()},yr.prototype.decode=function(Sr,Tr){return this.setup().decode(Sr,Tr)},yr.prototype.decodeDelimited=function(Sr){return Sr instanceof ar||(Sr=ar.create(Sr)),this.decode(Sr,Sr.uint32())},yr.prototype.verify=function(Sr){return this.setup().verify(Sr)},yr.prototype.fromObject=function(Sr){return this.setup().fromObject(Sr)},yr.prototype.toObject=function(Sr,Tr){return this.setup().toObject(Sr,Tr)},yr.d=function(Sr){return function(Lr){lr.decorateType(Lr,Sr)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=or;var tr=requireNamespace();((or.prototype=Object.create(tr.prototype)).constructor=or).className="Root";var Hn=requireField(),er=require_enum(),nr=requireOneof(),ir=requireUtil(),rr,sr,ar;function or(dr){tr.call(this,"",dr),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}or.fromJSON=function(fr,gr){return gr||(gr=new or),fr.options&&gr.setOptions(fr.options),gr.addJSON(fr.nested).resolveAll()},or.prototype.resolvePath=ir.path.resolve,or.prototype.fetch=ir.fetch;function lr(){}or.prototype.load=function dr(fr,gr,yr){typeof gr=="function"&&(yr=gr,gr=void 0);var vr=this;if(!yr)return ir.asPromise(dr,vr,fr,gr);var jr=yr===lr;function Sr(Gr,qr){if(yr){if(jr)throw Gr;qr&&qr.resolveAll();var Hr=yr;yr=null,Hr(Gr,qr)}}function Tr(Gr){var qr=Gr.lastIndexOf("google/protobuf/");if(qr>-1){var Hr=Gr.substring(qr);if(Hr in ar)return Hr}return null}function Lr(Gr,qr){try{if(ir.isString(qr)&&qr.charAt(0)==="{"&&(qr=JSON.parse(qr)),!ir.isString(qr))vr.setOptions(qr.options).addJSON(qr.nested);else{sr.filename=Gr;var Hr=sr(qr,vr,gr),Yr,ro=0;if(Hr.imports)for(;ro<Hr.imports.length;++ro)(Yr=Tr(Hr.imports[ro])||vr.resolvePath(Gr,Hr.imports[ro]))&&Mr(Yr);if(Hr.weakImports)for(ro=0;ro<Hr.weakImports.length;++ro)(Yr=Tr(Hr.weakImports[ro])||vr.resolvePath(Gr,Hr.weakImports[ro]))&&Mr(Yr,!0)}}catch(io){Sr(io)}!jr&&!Nr&&Sr(null,vr)}function Mr(Gr,qr){if(Gr=Tr(Gr)||Gr,!(vr.files.indexOf(Gr)>-1)){if(vr.files.push(Gr),Gr in ar){jr?Lr(Gr,ar[Gr]):(++Nr,setTimeout(function(){--Nr,Lr(Gr,ar[Gr])}));return}if(jr){var Hr;try{Hr=ir.fs.readFileSync(Gr).toString("utf8")}catch(Yr){qr||Sr(Yr);return}Lr(Gr,Hr)}else++Nr,vr.fetch(Gr,function(Yr,ro){if(--Nr,!!yr){if(Yr){qr?Nr||Sr(null,vr):Sr(Yr);return}Lr(Gr,ro)}})}}var Nr=0;ir.isString(fr)&&(fr=[fr]);for(var Or=0,Fr;Or<fr.length;++Or)(Fr=vr.resolvePath("",fr[Or]))&&Mr(Fr);return jr?(vr.resolveAll(),vr):(Nr||Sr(null,vr),vr)},or.prototype.loadSync=function(fr,gr){if(!ir.isNode)throw Error("not supported");return this.load(fr,gr,lr)},or.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(fr){return"'extend "+fr.extend+"' in "+fr.parent.fullName}).join(", "));return tr.prototype.resolveAll.call(this)};var cr=/^[A-Z]/;function ur(dr,fr){var gr=fr.parent.lookup(fr.extend);if(gr){var yr=new Hn(fr.fullName,fr.id,fr.type,fr.rule,void 0,fr.options);return gr.get(yr.name)||(yr.declaringField=fr,fr.extensionField=yr,gr.add(yr)),!0}return!1}return or.prototype._handleAdd=function(fr){if(fr instanceof Hn)fr.extend!==void 0&&!fr.extensionField&&(ur(this,fr)||this.deferred.push(fr));else if(fr instanceof er)cr.test(fr.name)&&(fr.parent[fr.name]=fr.values);else if(!(fr instanceof nr)){if(fr instanceof rr)for(var gr=0;gr<this.deferred.length;)ur(this,this.deferred[gr])?this.deferred.splice(gr,1):++gr;for(var yr=0;yr<fr.nestedArray.length;++yr)this._handleAdd(fr._nestedArray[yr]);cr.test(fr.name)&&(fr.parent[fr.name]=fr)}(fr instanceof rr||fr instanceof er||fr instanceof Hn)&&(this._fullyQualifiedObjects[fr.fullName]=fr)},or.prototype._handleRemove=function(fr){if(fr instanceof Hn){if(fr.extend!==void 0)if(fr.extensionField)fr.extensionField.parent.remove(fr.extensionField),fr.extensionField=null;else{var gr=this.deferred.indexOf(fr);gr>-1&&this.deferred.splice(gr,1)}}else if(fr instanceof er)cr.test(fr.name)&&delete fr.parent[fr.name];else if(fr instanceof tr){for(var yr=0;yr<fr.nestedArray.length;++yr)this._handleRemove(fr._nestedArray[yr]);cr.test(fr.name)&&delete fr.parent[fr.name]}delete this._fullyQualifiedObjects[fr.fullName]},or._configure=function(dr,fr,gr){rr=dr,sr=fr,ar=gr},root}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util.exports;hasRequiredUtil=1;var tr=util.exports=requireMinimal(),Hn=requireRoots(),er,nr;tr.codegen=requireCodegen(),tr.fetch=requireFetch(),tr.path=requirePath(),tr.fs=tr.inquire("fs"),tr.toArray=function(lr){if(lr){for(var cr=Object.keys(lr),ur=new Array(cr.length),dr=0;dr<cr.length;)ur[dr]=lr[cr[dr++]];return ur}return[]},tr.toObject=function(lr){for(var cr={},ur=0;ur<lr.length;){var dr=lr[ur++],fr=lr[ur++];fr!==void 0&&(cr[dr]=fr)}return cr};var ir=/\\/g,rr=/"/g;tr.isReserved=function(lr){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(lr)},tr.safeProp=function(lr){return!/^[$\w_]+$/.test(lr)||tr.isReserved(lr)?'["'+lr.replace(ir,"\\\\").replace(rr,'\\"')+'"]':"."+lr},tr.ucFirst=function(lr){return lr.charAt(0).toUpperCase()+lr.substring(1)};var sr=/_([a-z])/g;tr.camelCase=function(lr){return lr.substring(0,1)+lr.substring(1).replace(sr,function(cr,ur){return ur.toUpperCase()})},tr.compareFieldsById=function(lr,cr){return lr.id-cr.id},tr.decorateType=function(lr,cr){if(lr.$type)return cr&&lr.$type.name!==cr&&(tr.decorateRoot.remove(lr.$type),lr.$type.name=cr,tr.decorateRoot.add(lr.$type)),lr.$type;er||(er=requireType());var ur=new er(cr||lr.name);return tr.decorateRoot.add(ur),ur.ctor=lr,Object.defineProperty(lr,"$type",{value:ur,enumerable:!1}),Object.defineProperty(lr.prototype,"$type",{value:ur,enumerable:!1}),ur};var ar=0;return tr.decorateEnum=function(lr){if(lr.$type)return lr.$type;nr||(nr=require_enum());var cr=new nr("Enum"+ar++,lr);return tr.decorateRoot.add(cr),Object.defineProperty(lr,"$type",{value:cr,enumerable:!1}),cr},tr.setProperty=function(lr,cr,ur,dr){function fr(gr,yr,vr){var jr=yr.shift();if(jr==="__proto__"||jr==="prototype")return gr;if(yr.length>0)gr[jr]=fr(gr[jr]||{},yr,vr);else{var Sr=gr[jr];if(Sr&&dr)return gr;Sr&&(vr=[].concat(Sr).concat(vr)),gr[jr]=vr}return gr}if(typeof lr!="object")throw TypeError("dst must be an object");if(!cr)throw TypeError("path must be specified");return cr=cr.split("."),fr(lr,cr,ur)},Object.defineProperty(tr,"decorateRoot",{get:function(){return Hn.decorated||(Hn.decorated=new(requireRoot()))}}),util.exports}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(tr){var Hn=tr,er=requireUtil(),nr=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function ir(rr,sr){var ar=0,or={};for(sr|=0;ar<rr.length;)or[nr[ar+sr]]=rr[ar++];return or}Hn.basic=ir([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),Hn.defaults=ir([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",er.emptyArray,null]),Hn.long=ir([0,0,0,1,1],7),Hn.mapKey=ir([0,0,0,5,5,0,0,0,1,1,0,2],2),Hn.packed=ir([1,5,0,0,0,5,5,0,0,0,1,1,0])})(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=sr;var tr=requireObject();((sr.prototype=Object.create(tr.prototype)).constructor=sr).className="Field";var Hn=require_enum(),er=requireTypes(),nr=requireUtil(),ir,rr=/^required|optional|repeated$/;sr.fromJSON=function(or,lr){var cr=new sr(or,lr.id,lr.type,lr.rule,lr.extend,lr.options,lr.comment);return lr.edition&&(cr._edition=lr.edition),cr._defaultEdition="proto3",cr};function sr(ar,or,lr,cr,ur,dr,fr){if(nr.isObject(cr)?(fr=ur,dr=cr,cr=ur=void 0):nr.isObject(ur)&&(fr=dr,dr=ur,ur=void 0),tr.call(this,ar,dr),!nr.isInteger(or)||or<0)throw TypeError("id must be a non-negative integer");if(!nr.isString(lr))throw TypeError("type must be a string");if(cr!==void 0&&!rr.test(cr=cr.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(ur!==void 0&&!nr.isString(ur))throw TypeError("extend must be a string");cr==="proto3_optional"&&(cr="optional"),this.rule=cr&&cr!=="optional"?cr:void 0,this.type=lr,this.id=or,this.extend=ur||void 0,this.repeated=cr==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=nr.Long?er.long[lr]!==void 0:!1,this.bytes=lr==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=fr}return Object.defineProperty(sr.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(sr.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(sr.prototype,"delimited",{get:function(){return this.resolvedType instanceof ir&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(sr.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(sr.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),sr.prototype.setOption=function(or,lr,cr){return tr.prototype.setOption.call(this,or,lr,cr)},sr.prototype.toJSON=function(or){var lr=or?!!or.keepComments:!1;return nr.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",lr?this.comment:void 0])},sr.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=er.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof ir?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Hn&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Hn)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=nr.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var or;nr.base64.test(this.typeDefault)?nr.base64.decode(this.typeDefault,or=nr.newBuffer(nr.base64.length(this.typeDefault)),0):nr.utf8.write(this.typeDefault,or=nr.newBuffer(nr.utf8.length(this.typeDefault)),0),this.typeDefault=or}return this.map?this.defaultValue=nr.emptyObject:this.repeated?this.defaultValue=nr.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof ir&&(this.parent.ctor.prototype[this.name]=this.defaultValue),tr.prototype.resolve.call(this)},sr.prototype._inferLegacyProtoFeatures=function(or){if(or!=="proto2"&&or!=="proto3")return{};var lr={};if(this.rule==="required"&&(lr.field_presence="LEGACY_REQUIRED"),this.parent&&er.defaults[this.type]===void 0){var cr=this.parent.get(this.type.split(".").pop());cr&&cr instanceof ir&&cr.group&&(lr.message_encoding="DELIMITED")}return this.getOption("packed")===!0?lr.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(lr.repeated_field_encoding="EXPANDED"),lr},sr.prototype._resolveFeatures=function(or){return tr.prototype._resolveFeatures.call(this,this._edition||or)},sr.d=function(or,lr,cr,ur){return typeof lr=="function"?lr=nr.decorateType(lr).name:lr&&typeof lr=="object"&&(lr=nr.decorateEnum(lr).name),function(fr,gr){nr.decorateType(fr.constructor).add(new sr(gr,or,lr,cr,{default:ur}))}},sr._configure=function(or){ir=or},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=nr;var tr=requireObject();((nr.prototype=Object.create(tr.prototype)).constructor=nr).className="OneOf";var Hn=requireField(),er=requireUtil();function nr(rr,sr,ar,or){if(Array.isArray(sr)||(ar=sr,sr=void 0),tr.call(this,rr,ar),!(sr===void 0||Array.isArray(sr)))throw TypeError("fieldNames must be an Array");this.oneof=sr||[],this.fieldsArray=[],this.comment=or}nr.fromJSON=function(sr,ar){return new nr(sr,ar.oneof,ar.options,ar.comment)},nr.prototype.toJSON=function(sr){var ar=sr?!!sr.keepComments:!1;return er.toObject(["options",this.options,"oneof",this.oneof,"comment",ar?this.comment:void 0])};function ir(rr){if(rr.parent)for(var sr=0;sr<rr.fieldsArray.length;++sr)rr.fieldsArray[sr].parent||rr.parent.add(rr.fieldsArray[sr])}return nr.prototype.add=function(sr){if(!(sr instanceof Hn))throw TypeError("field must be a Field");return sr.parent&&sr.parent!==this.parent&&sr.parent.remove(sr),this.oneof.push(sr.name),this.fieldsArray.push(sr),sr.partOf=this,ir(this),this},nr.prototype.remove=function(sr){if(!(sr instanceof Hn))throw TypeError("field must be a Field");var ar=this.fieldsArray.indexOf(sr);if(ar<0)throw Error(sr+" is not a member of "+this);return this.fieldsArray.splice(ar,1),ar=this.oneof.indexOf(sr.name),ar>-1&&this.oneof.splice(ar,1),sr.partOf=null,this},nr.prototype.onAdd=function(sr){tr.prototype.onAdd.call(this,sr);for(var ar=this,or=0;or<this.oneof.length;++or){var lr=sr.get(this.oneof[or]);lr&&!lr.partOf&&(lr.partOf=ar,ar.fieldsArray.push(lr))}ir(this)},nr.prototype.onRemove=function(sr){for(var ar=0,or;ar<this.fieldsArray.length;++ar)(or=this.fieldsArray[ar]).parent&&or.parent.remove(or);tr.prototype.onRemove.call(this,sr)},Object.defineProperty(nr.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var rr=this.fieldsArray[0];return rr.options!=null&&rr.options.proto3_optional===!0}}),nr.d=function(){for(var sr=new Array(arguments.length),ar=0;ar<arguments.length;)sr[ar]=arguments[ar++];return function(lr,cr){er.decorateType(lr.constructor).add(new nr(cr,sr)),Object.defineProperty(lr,cr,{get:er.oneOfGetter(sr),set:er.oneOfSetter(sr)})}},oneof}var object$1,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object$1;hasRequiredObject=1,object$1=ar,ar.className="ReflectionObject";const tr=requireOneof();var Hn=requireUtil(),er,nr={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY",enforce_naming_style:"STYLE2024",default_symbol_visibility:"EXPORT_TOP_LEVEL"},ir={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY",enforce_naming_style:"STYLE_LEGACY",default_symbol_visibility:"EXPORT_ALL"},rr={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE",enforce_naming_style:"STYLE_LEGACY",default_symbol_visibility:"EXPORT_ALL"},sr={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY",enforce_naming_style:"STYLE_LEGACY",default_symbol_visibility:"EXPORT_ALL"};function ar(or,lr){if(!Hn.isString(or))throw TypeError("name must be a string");if(lr&&!Hn.isObject(lr))throw TypeError("options must be an object");this.options=lr,this.parsedOptions=null,this.name=or,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(ar.prototype,{root:{get:function(){for(var or=this;or.parent!==null;)or=or.parent;return or}},fullName:{get:function(){for(var or=[this.name],lr=this.parent;lr;)or.unshift(lr.name),lr=lr.parent;return or.join(".")}}}),ar.prototype.toJSON=function(){throw Error()},ar.prototype.onAdd=function(lr){this.parent&&this.parent!==lr&&this.parent.remove(this),this.parent=lr,this.resolved=!1;var cr=lr.root;cr instanceof er&&cr._handleAdd(this)},ar.prototype.onRemove=function(lr){var cr=lr.root;cr instanceof er&&cr._handleRemove(this),this.parent=null,this.resolved=!1},ar.prototype.resolve=function(){return this.resolved?this:(this.root instanceof er&&(this.resolved=!0),this)},ar.prototype._resolveFeaturesRecursive=function(lr){return this._resolveFeatures(this._edition||lr)},ar.prototype._resolveFeatures=function(lr){if(!this._featuresResolved){var cr={};if(!lr)throw new Error("Unknown edition for "+this.fullName);var ur=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(lr));if(this._edition){if(lr==="proto2")cr=Object.assign({},rr);else if(lr==="proto3")cr=Object.assign({},sr);else if(lr==="2023")cr=Object.assign({},ir);else if(lr==="2024")cr=Object.assign({},nr);else throw new Error("Unknown edition: "+lr);this._features=Object.assign(cr,ur||{}),this._featuresResolved=!0;return}if(this.partOf instanceof tr){var dr=Object.assign({},this.partOf._features);this._features=Object.assign(dr,ur||{})}else if(!this.declaringField)if(this.parent){var fr=Object.assign({},this.parent._features);this._features=Object.assign(fr,ur||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},ar.prototype._inferLegacyProtoFeatures=function(){return{}},ar.prototype.getOption=function(lr){if(this.options)return this.options[lr]},ar.prototype.setOption=function(lr,cr,ur){return this.options||(this.options={}),/^features\./.test(lr)?Hn.setProperty(this.options,lr,cr,ur):(!ur||this.options[lr]===void 0)&&(this.getOption(lr)!==cr&&(this.resolved=!1),this.options[lr]=cr),this},ar.prototype.setParsedOption=function(lr,cr,ur){this.parsedOptions||(this.parsedOptions=[]);var dr=this.parsedOptions;if(ur){var fr=dr.find(function(vr){return Object.prototype.hasOwnProperty.call(vr,lr)});if(fr){var gr=fr[lr];Hn.setProperty(gr,ur,cr)}else fr={},fr[lr]=Hn.setProperty({},ur,cr),dr.push(fr)}else{var yr={};yr[lr]=cr,dr.push(yr)}return this},ar.prototype.setOptions=function(lr,cr){if(lr)for(var ur=Object.keys(lr),dr=0;dr<ur.length;++dr)this.setOption(ur[dr],lr[ur[dr]],cr);return this},ar.prototype.toString=function(){var lr=this.constructor.className,cr=this.fullName;return cr.length?lr+" "+cr:lr},ar.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},ar._configure=function(or){er=or},object$1}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=nr;var tr=requireObject();((nr.prototype=Object.create(tr.prototype)).constructor=nr).className="Enum";var Hn=requireNamespace(),er=requireUtil();function nr(ir,rr,sr,ar,or,lr){if(tr.call(this,ir,sr),rr&&typeof rr!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=ar,this.comments=or||{},this.valuesOptions=lr,this._valuesFeatures={},this.reserved=void 0,rr)for(var cr=Object.keys(rr),ur=0;ur<cr.length;++ur)typeof rr[cr[ur]]=="number"&&(this.valuesById[this.values[cr[ur]]=rr[cr[ur]]]=cr[ur])}return nr.prototype._resolveFeatures=function(rr){return rr=this._edition||rr,tr.prototype._resolveFeatures.call(this,rr),Object.keys(this.values).forEach(sr=>{var ar=Object.assign({},this._features);this._valuesFeatures[sr]=Object.assign(ar,this.valuesOptions&&this.valuesOptions[sr]&&this.valuesOptions[sr].features)}),this},nr.fromJSON=function(rr,sr){var ar=new nr(rr,sr.values,sr.options,sr.comment,sr.comments);return ar.reserved=sr.reserved,sr.edition&&(ar._edition=sr.edition),ar._defaultEdition="proto3",ar},nr.prototype.toJSON=function(rr){var sr=rr?!!rr.keepComments:!1;return er.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",sr?this.comment:void 0,"comments",sr?this.comments:void 0])},nr.prototype.add=function(rr,sr,ar,or){if(!er.isString(rr))throw TypeError("name must be a string");if(!er.isInteger(sr))throw TypeError("id must be an integer");if(this.values[rr]!==void 0)throw Error("duplicate name '"+rr+"' in "+this);if(this.isReservedId(sr))throw Error("id "+sr+" is reserved in "+this);if(this.isReservedName(rr))throw Error("name '"+rr+"' is reserved in "+this);if(this.valuesById[sr]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+sr+" in "+this);this.values[rr]=sr}else this.valuesById[this.values[rr]=sr]=rr;return or&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[rr]=or||null),this.comments[rr]=ar||null,this},nr.prototype.remove=function(rr){if(!er.isString(rr))throw TypeError("name must be a string");var sr=this.values[rr];if(sr==null)throw Error("name '"+rr+"' does not exist in "+this);return delete this.valuesById[sr],delete this.values[rr],delete this.comments[rr],this.valuesOptions&&delete this.valuesOptions[rr],this},nr.prototype.isReservedId=function(rr){return Hn.isReservedId(this.reserved,rr)},nr.prototype.isReservedName=function(rr){return Hn.isReservedName(this.reserved,rr)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=ir;var tr=require_enum(),Hn=requireTypes(),er=requireUtil();function nr(rr,sr,ar,or){return sr.delimited?rr("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",ar,or,(sr.id<<3|3)>>>0,(sr.id<<3|4)>>>0):rr("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",ar,or,(sr.id<<3|2)>>>0)}function ir(rr){for(var sr=er.codegen(["m","w"],rr.name+"$encode")("if(!w)")("w=Writer.create()"),ar,or,lr=rr.fieldsArray.slice().sort(er.compareFieldsById),ar=0;ar<lr.length;++ar){var cr=lr[ar].resolve(),ur=rr._fieldsArray.indexOf(cr),dr=cr.resolvedType instanceof tr?"int32":cr.type,fr=Hn.basic[dr];or="m"+er.safeProp(cr.name),cr.map?(sr("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",or,cr.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",or)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(cr.id<<3|2)>>>0,8|Hn.mapKey[cr.keyType],cr.keyType),fr===void 0?sr("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",ur,or):sr(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|fr,dr,or),sr("}")("}")):cr.repeated?(sr("if(%s!=null&&%s.length){",or,or),cr.packed&&Hn.packed[dr]!==void 0?sr("w.uint32(%i).fork()",(cr.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",or)("w.%s(%s[i])",dr,or)("w.ldelim()"):(sr("for(var i=0;i<%s.length;++i)",or),fr===void 0?nr(sr,cr,ur,or+"[i]"):sr("w.uint32(%i).%s(%s[i])",(cr.id<<3|fr)>>>0,dr,or)),sr("}")):(cr.optional&&sr("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",or,cr.name),fr===void 0?nr(sr,cr,ur,or):sr("w.uint32(%i).%s(%s)",(cr.id<<3|fr)>>>0,dr,or))}return sr("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var tr=indexLight.exports=requireIndexMinimal();tr.build="light";function Hn(nr,ir,rr){return typeof ir=="function"?(rr=ir,ir=new tr.Root):ir||(ir=new tr.Root),ir.load(nr,rr)}tr.load=Hn;function er(nr,ir){return ir||(ir=new tr.Root),ir.loadSync(nr)}return tr.loadSync=er,tr.encoder=requireEncoder(),tr.decoder=requireDecoder(),tr.verifier=requireVerifier(),tr.converter=requireConverter(),tr.ReflectionObject=requireObject(),tr.Namespace=requireNamespace(),tr.Root=requireRoot(),tr.Enum=require_enum(),tr.Type=requireType(),tr.Field=requireField(),tr.OneOf=requireOneof(),tr.MapField=requireMapfield(),tr.Service=requireService(),tr.Method=requireMethod(),tr.Message=requireMessage(),tr.wrappers=requireWrappers(),tr.types=requireTypes(),tr.util=requireUtil(),tr.ReflectionObject._configure(tr.Root),tr.Namespace._configure(tr.Type,tr.Service,tr.Enum),tr.Root._configure(tr.Type),tr.Field._configure(tr.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=cr;var tr=/[\s{}=;:[\],'"()<>]/g,Hn=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,er=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,nr=/^ *[*/]+ */,ir=/^\s*\*?\/*/,rr=/\n/g,sr=/\s/,ar=/\\(.?)/g,or={0:"\0",r:"\r",n:`
`,t:"	"};function lr(ur){return ur.replace(ar,function(dr,fr){switch(fr){case"\\":case"":return fr;default:return or[fr]||""}})}cr.unescape=lr;function cr(ur,dr){ur=ur.toString();var fr=0,gr=ur.length,yr=1,vr=0,jr={},Sr=[],Tr=null;function Lr(fo){return Error("illegal "+fo+" (line "+yr+")")}function Mr(){var fo=Tr==="'"?er:Hn;fo.lastIndex=fr-1;var ao=fo.exec(ur);if(!ao)throw Lr("string");return fr=fo.lastIndex,Hr(Tr),Tr=null,lr(ao[1])}function Nr(fo){return ur.charAt(fo)}function Or(fo,ao,Jr){var uo={type:ur.charAt(fo++),lineEmpty:!1,leading:Jr},oo;dr?oo=2:oo=3;var co=fo-oo,no;do if(--co<0||(no=ur.charAt(co))===`
`){uo.lineEmpty=!0;break}while(no===" "||no==="	");for(var mo=ur.substring(fo,ao).split(rr),Eo=0;Eo<mo.length;++Eo)mo[Eo]=mo[Eo].replace(dr?ir:nr,"").trim();uo.text=mo.join(`
`).trim(),jr[yr]=uo,vr=yr}function Fr(fo){var ao=Gr(fo),Jr=ur.substring(fo,ao),uo=/^\s*\/\//.test(Jr);return uo}function Gr(fo){for(var ao=fo;ao<gr&&Nr(ao)!==`
`;)ao++;return ao}function qr(){if(Sr.length>0)return Sr.shift();if(Tr)return Mr();var fo,ao,Jr,uo,oo,co=fr===0;do{if(fr===gr)return null;for(fo=!1;sr.test(Jr=Nr(fr));)if(Jr===`
`&&(co=!0,++yr),++fr===gr)return null;if(Nr(fr)==="/"){if(++fr===gr)throw Lr("comment");if(Nr(fr)==="/")if(dr){if(uo=fr,oo=!1,Fr(fr-1)){oo=!0;do if(fr=Gr(fr),fr===gr||(fr++,!co))break;while(Fr(fr))}else fr=Math.min(gr,Gr(fr)+1);oo&&(Or(uo,fr,co),co=!0),yr++,fo=!0}else{for(oo=Nr(uo=fr+1)==="/";Nr(++fr)!==`
`;)if(fr===gr)return null;++fr,oo&&(Or(uo,fr-1,co),co=!0),++yr,fo=!0}else if((Jr=Nr(fr))==="*"){uo=fr+1,oo=dr||Nr(uo)==="*";do{if(Jr===`
`&&++yr,++fr===gr)throw Lr("comment");ao=Jr,Jr=Nr(fr)}while(ao!=="*"||Jr!=="/");++fr,oo&&(Or(uo,fr-2,co),co=!0),fo=!0}else return"/"}}while(fo);var no=fr;tr.lastIndex=0;var mo=tr.test(Nr(no++));if(!mo)for(;no<gr&&!tr.test(Nr(no));)++no;var Eo=ur.substring(fr,fr=no);return(Eo==='"'||Eo==="'")&&(Tr=Eo),Eo}function Hr(fo){Sr.push(fo)}function Yr(){if(!Sr.length){var fo=qr();if(fo===null)return null;Hr(fo)}return Sr[0]}function ro(fo,ao){var Jr=Yr(),uo=Jr===fo;if(uo)return qr(),!0;if(!ao)throw Lr("token '"+Jr+"', '"+fo+"' expected");return!1}function io(fo){var ao=null,Jr;return fo===void 0?(Jr=jr[yr-1],delete jr[yr-1],Jr&&(dr||Jr.type==="*"||Jr.lineEmpty)&&(ao=Jr.leading?Jr.text:null)):(vr<fo&&Yr(),Jr=jr[fo],delete jr[fo],Jr&&!Jr.lineEmpty&&(dr||Jr.type==="/")&&(ao=Jr.leading?null:Jr.text)),ao}return Object.defineProperty({next:qr,peek:Yr,push:Hr,skip:ro,cmnt:io},"line",{get:function(){return yr}})}return tokenize_1}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1,parse_1=Mr,Mr.filename=null,Mr.defaults={keepCase:!1};var tr=requireTokenize(),Hn=requireRoot(),er=requireType(),nr=requireField(),ir=requireMapfield(),rr=requireOneof(),sr=require_enum(),ar=requireService(),or=requireMethod(),lr=requireObject(),cr=requireTypes(),ur=requireUtil(),dr=/^[1-9][0-9]*$/,fr=/^-?[1-9][0-9]*$/,gr=/^0[x][0-9a-fA-F]+$/,yr=/^-?0[x][0-9a-fA-F]+$/,vr=/^0[0-7]+$/,jr=/^-?0[0-7]+$/,Sr=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Tr=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Lr=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function Mr(Nr,Or,Fr){Or instanceof Hn||(Fr=Or,Or=new Hn),Fr||(Fr=Mr.defaults);var Gr=Fr.preferTrailingComment||!1,qr=tr(Nr,Fr.alternateCommentMode||!1),Hr=qr.next,Yr=qr.push,ro=qr.peek,io=qr.skip,fo=qr.cmnt,ao=!0,Jr,uo,oo,co="proto2",no=Or,mo=[],Eo={},bo=Fr.keepCase?function(al){return al}:ur.camelCase;function Po(){mo.forEach(al=>{al._edition=co,Object.keys(Eo).forEach(sl=>{al.getOption(sl)===void 0&&al.setOption(sl,Eo[sl],!0)})})}function wo(al,sl,fl){var $l=Mr.filename;return fl||(Mr.filename=null),Error("illegal "+(sl||"token")+" '"+al+"' ("+($l?$l+", ":"")+"line "+qr.line+")")}function To(){var al=[],sl;do{if((sl=Hr())!=='"'&&sl!=="'")throw wo(sl);al.push(Hr()),io(sl),sl=ro()}while(sl==='"'||sl==="'");return al.join("")}function Fo(al){var sl=Hr();switch(sl){case"'":case'"':return Yr(sl),To();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return Go(sl,!0)}catch{if(Lr.test(sl))return sl;throw wo(sl,"value")}}function Co(al,sl){var fl,$l;do if(sl&&((fl=ro())==='"'||fl==="'")){var Nl=To();if(al.push(Nl),co>=2023)throw wo(Nl,"id")}else try{al.push([$l=el(Hr()),io("to",!0)?el(Hr()):$l])}catch(uc){if(sl&&Lr.test(fl)&&co>=2023)al.push(fl);else throw uc}while(io(",",!0));var tc={options:void 0};tc.setOption=function(uc,Kc){this.options===void 0&&(this.options={}),this.options[uc]=Kc},ml(tc,function(Kc){if(Kc==="option")vc(tc,Kc),io(";");else throw wo(Kc)},function(){El(tc)})}function Go(al,sl){var fl=1;switch(al.charAt(0)==="-"&&(fl=-1,al=al.substring(1)),al){case"inf":case"INF":case"Inf":return fl*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(dr.test(al))return fl*parseInt(al,10);if(gr.test(al))return fl*parseInt(al,16);if(vr.test(al))return fl*parseInt(al,8);if(Sr.test(al))return fl*parseFloat(al);throw wo(al,"number",sl)}function el(al,sl){switch(al){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!sl&&al.charAt(0)==="-")throw wo(al,"id");if(fr.test(al))return parseInt(al,10);if(yr.test(al))return parseInt(al,16);if(jr.test(al))return parseInt(al,8);throw wo(al,"id")}function Lo(){if(Jr!==void 0)throw wo("package");if(Jr=Hr(),!Lr.test(Jr))throw wo(Jr,"name");no=no.define(Jr),io(";")}function Uo(){var al=ro(),sl;switch(al){case"option":if(co<"2024")throw wo("option");Hr(),To(),io(";");return;case"weak":sl=oo||(oo=[]),Hr();break;case"public":Hr();default:sl=uo||(uo=[]);break}al=To(),io(";"),sl.push(al)}function $o(){if(io("="),co=To(),co<2023)throw wo(co,"syntax");io(";")}function il(){if(io("="),co=To(),!["2023","2024"].includes(co))throw wo(co,"edition");io(";")}function pl(al,sl){switch(sl){case"option":return vc(al,sl),io(";"),!0;case"message":return Wl(al,sl),!0;case"enum":return dc(al,sl),!0;case"export":case"local":return co<"2024"||(sl=Hr(),sl==="export"||sl==="local")||sl!=="message"&&sl!=="enum"?!1:pl(al,sl);case"service":return Kl(al,sl),!0;case"extend":return Fc(al,sl),!0}return!1}function ml(al,sl,fl){var $l=qr.line;if(al&&(typeof al.comment!="string"&&(al.comment=fo()),al.filename=Mr.filename),io("{",!0)){for(var Nl;(Nl=Hr())!=="}";)sl(Nl);io(";",!0)}else fl&&fl(),io(";"),al&&(typeof al.comment!="string"||Gr)&&(al.comment=fo($l)||al.comment)}function Wl(al,sl){if(!Tr.test(sl=Hr()))throw wo(sl,"type name");var fl=new er(sl);ml(fl,function(Nl){if(!pl(fl,Nl))switch(Nl){case"map":Tl(fl);break;case"required":if(co!=="proto2")throw wo(Nl);case"repeated":Xl(fl,Nl);break;case"optional":if(co==="proto3")Xl(fl,"proto3_optional");else{if(co!=="proto2")throw wo(Nl);Xl(fl,"optional")}break;case"oneof":Ol(fl,Nl);break;case"extensions":Co(fl.extensions||(fl.extensions=[]));break;case"reserved":Co(fl.reserved||(fl.reserved=[]),!0);break;default:if(co==="proto2"||!Lr.test(Nl))throw wo(Nl);Yr(Nl),Xl(fl,"optional");break}}),al.add(fl),al===no&&mo.push(fl)}function Xl(al,sl,fl){var $l=Hr();if($l==="group"){ac(al,sl);return}for(;$l.endsWith(".")||ro().startsWith(".");)$l+=Hr();if(!Lr.test($l))throw wo($l,"type");var Nl=Hr();if(!Tr.test(Nl))throw wo(Nl,"name");Nl=bo(Nl),io("=");var tc=new nr(Nl,el(Hr()),$l,sl,fl);if(ml(tc,function(bc){if(bc==="option")vc(tc,bc),io(";");else throw wo(bc)},function(){El(tc)}),sl==="proto3_optional"){var uc=new rr("_"+Nl);tc.setOption("proto3_optional",!0),uc.add(tc),al.add(uc)}else al.add(tc);al===no&&mo.push(tc)}function ac(al,sl){if(co>=2023)throw wo("group");var fl=Hr();if(!Tr.test(fl))throw wo(fl,"name");var $l=ur.lcFirst(fl);fl===$l&&(fl=ur.ucFirst(fl)),io("=");var Nl=el(Hr()),tc=new er(fl);tc.group=!0;var uc=new nr($l,Nl,fl,sl);uc.filename=Mr.filename,ml(tc,function(bc){switch(bc){case"option":vc(tc,bc),io(";");break;case"required":case"repeated":Xl(tc,bc);break;case"optional":co==="proto3"?Xl(tc,"proto3_optional"):Xl(tc,"optional");break;case"message":Wl(tc,bc);break;case"enum":dc(tc,bc);break;case"reserved":Co(tc.reserved||(tc.reserved=[]),!0);break;case"export":case"local":if(co<"2024")throw wo(bc);switch(bc=Hr(),bc){case"message":Wl(tc,bc);break;case"enum":Wl(tc,bc);break;default:throw wo(bc)}break;default:throw wo(bc)}}),al.add(tc).add(uc)}function Tl(al){io("<");var sl=Hr();if(cr.mapKey[sl]===void 0)throw wo(sl,"type");io(",");var fl=Hr();if(!Lr.test(fl))throw wo(fl,"type");io(">");var $l=Hr();if(!Tr.test($l))throw wo($l,"name");io("=");var Nl=new ir(bo($l),el(Hr()),sl,fl);ml(Nl,function(uc){if(uc==="option")vc(Nl,uc),io(";");else throw wo(uc)},function(){El(Nl)}),al.add(Nl)}function Ol(al,sl){if(!Tr.test(sl=Hr()))throw wo(sl,"name");var fl=new rr(bo(sl));ml(fl,function(Nl){Nl==="option"?(vc(fl,Nl),io(";")):(Yr(Nl),Xl(fl,"optional"))}),al.add(fl)}function dc(al,sl){if(!Tr.test(sl=Hr()))throw wo(sl,"name");var fl=new sr(sl);ml(fl,function(Nl){switch(Nl){case"option":vc(fl,Nl),io(";");break;case"reserved":Co(fl.reserved||(fl.reserved=[]),!0),fl.reserved===void 0&&(fl.reserved=[]);break;default:oc(fl,Nl)}}),al.add(fl),al===no&&mo.push(fl)}function oc(al,sl){if(!Tr.test(sl))throw wo(sl,"name");io("=");var fl=el(Hr(),!0),$l={options:void 0};$l.getOption=function(Nl){return this.options[Nl]},$l.setOption=function(Nl,tc){lr.prototype.setOption.call($l,Nl,tc)},$l.setParsedOption=function(){},ml($l,function(tc){if(tc==="option")vc($l,tc),io(";");else throw wo(tc)},function(){El($l)}),al.add(sl,fl,$l.comment,$l.parsedOptions||$l.options)}function vc(al,sl){var fl,$l,Nl=!0;for(sl==="option"&&(sl=Hr());sl!=="=";){if(sl==="("){var tc=Hr();io(")"),sl="("+tc+")"}if(Nl){if(Nl=!1,sl.includes(".")&&!sl.includes("(")){var uc=sl.split(".");fl=uc[0]+".",sl=uc[1];continue}fl=sl}else $l=$l?$l+=sl:sl;sl=Hr()}var Kc=$l?fl.concat($l):fl,bc=Ic(al,Kc);$l=$l&&$l[0]==="."?$l.slice(1):$l,fl=fl&&fl[fl.length-1]==="."?fl.slice(0,-1):fl,Rc(al,fl,bc,$l)}function Ic(al,sl){if(io("{",!0)){for(var fl={};!io("}",!0);){if(!Tr.test(Hl=Hr()))throw wo(Hl,"name");if(Hl===null)throw wo(Hl,"end of input");var $l,Nl=Hl;if(io(":",!0),ro()==="{")$l=Ic(al,sl+"."+Hl);else if(ro()==="["){$l=[];var tc;if(io("[",!0)){do tc=Fo(),$l.push(tc);while(io(",",!0));io("]"),typeof tc<"u"&&Yc(al,sl+"."+Hl,tc)}}else $l=Fo(),Yc(al,sl+"."+Hl,$l);var uc=fl[Nl];uc&&($l=[].concat(uc).concat($l)),fl[Nl]=$l,io(",",!0),io(";",!0)}return fl}var Kc=Fo();return Yc(al,sl,Kc),Kc}function Yc(al,sl,fl){if(no===al&&/^features\./.test(sl)){Eo[sl]=fl;return}al.setOption&&al.setOption(sl,fl)}function Rc(al,sl,fl,$l){al.setParsedOption&&al.setParsedOption(sl,fl,$l)}function El(al){if(io("[",!0)){do vc(al,"option");while(io(",",!0));io("]")}return al}function Kl(al,sl){if(!Tr.test(sl=Hr()))throw wo(sl,"service name");var fl=new ar(sl);ml(fl,function(Nl){if(!pl(fl,Nl))if(Nl==="rpc")ec(fl,Nl);else throw wo(Nl)}),al.add(fl),al===no&&mo.push(fl)}function ec(al,sl){var fl=fo(),$l=sl;if(!Tr.test(sl=Hr()))throw wo(sl,"name");var Nl=sl,tc,uc,Kc,bc;if(io("("),io("stream",!0)&&(uc=!0),!Lr.test(sl=Hr())||(tc=sl,io(")"),io("returns"),io("("),io("stream",!0)&&(bc=!0),!Lr.test(sl=Hr())))throw wo(sl);Kc=sl,io(")");var Cc=new or(Nl,$l,tc,Kc,uc,bc);Cc.comment=fl,ml(Cc,function(Zc){if(Zc==="option")vc(Cc,Zc),io(";");else throw wo(Zc)}),al.add(Cc)}function Fc(al,sl){if(!Lr.test(sl=Hr()))throw wo(sl,"reference");var fl=sl;ml(null,function(Nl){switch(Nl){case"required":case"repeated":Xl(al,Nl,fl);break;case"optional":co==="proto3"?Xl(al,"proto3_optional",fl):Xl(al,"optional",fl);break;default:if(co==="proto2"||!Lr.test(Nl))throw wo(Nl);Yr(Nl),Xl(al,"optional",fl);break}})}for(var Hl;(Hl=Hr())!==null;)switch(Hl){case"package":if(!ao)throw wo(Hl);Lo();break;case"import":if(!ao)throw wo(Hl);Uo();break;case"syntax":if(!ao)throw wo(Hl);$o();break;case"edition":if(!ao)throw wo(Hl);il();break;case"option":vc(no,Hl),io(";",!0);break;default:if(pl(no,Hl)){ao=!1;continue}throw wo(Hl)}return Po(),Mr.filename=null,{package:Jr,imports:uo,weakImports:oo,root:Or}}return parse_1}var common_1,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common_1;hasRequiredCommon=1,common_1=Hn;var tr=/\/|\./;function Hn(nr,ir){tr.test(nr)||(nr="google/protobuf/"+nr+".proto",ir={nested:{google:{nested:{protobuf:{nested:ir}}}}}),Hn[nr]=ir}Hn("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var er;return Hn("duration",{Duration:er={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),Hn("timestamp",{Timestamp:er}),Hn("empty",{Empty:{fields:{}}}),Hn("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),Hn("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),Hn("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),Hn.get=function(ir){return Hn[ir]||null},common_1}var hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src.exports;hasRequiredSrc=1;var tr=src.exports=requireIndexLight();return tr.build="full",tr.tokenize=requireTokenize(),tr.parse=requireParse(),tr.common=requireCommon(),tr.Root._configure(tr.Type,tr.parse,tr.common),src.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc()),protobufjs}var protobufjsExports=requireProtobufjs();const protobuf=getDefaultExportFromCjs(protobufjsExports),schemaJSON$1={nested:{Yaticker:{fields:{id:{type:"string",id:1},price:{type:"float",id:2},changePercent:{type:"float",id:8},change:{type:"float",id:12}}}}},YahooFinanceSocket=()=>{const[tr,Hn]=reactExports.useState({}),er=reactExports.useRef({});return reactExports.useEffect(()=>{const ir=protobuf.Root.fromJSON(schemaJSON$1).lookupType("Yaticker");let rr=null;const sr=()=>{rr=new WebSocket("wss://streamer.finance.yahoo.com/?version=2"),rr.onopen=()=>{const ar={subscribe:["GLD","SLV","GLDM","PSLV","ZSL","161226.SZ","1542.T","1540.T","518880.SS","159937.SZ","159934.SZ","518800.SS","SILJ","PHYS","GOLDBEES.NS","SETFGOLD.NS","SILVERBEES.NS","PSVR.L","PHSP.L","XAD2.MI","SGLE.MI"]};rr.readyState===WebSocket.OPEN&&rr.send(JSON.stringify(ar))},rr.onmessage=ar=>{try{const or=JSON.parse(ar.data);if(or.message){const lr=window.atob(or.message),cr=Uint8Array.from(lr,gr=>gr.charCodeAt(0)),ur=protobuf.Reader.create(cr),dr=ir.decode(ur,ur.len),fr=er.current[dr.id]||{};if(fr.price!==dr.price){er.current[dr.id]={...fr,...dr,prevPrice:fr.price},Hn({...er.current});try{window.dispatchEvent(new CustomEvent("yahooStocksUpdated",{detail:{stocks:{...er.current}}}))}catch{}}}}catch{console.warn("Yahoo Decode Error")}},rr.onclose=()=>setTimeout(sr,3e3)};return sr(),()=>rr&&rr.close()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(tr).filter(nr=>nr.price!==void 0&&nr.price!==null).sort((nr,ir)=>nr.id.localeCompare(ir.id)).map(nr=>jsxRuntimeExports.jsx(YahooTickerItem,{stock:nr},nr.id))})},YahooTickerItem=({stock:tr})=>{const[Hn,er]=reactExports.useState("");reactExports.useEffect(()=>{if(!tr.prevPrice||!tr.price)return;tr.price>tr.prevPrice?er("flash-green"):tr.price<tr.prevPrice&&er("flash-red");const lr=setTimeout(()=>er(""),1e3);return()=>clearTimeout(lr)},[tr.price,tr.prevPrice]);const nr=tr.change>=0,ir=lr=>lr.endsWith(".SZ")||lr.endsWith(".SS")||lr.endsWith(".T")?"":lr.endsWith(".NS")?"":lr.endsWith(".L")?"":lr.endsWith(".MI")?"":"$",rr=lr=>lr.endsWith(".SS")||lr.endsWith(".SZ")?"cn":lr.endsWith(".T")?"jp":lr.endsWith(".NS")?"in":lr.endsWith(".L")?"gb":lr.endsWith(".MI")?"it":lr==="PSLV"?"ca":"us",sr=lr=>{const cr={GLD:"SPDR Gold Shares(Vng)",GLDM:"SPDR Gold MiniShares(Vng)",PHYS:"Sprott Physical Gold(Vng)","1540.T":"Japan Physical Gold(Vng Japan)","518880.SS":"Huaan Yifu Gold Exchange Traded Fund(Vng China)","159937.SZ":"Bosera Gold Tradable Open(Vng China)","159934.SZ":"E Fund Management Company(Vng China)","518800.SS":"Guotai Asset Management Company(Vng China)","GOLDBEES.NS":"Nippon India ETF Gold","SETFGOLD.NS":"SBI Gold ETF","XAD2.MI":"Xtrackers Physical Gold(Vng Ireland)"},ur={SLV:"iShares Silver Trust(Bc)",PSLV:"Sprott Physical Silver Trust(Bc)",ZSL:"3x Inverse Silver ETN(Short Bc)",SILJ:"Amplify Junior Silver Miners(Bc)","161226.SZ":"UBS SDIC Silver Futures(Bc China)","1542.T":"Japan Physical Silver(Bc Japan)","SILVERBEES.NS":"Nippon India Silver","PSVR.L":"ETFS GBP Daily Hedged Silver","PHSP.L":"WisdomTree Physical Silver"},dr={"SGLE.MI":"Lyxor Smart Overnight Cash (Tin mt )"};return cr[lr]||ur[lr]||dr[lr]||""},ar=lr=>{const cr=sr(lr).toLowerCase();return cr.includes("vng")||cr.includes("gold")?"#ffd700":"#ffffff"},or={width:"18px",height:"auto",marginRight:"8px",verticalAlign:"middle",borderRadius:"2px"};return jsxRuntimeExports.jsxs("div",{className:`ticker-item ${Hn}`,children:[jsxRuntimeExports.jsxs("div",{className:"item-label",style:{color:ar(tr.id)},children:[jsxRuntimeExports.jsx("img",{src:`https://flagcdn.com/w40/${rr(tr.id)}.png`,style:or,alt:"flag"}),tr.id.match(/\.(SS|SZ|T|NS|L|MI)$/)?jsxRuntimeExports.jsx("span",{className:"stock-full-name",children:sr(tr.id)}):jsxRuntimeExports.jsxs("div",{className:"stock-id-wrapper",style:{display:"inline-flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("span",{className:"stock-id",style:{color:ar(tr.id)},children:tr.id}),jsxRuntimeExports.jsxs("span",{className:"stock-note",style:{marginLeft:"4px"},children:["(",sr(tr.id),")"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"item-price",children:[jsxRuntimeExports.jsx("span",{className:"currency-symbol",children:ir(tr.id)}),tr.price?.toLocaleString(void 0,{minimumFractionDigits:2}),jsxRuntimeExports.jsxs("span",{className:`price-change ${nr?"positive":"negative"}`,children:[nr?"+":"",tr.change?.toFixed(2)," (",nr?"+":"",tr.changePercent?.toFixed(2),"%)"]})]})]})},schemaJSON={nested:{Yaticker:{fields:{id:{type:"string",id:1},price:{type:"float",id:2},changePercent:{type:"float",id:8},change:{type:"float",id:12}}}}},nameMapping={"Au99.99":"9999(Vng) ","Ag(T+D)":"T+D(Bc)"},RongTongSocket=()=>{const[tr,Hn]=reactExports.useState({}),[er,nr]=reactExports.useState({}),[ir,rr]=reactExports.useState(.144218),[sr,ar]=reactExports.useState(null),or=reactExports.useRef({}),lr=reactExports.useRef({}),cr=reactExports.useRef(null),ur=reactExports.useRef(null),dr=reactExports.useRef(!1),fr=reactExports.useRef(new Audio("dxy_tang_giam.mp3")),gr=reactExports.useRef(0);return reactExports.useEffect(()=>{const yr=async()=>{if(!dr.current)try{const Tr=await(await fetch("https://wise.com/rates/history+live?source=CNY&target=USD&length=30&resolution=hourly&unit=day")).json();if(Tr&&Tr.length>0){const Lr=Tr[Tr.length-1].value;rr(Lr),dr.current=!0}}catch{setTimeout(yr,1e4)}};yr();const vr=()=>{const Sr=new WebSocket("wss://rtjwbqt.jzj9999.com:8443/gateway");Sr.binaryType="arraybuffer",cr.current=Sr,Sr.onopen=()=>{["CCAQACIpKicKA3J0ahIgPdX5OFO8hZAxBHr6qFsSZvneyfoH0NIbRCiRS93ANdM=","CBIQFiL5AQoHQXU5OS45OQoHQXUoVCtEKQoJSlpKX2F1X1BTCglKWkpfYXVfUEIKCUpaSl9hZ19QUwoJSlpKX2FnX1BCCglKWkpfcHRfUFMKCUpaSl9wdF9QQgoJSlpKX3BkX1BTCglKWkpfcGRfUEIKCVJIX0paTF9QUwoJUkhfSlpMX1BCCglKWkpfSVJfUFMKCUpaSl9JUl9QQgoJSlpKX1JVX1BTCglKWkpfUlVfUEIKB0FnKFQrRCkKB1B0OTkuOTUKBEdMTkMKBFBMTkMKBFBBTkMKBFNMTkMKAlJICgNYQVUKA1hBRwoDWEFQCgNYUEQKBlVTRENOSBIBAA=="].forEach((Lr,Mr)=>setTimeout(()=>{Sr.readyState===1&&Sr.send(Uint8Array.from(atob(Lr),Nr=>Nr.charCodeAt(0)))},Mr*300))},Sr.onmessage=Tr=>{const Lr=new Uint8Array(Tr.data);if(Lr.length<50)return;const Mr=new DataView(Lr.buffer),Nr=new TextDecoder().decode(Lr);let Or=!1;Object.keys(nameMapping).forEach(Fr=>{const Gr=Nr.indexOf(Fr);if(Gr!==-1){let qr,Hr;const Yr=[],ro=Math.min(Gr+500,Lr.length-8);for(let io=Gr;io<ro;io++)try{const fo=Mr.getFloat64(io,!0);fo>1e3&&fo<5e4&&Yr.push({val:fo,offset:io-Gr})}catch{}if(Fr==="Au99.99"){const io=Yr.find(ao=>ao.offset>100&&ao.offset<1200)?.val,fo=Yr.find(ao=>ao.offset>30&&ao.offset<300&&ao.val<4e3)?.val;io&&fo&&(qr=io,Hr=fo)}else if(Fr==="Ag(T+D)"){const io=Yr.filter(fo=>fo.val>5e3);io.length>=2&&(qr=io[0].val,Hr=io[1].val)}if(qr&&Hr){const io=or.current[Fr]||{};(io.sell!==Hr||io.buy!==qr)&&(or.current[Fr]={id:Fr,name:nameMapping[Fr],buy:qr,sell:Hr,prevSell:io.sell},Or=!0)}}}),Or&&Hn({...or.current})},Sr.onclose=()=>setTimeout(vr,3e3)},jr=()=>{const Tr=protobuf.Root.fromJSON(schemaJSON).lookupType("Yaticker"),Lr=new WebSocket("wss://streamer.finance.yahoo.com/?version=2");ur.current=Lr,Lr.onopen=()=>{Lr.readyState===1&&Lr.send(JSON.stringify({subscribe:["DX-Y.NYB"]}))},Lr.onmessage=Mr=>{try{const Nr=JSON.parse(Mr.data);if(Nr.message){const Or=Uint8Array.from(window.atob(Nr.message),Yr=>Yr.charCodeAt(0)),Fr=Tr.decode(Or),Gr=Fr.changePercent,qr=Date.now();if(Math.abs(Gr)>=.1&&qr-gr.current>=3e4){const Yr=Gr>0;ar({title:Yr?"DXY Tng  Vng Bc Gim  ":"DXY Gim  Vng Bc Tng  ",percent:Gr.toFixed(2),isUp:Yr}),fr.current.play().catch(()=>{}),gr.current=qr,setTimeout(()=>ar(null),8e3)}const Hr=lr.current[Fr.id]||{};Hr.price!==Fr.price&&(lr.current[Fr.id]={...Hr,...Fr,prevPrice:Hr.price},nr({...lr.current}))}}catch{}},Lr.onclose=()=>setTimeout(jr,3e3)};return vr(),jr(),()=>{cr.current?.close(),ur.current?.close()}},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{children:`
      .ticker-container { display: flex; flex-wrap: wrap; gap: 5px; }
      .ticker-item { 
        display: flex; 
        align-items: center; 
        padding: 0 10px; 
        font-family: monospace; 
        height: 32px; 
        background: #1a1a1a; 
        margin-bottom: 2px; 
      }

      .flash-green { background-color: rgba(0, 255, 0, 0.2) !important; }
      .flash-red { background-color: rgba(255, 0, 0, 0.2) !important; }

      .item-label { 
        color: #ffd700; 
        font-weight: bold; 
        margin-right: 8px; 
        white-space: nowrap; 
      }

      .item-prices { 
        display: flex; 
        gap: 10px; 
        white-space: nowrap; 
        color: #fff; 
      }

      .price-buy { color: #ff4d4d; }
      .price-sell { color: #00ff00; }
      .positive { color: #00ff00; }
      .negative { color: #ff4d4d; }

      /* ================= NOTIFICATION ================= */

      .dxy-noti {
        position: fixed;
        top: 12px;
        right: 12px;
        padding: 10px 14px;
        border-radius: 8px;
        color: white;
        font-weight: bold;
        font-family: sans-serif;
        z-index: 9999;
        box-shadow: 0 5px 15px rgba(0,0,0,0.6);
        animation: slideIn 0.3s ease-out;
        display: inline-flex;
        align-items: flex-start;
        gap: 10px;
        min-width: 280px;
      }

      .noti-up { 
        background: linear-gradient(135deg, #004d00, #00c853); 
        border-left: 4px solid #ffffff; 
      }

      .noti-down { 
        background: linear-gradient(135deg, #800000, #ff4d4d); 
        border-left: 4px solid #ffffff; 
      }

      .noti-content {
        display: flex;
        flex-direction: column;
      }

      .noti-title {
        font-size: 18px;
        line-height: 1.3;
      }

      .noti-percent {
        font-size: 14px;
        opacity: 0.95;
        margin-top: 2px;
      }

      .noti-close {
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        opacity: 0.8;
        transition: 0.2s;
      }

      .noti-close:hover {
        opacity: 1;
        transform: scale(1.1);
      }

      @keyframes slideIn {
        from { transform: translateX(110%); }
        to { transform: translateX(0); }
      }

      /* ===== Mobile ti u ===== */
      @media (max-width: 768px) {
        .dxy-noti {
          padding: 8px 10px;
          border-radius: 6px;
          font-size: 13px;
          min-width: unset;
          max-width: 90vw;
        }

        .noti-title {
          font-size: 12px;
        }

        .noti-percent {
          font-size: 10px;
        }
      }
    `}),sr&&jsxRuntimeExports.jsxs("div",{className:`dxy-noti ${sr.isUp?"noti-up":"noti-down"}`,children:[jsxRuntimeExports.jsxs("div",{className:"noti-content",children:[jsxRuntimeExports.jsx("div",{className:"noti-title",children:sr.title}),jsxRuntimeExports.jsxs("div",{className:"noti-percent",children:["Bin ng: ",sr.isUp?"+":"",sr.percent,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"noti-close",onClick:()=>ar(null),children:""})]}),jsxRuntimeExports.jsxs("div",{className:"ticker-container",children:[Object.values(tr).map(yr=>jsxRuntimeExports.jsx(RongTongTickerItem,{stock:yr,rate:ir},yr.id)),er["DX-Y.NYB"]&&jsxRuntimeExports.jsx(YahooDXYItem,{stock:er["DX-Y.NYB"]})]})]})},RongTongTickerItem=({stock:tr,rate:Hn})=>{const[er,nr]=reactExports.useState("");reactExports.useEffect(()=>{if(!tr.prevSell||!tr.sell)return;nr(tr.sell>tr.prevSell?"flash-green":"flash-red");const rr=setTimeout(()=>nr(""),1e3);return()=>clearTimeout(rr)},[tr.sell]);const ir=rr=>rr*Hn*31.1035/1e3;return jsxRuntimeExports.jsxs("div",{className:`ticker-item ${er}`,children:[jsxRuntimeExports.jsx("span",{className:"item-label",style:{color:tr.id==="Au99.99"?"#ffd700":"#ffffff"},children:tr.name}),jsxRuntimeExports.jsxs("div",{className:"item-prices",children:[jsxRuntimeExports.jsxs("span",{className:"price-buy",children:["Mua: ",ir(tr.buy).toFixed(3),"$"]}),jsxRuntimeExports.jsxs("span",{className:"price-sell",children:["Bn: ",ir(tr.sell).toFixed(3),"$"]})]})]})},YahooDXYItem=({stock:tr})=>{const[Hn,er]=reactExports.useState("");reactExports.useEffect(()=>{if(!tr.prevPrice||!tr.price)return;er(tr.price>tr.prevPrice?"flash-green":"flash-red");const ir=setTimeout(()=>er(""),1e3);return()=>clearTimeout(ir)},[tr.price]);const nr=tr.change>=0;return jsxRuntimeExports.jsxs("div",{className:`ticker-item ${Hn}`,children:[jsxRuntimeExports.jsx("span",{className:"item-label",style:{color:"#fff"},children:"DXY"}),jsxRuntimeExports.jsxs("div",{className:"item-prices",children:[jsxRuntimeExports.jsx("span",{style:{color:"#fff"},children:tr.price?.toFixed(3)}),jsxRuntimeExports.jsxs("span",{className:`price-change ${nr?"positive":"negative"}`,style:{marginLeft:"8px"},children:[nr?"+":"",tr.change?.toFixed(2)," (",nr?"+":"",tr.changePercent?.toFixed(2),"%)"]})]})]})},findItem=(tr,Hn,er="hanoi")=>{if(!tr||!Array.isArray(tr))return null;const nr=tr.find(ir=>ir.name===Hn);return nr?nr[er]||nr:null},getXauUsd=tr=>{if(tr?.currencyNationWide){const Hn=findItem(tr.currencyNationWide,"XAUUSD","hanoi");if(Hn)return Hn}if(tr?.goldNationWide){const Hn=findItem(tr.goldNationWide,"XAUUSD","hanoi");if(Hn)return Hn}return null},getGold9999Hanoi=tr=>tr?.goldNationWide?findItem(tr.goldNationWide,"999,9 TD","hanoi"):null,getGold9999Saigon=tr=>tr?.goldNationWide?findItem(tr.goldNationWide,"999,9 TD","saigon"):null,getUsdVnd=tr=>tr?.currencyNationWide?findItem(tr.currencyNationWide,"USD","hanoi"):null,getGoldConversion=tr=>{const Hn=getXauUsd(tr),er=getUsdVnd(tr);if(!Hn?.buy||!er?.buy)return null;const nr=Hn.buy*er.buy*1.20565303,ir=Hn.sell*er.sell*1.20565303;return{buy:Math.round(nr),sell:Math.round(ir)}},getSjcFree=tr=>tr?.sjcNationWide?findItem(tr.sjcNationWide,"SJC TD","hanoi"):null,getXagUsd=tr=>{if(tr?.silver_price){const Hn=findItem(tr.silver_price,"XAGUSD","hanoi");if(Hn)return Hn}if(tr?.currencyNationWide){const Hn=findItem(tr.currencyNationWide,"XAGUSD","hanoi");if(Hn)return Hn}return null},getSilverPerCanHanoi=tr=>{const Hn=tr?.silver_price?findItem(tr.silver_price,"XAGUSD","hanoi"):null,er=tr?.currencyNationWide?findItem(tr.currencyNationWide,"USD","hanoi"):null;if(Hn?.buy&&er?.buy){const nr=Hn.buy*er.buy*26.6666*1.20565303,ir=Hn.sell*er.sell*26.6666*1.20565303;return{buy:Math.round(nr),sell:Math.round(ir)}}return null},getSilverPerCanSaigon=tr=>{const Hn=tr?.silver_price?findItem(tr.silver_price,"GOLDENFUND_1L","saigon"):null,er=tr?.currencyNationWide?findItem(tr.currencyNationWide,"USD","saigon"):null;if(Hn?.buy&&er?.buy){const nr=(Hn.buy-80)*26.6666*1e3,ir=(Hn.sell-180)*26.6666*1e3;return{buy:Math.round(nr),sell:Math.round(ir)}}return null},formatTickerPrice=tr=>!tr&&tr!==0?"N/A":new Intl.NumberFormat("vi-VN").format(Math.round(tr)),RealTimeTicker=()=>{const{liveData:tr}=useRealTimeData(),[Hn,er]=reactExports.useState({}),nr=reactExports.useMemo(()=>tr?{xauUsd:getXauUsd(tr),gold9999Hanoi:getGold9999Hanoi(tr),gold9999Saigon:getGold9999Saigon(tr),usdVnd:getUsdVnd(tr),goldConversion:getGoldConversion(tr),sjcFree:getSjcFree(tr),xagUsd:getXagUsd(tr),silverPerCanHanoi:getSilverPerCanHanoi(tr),silverPerCanSaigon:getSilverPerCanSaigon(tr)}:null,[tr]);reactExports.useEffect(()=>{nr&&er(nr)},[nr]);const ir=()=>jsxRuntimeExports.jsxs("div",{className:"ticker-group",children:[jsxRuntimeExports.jsx("span",{className:"group-label",children:" VNG"}),jsxRuntimeExports.jsx(TickerItem,{label:"XAU/USD (oz)",data:nr?.xauUsd,prevData:Hn.xauUsd}),jsxRuntimeExports.jsx(TickerItem,{label:"Vng Nguyn Liu",data:nr?.gold9999Hanoi,prevData:Hn.gold9999Hanoi}),jsxRuntimeExports.jsx(TickerItem,{label:"Vng Quy i",data:nr?.goldConversion,prevData:Hn.goldConversion}),jsxRuntimeExports.jsx(TickerItem,{label:"SJC T Do",data:nr?.sjcFree,prevData:Hn.sjcFree}),jsxRuntimeExports.jsx("span",{className:"group-label",children:" T GI"}),jsxRuntimeExports.jsx(TickerItem,{label:"USD/VND",data:nr?.usdVnd,prevData:Hn.usdVnd}),jsxRuntimeExports.jsx("span",{className:"group-label",children:" BC"}),jsxRuntimeExports.jsx(TickerItem,{label:"XAG/USD (oz)",data:nr?.xagUsd,prevData:Hn.xagUsd}),jsxRuntimeExports.jsx(TickerItem,{label:"Gi quy i bc 1kg",data:nr?.silverPerCanHanoi,prevData:Hn.silverPerCanHanoi}),jsxRuntimeExports.jsx(TickerItem,{label:"BC NGUYN LIU 1KG",data:nr?.silverPerCanSaigon,prevData:Hn.silverPerCanSaigon})]});return jsxRuntimeExports.jsx("div",{className:"real-time-ticker",children:jsxRuntimeExports.jsx("div",{className:"ticker-scroll-container",children:jsxRuntimeExports.jsxs("div",{className:"ticker-content",children:[jsxRuntimeExports.jsx("div",{className:"ticker-row marquee-row",children:jsxRuntimeExports.jsxs("div",{className:"marquee-wrapper",children:[jsxRuntimeExports.jsx(ir,{}),jsxRuntimeExports.jsx(ir,{})]})}),jsxRuntimeExports.jsx("div",{className:"ticker-row etf-row marquee-row",style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"4px"},children:jsxRuntimeExports.jsxs("div",{className:"marquee-wrapper marquee-slow",children:[jsxRuntimeExports.jsxs("div",{className:"ticker-group",children:[jsxRuntimeExports.jsx("span",{className:"group-label etf-label",children:"ETF"}),jsxRuntimeExports.jsx(YahooFinanceSocket,{})]}),jsxRuntimeExports.jsxs("div",{className:"ticker-group",children:[jsxRuntimeExports.jsx("span",{className:"group-label etf-label",children:"ETF"}),jsxRuntimeExports.jsx(YahooFinanceSocket,{})]})]})}),jsxRuntimeExports.jsx("div",{className:"ticker-row",style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"4px"},children:jsxRuntimeExports.jsxs("div",{className:"ticker-group",children:[jsxRuntimeExports.jsx("span",{className:"group-label etf-label",style:{color:"#3b82f6"},children:"ChinaSpot"}),jsxRuntimeExports.jsx(RongTongSocket,{})]})})]})})})},TickerItem=({label:tr,data:Hn,prevData:er})=>{const[nr,ir]=reactExports.useState("");return reactExports.useEffect(()=>{if(!er||!Hn)return;Hn.buy>er.buy||Hn.sell>er.sell?ir("flash-green"):(Hn.buy<er.buy||Hn.sell<er.sell)&&ir("flash-red");const rr=setTimeout(()=>ir(""),1e3);return()=>clearTimeout(rr)},[Hn,er]),Hn?jsxRuntimeExports.jsxs("div",{className:`ticker-item ${nr}`,children:[jsxRuntimeExports.jsx("span",{className:"item-label",children:tr}),jsxRuntimeExports.jsxs("div",{className:"item-prices",children:[jsxRuntimeExports.jsxs("span",{className:"price-buy",children:["Mua: ",formatTickerPrice(Hn.buy)]}),jsxRuntimeExports.jsxs("span",{className:"price-sell",children:["Bn: ",formatTickerPrice(Hn.sell)]})]})]}):jsxRuntimeExports.jsxs("div",{className:"ticker-item",children:[jsxRuntimeExports.jsx("span",{className:"item-label",children:tr}),jsxRuntimeExports.jsx("span",{children:"N/A"})]})},normalizeCalendarEvents=tr=>{if(!tr)return[];let Hn=[];return Array.isArray(tr)?Hn=tr:Array.isArray(tr.Calendars)?Hn=tr.Calendars:Array.isArray(tr.calendar)?Hn=tr.calendar:Array.isArray(tr.calendarEvents)?Hn=tr.calendarEvents:tr.calendars&&Array.isArray(tr.calendars.items)?Hn=tr.calendars.items:tr.calendars&&Array.isArray(tr.calendars)&&(Hn=tr.calendars),Hn.map((er,nr)=>{const ir=parseDateTime(er);return{id:er.id||er.ID||er.event_id||nr,title:er.title||er.event||er.event_name||"S kin kinh t",country:(er.country||er.country_code||"US").toUpperCase(),important:Number(er.important??er.importance??er.level??0),previous:er.previous??er.prev??null,forecast:er.forecast??er.consensus??null,actual:er.actual??er.real??null,time:ir,result:inferResult(er)}})},generateMockCalendarData=()=>[{id:1,title:"ISM PMI SN XUT",country:"US",important:3,previous:49.1,forecast:49.4,actual:48.7,time:new Date("2025-11-03T22:00:00"),result:!1},{id:2,title:"BO CO ADP NONFARM",country:"US",important:3,previous:null,forecast:28,actual:42,time:new Date("2025-11-05T20:15:00"),result:!0},{id:3,title:"ISM PMI DCH V",country:"US",important:3,previous:50,forecast:50.8,actual:52.4,time:new Date("2025-11-05T22:00:00"),result:!0}],formatTime$1=tr=>tr?tr.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"N/A",formatDate$4=tr=>{if(!tr)return"N/A";const er=["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"][tr.getDay()],nr=String(tr.getDate()).padStart(2,"0"),ir=String(tr.getMonth()+1).padStart(2,"0");return`${er}, ${nr}/${ir}`},formatStat=tr=>tr==null?"N/A":typeof tr=="string"?tr:Number(tr).toLocaleString("vi-VN"),parseDateTime=tr=>{if(!tr)return new Date;const Hn=tr.date||tr.day||tr.event_date||tr.ngay||tr.date_time,er=tr.time||tr.event_time||tr.gio||tr.hour;if(tr.timestamp){const nr=Number(tr.timestamp);if(!Number.isNaN(nr))return new Date(nr*(nr<1e12?1e3:1))}if(Hn){const nr=`${Hn} ${er||""}`.trim(),ir=new Date(nr);if(!Number.isNaN(ir.getTime()))return ir}return new Date},inferResult=tr=>{const Hn=Number(tr.actual??tr.real??NaN),er=Number(tr.forecast??tr.consensus??NaN);if(!Number.isNaN(Hn)&&!Number.isNaN(er))return Hn>=er;if(typeof tr.result<"u"){if(tr.result===!0||tr.result==="good")return!0;if(tr.result===!1||tr.result==="bad")return!1}return null},CountryFlag=({country:tr="US"})=>{const Hn=er=>({US:"",GB:"",EU:"",JP:"",CN:"",AU:"",CA:"",CH:"",NZ:"",VN:""})[er.toUpperCase()]||"";return jsxRuntimeExports.jsx("div",{className:"country-flag",children:jsxRuntimeExports.jsx("span",{className:"flag-emoji",children:Hn(tr)})})},ImportanceStars=({level:tr=0})=>{const Hn=[];for(let er=0;er<3;er++)Hn.push(jsxRuntimeExports.jsx("span",{className:`star ${er<tr?"filled":""}`,children:""},er));return jsxRuntimeExports.jsx("div",{className:"importance-stars",children:Hn})},StatsBlock=({actual:tr,forecast:Hn,previous:er,result:nr})=>{const ir=()=>nr===!0?"stat-good":nr===!1?"stat-bad":"";return jsxRuntimeExports.jsxs("div",{className:"stats-block",children:[jsxRuntimeExports.jsxs("div",{className:"stat-column",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"Thc t"}),jsxRuntimeExports.jsx("div",{className:`stat-value ${ir()}`,children:formatStat(tr)})]}),jsxRuntimeExports.jsxs("div",{className:"stat-column",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"D bo"}),jsxRuntimeExports.jsx("div",{className:"stat-value stat-neutral",children:formatStat(Hn)})]}),jsxRuntimeExports.jsxs("div",{className:"stat-column",children:[jsxRuntimeExports.jsx("div",{className:"stat-label",children:"Trc "}),jsxRuntimeExports.jsx("div",{className:"stat-value stat-neutral",children:formatStat(er)})]})]})},CalendarRow=({event:tr})=>jsxRuntimeExports.jsxs("div",{className:"calendar-row",children:[jsxRuntimeExports.jsxs("div",{className:"col-datetime",children:[jsxRuntimeExports.jsx("div",{className:"date-text",children:formatDate$4(tr.time)}),jsxRuntimeExports.jsx("div",{className:"time-text",children:formatTime$1(tr.time)})]}),jsxRuntimeExports.jsx("div",{className:"col-country",children:jsxRuntimeExports.jsx(CountryFlag,{country:tr.country})}),jsxRuntimeExports.jsx("div",{className:"col-importance",children:jsxRuntimeExports.jsx(ImportanceStars,{level:tr.important})}),jsxRuntimeExports.jsxs("div",{className:"col-content",children:[jsxRuntimeExports.jsx("div",{className:"event-title",children:tr.title}),jsxRuntimeExports.jsx("button",{className:"btn-detail",children:"Xem ngay phn tch chi tit >>"})]}),jsxRuntimeExports.jsx("div",{className:"col-stats",children:jsxRuntimeExports.jsx(StatsBlock,{actual:tr.actual,forecast:tr.forecast,previous:tr.previous,result:tr.result})})]}),CalendarTable=({events:tr=[]})=>tr.length===0?jsxRuntimeExports.jsx("div",{className:"calendar-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c s kin kinh t no"})}):jsxRuntimeExports.jsxs("div",{className:"calendar-table",children:[jsxRuntimeExports.jsxs("div",{className:"calendar-header",children:[jsxRuntimeExports.jsxs("div",{className:"header-col-datetime",children:[jsxRuntimeExports.jsx("span",{children:"NGY"}),jsxRuntimeExports.jsx("span",{children:"THI GIAN"})]}),jsxRuntimeExports.jsx("div",{className:"header-col-country",children:"QUC GIA"}),jsxRuntimeExports.jsx("div",{className:"header-col-importance",children:"MC "}),jsxRuntimeExports.jsx("div",{className:"header-col-content",children:"NI DUNG"}),jsxRuntimeExports.jsx("div",{className:"header-col-stats",children:"THNG K S LIU"})]}),jsxRuntimeExports.jsx("div",{className:"calendar-body",children:tr.map(Hn=>jsxRuntimeExports.jsx(CalendarRow,{event:Hn},Hn.id))})]}),logUserInfo=(tr="Mn hnh Home.jsx")=>{const Hn=navigator.userAgent;let er="Unknown";Hn.includes("Chrome")&&!Hn.includes("Edg")&&!Hn.includes("OPR")?er="Chrome":Hn.includes("Edg")?er="Edge":Hn.includes("Firefox")?er="Firefox":Hn.includes("OPR")||Hn.includes("Opera")?er="Opera":Hn.includes("Safari")&&!Hn.includes("Chrome")&&(er="Safari");let nr="Unknown";/Windows/i.test(Hn)?nr="Windows":/Mac/i.test(Hn)?nr="MacOS":/Linux/i.test(Hn)?nr="Linux":/Android/i.test(Hn)?nr="Android":/iPhone|iPad|iPod/i.test(Hn)&&(nr="iOS");const ir=(sr,ar,or)=>{if(!/iphone/i.test(sr))return"";const lr=Math.min(ar,or),cr=Math.max(ar,or);return Math.abs(lr-375)<=5&&Math.abs(cr-667)<=5?"iPhone SE / 4.7-inch":Math.abs(lr-375)<=5&&Math.abs(cr-812)<=5?"iPhone Mini (5.4-inch)":Math.abs(lr-390)<=5&&Math.abs(cr-844)<=5?"iPhone 6.1-inch":Math.abs(lr-393)<=5&&Math.abs(cr-852)<=5?"iPhone Pro 6.1-inch":Math.abs(lr-414)<=5&&Math.abs(cr-896)<=5?"iPhone Plus / Max":Math.abs(lr-430)<=5&&Math.abs(cr-932)<=5?"iPhone Pro Max":"iPhone (Unknown)"},rr=async sr=>{const ar=window.screen.width,or=window.screen.height,lr=Math.min(ar,or)<768?1:0,cr=ir(Hn,ar,or),ur=new FormData;sr&&ur.append("maps",JSON.stringify(sr)),ur.append("widget_activate",tr),ur.append("browser_info",`${er} ${nr}`),ur.append("is_mobile",lr),ur.append("width",ar),ur.append("height",or),ur.append("device_group",cr);try{console.log("[LOG] Sending log...",{widgetActivate:tr,browser:er,os:nr,is_mobile:lr,width:ar,height:or,device_group:cr,maps:sr});const dr=await fetch("https://api_gold.thinkdiff.us/check_data_pro",{method:"POST",body:ur});console.log("[LOG] Server response:",dr.status)}catch(dr){console.error("[LOG] Fetch error:",dr)}};navigator.geolocation.getCurrentPosition(sr=>{console.log("[LOG] Geolocation OK",sr.coords),rr({lat:sr.coords.latitude,long:sr.coords.longitude})},sr=>{console.warn("[LOG] Geolocation FAILED",sr.code,sr.message),rr(null)},{timeout:5e3})},EconomicCalendar$1=()=>{const{liveData:tr}=useRealTimeData();reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh EconomicCanlendar.jsx"))()},[]);const Hn=reactExports.useMemo(()=>{if(tr){const er=normalizeCalendarEvents(tr.Calendars||tr.calendar||tr.Calendar||tr.calendars||tr.calendarEvents||tr.EconomicCalendar||tr.calendar_data);if(er.length>0)return er}return generateMockCalendarData()},[tr]);return jsxRuntimeExports.jsx("section",{className:"calendar-section",children:jsxRuntimeExports.jsxs("div",{className:"calendar-container",children:[jsxRuntimeExports.jsx("h2",{className:"calendar-title",children:"Lch Kinh T"}),jsxRuntimeExports.jsx(CalendarTable,{events:Hn})]})})};let e$2={data:""},t$1=tr=>{if(typeof window=="object"){let Hn=(tr?tr.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return Hn.nonce=window.__nonce__,Hn.parentNode||(tr||document.head).appendChild(Hn),Hn.firstChild}return tr||e$2},l$3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$4=/\/\*[^]*?\*\/|  +/g,n$2=/\n+/g,o$3=(tr,Hn)=>{let er="",nr="",ir="";for(let rr in tr){let sr=tr[rr];rr[0]=="@"?rr[1]=="i"?er=rr+" "+sr+";":nr+=rr[1]=="f"?o$3(sr,rr):rr+"{"+o$3(sr,rr[1]=="k"?"":Hn)+"}":typeof sr=="object"?nr+=o$3(sr,Hn?Hn.replace(/([^,])+/g,ar=>rr.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,or=>/&/.test(or)?or.replace(/&/g,ar):ar?ar+" "+or:or)):rr):sr!=null&&(rr=/^--/.test(rr)?rr:rr.replace(/[A-Z]/g,"-$&").toLowerCase(),ir+=o$3.p?o$3.p(rr,sr):rr+":"+sr+";")}return er+(Hn&&ir?Hn+"{"+ir+"}":ir)+nr},c$4={},s$3=tr=>{if(typeof tr=="object"){let Hn="";for(let er in tr)Hn+=er+s$3(tr[er]);return Hn}return tr},i$2=(tr,Hn,er,nr,ir)=>{let rr=s$3(tr),sr=c$4[rr]||(c$4[rr]=(or=>{let lr=0,cr=11;for(;lr<or.length;)cr=101*cr+or.charCodeAt(lr++)>>>0;return"go"+cr})(rr));if(!c$4[sr]){let or=rr!==tr?tr:(lr=>{let cr,ur,dr=[{}];for(;cr=l$3.exec(lr.replace(a$4,""));)cr[4]?dr.shift():cr[3]?(ur=cr[3].replace(n$2," ").trim(),dr.unshift(dr[0][ur]=dr[0][ur]||{})):dr[0][cr[1]]=cr[2].replace(n$2," ").trim();return dr[0]})(tr);c$4[sr]=o$3(ir?{["@keyframes "+sr]:or}:or,er?"":"."+sr)}let ar=er&&c$4.g?c$4.g:null;return er&&(c$4.g=c$4[sr]),((or,lr,cr,ur)=>{ur?lr.data=lr.data.replace(ur,or):lr.data.indexOf(or)===-1&&(lr.data=cr?or+lr.data:lr.data+or)})(c$4[sr],Hn,nr,ar),sr},p$3=(tr,Hn,er)=>tr.reduce((nr,ir,rr)=>{let sr=Hn[rr];if(sr&&sr.call){let ar=sr(er),or=ar&&ar.props&&ar.props.className||/^go/.test(ar)&&ar;sr=or?"."+or:ar&&typeof ar=="object"?ar.props?"":o$3(ar,""):ar===!1?"":ar}return nr+ir+(sr??"")},"");function u$3(tr){let Hn=this||{},er=tr.call?tr(Hn.p):tr;return i$2(er.unshift?er.raw?p$3(er,[].slice.call(arguments,1),Hn.p):er.reduce((nr,ir)=>Object.assign(nr,ir&&ir.call?ir(Hn.p):ir),{}):er,t$1(Hn.target),Hn.g,Hn.o,Hn.k)}let d$2,f$4,g$2;u$3.bind({g:1});let h$5=u$3.bind({k:1});function m$2(tr,Hn,er,nr){o$3.p=Hn,d$2=tr,f$4=er,g$2=nr}function w$4(tr,Hn){let er=this||{};return function(){let nr=arguments;function ir(rr,sr){let ar=Object.assign({},rr),or=ar.className||ir.className;er.p=Object.assign({theme:f$4&&f$4()},ar),er.o=/ *go\d+/.test(or),ar.className=u$3.apply(er,nr)+(or?" "+or:"");let lr=tr;return tr[0]&&(lr=ar.as||tr,delete ar.as),g$2&&lr[0]&&g$2(ar),d$2(lr,ar)}return ir}}var Z$2=tr=>typeof tr=="function",h$4=(tr,Hn)=>Z$2(tr)?tr(Hn):tr,W$2=(()=>{let tr=0;return()=>(++tr).toString()})(),E$3=(()=>{let tr;return()=>{if(tr===void 0&&typeof window<"u"){let Hn=matchMedia("(prefers-reduced-motion: reduce)");tr=!Hn||Hn.matches}return tr}})(),re$2=20,k$4="default",H$3=(tr,Hn)=>{let{toastLimit:er}=tr.settings;switch(Hn.type){case 0:return{...tr,toasts:[Hn.toast,...tr.toasts].slice(0,er)};case 1:return{...tr,toasts:tr.toasts.map(sr=>sr.id===Hn.toast.id?{...sr,...Hn.toast}:sr)};case 2:let{toast:nr}=Hn;return H$3(tr,{type:tr.toasts.find(sr=>sr.id===nr.id)?1:0,toast:nr});case 3:let{toastId:ir}=Hn;return{...tr,toasts:tr.toasts.map(sr=>sr.id===ir||ir===void 0?{...sr,dismissed:!0,visible:!1}:sr)};case 4:return Hn.toastId===void 0?{...tr,toasts:[]}:{...tr,toasts:tr.toasts.filter(sr=>sr.id!==Hn.toastId)};case 5:return{...tr,pausedAt:Hn.time};case 6:let rr=Hn.time-(tr.pausedAt||0);return{...tr,pausedAt:void 0,toasts:tr.toasts.map(sr=>({...sr,pauseDuration:sr.pauseDuration+rr}))}}},v$2=[],j$2={toasts:[],pausedAt:void 0,settings:{toastLimit:re$2}},f$3={},Y$2=(tr,Hn=k$4)=>{f$3[Hn]=H$3(f$3[Hn]||j$2,tr),v$2.forEach(([er,nr])=>{er===Hn&&nr(f$3[Hn])})},_$4=tr=>Object.keys(f$3).forEach(Hn=>Y$2(tr,Hn)),Q$2=tr=>Object.keys(f$3).find(Hn=>f$3[Hn].toasts.some(er=>er.id===tr)),S$3=(tr=k$4)=>Hn=>{Y$2(Hn,tr)},se$1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V$2=(tr={},Hn=k$4)=>{let[er,nr]=reactExports.useState(f$3[Hn]||j$2),ir=reactExports.useRef(f$3[Hn]);reactExports.useEffect(()=>(ir.current!==f$3[Hn]&&nr(f$3[Hn]),v$2.push([Hn,nr]),()=>{let sr=v$2.findIndex(([ar])=>ar===Hn);sr>-1&&v$2.splice(sr,1)}),[Hn]);let rr=er.toasts.map(sr=>{var ar,or,lr;return{...tr,...tr[sr.type],...sr,removeDelay:sr.removeDelay||((ar=tr[sr.type])==null?void 0:ar.removeDelay)||tr?.removeDelay,duration:sr.duration||((or=tr[sr.type])==null?void 0:or.duration)||tr?.duration||se$1[sr.type],style:{...tr.style,...(lr=tr[sr.type])==null?void 0:lr.style,...sr.style}}});return{...er,toasts:rr}},ie$1=(tr,Hn="blank",er)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:Hn,ariaProps:{role:"status","aria-live":"polite"},message:tr,pauseDuration:0,...er,id:er?.id||W$2()}),P$3=tr=>(Hn,er)=>{let nr=ie$1(Hn,tr,er);return S$3(nr.toasterId||Q$2(nr.id))({type:2,toast:nr}),nr.id},n$1=(tr,Hn)=>P$3("blank")(tr,Hn);n$1.error=P$3("error");n$1.success=P$3("success");n$1.loading=P$3("loading");n$1.custom=P$3("custom");n$1.dismiss=(tr,Hn)=>{let er={type:3,toastId:tr};Hn?S$3(Hn)(er):_$4(er)};n$1.dismissAll=tr=>n$1.dismiss(void 0,tr);n$1.remove=(tr,Hn)=>{let er={type:4,toastId:tr};Hn?S$3(Hn)(er):_$4(er)};n$1.removeAll=tr=>n$1.remove(void 0,tr);n$1.promise=(tr,Hn,er)=>{let nr=n$1.loading(Hn.loading,{...er,...er?.loading});return typeof tr=="function"&&(tr=tr()),tr.then(ir=>{let rr=Hn.success?h$4(Hn.success,ir):void 0;return rr?n$1.success(rr,{id:nr,...er,...er?.success}):n$1.dismiss(nr),ir}).catch(ir=>{let rr=Hn.error?h$4(Hn.error,ir):void 0;rr?n$1.error(rr,{id:nr,...er,...er?.error}):n$1.dismiss(nr)}),tr};var ce$1=1e3,w$3=(tr,Hn="default")=>{let{toasts:er,pausedAt:nr}=V$2(tr,Hn),ir=reactExports.useRef(new Map).current,rr=reactExports.useCallback((ur,dr=ce$1)=>{if(ir.has(ur))return;let fr=setTimeout(()=>{ir.delete(ur),sr({type:4,toastId:ur})},dr);ir.set(ur,fr)},[]);reactExports.useEffect(()=>{if(nr)return;let ur=Date.now(),dr=er.map(fr=>{if(fr.duration===1/0)return;let gr=(fr.duration||0)+fr.pauseDuration-(ur-fr.createdAt);if(gr<0){fr.visible&&n$1.dismiss(fr.id);return}return setTimeout(()=>n$1.dismiss(fr.id,Hn),gr)});return()=>{dr.forEach(fr=>fr&&clearTimeout(fr))}},[er,nr,Hn]);let sr=reactExports.useCallback(S$3(Hn),[Hn]),ar=reactExports.useCallback(()=>{sr({type:5,time:Date.now()})},[sr]),or=reactExports.useCallback((ur,dr)=>{sr({type:1,toast:{id:ur,height:dr}})},[sr]),lr=reactExports.useCallback(()=>{nr&&sr({type:6,time:Date.now()})},[nr,sr]),cr=reactExports.useCallback((ur,dr)=>{let{reverseOrder:fr=!1,gutter:gr=8,defaultPosition:yr}=dr||{},vr=er.filter(Tr=>(Tr.position||yr)===(ur.position||yr)&&Tr.height),jr=vr.findIndex(Tr=>Tr.id===ur.id),Sr=vr.filter((Tr,Lr)=>Lr<jr&&Tr.visible).length;return vr.filter(Tr=>Tr.visible).slice(...fr?[Sr+1]:[0,Sr]).reduce((Tr,Lr)=>Tr+(Lr.height||0)+gr,0)},[er]);return reactExports.useEffect(()=>{er.forEach(ur=>{if(ur.dismissed)rr(ur.id,ur.removeDelay);else{let dr=ir.get(ur.id);dr&&(clearTimeout(dr),ir.delete(ur.id))}})},[er,rr]),{toasts:er,handlers:{updateHeight:or,startPause:ar,endPause:lr,calculateOffset:cr}}},de$1=h$5`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me$2=h$5`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le$1=h$5`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C$3=w$4("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${tr=>tr.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me$2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${tr=>tr.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le$1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te$2=h$5`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F$2=w$4("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${tr=>tr.secondary||"#e0e0e0"};
  border-right-color: ${tr=>tr.primary||"#616161"};
  animation: ${Te$2} 1s linear infinite;
`,ge$1=h$5`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he$1=h$5`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L$5=w$4("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${tr=>tr.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he$1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${tr=>tr.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be$1=w$4("div")`
  position: absolute;
`,Se$1=w$4("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae$1=h$5`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe$2=w$4("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae$1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$$3=({toast:tr})=>{let{icon:Hn,type:er,iconTheme:nr}=tr;return Hn!==void 0?typeof Hn=="string"?reactExports.createElement(Pe$2,null,Hn):Hn:er==="blank"?null:reactExports.createElement(Se$1,null,reactExports.createElement(F$2,{...nr}),er!=="loading"&&reactExports.createElement(be$1,null,er==="error"?reactExports.createElement(C$3,{...nr}):reactExports.createElement(L$5,{...nr})))},Re$1=tr=>`
0% {transform: translate3d(0,${tr*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee$1=tr=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${tr*-150}%,-1px) scale(.6); opacity:0;}
`,ve$2="0%{opacity:0;} 100%{opacity:1;}",De$1="0%{opacity:1;} 100%{opacity:0;}",Oe$1=w$4("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie$1=w$4("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke$2=(tr,Hn)=>{let er=tr.includes("top")?1:-1,[nr,ir]=E$3()?[ve$2,De$1]:[Re$1(er),Ee$1(er)];return{animation:Hn?`${h$5(nr)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$5(ir)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N$3=reactExports.memo(({toast:tr,position:Hn,style:er,children:nr})=>{let ir=tr.height?ke$2(tr.position||Hn||"top-center",tr.visible):{opacity:0},rr=reactExports.createElement($$3,{toast:tr}),sr=reactExports.createElement(Ie$1,{...tr.ariaProps},h$4(tr.message,tr));return reactExports.createElement(Oe$1,{className:tr.className,style:{...ir,...er,...tr.style}},typeof nr=="function"?nr({icon:rr,message:sr}):reactExports.createElement(reactExports.Fragment,null,rr,sr))});m$2(reactExports.createElement);var we$2=({id:tr,className:Hn,style:er,onHeightUpdate:nr,children:ir})=>{let rr=reactExports.useCallback(sr=>{if(sr){let ar=()=>{let or=sr.getBoundingClientRect().height;nr(tr,or)};ar(),new MutationObserver(ar).observe(sr,{subtree:!0,childList:!0,characterData:!0})}},[tr,nr]);return reactExports.createElement("div",{ref:rr,className:Hn,style:er},ir)},Me$2=(tr,Hn)=>{let er=tr.includes("top"),nr=er?{top:0}:{bottom:0},ir=tr.includes("center")?{justifyContent:"center"}:tr.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E$3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${Hn*(er?1:-1)}px)`,...nr,...ir}},Ce$2=u$3`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D$3=16,Fe$1=({reverseOrder:tr,position:Hn="top-center",toastOptions:er,gutter:nr,children:ir,toasterId:rr,containerStyle:sr,containerClassName:ar})=>{let{toasts:or,handlers:lr}=w$3(er,rr);return reactExports.createElement("div",{"data-rht-toaster":rr||"",style:{position:"fixed",zIndex:9999,top:D$3,left:D$3,right:D$3,bottom:D$3,pointerEvents:"none",...sr},className:ar,onMouseEnter:lr.startPause,onMouseLeave:lr.endPause},or.map(cr=>{let ur=cr.position||Hn,dr=lr.calculateOffset(cr,{reverseOrder:tr,gutter:nr,defaultPosition:Hn}),fr=Me$2(ur,dr);return reactExports.createElement(we$2,{id:cr.id,key:cr.id,onHeightUpdate:lr.updateHeight,className:cr.visible?Ce$2:"",style:fr},cr.type==="custom"?h$4(cr.message,cr):ir?ir(cr):reactExports.createElement(N$3,{toast:cr,position:ur}))}))},zt$2=n$1;const NewsNotification=()=>{const tr="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg",{liveData:Hn}=useRealTimeData(),[er,nr]=reactExports.useState(new Set),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(null),[dr,fr]=reactExports.useState(!1),[gr,yr]=reactExports.useState(!1),[vr,jr]=reactExports.useState(!1),[Sr,Tr]=reactExports.useState(null),[Lr,Mr]=reactExports.useState([]),[Nr,Or]=reactExports.useState(""),[Fr,Gr]=reactExports.useState(!1),[qr,Hr]=reactExports.useState({}),[Yr,ro]=reactExports.useState(null),io=reactExports.useRef([]),fo=reactExports.useRef([]),ao=reactExports.useRef(new Set),Jr=reactExports.useRef(null),uo=$o=>{try{return $o?decode($o):""}catch{return $o}},oo=$o=>{if(!$o||typeof $o!="string")return"";if($o.includes("facebook.com/")){const il=$o.split("/").filter(Boolean);return il[il.length-1]}return $o.includes("x.com/")&&$o.split("x.com/")[1]?.split(/[? /]/)[0]||$o},co=async($o,il="vi")=>{if(!$o)return"";if(il==="vi"&&/[]/i.test($o))return $o;try{return(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${il}&dt=t&q=${encodeURIComponent($o)}`)).json())[0].map(Wl=>Wl[0]).join("")}catch(pl){return console.error("Li dch:",pl),$o}},no=async()=>{try{const il=await(await fetch("https://api_gold.thinkdiff.us/tin_tuc_moi_nhat_1_ngay")).json();if(il.status==="success"&&il.data.length>0){const pl=il.data[il.data.length-1],Wl=await(await fetch(pl.link)).json();if(Wl.posts&&Wl.posts.length>0){const Xl=Wl.posts.map(ac=>{const Tl=uo(ac.content),Ol=uo(ac.content_text_vi);return{id:ac.post_db_id,title:Ol||Tl.substring(0,100),content:Ol||Tl,image:ac.images?.[0]||null,originalTitle:Tl,originalContent:Tl,link:ac.link_view,link_baiviet_goc:ac.link_baiviet_goc,author:ac.link_group}}).filter(ac=>!ao.current.has(ac.id));Xl.length>0&&(io.current.push(...Xl),Xl.forEach(ac=>{ac.id&&ao.current.add(ac.id)}))}}}catch($o){console.error("Li load API tin tc:",$o)}};reactExports.useEffect(()=>{no();const $o=setInterval(no,6e4);return()=>clearInterval($o)},[]),reactExports.useEffect(()=>{if(!ir)return;(async()=>{if(!/[]/i.test(ir.content)&&!or){fr(!0);try{const[pl,ml]=await Promise.all([co(ir.title,"vi"),co(ir.content,"vi")]);rr(Wl=>({...Wl,title:pl,content:ml,originalTitle:Wl.originalTitle||Wl.title,originalContent:Wl.originalContent||Wl.content}))}catch(pl){console.error("Li force translate khi m modal:",pl)}finally{fr(!1)}}})()},[ir?.id]);const mo=$o=>{let il=document.createElement("DIV");return il.innerHTML=$o,il.textContent||il.innerText||""},Eo=()=>{if(vr){window.speechSynthesis.cancel(),jr(!1);return}const $o=or&&ir.originalContent||ir.content,il=mo($o);if(!il)return;const pl=new SpeechSynthesisUtterance(il);pl.lang=or?"en-US":"vi-VN",pl.rate=1,pl.onend=()=>jr(!1),pl.onerror=()=>jr(!1),Jr.current=pl,window.speechSynthesis.speak(pl),jr(!0)};reactExports.useEffect(()=>()=>{window.speechSynthesis.cancel(),jr(!1)},[ir]),reactExports.useEffect(()=>{if(!Hn?.ContentNew)return;const $o=Hn.ContentNew.map(il=>({...il,author:il.link_group})).filter(il=>!ao.current.has(il.id));$o.length>0&&(fo.current.push(...$o),$o.forEach(il=>ao.current.add(il.id)))},[Hn]),reactExports.useEffect(()=>{const $o=setInterval(async()=>{let il=null;if(io.current.length>0){const Xl=Math.floor(Math.random()*io.current.length);il=io.current.splice(Xl,1)[0]}else if(fo.current.length>0){const Xl=Math.floor(Math.random()*fo.current.length);il=fo.current.splice(Xl,1)[0]}if(!il)return;const pl=await co(il.title,"vi"),ml=await co(il.content,"vi"),Wl={...il,title:pl,content:ml,originalTitle:il.title,originalContent:il.content};bo(Wl),nr(Xl=>new Set([...Xl,il.id]))},1e4);return()=>clearInterval($o)},[]);const bo=$o=>{zt$2.custom(il=>jsxRuntimeExports.jsxs("div",{className:`news-toast ${il.visible?"show":"hide"}`,onClick:()=>{zt$2.dismiss(il.id),rr($o)},children:[jsxRuntimeExports.jsx("div",{className:"toast-icon",children:$o.image?jsxRuntimeExports.jsx("img",{className:"icon-img",src:$o.image,alt:""}):""}),jsxRuntimeExports.jsxs("div",{className:"toast-content",children:[jsxRuntimeExports.jsx("div",{className:"toast-title",children:$o.author?`  ${oo($o.author)}`:""}),jsxRuntimeExports.jsx("div",{className:"toast-message",children:el($o.title)})]}),jsxRuntimeExports.jsx("button",{className:"toast-close",onClick:pl=>{pl.stopPropagation(),zt$2.dismiss(il.id)},children:""})]}),{duration:5e3,position:"bottom-right"})};reactExports.useEffect(()=>{if(!ir?.originalContent)return;(async()=>{try{const il=new FormData;il.append("content",ir.originalContent);const ml=await(await fetch("https://api_gold.thinkdiff.us/get_api_forumpost",{method:"POST",body:il})).json();Tr(ir.id),Mr(ml.data.list_comment_json||[])}catch(il){console.error(il)}})()},[ir]);function Po(){const[$o,il]=reactExports.useState({lat:null,long:null});return reactExports.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(pl=>il({lat:pl.coords.latitude,long:pl.coords.longitude}),()=>il({lat:null,long:null}))},[]),$o}const{lat:wo,long:To}=Po(),Fo=async()=>{if(!(!Nr.trim()||Fr)){Gr(!0);try{const $o=new FormData;if($o.append("idPost",Sr),$o.append("content",Nr),$o.append("browser_info","Chrome Web"),$o.append("lat",wo||""),$o.append("long",To||""),(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:$o})).ok){const pl={contentVI:Nr,actionAt:new Date().toLocaleString(),avatar_group:tr};Mr(ml=>[...ml,pl]),Or(""),zt$2.success("Bnh lun thnh cng!")}}catch{zt$2.error("Khng th gi bnh lun.")}finally{Gr(!1)}}},Co=async($o,il)=>{if($o){if(qr[il]){Hr(pl=>{const ml={...pl};return delete ml[il],ml});return}ro(il);try{const pl=await co($o,"vi");Hr(ml=>({...ml,[il]:pl}))}catch(pl){console.error(pl)}finally{ro(null)}}},Go=()=>{rr(null),lr(!1),ur(null),fr(!1),window.speechSynthesis.cancel(),jr(!1)},el=$o=>{if(!$o)return"";const pl=window.innerWidth<=768?100:500;return $o.length>pl?$o.slice(0,pl)+"...":$o},Lo=async()=>{if(!ir)return;const $o=ir.link||window.location.href;if(navigator.share)try{await navigator.share({title:ir.title,text:ir.title,url:$o})}catch{}else try{await navigator.clipboard.writeText($o),zt$2.success(" copy link bi vit!")}catch{}},Uo=async $o=>{if(!$o||$o.length===0)return;const il={};await Promise.all($o.map(async(pl,ml)=>{if(qr[ml])return;const Wl=pl.contentVI||pl.content||"";if(Wl.trim())try{const Xl=await co(Wl,"vi");Xl&&Xl!==Wl&&(il[ml]=Xl)}catch{}})),Object.keys(il).length>0&&Hr(pl=>({...pl,...il}))};return reactExports.useEffect(()=>{Lr.length>0&&Uo(Lr)},[Lr]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Fe$1,{position:"bottom-right",containerStyle:{bottom:40,right:40,zIndex:900}}),ir&&jsxRuntimeExports.jsxs("div",{className:"news-modal-overlay",onClick:Go,children:[jsxRuntimeExports.jsxs("div",{className:`news-modal ${gr?"news-modal--expanded":""}`,onClick:$o=>$o.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{className:"modal-title",children:el(or?ir.originalTitle:ir.title)}),jsxRuntimeExports.jsx("button",{className:"modal-icon-btn",onClick:Eo,title:vr?"Dng c":"c bi vit",style:{marginRight:"8px",background:"none",border:"none",cursor:"pointer",color:vr?"#ef4444":"#3b82f6"},children:vr?jsxRuntimeExports.jsx(IoVolumeHigh,{size:22,className:"animate-pulse"}):jsxRuntimeExports.jsx(IoVolumeMute,{size:22})}),jsxRuntimeExports.jsx("button",{className:"modal-expand-btn",onClick:()=>yr($o=>!$o),title:"Phng to / Thu nh",children:gr?"":""}),jsxRuntimeExports.jsx("button",{className:"modal-close",onClick:Go,children:""})]}),jsxRuntimeExports.jsxs("div",{className:"modal-body",children:[ir.author&&jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"15px",fontWeight:"600",color:"#ffffff",fontSize:"0.95rem",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:["c ng bi: ",jsxRuntimeExports.jsx("span",{style:{color:"#0084ff"},children:oo(ir.author)})]}),ir.image&&jsxRuntimeExports.jsx("div",{className:"contain-image",children:jsxRuntimeExports.jsx("img",{className:"icon-img-popup",src:ir.image,alt:"",onClick:()=>ar(ir.image)})}),jsxRuntimeExports.jsx("div",{className:"modal-content-notification",dangerouslySetInnerHTML:{__html:or?ir.originalContent:ir.content}}),jsxRuntimeExports.jsxs("div",{className:"comment-section",children:[jsxRuntimeExports.jsxs("div",{className:"comment-title",children:[" Bnh lun (",Lr.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"comment-input-wrap",children:[jsxRuntimeExports.jsx("img",{src:tr,className:"comment-item-avatar",style:{borderRadius:"50%"},alt:"avt"}),jsxRuntimeExports.jsxs("div",{className:"comment-input-box",children:[jsxRuntimeExports.jsx("textarea",{className:"comment-textarea",placeholder:"Vit bnh lun...",value:Nr,onChange:$o=>Or($o.target.value)}),Fr?jsxRuntimeExports.jsx("div",{className:"comment-loading-spinner"}):jsxRuntimeExports.jsx(IoSend,{onClick:Fo,style:{cursor:"pointer",color:Nr.trim()?"#0084ff":"#555",fontSize:"1.2rem"}})]})]}),jsxRuntimeExports.jsxs("div",{className:"comment-list",children:[Lr.length===0&&jsxRuntimeExports.jsx("p",{style:{fontStyle:"italic",color:"#888"},children:"Cha c bnh lun"}),Lr.map(($o,il)=>{const pl=$o.contentVI||$o.content,ml=qr[il];return jsxRuntimeExports.jsxs("div",{className:"comment-item",children:[jsxRuntimeExports.jsx("img",{src:$o?.avatar_group||tr,className:"comment-item-avatar",style:{borderRadius:"50%"},alt:"avt"}),jsxRuntimeExports.jsxs("div",{className:"comment-bubble",children:[jsxRuntimeExports.jsxs("div",{className:"comment-username",children:["Ngi dng ",il+1]}),jsxRuntimeExports.jsx("div",{className:"comment-content",children:ml||pl}),jsxRuntimeExports.jsx("div",{className:"comment-time",children:$o.actionAt}),jsxRuntimeExports.jsx("button",{className:"comment-translate-btn",onClick:()=>Co(pl,il),disabled:Yr===il,children:Yr===il?"ang dch...":ml?"Hin bn gc":"Dch"})]})]},il)})]})]}),dr&&jsxRuntimeExports.jsx("div",{className:"translating-indicator",children:jsxRuntimeExports.jsx("p",{style:{color:"#3b82f6",textAlign:"center",fontStyle:"italic"},children:"ang t ng dch..."})})]}),jsxRuntimeExports.jsxs("div",{className:"modal-footer",children:[jsxRuntimeExports.jsxs("div",{className:"modal-footer-left",children:[jsxRuntimeExports.jsxs("button",{className:"modal-btn-share",onClick:Lo,title:"Chia s tin tc",children:[jsxRuntimeExports.jsx(IoShareSocialOutline,{size:18}),jsxRuntimeExports.jsx("span",{children:"Chia s"})]}),jsxRuntimeExports.jsx("button",{className:"modal-btn-original",onClick:()=>lr($o=>!$o),disabled:dr,children:or?"Vietnam":"English"}),ir?.link_baiviet_goc&&ir.link_baiviet_goc.trim()!==""&&jsxRuntimeExports.jsxs("button",{className:"modal-btn-original",onClick:()=>window.open(ir.link_baiviet_goc,"_blank"),style:{marginLeft:"8px",display:"flex",alignItems:"center",gap:"4px",backgroundColor:"#10b981",color:"#fff"},children:[jsxRuntimeExports.jsx(LuExternalLink,{size:14}),jsxRuntimeExports.jsx("span",{children:"Xem bi gc"})]}),ir?.link&&jsxRuntimeExports.jsx("a",{href:ir.link,target:"_blank",rel:"noopener noreferrer",className:"modal-link-more",children:"Xem thm"})]}),jsxRuntimeExports.jsx("button",{className:"modal-btn-close",onClick:Go,children:"ng"})]})]}),sr&&jsxRuntimeExports.jsx("div",{className:"zoom-overlay",onClick:()=>ar(null),children:jsxRuntimeExports.jsxs("div",{className:"zoom-container",onClick:$o=>$o.stopPropagation(),children:[jsxRuntimeExports.jsx("img",{className:"zoom-image",src:sr,alt:""}),jsxRuntimeExports.jsx("button",{className:"zoom-close-bottom",onClick:()=>ar(null),children:"ng"})]})})]})]})},GOLD_ETFS=["GLD","GLDM","518880.SS","159937.SZ","159934.SZ","518800.SS"],getCountryCode$1=tr=>tr.endsWith(".SZ")||tr.endsWith(".SS")?"cn":tr.endsWith(".T")?"jp":tr==="PHYS"?"ca":"us",getETFName$1=tr=>({GLD:"SPDR Gold Shares",GLDM:"SPDR Gold MiniShares",PHYS:"Sprott Physical Gold","518880.SS":"Huaan Yifu Gold ETF","159937.SZ":"Bosera Gold Open","159934.SZ":"E Fund Management","518800.SS":"Guotai Asset Management","1540.T":"Japan Physical Gold"})[tr]||tr,pickTopMovers$1=(tr,Hn)=>{if(!tr)return{topGain:null,topLoss:null};const er=Object.values(tr).map(nr=>({...nr,changePercent:Number(nr.changePercent)})).filter(nr=>Hn.includes(nr.id)&&!isNaN(nr.changePercent));return er.length?{topGain:er.filter(nr=>nr.changePercent>0).sort((nr,ir)=>ir.changePercent-nr.changePercent)[0]||null,topLoss:er.filter(nr=>nr.changePercent<0).sort((nr,ir)=>nr.changePercent-ir.changePercent)[0]||null}:{topGain:null,topLoss:null}},getNextEntry$1=(tr,Hn)=>{const{topGain:er,topLoss:nr}=pickTopMovers$1(tr,GOLD_ETFS);return Hn==="loss"&&nr?{entry:nr,label:"ETF VNG GIM SU NHT"}:er?{entry:er,label:"ETF VNG TNG MNH NHT"}:null},GoldNotification=({interval:tr=3e4})=>{const[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState(null),rr=reactExports.useRef({}),sr=reactExports.useRef(null),ar=reactExports.useRef("loss"),or=()=>{try{const lr=new Audio("/beep.mp3");lr.volume=.7,lr.play().catch(()=>{})}catch{}};return reactExports.useEffect(()=>{const lr=cr=>{cr?.detail?.stocks&&(rr.current=cr.detail.stocks)};return window.addEventListener("yahooStocksUpdated",lr),()=>window.removeEventListener("yahooStocksUpdated",lr)},[]),reactExports.useEffect(()=>{const lr=()=>{const ur=getNextEntry$1(rr.current,ar.current);ur&&(ir({label:ur.label,name:getETFName$1(ur.entry.id),pct:ur.entry.changePercent,id:ur.entry.id}),er(!0),Math.abs(ur.entry.changePercent)>=10&&or(),setTimeout(()=>er(!1),12e3),ar.current=ar.current==="loss"?"gain":"loss")},cr=setTimeout(lr,29e3);return sr.current=setInterval(lr,tr),()=>{clearTimeout(cr),clearInterval(sr.current)}},[tr]),nr?jsxRuntimeExports.jsx("div",{className:"etf-notification gold-notification",style:{bottom:"10px",left:"10px",width:"auto",minWidth:"220px",maxWidth:"280px",padding:"4px 8px"},"aria-hidden":!Hn,children:jsxRuntimeExports.jsxs("div",{className:"notification-inner",style:{padding:0},children:[jsxRuntimeExports.jsx("button",{className:"notification-close",onClick:()=>er(!1),style:{top:"-2px",right:"-2px",fontSize:"16px"},children:""}),jsxRuntimeExports.jsx("div",{className:"notification-label",style:{fontSize:"9px",textAlign:"left",padding:0,marginBottom:"2px",opacity:.8},children:nr.label}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",overflow:"hidden",whiteSpace:"nowrap"},children:[jsxRuntimeExports.jsx("img",{src:`https://flagcdn.com/w20/${getCountryCode$1(nr.id)}.png`,style:{width:"14px",marginRight:"6px",borderRadius:"1px"},alt:"flag"}),jsxRuntimeExports.jsx("span",{style:{fontSize:"12px",fontWeight:"700",color:"#f1c40f",textOverflow:"ellipsis",overflow:"hidden"},children:nr.name})]}),jsxRuntimeExports.jsxs("span",{className:`notification-pct ${nr.pct>0?"pos":"neg"}`,style:{fontSize:"11px",padding:"1px 5px",borderRadius:"4px",minWidth:"fit-content"},children:[nr.pct>0?"+":"",nr.pct.toFixed(2),"%"]})]})]})}):null},SILVER_ETFS=["SLV","PSLV","SILJ","161226.SZ","1542.T"],getCountryCode=tr=>tr.endsWith(".SZ")||tr.endsWith(".SS")?"cn":tr.endsWith(".T")?"jp":tr==="PSLV"?"ca":"us",getETFName=tr=>({SLV:"iShares Silver Trust",PSLV:"Sprott Physical Silver",ZSL:"3x Inverse Silver",SILJ:"Junior Silver Miners","161226.SZ":"UBS Silver Futures","1542.T":"Japan Physical Silver"})[tr]||tr,pickTopMovers=(tr,Hn)=>{if(!tr)return{topGain:null,topLoss:null};const er=Object.values(tr).map(nr=>({...nr,changePercent:Number(nr.changePercent)})).filter(nr=>Hn.includes(nr.id)&&!isNaN(nr.changePercent));return er.length?{topGain:er.filter(nr=>nr.changePercent>0).sort((nr,ir)=>ir.changePercent-nr.changePercent)[0]||null,topLoss:er.filter(nr=>nr.changePercent<0).sort((nr,ir)=>nr.changePercent-ir.changePercent)[0]||null}:{topGain:null,topLoss:null}},getNextEntry=(tr,Hn)=>{const{topGain:er,topLoss:nr}=pickTopMovers(tr,SILVER_ETFS);return Hn==="loss"&&nr?{entry:nr,label:"ETF BC GIM SU NHT"}:er?{entry:er,label:"ETF BC TNG MNH NHT"}:null},SilverNotification=({interval:tr=38e3})=>{const[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState(null),rr=reactExports.useRef({}),sr=reactExports.useRef(null),ar=reactExports.useRef("gain");return reactExports.useEffect(()=>{const or=lr=>{lr?.detail?.stocks&&(rr.current=lr.detail.stocks)};return window.addEventListener("yahooStocksUpdated",or),()=>window.removeEventListener("yahooStocksUpdated",or)},[]),reactExports.useEffect(()=>{const or=()=>{if(!rr.current)return;const cr=getNextEntry(rr.current,ar.current);if(!cr)return;ir({label:cr.label,name:getETFName(cr.entry.id),pct:cr.entry.changePercent,id:cr.entry.id}),er(!0);const ur=setTimeout(()=>{er(!1)},12e3);return()=>clearTimeout(ur)},lr=setTimeout(or,14e3);return sr.current=setInterval(or,tr),()=>{clearTimeout(lr),clearInterval(sr.current)}},[tr]),!Hn||!nr?null:jsxRuntimeExports.jsx("div",{className:"etf-notification silver-notification",style:{top:"10px",left:"10px",width:"auto",minWidth:"220px",maxWidth:"280px",padding:"4px 8px"},children:jsxRuntimeExports.jsxs("div",{className:"notification-inner",style:{padding:0},children:[jsxRuntimeExports.jsx("button",{className:"notification-close",onClick:()=>er(!1),style:{top:"-2px",right:"-2px",fontSize:"16px"},children:""}),jsxRuntimeExports.jsx("div",{className:"notification-label",style:{fontSize:"9px",textAlign:"left",padding:0,marginBottom:"2px",opacity:.8},children:nr.label}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",overflow:"hidden",whiteSpace:"nowrap"},children:[jsxRuntimeExports.jsx("img",{src:`https://flagcdn.com/w20/${getCountryCode(nr.id)}.png`,style:{width:"14px",height:"auto",marginRight:"6px",borderRadius:"1px"},alt:"flag"}),jsxRuntimeExports.jsx("span",{style:{fontSize:"12px",fontWeight:"700",color:"#fbbf24",textOverflow:"ellipsis",overflow:"hidden"},children:nr.name})]}),jsxRuntimeExports.jsxs("span",{className:`notification-pct ${nr.pct>0?"pos":"neg"}`,style:{fontSize:"11px",padding:"1px 5px",borderRadius:"4px",minWidth:"fit-content"},children:[nr.pct>0?"+":"",nr.pct.toFixed(2),"%"]})]})]})})},FALLBACK_DATE={day:"01",month:"01",year:"2020",hour:"00",minute:"00"},extractDateParams=(tr,Hn)=>{if(Hn?.day&&Hn?.month&&Hn?.year&&Hn?.hour&&Hn?.minute)return{day:String(parseInt(Hn.day)||FALLBACK_DATE.day),month:String(parseInt(Hn.month)||FALLBACK_DATE.month),year:String(parseInt(Hn.year)||FALLBACK_DATE.year),hour:String(parseInt(Hn.hour)||FALLBACK_DATE.hour),minute:String(parseInt(Hn.minute)||FALLBACK_DATE.minute)};const er=tr.split("/");return er.length>=7?{day:String(parseInt(er[2])||FALLBACK_DATE.day),month:String(parseInt(er[3])||FALLBACK_DATE.month),year:String(parseInt(er[4])||FALLBACK_DATE.year),hour:String(parseInt(er[5])||FALLBACK_DATE.hour),minute:String(parseInt(er[6])||FALLBACK_DATE.minute)}:{day:String(FALLBACK_DATE.day),month:String(FALLBACK_DATE.month),year:String(FALLBACK_DATE.year),hour:String(FALLBACK_DATE.hour),minute:String(FALLBACK_DATE.minute)}},filterDate={sortBy:"datetime",sortOrder:"desc"},TimeRangeSelector=()=>{const tr=useNavigate(),Hn=useLocation(),er=useParams();console.log("urlParams",er);const nr=Hn.pathname,ir=er.region||"vietnam",rr=er.type||"gold",{displayedDates:sr,isLoading:ar}=useDateGold(filterDate);console.log("temp1",sr);const or=sr.length>0?sr[0]?.dirname:null,[lr,cr,ur]=or?or.split("_"):[null,null,null],{files:dr,isLoading:fr}=useVang247Dates(lr,cr,ur),gr=dr?.length>0?dr[0]:null,yr=reactExports.useMemo(()=>extractDateParams(nr,er),[nr,er]),vr=yr.day!==FALLBACK_DATE.day,jr=vr?yr.day:lr||FALLBACK_DATE.day,Sr=vr?yr.month:cr||FALLBACK_DATE.month,Tr=vr?yr.year:ur||FALLBACK_DATE.year,Lr=vr&&yr.hour!==FALLBACK_DATE.hour?`${yr.hour}-${yr.minute}`:gr?`${gr.hour}-${gr.minute}`:"",[Mr,Nr]=reactExports.useState(jr),[Or,Fr]=reactExports.useState(Sr),[Gr,qr]=reactExports.useState(Tr),[Hr,Yr]=reactExports.useState(Lr),{files:ro}=useVang247Dates(Mr,Or,Gr);console.log("currentSelectedDateFiles",ro),reactExports.useEffect(()=>{if(fo.current||io.current)return;const{day:oo,month:co,year:no,hour:mo,minute:Eo}=yr;if(oo!==FALLBACK_DATE.day){const bo=`${mo}-${Eo}`;(Mr!==oo||Or!==co||Gr!==no||Hr!==bo)&&(Nr(oo),Fr(co),qr(no),Yr(bo))}},[yr]),reactExports.useEffect(()=>{const oo=er.day&&er.month&&er.year&&er.hour&&er.minute,co=nr==="/"||!er.day&&!er.region||!oo;if(!ar&&!fr&&gr&&co&&lr&&cr&&ur){const no=String(gr.hour).padStart(2,"0"),mo=String(gr.minute).padStart(2,"0");console.log("cp nht navigate");const Eo=`/${ir}/${rr}/${lr}/${cr}/${ur}/${no}/${mo}`;er.symbol||tr(Eo,{replace:!0})}},[ar,fr,gr,lr,cr,ur,tr,nr,ir,rr,er.day,er.month,er.year,er.hour,er.minute,er.region]);const io=React.useRef(!1),fo=React.useRef(!1),ao=oo=>{const[co,no,mo]=oo.split("_");io.current=!0,fo.current=!0,Nr(co),Fr(no),qr(mo),Yr("")},Jr=oo=>{if(!oo)return;fo.current=!0,Yr(oo);const[co,no]=oo.split("-");if(Mr&&Or&&Gr&&co&&no){const mo=String(co).padStart(2,"0"),Eo=String(no).padStart(2,"0"),bo=`/${ir}/${rr}/${Mr}/${Or}/${Gr}/${mo}/${Eo}`;er.symbol||tr(bo,{replace:!0}),setTimeout(()=>{fo.current=!1},100)}};reactExports.useEffect(()=>{if(io.current&&Mr&&Or&&Gr&&!Hr&&ro?.length>0){const oo=ro[0],co=String(oo.hour).padStart(2,"0"),no=String(oo.minute).padStart(2,"0"),mo=`${co}-${no}`;io.current=!1,fo.current=!1,Yr(mo);const Eo=`/${ir}/${rr}/${Mr}/${Or}/${Gr}/${co}/${no}`;er.symbol||tr(Eo,{replace:!0})}},[Mr,Or,Gr,Hr,ro,ir,rr,tr]);const uo=`${Mr}_${Or}_${Gr}`;return ar||fr?jsxRuntimeExports.jsx("div",{className:"time-range-loading",children:"ang ti d liu..."}):jsxRuntimeExports.jsx("div",{className:"time-range-container",children:jsxRuntimeExports.jsxs("div",{className:"time-range-selects",children:[jsxRuntimeExports.jsxs("label",{className:"pill-select",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Ngy"}),jsxRuntimeExports.jsx("select",{id:"start-date-select",onChange:oo=>ao(oo.target.value),value:uo,style:{background:"#334155"},children:sr.filter(oo=>oo.dirname!=="image_tintuc").map(oo=>jsxRuntimeExports.jsx("option",{value:oo.dirname,children:oo.dirname.split("_").join("/")},oo.dirname))})]}),jsxRuntimeExports.jsxs("label",{className:"pill-select",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Gi"}),jsxRuntimeExports.jsxs("select",{id:"time-select",onChange:oo=>Jr(oo.target.value),value:Hr,disabled:ro?.length===0,style:{background:"#334155"},children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"-- Chn gi --"}),ro?.map(oo=>jsxRuntimeExports.jsxs("option",{value:`${oo.hour}-${oo.minute}`,children:[oo.hour,":",oo.minute]},oo.link))??null]})]})]})})},TimeRangeSelector$1=React.memo(TimeRangeSelector);function useAttribution(tr,Hn){const er=reactExports.useRef(Hn);reactExports.useEffect(function(){Hn!==er.current&&tr.attributionControl!=null&&(er.current!=null&&tr.attributionControl.removeAttribution(er.current),Hn!=null&&tr.attributionControl.addAttribution(Hn)),er.current=Hn},[tr,Hn])}const CONTEXT_VERSION=1;function createLeafletContext(tr){return Object.freeze({__version:CONTEXT_VERSION,map:tr})}function extendContext(tr,Hn){return Object.freeze({...tr,...Hn})}const LeafletContext=reactExports.createContext(null);function useLeafletContext(){const tr=reactExports.use(LeafletContext);if(tr==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return tr}function createContainerComponent(tr){function Hn(er,nr){const{instance:ir,context:rr}=tr(er).current;reactExports.useImperativeHandle(nr,()=>ir);const{children:sr}=er;return sr==null?null:React.createElement(LeafletContext,{value:rr},sr)}return reactExports.forwardRef(Hn)}function createDivOverlayComponent(tr){function Hn(er,nr){const[ir,rr]=reactExports.useState(!1),{instance:sr}=tr(er,rr).current;reactExports.useImperativeHandle(nr,()=>sr),reactExports.useEffect(function(){ir&&sr.update()},[sr,ir,er.children]);const ar=sr._contentNode;return ar?reactDomExports.createPortal(er.children,ar):null}return reactExports.forwardRef(Hn)}function createLeafComponent(tr){function Hn(er,nr){const{instance:ir}=tr(er).current;return reactExports.useImperativeHandle(nr,()=>ir),null}return reactExports.forwardRef(Hn)}function useEventHandlers(tr,Hn){const er=reactExports.useRef(void 0);reactExports.useEffect(function(){return Hn!=null&&tr.instance.on(Hn),er.current=Hn,function(){er.current!=null&&tr.instance.off(er.current),er.current=null}},[tr,Hn])}function withPane(tr,Hn){const er=tr.pane??Hn.pane;return er?{...tr,pane:er}:tr}function createDivOverlayHook(tr,Hn){return function(nr,ir){const rr=useLeafletContext(),sr=tr(withPane(nr,rr),rr);return useAttribution(rr.map,nr.attribution),useEventHandlers(sr.current,nr.eventHandlers),Hn(sr.current,rr,nr,ir),sr}}var leafletSrc$1={exports:{}};var leafletSrc=leafletSrc$1.exports,hasRequiredLeafletSrc;function requireLeafletSrc(){return hasRequiredLeafletSrc||(hasRequiredLeafletSrc=1,(function(tr,Hn){(function(er,nr){nr(Hn)})(leafletSrc,(function(er){var nr="1.9.4";function ir(xr){var Rr,Br,Qr,ho;for(Br=1,Qr=arguments.length;Br<Qr;Br++){ho=arguments[Br];for(Rr in ho)xr[Rr]=ho[Rr]}return xr}var rr=Object.create||(function(){function xr(){}return function(Rr){return xr.prototype=Rr,new xr}})();function sr(xr,Rr){var Br=Array.prototype.slice;if(xr.bind)return xr.bind.apply(xr,Br.call(arguments,1));var Qr=Br.call(arguments,2);return function(){return xr.apply(Rr,Qr.length?Qr.concat(Br.call(arguments)):arguments)}}var ar=0;function or(xr){return"_leaflet_id"in xr||(xr._leaflet_id=++ar),xr._leaflet_id}function lr(xr,Rr,Br){var Qr,ho,jo,zo;return zo=function(){Qr=!1,ho&&(jo.apply(Br,ho),ho=!1)},jo=function(){Qr?ho=arguments:(xr.apply(Br,arguments),setTimeout(zo,Rr),Qr=!0)},jo}function cr(xr,Rr,Br){var Qr=Rr[1],ho=Rr[0],jo=Qr-ho;return xr===Qr&&Br?xr:((xr-ho)%jo+jo)%jo+ho}function ur(){return!1}function dr(xr,Rr){if(Rr===!1)return xr;var Br=Math.pow(10,Rr===void 0?6:Rr);return Math.round(xr*Br)/Br}function fr(xr){return xr.trim?xr.trim():xr.replace(/^\s+|\s+$/g,"")}function gr(xr){return fr(xr).split(/\s+/)}function yr(xr,Rr){Object.prototype.hasOwnProperty.call(xr,"options")||(xr.options=xr.options?rr(xr.options):{});for(var Br in Rr)xr.options[Br]=Rr[Br];return xr.options}function vr(xr,Rr,Br){var Qr=[];for(var ho in xr)Qr.push(encodeURIComponent(Br?ho.toUpperCase():ho)+"="+encodeURIComponent(xr[ho]));return(!Rr||Rr.indexOf("?")===-1?"?":"&")+Qr.join("&")}var jr=/\{ *([\w_ -]+) *\}/g;function Sr(xr,Rr){return xr.replace(jr,function(Br,Qr){var ho=Rr[Qr];if(ho===void 0)throw new Error("No value provided for variable "+Br);return typeof ho=="function"&&(ho=ho(Rr)),ho})}var Tr=Array.isArray||function(xr){return Object.prototype.toString.call(xr)==="[object Array]"};function Lr(xr,Rr){for(var Br=0;Br<xr.length;Br++)if(xr[Br]===Rr)return Br;return-1}var Mr="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Nr(xr){return window["webkit"+xr]||window["moz"+xr]||window["ms"+xr]}var Or=0;function Fr(xr){var Rr=+new Date,Br=Math.max(0,16-(Rr-Or));return Or=Rr+Br,window.setTimeout(xr,Br)}var Gr=window.requestAnimationFrame||Nr("RequestAnimationFrame")||Fr,qr=window.cancelAnimationFrame||Nr("CancelAnimationFrame")||Nr("CancelRequestAnimationFrame")||function(xr){window.clearTimeout(xr)};function Hr(xr,Rr,Br){if(Br&&Gr===Fr)xr.call(Rr);else return Gr.call(window,sr(xr,Rr))}function Yr(xr){xr&&qr.call(window,xr)}var ro={__proto__:null,extend:ir,create:rr,bind:sr,get lastId(){return ar},stamp:or,throttle:lr,wrapNum:cr,falseFn:ur,formatNum:dr,trim:fr,splitWords:gr,setOptions:yr,getParamString:vr,template:Sr,isArray:Tr,indexOf:Lr,emptyImageUrl:Mr,requestFn:Gr,cancelFn:qr,requestAnimFrame:Hr,cancelAnimFrame:Yr};function io(){}io.extend=function(xr){var Rr=function(){yr(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Br=Rr.__super__=this.prototype,Qr=rr(Br);Qr.constructor=Rr,Rr.prototype=Qr;for(var ho in this)Object.prototype.hasOwnProperty.call(this,ho)&&ho!=="prototype"&&ho!=="__super__"&&(Rr[ho]=this[ho]);return xr.statics&&ir(Rr,xr.statics),xr.includes&&(fo(xr.includes),ir.apply(null,[Qr].concat(xr.includes))),ir(Qr,xr),delete Qr.statics,delete Qr.includes,Qr.options&&(Qr.options=Br.options?rr(Br.options):{},ir(Qr.options,xr.options)),Qr._initHooks=[],Qr.callInitHooks=function(){if(!this._initHooksCalled){Br.callInitHooks&&Br.callInitHooks.call(this),this._initHooksCalled=!0;for(var jo=0,zo=Qr._initHooks.length;jo<zo;jo++)Qr._initHooks[jo].call(this)}},Rr},io.include=function(xr){var Rr=this.prototype.options;return ir(this.prototype,xr),xr.options&&(this.prototype.options=Rr,this.mergeOptions(xr.options)),this},io.mergeOptions=function(xr){return ir(this.prototype.options,xr),this},io.addInitHook=function(xr){var Rr=Array.prototype.slice.call(arguments,1),Br=typeof xr=="function"?xr:function(){this[xr].apply(this,Rr)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Br),this};function fo(xr){if(!(typeof L>"u"||!L||!L.Mixin)){xr=Tr(xr)?xr:[xr];for(var Rr=0;Rr<xr.length;Rr++)xr[Rr]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ao={on:function(xr,Rr,Br){if(typeof xr=="object")for(var Qr in xr)this._on(Qr,xr[Qr],Rr);else{xr=gr(xr);for(var ho=0,jo=xr.length;ho<jo;ho++)this._on(xr[ho],Rr,Br)}return this},off:function(xr,Rr,Br){if(!arguments.length)delete this._events;else if(typeof xr=="object")for(var Qr in xr)this._off(Qr,xr[Qr],Rr);else{xr=gr(xr);for(var ho=arguments.length===1,jo=0,zo=xr.length;jo<zo;jo++)ho?this._off(xr[jo]):this._off(xr[jo],Rr,Br)}return this},_on:function(xr,Rr,Br,Qr){if(typeof Rr!="function"){console.warn("wrong listener type: "+typeof Rr);return}if(this._listens(xr,Rr,Br)===!1){Br===this&&(Br=void 0);var ho={fn:Rr,ctx:Br};Qr&&(ho.once=!0),this._events=this._events||{},this._events[xr]=this._events[xr]||[],this._events[xr].push(ho)}},_off:function(xr,Rr,Br){var Qr,ho,jo;if(this._events&&(Qr=this._events[xr],!!Qr)){if(arguments.length===1){if(this._firingCount)for(ho=0,jo=Qr.length;ho<jo;ho++)Qr[ho].fn=ur;delete this._events[xr];return}if(typeof Rr!="function"){console.warn("wrong listener type: "+typeof Rr);return}var zo=this._listens(xr,Rr,Br);if(zo!==!1){var tl=Qr[zo];this._firingCount&&(tl.fn=ur,this._events[xr]=Qr=Qr.slice()),Qr.splice(zo,1)}}},fire:function(xr,Rr,Br){if(!this.listens(xr,Br))return this;var Qr=ir({},Rr,{type:xr,target:this,sourceTarget:Rr&&Rr.sourceTarget||this});if(this._events){var ho=this._events[xr];if(ho){this._firingCount=this._firingCount+1||1;for(var jo=0,zo=ho.length;jo<zo;jo++){var tl=ho[jo],Qo=tl.fn;tl.once&&this.off(xr,Qo,tl.ctx),Qo.call(tl.ctx||this,Qr)}this._firingCount--}}return Br&&this._propagateEvent(Qr),this},listens:function(xr,Rr,Br,Qr){typeof xr!="string"&&console.warn('"string" type argument expected');var ho=Rr;typeof Rr!="function"&&(Qr=!!Rr,ho=void 0,Br=void 0);var jo=this._events&&this._events[xr];if(jo&&jo.length&&this._listens(xr,ho,Br)!==!1)return!0;if(Qr){for(var zo in this._eventParents)if(this._eventParents[zo].listens(xr,Rr,Br,Qr))return!0}return!1},_listens:function(xr,Rr,Br){if(!this._events)return!1;var Qr=this._events[xr]||[];if(!Rr)return!!Qr.length;Br===this&&(Br=void 0);for(var ho=0,jo=Qr.length;ho<jo;ho++)if(Qr[ho].fn===Rr&&Qr[ho].ctx===Br)return ho;return!1},once:function(xr,Rr,Br){if(typeof xr=="object")for(var Qr in xr)this._on(Qr,xr[Qr],Rr,!0);else{xr=gr(xr);for(var ho=0,jo=xr.length;ho<jo;ho++)this._on(xr[ho],Rr,Br,!0)}return this},addEventParent:function(xr){return this._eventParents=this._eventParents||{},this._eventParents[or(xr)]=xr,this},removeEventParent:function(xr){return this._eventParents&&delete this._eventParents[or(xr)],this},_propagateEvent:function(xr){for(var Rr in this._eventParents)this._eventParents[Rr].fire(xr.type,ir({layer:xr.target,propagatedFrom:xr.target},xr),!0)}};ao.addEventListener=ao.on,ao.removeEventListener=ao.clearAllEventListeners=ao.off,ao.addOneTimeEventListener=ao.once,ao.fireEvent=ao.fire,ao.hasEventListeners=ao.listens;var Jr=io.extend(ao);function uo(xr,Rr,Br){this.x=Br?Math.round(xr):xr,this.y=Br?Math.round(Rr):Rr}var oo=Math.trunc||function(xr){return xr>0?Math.floor(xr):Math.ceil(xr)};uo.prototype={clone:function(){return new uo(this.x,this.y)},add:function(xr){return this.clone()._add(co(xr))},_add:function(xr){return this.x+=xr.x,this.y+=xr.y,this},subtract:function(xr){return this.clone()._subtract(co(xr))},_subtract:function(xr){return this.x-=xr.x,this.y-=xr.y,this},divideBy:function(xr){return this.clone()._divideBy(xr)},_divideBy:function(xr){return this.x/=xr,this.y/=xr,this},multiplyBy:function(xr){return this.clone()._multiplyBy(xr)},_multiplyBy:function(xr){return this.x*=xr,this.y*=xr,this},scaleBy:function(xr){return new uo(this.x*xr.x,this.y*xr.y)},unscaleBy:function(xr){return new uo(this.x/xr.x,this.y/xr.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oo(this.x),this.y=oo(this.y),this},distanceTo:function(xr){xr=co(xr);var Rr=xr.x-this.x,Br=xr.y-this.y;return Math.sqrt(Rr*Rr+Br*Br)},equals:function(xr){return xr=co(xr),xr.x===this.x&&xr.y===this.y},contains:function(xr){return xr=co(xr),Math.abs(xr.x)<=Math.abs(this.x)&&Math.abs(xr.y)<=Math.abs(this.y)},toString:function(){return"Point("+dr(this.x)+", "+dr(this.y)+")"}};function co(xr,Rr,Br){return xr instanceof uo?xr:Tr(xr)?new uo(xr[0],xr[1]):xr==null?xr:typeof xr=="object"&&"x"in xr&&"y"in xr?new uo(xr.x,xr.y):new uo(xr,Rr,Br)}function no(xr,Rr){if(xr)for(var Br=Rr?[xr,Rr]:xr,Qr=0,ho=Br.length;Qr<ho;Qr++)this.extend(Br[Qr])}no.prototype={extend:function(xr){var Rr,Br;if(!xr)return this;if(xr instanceof uo||typeof xr[0]=="number"||"x"in xr)Rr=Br=co(xr);else if(xr=mo(xr),Rr=xr.min,Br=xr.max,!Rr||!Br)return this;return!this.min&&!this.max?(this.min=Rr.clone(),this.max=Br.clone()):(this.min.x=Math.min(Rr.x,this.min.x),this.max.x=Math.max(Br.x,this.max.x),this.min.y=Math.min(Rr.y,this.min.y),this.max.y=Math.max(Br.y,this.max.y)),this},getCenter:function(xr){return co((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,xr)},getBottomLeft:function(){return co(this.min.x,this.max.y)},getTopRight:function(){return co(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(xr){var Rr,Br;return typeof xr[0]=="number"||xr instanceof uo?xr=co(xr):xr=mo(xr),xr instanceof no?(Rr=xr.min,Br=xr.max):Rr=Br=xr,Rr.x>=this.min.x&&Br.x<=this.max.x&&Rr.y>=this.min.y&&Br.y<=this.max.y},intersects:function(xr){xr=mo(xr);var Rr=this.min,Br=this.max,Qr=xr.min,ho=xr.max,jo=ho.x>=Rr.x&&Qr.x<=Br.x,zo=ho.y>=Rr.y&&Qr.y<=Br.y;return jo&&zo},overlaps:function(xr){xr=mo(xr);var Rr=this.min,Br=this.max,Qr=xr.min,ho=xr.max,jo=ho.x>Rr.x&&Qr.x<Br.x,zo=ho.y>Rr.y&&Qr.y<Br.y;return jo&&zo},isValid:function(){return!!(this.min&&this.max)},pad:function(xr){var Rr=this.min,Br=this.max,Qr=Math.abs(Rr.x-Br.x)*xr,ho=Math.abs(Rr.y-Br.y)*xr;return mo(co(Rr.x-Qr,Rr.y-ho),co(Br.x+Qr,Br.y+ho))},equals:function(xr){return xr?(xr=mo(xr),this.min.equals(xr.getTopLeft())&&this.max.equals(xr.getBottomRight())):!1}};function mo(xr,Rr){return!xr||xr instanceof no?xr:new no(xr,Rr)}function Eo(xr,Rr){if(xr)for(var Br=Rr?[xr,Rr]:xr,Qr=0,ho=Br.length;Qr<ho;Qr++)this.extend(Br[Qr])}Eo.prototype={extend:function(xr){var Rr=this._southWest,Br=this._northEast,Qr,ho;if(xr instanceof Po)Qr=xr,ho=xr;else if(xr instanceof Eo){if(Qr=xr._southWest,ho=xr._northEast,!Qr||!ho)return this}else return xr?this.extend(wo(xr)||bo(xr)):this;return!Rr&&!Br?(this._southWest=new Po(Qr.lat,Qr.lng),this._northEast=new Po(ho.lat,ho.lng)):(Rr.lat=Math.min(Qr.lat,Rr.lat),Rr.lng=Math.min(Qr.lng,Rr.lng),Br.lat=Math.max(ho.lat,Br.lat),Br.lng=Math.max(ho.lng,Br.lng)),this},pad:function(xr){var Rr=this._southWest,Br=this._northEast,Qr=Math.abs(Rr.lat-Br.lat)*xr,ho=Math.abs(Rr.lng-Br.lng)*xr;return new Eo(new Po(Rr.lat-Qr,Rr.lng-ho),new Po(Br.lat+Qr,Br.lng+ho))},getCenter:function(){return new Po((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Po(this.getNorth(),this.getWest())},getSouthEast:function(){return new Po(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(xr){typeof xr[0]=="number"||xr instanceof Po||"lat"in xr?xr=wo(xr):xr=bo(xr);var Rr=this._southWest,Br=this._northEast,Qr,ho;return xr instanceof Eo?(Qr=xr.getSouthWest(),ho=xr.getNorthEast()):Qr=ho=xr,Qr.lat>=Rr.lat&&ho.lat<=Br.lat&&Qr.lng>=Rr.lng&&ho.lng<=Br.lng},intersects:function(xr){xr=bo(xr);var Rr=this._southWest,Br=this._northEast,Qr=xr.getSouthWest(),ho=xr.getNorthEast(),jo=ho.lat>=Rr.lat&&Qr.lat<=Br.lat,zo=ho.lng>=Rr.lng&&Qr.lng<=Br.lng;return jo&&zo},overlaps:function(xr){xr=bo(xr);var Rr=this._southWest,Br=this._northEast,Qr=xr.getSouthWest(),ho=xr.getNorthEast(),jo=ho.lat>Rr.lat&&Qr.lat<Br.lat,zo=ho.lng>Rr.lng&&Qr.lng<Br.lng;return jo&&zo},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(xr,Rr){return xr?(xr=bo(xr),this._southWest.equals(xr.getSouthWest(),Rr)&&this._northEast.equals(xr.getNorthEast(),Rr)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bo(xr,Rr){return xr instanceof Eo?xr:new Eo(xr,Rr)}function Po(xr,Rr,Br){if(isNaN(xr)||isNaN(Rr))throw new Error("Invalid LatLng object: ("+xr+", "+Rr+")");this.lat=+xr,this.lng=+Rr,Br!==void 0&&(this.alt=+Br)}Po.prototype={equals:function(xr,Rr){if(!xr)return!1;xr=wo(xr);var Br=Math.max(Math.abs(this.lat-xr.lat),Math.abs(this.lng-xr.lng));return Br<=(Rr===void 0?1e-9:Rr)},toString:function(xr){return"LatLng("+dr(this.lat,xr)+", "+dr(this.lng,xr)+")"},distanceTo:function(xr){return Fo.distance(this,wo(xr))},wrap:function(){return Fo.wrapLatLng(this)},toBounds:function(xr){var Rr=180*xr/40075017,Br=Rr/Math.cos(Math.PI/180*this.lat);return bo([this.lat-Rr,this.lng-Br],[this.lat+Rr,this.lng+Br])},clone:function(){return new Po(this.lat,this.lng,this.alt)}};function wo(xr,Rr,Br){return xr instanceof Po?xr:Tr(xr)&&typeof xr[0]!="object"?xr.length===3?new Po(xr[0],xr[1],xr[2]):xr.length===2?new Po(xr[0],xr[1]):null:xr==null?xr:typeof xr=="object"&&"lat"in xr?new Po(xr.lat,"lng"in xr?xr.lng:xr.lon,xr.alt):Rr===void 0?null:new Po(xr,Rr,Br)}var To={latLngToPoint:function(xr,Rr){var Br=this.projection.project(xr),Qr=this.scale(Rr);return this.transformation._transform(Br,Qr)},pointToLatLng:function(xr,Rr){var Br=this.scale(Rr),Qr=this.transformation.untransform(xr,Br);return this.projection.unproject(Qr)},project:function(xr){return this.projection.project(xr)},unproject:function(xr){return this.projection.unproject(xr)},scale:function(xr){return 256*Math.pow(2,xr)},zoom:function(xr){return Math.log(xr/256)/Math.LN2},getProjectedBounds:function(xr){if(this.infinite)return null;var Rr=this.projection.bounds,Br=this.scale(xr),Qr=this.transformation.transform(Rr.min,Br),ho=this.transformation.transform(Rr.max,Br);return new no(Qr,ho)},infinite:!1,wrapLatLng:function(xr){var Rr=this.wrapLng?cr(xr.lng,this.wrapLng,!0):xr.lng,Br=this.wrapLat?cr(xr.lat,this.wrapLat,!0):xr.lat,Qr=xr.alt;return new Po(Br,Rr,Qr)},wrapLatLngBounds:function(xr){var Rr=xr.getCenter(),Br=this.wrapLatLng(Rr),Qr=Rr.lat-Br.lat,ho=Rr.lng-Br.lng;if(Qr===0&&ho===0)return xr;var jo=xr.getSouthWest(),zo=xr.getNorthEast(),tl=new Po(jo.lat-Qr,jo.lng-ho),Qo=new Po(zo.lat-Qr,zo.lng-ho);return new Eo(tl,Qo)}},Fo=ir({},To,{wrapLng:[-180,180],R:6371e3,distance:function(xr,Rr){var Br=Math.PI/180,Qr=xr.lat*Br,ho=Rr.lat*Br,jo=Math.sin((Rr.lat-xr.lat)*Br/2),zo=Math.sin((Rr.lng-xr.lng)*Br/2),tl=jo*jo+Math.cos(Qr)*Math.cos(ho)*zo*zo,Qo=2*Math.atan2(Math.sqrt(tl),Math.sqrt(1-tl));return this.R*Qo}}),Co=6378137,Go={R:Co,MAX_LATITUDE:85.0511287798,project:function(xr){var Rr=Math.PI/180,Br=this.MAX_LATITUDE,Qr=Math.max(Math.min(Br,xr.lat),-Br),ho=Math.sin(Qr*Rr);return new uo(this.R*xr.lng*Rr,this.R*Math.log((1+ho)/(1-ho))/2)},unproject:function(xr){var Rr=180/Math.PI;return new Po((2*Math.atan(Math.exp(xr.y/this.R))-Math.PI/2)*Rr,xr.x*Rr/this.R)},bounds:(function(){var xr=Co*Math.PI;return new no([-xr,-xr],[xr,xr])})()};function el(xr,Rr,Br,Qr){if(Tr(xr)){this._a=xr[0],this._b=xr[1],this._c=xr[2],this._d=xr[3];return}this._a=xr,this._b=Rr,this._c=Br,this._d=Qr}el.prototype={transform:function(xr,Rr){return this._transform(xr.clone(),Rr)},_transform:function(xr,Rr){return Rr=Rr||1,xr.x=Rr*(this._a*xr.x+this._b),xr.y=Rr*(this._c*xr.y+this._d),xr},untransform:function(xr,Rr){return Rr=Rr||1,new uo((xr.x/Rr-this._b)/this._a,(xr.y/Rr-this._d)/this._c)}};function Lo(xr,Rr,Br,Qr){return new el(xr,Rr,Br,Qr)}var Uo=ir({},Fo,{code:"EPSG:3857",projection:Go,transformation:(function(){var xr=.5/(Math.PI*Go.R);return Lo(xr,.5,-xr,.5)})()}),$o=ir({},Uo,{code:"EPSG:900913"});function il(xr){return document.createElementNS("http://www.w3.org/2000/svg",xr)}function pl(xr,Rr){var Br="",Qr,ho,jo,zo,tl,Qo;for(Qr=0,jo=xr.length;Qr<jo;Qr++){for(tl=xr[Qr],ho=0,zo=tl.length;ho<zo;ho++)Qo=tl[ho],Br+=(ho?"L":"M")+Qo.x+" "+Qo.y;Br+=Rr?Dl.svg?"z":"x":""}return Br||"M0 0"}var ml=document.documentElement.style,Wl="ActiveXObject"in window,Xl=Wl&&!document.addEventListener,ac="msLaunchUri"in navigator&&!("documentMode"in document),Tl=Pl("webkit"),Ol=Pl("android"),dc=Pl("android 2")||Pl("android 3"),oc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),vc=Ol&&Pl("Google")&&oc<537&&!("AudioNode"in window),Ic=!!window.opera,Yc=!ac&&Pl("chrome"),Rc=Pl("gecko")&&!Tl&&!Ic&&!Wl,El=!Yc&&Pl("safari"),Kl=Pl("phantom"),ec="OTransition"in ml,Fc=navigator.platform.indexOf("Win")===0,Hl=Wl&&"transition"in ml,al="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!dc,sl="MozPerspective"in ml,fl=!window.L_DISABLE_3D&&(Hl||al||sl)&&!ec&&!Kl,$l=typeof orientation<"u"||Pl("mobile"),Nl=$l&&Tl,tc=$l&&al,uc=!window.PointerEvent&&window.MSPointerEvent,Kc=!!(window.PointerEvent||uc),bc="ontouchstart"in window||!!window.TouchEvent,Cc=!window.L_NO_TOUCH&&(bc||Kc),vu=$l&&Ic,Zc=$l&&Rc,fc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bc=(function(){var xr=!1;try{var Rr=Object.defineProperty({},"passive",{get:function(){xr=!0}});window.addEventListener("testPassiveEventSupport",ur,Rr),window.removeEventListener("testPassiveEventSupport",ur,Rr)}catch{}return xr})(),nc=(function(){return!!document.createElement("canvas").getContext})(),Ul=!!(document.createElementNS&&il("svg").createSVGRect),ah=!!Ul&&(function(){var xr=document.createElement("div");return xr.innerHTML="<svg/>",(xr.firstChild&&xr.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ol=!Ul&&(function(){try{var xr=document.createElement("div");xr.innerHTML='<v:shape adj="1"/>';var Rr=xr.firstChild;return Rr.style.behavior="url(#default#VML)",Rr&&typeof Rr.adj=="object"}catch{return!1}})(),bl=navigator.platform.indexOf("Mac")===0,Bl=navigator.platform.indexOf("Linux")===0;function Pl(xr){return navigator.userAgent.toLowerCase().indexOf(xr)>=0}var Dl={ie:Wl,ielt9:Xl,edge:ac,webkit:Tl,android:Ol,android23:dc,androidStock:vc,opera:Ic,chrome:Yc,gecko:Rc,safari:El,phantom:Kl,opera12:ec,win:Fc,ie3d:Hl,webkit3d:al,gecko3d:sl,any3d:fl,mobile:$l,mobileWebkit:Nl,mobileWebkit3d:tc,msPointer:uc,pointer:Kc,touch:Cc,touchNative:bc,mobileOpera:vu,mobileGecko:Zc,retina:fc,passiveEvents:Bc,canvas:nc,svg:Ul,vml:ol,inlineSvg:ah,mac:bl,linux:Bl},bu=Dl.msPointer?"MSPointerDown":"pointerdown",oh=Dl.msPointer?"MSPointerMove":"pointermove",ku=Dl.msPointer?"MSPointerUp":"pointerup",Mc=Dl.msPointer?"MSPointerCancel":"pointercancel",eu={touchstart:bu,touchmove:oh,touchend:ku,touchcancel:Mc},Qc={touchstart:Hu,touchmove:zc,touchend:zc,touchcancel:zc},cc={},hu=!1;function du(xr,Rr,Br){return Rr==="touchstart"&&zh(),Qc[Rr]?(Br=Qc[Rr].bind(this,Br),xr.addEventListener(eu[Rr],Br,!1),Br):(console.warn("wrong event specified:",Rr),ur)}function Gc(xr,Rr,Br){if(!eu[Rr]){console.warn("wrong event specified:",Rr);return}xr.removeEventListener(eu[Rr],Br,!1)}function Iu(xr){cc[xr.pointerId]=xr}function qh(xr){cc[xr.pointerId]&&(cc[xr.pointerId]=xr)}function Bh(xr){delete cc[xr.pointerId]}function zh(){hu||(document.addEventListener(bu,Iu,!0),document.addEventListener(oh,qh,!0),document.addEventListener(ku,Bh,!0),document.addEventListener(Mc,Bh,!0),hu=!0)}function zc(xr,Rr){if(Rr.pointerType!==(Rr.MSPOINTER_TYPE_MOUSE||"mouse")){Rr.touches=[];for(var Br in cc)Rr.touches.push(cc[Br]);Rr.changedTouches=[Rr],xr(Rr)}}function Hu(xr,Rr){Rr.MSPOINTER_TYPE_TOUCH&&Rr.pointerType===Rr.MSPOINTER_TYPE_TOUCH&&jc(Rr),zc(xr,Rr)}function tu(xr){var Rr={},Br,Qr;for(Qr in xr)Br=xr[Qr],Rr[Qr]=Br&&Br.bind?Br.bind(xr):Br;return xr=Rr,Rr.type="dblclick",Rr.detail=2,Rr.isTrusted=!1,Rr._simulated=!0,Rr}var Hh=200;function cd(xr,Rr){xr.addEventListener("dblclick",Rr);var Br=0,Qr;function ho(jo){if(jo.detail!==1){Qr=jo.detail;return}if(!(jo.pointerType==="mouse"||jo.sourceCapabilities&&!jo.sourceCapabilities.firesTouchEvents)){var zo=dm(jo);if(!(zo.some(function(Qo){return Qo instanceof HTMLLabelElement&&Qo.attributes.for})&&!zo.some(function(Qo){return Qo instanceof HTMLInputElement||Qo instanceof HTMLSelectElement}))){var tl=Date.now();tl-Br<=Hh?(Qr++,Qr===2&&Rr(tu(jo))):Qr=1,Br=tl}}}return xr.addEventListener("click",ho),{dblclick:Rr,simDblclick:ho}}function fh(xr,Rr){xr.removeEventListener("dblclick",Rr.dblclick),xr.removeEventListener("click",Rr.simDblclick)}var Nh=Jd(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bh=Jd(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ed=bh==="webkitTransition"||bh==="OTransition"?bh+"End":"transitionend";function _u(xr){return typeof xr=="string"?document.getElementById(xr):xr}function Bf(xr,Rr){var Br=xr.style[Rr]||xr.currentStyle&&xr.currentStyle[Rr];if((!Br||Br==="auto")&&document.defaultView){var Qr=document.defaultView.getComputedStyle(xr,null);Br=Qr?Qr[Rr]:null}return Br==="auto"?null:Br}function Lc(xr,Rr,Br){var Qr=document.createElement(xr);return Qr.className=Rr||"",Br&&Br.appendChild(Qr),Qr}function Vc(xr){var Rr=xr.parentNode;Rr&&Rr.removeChild(xr)}function Th(xr){for(;xr.firstChild;)xr.removeChild(xr.firstChild)}function ph(xr){var Rr=xr.parentNode;Rr&&Rr.lastChild!==xr&&Rr.appendChild(xr)}function Sd(xr){var Rr=xr.parentNode;Rr&&Rr.firstChild!==xr&&Rr.insertBefore(xr,Rr.firstChild)}function fp(xr,Rr){if(xr.classList!==void 0)return xr.classList.contains(Rr);var Br=um(xr);return Br.length>0&&new RegExp("(^|\\s)"+Rr+"(\\s|$)").test(Br)}function _c(xr,Rr){if(xr.classList!==void 0)for(var Br=gr(Rr),Qr=0,ho=Br.length;Qr<ho;Qr++)xr.classList.add(Br[Qr]);else if(!fp(xr,Rr)){var jo=um(xr);Wh(xr,(jo?jo+" ":"")+Rr)}}function wu(xr,Rr){xr.classList!==void 0?xr.classList.remove(Rr):Wh(xr,fr((" "+um(xr)+" ").replace(" "+Rr+" "," ")))}function Wh(xr,Rr){xr.className.baseVal===void 0?xr.className=Rr:xr.className.baseVal=Rr}function um(xr){return xr.correspondingElement&&(xr=xr.correspondingElement),xr.className.baseVal===void 0?xr.className:xr.className.baseVal}function Eu(xr,Rr){"opacity"in xr.style?xr.style.opacity=Rr:"filter"in xr.style&&zf(xr,Rr)}function zf(xr,Rr){var Br=!1,Qr="DXImageTransform.Microsoft.Alpha";try{Br=xr.filters.item(Qr)}catch{if(Rr===1)return}Rr=Math.round(Rr*100),Br?(Br.Enabled=Rr!==100,Br.Opacity=Rr):xr.style.filter+=" progid:"+Qr+"(opacity="+Rr+")"}function Jd(xr){for(var Rr=document.documentElement.style,Br=0;Br<xr.length;Br++)if(xr[Br]in Rr)return xr[Br];return!1}function ud(xr,Rr,Br){var Qr=Rr||new uo(0,0);xr.style[Nh]=(Dl.ie3d?"translate("+Qr.x+"px,"+Qr.y+"px)":"translate3d("+Qr.x+"px,"+Qr.y+"px,0)")+(Br?" scale("+Br+")":"")}function Au(xr,Rr){xr._leaflet_pos=Rr,Dl.any3d?ud(xr,Rr):(xr.style.left=Rr.x+"px",xr.style.top=Rr.y+"px")}function Ro(xr){return xr._leaflet_pos||new uo(0,0)}var No,Bo,ul;if("onselectstart"in document)No=function(){Ec(window,"selectstart",jc)},Bo=function(){Du(window,"selectstart",jc)};else{var Al=Jd(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);No=function(){if(Al){var xr=document.documentElement.style;ul=xr[Al],xr[Al]="none"}},Bo=function(){Al&&(document.documentElement.style[Al]=ul,ul=void 0)}}function Vl(){Ec(window,"dragstart",jc)}function wc(){Du(window,"dragstart",jc)}var Ku,mh;function Zu(xr){for(;xr.tabIndex===-1;)xr=xr.parentNode;xr.style&&(Qu(),Ku=xr,mh=xr.style.outlineStyle,xr.style.outlineStyle="none",Ec(window,"keydown",Qu))}function Qu(){Ku&&(Ku.style.outlineStyle=mh,Ku=void 0,mh=void 0,Du(window,"keydown",Qu))}function Hf(xr){do xr=xr.parentNode;while((!xr.offsetWidth||!xr.offsetHeight)&&xr!==document.body);return xr}function Vm(xr){var Rr=xr.getBoundingClientRect();return{x:Rr.width/xr.offsetWidth||1,y:Rr.height/xr.offsetHeight||1,boundingClientRect:Rr}}var vf={__proto__:null,TRANSFORM:Nh,TRANSITION:bh,TRANSITION_END:Ed,get:_u,getStyle:Bf,create:Lc,remove:Vc,empty:Th,toFront:ph,toBack:Sd,hasClass:fp,addClass:_c,removeClass:wu,setClass:Wh,getClass:um,setOpacity:Eu,testProp:Jd,setTransform:ud,setPosition:Au,getPosition:Ro,get disableTextSelection(){return No},get enableTextSelection(){return Bo},disableImageDrag:Vl,enableImageDrag:wc,preventOutline:Zu,restoreOutline:Qu,getSizedParentNode:Hf,getScale:Vm};function Ec(xr,Rr,Br,Qr){if(Rr&&typeof Rr=="object")for(var ho in Rr)hd(xr,ho,Rr[ho],Br);else{Rr=gr(Rr);for(var jo=0,zo=Rr.length;jo<zo;jo++)hd(xr,Rr[jo],Br,Qr)}return this}var ef="_leaflet_events";function Du(xr,Rr,Br,Qr){if(arguments.length===1)Um(xr),delete xr[ef];else if(Rr&&typeof Rr=="object")for(var ho in Rr)hm(xr,ho,Rr[ho],Br);else if(Rr=gr(Rr),arguments.length===2)Um(xr,function(tl){return Lr(Rr,tl)!==-1});else for(var jo=0,zo=Rr.length;jo<zo;jo++)hm(xr,Rr[jo],Br,Qr);return this}function Um(xr,Rr){for(var Br in xr[ef]){var Qr=Br.split(/\d/)[0];(!Rr||Rr(Qr))&&hm(xr,Qr,null,null,Br)}}var Wf={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function hd(xr,Rr,Br,Qr){var ho=Rr+or(Br)+(Qr?"_"+or(Qr):"");if(xr[ef]&&xr[ef][ho])return this;var jo=function(tl){return Br.call(Qr||xr,tl||window.event)},zo=jo;!Dl.touchNative&&Dl.pointer&&Rr.indexOf("touch")===0?jo=du(xr,Rr,jo):Dl.touch&&Rr==="dblclick"?jo=cd(xr,jo):"addEventListener"in xr?Rr==="touchstart"||Rr==="touchmove"||Rr==="wheel"||Rr==="mousewheel"?xr.addEventListener(Wf[Rr]||Rr,jo,Dl.passiveEvents?{passive:!1}:!1):Rr==="mouseenter"||Rr==="mouseleave"?(jo=function(tl){tl=tl||window.event,_f(xr,tl)&&zo(tl)},xr.addEventListener(Wf[Rr],jo,!1)):xr.addEventListener(Rr,zo,!1):xr.attachEvent("on"+Rr,jo),xr[ef]=xr[ef]||{},xr[ef][ho]=jo}function hm(xr,Rr,Br,Qr,ho){ho=ho||Rr+or(Br)+(Qr?"_"+or(Qr):"");var jo=xr[ef]&&xr[ef][ho];if(!jo)return this;!Dl.touchNative&&Dl.pointer&&Rr.indexOf("touch")===0?Gc(xr,Rr,jo):Dl.touch&&Rr==="dblclick"?fh(xr,jo):"removeEventListener"in xr?xr.removeEventListener(Wf[Rr]||Rr,jo,!1):xr.detachEvent("on"+Rr,jo),xr[ef][ho]=null}function _h(xr){return xr.stopPropagation?xr.stopPropagation():xr.originalEvent?xr.originalEvent._stopped=!0:xr.cancelBubble=!0,this}function bf(xr){return hd(xr,"wheel",_h),this}function tf(xr){return Ec(xr,"mousedown touchstart dblclick contextmenu",_h),xr._leaflet_disable_click=!0,this}function jc(xr){return xr.preventDefault?xr.preventDefault():xr.returnValue=!1,this}function nu(xr){return jc(xr),_h(xr),this}function dm(xr){if(xr.composedPath)return xr.composedPath();for(var Rr=[],Br=xr.target;Br;)Rr.push(Br),Br=Br.parentNode;return Rr}function fm(xr,Rr){if(!Rr)return new uo(xr.clientX,xr.clientY);var Br=Vm(Rr),Qr=Br.boundingClientRect;return new uo((xr.clientX-Qr.left)/Br.x-Rr.clientLeft,(xr.clientY-Qr.top)/Br.y-Rr.clientTop)}var ny=Dl.linux&&Dl.chrome?window.devicePixelRatio:Dl.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Kh(xr){return Dl.edge?xr.wheelDeltaY/2:xr.deltaY&&xr.deltaMode===0?-xr.deltaY/ny:xr.deltaY&&xr.deltaMode===1?-xr.deltaY*20:xr.deltaY&&xr.deltaMode===2?-xr.deltaY*60:xr.deltaX||xr.deltaZ?0:xr.wheelDelta?(xr.wheelDeltaY||xr.wheelDelta)/2:xr.detail&&Math.abs(xr.detail)<32765?-xr.detail*20:xr.detail?xr.detail/-32765*60:0}function _f(xr,Rr){var Br=Rr.relatedTarget;if(!Br)return!0;try{for(;Br&&Br!==xr;)Br=Br.parentNode}catch{return!1}return Br!==xr}var pm={__proto__:null,on:Ec,off:Du,stopPropagation:_h,disableScrollPropagation:bf,disableClickPropagation:tf,preventDefault:jc,stop:nu,getPropagationPath:dm,getMousePosition:fm,getWheelDelta:Kh,isExternalTarget:_f,addListener:Ec,removeListener:Du},Id=Jr.extend({run:function(xr,Rr,Br,Qr){this.stop(),this._el=xr,this._inProgress=!0,this._duration=Br||.25,this._easeOutPower=1/Math.max(Qr||.5,.2),this._startPos=Ro(xr),this._offset=Rr.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Hr(this._animate,this),this._step()},_step:function(xr){var Rr=+new Date-this._startTime,Br=this._duration*1e3;Rr<Br?this._runFrame(this._easeOut(Rr/Br),xr):(this._runFrame(1),this._complete())},_runFrame:function(xr,Rr){var Br=this._startPos.add(this._offset.multiplyBy(xr));Rr&&Br._round(),Au(this._el,Br),this.fire("step")},_complete:function(){Yr(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(xr){return 1-Math.pow(1-xr,this._easeOutPower)}}),Nc=Jr.extend({options:{crs:Uo,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(xr,Rr){Rr=yr(this,Rr),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(xr),this._initLayout(),this._onResize=sr(this._onResize,this),this._initEvents(),Rr.maxBounds&&this.setMaxBounds(Rr.maxBounds),Rr.zoom!==void 0&&(this._zoom=this._limitZoom(Rr.zoom)),Rr.center&&Rr.zoom!==void 0&&this.setView(wo(Rr.center),Rr.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bh&&Dl.any3d&&!Dl.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ec(this._proxy,Ed,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(xr,Rr,Br){if(Rr=Rr===void 0?this._zoom:this._limitZoom(Rr),xr=this._limitCenter(wo(xr),Rr,this.options.maxBounds),Br=Br||{},this._stop(),this._loaded&&!Br.reset&&Br!==!0){Br.animate!==void 0&&(Br.zoom=ir({animate:Br.animate},Br.zoom),Br.pan=ir({animate:Br.animate,duration:Br.duration},Br.pan));var Qr=this._zoom!==Rr?this._tryAnimatedZoom&&this._tryAnimatedZoom(xr,Rr,Br.zoom):this._tryAnimatedPan(xr,Br.pan);if(Qr)return clearTimeout(this._sizeTimer),this}return this._resetView(xr,Rr,Br.pan&&Br.pan.noMoveStart),this},setZoom:function(xr,Rr){return this._loaded?this.setView(this.getCenter(),xr,{zoom:Rr}):(this._zoom=xr,this)},zoomIn:function(xr,Rr){return xr=xr||(Dl.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+xr,Rr)},zoomOut:function(xr,Rr){return xr=xr||(Dl.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-xr,Rr)},setZoomAround:function(xr,Rr,Br){var Qr=this.getZoomScale(Rr),ho=this.getSize().divideBy(2),jo=xr instanceof uo?xr:this.latLngToContainerPoint(xr),zo=jo.subtract(ho).multiplyBy(1-1/Qr),tl=this.containerPointToLatLng(ho.add(zo));return this.setView(tl,Rr,{zoom:Br})},_getBoundsCenterZoom:function(xr,Rr){Rr=Rr||{},xr=xr.getBounds?xr.getBounds():bo(xr);var Br=co(Rr.paddingTopLeft||Rr.padding||[0,0]),Qr=co(Rr.paddingBottomRight||Rr.padding||[0,0]),ho=this.getBoundsZoom(xr,!1,Br.add(Qr));if(ho=typeof Rr.maxZoom=="number"?Math.min(Rr.maxZoom,ho):ho,ho===1/0)return{center:xr.getCenter(),zoom:ho};var jo=Qr.subtract(Br).divideBy(2),zo=this.project(xr.getSouthWest(),ho),tl=this.project(xr.getNorthEast(),ho),Qo=this.unproject(zo.add(tl).divideBy(2).add(jo),ho);return{center:Qo,zoom:ho}},fitBounds:function(xr,Rr){if(xr=bo(xr),!xr.isValid())throw new Error("Bounds are not valid.");var Br=this._getBoundsCenterZoom(xr,Rr);return this.setView(Br.center,Br.zoom,Rr)},fitWorld:function(xr){return this.fitBounds([[-90,-180],[90,180]],xr)},panTo:function(xr,Rr){return this.setView(xr,this._zoom,{pan:Rr})},panBy:function(xr,Rr){if(xr=co(xr).round(),Rr=Rr||{},!xr.x&&!xr.y)return this.fire("moveend");if(Rr.animate!==!0&&!this.getSize().contains(xr))return this._resetView(this.unproject(this.project(this.getCenter()).add(xr)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Id,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),Rr.noMoveStart||this.fire("movestart"),Rr.animate!==!1){_c(this._mapPane,"leaflet-pan-anim");var Br=this._getMapPanePos().subtract(xr).round();this._panAnim.run(this._mapPane,Br,Rr.duration||.25,Rr.easeLinearity)}else this._rawPanBy(xr),this.fire("move").fire("moveend");return this},flyTo:function(xr,Rr,Br){if(Br=Br||{},Br.animate===!1||!Dl.any3d)return this.setView(xr,Rr,Br);this._stop();var Qr=this.project(this.getCenter()),ho=this.project(xr),jo=this.getSize(),zo=this._zoom;xr=wo(xr),Rr=Rr===void 0?zo:Rr;var tl=Math.max(jo.x,jo.y),Qo=tl*this.getZoomScale(zo,Rr),Sl=ho.distanceTo(Qr)||1,Il=1.42,ic=Il*Il;function $c(Uu){var kf=Uu?-1:1,ko=Uu?Qo:tl,jp=Qo*Qo-tl*tl+kf*ic*ic*Sl*Sl,Rp=2*ko*ic*Sl,$h=jp/Rp,Ac=Math.sqrt($h*$h+1)-$h,Dh=Ac<1e-9?-18:Math.log(Ac);return Dh}function lh(Uu){return(Math.exp(Uu)-Math.exp(-Uu))/2}function Tu(Uu){return(Math.exp(Uu)+Math.exp(-Uu))/2}function Lh(Uu){return lh(Uu)/Tu(Uu)}var fu=$c(0);function iu(Uu){return tl*(Tu(fu)/Tu(fu+Il*Uu))}function Xc(Uu){return tl*(Tu(fu)*Lh(fu+Il*Uu)-lh(fu))/ic}function Ep(Uu){return 1-Math.pow(1-Uu,1.5)}var Ad=Date.now(),Og=($c(1)-fu)/Il,Sp=Br.duration?1e3*Br.duration:1e3*Og*.8;function Em(){var Uu=(Date.now()-Ad)/Sp,kf=Ep(Uu)*Og;Uu<=1?(this._flyToFrame=Hr(Em,this),this._move(this.unproject(Qr.add(ho.subtract(Qr).multiplyBy(Xc(kf)/Sl)),zo),this.getScaleZoom(tl/iu(kf),zo),{flyTo:!0})):this._move(xr,Rr)._moveEnd(!0)}return this._moveStart(!0,Br.noMoveStart),Em.call(this),this},flyToBounds:function(xr,Rr){var Br=this._getBoundsCenterZoom(xr,Rr);return this.flyTo(Br.center,Br.zoom,Rr)},setMaxBounds:function(xr){return xr=bo(xr),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),xr.isValid()?(this.options.maxBounds=xr,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(xr){var Rr=this.options.minZoom;return this.options.minZoom=xr,this._loaded&&Rr!==xr&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(xr):this},setMaxZoom:function(xr){var Rr=this.options.maxZoom;return this.options.maxZoom=xr,this._loaded&&Rr!==xr&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(xr):this},panInsideBounds:function(xr,Rr){this._enforcingBounds=!0;var Br=this.getCenter(),Qr=this._limitCenter(Br,this._zoom,bo(xr));return Br.equals(Qr)||this.panTo(Qr,Rr),this._enforcingBounds=!1,this},panInside:function(xr,Rr){Rr=Rr||{};var Br=co(Rr.paddingTopLeft||Rr.padding||[0,0]),Qr=co(Rr.paddingBottomRight||Rr.padding||[0,0]),ho=this.project(this.getCenter()),jo=this.project(xr),zo=this.getPixelBounds(),tl=mo([zo.min.add(Br),zo.max.subtract(Qr)]),Qo=tl.getSize();if(!tl.contains(jo)){this._enforcingBounds=!0;var Sl=jo.subtract(tl.getCenter()),Il=tl.extend(jo).getSize().subtract(Qo);ho.x+=Sl.x<0?-Il.x:Il.x,ho.y+=Sl.y<0?-Il.y:Il.y,this.panTo(this.unproject(ho),Rr),this._enforcingBounds=!1}return this},invalidateSize:function(xr){if(!this._loaded)return this;xr=ir({animate:!1,pan:!0},xr===!0?{animate:!0}:xr);var Rr=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Br=this.getSize(),Qr=Rr.divideBy(2).round(),ho=Br.divideBy(2).round(),jo=Qr.subtract(ho);return!jo.x&&!jo.y?this:(xr.animate&&xr.pan?this.panBy(jo):(xr.pan&&this._rawPanBy(jo),this.fire("move"),xr.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(sr(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:Rr,newSize:Br}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(xr){if(xr=this._locateOptions=ir({timeout:1e4,watch:!1},xr),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var Rr=sr(this._handleGeolocationResponse,this),Br=sr(this._handleGeolocationError,this);return xr.watch?this._locationWatchId=navigator.geolocation.watchPosition(Rr,Br,xr):navigator.geolocation.getCurrentPosition(Rr,Br,xr),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(xr){if(this._container._leaflet_id){var Rr=xr.code,Br=xr.message||(Rr===1?"permission denied":Rr===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:Rr,message:"Geolocation error: "+Br+"."})}},_handleGeolocationResponse:function(xr){if(this._container._leaflet_id){var Rr=xr.coords.latitude,Br=xr.coords.longitude,Qr=new Po(Rr,Br),ho=Qr.toBounds(xr.coords.accuracy*2),jo=this._locateOptions;if(jo.setView){var zo=this.getBoundsZoom(ho);this.setView(Qr,jo.maxZoom?Math.min(zo,jo.maxZoom):zo)}var tl={latlng:Qr,bounds:ho,timestamp:xr.timestamp};for(var Qo in xr.coords)typeof xr.coords[Qo]=="number"&&(tl[Qo]=xr.coords[Qo]);this.fire("locationfound",tl)}},addHandler:function(xr,Rr){if(!Rr)return this;var Br=this[xr]=new Rr(this);return this._handlers.push(Br),this.options[xr]&&Br.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vc(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Yr(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var xr;for(xr in this._layers)this._layers[xr].remove();for(xr in this._panes)Vc(this._panes[xr]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(xr,Rr){var Br="leaflet-pane"+(xr?" leaflet-"+xr.replace("Pane","")+"-pane":""),Qr=Lc("div",Br,Rr||this._mapPane);return xr&&(this._panes[xr]=Qr),Qr},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var xr=this.getPixelBounds(),Rr=this.unproject(xr.getBottomLeft()),Br=this.unproject(xr.getTopRight());return new Eo(Rr,Br)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(xr,Rr,Br){xr=bo(xr),Br=co(Br||[0,0]);var Qr=this.getZoom()||0,ho=this.getMinZoom(),jo=this.getMaxZoom(),zo=xr.getNorthWest(),tl=xr.getSouthEast(),Qo=this.getSize().subtract(Br),Sl=mo(this.project(tl,Qr),this.project(zo,Qr)).getSize(),Il=Dl.any3d?this.options.zoomSnap:1,ic=Qo.x/Sl.x,$c=Qo.y/Sl.y,lh=Rr?Math.max(ic,$c):Math.min(ic,$c);return Qr=this.getScaleZoom(lh,Qr),Il&&(Qr=Math.round(Qr/(Il/100))*(Il/100),Qr=Rr?Math.ceil(Qr/Il)*Il:Math.floor(Qr/Il)*Il),Math.max(ho,Math.min(jo,Qr))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new uo(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(xr,Rr){var Br=this._getTopLeftPoint(xr,Rr);return new no(Br,Br.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(xr){return this.options.crs.getProjectedBounds(xr===void 0?this.getZoom():xr)},getPane:function(xr){return typeof xr=="string"?this._panes[xr]:xr},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(xr,Rr){var Br=this.options.crs;return Rr=Rr===void 0?this._zoom:Rr,Br.scale(xr)/Br.scale(Rr)},getScaleZoom:function(xr,Rr){var Br=this.options.crs;Rr=Rr===void 0?this._zoom:Rr;var Qr=Br.zoom(xr*Br.scale(Rr));return isNaN(Qr)?1/0:Qr},project:function(xr,Rr){return Rr=Rr===void 0?this._zoom:Rr,this.options.crs.latLngToPoint(wo(xr),Rr)},unproject:function(xr,Rr){return Rr=Rr===void 0?this._zoom:Rr,this.options.crs.pointToLatLng(co(xr),Rr)},layerPointToLatLng:function(xr){var Rr=co(xr).add(this.getPixelOrigin());return this.unproject(Rr)},latLngToLayerPoint:function(xr){var Rr=this.project(wo(xr))._round();return Rr._subtract(this.getPixelOrigin())},wrapLatLng:function(xr){return this.options.crs.wrapLatLng(wo(xr))},wrapLatLngBounds:function(xr){return this.options.crs.wrapLatLngBounds(bo(xr))},distance:function(xr,Rr){return this.options.crs.distance(wo(xr),wo(Rr))},containerPointToLayerPoint:function(xr){return co(xr).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(xr){return co(xr).add(this._getMapPanePos())},containerPointToLatLng:function(xr){var Rr=this.containerPointToLayerPoint(co(xr));return this.layerPointToLatLng(Rr)},latLngToContainerPoint:function(xr){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wo(xr)))},mouseEventToContainerPoint:function(xr){return fm(xr,this._container)},mouseEventToLayerPoint:function(xr){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(xr))},mouseEventToLatLng:function(xr){return this.layerPointToLatLng(this.mouseEventToLayerPoint(xr))},_initContainer:function(xr){var Rr=this._container=_u(xr);if(Rr){if(Rr._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ec(Rr,"scroll",this._onScroll,this),this._containerId=or(Rr)},_initLayout:function(){var xr=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dl.any3d,_c(xr,"leaflet-container"+(Dl.touch?" leaflet-touch":"")+(Dl.retina?" leaflet-retina":"")+(Dl.ielt9?" leaflet-oldie":"")+(Dl.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var Rr=Bf(xr,"position");Rr!=="absolute"&&Rr!=="relative"&&Rr!=="fixed"&&Rr!=="sticky"&&(xr.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var xr=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Au(this._mapPane,new uo(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_c(xr.markerPane,"leaflet-zoom-hide"),_c(xr.shadowPane,"leaflet-zoom-hide"))},_resetView:function(xr,Rr,Br){Au(this._mapPane,new uo(0,0));var Qr=!this._loaded;this._loaded=!0,Rr=this._limitZoom(Rr),this.fire("viewprereset");var ho=this._zoom!==Rr;this._moveStart(ho,Br)._move(xr,Rr)._moveEnd(ho),this.fire("viewreset"),Qr&&this.fire("load")},_moveStart:function(xr,Rr){return xr&&this.fire("zoomstart"),Rr||this.fire("movestart"),this},_move:function(xr,Rr,Br,Qr){Rr===void 0&&(Rr=this._zoom);var ho=this._zoom!==Rr;return this._zoom=Rr,this._lastCenter=xr,this._pixelOrigin=this._getNewPixelOrigin(xr),Qr?Br&&Br.pinch&&this.fire("zoom",Br):((ho||Br&&Br.pinch)&&this.fire("zoom",Br),this.fire("move",Br)),this},_moveEnd:function(xr){return xr&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Yr(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(xr){Au(this._mapPane,this._getMapPanePos().subtract(xr))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(xr){this._targets={},this._targets[or(this._container)]=this;var Rr=xr?Du:Ec;Rr(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&Rr(window,"resize",this._onResize,this),Dl.any3d&&this.options.transform3DLimit&&(xr?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Yr(this._resizeRequest),this._resizeRequest=Hr(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var xr=this._getMapPanePos();Math.max(Math.abs(xr.x),Math.abs(xr.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(xr,Rr){for(var Br=[],Qr,ho=Rr==="mouseout"||Rr==="mouseover",jo=xr.target||xr.srcElement,zo=!1;jo;){if(Qr=this._targets[or(jo)],Qr&&(Rr==="click"||Rr==="preclick")&&this._draggableMoved(Qr)){zo=!0;break}if(Qr&&Qr.listens(Rr,!0)&&(ho&&!_f(jo,xr)||(Br.push(Qr),ho))||jo===this._container)break;jo=jo.parentNode}return!Br.length&&!zo&&!ho&&this.listens(Rr,!0)&&(Br=[this]),Br},_isClickDisabled:function(xr){for(;xr&&xr!==this._container;){if(xr._leaflet_disable_click)return!0;xr=xr.parentNode}},_handleDOMEvent:function(xr){var Rr=xr.target||xr.srcElement;if(!(!this._loaded||Rr._leaflet_disable_events||xr.type==="click"&&this._isClickDisabled(Rr))){var Br=xr.type;Br==="mousedown"&&Zu(Rr),this._fireDOMEvent(xr,Br)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(xr,Rr,Br){if(xr.type==="click"){var Qr=ir({},xr);Qr.type="preclick",this._fireDOMEvent(Qr,Qr.type,Br)}var ho=this._findEventTargets(xr,Rr);if(Br){for(var jo=[],zo=0;zo<Br.length;zo++)Br[zo].listens(Rr,!0)&&jo.push(Br[zo]);ho=jo.concat(ho)}if(ho.length){Rr==="contextmenu"&&jc(xr);var tl=ho[0],Qo={originalEvent:xr};if(xr.type!=="keypress"&&xr.type!=="keydown"&&xr.type!=="keyup"){var Sl=tl.getLatLng&&(!tl._radius||tl._radius<=10);Qo.containerPoint=Sl?this.latLngToContainerPoint(tl.getLatLng()):this.mouseEventToContainerPoint(xr),Qo.layerPoint=this.containerPointToLayerPoint(Qo.containerPoint),Qo.latlng=Sl?tl.getLatLng():this.layerPointToLatLng(Qo.layerPoint)}for(zo=0;zo<ho.length;zo++)if(ho[zo].fire(Rr,Qo,!0),Qo.originalEvent._stopped||ho[zo].options.bubblingMouseEvents===!1&&Lr(this._mouseEvents,Rr)!==-1)return}},_draggableMoved:function(xr){return xr=xr.dragging&&xr.dragging.enabled()?xr:this,xr.dragging&&xr.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var xr=0,Rr=this._handlers.length;xr<Rr;xr++)this._handlers[xr].disable()},whenReady:function(xr,Rr){return this._loaded?xr.call(Rr||this,{target:this}):this.on("load",xr,Rr),this},_getMapPanePos:function(){return Ro(this._mapPane)||new uo(0,0)},_moved:function(){var xr=this._getMapPanePos();return xr&&!xr.equals([0,0])},_getTopLeftPoint:function(xr,Rr){var Br=xr&&Rr!==void 0?this._getNewPixelOrigin(xr,Rr):this.getPixelOrigin();return Br.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(xr,Rr){var Br=this.getSize()._divideBy(2);return this.project(xr,Rr)._subtract(Br)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(xr,Rr,Br){var Qr=this._getNewPixelOrigin(Br,Rr);return this.project(xr,Rr)._subtract(Qr)},_latLngBoundsToNewLayerBounds:function(xr,Rr,Br){var Qr=this._getNewPixelOrigin(Br,Rr);return mo([this.project(xr.getSouthWest(),Rr)._subtract(Qr),this.project(xr.getNorthWest(),Rr)._subtract(Qr),this.project(xr.getSouthEast(),Rr)._subtract(Qr),this.project(xr.getNorthEast(),Rr)._subtract(Qr)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(xr){return this.latLngToLayerPoint(xr).subtract(this._getCenterLayerPoint())},_limitCenter:function(xr,Rr,Br){if(!Br)return xr;var Qr=this.project(xr,Rr),ho=this.getSize().divideBy(2),jo=new no(Qr.subtract(ho),Qr.add(ho)),zo=this._getBoundsOffset(jo,Br,Rr);return Math.abs(zo.x)<=1&&Math.abs(zo.y)<=1?xr:this.unproject(Qr.add(zo),Rr)},_limitOffset:function(xr,Rr){if(!Rr)return xr;var Br=this.getPixelBounds(),Qr=new no(Br.min.add(xr),Br.max.add(xr));return xr.add(this._getBoundsOffset(Qr,Rr))},_getBoundsOffset:function(xr,Rr,Br){var Qr=mo(this.project(Rr.getNorthEast(),Br),this.project(Rr.getSouthWest(),Br)),ho=Qr.min.subtract(xr.min),jo=Qr.max.subtract(xr.max),zo=this._rebound(ho.x,-jo.x),tl=this._rebound(ho.y,-jo.y);return new uo(zo,tl)},_rebound:function(xr,Rr){return xr+Rr>0?Math.round(xr-Rr)/2:Math.max(0,Math.ceil(xr))-Math.max(0,Math.floor(Rr))},_limitZoom:function(xr){var Rr=this.getMinZoom(),Br=this.getMaxZoom(),Qr=Dl.any3d?this.options.zoomSnap:1;return Qr&&(xr=Math.round(xr/Qr)*Qr),Math.max(Rr,Math.min(Br,xr))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wu(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(xr,Rr){var Br=this._getCenterOffset(xr)._trunc();return(Rr&&Rr.animate)!==!0&&!this.getSize().contains(Br)?!1:(this.panBy(Br,Rr),!0)},_createAnimProxy:function(){var xr=this._proxy=Lc("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(xr),this.on("zoomanim",function(Rr){var Br=Nh,Qr=this._proxy.style[Br];ud(this._proxy,this.project(Rr.center,Rr.zoom),this.getZoomScale(Rr.zoom,1)),Qr===this._proxy.style[Br]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vc(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var xr=this.getCenter(),Rr=this.getZoom();ud(this._proxy,this.project(xr,Rr),this.getZoomScale(Rr,1))},_catchTransitionEnd:function(xr){this._animatingZoom&&xr.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(xr,Rr,Br){if(this._animatingZoom)return!0;if(Br=Br||{},!this._zoomAnimated||Br.animate===!1||this._nothingToAnimate()||Math.abs(Rr-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Qr=this.getZoomScale(Rr),ho=this._getCenterOffset(xr)._divideBy(1-1/Qr);return Br.animate!==!0&&!this.getSize().contains(ho)?!1:(Hr(function(){this._moveStart(!0,Br.noMoveStart||!1)._animateZoom(xr,Rr,!0)},this),!0)},_animateZoom:function(xr,Rr,Br,Qr){this._mapPane&&(Br&&(this._animatingZoom=!0,this._animateToCenter=xr,this._animateToZoom=Rr,_c(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:xr,zoom:Rr,noUpdate:Qr}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(sr(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wu(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gh(xr,Rr){return new Nc(xr,Rr)}var Zh=io.extend({options:{position:"topright"},initialize:function(xr){yr(this,xr)},getPosition:function(){return this.options.position},setPosition:function(xr){var Rr=this._map;return Rr&&Rr.removeControl(this),this.options.position=xr,Rr&&Rr.addControl(this),this},getContainer:function(){return this._container},addTo:function(xr){this.remove(),this._map=xr;var Rr=this._container=this.onAdd(xr),Br=this.getPosition(),Qr=xr._controlCorners[Br];return _c(Rr,"leaflet-control"),Br.indexOf("bottom")!==-1?Qr.insertBefore(Rr,Qr.firstChild):Qr.appendChild(Rr),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vc(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(xr){this._map&&xr&&xr.screenX>0&&xr.screenY>0&&this._map.getContainer().focus()}}),Qh=function(xr){return new Zh(xr)};Nc.include({addControl:function(xr){return xr.addTo(this),this},removeControl:function(xr){return xr.remove(),this},_initControlPos:function(){var xr=this._controlCorners={},Rr="leaflet-",Br=this._controlContainer=Lc("div",Rr+"control-container",this._container);function Qr(ho,jo){var zo=Rr+ho+" "+Rr+jo;xr[ho+jo]=Lc("div",zo,Br)}Qr("top","left"),Qr("top","right"),Qr("bottom","left"),Qr("bottom","right")},_clearControlPos:function(){for(var xr in this._controlCorners)Vc(this._controlCorners[xr]);Vc(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mm=Zh.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(xr,Rr,Br,Qr){return Br<Qr?-1:Qr<Br?1:0}},initialize:function(xr,Rr,Br){yr(this,Br),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Qr in xr)this._addLayer(xr[Qr],Qr);for(Qr in Rr)this._addLayer(Rr[Qr],Qr,!0)},onAdd:function(xr){this._initLayout(),this._update(),this._map=xr,xr.on("zoomend",this._checkDisabledLayers,this);for(var Rr=0;Rr<this._layers.length;Rr++)this._layers[Rr].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(xr){return Zh.prototype.addTo.call(this,xr),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var xr=0;xr<this._layers.length;xr++)this._layers[xr].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(xr,Rr){return this._addLayer(xr,Rr),this._map?this._update():this},addOverlay:function(xr,Rr){return this._addLayer(xr,Rr,!0),this._map?this._update():this},removeLayer:function(xr){xr.off("add remove",this._onLayerChange,this);var Rr=this._getLayer(or(xr));return Rr&&this._layers.splice(this._layers.indexOf(Rr),1),this._map?this._update():this},expand:function(){_c(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var xr=this._map.getSize().y-(this._container.offsetTop+50);return xr<this._section.clientHeight?(_c(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=xr+"px"):wu(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wu(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var xr="leaflet-control-layers",Rr=this._container=Lc("div",xr),Br=this.options.collapsed;Rr.setAttribute("aria-haspopup",!0),tf(Rr),bf(Rr);var Qr=this._section=Lc("section",xr+"-list");Br&&(this._map.on("click",this.collapse,this),Ec(Rr,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ho=this._layersLink=Lc("a",xr+"-toggle",Rr);ho.href="#",ho.title="Layers",ho.setAttribute("role","button"),Ec(ho,{keydown:function(jo){jo.keyCode===13&&this._expandSafely()},click:function(jo){jc(jo),this._expandSafely()}},this),Br||this.expand(),this._baseLayersList=Lc("div",xr+"-base",Qr),this._separator=Lc("div",xr+"-separator",Qr),this._overlaysList=Lc("div",xr+"-overlays",Qr),Rr.appendChild(Qr)},_getLayer:function(xr){for(var Rr=0;Rr<this._layers.length;Rr++)if(this._layers[Rr]&&or(this._layers[Rr].layer)===xr)return this._layers[Rr]},_addLayer:function(xr,Rr,Br){this._map&&xr.on("add remove",this._onLayerChange,this),this._layers.push({layer:xr,name:Rr,overlay:Br}),this.options.sortLayers&&this._layers.sort(sr(function(Qr,ho){return this.options.sortFunction(Qr.layer,ho.layer,Qr.name,ho.name)},this)),this.options.autoZIndex&&xr.setZIndex&&(this._lastZIndex++,xr.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Th(this._baseLayersList),Th(this._overlaysList),this._layerControlInputs=[];var xr,Rr,Br,Qr,ho=0;for(Br=0;Br<this._layers.length;Br++)Qr=this._layers[Br],this._addItem(Qr),Rr=Rr||Qr.overlay,xr=xr||!Qr.overlay,ho+=Qr.overlay?0:1;return this.options.hideSingleBase&&(xr=xr&&ho>1,this._baseLayersList.style.display=xr?"":"none"),this._separator.style.display=Rr&&xr?"":"none",this},_onLayerChange:function(xr){this._handlingClick||this._update();var Rr=this._getLayer(or(xr.target)),Br=Rr.overlay?xr.type==="add"?"overlayadd":"overlayremove":xr.type==="add"?"baselayerchange":null;Br&&this._map.fire(Br,Rr)},_createRadioElement:function(xr,Rr){var Br='<input type="radio" class="leaflet-control-layers-selector" name="'+xr+'"'+(Rr?' checked="checked"':"")+"/>",Qr=document.createElement("div");return Qr.innerHTML=Br,Qr.firstChild},_addItem:function(xr){var Rr=document.createElement("label"),Br=this._map.hasLayer(xr.layer),Qr;xr.overlay?(Qr=document.createElement("input"),Qr.type="checkbox",Qr.className="leaflet-control-layers-selector",Qr.defaultChecked=Br):Qr=this._createRadioElement("leaflet-base-layers_"+or(this),Br),this._layerControlInputs.push(Qr),Qr.layerId=or(xr.layer),Ec(Qr,"click",this._onInputClick,this);var ho=document.createElement("span");ho.innerHTML=" "+xr.name;var jo=document.createElement("span");Rr.appendChild(jo),jo.appendChild(Qr),jo.appendChild(ho);var zo=xr.overlay?this._overlaysList:this._baseLayersList;return zo.appendChild(Rr),this._checkDisabledLayers(),Rr},_onInputClick:function(){if(!this._preventClick){var xr=this._layerControlInputs,Rr,Br,Qr=[],ho=[];this._handlingClick=!0;for(var jo=xr.length-1;jo>=0;jo--)Rr=xr[jo],Br=this._getLayer(Rr.layerId).layer,Rr.checked?Qr.push(Br):Rr.checked||ho.push(Br);for(jo=0;jo<ho.length;jo++)this._map.hasLayer(ho[jo])&&this._map.removeLayer(ho[jo]);for(jo=0;jo<Qr.length;jo++)this._map.hasLayer(Qr[jo])||this._map.addLayer(Qr[jo]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var xr=this._layerControlInputs,Rr,Br,Qr=this._map.getZoom(),ho=xr.length-1;ho>=0;ho--)Rr=xr[ho],Br=this._getLayer(Rr.layerId).layer,Rr.disabled=Br.options.minZoom!==void 0&&Qr<Br.options.minZoom||Br.options.maxZoom!==void 0&&Qr>Br.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var xr=this._section;this._preventClick=!0,Ec(xr,"click",jc),this.expand();var Rr=this;setTimeout(function(){Du(xr,"click",jc),Rr._preventClick=!1})}}),Ym=function(xr,Rr,Br){return new mm(xr,Rr,Br)},gu=Zh.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(xr){var Rr="leaflet-control-zoom",Br=Lc("div",Rr+" leaflet-bar"),Qr=this.options;return this._zoomInButton=this._createButton(Qr.zoomInText,Qr.zoomInTitle,Rr+"-in",Br,this._zoomIn),this._zoomOutButton=this._createButton(Qr.zoomOutText,Qr.zoomOutTitle,Rr+"-out",Br,this._zoomOut),this._updateDisabled(),xr.on("zoomend zoomlevelschange",this._updateDisabled,this),Br},onRemove:function(xr){xr.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(xr){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(xr.shiftKey?3:1))},_zoomOut:function(xr){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(xr.shiftKey?3:1))},_createButton:function(xr,Rr,Br,Qr,ho){var jo=Lc("a",Br,Qr);return jo.innerHTML=xr,jo.href="#",jo.title=Rr,jo.setAttribute("role","button"),jo.setAttribute("aria-label",Rr),tf(jo),Ec(jo,"click",nu),Ec(jo,"click",ho,this),Ec(jo,"click",this._refocusOnMap,this),jo},_updateDisabled:function(){var xr=this._map,Rr="leaflet-disabled";wu(this._zoomInButton,Rr),wu(this._zoomOutButton,Rr),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||xr._zoom===xr.getMinZoom())&&(_c(this._zoomOutButton,Rr),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||xr._zoom===xr.getMaxZoom())&&(_c(this._zoomInButton,Rr),this._zoomInButton.setAttribute("aria-disabled","true"))}});Nc.mergeOptions({zoomControl:!0}),Nc.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gu,this.addControl(this.zoomControl))});var nf=function(xr){return new gu(xr)},kg=Zh.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(xr){var Rr="leaflet-control-scale",Br=Lc("div",Rr),Qr=this.options;return this._addScales(Qr,Rr+"-line",Br),xr.on(Qr.updateWhenIdle?"moveend":"move",this._update,this),xr.whenReady(this._update,this),Br},onRemove:function(xr){xr.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(xr,Rr,Br){xr.metric&&(this._mScale=Lc("div",Rr,Br)),xr.imperial&&(this._iScale=Lc("div",Rr,Br))},_update:function(){var xr=this._map,Rr=xr.getSize().y/2,Br=xr.distance(xr.containerPointToLatLng([0,Rr]),xr.containerPointToLatLng([this.options.maxWidth,Rr]));this._updateScales(Br)},_updateScales:function(xr){this.options.metric&&xr&&this._updateMetric(xr),this.options.imperial&&xr&&this._updateImperial(xr)},_updateMetric:function(xr){var Rr=this._getRoundNum(xr),Br=Rr<1e3?Rr+" m":Rr/1e3+" km";this._updateScale(this._mScale,Br,Rr/xr)},_updateImperial:function(xr){var Rr=xr*3.2808399,Br,Qr,ho;Rr>5280?(Br=Rr/5280,Qr=this._getRoundNum(Br),this._updateScale(this._iScale,Qr+" mi",Qr/Br)):(ho=this._getRoundNum(Rr),this._updateScale(this._iScale,ho+" ft",ho/Rr))},_updateScale:function(xr,Rr,Br){xr.style.width=Math.round(this.options.maxWidth*Br)+"px",xr.innerHTML=Rr},_getRoundNum:function(xr){var Rr=Math.pow(10,(Math.floor(xr)+"").length-1),Br=xr/Rr;return Br=Br>=10?10:Br>=5?5:Br>=3?3:Br>=2?2:1,Rr*Br}}),Ag=function(xr){return new kg(xr)},ux='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pp=Zh.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dl.inlineSvg?ux+" ":"")+"Leaflet</a>"},initialize:function(xr){yr(this,xr),this._attributions={}},onAdd:function(xr){xr.attributionControl=this,this._container=Lc("div","leaflet-control-attribution"),tf(this._container);for(var Rr in xr._layers)xr._layers[Rr].getAttribution&&this.addAttribution(xr._layers[Rr].getAttribution());return this._update(),xr.on("layeradd",this._addAttribution,this),this._container},onRemove:function(xr){xr.off("layeradd",this._addAttribution,this)},_addAttribution:function(xr){xr.layer.getAttribution&&(this.addAttribution(xr.layer.getAttribution()),xr.layer.once("remove",function(){this.removeAttribution(xr.layer.getAttribution())},this))},setPrefix:function(xr){return this.options.prefix=xr,this._update(),this},addAttribution:function(xr){return xr?(this._attributions[xr]||(this._attributions[xr]=0),this._attributions[xr]++,this._update(),this):this},removeAttribution:function(xr){return xr?(this._attributions[xr]&&(this._attributions[xr]--,this._update()),this):this},_update:function(){if(this._map){var xr=[];for(var Rr in this._attributions)this._attributions[Rr]&&xr.push(Rr);var Br=[];this.options.prefix&&Br.push(this.options.prefix),xr.length&&Br.push(xr.join(", ")),this._container.innerHTML=Br.join(' <span aria-hidden="true">|</span> ')}}});Nc.mergeOptions({attributionControl:!0}),Nc.addInitHook(function(){this.options.attributionControl&&new pp().addTo(this)});var iy=function(xr){return new pp(xr)};Zh.Layers=mm,Zh.Zoom=gu,Zh.Scale=kg,Zh.Attribution=pp,Qh.layers=Ym,Qh.zoom=nf,Qh.scale=Ag,Qh.attribution=iy;var Wu=io.extend({initialize:function(xr){this._map=xr},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wu.addTo=function(xr,Rr){return xr.addHandler(Rr,this),this};var ry={Events:ao},wh=Dl.touch?"touchstart mousedown":"mousedown",Gf=Jr.extend({options:{clickTolerance:3},initialize:function(xr,Rr,Br,Qr){yr(this,Qr),this._element=xr,this._dragStartTarget=Rr||xr,this._preventOutline=Br},enable:function(){this._enabled||(Ec(this._dragStartTarget,wh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gf._dragging===this&&this.finishDrag(!0),Du(this._dragStartTarget,wh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(xr){if(this._enabled&&(this._moved=!1,!fp(this._element,"leaflet-zoom-anim"))){if(xr.touches&&xr.touches.length!==1){Gf._dragging===this&&this.finishDrag();return}if(!(Gf._dragging||xr.shiftKey||xr.which!==1&&xr.button!==1&&!xr.touches)&&(Gf._dragging=this,this._preventOutline&&Zu(this._element),Vl(),No(),!this._moving)){this.fire("down");var Rr=xr.touches?xr.touches[0]:xr,Br=Hf(this._element);this._startPoint=new uo(Rr.clientX,Rr.clientY),this._startPos=Ro(this._element),this._parentScale=Vm(Br);var Qr=xr.type==="mousedown";Ec(document,Qr?"mousemove":"touchmove",this._onMove,this),Ec(document,Qr?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(xr){if(this._enabled){if(xr.touches&&xr.touches.length>1){this._moved=!0;return}var Rr=xr.touches&&xr.touches.length===1?xr.touches[0]:xr,Br=new uo(Rr.clientX,Rr.clientY)._subtract(this._startPoint);!Br.x&&!Br.y||Math.abs(Br.x)+Math.abs(Br.y)<this.options.clickTolerance||(Br.x/=this._parentScale.x,Br.y/=this._parentScale.y,jc(xr),this._moved||(this.fire("dragstart"),this._moved=!0,_c(document.body,"leaflet-dragging"),this._lastTarget=xr.target||xr.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_c(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Br),this._moving=!0,this._lastEvent=xr,this._updatePosition())}},_updatePosition:function(){var xr={originalEvent:this._lastEvent};this.fire("predrag",xr),Au(this._element,this._newPos),this.fire("drag",xr)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(xr){wu(document.body,"leaflet-dragging"),this._lastTarget&&(wu(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Du(document,"mousemove touchmove",this._onMove,this),Du(document,"mouseup touchend touchcancel",this._onUp,this),wc(),Bo();var Rr=this._moved&&this._moving;this._moving=!1,Gf._dragging=!1,Rr&&this.fire("dragend",{noInertia:xr,distance:this._newPos.distanceTo(this._startPos)})}});function hx(xr,Rr,Br){var Qr,ho=[1,4,2,8],jo,zo,tl,Qo,Sl,Il,ic,$c;for(jo=0,Il=xr.length;jo<Il;jo++)xr[jo]._code=Ef(xr[jo],Rr);for(tl=0;tl<4;tl++){for(ic=ho[tl],Qr=[],jo=0,Il=xr.length,zo=Il-1;jo<Il;zo=jo++)Qo=xr[jo],Sl=xr[zo],Qo._code&ic?Sl._code&ic||($c=qm(Sl,Qo,ic,Rr,Br),$c._code=Ef($c,Rr),Qr.push($c)):(Sl._code&ic&&($c=qm(Sl,Qo,ic,Rr,Br),$c._code=Ef($c,Rr),Qr.push($c)),Qr.push(Qo));xr=Qr}return xr}function jd(xr,Rr){var Br,Qr,ho,jo,zo,tl,Qo,Sl,Il;if(!xr||xr.length===0)throw new Error("latlngs not passed");Rd(xr)||(console.warn("latlngs are not flat! Only the first ring will be used"),xr=xr[0]);var ic=wo([0,0]),$c=bo(xr),lh=$c.getNorthWest().distanceTo($c.getSouthWest())*$c.getNorthEast().distanceTo($c.getNorthWest());lh<1700&&(ic=Bp(xr));var Tu=xr.length,Lh=[];for(Br=0;Br<Tu;Br++){var fu=wo(xr[Br]);Lh.push(Rr.project(wo([fu.lat-ic.lat,fu.lng-ic.lng])))}for(tl=Qo=Sl=0,Br=0,Qr=Tu-1;Br<Tu;Qr=Br++)ho=Lh[Br],jo=Lh[Qr],zo=ho.y*jo.x-jo.y*ho.x,Qo+=(ho.x+jo.x)*zo,Sl+=(ho.y+jo.y)*zo,tl+=zo*3;tl===0?Il=Lh[0]:Il=[Qo/tl,Sl/tl];var iu=Rr.unproject(co(Il));return wo([iu.lat+ic.lat,iu.lng+ic.lng])}function Bp(xr){for(var Rr=0,Br=0,Qr=0,ho=0;ho<xr.length;ho++){var jo=wo(xr[ho]);Rr+=jo.lat,Br+=jo.lng,Qr++}return wo([Rr/Qr,Br/Qr])}var gm={__proto__:null,clipPolygon:hx,polygonCenter:jd,centroid:Bp};function Fu(xr,Rr){if(!Rr||!xr.length)return xr.slice();var Br=Rr*Rr;return xr=dx(xr,Br),xr=sy(xr,Br),xr}function wf(xr,Rr,Br){return Math.sqrt(zp(xr,Rr,Br,!0))}function Xm(xr,Rr,Br){return zp(xr,Rr,Br)}function sy(xr,Rr){var Br=xr.length,Qr=typeof Uint8Array<"u"?Uint8Array:Array,ho=new Qr(Br);ho[0]=ho[Br-1]=1,xm(xr,ho,Rr,0,Br-1);var jo,zo=[];for(jo=0;jo<Br;jo++)ho[jo]&&zo.push(xr[jo]);return zo}function xm(xr,Rr,Br,Qr,ho){var jo=0,zo,tl,Qo;for(tl=Qr+1;tl<=ho-1;tl++)Qo=zp(xr[tl],xr[Qr],xr[ho],!0),Qo>jo&&(zo=tl,jo=Qo);jo>Br&&(Rr[zo]=1,xm(xr,Rr,Br,Qr,zo),xm(xr,Rr,Br,zo,ho))}function dx(xr,Rr){for(var Br=[xr[0]],Qr=1,ho=0,jo=xr.length;Qr<jo;Qr++)ym(xr[Qr],xr[ho])>Rr&&(Br.push(xr[Qr]),ho=Qr);return ho<jo-1&&Br.push(xr[jo-1]),Br}var ay;function oy(xr,Rr,Br,Qr,ho){var jo=Qr?ay:Ef(xr,Br),zo=Ef(Rr,Br),tl,Qo,Sl;for(ay=zo;;){if(!(jo|zo))return[xr,Rr];if(jo&zo)return!1;tl=jo||zo,Qo=qm(xr,Rr,tl,Br,ho),Sl=Ef(Qo,Br),tl===jo?(xr=Qo,jo=Sl):(Rr=Qo,zo=Sl)}}function qm(xr,Rr,Br,Qr,ho){var jo=Rr.x-xr.x,zo=Rr.y-xr.y,tl=Qr.min,Qo=Qr.max,Sl,Il;return Br&8?(Sl=xr.x+jo*(Qo.y-xr.y)/zo,Il=Qo.y):Br&4?(Sl=xr.x+jo*(tl.y-xr.y)/zo,Il=tl.y):Br&2?(Sl=Qo.x,Il=xr.y+zo*(Qo.x-xr.x)/jo):Br&1&&(Sl=tl.x,Il=xr.y+zo*(tl.x-xr.x)/jo),new uo(Sl,Il,ho)}function Ef(xr,Rr){var Br=0;return xr.x<Rr.min.x?Br|=1:xr.x>Rr.max.x&&(Br|=2),xr.y<Rr.min.y?Br|=4:xr.y>Rr.max.y&&(Br|=8),Br}function ym(xr,Rr){var Br=Rr.x-xr.x,Qr=Rr.y-xr.y;return Br*Br+Qr*Qr}function zp(xr,Rr,Br,Qr){var ho=Rr.x,jo=Rr.y,zo=Br.x-ho,tl=Br.y-jo,Qo=zo*zo+tl*tl,Sl;return Qo>0&&(Sl=((xr.x-ho)*zo+(xr.y-jo)*tl)/Qo,Sl>1?(ho=Br.x,jo=Br.y):Sl>0&&(ho+=zo*Sl,jo+=tl*Sl)),zo=xr.x-ho,tl=xr.y-jo,Qr?zo*zo+tl*tl:new uo(ho,jo)}function Rd(xr){return!Tr(xr[0])||typeof xr[0][0]!="object"&&typeof xr[0][0]<"u"}function Km(xr){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rd(xr)}function mp(xr,Rr){var Br,Qr,ho,jo,zo,tl,Qo,Sl;if(!xr||xr.length===0)throw new Error("latlngs not passed");Rd(xr)||(console.warn("latlngs are not flat! Only the first ring will be used"),xr=xr[0]);var Il=wo([0,0]),ic=bo(xr),$c=ic.getNorthWest().distanceTo(ic.getSouthWest())*ic.getNorthEast().distanceTo(ic.getNorthWest());$c<1700&&(Il=Bp(xr));var lh=xr.length,Tu=[];for(Br=0;Br<lh;Br++){var Lh=wo(xr[Br]);Tu.push(Rr.project(wo([Lh.lat-Il.lat,Lh.lng-Il.lng])))}for(Br=0,Qr=0;Br<lh-1;Br++)Qr+=Tu[Br].distanceTo(Tu[Br+1])/2;if(Qr===0)Sl=Tu[0];else for(Br=0,jo=0;Br<lh-1;Br++)if(zo=Tu[Br],tl=Tu[Br+1],ho=zo.distanceTo(tl),jo+=ho,jo>Qr){Qo=(jo-Qr)/ho,Sl=[tl.x-Qo*(tl.x-zo.x),tl.y-Qo*(tl.y-zo.y)];break}var fu=Rr.unproject(co(Sl));return wo([fu.lat+Il.lat,fu.lng+Il.lng])}var Tg={__proto__:null,simplify:Fu,pointToSegmentDistance:wf,closestPointOnSegment:Xm,clipSegment:oy,_getEdgeIntersection:qm,_getBitCode:Ef,_sqClosestPointOnSegment:zp,isFlat:Rd,_flat:Km,polylineCenter:mp},Sf={project:function(xr){return new uo(xr.lng,xr.lat)},unproject:function(xr){return new Po(xr.y,xr.x)},bounds:new no([-180,-90],[180,90])},Zm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new no([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(xr){var Rr=Math.PI/180,Br=this.R,Qr=xr.lat*Rr,ho=this.R_MINOR/Br,jo=Math.sqrt(1-ho*ho),zo=jo*Math.sin(Qr),tl=Math.tan(Math.PI/4-Qr/2)/Math.pow((1-zo)/(1+zo),jo/2);return Qr=-Br*Math.log(Math.max(tl,1e-10)),new uo(xr.lng*Rr*Br,Qr)},unproject:function(xr){for(var Rr=180/Math.PI,Br=this.R,Qr=this.R_MINOR/Br,ho=Math.sqrt(1-Qr*Qr),jo=Math.exp(-xr.y/Br),zo=Math.PI/2-2*Math.atan(jo),tl=0,Qo=.1,Sl;tl<15&&Math.abs(Qo)>1e-7;tl++)Sl=ho*Math.sin(zo),Sl=Math.pow((1-Sl)/(1+Sl),ho/2),Qo=Math.PI/2-2*Math.atan(jo*Sl)-zo,zo+=Qo;return new Po(zo*Rr,xr.x*Rr/Br)}},Qm={__proto__:null,LonLat:Sf,Mercator:Zm,SphericalMercator:Go},Pg=ir({},Fo,{code:"EPSG:3395",projection:Zm,transformation:(function(){var xr=.5/(Math.PI*Zm.R);return Lo(xr,.5,-xr,.5)})()}),fx=ir({},Fo,{code:"EPSG:4326",projection:Sf,transformation:Lo(1/180,1,-1/180,.5)}),Hp=ir({},To,{projection:Sf,transformation:Lo(1,0,-1,0),scale:function(xr){return Math.pow(2,xr)},zoom:function(xr){return Math.log(xr)/Math.LN2},distance:function(xr,Rr){var Br=Rr.lng-xr.lng,Qr=Rr.lat-xr.lat;return Math.sqrt(Br*Br+Qr*Qr)},infinite:!0});To.Earth=Fo,To.EPSG3395=Pg,To.EPSG3857=Uo,To.EPSG900913=$o,To.EPSG4326=fx,To.Simple=Hp;var Gu=Jr.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(xr){return xr.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(xr){return xr&&xr.removeLayer(this),this},getPane:function(xr){return this._map.getPane(xr?this.options[xr]||xr:this.options.pane)},addInteractiveTarget:function(xr){return this._map._targets[or(xr)]=this,this},removeInteractiveTarget:function(xr){return delete this._map._targets[or(xr)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(xr){var Rr=xr.target;if(Rr.hasLayer(this)){if(this._map=Rr,this._zoomAnimated=Rr._zoomAnimated,this.getEvents){var Br=this.getEvents();Rr.on(Br,this),this.once("remove",function(){Rr.off(Br,this)},this)}this.onAdd(Rr),this.fire("add"),Rr.fire("layeradd",{layer:this})}}});Nc.include({addLayer:function(xr){if(!xr._layerAdd)throw new Error("The provided object is not a Layer.");var Rr=or(xr);return this._layers[Rr]?this:(this._layers[Rr]=xr,xr._mapToAdd=this,xr.beforeAdd&&xr.beforeAdd(this),this.whenReady(xr._layerAdd,xr),this)},removeLayer:function(xr){var Rr=or(xr);return this._layers[Rr]?(this._loaded&&xr.onRemove(this),delete this._layers[Rr],this._loaded&&(this.fire("layerremove",{layer:xr}),xr.fire("remove")),xr._map=xr._mapToAdd=null,this):this},hasLayer:function(xr){return or(xr)in this._layers},eachLayer:function(xr,Rr){for(var Br in this._layers)xr.call(Rr,this._layers[Br]);return this},_addLayers:function(xr){xr=xr?Tr(xr)?xr:[xr]:[];for(var Rr=0,Br=xr.length;Rr<Br;Rr++)this.addLayer(xr[Rr])},_addZoomLimit:function(xr){(!isNaN(xr.options.maxZoom)||!isNaN(xr.options.minZoom))&&(this._zoomBoundLayers[or(xr)]=xr,this._updateZoomLevels())},_removeZoomLimit:function(xr){var Rr=or(xr);this._zoomBoundLayers[Rr]&&(delete this._zoomBoundLayers[Rr],this._updateZoomLevels())},_updateZoomLevels:function(){var xr=1/0,Rr=-1/0,Br=this._getZoomSpan();for(var Qr in this._zoomBoundLayers){var ho=this._zoomBoundLayers[Qr].options;xr=ho.minZoom===void 0?xr:Math.min(xr,ho.minZoom),Rr=ho.maxZoom===void 0?Rr:Math.max(Rr,ho.maxZoom)}this._layersMaxZoom=Rr===-1/0?void 0:Rr,this._layersMinZoom=xr===1/0?void 0:xr,Br!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var jf=Gu.extend({initialize:function(xr,Rr){yr(this,Rr),this._layers={};var Br,Qr;if(xr)for(Br=0,Qr=xr.length;Br<Qr;Br++)this.addLayer(xr[Br])},addLayer:function(xr){var Rr=this.getLayerId(xr);return this._layers[Rr]=xr,this._map&&this._map.addLayer(xr),this},removeLayer:function(xr){var Rr=xr in this._layers?xr:this.getLayerId(xr);return this._map&&this._layers[Rr]&&this._map.removeLayer(this._layers[Rr]),delete this._layers[Rr],this},hasLayer:function(xr){var Rr=typeof xr=="number"?xr:this.getLayerId(xr);return Rr in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(xr){var Rr=Array.prototype.slice.call(arguments,1),Br,Qr;for(Br in this._layers)Qr=this._layers[Br],Qr[xr]&&Qr[xr].apply(Qr,Rr);return this},onAdd:function(xr){this.eachLayer(xr.addLayer,xr)},onRemove:function(xr){this.eachLayer(xr.removeLayer,xr)},eachLayer:function(xr,Rr){for(var Br in this._layers)xr.call(Rr,this._layers[Br]);return this},getLayer:function(xr){return this._layers[xr]},getLayers:function(){var xr=[];return this.eachLayer(xr.push,xr),xr},setZIndex:function(xr){return this.invoke("setZIndex",xr)},getLayerId:function(xr){return or(xr)}}),gp=function(xr,Rr){return new jf(xr,Rr)},dd=jf.extend({addLayer:function(xr){return this.hasLayer(xr)?this:(xr.addEventParent(this),jf.prototype.addLayer.call(this,xr),this.fire("layeradd",{layer:xr}))},removeLayer:function(xr){return this.hasLayer(xr)?(xr in this._layers&&(xr=this._layers[xr]),xr.removeEventParent(this),jf.prototype.removeLayer.call(this,xr),this.fire("layerremove",{layer:xr})):this},setStyle:function(xr){return this.invoke("setStyle",xr)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var xr=new Eo;for(var Rr in this._layers){var Br=this._layers[Rr];xr.extend(Br.getBounds?Br.getBounds():Br.getLatLng())}return xr}}),px=function(xr,Rr){return new dd(xr,Rr)},rf=io.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(xr){yr(this,xr)},createIcon:function(xr){return this._createIcon("icon",xr)},createShadow:function(xr){return this._createIcon("shadow",xr)},_createIcon:function(xr,Rr){var Br=this._getIconUrl(xr);if(!Br){if(xr==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Qr=this._createImg(Br,Rr&&Rr.tagName==="IMG"?Rr:null);return this._setIconStyles(Qr,xr),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Qr.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Qr},_setIconStyles:function(xr,Rr){var Br=this.options,Qr=Br[Rr+"Size"];typeof Qr=="number"&&(Qr=[Qr,Qr]);var ho=co(Qr),jo=co(Rr==="shadow"&&Br.shadowAnchor||Br.iconAnchor||ho&&ho.divideBy(2,!0));xr.className="leaflet-marker-"+Rr+" "+(Br.className||""),jo&&(xr.style.marginLeft=-jo.x+"px",xr.style.marginTop=-jo.y+"px"),ho&&(xr.style.width=ho.x+"px",xr.style.height=ho.y+"px")},_createImg:function(xr,Rr){return Rr=Rr||document.createElement("img"),Rr.src=xr,Rr},_getIconUrl:function(xr){return Dl.retina&&this.options[xr+"RetinaUrl"]||this.options[xr+"Url"]}});function xp(xr){return new rf(xr)}var sf=rf.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(xr){return typeof sf.imagePath!="string"&&(sf.imagePath=this._detectIconPath()),(this.options.imagePath||sf.imagePath)+rf.prototype._getIconUrl.call(this,xr)},_stripUrl:function(xr){var Rr=function(Br,Qr,ho){var jo=Qr.exec(Br);return jo&&jo[ho]};return xr=Rr(xr,/^url\((['"])?(.+)\1\)$/,2),xr&&Rr(xr,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var xr=Lc("div","leaflet-default-icon-path",document.body),Rr=Bf(xr,"background-image")||Bf(xr,"backgroundImage");if(document.body.removeChild(xr),Rr=this._stripUrl(Rr),Rr)return Rr;var Br=document.querySelector('link[href$="leaflet.css"]');return Br?Br.href.substring(0,Br.href.length-11-1):""}}),Jm=Wu.extend({initialize:function(xr){this._marker=xr},addHooks:function(){var xr=this._marker._icon;this._draggable||(this._draggable=new Gf(xr,xr,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_c(xr,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wu(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(xr){var Rr=this._marker,Br=Rr._map,Qr=this._marker.options.autoPanSpeed,ho=this._marker.options.autoPanPadding,jo=Ro(Rr._icon),zo=Br.getPixelBounds(),tl=Br.getPixelOrigin(),Qo=mo(zo.min._subtract(tl).add(ho),zo.max._subtract(tl).subtract(ho));if(!Qo.contains(jo)){var Sl=co((Math.max(Qo.max.x,jo.x)-Qo.max.x)/(zo.max.x-Qo.max.x)-(Math.min(Qo.min.x,jo.x)-Qo.min.x)/(zo.min.x-Qo.min.x),(Math.max(Qo.max.y,jo.y)-Qo.max.y)/(zo.max.y-Qo.max.y)-(Math.min(Qo.min.y,jo.y)-Qo.min.y)/(zo.min.y-Qo.min.y)).multiplyBy(Qr);Br.panBy(Sl,{animate:!1}),this._draggable._newPos._add(Sl),this._draggable._startPos._add(Sl),Au(Rr._icon,this._draggable._newPos),this._onDrag(xr),this._panRequest=Hr(this._adjustPan.bind(this,xr))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(xr){this._marker.options.autoPan&&(Yr(this._panRequest),this._panRequest=Hr(this._adjustPan.bind(this,xr)))},_onDrag:function(xr){var Rr=this._marker,Br=Rr._shadow,Qr=Ro(Rr._icon),ho=Rr._map.layerPointToLatLng(Qr);Br&&Au(Br,Qr),Rr._latlng=ho,xr.latlng=ho,xr.oldLatLng=this._oldLatLng,Rr.fire("move",xr).fire("drag",xr)},_onDragEnd:function(xr){Yr(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",xr)}}),af=Gu.extend({options:{icon:new sf,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(xr,Rr){yr(this,Rr),this._latlng=wo(xr)},onAdd:function(xr){this._zoomAnimated=this._zoomAnimated&&xr.options.markerZoomAnimation,this._zoomAnimated&&xr.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(xr){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&xr.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(xr){var Rr=this._latlng;return this._latlng=wo(xr),this.update(),this.fire("move",{oldLatLng:Rr,latlng:this._latlng})},setZIndexOffset:function(xr){return this.options.zIndexOffset=xr,this.update()},getIcon:function(){return this.options.icon},setIcon:function(xr){return this.options.icon=xr,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var xr=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(xr)}return this},_initIcon:function(){var xr=this.options,Rr="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Br=xr.icon.createIcon(this._icon),Qr=!1;Br!==this._icon&&(this._icon&&this._removeIcon(),Qr=!0,xr.title&&(Br.title=xr.title),Br.tagName==="IMG"&&(Br.alt=xr.alt||"")),_c(Br,Rr),xr.keyboard&&(Br.tabIndex="0",Br.setAttribute("role","button")),this._icon=Br,xr.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ec(Br,"focus",this._panOnFocus,this);var ho=xr.icon.createShadow(this._shadow),jo=!1;ho!==this._shadow&&(this._removeShadow(),jo=!0),ho&&(_c(ho,Rr),ho.alt=""),this._shadow=ho,xr.opacity<1&&this._updateOpacity(),Qr&&this.getPane().appendChild(this._icon),this._initInteraction(),ho&&jo&&this.getPane(xr.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Du(this._icon,"focus",this._panOnFocus,this),Vc(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vc(this._shadow),this._shadow=null},_setPos:function(xr){this._icon&&Au(this._icon,xr),this._shadow&&Au(this._shadow,xr),this._zIndex=xr.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(xr){this._icon&&(this._icon.style.zIndex=this._zIndex+xr)},_animateZoom:function(xr){var Rr=this._map._latLngToNewLayerPoint(this._latlng,xr.zoom,xr.center).round();this._setPos(Rr)},_initInteraction:function(){if(this.options.interactive&&(_c(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jm)){var xr=this.options.draggable;this.dragging&&(xr=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jm(this),xr&&this.dragging.enable()}},setOpacity:function(xr){return this.options.opacity=xr,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var xr=this.options.opacity;this._icon&&Eu(this._icon,xr),this._shadow&&Eu(this._shadow,xr)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var xr=this._map;if(xr){var Rr=this.options.icon.options,Br=Rr.iconSize?co(Rr.iconSize):co(0,0),Qr=Rr.iconAnchor?co(Rr.iconAnchor):co(0,0);xr.panInside(this._latlng,{paddingTopLeft:Qr,paddingBottomRight:Br.subtract(Qr)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wp(xr,Rr){return new af(xr,Rr)}var Gh=Gu.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(xr){this._renderer=xr.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(xr){return yr(this,xr),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&xr&&Object.prototype.hasOwnProperty.call(xr,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rf=Gh.extend({options:{fill:!0,radius:10},initialize:function(xr,Rr){yr(this,Rr),this._latlng=wo(xr),this._radius=this.options.radius},setLatLng:function(xr){var Rr=this._latlng;return this._latlng=wo(xr),this.redraw(),this.fire("move",{oldLatLng:Rr,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(xr){return this.options.radius=this._radius=xr,this.redraw()},getRadius:function(){return this._radius},setStyle:function(xr){var Rr=xr&&xr.radius||this._radius;return Gh.prototype.setStyle.call(this,xr),this.setRadius(Rr),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var xr=this._radius,Rr=this._radiusY||xr,Br=this._clickTolerance(),Qr=[xr+Br,Rr+Br];this._pxBounds=new no(this._point.subtract(Qr),this._point.add(Qr))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(xr){return xr.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Dg(xr,Rr){return new Rf(xr,Rr)}var Gp=Rf.extend({initialize:function(xr,Rr,Br){if(typeof Rr=="number"&&(Rr=ir({},Br,{radius:Rr})),yr(this,Rr),this._latlng=wo(xr),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(xr){return this._mRadius=xr,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var xr=[this._radius,this._radiusY||this._radius];return new Eo(this._map.layerPointToLatLng(this._point.subtract(xr)),this._map.layerPointToLatLng(this._point.add(xr)))},setStyle:Gh.prototype.setStyle,_project:function(){var xr=this._latlng.lng,Rr=this._latlng.lat,Br=this._map,Qr=Br.options.crs;if(Qr.distance===Fo.distance){var ho=Math.PI/180,jo=this._mRadius/Fo.R/ho,zo=Br.project([Rr+jo,xr]),tl=Br.project([Rr-jo,xr]),Qo=zo.add(tl).divideBy(2),Sl=Br.unproject(Qo).lat,Il=Math.acos((Math.cos(jo*ho)-Math.sin(Rr*ho)*Math.sin(Sl*ho))/(Math.cos(Rr*ho)*Math.cos(Sl*ho)))/ho;(isNaN(Il)||Il===0)&&(Il=jo/Math.cos(Math.PI/180*Rr)),this._point=Qo.subtract(Br.getPixelOrigin()),this._radius=isNaN(Il)?0:Qo.x-Br.project([Sl,xr-Il]).x,this._radiusY=Qo.y-zo.y}else{var ic=Qr.unproject(Qr.project(this._latlng).subtract([this._mRadius,0]));this._point=Br.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Br.latLngToLayerPoint(ic).x}this._updateBounds()}});function of(xr,Rr,Br){return new Gp(xr,Rr,Br)}var Fd=Gh.extend({options:{smoothFactor:1,noClip:!1},initialize:function(xr,Rr){yr(this,Rr),this._setLatLngs(xr)},getLatLngs:function(){return this._latlngs},setLatLngs:function(xr){return this._setLatLngs(xr),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(xr){for(var Rr=1/0,Br=null,Qr=zp,ho,jo,zo=0,tl=this._parts.length;zo<tl;zo++)for(var Qo=this._parts[zo],Sl=1,Il=Qo.length;Sl<Il;Sl++){ho=Qo[Sl-1],jo=Qo[Sl];var ic=Qr(xr,ho,jo,!0);ic<Rr&&(Rr=ic,Br=Qr(xr,ho,jo))}return Br&&(Br.distance=Math.sqrt(Rr)),Br},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(xr,Rr){return Rr=Rr||this._defaultShape(),xr=wo(xr),Rr.push(xr),this._bounds.extend(xr),this.redraw()},_setLatLngs:function(xr){this._bounds=new Eo,this._latlngs=this._convertLatLngs(xr)},_defaultShape:function(){return Rd(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(xr){for(var Rr=[],Br=Rd(xr),Qr=0,ho=xr.length;Qr<ho;Qr++)Br?(Rr[Qr]=wo(xr[Qr]),this._bounds.extend(Rr[Qr])):Rr[Qr]=this._convertLatLngs(xr[Qr]);return Rr},_project:function(){var xr=new no;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,xr),this._bounds.isValid()&&xr.isValid()&&(this._rawPxBounds=xr,this._updateBounds())},_updateBounds:function(){var xr=this._clickTolerance(),Rr=new uo(xr,xr);this._rawPxBounds&&(this._pxBounds=new no([this._rawPxBounds.min.subtract(Rr),this._rawPxBounds.max.add(Rr)]))},_projectLatlngs:function(xr,Rr,Br){var Qr=xr[0]instanceof Po,ho=xr.length,jo,zo;if(Qr){for(zo=[],jo=0;jo<ho;jo++)zo[jo]=this._map.latLngToLayerPoint(xr[jo]),Br.extend(zo[jo]);Rr.push(zo)}else for(jo=0;jo<ho;jo++)this._projectLatlngs(xr[jo],Rr,Br)},_clipPoints:function(){var xr=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(xr))){if(this.options.noClip){this._parts=this._rings;return}var Rr=this._parts,Br,Qr,ho,jo,zo,tl,Qo;for(Br=0,ho=0,jo=this._rings.length;Br<jo;Br++)for(Qo=this._rings[Br],Qr=0,zo=Qo.length;Qr<zo-1;Qr++)tl=oy(Qo[Qr],Qo[Qr+1],xr,Qr,!0),tl&&(Rr[ho]=Rr[ho]||[],Rr[ho].push(tl[0]),(tl[1]!==Qo[Qr+1]||Qr===zo-2)&&(Rr[ho].push(tl[1]),ho++))}},_simplifyPoints:function(){for(var xr=this._parts,Rr=this.options.smoothFactor,Br=0,Qr=xr.length;Br<Qr;Br++)xr[Br]=Fu(xr[Br],Rr)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(xr,Rr){var Br,Qr,ho,jo,zo,tl,Qo=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(xr))return!1;for(Br=0,jo=this._parts.length;Br<jo;Br++)for(tl=this._parts[Br],Qr=0,zo=tl.length,ho=zo-1;Qr<zo;ho=Qr++)if(!(!Rr&&Qr===0)&&wf(xr,tl[ho],tl[Qr])<=Qo)return!0;return!1}});function hv(xr,Rr){return new Fd(xr,Rr)}Fd._flat=Km;var vm=Fd.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(xr){var Rr=Fd.prototype._convertLatLngs.call(this,xr),Br=Rr.length;return Br>=2&&Rr[0]instanceof Po&&Rr[0].equals(Rr[Br-1])&&Rr.pop(),Rr},_setLatLngs:function(xr){Fd.prototype._setLatLngs.call(this,xr),Rd(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rd(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var xr=this._renderer._bounds,Rr=this.options.weight,Br=new uo(Rr,Rr);if(xr=new no(xr.min.subtract(Br),xr.max.add(Br)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(xr))){if(this.options.noClip){this._parts=this._rings;return}for(var Qr=0,ho=this._rings.length,jo;Qr<ho;Qr++)jo=hx(this._rings[Qr],xr,!0),jo.length&&this._parts.push(jo)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(xr){var Rr=!1,Br,Qr,ho,jo,zo,tl,Qo,Sl;if(!this._pxBounds||!this._pxBounds.contains(xr))return!1;for(jo=0,Qo=this._parts.length;jo<Qo;jo++)for(Br=this._parts[jo],zo=0,Sl=Br.length,tl=Sl-1;zo<Sl;tl=zo++)Qr=Br[zo],ho=Br[tl],Qr.y>xr.y!=ho.y>xr.y&&xr.x<(ho.x-Qr.x)*(xr.y-Qr.y)/(ho.y-Qr.y)+Qr.x&&(Rr=!Rr);return Rr||Fd.prototype._containsPoint.call(this,xr,!0)}});function Mg(xr,Rr){return new vm(xr,Rr)}var fd=dd.extend({initialize:function(xr,Rr){yr(this,Rr),this._layers={},xr&&this.addData(xr)},addData:function(xr){var Rr=Tr(xr)?xr:xr.features,Br,Qr,ho;if(Rr){for(Br=0,Qr=Rr.length;Br<Qr;Br++)ho=Rr[Br],(ho.geometries||ho.geometry||ho.features||ho.coordinates)&&this.addData(ho);return this}var jo=this.options;if(jo.filter&&!jo.filter(xr))return this;var zo=zu(xr,jo);return zo?(zo.feature=Bd(xr),zo.defaultOptions=zo.options,this.resetStyle(zo),jo.onEachFeature&&jo.onEachFeature(xr,zo),this.addLayer(zo)):this},resetStyle:function(xr){return xr===void 0?this.eachLayer(this.resetStyle,this):(xr.options=ir({},xr.defaultOptions),this._setLayerStyle(xr,this.options.style),this)},setStyle:function(xr){return this.eachLayer(function(Rr){this._setLayerStyle(Rr,xr)},this)},_setLayerStyle:function(xr,Rr){xr.setStyle&&(typeof Rr=="function"&&(Rr=Rr(xr.feature)),xr.setStyle(Rr))}});function zu(xr,Rr){var Br=xr.type==="Feature"?xr.geometry:xr,Qr=Br?Br.coordinates:null,ho=[],jo=Rr&&Rr.pointToLayer,zo=Rr&&Rr.coordsToLatLng||lf,tl,Qo,Sl,Il;if(!Qr&&!Br)return null;switch(Br.type){case"Point":return tl=zo(Qr),Vp(jo,xr,tl,Rr);case"MultiPoint":for(Sl=0,Il=Qr.length;Sl<Il;Sl++)tl=zo(Qr[Sl]),ho.push(Vp(jo,xr,tl,Rr));return new dd(ho);case"LineString":case"MultiLineString":return Qo=eg(Qr,Br.type==="LineString"?0:1,zo),new Fd(Qo,Rr);case"Polygon":case"MultiPolygon":return Qo=eg(Qr,Br.type==="Polygon"?1:2,zo),new vm(Qo,Rr);case"GeometryCollection":for(Sl=0,Il=Br.geometries.length;Sl<Il;Sl++){var ic=zu({geometry:Br.geometries[Sl],type:"Feature",properties:xr.properties},Rr);ic&&ho.push(ic)}return new dd(ho);case"FeatureCollection":for(Sl=0,Il=Br.features.length;Sl<Il;Sl++){var $c=zu(Br.features[Sl],Rr);$c&&ho.push($c)}return new dd(ho);default:throw new Error("Invalid GeoJSON object.")}}function Vp(xr,Rr,Br,Qr){return xr?xr(Rr,Br):new af(Br,Qr&&Qr.markersInheritOptions&&Qr)}function lf(xr){return new Po(xr[1],xr[0],xr[2])}function eg(xr,Rr,Br){for(var Qr=[],ho=0,jo=xr.length,zo;ho<jo;ho++)zo=Rr?eg(xr[ho],Rr-1,Br):(Br||lf)(xr[ho]),Qr.push(zo);return Qr}function tg(xr,Rr){return xr=wo(xr),xr.alt!==void 0?[dr(xr.lng,Rr),dr(xr.lat,Rr),dr(xr.alt,Rr)]:[dr(xr.lng,Rr),dr(xr.lat,Rr)]}function ng(xr,Rr,Br,Qr){for(var ho=[],jo=0,zo=xr.length;jo<zo;jo++)ho.push(Rr?ng(xr[jo],Rd(xr[jo])?0:Rr-1,Br,Qr):tg(xr[jo],Qr));return!Rr&&Br&&ho.length>0&&ho.push(ho[0].slice()),ho}function yp(xr,Rr){return xr.feature?ir({},xr.feature,{geometry:Rr}):Bd(Rr)}function Bd(xr){return xr.type==="Feature"||xr.type==="FeatureCollection"?xr:{type:"Feature",properties:{},geometry:xr}}var Jo={toGeoJSON:function(xr){return yp(this,{type:"Point",coordinates:tg(this.getLatLng(),xr)})}};af.include(Jo),Gp.include(Jo),Rf.include(Jo),Fd.include({toGeoJSON:function(xr){var Rr=!Rd(this._latlngs),Br=ng(this._latlngs,Rr?1:0,!1,xr);return yp(this,{type:(Rr?"Multi":"")+"LineString",coordinates:Br})}}),vm.include({toGeoJSON:function(xr){var Rr=!Rd(this._latlngs),Br=Rr&&!Rd(this._latlngs[0]),Qr=ng(this._latlngs,Br?2:Rr?1:0,!0,xr);return Rr||(Qr=[Qr]),yp(this,{type:(Br?"Multi":"")+"Polygon",coordinates:Qr})}}),jf.include({toMultiPoint:function(xr){var Rr=[];return this.eachLayer(function(Br){Rr.push(Br.toGeoJSON(xr).geometry.coordinates)}),yp(this,{type:"MultiPoint",coordinates:Rr})},toGeoJSON:function(xr){var Rr=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(Rr==="MultiPoint")return this.toMultiPoint(xr);var Br=Rr==="GeometryCollection",Qr=[];return this.eachLayer(function(ho){if(ho.toGeoJSON){var jo=ho.toGeoJSON(xr);if(Br)Qr.push(jo.geometry);else{var zo=Bd(jo);zo.type==="FeatureCollection"?Qr.push.apply(Qr,zo.features):Qr.push(zo)}}}),Br?yp(this,{geometries:Qr,type:"GeometryCollection"}):{type:"FeatureCollection",features:Qr}}});function _l(xr,Rr){return new fd(xr,Rr)}var dl=_l,Yl=Gu.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(xr,Rr,Br){this._url=xr,this._bounds=bo(Rr),yr(this,Br)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_c(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vc(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(xr){return this.options.opacity=xr,this._image&&this._updateOpacity(),this},setStyle:function(xr){return xr.opacity&&this.setOpacity(xr.opacity),this},bringToFront:function(){return this._map&&ph(this._image),this},bringToBack:function(){return this._map&&Sd(this._image),this},setUrl:function(xr){return this._url=xr,this._image&&(this._image.src=xr),this},setBounds:function(xr){return this._bounds=bo(xr),this._map&&this._reset(),this},getEvents:function(){var xr={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(xr.zoomanim=this._animateZoom),xr},setZIndex:function(xr){return this.options.zIndex=xr,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var xr=this._url.tagName==="IMG",Rr=this._image=xr?this._url:Lc("img");if(_c(Rr,"leaflet-image-layer"),this._zoomAnimated&&_c(Rr,"leaflet-zoom-animated"),this.options.className&&_c(Rr,this.options.className),Rr.onselectstart=ur,Rr.onmousemove=ur,Rr.onload=sr(this.fire,this,"load"),Rr.onerror=sr(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Rr.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),xr){this._url=Rr.src;return}Rr.src=this._url,Rr.alt=this.options.alt},_animateZoom:function(xr){var Rr=this._map.getZoomScale(xr.zoom),Br=this._map._latLngBoundsToNewLayerBounds(this._bounds,xr.zoom,xr.center).min;ud(this._image,Br,Rr)},_reset:function(){var xr=this._image,Rr=new no(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Br=Rr.getSize();Au(xr,Rr.min),xr.style.width=Br.x+"px",xr.style.height=Br.y+"px"},_updateOpacity:function(){Eu(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var xr=this.options.errorOverlayUrl;xr&&this._url!==xr&&(this._url=xr,this._image.src=xr)},getCenter:function(){return this._bounds.getCenter()}}),mc=function(xr,Rr,Br){return new Yl(xr,Rr,Br)},kc=Yl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var xr=this._url.tagName==="VIDEO",Rr=this._image=xr?this._url:Lc("video");if(_c(Rr,"leaflet-image-layer"),this._zoomAnimated&&_c(Rr,"leaflet-zoom-animated"),this.options.className&&_c(Rr,this.options.className),Rr.onselectstart=ur,Rr.onmousemove=ur,Rr.onloadeddata=sr(this.fire,this,"load"),xr){for(var Br=Rr.getElementsByTagName("source"),Qr=[],ho=0;ho<Br.length;ho++)Qr.push(Br[ho].src);this._url=Br.length>0?Qr:[Rr.src];return}Tr(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(Rr.style,"objectFit")&&(Rr.style.objectFit="fill"),Rr.autoplay=!!this.options.autoplay,Rr.loop=!!this.options.loop,Rr.muted=!!this.options.muted,Rr.playsInline=!!this.options.playsInline;for(var jo=0;jo<this._url.length;jo++){var zo=Lc("source");zo.src=this._url[jo],Rr.appendChild(zo)}}});function Ju(xr,Rr,Br){return new kc(xr,Rr,Br)}var Su=Yl.extend({_initImage:function(){var xr=this._image=this._url;_c(xr,"leaflet-image-layer"),this._zoomAnimated&&_c(xr,"leaflet-zoom-animated"),this.options.className&&_c(xr,this.options.className),xr.onselectstart=ur,xr.onmousemove=ur}});function Ng(xr,Rr,Br){return new Su(xr,Rr,Br)}var Vh=Gu.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(xr,Rr){xr&&(xr instanceof Po||Tr(xr))?(this._latlng=wo(xr),yr(this,Rr)):(yr(this,xr),this._source=Rr),this.options.content&&(this._content=this.options.content)},openOn:function(xr){return xr=arguments.length?xr:this._source._map,xr.hasLayer(this)||xr.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(xr){return this._map?this.close():(arguments.length?this._source=xr:xr=this._source,this._prepareOpen(),this.openOn(xr._map)),this},onAdd:function(xr){this._zoomAnimated=xr._zoomAnimated,this._container||this._initLayout(),xr._fadeAnimated&&Eu(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),xr._fadeAnimated&&Eu(this._container,1),this.bringToFront(),this.options.interactive&&(_c(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(xr){xr._fadeAnimated?(Eu(this._container,0),this._removeTimeout=setTimeout(sr(Vc,void 0,this._container),200)):Vc(this._container),this.options.interactive&&(wu(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(xr){return this._latlng=wo(xr),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(xr){return this._content=xr,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var xr={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(xr.zoomanim=this._animateZoom),xr},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ph(this._container),this},bringToBack:function(){return this._map&&Sd(this._container),this},_prepareOpen:function(xr){var Rr=this._source;if(!Rr._map)return!1;if(Rr instanceof dd){Rr=null;var Br=this._source._layers;for(var Qr in Br)if(Br[Qr]._map){Rr=Br[Qr];break}if(!Rr)return!1;this._source=Rr}if(!xr)if(Rr.getCenter)xr=Rr.getCenter();else if(Rr.getLatLng)xr=Rr.getLatLng();else if(Rr.getBounds)xr=Rr.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(xr),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var xr=this._contentNode,Rr=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof Rr=="string")xr.innerHTML=Rr;else{for(;xr.hasChildNodes();)xr.removeChild(xr.firstChild);xr.appendChild(Rr)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var xr=this._map.latLngToLayerPoint(this._latlng),Rr=co(this.options.offset),Br=this._getAnchor();this._zoomAnimated?Au(this._container,xr.add(Br)):Rr=Rr.add(xr).add(Br);var Qr=this._containerBottom=-Rr.y,ho=this._containerLeft=-Math.round(this._containerWidth/2)+Rr.x;this._container.style.bottom=Qr+"px",this._container.style.left=ho+"px"}},_getAnchor:function(){return[0,0]}});Nc.include({_initOverlay:function(xr,Rr,Br,Qr){var ho=Rr;return ho instanceof xr||(ho=new xr(Qr).setContent(Rr)),Br&&ho.setLatLng(Br),ho}}),Gu.include({_initOverlay:function(xr,Rr,Br,Qr){var ho=Br;return ho instanceof xr?(yr(ho,Qr),ho._source=this):(ho=Rr&&!Qr?Rr:new xr(Qr,this),ho.setContent(Br)),ho}});var Uh=Vh.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(xr){return xr=arguments.length?xr:this._source._map,!xr.hasLayer(this)&&xr._popup&&xr._popup.options.autoClose&&xr.removeLayer(xr._popup),xr._popup=this,Vh.prototype.openOn.call(this,xr)},onAdd:function(xr){Vh.prototype.onAdd.call(this,xr),xr.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gh||this._source.on("preclick",_h))},onRemove:function(xr){Vh.prototype.onRemove.call(this,xr),xr.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gh||this._source.off("preclick",_h))},getEvents:function(){var xr=Vh.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(xr.preclick=this.close),this.options.keepInView&&(xr.moveend=this._adjustPan),xr},_initLayout:function(){var xr="leaflet-popup",Rr=this._container=Lc("div",xr+" "+(this.options.className||"")+" leaflet-zoom-animated"),Br=this._wrapper=Lc("div",xr+"-content-wrapper",Rr);if(this._contentNode=Lc("div",xr+"-content",Br),tf(Rr),bf(this._contentNode),Ec(Rr,"contextmenu",_h),this._tipContainer=Lc("div",xr+"-tip-container",Rr),this._tip=Lc("div",xr+"-tip",this._tipContainer),this.options.closeButton){var Qr=this._closeButton=Lc("a",xr+"-close-button",Rr);Qr.setAttribute("role","button"),Qr.setAttribute("aria-label","Close popup"),Qr.href="#close",Qr.innerHTML='<span aria-hidden="true">&#215;</span>',Ec(Qr,"click",function(ho){jc(ho),this.close()},this)}},_updateLayout:function(){var xr=this._contentNode,Rr=xr.style;Rr.width="",Rr.whiteSpace="nowrap";var Br=xr.offsetWidth;Br=Math.min(Br,this.options.maxWidth),Br=Math.max(Br,this.options.minWidth),Rr.width=Br+1+"px",Rr.whiteSpace="",Rr.height="";var Qr=xr.offsetHeight,ho=this.options.maxHeight,jo="leaflet-popup-scrolled";ho&&Qr>ho?(Rr.height=ho+"px",_c(xr,jo)):wu(xr,jo),this._containerWidth=this._container.offsetWidth},_animateZoom:function(xr){var Rr=this._map._latLngToNewLayerPoint(this._latlng,xr.zoom,xr.center),Br=this._getAnchor();Au(this._container,Rr.add(Br))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var xr=this._map,Rr=parseInt(Bf(this._container,"marginBottom"),10)||0,Br=this._container.offsetHeight+Rr,Qr=this._containerWidth,ho=new uo(this._containerLeft,-Br-this._containerBottom);ho._add(Ro(this._container));var jo=xr.layerPointToContainerPoint(ho),zo=co(this.options.autoPanPadding),tl=co(this.options.autoPanPaddingTopLeft||zo),Qo=co(this.options.autoPanPaddingBottomRight||zo),Sl=xr.getSize(),Il=0,ic=0;jo.x+Qr+Qo.x>Sl.x&&(Il=jo.x+Qr-Sl.x+Qo.x),jo.x-Il-tl.x<0&&(Il=jo.x-tl.x),jo.y+Br+Qo.y>Sl.y&&(ic=jo.y+Br-Sl.y+Qo.y),jo.y-ic-tl.y<0&&(ic=jo.y-tl.y),(Il||ic)&&(this.options.keepInView&&(this._autopanning=!0),xr.fire("autopanstart").panBy([Il,ic]))}},_getAnchor:function(){return co(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vp=function(xr,Rr){return new Uh(xr,Rr)};Nc.mergeOptions({closePopupOnClick:!0}),Nc.include({openPopup:function(xr,Rr,Br){return this._initOverlay(Uh,xr,Rr,Br).openOn(this),this},closePopup:function(xr){return xr=arguments.length?xr:this._popup,xr&&xr.close(),this}}),Gu.include({bindPopup:function(xr,Rr){return this._popup=this._initOverlay(Uh,this._popup,xr,Rr),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(xr){return this._popup&&(this instanceof dd||(this._popup._source=this),this._popup._prepareOpen(xr||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(xr){return this._popup&&this._popup.setContent(xr),this},getPopup:function(){return this._popup},_openPopup:function(xr){if(!(!this._popup||!this._map)){nu(xr);var Rr=xr.layer||xr.target;if(this._popup._source===Rr&&!(Rr instanceof Gh)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(xr.latlng);return}this._popup._source=Rr,this.openPopup(xr.latlng)}},_movePopup:function(xr){this._popup.setLatLng(xr.latlng)},_onKeyPress:function(xr){xr.originalEvent.keyCode===13&&this._openPopup(xr)}});var Up=Vh.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(xr){Vh.prototype.onAdd.call(this,xr),this.setOpacity(this.options.opacity),xr.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(xr){Vh.prototype.onRemove.call(this,xr),xr.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var xr=Vh.prototype.getEvents.call(this);return this.options.permanent||(xr.preclick=this.close),xr},_initLayout:function(){var xr="leaflet-tooltip",Rr=xr+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Lc("div",Rr),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+or(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(xr){var Rr,Br,Qr=this._map,ho=this._container,jo=Qr.latLngToContainerPoint(Qr.getCenter()),zo=Qr.layerPointToContainerPoint(xr),tl=this.options.direction,Qo=ho.offsetWidth,Sl=ho.offsetHeight,Il=co(this.options.offset),ic=this._getAnchor();tl==="top"?(Rr=Qo/2,Br=Sl):tl==="bottom"?(Rr=Qo/2,Br=0):tl==="center"?(Rr=Qo/2,Br=Sl/2):tl==="right"?(Rr=0,Br=Sl/2):tl==="left"?(Rr=Qo,Br=Sl/2):zo.x<jo.x?(tl="right",Rr=0,Br=Sl/2):(tl="left",Rr=Qo+(Il.x+ic.x)*2,Br=Sl/2),xr=xr.subtract(co(Rr,Br,!0)).add(Il).add(ic),wu(ho,"leaflet-tooltip-right"),wu(ho,"leaflet-tooltip-left"),wu(ho,"leaflet-tooltip-top"),wu(ho,"leaflet-tooltip-bottom"),_c(ho,"leaflet-tooltip-"+tl),Au(ho,xr)},_updatePosition:function(){var xr=this._map.latLngToLayerPoint(this._latlng);this._setPosition(xr)},setOpacity:function(xr){this.options.opacity=xr,this._container&&Eu(this._container,xr)},_animateZoom:function(xr){var Rr=this._map._latLngToNewLayerPoint(this._latlng,xr.zoom,xr.center);this._setPosition(Rr)},_getAnchor:function(){return co(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bm=function(xr,Rr){return new Up(xr,Rr)};Nc.include({openTooltip:function(xr,Rr,Br){return this._initOverlay(Up,xr,Rr,Br).openOn(this),this},closeTooltip:function(xr){return xr.close(),this}}),Gu.include({bindTooltip:function(xr,Rr){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Up,this._tooltip,xr,Rr),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(xr){if(!(!xr&&this._tooltipHandlersAdded)){var Rr=xr?"off":"on",Br={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Br.add=this._openTooltip:(Br.mouseover=this._openTooltip,Br.mouseout=this.closeTooltip,Br.click=this._openTooltip,this._map?this._addFocusListeners():Br.add=this._addFocusListeners),this._tooltip.options.sticky&&(Br.mousemove=this._moveTooltip),this[Rr](Br),this._tooltipHandlersAdded=!xr}},openTooltip:function(xr){return this._tooltip&&(this instanceof dd||(this._tooltip._source=this),this._tooltip._prepareOpen(xr)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(xr){return this._tooltip&&this._tooltip.setContent(xr),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(xr){var Rr=typeof xr.getElement=="function"&&xr.getElement();Rr&&(Ec(Rr,"focus",function(){this._tooltip._source=xr,this.openTooltip()},this),Ec(Rr,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(xr){var Rr=typeof xr.getElement=="function"&&xr.getElement();Rr&&Rr.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(xr){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var Rr=this;this._map.once("moveend",function(){Rr._openOnceFlag=!1,Rr._openTooltip(xr)});return}this._tooltip._source=xr.layer||xr.target,this.openTooltip(this._tooltip.options.sticky?xr.latlng:void 0)}},_moveTooltip:function(xr){var Rr=xr.latlng,Br,Qr;this._tooltip.options.sticky&&xr.originalEvent&&(Br=this._map.mouseEventToContainerPoint(xr.originalEvent),Qr=this._map.containerPointToLayerPoint(Br),Rr=this._map.layerPointToLatLng(Qr)),this._tooltip.setLatLng(Rr)}});var bp=rf.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(xr){var Rr=xr&&xr.tagName==="DIV"?xr:document.createElement("div"),Br=this.options;if(Br.html instanceof Element?(Th(Rr),Rr.appendChild(Br.html)):Rr.innerHTML=Br.html!==!1?Br.html:"",Br.bgPos){var Qr=co(Br.bgPos);Rr.style.backgroundPosition=-Qr.x+"px "+-Qr.y+"px"}return this._setIconStyles(Rr,"icon"),Rr},createShadow:function(){return null}});function _m(xr){return new bp(xr)}rf.Default=sf;var su=Gu.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dl.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(xr){yr(this,xr)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(xr){xr._addZoomLimit(this)},onRemove:function(xr){this._removeAllTiles(),Vc(this._container),xr._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ph(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Sd(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(xr){return this.options.opacity=xr,this._updateOpacity(),this},setZIndex:function(xr){return this.options.zIndex=xr,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var xr=this._clampZoom(this._map.getZoom());xr!==this._tileZoom&&(this._tileZoom=xr,this._updateLevels()),this._update()}return this},getEvents:function(){var xr={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=lr(this._onMoveEnd,this.options.updateInterval,this)),xr.move=this._onMove),this._zoomAnimated&&(xr.zoomanim=this._animateZoom),xr},createTile:function(){return document.createElement("div")},getTileSize:function(){var xr=this.options.tileSize;return xr instanceof uo?xr:new uo(xr,xr)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(xr){for(var Rr=this.getPane().children,Br=-xr(-1/0,1/0),Qr=0,ho=Rr.length,jo;Qr<ho;Qr++)jo=Rr[Qr].style.zIndex,Rr[Qr]!==this._container&&jo&&(Br=xr(Br,+jo));isFinite(Br)&&(this.options.zIndex=Br+xr(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dl.ielt9){Eu(this._container,this.options.opacity);var xr=+new Date,Rr=!1,Br=!1;for(var Qr in this._tiles){var ho=this._tiles[Qr];if(!(!ho.current||!ho.loaded)){var jo=Math.min(1,(xr-ho.loaded)/200);Eu(ho.el,jo),jo<1?Rr=!0:(ho.active?Br=!0:this._onOpaqueTile(ho),ho.active=!0)}}Br&&!this._noPrune&&this._pruneTiles(),Rr&&(Yr(this._fadeFrame),this._fadeFrame=Hr(this._updateOpacity,this))}},_onOpaqueTile:ur,_initContainer:function(){this._container||(this._container=Lc("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var xr=this._tileZoom,Rr=this.options.maxZoom;if(xr!==void 0){for(var Br in this._levels)Br=Number(Br),this._levels[Br].el.children.length||Br===xr?(this._levels[Br].el.style.zIndex=Rr-Math.abs(xr-Br),this._onUpdateLevel(Br)):(Vc(this._levels[Br].el),this._removeTilesAtZoom(Br),this._onRemoveLevel(Br),delete this._levels[Br]);var Qr=this._levels[xr],ho=this._map;return Qr||(Qr=this._levels[xr]={},Qr.el=Lc("div","leaflet-tile-container leaflet-zoom-animated",this._container),Qr.el.style.zIndex=Rr,Qr.origin=ho.project(ho.unproject(ho.getPixelOrigin()),xr).round(),Qr.zoom=xr,this._setZoomTransform(Qr,ho.getCenter(),ho.getZoom()),ur(Qr.el.offsetWidth),this._onCreateLevel(Qr)),this._level=Qr,Qr}},_onUpdateLevel:ur,_onRemoveLevel:ur,_onCreateLevel:ur,_pruneTiles:function(){if(this._map){var xr,Rr,Br=this._map.getZoom();if(Br>this.options.maxZoom||Br<this.options.minZoom){this._removeAllTiles();return}for(xr in this._tiles)Rr=this._tiles[xr],Rr.retain=Rr.current;for(xr in this._tiles)if(Rr=this._tiles[xr],Rr.current&&!Rr.active){var Qr=Rr.coords;this._retainParent(Qr.x,Qr.y,Qr.z,Qr.z-5)||this._retainChildren(Qr.x,Qr.y,Qr.z,Qr.z+2)}for(xr in this._tiles)this._tiles[xr].retain||this._removeTile(xr)}},_removeTilesAtZoom:function(xr){for(var Rr in this._tiles)this._tiles[Rr].coords.z===xr&&this._removeTile(Rr)},_removeAllTiles:function(){for(var xr in this._tiles)this._removeTile(xr)},_invalidateAll:function(){for(var xr in this._levels)Vc(this._levels[xr].el),this._onRemoveLevel(Number(xr)),delete this._levels[xr];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(xr,Rr,Br,Qr){var ho=Math.floor(xr/2),jo=Math.floor(Rr/2),zo=Br-1,tl=new uo(+ho,+jo);tl.z=+zo;var Qo=this._tileCoordsToKey(tl),Sl=this._tiles[Qo];return Sl&&Sl.active?(Sl.retain=!0,!0):(Sl&&Sl.loaded&&(Sl.retain=!0),zo>Qr?this._retainParent(ho,jo,zo,Qr):!1)},_retainChildren:function(xr,Rr,Br,Qr){for(var ho=2*xr;ho<2*xr+2;ho++)for(var jo=2*Rr;jo<2*Rr+2;jo++){var zo=new uo(ho,jo);zo.z=Br+1;var tl=this._tileCoordsToKey(zo),Qo=this._tiles[tl];if(Qo&&Qo.active){Qo.retain=!0;continue}else Qo&&Qo.loaded&&(Qo.retain=!0);Br+1<Qr&&this._retainChildren(ho,jo,Br+1,Qr)}},_resetView:function(xr){var Rr=xr&&(xr.pinch||xr.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),Rr,Rr)},_animateZoom:function(xr){this._setView(xr.center,xr.zoom,!0,xr.noUpdate)},_clampZoom:function(xr){var Rr=this.options;return Rr.minNativeZoom!==void 0&&xr<Rr.minNativeZoom?Rr.minNativeZoom:Rr.maxNativeZoom!==void 0&&Rr.maxNativeZoom<xr?Rr.maxNativeZoom:xr},_setView:function(xr,Rr,Br,Qr){var ho=Math.round(Rr);this.options.maxZoom!==void 0&&ho>this.options.maxZoom||this.options.minZoom!==void 0&&ho<this.options.minZoom?ho=void 0:ho=this._clampZoom(ho);var jo=this.options.updateWhenZooming&&ho!==this._tileZoom;(!Qr||jo)&&(this._tileZoom=ho,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ho!==void 0&&this._update(xr),Br||this._pruneTiles(),this._noPrune=!!Br),this._setZoomTransforms(xr,Rr)},_setZoomTransforms:function(xr,Rr){for(var Br in this._levels)this._setZoomTransform(this._levels[Br],xr,Rr)},_setZoomTransform:function(xr,Rr,Br){var Qr=this._map.getZoomScale(Br,xr.zoom),ho=xr.origin.multiplyBy(Qr).subtract(this._map._getNewPixelOrigin(Rr,Br)).round();Dl.any3d?ud(xr.el,ho,Qr):Au(xr.el,ho)},_resetGrid:function(){var xr=this._map,Rr=xr.options.crs,Br=this._tileSize=this.getTileSize(),Qr=this._tileZoom,ho=this._map.getPixelWorldBounds(this._tileZoom);ho&&(this._globalTileRange=this._pxBoundsToTileRange(ho)),this._wrapX=Rr.wrapLng&&!this.options.noWrap&&[Math.floor(xr.project([0,Rr.wrapLng[0]],Qr).x/Br.x),Math.ceil(xr.project([0,Rr.wrapLng[1]],Qr).x/Br.y)],this._wrapY=Rr.wrapLat&&!this.options.noWrap&&[Math.floor(xr.project([Rr.wrapLat[0],0],Qr).y/Br.x),Math.ceil(xr.project([Rr.wrapLat[1],0],Qr).y/Br.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(xr){var Rr=this._map,Br=Rr._animatingZoom?Math.max(Rr._animateToZoom,Rr.getZoom()):Rr.getZoom(),Qr=Rr.getZoomScale(Br,this._tileZoom),ho=Rr.project(xr,this._tileZoom).floor(),jo=Rr.getSize().divideBy(Qr*2);return new no(ho.subtract(jo),ho.add(jo))},_update:function(xr){var Rr=this._map;if(Rr){var Br=this._clampZoom(Rr.getZoom());if(xr===void 0&&(xr=Rr.getCenter()),this._tileZoom!==void 0){var Qr=this._getTiledPixelBounds(xr),ho=this._pxBoundsToTileRange(Qr),jo=ho.getCenter(),zo=[],tl=this.options.keepBuffer,Qo=new no(ho.getBottomLeft().subtract([tl,-tl]),ho.getTopRight().add([tl,-tl]));if(!(isFinite(ho.min.x)&&isFinite(ho.min.y)&&isFinite(ho.max.x)&&isFinite(ho.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Sl in this._tiles){var Il=this._tiles[Sl].coords;(Il.z!==this._tileZoom||!Qo.contains(new uo(Il.x,Il.y)))&&(this._tiles[Sl].current=!1)}if(Math.abs(Br-this._tileZoom)>1){this._setView(xr,Br);return}for(var ic=ho.min.y;ic<=ho.max.y;ic++)for(var $c=ho.min.x;$c<=ho.max.x;$c++){var lh=new uo($c,ic);if(lh.z=this._tileZoom,!!this._isValidTile(lh)){var Tu=this._tiles[this._tileCoordsToKey(lh)];Tu?Tu.current=!0:zo.push(lh)}}if(zo.sort(function(fu,iu){return fu.distanceTo(jo)-iu.distanceTo(jo)}),zo.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Lh=document.createDocumentFragment();for($c=0;$c<zo.length;$c++)this._addTile(zo[$c],Lh);this._level.el.appendChild(Lh)}}}},_isValidTile:function(xr){var Rr=this._map.options.crs;if(!Rr.infinite){var Br=this._globalTileRange;if(!Rr.wrapLng&&(xr.x<Br.min.x||xr.x>Br.max.x)||!Rr.wrapLat&&(xr.y<Br.min.y||xr.y>Br.max.y))return!1}if(!this.options.bounds)return!0;var Qr=this._tileCoordsToBounds(xr);return bo(this.options.bounds).overlaps(Qr)},_keyToBounds:function(xr){return this._tileCoordsToBounds(this._keyToTileCoords(xr))},_tileCoordsToNwSe:function(xr){var Rr=this._map,Br=this.getTileSize(),Qr=xr.scaleBy(Br),ho=Qr.add(Br),jo=Rr.unproject(Qr,xr.z),zo=Rr.unproject(ho,xr.z);return[jo,zo]},_tileCoordsToBounds:function(xr){var Rr=this._tileCoordsToNwSe(xr),Br=new Eo(Rr[0],Rr[1]);return this.options.noWrap||(Br=this._map.wrapLatLngBounds(Br)),Br},_tileCoordsToKey:function(xr){return xr.x+":"+xr.y+":"+xr.z},_keyToTileCoords:function(xr){var Rr=xr.split(":"),Br=new uo(+Rr[0],+Rr[1]);return Br.z=+Rr[2],Br},_removeTile:function(xr){var Rr=this._tiles[xr];Rr&&(Vc(Rr.el),delete this._tiles[xr],this.fire("tileunload",{tile:Rr.el,coords:this._keyToTileCoords(xr)}))},_initTile:function(xr){_c(xr,"leaflet-tile");var Rr=this.getTileSize();xr.style.width=Rr.x+"px",xr.style.height=Rr.y+"px",xr.onselectstart=ur,xr.onmousemove=ur,Dl.ielt9&&this.options.opacity<1&&Eu(xr,this.options.opacity)},_addTile:function(xr,Rr){var Br=this._getTilePos(xr),Qr=this._tileCoordsToKey(xr),ho=this.createTile(this._wrapCoords(xr),sr(this._tileReady,this,xr));this._initTile(ho),this.createTile.length<2&&Hr(sr(this._tileReady,this,xr,null,ho)),Au(ho,Br),this._tiles[Qr]={el:ho,coords:xr,current:!0},Rr.appendChild(ho),this.fire("tileloadstart",{tile:ho,coords:xr})},_tileReady:function(xr,Rr,Br){Rr&&this.fire("tileerror",{error:Rr,tile:Br,coords:xr});var Qr=this._tileCoordsToKey(xr);Br=this._tiles[Qr],Br&&(Br.loaded=+new Date,this._map._fadeAnimated?(Eu(Br.el,0),Yr(this._fadeFrame),this._fadeFrame=Hr(this._updateOpacity,this)):(Br.active=!0,this._pruneTiles()),Rr||(_c(Br.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Br.el,coords:xr})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dl.ielt9||!this._map._fadeAnimated?Hr(this._pruneTiles,this):setTimeout(sr(this._pruneTiles,this),250)))},_getTilePos:function(xr){return xr.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(xr){var Rr=new uo(this._wrapX?cr(xr.x,this._wrapX):xr.x,this._wrapY?cr(xr.y,this._wrapY):xr.y);return Rr.z=xr.z,Rr},_pxBoundsToTileRange:function(xr){var Rr=this.getTileSize();return new no(xr.min.unscaleBy(Rr).floor(),xr.max.unscaleBy(Rr).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var xr in this._tiles)if(!this._tiles[xr].loaded)return!1;return!0}});function mx(xr){return new su(xr)}var Cd=su.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(xr,Rr){this._url=xr,Rr=yr(this,Rr),Rr.detectRetina&&Dl.retina&&Rr.maxZoom>0?(Rr.tileSize=Math.floor(Rr.tileSize/2),Rr.zoomReverse?(Rr.zoomOffset--,Rr.minZoom=Math.min(Rr.maxZoom,Rr.minZoom+1)):(Rr.zoomOffset++,Rr.maxZoom=Math.max(Rr.minZoom,Rr.maxZoom-1)),Rr.minZoom=Math.max(0,Rr.minZoom)):Rr.zoomReverse?Rr.minZoom=Math.min(Rr.maxZoom,Rr.minZoom):Rr.maxZoom=Math.max(Rr.minZoom,Rr.maxZoom),typeof Rr.subdomains=="string"&&(Rr.subdomains=Rr.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(xr,Rr){return this._url===xr&&Rr===void 0&&(Rr=!0),this._url=xr,Rr||this.redraw(),this},createTile:function(xr,Rr){var Br=document.createElement("img");return Ec(Br,"load",sr(this._tileOnLoad,this,Rr,Br)),Ec(Br,"error",sr(this._tileOnError,this,Rr,Br)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Br.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Br.referrerPolicy=this.options.referrerPolicy),Br.alt="",Br.src=this.getTileUrl(xr),Br},getTileUrl:function(xr){var Rr={r:Dl.retina?"@2x":"",s:this._getSubdomain(xr),x:xr.x,y:xr.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Br=this._globalTileRange.max.y-xr.y;this.options.tms&&(Rr.y=Br),Rr["-y"]=Br}return Sr(this._url,ir(Rr,this.options))},_tileOnLoad:function(xr,Rr){Dl.ielt9?setTimeout(sr(xr,this,null,Rr),0):xr(null,Rr)},_tileOnError:function(xr,Rr,Br){var Qr=this.options.errorTileUrl;Qr&&Rr.getAttribute("src")!==Qr&&(Rr.src=Qr),xr(Br,Rr)},_onTileRemove:function(xr){xr.tile.onload=null},_getZoomForUrl:function(){var xr=this._tileZoom,Rr=this.options.maxZoom,Br=this.options.zoomReverse,Qr=this.options.zoomOffset;return Br&&(xr=Rr-xr),xr+Qr},_getSubdomain:function(xr){var Rr=Math.abs(xr.x+xr.y)%this.options.subdomains.length;return this.options.subdomains[Rr]},_abortLoading:function(){var xr,Rr;for(xr in this._tiles)if(this._tiles[xr].coords.z!==this._tileZoom&&(Rr=this._tiles[xr].el,Rr.onload=ur,Rr.onerror=ur,!Rr.complete)){Rr.src=Mr;var Br=this._tiles[xr].coords;Vc(Rr),delete this._tiles[xr],this.fire("tileabort",{tile:Rr,coords:Br})}},_removeTile:function(xr){var Rr=this._tiles[xr];if(Rr)return Rr.el.setAttribute("src",Mr),su.prototype._removeTile.call(this,xr)},_tileReady:function(xr,Rr,Br){if(!(!this._map||Br&&Br.getAttribute("src")===Mr))return su.prototype._tileReady.call(this,xr,Rr,Br)}});function Jh(xr,Rr){return new Cd(xr,Rr)}var _p=Cd.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(xr,Rr){this._url=xr;var Br=ir({},this.defaultWmsParams);for(var Qr in Rr)Qr in this.options||(Br[Qr]=Rr[Qr]);Rr=yr(this,Rr);var ho=Rr.detectRetina&&Dl.retina?2:1,jo=this.getTileSize();Br.width=jo.x*ho,Br.height=jo.y*ho,this.wmsParams=Br},onAdd:function(xr){this._crs=this.options.crs||xr.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var Rr=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[Rr]=this._crs.code,Cd.prototype.onAdd.call(this,xr)},getTileUrl:function(xr){var Rr=this._tileCoordsToNwSe(xr),Br=this._crs,Qr=mo(Br.project(Rr[0]),Br.project(Rr[1])),ho=Qr.min,jo=Qr.max,zo=(this._wmsVersion>=1.3&&this._crs===fx?[ho.y,ho.x,jo.y,jo.x]:[ho.x,ho.y,jo.x,jo.y]).join(","),tl=Cd.prototype.getTileUrl.call(this,xr);return tl+vr(this.wmsParams,tl,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+zo},setParams:function(xr,Rr){return ir(this.wmsParams,xr),Rr||this.redraw(),this}});function zd(xr,Rr){return new _p(xr,Rr)}Cd.WMS=_p,Jh.wms=zd;var pd=Gu.extend({options:{padding:.1},initialize:function(xr){yr(this,xr),or(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_c(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var xr={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(xr.zoomanim=this._onAnimZoom),xr},_onAnimZoom:function(xr){this._updateTransform(xr.center,xr.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(xr,Rr){var Br=this._map.getZoomScale(Rr,this._zoom),Qr=this._map.getSize().multiplyBy(.5+this.options.padding),ho=this._map.project(this._center,Rr),jo=Qr.multiplyBy(-Br).add(ho).subtract(this._map._getNewPixelOrigin(xr,Rr));Dl.any3d?ud(this._container,jo,Br):Au(this._container,jo)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var xr in this._layers)this._layers[xr]._reset()},_onZoomEnd:function(){for(var xr in this._layers)this._layers[xr]._project()},_updatePaths:function(){for(var xr in this._layers)this._layers[xr]._update()},_update:function(){var xr=this.options.padding,Rr=this._map.getSize(),Br=this._map.containerPointToLayerPoint(Rr.multiplyBy(-xr)).round();this._bounds=new no(Br,Br.add(Rr.multiplyBy(1+xr*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yh=pd.extend({options:{tolerance:0},getEvents:function(){var xr=pd.prototype.getEvents.call(this);return xr.viewprereset=this._onViewPreReset,xr},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pd.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var xr=this._container=document.createElement("canvas");Ec(xr,"mousemove",this._onMouseMove,this),Ec(xr,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ec(xr,"mouseout",this._handleMouseOut,this),xr._leaflet_disable_events=!0,this._ctx=xr.getContext("2d")},_destroyContainer:function(){Yr(this._redrawRequest),delete this._ctx,Vc(this._container),Du(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var xr;this._redrawBounds=null;for(var Rr in this._layers)xr=this._layers[Rr],xr._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pd.prototype._update.call(this);var xr=this._bounds,Rr=this._container,Br=xr.getSize(),Qr=Dl.retina?2:1;Au(Rr,xr.min),Rr.width=Qr*Br.x,Rr.height=Qr*Br.y,Rr.style.width=Br.x+"px",Rr.style.height=Br.y+"px",Dl.retina&&this._ctx.scale(2,2),this._ctx.translate(-xr.min.x,-xr.min.y),this.fire("update")}},_reset:function(){pd.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(xr){this._updateDashArray(xr),this._layers[or(xr)]=xr;var Rr=xr._order={layer:xr,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=Rr),this._drawLast=Rr,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(xr){this._requestRedraw(xr)},_removePath:function(xr){var Rr=xr._order,Br=Rr.next,Qr=Rr.prev;Br?Br.prev=Qr:this._drawLast=Qr,Qr?Qr.next=Br:this._drawFirst=Br,delete xr._order,delete this._layers[or(xr)],this._requestRedraw(xr)},_updatePath:function(xr){this._extendRedrawBounds(xr),xr._project(),xr._update(),this._requestRedraw(xr)},_updateStyle:function(xr){this._updateDashArray(xr),this._requestRedraw(xr)},_updateDashArray:function(xr){if(typeof xr.options.dashArray=="string"){var Rr=xr.options.dashArray.split(/[, ]+/),Br=[],Qr,ho;for(ho=0;ho<Rr.length;ho++){if(Qr=Number(Rr[ho]),isNaN(Qr))return;Br.push(Qr)}xr.options._dashArray=Br}else xr.options._dashArray=xr.options.dashArray},_requestRedraw:function(xr){this._map&&(this._extendRedrawBounds(xr),this._redrawRequest=this._redrawRequest||Hr(this._redraw,this))},_extendRedrawBounds:function(xr){if(xr._pxBounds){var Rr=(xr.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new no,this._redrawBounds.extend(xr._pxBounds.min.subtract([Rr,Rr])),this._redrawBounds.extend(xr._pxBounds.max.add([Rr,Rr]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var xr=this._redrawBounds;if(xr){var Rr=xr.getSize();this._ctx.clearRect(xr.min.x,xr.min.y,Rr.x,Rr.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var xr,Rr=this._redrawBounds;if(this._ctx.save(),Rr){var Br=Rr.getSize();this._ctx.beginPath(),this._ctx.rect(Rr.min.x,Rr.min.y,Br.x,Br.y),this._ctx.clip()}this._drawing=!0;for(var Qr=this._drawFirst;Qr;Qr=Qr.next)xr=Qr.layer,(!Rr||xr._pxBounds&&xr._pxBounds.intersects(Rr))&&xr._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(xr,Rr){if(this._drawing){var Br,Qr,ho,jo,zo=xr._parts,tl=zo.length,Qo=this._ctx;if(tl){for(Qo.beginPath(),Br=0;Br<tl;Br++){for(Qr=0,ho=zo[Br].length;Qr<ho;Qr++)jo=zo[Br][Qr],Qo[Qr?"lineTo":"moveTo"](jo.x,jo.y);Rr&&Qo.closePath()}this._fillStroke(Qo,xr)}}},_updateCircle:function(xr){if(!(!this._drawing||xr._empty())){var Rr=xr._point,Br=this._ctx,Qr=Math.max(Math.round(xr._radius),1),ho=(Math.max(Math.round(xr._radiusY),1)||Qr)/Qr;ho!==1&&(Br.save(),Br.scale(1,ho)),Br.beginPath(),Br.arc(Rr.x,Rr.y/ho,Qr,0,Math.PI*2,!1),ho!==1&&Br.restore(),this._fillStroke(Br,xr)}},_fillStroke:function(xr,Rr){var Br=Rr.options;Br.fill&&(xr.globalAlpha=Br.fillOpacity,xr.fillStyle=Br.fillColor||Br.color,xr.fill(Br.fillRule||"evenodd")),Br.stroke&&Br.weight!==0&&(xr.setLineDash&&xr.setLineDash(Rr.options&&Rr.options._dashArray||[]),xr.globalAlpha=Br.opacity,xr.lineWidth=Br.weight,xr.strokeStyle=Br.color,xr.lineCap=Br.lineCap,xr.lineJoin=Br.lineJoin,xr.stroke())},_onClick:function(xr){for(var Rr=this._map.mouseEventToLayerPoint(xr),Br,Qr,ho=this._drawFirst;ho;ho=ho.next)Br=ho.layer,Br.options.interactive&&Br._containsPoint(Rr)&&(!(xr.type==="click"||xr.type==="preclick")||!this._map._draggableMoved(Br))&&(Qr=Br);this._fireEvent(Qr?[Qr]:!1,xr)},_onMouseMove:function(xr){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var Rr=this._map.mouseEventToLayerPoint(xr);this._handleMouseHover(xr,Rr)}},_handleMouseOut:function(xr){var Rr=this._hoveredLayer;Rr&&(wu(this._container,"leaflet-interactive"),this._fireEvent([Rr],xr,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(xr,Rr){if(!this._mouseHoverThrottled){for(var Br,Qr,ho=this._drawFirst;ho;ho=ho.next)Br=ho.layer,Br.options.interactive&&Br._containsPoint(Rr)&&(Qr=Br);Qr!==this._hoveredLayer&&(this._handleMouseOut(xr),Qr&&(_c(this._container,"leaflet-interactive"),this._fireEvent([Qr],xr,"mouseover"),this._hoveredLayer=Qr)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,xr),this._mouseHoverThrottled=!0,setTimeout(sr(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(xr,Rr,Br){this._map._fireDOMEvent(Rr,Br||Rr.type,xr)},_bringToFront:function(xr){var Rr=xr._order;if(Rr){var Br=Rr.next,Qr=Rr.prev;if(Br)Br.prev=Qr;else return;Qr?Qr.next=Br:Br&&(this._drawFirst=Br),Rr.prev=this._drawLast,this._drawLast.next=Rr,Rr.next=null,this._drawLast=Rr,this._requestRedraw(xr)}},_bringToBack:function(xr){var Rr=xr._order;if(Rr){var Br=Rr.next,Qr=Rr.prev;if(Qr)Qr.next=Br;else return;Br?Br.prev=Qr:Qr&&(this._drawLast=Qr),Rr.prev=null,Rr.next=this._drawFirst,this._drawFirst.prev=Rr,this._drawFirst=Rr,this._requestRedraw(xr)}}});function Oh(xr){return Dl.canvas?new Yh(xr):null}var cf=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(xr){return document.createElement("<lvml:"+xr+' class="lvml">')}}catch{}return function(xr){return document.createElement("<"+xr+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ig={_initContainer:function(){this._container=Lc("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pd.prototype._update.call(this),this.fire("update"))},_initPath:function(xr){var Rr=xr._container=cf("shape");_c(Rr,"leaflet-vml-shape "+(this.options.className||"")),Rr.coordsize="1 1",xr._path=cf("path"),Rr.appendChild(xr._path),this._updateStyle(xr),this._layers[or(xr)]=xr},_addPath:function(xr){var Rr=xr._container;this._container.appendChild(Rr),xr.options.interactive&&xr.addInteractiveTarget(Rr)},_removePath:function(xr){var Rr=xr._container;Vc(Rr),xr.removeInteractiveTarget(Rr),delete this._layers[or(xr)]},_updateStyle:function(xr){var Rr=xr._stroke,Br=xr._fill,Qr=xr.options,ho=xr._container;ho.stroked=!!Qr.stroke,ho.filled=!!Qr.fill,Qr.stroke?(Rr||(Rr=xr._stroke=cf("stroke")),ho.appendChild(Rr),Rr.weight=Qr.weight+"px",Rr.color=Qr.color,Rr.opacity=Qr.opacity,Qr.dashArray?Rr.dashStyle=Tr(Qr.dashArray)?Qr.dashArray.join(" "):Qr.dashArray.replace(/( *, *)/g," "):Rr.dashStyle="",Rr.endcap=Qr.lineCap.replace("butt","flat"),Rr.joinstyle=Qr.lineJoin):Rr&&(ho.removeChild(Rr),xr._stroke=null),Qr.fill?(Br||(Br=xr._fill=cf("fill")),ho.appendChild(Br),Br.color=Qr.fillColor||Qr.color,Br.opacity=Qr.fillOpacity):Br&&(ho.removeChild(Br),xr._fill=null)},_updateCircle:function(xr){var Rr=xr._point.round(),Br=Math.round(xr._radius),Qr=Math.round(xr._radiusY||Br);this._setPath(xr,xr._empty()?"M0 0":"AL "+Rr.x+","+Rr.y+" "+Br+","+Qr+" 0,"+65535*360)},_setPath:function(xr,Rr){xr._path.v=Rr},_bringToFront:function(xr){ph(xr._container)},_bringToBack:function(xr){Sd(xr._container)}},kd=Dl.vml?cf:il,Vf=pd.extend({_initContainer:function(){this._container=kd("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kd("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vc(this._container),Du(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pd.prototype._update.call(this);var xr=this._bounds,Rr=xr.getSize(),Br=this._container;(!this._svgSize||!this._svgSize.equals(Rr))&&(this._svgSize=Rr,Br.setAttribute("width",Rr.x),Br.setAttribute("height",Rr.y)),Au(Br,xr.min),Br.setAttribute("viewBox",[xr.min.x,xr.min.y,Rr.x,Rr.y].join(" ")),this.fire("update")}},_initPath:function(xr){var Rr=xr._path=kd("path");xr.options.className&&_c(Rr,xr.options.className),xr.options.interactive&&_c(Rr,"leaflet-interactive"),this._updateStyle(xr),this._layers[or(xr)]=xr},_addPath:function(xr){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(xr._path),xr.addInteractiveTarget(xr._path)},_removePath:function(xr){Vc(xr._path),xr.removeInteractiveTarget(xr._path),delete this._layers[or(xr)]},_updatePath:function(xr){xr._project(),xr._update()},_updateStyle:function(xr){var Rr=xr._path,Br=xr.options;Rr&&(Br.stroke?(Rr.setAttribute("stroke",Br.color),Rr.setAttribute("stroke-opacity",Br.opacity),Rr.setAttribute("stroke-width",Br.weight),Rr.setAttribute("stroke-linecap",Br.lineCap),Rr.setAttribute("stroke-linejoin",Br.lineJoin),Br.dashArray?Rr.setAttribute("stroke-dasharray",Br.dashArray):Rr.removeAttribute("stroke-dasharray"),Br.dashOffset?Rr.setAttribute("stroke-dashoffset",Br.dashOffset):Rr.removeAttribute("stroke-dashoffset")):Rr.setAttribute("stroke","none"),Br.fill?(Rr.setAttribute("fill",Br.fillColor||Br.color),Rr.setAttribute("fill-opacity",Br.fillOpacity),Rr.setAttribute("fill-rule",Br.fillRule||"evenodd")):Rr.setAttribute("fill","none"))},_updatePoly:function(xr,Rr){this._setPath(xr,pl(xr._parts,Rr))},_updateCircle:function(xr){var Rr=xr._point,Br=Math.max(Math.round(xr._radius),1),Qr=Math.max(Math.round(xr._radiusY),1)||Br,ho="a"+Br+","+Qr+" 0 1,0 ",jo=xr._empty()?"M0 0":"M"+(Rr.x-Br)+","+Rr.y+ho+Br*2+",0 "+ho+-Br*2+",0 ";this._setPath(xr,jo)},_setPath:function(xr,Rr){xr._path.setAttribute("d",Rr)},_bringToFront:function(xr){ph(xr._path)},_bringToBack:function(xr){Sd(xr._path)}});Dl.vml&&Vf.include(ig);function wm(xr){return Dl.svg||Dl.vml?new Vf(xr):null}Nc.include({getRenderer:function(xr){var Rr=xr.options.renderer||this._getPaneRenderer(xr.options.pane)||this.options.renderer||this._renderer;return Rr||(Rr=this._renderer=this._createRenderer()),this.hasLayer(Rr)||this.addLayer(Rr),Rr},_getPaneRenderer:function(xr){if(xr==="overlayPane"||xr===void 0)return!1;var Rr=this._paneRenderers[xr];return Rr===void 0&&(Rr=this._createRenderer({pane:xr}),this._paneRenderers[xr]=Rr),Rr},_createRenderer:function(xr){return this.options.preferCanvas&&Oh(xr)||wm(xr)}});var Cf=vm.extend({initialize:function(xr,Rr){vm.prototype.initialize.call(this,this._boundsToLatLngs(xr),Rr)},setBounds:function(xr){return this.setLatLngs(this._boundsToLatLngs(xr))},_boundsToLatLngs:function(xr){return xr=bo(xr),[xr.getSouthWest(),xr.getNorthWest(),xr.getNorthEast(),xr.getSouthEast()]}});function gx(xr,Rr){return new Cf(xr,Rr)}Vf.create=kd,Vf.pointsToPath=pl,fd.geometryToLayer=zu,fd.coordsToLatLng=lf,fd.coordsToLatLngs=eg,fd.latLngToCoords=tg,fd.latLngsToCoords=ng,fd.getFeature=yp,fd.asFeature=Bd,Nc.mergeOptions({boxZoom:!0});var Ph=Wu.extend({initialize:function(xr){this._map=xr,this._container=xr._container,this._pane=xr._panes.overlayPane,this._resetStateTimeout=0,xr.on("unload",this._destroy,this)},addHooks:function(){Ec(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Du(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vc(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(xr){if(!xr.shiftKey||xr.which!==1&&xr.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),No(),Vl(),this._startPoint=this._map.mouseEventToContainerPoint(xr),Ec(document,{contextmenu:nu,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(xr){this._moved||(this._moved=!0,this._box=Lc("div","leaflet-zoom-box",this._container),_c(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(xr);var Rr=new no(this._point,this._startPoint),Br=Rr.getSize();Au(this._box,Rr.min),this._box.style.width=Br.x+"px",this._box.style.height=Br.y+"px"},_finish:function(){this._moved&&(Vc(this._box),wu(this._container,"leaflet-crosshair")),Bo(),wc(),Du(document,{contextmenu:nu,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(xr){if(!(xr.which!==1&&xr.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(sr(this._resetState,this),0);var Rr=new Eo(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(Rr).fire("boxzoomend",{boxZoomBounds:Rr})}},_onKeyDown:function(xr){xr.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Nc.addInitHook("addHandler","boxZoom",Ph),Nc.mergeOptions({doubleClickZoom:!0});var Hd=Wu.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(xr){var Rr=this._map,Br=Rr.getZoom(),Qr=Rr.options.zoomDelta,ho=xr.originalEvent.shiftKey?Br-Qr:Br+Qr;Rr.options.doubleClickZoom==="center"?Rr.setZoom(ho):Rr.setZoomAround(xr.containerPoint,ho)}});Nc.addInitHook("addHandler","doubleClickZoom",Hd),Nc.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vu=Wu.extend({addHooks:function(){if(!this._draggable){var xr=this._map;this._draggable=new Gf(xr._mapPane,xr._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),xr.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),xr.on("zoomend",this._onZoomEnd,this),xr.whenReady(this._onZoomEnd,this))}_c(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wu(this._map._container,"leaflet-grab"),wu(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var xr=this._map;if(xr._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var Rr=bo(this._map.options.maxBounds);this._offsetLimit=mo(this._map.latLngToContainerPoint(Rr.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(Rr.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;xr.fire("movestart").fire("dragstart"),xr.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(xr){if(this._map.options.inertia){var Rr=this._lastTime=+new Date,Br=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Br),this._times.push(Rr),this._prunePositions(Rr)}this._map.fire("move",xr).fire("drag",xr)},_prunePositions:function(xr){for(;this._positions.length>1&&xr-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var xr=this._map.getSize().divideBy(2),Rr=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=Rr.subtract(xr).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(xr,Rr){return xr-(xr-Rr)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var xr=this._draggable._newPos.subtract(this._draggable._startPos),Rr=this._offsetLimit;xr.x<Rr.min.x&&(xr.x=this._viscousLimit(xr.x,Rr.min.x)),xr.y<Rr.min.y&&(xr.y=this._viscousLimit(xr.y,Rr.min.y)),xr.x>Rr.max.x&&(xr.x=this._viscousLimit(xr.x,Rr.max.x)),xr.y>Rr.max.y&&(xr.y=this._viscousLimit(xr.y,Rr.max.y)),this._draggable._newPos=this._draggable._startPos.add(xr)}},_onPreDragWrap:function(){var xr=this._worldWidth,Rr=Math.round(xr/2),Br=this._initialWorldOffset,Qr=this._draggable._newPos.x,ho=(Qr-Rr+Br)%xr+Rr-Br,jo=(Qr+Rr+Br)%xr-Rr-Br,zo=Math.abs(ho+Br)<Math.abs(jo+Br)?ho:jo;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=zo},_onDragEnd:function(xr){var Rr=this._map,Br=Rr.options,Qr=!Br.inertia||xr.noInertia||this._times.length<2;if(Rr.fire("dragend",xr),Qr)Rr.fire("moveend");else{this._prunePositions(+new Date);var ho=this._lastPos.subtract(this._positions[0]),jo=(this._lastTime-this._times[0])/1e3,zo=Br.easeLinearity,tl=ho.multiplyBy(zo/jo),Qo=tl.distanceTo([0,0]),Sl=Math.min(Br.inertiaMaxSpeed,Qo),Il=tl.multiplyBy(Sl/Qo),ic=Sl/(Br.inertiaDeceleration*zo),$c=Il.multiplyBy(-ic/2).round();!$c.x&&!$c.y?Rr.fire("moveend"):($c=Rr._limitOffset($c,Rr.options.maxBounds),Hr(function(){Rr.panBy($c,{duration:ic,easeLinearity:zo,noMoveStart:!0,animate:!0})}))}}});Nc.addInitHook("addHandler","dragging",Vu),Nc.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ju=Wu.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(xr){this._map=xr,this._setPanDelta(xr.options.keyboardPanDelta),this._setZoomDelta(xr.options.zoomDelta)},addHooks:function(){var xr=this._map._container;xr.tabIndex<=0&&(xr.tabIndex="0"),Ec(xr,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Du(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var xr=document.body,Rr=document.documentElement,Br=xr.scrollTop||Rr.scrollTop,Qr=xr.scrollLeft||Rr.scrollLeft;this._map._container.focus(),window.scrollTo(Qr,Br)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(xr){var Rr=this._panKeys={},Br=this.keyCodes,Qr,ho;for(Qr=0,ho=Br.left.length;Qr<ho;Qr++)Rr[Br.left[Qr]]=[-1*xr,0];for(Qr=0,ho=Br.right.length;Qr<ho;Qr++)Rr[Br.right[Qr]]=[xr,0];for(Qr=0,ho=Br.down.length;Qr<ho;Qr++)Rr[Br.down[Qr]]=[0,xr];for(Qr=0,ho=Br.up.length;Qr<ho;Qr++)Rr[Br.up[Qr]]=[0,-1*xr]},_setZoomDelta:function(xr){var Rr=this._zoomKeys={},Br=this.keyCodes,Qr,ho;for(Qr=0,ho=Br.zoomIn.length;Qr<ho;Qr++)Rr[Br.zoomIn[Qr]]=xr;for(Qr=0,ho=Br.zoomOut.length;Qr<ho;Qr++)Rr[Br.zoomOut[Qr]]=-xr},_addHooks:function(){Ec(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Du(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(xr){if(!(xr.altKey||xr.ctrlKey||xr.metaKey)){var Rr=xr.keyCode,Br=this._map,Qr;if(Rr in this._panKeys){if(!Br._panAnim||!Br._panAnim._inProgress)if(Qr=this._panKeys[Rr],xr.shiftKey&&(Qr=co(Qr).multiplyBy(3)),Br.options.maxBounds&&(Qr=Br._limitOffset(co(Qr),Br.options.maxBounds)),Br.options.worldCopyJump){var ho=Br.wrapLatLng(Br.unproject(Br.project(Br.getCenter()).add(Qr)));Br.panTo(ho)}else Br.panBy(Qr)}else if(Rr in this._zoomKeys)Br.setZoom(Br.getZoom()+(xr.shiftKey?3:1)*this._zoomKeys[Rr]);else if(Rr===27&&Br._popup&&Br._popup.options.closeOnEscapeKey)Br.closePopup();else return;nu(xr)}}});Nc.addInitHook("addHandler","keyboard",ju),Nc.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rg=Wu.extend({addHooks:function(){Ec(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Du(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(xr){var Rr=Kh(xr),Br=this._map.options.wheelDebounceTime;this._delta+=Rr,this._lastMousePos=this._map.mouseEventToContainerPoint(xr),this._startTime||(this._startTime=+new Date);var Qr=Math.max(Br-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(sr(this._performZoom,this),Qr),nu(xr)},_performZoom:function(){var xr=this._map,Rr=xr.getZoom(),Br=this._map.options.zoomSnap||0;xr._stop();var Qr=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ho=4*Math.log(2/(1+Math.exp(-Math.abs(Qr))))/Math.LN2,jo=Br?Math.ceil(ho/Br)*Br:ho,zo=xr._limitZoom(Rr+(this._delta>0?jo:-jo))-Rr;this._delta=0,this._startTime=null,zo&&(xr.options.scrollWheelZoom==="center"?xr.setZoom(Rr+zo):xr.setZoomAround(this._lastMousePos,Rr+zo))}});Nc.addInitHook("addHandler","scrollWheelZoom",rg);var wp=600;Nc.mergeOptions({tapHold:Dl.touchNative&&Dl.safari&&Dl.mobile,tapTolerance:15});var Uf=Wu.extend({addHooks:function(){Ec(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Du(this._map._container,"touchstart",this._onDown,this)},_onDown:function(xr){if(clearTimeout(this._holdTimeout),xr.touches.length===1){var Rr=xr.touches[0];this._startPos=this._newPos=new uo(Rr.clientX,Rr.clientY),this._holdTimeout=setTimeout(sr(function(){this._cancel(),this._isTapValid()&&(Ec(document,"touchend",jc),Ec(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",Rr))},this),wp),Ec(document,"touchend touchcancel contextmenu",this._cancel,this),Ec(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function xr(){Du(document,"touchend",jc),Du(document,"touchend touchcancel",xr)},_cancel:function(){clearTimeout(this._holdTimeout),Du(document,"touchend touchcancel contextmenu",this._cancel,this),Du(document,"touchmove",this._onMove,this)},_onMove:function(xr){var Rr=xr.touches[0];this._newPos=new uo(Rr.clientX,Rr.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(xr,Rr){var Br=new MouseEvent(xr,{bubbles:!0,cancelable:!0,view:window,screenX:Rr.screenX,screenY:Rr.screenY,clientX:Rr.clientX,clientY:Rr.clientY});Br._simulated=!0,Rr.target.dispatchEvent(Br)}});Nc.addInitHook("addHandler","tapHold",Uf),Nc.mergeOptions({touchZoom:Dl.touch,bounceAtZoomLimits:!0});var Yf=Wu.extend({addHooks:function(){_c(this._map._container,"leaflet-touch-zoom"),Ec(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wu(this._map._container,"leaflet-touch-zoom"),Du(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(xr){var Rr=this._map;if(!(!xr.touches||xr.touches.length!==2||Rr._animatingZoom||this._zooming)){var Br=Rr.mouseEventToContainerPoint(xr.touches[0]),Qr=Rr.mouseEventToContainerPoint(xr.touches[1]);this._centerPoint=Rr.getSize()._divideBy(2),this._startLatLng=Rr.containerPointToLatLng(this._centerPoint),Rr.options.touchZoom!=="center"&&(this._pinchStartLatLng=Rr.containerPointToLatLng(Br.add(Qr)._divideBy(2))),this._startDist=Br.distanceTo(Qr),this._startZoom=Rr.getZoom(),this._moved=!1,this._zooming=!0,Rr._stop(),Ec(document,"touchmove",this._onTouchMove,this),Ec(document,"touchend touchcancel",this._onTouchEnd,this),jc(xr)}},_onTouchMove:function(xr){if(!(!xr.touches||xr.touches.length!==2||!this._zooming)){var Rr=this._map,Br=Rr.mouseEventToContainerPoint(xr.touches[0]),Qr=Rr.mouseEventToContainerPoint(xr.touches[1]),ho=Br.distanceTo(Qr)/this._startDist;if(this._zoom=Rr.getScaleZoom(ho,this._startZoom),!Rr.options.bounceAtZoomLimits&&(this._zoom<Rr.getMinZoom()&&ho<1||this._zoom>Rr.getMaxZoom()&&ho>1)&&(this._zoom=Rr._limitZoom(this._zoom)),Rr.options.touchZoom==="center"){if(this._center=this._startLatLng,ho===1)return}else{var jo=Br._add(Qr)._divideBy(2)._subtract(this._centerPoint);if(ho===1&&jo.x===0&&jo.y===0)return;this._center=Rr.unproject(Rr.project(this._pinchStartLatLng,this._zoom).subtract(jo),this._zoom)}this._moved||(Rr._moveStart(!0,!1),this._moved=!0),Yr(this._animRequest);var zo=sr(Rr._move,Rr,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Hr(zo,this,!0),jc(xr)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Yr(this._animRequest),Du(document,"touchmove",this._onTouchMove,this),Du(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Nc.addInitHook("addHandler","touchZoom",Yf),Nc.BoxZoom=Ph,Nc.DoubleClickZoom=Hd,Nc.Drag=Vu,Nc.Keyboard=ju,Nc.ScrollWheelZoom=rg,Nc.TapHold=Uf,Nc.TouchZoom=Yf,er.Bounds=no,er.Browser=Dl,er.CRS=To,er.Canvas=Yh,er.Circle=Gp,er.CircleMarker=Rf,er.Class=io,er.Control=Zh,er.DivIcon=bp,er.DivOverlay=Vh,er.DomEvent=pm,er.DomUtil=vf,er.Draggable=Gf,er.Evented=Jr,er.FeatureGroup=dd,er.GeoJSON=fd,er.GridLayer=su,er.Handler=Wu,er.Icon=rf,er.ImageOverlay=Yl,er.LatLng=Po,er.LatLngBounds=Eo,er.Layer=Gu,er.LayerGroup=jf,er.LineUtil=Tg,er.Map=Nc,er.Marker=af,er.Mixin=ry,er.Path=Gh,er.Point=uo,er.PolyUtil=gm,er.Polygon=vm,er.Polyline=Fd,er.Popup=Uh,er.PosAnimation=Id,er.Projection=Qm,er.Rectangle=Cf,er.Renderer=pd,er.SVG=Vf,er.SVGOverlay=Su,er.TileLayer=Cd,er.Tooltip=Up,er.Transformation=el,er.Util=ro,er.VideoOverlay=kc,er.bind=sr,er.bounds=mo,er.canvas=Oh,er.circle=of,er.circleMarker=Dg,er.control=Qh,er.divIcon=_m,er.extend=ir,er.featureGroup=px,er.geoJSON=_l,er.geoJson=dl,er.gridLayer=mx,er.icon=xp,er.imageOverlay=mc,er.latLng=wo,er.latLngBounds=bo,er.layerGroup=gp,er.map=gh,er.marker=Wp,er.point=co,er.polygon=Mg,er.polyline=hv,er.popup=vp,er.rectangle=gx,er.setOptions=yr,er.stamp=or,er.svg=wm,er.svgOverlay=Ng,er.tileLayer=Jh,er.tooltip=bm,er.transformation=Lo,er.version=nr,er.videoOverlay=Ju;var Mu=window.L;er.noConflict=function(){return window.L=Mu,this},window.L=er}))})(leafletSrc$1,leafletSrc$1.exports)),leafletSrc$1.exports}var leafletSrcExports=requireLeafletSrc();const L$4=getDefaultExportFromCjs(leafletSrcExports);function createElementObject(tr,Hn,er){return Object.freeze({instance:tr,context:Hn,container:er})}function createElementHook(tr,Hn){return Hn==null?function(nr,ir){const rr=reactExports.useRef(void 0);return rr.current||(rr.current=tr(nr,ir)),rr}:function(nr,ir){const rr=reactExports.useRef(void 0);rr.current||(rr.current=tr(nr,ir));const sr=reactExports.useRef(nr),{instance:ar}=rr.current;return reactExports.useEffect(function(){sr.current!==nr&&(Hn(ar,nr,sr.current),sr.current=nr)},[ar,nr,Hn]),rr}}function useLayerLifecycle(tr,Hn){reactExports.useEffect(function(){return(Hn.layerContainer??Hn.map).addLayer(tr.instance),function(){Hn.layerContainer?.removeLayer(tr.instance),Hn.map.removeLayer(tr.instance)}},[Hn,tr])}function createLayerHook(tr){return function(er){const nr=useLeafletContext(),ir=tr(withPane(er,nr),nr);return useAttribution(nr.map,er.attribution),useEventHandlers(ir.current,er.eventHandlers),useLayerLifecycle(ir.current,nr),ir}}function createLayerComponent(tr,Hn){const er=createElementHook(tr,Hn),nr=createLayerHook(er);return createContainerComponent(nr)}function createOverlayComponent(tr,Hn){const er=createElementHook(tr),nr=createDivOverlayHook(er,Hn);return createDivOverlayComponent(nr)}function createTileLayerComponent(tr,Hn){const er=createElementHook(tr,Hn),nr=createLayerHook(er);return createLeafComponent(nr)}function updateGridLayer(tr,Hn,er){const{opacity:nr,zIndex:ir}=Hn;nr!=null&&nr!==er.opacity&&tr.setOpacity(nr),ir!=null&&ir!==er.zIndex&&tr.setZIndex(ir)}function useMap(){return useLeafletContext().map}function useMapEvents(tr){const Hn=useMap();return reactExports.useEffect(function(){return Hn.on(tr),function(){Hn.off(tr)}},[Hn,tr]),Hn}function MapContainerComponent({bounds:tr,boundsOptions:Hn,center:er,children:nr,className:ir,id:rr,placeholder:sr,style:ar,whenReady:or,zoom:lr,...cr},ur){const[dr]=reactExports.useState({className:ir,id:rr,style:ar}),[fr,gr]=reactExports.useState(null),yr=reactExports.useRef(void 0);reactExports.useImperativeHandle(ur,()=>fr?.map??null,[fr]);const vr=reactExports.useCallback(Sr=>{if(Sr!==null&&!yr.current){const Tr=new leafletSrcExports.Map(Sr,cr);yr.current=Tr,er!=null&&lr!=null?Tr.setView(er,lr):tr!=null&&Tr.fitBounds(tr,Hn),or!=null&&Tr.whenReady(or),gr(createLeafletContext(Tr))}},[]);reactExports.useEffect(()=>()=>{fr?.map.remove()},[fr]);const jr=fr?React.createElement(LeafletContext,{value:fr},nr):sr??null;return React.createElement("div",{...dr,ref:vr},jr)}const MapContainer=reactExports.forwardRef(MapContainerComponent),Marker=createLayerComponent(function tr({position:Hn,...er},nr){const ir=new leafletSrcExports.Marker(Hn,er);return createElementObject(ir,extendContext(nr,{overlayContainer:ir}))},function tr(Hn,er,nr){er.position!==nr.position&&Hn.setLatLng(er.position),er.icon!=null&&er.icon!==nr.icon&&Hn.setIcon(er.icon),er.zIndexOffset!=null&&er.zIndexOffset!==nr.zIndexOffset&&Hn.setZIndexOffset(er.zIndexOffset),er.opacity!=null&&er.opacity!==nr.opacity&&Hn.setOpacity(er.opacity),Hn.dragging!=null&&er.draggable!==nr.draggable&&(er.draggable===!0?Hn.dragging.enable():Hn.dragging.disable())}),Popup=createOverlayComponent(function tr(Hn,er){const nr=new leafletSrcExports.Popup(Hn,er.overlayContainer);return createElementObject(nr,er)},function tr(Hn,er,{position:nr},ir){reactExports.useEffect(function(){const{instance:sr}=Hn;function ar(lr){lr.popup===sr&&(sr.update(),ir(!0))}function or(lr){lr.popup===sr&&ir(!1)}return er.map.on({popupopen:ar,popupclose:or}),er.overlayContainer==null?(nr!=null&&sr.setLatLng(nr),sr.openOn(er.map)):er.overlayContainer.bindPopup(sr),function(){er.map.off({popupopen:ar,popupclose:or}),er.overlayContainer?.unbindPopup(),er.map.removeLayer(sr)}},[Hn,er,ir,nr])}),TileLayer=createTileLayerComponent(function tr({url:Hn,...er},nr){const ir=new leafletSrcExports.TileLayer(Hn,withPane(er,nr));return createElementObject(ir,nr)},function tr(Hn,er,nr){updateGridLayer(Hn,er,nr);const{url:ir}=er;ir!=null&&ir!==nr.url&&Hn.setUrl(ir)}),Tooltip$1=createOverlayComponent(function tr(Hn,er){const nr=new leafletSrcExports.Tooltip(Hn,er.overlayContainer);return createElementObject(nr,er)},function tr(Hn,er,{position:nr},ir){reactExports.useEffect(function(){const sr=er.overlayContainer;if(sr==null)return;const{instance:ar}=Hn,or=cr=>{cr.tooltip===ar&&(nr!=null&&ar.setLatLng(nr),ar.update(),ir(!0))},lr=cr=>{cr.tooltip===ar&&ir(!1)};return sr.on({tooltipopen:or,tooltipclose:lr}),sr.bindTooltip(ar),function(){sr.off({tooltipopen:or,tooltipclose:lr}),sr._map!=null&&sr.unbindTooltip()}},[Hn,er,ir,nr])});function useGeolocation(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null);return reactExports.useEffect(()=>{navigator.geolocation.getCurrentPosition(ir=>{Hn({latitude:ir.coords.latitude,longitude:ir.coords.longitude}),localStorage.setItem("user_coords",JSON.stringify({latitude:ir.coords.latitude,longitude:ir.coords.longitude}))},ir=>nr(ir.message),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]),console.log("v tr: ",tr),{coords:tr,error:er}}function CustomMarker({position:tr,children:Hn}){const er=reactExports.useRef(null),nr=reactExports.useRef(null),ir=reactExports.useRef("marker-"+Math.random().toString(36).substring(2));return er.current||(er.current=L$4.divIcon({className:"custom-react-marker",html:`<div id="${ir.current}" style="
    transform: translate(-50%, -100%);
  "></div>`})),reactExports.useEffect(()=>{const rr=document.getElementById(ir.current);if(rr)return nr.current=ReactDOM.createRoot(rr),()=>{if(nr.current){const sr=nr.current;setTimeout(()=>{sr.unmount()},0),nr.current=null}}},[]),reactExports.useEffect(()=>{nr.current&&nr.current.render(Hn)},[Hn]),jsxRuntimeExports.jsx(Marker,{position:tr,icon:er.current})}const API_ENDPOINTS_RAW=["https://api_gold.thinkdiff.us/btmc","https://api_gold.thinkdiff.us/ngoctham","https://api_gold.thinkdiff.us/vangphutai","https://api_gold.thinkdiff.us/pnj","https://api_gold.thinkdiff.us/ancarat_giabac","https://api_gold.thinkdiff.us/kimhoancamau","https://api_gold.thinkdiff.us/kimchau_info","https://api_gold.thinkdiff.us/vang_sinhdien","https://api_gold.thinkdiff.us/vangchienminh","https://api_gold.thinkdiff.us/kimnganphuc","https://api_gold.thinkdiff.us/baotinlanvy","https://api_gold.thinkdiff.us/ancarat_giavang","https://api_gold.thinkdiff.us/lamngocthanh","https://api_gold.thinkdiff.us/teokimtruc","https://api_gold.thinkdiff.us/sjc_com_vn","https://api_gold.thinkdiff.us/goldavenue","https://api_gold.thinkdiff.us/suissegold","https://api_gold.thinkdiff.us/igold_silver","https://api_gold.thinkdiff.us/kanzjewels","https://api_gold.thinkdiff.us/gvs_trading","https://api_gold.thinkdiff.us/anekalogam","https://api_gold.thinkdiff.us/aurum_gold","https://api_gold.thinkdiff.us/aurum_silver","https://api_gold.thinkdiff.us/aurum_silverSalt","https://api_gold.thinkdiff.us/phuquy_bac","https://api_gold.thinkdiff.us/phuquy_vang","https://api_gold.thinkdiff.us/btmh_gold","https://api_gold.thinkdiff.us/kimtin_com_vn","https://api_gold.thinkdiff.us/orient","https://api_gold.thinkdiff.us/malabar/silver","https://api_gold.thinkdiff.us/malabar/gold","https://api_gold.thinkdiff.us/tokuriki","https://api_gold.thinkdiff.us/tanaka","https://api_gold.thinkdiff.us/ishifuku","https://api_gold.thinkdiff.us/candere","https://api_gold.thinkdiff.us/vang_nguyenlieu_haihau_namdinh","https://api_gold.thinkdiff.us/huythanhjewelry","https://api_gold.thinkdiff.us/skjewellery","https://api_gold.thinkdiff.us/doji","https://api_gold.thinkdiff.us/vang_haihong","https://api_gold.thinkdiff.us/vang_huongdiu","https://api_gold.thinkdiff.us/socket_mihong_goldenfund","https://api_gold.thinkdiff.us/chowsangsang_html","https://api_gold.thinkdiff.us/chowtaiseng","https://api_gold.thinkdiff.us/chowtaifook","https://api_gold.thinkdiff.us/sbj_silver","https://api_gold.thinkdiff.us/sbj_gold","https://api_gold.thinkdiff.us/kimtung","https://api_gold.thinkdiff.us/kimngoc","https://api_gold.thinkdiff.us/quocbaolam","https://api_gold.thinkdiff.us/kimthuy","https://api_gold.thinkdiff.us/kimyen","https://api_gold.thinkdiff.us/kimphatthoian","https://api_gold.thinkdiff.us/lucngocthanh","https://api_gold.thinkdiff.us/phuocthanh","https://api_gold.thinkdiff.us/kimphathiepthanh","https://api_gold.thinkdiff.us/kimphat","https://api_gold.thinkdiff.us/quocbaoson","https://api_gold.thinkdiff.us/quocbao","https://api_gold.thinkdiff.us/kimhanh","https://api_gold.thinkdiff.us/minhthanhbenluc","https://api_gold.thinkdiff.us/myngoc","https://api_gold.thinkdiff.us/kimton","https://api_gold.thinkdiff.us/lapduc","https://api_gold.thinkdiff.us/kimhungphat","https://api_gold.thinkdiff.us/yenhien","https://api_gold.thinkdiff.us/xuanmui","https://api_gold.thinkdiff.us/haisen","https://api_gold.thinkdiff.us/kimchauhaihau","https://api_gold.thinkdiff.us/thanhxuandonganh","https://api_gold.thinkdiff.us/daphuc","https://api_gold.thinkdiff.us/nhahuong","https://api_gold.thinkdiff.us/hjctaiquangninh","https://api_gold.thinkdiff.us/kimchung","https://api_gold.thinkdiff.us/hoatung","https://api_gold.thinkdiff.us/quytung","https://api_gold.thinkdiff.us/kimlien","https://api_gold.thinkdiff.us/trungsinhthainguyen","https://api_gold.thinkdiff.us/huongyen","https://api_gold.thinkdiff.us/kimkhanhhanam","https://api_gold.thinkdiff.us/haihong","https://api_gold.thinkdiff.us/quanghanh","https://api_gold.thinkdiff.us/sonha","https://api_gold.thinkdiff.us/luhuong","https://api_gold.thinkdiff.us/anhminh","https://api_gold.thinkdiff.us/huongchi","https://api_gold.thinkdiff.us/nhathahaiphong","https://api_gold.thinkdiff.us/phidoan","https://api_gold.thinkdiff.us/dainghia","https://api_gold.thinkdiff.us/tienngoc","https://api_gold.thinkdiff.us/phucthanhnamdinh","https://api_gold.thinkdiff.us/phucthanhlongbien","https://api_gold.thinkdiff.us/hoanhuelaocai","https://api_gold.thinkdiff.us/koreagoldx_silver","https://api_gold.thinkdiff.us/koreagoldx"],formatPrice=tr=>tr?new Intl.NumberFormat("vi-VN").format(tr):"N/A",calculateSpread=(tr,Hn)=>!tr||!Hn?0:tr-Hn,fetchSingleAPI=async tr=>{try{const Hn=await fetch(tr);if(!Hn.ok)throw new Error(`HTTP error! status: ${Hn.status}`);const er=await Hn.json();if(er.status==="success"&&er.data&&er.data.data){const nr=er.data.data,ir=nr.site||er.data.site,rr=er.name||ir,sr=typeof er.do_uy_tin<"u"&&er.do_uy_tin!==null?er.do_uy_tin:void 0,ar=er.quoc_gia||"Vietnam";return{site:ir,name:rr,fetched_at:nr.fetched_at||nr.time_date_get,items:nr.items||[],timestamp:nr.site_timestamp||nr.time_date_get,do_uy_tin:sr,quoc_gia:ar}}throw new Error("Invalid data structure")}catch(Hn){throw Hn}},fetchGoldPricesIncremental=async tr=>{const Hn=API_ENDPOINTS_RAW.length;let er=0;const nr=[];try{const ir=API_ENDPOINTS_RAW.filter((ar,or)=>or===0).map(ar=>fetchSingleAPI(ar).then(or=>{if(er++,nr.push(or),tr)try{tr(or,er,Hn)}catch(lr){console.warn("Callback error in onVendorLoaded:",lr)}return{status:"fulfilled",value:or}}).catch(or=>(er++,{status:"rejected",reason:or,url:ar}))),sr=(await Promise.all(ir)).filter(ar=>ar.status==="rejected").map(ar=>({url:ar.url,reason:ar.reason}));return nr}catch(ir){throw console.error("Error in fetchGoldPricesIncremental:",ir),ir}},getLatestUpdateTime=tr=>{if(!tr||tr.length===0)return"";const Hn=tr.reduce((er,nr)=>er.timestamp?new Date(nr.timestamp)>new Date(er.timestamp)?nr:er:nr,tr[0]);return Hn.fetched_at||Hn.timestamp},getTrustColor=tr=>{if(tr==null)return"#94A3B8";const Hn=Number(tr);return Hn<=2?"#22C55E":Hn<=4?"#84CC16":Hn<=6?"#FACC15":Hn<=8?"#F97316":"#EF4444"};function BiRefresh(tr){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z"},child:[]}]})(tr)}const PriceTableMap=({vendorData:tr,isInternational:Hn})=>!tr||!tr.items||tr.items.length===0?null:jsxRuntimeExports.jsxs("div",{className:`price-table-card map-price-card ${Hn?"international-table":""}`,children:[jsxRuntimeExports.jsx("div",{className:"table-header",children:jsxRuntimeExports.jsxs("div",{className:"header-top",children:[jsxRuntimeExports.jsxs("div",{className:"header-left-info",children:[jsxRuntimeExports.jsx("h2",{className:"vendor-name",children:tr.name}),tr.quoc_gia&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("span",{className:"country-badge2",children:[" ",tr.quoc_gia]}),jsxRuntimeExports.jsxs("span",{className:"country-badge2",children:[tr.distance," Km"]})]}),jsxRuntimeExports.jsxs("p",{className:"update-time",children:["Cp nht: ",tr.fetched_at||tr.timestamp]})]}),jsxRuntimeExports.jsx("div",{children:tr.do_uy_tin!==void 0&&tr.do_uy_tin!==null&&jsxRuntimeExports.jsxs("p",{className:"trust-badge",style:{color:getTrustColor(tr.do_uy_tin)},children:["  uy tn: ",tr.do_uy_tin]})})]})}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"price-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"col-product",children:"LOI VNG"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"MUA VO"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"BN RA"}),Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("th",{className:"col-price",children:"GI GC (USD)"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"BN CH EN"}),jsxRuntimeExports.jsx("th",{className:"col-rate",children:"T GI CH EN"}),jsxRuntimeExports.jsx("th",{className:"col-rate",children:"T GI NGN HNG"})]})]})}),jsxRuntimeExports.jsx("tbody",{children:(()=>{const er=rr=>rr.purity==="1KG_BAC_999"||rr.purity==="9999",nr=tr.items.filter(er);return tr.items.filter(rr=>!er(rr)),[...nr].map((rr,sr)=>{const ar=rr.purity==="9999",or=rr.purity==="1KG_BAC_999",lr=ar?"highlight-9999":or?"highlight-silver":"";return jsxRuntimeExports.jsxs("tr",{className:lr,children:[jsxRuntimeExports.jsxs("td",{className:"product-name",children:[rr.name||rr.product,ar&&jsxRuntimeExports.jsx("span",{className:"gold-badge",children:" 9999"}),or&&jsxRuntimeExports.jsx("span",{className:"silver-badge",children:" 1KG"})]}),jsxRuntimeExports.jsx("td",{className:"price-buy",children:formatPrice(rr.buy)}),jsxRuntimeExports.jsx("td",{className:"price-sell",children:formatPrice(rr.sell)}),Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("td",{className:"price-original",children:rr.gia_goc?`$${rr.gia_goc.toLocaleString("en-US")}`:"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-black-market",children:formatPrice(rr.sell_cho_den)}),jsxRuntimeExports.jsx("td",{className:"rate-black",children:rr.ty_gia_cho_den?rr.ty_gia_cho_den.toLocaleString("vi-VN"):"N/A"}),jsxRuntimeExports.jsx("td",{className:"rate-bank",children:rr.ty_gia_ngan_hang?rr.ty_gia_ngan_hang.toLocaleString("vi-VN"):"N/A"})]})]},sr)})})()})]})}),jsxRuntimeExports.jsx("div",{className:"table-footer",children:(()=>{const er=tr.items.find(sr=>sr.purity==="9999"),nr=tr.items.find(sr=>sr.purity==="1KG_BAC_999"),ir=er?calculateSpread(er.sell,er.buy):null,rr=nr?calculateSpread(nr.sell,nr.buy):null;return jsxRuntimeExports.jsxs("div",{className:"spread-info",children:[ir&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:[" Chnh lch Vng 9999:"," ",jsxRuntimeExports.jsx("strong",{children:formatPrice(ir)})]}),rr&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:[" Chnh lch Bc 1KG:"," ",jsxRuntimeExports.jsx("strong",{children:formatPrice(rr)})]})]})})()})]}),ClickIcon=L$4.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),DefaultIcon=L$4.icon({iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});L$4.Marker.prototype.options.icon=DefaultIcon;function MapView(){const tr=useNavigate(),Hn=useParams(),{coords:er}=useGeolocation();console.log("All params:",Hn),console.log("GPS:",er);const nr=reactExports.useMemo(()=>({day:Hn.day?Number(Hn.day):null,month:Hn.month?Number(Hn.month):null,year:Hn.year?Number(Hn.year):null,hour:Hn.hour?Number(Hn.hour):null,minute:Hn.minute?Number(Hn.minute):null,region:Hn.region||"Vietnam",type:Hn.type||"gold"}),[Hn]),ir=Hn.z?Number(Hn.z):13,{loading:rr,error:sr,displayedPrices:ar,loadingProgress:or}=UseGoldOneDayPrices(nr),lr=Number(Hn.lat)?Number(Hn.lat):er?.latitude,cr=Number(Hn.lng)?Number(Hn.lng):er?.longitude;if(console.log("Ta :",lr,cr),!lr||!cr)return jsxRuntimeExports.jsx("div",{children:"ang ly v tr..."});if(rr&&ar.length===0)return jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu gi vng..."}),or.total>0&&jsxRuntimeExports.jsxs("p",{className:"loading-progress",children:[" ti ",or.loaded,"/",or.total," ngun"]})]});if(sr)return jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",sr]}),jsxRuntimeExports.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]});const ur=({latNew:fr,lngNew:gr,zoomNew:yr})=>{console.log("x l s kin"),fr&&gr?tr(`/map-view/${nr.region}/${nr.type}/${nr.day}/${nr.month}/${nr.year}/${nr.hour}/${nr.minute}/${yr}/${fr}/${gr}`,{replace:!0}):tr(`/map-view/${nr.region}/${nr.type}/${nr.day}/${nr.month}/${nr.year}/${nr.hour}/${nr.minute}/${yr}/${lr}/${cr}`,{replace:!0})},dr=addDistanceStoresWithinRadius(ar,er.latitude,er.longitude);return jsxRuntimeExports.jsx("div",{className:"map-view",children:jsxRuntimeExports.jsxs(MapContainer,{center:[lr,cr],zoom:ir,scrollWheelZoom:!0,className:"map-container",children:[jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri"}),jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",attribution:"Transportation  Esri",opacity:.6}),jsxRuntimeExports.jsx(Marker,{position:[lr,cr],icon:ClickIcon,children:jsxRuntimeExports.jsx(Tooltip$1,{direction:"top",offset:[0,-20],opacity:1,children:"V tr Click"})}),dr.filter(fr=>fr.maps&&fr.maps.length>0).flatMap(fr=>fr.maps.map((gr,yr)=>{const vr=[gr.lat,gr.long];return ir>=18?jsxRuntimeExports.jsx(CustomMarker,{position:vr,children:jsxRuntimeExports.jsx(PriceTableMap,{vendorData:fr})},`${fr.name||"nhavang"}-${yr}`):jsxRuntimeExports.jsx(Marker,{position:vr,children:jsxRuntimeExports.jsx(Tooltip$1,{direction:"top",offset:[0,-20],opacity:1,permanent:!0,children:fr.name||"Nh vng"})},`${fr.name||"nhavang"}-${yr}`)})),jsxRuntimeExports.jsx(MapEventHandler,{onChange:ur})]})})}const MapEventHandler=({onChange:tr})=>{const Hn=useMap();return useMapEvents({click(er){console.log(" click");const{lat:nr,lng:ir}=er.latlng,rr=Hn.getZoom();tr&&tr({latNew:nr,lngNew:ir,zoomNew:rr})},zoomend(){console.log(" zoom");const er=Hn.getZoom();tr&&tr({latNew:null,lngNew:null,zoomNew:er})}}),null},FilterBar=React.memo(({filterOptions:tr,onFilterChange:Hn,uiFilter:er,setUiFilter:nr,availableCountries:ir,showAnalysis:rr,onToggleAnalysis:sr,showComparison:ar,onToggleComparison:or})=>{const{region:lr,type:cr,day:ur,month:dr,year:fr,hour:gr,minute:yr}=tr,{coords:vr}=useGeolocation(),jr=reactExports.useCallback(Mr=>{Hn({...tr,type:Mr})},[tr,Hn]),Sr=reactExports.useCallback(Mr=>{Mr==="international"&&(nr(Nr=>({...Nr,distanceKm:"all"})),Hn({...tr,region:Mr,country:"international"})),Mr==="vietnam"&&(nr(Nr=>({...Nr,distanceKm:"20"})),Hn({...tr,region:Mr,country:"VIETNAM"}))},[tr,Hn,nr]),Tr=Mr=>{nr(Nr=>({...Nr,sortBy:Mr}))};reactExports.useEffect(()=>{tr.region==="vietnam"&&er.distanceKm==="all"?nr(Mr=>({...Mr,distanceKm:"20"})):tr.region==="international"&&er.distanceKm!=="all"&&nr(Mr=>({...Mr,distanceKm:"all"}))},[tr.region,er.distanceKm,nr]);const Lr=vr?`/map-view/${lr}/${cr}/${ur}/${dr}/${fr}/${gr}/${yr}/13/${vr.latitude}/${vr.longitude}`:"#";return jsxRuntimeExports.jsx("div",{className:"filter-bar",children:jsxRuntimeExports.jsx("div",{className:"filter-container",children:jsxRuntimeExports.jsxs("div",{className:"toolbar",children:[jsxRuntimeExports.jsxs("div",{className:"topbar",children:[jsxRuntimeExports.jsxs("div",{className:"pill-group",children:[jsxRuntimeExports.jsx("button",{className:`pill-btn ${tr.region==="vietnam"?"active":""}`,onClick:()=>Sr("vietnam"),children:" Vit Nam"}),jsxRuntimeExports.jsx("button",{className:`pill-btn ${tr.region==="international"?"active":""}`,onClick:()=>Sr("international"),children:" Quc T"})]}),jsxRuntimeExports.jsxs("div",{className:"pill-group",children:[jsxRuntimeExports.jsx("button",{className:`pill-btn ${tr.type==="gold"?"active":""}`,onClick:()=>jr("gold"),children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`pill-btn ${tr.type==="silver"?"active":""}`,onClick:()=>jr("silver"),children:"Bc"})]}),jsxRuntimeExports.jsx("div",{className:"pill-group",children:jsxRuntimeExports.jsx(Link,{className:`pill-btn ${vr?"":"disabled"}`,to:Lr,onClick:Mr=>!vr&&Mr.preventDefault(),children:"M bn "})}),jsxRuntimeExports.jsx("div",{className:"pill-group",children:jsxRuntimeExports.jsx("button",{className:`pill-btn ${rr?"active":""}`,onClick:()=>sr(!rr),children:rr?" Phn tch":" Bng gi"})})]}),jsxRuntimeExports.jsxs("div",{className:"pill-selects",children:[jsxRuntimeExports.jsxs("label",{className:"pill-select",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Sp xp Theo"}),jsxRuntimeExports.jsxs("select",{value:er.sortBy,onChange:Mr=>Tr(Mr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"reputation",children:" uy tn"}),jsxRuntimeExports.jsx("option",{value:"buyPrice",children:"Gi mua vo"}),jsxRuntimeExports.jsx("option",{value:"sellPrice",children:"Gi bn ra"}),jsxRuntimeExports.jsx("option",{value:"spread",children:"Chnh lch gi"})]})]}),jsxRuntimeExports.jsx(TimeRangeSelector$1,{})]})]})})})});FilterBar.displayName="FilterBar";const PriceTable=({vendorData:tr,isInternational:Hn=!1,reloadCurrent:er,exchangeRateUSD:nr=27109})=>{const ir=useNavigate();if(!tr||!tr.items||tr.items.length===0)return null;const rr=or=>{or&&or.stopPropagation&&or.stopPropagation();const lr=`/${encodeURIComponent(tr.name)}`;ir(lr)};let sr=0,ar=0;return jsxRuntimeExports.jsxs("div",{"data-vendor":tr.name,className:`price-table-card ${Hn?"international-table":""}`,onClick:rr,children:[jsxRuntimeExports.jsx("div",{className:"table-header",children:jsxRuntimeExports.jsxs("div",{className:"header-top",children:[jsxRuntimeExports.jsxs("div",{className:"header-left-info",children:[jsxRuntimeExports.jsx("h2",{className:"vendor-name",children:tr.name}),tr.quoc_gia&&jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsxs("span",{className:"country-badge",children:[" ",tr.quoc_gia]}),jsxRuntimeExports.jsxs("span",{className:"country-badge red ",children:[tr.distance," Km"]})]}),jsxRuntimeExports.jsxs("p",{className:"update-time",children:["Cp nht: ",tr.fetched_at||tr.timestamp]})]}),jsxRuntimeExports.jsxs("div",{children:[tr.do_uy_tin!==void 0&&tr.do_uy_tin!==null&&jsxRuntimeExports.jsxs("p",{className:"trust-badge",style:{color:getTrustColor(tr.do_uy_tin)},children:["  uy tn: ",tr.do_uy_tin]}),jsxRuntimeExports.jsxs("button",{className:"reload-btn",onClick:or=>{or.stopPropagation(),er&&er()},children:[jsxRuntimeExports.jsx(BiRefresh,{size:18,style:{marginRight:6}}),"Ti li"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"price-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"col-product",children:"LOI VNG"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"MUA VO"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"BN RA"}),Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("th",{className:"col-price",children:"GI GC (USD)"}),jsxRuntimeExports.jsx("th",{className:"col-price",children:"BN CH EN"}),jsxRuntimeExports.jsx("th",{className:"col-rate",children:"T GI CH EN"}),jsxRuntimeExports.jsx("th",{className:"col-rate",children:"T GI NGN HNG"})]})]})}),jsxRuntimeExports.jsx("tbody",{children:(()=>{const or=dr=>dr.purity==="1KG_BAC_999"||dr.purity==="9999",lr=tr.items.filter(or),cr=tr.items.filter(dr=>!or(dr));return[...lr,...cr].map((dr,fr)=>{const gr=dr.purity==="9999",yr=dr.purity==="1KG_BAC_999";gr&&(dr?.sell?sr=dr?.sell:dr?.buy&&(sr=dr?.buy)),yr&&(dr?.sell?ar=dr?.sell:dr?.buy&&(ar=dr?.buy));const vr=gr?"highlight-9999":yr?"highlight-silver":"";return jsxRuntimeExports.jsxs("tr",{className:vr,children:[jsxRuntimeExports.jsxs("td",{className:"product-name",children:[dr.name||dr.product,gr&&jsxRuntimeExports.jsx("span",{className:"gold-badge",children:" 9999"}),yr&&jsxRuntimeExports.jsx("span",{className:"silver-badge",children:" 1KG"})]}),jsxRuntimeExports.jsx("td",{className:"price-buy",children:formatPrice(dr.buy)}),jsxRuntimeExports.jsx("td",{className:"price-sell",children:formatPrice(dr.sell)}),Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("td",{className:"price-original",children:dr.gia_goc?`$${dr.gia_goc.toLocaleString("en-US")}`:"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-black-market",children:formatPrice(dr.sell_cho_den)}),jsxRuntimeExports.jsx("td",{className:"rate-black",children:dr.ty_gia_cho_den?dr.ty_gia_cho_den.toLocaleString("vi-VN"):"N/A"}),jsxRuntimeExports.jsx("td",{className:"rate-bank",children:dr.ty_gia_ngan_hang?dr.ty_gia_ngan_hang.toLocaleString("vi-VN"):"N/A"})]})]},fr)})})()})]})}),jsxRuntimeExports.jsx("div",{className:"table-footer",children:(()=>{const or=tr.items.find(dr=>dr.purity==="9999"),lr=tr.items.find(dr=>dr.purity==="1KG_BAC_999"),cr=or?calculateSpread(or.sell,or.buy):null,ur=lr?calculateSpread(lr.sell,lr.buy):null;return jsxRuntimeExports.jsxs("div",{className:"spread-info",children:[sr>0&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:["Quy i: ",jsxRuntimeExports.jsx("span",{style:{color:"#f1c40f",fontWeight:"bold",fontSize:"14px"},children:(sr/nr/1.20565303).toFixed(2)})," USD / 1 ounce"]}),cr>0&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:[" Chnh lch Vng 9999:"," ",jsxRuntimeExports.jsx("strong",{children:formatPrice(cr)})]}),ar>0&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:["Quy i: ",jsxRuntimeExports.jsx("span",{style:{color:"#ecf0f1"},children:(ar/nr/1e3*31.1035).toFixed(2)})," USD / 1 ounce"]}),ur>0&&jsxRuntimeExports.jsxs("small",{className:"spread-item",children:[" Chnh lch Bc 1KG:"," ",jsxRuntimeExports.jsx("strong",{children:formatPrice(ur)})]})]})})()})]})},convertToKey=tr=>tr?tr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").toLowerCase().trim().replace(/\s+/g,"_"):"",GoldPriceDashboard=React.memo(({loading:tr,error:Hn,displayedPrices:er,filterOptions:nr,onFilterChange:ir,loadingProgress:rr,availableCountries:sr,showAnalysis:ar,onToggleAnalysis:or,exchangeRateUSD:lr})=>{const cr=useNavigate(),{coords:ur}=useGeolocation(),[dr,fr]=reactExports.useState({sortBy:"reputation",sortOrder:"asc",distanceKm:"all"});reactExports.useEffect(()=>{fr(Hr=>({...Hr,distanceKm:nr.region==="international"?"all":"20"}))},[nr.region,nr.type]);const gr=reactExports.useMemo(()=>{let Hr=[];if(er.forEach(Yr=>{const ro=[],io=[];Yr.items.forEach(fo=>{fo.product==="SJC Tu Do"?ro.push(fo):io.push(fo)}),io.length>0&&Hr.push({...Yr,items:io,skipDistanceFilter:!1}),ro.forEach(fo=>{Hr.push({...Yr,name:Yr.name+" - "+fo.product,items:[fo],do_uy_tin:1,skipDistanceFilter:!0})})}),ur&&(Hr=addDistanceStoresWithinRadius(Hr,ur.latitude,ur.longitude)),dr.distanceKm!=="all"){const Yr=parseInt(dr.distanceKm,10);Hr=Hr.filter(ro=>ro.skipDistanceFilter||ro.distance!=null&&ro.distance<=Yr)}return Hr},[er,ur,dr.distanceKm]),{trustGroups:yr,trustLevels:vr}=reactExports.useMemo(()=>{let Hr={},Yr=[];return dr.sortBy==="reputation"?(gr.forEach(io=>{const fo=io.do_uy_tin??0;Hr[fo]||(Hr[fo]=[]),Hr[fo].push(io)}),Yr=Object.keys(Hr).map(Number).sort((io,fo)=>dr.sortOrder==="asc"?io-fo:fo-io)):(Hr={0:gr},Yr=[0]),{trustGroups:Hr,trustLevels:Yr}},[gr,dr.sortBy,dr.sortOrder]),jr=reactExports.useCallback(Hr=>{const{sortBy:Yr,sortOrder:ro}=dr;return[...Hr].sort((io,fo)=>{let ao=0,Jr=0;const uo=no=>no.items.find(mo=>mo.purity==="9999"||mo.product==="SJC Tu Do"),oo=uo(io),co=uo(fo);switch(Yr){case"buyPrice":ao=oo?.buy??0,Jr=co?.buy??0;break;case"sellPrice":case"gold9999":ao=oo?.sell??0,Jr=co?.sell??0;break;case"reputation":ao=io.do_uy_tin??0,Jr=fo.do_uy_tin??0;break;case"spread":ao=oo?oo.sell-oo.buy:0,Jr=co?co.sell-co.buy:0;break}return ro==="asc"?ao-Jr:Jr-ao})},[dr.sortBy,dr.sortOrder]),Sr=dr.sortBy==="reputation",{region:Tr,type:Lr,day:Mr,month:Nr,year:Or,hour:Fr,minute:Gr}=nr,qr=`/comparison-chart/${Tr}/${Lr}/${Mr}/${Nr}/${Or}/${Fr}/${Gr}/`;return tr&&er.length===0?jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu gi vng..."}),rr.total>0&&jsxRuntimeExports.jsxs("p",{className:"loading-progress",children:[" ti ",rr.loaded,"/",rr.total," ngun"]})]}):Hn?jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",Hn]}),jsxRuntimeExports.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FilterBar,{filterOptions:nr,onFilterChange:ir,uiFilter:dr,setUiFilter:fr,availableCountries:sr,showAnalysis:ar,onToggleAnalysis:or}),gr.length===0?jsxRuntimeExports.jsx("div",{className:"no-data",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu  hin th"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[tr&&jsxRuntimeExports.jsxs("div",{className:"loading-banner",children:[jsxRuntimeExports.jsx("span",{className:"spinner-small"}),"ang ti thm... (",rr.loaded,"/",rr.total,")"]}),vr.map(Hr=>{const Yr=jr(yr[Hr]),ro=Yr.map(io=>convertToKey(io?.name)).join("|");return jsxRuntimeExports.jsxs("div",{className:"trust-group",children:[Sr&&jsxRuntimeExports.jsxs("h3",{className:"trust-header",children:["  uy tn ",Hr]}),jsxRuntimeExports.jsxs("div",{className:"group-actions",children:[jsxRuntimeExports.jsx("button",{className:"pill-btn",onClick:()=>cr(`/so-sanh-nha-vang?data=${ro}`),children:"Biu  so snh gi lch s"}),jsxRuntimeExports.jsxs(Link,{to:`${qr}${Hr}`,className:"pill-btn",children:["Biu  so snh gi ",nr.type==="gold"?"vng":"bc"," hin ti"]})]}),jsxRuntimeExports.jsx("div",{className:`price-grid ${nr.region==="international"?"grid-international":""}`,children:Yr.map((io,fo)=>jsxRuntimeExports.jsx(PriceTable,{vendorData:io,isInternational:nr.region==="international",exchangeRateUSD:lr},`${io.name}-${fo}`))})]},Hr)})]})]})});GoldPriceDashboard.displayName="GoldPriceDashboard";function distanceInKm(tr,Hn,er,nr){const rr=(er-tr)*Math.PI/180,sr=(nr-Hn)*Math.PI/180,ar=Math.sin(rr/2)*Math.sin(rr/2)+Math.cos(tr*Math.PI/180)*Math.cos(er*Math.PI/180)*Math.sin(sr/2)*Math.sin(sr/2),or=2*Math.atan2(Math.sqrt(ar),Math.sqrt(1-ar));return parseInt(6371*or)}const addDistanceStoresWithinRadius=(tr,Hn,er)=>tr.map(nr=>{if(!nr.maps||nr.maps.length===0)return{...nr,distance:0};const ir=nr.maps.map(rr=>distanceInKm(Hn,er,rr.lat,rr.long)).filter(rr=>!isNaN(rr));return ir.length===0?{...nr,distance:0}:{...nr,distance:Math.min(...ir)}});Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend);const formatDateTime$3=tr=>{if(tr==null)return"";try{const Hn=String(tr).trim().replace(" ","T"),er=new Date(Hn);return isNaN(er)?String(tr):er.toLocaleString("vi-VN")}catch{return String(tr)}},formatVND$1=tr=>Math.round(tr).toLocaleString("vi-VN")+" ",sortWeeksAsc=(tr=[])=>{if(!Array.isArray(tr))return[];const Hn=er=>{if(!er)return 0;const nr=er?.dautuan?.datetime||er?.date||er?.datetime||er?.timestamp||er?.id_time||er?.thoigian||er?.cuoituan?.datetime;if(!nr)return 0;const ir=String(nr).split(" ")[0],rr=new Date(ir.replace(" ","T"));return isNaN(rr)?0:rr.getTime()};return tr.slice().map(er=>({wk:er,ts:Hn(er)})).sort((er,nr)=>er.ts-nr.ts).map(er=>er.wk)},renderTable=(tr,Hn,er=[],nr=!1,ir=()=>"",rr=()=>"",sr=()=>[],ar=()=>{},or=()=>{},lr=()=>{},cr=()=>{},ur=()=>{},dr=null,fr=()=>{})=>{if(!Array.isArray(er)||er.length===0)return null;const gr=dr?er.filter(yr=>(yr?.name_server||yr?.name)===(dr?.name_server||dr?.name)):er;return jsxRuntimeExports.jsxs("div",{className:"analysis-block",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h2",{className:`analysis-title-${Hn==="gold"?"gold":"silver"}`,children:tr}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{className:`filter-btn ${nr?"active":""}`,onClick:()=>cr(),"aria-label":`Xem d liu ${nr?"thu gn":"xem thm"}`,style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:nr?"Thu gn":"Xem thm"}),jsxRuntimeExports.jsx("button",{className:"filter-btn",onClick:()=>fr(),style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:" Biu "})]})]}),jsxRuntimeExports.jsxs("table",{className:"analysis-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Nh vng"}),jsxRuntimeExports.jsx("th",{children:"Gi mua"}),jsxRuntimeExports.jsx("th",{children:"Gi bn"}),jsxRuntimeExports.jsx("th",{children:"Li nhun"}),jsxRuntimeExports.jsx("th",{children:"T l (%)"})]})}),jsxRuntimeExports.jsx("tbody",{children:gr.filter(yr=>typeof yr.loinhuan=="number"&&typeof yr.tilephantram_all=="number").map((yr,vr)=>{const jr=nr?sr(yr):[];return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{"data-vendor":yr?.name_server||yr?.name,title:`Ngy mua u: ${formatDateTime$3(yr?.cuoi?.datetime)}
Ngy mua cui: ${formatDateTime$3(yr?.dau?.datetime)}`,children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{style:{fontSize:"13px",cursor:"pointer"},onClick:()=>ur(yr),role:"button",tabIndex:0,children:yr.name_server}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",fontSize:"13px"},children:(()=>{const Sr=new Date(String(yr?.dau?.datetime||"").replace(" ","T")),Tr=new Date(String(yr?.cuoi?.datetime||"").replace(" ","T")),Lr=Sr<Tr?Sr:Tr,Mr=Sr<Tr?Tr:Sr;return`${Lr.toLocaleDateString("vi-VN")} - ${Mr.toLocaleDateString("vi-VN")}`})()})]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"14px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),jsxRuntimeExports.jsx("small",{children:(()=>{const Sr=yr?.cuoi?.buy||yr?.cuoi?.gia||yr?.cuoi?.price;return Sr?formatVND$1(Sr):""})()})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),jsxRuntimeExports.jsx("small",{children:(()=>{const Sr=yr?.dau?.buy||yr?.dau?.gia||yr?.dau?.price;return Sr?formatVND$1(Sr):""})()})]})]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"14px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),jsxRuntimeExports.jsx("small",{children:(()=>{const Sr=yr?.cuoi?.sell||yr?.cuoi?.gia_ban||yr?.cuoi?.price_sell;return Sr?formatVND$1(Sr):""})()})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),jsxRuntimeExports.jsx("small",{children:(()=>{const Sr=yr?.dau?.sell||yr?.dau?.gia_ban||yr?.dau?.price_sell;return Sr?formatVND$1(Sr):""})()})]})]})}),jsxRuntimeExports.jsx("td",{className:yr.loinhuan>=0?"text-up":"text-down",children:formatVND$1(yr.loinhuan)}),jsxRuntimeExports.jsxs("td",{className:yr.tilephantram_all>=0?"text-up":"text-down",children:[yr.tilephantram_all.toFixed(2),"%"]})]}),nr&&jr.length>0&&sortWeeksAsc(jr).map((Sr,Tr)=>{const Lr=ar(Sr,Tr),Mr=ir(Sr),Nr=rr(Sr),Or=or(Sr),Fr=lr(Sr);return jsxRuntimeExports.jsxs("tr",{style:{backgroundColor:"rgba(255,255,255,0.05)"},children:[jsxRuntimeExports.jsxs("td",{style:{fontSize:"13px",color:"var(--muted)"},children:[jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Lr.label}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Lr.range})]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"13.5px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u tun:"}),jsxRuntimeExports.jsx("small",{children:Mr})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui tun:"}),jsxRuntimeExports.jsx("small",{children:Nr})]})]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"13.5px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u tun:"}),jsxRuntimeExports.jsx("small",{children:(()=>{if(!Sr)return"";if(Sr.dautuan){if(typeof Sr.dautuan?.sell=="number")return formatVND$1(Sr.dautuan.sell);if(typeof Sr.dautuan?.gia_ban=="number")return formatVND$1(Sr.dautuan.gia_ban);if(typeof Sr.dautuan?.price_sell=="number")return formatVND$1(Sr.dautuan.price_sell)}return typeof Sr.sell_dau=="number"?formatVND$1(Sr.sell_dau):typeof Sr.gia_ban_dau=="number"?formatVND$1(Sr.gia_ban_dau):""})()})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui tun:"}),jsxRuntimeExports.jsx("small",{children:(()=>{if(!Sr)return"";if(Sr.cuoituan){if(typeof Sr.cuoituan?.sell=="number")return formatVND$1(Sr.cuoituan.sell);if(typeof Sr.cuoituan?.gia_ban=="number")return formatVND$1(Sr.cuoituan.gia_ban);if(typeof Sr.cuoituan?.price_sell=="number")return formatVND$1(Sr.cuoituan.price_sell)}return typeof Sr.sell_cuoi=="number"?formatVND$1(Sr.sell_cuoi):typeof Sr.gia_ban_cuoi=="number"?formatVND$1(Sr.gia_ban_cuoi):""})()})]})]})}),jsxRuntimeExports.jsx("td",{className:Or.isPositive===!0?"text-up":Or.isPositive===!1?"text-down":"",children:jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Or.value})}),jsxRuntimeExports.jsx("td",{className:Fr.isPositive===!0?"text-up":Fr.isPositive===!1?"text-down":"",children:jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Fr.value})})]},`week-${Tr}`)})]},vr)})})]})]})},ComparisonChart$1=({type:tr,data:Hn,title:er})=>{if(!Array.isArray(Hn)||Hn.length===0)return jsxRuntimeExports.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{color:tr==="gold"?"#f1c40f":"#c0c0c0"},children:er}),jsxRuntimeExports.jsx("p",{children:"Khng c d liu"})]});const nr=[...Hn].sort((sr,ar)=>ar.loinhuan-sr.loinhuan),ir={labels:nr.map(sr=>sr.name_server),datasets:[{type:"bar",label:"Li nhun (VND)",data:nr.map(sr=>sr.loinhuan||0),backgroundColor:tr==="gold"?"#f1c40f":"#c0c0c0",borderColor:tr==="gold"?"#f39c12":"#95a5a6",borderWidth:1,yAxisID:"y1"},{type:"line",label:"T l (%)",data:nr.map(sr=>sr.tilephantram_all||0),borderColor:tr==="gold"?"#f39c12":"#95a5a6",backgroundColor:tr==="gold"?"rgba(241, 196, 15, 0.1)":"rgba(192, 192, 192, 0.1)",yAxisID:"y2",tension:.3,pointRadius:4,pointBackgroundColor:tr==="gold"?"#f39c12":"#95a5a6",pointBorderColor:"#fff"}]},rr={responsive:!0,maintainAspectRatio:!1,scales:{y1:{position:"left",title:{display:!0,text:"Li nhun (VND)",color:"white"},ticks:{color:"white",callback:function(sr){return Math.round(sr/1e6)+"M"}},grid:{color:"rgba(255, 255, 255, 0.1)"}},y2:{position:"right",title:{display:!0,text:"T l (%)",color:"white"},ticks:{color:"white"},grid:{display:!1},min:0,max:function(sr){return Math.max(...sr.chart.data.datasets[1].data)*1.5}},x:{ticks:{color:"#e74c3c",maxRotation:30,minRotation:30,font:{size:10},maxTicksLimit:20,callback:function(sr,ar,or){return this.getLabelForValue(sr)}},grid:{display:!1}}},plugins:{legend:{display:!0,position:"top",labels:{color:"white",font:{size:12},usePointStyle:!0}},tooltip:{mode:"index",intersect:!1,callbacks:{label:sr=>sr.dataset.label==="Li nhun (VND)"?`Li nhun: ${formatVND$1(sr.raw)}`:`T l: ${Number(sr.raw).toFixed(2)}%`}}}};return jsxRuntimeExports.jsxs("div",{style:{marginBottom:"30px"},children:[jsxRuntimeExports.jsx("h3",{style:{color:tr==="gold"?"#f1c40f":"#c0c0c0",textAlign:"center",marginBottom:"10px"},children:er}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",color:"#e74c3c",fontSize:"14px",fontWeight:"600"},children:["Khong thi gian so snh: ",(()=>{if(nr.length>0){const sr=nr[0],ar=sr?.dau?.datetime,or=sr?.cuoi?.datetime;if(ar&&or){const lr=new Date(ar),cr=new Date(or),ur=lr<cr?lr:cr,dr=lr<cr?cr:lr;return`${ur.toLocaleDateString("vi-VN")} - ${dr.toLocaleDateString("vi-VN")}`}}return"Thi gian khng xc nh"})()]}),jsxRuntimeExports.jsx("div",{style:{padding:"20px",display:"flex",justifyContent:"center",height:"400px"},children:jsxRuntimeExports.jsx(Chart,{data:ir,options:rr,plugins:[{id:"datalabels",afterDraw:sr=>{const ar=sr.ctx;ar.font="bold 11px Arial",ar.textAlign="center",ar.textBaseline="bottom",sr.data.datasets.forEach((or,lr)=>{or.type==="bar"&&sr.getDatasetMeta(lr).data.forEach((ur,dr)=>{const fr=sr.data.datasets.find(yr=>yr.type==="line"),gr=fr?fr.data[dr]:0;if(gr!==0){const yr=ur.x,vr=ur.y-6;ar.fillStyle=tr==="gold"?"#f1c40f":"#c0c0c0",ar.fillText(gr.toFixed(2)+"%",yr,vr)}})})}}]})})]})},GoldSilverSummary=()=>{const tr=["VANG ANCARAT","BAO TIN MANH HAI","KIM NGN PHC H NI","VANG BTMC","SINH DIN BC NINH","Anh Minh H Tng Mu HN","Sacombank-SBJ GOLD","VANG DOJI","VANG PNJ","BAO TIN LAN VY CU GIY HN","Mi Hong 9999","NGC THM NG THP","Ph Qu Vng"],Hn=["BAC ANCARAT","KIM NGN PHC H NI","Kim Khnh H Nam","Anh Minh H Tng Mu HN","Ph Qu Bc","Sacombank-SBJ Silver","KIM TN CAO BNG"],[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(null),[dr,fr]=reactExports.useState(!0),[gr,yr]=reactExports.useState("gold");reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/phantich_tangtruong_toanbo_vangbac").then(Jr=>Jr.json()).then(Jr=>{const uo=Jr?.data?.results;if(uo){rr(uo);const oo={vang:(uo.vang||[]).filter(co=>tr.includes(co?.name_server||co?.name)),bac:(uo.bac||[]).filter(co=>Hn.includes(co?.name_server||co?.name))};nr(oo)}else nr(null),rr(null)}).catch(()=>{nr(null),rr(null)})},[]);const vr=useLocation(),jr=useNavigate();reactExports.useEffect(()=>{const uo=new URLSearchParams(vr.search).get("chart");fr(uo===null||uo==="combined"?!0:uo!=="table")},[vr.search]);const Sr=()=>{const Jr=new URLSearchParams(vr.search);Jr.set("chart","combined"),jr(`${vr.pathname}?${Jr.toString()}`,{replace:!0}),fr(!0)},Tr=()=>{const Jr=new URLSearchParams(vr.search);Jr.set("chart","table");const uo=Jr.toString();jr(`${vr.pathname}?${uo}`,{replace:!0}),fr(!1)},[Lr,Mr]=reactExports.useState(!1),[Nr,Or]=reactExports.useState([]),[Fr,Gr]=reactExports.useState(""),qr=Jr=>{if(!Jr)return[];const uo=[Jr.cac_tuan,Jr.phan_tich_cactuan,Jr.phantich_cactuan,Jr.phan_tich?.cactuan,Jr.phantich?.cactuan,Jr.weeks,Jr.list_week,Jr.list_weeks,Jr.weekly,Jr.phantich];for(const oo of uo)if(Array.isArray(oo)&&oo.length)return oo;return[]},Hr=(Jr,uo)=>{const oo=Jr?.dautuan?.datetime,co=Jr?.cuoituan?.datetime;let no="",mo="";if(oo){const Eo=String(oo).split(" ")[0];try{const bo=new Date(Eo.replace(" ","T"));isNaN(bo)||(no=bo.toLocaleDateString("vi-VN"))}catch{}}if(co){const Eo=String(co).split(" ")[0];try{const bo=new Date(Eo.replace(" ","T"));isNaN(bo)||(mo=bo.toLocaleDateString("vi-VN"))}catch{}}return{label:jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsxs("strong",{children:["Tun ",uo+1]})}),range:`${no}-${mo}`}},Yr=Jr=>{if(!Jr)return{value:"",isPositive:null};if(typeof Jr.loinhuan=="number")return{value:formatVND$1(Jr.loinhuan),isPositive:Jr.loinhuan>=0};if(typeof Jr.loinhuan_vnd=="number")return{value:formatVND$1(Jr.loinhuan_vnd),isPositive:Jr.loinhuan_vnd>=0};if(typeof Jr.loi_nhuan=="number")return{value:formatVND$1(Jr.loi_nhuan),isPositive:Jr.loi_nhuan>=0};for(const uo of Object.keys(Jr||{}))if(uo.includes("loinhuan")&&typeof Jr[uo]=="number")return{value:formatVND$1(Jr[uo]),isPositive:Jr[uo]>=0};return{value:"",isPositive:null}},ro=Jr=>{if(!Jr)return{value:"",isPositive:null};if(typeof Jr.tilephantram_1tuan=="number")return{value:`${Jr.tilephantram_1tuan.toFixed(2)}%`,isPositive:Jr.tilephantram_1tuan>=0};if(typeof Jr.tilephantram=="number")return{value:`${Jr.tilephantram.toFixed(2)}%`,isPositive:Jr.tilephantram>=0};if(typeof Jr.ti_le_tang_truong=="number")return{value:`${Jr.ti_le_tang_truong.toFixed(2)}%`,isPositive:Jr.ti_le_tang_truong>=0};if(typeof Jr.tilephantram_all=="number")return{value:`${Jr.tilephantram_all.toFixed(2)}%`,isPositive:Jr.tilephantram_all>=0};for(const uo of Object.keys(Jr||{}))if((uo.includes("tile")||uo.includes("percent"))&&typeof Jr[uo]=="number")return{value:`${Number(Jr[uo]).toFixed(2)}%`,isPositive:Jr[uo]>=0};return{value:"",isPositive:null}},io=Jr=>{if(!Jr)return"";if(Jr.dautuan){if(typeof Jr.dautuan?.buy=="number")return formatVND$1(Jr.dautuan.buy);if(typeof Jr.dautuan?.gia=="number")return formatVND$1(Jr.dautuan.gia);if(typeof Jr.dautuan?.price=="number")return formatVND$1(Jr.dautuan.price);if(typeof Jr.dautuan?.gia_mua=="number")return formatVND$1(Jr.dautuan.gia_mua)}if(typeof Jr.gia_dau=="number")return formatVND$1(Jr.gia_dau);if(typeof Jr.gia_dau_tuan=="number")return formatVND$1(Jr.gia_dau_tuan);if(typeof Jr.open_price=="number")return formatVND$1(Jr.open_price);for(const uo of Object.keys(Jr||{}))if((uo.includes("gia_dau")||uo.includes("open"))&&typeof Jr[uo]=="number")return formatVND$1(Jr[uo]);return""},fo=Jr=>{if(!Jr)return"";if(Jr.cuoituan){if(typeof Jr.cuoituan?.buy=="number")return formatVND$1(Jr.cuoituan.buy);if(typeof Jr.cuoituan?.gia=="number")return formatVND$1(Jr.cuoituan.gia);if(typeof Jr.cuoituan?.price=="number")return formatVND$1(Jr.cuoituan.price);if(typeof Jr.cuoituan?.gia_mua=="number")return formatVND$1(Jr.cuoituan.gia_mua)}if(typeof Jr.gia_cuoi=="number")return formatVND$1(Jr.gia_cuoi);if(typeof Jr.gia_cuoi_tuan=="number")return formatVND$1(Jr.gia_cuoi_tuan);if(typeof Jr.close_price=="number")return formatVND$1(Jr.close_price);for(const uo of Object.keys(Jr||{}))if((uo.includes("gia_cuoi")||uo.includes("close"))&&typeof Jr[uo]=="number")return formatVND$1(Jr[uo]);return""},ao=Jr=>{ur(Jr)};if(reactExports.useEffect(()=>{const uo=new URLSearchParams(vr.search).get("vendor");if(uo&&er){const co=(er.vang||[]).concat(er.bac||[]).find(no=>(no?.name_server||no?.name)===uo);if(co){let no=qr(co)||[];no=no.sort((mo,Eo)=>{const bo=new Date(String(mo?.dautuan?.datetime||mo?.date||"").replace(" ","T")),Po=new Date(String(Eo?.dautuan?.datetime||Eo?.date||"").replace(" ","T"));return bo-Po}),Gr(co?.name_server||co?.name||""),Or(no),Mr(!0)}}},[vr.search,er]),reactExports.useEffect(()=>{if(!Lr){const Jr=new URLSearchParams(vr.search);if(Jr.has("vendor")){Jr.delete("vendor");const uo=Jr.toString();jr(`${vr.pathname}${uo?`?${uo}`:""}`,{replace:!0})}}},[Lr]),!er)return jsxRuntimeExports.jsx("p",{children:" ang ti..."});if(cr){const Jr=cr,uo=qr(Jr)||[];return jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:()=>ur(null),children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"var(--bg-secondary)",borderRadius:"8px",padding:"20px",maxHeight:"90vh",overflowY:"auto",maxWidth:"900px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},onClick:oo=>oo.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0},children:Jr?.name_server||Jr?.name}),jsxRuntimeExports.jsx("button",{onClick:()=>ur(null),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),jsxRuntimeExports.jsxs("table",{className:"analysis-table",style:{width:"100%"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Tun"}),jsxRuntimeExports.jsx("th",{children:"Gi mua"}),jsxRuntimeExports.jsx("th",{children:"Gi bn"}),jsxRuntimeExports.jsx("th",{children:"Li nhun"}),jsxRuntimeExports.jsx("th",{children:"T l (%)"})]})}),jsxRuntimeExports.jsx("tbody",{children:sortWeeksAsc(uo).map((oo,co)=>{const no=Hr(oo,co),mo=io(oo),Eo=fo(oo),bo=Yr(oo),Po=ro(oo);return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{style:{fontSize:"13px",color:"var(--muted)"},children:[jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:no.label}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:no.range})]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"13.5px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),jsxRuntimeExports.jsx("small",{children:mo})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),jsxRuntimeExports.jsx("small",{children:Eo})]})]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{fontSize:"13.5px"},children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px"},children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),jsxRuntimeExports.jsx("small",{children:(()=>{if(!oo)return"";if(oo.dautuan){if(typeof oo.dautuan?.sell=="number")return formatVND$1(oo.dautuan.sell);if(typeof oo.dautuan?.gia_ban=="number")return formatVND$1(oo.dautuan.gia_ban);if(typeof oo.dautuan?.price_sell=="number")return formatVND$1(oo.dautuan.price_sell)}return typeof oo.sell_dau=="number"?formatVND$1(oo.sell_dau):typeof oo.gia_ban_dau=="number"?formatVND$1(oo.gia_ban_dau):""})()})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),jsxRuntimeExports.jsx("small",{children:(()=>{if(!oo)return"";if(oo.cuoituan){if(typeof oo.cuoituan?.sell=="number")return formatVND$1(oo.cuoituan.sell);if(typeof oo.cuoituan?.gia_ban=="number")return formatVND$1(oo.cuoituan.gia_ban);if(typeof oo.cuoituan?.price_sell=="number")return formatVND$1(oo.cuoituan.price_sell)}return typeof oo.sell_cuoi=="number"?formatVND$1(oo.sell_cuoi):typeof oo.gia_ban_cuoi=="number"?formatVND$1(oo.gia_ban_cuoi):""})()})]})]})}),jsxRuntimeExports.jsx("td",{className:bo.isPositive===!0?"text-up":bo.isPositive===!1?"text-down":"",children:jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:bo.value})}),jsxRuntimeExports.jsx("td",{className:Po.isPositive===!0?"text-up":Po.isPositive===!1?"text-down":"",children:jsxRuntimeExports.jsx("small",{style:{fontSize:"13px"},children:Po.value})})]},`week-${co}`)})})]})]})})}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:dr?jsxRuntimeExports.jsxs("div",{className:"analysis-block",children:[jsxRuntimeExports.jsx("div",{style:{backgroundColor:"rgba(241, 196, 15, 0.1)",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid rgba(241, 196, 15, 0.3)"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{color:"#f1c40f",margin:"0 0 5px 0",fontSize:"16px",fontWeight:"bold"},children:" TOOL PHN TCH GI VNG - BC - T GI"}),jsxRuntimeExports.jsxs("p",{style:{color:"#94a3b8",margin:0,fontSize:"13px"},children:["Cp nht ln cui: ",(()=>{if(er?.vang&&er.vang.length>0){const Jr=er.vang[0],uo=Jr?.cuoi?.datetime||Jr?.dau?.datetime;if(uo)return new Date(uo).toLocaleString("vi-VN")}if(er?.bac&&er.bac.length>0){const Jr=er.bac[0],uo=Jr?.cuoi?.datetime||Jr?.dau?.datetime;if(uo)return new Date(uo).toLocaleString("vi-VN")}return new Date().toLocaleString("vi-VN")})()]})]}),jsxRuntimeExports.jsx("div",{style:{color:"#e74c3c",fontSize:"12px",fontStyle:"italic",textAlign:"right"},children:"Thi gian update cui cng hin th  y"})]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{className:"analysis-title-gold",children:" Biu  Phn tch Tng trng"}),jsxRuntimeExports.jsx("button",{className:"filter-btn active",onClick:()=>Tr(),style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:" Xem bng"})]}),jsxRuntimeExports.jsx(ComparisonChart$1,{type:"gold",data:er?.vang,title:" Biu  Tng trng Vng"}),jsxRuntimeExports.jsx(ComparisonChart$1,{type:"silver",data:er?.bac,title:" Biu  Tng trng Bc"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[renderTable(" Phn tch tng trng ca Vng ca cc nh vng","gold",sr?ir?.vang:er?.vang,sr,io,fo,qr,Hr,Yr,ro,()=>{ar(!sr)},ao,cr,()=>{Sr()}),renderTable(" Phn tch tng trng ca Bc ca cc nh vng","silver",or?ir?.bac:er?.bac,or,io,fo,qr,Hr,Yr,ro,()=>{lr(!or)},ao,cr,()=>{Sr()})]})})},getSymbolName=tr=>({"FX_IDC:XAUUSD":"Vng Th gii (XAU/USD)","OANDA:XAUXAG":"T l Vng/Bc (XAU/XAG)","FX_IDC:XAGUSD":"Bc Th gii (XAG/USD)","TICKMILL:DXY":"Dollar Index (DXY)"})[tr]||tr,FullScreenChart=({symbol:tr})=>{const Hn=buildFullScreenEmbedUrl(tr);return jsxRuntimeExports.jsx("div",{className:"fullscreen-chart-container",style:{height:"100%",width:"100%"},children:jsxRuntimeExports.jsx("iframe",{src:Hn,frameBorder:"0",allow:"transparency; fullscreen",allowFullScreen:!0,className:"tradingview-fullscreen-iframe",title:getSymbolName(tr),style:{width:"100%",height:"100%"}})})},buildFullScreenEmbedUrl=tr=>{const Hn="https://www.tradingview-widget.com/embed-widget/advanced-chart/";let er="5",nr=!1,ir=!1;tr==="TICKMILL:DXY"&&(er="60",nr=!0,ir=!1),tr==="FX_IDC:XAUUSD"&&(er="5",nr=!1);const sr=JSON.stringify({width:"100%",height:"100%",symbol:tr,interval:er,timezone:"Asia/Ho_Chi_Minh",theme:"dark",style:"1",backgroundColor:"rgba(26, 26, 26, 1)",withdateranges:!0,hide_side_toolbar:!1,hide_top_toolbar:!1,hide_legend:ir,hide_volume:nr,allow_symbol_change:!0,details:!0,hotlist:tr!=="TICKMILL:DXY",show_popup_button:!0,save_image:!0,autosize:!0,support_host:"https://www.tradingview.com",utm_source:tr==="TICKMILL:DXY"?"vangsaigon.vn":"giavang.org",utm_medium:tr==="TICKMILL:DXY"?"widget":"widget_new",utm_campaign:"advanced-chart","page-uri":tr==="TICKMILL:DXY"?"vangsaigon.vn/":"giavang.org/the-gioi/",locale:"vi_VN"}),ar=encodeURIComponent(sr);return`${Hn}?locale=vi_VN#${ar}`},MiniTradingViewChart=({symbol:tr,onClick:Hn})=>{const er=buildEmbedUrl(tr,!0);return jsxRuntimeExports.jsxs("div",{className:"mini-tradingview-chart",onClick:()=>Hn&&Hn(tr),children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:getSymbolName(tr)}),jsxRuntimeExports.jsx("span",{className:"zoom-hint",children:"Click  phng to"})]}),jsxRuntimeExports.jsx("div",{className:"chart-container",style:{width:"100%"},children:jsxRuntimeExports.jsx("iframe",{src:er,frameBorder:"0",allow:"transparency; fullscreen",allowFullScreen:!0,className:"tradingview-iframe",title:getSymbolName(tr),style:{width:"100%",height:"100%",pointerEvents:"none"}})})]})},buildEmbedUrl=(tr,Hn=!1)=>{const er="https://www.tradingview-widget.com/embed-widget/advanced-chart/";let nr="5",ir=!1,rr=!1;tr==="TICKMILL:DXY"&&(nr="5",ir=!0,rr=!1),tr==="FX_IDC:XAUUSD"&&(nr="5",ir=!1);const ar=JSON.stringify({width:"100%",height:"100%",symbol:tr,interval:nr,timezone:"Asia/Ho_Chi_Minh",theme:"dark",style:"1",backgroundColor:"rgba(26, 26, 26, 1)",withdateranges:!0,hide_side_toolbar:Hn,hide_top_toolbar:!1,hide_legend:rr,hide_volume:ir,allow_symbol_change:!Hn,details:!Hn,hotlist:!Hn,show_popup_button:!Hn,save_image:!0,autosize:!0,support_host:"https://www.tradingview.com",utm_source:tr==="TICKMILL:DXY"?"vangsaigon.vn":"giavang.org",utm_medium:tr==="TICKMILL:DXY"?"widget":"widget_new",utm_campaign:"advanced-chart","page-uri":tr==="TICKMILL:DXY"?"vangsaigon.vn/":"giavang.org/the-gioi/",locale:"vi_VN"}),or=encodeURIComponent(ar);return`${er}?locale=vi_VN#${or}`};function r$2(tr){var Hn,er,nr="";if(typeof tr=="string"||typeof tr=="number")nr+=tr;else if(typeof tr=="object")if(Array.isArray(tr)){var ir=tr.length;for(Hn=0;Hn<ir;Hn++)tr[Hn]&&(er=r$2(tr[Hn]))&&(nr&&(nr+=" "),nr+=er)}else for(er in tr)tr[er]&&(nr&&(nr+=" "),nr+=er);return nr}function clsx(){for(var tr,Hn,er=0,nr="",ir=arguments.length;er<ir;er++)(tr=arguments[er])&&(Hn=r$2(tr))&&(nr&&(nr+=" "),nr+=Hn);return nr}var EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(tr){if(typeof tr!="string")return!1;var Hn=EventKeys;return Hn.includes(tr)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SVGElementPropKeySet=new Set(SVGElementPropKeys);function isSvgElementPropKey(tr){return typeof tr!="string"?!1:SVGElementPropKeySet.has(tr)}function isDataAttribute(tr){return typeof tr=="string"&&tr.startsWith("data-")}function svgPropertiesNoEvents(tr){if(typeof tr!="object"||tr===null)return{};var Hn={};for(var er in tr)Object.prototype.hasOwnProperty.call(tr,er)&&(isSvgElementPropKey(er)||isDataAttribute(er))&&(Hn[er]=tr[er]);return Hn}function svgPropertiesNoEventsFromUnknown(tr){if(tr==null)return null;if(reactExports.isValidElement(tr)&&typeof tr.props=="object"&&tr.props!==null){var Hn=tr.props;return svgPropertiesNoEvents(Hn)}return typeof tr=="object"&&!Array.isArray(tr)?svgPropertiesNoEvents(tr):null}function svgPropertiesAndEvents(tr){var Hn={};for(var er in tr)Object.prototype.hasOwnProperty.call(tr,er)&&(isSvgElementPropKey(er)||isDataAttribute(er)||isEventKey(er))&&(Hn[er]=tr[er]);return Hn}var _excluded$m=["children","width","height","viewBox","className","style","title","desc"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$q.apply(null,arguments)}function _objectWithoutProperties$l(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$m(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$m(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var Surface=reactExports.forwardRef((tr,Hn)=>{var{children:er,width:nr,height:ir,viewBox:rr,className:sr,style:ar,title:or,desc:lr}=tr,cr=_objectWithoutProperties$l(tr,_excluded$m),ur=rr||{width:nr,height:ir,x:0,y:0},dr=clsx("recharts-surface",sr);return reactExports.createElement("svg",_extends$q({},svgPropertiesAndEvents(cr),{className:dr,width:nr,height:ir,style:ar,viewBox:"".concat(ur.x," ").concat(ur.y," ").concat(ur.width," ").concat(ur.height),ref:Hn}),reactExports.createElement("title",null,or),reactExports.createElement("desc",null,lr),er)}),_excluded$l=["children","className"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$p.apply(null,arguments)}function _objectWithoutProperties$k(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$l(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$l(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var Layer=reactExports.forwardRef((tr,Hn)=>{var{children:er,className:nr}=tr,ir=_objectWithoutProperties$k(tr,_excluded$l),rr=clsx("recharts-layer",nr);return reactExports.createElement("g",_extends$p({className:rr},svgPropertiesAndEvents(ir),{ref:Hn}),er)}),LegendPortalContext=reactExports.createContext(null);function constant$1(tr){return function(){return tr}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$3=Math.PI,tau$1=2*pi$3,pi$2=Math.PI,tau=2*pi$2,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(tr){this._+=tr[0];for(let Hn=1,er=tr.length;Hn<er;++Hn)this._+=arguments[Hn]+tr[Hn]}function appendRound(tr){let Hn=Math.floor(tr);if(!(Hn>=0))throw new Error(`invalid digits: ${tr}`);if(Hn>15)return append;const er=10**Hn;return function(nr){this._+=nr[0];for(let ir=1,rr=nr.length;ir<rr;++ir)this._+=Math.round(arguments[ir]*er)/er+nr[ir]}}let Path$1=class{constructor(Hn){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=Hn==null?append:appendRound(Hn)}moveTo(Hn,er){this._append`M${this._x0=this._x1=+Hn},${this._y0=this._y1=+er}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(Hn,er){this._append`L${this._x1=+Hn},${this._y1=+er}`}quadraticCurveTo(Hn,er,nr,ir){this._append`Q${+Hn},${+er},${this._x1=+nr},${this._y1=+ir}`}bezierCurveTo(Hn,er,nr,ir,rr,sr){this._append`C${+Hn},${+er},${+nr},${+ir},${this._x1=+rr},${this._y1=+sr}`}arcTo(Hn,er,nr,ir,rr){if(Hn=+Hn,er=+er,nr=+nr,ir=+ir,rr=+rr,rr<0)throw new Error(`negative radius: ${rr}`);let sr=this._x1,ar=this._y1,or=nr-Hn,lr=ir-er,cr=sr-Hn,ur=ar-er,dr=cr*cr+ur*ur;if(this._x1===null)this._append`M${this._x1=Hn},${this._y1=er}`;else if(dr>epsilon)if(!(Math.abs(ur*or-lr*cr)>epsilon)||!rr)this._append`L${this._x1=Hn},${this._y1=er}`;else{let fr=nr-sr,gr=ir-ar,yr=or*or+lr*lr,vr=fr*fr+gr*gr,jr=Math.sqrt(yr),Sr=Math.sqrt(dr),Tr=rr*Math.tan((pi$2-Math.acos((yr+dr-vr)/(2*jr*Sr)))/2),Lr=Tr/Sr,Mr=Tr/jr;Math.abs(Lr-1)>epsilon&&this._append`L${Hn+Lr*cr},${er+Lr*ur}`,this._append`A${rr},${rr},0,0,${+(ur*fr>cr*gr)},${this._x1=Hn+Mr*or},${this._y1=er+Mr*lr}`}}arc(Hn,er,nr,ir,rr,sr){if(Hn=+Hn,er=+er,nr=+nr,sr=!!sr,nr<0)throw new Error(`negative radius: ${nr}`);let ar=nr*Math.cos(ir),or=nr*Math.sin(ir),lr=Hn+ar,cr=er+or,ur=1^sr,dr=sr?ir-rr:rr-ir;this._x1===null?this._append`M${lr},${cr}`:(Math.abs(this._x1-lr)>epsilon||Math.abs(this._y1-cr)>epsilon)&&this._append`L${lr},${cr}`,nr&&(dr<0&&(dr=dr%tau+tau),dr>tauEpsilon?this._append`A${nr},${nr},0,1,${ur},${Hn-ar},${er-or}A${nr},${nr},0,1,${ur},${this._x1=lr},${this._y1=cr}`:dr>epsilon&&this._append`A${nr},${nr},0,${+(dr>=pi$2)},${ur},${this._x1=Hn+nr*Math.cos(rr)},${this._y1=er+nr*Math.sin(rr)}`)}rect(Hn,er,nr,ir){this._append`M${this._x0=this._x1=+Hn},${this._y0=this._y1=+er}h${nr=+nr}v${+ir}h${-nr}Z`}toString(){return this._}};function withPath(tr){let Hn=3;return tr.digits=function(er){if(!arguments.length)return Hn;if(er==null)Hn=null;else{const nr=Math.floor(er);if(!(nr>=0))throw new RangeError(`invalid digits: ${er}`);Hn=nr}return tr},()=>new Path$1(Hn)}function array(tr){return typeof tr=="object"&&"length"in tr?tr:Array.from(tr)}function Linear(tr){this._context=tr}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,Hn):this._context.moveTo(tr,Hn);break;case 1:this._point=2;default:this._context.lineTo(tr,Hn);break}}};function curveLinear(tr){return new Linear(tr)}function x$3(tr){return tr[0]}function y$4(tr){return tr[1]}function shapeLine(tr,Hn){var er=constant$1(!0),nr=null,ir=curveLinear,rr=null,sr=withPath(ar);tr=typeof tr=="function"?tr:tr===void 0?x$3:constant$1(tr),Hn=typeof Hn=="function"?Hn:Hn===void 0?y$4:constant$1(Hn);function ar(or){var lr,cr=(or=array(or)).length,ur,dr=!1,fr;for(nr==null&&(rr=ir(fr=sr())),lr=0;lr<=cr;++lr)!(lr<cr&&er(ur=or[lr],lr,or))===dr&&((dr=!dr)?rr.lineStart():rr.lineEnd()),dr&&rr.point(+tr(ur,lr,or),+Hn(ur,lr,or));if(fr)return rr=null,fr+""||null}return ar.x=function(or){return arguments.length?(tr=typeof or=="function"?or:constant$1(+or),ar):tr},ar.y=function(or){return arguments.length?(Hn=typeof or=="function"?or:constant$1(+or),ar):Hn},ar.defined=function(or){return arguments.length?(er=typeof or=="function"?or:constant$1(!!or),ar):er},ar.curve=function(or){return arguments.length?(ir=or,nr!=null&&(rr=ir(nr)),ar):ir},ar.context=function(or){return arguments.length?(or==null?nr=rr=null:rr=ir(nr=or),ar):nr},ar}function shapeArea(tr,Hn,er){var nr=null,ir=constant$1(!0),rr=null,sr=curveLinear,ar=null,or=withPath(lr);tr=typeof tr=="function"?tr:tr===void 0?x$3:constant$1(+tr),Hn=typeof Hn=="function"?Hn:constant$1(Hn===void 0?0:+Hn),er=typeof er=="function"?er:er===void 0?y$4:constant$1(+er);function lr(ur){var dr,fr,gr,yr=(ur=array(ur)).length,vr,jr=!1,Sr,Tr=new Array(yr),Lr=new Array(yr);for(rr==null&&(ar=sr(Sr=or())),dr=0;dr<=yr;++dr){if(!(dr<yr&&ir(vr=ur[dr],dr,ur))===jr)if(jr=!jr)fr=dr,ar.areaStart(),ar.lineStart();else{for(ar.lineEnd(),ar.lineStart(),gr=dr-1;gr>=fr;--gr)ar.point(Tr[gr],Lr[gr]);ar.lineEnd(),ar.areaEnd()}jr&&(Tr[dr]=+tr(vr,dr,ur),Lr[dr]=+Hn(vr,dr,ur),ar.point(nr?+nr(vr,dr,ur):Tr[dr],er?+er(vr,dr,ur):Lr[dr]))}if(Sr)return ar=null,Sr+""||null}function cr(){return shapeLine().defined(ir).curve(sr).context(rr)}return lr.x=function(ur){return arguments.length?(tr=typeof ur=="function"?ur:constant$1(+ur),nr=null,lr):tr},lr.x0=function(ur){return arguments.length?(tr=typeof ur=="function"?ur:constant$1(+ur),lr):tr},lr.x1=function(ur){return arguments.length?(nr=ur==null?null:typeof ur=="function"?ur:constant$1(+ur),lr):nr},lr.y=function(ur){return arguments.length?(Hn=typeof ur=="function"?ur:constant$1(+ur),er=null,lr):Hn},lr.y0=function(ur){return arguments.length?(Hn=typeof ur=="function"?ur:constant$1(+ur),lr):Hn},lr.y1=function(ur){return arguments.length?(er=ur==null?null:typeof ur=="function"?ur:constant$1(+ur),lr):er},lr.lineX0=lr.lineY0=function(){return cr().x(tr).y(Hn)},lr.lineY1=function(){return cr().x(tr).y(er)},lr.lineX1=function(){return cr().x(nr).y(Hn)},lr.defined=function(ur){return arguments.length?(ir=typeof ur=="function"?ur:constant$1(!!ur),lr):ir},lr.curve=function(ur){return arguments.length?(sr=ur,rr!=null&&(ar=sr(rr)),lr):sr},lr.context=function(ur){return arguments.length?(ur==null?rr=ar=null:ar=sr(rr=ur),lr):rr},lr}class Bump{constructor(Hn,er){this._context=Hn,this._x=er}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(Hn,er){switch(Hn=+Hn,er=+er,this._point){case 0:{this._point=1,this._line?this._context.lineTo(Hn,er):this._context.moveTo(Hn,er);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+Hn)/2,this._y0,this._x0,er,Hn,er):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+er)/2,Hn,this._y0,Hn,er);break}}this._x0=Hn,this._y0=er}}function bumpX(tr){return new Bump(tr,!0)}function bumpY(tr){return new Bump(tr,!1)}const symbolCircle={draw(tr,Hn){const er=sqrt$1(Hn/pi$3);tr.moveTo(er,0),tr.arc(0,0,er,0,tau$1)}},symbolCross={draw(tr,Hn){const er=sqrt$1(Hn/5)/2;tr.moveTo(-3*er,-er),tr.lineTo(-er,-er),tr.lineTo(-er,-3*er),tr.lineTo(er,-3*er),tr.lineTo(er,-er),tr.lineTo(3*er,-er),tr.lineTo(3*er,er),tr.lineTo(er,er),tr.lineTo(er,3*er),tr.lineTo(-er,3*er),tr.lineTo(-er,er),tr.lineTo(-3*er,er),tr.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(tr,Hn){const er=sqrt$1(Hn/tan30_2),nr=er*tan30;tr.moveTo(0,-er),tr.lineTo(nr,0),tr.lineTo(0,er),tr.lineTo(-nr,0),tr.closePath()}},symbolSquare={draw(tr,Hn){const er=sqrt$1(Hn),nr=-er/2;tr.rect(nr,nr,er,er)}},ka$1=.8908130915292852,kr=sin(pi$3/10)/sin(7*pi$3/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(tr,Hn){const er=sqrt$1(Hn*ka$1),nr=kx*er,ir=ky*er;tr.moveTo(0,-er),tr.lineTo(nr,ir);for(let rr=1;rr<5;++rr){const sr=tau$1*rr/5,ar=cos(sr),or=sin(sr);tr.lineTo(or*er,-ar*er),tr.lineTo(ar*nr-or*ir,or*nr+ar*ir)}tr.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(tr,Hn){const er=-sqrt$1(Hn/(sqrt3*3));tr.moveTo(0,er*2),tr.lineTo(-sqrt3*er,-er),tr.lineTo(sqrt3*er,-er),tr.closePath()}},c$3=-.5,s$2=sqrt$1(3)/2,k$3=1/sqrt$1(12),a$3=(k$3/2+1)*3,symbolWye={draw(tr,Hn){const er=sqrt$1(Hn/a$3),nr=er/2,ir=er*k$3,rr=nr,sr=er*k$3+er,ar=-rr,or=sr;tr.moveTo(nr,ir),tr.lineTo(rr,sr),tr.lineTo(ar,or),tr.lineTo(c$3*nr-s$2*ir,s$2*nr+c$3*ir),tr.lineTo(c$3*rr-s$2*sr,s$2*rr+c$3*sr),tr.lineTo(c$3*ar-s$2*or,s$2*ar+c$3*or),tr.lineTo(c$3*nr+s$2*ir,c$3*ir-s$2*nr),tr.lineTo(c$3*rr+s$2*sr,c$3*sr-s$2*rr),tr.lineTo(c$3*ar+s$2*or,c$3*or-s$2*ar),tr.closePath()}};function Symbol$1(tr,Hn){let er=null,nr=withPath(ir);tr=typeof tr=="function"?tr:constant$1(tr||symbolCircle),Hn=typeof Hn=="function"?Hn:constant$1(Hn===void 0?64:+Hn);function ir(){let rr;if(er||(er=rr=nr()),tr.apply(this,arguments).draw(er,+Hn.apply(this,arguments)),rr)return er=null,rr+""||null}return ir.type=function(rr){return arguments.length?(tr=typeof rr=="function"?rr:constant$1(rr),ir):tr},ir.size=function(rr){return arguments.length?(Hn=typeof rr=="function"?rr:constant$1(+rr),ir):Hn},ir.context=function(rr){return arguments.length?(er=rr??null,ir):er},ir}function noop$3(){}function point$2(tr,Hn,er){tr._context.bezierCurveTo((2*tr._x0+tr._x1)/3,(2*tr._y0+tr._y1)/3,(tr._x0+2*tr._x1)/3,(tr._y0+2*tr._y1)/3,(tr._x0+4*tr._x1+Hn)/6,(tr._y0+4*tr._y1+er)/6)}function Basis(tr){this._context=tr}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,Hn):this._context.moveTo(tr,Hn);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,tr,Hn);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=Hn}};function curveBasis(tr){return new Basis(tr)}function BasisClosed(tr){this._context=tr}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1,this._x2=tr,this._y2=Hn;break;case 1:this._point=2,this._x3=tr,this._y3=Hn;break;case 2:this._point=3,this._x4=tr,this._y4=Hn,this._context.moveTo((this._x0+4*this._x1+tr)/6,(this._y0+4*this._y1+Hn)/6);break;default:point$2(this,tr,Hn);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=Hn}};function curveBasisClosed(tr){return new BasisClosed(tr)}function BasisOpen(tr){this._context=tr}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var er=(this._x0+4*this._x1+tr)/6,nr=(this._y0+4*this._y1+Hn)/6;this._line?this._context.lineTo(er,nr):this._context.moveTo(er,nr);break;case 3:this._point=4;default:point$2(this,tr,Hn);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=Hn}};function curveBasisOpen(tr){return new BasisOpen(tr)}function LinearClosed(tr){this._context=tr}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(tr,Hn){tr=+tr,Hn=+Hn,this._point?this._context.lineTo(tr,Hn):(this._point=1,this._context.moveTo(tr,Hn))}};function curveLinearClosed(tr){return new LinearClosed(tr)}function sign(tr){return tr<0?-1:1}function slope3(tr,Hn,er){var nr=tr._x1-tr._x0,ir=Hn-tr._x1,rr=(tr._y1-tr._y0)/(nr||ir<0&&-0),sr=(er-tr._y1)/(ir||nr<0&&-0),ar=(rr*ir+sr*nr)/(nr+ir);return(sign(rr)+sign(sr))*Math.min(Math.abs(rr),Math.abs(sr),.5*Math.abs(ar))||0}function slope2(tr,Hn){var er=tr._x1-tr._x0;return er?(3*(tr._y1-tr._y0)/er-Hn)/2:Hn}function point$1(tr,Hn,er){var nr=tr._x0,ir=tr._y0,rr=tr._x1,sr=tr._y1,ar=(rr-nr)/3;tr._context.bezierCurveTo(nr+ar,ir+ar*Hn,rr-ar,sr-ar*er,rr,sr)}function MonotoneX(tr){this._context=tr}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,Hn){var er=NaN;if(tr=+tr,Hn=+Hn,!(tr===this._x1&&Hn===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,Hn):this._context.moveTo(tr,Hn);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,er=slope3(this,tr,Hn)),er);break;default:point$1(this,this._t0,er=slope3(this,tr,Hn));break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=Hn,this._t0=er}}};function MonotoneY(tr){this._context=new ReflectContext(tr)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(tr,Hn){MonotoneX.prototype.point.call(this,Hn,tr)};function ReflectContext(tr){this._context=tr}ReflectContext.prototype={moveTo:function(tr,Hn){this._context.moveTo(Hn,tr)},closePath:function(){this._context.closePath()},lineTo:function(tr,Hn){this._context.lineTo(Hn,tr)},bezierCurveTo:function(tr,Hn,er,nr,ir,rr){this._context.bezierCurveTo(Hn,tr,nr,er,rr,ir)}};function monotoneX(tr){return new MonotoneX(tr)}function monotoneY(tr){return new MonotoneY(tr)}function Natural(tr){this._context=tr}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var tr=this._x,Hn=this._y,er=tr.length;if(er)if(this._line?this._context.lineTo(tr[0],Hn[0]):this._context.moveTo(tr[0],Hn[0]),er===2)this._context.lineTo(tr[1],Hn[1]);else for(var nr=controlPoints(tr),ir=controlPoints(Hn),rr=0,sr=1;sr<er;++rr,++sr)this._context.bezierCurveTo(nr[0][rr],ir[0][rr],nr[1][rr],ir[1][rr],tr[sr],Hn[sr]);(this._line||this._line!==0&&er===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(tr,Hn){this._x.push(+tr),this._y.push(+Hn)}};function controlPoints(tr){var Hn,er=tr.length-1,nr,ir=new Array(er),rr=new Array(er),sr=new Array(er);for(ir[0]=0,rr[0]=2,sr[0]=tr[0]+2*tr[1],Hn=1;Hn<er-1;++Hn)ir[Hn]=1,rr[Hn]=4,sr[Hn]=4*tr[Hn]+2*tr[Hn+1];for(ir[er-1]=2,rr[er-1]=7,sr[er-1]=8*tr[er-1]+tr[er],Hn=1;Hn<er;++Hn)nr=ir[Hn]/rr[Hn-1],rr[Hn]-=nr,sr[Hn]-=nr*sr[Hn-1];for(ir[er-1]=sr[er-1]/rr[er-1],Hn=er-2;Hn>=0;--Hn)ir[Hn]=(sr[Hn]-ir[Hn+1])/rr[Hn];for(rr[er-1]=(tr[er]+ir[er-1])/2,Hn=0;Hn<er-1;++Hn)rr[Hn]=2*tr[Hn+1]-ir[Hn+1];return[ir,rr]}function curveNatural(tr){return new Natural(tr)}function Step(tr,Hn){this._context=tr,this._t=Hn}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(tr,Hn){switch(tr=+tr,Hn=+Hn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,Hn):this._context.moveTo(tr,Hn);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,Hn),this._context.lineTo(tr,Hn);else{var er=this._x*(1-this._t)+tr*this._t;this._context.lineTo(er,this._y),this._context.lineTo(er,Hn)}break}}this._x=tr,this._y=Hn}};function curveStep(tr){return new Step(tr,.5)}function stepBefore(tr){return new Step(tr,0)}function stepAfter(tr){return new Step(tr,1)}function stackOffsetNone(tr,Hn){if((sr=tr.length)>1)for(var er=1,nr,ir,rr=tr[Hn[0]],sr,ar=rr.length;er<sr;++er)for(ir=rr,rr=tr[Hn[er]],nr=0;nr<ar;++nr)rr[nr][1]+=rr[nr][0]=isNaN(ir[nr][1])?ir[nr][0]:ir[nr][1]}function stackOrderNone(tr){for(var Hn=tr.length,er=new Array(Hn);--Hn>=0;)er[Hn]=Hn;return er}function stackValue(tr,Hn){return tr[Hn]}function stackSeries(tr){const Hn=[];return Hn.key=tr,Hn}function shapeStack(){var tr=constant$1([]),Hn=stackOrderNone,er=stackOffsetNone,nr=stackValue;function ir(rr){var sr=Array.from(tr.apply(this,arguments),stackSeries),ar,or=sr.length,lr=-1,cr;for(const ur of rr)for(ar=0,++lr;ar<or;++ar)(sr[ar][lr]=[0,+nr(ur,sr[ar].key,lr,rr)]).data=ur;for(ar=0,cr=array(Hn(sr));ar<or;++ar)sr[cr[ar]].index=ar;return er(sr,cr),sr}return ir.keys=function(rr){return arguments.length?(tr=typeof rr=="function"?rr:constant$1(Array.from(rr)),ir):tr},ir.value=function(rr){return arguments.length?(nr=typeof rr=="function"?rr:constant$1(+rr),ir):nr},ir.order=function(rr){return arguments.length?(Hn=rr==null?stackOrderNone:typeof rr=="function"?rr:constant$1(Array.from(rr)),ir):Hn},ir.offset=function(rr){return arguments.length?(er=rr??stackOffsetNone,ir):er},ir}function stackOffsetExpand(tr,Hn){if((nr=tr.length)>0){for(var er,nr,ir=0,rr=tr[0].length,sr;ir<rr;++ir){for(sr=er=0;er<nr;++er)sr+=tr[er][ir][1]||0;if(sr)for(er=0;er<nr;++er)tr[er][ir][1]/=sr}stackOffsetNone(tr,Hn)}}function stackOffsetSilhouette(tr,Hn){if((ir=tr.length)>0){for(var er=0,nr=tr[Hn[0]],ir,rr=nr.length;er<rr;++er){for(var sr=0,ar=0;sr<ir;++sr)ar+=tr[sr][er][1]||0;nr[er][1]+=nr[er][0]=-ar/2}stackOffsetNone(tr,Hn)}}function stackOffsetWiggle(tr,Hn){if(!(!((sr=tr.length)>0)||!((rr=(ir=tr[Hn[0]]).length)>0))){for(var er=0,nr=1,ir,rr,sr;nr<rr;++nr){for(var ar=0,or=0,lr=0;ar<sr;++ar){for(var cr=tr[Hn[ar]],ur=cr[nr][1]||0,dr=cr[nr-1][1]||0,fr=(ur-dr)/2,gr=0;gr<ar;++gr){var yr=tr[Hn[gr]],vr=yr[nr][1]||0,jr=yr[nr-1][1]||0;fr+=vr-jr}or+=ur,lr+=fr*ur}ir[nr-1][1]+=ir[nr-1][0]=er,or&&(er-=lr/or)}ir[nr-1][1]+=ir[nr-1][0]=er,stackOffsetNone(tr,Hn)}}var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er==="__proto__"}tr.isUnsafeProperty=Hn})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){switch(typeof er){case"number":case"symbol":return!1;case"string":return er.includes(".")||er.includes("[")||er.includes("]")}}tr.isDeepKey=Hn})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return typeof er=="string"||typeof er=="symbol"?er:Object.is(er?.valueOf?.(),-0)?"-0":String(er)}tr.toKey=Hn})(toKey)),toKey}var toPath={},toString$1={},hasRequiredToString;function requireToString(){return hasRequiredToString||(hasRequiredToString=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){if(er==null)return"";if(typeof er=="string")return er;if(Array.isArray(er))return er.map(Hn).join(",");const nr=String(er);return nr==="0"&&Object.is(Number(er),-0)?"-0":nr}tr.toString=Hn})(toString$1)),toString$1}var hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireToString(),er=requireToKey();function nr(ir){if(Array.isArray(ir))return ir.map(er.toKey);if(typeof ir=="symbol")return[ir];ir=Hn.toString(ir);const rr=[],sr=ir.length;if(sr===0)return rr;let ar=0,or="",lr="",cr=!1;for(ir.charCodeAt(0)===46&&(rr.push(""),ar++);ar<sr;){const ur=ir[ar];lr?ur==="\\"&&ar+1<sr?(ar++,or+=ir[ar]):ur===lr?lr="":or+=ur:cr?ur==='"'||ur==="'"?lr=ur:ur==="]"?(cr=!1,rr.push(or),or=""):or+=ur:ur==="["?(cr=!0,or&&(rr.push(or),or="")):ur==="."?or&&(rr.push(or),or=""):or+=ur,ar++}return or&&rr.push(or),rr}tr.toPath=nr})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsUnsafeProperty(),er=requireIsDeepKey(),nr=requireToKey(),ir=requireToPath();function rr(ar,or,lr){if(ar==null)return lr;switch(typeof or){case"string":{if(Hn.isUnsafeProperty(or))return lr;const cr=ar[or];return cr===void 0?er.isDeepKey(or)?rr(ar,ir.toPath(or),lr):lr:cr}case"number":case"symbol":{typeof or=="number"&&(or=nr.toKey(or));const cr=ar[or];return cr===void 0?lr:cr}default:{if(Array.isArray(or))return sr(ar,or,lr);if(Object.is(or?.valueOf(),-0)?or="-0":or=String(or),Hn.isUnsafeProperty(or))return lr;const cr=ar[or];return cr===void 0?lr:cr}}}function sr(ar,or,lr){if(or.length===0)return lr;let cr=ar;for(let ur=0;ur<or.length;ur++){if(cr==null||Hn.isUnsafeProperty(or[ur]))return lr;cr=cr[or[ur]]}return cr===void 0?lr:cr}tr.get=rr})(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var mathSign=tr=>tr===0?0:tr>0?1:-1,isNan=tr=>typeof tr=="number"&&tr!=+tr,isPercent=tr=>typeof tr=="string"&&tr.indexOf("%")===tr.length-1,isNumber=tr=>(typeof tr=="number"||tr instanceof Number)&&!isNan(tr),isNumOrStr=tr=>isNumber(tr)||typeof tr=="string",idCounter=0,uniqueId=tr=>{var Hn=++idCounter;return"".concat(tr||"").concat(Hn)},getPercentValue=function tr(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(Hn)&&typeof Hn!="string")return nr;var rr;if(isPercent(Hn)){if(er==null)return nr;var sr=Hn.indexOf("%");rr=er*parseFloat(Hn.slice(0,sr))/100}else rr=+Hn;return isNan(rr)&&(rr=nr),ir&&er!=null&&rr>er&&(rr=er),rr},hasDuplicate=tr=>{if(!Array.isArray(tr))return!1;for(var Hn=tr.length,er={},nr=0;nr<Hn;nr++)if(!er[tr[nr]])er[tr[nr]]=!0;else return!0;return!1};function interpolate$1(tr,Hn,er){return isNumber(tr)&&isNumber(Hn)?tr+er*(Hn-tr):Hn}function findEntryInArray(tr,Hn,er){if(!(!tr||!tr.length))return tr.find(nr=>nr&&(typeof Hn=="function"?Hn(nr):get(nr,Hn))===er)}var getLinearRegression=tr=>{for(var Hn=tr.length,er=0,nr=0,ir=0,rr=0,sr=1/0,ar=-1/0,or=0,lr=0,cr=0;cr<Hn;cr++)or=tr[cr].cx||0,lr=tr[cr].cy||0,er+=or,nr+=lr,ir+=or*lr,rr+=or*or,sr=Math.min(sr,or),ar=Math.max(ar,or);var ur=Hn*rr!==er*er?(Hn*ir-er*nr)/(Hn*rr-er*er):0;return{xmin:sr,xmax:ar,a:ur,b:(nr-ur*er)/Hn}},isNullish=tr=>tr===null||typeof tr>"u",upperFirst=tr=>isNullish(tr)?tr:"".concat(tr.charAt(0).toUpperCase()).concat(tr.slice(1));function isNotNil(tr){return tr!=null}function noop$2(){}var _excluded$k=["type","size","sizeType"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$o.apply(null,arguments)}function ownKeys$A(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$A(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$A(Object(er),!0).forEach(function(nr){_defineProperty$B(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$A(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$B(tr,Hn,er){return(Hn=_toPropertyKey$B(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$B(tr){var Hn=_toPrimitive$B(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$B(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$j(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$k(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$k(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=tr=>{var Hn="symbol".concat(upperFirst(tr));return symbolFactories[Hn]||symbolCircle},calculateAreaSize=(tr,Hn,er)=>{if(Hn==="area")return tr;switch(er){case"cross":return 5*tr*tr/9;case"diamond":return .5*tr*tr/Math.sqrt(3);case"square":return tr*tr;case"star":{var nr=18*RADIAN$1;return 1.25*tr*tr*(Math.tan(nr)-Math.tan(nr*2)*Math.tan(nr)**2)}case"triangle":return Math.sqrt(3)*tr*tr/4;case"wye":return(21-10*Math.sqrt(3))*tr*tr/8;default:return Math.PI*tr*tr/4}},registerSymbol=(tr,Hn)=>{symbolFactories["symbol".concat(upperFirst(tr))]=Hn},Symbols=tr=>{var{type:Hn="circle",size:er=64,sizeType:nr="area"}=tr,ir=_objectWithoutProperties$j(tr,_excluded$k),rr=_objectSpread$A(_objectSpread$A({},ir),{},{type:Hn,size:er,sizeType:nr}),sr="circle";typeof Hn=="string"&&(sr=Hn);var ar=()=>{var dr=getSymbolFactory(sr),fr=Symbol$1().type(dr).size(calculateAreaSize(er,nr,sr)),gr=fr();if(gr!==null)return gr},{className:or,cx:lr,cy:cr}=rr,ur=svgPropertiesAndEvents(rr);return isNumber(lr)&&isNumber(cr)&&isNumber(er)?reactExports.createElement("path",_extends$o({},ur,{className:clsx("recharts-symbols",or),transform:"translate(".concat(lr,", ").concat(cr,")"),d:ar()})):null};Symbols.registerSymbol=registerSymbol;var isPolarCoordinate=tr=>"radius"in tr&&"startAngle"in tr&&"endAngle"in tr,adaptEventHandlers=(tr,Hn)=>{if(!tr||typeof tr=="function"||typeof tr=="boolean")return null;var er=tr;if(reactExports.isValidElement(tr)&&(er=tr.props),typeof er!="object"&&typeof er!="function")return null;var nr={};return Object.keys(er).forEach(ir=>{isEventKey(ir)&&(nr[ir]=(rr=>er[ir](er,rr)))}),nr},getEventHandlerOfChild=(tr,Hn,er)=>nr=>(tr(Hn,er,nr),null),adaptEventsOfChild=(tr,Hn,er)=>{if(tr===null||typeof tr!="object"&&typeof tr!="function")return null;var nr=null;return Object.keys(tr).forEach(ir=>{var rr=tr[ir];isEventKey(ir)&&typeof rr=="function"&&(nr||(nr={}),nr[ir]=getEventHandlerOfChild(rr,Hn,er))}),nr},isNonEmptyArray=tr=>Array.isArray(tr)&&tr.length>0;function ownKeys$z(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$z(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$z(Object(er),!0).forEach(function(nr){_defineProperty$A(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$z(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$A(tr,Hn,er){return(Hn=_toPropertyKey$A(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$A(tr){var Hn=_toPrimitive$A(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$A(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function resolveDefaultProps(tr,Hn){var er=_objectSpread$z({},tr),nr=Hn,ir=Object.keys(Hn),rr=ir.reduce((sr,ar)=>(sr[ar]===void 0&&nr[ar]!==void 0&&(sr[ar]=nr[ar]),sr),er);return rr}var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er,nr){const ir=new Map;for(let rr=0;rr<er.length;rr++){const sr=er[rr],ar=nr(sr);ir.has(ar)||ir.set(ar,sr)}return Array.from(ir.values())}tr.uniqBy=Hn})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er}tr.identity=Hn})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return Number.isSafeInteger(er)&&er>=0}tr.isLength=Hn})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsLength();function er(nr){return nr!=null&&typeof nr!="function"&&Hn.isLength(nr.length)}tr.isArrayLike=er})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return typeof er=="object"&&er!==null}tr.isObjectLike=Hn})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsArrayLike(),er=requireIsObjectLike();function nr(ir){return er.isObjectLike(ir)&&Hn.isArrayLike(ir)}tr.isArrayLikeObject=nr})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireGet$1();function er(nr){return function(ir){return Hn.get(ir,nr)}}tr.property=er})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er!==null&&(typeof er=="object"||typeof er=="function")}tr.isObject=Hn})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er==null||typeof er!="object"&&typeof er!="function"}tr.isPrimitive=Hn})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er,nr){return er===nr||Number.isNaN(er)&&Number.isNaN(nr)}tr.eq=Hn})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsObject(),er=requireIsPrimitive(),nr=requireEq();function ir(cr,ur,dr){return typeof dr!="function"?ir(cr,ur,()=>{}):rr(cr,ur,function fr(gr,yr,vr,jr,Sr,Tr){const Lr=dr(gr,yr,vr,jr,Sr,Tr);return Lr!==void 0?!!Lr:rr(gr,yr,fr,Tr)},new Map)}function rr(cr,ur,dr,fr){if(ur===cr)return!0;switch(typeof ur){case"object":return sr(cr,ur,dr,fr);case"function":return Object.keys(ur).length>0?rr(cr,{...ur},dr,fr):nr.eq(cr,ur);default:return Hn.isObject(cr)?typeof ur=="string"?ur==="":!0:nr.eq(cr,ur)}}function sr(cr,ur,dr,fr){if(ur==null)return!0;if(Array.isArray(ur))return or(cr,ur,dr,fr);if(ur instanceof Map)return ar(cr,ur,dr,fr);if(ur instanceof Set)return lr(cr,ur,dr,fr);const gr=Object.keys(ur);if(cr==null)return gr.length===0;if(gr.length===0)return!0;if(fr?.has(ur))return fr.get(ur)===cr;fr?.set(ur,cr);try{for(let yr=0;yr<gr.length;yr++){const vr=gr[yr];if(!er.isPrimitive(cr)&&!(vr in cr)||ur[vr]===void 0&&cr[vr]!==void 0||ur[vr]===null&&cr[vr]!==null||!dr(cr[vr],ur[vr],vr,cr,ur,fr))return!1}return!0}finally{fr?.delete(ur)}}function ar(cr,ur,dr,fr){if(ur.size===0)return!0;if(!(cr instanceof Map))return!1;for(const[gr,yr]of ur.entries()){const vr=cr.get(gr);if(dr(vr,yr,gr,cr,ur,fr)===!1)return!1}return!0}function or(cr,ur,dr,fr){if(ur.length===0)return!0;if(!Array.isArray(cr))return!1;const gr=new Set;for(let yr=0;yr<ur.length;yr++){const vr=ur[yr];let jr=!1;for(let Sr=0;Sr<cr.length;Sr++){if(gr.has(Sr))continue;const Tr=cr[Sr];let Lr=!1;if(dr(Tr,vr,yr,cr,ur,fr)&&(Lr=!0),Lr){gr.add(Sr),jr=!0;break}}if(!jr)return!1}return!0}function lr(cr,ur,dr,fr){return ur.size===0?!0:cr instanceof Set?or([...cr],[...ur],dr,fr):!1}tr.isMatchWith=ir,tr.isSetMatch=lr})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsMatchWith();function er(nr,ir){return Hn.isMatchWith(nr,ir,()=>{})}tr.isMatch=er})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return Object.getOwnPropertySymbols(er).filter(nr=>Object.prototype.propertyIsEnumerable.call(er,nr))}tr.getSymbols=Hn})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er==null?er===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(er)}tr.getTag=Hn})(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn="[object RegExp]",er="[object String]",nr="[object Number]",ir="[object Boolean]",rr="[object Arguments]",sr="[object Symbol]",ar="[object Date]",or="[object Map]",lr="[object Set]",cr="[object Array]",ur="[object Function]",dr="[object ArrayBuffer]",fr="[object Object]",gr="[object Error]",yr="[object DataView]",vr="[object Uint8Array]",jr="[object Uint8ClampedArray]",Sr="[object Uint16Array]",Tr="[object Uint32Array]",Lr="[object BigUint64Array]",Mr="[object Int8Array]",Nr="[object Int16Array]",Or="[object Int32Array]",Fr="[object BigInt64Array]",Gr="[object Float32Array]",qr="[object Float64Array]";tr.argumentsTag=rr,tr.arrayBufferTag=dr,tr.arrayTag=cr,tr.bigInt64ArrayTag=Fr,tr.bigUint64ArrayTag=Lr,tr.booleanTag=ir,tr.dataViewTag=yr,tr.dateTag=ar,tr.errorTag=gr,tr.float32ArrayTag=Gr,tr.float64ArrayTag=qr,tr.functionTag=ur,tr.int16ArrayTag=Nr,tr.int32ArrayTag=Or,tr.int8ArrayTag=Mr,tr.mapTag=or,tr.numberTag=nr,tr.objectTag=fr,tr.regexpTag=Hn,tr.setTag=lr,tr.stringTag=er,tr.symbolTag=sr,tr.uint16ArrayTag=Sr,tr.uint32ArrayTag=Tr,tr.uint8ArrayTag=vr,tr.uint8ClampedArrayTag=jr})(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return ArrayBuffer.isView(er)&&!(er instanceof DataView)}tr.isTypedArray=Hn})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireGetSymbols(),er=requireGetTag(),nr=requireTags(),ir=requireIsPrimitive(),rr=requireIsTypedArray();function sr(cr,ur){return ar(cr,void 0,cr,new Map,ur)}function ar(cr,ur,dr,fr=new Map,gr=void 0){const yr=gr?.(cr,ur,dr,fr);if(yr!==void 0)return yr;if(ir.isPrimitive(cr))return cr;if(fr.has(cr))return fr.get(cr);if(Array.isArray(cr)){const vr=new Array(cr.length);fr.set(cr,vr);for(let jr=0;jr<cr.length;jr++)vr[jr]=ar(cr[jr],jr,dr,fr,gr);return Object.hasOwn(cr,"index")&&(vr.index=cr.index),Object.hasOwn(cr,"input")&&(vr.input=cr.input),vr}if(cr instanceof Date)return new Date(cr.getTime());if(cr instanceof RegExp){const vr=new RegExp(cr.source,cr.flags);return vr.lastIndex=cr.lastIndex,vr}if(cr instanceof Map){const vr=new Map;fr.set(cr,vr);for(const[jr,Sr]of cr)vr.set(jr,ar(Sr,jr,dr,fr,gr));return vr}if(cr instanceof Set){const vr=new Set;fr.set(cr,vr);for(const jr of cr)vr.add(ar(jr,void 0,dr,fr,gr));return vr}if(typeof Buffer<"u"&&Buffer.isBuffer(cr))return cr.subarray();if(rr.isTypedArray(cr)){const vr=new(Object.getPrototypeOf(cr)).constructor(cr.length);fr.set(cr,vr);for(let jr=0;jr<cr.length;jr++)vr[jr]=ar(cr[jr],jr,dr,fr,gr);return vr}if(cr instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&cr instanceof SharedArrayBuffer)return cr.slice(0);if(cr instanceof DataView){const vr=new DataView(cr.buffer.slice(0),cr.byteOffset,cr.byteLength);return fr.set(cr,vr),or(vr,cr,dr,fr,gr),vr}if(typeof File<"u"&&cr instanceof File){const vr=new File([cr],cr.name,{type:cr.type});return fr.set(cr,vr),or(vr,cr,dr,fr,gr),vr}if(typeof Blob<"u"&&cr instanceof Blob){const vr=new Blob([cr],{type:cr.type});return fr.set(cr,vr),or(vr,cr,dr,fr,gr),vr}if(cr instanceof Error){const vr=new cr.constructor;return fr.set(cr,vr),vr.message=cr.message,vr.name=cr.name,vr.stack=cr.stack,vr.cause=cr.cause,or(vr,cr,dr,fr,gr),vr}if(cr instanceof Boolean){const vr=new Boolean(cr.valueOf());return fr.set(cr,vr),or(vr,cr,dr,fr,gr),vr}if(cr instanceof Number){const vr=new Number(cr.valueOf());return fr.set(cr,vr),or(vr,cr,dr,fr,gr),vr}if(cr instanceof String){const vr=new String(cr.valueOf());return fr.set(cr,vr),or(vr,cr,dr,fr,gr),vr}if(typeof cr=="object"&&lr(cr)){const vr=Object.create(Object.getPrototypeOf(cr));return fr.set(cr,vr),or(vr,cr,dr,fr,gr),vr}return cr}function or(cr,ur,dr=cr,fr,gr){const yr=[...Object.keys(ur),...Hn.getSymbols(ur)];for(let vr=0;vr<yr.length;vr++){const jr=yr[vr],Sr=Object.getOwnPropertyDescriptor(cr,jr);(Sr==null||Sr.writable)&&(cr[jr]=ar(ur[jr],jr,dr,fr,gr))}}function lr(cr){switch(er.getTag(cr)){case nr.argumentsTag:case nr.arrayTag:case nr.arrayBufferTag:case nr.dataViewTag:case nr.booleanTag:case nr.dateTag:case nr.float32ArrayTag:case nr.float64ArrayTag:case nr.int8ArrayTag:case nr.int16ArrayTag:case nr.int32ArrayTag:case nr.mapTag:case nr.numberTag:case nr.objectTag:case nr.regexpTag:case nr.setTag:case nr.stringTag:case nr.symbolTag:case nr.uint8ArrayTag:case nr.uint8ClampedArrayTag:case nr.uint16ArrayTag:case nr.uint32ArrayTag:return!0;default:return!1}}tr.cloneDeepWith=sr,tr.cloneDeepWithImpl=ar,tr.copyProperties=or})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireCloneDeepWith$1();function er(nr){return Hn.cloneDeepWithImpl(nr,void 0,nr,new Map,void 0)}tr.cloneDeep=er})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsMatch(),er=requireCloneDeep$1();function nr(ir){return ir=er.cloneDeep(ir),rr=>Hn.isMatch(rr,ir)}tr.matches=nr})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireCloneDeepWith$1(),er=requireTags();function nr(ir,rr){return Hn.cloneDeepWith(ir,(sr,ar,or,lr)=>{const cr=rr?.(sr,ar,or,lr);if(cr!==void 0)return cr;if(typeof ir=="object")switch(Object.prototype.toString.call(ir)){case er.numberTag:case er.stringTag:case er.booleanTag:{const ur=new ir.constructor(ir?.valueOf());return Hn.copyProperties(ur,ir),ur}case er.argumentsTag:{const ur={};return Hn.copyProperties(ur,ir),ur.length=ir.length,ur[Symbol.iterator]=ir[Symbol.iterator],ur}default:return}})}tr.cloneDeepWith=nr})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireCloneDeepWith();function er(nr){return Hn.cloneDeepWith(nr)}tr.cloneDeep=er})(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=/^(?:0|[1-9]\d*)$/;function er(nr,ir=Number.MAX_SAFE_INTEGER){switch(typeof nr){case"number":return Number.isInteger(nr)&&nr>=0&&nr<ir;case"symbol":return!1;case"string":return Hn.test(nr)}}tr.isIndex=er})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireGetTag();function er(nr){return nr!==null&&typeof nr=="object"&&Hn.getTag(nr)==="[object Arguments]"}tr.isArguments=er})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsDeepKey(),er=requireIsIndex(),nr=requireIsArguments(),ir=requireToPath();function rr(sr,ar){let or;if(Array.isArray(ar)?or=ar:typeof ar=="string"&&Hn.isDeepKey(ar)&&sr?.[ar]==null?or=ir.toPath(ar):or=[ar],or.length===0)return!1;let lr=sr;for(let cr=0;cr<or.length;cr++){const ur=or[cr];if((lr==null||!Object.hasOwn(lr,ur))&&!((Array.isArray(lr)||nr.isArguments(lr))&&er.isIndex(ur)&&ur<lr.length))return!1;lr=lr[ur]}return!0}tr.has=rr})(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsMatch(),er=requireToKey(),nr=requireCloneDeep(),ir=requireGet$1(),rr=requireHas();function sr(ar,or){switch(typeof ar){case"object":{Object.is(ar?.valueOf(),-0)&&(ar="-0");break}case"number":{ar=er.toKey(ar);break}}return or=nr.cloneDeep(or),function(lr){const cr=ir.get(lr,ar);return cr===void 0?rr.has(lr,ar):or===void 0?cr===void 0:Hn.isMatch(cr,or)}}tr.matchesProperty=sr})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIdentity(),er=requireProperty(),nr=requireMatches(),ir=requireMatchesProperty();function rr(sr){if(sr==null)return Hn.identity;switch(typeof sr){case"function":return sr;case"object":return Array.isArray(sr)&&sr.length===2?ir.matchesProperty(sr[0],sr[1]):nr.matches(sr);case"string":case"symbol":case"number":return er.property(sr)}}tr.iteratee=rr})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireUniqBy$2(),er=requireIdentity(),nr=requireIsArrayLikeObject(),ir=requireIteratee();function rr(sr,ar=er.identity){return nr.isArrayLikeObject(sr)?Hn.uniqBy(Array.from(sr),ir.iteratee(ar)):[]}tr.uniqBy=rr})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(tr,Hn,er){return Hn===!0?uniqBy(tr,er):typeof Hn=="function"?uniqBy(tr,Hn):tr}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var tr=requireReact();function Hn(ur,dr){return ur===dr&&(ur!==0||1/ur===1/dr)||ur!==ur&&dr!==dr}var er=typeof Object.is=="function"?Object.is:Hn,nr=tr.useState,ir=tr.useEffect,rr=tr.useLayoutEffect,sr=tr.useDebugValue;function ar(ur,dr){var fr=dr(),gr=nr({inst:{value:fr,getSnapshot:dr}}),yr=gr[0].inst,vr=gr[1];return rr(function(){yr.value=fr,yr.getSnapshot=dr,or(yr)&&vr({inst:yr})},[ur,fr,dr]),ir(function(){return or(yr)&&vr({inst:yr}),ur(function(){or(yr)&&vr({inst:yr})})},[ur]),sr(fr),fr}function or(ur){var dr=ur.getSnapshot;ur=ur.value;try{var fr=dr();return!er(ur,fr)}catch{return!0}}function lr(ur,dr){return dr()}var cr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lr:ar;return useSyncExternalStoreShim_production.useSyncExternalStore=tr.useSyncExternalStore!==void 0?tr.useSyncExternalStore:cr,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var tr=requireReact(),Hn=requireShim();function er(lr,cr){return lr===cr&&(lr!==0||1/lr===1/cr)||lr!==lr&&cr!==cr}var nr=typeof Object.is=="function"?Object.is:er,ir=Hn.useSyncExternalStore,rr=tr.useRef,sr=tr.useEffect,ar=tr.useMemo,or=tr.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(lr,cr,ur,dr,fr){var gr=rr(null);if(gr.current===null){var yr={hasValue:!1,value:null};gr.current=yr}else yr=gr.current;gr=ar(function(){function jr(Nr){if(!Sr){if(Sr=!0,Tr=Nr,Nr=dr(Nr),fr!==void 0&&yr.hasValue){var Or=yr.value;if(fr(Or,Nr))return Lr=Or}return Lr=Nr}if(Or=Lr,nr(Tr,Nr))return Or;var Fr=dr(Nr);return fr!==void 0&&fr(Or,Fr)?(Tr=Nr,Or):(Tr=Nr,Lr=Fr)}var Sr=!1,Tr,Lr,Mr=ur===void 0?null:ur;return[function(){return jr(cr())},Mr===null?void 0:function(){return jr(Mr())}]},[cr,ur,dr,fr]);var vr=ir(lr,gr[0],gr[1]);return sr(function(){yr.hasValue=!0,yr.value=vr},[vr]),or(vr),vr},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=tr=>tr,useAppDispatch=()=>{var tr=reactExports.useContext(RechartsReduxContext);return tr?tr.store.dispatch:noopDispatch},noop$1=()=>{},addNestedSubNoop=()=>noop$1,refEquality=(tr,Hn)=>tr===Hn;function useAppSelector(tr){var Hn=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(Hn?Hn.subscription.addNestedSub:addNestedSubNoop,Hn?Hn.store.getState:noop$1,Hn?Hn.store.getState:noop$1,Hn?tr:noop$1,refEquality)}function assertIsFunction(tr,Hn=`expected a function, instead received ${typeof tr}`){if(typeof tr!="function")throw new TypeError(Hn)}function assertIsObject(tr,Hn=`expected an object, instead received ${typeof tr}`){if(typeof tr!="object")throw new TypeError(Hn)}function assertIsArrayOfFunctions(tr,Hn="expected all items to be functions, instead received the following types: "){if(!tr.every(er=>typeof er=="function")){const er=tr.map(nr=>typeof nr=="function"?`function ${nr.name||"unnamed"}()`:typeof nr).join(", ");throw new TypeError(`${Hn}[${er}]`)}}var ensureIsArray=tr=>Array.isArray(tr)?tr:[tr];function getDependencies(tr){const Hn=Array.isArray(tr[0])?tr[0]:tr;return assertIsArrayOfFunctions(Hn,"createSelector expects all input-selectors to be functions, but received the following types: "),Hn}function collectInputSelectorResults(tr,Hn){const er=[],{length:nr}=tr;for(let ir=0;ir<nr;ir++)er.push(tr[ir].apply(null,Hn));return er}var StrongRef=class{constructor(tr){this.value=tr}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(tr,Hn={}){let er=createCacheNode();const{resultEqualityCheck:nr}=Hn;let ir,rr=0;function sr(){let ar=er;const{length:or}=arguments;for(let ur=0,dr=or;ur<dr;ur++){const fr=arguments[ur];if(typeof fr=="function"||typeof fr=="object"&&fr!==null){let gr=ar.o;gr===null&&(ar.o=gr=new WeakMap);const yr=gr.get(fr);yr===void 0?(ar=createCacheNode(),gr.set(fr,ar)):ar=yr}else{let gr=ar.p;gr===null&&(ar.p=gr=new Map);const yr=gr.get(fr);yr===void 0?(ar=createCacheNode(),gr.set(fr,ar)):ar=yr}}const lr=ar;let cr;if(ar.s===TERMINATED)cr=ar.v;else if(cr=tr.apply(null,arguments),rr++,nr){const ur=ir?.deref?.()??ir;ur!=null&&nr(ur,cr)&&(cr=ur,rr!==0&&rr--),ir=typeof cr=="object"&&cr!==null||typeof cr=="function"?new Ref(cr):cr}return lr.s=TERMINATED,lr.v=cr,cr}return sr.clearCache=()=>{er=createCacheNode(),sr.resetResultsCount()},sr.resultsCount=()=>rr,sr.resetResultsCount=()=>{rr=0},sr}function createSelectorCreator(tr,...Hn){const er=typeof tr=="function"?{memoize:tr,memoizeOptions:Hn}:tr,nr=(...ir)=>{let rr=0,sr=0,ar,or={},lr=ir.pop();typeof lr=="object"&&(or=lr,lr=ir.pop()),assertIsFunction(lr,`createSelector expects an output function after the inputs, but received: [${typeof lr}]`);const cr={...er,...or},{memoize:ur,memoizeOptions:dr=[],argsMemoize:fr=weakMapMemoize,argsMemoizeOptions:gr=[]}=cr,yr=ensureIsArray(dr),vr=ensureIsArray(gr),jr=getDependencies(ir),Sr=ur(function(){return rr++,lr.apply(null,arguments)},...yr),Tr=fr(function(){sr++;const Mr=collectInputSelectorResults(jr,arguments);return ar=Sr.apply(null,Mr),ar},...vr);return Object.assign(Tr,{resultFunc:lr,memoizedResultFunc:Sr,dependencies:jr,dependencyRecomputations:()=>sr,resetDependencyRecomputations:()=>{sr=0},lastResult:()=>ar,recomputations:()=>rr,resetRecomputations:()=>{rr=0},memoize:ur,argsMemoize:fr})};return Object.assign(nr,{withTypes:()=>nr}),nr}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((tr,Hn=createSelector)=>{assertIsObject(tr,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof tr}`);const er=Object.keys(tr),nr=er.map(rr=>tr[rr]);return Hn(nr,(...rr)=>rr.reduce((sr,ar,or)=>(sr[er[or]]=ar,sr),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(nr){return typeof nr=="symbol"?1:nr===null?2:nr===void 0?3:nr!==nr?4:0}const er=(nr,ir,rr)=>{if(nr!==ir){const sr=Hn(nr),ar=Hn(ir);if(sr===ar&&sr===0){if(nr<ir)return rr==="desc"?1:-1;if(nr>ir)return rr==="desc"?-1:1}return rr==="desc"?ar-sr:sr-ar}return 0};tr.compareValues=er})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return typeof er=="symbol"||er instanceof Symbol}tr.isSymbol=Hn})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsSymbol(),er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nr=/^\w*$/;function ir(rr,sr){return Array.isArray(rr)?!1:typeof rr=="number"||typeof rr=="boolean"||rr==null||Hn.isSymbol(rr)?!0:typeof rr=="string"&&(nr.test(rr)||!er.test(rr))||sr!=null&&Object.hasOwn(sr,rr)}tr.isKey=ir})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireCompareValues(),er=requireIsKey(),nr=requireToPath();function ir(rr,sr,ar,or){if(rr==null)return[];ar=or?void 0:ar,Array.isArray(rr)||(rr=Object.values(rr)),Array.isArray(sr)||(sr=sr==null?[null]:[sr]),sr.length===0&&(sr=[null]),Array.isArray(ar)||(ar=ar==null?[]:[ar]),ar=ar.map(fr=>String(fr));const lr=(fr,gr)=>{let yr=fr;for(let vr=0;vr<gr.length&&yr!=null;++vr)yr=yr[gr[vr]];return yr},cr=(fr,gr)=>gr==null||fr==null?gr:typeof fr=="object"&&"key"in fr?Object.hasOwn(gr,fr.key)?gr[fr.key]:lr(gr,fr.path):typeof fr=="function"?fr(gr):Array.isArray(fr)?lr(gr,fr):typeof gr=="object"?gr[fr]:gr,ur=sr.map(fr=>(Array.isArray(fr)&&fr.length===1&&(fr=fr[0]),fr==null||typeof fr=="function"||Array.isArray(fr)||er.isKey(fr)?fr:{key:fr,path:nr.toPath(fr)}));return rr.map(fr=>({original:fr,criteria:ur.map(gr=>cr(gr,fr))})).slice().sort((fr,gr)=>{for(let yr=0;yr<ur.length;yr++){const vr=Hn.compareValues(fr.criteria[yr],gr.criteria[yr],ar[yr]);if(vr!==0)return vr}return 0}).map(fr=>fr.original)}tr.orderBy=ir})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er,nr=1){const ir=[],rr=Math.floor(nr),sr=(ar,or)=>{for(let lr=0;lr<ar.length;lr++){const cr=ar[lr];Array.isArray(cr)&&or<rr?sr(cr,or+1):ir.push(cr)}};return sr(er,0),ir}tr.flatten=Hn})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsIndex(),er=requireIsArrayLike(),nr=requireIsObject(),ir=requireEq();function rr(sr,ar,or){return nr.isObject(or)&&(typeof ar=="number"&&er.isArrayLike(or)&&Hn.isIndex(ar)&&ar<or.length||typeof ar=="string"&&ar in or)?ir.eq(or[ar],sr):!1}tr.isIterateeCall=rr})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireOrderBy(),er=requireFlatten(),nr=requireIsIterateeCall();function ir(rr,...sr){const ar=sr.length;return ar>1&&nr.isIterateeCall(rr,sr[0],sr[1])?sr=[]:ar>2&&nr.isIterateeCall(sr[0],sr[1],sr[2])&&(sr=[sr[0]]),Hn.orderBy(rr,er.flatten(sr),["asc"])}tr.sortBy=ir})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=tr=>tr.legend.settings,selectLegendSize=tr=>tr.legend.size,selectAllLegendPayload2DArray=tr=>tr.legend.payload;createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(tr,Hn)=>{var{itemSorter:er}=Hn,nr=tr.flat(1);return er?sortBy(nr,er):nr});var EPS$1=1;function useElementOffset(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[Hn,er]=reactExports.useState({height:0,left:0,top:0,width:0}),nr=reactExports.useCallback(ir=>{if(ir!=null){var rr=ir.getBoundingClientRect(),sr={height:rr.height,left:rr.left,top:rr.top,width:rr.width};(Math.abs(sr.height-Hn.height)>EPS$1||Math.abs(sr.left-Hn.left)>EPS$1||Math.abs(sr.top-Hn.top)>EPS$1||Math.abs(sr.width-Hn.width)>EPS$1)&&er({height:sr.height,left:sr.left,top:sr.top,width:sr.width})}},[Hn.width,Hn.height,Hn.top,Hn.left,...tr]);return[Hn,nr]}function formatProdErrorMessage$1(tr){return`Minified Redux error #${tr}; visit https://redux.js.org/Errors?code=${tr} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$4(tr){if(typeof tr!="object"||tr===null)return!1;let Hn=tr;for(;Object.getPrototypeOf(Hn)!==null;)Hn=Object.getPrototypeOf(Hn);return Object.getPrototypeOf(tr)===Hn||Object.getPrototypeOf(tr)===null}function createStore(tr,Hn,er){if(typeof tr!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof Hn=="function"&&typeof er=="function"||typeof er=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof Hn=="function"&&typeof er>"u"&&(er=Hn,Hn=void 0),typeof er<"u"){if(typeof er!="function")throw new Error(formatProdErrorMessage$1(1));return er(createStore)(tr,Hn)}let nr=tr,ir=Hn,rr=new Map,sr=rr,ar=0,or=!1;function lr(){sr===rr&&(sr=new Map,rr.forEach((vr,jr)=>{sr.set(jr,vr)}))}function cr(){if(or)throw new Error(formatProdErrorMessage$1(3));return ir}function ur(vr){if(typeof vr!="function")throw new Error(formatProdErrorMessage$1(4));if(or)throw new Error(formatProdErrorMessage$1(5));let jr=!0;lr();const Sr=ar++;return sr.set(Sr,vr),function(){if(jr){if(or)throw new Error(formatProdErrorMessage$1(6));jr=!1,lr(),sr.delete(Sr),rr=null}}}function dr(vr){if(!isPlainObject$4(vr))throw new Error(formatProdErrorMessage$1(7));if(typeof vr.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof vr.type!="string")throw new Error(formatProdErrorMessage$1(17));if(or)throw new Error(formatProdErrorMessage$1(9));try{or=!0,ir=nr(ir,vr)}finally{or=!1}return(rr=sr).forEach(Sr=>{Sr()}),vr}function fr(vr){if(typeof vr!="function")throw new Error(formatProdErrorMessage$1(10));nr=vr,dr({type:actionTypes_default.REPLACE})}function gr(){const vr=ur;return{subscribe(jr){if(typeof jr!="object"||jr===null)throw new Error(formatProdErrorMessage$1(11));function Sr(){const Lr=jr;Lr.next&&Lr.next(cr())}return Sr(),{unsubscribe:vr(Sr)}},[symbol_observable_default](){return this}}}return dr({type:actionTypes_default.INIT}),{dispatch:dr,subscribe:ur,getState:cr,replaceReducer:fr,[symbol_observable_default]:gr}}function assertReducerShape(tr){Object.keys(tr).forEach(Hn=>{const er=tr[Hn];if(typeof er(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof er(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(tr){const Hn=Object.keys(tr),er={};for(let rr=0;rr<Hn.length;rr++){const sr=Hn[rr];typeof tr[sr]=="function"&&(er[sr]=tr[sr])}const nr=Object.keys(er);let ir;try{assertReducerShape(er)}catch(rr){ir=rr}return function(sr={},ar){if(ir)throw ir;let or=!1;const lr={};for(let cr=0;cr<nr.length;cr++){const ur=nr[cr],dr=er[ur],fr=sr[ur],gr=dr(fr,ar);if(typeof gr>"u")throw ar&&ar.type,new Error(formatProdErrorMessage$1(14));lr[ur]=gr,or=or||gr!==fr}return or=or||nr.length!==Object.keys(sr).length,or?lr:sr}}function compose$1(...tr){return tr.length===0?Hn=>Hn:tr.length===1?tr[0]:tr.reduce((Hn,er)=>(...nr)=>Hn(er(...nr)))}function applyMiddleware(...tr){return Hn=>(er,nr)=>{const ir=Hn(er,nr);let rr=()=>{throw new Error(formatProdErrorMessage$1(15))};const sr={getState:ir.getState,dispatch:(or,...lr)=>rr(or,...lr)},ar=tr.map(or=>or(sr));return rr=compose$1(...ar)(ir.dispatch),{...ir,dispatch:rr}}}function isAction(tr){return isPlainObject$4(tr)&&"type"in tr&&typeof tr.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(tr,...Hn){throw new Error(`[Immer] minified error nr: ${tr}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(tr){return!!tr&&!!tr[DRAFT_STATE]}function isDraftable(tr){return tr?isPlainObject$3(tr)||Array.isArray(tr)||!!tr[DRAFTABLE]||!!tr.constructor?.[DRAFTABLE]||isMap(tr)||isSet(tr):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject$3(tr){if(!tr||typeof tr!="object")return!1;const Hn=Object.getPrototypeOf(tr);if(Hn===null||Hn===Object.prototype)return!0;const er=Object.hasOwnProperty.call(Hn,"constructor")&&Hn.constructor;if(er===Object)return!0;if(typeof er!="function")return!1;let nr=cachedCtorStrings.get(er);return nr===void 0&&(nr=Function.toString.call(er),cachedCtorStrings.set(er,nr)),nr===objectCtorString}function each(tr,Hn,er=!0){getArchtype(tr)===0?(er?Reflect.ownKeys(tr):Object.keys(tr)).forEach(ir=>{Hn(ir,tr[ir],tr)}):tr.forEach((nr,ir)=>Hn(ir,nr,tr))}function getArchtype(tr){const Hn=tr[DRAFT_STATE];return Hn?Hn.type_:Array.isArray(tr)?1:isMap(tr)?2:isSet(tr)?3:0}function has(tr,Hn){return getArchtype(tr)===2?tr.has(Hn):Object.prototype.hasOwnProperty.call(tr,Hn)}function set(tr,Hn,er){const nr=getArchtype(tr);nr===2?tr.set(Hn,er):nr===3?tr.add(er):tr[Hn]=er}function is$3(tr,Hn){return tr===Hn?tr!==0||1/tr===1/Hn:tr!==tr&&Hn!==Hn}function isMap(tr){return tr instanceof Map}function isSet(tr){return tr instanceof Set}function latest(tr){return tr.copy_||tr.base_}function shallowCopy(tr,Hn){if(isMap(tr))return new Map(tr);if(isSet(tr))return new Set(tr);if(Array.isArray(tr))return Array.prototype.slice.call(tr);const er=isPlainObject$3(tr);if(Hn===!0||Hn==="class_only"&&!er){const nr=Object.getOwnPropertyDescriptors(tr);delete nr[DRAFT_STATE];let ir=Reflect.ownKeys(nr);for(let rr=0;rr<ir.length;rr++){const sr=ir[rr],ar=nr[sr];ar.writable===!1&&(ar.writable=!0,ar.configurable=!0),(ar.get||ar.set)&&(nr[sr]={configurable:!0,writable:!0,enumerable:ar.enumerable,value:tr[sr]})}return Object.create(getPrototypeOf(tr),nr)}else{const nr=getPrototypeOf(tr);if(nr!==null&&er)return{...tr};const ir=Object.create(nr);return Object.assign(ir,tr)}}function freeze(tr,Hn=!1){return isFrozen(tr)||isDraft(tr)||!isDraftable(tr)||(getArchtype(tr)>1&&Object.defineProperties(tr,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(tr),Hn&&Object.values(tr).forEach(er=>freeze(er,!0))),tr}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(tr){return tr===null||typeof tr!="object"?!0:Object.isFrozen(tr)}var plugins={};function getPlugin(tr){const Hn=plugins[tr];return Hn||die(0,tr),Hn}var currentScope;function getCurrentScope(){return currentScope}function createScope(tr,Hn){return{drafts_:[],parent_:tr,immer_:Hn,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(tr,Hn){Hn&&(getPlugin("Patches"),tr.patches_=[],tr.inversePatches_=[],tr.patchListener_=Hn)}function revokeScope(tr){leaveScope(tr),tr.drafts_.forEach(revokeDraft),tr.drafts_=null}function leaveScope(tr){tr===currentScope&&(currentScope=tr.parent_)}function enterScope(tr){return currentScope=createScope(currentScope,tr)}function revokeDraft(tr){const Hn=tr[DRAFT_STATE];Hn.type_===0||Hn.type_===1?Hn.revoke_():Hn.revoked_=!0}function processResult(tr,Hn){Hn.unfinalizedDrafts_=Hn.drafts_.length;const er=Hn.drafts_[0];return tr!==void 0&&tr!==er?(er[DRAFT_STATE].modified_&&(revokeScope(Hn),die(4)),isDraftable(tr)&&(tr=finalize(Hn,tr),Hn.parent_||maybeFreeze(Hn,tr)),Hn.patches_&&getPlugin("Patches").generateReplacementPatches_(er[DRAFT_STATE].base_,tr,Hn.patches_,Hn.inversePatches_)):tr=finalize(Hn,er,[]),revokeScope(Hn),Hn.patches_&&Hn.patchListener_(Hn.patches_,Hn.inversePatches_),tr!==NOTHING?tr:void 0}function finalize(tr,Hn,er){if(isFrozen(Hn))return Hn;const nr=tr.immer_.shouldUseStrictIteration(),ir=Hn[DRAFT_STATE];if(!ir)return each(Hn,(rr,sr)=>finalizeProperty(tr,ir,Hn,rr,sr,er),nr),Hn;if(ir.scope_!==tr)return Hn;if(!ir.modified_)return maybeFreeze(tr,ir.base_,!0),ir.base_;if(!ir.finalized_){ir.finalized_=!0,ir.scope_.unfinalizedDrafts_--;const rr=ir.copy_;let sr=rr,ar=!1;ir.type_===3&&(sr=new Set(rr),rr.clear(),ar=!0),each(sr,(or,lr)=>finalizeProperty(tr,ir,rr,or,lr,er,ar),nr),maybeFreeze(tr,rr,!1),er&&tr.patches_&&getPlugin("Patches").generatePatches_(ir,er,tr.patches_,tr.inversePatches_)}return ir.copy_}function finalizeProperty(tr,Hn,er,nr,ir,rr,sr){if(ir==null||typeof ir!="object"&&!sr)return;const ar=isFrozen(ir);if(!(ar&&!sr)){if(isDraft(ir)){const or=rr&&Hn&&Hn.type_!==3&&!has(Hn.assigned_,nr)?rr.concat(nr):void 0,lr=finalize(tr,ir,or);if(set(er,nr,lr),isDraft(lr))tr.canAutoFreeze_=!1;else return}else sr&&er.add(ir);if(isDraftable(ir)&&!ar){if(!tr.immer_.autoFreeze_&&tr.unfinalizedDrafts_<1||Hn&&Hn.base_&&Hn.base_[nr]===ir&&ar)return;finalize(tr,ir),(!Hn||!Hn.scope_.parent_)&&typeof nr!="symbol"&&(isMap(er)?er.has(nr):Object.prototype.propertyIsEnumerable.call(er,nr))&&maybeFreeze(tr,ir)}}}function maybeFreeze(tr,Hn,er=!1){!tr.parent_&&tr.immer_.autoFreeze_&&tr.canAutoFreeze_&&freeze(Hn,er)}function createProxyProxy(tr,Hn){const er=Array.isArray(tr),nr={type_:er?1:0,scope_:Hn?Hn.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:Hn,base_:tr,draft_:null,copy_:null,revoke_:null,isManual_:!1};let ir=nr,rr=objectTraps;er&&(ir=[nr],rr=arrayTraps);const{revoke:sr,proxy:ar}=Proxy.revocable(ir,rr);return nr.draft_=ar,nr.revoke_=sr,ar}var objectTraps={get(tr,Hn){if(Hn===DRAFT_STATE)return tr;const er=latest(tr);if(!has(er,Hn))return readPropFromProto(tr,er,Hn);const nr=er[Hn];return tr.finalized_||!isDraftable(nr)?nr:nr===peek(tr.base_,Hn)?(prepareCopy(tr),tr.copy_[Hn]=createProxy(nr,tr)):nr},has(tr,Hn){return Hn in latest(tr)},ownKeys(tr){return Reflect.ownKeys(latest(tr))},set(tr,Hn,er){const nr=getDescriptorFromProto(latest(tr),Hn);if(nr?.set)return nr.set.call(tr.draft_,er),!0;if(!tr.modified_){const ir=peek(latest(tr),Hn),rr=ir?.[DRAFT_STATE];if(rr&&rr.base_===er)return tr.copy_[Hn]=er,tr.assigned_[Hn]=!1,!0;if(is$3(er,ir)&&(er!==void 0||has(tr.base_,Hn)))return!0;prepareCopy(tr),markChanged(tr)}return tr.copy_[Hn]===er&&(er!==void 0||Hn in tr.copy_)||Number.isNaN(er)&&Number.isNaN(tr.copy_[Hn])||(tr.copy_[Hn]=er,tr.assigned_[Hn]=!0),!0},deleteProperty(tr,Hn){return peek(tr.base_,Hn)!==void 0||Hn in tr.base_?(tr.assigned_[Hn]=!1,prepareCopy(tr),markChanged(tr)):delete tr.assigned_[Hn],tr.copy_&&delete tr.copy_[Hn],!0},getOwnPropertyDescriptor(tr,Hn){const er=latest(tr),nr=Reflect.getOwnPropertyDescriptor(er,Hn);return nr&&{writable:!0,configurable:tr.type_!==1||Hn!=="length",enumerable:nr.enumerable,value:er[Hn]}},defineProperty(){die(11)},getPrototypeOf(tr){return getPrototypeOf(tr.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(tr,Hn)=>{arrayTraps[tr]=function(){return arguments[0]=arguments[0][0],Hn.apply(this,arguments)}});arrayTraps.deleteProperty=function(tr,Hn){return arrayTraps.set.call(this,tr,Hn,void 0)};arrayTraps.set=function(tr,Hn,er){return objectTraps.set.call(this,tr[0],Hn,er,tr[0])};function peek(tr,Hn){const er=tr[DRAFT_STATE];return(er?latest(er):tr)[Hn]}function readPropFromProto(tr,Hn,er){const nr=getDescriptorFromProto(Hn,er);return nr?"value"in nr?nr.value:nr.get?.call(tr.draft_):void 0}function getDescriptorFromProto(tr,Hn){if(!(Hn in tr))return;let er=getPrototypeOf(tr);for(;er;){const nr=Object.getOwnPropertyDescriptor(er,Hn);if(nr)return nr;er=getPrototypeOf(er)}}function markChanged(tr){tr.modified_||(tr.modified_=!0,tr.parent_&&markChanged(tr.parent_))}function prepareCopy(tr){tr.copy_||(tr.copy_=shallowCopy(tr.base_,tr.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(tr){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(Hn,er,nr)=>{if(typeof Hn=="function"&&typeof er!="function"){const rr=er;er=Hn;const sr=this;return function(or=rr,...lr){return sr.produce(or,cr=>er.call(this,cr,...lr))}}typeof er!="function"&&die(6),nr!==void 0&&typeof nr!="function"&&die(7);let ir;if(isDraftable(Hn)){const rr=enterScope(this),sr=createProxy(Hn,void 0);let ar=!0;try{ir=er(sr),ar=!1}finally{ar?revokeScope(rr):leaveScope(rr)}return usePatchesInScope(rr,nr),processResult(ir,rr)}else if(!Hn||typeof Hn!="object"){if(ir=er(Hn),ir===void 0&&(ir=Hn),ir===NOTHING&&(ir=void 0),this.autoFreeze_&&freeze(ir,!0),nr){const rr=[],sr=[];getPlugin("Patches").generateReplacementPatches_(Hn,ir,rr,sr),nr(rr,sr)}return ir}else die(1,Hn)},this.produceWithPatches=(Hn,er)=>{if(typeof Hn=="function")return(sr,...ar)=>this.produceWithPatches(sr,or=>Hn(or,...ar));let nr,ir;return[this.produce(Hn,er,(sr,ar)=>{nr=sr,ir=ar}),nr,ir]},typeof tr?.autoFreeze=="boolean"&&this.setAutoFreeze(tr.autoFreeze),typeof tr?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(tr.useStrictShallowCopy),typeof tr?.useStrictIteration=="boolean"&&this.setUseStrictIteration(tr.useStrictIteration)}createDraft(tr){isDraftable(tr)||die(8),isDraft(tr)&&(tr=current(tr));const Hn=enterScope(this),er=createProxy(tr,void 0);return er[DRAFT_STATE].isManual_=!0,leaveScope(Hn),er}finishDraft(tr,Hn){const er=tr&&tr[DRAFT_STATE];(!er||!er.isManual_)&&die(9);const{scope_:nr}=er;return usePatchesInScope(nr,Hn),processResult(void 0,nr)}setAutoFreeze(tr){this.autoFreeze_=tr}setUseStrictShallowCopy(tr){this.useStrictShallowCopy_=tr}setUseStrictIteration(tr){this.useStrictIteration_=tr}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(tr,Hn){let er;for(er=Hn.length-1;er>=0;er--){const ir=Hn[er];if(ir.path.length===0&&ir.op==="replace"){tr=ir.value;break}}er>-1&&(Hn=Hn.slice(er+1));const nr=getPlugin("Patches").applyPatches_;return isDraft(tr)?nr(tr,Hn):this.produce(tr,ir=>nr(ir,Hn))}};function createProxy(tr,Hn){const er=isMap(tr)?getPlugin("MapSet").proxyMap_(tr,Hn):isSet(tr)?getPlugin("MapSet").proxySet_(tr,Hn):createProxyProxy(tr,Hn);return(Hn?Hn.scope_:getCurrentScope()).drafts_.push(er),er}function current(tr){return isDraft(tr)||die(10,tr),currentImpl(tr)}function currentImpl(tr){if(!isDraftable(tr)||isFrozen(tr))return tr;const Hn=tr[DRAFT_STATE];let er,nr=!0;if(Hn){if(!Hn.modified_)return Hn.base_;Hn.finalized_=!0,er=shallowCopy(tr,Hn.scope_.immer_.useStrictShallowCopy_),nr=Hn.scope_.immer_.shouldUseStrictIteration()}else er=shallowCopy(tr,!0);return each(er,(ir,rr)=>{set(er,ir,currentImpl(rr))},nr),Hn&&(Hn.finalized_=!1),er}var immer=new Immer2,produce=immer.produce,setUseStrictIteration=immer.setUseStrictIteration.bind(immer);function castDraft(tr){return tr}function createThunkMiddleware(tr){return({dispatch:er,getState:nr})=>ir=>rr=>typeof rr=="function"?rr(er,nr,tr):ir(rr)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(tr,Hn){function er(...nr){if(Hn){let ir=Hn(...nr);if(!ir)throw new Error(formatProdErrorMessage(0));return{type:tr,payload:ir.payload,..."meta"in ir&&{meta:ir.meta},..."error"in ir&&{error:ir.error}}}return{type:tr,payload:nr[0]}}return er.toString=()=>`${tr}`,er.type=tr,er.match=nr=>isAction(nr)&&nr.type===tr,er}var Tuple=class v0 extends Array{constructor(...Hn){super(...Hn),Object.setPrototypeOf(this,v0.prototype)}static get[Symbol.species](){return v0}concat(...Hn){return super.concat.apply(this,Hn)}prepend(...Hn){return Hn.length===1&&Array.isArray(Hn[0])?new v0(...Hn[0].concat(this)):new v0(...Hn.concat(this))}};function freezeDraftable(tr){return isDraftable(tr)?produce(tr,()=>{}):tr}function getOrInsertComputed(tr,Hn,er){return tr.has(Hn)?tr.get(Hn):tr.set(Hn,er(Hn)).get(Hn)}function isBoolean(tr){return typeof tr=="boolean"}var buildGetDefaultMiddleware=()=>function(Hn){const{thunk:er=!0,immutableCheck:nr=!0,serializableCheck:ir=!0,actionCreatorCheck:rr=!0}=Hn??{};let sr=new Tuple;return er&&(isBoolean(er)?sr.push(thunk):sr.push(withExtraArgument(er.extraArgument))),sr},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>tr=>({payload:tr,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=tr=>Hn=>{setTimeout(Hn,tr)},autoBatchEnhancer=(tr={type:"raf"})=>Hn=>(...er)=>{const nr=Hn(...er);let ir=!0,rr=!1,sr=!1;const ar=new Set,or=tr.type==="tick"?queueMicrotask:tr.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):tr.type==="callback"?tr.queueNotification:createQueueWithTimer(tr.timeout),lr=()=>{sr=!1,rr&&(rr=!1,ar.forEach(cr=>cr()))};return Object.assign({},nr,{subscribe(cr){const ur=()=>ir&&cr(),dr=nr.subscribe(ur);return ar.add(cr),()=>{dr(),ar.delete(cr)}},dispatch(cr){try{return ir=!cr?.meta?.[SHOULD_AUTOBATCH],rr=!ir,rr&&(sr||(sr=!0,or(lr))),nr.dispatch(cr)}finally{ir=!0}}})},buildGetDefaultEnhancers=tr=>function(er){const{autoBatch:nr=!0}=er??{};let ir=new Tuple(tr);return nr&&ir.push(autoBatchEnhancer(typeof nr=="object"?nr:void 0)),ir};function configureStore(tr){const Hn=buildGetDefaultMiddleware(),{reducer:er=void 0,middleware:nr,devTools:ir=!0,preloadedState:rr=void 0,enhancers:sr=void 0}=tr||{};let ar;if(typeof er=="function")ar=er;else if(isPlainObject$4(er))ar=combineReducers(er);else throw new Error(formatProdErrorMessage(1));let or;typeof nr=="function"?or=nr(Hn):or=Hn();let lr=compose$1;ir&&(lr=composeWithDevTools({trace:!1,...typeof ir=="object"&&ir}));const cr=applyMiddleware(...or),ur=buildGetDefaultEnhancers(cr);let dr=typeof sr=="function"?sr(ur):ur();const fr=lr(...dr);return createStore(ar,rr,fr)}function executeReducerBuilderCallback(tr){const Hn={},er=[];let nr;const ir={addCase(rr,sr){const ar=typeof rr=="string"?rr:rr.type;if(!ar)throw new Error(formatProdErrorMessage(28));if(ar in Hn)throw new Error(formatProdErrorMessage(29));return Hn[ar]=sr,ir},addAsyncThunk(rr,sr){return sr.pending&&(Hn[rr.pending.type]=sr.pending),sr.rejected&&(Hn[rr.rejected.type]=sr.rejected),sr.fulfilled&&(Hn[rr.fulfilled.type]=sr.fulfilled),sr.settled&&er.push({matcher:rr.settled,reducer:sr.settled}),ir},addMatcher(rr,sr){return er.push({matcher:rr,reducer:sr}),ir},addDefaultCase(rr){return nr=rr,ir}};return tr(ir),[Hn,er,nr]}setUseStrictIteration(!1);function isStateFunction(tr){return typeof tr=="function"}function createReducer(tr,Hn){let[er,nr,ir]=executeReducerBuilderCallback(Hn),rr;if(isStateFunction(tr))rr=()=>freezeDraftable(tr());else{const ar=freezeDraftable(tr);rr=()=>ar}function sr(ar=rr(),or){let lr=[er[or.type],...nr.filter(({matcher:cr})=>cr(or)).map(({reducer:cr})=>cr)];return lr.filter(cr=>!!cr).length===0&&(lr=[ir]),lr.reduce((cr,ur)=>{if(ur)if(isDraft(cr)){const fr=ur(cr,or);return fr===void 0?cr:fr}else{if(isDraftable(cr))return produce(cr,dr=>ur(dr,or));{const dr=ur(cr,or);if(dr===void 0){if(cr===null)return cr;throw Error("A case reducer on a non-draftable value must not return undefined")}return dr}}return cr},ar)}return sr.getInitialState=rr,sr}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(tr=21)=>{let Hn="",er=tr;for(;er--;)Hn+=urlAlphabet[Math.random()*64|0];return Hn},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(tr,Hn){return`${tr}/${Hn}`}function buildCreateSlice({creators:tr}={}){const Hn=tr?.asyncThunk?.[asyncThunkSymbol];return function(nr){const{name:ir,reducerPath:rr=ir}=nr;if(!ir)throw new Error(formatProdErrorMessage(11));const sr=(typeof nr.reducers=="function"?nr.reducers(buildReducerCreators()):nr.reducers)||{},ar=Object.keys(sr),or={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},lr={addCase(Tr,Lr){const Mr=typeof Tr=="string"?Tr:Tr.type;if(!Mr)throw new Error(formatProdErrorMessage(12));if(Mr in or.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return or.sliceCaseReducersByType[Mr]=Lr,lr},addMatcher(Tr,Lr){return or.sliceMatchers.push({matcher:Tr,reducer:Lr}),lr},exposeAction(Tr,Lr){return or.actionCreators[Tr]=Lr,lr},exposeCaseReducer(Tr,Lr){return or.sliceCaseReducersByName[Tr]=Lr,lr}};ar.forEach(Tr=>{const Lr=sr[Tr],Mr={reducerName:Tr,type:getType(ir,Tr),createNotation:typeof nr.reducers=="function"};isAsyncThunkSliceReducerDefinition(Lr)?handleThunkCaseReducerDefinition(Mr,Lr,lr,Hn):handleNormalReducerDefinition(Mr,Lr,lr)});function cr(){const[Tr={},Lr=[],Mr=void 0]=typeof nr.extraReducers=="function"?executeReducerBuilderCallback(nr.extraReducers):[nr.extraReducers],Nr={...Tr,...or.sliceCaseReducersByType};return createReducer(nr.initialState,Or=>{for(let Fr in Nr)Or.addCase(Fr,Nr[Fr]);for(let Fr of or.sliceMatchers)Or.addMatcher(Fr.matcher,Fr.reducer);for(let Fr of Lr)Or.addMatcher(Fr.matcher,Fr.reducer);Mr&&Or.addDefaultCase(Mr)})}const ur=Tr=>Tr,dr=new Map,fr=new WeakMap;let gr;function yr(Tr,Lr){return gr||(gr=cr()),gr(Tr,Lr)}function vr(){return gr||(gr=cr()),gr.getInitialState()}function jr(Tr,Lr=!1){function Mr(Or){let Fr=Or[Tr];return typeof Fr>"u"&&Lr&&(Fr=getOrInsertComputed(fr,Mr,vr)),Fr}function Nr(Or=ur){const Fr=getOrInsertComputed(dr,Lr,()=>new WeakMap);return getOrInsertComputed(Fr,Or,()=>{const Gr={};for(const[qr,Hr]of Object.entries(nr.selectors??{}))Gr[qr]=wrapSelector(Hr,Or,()=>getOrInsertComputed(fr,Or,vr),Lr);return Gr})}return{reducerPath:Tr,getSelectors:Nr,get selectors(){return Nr(Mr)},selectSlice:Mr}}const Sr={name:ir,reducer:yr,actions:or.actionCreators,caseReducers:or.sliceCaseReducersByName,getInitialState:vr,...jr(rr),injectInto(Tr,{reducerPath:Lr,...Mr}={}){const Nr=Lr??rr;return Tr.inject({reducerPath:Nr,reducer:yr},Mr),{...Sr,...jr(Nr,!0)}}};return Sr}}function wrapSelector(tr,Hn,er,nr){function ir(rr,...sr){let ar=Hn(rr);return typeof ar>"u"&&nr&&(ar=er()),tr(ar,...sr)}return ir.unwrapped=tr,ir}var createSlice=buildCreateSlice();function buildReducerCreators(){function tr(Hn,er){return{_reducerDefinitionType:"asyncThunk",payloadCreator:Hn,...er}}return tr.withTypes=()=>tr,{reducer(Hn){return Object.assign({[Hn.name](...er){return Hn(...er)}}[Hn.name],{_reducerDefinitionType:"reducer"})},preparedReducer(Hn,er){return{_reducerDefinitionType:"reducerWithPrepare",prepare:Hn,reducer:er}},asyncThunk:tr}}function handleNormalReducerDefinition({type:tr,reducerName:Hn,createNotation:er},nr,ir){let rr,sr;if("reducer"in nr){if(er&&!isCaseReducerWithPrepareDefinition(nr))throw new Error(formatProdErrorMessage(17));rr=nr.reducer,sr=nr.prepare}else rr=nr;ir.addCase(tr,rr).exposeCaseReducer(Hn,rr).exposeAction(Hn,sr?createAction(tr,sr):createAction(tr))}function isAsyncThunkSliceReducerDefinition(tr){return tr._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(tr){return tr._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:tr,reducerName:Hn},er,nr,ir){if(!ir)throw new Error(formatProdErrorMessage(18));const{payloadCreator:rr,fulfilled:sr,pending:ar,rejected:or,settled:lr,options:cr}=er,ur=ir(tr,rr,cr);nr.exposeAction(Hn,ur),sr&&nr.addCase(ur.fulfilled,sr),ar&&nr.addCase(ur.pending,ar),or&&nr.addCase(ur.rejected,or),lr&&nr.addMatcher(ur.settled,lr),nr.exposeCaseReducer(Hn,{fulfilled:sr||noop,pending:ar||noop,rejected:or||noop,settled:lr||noop})}function noop(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(tr){this.code=tr,this.message=`${task} ${cancelled} (reason: ${tr})`}name="TaskAbortError";message},assertFunction=(tr,Hn)=>{if(typeof tr!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(tr,Hn=noop2)=>(tr.catch(Hn),tr),addAbortSignalListener=(tr,Hn)=>(tr.addEventListener("abort",Hn,{once:!0}),()=>tr.removeEventListener("abort",Hn)),abortControllerWithReason=(tr,Hn)=>{const er=tr.signal;er.aborted||("reason"in er||Object.defineProperty(er,"reason",{enumerable:!0,value:Hn,configurable:!0,writable:!0}),tr.abort(Hn))},validateActive=tr=>{if(tr.aborted){const{reason:Hn}=tr;throw new TaskAbortError(Hn)}};function raceWithSignal(tr,Hn){let er=noop2;return new Promise((nr,ir)=>{const rr=()=>ir(new TaskAbortError(tr.reason));if(tr.aborted){rr();return}er=addAbortSignalListener(tr,rr),Hn.finally(()=>er()).then(nr,ir)}).finally(()=>{er=noop2})}var runTask=async(tr,Hn)=>{try{return await Promise.resolve(),{status:"ok",value:await tr()}}catch(er){return{status:er instanceof TaskAbortError?"cancelled":"rejected",error:er}}finally{Hn?.()}},createPause=tr=>Hn=>catchRejection(raceWithSignal(tr,Hn).then(er=>(validateActive(tr),er))),createDelay=tr=>{const Hn=createPause(tr);return er=>Hn(new Promise(nr=>setTimeout(nr,er)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(tr,Hn)=>{const er=nr=>addAbortSignalListener(tr,()=>abortControllerWithReason(nr,tr.reason));return(nr,ir)=>{assertFunction(nr);const rr=new AbortController;er(rr);const sr=runTask(async()=>{validateActive(tr),validateActive(rr.signal);const ar=await nr({pause:createPause(rr.signal),delay:createDelay(rr.signal),signal:rr.signal});return validateActive(rr.signal),ar},()=>abortControllerWithReason(rr,taskCompleted));return ir?.autoJoin&&Hn.push(sr.catch(noop2)),{result:createPause(tr)(sr),cancel(){abortControllerWithReason(rr,taskCancelled)}}}},createTakePattern=(tr,Hn)=>{const er=async(nr,ir)=>{validateActive(Hn);let rr=()=>{};const ar=[new Promise((or,lr)=>{let cr=tr({predicate:nr,effect:(ur,dr)=>{dr.unsubscribe(),or([ur,dr.getState(),dr.getOriginalState()])}});rr=()=>{cr(),lr()}})];ir!=null&&ar.push(new Promise(or=>setTimeout(or,ir,null)));try{const or=await raceWithSignal(Hn,Promise.race(ar));return validateActive(Hn),or}finally{rr()}};return(nr,ir)=>catchRejection(er(nr,ir))},getListenerEntryPropsFrom=tr=>{let{type:Hn,actionCreator:er,matcher:nr,predicate:ir,effect:rr}=tr;if(Hn)ir=createAction(Hn).match;else if(er)Hn=er.type,ir=er.match;else if(nr)ir=nr;else if(!ir)throw new Error(formatProdErrorMessage(21));return assertFunction(rr),{predicate:ir,type:Hn,effect:rr}},createListenerEntry=assign(tr=>{const{type:Hn,predicate:er,effect:nr}=getListenerEntryPropsFrom(tr);return{id:nanoid(),effect:nr,type:Hn,predicate:er,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(tr,Hn)=>{const{type:er,effect:nr,predicate:ir}=getListenerEntryPropsFrom(Hn);return Array.from(tr.values()).find(rr=>(typeof er=="string"?rr.type===er:rr.predicate===ir)&&rr.effect===nr)},cancelActiveListeners=tr=>{tr.pending.forEach(Hn=>{abortControllerWithReason(Hn,listenerCancelled)})},createClearListenerMiddleware=(tr,Hn)=>()=>{for(const er of Hn.keys())cancelActiveListeners(er);tr.clear()},safelyNotifyError=(tr,Hn,er)=>{try{tr(Hn,er)}catch(nr){setTimeout(()=>{throw nr},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...tr)=>{console.error(`${alm}/error`,...tr)},createListenerMiddleware=(tr={})=>{const Hn=new Map,er=new Map,nr=fr=>{const gr=er.get(fr)??0;er.set(fr,gr+1)},ir=fr=>{const gr=er.get(fr)??1;gr===1?er.delete(fr):er.set(fr,gr-1)},{extra:rr,onError:sr=defaultErrorHandler}=tr;assertFunction(sr);const ar=fr=>(fr.unsubscribe=()=>Hn.delete(fr.id),Hn.set(fr.id,fr),gr=>{fr.unsubscribe(),gr?.cancelActive&&cancelActiveListeners(fr)}),or=fr=>{const gr=findListenerEntry(Hn,fr)??createListenerEntry(fr);return ar(gr)};assign(or,{withTypes:()=>or});const lr=fr=>{const gr=findListenerEntry(Hn,fr);return gr&&(gr.unsubscribe(),fr.cancelActive&&cancelActiveListeners(gr)),!!gr};assign(lr,{withTypes:()=>lr});const cr=async(fr,gr,yr,vr)=>{const jr=new AbortController,Sr=createTakePattern(or,jr.signal),Tr=[];try{fr.pending.add(jr),nr(fr),await Promise.resolve(fr.effect(gr,assign({},yr,{getOriginalState:vr,condition:(Lr,Mr)=>Sr(Lr,Mr).then(Boolean),take:Sr,delay:createDelay(jr.signal),pause:createPause(jr.signal),extra:rr,signal:jr.signal,fork:createFork(jr.signal,Tr),unsubscribe:fr.unsubscribe,subscribe:()=>{Hn.set(fr.id,fr)},cancelActiveListeners:()=>{fr.pending.forEach((Lr,Mr,Nr)=>{Lr!==jr&&(abortControllerWithReason(Lr,listenerCancelled),Nr.delete(Lr))})},cancel:()=>{abortControllerWithReason(jr,listenerCancelled),fr.pending.delete(jr)},throwIfCancelled:()=>{validateActive(jr.signal)}})))}catch(Lr){Lr instanceof TaskAbortError||safelyNotifyError(sr,Lr,{raisedBy:"effect"})}finally{await Promise.all(Tr),abortControllerWithReason(jr,listenerCompleted),ir(fr),fr.pending.delete(jr)}},ur=createClearListenerMiddleware(Hn,er);return{middleware:fr=>gr=>yr=>{if(!isAction(yr))return gr(yr);if(addListener.match(yr))return or(yr.payload);if(clearAllListeners.match(yr)){ur();return}if(removeListener.match(yr))return lr(yr.payload);let vr=fr.getState();const jr=()=>{if(vr===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return vr};let Sr;try{if(Sr=gr(yr),Hn.size>0){const Tr=fr.getState(),Lr=Array.from(Hn.values());for(const Mr of Lr){let Nr=!1;try{Nr=Mr.predicate(yr,Tr,vr)}catch(Or){Nr=!1,safelyNotifyError(sr,Or,{raisedBy:"predicate"})}Nr&&cr(Mr,yr,fr,jr)}}}finally{vr=INTERNAL_NIL_TOKEN}return Sr},startListening:or,stopListening:lr,clearListeners:ur}};function formatProdErrorMessage(tr){return`Minified Redux Toolkit error #${tr}; visit https://redux-toolkit.js.org/Errors?code=${tr} for the full message or use the non-minified dev environment for full errors. `}var initialState$b={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$b,reducers:{setLayout(tr,Hn){tr.layoutType=Hn.payload},setChartSize(tr,Hn){tr.width=Hn.payload.width,tr.height=Hn.payload.height},setMargin(tr,Hn){var er,nr,ir,rr;tr.margin.top=(er=Hn.payload.top)!==null&&er!==void 0?er:0,tr.margin.right=(nr=Hn.payload.right)!==null&&nr!==void 0?nr:0,tr.margin.bottom=(ir=Hn.payload.bottom)!==null&&ir!==void 0?ir:0,tr.margin.left=(rr=Hn.payload.left)!==null&&rr!==void 0?rr:0},setScale(tr,Hn){tr.scale=Hn.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function getSliced(tr,Hn,er){return Array.isArray(tr)&&tr&&Hn+er!==0?tr.slice(Hn,er+1):tr}function ownKeys$y(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$y(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$y(Object(er),!0).forEach(function(nr){_defineProperty$z(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$y(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$z(tr,Hn,er){return(Hn=_toPropertyKey$z(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$z(tr){var Hn=_toPrimitive$z(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$z(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function getValueByDataKey(tr,Hn,er){return isNullish(tr)||isNullish(Hn)?er:isNumOrStr(Hn)?get(tr,Hn,er):typeof Hn=="function"?Hn(tr):er}var appendOffsetOfLegend=(tr,Hn,er)=>{if(Hn&&er){var{width:nr,height:ir}=er,{align:rr,verticalAlign:sr,layout:ar}=Hn;if((ar==="vertical"||ar==="horizontal"&&sr==="middle")&&rr!=="center"&&isNumber(tr[rr]))return _objectSpread$y(_objectSpread$y({},tr),{},{[rr]:tr[rr]+(nr||0)});if((ar==="horizontal"||ar==="vertical"&&rr==="center")&&sr!=="middle"&&isNumber(tr[sr]))return _objectSpread$y(_objectSpread$y({},tr),{},{[sr]:tr[sr]+(ir||0)})}return tr},isCategoricalAxis=(tr,Hn)=>tr==="horizontal"&&Hn==="xAxis"||tr==="vertical"&&Hn==="yAxis"||tr==="centric"&&Hn==="angleAxis"||tr==="radial"&&Hn==="radiusAxis",getCoordinatesOfGrid=(tr,Hn,er,nr)=>{if(nr)return tr.map(ar=>ar.coordinate);var ir,rr,sr=tr.map(ar=>(ar.coordinate===Hn&&(ir=!0),ar.coordinate===er&&(rr=!0),ar.coordinate));return ir||sr.push(Hn),rr||sr.push(er),sr},getTicksOfAxis=(tr,Hn,er)=>{if(!tr)return null;var{duplicateDomain:nr,type:ir,range:rr,scale:sr,realScaleType:ar,isCategorical:or,categoricalDomain:lr,tickCount:cr,ticks:ur,niceTicks:dr,axisType:fr}=tr;if(!sr)return null;var gr=ar==="scaleBand"&&sr.bandwidth?sr.bandwidth()/2:2,yr=ir==="category"&&sr.bandwidth?sr.bandwidth()/gr:0;if(yr=fr==="angleAxis"&&rr&&rr.length>=2?mathSign(rr[0]-rr[1])*2*yr:yr,ur||dr){var vr=(ur||dr||[]).map((jr,Sr)=>{var Tr=nr?nr.indexOf(jr):jr;return{coordinate:sr(Tr)+yr,value:jr,offset:yr,index:Sr}});return vr.filter(jr=>!isNan(jr.coordinate))}return or&&lr?lr.map((jr,Sr)=>({coordinate:sr(jr)+yr,value:jr,index:Sr,offset:yr})):sr.ticks&&cr!=null?sr.ticks(cr).map((jr,Sr)=>({coordinate:sr(jr)+yr,value:jr,offset:yr,index:Sr})):sr.domain().map((jr,Sr)=>({coordinate:sr(jr)+yr,value:nr?nr[jr]:jr,index:Sr,offset:yr}))},EPS=1e-4,checkDomainOfScale=tr=>{var Hn=tr.domain();if(!(!Hn||Hn.length<=2)){var er=Hn.length,nr=tr.range(),ir=Math.min(nr[0],nr[1])-EPS,rr=Math.max(nr[0],nr[1])+EPS,sr=tr(Hn[0]),ar=tr(Hn[er-1]);(sr<ir||sr>rr||ar<ir||ar>rr)&&tr.domain([Hn[0],Hn[er-1]])}},truncateByDomain=(tr,Hn)=>{if(!Hn||Hn.length!==2||!isNumber(Hn[0])||!isNumber(Hn[1]))return tr;var er=Math.min(Hn[0],Hn[1]),nr=Math.max(Hn[0],Hn[1]),ir=[tr[0],tr[1]];return(!isNumber(tr[0])||tr[0]<er)&&(ir[0]=er),(!isNumber(tr[1])||tr[1]>nr)&&(ir[1]=nr),ir[0]>nr&&(ir[0]=nr),ir[1]<er&&(ir[1]=er),ir},offsetSign=tr=>{var Hn=tr.length;if(!(Hn<=0))for(var er=0,nr=tr[0].length;er<nr;++er)for(var ir=0,rr=0,sr=0;sr<Hn;++sr){var ar=isNan(tr[sr][er][1])?tr[sr][er][0]:tr[sr][er][1];ar>=0?(tr[sr][er][0]=ir,tr[sr][er][1]=ir+ar,ir=tr[sr][er][1]):(tr[sr][er][0]=rr,tr[sr][er][1]=rr+ar,rr=tr[sr][er][1])}},offsetPositive=tr=>{var Hn=tr.length;if(!(Hn<=0))for(var er=0,nr=tr[0].length;er<nr;++er)for(var ir=0,rr=0;rr<Hn;++rr){var sr=isNan(tr[rr][er][1])?tr[rr][er][0]:tr[rr][er][1];sr>=0?(tr[rr][er][0]=ir,tr[rr][er][1]=ir+sr,ir=tr[rr][er][1]):(tr[rr][er][0]=0,tr[rr][er][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(tr,Hn,er)=>{var nr=STACK_OFFSET_MAP[er],ir=shapeStack().keys(Hn).value((rr,sr)=>Number(getValueByDataKey(rr,sr,0))).order(stackOrderNone).offset(nr);return ir(tr)};function getNormalizedStackId(tr){return tr==null?void 0:String(tr)}function getCateCoordinateOfLine(tr){var{axis:Hn,ticks:er,bandSize:nr,entry:ir,index:rr,dataKey:sr}=tr;if(Hn.type==="category"){if(!Hn.allowDuplicatedCategory&&Hn.dataKey&&!isNullish(ir[Hn.dataKey])){var ar=findEntryInArray(er,"value",ir[Hn.dataKey]);if(ar)return ar.coordinate+nr/2}return er[rr]?er[rr].coordinate+nr/2:null}var or=getValueByDataKey(ir,isNullish(sr)?Hn.dataKey:sr);return isNullish(or)?null:Hn.scale(or)}var getCateCoordinateOfBar=tr=>{var{axis:Hn,ticks:er,offset:nr,bandSize:ir,entry:rr,index:sr}=tr;if(Hn.type==="category")return er[sr]?er[sr].coordinate+nr:null;var ar=getValueByDataKey(rr,Hn.dataKey,Hn.scale.domain()[sr]);return isNullish(ar)?null:Hn.scale(ar)-ir/2+nr},getBaseValueOfBar=tr=>{var{numericAxis:Hn}=tr,er=Hn.scale.domain();if(Hn.type==="number"){var nr=Math.min(er[0],er[1]),ir=Math.max(er[0],er[1]);return nr<=0&&ir>=0?0:ir<0?ir:nr}return er[0]},getDomainOfSingle=tr=>{var Hn=tr.flat(2).filter(isNumber);return[Math.min(...Hn),Math.max(...Hn)]},makeDomainFinite=tr=>[tr[0]===1/0?0:tr[0],tr[1]===-1/0?0:tr[1]],getDomainOfStackGroups=(tr,Hn,er)=>{if(tr!=null)return makeDomainFinite(Object.keys(tr).reduce((nr,ir)=>{var rr=tr[ir],{stackedData:sr}=rr,ar=sr.reduce((or,lr)=>{var cr=getSliced(lr,Hn,er),ur=getDomainOfSingle(cr);return[Math.min(or[0],ur[0]),Math.max(or[1],ur[1])]},[1/0,-1/0]);return[Math.min(ar[0],nr[0]),Math.max(ar[1],nr[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(tr,Hn,er)=>{if(tr&&tr.scale&&tr.scale.bandwidth){var nr=tr.scale.bandwidth();if(!er||nr>0)return nr}if(tr&&Hn&&Hn.length>=2){for(var ir=sortBy(Hn,cr=>cr.coordinate),rr=1/0,sr=1,ar=ir.length;sr<ar;sr++){var or=ir[sr],lr=ir[sr-1];rr=Math.min((or.coordinate||0)-(lr.coordinate||0),rr)}return rr===1/0?0:rr}return er?void 0:0};function getTooltipEntry(tr){var{tooltipEntrySettings:Hn,dataKey:er,payload:nr,value:ir,name:rr}=tr;return _objectSpread$y(_objectSpread$y({},Hn),{},{dataKey:er,payload:nr,value:ir,name:rr})}function getTooltipNameProp(tr,Hn){if(tr)return String(tr);if(typeof Hn=="string")return Hn}var calculateCartesianTooltipPos=(tr,Hn)=>{if(Hn==="horizontal")return tr.chartX;if(Hn==="vertical")return tr.chartY},calculatePolarTooltipPos=(tr,Hn)=>Hn==="centric"?tr.angle:tr.radius,selectChartWidth=tr=>tr.layout.width,selectChartHeight=tr=>tr.layout.height,selectContainerScale=tr=>tr.layout.scale,selectMargin=tr=>tr.layout.margin,selectAllXAxes=createSelector(tr=>tr.cartesianAxis.xAxis,tr=>Object.values(tr)),selectAllYAxes=createSelector(tr=>tr.cartesianAxis.yAxis,tr=>Object.values(tr)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$x(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$x(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$x(Object(er),!0).forEach(function(nr){_defineProperty$y(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$x(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$y(tr,Hn,er){return(Hn=_toPropertyKey$y(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$y(tr){var Hn=_toPrimitive$y(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$y(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var selectBrushHeight=tr=>tr.brush.height;function selectLeftAxesOffset(tr){var Hn=selectAllYAxes(tr);return Hn.reduce((er,nr)=>{if(nr.orientation==="left"&&!nr.mirror&&!nr.hide){var ir=typeof nr.width=="number"?nr.width:DEFAULT_Y_AXIS_WIDTH;return er+ir}return er},0)}function selectRightAxesOffset(tr){var Hn=selectAllYAxes(tr);return Hn.reduce((er,nr)=>{if(nr.orientation==="right"&&!nr.mirror&&!nr.hide){var ir=typeof nr.width=="number"?nr.width:DEFAULT_Y_AXIS_WIDTH;return er+ir}return er},0)}function selectTopAxesOffset(tr){var Hn=selectAllXAxes(tr);return Hn.reduce((er,nr)=>nr.orientation==="top"&&!nr.mirror&&!nr.hide?er+nr.height:er,0)}function selectBottomAxesOffset(tr){var Hn=selectAllXAxes(tr);return Hn.reduce((er,nr)=>nr.orientation==="bottom"&&!nr.mirror&&!nr.hide?er+nr.height:er,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(tr,Hn,er,nr,ir,rr,sr,ar,or,lr)=>{var cr={left:(er.left||0)+ir,right:(er.right||0)+rr},ur={top:(er.top||0)+sr,bottom:(er.bottom||0)+ar},dr=_objectSpread$x(_objectSpread$x({},ur),cr),fr=dr.bottom;dr.bottom+=nr,dr=appendOffsetOfLegend(dr,or,lr);var gr=tr-dr.left-dr.right,yr=Hn-dr.top-dr.bottom;return _objectSpread$x(_objectSpread$x({brushBottom:fr},dr),{},{width:Math.max(gr,0),height:Math.max(yr,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,tr=>({x:tr.left,y:tr.top,width:tr.width,height:tr.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(tr,Hn)=>({x:0,y:0,width:tr,height:Hn})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=tr=>tr.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(tr,Hn,er)=>({height:tr.height,x:isNumber(tr.x)?tr.x:Hn.left,y:isNumber(tr.y)?tr.y:Hn.top+Hn.height+Hn.brushBottom-(er?.bottom||0),width:isNumber(tr.width)?tr.width:Hn.width})),throttle$2={},debounce$2={},debounce$1={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er,nr,{signal:ir,edges:rr}={}){let sr,ar=null;const or=rr!=null&&rr.includes("leading"),lr=rr==null||rr.includes("trailing"),cr=()=>{ar!==null&&(er.apply(sr,ar),sr=void 0,ar=null)},ur=()=>{lr&&cr(),yr()};let dr=null;const fr=()=>{dr!=null&&clearTimeout(dr),dr=setTimeout(()=>{dr=null,ur()},nr)},gr=()=>{dr!==null&&(clearTimeout(dr),dr=null)},yr=()=>{gr(),sr=void 0,ar=null},vr=()=>{cr()},jr=function(...Sr){if(ir?.aborted)return;sr=this,ar=Sr;const Tr=dr==null;fr(),or&&Tr&&cr()};return jr.schedule=fr,jr.cancel=yr,jr.flush=vr,ir?.addEventListener("abort",yr,{once:!0}),jr}tr.debounce=Hn})(debounce$1)),debounce$1}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireDebounce$1();function er(nr,ir=0,rr={}){typeof rr!="object"&&(rr={});const{leading:sr=!1,trailing:ar=!0,maxWait:or}=rr,lr=Array(2);sr&&(lr[0]="leading"),ar&&(lr[1]="trailing");let cr,ur=null;const dr=Hn.debounce(function(...yr){cr=nr.apply(this,yr),ur=null},ir,{edges:lr}),fr=function(...yr){return or!=null&&(ur===null&&(ur=Date.now()),Date.now()-ur>=or)?(cr=nr.apply(this,yr),ur=Date.now(),dr.cancel(),dr.schedule(),cr):(dr.apply(this,yr),cr)},gr=()=>(dr.flush(),cr);return fr.cancel=dr.cancel,fr.flush=gr,fr}tr.debounce=er})(debounce$2)),debounce$2}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireDebounce();function er(nr,ir=0,rr={}){const{leading:sr=!0,trailing:ar=!0}=rr;return Hn.debounce(nr,ir,{leading:sr,maxWait:ir,trailing:ar})}tr.throttle=er})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function tr(Hn,er){for(var nr=arguments.length,ir=new Array(nr>2?nr-2:0),rr=2;rr<nr;rr++)ir[rr-2]=arguments[rr];if(typeof console<"u"&&console.warn&&(er===void 0&&console.warn("LogUtils requires an error message argument"),!Hn))if(er===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var sr=0;console.warn(er.replace(/%s/g,()=>ir[sr++]))}},calculateChartDimensions=(tr,Hn,er)=>{var{width:nr="100%",height:ir="100%",aspect:rr,maxHeight:sr}=er,ar=isPercent(nr)?tr:Number(nr),or=isPercent(ir)?Hn:Number(ir);return rr&&rr>0&&(ar?or=ar/rr:or&&(ar=or*rr),sr&&or!=null&&or>sr&&(or=sr)),{calculatedWidth:ar,calculatedHeight:or}},bothOverflow={width:0,height:0,overflow:"visible"},overflowX={width:0,overflowX:"visible"},overflowY={height:0,overflowY:"visible"},noStyle={},getInnerDivStyle=tr=>{var{width:Hn,height:er}=tr,nr=isPercent(Hn),ir=isPercent(er);return nr&&ir?bothOverflow:nr?overflowX:ir?overflowY:noStyle};function getDefaultWidthAndHeight(tr){var{width:Hn,height:er,aspect:nr}=tr,ir=Hn,rr=er;return ir===void 0&&rr===void 0?(ir="100%",rr="100%"):ir===void 0?ir=nr&&nr>0?void 0:"100%":rr===void 0&&(rr=nr&&nr>0?void 0:"100%"),{width:ir,height:rr}}function isWellBehavedNumber(tr){return Number.isFinite(tr)}function isPositiveNumber(tr){return typeof tr=="number"&&tr>0&&Number.isFinite(tr)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$n.apply(null,arguments)}function ownKeys$w(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$w(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$w(Object(er),!0).forEach(function(nr){_defineProperty$x(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$w(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$x(tr,Hn,er){return(Hn=_toPropertyKey$x(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$x(tr){var Hn=_toPrimitive$x(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$x(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var ResponsiveContainerContext=reactExports.createContext({width:-1,height:-1});function isAcceptableSize(tr){return isPositiveNumber(tr.width)&&isPositiveNumber(tr.height)}function ResponsiveContainerContextProvider(tr){var{children:Hn,width:er,height:nr}=tr,ir=reactExports.useMemo(()=>({width:er,height:nr}),[er,nr]);return isAcceptableSize(ir)?reactExports.createElement(ResponsiveContainerContext.Provider,{value:ir},Hn):null}var useResponsiveContainerContext=()=>reactExports.useContext(ResponsiveContainerContext),SizeDetectorContainer=reactExports.forwardRef((tr,Hn)=>{var{aspect:er,initialDimension:nr={width:-1,height:-1},width:ir,height:rr,minWidth:sr=0,minHeight:ar,maxHeight:or,children:lr,debounce:cr=0,id:ur,className:dr,onResize:fr,style:gr={}}=tr,yr=reactExports.useRef(null),vr=reactExports.useRef();vr.current=fr,reactExports.useImperativeHandle(Hn,()=>yr.current);var[jr,Sr]=reactExports.useState({containerWidth:nr.width,containerHeight:nr.height}),Tr=reactExports.useCallback((Fr,Gr)=>{Sr(qr=>{var Hr=Math.round(Fr),Yr=Math.round(Gr);return qr.containerWidth===Hr&&qr.containerHeight===Yr?qr:{containerWidth:Hr,containerHeight:Yr}})},[]);reactExports.useEffect(()=>{if(yr.current==null||typeof ResizeObserver>"u")return noop$2;var Fr=Yr=>{var ro,{width:io,height:fo}=Yr[0].contentRect;Tr(io,fo),(ro=vr.current)===null||ro===void 0||ro.call(vr,io,fo)};cr>0&&(Fr=throttle(Fr,cr,{trailing:!0,leading:!1}));var Gr=new ResizeObserver(Fr),{width:qr,height:Hr}=yr.current.getBoundingClientRect();return Tr(qr,Hr),Gr.observe(yr.current),()=>{Gr.disconnect()}},[Tr,cr]);var{containerWidth:Lr,containerHeight:Mr}=jr;warn(!er||er>0,"The aspect(%s) must be greater than zero.",er);var{calculatedWidth:Nr,calculatedHeight:Or}=calculateChartDimensions(Lr,Mr,{width:ir,height:rr,aspect:er,maxHeight:or});return warn(Nr!=null&&Nr>0||Or!=null&&Or>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Nr,Or,ir,rr,sr,ar,er),reactExports.createElement("div",{id:ur?"".concat(ur):void 0,className:clsx("recharts-responsive-container",dr),style:_objectSpread$w(_objectSpread$w({},gr),{},{width:ir,height:rr,minWidth:sr,minHeight:ar,maxHeight:or}),ref:yr},reactExports.createElement("div",{style:getInnerDivStyle({width:ir,height:rr})},reactExports.createElement(ResponsiveContainerContextProvider,{width:Nr,height:Or},lr)))}),ResponsiveContainer=reactExports.forwardRef((tr,Hn)=>{var er=useResponsiveContainerContext();if(isPositiveNumber(er.width)&&isPositiveNumber(er.height))return tr.children;var{width:nr,height:ir}=getDefaultWidthAndHeight({width:tr.width,height:tr.height,aspect:tr.aspect}),{calculatedWidth:rr,calculatedHeight:sr}=calculateChartDimensions(void 0,void 0,{width:nr,height:ir,aspect:tr.aspect,maxHeight:tr.maxHeight});return isNumber(rr)&&isNumber(sr)?reactExports.createElement(ResponsiveContainerContextProvider,{width:rr,height:sr},tr.children):reactExports.createElement(SizeDetectorContainer,_extends$n({},tr,{width:nr,height:ir,ref:Hn}))});function cartesianViewBoxToTrapezoid(tr){if(tr)return{x:tr.x,y:tr.y,upperWidth:"upperWidth"in tr?tr.upperWidth:tr.width,lowerWidth:"lowerWidth"in tr?tr.lowerWidth:tr.width,width:tr.width,height:tr.height}}var useViewBox=()=>{var tr,Hn=useIsPanorama(),er=useAppSelector(selectChartViewBox),nr=useAppSelector(selectBrushDimensions),ir=(tr=useAppSelector(selectBrushSettings))===null||tr===void 0?void 0:tr.padding;return!Hn||!nr||!ir?er:{width:nr.width-ir.left-ir.right,height:nr.height-ir.top-ir.bottom,x:ir.left,y:ir.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var tr;return(tr=useAppSelector(selectChartOffsetInternal))!==null&&tr!==void 0?tr:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),selectChartLayout=tr=>tr.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),useIsInChartContext=()=>{var tr=useChartLayout();return tr!==void 0},ReportChartSize=tr=>{var Hn=useAppDispatch(),er=useIsPanorama(),{width:nr,height:ir}=tr,rr=useResponsiveContainerContext(),sr=nr,ar=ir;return rr&&(sr=rr.width>0?rr.width:nr,ar=rr.height>0?rr.height:ir),reactExports.useEffect(()=>{!er&&isPositiveNumber(sr)&&isPositiveNumber(ar)&&Hn(setChartSize({width:sr,height:ar}))},[Hn,er,sr,ar]),null},initialState$a={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$a,reducers:{setLegendSize(tr,Hn){tr.size.width=Hn.payload.width,tr.size.height=Hn.payload.height},setLegendSettings(tr,Hn){tr.settings.align=Hn.payload.align,tr.settings.layout=Hn.payload.layout,tr.settings.verticalAlign=Hn.payload.verticalAlign,tr.settings.itemSorter=Hn.payload.itemSorter},addLegendPayload:{reducer(tr,Hn){tr.payload.push(Hn.payload)},prepare:prepareAutoBatched()},replaceLegendPayload:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload,ir=current(tr).payload.indexOf(er);ir>-1&&(tr.payload[ir]=nr)},prepare:prepareAutoBatched()},removeLegendPayload:{reducer(tr,Hn){var er=current(tr).payload.indexOf(Hn.payload);er>-1&&tr.payload.splice(er,1)},prepare:prepareAutoBatched()}}}),{setLegendSize,setLegendSettings,addLegendPayload,replaceLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer;function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$m.apply(null,arguments)}function ownKeys$v(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$v(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$v(Object(er),!0).forEach(function(nr){_defineProperty$w(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$v(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$w(tr,Hn,er){return(Hn=_toPropertyKey$w(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$w(tr){var Hn=_toPrimitive$w(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$w(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function defaultFormatter(tr){return Array.isArray(tr)&&isNumOrStr(tr[0])&&isNumOrStr(tr[1])?tr.join(" ~ "):tr}var DefaultTooltipContent=tr=>{var{separator:Hn=" : ",contentStyle:er={},itemStyle:nr={},labelStyle:ir={},payload:rr,formatter:sr,itemSorter:ar,wrapperClassName:or,labelClassName:lr,label:cr,labelFormatter:ur,accessibilityLayer:dr=!1}=tr,fr=()=>{if(rr&&rr.length){var Mr={padding:0,margin:0},Nr=(ar?sortBy(rr,ar):rr).map((Or,Fr)=>{if(Or.type==="none")return null;var Gr=Or.formatter||sr||defaultFormatter,{value:qr,name:Hr}=Or,Yr=qr,ro=Hr;if(Gr){var io=Gr(qr,Hr,Or,Fr,rr);if(Array.isArray(io))[Yr,ro]=io;else if(io!=null)Yr=io;else return null}var fo=_objectSpread$v({display:"block",paddingTop:4,paddingBottom:4,color:Or.color||"#000"},nr);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Fr),style:fo},isNumOrStr(ro)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},ro):null,isNumOrStr(ro)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},Hn):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},Yr),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},Or.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:Mr},Nr)}return null},gr=_objectSpread$v({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},er),yr=_objectSpread$v({margin:0},ir),vr=!isNullish(cr),jr=vr?cr:"",Sr=clsx("recharts-default-tooltip",or),Tr=clsx("recharts-tooltip-label",lr);vr&&ur&&rr!==void 0&&rr!==null&&(jr=ur(cr,rr));var Lr=dr?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$m({className:Sr,style:gr},Lr),reactExports.createElement("p",{className:Tr,style:yr},reactExports.isValidElement(jr)?jr:"".concat(jr)),fr())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(tr){var{coordinate:Hn,translateX:er,translateY:nr}=tr;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(er)&&Hn&&isNumber(Hn.x)&&er>=Hn.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(er)&&Hn&&isNumber(Hn.x)&&er<Hn.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(nr)&&Hn&&isNumber(Hn.y)&&nr>=Hn.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(nr)&&Hn&&isNumber(Hn.y)&&nr<Hn.y})}function getTooltipTranslateXY(tr){var{allowEscapeViewBox:Hn,coordinate:er,key:nr,offsetTopLeft:ir,position:rr,reverseDirection:sr,tooltipDimension:ar,viewBox:or,viewBoxDimension:lr}=tr;if(rr&&isNumber(rr[nr]))return rr[nr];var cr=er[nr]-ar-(ir>0?ir:0),ur=er[nr]+ir;if(Hn[nr])return sr[nr]?cr:ur;var dr=or[nr];if(dr==null)return 0;if(sr[nr]){var fr=cr,gr=dr;return fr<gr?Math.max(ur,dr):Math.max(cr,dr)}if(lr==null)return 0;var yr=ur+ar,vr=dr+lr;return yr>vr?Math.max(cr,dr):Math.max(ur,dr)}function getTransformStyle(tr){var{translateX:Hn,translateY:er,useTranslate3d:nr}=tr;return{transform:nr?"translate3d(".concat(Hn,"px, ").concat(er,"px, 0)"):"translate(".concat(Hn,"px, ").concat(er,"px)")}}function getTooltipTranslate(tr){var{allowEscapeViewBox:Hn,coordinate:er,offsetTopLeft:nr,position:ir,reverseDirection:rr,tooltipBox:sr,useTranslate3d:ar,viewBox:or}=tr,lr,cr,ur;return sr.height>0&&sr.width>0&&er?(cr=getTooltipTranslateXY({allowEscapeViewBox:Hn,coordinate:er,key:"x",offsetTopLeft:nr,position:ir,reverseDirection:rr,tooltipDimension:sr.width,viewBox:or,viewBoxDimension:or.width}),ur=getTooltipTranslateXY({allowEscapeViewBox:Hn,coordinate:er,key:"y",offsetTopLeft:nr,position:ir,reverseDirection:rr,tooltipDimension:sr.height,viewBox:or,viewBoxDimension:or.height}),lr=getTransformStyle({translateX:cr,translateY:ur,useTranslate3d:ar})):lr=TOOLTIP_HIDDEN,{cssProperties:lr,cssClasses:getTooltipCSSClassName({translateX:cr,translateY:ur,coordinate:er})}}function ownKeys$u(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$u(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$u(Object(er),!0).forEach(function(nr){_defineProperty$v(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$u(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$v(tr,Hn,er){return(Hn=_toPropertyKey$v(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$v(tr){var Hn=_toPrimitive$v(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$v(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$v(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$v(this,"handleKeyDown",Hn=>{if(Hn.key==="Escape"){var er,nr,ir,rr;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(er=(nr=this.props.coordinate)===null||nr===void 0?void 0:nr.x)!==null&&er!==void 0?er:0,y:(ir=(rr=this.props.coordinate)===null||rr===void 0?void 0:rr.y)!==null&&ir!==void 0?ir:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var Hn,er;this.state.dismissed&&(((Hn=this.props.coordinate)===null||Hn===void 0?void 0:Hn.x)!==this.state.dismissedAtCoordinate.x||((er=this.props.coordinate)===null||er===void 0?void 0:er.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:Hn,allowEscapeViewBox:er,animationDuration:nr,animationEasing:ir,children:rr,coordinate:sr,hasPayload:ar,isAnimationActive:or,offset:lr,position:cr,reverseDirection:ur,useTranslate3d:dr,viewBox:fr,wrapperStyle:gr,lastBoundingBox:yr,innerRef:vr,hasPortalFromProps:jr}=this.props,{cssClasses:Sr,cssProperties:Tr}=getTooltipTranslate({allowEscapeViewBox:er,coordinate:sr,offsetTopLeft:lr,position:cr,reverseDirection:ur,tooltipBox:{height:yr.height,width:yr.width},useTranslate3d:dr,viewBox:fr}),Lr=jr?{}:_objectSpread$u(_objectSpread$u({transition:or&&Hn?"transform ".concat(nr,"ms ").concat(ir):void 0},Tr),{},{pointerEvents:"none",visibility:!this.state.dismissed&&Hn&&ar?"visible":"hidden",position:"absolute",top:0,left:0}),Mr=_objectSpread$u(_objectSpread$u({},Lr),{},{visibility:!this.state.dismissed&&Hn&&ar?"visible":"hidden"},gr);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:Sr,style:Mr,ref:vr},rr)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={devToolsEnabled:!1,isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>{var tr;return(tr=useAppSelector(Hn=>Hn.rootProps.accessibilityLayer))!==null&&tr!==void 0?tr:!0};function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$l.apply(null,arguments)}function ownKeys$t(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$t(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$t(Object(er),!0).forEach(function(nr){_defineProperty$u(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$t(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$u(tr,Hn,er){return(Hn=_toPropertyKey$u(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$u(tr){var Hn=_toPrimitive$u(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$u(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=tr=>isWellBehavedNumber(tr.x)&&isWellBehavedNumber(tr.y),areaDefined=tr=>tr.base!=null&&defined(tr.base)&&defined(tr),getX=tr=>tr.x,getY=tr=>tr.y,getCurveFactory=(tr,Hn)=>{if(typeof tr=="function")return tr;var er="curve".concat(upperFirst(tr));return(er==="curveMonotone"||er==="curveBump")&&Hn?CURVE_FACTORIES["".concat(er).concat(Hn==="vertical"?"Y":"X")]:CURVE_FACTORIES[er]||curveLinear},getPath$1=tr=>{var{type:Hn="linear",points:er=[],baseLine:nr,layout:ir,connectNulls:rr=!1}=tr,sr=getCurveFactory(Hn,ir),ar=rr?er.filter(defined):er,or;if(Array.isArray(nr)){var lr=er.map((fr,gr)=>_objectSpread$t(_objectSpread$t({},fr),{},{base:nr[gr]}));ir==="vertical"?or=shapeArea().y(getY).x1(getX).x0(fr=>fr.base.x):or=shapeArea().x(getX).y1(getY).y0(fr=>fr.base.y);var cr=or.defined(areaDefined).curve(sr),ur=rr?lr.filter(areaDefined):lr;return cr(ur)}ir==="vertical"&&isNumber(nr)?or=shapeArea().y(getY).x1(getX).x0(nr):isNumber(nr)?or=shapeArea().x(getX).y1(getY).y0(nr):or=shapeLine().x(getX).y(getY);var dr=or.defined(defined).curve(sr);return dr(ar)},Curve=tr=>{var{className:Hn,points:er,path:nr,pathRef:ir}=tr;if((!er||!er.length)&&!nr)return null;var rr=er&&er.length?getPath$1(tr):nr;return reactExports.createElement("path",_extends$l({},svgPropertiesNoEvents(tr),adaptEventHandlers(tr),{className:clsx("recharts-curve",Hn),d:rr===null?void 0:rr,ref:ir}))},_excluded$j=["x","y","top","left","width","height","className"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$k.apply(null,arguments)}function ownKeys$s(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$s(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$s(Object(er),!0).forEach(function(nr){_defineProperty$t(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$s(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$t(tr,Hn,er){return(Hn=_toPropertyKey$t(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$t(tr){var Hn=_toPrimitive$t(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$t(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$i(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$j(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$j(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var getPath=(tr,Hn,er,nr,ir,rr)=>"M".concat(tr,",").concat(ir,"v").concat(nr,"M").concat(rr,",").concat(Hn,"h").concat(er),Cross=tr=>{var{x:Hn=0,y:er=0,top:nr=0,left:ir=0,width:rr=0,height:sr=0,className:ar}=tr,or=_objectWithoutProperties$i(tr,_excluded$j),lr=_objectSpread$s({x:Hn,y:er,top:nr,left:ir,width:rr,height:sr},or);return!isNumber(Hn)||!isNumber(er)||!isNumber(rr)||!isNumber(sr)||!isNumber(nr)||!isNumber(ir)?null:reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(lr),{className:clsx("recharts-cross",ar),d:getPath(Hn,er,rr,sr,nr,ir)}))};function getCursorRectangle(tr,Hn,er,nr){var ir=nr/2;return{stroke:"none",fill:"#ccc",x:tr==="horizontal"?Hn.x-ir:er.left+.5,y:tr==="horizontal"?er.top+.5:Hn.y-ir,width:tr==="horizontal"?nr:er.width-1,height:tr==="horizontal"?er.height-1:nr}}function ownKeys$r(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$r(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$r(Object(er),!0).forEach(function(nr){_defineProperty$s(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$r(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$s(tr,Hn,er){return(Hn=_toPropertyKey$s(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$s(tr){var Hn=_toPrimitive$s(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$s(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var getDashCase=tr=>tr.replace(/([A-Z])/g,Hn=>"-".concat(Hn.toLowerCase())),getTransitionVal=(tr,Hn,er)=>tr.map(nr=>"".concat(getDashCase(nr)," ").concat(Hn,"ms ").concat(er)).join(","),getIntersectionKeys=(tr,Hn)=>[Object.keys(tr),Object.keys(Hn)].reduce((er,nr)=>er.filter(ir=>nr.includes(ir))),mapObject=(tr,Hn)=>Object.keys(Hn).reduce((er,nr)=>_objectSpread$r(_objectSpread$r({},er),{},{[nr]:tr(nr,Hn[nr])}),{});function ownKeys$q(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$q(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$q(Object(er),!0).forEach(function(nr){_defineProperty$r(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$q(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$r(tr,Hn,er){return(Hn=_toPropertyKey$r(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$r(tr){var Hn=_toPrimitive$r(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$r(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var alpha=(tr,Hn,er)=>tr+(Hn-tr)*er,needContinue=tr=>{var{from:Hn,to:er}=tr;return Hn!==er},calStepperVals=(tr,Hn,er)=>{var nr=mapObject((ir,rr)=>{if(needContinue(rr)){var[sr,ar]=tr(rr.from,rr.to,rr.velocity);return _objectSpread$q(_objectSpread$q({},rr),{},{from:sr,velocity:ar})}return rr},Hn);return er<1?mapObject((ir,rr)=>needContinue(rr)?_objectSpread$q(_objectSpread$q({},rr),{},{velocity:alpha(rr.velocity,nr[ir].velocity,er),from:alpha(rr.from,nr[ir].from,er)}):rr,Hn):calStepperVals(tr,nr,er-1)};function createStepperUpdate(tr,Hn,er,nr,ir,rr){var sr,ar=nr.reduce((dr,fr)=>_objectSpread$q(_objectSpread$q({},dr),{},{[fr]:{from:tr[fr],velocity:0,to:Hn[fr]}}),{}),or=()=>mapObject((dr,fr)=>fr.from,ar),lr=()=>!Object.values(ar).filter(needContinue).length,cr=null,ur=dr=>{sr||(sr=dr);var fr=dr-sr,gr=fr/er.dt;ar=calStepperVals(er,ar,gr),ir(_objectSpread$q(_objectSpread$q(_objectSpread$q({},tr),Hn),or())),sr=dr,lr()||(cr=rr.setTimeout(ur))};return()=>(cr=rr.setTimeout(ur),()=>{var dr;(dr=cr)===null||dr===void 0||dr()})}function createTimingUpdate(tr,Hn,er,nr,ir,rr,sr){var ar=null,or=ir.reduce((ur,dr)=>_objectSpread$q(_objectSpread$q({},ur),{},{[dr]:[tr[dr],Hn[dr]]}),{}),lr,cr=ur=>{lr||(lr=ur);var dr=(ur-lr)/nr,fr=mapObject((yr,vr)=>alpha(...vr,er(dr)),or);if(rr(_objectSpread$q(_objectSpread$q(_objectSpread$q({},tr),Hn),fr)),dr<1)ar=sr.setTimeout(cr);else{var gr=mapObject((yr,vr)=>alpha(...vr,er(1)),or);rr(_objectSpread$q(_objectSpread$q(_objectSpread$q({},tr),Hn),gr))}};return()=>(ar=sr.setTimeout(cr),()=>{var ur;(ur=ar)===null||ur===void 0||ur()})}const configUpdate=(tr,Hn,er,nr,ir,rr)=>{var sr=getIntersectionKeys(tr,Hn);return er==null?()=>(ir(_objectSpread$q(_objectSpread$q({},tr),Hn)),()=>{}):er.isStepper===!0?createStepperUpdate(tr,Hn,er,sr,ir,rr):createTimingUpdate(tr,Hn,er,nr,sr,ir,rr)};var ACCURACY=1e-4,cubicBezierFactor=(tr,Hn)=>[0,3*tr,3*Hn-6*tr,3*tr-3*Hn+1],evaluatePolynomial=(tr,Hn)=>tr.map((er,nr)=>er*Hn**nr).reduce((er,nr)=>er+nr),cubicBezier=(tr,Hn)=>er=>{var nr=cubicBezierFactor(tr,Hn);return evaluatePolynomial(nr,er)},derivativeCubicBezier=(tr,Hn)=>er=>{var nr=cubicBezierFactor(tr,Hn),ir=[...nr.map((rr,sr)=>rr*sr).slice(1),0];return evaluatePolynomial(ir,er)},getBezierCoordinates=function tr(){for(var Hn=arguments.length,er=new Array(Hn),nr=0;nr<Hn;nr++)er[nr]=arguments[nr];if(er.length===1)switch(er[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var ir,rr=er[0].split("(");if(rr[0]==="cubic-bezier"&&((ir=rr[1])===null||ir===void 0?void 0:ir.split(")")[0].split(",").length)===4){var sr=rr[1].split(")")[0].split(",").map(ar=>parseFloat(ar));return[sr[0],sr[1],sr[2],sr[3]]}}}return er.length===4?er:[0,0,1,1]},createBezierEasing=(tr,Hn,er,nr)=>{var ir=cubicBezier(tr,er),rr=cubicBezier(Hn,nr),sr=derivativeCubicBezier(tr,er),ar=lr=>lr>1?1:lr<0?0:lr,or=lr=>{for(var cr=lr>1?1:lr,ur=cr,dr=0;dr<8;++dr){var fr=ir(ur)-cr,gr=sr(ur);if(Math.abs(fr-cr)<ACCURACY||gr<ACCURACY)return rr(ur);ur=ar(ur-fr/gr)}return rr(ur)};return or.isStepper=!1,or},configBezier=function tr(){return createBezierEasing(...getBezierCoordinates(...arguments))},configSpring=function tr(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:er=100,damping:nr=8,dt:ir=17}=Hn,rr=(sr,ar,or)=>{var lr=-(sr-ar)*er,cr=or*nr,ur=or+(lr-cr)*ir/1e3,dr=or*ir/1e3+sr;return Math.abs(dr-ar)<ACCURACY&&Math.abs(ur)<ACCURACY?[ar,0]:[dr,ur]};return rr.isStepper=!0,rr.dt=ir,rr},configEasing=tr=>{if(typeof tr=="string")switch(tr){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(tr);case"spring":return configSpring();default:if(tr.split("(")[0]==="cubic-bezier")return configBezier(tr)}return typeof tr=="function"?tr:null};function createAnimateManager(tr){var Hn,er=()=>null,nr=!1,ir=null,rr=sr=>{if(!nr){if(Array.isArray(sr)){if(!sr.length)return;var ar=sr,[or,...lr]=ar;if(typeof or=="number"){ir=tr.setTimeout(rr.bind(null,lr),or);return}rr(or),ir=tr.setTimeout(rr.bind(null,lr));return}typeof sr=="string"&&(Hn=sr,er(Hn)),typeof sr=="object"&&(Hn=sr,er(Hn)),typeof sr=="function"&&sr()}};return{stop:()=>{nr=!0},start:sr=>{nr=!1,ir&&(ir(),ir=null),rr(sr)},subscribe:sr=>(er=sr,()=>{er=()=>null}),getTimeoutController:()=>tr}}class RequestAnimationFrameTimeoutController{setTimeout(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,nr=performance.now(),ir=null,rr=sr=>{sr-nr>=er?Hn(sr):typeof requestAnimationFrame=="function"&&(ir=requestAnimationFrame(rr))};return ir=requestAnimationFrame(rr),()=>{ir!=null&&cancelAnimationFrame(ir)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(tr,Hn){var er=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>Hn??er(tr),[tr,Hn,er])}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(tr){var Hn=resolveDefaultProps(tr,defaultJavascriptAnimateProps),{isActive:er,canBegin:nr,duration:ir,easing:rr,begin:sr,onAnimationEnd:ar,onAnimationStart:or,children:lr}=Hn,cr=er==="auto"?!Global.isSsr:er,ur=useAnimationManager(Hn.animationId,Hn.animationManager),[dr,fr]=reactExports.useState(cr?from:to),gr=reactExports.useRef(null);return reactExports.useEffect(()=>{cr||fr(to)},[cr]),reactExports.useEffect(()=>{if(!cr||!nr)return noop$2;var yr=configUpdate(from,to,configEasing(rr),ir,fr,ur.getTimeoutController()),vr=()=>{gr.current=yr()};return ur.start([or,sr,vr,ir,ar]),()=>{ur.stop(),gr.current&&gr.current(),ar()}},[cr,nr,ir,rr,sr,or,ar,ur]),lr(dr.t)}function useAnimationId(tr){var Hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",er=reactExports.useRef(uniqueId(Hn)),nr=reactExports.useRef(tr);return nr.current!==tr&&(er.current=uniqueId(Hn),nr.current=tr),er.current}var _excluded$i=["radius"],_excluded2$8=["radius"];function ownKeys$p(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$p(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$p(Object(er),!0).forEach(function(nr){_defineProperty$q(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$p(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$q(tr,Hn,er){return(Hn=_toPropertyKey$q(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$q(tr){var Hn=_toPrimitive$q(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$q(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$j.apply(null,arguments)}function _objectWithoutProperties$h(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$i(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$i(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var getRectanglePath=(tr,Hn,er,nr,ir)=>{var rr=Math.min(Math.abs(er)/2,Math.abs(nr)/2),sr=nr>=0?1:-1,ar=er>=0?1:-1,or=nr>=0&&er>=0||nr<0&&er<0?1:0,lr;if(rr>0&&ir instanceof Array){for(var cr=[0,0,0,0],ur=0,dr=4;ur<dr;ur++)cr[ur]=ir[ur]>rr?rr:ir[ur];lr="M".concat(tr,",").concat(Hn+sr*cr[0]),cr[0]>0&&(lr+="A ".concat(cr[0],",").concat(cr[0],",0,0,").concat(or,",").concat(tr+ar*cr[0],",").concat(Hn)),lr+="L ".concat(tr+er-ar*cr[1],",").concat(Hn),cr[1]>0&&(lr+="A ".concat(cr[1],",").concat(cr[1],",0,0,").concat(or,`,
        `).concat(tr+er,",").concat(Hn+sr*cr[1])),lr+="L ".concat(tr+er,",").concat(Hn+nr-sr*cr[2]),cr[2]>0&&(lr+="A ".concat(cr[2],",").concat(cr[2],",0,0,").concat(or,`,
        `).concat(tr+er-ar*cr[2],",").concat(Hn+nr)),lr+="L ".concat(tr+ar*cr[3],",").concat(Hn+nr),cr[3]>0&&(lr+="A ".concat(cr[3],",").concat(cr[3],",0,0,").concat(or,`,
        `).concat(tr,",").concat(Hn+nr-sr*cr[3])),lr+="Z"}else if(rr>0&&ir===+ir&&ir>0){var fr=Math.min(rr,ir);lr="M ".concat(tr,",").concat(Hn+sr*fr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(tr+ar*fr,",").concat(Hn,`
            L `).concat(tr+er-ar*fr,",").concat(Hn,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(tr+er,",").concat(Hn+sr*fr,`
            L `).concat(tr+er,",").concat(Hn+nr-sr*fr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(tr+er-ar*fr,",").concat(Hn+nr,`
            L `).concat(tr+ar*fr,",").concat(Hn+nr,`
            A `).concat(fr,",").concat(fr,",0,0,").concat(or,",").concat(tr,",").concat(Hn+nr-sr*fr," Z")}else lr="M ".concat(tr,",").concat(Hn," h ").concat(er," v ").concat(nr," h ").concat(-er," Z");return lr},defaultProps$3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=tr=>{var Hn=resolveDefaultProps(tr,defaultProps$3),er=reactExports.useRef(null),[nr,ir]=reactExports.useState(-1);reactExports.useEffect(()=>{if(er.current&&er.current.getTotalLength)try{var Jr=er.current.getTotalLength();Jr&&ir(Jr)}catch{}},[]);var{x:rr,y:sr,width:ar,height:or,radius:lr,className:cr}=Hn,{animationEasing:ur,animationDuration:dr,animationBegin:fr,isAnimationActive:gr,isUpdateAnimationActive:yr}=Hn,vr=reactExports.useRef(ar),jr=reactExports.useRef(or),Sr=reactExports.useRef(rr),Tr=reactExports.useRef(sr),Lr=reactExports.useMemo(()=>({x:rr,y:sr,width:ar,height:or,radius:lr}),[rr,sr,ar,or,lr]),Mr=useAnimationId(Lr,"rectangle-");if(rr!==+rr||sr!==+sr||ar!==+ar||or!==+or||ar===0||or===0)return null;var Nr=clsx("recharts-rectangle",cr);if(!yr){var Or=svgPropertiesAndEvents(Hn),{radius:Fr}=Or,Gr=_objectWithoutProperties$h(Or,_excluded$i);return reactExports.createElement("path",_extends$j({},Gr,{radius:typeof lr=="number"?lr:void 0,className:Nr,d:getRectanglePath(rr,sr,ar,or,lr)}))}var qr=vr.current,Hr=jr.current,Yr=Sr.current,ro=Tr.current,io="0px ".concat(nr===-1?1:nr,"px"),fo="".concat(nr,"px 0px"),ao=getTransitionVal(["strokeDasharray"],dr,typeof ur=="string"?ur:defaultProps$3.animationEasing);return reactExports.createElement(JavascriptAnimate,{animationId:Mr,key:Mr,canBegin:nr>0,duration:dr,easing:ur,isActive:yr,begin:fr},Jr=>{var uo=interpolate$1(qr,ar,Jr),oo=interpolate$1(Hr,or,Jr),co=interpolate$1(Yr,rr,Jr),no=interpolate$1(ro,sr,Jr);er.current&&(vr.current=uo,jr.current=oo,Sr.current=co,Tr.current=no);var mo;gr?Jr>0?mo={transition:ao,strokeDasharray:fo}:mo={strokeDasharray:io}:mo={strokeDasharray:fo};var Eo=svgPropertiesAndEvents(Hn),{radius:bo}=Eo,Po=_objectWithoutProperties$h(Eo,_excluded2$8);return reactExports.createElement("path",_extends$j({},Po,{radius:typeof lr=="number"?lr:void 0,className:Nr,d:getRectanglePath(co,no,uo,oo,lr),ref:er,style:_objectSpread$p(_objectSpread$p({},mo),Hn.style)}))})};function ownKeys$o(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$o(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$o(Object(er),!0).forEach(function(nr){_defineProperty$p(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$o(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$p(tr,Hn,er){return(Hn=_toPropertyKey$p(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$p(tr){var Hn=_toPrimitive$p(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$p(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var RADIAN=Math.PI/180,radianToDegree=tr=>tr*180/Math.PI,polarToCartesian=(tr,Hn,er,nr)=>({x:tr+Math.cos(-RADIAN*nr)*er,y:Hn+Math.sin(-RADIAN*nr)*er}),getMaxRadius=function tr(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(Hn-(nr.left||0)-(nr.right||0)),Math.abs(er-(nr.top||0)-(nr.bottom||0)))/2},distanceBetweenPoints=(tr,Hn)=>{var{x:er,y:nr}=tr,{x:ir,y:rr}=Hn;return Math.sqrt((er-ir)**2+(nr-rr)**2)},getAngleOfPoint=(tr,Hn)=>{var{x:er,y:nr}=tr,{cx:ir,cy:rr}=Hn,sr=distanceBetweenPoints({x:er,y:nr},{x:ir,y:rr});if(sr<=0)return{radius:sr,angle:0};var ar=(er-ir)/sr,or=Math.acos(ar);return nr>rr&&(or=2*Math.PI-or),{radius:sr,angle:radianToDegree(or),angleInRadian:or}},formatAngleOfSector=tr=>{var{startAngle:Hn,endAngle:er}=tr,nr=Math.floor(Hn/360),ir=Math.floor(er/360),rr=Math.min(nr,ir);return{startAngle:Hn-rr*360,endAngle:er-rr*360}},reverseFormatAngleOfSector=(tr,Hn)=>{var{startAngle:er,endAngle:nr}=Hn,ir=Math.floor(er/360),rr=Math.floor(nr/360),sr=Math.min(ir,rr);return tr+sr*360},inRangeOfSector=(tr,Hn)=>{var{chartX:er,chartY:nr}=tr,{radius:ir,angle:rr}=getAngleOfPoint({x:er,y:nr},Hn),{innerRadius:sr,outerRadius:ar}=Hn;if(ir<sr||ir>ar||ir===0)return null;var{startAngle:or,endAngle:lr}=formatAngleOfSector(Hn),cr=rr,ur;if(or<=lr){for(;cr>lr;)cr-=360;for(;cr<or;)cr+=360;ur=cr>=or&&cr<=lr}else{for(;cr>or;)cr-=360;for(;cr<lr;)cr+=360;ur=cr>=lr&&cr<=or}return ur?_objectSpread$o(_objectSpread$o({},Hn),{},{radius:ir,angle:reverseFormatAngleOfSector(cr,Hn)}):null};function getRadialCursorPoints(tr){var{cx:Hn,cy:er,radius:nr,startAngle:ir,endAngle:rr}=tr,sr=polarToCartesian(Hn,er,nr,ir),ar=polarToCartesian(Hn,er,nr,rr);return{points:[sr,ar],cx:Hn,cy:er,radius:nr,startAngle:ir,endAngle:rr}}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$i.apply(null,arguments)}var getDeltaAngle$1=(tr,Hn)=>{var er=mathSign(Hn-tr),nr=Math.min(Math.abs(Hn-tr),359.999);return er*nr},getTangentCircle=tr=>{var{cx:Hn,cy:er,radius:nr,angle:ir,sign:rr,isExternal:sr,cornerRadius:ar,cornerIsExternal:or}=tr,lr=ar*(sr?1:-1)+nr,cr=Math.asin(ar/lr)/RADIAN,ur=or?ir:ir+rr*cr,dr=polarToCartesian(Hn,er,lr,ur),fr=polarToCartesian(Hn,er,nr,ur),gr=or?ir-rr*cr:ir,yr=polarToCartesian(Hn,er,lr*Math.cos(cr*RADIAN),gr);return{center:dr,circleTangency:fr,lineTangency:yr,theta:cr}},getSectorPath=tr=>{var{cx:Hn,cy:er,innerRadius:nr,outerRadius:ir,startAngle:rr,endAngle:sr}=tr,ar=getDeltaAngle$1(rr,sr),or=rr+ar,lr=polarToCartesian(Hn,er,ir,rr),cr=polarToCartesian(Hn,er,ir,or),ur="M ".concat(lr.x,",").concat(lr.y,`
    A `).concat(ir,",").concat(ir,`,0,
    `).concat(+(Math.abs(ar)>180),",").concat(+(rr>or),`,
    `).concat(cr.x,",").concat(cr.y,`
  `);if(nr>0){var dr=polarToCartesian(Hn,er,nr,rr),fr=polarToCartesian(Hn,er,nr,or);ur+="L ".concat(fr.x,",").concat(fr.y,`
            A `).concat(nr,",").concat(nr,`,0,
            `).concat(+(Math.abs(ar)>180),",").concat(+(rr<=or),`,
            `).concat(dr.x,",").concat(dr.y," Z")}else ur+="L ".concat(Hn,",").concat(er," Z");return ur},getSectorWithCorner=tr=>{var{cx:Hn,cy:er,innerRadius:nr,outerRadius:ir,cornerRadius:rr,forceCornerRadius:sr,cornerIsExternal:ar,startAngle:or,endAngle:lr}=tr,cr=mathSign(lr-or),{circleTangency:ur,lineTangency:dr,theta:fr}=getTangentCircle({cx:Hn,cy:er,radius:ir,angle:or,sign:cr,cornerRadius:rr,cornerIsExternal:ar}),{circleTangency:gr,lineTangency:yr,theta:vr}=getTangentCircle({cx:Hn,cy:er,radius:ir,angle:lr,sign:-cr,cornerRadius:rr,cornerIsExternal:ar}),jr=ar?Math.abs(or-lr):Math.abs(or-lr)-fr-vr;if(jr<0)return sr?"M ".concat(dr.x,",").concat(dr.y,`
        a`).concat(rr,",").concat(rr,",0,0,1,").concat(rr*2,`,0
        a`).concat(rr,",").concat(rr,",0,0,1,").concat(-rr*2,`,0
      `):getSectorPath({cx:Hn,cy:er,innerRadius:nr,outerRadius:ir,startAngle:or,endAngle:lr});var Sr="M ".concat(dr.x,",").concat(dr.y,`
    A`).concat(rr,",").concat(rr,",0,0,").concat(+(cr<0),",").concat(ur.x,",").concat(ur.y,`
    A`).concat(ir,",").concat(ir,",0,").concat(+(jr>180),",").concat(+(cr<0),",").concat(gr.x,",").concat(gr.y,`
    A`).concat(rr,",").concat(rr,",0,0,").concat(+(cr<0),",").concat(yr.x,",").concat(yr.y,`
  `);if(nr>0){var{circleTangency:Tr,lineTangency:Lr,theta:Mr}=getTangentCircle({cx:Hn,cy:er,radius:nr,angle:or,sign:cr,isExternal:!0,cornerRadius:rr,cornerIsExternal:ar}),{circleTangency:Nr,lineTangency:Or,theta:Fr}=getTangentCircle({cx:Hn,cy:er,radius:nr,angle:lr,sign:-cr,isExternal:!0,cornerRadius:rr,cornerIsExternal:ar}),Gr=ar?Math.abs(or-lr):Math.abs(or-lr)-Mr-Fr;if(Gr<0&&rr===0)return"".concat(Sr,"L").concat(Hn,",").concat(er,"Z");Sr+="L".concat(Or.x,",").concat(Or.y,`
      A`).concat(rr,",").concat(rr,",0,0,").concat(+(cr<0),",").concat(Nr.x,",").concat(Nr.y,`
      A`).concat(nr,",").concat(nr,",0,").concat(+(Gr>180),",").concat(+(cr>0),",").concat(Tr.x,",").concat(Tr.y,`
      A`).concat(rr,",").concat(rr,",0,0,").concat(+(cr<0),",").concat(Lr.x,",").concat(Lr.y,"Z")}else Sr+="L".concat(Hn,",").concat(er,"Z");return Sr},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=tr=>{var Hn=resolveDefaultProps(tr,defaultProps$2),{cx:er,cy:nr,innerRadius:ir,outerRadius:rr,cornerRadius:sr,forceCornerRadius:ar,cornerIsExternal:or,startAngle:lr,endAngle:cr,className:ur}=Hn;if(rr<ir||lr===cr)return null;var dr=clsx("recharts-sector",ur),fr=rr-ir,gr=getPercentValue(sr,fr,0,!0),yr;return gr>0&&Math.abs(lr-cr)<360?yr=getSectorWithCorner({cx:er,cy:nr,innerRadius:ir,outerRadius:rr,cornerRadius:Math.min(gr,fr/2),forceCornerRadius:ar,cornerIsExternal:or,startAngle:lr,endAngle:cr}):yr=getSectorPath({cx:er,cy:nr,innerRadius:ir,outerRadius:rr,startAngle:lr,endAngle:cr}),reactExports.createElement("path",_extends$i({},svgPropertiesAndEvents(Hn),{className:dr,d:yr}))};function getCursorPoints(tr,Hn,er){if(tr==="horizontal")return[{x:Hn.x,y:er.top},{x:Hn.x,y:er.top+er.height}];if(tr==="vertical")return[{x:er.left,y:Hn.y},{x:er.left+er.width,y:Hn.y}];if(isPolarCoordinate(Hn)){if(tr==="centric"){var{cx:nr,cy:ir,innerRadius:rr,outerRadius:sr,angle:ar}=Hn,or=polarToCartesian(nr,ir,rr,ar),lr=polarToCartesian(nr,ir,sr,ar);return[{x:or.x,y:or.y},{x:lr.x,y:lr.y}]}return getRadialCursorPoints(Hn)}}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsSymbol();function er(nr){return Hn.isSymbol(nr)?NaN:Number(nr)}tr.toNumber=er})(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireToNumber();function er(nr){return nr?(nr=Hn.toNumber(nr),nr===1/0||nr===-1/0?(nr<0?-1:1)*Number.MAX_VALUE:nr===nr?nr:0):nr===0?nr:0}tr.toFinite=er})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireIsIterateeCall(),er=requireToFinite();function nr(ir,rr,sr){sr&&typeof sr!="number"&&Hn.isIterateeCall(ir,rr,sr)&&(rr=sr=void 0),ir=er.toFinite(ir),rr===void 0?(rr=ir,ir=0):rr=er.toFinite(rr),sr=sr===void 0?ir<rr?1:-1:er.toFinite(sr);const ar=Math.max(Math.ceil((rr-ir)/(sr||1)),0),or=new Array(ar);for(let lr=0;lr<ar;lr++)or[lr]=ir,ir+=sr;return or}tr.range=nr})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(tr,Hn){return tr==null||Hn==null?NaN:tr<Hn?-1:tr>Hn?1:tr>=Hn?0:NaN}function descending(tr,Hn){return tr==null||Hn==null?NaN:Hn<tr?-1:Hn>tr?1:Hn>=tr?0:NaN}function bisector(tr){let Hn,er,nr;tr.length!==2?(Hn=ascending,er=(ar,or)=>ascending(tr(ar),or),nr=(ar,or)=>tr(ar)-or):(Hn=tr===ascending||tr===descending?tr:zero$1,er=tr,nr=tr);function ir(ar,or,lr=0,cr=ar.length){if(lr<cr){if(Hn(or,or)!==0)return cr;do{const ur=lr+cr>>>1;er(ar[ur],or)<0?lr=ur+1:cr=ur}while(lr<cr)}return lr}function rr(ar,or,lr=0,cr=ar.length){if(lr<cr){if(Hn(or,or)!==0)return cr;do{const ur=lr+cr>>>1;er(ar[ur],or)<=0?lr=ur+1:cr=ur}while(lr<cr)}return lr}function sr(ar,or,lr=0,cr=ar.length){const ur=ir(ar,or,lr,cr-1);return ur>lr&&nr(ar[ur-1],or)>-nr(ar[ur],or)?ur-1:ur}return{left:ir,center:sr,right:rr}}function zero$1(){return 0}function number$2(tr){return tr===null?NaN:+tr}function*numbers(tr,Hn){for(let er of tr)er!=null&&(er=+er)>=er&&(yield er)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(Hn,er=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:er}}),Hn!=null)for(const[nr,ir]of Hn)this.set(nr,ir)}get(Hn){return super.get(intern_get(this,Hn))}has(Hn){return super.has(intern_get(this,Hn))}set(Hn,er){return super.set(intern_set(this,Hn),er)}delete(Hn){return super.delete(intern_delete(this,Hn))}}function intern_get({_intern:tr,_key:Hn},er){const nr=Hn(er);return tr.has(nr)?tr.get(nr):er}function intern_set({_intern:tr,_key:Hn},er){const nr=Hn(er);return tr.has(nr)?tr.get(nr):(tr.set(nr,er),er)}function intern_delete({_intern:tr,_key:Hn},er){const nr=Hn(er);return tr.has(nr)&&(er=tr.get(nr),tr.delete(nr)),er}function keyof(tr){return tr!==null&&typeof tr=="object"?tr.valueOf():tr}function compareDefined(tr=ascending){if(tr===ascending)return ascendingDefined;if(typeof tr!="function")throw new TypeError("compare is not a function");return(Hn,er)=>{const nr=tr(Hn,er);return nr||nr===0?nr:(tr(er,er)===0)-(tr(Hn,Hn)===0)}}function ascendingDefined(tr,Hn){return(tr==null||!(tr>=tr))-(Hn==null||!(Hn>=Hn))||(tr<Hn?-1:tr>Hn?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(tr,Hn,er){const nr=(Hn-tr)/Math.max(0,er),ir=Math.floor(Math.log10(nr)),rr=nr/Math.pow(10,ir),sr=rr>=e10?10:rr>=e5?5:rr>=e2?2:1;let ar,or,lr;return ir<0?(lr=Math.pow(10,-ir)/sr,ar=Math.round(tr*lr),or=Math.round(Hn*lr),ar/lr<tr&&++ar,or/lr>Hn&&--or,lr=-lr):(lr=Math.pow(10,ir)*sr,ar=Math.round(tr/lr),or=Math.round(Hn/lr),ar*lr<tr&&++ar,or*lr>Hn&&--or),or<ar&&.5<=er&&er<2?tickSpec(tr,Hn,er*2):[ar,or,lr]}function ticks(tr,Hn,er){if(Hn=+Hn,tr=+tr,er=+er,!(er>0))return[];if(tr===Hn)return[tr];const nr=Hn<tr,[ir,rr,sr]=nr?tickSpec(Hn,tr,er):tickSpec(tr,Hn,er);if(!(rr>=ir))return[];const ar=rr-ir+1,or=new Array(ar);if(nr)if(sr<0)for(let lr=0;lr<ar;++lr)or[lr]=(rr-lr)/-sr;else for(let lr=0;lr<ar;++lr)or[lr]=(rr-lr)*sr;else if(sr<0)for(let lr=0;lr<ar;++lr)or[lr]=(ir+lr)/-sr;else for(let lr=0;lr<ar;++lr)or[lr]=(ir+lr)*sr;return or}function tickIncrement(tr,Hn,er){return Hn=+Hn,tr=+tr,er=+er,tickSpec(tr,Hn,er)[2]}function tickStep(tr,Hn,er){Hn=+Hn,tr=+tr,er=+er;const nr=Hn<tr,ir=nr?tickIncrement(Hn,tr,er):tickIncrement(tr,Hn,er);return(nr?-1:1)*(ir<0?1/-ir:ir)}function max$1(tr,Hn){let er;for(const nr of tr)nr!=null&&(er<nr||er===void 0&&nr>=nr)&&(er=nr);return er}function min$1(tr,Hn){let er;for(const nr of tr)nr!=null&&(er>nr||er===void 0&&nr>=nr)&&(er=nr);return er}function quickselect(tr,Hn,er=0,nr=1/0,ir){if(Hn=Math.floor(Hn),er=Math.floor(Math.max(0,er)),nr=Math.floor(Math.min(tr.length-1,nr)),!(er<=Hn&&Hn<=nr))return tr;for(ir=ir===void 0?ascendingDefined:compareDefined(ir);nr>er;){if(nr-er>600){const or=nr-er+1,lr=Hn-er+1,cr=Math.log(or),ur=.5*Math.exp(2*cr/3),dr=.5*Math.sqrt(cr*ur*(or-ur)/or)*(lr-or/2<0?-1:1),fr=Math.max(er,Math.floor(Hn-lr*ur/or+dr)),gr=Math.min(nr,Math.floor(Hn+(or-lr)*ur/or+dr));quickselect(tr,Hn,fr,gr,ir)}const rr=tr[Hn];let sr=er,ar=nr;for(swap(tr,er,Hn),ir(tr[nr],rr)>0&&swap(tr,er,nr);sr<ar;){for(swap(tr,sr,ar),++sr,--ar;ir(tr[sr],rr)<0;)++sr;for(;ir(tr[ar],rr)>0;)--ar}ir(tr[er],rr)===0?swap(tr,er,ar):(++ar,swap(tr,ar,nr)),ar<=Hn&&(er=ar+1),Hn<=ar&&(nr=ar-1)}return tr}function swap(tr,Hn,er){const nr=tr[Hn];tr[Hn]=tr[er],tr[er]=nr}function quantile$1(tr,Hn,er){if(tr=Float64Array.from(numbers(tr)),!(!(nr=tr.length)||isNaN(Hn=+Hn))){if(Hn<=0||nr<2)return min$1(tr);if(Hn>=1)return max$1(tr);var nr,ir=(nr-1)*Hn,rr=Math.floor(ir),sr=max$1(quickselect(tr,rr).subarray(0,rr+1)),ar=min$1(tr.subarray(rr+1));return sr+(ar-sr)*(ir-rr)}}function quantileSorted(tr,Hn,er=number$2){if(!(!(nr=tr.length)||isNaN(Hn=+Hn))){if(Hn<=0||nr<2)return+er(tr[0],0,tr);if(Hn>=1)return+er(tr[nr-1],nr-1,tr);var nr,ir=(nr-1)*Hn,rr=Math.floor(ir),sr=+er(tr[rr],rr,tr),ar=+er(tr[rr+1],rr+1,tr);return sr+(ar-sr)*(ir-rr)}}function range$1(tr,Hn,er){tr=+tr,Hn=+Hn,er=(ir=arguments.length)<2?(Hn=tr,tr=0,1):ir<3?1:+er;for(var nr=-1,ir=Math.max(0,Math.ceil((Hn-tr)/er))|0,rr=new Array(ir);++nr<ir;)rr[nr]=tr+nr*er;return rr}function initRange(tr,Hn){switch(arguments.length){case 0:break;case 1:this.range(tr);break;default:this.range(Hn).domain(tr);break}return this}function initInterpolator(tr,Hn){switch(arguments.length){case 0:break;case 1:{typeof tr=="function"?this.interpolator(tr):this.range(tr);break}default:{this.domain(tr),typeof Hn=="function"?this.interpolator(Hn):this.range(Hn);break}}return this}const implicit=Symbol("implicit");function ordinal(){var tr=new InternMap,Hn=[],er=[],nr=implicit;function ir(rr){let sr=tr.get(rr);if(sr===void 0){if(nr!==implicit)return nr;tr.set(rr,sr=Hn.push(rr)-1)}return er[sr%er.length]}return ir.domain=function(rr){if(!arguments.length)return Hn.slice();Hn=[],tr=new InternMap;for(const sr of rr)tr.has(sr)||tr.set(sr,Hn.push(sr)-1);return ir},ir.range=function(rr){return arguments.length?(er=Array.from(rr),ir):er.slice()},ir.unknown=function(rr){return arguments.length?(nr=rr,ir):nr},ir.copy=function(){return ordinal(Hn,er).unknown(nr)},initRange.apply(ir,arguments),ir}function band(){var tr=ordinal().unknown(void 0),Hn=tr.domain,er=tr.range,nr=0,ir=1,rr,sr,ar=!1,or=0,lr=0,cr=.5;delete tr.unknown;function ur(){var dr=Hn().length,fr=ir<nr,gr=fr?ir:nr,yr=fr?nr:ir;rr=(yr-gr)/Math.max(1,dr-or+lr*2),ar&&(rr=Math.floor(rr)),gr+=(yr-gr-rr*(dr-or))*cr,sr=rr*(1-or),ar&&(gr=Math.round(gr),sr=Math.round(sr));var vr=range$1(dr).map(function(jr){return gr+rr*jr});return er(fr?vr.reverse():vr)}return tr.domain=function(dr){return arguments.length?(Hn(dr),ur()):Hn()},tr.range=function(dr){return arguments.length?([nr,ir]=dr,nr=+nr,ir=+ir,ur()):[nr,ir]},tr.rangeRound=function(dr){return[nr,ir]=dr,nr=+nr,ir=+ir,ar=!0,ur()},tr.bandwidth=function(){return sr},tr.step=function(){return rr},tr.round=function(dr){return arguments.length?(ar=!!dr,ur()):ar},tr.padding=function(dr){return arguments.length?(or=Math.min(1,lr=+dr),ur()):or},tr.paddingInner=function(dr){return arguments.length?(or=Math.min(1,dr),ur()):or},tr.paddingOuter=function(dr){return arguments.length?(lr=+dr,ur()):lr},tr.align=function(dr){return arguments.length?(cr=Math.max(0,Math.min(1,dr)),ur()):cr},tr.copy=function(){return band(Hn(),[nr,ir]).round(ar).paddingInner(or).paddingOuter(lr).align(cr)},initRange.apply(ur(),arguments)}function pointish(tr){var Hn=tr.copy;return tr.padding=tr.paddingOuter,delete tr.paddingInner,delete tr.paddingOuter,tr.copy=function(){return pointish(Hn())},tr}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(tr,Hn,er){tr.prototype=Hn.prototype=er,er.constructor=tr}function extend(tr,Hn){var er=Object.create(tr.prototype);for(var nr in Hn)er[nr]=Hn[nr];return er}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(tr){return Object.assign(new this.constructor,this,tr)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(tr){var Hn,er;return tr=(tr+"").trim().toLowerCase(),(Hn=reHex.exec(tr))?(er=Hn[1].length,Hn=parseInt(Hn[1],16),er===6?rgbn(Hn):er===3?new Rgb(Hn>>8&15|Hn>>4&240,Hn>>4&15|Hn&240,(Hn&15)<<4|Hn&15,1):er===8?rgba(Hn>>24&255,Hn>>16&255,Hn>>8&255,(Hn&255)/255):er===4?rgba(Hn>>12&15|Hn>>8&240,Hn>>8&15|Hn>>4&240,Hn>>4&15|Hn&240,((Hn&15)<<4|Hn&15)/255):null):(Hn=reRgbInteger.exec(tr))?new Rgb(Hn[1],Hn[2],Hn[3],1):(Hn=reRgbPercent.exec(tr))?new Rgb(Hn[1]*255/100,Hn[2]*255/100,Hn[3]*255/100,1):(Hn=reRgbaInteger.exec(tr))?rgba(Hn[1],Hn[2],Hn[3],Hn[4]):(Hn=reRgbaPercent.exec(tr))?rgba(Hn[1]*255/100,Hn[2]*255/100,Hn[3]*255/100,Hn[4]):(Hn=reHslPercent.exec(tr))?hsla(Hn[1],Hn[2]/100,Hn[3]/100,1):(Hn=reHslaPercent.exec(tr))?hsla(Hn[1],Hn[2]/100,Hn[3]/100,Hn[4]):named.hasOwnProperty(tr)?rgbn(named[tr]):tr==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(tr){return new Rgb(tr>>16&255,tr>>8&255,tr&255,1)}function rgba(tr,Hn,er,nr){return nr<=0&&(tr=Hn=er=NaN),new Rgb(tr,Hn,er,nr)}function rgbConvert(tr){return tr instanceof Color||(tr=color(tr)),tr?(tr=tr.rgb(),new Rgb(tr.r,tr.g,tr.b,tr.opacity)):new Rgb}function rgb$1(tr,Hn,er,nr){return arguments.length===1?rgbConvert(tr):new Rgb(tr,Hn,er,nr??1)}function Rgb(tr,Hn,er,nr){this.r=+tr,this.g=+Hn,this.b=+er,this.opacity=+nr}define(Rgb,rgb$1,extend(Color,{brighter(tr){return tr=tr==null?brighter:Math.pow(brighter,tr),new Rgb(this.r*tr,this.g*tr,this.b*tr,this.opacity)},darker(tr){return tr=tr==null?darker:Math.pow(darker,tr),new Rgb(this.r*tr,this.g*tr,this.b*tr,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const tr=clampa(this.opacity);return`${tr===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${tr===1?")":`, ${tr})`}`}function clampa(tr){return isNaN(tr)?1:Math.max(0,Math.min(1,tr))}function clampi(tr){return Math.max(0,Math.min(255,Math.round(tr)||0))}function hex(tr){return tr=clampi(tr),(tr<16?"0":"")+tr.toString(16)}function hsla(tr,Hn,er,nr){return nr<=0?tr=Hn=er=NaN:er<=0||er>=1?tr=Hn=NaN:Hn<=0&&(tr=NaN),new Hsl(tr,Hn,er,nr)}function hslConvert(tr){if(tr instanceof Hsl)return new Hsl(tr.h,tr.s,tr.l,tr.opacity);if(tr instanceof Color||(tr=color(tr)),!tr)return new Hsl;if(tr instanceof Hsl)return tr;tr=tr.rgb();var Hn=tr.r/255,er=tr.g/255,nr=tr.b/255,ir=Math.min(Hn,er,nr),rr=Math.max(Hn,er,nr),sr=NaN,ar=rr-ir,or=(rr+ir)/2;return ar?(Hn===rr?sr=(er-nr)/ar+(er<nr)*6:er===rr?sr=(nr-Hn)/ar+2:sr=(Hn-er)/ar+4,ar/=or<.5?rr+ir:2-rr-ir,sr*=60):ar=or>0&&or<1?0:sr,new Hsl(sr,ar,or,tr.opacity)}function hsl(tr,Hn,er,nr){return arguments.length===1?hslConvert(tr):new Hsl(tr,Hn,er,nr??1)}function Hsl(tr,Hn,er,nr){this.h=+tr,this.s=+Hn,this.l=+er,this.opacity=+nr}define(Hsl,hsl,extend(Color,{brighter(tr){return tr=tr==null?brighter:Math.pow(brighter,tr),new Hsl(this.h,this.s,this.l*tr,this.opacity)},darker(tr){return tr=tr==null?darker:Math.pow(darker,tr),new Hsl(this.h,this.s,this.l*tr,this.opacity)},rgb(){var tr=this.h%360+(this.h<0)*360,Hn=isNaN(tr)||isNaN(this.s)?0:this.s,er=this.l,nr=er+(er<.5?er:1-er)*Hn,ir=2*er-nr;return new Rgb(hsl2rgb(tr>=240?tr-240:tr+120,ir,nr),hsl2rgb(tr,ir,nr),hsl2rgb(tr<120?tr+240:tr-120,ir,nr),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const tr=clampa(this.opacity);return`${tr===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${tr===1?")":`, ${tr})`}`}}));function clamph(tr){return tr=(tr||0)%360,tr<0?tr+360:tr}function clampt(tr){return Math.max(0,Math.min(1,tr||0))}function hsl2rgb(tr,Hn,er){return(tr<60?Hn+(er-Hn)*tr/60:tr<180?er:tr<240?Hn+(er-Hn)*(240-tr)/60:Hn)*255}const constant=tr=>()=>tr;function linear$1(tr,Hn){return function(er){return tr+er*Hn}}function exponential(tr,Hn,er){return tr=Math.pow(tr,er),Hn=Math.pow(Hn,er)-tr,er=1/er,function(nr){return Math.pow(tr+nr*Hn,er)}}function gamma(tr){return(tr=+tr)==1?nogamma:function(Hn,er){return er-Hn?exponential(Hn,er,tr):constant(isNaN(Hn)?er:Hn)}}function nogamma(tr,Hn){var er=Hn-tr;return er?linear$1(tr,er):constant(isNaN(tr)?Hn:tr)}const rgb=(function tr(Hn){var er=gamma(Hn);function nr(ir,rr){var sr=er((ir=rgb$1(ir)).r,(rr=rgb$1(rr)).r),ar=er(ir.g,rr.g),or=er(ir.b,rr.b),lr=nogamma(ir.opacity,rr.opacity);return function(cr){return ir.r=sr(cr),ir.g=ar(cr),ir.b=or(cr),ir.opacity=lr(cr),ir+""}}return nr.gamma=tr,nr})(1);function numberArray(tr,Hn){Hn||(Hn=[]);var er=tr?Math.min(Hn.length,tr.length):0,nr=Hn.slice(),ir;return function(rr){for(ir=0;ir<er;++ir)nr[ir]=tr[ir]*(1-rr)+Hn[ir]*rr;return nr}}function isNumberArray(tr){return ArrayBuffer.isView(tr)&&!(tr instanceof DataView)}function genericArray(tr,Hn){var er=Hn?Hn.length:0,nr=tr?Math.min(er,tr.length):0,ir=new Array(nr),rr=new Array(er),sr;for(sr=0;sr<nr;++sr)ir[sr]=interpolate(tr[sr],Hn[sr]);for(;sr<er;++sr)rr[sr]=Hn[sr];return function(ar){for(sr=0;sr<nr;++sr)rr[sr]=ir[sr](ar);return rr}}function date$1(tr,Hn){var er=new Date;return tr=+tr,Hn=+Hn,function(nr){return er.setTime(tr*(1-nr)+Hn*nr),er}}function interpolateNumber(tr,Hn){return tr=+tr,Hn=+Hn,function(er){return tr*(1-er)+Hn*er}}function object(tr,Hn){var er={},nr={},ir;(tr===null||typeof tr!="object")&&(tr={}),(Hn===null||typeof Hn!="object")&&(Hn={});for(ir in Hn)ir in tr?er[ir]=interpolate(tr[ir],Hn[ir]):nr[ir]=Hn[ir];return function(rr){for(ir in er)nr[ir]=er[ir](rr);return nr}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(tr){return function(){return tr}}function one(tr){return function(Hn){return tr(Hn)+""}}function string(tr,Hn){var er=reA.lastIndex=reB.lastIndex=0,nr,ir,rr,sr=-1,ar=[],or=[];for(tr=tr+"",Hn=Hn+"";(nr=reA.exec(tr))&&(ir=reB.exec(Hn));)(rr=ir.index)>er&&(rr=Hn.slice(er,rr),ar[sr]?ar[sr]+=rr:ar[++sr]=rr),(nr=nr[0])===(ir=ir[0])?ar[sr]?ar[sr]+=ir:ar[++sr]=ir:(ar[++sr]=null,or.push({i:sr,x:interpolateNumber(nr,ir)})),er=reB.lastIndex;return er<Hn.length&&(rr=Hn.slice(er),ar[sr]?ar[sr]+=rr:ar[++sr]=rr),ar.length<2?or[0]?one(or[0].x):zero(Hn):(Hn=or.length,function(lr){for(var cr=0,ur;cr<Hn;++cr)ar[(ur=or[cr]).i]=ur.x(lr);return ar.join("")})}function interpolate(tr,Hn){var er=typeof Hn,nr;return Hn==null||er==="boolean"?constant(Hn):(er==="number"?interpolateNumber:er==="string"?(nr=color(Hn))?(Hn=nr,rgb):string:Hn instanceof color?rgb:Hn instanceof Date?date$1:isNumberArray(Hn)?numberArray:Array.isArray(Hn)?genericArray:typeof Hn.valueOf!="function"&&typeof Hn.toString!="function"||isNaN(Hn)?object:interpolateNumber)(tr,Hn)}function interpolateRound(tr,Hn){return tr=+tr,Hn=+Hn,function(er){return Math.round(tr*(1-er)+Hn*er)}}function piecewise(tr,Hn){Hn===void 0&&(Hn=tr,tr=interpolate);for(var er=0,nr=Hn.length-1,ir=Hn[0],rr=new Array(nr<0?0:nr);er<nr;)rr[er]=tr(ir,ir=Hn[++er]);return function(sr){var ar=Math.max(0,Math.min(nr-1,Math.floor(sr*=nr)));return rr[ar](sr-ar)}}function constants(tr){return function(){return tr}}function number$1(tr){return+tr}var unit=[0,1];function identity$3(tr){return tr}function normalize(tr,Hn){return(Hn-=tr=+tr)?function(er){return(er-tr)/Hn}:constants(isNaN(Hn)?NaN:.5)}function clamper(tr,Hn){var er;return tr>Hn&&(er=tr,tr=Hn,Hn=er),function(nr){return Math.max(tr,Math.min(Hn,nr))}}function bimap(tr,Hn,er){var nr=tr[0],ir=tr[1],rr=Hn[0],sr=Hn[1];return ir<nr?(nr=normalize(ir,nr),rr=er(sr,rr)):(nr=normalize(nr,ir),rr=er(rr,sr)),function(ar){return rr(nr(ar))}}function polymap(tr,Hn,er){var nr=Math.min(tr.length,Hn.length)-1,ir=new Array(nr),rr=new Array(nr),sr=-1;for(tr[nr]<tr[0]&&(tr=tr.slice().reverse(),Hn=Hn.slice().reverse());++sr<nr;)ir[sr]=normalize(tr[sr],tr[sr+1]),rr[sr]=er(Hn[sr],Hn[sr+1]);return function(ar){var or=bisectRight(tr,ar,1,nr)-1;return rr[or](ir[or](ar))}}function copy$1(tr,Hn){return Hn.domain(tr.domain()).range(tr.range()).interpolate(tr.interpolate()).clamp(tr.clamp()).unknown(tr.unknown())}function transformer$2(){var tr=unit,Hn=unit,er=interpolate,nr,ir,rr,sr=identity$3,ar,or,lr;function cr(){var dr=Math.min(tr.length,Hn.length);return sr!==identity$3&&(sr=clamper(tr[0],tr[dr-1])),ar=dr>2?polymap:bimap,or=lr=null,ur}function ur(dr){return dr==null||isNaN(dr=+dr)?rr:(or||(or=ar(tr.map(nr),Hn,er)))(nr(sr(dr)))}return ur.invert=function(dr){return sr(ir((lr||(lr=ar(Hn,tr.map(nr),interpolateNumber)))(dr)))},ur.domain=function(dr){return arguments.length?(tr=Array.from(dr,number$1),cr()):tr.slice()},ur.range=function(dr){return arguments.length?(Hn=Array.from(dr),cr()):Hn.slice()},ur.rangeRound=function(dr){return Hn=Array.from(dr),er=interpolateRound,cr()},ur.clamp=function(dr){return arguments.length?(sr=dr?!0:identity$3,cr()):sr!==identity$3},ur.interpolate=function(dr){return arguments.length?(er=dr,cr()):er},ur.unknown=function(dr){return arguments.length?(rr=dr,ur):rr},function(dr,fr){return nr=dr,ir=fr,cr()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(tr){return Math.abs(tr=Math.round(tr))>=1e21?tr.toLocaleString("en").replace(/,/g,""):tr.toString(10)}function formatDecimalParts(tr,Hn){if((er=(tr=Hn?tr.toExponential(Hn-1):tr.toExponential()).indexOf("e"))<0)return null;var er,nr=tr.slice(0,er);return[nr.length>1?nr[0]+nr.slice(2):nr,+tr.slice(er+1)]}function exponent(tr){return tr=formatDecimalParts(Math.abs(tr)),tr?tr[1]:NaN}function formatGroup(tr,Hn){return function(er,nr){for(var ir=er.length,rr=[],sr=0,ar=tr[0],or=0;ir>0&&ar>0&&(or+ar+1>nr&&(ar=Math.max(1,nr-or)),rr.push(er.substring(ir-=ar,ir+ar)),!((or+=ar+1)>nr));)ar=tr[sr=(sr+1)%tr.length];return rr.reverse().join(Hn)}}function formatNumerals(tr){return function(Hn){return Hn.replace(/[0-9]/g,function(er){return tr[+er]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(tr){if(!(Hn=re$1.exec(tr)))throw new Error("invalid format: "+tr);var Hn;return new FormatSpecifier({fill:Hn[1],align:Hn[2],sign:Hn[3],symbol:Hn[4],zero:Hn[5],width:Hn[6],comma:Hn[7],precision:Hn[8]&&Hn[8].slice(1),trim:Hn[9],type:Hn[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(tr){this.fill=tr.fill===void 0?" ":tr.fill+"",this.align=tr.align===void 0?">":tr.align+"",this.sign=tr.sign===void 0?"-":tr.sign+"",this.symbol=tr.symbol===void 0?"":tr.symbol+"",this.zero=!!tr.zero,this.width=tr.width===void 0?void 0:+tr.width,this.comma=!!tr.comma,this.precision=tr.precision===void 0?void 0:+tr.precision,this.trim=!!tr.trim,this.type=tr.type===void 0?"":tr.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(tr){e:for(var Hn=tr.length,er=1,nr=-1,ir;er<Hn;++er)switch(tr[er]){case".":nr=ir=er;break;case"0":nr===0&&(nr=er),ir=er;break;default:if(!+tr[er])break e;nr>0&&(nr=0);break}return nr>0?tr.slice(0,nr)+tr.slice(ir+1):tr}var prefixExponent;function formatPrefixAuto(tr,Hn){var er=formatDecimalParts(tr,Hn);if(!er)return tr+"";var nr=er[0],ir=er[1],rr=ir-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(ir/3)))*3)+1,sr=nr.length;return rr===sr?nr:rr>sr?nr+new Array(rr-sr+1).join("0"):rr>0?nr.slice(0,rr)+"."+nr.slice(rr):"0."+new Array(1-rr).join("0")+formatDecimalParts(tr,Math.max(0,Hn+rr-1))[0]}function formatRounded(tr,Hn){var er=formatDecimalParts(tr,Hn);if(!er)return tr+"";var nr=er[0],ir=er[1];return ir<0?"0."+new Array(-ir).join("0")+nr:nr.length>ir+1?nr.slice(0,ir+1)+"."+nr.slice(ir+1):nr+new Array(ir-nr.length+2).join("0")}const formatTypes={"%":(tr,Hn)=>(tr*100).toFixed(Hn),b:tr=>Math.round(tr).toString(2),c:tr=>tr+"",d:formatDecimal,e:(tr,Hn)=>tr.toExponential(Hn),f:(tr,Hn)=>tr.toFixed(Hn),g:(tr,Hn)=>tr.toPrecision(Hn),o:tr=>Math.round(tr).toString(8),p:(tr,Hn)=>formatRounded(tr*100,Hn),r:formatRounded,s:formatPrefixAuto,X:tr=>Math.round(tr).toString(16).toUpperCase(),x:tr=>Math.round(tr).toString(16)};function identity$2(tr){return tr}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(tr){var Hn=tr.grouping===void 0||tr.thousands===void 0?identity$2:formatGroup(map$1.call(tr.grouping,Number),tr.thousands+""),er=tr.currency===void 0?"":tr.currency[0]+"",nr=tr.currency===void 0?"":tr.currency[1]+"",ir=tr.decimal===void 0?".":tr.decimal+"",rr=tr.numerals===void 0?identity$2:formatNumerals(map$1.call(tr.numerals,String)),sr=tr.percent===void 0?"%":tr.percent+"",ar=tr.minus===void 0?"":tr.minus+"",or=tr.nan===void 0?"NaN":tr.nan+"";function lr(ur){ur=formatSpecifier(ur);var dr=ur.fill,fr=ur.align,gr=ur.sign,yr=ur.symbol,vr=ur.zero,jr=ur.width,Sr=ur.comma,Tr=ur.precision,Lr=ur.trim,Mr=ur.type;Mr==="n"?(Sr=!0,Mr="g"):formatTypes[Mr]||(Tr===void 0&&(Tr=12),Lr=!0,Mr="g"),(vr||dr==="0"&&fr==="=")&&(vr=!0,dr="0",fr="=");var Nr=yr==="$"?er:yr==="#"&&/[boxX]/.test(Mr)?"0"+Mr.toLowerCase():"",Or=yr==="$"?nr:/[%p]/.test(Mr)?sr:"",Fr=formatTypes[Mr],Gr=/[defgprs%]/.test(Mr);Tr=Tr===void 0?6:/[gprs]/.test(Mr)?Math.max(1,Math.min(21,Tr)):Math.max(0,Math.min(20,Tr));function qr(Hr){var Yr=Nr,ro=Or,io,fo,ao;if(Mr==="c")ro=Fr(Hr)+ro,Hr="";else{Hr=+Hr;var Jr=Hr<0||1/Hr<0;if(Hr=isNaN(Hr)?or:Fr(Math.abs(Hr),Tr),Lr&&(Hr=formatTrim(Hr)),Jr&&+Hr==0&&gr!=="+"&&(Jr=!1),Yr=(Jr?gr==="("?gr:ar:gr==="-"||gr==="("?"":gr)+Yr,ro=(Mr==="s"?prefixes[8+prefixExponent/3]:"")+ro+(Jr&&gr==="("?")":""),Gr){for(io=-1,fo=Hr.length;++io<fo;)if(ao=Hr.charCodeAt(io),48>ao||ao>57){ro=(ao===46?ir+Hr.slice(io+1):Hr.slice(io))+ro,Hr=Hr.slice(0,io);break}}}Sr&&!vr&&(Hr=Hn(Hr,1/0));var uo=Yr.length+Hr.length+ro.length,oo=uo<jr?new Array(jr-uo+1).join(dr):"";switch(Sr&&vr&&(Hr=Hn(oo+Hr,oo.length?jr-ro.length:1/0),oo=""),fr){case"<":Hr=Yr+Hr+ro+oo;break;case"=":Hr=Yr+oo+Hr+ro;break;case"^":Hr=oo.slice(0,uo=oo.length>>1)+Yr+Hr+ro+oo.slice(uo);break;default:Hr=oo+Yr+Hr+ro;break}return rr(Hr)}return qr.toString=function(){return ur+""},qr}function cr(ur,dr){var fr=lr((ur=formatSpecifier(ur),ur.type="f",ur)),gr=Math.max(-8,Math.min(8,Math.floor(exponent(dr)/3)))*3,yr=Math.pow(10,-gr),vr=prefixes[8+gr/3];return function(jr){return fr(yr*jr)+vr}}return{format:lr,formatPrefix:cr}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(tr){return locale$1=formatLocale$1(tr),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(tr){return Math.max(0,-exponent(Math.abs(tr)))}function precisionPrefix(tr,Hn){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(Hn)/3)))*3-exponent(Math.abs(tr)))}function precisionRound(tr,Hn){return tr=Math.abs(tr),Hn=Math.abs(Hn)-tr,Math.max(0,exponent(Hn)-exponent(tr))+1}function tickFormat(tr,Hn,er,nr){var ir=tickStep(tr,Hn,er),rr;switch(nr=formatSpecifier(nr??",f"),nr.type){case"s":{var sr=Math.max(Math.abs(tr),Math.abs(Hn));return nr.precision==null&&!isNaN(rr=precisionPrefix(ir,sr))&&(nr.precision=rr),formatPrefix(nr,sr)}case"":case"e":case"g":case"p":case"r":{nr.precision==null&&!isNaN(rr=precisionRound(ir,Math.max(Math.abs(tr),Math.abs(Hn))))&&(nr.precision=rr-(nr.type==="e"));break}case"f":case"%":{nr.precision==null&&!isNaN(rr=precisionFixed(ir))&&(nr.precision=rr-(nr.type==="%")*2);break}}return format(nr)}function linearish(tr){var Hn=tr.domain;return tr.ticks=function(er){var nr=Hn();return ticks(nr[0],nr[nr.length-1],er??10)},tr.tickFormat=function(er,nr){var ir=Hn();return tickFormat(ir[0],ir[ir.length-1],er??10,nr)},tr.nice=function(er){er==null&&(er=10);var nr=Hn(),ir=0,rr=nr.length-1,sr=nr[ir],ar=nr[rr],or,lr,cr=10;for(ar<sr&&(lr=sr,sr=ar,ar=lr,lr=ir,ir=rr,rr=lr);cr-- >0;){if(lr=tickIncrement(sr,ar,er),lr===or)return nr[ir]=sr,nr[rr]=ar,Hn(nr);if(lr>0)sr=Math.floor(sr/lr)*lr,ar=Math.ceil(ar/lr)*lr;else if(lr<0)sr=Math.ceil(sr*lr)/lr,ar=Math.floor(ar*lr)/lr;else break;or=lr}return tr},tr}function linear(){var tr=continuous();return tr.copy=function(){return copy$1(tr,linear())},initRange.apply(tr,arguments),linearish(tr)}function identity$1(tr){var Hn;function er(nr){return nr==null||isNaN(nr=+nr)?Hn:nr}return er.invert=er,er.domain=er.range=function(nr){return arguments.length?(tr=Array.from(nr,number$1),er):tr.slice()},er.unknown=function(nr){return arguments.length?(Hn=nr,er):Hn},er.copy=function(){return identity$1(tr).unknown(Hn)},tr=arguments.length?Array.from(tr,number$1):[0,1],linearish(er)}function nice(tr,Hn){tr=tr.slice();var er=0,nr=tr.length-1,ir=tr[er],rr=tr[nr],sr;return rr<ir&&(sr=er,er=nr,nr=sr,sr=ir,ir=rr,rr=sr),tr[er]=Hn.floor(ir),tr[nr]=Hn.ceil(rr),tr}function transformLog(tr){return Math.log(tr)}function transformExp(tr){return Math.exp(tr)}function transformLogn(tr){return-Math.log(-tr)}function transformExpn(tr){return-Math.exp(-tr)}function pow10(tr){return isFinite(tr)?+("1e"+tr):tr<0?0:tr}function powp(tr){return tr===10?pow10:tr===Math.E?Math.exp:Hn=>Math.pow(tr,Hn)}function logp(tr){return tr===Math.E?Math.log:tr===10&&Math.log10||tr===2&&Math.log2||(tr=Math.log(tr),Hn=>Math.log(Hn)/tr)}function reflect(tr){return(Hn,er)=>-tr(-Hn,er)}function loggish(tr){const Hn=tr(transformLog,transformExp),er=Hn.domain;let nr=10,ir,rr;function sr(){return ir=logp(nr),rr=powp(nr),er()[0]<0?(ir=reflect(ir),rr=reflect(rr),tr(transformLogn,transformExpn)):tr(transformLog,transformExp),Hn}return Hn.base=function(ar){return arguments.length?(nr=+ar,sr()):nr},Hn.domain=function(ar){return arguments.length?(er(ar),sr()):er()},Hn.ticks=ar=>{const or=er();let lr=or[0],cr=or[or.length-1];const ur=cr<lr;ur&&([lr,cr]=[cr,lr]);let dr=ir(lr),fr=ir(cr),gr,yr;const vr=ar==null?10:+ar;let jr=[];if(!(nr%1)&&fr-dr<vr){if(dr=Math.floor(dr),fr=Math.ceil(fr),lr>0){for(;dr<=fr;++dr)for(gr=1;gr<nr;++gr)if(yr=dr<0?gr/rr(-dr):gr*rr(dr),!(yr<lr)){if(yr>cr)break;jr.push(yr)}}else for(;dr<=fr;++dr)for(gr=nr-1;gr>=1;--gr)if(yr=dr>0?gr/rr(-dr):gr*rr(dr),!(yr<lr)){if(yr>cr)break;jr.push(yr)}jr.length*2<vr&&(jr=ticks(lr,cr,vr))}else jr=ticks(dr,fr,Math.min(fr-dr,vr)).map(rr);return ur?jr.reverse():jr},Hn.tickFormat=(ar,or)=>{if(ar==null&&(ar=10),or==null&&(or=nr===10?"s":","),typeof or!="function"&&(!(nr%1)&&(or=formatSpecifier(or)).precision==null&&(or.trim=!0),or=format(or)),ar===1/0)return or;const lr=Math.max(1,nr*ar/Hn.ticks().length);return cr=>{let ur=cr/rr(Math.round(ir(cr)));return ur*nr<nr-.5&&(ur*=nr),ur<=lr?or(cr):""}},Hn.nice=()=>er(nice(er(),{floor:ar=>rr(Math.floor(ir(ar))),ceil:ar=>rr(Math.ceil(ir(ar)))})),Hn}function log(){const tr=loggish(transformer$2()).domain([1,10]);return tr.copy=()=>copy$1(tr,log()).base(tr.base()),initRange.apply(tr,arguments),tr}function transformSymlog(tr){return function(Hn){return Math.sign(Hn)*Math.log1p(Math.abs(Hn/tr))}}function transformSymexp(tr){return function(Hn){return Math.sign(Hn)*Math.expm1(Math.abs(Hn))*tr}}function symlogish(tr){var Hn=1,er=tr(transformSymlog(Hn),transformSymexp(Hn));return er.constant=function(nr){return arguments.length?tr(transformSymlog(Hn=+nr),transformSymexp(Hn)):Hn},linearish(er)}function symlog(){var tr=symlogish(transformer$2());return tr.copy=function(){return copy$1(tr,symlog()).constant(tr.constant())},initRange.apply(tr,arguments)}function transformPow(tr){return function(Hn){return Hn<0?-Math.pow(-Hn,tr):Math.pow(Hn,tr)}}function transformSqrt(tr){return tr<0?-Math.sqrt(-tr):Math.sqrt(tr)}function transformSquare(tr){return tr<0?-tr*tr:tr*tr}function powish(tr){var Hn=tr(identity$3,identity$3),er=1;function nr(){return er===1?tr(identity$3,identity$3):er===.5?tr(transformSqrt,transformSquare):tr(transformPow(er),transformPow(1/er))}return Hn.exponent=function(ir){return arguments.length?(er=+ir,nr()):er},linearish(Hn)}function pow(){var tr=powish(transformer$2());return tr.copy=function(){return copy$1(tr,pow()).exponent(tr.exponent())},initRange.apply(tr,arguments),tr}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(tr){return Math.sign(tr)*tr*tr}function unsquare(tr){return Math.sign(tr)*Math.sqrt(Math.abs(tr))}function radial(){var tr=continuous(),Hn=[0,1],er=!1,nr;function ir(rr){var sr=unsquare(tr(rr));return isNaN(sr)?nr:er?Math.round(sr):sr}return ir.invert=function(rr){return tr.invert(square(rr))},ir.domain=function(rr){return arguments.length?(tr.domain(rr),ir):tr.domain()},ir.range=function(rr){return arguments.length?(tr.range((Hn=Array.from(rr,number$1)).map(square)),ir):Hn.slice()},ir.rangeRound=function(rr){return ir.range(rr).round(!0)},ir.round=function(rr){return arguments.length?(er=!!rr,ir):er},ir.clamp=function(rr){return arguments.length?(tr.clamp(rr),ir):tr.clamp()},ir.unknown=function(rr){return arguments.length?(nr=rr,ir):nr},ir.copy=function(){return radial(tr.domain(),Hn).round(er).clamp(tr.clamp()).unknown(nr)},initRange.apply(ir,arguments),linearish(ir)}function quantile(){var tr=[],Hn=[],er=[],nr;function ir(){var sr=0,ar=Math.max(1,Hn.length);for(er=new Array(ar-1);++sr<ar;)er[sr-1]=quantileSorted(tr,sr/ar);return rr}function rr(sr){return sr==null||isNaN(sr=+sr)?nr:Hn[bisectRight(er,sr)]}return rr.invertExtent=function(sr){var ar=Hn.indexOf(sr);return ar<0?[NaN,NaN]:[ar>0?er[ar-1]:tr[0],ar<er.length?er[ar]:tr[tr.length-1]]},rr.domain=function(sr){if(!arguments.length)return tr.slice();tr=[];for(let ar of sr)ar!=null&&!isNaN(ar=+ar)&&tr.push(ar);return tr.sort(ascending),ir()},rr.range=function(sr){return arguments.length?(Hn=Array.from(sr),ir()):Hn.slice()},rr.unknown=function(sr){return arguments.length?(nr=sr,rr):nr},rr.quantiles=function(){return er.slice()},rr.copy=function(){return quantile().domain(tr).range(Hn).unknown(nr)},initRange.apply(rr,arguments)}function quantize(){var tr=0,Hn=1,er=1,nr=[.5],ir=[0,1],rr;function sr(or){return or!=null&&or<=or?ir[bisectRight(nr,or,0,er)]:rr}function ar(){var or=-1;for(nr=new Array(er);++or<er;)nr[or]=((or+1)*Hn-(or-er)*tr)/(er+1);return sr}return sr.domain=function(or){return arguments.length?([tr,Hn]=or,tr=+tr,Hn=+Hn,ar()):[tr,Hn]},sr.range=function(or){return arguments.length?(er=(ir=Array.from(or)).length-1,ar()):ir.slice()},sr.invertExtent=function(or){var lr=ir.indexOf(or);return lr<0?[NaN,NaN]:lr<1?[tr,nr[0]]:lr>=er?[nr[er-1],Hn]:[nr[lr-1],nr[lr]]},sr.unknown=function(or){return arguments.length&&(rr=or),sr},sr.thresholds=function(){return nr.slice()},sr.copy=function(){return quantize().domain([tr,Hn]).range(ir).unknown(rr)},initRange.apply(linearish(sr),arguments)}function threshold(){var tr=[.5],Hn=[0,1],er,nr=1;function ir(rr){return rr!=null&&rr<=rr?Hn[bisectRight(tr,rr,0,nr)]:er}return ir.domain=function(rr){return arguments.length?(tr=Array.from(rr),nr=Math.min(tr.length,Hn.length-1),ir):tr.slice()},ir.range=function(rr){return arguments.length?(Hn=Array.from(rr),nr=Math.min(tr.length,Hn.length-1),ir):Hn.slice()},ir.invertExtent=function(rr){var sr=Hn.indexOf(rr);return[tr[sr-1],tr[sr]]},ir.unknown=function(rr){return arguments.length?(er=rr,ir):er},ir.copy=function(){return threshold().domain(tr).range(Hn).unknown(er)},initRange.apply(ir,arguments)}const t0=new Date,t1=new Date;function timeInterval(tr,Hn,er,nr){function ir(rr){return tr(rr=arguments.length===0?new Date:new Date(+rr)),rr}return ir.floor=rr=>(tr(rr=new Date(+rr)),rr),ir.ceil=rr=>(tr(rr=new Date(rr-1)),Hn(rr,1),tr(rr),rr),ir.round=rr=>{const sr=ir(rr),ar=ir.ceil(rr);return rr-sr<ar-rr?sr:ar},ir.offset=(rr,sr)=>(Hn(rr=new Date(+rr),sr==null?1:Math.floor(sr)),rr),ir.range=(rr,sr,ar)=>{const or=[];if(rr=ir.ceil(rr),ar=ar==null?1:Math.floor(ar),!(rr<sr)||!(ar>0))return or;let lr;do or.push(lr=new Date(+rr)),Hn(rr,ar),tr(rr);while(lr<rr&&rr<sr);return or},ir.filter=rr=>timeInterval(sr=>{if(sr>=sr)for(;tr(sr),!rr(sr);)sr.setTime(sr-1)},(sr,ar)=>{if(sr>=sr)if(ar<0)for(;++ar<=0;)for(;Hn(sr,-1),!rr(sr););else for(;--ar>=0;)for(;Hn(sr,1),!rr(sr););}),er&&(ir.count=(rr,sr)=>(t0.setTime(+rr),t1.setTime(+sr),tr(t0),tr(t1),Math.floor(er(t0,t1))),ir.every=rr=>(rr=Math.floor(rr),!isFinite(rr)||!(rr>0)?null:rr>1?ir.filter(nr?sr=>nr(sr)%rr===0:sr=>ir.count(0,sr)%rr===0):ir)),ir}const millisecond=timeInterval(()=>{},(tr,Hn)=>{tr.setTime(+tr+Hn)},(tr,Hn)=>Hn-tr);millisecond.every=tr=>(tr=Math.floor(tr),!isFinite(tr)||!(tr>0)?null:tr>1?timeInterval(Hn=>{Hn.setTime(Math.floor(Hn/tr)*tr)},(Hn,er)=>{Hn.setTime(+Hn+er*tr)},(Hn,er)=>(er-Hn)/tr):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds())},(tr,Hn)=>{tr.setTime(+tr+Hn*durationSecond)},(tr,Hn)=>(Hn-tr)/durationSecond,tr=>tr.getUTCSeconds());second.range;const timeMinute=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds()-tr.getSeconds()*durationSecond)},(tr,Hn)=>{tr.setTime(+tr+Hn*durationMinute)},(tr,Hn)=>(Hn-tr)/durationMinute,tr=>tr.getMinutes());timeMinute.range;const utcMinute=timeInterval(tr=>{tr.setUTCSeconds(0,0)},(tr,Hn)=>{tr.setTime(+tr+Hn*durationMinute)},(tr,Hn)=>(Hn-tr)/durationMinute,tr=>tr.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds()-tr.getSeconds()*durationSecond-tr.getMinutes()*durationMinute)},(tr,Hn)=>{tr.setTime(+tr+Hn*durationHour)},(tr,Hn)=>(Hn-tr)/durationHour,tr=>tr.getHours());timeHour.range;const utcHour=timeInterval(tr=>{tr.setUTCMinutes(0,0,0)},(tr,Hn)=>{tr.setTime(+tr+Hn*durationHour)},(tr,Hn)=>(Hn-tr)/durationHour,tr=>tr.getUTCHours());utcHour.range;const timeDay=timeInterval(tr=>tr.setHours(0,0,0,0),(tr,Hn)=>tr.setDate(tr.getDate()+Hn),(tr,Hn)=>(Hn-tr-(Hn.getTimezoneOffset()-tr.getTimezoneOffset())*durationMinute)/durationDay,tr=>tr.getDate()-1);timeDay.range;const utcDay=timeInterval(tr=>{tr.setUTCHours(0,0,0,0)},(tr,Hn)=>{tr.setUTCDate(tr.getUTCDate()+Hn)},(tr,Hn)=>(Hn-tr)/durationDay,tr=>tr.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(tr=>{tr.setUTCHours(0,0,0,0)},(tr,Hn)=>{tr.setUTCDate(tr.getUTCDate()+Hn)},(tr,Hn)=>(Hn-tr)/durationDay,tr=>Math.floor(tr/durationDay));unixDay.range;function timeWeekday(tr){return timeInterval(Hn=>{Hn.setDate(Hn.getDate()-(Hn.getDay()+7-tr)%7),Hn.setHours(0,0,0,0)},(Hn,er)=>{Hn.setDate(Hn.getDate()+er*7)},(Hn,er)=>(er-Hn-(er.getTimezoneOffset()-Hn.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(tr){return timeInterval(Hn=>{Hn.setUTCDate(Hn.getUTCDate()-(Hn.getUTCDay()+7-tr)%7),Hn.setUTCHours(0,0,0,0)},(Hn,er)=>{Hn.setUTCDate(Hn.getUTCDate()+er*7)},(Hn,er)=>(er-Hn)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(tr=>{tr.setDate(1),tr.setHours(0,0,0,0)},(tr,Hn)=>{tr.setMonth(tr.getMonth()+Hn)},(tr,Hn)=>Hn.getMonth()-tr.getMonth()+(Hn.getFullYear()-tr.getFullYear())*12,tr=>tr.getMonth());timeMonth.range;const utcMonth=timeInterval(tr=>{tr.setUTCDate(1),tr.setUTCHours(0,0,0,0)},(tr,Hn)=>{tr.setUTCMonth(tr.getUTCMonth()+Hn)},(tr,Hn)=>Hn.getUTCMonth()-tr.getUTCMonth()+(Hn.getUTCFullYear()-tr.getUTCFullYear())*12,tr=>tr.getUTCMonth());utcMonth.range;const timeYear=timeInterval(tr=>{tr.setMonth(0,1),tr.setHours(0,0,0,0)},(tr,Hn)=>{tr.setFullYear(tr.getFullYear()+Hn)},(tr,Hn)=>Hn.getFullYear()-tr.getFullYear(),tr=>tr.getFullYear());timeYear.every=tr=>!isFinite(tr=Math.floor(tr))||!(tr>0)?null:timeInterval(Hn=>{Hn.setFullYear(Math.floor(Hn.getFullYear()/tr)*tr),Hn.setMonth(0,1),Hn.setHours(0,0,0,0)},(Hn,er)=>{Hn.setFullYear(Hn.getFullYear()+er*tr)});timeYear.range;const utcYear=timeInterval(tr=>{tr.setUTCMonth(0,1),tr.setUTCHours(0,0,0,0)},(tr,Hn)=>{tr.setUTCFullYear(tr.getUTCFullYear()+Hn)},(tr,Hn)=>Hn.getUTCFullYear()-tr.getUTCFullYear(),tr=>tr.getUTCFullYear());utcYear.every=tr=>!isFinite(tr=Math.floor(tr))||!(tr>0)?null:timeInterval(Hn=>{Hn.setUTCFullYear(Math.floor(Hn.getUTCFullYear()/tr)*tr),Hn.setUTCMonth(0,1),Hn.setUTCHours(0,0,0,0)},(Hn,er)=>{Hn.setUTCFullYear(Hn.getUTCFullYear()+er*tr)});utcYear.range;function ticker(tr,Hn,er,nr,ir,rr){const sr=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[rr,1,durationMinute],[rr,5,5*durationMinute],[rr,15,15*durationMinute],[rr,30,30*durationMinute],[ir,1,durationHour],[ir,3,3*durationHour],[ir,6,6*durationHour],[ir,12,12*durationHour],[nr,1,durationDay],[nr,2,2*durationDay],[er,1,durationWeek],[Hn,1,durationMonth],[Hn,3,3*durationMonth],[tr,1,durationYear]];function ar(lr,cr,ur){const dr=cr<lr;dr&&([lr,cr]=[cr,lr]);const fr=ur&&typeof ur.range=="function"?ur:or(lr,cr,ur),gr=fr?fr.range(lr,+cr+1):[];return dr?gr.reverse():gr}function or(lr,cr,ur){const dr=Math.abs(cr-lr)/ur,fr=bisector(([,,vr])=>vr).right(sr,dr);if(fr===sr.length)return tr.every(tickStep(lr/durationYear,cr/durationYear,ur));if(fr===0)return millisecond.every(Math.max(tickStep(lr,cr,ur),1));const[gr,yr]=sr[dr/sr[fr-1][2]<sr[fr][2]/dr?fr-1:fr];return gr.every(yr)}return[ar,or]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(tr){if(0<=tr.y&&tr.y<100){var Hn=new Date(-1,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L);return Hn.setFullYear(tr.y),Hn}return new Date(tr.y,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L)}function utcDate(tr){if(0<=tr.y&&tr.y<100){var Hn=new Date(Date.UTC(-1,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L));return Hn.setUTCFullYear(tr.y),Hn}return new Date(Date.UTC(tr.y,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L))}function newDate(tr,Hn,er){return{y:tr,m:Hn,d:er,H:0,M:0,S:0,L:0}}function formatLocale(tr){var Hn=tr.dateTime,er=tr.date,nr=tr.time,ir=tr.periods,rr=tr.days,sr=tr.shortDays,ar=tr.months,or=tr.shortMonths,lr=formatRe(ir),cr=formatLookup(ir),ur=formatRe(rr),dr=formatLookup(rr),fr=formatRe(sr),gr=formatLookup(sr),yr=formatRe(ar),vr=formatLookup(ar),jr=formatRe(or),Sr=formatLookup(or),Tr={a:Jr,A:uo,b:oo,B:co,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:no,q:mo,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Lr={a:Eo,A:bo,b:Po,B:wo,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:To,q:Fo,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Mr={a:qr,A:Hr,b:Yr,B:ro,c:io,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Gr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:fo,X:ao,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};Tr.x=Nr(er,Tr),Tr.X=Nr(nr,Tr),Tr.c=Nr(Hn,Tr),Lr.x=Nr(er,Lr),Lr.X=Nr(nr,Lr),Lr.c=Nr(Hn,Lr);function Nr(Co,Go){return function(el){var Lo=[],Uo=-1,$o=0,il=Co.length,pl,ml,Wl;for(el instanceof Date||(el=new Date(+el));++Uo<il;)Co.charCodeAt(Uo)===37&&(Lo.push(Co.slice($o,Uo)),(ml=pads[pl=Co.charAt(++Uo)])!=null?pl=Co.charAt(++Uo):ml=pl==="e"?" ":"0",(Wl=Go[pl])&&(pl=Wl(el,ml)),Lo.push(pl),$o=Uo+1);return Lo.push(Co.slice($o,Uo)),Lo.join("")}}function Or(Co,Go){return function(el){var Lo=newDate(1900,void 0,1),Uo=Fr(Lo,Co,el+="",0),$o,il;if(Uo!=el.length)return null;if("Q"in Lo)return new Date(Lo.Q);if("s"in Lo)return new Date(Lo.s*1e3+("L"in Lo?Lo.L:0));if(Go&&!("Z"in Lo)&&(Lo.Z=0),"p"in Lo&&(Lo.H=Lo.H%12+Lo.p*12),Lo.m===void 0&&(Lo.m="q"in Lo?Lo.q:0),"V"in Lo){if(Lo.V<1||Lo.V>53)return null;"w"in Lo||(Lo.w=1),"Z"in Lo?($o=utcDate(newDate(Lo.y,0,1)),il=$o.getUTCDay(),$o=il>4||il===0?utcMonday.ceil($o):utcMonday($o),$o=utcDay.offset($o,(Lo.V-1)*7),Lo.y=$o.getUTCFullYear(),Lo.m=$o.getUTCMonth(),Lo.d=$o.getUTCDate()+(Lo.w+6)%7):($o=localDate(newDate(Lo.y,0,1)),il=$o.getDay(),$o=il>4||il===0?timeMonday.ceil($o):timeMonday($o),$o=timeDay.offset($o,(Lo.V-1)*7),Lo.y=$o.getFullYear(),Lo.m=$o.getMonth(),Lo.d=$o.getDate()+(Lo.w+6)%7)}else("W"in Lo||"U"in Lo)&&("w"in Lo||(Lo.w="u"in Lo?Lo.u%7:"W"in Lo?1:0),il="Z"in Lo?utcDate(newDate(Lo.y,0,1)).getUTCDay():localDate(newDate(Lo.y,0,1)).getDay(),Lo.m=0,Lo.d="W"in Lo?(Lo.w+6)%7+Lo.W*7-(il+5)%7:Lo.w+Lo.U*7-(il+6)%7);return"Z"in Lo?(Lo.H+=Lo.Z/100|0,Lo.M+=Lo.Z%100,utcDate(Lo)):localDate(Lo)}}function Fr(Co,Go,el,Lo){for(var Uo=0,$o=Go.length,il=el.length,pl,ml;Uo<$o;){if(Lo>=il)return-1;if(pl=Go.charCodeAt(Uo++),pl===37){if(pl=Go.charAt(Uo++),ml=Mr[pl in pads?Go.charAt(Uo++):pl],!ml||(Lo=ml(Co,el,Lo))<0)return-1}else if(pl!=el.charCodeAt(Lo++))return-1}return Lo}function Gr(Co,Go,el){var Lo=lr.exec(Go.slice(el));return Lo?(Co.p=cr.get(Lo[0].toLowerCase()),el+Lo[0].length):-1}function qr(Co,Go,el){var Lo=fr.exec(Go.slice(el));return Lo?(Co.w=gr.get(Lo[0].toLowerCase()),el+Lo[0].length):-1}function Hr(Co,Go,el){var Lo=ur.exec(Go.slice(el));return Lo?(Co.w=dr.get(Lo[0].toLowerCase()),el+Lo[0].length):-1}function Yr(Co,Go,el){var Lo=jr.exec(Go.slice(el));return Lo?(Co.m=Sr.get(Lo[0].toLowerCase()),el+Lo[0].length):-1}function ro(Co,Go,el){var Lo=yr.exec(Go.slice(el));return Lo?(Co.m=vr.get(Lo[0].toLowerCase()),el+Lo[0].length):-1}function io(Co,Go,el){return Fr(Co,Hn,Go,el)}function fo(Co,Go,el){return Fr(Co,er,Go,el)}function ao(Co,Go,el){return Fr(Co,nr,Go,el)}function Jr(Co){return sr[Co.getDay()]}function uo(Co){return rr[Co.getDay()]}function oo(Co){return or[Co.getMonth()]}function co(Co){return ar[Co.getMonth()]}function no(Co){return ir[+(Co.getHours()>=12)]}function mo(Co){return 1+~~(Co.getMonth()/3)}function Eo(Co){return sr[Co.getUTCDay()]}function bo(Co){return rr[Co.getUTCDay()]}function Po(Co){return or[Co.getUTCMonth()]}function wo(Co){return ar[Co.getUTCMonth()]}function To(Co){return ir[+(Co.getUTCHours()>=12)]}function Fo(Co){return 1+~~(Co.getUTCMonth()/3)}return{format:function(Co){var Go=Nr(Co+="",Tr);return Go.toString=function(){return Co},Go},parse:function(Co){var Go=Or(Co+="",!1);return Go.toString=function(){return Co},Go},utcFormat:function(Co){var Go=Nr(Co+="",Lr);return Go.toString=function(){return Co},Go},utcParse:function(Co){var Go=Or(Co+="",!0);return Go.toString=function(){return Co},Go}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(tr,Hn,er){var nr=tr<0?"-":"",ir=(nr?-tr:tr)+"",rr=ir.length;return nr+(rr<er?new Array(er-rr+1).join(Hn)+ir:ir)}function requote(tr){return tr.replace(requoteRe,"\\$&")}function formatRe(tr){return new RegExp("^(?:"+tr.map(requote).join("|")+")","i")}function formatLookup(tr){return new Map(tr.map((Hn,er)=>[Hn.toLowerCase(),er]))}function parseWeekdayNumberSunday(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+1));return nr?(tr.w=+nr[0],er+nr[0].length):-1}function parseWeekdayNumberMonday(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+1));return nr?(tr.u=+nr[0],er+nr[0].length):-1}function parseWeekNumberSunday(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.U=+nr[0],er+nr[0].length):-1}function parseWeekNumberISO(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.V=+nr[0],er+nr[0].length):-1}function parseWeekNumberMonday(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.W=+nr[0],er+nr[0].length):-1}function parseFullYear(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+4));return nr?(tr.y=+nr[0],er+nr[0].length):-1}function parseYear(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.y=+nr[0]+(+nr[0]>68?1900:2e3),er+nr[0].length):-1}function parseZone(tr,Hn,er){var nr=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Hn.slice(er,er+6));return nr?(tr.Z=nr[1]?0:-(nr[2]+(nr[3]||"00")),er+nr[0].length):-1}function parseQuarter(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+1));return nr?(tr.q=nr[0]*3-3,er+nr[0].length):-1}function parseMonthNumber(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.m=nr[0]-1,er+nr[0].length):-1}function parseDayOfMonth(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.d=+nr[0],er+nr[0].length):-1}function parseDayOfYear(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+3));return nr?(tr.m=0,tr.d=+nr[0],er+nr[0].length):-1}function parseHour24(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.H=+nr[0],er+nr[0].length):-1}function parseMinutes(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.M=+nr[0],er+nr[0].length):-1}function parseSeconds(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+2));return nr?(tr.S=+nr[0],er+nr[0].length):-1}function parseMilliseconds(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+3));return nr?(tr.L=+nr[0],er+nr[0].length):-1}function parseMicroseconds(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er,er+6));return nr?(tr.L=Math.floor(nr[0]/1e3),er+nr[0].length):-1}function parseLiteralPercent(tr,Hn,er){var nr=percentRe.exec(Hn.slice(er,er+1));return nr?er+nr[0].length:-1}function parseUnixTimestamp(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er));return nr?(tr.Q=+nr[0],er+nr[0].length):-1}function parseUnixTimestampSeconds(tr,Hn,er){var nr=numberRe.exec(Hn.slice(er));return nr?(tr.s=+nr[0],er+nr[0].length):-1}function formatDayOfMonth(tr,Hn){return pad(tr.getDate(),Hn,2)}function formatHour24(tr,Hn){return pad(tr.getHours(),Hn,2)}function formatHour12(tr,Hn){return pad(tr.getHours()%12||12,Hn,2)}function formatDayOfYear(tr,Hn){return pad(1+timeDay.count(timeYear(tr),tr),Hn,3)}function formatMilliseconds(tr,Hn){return pad(tr.getMilliseconds(),Hn,3)}function formatMicroseconds(tr,Hn){return formatMilliseconds(tr,Hn)+"000"}function formatMonthNumber(tr,Hn){return pad(tr.getMonth()+1,Hn,2)}function formatMinutes(tr,Hn){return pad(tr.getMinutes(),Hn,2)}function formatSeconds(tr,Hn){return pad(tr.getSeconds(),Hn,2)}function formatWeekdayNumberMonday(tr){var Hn=tr.getDay();return Hn===0?7:Hn}function formatWeekNumberSunday(tr,Hn){return pad(timeSunday.count(timeYear(tr)-1,tr),Hn,2)}function dISO(tr){var Hn=tr.getDay();return Hn>=4||Hn===0?timeThursday(tr):timeThursday.ceil(tr)}function formatWeekNumberISO(tr,Hn){return tr=dISO(tr),pad(timeThursday.count(timeYear(tr),tr)+(timeYear(tr).getDay()===4),Hn,2)}function formatWeekdayNumberSunday(tr){return tr.getDay()}function formatWeekNumberMonday(tr,Hn){return pad(timeMonday.count(timeYear(tr)-1,tr),Hn,2)}function formatYear$1(tr,Hn){return pad(tr.getFullYear()%100,Hn,2)}function formatYearISO(tr,Hn){return tr=dISO(tr),pad(tr.getFullYear()%100,Hn,2)}function formatFullYear(tr,Hn){return pad(tr.getFullYear()%1e4,Hn,4)}function formatFullYearISO(tr,Hn){var er=tr.getDay();return tr=er>=4||er===0?timeThursday(tr):timeThursday.ceil(tr),pad(tr.getFullYear()%1e4,Hn,4)}function formatZone(tr){var Hn=tr.getTimezoneOffset();return(Hn>0?"-":(Hn*=-1,"+"))+pad(Hn/60|0,"0",2)+pad(Hn%60,"0",2)}function formatUTCDayOfMonth(tr,Hn){return pad(tr.getUTCDate(),Hn,2)}function formatUTCHour24(tr,Hn){return pad(tr.getUTCHours(),Hn,2)}function formatUTCHour12(tr,Hn){return pad(tr.getUTCHours()%12||12,Hn,2)}function formatUTCDayOfYear(tr,Hn){return pad(1+utcDay.count(utcYear(tr),tr),Hn,3)}function formatUTCMilliseconds(tr,Hn){return pad(tr.getUTCMilliseconds(),Hn,3)}function formatUTCMicroseconds(tr,Hn){return formatUTCMilliseconds(tr,Hn)+"000"}function formatUTCMonthNumber(tr,Hn){return pad(tr.getUTCMonth()+1,Hn,2)}function formatUTCMinutes(tr,Hn){return pad(tr.getUTCMinutes(),Hn,2)}function formatUTCSeconds(tr,Hn){return pad(tr.getUTCSeconds(),Hn,2)}function formatUTCWeekdayNumberMonday(tr){var Hn=tr.getUTCDay();return Hn===0?7:Hn}function formatUTCWeekNumberSunday(tr,Hn){return pad(utcSunday.count(utcYear(tr)-1,tr),Hn,2)}function UTCdISO(tr){var Hn=tr.getUTCDay();return Hn>=4||Hn===0?utcThursday(tr):utcThursday.ceil(tr)}function formatUTCWeekNumberISO(tr,Hn){return tr=UTCdISO(tr),pad(utcThursday.count(utcYear(tr),tr)+(utcYear(tr).getUTCDay()===4),Hn,2)}function formatUTCWeekdayNumberSunday(tr){return tr.getUTCDay()}function formatUTCWeekNumberMonday(tr,Hn){return pad(utcMonday.count(utcYear(tr)-1,tr),Hn,2)}function formatUTCYear(tr,Hn){return pad(tr.getUTCFullYear()%100,Hn,2)}function formatUTCYearISO(tr,Hn){return tr=UTCdISO(tr),pad(tr.getUTCFullYear()%100,Hn,2)}function formatUTCFullYear(tr,Hn){return pad(tr.getUTCFullYear()%1e4,Hn,4)}function formatUTCFullYearISO(tr,Hn){var er=tr.getUTCDay();return tr=er>=4||er===0?utcThursday(tr):utcThursday.ceil(tr),pad(tr.getUTCFullYear()%1e4,Hn,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(tr){return+tr}function formatUnixTimestampSeconds(tr){return Math.floor(+tr/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(tr){return locale=formatLocale(tr),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(tr){return new Date(tr)}function number(tr){return tr instanceof Date?+tr:+new Date(+tr)}function calendar(tr,Hn,er,nr,ir,rr,sr,ar,or,lr){var cr=continuous(),ur=cr.invert,dr=cr.domain,fr=lr(".%L"),gr=lr(":%S"),yr=lr("%I:%M"),vr=lr("%I %p"),jr=lr("%a %d"),Sr=lr("%b %d"),Tr=lr("%B"),Lr=lr("%Y");function Mr(Nr){return(or(Nr)<Nr?fr:ar(Nr)<Nr?gr:sr(Nr)<Nr?yr:rr(Nr)<Nr?vr:nr(Nr)<Nr?ir(Nr)<Nr?jr:Sr:er(Nr)<Nr?Tr:Lr)(Nr)}return cr.invert=function(Nr){return new Date(ur(Nr))},cr.domain=function(Nr){return arguments.length?dr(Array.from(Nr,number)):dr().map(date)},cr.ticks=function(Nr){var Or=dr();return tr(Or[0],Or[Or.length-1],Nr??10)},cr.tickFormat=function(Nr,Or){return Or==null?Mr:lr(Or)},cr.nice=function(Nr){var Or=dr();return(!Nr||typeof Nr.range!="function")&&(Nr=Hn(Or[0],Or[Or.length-1],Nr??10)),Nr?dr(nice(Or,Nr)):cr},cr.copy=function(){return copy$1(cr,calendar(tr,Hn,er,nr,ir,rr,sr,ar,or,lr))},cr}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var tr=0,Hn=1,er,nr,ir,rr,sr=identity$3,ar=!1,or;function lr(ur){return ur==null||isNaN(ur=+ur)?or:sr(ir===0?.5:(ur=(rr(ur)-er)*ir,ar?Math.max(0,Math.min(1,ur)):ur))}lr.domain=function(ur){return arguments.length?([tr,Hn]=ur,er=rr(tr=+tr),nr=rr(Hn=+Hn),ir=er===nr?0:1/(nr-er),lr):[tr,Hn]},lr.clamp=function(ur){return arguments.length?(ar=!!ur,lr):ar},lr.interpolator=function(ur){return arguments.length?(sr=ur,lr):sr};function cr(ur){return function(dr){var fr,gr;return arguments.length?([fr,gr]=dr,sr=ur(fr,gr),lr):[sr(0),sr(1)]}}return lr.range=cr(interpolate),lr.rangeRound=cr(interpolateRound),lr.unknown=function(ur){return arguments.length?(or=ur,lr):or},function(ur){return rr=ur,er=ur(tr),nr=ur(Hn),ir=er===nr?0:1/(nr-er),lr}}function copy(tr,Hn){return Hn.domain(tr.domain()).interpolator(tr.interpolator()).clamp(tr.clamp()).unknown(tr.unknown())}function sequential(){var tr=linearish(transformer$1()(identity$3));return tr.copy=function(){return copy(tr,sequential())},initInterpolator.apply(tr,arguments)}function sequentialLog(){var tr=loggish(transformer$1()).domain([1,10]);return tr.copy=function(){return copy(tr,sequentialLog()).base(tr.base())},initInterpolator.apply(tr,arguments)}function sequentialSymlog(){var tr=symlogish(transformer$1());return tr.copy=function(){return copy(tr,sequentialSymlog()).constant(tr.constant())},initInterpolator.apply(tr,arguments)}function sequentialPow(){var tr=powish(transformer$1());return tr.copy=function(){return copy(tr,sequentialPow()).exponent(tr.exponent())},initInterpolator.apply(tr,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var tr=[],Hn=identity$3;function er(nr){if(nr!=null&&!isNaN(nr=+nr))return Hn((bisectRight(tr,nr,1)-1)/(tr.length-1))}return er.domain=function(nr){if(!arguments.length)return tr.slice();tr=[];for(let ir of nr)ir!=null&&!isNaN(ir=+ir)&&tr.push(ir);return tr.sort(ascending),er},er.interpolator=function(nr){return arguments.length?(Hn=nr,er):Hn},er.range=function(){return tr.map((nr,ir)=>Hn(ir/(tr.length-1)))},er.quantiles=function(nr){return Array.from({length:nr+1},(ir,rr)=>quantile$1(tr,rr/nr))},er.copy=function(){return sequentialQuantile(Hn).domain(tr)},initInterpolator.apply(er,arguments)}function transformer(){var tr=0,Hn=.5,er=1,nr=1,ir,rr,sr,ar,or,lr=identity$3,cr,ur=!1,dr;function fr(yr){return isNaN(yr=+yr)?dr:(yr=.5+((yr=+cr(yr))-rr)*(nr*yr<nr*rr?ar:or),lr(ur?Math.max(0,Math.min(1,yr)):yr))}fr.domain=function(yr){return arguments.length?([tr,Hn,er]=yr,ir=cr(tr=+tr),rr=cr(Hn=+Hn),sr=cr(er=+er),ar=ir===rr?0:.5/(rr-ir),or=rr===sr?0:.5/(sr-rr),nr=rr<ir?-1:1,fr):[tr,Hn,er]},fr.clamp=function(yr){return arguments.length?(ur=!!yr,fr):ur},fr.interpolator=function(yr){return arguments.length?(lr=yr,fr):lr};function gr(yr){return function(vr){var jr,Sr,Tr;return arguments.length?([jr,Sr,Tr]=vr,lr=piecewise(yr,[jr,Sr,Tr]),fr):[lr(0),lr(.5),lr(1)]}}return fr.range=gr(interpolate),fr.rangeRound=gr(interpolateRound),fr.unknown=function(yr){return arguments.length?(dr=yr,fr):dr},function(yr){return cr=yr,ir=yr(tr),rr=yr(Hn),sr=yr(er),ar=ir===rr?0:.5/(rr-ir),or=rr===sr?0:.5/(sr-rr),nr=rr<ir?-1:1,fr}}function diverging(){var tr=linearish(transformer()(identity$3));return tr.copy=function(){return copy(tr,diverging())},initInterpolator.apply(tr,arguments)}function divergingLog(){var tr=loggish(transformer()).domain([.1,1,10]);return tr.copy=function(){return copy(tr,divergingLog()).base(tr.base())},initInterpolator.apply(tr,arguments)}function divergingSymlog(){var tr=symlogish(transformer());return tr.copy=function(){return copy(tr,divergingSymlog()).constant(tr.constant())},initInterpolator.apply(tr,arguments)}function divergingPow(){var tr=powish(transformer());return tr.copy=function(){return copy(tr,divergingPow()).exponent(tr.exponent())},initInterpolator.apply(tr,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=tr=>tr.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],tr=>{var Hn=tr.chartData!=null?tr.chartData.length-1:0;return{chartData:tr.chartData,computedData:tr.computedData,dataEndIndex:Hn,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(tr,Hn,er,nr)=>nr?selectChartDataAndAlwaysIgnoreIndexes(tr):selectChartDataWithIndexes(tr);function isWellFormedNumberDomain(tr){if(Array.isArray(tr)&&tr.length===2){var[Hn,er]=tr;if(isWellBehavedNumber(Hn)&&isWellBehavedNumber(er))return!0}return!1}function extendDomain(tr,Hn,er){return er?tr:[Math.min(tr[0],Hn[0]),Math.max(tr[1],Hn[1])]}function numericalDomainSpecifiedWithoutRequiringData(tr,Hn){if(Hn&&typeof tr!="function"&&Array.isArray(tr)&&tr.length===2){var[er,nr]=tr,ir,rr;if(isWellBehavedNumber(er))ir=er;else if(typeof er=="function")return;if(isWellBehavedNumber(nr))rr=nr;else if(typeof nr=="function")return;var sr=[ir,rr];if(isWellFormedNumberDomain(sr))return sr}}function parseNumericalUserDomain(tr,Hn,er){if(!(!er&&Hn==null)){if(typeof tr=="function"&&Hn!=null)try{var nr=tr(Hn,er);if(isWellFormedNumberDomain(nr))return extendDomain(nr,Hn,er)}catch{}if(Array.isArray(tr)&&tr.length===2){var[ir,rr]=tr,sr,ar;if(ir==="auto")Hn!=null&&(sr=Math.min(...Hn));else if(isNumber(ir))sr=ir;else if(typeof ir=="function")try{Hn!=null&&(sr=ir(Hn?.[0]))}catch{}else if(typeof ir=="string"&&MIN_VALUE_REG.test(ir)){var or=MIN_VALUE_REG.exec(ir);if(or==null||Hn==null)sr=void 0;else{var lr=+or[1];sr=Hn[0]-lr}}else sr=Hn?.[0];if(rr==="auto")Hn!=null&&(ar=Math.max(...Hn));else if(isNumber(rr))ar=rr;else if(typeof rr=="function")try{Hn!=null&&(ar=rr(Hn?.[1]))}catch{}else if(typeof rr=="string"&&MAX_VALUE_REG.test(rr)){var cr=MAX_VALUE_REG.exec(rr);if(cr==null||Hn==null)ar=void 0;else{var ur=+cr[1];ar=Hn[1]+ur}}else ar=Hn?.[1];var dr=[sr,ar];if(isWellFormedNumberDomain(dr))return Hn==null?dr:extendDomain(dr,Hn,er)}}}var MAX_DIGITS=1e9,defaults$2={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$2={};P$2.absoluteValue=P$2.abs=function(){var tr=new this.constructor(this);return tr.s&&(tr.s=1),tr};P$2.comparedTo=P$2.cmp=function(tr){var Hn,er,nr,ir,rr=this;if(tr=new rr.constructor(tr),rr.s!==tr.s)return rr.s||-tr.s;if(rr.e!==tr.e)return rr.e>tr.e^rr.s<0?1:-1;for(nr=rr.d.length,ir=tr.d.length,Hn=0,er=nr<ir?nr:ir;Hn<er;++Hn)if(rr.d[Hn]!==tr.d[Hn])return rr.d[Hn]>tr.d[Hn]^rr.s<0?1:-1;return nr===ir?0:nr>ir^rr.s<0?1:-1};P$2.decimalPlaces=P$2.dp=function(){var tr=this,Hn=tr.d.length-1,er=(Hn-tr.e)*LOG_BASE;if(Hn=tr.d[Hn],Hn)for(;Hn%10==0;Hn/=10)er--;return er<0?0:er};P$2.dividedBy=P$2.div=function(tr){return divide(this,new this.constructor(tr))};P$2.dividedToIntegerBy=P$2.idiv=function(tr){var Hn=this,er=Hn.constructor;return round$1(divide(Hn,new er(tr),0,1),er.precision)};P$2.equals=P$2.eq=function(tr){return!this.cmp(tr)};P$2.exponent=function(){return getBase10Exponent(this)};P$2.greaterThan=P$2.gt=function(tr){return this.cmp(tr)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(tr){return this.cmp(tr)>=0};P$2.isInteger=P$2.isint=function(){return this.e>this.d.length-2};P$2.isNegative=P$2.isneg=function(){return this.s<0};P$2.isPositive=P$2.ispos=function(){return this.s>0};P$2.isZero=function(){return this.s===0};P$2.lessThan=P$2.lt=function(tr){return this.cmp(tr)<0};P$2.lessThanOrEqualTo=P$2.lte=function(tr){return this.cmp(tr)<1};P$2.logarithm=P$2.log=function(tr){var Hn,er=this,nr=er.constructor,ir=nr.precision,rr=ir+5;if(tr===void 0)tr=new nr(10);else if(tr=new nr(tr),tr.s<1||tr.eq(ONE))throw Error(decimalError+"NaN");if(er.s<1)throw Error(decimalError+(er.s?"NaN":"-Infinity"));return er.eq(ONE)?new nr(0):(external=!1,Hn=divide(ln$1(er,rr),ln$1(tr,rr),rr),external=!0,round$1(Hn,ir))};P$2.minus=P$2.sub=function(tr){var Hn=this;return tr=new Hn.constructor(tr),Hn.s==tr.s?subtract(Hn,tr):add(Hn,(tr.s=-tr.s,tr))};P$2.modulo=P$2.mod=function(tr){var Hn,er=this,nr=er.constructor,ir=nr.precision;if(tr=new nr(tr),!tr.s)throw Error(decimalError+"NaN");return er.s?(external=!1,Hn=divide(er,tr,0,1).times(tr),external=!0,er.minus(Hn)):round$1(new nr(er),ir)};P$2.naturalExponential=P$2.exp=function(){return exp(this)};P$2.naturalLogarithm=P$2.ln=function(){return ln$1(this)};P$2.negated=P$2.neg=function(){var tr=new this.constructor(this);return tr.s=-tr.s||0,tr};P$2.plus=P$2.add=function(tr){var Hn=this;return tr=new Hn.constructor(tr),Hn.s==tr.s?add(Hn,tr):subtract(Hn,(tr.s=-tr.s,tr))};P$2.precision=P$2.sd=function(tr){var Hn,er,nr,ir=this;if(tr!==void 0&&tr!==!!tr&&tr!==1&&tr!==0)throw Error(invalidArgument+tr);if(Hn=getBase10Exponent(ir)+1,nr=ir.d.length-1,er=nr*LOG_BASE+1,nr=ir.d[nr],nr){for(;nr%10==0;nr/=10)er--;for(nr=ir.d[0];nr>=10;nr/=10)er++}return tr&&Hn>er?Hn:er};P$2.squareRoot=P$2.sqrt=function(){var tr,Hn,er,nr,ir,rr,sr,ar=this,or=ar.constructor;if(ar.s<1){if(!ar.s)return new or(0);throw Error(decimalError+"NaN")}for(tr=getBase10Exponent(ar),external=!1,ir=Math.sqrt(+ar),ir==0||ir==1/0?(Hn=digitsToString(ar.d),(Hn.length+tr)%2==0&&(Hn+="0"),ir=Math.sqrt(Hn),tr=mathfloor((tr+1)/2)-(tr<0||tr%2),ir==1/0?Hn="5e"+tr:(Hn=ir.toExponential(),Hn=Hn.slice(0,Hn.indexOf("e")+1)+tr),nr=new or(Hn)):nr=new or(ir.toString()),er=or.precision,ir=sr=er+3;;)if(rr=nr,nr=rr.plus(divide(ar,rr,sr+2)).times(.5),digitsToString(rr.d).slice(0,sr)===(Hn=digitsToString(nr.d)).slice(0,sr)){if(Hn=Hn.slice(sr-3,sr+1),ir==sr&&Hn=="4999"){if(round$1(rr,er+1,0),rr.times(rr).eq(ar)){nr=rr;break}}else if(Hn!="9999")break;sr+=4}return external=!0,round$1(nr,er)};P$2.times=P$2.mul=function(tr){var Hn,er,nr,ir,rr,sr,ar,or,lr,cr=this,ur=cr.constructor,dr=cr.d,fr=(tr=new ur(tr)).d;if(!cr.s||!tr.s)return new ur(0);for(tr.s*=cr.s,er=cr.e+tr.e,or=dr.length,lr=fr.length,or<lr&&(rr=dr,dr=fr,fr=rr,sr=or,or=lr,lr=sr),rr=[],sr=or+lr,nr=sr;nr--;)rr.push(0);for(nr=lr;--nr>=0;){for(Hn=0,ir=or+nr;ir>nr;)ar=rr[ir]+fr[nr]*dr[ir-nr-1]+Hn,rr[ir--]=ar%BASE|0,Hn=ar/BASE|0;rr[ir]=(rr[ir]+Hn)%BASE|0}for(;!rr[--sr];)rr.pop();return Hn?++er:rr.shift(),tr.d=rr,tr.e=er,external?round$1(tr,ur.precision):tr};P$2.toDecimalPlaces=P$2.todp=function(tr,Hn){var er=this,nr=er.constructor;return er=new nr(er),tr===void 0?er:(checkInt32(tr,0,MAX_DIGITS),Hn===void 0?Hn=nr.rounding:checkInt32(Hn,0,8),round$1(er,tr+getBase10Exponent(er)+1,Hn))};P$2.toExponential=function(tr,Hn){var er,nr=this,ir=nr.constructor;return tr===void 0?er=toString(nr,!0):(checkInt32(tr,0,MAX_DIGITS),Hn===void 0?Hn=ir.rounding:checkInt32(Hn,0,8),nr=round$1(new ir(nr),tr+1,Hn),er=toString(nr,!0,tr+1)),er};P$2.toFixed=function(tr,Hn){var er,nr,ir=this,rr=ir.constructor;return tr===void 0?toString(ir):(checkInt32(tr,0,MAX_DIGITS),Hn===void 0?Hn=rr.rounding:checkInt32(Hn,0,8),nr=round$1(new rr(ir),tr+getBase10Exponent(ir)+1,Hn),er=toString(nr.abs(),!1,tr+getBase10Exponent(nr)+1),ir.isneg()&&!ir.isZero()?"-"+er:er)};P$2.toInteger=P$2.toint=function(){var tr=this,Hn=tr.constructor;return round$1(new Hn(tr),getBase10Exponent(tr)+1,Hn.rounding)};P$2.toNumber=function(){return+this};P$2.toPower=P$2.pow=function(tr){var Hn,er,nr,ir,rr,sr,ar=this,or=ar.constructor,lr=12,cr=+(tr=new or(tr));if(!tr.s)return new or(ONE);if(ar=new or(ar),!ar.s){if(tr.s<1)throw Error(decimalError+"Infinity");return ar}if(ar.eq(ONE))return ar;if(nr=or.precision,tr.eq(ONE))return round$1(ar,nr);if(Hn=tr.e,er=tr.d.length-1,sr=Hn>=er,rr=ar.s,sr){if((er=cr<0?-cr:cr)<=MAX_SAFE_INTEGER){for(ir=new or(ONE),Hn=Math.ceil(nr/LOG_BASE+4),external=!1;er%2&&(ir=ir.times(ar),truncate(ir.d,Hn)),er=mathfloor(er/2),er!==0;)ar=ar.times(ar),truncate(ar.d,Hn);return external=!0,tr.s<0?new or(ONE).div(ir):round$1(ir,nr)}}else if(rr<0)throw Error(decimalError+"NaN");return rr=rr<0&&tr.d[Math.max(Hn,er)]&1?-1:1,ar.s=1,external=!1,ir=tr.times(ln$1(ar,nr+lr)),external=!0,ir=exp(ir),ir.s=rr,ir};P$2.toPrecision=function(tr,Hn){var er,nr,ir=this,rr=ir.constructor;return tr===void 0?(er=getBase10Exponent(ir),nr=toString(ir,er<=rr.toExpNeg||er>=rr.toExpPos)):(checkInt32(tr,1,MAX_DIGITS),Hn===void 0?Hn=rr.rounding:checkInt32(Hn,0,8),ir=round$1(new rr(ir),tr,Hn),er=getBase10Exponent(ir),nr=toString(ir,tr<=er||er<=rr.toExpNeg,tr)),nr};P$2.toSignificantDigits=P$2.tosd=function(tr,Hn){var er=this,nr=er.constructor;return tr===void 0?(tr=nr.precision,Hn=nr.rounding):(checkInt32(tr,1,MAX_DIGITS),Hn===void 0?Hn=nr.rounding:checkInt32(Hn,0,8)),round$1(new nr(er),tr,Hn)};P$2.toString=P$2.valueOf=P$2.val=P$2.toJSON=P$2[Symbol.for("nodejs.util.inspect.custom")]=function(){var tr=this,Hn=getBase10Exponent(tr),er=tr.constructor;return toString(tr,Hn<=er.toExpNeg||Hn>=er.toExpPos)};function add(tr,Hn){var er,nr,ir,rr,sr,ar,or,lr,cr=tr.constructor,ur=cr.precision;if(!tr.s||!Hn.s)return Hn.s||(Hn=new cr(tr)),external?round$1(Hn,ur):Hn;if(or=tr.d,lr=Hn.d,sr=tr.e,ir=Hn.e,or=or.slice(),rr=sr-ir,rr){for(rr<0?(nr=or,rr=-rr,ar=lr.length):(nr=lr,ir=sr,ar=or.length),sr=Math.ceil(ur/LOG_BASE),ar=sr>ar?sr+1:ar+1,rr>ar&&(rr=ar,nr.length=1),nr.reverse();rr--;)nr.push(0);nr.reverse()}for(ar=or.length,rr=lr.length,ar-rr<0&&(rr=ar,nr=lr,lr=or,or=nr),er=0;rr;)er=(or[--rr]=or[rr]+lr[rr]+er)/BASE|0,or[rr]%=BASE;for(er&&(or.unshift(er),++ir),ar=or.length;or[--ar]==0;)or.pop();return Hn.d=or,Hn.e=ir,external?round$1(Hn,ur):Hn}function checkInt32(tr,Hn,er){if(tr!==~~tr||tr<Hn||tr>er)throw Error(invalidArgument+tr)}function digitsToString(tr){var Hn,er,nr,ir=tr.length-1,rr="",sr=tr[0];if(ir>0){for(rr+=sr,Hn=1;Hn<ir;Hn++)nr=tr[Hn]+"",er=LOG_BASE-nr.length,er&&(rr+=getZeroString(er)),rr+=nr;sr=tr[Hn],nr=sr+"",er=LOG_BASE-nr.length,er&&(rr+=getZeroString(er))}else if(sr===0)return"0";for(;sr%10===0;)sr/=10;return rr+sr}var divide=(function(){function tr(nr,ir){var rr,sr=0,ar=nr.length;for(nr=nr.slice();ar--;)rr=nr[ar]*ir+sr,nr[ar]=rr%BASE|0,sr=rr/BASE|0;return sr&&nr.unshift(sr),nr}function Hn(nr,ir,rr,sr){var ar,or;if(rr!=sr)or=rr>sr?1:-1;else for(ar=or=0;ar<rr;ar++)if(nr[ar]!=ir[ar]){or=nr[ar]>ir[ar]?1:-1;break}return or}function er(nr,ir,rr){for(var sr=0;rr--;)nr[rr]-=sr,sr=nr[rr]<ir[rr]?1:0,nr[rr]=sr*BASE+nr[rr]-ir[rr];for(;!nr[0]&&nr.length>1;)nr.shift()}return function(nr,ir,rr,sr){var ar,or,lr,cr,ur,dr,fr,gr,yr,vr,jr,Sr,Tr,Lr,Mr,Nr,Or,Fr,Gr=nr.constructor,qr=nr.s==ir.s?1:-1,Hr=nr.d,Yr=ir.d;if(!nr.s)return new Gr(nr);if(!ir.s)throw Error(decimalError+"Division by zero");for(or=nr.e-ir.e,Or=Yr.length,Mr=Hr.length,fr=new Gr(qr),gr=fr.d=[],lr=0;Yr[lr]==(Hr[lr]||0);)++lr;if(Yr[lr]>(Hr[lr]||0)&&--or,rr==null?Sr=rr=Gr.precision:sr?Sr=rr+(getBase10Exponent(nr)-getBase10Exponent(ir))+1:Sr=rr,Sr<0)return new Gr(0);if(Sr=Sr/LOG_BASE+2|0,lr=0,Or==1)for(cr=0,Yr=Yr[0],Sr++;(lr<Mr||cr)&&Sr--;lr++)Tr=cr*BASE+(Hr[lr]||0),gr[lr]=Tr/Yr|0,cr=Tr%Yr|0;else{for(cr=BASE/(Yr[0]+1)|0,cr>1&&(Yr=tr(Yr,cr),Hr=tr(Hr,cr),Or=Yr.length,Mr=Hr.length),Lr=Or,yr=Hr.slice(0,Or),vr=yr.length;vr<Or;)yr[vr++]=0;Fr=Yr.slice(),Fr.unshift(0),Nr=Yr[0],Yr[1]>=BASE/2&&++Nr;do cr=0,ar=Hn(Yr,yr,Or,vr),ar<0?(jr=yr[0],Or!=vr&&(jr=jr*BASE+(yr[1]||0)),cr=jr/Nr|0,cr>1?(cr>=BASE&&(cr=BASE-1),ur=tr(Yr,cr),dr=ur.length,vr=yr.length,ar=Hn(ur,yr,dr,vr),ar==1&&(cr--,er(ur,Or<dr?Fr:Yr,dr))):(cr==0&&(ar=cr=1),ur=Yr.slice()),dr=ur.length,dr<vr&&ur.unshift(0),er(yr,ur,vr),ar==-1&&(vr=yr.length,ar=Hn(Yr,yr,Or,vr),ar<1&&(cr++,er(yr,Or<vr?Fr:Yr,vr))),vr=yr.length):ar===0&&(cr++,yr=[0]),gr[lr++]=cr,ar&&yr[0]?yr[vr++]=Hr[Lr]||0:(yr=[Hr[Lr]],vr=1);while((Lr++<Mr||yr[0]!==void 0)&&Sr--)}return gr[0]||gr.shift(),fr.e=or,round$1(fr,sr?rr+getBase10Exponent(fr)+1:rr)}})();function exp(tr,Hn){var er,nr,ir,rr,sr,ar,or=0,lr=0,cr=tr.constructor,ur=cr.precision;if(getBase10Exponent(tr)>16)throw Error(exponentOutOfRange+getBase10Exponent(tr));if(!tr.s)return new cr(ONE);for(external=!1,ar=ur,sr=new cr(.03125);tr.abs().gte(.1);)tr=tr.times(sr),lr+=5;for(nr=Math.log(mathpow(2,lr))/Math.LN10*2+5|0,ar+=nr,er=ir=rr=new cr(ONE),cr.precision=ar;;){if(ir=round$1(ir.times(tr),ar),er=er.times(++or),sr=rr.plus(divide(ir,er,ar)),digitsToString(sr.d).slice(0,ar)===digitsToString(rr.d).slice(0,ar)){for(;lr--;)rr=round$1(rr.times(rr),ar);return cr.precision=ur,Hn==null?(external=!0,round$1(rr,ur)):rr}rr=sr}}function getBase10Exponent(tr){for(var Hn=tr.e*LOG_BASE,er=tr.d[0];er>=10;er/=10)Hn++;return Hn}function getLn10(tr,Hn,er){if(Hn>tr.LN10.sd())throw external=!0,er&&(tr.precision=er),Error(decimalError+"LN10 precision limit exceeded");return round$1(new tr(tr.LN10),Hn)}function getZeroString(tr){for(var Hn="";tr--;)Hn+="0";return Hn}function ln$1(tr,Hn){var er,nr,ir,rr,sr,ar,or,lr,cr,ur=1,dr=10,fr=tr,gr=fr.d,yr=fr.constructor,vr=yr.precision;if(fr.s<1)throw Error(decimalError+(fr.s?"NaN":"-Infinity"));if(fr.eq(ONE))return new yr(0);if(Hn==null?(external=!1,lr=vr):lr=Hn,fr.eq(10))return Hn==null&&(external=!0),getLn10(yr,lr);if(lr+=dr,yr.precision=lr,er=digitsToString(gr),nr=er.charAt(0),rr=getBase10Exponent(fr),Math.abs(rr)<15e14){for(;nr<7&&nr!=1||nr==1&&er.charAt(1)>3;)fr=fr.times(tr),er=digitsToString(fr.d),nr=er.charAt(0),ur++;rr=getBase10Exponent(fr),nr>1?(fr=new yr("0."+er),rr++):fr=new yr(nr+"."+er.slice(1))}else return or=getLn10(yr,lr+2,vr).times(rr+""),fr=ln$1(new yr(nr+"."+er.slice(1)),lr-dr).plus(or),yr.precision=vr,Hn==null?(external=!0,round$1(fr,vr)):fr;for(ar=sr=fr=divide(fr.minus(ONE),fr.plus(ONE),lr),cr=round$1(fr.times(fr),lr),ir=3;;){if(sr=round$1(sr.times(cr),lr),or=ar.plus(divide(sr,new yr(ir),lr)),digitsToString(or.d).slice(0,lr)===digitsToString(ar.d).slice(0,lr))return ar=ar.times(2),rr!==0&&(ar=ar.plus(getLn10(yr,lr+2,vr).times(rr+""))),ar=divide(ar,new yr(ur),lr),yr.precision=vr,Hn==null?(external=!0,round$1(ar,vr)):ar;ar=or,ir+=2}}function parseDecimal(tr,Hn){var er,nr,ir;for((er=Hn.indexOf("."))>-1&&(Hn=Hn.replace(".","")),(nr=Hn.search(/e/i))>0?(er<0&&(er=nr),er+=+Hn.slice(nr+1),Hn=Hn.substring(0,nr)):er<0&&(er=Hn.length),nr=0;Hn.charCodeAt(nr)===48;)++nr;for(ir=Hn.length;Hn.charCodeAt(ir-1)===48;)--ir;if(Hn=Hn.slice(nr,ir),Hn){if(ir-=nr,er=er-nr-1,tr.e=mathfloor(er/LOG_BASE),tr.d=[],nr=(er+1)%LOG_BASE,er<0&&(nr+=LOG_BASE),nr<ir){for(nr&&tr.d.push(+Hn.slice(0,nr)),ir-=LOG_BASE;nr<ir;)tr.d.push(+Hn.slice(nr,nr+=LOG_BASE));Hn=Hn.slice(nr),nr=LOG_BASE-Hn.length}else nr-=ir;for(;nr--;)Hn+="0";if(tr.d.push(+Hn),external&&(tr.e>MAX_E||tr.e<-MAX_E))throw Error(exponentOutOfRange+er)}else tr.s=0,tr.e=0,tr.d=[0];return tr}function round$1(tr,Hn,er){var nr,ir,rr,sr,ar,or,lr,cr,ur=tr.d;for(sr=1,rr=ur[0];rr>=10;rr/=10)sr++;if(nr=Hn-sr,nr<0)nr+=LOG_BASE,ir=Hn,lr=ur[cr=0];else{if(cr=Math.ceil((nr+1)/LOG_BASE),rr=ur.length,cr>=rr)return tr;for(lr=rr=ur[cr],sr=1;rr>=10;rr/=10)sr++;nr%=LOG_BASE,ir=nr-LOG_BASE+sr}if(er!==void 0&&(rr=mathpow(10,sr-ir-1),ar=lr/rr%10|0,or=Hn<0||ur[cr+1]!==void 0||lr%rr,or=er<4?(ar||or)&&(er==0||er==(tr.s<0?3:2)):ar>5||ar==5&&(er==4||or||er==6&&(nr>0?ir>0?lr/mathpow(10,sr-ir):0:ur[cr-1])%10&1||er==(tr.s<0?8:7))),Hn<1||!ur[0])return or?(rr=getBase10Exponent(tr),ur.length=1,Hn=Hn-rr-1,ur[0]=mathpow(10,(LOG_BASE-Hn%LOG_BASE)%LOG_BASE),tr.e=mathfloor(-Hn/LOG_BASE)||0):(ur.length=1,ur[0]=tr.e=tr.s=0),tr;if(nr==0?(ur.length=cr,rr=1,cr--):(ur.length=cr+1,rr=mathpow(10,LOG_BASE-nr),ur[cr]=ir>0?(lr/mathpow(10,sr-ir)%mathpow(10,ir)|0)*rr:0),or)for(;;)if(cr==0){(ur[0]+=rr)==BASE&&(ur[0]=1,++tr.e);break}else{if(ur[cr]+=rr,ur[cr]!=BASE)break;ur[cr--]=0,rr=1}for(nr=ur.length;ur[--nr]===0;)ur.pop();if(external&&(tr.e>MAX_E||tr.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(tr));return tr}function subtract(tr,Hn){var er,nr,ir,rr,sr,ar,or,lr,cr,ur,dr=tr.constructor,fr=dr.precision;if(!tr.s||!Hn.s)return Hn.s?Hn.s=-Hn.s:Hn=new dr(tr),external?round$1(Hn,fr):Hn;if(or=tr.d,ur=Hn.d,nr=Hn.e,lr=tr.e,or=or.slice(),sr=lr-nr,sr){for(cr=sr<0,cr?(er=or,sr=-sr,ar=ur.length):(er=ur,nr=lr,ar=or.length),ir=Math.max(Math.ceil(fr/LOG_BASE),ar)+2,sr>ir&&(sr=ir,er.length=1),er.reverse(),ir=sr;ir--;)er.push(0);er.reverse()}else{for(ir=or.length,ar=ur.length,cr=ir<ar,cr&&(ar=ir),ir=0;ir<ar;ir++)if(or[ir]!=ur[ir]){cr=or[ir]<ur[ir];break}sr=0}for(cr&&(er=or,or=ur,ur=er,Hn.s=-Hn.s),ar=or.length,ir=ur.length-ar;ir>0;--ir)or[ar++]=0;for(ir=ur.length;ir>sr;){if(or[--ir]<ur[ir]){for(rr=ir;rr&&or[--rr]===0;)or[rr]=BASE-1;--or[rr],or[ir]+=BASE}or[ir]-=ur[ir]}for(;or[--ar]===0;)or.pop();for(;or[0]===0;or.shift())--nr;return or[0]?(Hn.d=or,Hn.e=nr,external?round$1(Hn,fr):Hn):new dr(0)}function toString(tr,Hn,er){var nr,ir=getBase10Exponent(tr),rr=digitsToString(tr.d),sr=rr.length;return Hn?(er&&(nr=er-sr)>0?rr=rr.charAt(0)+"."+rr.slice(1)+getZeroString(nr):sr>1&&(rr=rr.charAt(0)+"."+rr.slice(1)),rr=rr+(ir<0?"e":"e+")+ir):ir<0?(rr="0."+getZeroString(-ir-1)+rr,er&&(nr=er-sr)>0&&(rr+=getZeroString(nr))):ir>=sr?(rr+=getZeroString(ir+1-sr),er&&(nr=er-ir-1)>0&&(rr=rr+"."+getZeroString(nr))):((nr=ir+1)<sr&&(rr=rr.slice(0,nr)+"."+rr.slice(nr)),er&&(nr=er-sr)>0&&(ir+1===sr&&(rr+="."),rr+=getZeroString(nr))),tr.s<0?"-"+rr:rr}function truncate(tr,Hn){if(tr.length>Hn)return tr.length=Hn,!0}function clone(tr){var Hn,er,nr;function ir(rr){var sr=this;if(!(sr instanceof ir))return new ir(rr);if(sr.constructor=ir,rr instanceof ir){sr.s=rr.s,sr.e=rr.e,sr.d=(rr=rr.d)?rr.slice():rr;return}if(typeof rr=="number"){if(rr*0!==0)throw Error(invalidArgument+rr);if(rr>0)sr.s=1;else if(rr<0)rr=-rr,sr.s=-1;else{sr.s=0,sr.e=0,sr.d=[0];return}if(rr===~~rr&&rr<1e7){sr.e=0,sr.d=[rr];return}return parseDecimal(sr,rr.toString())}else if(typeof rr!="string")throw Error(invalidArgument+rr);if(rr.charCodeAt(0)===45?(rr=rr.slice(1),sr.s=-1):sr.s=1,isDecimal.test(rr))parseDecimal(sr,rr);else throw Error(invalidArgument+rr)}if(ir.prototype=P$2,ir.ROUND_UP=0,ir.ROUND_DOWN=1,ir.ROUND_CEIL=2,ir.ROUND_FLOOR=3,ir.ROUND_HALF_UP=4,ir.ROUND_HALF_DOWN=5,ir.ROUND_HALF_EVEN=6,ir.ROUND_HALF_CEIL=7,ir.ROUND_HALF_FLOOR=8,ir.clone=clone,ir.config=ir.set=config,tr===void 0&&(tr={}),tr)for(nr=["precision","rounding","toExpNeg","toExpPos","LN10"],Hn=0;Hn<nr.length;)tr.hasOwnProperty(er=nr[Hn++])||(tr[er]=this[er]);return ir.config(tr),ir}function config(tr){if(!tr||typeof tr!="object")throw Error(decimalError+"Object expected");var Hn,er,nr,ir=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(Hn=0;Hn<ir.length;Hn+=3)if((nr=tr[er=ir[Hn]])!==void 0)if(mathfloor(nr)===nr&&nr>=ir[Hn+1]&&nr<=ir[Hn+2])this[er]=nr;else throw Error(invalidArgument+er+": "+nr);if((nr=tr[er="LN10"])!==void 0)if(nr==Math.LN10)this[er]=new this(nr);else throw Error(invalidArgument+er+": "+nr);return this}var Decimal=clone(defaults$2);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=tr=>tr,PLACE_HOLDER={},isPlaceHolder=tr=>tr===PLACE_HOLDER,curry0=tr=>function Hn(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?Hn:tr(...arguments)},curryN=(tr,Hn)=>tr===1?Hn:curry0(function(){for(var er=arguments.length,nr=new Array(er),ir=0;ir<er;ir++)nr[ir]=arguments[ir];var rr=nr.filter(sr=>sr!==PLACE_HOLDER).length;return rr>=tr?Hn(...nr):curryN(tr-rr,curry0(function(){for(var sr=arguments.length,ar=new Array(sr),or=0;or<sr;or++)ar[or]=arguments[or];var lr=nr.map(cr=>isPlaceHolder(cr)?ar.shift():cr);return Hn(...lr,...ar)}))}),curry=tr=>curryN(tr.length,tr),range=(tr,Hn)=>{for(var er=[],nr=tr;nr<Hn;++nr)er[nr-tr]=nr;return er},map=curry((tr,Hn)=>Array.isArray(Hn)?Hn.map(tr):Object.keys(Hn).map(er=>Hn[er]).map(tr)),compose=function tr(){for(var Hn=arguments.length,er=new Array(Hn),nr=0;nr<Hn;nr++)er[nr]=arguments[nr];if(!er.length)return identity;var ir=er.reverse(),rr=ir[0],sr=ir.slice(1);return function(){return sr.reduce((ar,or)=>or(ar),rr(...arguments))}},reverse=tr=>Array.isArray(tr)?tr.reverse():tr.split("").reverse().join("");function getDigitCount(tr){var Hn;return tr===0?Hn=1:Hn=Math.floor(new Decimal$1(tr).abs().log(10).toNumber())+1,Hn}function rangeStep(tr,Hn,er){for(var nr=new Decimal$1(tr),ir=0,rr=[];nr.lt(Hn)&&ir<1e5;)rr.push(nr.toNumber()),nr=nr.add(er),ir++;return rr}var getValidInterval=tr=>{var[Hn,er]=tr,[nr,ir]=[Hn,er];return Hn>er&&([nr,ir]=[er,Hn]),[nr,ir]},getFormatStep=(tr,Hn,er)=>{if(tr.lte(0))return new Decimal$1(0);var nr=getDigitCount(tr.toNumber()),ir=new Decimal$1(10).pow(nr),rr=tr.div(ir),sr=nr!==1?.05:.1,ar=new Decimal$1(Math.ceil(rr.div(sr).toNumber())).add(er).mul(sr),or=ar.mul(ir);return Hn?new Decimal$1(or.toNumber()):new Decimal$1(Math.ceil(or.toNumber()))},getTickOfSingleValue=(tr,Hn,er)=>{var nr=new Decimal$1(1),ir=new Decimal$1(tr);if(!ir.isint()&&er){var rr=Math.abs(tr);rr<1?(nr=new Decimal$1(10).pow(getDigitCount(tr)-1),ir=new Decimal$1(Math.floor(ir.div(nr).toNumber())).mul(nr)):rr>1&&(ir=new Decimal$1(Math.floor(tr)))}else tr===0?ir=new Decimal$1(Math.floor((Hn-1)/2)):er||(ir=new Decimal$1(Math.floor(tr)));var sr=Math.floor((Hn-1)/2),ar=compose(map(or=>ir.add(new Decimal$1(or-sr).mul(nr)).toNumber()),range);return ar(0,Hn)},_calculateStep=function tr(Hn,er,nr,ir){var rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((er-Hn)/(nr-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var sr=getFormatStep(new Decimal$1(er).sub(Hn).div(nr-1),ir,rr),ar;Hn<=0&&er>=0?ar=new Decimal$1(0):(ar=new Decimal$1(Hn).add(er).div(2),ar=ar.sub(new Decimal$1(ar).mod(sr)));var or=Math.ceil(ar.sub(Hn).div(sr).toNumber()),lr=Math.ceil(new Decimal$1(er).sub(ar).div(sr).toNumber()),cr=or+lr+1;return cr>nr?_calculateStep(Hn,er,nr,ir,rr+1):(cr<nr&&(lr=er>0?lr+(nr-cr):lr,or=er>0?or:or+(nr-cr)),{step:sr,tickMin:ar.sub(new Decimal$1(or).mul(sr)),tickMax:ar.add(new Decimal$1(lr).mul(sr))})},getNiceTickValues=function tr(Hn){var[er,nr]=Hn,ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,sr=Math.max(ir,2),[ar,or]=getValidInterval([er,nr]);if(ar===-1/0||or===1/0){var lr=or===1/0?[ar,...range(0,ir-1).map(()=>1/0)]:[...range(0,ir-1).map(()=>-1/0),or];return er>nr?reverse(lr):lr}if(ar===or)return getTickOfSingleValue(ar,ir,rr);var{step:cr,tickMin:ur,tickMax:dr}=_calculateStep(ar,or,sr,rr,0),fr=rangeStep(ur,dr.add(new Decimal$1(.1).mul(cr)),cr);return er>nr?reverse(fr):fr},getTickValuesFixedDomain=function tr(Hn,er){var[nr,ir]=Hn,rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[sr,ar]=getValidInterval([nr,ir]);if(sr===-1/0||ar===1/0)return[nr,ir];if(sr===ar)return[sr];var or=Math.max(er,2),lr=getFormatStep(new Decimal$1(ar).sub(sr).div(or-1),rr,0),cr=[...rangeStep(new Decimal$1(sr),new Decimal$1(ar),lr),ar];return rr===!1&&(cr=cr.map(ur=>Math.round(ur))),nr>ir?reverse(cr):cr},selectRootMaxBarSize=tr=>tr.rootProps.maxBarSize,selectBarGap=tr=>tr.rootProps.barGap,selectBarCategoryGap=tr=>tr.rootProps.barCategoryGap,selectRootBarSize=tr=>tr.rootProps.barSize,selectStackOffsetType=tr=>tr.rootProps.stackOffset,selectReverseStackOrder=tr=>tr.rootProps.reverseStackOrder,selectChartName=tr=>tr.options.chartName,selectSyncId=tr=>tr.rootProps.syncId,selectSyncMethod=tr=>tr.rootProps.syncMethod,selectEventEmitter=tr=>tr.options.eventEmitter,DefaultZIndexes={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(tr,Hn)=>{if(!(!tr||!Hn))return tr!=null&&tr.reversed?[Hn[1],Hn[0]]:Hn},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(tr,Hn)=>tr.polarAxis.angleAxis[Hn]!=null?tr.polarAxis.angleAxis[Hn]:tr.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(tr,Hn)=>tr.polarAxis.radiusAxis[Hn]!=null?tr.polarAxis.radiusAxis[Hn]:tr.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=tr=>tr.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(tr,Hn)=>{if(tr!=null)return getPercentValue(tr.innerRadius,Hn,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(tr,Hn)=>{if(tr!=null)return getPercentValue(tr.outerRadius,Hn,Hn*.8)}),combineAngleAxisRange=tr=>{if(tr==null)return[0,0];var{startAngle:Hn,endAngle:er}=tr;return[Hn,er]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(tr,Hn,er)=>{if(!(tr==null||Hn==null||er==null))return[Hn,er]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(tr,Hn,er,nr,ir,rr)=>{if(!(tr!=="centric"&&tr!=="radial"||Hn==null||er==null||nr==null)){var{cx:sr,cy:ar,startAngle:or,endAngle:lr}=Hn;return{cx:getPercentValue(sr,ir,ir/2),cy:getPercentValue(ar,rr,rr/2),innerRadius:er,outerRadius:nr,startAngle:or,endAngle:lr,clockWise:!1}}}),pickAxisType=(tr,Hn)=>Hn,pickAxisId=(tr,Hn,er)=>er;function getStackSeriesIdentifier(tr){return tr?.id}function combineDisplayedStackedData(tr,Hn,er){var{chartData:nr=[]}=Hn,{allowDuplicatedCategory:ir,dataKey:rr}=er,sr=new Map;return tr.forEach(ar=>{var or,lr=(or=ar.data)!==null&&or!==void 0?or:nr;if(!(lr==null||lr.length===0)){var cr=getStackSeriesIdentifier(ar);lr.forEach((ur,dr)=>{var fr=rr==null||ir?dr:String(getValueByDataKey(ur,rr,null)),gr=getValueByDataKey(ur,ar.dataKey,0),yr;sr.has(fr)?yr=sr.get(fr):yr={},Object.assign(yr,{[cr]:gr}),sr.set(fr,yr)})}}),Array.from(sr.values())}function isStacked(tr){return tr.stackId!=null&&tr.dataKey!=null}var numberDomainEqualityCheck=(tr,Hn)=>tr===Hn?!0:tr==null||Hn==null?!1:tr[0]===Hn[0]&&tr[1]===Hn[1];function emptyArraysAreEqualCheck(tr,Hn){return Array.isArray(tr)&&Array.isArray(Hn)&&tr.length===0&&Hn.length===0?!0:tr===Hn}function arrayContentsAreEqualCheck(tr,Hn){if(tr.length===Hn.length){for(var er=0;er<tr.length;er++)if(tr[er]!==Hn[er])return!1;return!0}return!1}var selectTooltipAxisType=tr=>{var Hn=selectChartLayout(tr);return Hn==="horizontal"?"xAxis":Hn==="vertical"?"yAxis":Hn==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=tr=>tr.tooltip.settings.axisId;function ownKeys$n(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$n(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$n(Object(er),!0).forEach(function(nr){_defineProperty$o(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$n(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$o(tr,Hn,er){return(Hn=_toPropertyKey$o(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$o(tr){var Hn=_toPrimitive$o(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$o(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(tr,Hn)=>tr.cartesianAxis.xAxis[Hn],selectXAxisSettings=(tr,Hn)=>{var er=selectXAxisSettingsNoDefaults(tr,Hn);return er??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(tr,Hn)=>tr.cartesianAxis.yAxis[Hn],selectYAxisSettings=(tr,Hn)=>{var er=selectYAxisSettingsNoDefaults(tr,Hn);return er??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(tr,Hn)=>{var er=tr.cartesianAxis.zAxis[Hn];return er??implicitZAxis},selectBaseAxis=(tr,Hn,er)=>{switch(Hn){case"xAxis":return selectXAxisSettings(tr,er);case"yAxis":return selectYAxisSettings(tr,er);case"zAxis":return selectZAxisSettings(tr,er);case"angleAxis":return selectAngleAxis(tr,er);case"radiusAxis":return selectRadiusAxis(tr,er);default:throw new Error("Unexpected axis type: ".concat(Hn))}},selectCartesianAxisSettings=(tr,Hn,er)=>{switch(Hn){case"xAxis":return selectXAxisSettings(tr,er);case"yAxis":return selectYAxisSettings(tr,er);default:throw new Error("Unexpected axis type: ".concat(Hn))}},selectAxisSettings=(tr,Hn,er)=>{switch(Hn){case"xAxis":return selectXAxisSettings(tr,er);case"yAxis":return selectYAxisSettings(tr,er);case"angleAxis":return selectAngleAxis(tr,er);case"radiusAxis":return selectRadiusAxis(tr,er);default:throw new Error("Unexpected axis type: ".concat(Hn))}},selectHasBar=tr=>tr.graphicalItems.cartesianItems.some(Hn=>Hn.type==="bar")||tr.graphicalItems.polarItems.some(Hn=>Hn.type==="radialBar");function itemAxisPredicate(tr,Hn){return er=>{switch(tr){case"xAxis":return"xAxisId"in er&&er.xAxisId===Hn;case"yAxis":return"yAxisId"in er&&er.yAxisId===Hn;case"zAxis":return"zAxisId"in er&&er.zAxisId===Hn;case"angleAxis":return"angleAxisId"in er&&er.angleAxisId===Hn;case"radiusAxis":return"radiusAxisId"in er&&er.radiusAxisId===Hn;default:return!1}}}var selectUnfilteredCartesianItems=tr=>tr.graphicalItems.cartesianItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(tr,Hn,er)=>tr.filter(er).filter(nr=>Hn?.includeHidden===!0?!0:!nr.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],tr=>tr.filter(Hn=>Hn.type==="area"||Hn.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=tr=>tr.filter(Hn=>!("stackId"in Hn)||Hn.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=tr=>tr.map(Hn=>Hn.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),combineDisplayedData=(tr,Hn)=>{var{chartData:er=[],dataStartIndex:nr,dataEndIndex:ir}=Hn;return tr.length>0?tr:er.slice(nr,ir+1)},selectDisplayedData=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(tr,Hn,er)=>Hn?.dataKey!=null?tr.map(nr=>({value:getValueByDataKey(nr,Hn.dataKey)})):er.length>0?er.map(nr=>nr.dataKey).flatMap(nr=>tr.map(ir=>({value:getValueByDataKey(ir,nr)}))):tr.map(nr=>({value:nr})),selectAllAppliedValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(tr,Hn){switch(tr){case"xAxis":return Hn.direction==="x";case"yAxis":return Hn.direction==="y";default:return!1}}function makeNumber(tr){if(isNumOrStr(tr)||tr instanceof Date){var Hn=Number(tr);if(isWellBehavedNumber(Hn))return Hn}}function makeDomain(tr){if(Array.isArray(tr)){var Hn=[makeNumber(tr[0]),makeNumber(tr[1])];return isWellFormedNumberDomain(Hn)?Hn:void 0}var er=makeNumber(tr);if(er!=null)return[er,er]}function onlyAllowNumbers(tr){return tr.map(makeNumber).filter(isNotNil)}function getErrorDomainByDataKey(tr,Hn,er){return!er||typeof Hn!="number"||isNan(Hn)?[]:er.length?onlyAllowNumbers(er.flatMap(nr=>{var ir=getValueByDataKey(tr,nr.dataKey),rr,sr;if(Array.isArray(ir)?[rr,sr]=ir:rr=sr=ir,!(!isWellBehavedNumber(rr)||!isWellBehavedNumber(sr)))return[Hn-rr,Hn+sr]})):[]}var selectTooltipAxis=tr=>{var Hn=selectTooltipAxisType(tr),er=selectTooltipAxisId(tr);return selectAxisSettings(tr,Hn,er)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],tr=>tr?.dataKey),selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(tr,Hn,er,nr)=>{var ir={},rr=Hn.reduce((sr,ar)=>(ar.stackId==null||(sr[ar.stackId]==null&&(sr[ar.stackId]=[]),sr[ar.stackId].push(ar)),sr),ir);return Object.fromEntries(Object.entries(rr).map(sr=>{var[ar,or]=sr,lr=nr?[...or].reverse():or,cr=lr.map(getStackSeriesIdentifier);return[ar,{stackedData:getStackedData(tr,cr,er),graphicalItems:lr}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),combineDomainOfStackGroups=(tr,Hn,er,nr)=>{var{dataStartIndex:ir,dataEndIndex:rr}=Hn;if(nr==null&&er!=="zAxis"){var sr=getDomainOfStackGroups(tr,ir,rr);if(!(sr!=null&&sr[0]===0&&sr[1]===0))return sr}},selectAllowsDataOverflow=createSelector([selectBaseAxis],tr=>tr.allowDataOverflow),getDomainDefinition=tr=>{var Hn;if(tr==null||!("domain"in tr))return defaultNumericDomain;if(tr.domain!=null)return tr.domain;if(tr.ticks!=null){if(tr.type==="number"){var er=onlyAllowNumbers(tr.ticks);return[Math.min(...er),Math.max(...er)]}if(tr.type==="category")return tr.ticks.map(String)}return(Hn=tr?.domain)!==null&&Hn!==void 0?Hn:defaultNumericDomain},selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectAllErrorBarSettings=tr=>tr.errorBars,combineRelevantErrorBarSettings=(tr,Hn,er)=>tr.flatMap(nr=>Hn[nr.id]).filter(Boolean).filter(nr=>isErrorBarRelevantForAxisType(er,nr)),mergeDomains=function tr(){for(var Hn=arguments.length,er=new Array(Hn),nr=0;nr<Hn;nr++)er[nr]=arguments[nr];var ir=er.filter(Boolean);if(ir.length!==0){var rr=ir.flat(),sr=Math.min(...rr),ar=Math.max(...rr);return[sr,ar]}},combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(tr,Hn,er,nr,ir)=>{var rr,sr;if(er.length>0&&tr.forEach(ar=>{er.forEach(or=>{var lr,cr,ur=(lr=nr[or.id])===null||lr===void 0?void 0:lr.filter(jr=>isErrorBarRelevantForAxisType(ir,jr)),dr=getValueByDataKey(ar,(cr=Hn.dataKey)!==null&&cr!==void 0?cr:or.dataKey),fr=getErrorDomainByDataKey(ar,dr,ur);if(fr.length>=2){var gr=Math.min(...fr),yr=Math.max(...fr);(rr==null||gr<rr)&&(rr=gr),(sr==null||yr>sr)&&(sr=yr)}var vr=makeDomain(dr);vr!=null&&(rr=rr==null?vr[0]:Math.min(rr,vr[0]),sr=sr==null?vr[1]:Math.max(sr,vr[1]))})}),Hn?.dataKey!=null&&tr.forEach(ar=>{var or=makeDomain(getValueByDataKey(ar,Hn.dataKey));or!=null&&(rr=rr==null?or[0]:Math.min(rr,or[0]),sr=sr==null?or[1]:Math.max(sr,or[1]))}),isWellBehavedNumber(rr)&&isWellBehavedNumber(sr))return[rr,sr]},selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(tr){var{value:Hn}=tr;if(isNumOrStr(Hn)||Hn instanceof Date)return Hn}var computeDomainOfTypeCategory=(tr,Hn,er)=>{var nr=tr.map(onlyAllowNumbersAndStringsAndDates).filter(ir=>ir!=null);return er&&(Hn.dataKey==null||Hn.allowDuplicatedCategory&&hasDuplicate(nr))?range$2(0,tr.length):Hn.allowDuplicatedCategory?nr:Array.from(new Set(nr))},selectReferenceDots=tr=>tr.referenceElements.dots,filterReferenceElements=(tr,Hn,er)=>tr.filter(nr=>nr.ifOverflow==="extendDomain").filter(nr=>Hn==="xAxis"?nr.xAxisId===er:nr.yAxisId===er),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=tr=>tr.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=tr=>tr.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(tr,Hn)=>{var er=onlyAllowNumbers(tr.map(nr=>Hn==="xAxis"?nr.x:nr.y));if(er.length!==0)return[Math.min(...er),Math.max(...er)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(tr,Hn)=>{var er=onlyAllowNumbers(tr.flatMap(nr=>[Hn==="xAxis"?nr.x1:nr.y1,Hn==="xAxis"?nr.x2:nr.y2]));if(er.length!==0)return[Math.min(...er),Math.max(...er)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain);function extractXCoordinates(tr){var Hn;if(tr.x!=null)return onlyAllowNumbers([tr.x]);var er=(Hn=tr.segment)===null||Hn===void 0?void 0:Hn.map(nr=>nr.x);return er==null||er.length===0?[]:onlyAllowNumbers(er)}function extractYCoordinates(tr){var Hn;if(tr.y!=null)return onlyAllowNumbers([tr.y]);var er=(Hn=tr.segment)===null||Hn===void 0?void 0:Hn.map(nr=>nr.y);return er==null||er.length===0?[]:onlyAllowNumbers(er)}var combineLinesDomain=(tr,Hn)=>{var er=tr.flatMap(nr=>Hn==="xAxis"?extractXCoordinates(nr):extractYCoordinates(nr));if(er.length!==0)return[Math.min(...er),Math.max(...er)]},selectReferenceLinesDomain=createSelector([selectReferenceLinesByAxis,pickAxisType],combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(tr,Hn,er)=>mergeDomains(tr,er,Hn)),combineNumericalDomain=(tr,Hn,er,nr,ir,rr,sr,ar)=>{if(er!=null)return er;var or=sr==="vertical"&&ar==="xAxis"||sr==="horizontal"&&ar==="yAxis",lr=or?mergeDomains(nr,rr,ir):mergeDomains(rr,ir);return parseNumericalUserDomain(Hn,lr,tr.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),expandDomain=[0,1],combineAxisDomain=(tr,Hn,er,nr,ir,rr,sr)=>{if(!((tr==null||er==null||er.length===0)&&sr===void 0)){var{dataKey:ar,type:or}=tr,lr=isCategoricalAxis(Hn,rr);if(lr&&ar==null){var cr;return range$2(0,(cr=er?.length)!==null&&cr!==void 0?cr:0)}return or==="category"?computeDomainOfTypeCategory(nr,tr,lr):ir==="expand"?expandDomain:sr}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(tr,Hn,er,nr,ir)=>{if(tr!=null){var{scale:rr,type:sr}=tr;if(rr==="auto")return Hn==="radial"&&ir==="radiusAxis"?"band":Hn==="radial"&&ir==="angleAxis"?"linear":sr==="category"&&nr&&(nr.indexOf("LineChart")>=0||nr.indexOf("AreaChart")>=0||nr.indexOf("ComposedChart")>=0&&!er)?"point":sr==="category"?"band":"linear";if(typeof rr=="string"){var ar="scale".concat(upperFirst(rr));return ar in d3Scales?ar:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(tr){if(tr!=null){if(tr in d3Scales)return d3Scales[tr]();var Hn="scale".concat(upperFirst(tr));if(Hn in d3Scales)return d3Scales[Hn]()}}function combineScaleFunction(tr,Hn,er,nr){if(!(er==null||nr==null)){if(typeof tr.scale=="function")return tr.scale.copy().domain(er).range(nr);var ir=getD3ScaleFromType(Hn);if(ir!=null){var rr=ir.domain(er).range(nr);return checkDomainOfScale(rr),rr}}}var combineNiceTicks=(tr,Hn,er)=>{var nr=getDomainDefinition(Hn);if(!(er!=="auto"&&er!=="linear")){if(Hn!=null&&Hn.tickCount&&Array.isArray(nr)&&(nr[0]==="auto"||nr[1]==="auto")&&isWellFormedNumberDomain(tr))return getNiceTickValues(tr,Hn.tickCount,Hn.allowDecimals);if(Hn!=null&&Hn.tickCount&&Hn.type==="number"&&isWellFormedNumberDomain(tr))return getTickValuesFixedDomain(tr,Hn.tickCount,Hn.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(tr,Hn,er,nr)=>{if(nr!=="angleAxis"&&tr?.type==="number"&&isWellFormedNumberDomain(Hn)&&Array.isArray(er)&&er.length>0){var ir=Hn[0],rr=er[0],sr=Hn[1],ar=er[er.length-1];return[Math.min(ir,rr),Math.max(sr,ar)]}return Hn},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(tr,Hn)=>{if(!(!Hn||Hn.type!=="number")){var er=1/0,nr=Array.from(onlyAllowNumbers(tr.map(ar=>ar.value))).sort((ar,or)=>ar-or);if(nr.length<2)return 1/0;var ir=nr[nr.length-1]-nr[0];if(ir===0)return 1/0;for(var rr=0;rr<nr.length-1;rr++){var sr=nr[rr+1]-nr[rr];er=Math.min(er,sr)}return er/ir}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(tr,Hn,er,nr)=>nr,(tr,Hn,er,nr,ir)=>{if(!isWellBehavedNumber(tr))return 0;var rr=Hn==="vertical"?nr.height:nr.width;if(ir==="gap")return tr*rr/2;if(ir==="no-gap"){var sr=getPercentValue(er,tr*rr),ar=tr*rr/2;return ar-sr-(ar-sr)/rr*sr}return 0}),selectCalculatedXAxisPadding=(tr,Hn)=>{var er=selectXAxisSettings(tr,Hn);return er==null||typeof er.padding!="string"?0:selectCalculatedPadding(tr,"xAxis",Hn,er.padding)},selectCalculatedYAxisPadding=(tr,Hn)=>{var er=selectYAxisSettings(tr,Hn);return er==null||typeof er.padding!="string"?0:selectCalculatedPadding(tr,"yAxis",Hn,er.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(tr,Hn)=>{var er,nr;if(tr==null)return{left:0,right:0};var{padding:ir}=tr;return typeof ir=="string"?{left:Hn,right:Hn}:{left:((er=ir.left)!==null&&er!==void 0?er:0)+Hn,right:((nr=ir.right)!==null&&nr!==void 0?nr:0)+Hn}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(tr,Hn)=>{var er,nr;if(tr==null)return{top:0,bottom:0};var{padding:ir}=tr;return typeof ir=="string"?{top:Hn,bottom:Hn}:{top:((er=ir.top)!==null&&er!==void 0?er:0)+Hn,bottom:((nr=ir.bottom)!==null&&nr!==void 0?nr:0)+Hn}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(tr,Hn,er)=>er],(tr,Hn,er,nr,ir)=>{var{padding:rr}=nr;return ir?[rr.left,er.width-rr.right]:[tr.left+Hn.left,tr.left+tr.width-Hn.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(tr,Hn,er)=>er],(tr,Hn,er,nr,ir,rr)=>{var{padding:sr}=ir;return rr?[nr.height-sr.bottom,sr.top]:Hn==="horizontal"?[tr.top+tr.height-er.bottom,tr.top+er.top]:[tr.top+er.top,tr.top+tr.height-er.bottom]}),selectAxisRange=(tr,Hn,er,nr)=>{var ir;switch(Hn){case"xAxis":return combineXAxisRange(tr,er,nr);case"yAxis":return combineYAxisRange(tr,er,nr);case"zAxis":return(ir=selectZAxisSettings(tr,er))===null||ir===void 0?void 0:ir.range;case"angleAxis":return selectAngleAxisRange(tr);case"radiusAxis":return selectRadiusAxisRange(tr,er);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(tr,Hn){return tr.id<Hn.id?-1:tr.id>Hn.id?1:0}var pickAxisOrientation=(tr,Hn)=>Hn,pickMirror=(tr,Hn,er)=>er,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(tr,Hn,er)=>tr.filter(nr=>nr.orientation===Hn).filter(nr=>nr.mirror===er).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(tr,Hn,er)=>tr.filter(nr=>nr.orientation===Hn).filter(nr=>nr.mirror===er).sort(compareIds)),getXAxisSize=(tr,Hn)=>({width:tr.width,height:Hn.height}),getYAxisSize=(tr,Hn)=>{var er=typeof Hn.width=="number"?Hn.width:DEFAULT_Y_AXIS_WIDTH;return{width:er,height:tr.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(tr,Hn,er)=>{switch(Hn){case"top":return tr.top;case"bottom":return er-tr.bottom;default:return 0}},combineYAxisPositionStartingPoint=(tr,Hn,er)=>{switch(Hn){case"left":return tr.left;case"right":return er-tr.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(tr,Hn,er,nr,ir)=>{var rr={},sr;return er.forEach(ar=>{var or=getXAxisSize(Hn,ar);sr==null&&(sr=combineXAxisPositionStartingPoint(Hn,nr,tr));var lr=nr==="top"&&!ir||nr==="bottom"&&ir;rr[ar.id]=sr-Number(lr)*or.height,sr+=(lr?-1:1)*or.height}),rr}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(tr,Hn,er,nr,ir)=>{var rr={},sr;return er.forEach(ar=>{var or=getYAxisSize(Hn,ar);sr==null&&(sr=combineYAxisPositionStartingPoint(Hn,nr,tr));var lr=nr==="left"&&!ir||nr==="right"&&ir;rr[ar.id]=sr-Number(lr)*or.width,sr+=(lr?-1:1)*or.width}),rr}),selectXAxisOffsetSteps=(tr,Hn)=>{var er=selectXAxisSettings(tr,Hn);if(er!=null)return selectAllXAxesOffsetSteps(tr,er.orientation,er.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(tr,Hn)=>Hn],(tr,Hn,er,nr)=>{if(Hn!=null){var ir=er?.[nr];return ir==null?{x:tr.left,y:0}:{x:tr.left,y:ir}}}),selectYAxisOffsetSteps=(tr,Hn)=>{var er=selectYAxisSettings(tr,Hn);if(er!=null)return selectAllYAxesOffsetSteps(tr,er.orientation,er.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(tr,Hn)=>Hn],(tr,Hn,er,nr)=>{if(Hn!=null){var ir=er?.[nr];return ir==null?{x:0,y:tr.top}:{x:ir,y:tr.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(tr,Hn)=>{var er=typeof Hn.width=="number"?Hn.width:DEFAULT_Y_AXIS_WIDTH;return{width:er,height:tr.height}}),selectCartesianAxisSize=(tr,Hn,er)=>{switch(Hn){case"xAxis":return selectXAxisSize(tr,er).width;case"yAxis":return selectYAxisSize(tr,er).height;default:return}},combineDuplicateDomain=(tr,Hn,er,nr)=>{if(er!=null){var{allowDuplicatedCategory:ir,type:rr,dataKey:sr}=er,ar=isCategoricalAxis(tr,nr),or=Hn.map(lr=>lr.value);if(sr&&ar&&rr==="category"&&ir&&hasDuplicate(or))return or}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(tr,Hn,er,nr)=>{if(!(er==null||er.dataKey==null)){var{type:ir,scale:rr}=er,sr=isCategoricalAxis(tr,nr);if(sr&&(ir==="number"||rr!=="auto"))return Hn.map(ar=>ar.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(tr,Hn,er,nr,ir,rr,sr,ar,or)=>{if(Hn!=null){var lr=isCategoricalAxis(tr,or);return{angle:Hn.angle,interval:Hn.interval,minTickGap:Hn.minTickGap,orientation:Hn.orientation,tick:Hn.tick,tickCount:Hn.tickCount,tickFormatter:Hn.tickFormatter,ticks:Hn.ticks,type:Hn.type,unit:Hn.unit,axisType:or,categoricalDomain:rr,duplicateDomain:ir,isCategorical:lr,niceTicks:ar,range:sr,realScaleType:er,scale:nr}}}),combineAxisTicks=(tr,Hn,er,nr,ir,rr,sr,ar,or)=>{if(!(Hn==null||nr==null)){var lr=isCategoricalAxis(tr,or),{type:cr,ticks:ur,tickCount:dr}=Hn,fr=er==="scaleBand"&&typeof nr.bandwidth=="function"?nr.bandwidth()/2:2,gr=cr==="category"&&nr.bandwidth?nr.bandwidth()/fr:0;gr=or==="angleAxis"&&rr!=null&&rr.length>=2?mathSign(rr[0]-rr[1])*2*gr:gr;var yr=ur||ir;if(yr){var vr=yr.map((jr,Sr)=>{var Tr=sr?sr.indexOf(jr):jr;return{index:Sr,coordinate:nr(Tr)+gr,value:jr,offset:gr}});return vr.filter(jr=>isWellBehavedNumber(jr.coordinate))}return lr&&ar?ar.map((jr,Sr)=>({coordinate:nr(jr)+gr,value:jr,index:Sr,offset:gr})).filter(jr=>isWellBehavedNumber(jr.coordinate)):nr.ticks?nr.ticks(dr).map(jr=>({coordinate:nr(jr)+gr,value:jr,offset:gr})):nr.domain().map((jr,Sr)=>({coordinate:nr(jr)+gr,value:sr?sr[jr]:jr,index:Sr,offset:gr}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(tr,Hn,er,nr,ir,rr,sr)=>{if(!(Hn==null||er==null||nr==null||nr[0]===nr[1])){var ar=isCategoricalAxis(tr,sr),{tickCount:or}=Hn,lr=0;return lr=sr==="angleAxis"&&nr?.length>=2?mathSign(nr[0]-nr[1])*2*lr:lr,ar&&rr?rr.map((cr,ur)=>({coordinate:er(cr)+lr,value:cr,index:ur,offset:lr})):er.ticks?er.ticks(or).map(cr=>({coordinate:er(cr)+lr,value:cr,offset:lr})):er.domain().map((cr,ur)=>({coordinate:er(cr)+lr,value:ir?ir[cr]:cr,index:ur,offset:lr}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(tr,Hn)=>{if(!(tr==null||Hn==null))return _objectSpread$n(_objectSpread$n({},tr),{},{scale:Hn})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction),selectZAxisWithScale=createSelector((tr,Hn,er)=>selectZAxisSettings(tr,er),selectZAxisScale,(tr,Hn)=>{if(!(tr==null||Hn==null))return _objectSpread$n(_objectSpread$n({},tr),{},{scale:Hn})}),selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(tr,Hn,er)=>{switch(tr){case"horizontal":return Hn.some(nr=>nr.reversed)?"right-to-left":"left-to-right";case"vertical":return er.some(nr=>nr.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=tr=>tr.options.defaultTooltipEventType,selectValidateTooltipEventTypes=tr=>tr.options.validateTooltipEventTypes;function combineTooltipEventType(tr,Hn,er){if(tr==null)return Hn;var nr=tr?"axis":"item";return er==null?Hn:er.includes(nr)?nr:Hn}function selectTooltipEventType$1(tr,Hn){var er=selectDefaultTooltipEventType(tr),nr=selectValidateTooltipEventTypes(tr);return combineTooltipEventType(Hn,er,nr)}function useTooltipEventType(tr){return useAppSelector(Hn=>selectTooltipEventType$1(Hn,tr))}var combineActiveLabel=(tr,Hn)=>{var er,nr=Number(Hn);if(!(isNan(nr)||Hn==null))return nr>=0?tr==null||(er=tr[nr])===null||er===void 0?void 0:er.value:void 0},selectTooltipSettings=tr=>tr.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$9={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$9,reducers:{addTooltipEntrySettings:{reducer(tr,Hn){tr.tooltipItemPayloads.push(Hn.payload)},prepare:prepareAutoBatched()},replaceTooltipEntrySettings:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload,ir=current(tr).tooltipItemPayloads.indexOf(er);ir>-1&&(tr.tooltipItemPayloads[ir]=nr)},prepare:prepareAutoBatched()},removeTooltipEntrySettings:{reducer(tr,Hn){var er=current(tr).tooltipItemPayloads.indexOf(Hn.payload);er>-1&&tr.tooltipItemPayloads.splice(er,1)},prepare:prepareAutoBatched()},setTooltipSettingsState(tr,Hn){tr.settings=Hn.payload},setActiveMouseOverItemIndex(tr,Hn){tr.syncInteraction.active=!1,tr.keyboardInteraction.active=!1,tr.itemInteraction.hover.active=!0,tr.itemInteraction.hover.index=Hn.payload.activeIndex,tr.itemInteraction.hover.dataKey=Hn.payload.activeDataKey,tr.itemInteraction.hover.coordinate=Hn.payload.activeCoordinate},mouseLeaveChart(tr){tr.itemInteraction.hover.active=!1,tr.axisInteraction.hover.active=!1},mouseLeaveItem(tr){tr.itemInteraction.hover.active=!1},setActiveClickItemIndex(tr,Hn){tr.syncInteraction.active=!1,tr.itemInteraction.click.active=!0,tr.keyboardInteraction.active=!1,tr.itemInteraction.click.index=Hn.payload.activeIndex,tr.itemInteraction.click.dataKey=Hn.payload.activeDataKey,tr.itemInteraction.click.coordinate=Hn.payload.activeCoordinate},setMouseOverAxisIndex(tr,Hn){tr.syncInteraction.active=!1,tr.axisInteraction.hover.active=!0,tr.keyboardInteraction.active=!1,tr.axisInteraction.hover.index=Hn.payload.activeIndex,tr.axisInteraction.hover.dataKey=Hn.payload.activeDataKey,tr.axisInteraction.hover.coordinate=Hn.payload.activeCoordinate},setMouseClickAxisIndex(tr,Hn){tr.syncInteraction.active=!1,tr.keyboardInteraction.active=!1,tr.axisInteraction.click.active=!0,tr.axisInteraction.click.index=Hn.payload.activeIndex,tr.axisInteraction.click.dataKey=Hn.payload.activeDataKey,tr.axisInteraction.click.coordinate=Hn.payload.activeCoordinate},setSyncInteraction(tr,Hn){tr.syncInteraction=Hn.payload},setKeyboardInteraction(tr,Hn){tr.keyboardInteraction.active=Hn.payload.active,tr.keyboardInteraction.index=Hn.payload.activeIndex,tr.keyboardInteraction.coordinate=Hn.payload.activeCoordinate,tr.keyboardInteraction.dataKey=Hn.payload.activeDataKey}}}),{addTooltipEntrySettings,replaceTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$m(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$m(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$m(Object(er),!0).forEach(function(nr){_defineProperty$n(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$m(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$n(tr,Hn,er){return(Hn=_toPropertyKey$n(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$n(tr){var Hn=_toPrimitive$n(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$n(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function chooseAppropriateMouseInteraction(tr,Hn,er){return Hn==="axis"?er==="click"?tr.axisInteraction.click:tr.axisInteraction.hover:er==="click"?tr.itemInteraction.click:tr.itemInteraction.hover}function hasBeenActivePreviously(tr){return tr.index!=null}var combineTooltipInteractionState=(tr,Hn,er,nr)=>{if(Hn==null)return noInteraction;var ir=chooseAppropriateMouseInteraction(tr,Hn,er);if(ir==null)return noInteraction;if(ir.active)return ir;if(tr.keyboardInteraction.active)return tr.keyboardInteraction;if(tr.syncInteraction.active&&tr.syncInteraction.index!=null)return tr.syncInteraction;var rr=tr.settings.active===!0;if(hasBeenActivePreviously(ir)){if(rr)return _objectSpread$m(_objectSpread$m({},ir),{},{active:!0})}else if(nr!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:nr};return _objectSpread$m(_objectSpread$m({},noInteraction),{},{coordinate:ir.coordinate})};function toFiniteNumber(tr){if(typeof tr=="number")return Number.isFinite(tr)?tr:void 0;if(tr instanceof Date){var Hn=tr.valueOf();return Number.isFinite(Hn)?Hn:void 0}var er=Number(tr);return Number.isFinite(er)?er:void 0}function isValueWithinNumberDomain(tr,Hn){var er=toFiniteNumber(tr),nr=Hn[0],ir=Hn[1];if(er===void 0)return!1;var rr=Math.min(nr,ir),sr=Math.max(nr,ir);return er>=rr&&er<=sr}function isValueWithinDomain(tr,Hn,er){if(er==null||Hn==null)return!0;var nr=getValueByDataKey(tr,Hn);return nr==null||!isWellFormedNumberDomain(er)?!0:isValueWithinNumberDomain(nr,er)}var combineActiveTooltipIndex=(tr,Hn,er,nr)=>{var ir=tr?.index;if(ir==null)return null;var rr=Number(ir);if(!isWellBehavedNumber(rr))return ir;var sr=0,ar=1/0;Hn.length>0&&(ar=Hn.length-1);var or=Math.max(sr,Math.min(rr,ar)),lr=Hn[or];return lr==null||isValueWithinDomain(lr,er,nr)?String(or):null},combineCoordinateForDefaultIndex=(tr,Hn,er,nr,ir,rr,sr,ar)=>{if(!(rr==null||ar==null)){var or=sr[0],lr=or==null?void 0:ar(or.positions,rr);if(lr!=null)return lr;var cr=ir?.[Number(rr)];if(cr)switch(er){case"horizontal":return{x:cr.coordinate,y:(nr.top+Hn)/2};default:return{x:(nr.left+tr)/2,y:cr.coordinate}}}},combineTooltipPayloadConfigurations=(tr,Hn,er,nr)=>{if(Hn==="axis")return tr.tooltipItemPayloads;if(tr.tooltipItemPayloads.length===0)return[];var ir;return er==="hover"?ir=tr.itemInteraction.hover.dataKey:ir=tr.itemInteraction.click.dataKey,ir==null&&nr!=null?[tr.tooltipItemPayloads[0]]:tr.tooltipItemPayloads.filter(rr=>{var sr;return((sr=rr.settings)===null||sr===void 0?void 0:sr.dataKey)===ir})},selectTooltipPayloadSearcher=tr=>tr.options.tooltipPayloadSearcher,selectTooltipState=tr=>tr.tooltip;function ownKeys$l(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$l(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$l(Object(er),!0).forEach(function(nr){_defineProperty$m(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$l(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$m(tr,Hn,er){return(Hn=_toPropertyKey$m(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$m(tr){var Hn=_toPrimitive$m(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$m(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function selectFinalData(tr,Hn){return tr??Hn}var combineTooltipPayload=(tr,Hn,er,nr,ir,rr,sr)=>{if(!(Hn==null||rr==null)){var{chartData:ar,computedData:or,dataStartIndex:lr,dataEndIndex:cr}=er,ur=[];return tr.reduce((dr,fr)=>{var gr,{dataDefinedOnItem:yr,settings:vr}=fr,jr=selectFinalData(yr,ar),Sr=Array.isArray(jr)?getSliced(jr,lr,cr):jr,Tr=(gr=vr?.dataKey)!==null&&gr!==void 0?gr:nr,Lr=vr?.nameKey,Mr;if(nr&&Array.isArray(Sr)&&!Array.isArray(Sr[0])&&sr==="axis"?Mr=findEntryInArray(Sr,nr,ir):Mr=rr(Sr,Hn,or,Lr),Array.isArray(Mr))Mr.forEach(Or=>{var Fr=_objectSpread$l(_objectSpread$l({},vr),{},{name:Or.name,unit:Or.unit,color:void 0,fill:void 0});dr.push(getTooltipEntry({tooltipEntrySettings:Fr,dataKey:Or.dataKey,payload:Or.payload,value:getValueByDataKey(Or.payload,Or.dataKey),name:Or.name}))});else{var Nr;dr.push(getTooltipEntry({tooltipEntrySettings:vr,dataKey:Tr,payload:Mr,value:getValueByDataKey(Mr,Tr),name:(Nr=getValueByDataKey(Mr,Lr))!==null&&Nr!==void 0?Nr:vr?.name}))}return dr},ur)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([tr=>tr.graphicalItems.cartesianItems,tr=>tr.graphicalItems.polarItems],(tr,Hn)=>[...tr,...Hn]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],tr=>tr.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipDataOverflow=createSelector([selectTooltipAxis],tr=>tr.allowDataOverflow),selectTooltipDomainFromUserPreferences=createSelector([selectTooltipAxisDomainDefinition,selectTooltipDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],tr=>tr.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType,selectTooltipDomainFromUserPreferences],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainFromUserPreferences,selectTooltipDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=tr=>{var Hn=selectTooltipAxisType(tr),er=selectTooltipAxisId(tr),nr=!1;return selectAxisRange(tr,Hn,er,nr)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(tr,Hn,er,nr,ir,rr,sr,ar)=>{if(Hn){var{type:or}=Hn,lr=isCategoricalAxis(tr,ar);if(nr){var cr=er==="scaleBand"&&nr.bandwidth?nr.bandwidth()/2:2,ur=or==="category"&&nr.bandwidth?nr.bandwidth()/cr:0;return ur=ar==="angleAxis"&&ir!=null&&ir?.length>=2?mathSign(ir[0]-ir[1])*2*ur:ur,lr&&sr?sr.map((dr,fr)=>({coordinate:nr(dr)+ur,value:dr,index:fr,offset:ur})):nr.domain().map((dr,fr)=>({coordinate:nr(dr)+ur,value:rr?rr[dr]:dr,index:fr,offset:ur}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(tr,Hn,er)=>combineTooltipEventType(er.shared,tr,Hn)),selectTooltipTrigger=tr=>tr.tooltip.settings.trigger,selectDefaultIndex=tr=>tr.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],tr=>{if(tr)return tr.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(tr,Hn)=>tr!=null&&tr.coordinate?tr.coordinate:Hn),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],tr=>tr.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload);createSelector([selectActiveTooltipPayload],tr=>{if(tr!=null){var Hn=tr.map(er=>er.payload).filter(er=>er!=null);return Array.from(new Set(Hn))}});function ownKeys$k(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$k(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$k(Object(er),!0).forEach(function(nr){_defineProperty$l(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$k(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$l(tr,Hn,er){return(Hn=_toPropertyKey$l(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$l(tr){var Hn=_toPrimitive$l(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$l(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var tr=useTooltipAxis(),Hn=useAppSelector(selectTooltipAxisTicks),er=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(!tr||!er?void 0:_objectSpread$k(_objectSpread$k({},tr),{},{scale:er}),Hn)};function ownKeys$j(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$j(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$j(Object(er),!0).forEach(function(nr){_defineProperty$k(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$j(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$k(tr,Hn,er){return(Hn=_toPropertyKey$k(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$k(tr){var Hn=_toPrimitive$k(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$k(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var getActiveCartesianCoordinate=(tr,Hn,er,nr)=>{var ir=Hn.find(rr=>rr&&rr.index===er);if(ir){if(tr==="horizontal")return{x:ir.coordinate,y:nr.chartY};if(tr==="vertical")return{x:nr.chartX,y:ir.coordinate}}return{x:0,y:0}},getActivePolarCoordinate=(tr,Hn,er,nr)=>{var ir=Hn.find(lr=>lr&&lr.index===er);if(ir){if(tr==="centric"){var rr=ir.coordinate,{radius:sr}=nr;return _objectSpread$j(_objectSpread$j(_objectSpread$j({},nr),polarToCartesian(nr.cx,nr.cy,sr,rr)),{},{angle:rr,radius:sr})}var ar=ir.coordinate,{angle:or}=nr;return _objectSpread$j(_objectSpread$j(_objectSpread$j({},nr),polarToCartesian(nr.cx,nr.cy,ar,or)),{},{angle:or,radius:ar})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function isInCartesianRange(tr,Hn){var{chartX:er,chartY:nr}=tr;return er>=Hn.left&&er<=Hn.left+Hn.width&&nr>=Hn.top&&nr<=Hn.top+Hn.height}var calculateActiveTickIndex=(tr,Hn,er,nr,ir)=>{var rr,sr=-1,ar=(rr=Hn?.length)!==null&&rr!==void 0?rr:0;if(ar<=1||tr==null)return 0;if(nr==="angleAxis"&&ir!=null&&Math.abs(Math.abs(ir[1]-ir[0])-360)<=1e-6)for(var or=0;or<ar;or++){var lr=or>0?er[or-1].coordinate:er[ar-1].coordinate,cr=er[or].coordinate,ur=or>=ar-1?er[0].coordinate:er[or+1].coordinate,dr=void 0;if(mathSign(cr-lr)!==mathSign(ur-cr)){var fr=[];if(mathSign(ur-cr)===mathSign(ir[1]-ir[0])){dr=ur;var gr=cr+ir[1]-ir[0];fr[0]=Math.min(gr,(gr+lr)/2),fr[1]=Math.max(gr,(gr+lr)/2)}else{dr=lr;var yr=ur+ir[1]-ir[0];fr[0]=Math.min(cr,(yr+cr)/2),fr[1]=Math.max(cr,(yr+cr)/2)}var vr=[Math.min(cr,(dr+cr)/2),Math.max(cr,(dr+cr)/2)];if(tr>vr[0]&&tr<=vr[1]||tr>=fr[0]&&tr<=fr[1]){({index:sr}=er[or]);break}}else{var jr=Math.min(lr,ur),Sr=Math.max(lr,ur);if(tr>(jr+cr)/2&&tr<=(Sr+cr)/2){({index:sr}=er[or]);break}}}else if(Hn){for(var Tr=0;Tr<ar;Tr++)if(Tr===0&&tr<=(Hn[Tr].coordinate+Hn[Tr+1].coordinate)/2||Tr>0&&Tr<ar-1&&tr>(Hn[Tr].coordinate+Hn[Tr-1].coordinate)/2&&tr<=(Hn[Tr].coordinate+Hn[Tr+1].coordinate)/2||Tr===ar-1&&tr>(Hn[Tr].coordinate+Hn[Tr-1].coordinate)/2){({index:sr}=Hn[Tr]);break}}return sr},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(tr,Hn)=>Hn,pickTrigger=(tr,Hn,er)=>er,pickDefaultIndex=(tr,Hn,er,nr)=>nr,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,tr=>sortBy(tr,Hn=>Hn.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectTooltipDataKey=(tr,Hn,er)=>{if(Hn!=null){var nr=selectTooltipState(tr);return Hn==="axis"?er==="hover"?nr.axisInteraction.hover.dataKey:nr.axisInteraction.click.dataKey:er==="hover"?nr.itemInteraction.hover.dataKey:nr.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(tr,Hn)=>{var er;return(er=tr.coordinate)!==null&&er!==void 0?er:Hn}),selectActiveLabel=createSelector([selectTooltipAxisTicks,selectActiveIndex],combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState,selectActiveIndex],(tr,Hn)=>({isActive:tr.active&&Hn!=null,activeIndex:Hn})),combineActiveCartesianProps=(tr,Hn,er,nr,ir,rr,sr)=>{if(!(!tr||!er||!nr||!ir)&&isInCartesianRange(tr,sr)){var ar=calculateCartesianTooltipPos(tr,Hn),or=calculateActiveTickIndex(ar,rr,ir,er,nr),lr=getActiveCartesianCoordinate(Hn,ir,or,tr);return{activeIndex:String(or),activeCoordinate:lr}}},combineActivePolarProps=(tr,Hn,er,nr,ir,rr,sr)=>{if(!(!tr||!nr||!ir||!rr||!er)){var ar=inRangeOfSector(tr,er);if(ar){var or=calculatePolarTooltipPos(ar,Hn),lr=calculateActiveTickIndex(or,sr,rr,nr,ir),cr=getActivePolarCoordinate(Hn,rr,lr,ar);return{activeIndex:String(lr),activeCoordinate:cr}}}},combineActiveProps=(tr,Hn,er,nr,ir,rr,sr,ar)=>{if(!(!tr||!Hn||!nr||!ir||!rr))return Hn==="horizontal"||Hn==="vertical"?combineActiveCartesianProps(tr,Hn,nr,ir,rr,sr,ar):combineActivePolarProps(tr,Hn,er,nr,ir,rr,sr)},selectZIndexPortalId=createSelector(tr=>tr.zIndex.zIndexMap,(tr,Hn)=>Hn,(tr,Hn,er)=>er,(tr,Hn,er)=>{if(Hn!=null){var nr=tr[Hn];if(nr!=null)return er?nr.panoramaElementId:nr.elementId}}),selectAllRegisteredZIndexes=createSelector(tr=>tr.zIndex.zIndexMap,tr=>{var Hn=Object.keys(tr).map(nr=>parseInt(nr,10)).concat(Object.values(DefaultZIndexes)),er=Array.from(new Set(Hn));return er.sort((nr,ir)=>nr-ir)},{memoizeOptions:{resultEqualityCheck:arrayContentsAreEqualCheck}});function ownKeys$i(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$i(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$i(Object(er),!0).forEach(function(nr){_defineProperty$j(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$i(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$j(tr,Hn,er){return(Hn=_toPropertyKey$j(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$j(tr){var Hn=_toPrimitive$j(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$j(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var seed={},initialState$8={zIndexMap:Object.values(DefaultZIndexes).reduce((tr,Hn)=>_objectSpread$i(_objectSpread$i({},tr),{},{[Hn]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),seed)},defaultZIndexSet=new Set(Object.values(DefaultZIndexes));function isDefaultZIndex(tr){return defaultZIndexSet.has(tr)}var zIndexSlice=createSlice({name:"zIndex",initialState:initialState$8,reducers:{registerZIndexPortal:{reducer:(tr,Hn)=>{var{zIndex:er}=Hn.payload;tr.zIndexMap[er]?tr.zIndexMap[er].consumers+=1:tr.zIndexMap[er]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortal:{reducer:(tr,Hn)=>{var{zIndex:er}=Hn.payload;tr.zIndexMap[er]&&(tr.zIndexMap[er].consumers-=1,tr.zIndexMap[er].consumers<=0&&!isDefaultZIndex(er)&&delete tr.zIndexMap[er])},prepare:prepareAutoBatched()},registerZIndexPortalId:{reducer:(tr,Hn)=>{var{zIndex:er,elementId:nr,isPanorama:ir}=Hn.payload;tr.zIndexMap[er]?ir?tr.zIndexMap[er].panoramaElementId=nr:tr.zIndexMap[er].elementId=nr:tr.zIndexMap[er]={consumers:0,elementId:ir?void 0:nr,panoramaElementId:ir?nr:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortalId:{reducer:(tr,Hn)=>{var{zIndex:er}=Hn.payload;tr.zIndexMap[er]&&(Hn.payload.isPanorama?tr.zIndexMap[er].panoramaElementId=void 0:tr.zIndexMap[er].elementId=void 0)},prepare:prepareAutoBatched()}}}),{registerZIndexPortal,unregisterZIndexPortal,registerZIndexPortalId,unregisterZIndexPortalId}=zIndexSlice.actions,zIndexReducer=zIndexSlice.reducer;function ZIndexLayer(tr){var{zIndex:Hn,children:er}=tr,nr=useIsInChartContext(),ir=nr&&Hn!==void 0&&Hn!==0,rr=useIsPanorama(),sr=useAppDispatch();reactExports.useLayoutEffect(()=>ir?(sr(registerZIndexPortal({zIndex:Hn})),()=>{sr(unregisterZIndexPortal({zIndex:Hn}))}):noop$2,[sr,Hn,ir]);var ar=useAppSelector(lr=>selectZIndexPortalId(lr,Hn,rr));if(!ir)return er;if(!ar)return null;var or=document.getElementById(ar);return or?reactDomExports.createPortal(er,or):null}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$h.apply(null,arguments)}function ownKeys$h(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$h(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$h(Object(er),!0).forEach(function(nr){_defineProperty$i(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$h(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$i(tr,Hn,er){return(Hn=_toPropertyKey$i(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$i(tr){var Hn=_toPrimitive$i(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$i(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function RenderCursor(tr){var{cursor:Hn,cursorComp:er,cursorProps:nr}=tr;return reactExports.isValidElement(Hn)?reactExports.cloneElement(Hn,nr):reactExports.createElement(er,nr)}function CursorInternal(tr){var Hn,{coordinate:er,payload:nr,index:ir,offset:rr,tooltipAxisBandSize:sr,layout:ar,cursor:or,tooltipEventType:lr,chartName:cr}=tr,ur=er,dr=nr,fr=ir;if(!or||!ur||cr!=="ScatterChart"&&lr!=="axis")return null;var gr,yr,vr;if(cr==="ScatterChart")gr=ur,yr=Cross,vr=DefaultZIndexes.cursorLine;else if(cr==="BarChart")gr=getCursorRectangle(ar,ur,rr,sr),yr=Rectangle,vr=DefaultZIndexes.cursorRectangle;else if(ar==="radial"&&isPolarCoordinate(ur)){var{cx:jr,cy:Sr,radius:Tr,startAngle:Lr,endAngle:Mr}=getRadialCursorPoints(ur);gr={cx:jr,cy:Sr,startAngle:Lr,endAngle:Mr,innerRadius:Tr,outerRadius:Tr},yr=Sector,vr=DefaultZIndexes.cursorLine}else gr={points:getCursorPoints(ar,ur,rr)},yr=Curve,vr=DefaultZIndexes.cursorLine;var Nr=typeof or=="object"&&"className"in or?or.className:void 0,Or=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({stroke:"#ccc",pointerEvents:"none"},rr),gr),svgPropertiesNoEventsFromUnknown(or)),{},{payload:dr,payloadIndex:fr,className:clsx("recharts-tooltip-cursor",Nr)});return reactExports.createElement(ZIndexLayer,{zIndex:(Hn=tr.zIndex)!==null&&Hn!==void 0?Hn:vr},reactExports.createElement(RenderCursor,{cursor:or,cursorComp:yr,cursorProps:Or}))}function Cursor(tr){var Hn=useTooltipAxisBandSize(),er=useOffsetInternal(),nr=useChartLayout(),ir=useChartName();return Hn==null||er==null||nr==null||ir==null?null:reactExports.createElement(CursorInternal,_extends$h({},tr,{offset:er,layout:nr,tooltipAxisBandSize:Hn,chartName:ir}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(tr){var Hn=Object.prototype.hasOwnProperty,er="~";function nr(){}Object.create&&(nr.prototype=Object.create(null),new nr().__proto__||(er=!1));function ir(or,lr,cr){this.fn=or,this.context=lr,this.once=cr||!1}function rr(or,lr,cr,ur,dr){if(typeof cr!="function")throw new TypeError("The listener must be a function");var fr=new ir(cr,ur||or,dr),gr=er?er+lr:lr;return or._events[gr]?or._events[gr].fn?or._events[gr]=[or._events[gr],fr]:or._events[gr].push(fr):(or._events[gr]=fr,or._eventsCount++),or}function sr(or,lr){--or._eventsCount===0?or._events=new nr:delete or._events[lr]}function ar(){this._events=new nr,this._eventsCount=0}ar.prototype.eventNames=function(){var lr=[],cr,ur;if(this._eventsCount===0)return lr;for(ur in cr=this._events)Hn.call(cr,ur)&&lr.push(er?ur.slice(1):ur);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(cr)):lr},ar.prototype.listeners=function(lr){var cr=er?er+lr:lr,ur=this._events[cr];if(!ur)return[];if(ur.fn)return[ur.fn];for(var dr=0,fr=ur.length,gr=new Array(fr);dr<fr;dr++)gr[dr]=ur[dr].fn;return gr},ar.prototype.listenerCount=function(lr){var cr=er?er+lr:lr,ur=this._events[cr];return ur?ur.fn?1:ur.length:0},ar.prototype.emit=function(lr,cr,ur,dr,fr,gr){var yr=er?er+lr:lr;if(!this._events[yr])return!1;var vr=this._events[yr],jr=arguments.length,Sr,Tr;if(vr.fn){switch(vr.once&&this.removeListener(lr,vr.fn,void 0,!0),jr){case 1:return vr.fn.call(vr.context),!0;case 2:return vr.fn.call(vr.context,cr),!0;case 3:return vr.fn.call(vr.context,cr,ur),!0;case 4:return vr.fn.call(vr.context,cr,ur,dr),!0;case 5:return vr.fn.call(vr.context,cr,ur,dr,fr),!0;case 6:return vr.fn.call(vr.context,cr,ur,dr,fr,gr),!0}for(Tr=1,Sr=new Array(jr-1);Tr<jr;Tr++)Sr[Tr-1]=arguments[Tr];vr.fn.apply(vr.context,Sr)}else{var Lr=vr.length,Mr;for(Tr=0;Tr<Lr;Tr++)switch(vr[Tr].once&&this.removeListener(lr,vr[Tr].fn,void 0,!0),jr){case 1:vr[Tr].fn.call(vr[Tr].context);break;case 2:vr[Tr].fn.call(vr[Tr].context,cr);break;case 3:vr[Tr].fn.call(vr[Tr].context,cr,ur);break;case 4:vr[Tr].fn.call(vr[Tr].context,cr,ur,dr);break;default:if(!Sr)for(Mr=1,Sr=new Array(jr-1);Mr<jr;Mr++)Sr[Mr-1]=arguments[Mr];vr[Tr].fn.apply(vr[Tr].context,Sr)}}return!0},ar.prototype.on=function(lr,cr,ur){return rr(this,lr,cr,ur,!1)},ar.prototype.once=function(lr,cr,ur){return rr(this,lr,cr,ur,!0)},ar.prototype.removeListener=function(lr,cr,ur,dr){var fr=er?er+lr:lr;if(!this._events[fr])return this;if(!cr)return sr(this,fr),this;var gr=this._events[fr];if(gr.fn)gr.fn===cr&&(!dr||gr.once)&&(!ur||gr.context===ur)&&sr(this,fr);else{for(var yr=0,vr=[],jr=gr.length;yr<jr;yr++)(gr[yr].fn!==cr||dr&&!gr[yr].once||ur&&gr[yr].context!==ur)&&vr.push(gr[yr]);vr.length?this._events[fr]=vr.length===1?vr[0]:vr:sr(this,fr)}return this},ar.prototype.removeAllListeners=function(lr){var cr;return lr?(cr=er?er+lr:lr,this._events[cr]&&sr(this,cr)):(this._events=new nr,this._eventsCount=0),this},ar.prototype.off=ar.prototype.removeListener,ar.prototype.addListener=ar.prototype.on,ar.prefixed=er,ar.EventEmitter=ar,tr.exports=ar})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(tr,Hn){if(Hn){var er=Number.parseInt(Hn,10);if(!isNan(er))return tr?.[er]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:tr=>{tr.eventEmitter==null&&(tr.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(tr){return tr.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(tr,Hn){if(tr.chartData=Hn.payload,Hn.payload==null){tr.dataStartIndex=0,tr.dataEndIndex=0;return}Hn.payload.length>0&&tr.dataEndIndex!==Hn.payload.length-1&&(tr.dataEndIndex=Hn.payload.length-1)},setComputedData(tr,Hn){tr.computedData=Hn.payload},setDataStartEndIndexes(tr,Hn){var{startIndex:er,endIndex:nr}=Hn.payload;er!=null&&(tr.dataStartIndex=er),nr!=null&&(tr.dataEndIndex=nr)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$h=["x","y"];function ownKeys$g(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$g(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$g(Object(er),!0).forEach(function(nr){_defineProperty$h(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$g(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$h(tr,Hn,er){return(Hn=_toPropertyKey$h(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$h(tr){var Hn=_toPrimitive$h(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$h(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$g(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$h(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$h(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function useTooltipSyncEventsListener(){var tr=useAppSelector(selectSyncId),Hn=useAppSelector(selectEventEmitter),er=useAppDispatch(),nr=useAppSelector(selectSyncMethod),ir=useAppSelector(selectTooltipAxisTicks),rr=useChartLayout(),sr=useViewBox(),ar=useAppSelector(or=>or.rootProps.className);reactExports.useEffect(()=>{if(tr==null)return noop$2;var or=(lr,cr,ur)=>{if(Hn!==ur&&tr===lr){if(nr==="index"){var dr;if(sr&&cr!==null&&cr!==void 0&&(dr=cr.payload)!==null&&dr!==void 0&&dr.coordinate&&cr.payload.sourceViewBox){var fr=cr.payload.coordinate,{x:gr,y:yr}=fr,vr=_objectWithoutProperties$g(fr,_excluded$h),{x:jr,y:Sr,width:Tr,height:Lr}=cr.payload.sourceViewBox,Mr=_objectSpread$g(_objectSpread$g({},vr),{},{x:sr.x+(Tr?(gr-jr)/Tr:0)*sr.width,y:sr.y+(Lr?(yr-Sr)/Lr:0)*sr.height});er(_objectSpread$g(_objectSpread$g({},cr),{},{payload:_objectSpread$g(_objectSpread$g({},cr.payload),{},{coordinate:Mr})}))}else er(cr);return}if(ir!=null){var Nr;if(typeof nr=="function"){var Or={activeTooltipIndex:cr.payload.index==null?void 0:Number(cr.payload.index),isTooltipActive:cr.payload.active,activeIndex:cr.payload.index==null?void 0:Number(cr.payload.index),activeLabel:cr.payload.label,activeDataKey:cr.payload.dataKey,activeCoordinate:cr.payload.coordinate},Fr=nr(ir,Or);Nr=ir[Fr]}else nr==="value"&&(Nr=ir.find(ao=>String(ao.value)===cr.payload.label));var{coordinate:Gr}=cr.payload;if(Nr==null||cr.payload.active===!1||Gr==null||sr==null){er(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:qr,y:Hr}=Gr,Yr=Math.min(qr,sr.x+sr.width),ro=Math.min(Hr,sr.y+sr.height),io={x:rr==="horizontal"?Nr.coordinate:Yr,y:rr==="horizontal"?ro:Nr.coordinate},fo=setSyncInteraction({active:cr.payload.active,coordinate:io,dataKey:cr.payload.dataKey,index:String(Nr.index),label:cr.payload.label,sourceViewBox:cr.payload.sourceViewBox});er(fo)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,or),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,or)}},[ar,er,Hn,tr,nr,ir,rr,sr])}function useBrushSyncEventsListener(){var tr=useAppSelector(selectSyncId),Hn=useAppSelector(selectEventEmitter),er=useAppDispatch();reactExports.useEffect(()=>{if(tr==null)return noop$2;var nr=(ir,rr,sr)=>{Hn!==sr&&tr===ir&&er(setDataStartEndIndexes(rr))};return eventCenter.on(BRUSH_SYNC_EVENT,nr),()=>{eventCenter.off(BRUSH_SYNC_EVENT,nr)}},[er,Hn,tr])}function useSynchronisedEventsFromOtherCharts(){var tr=useAppDispatch();reactExports.useEffect(()=>{tr(createEventEmitter())},[tr]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(tr,Hn,er,nr,ir,rr){var sr=useAppSelector(fr=>selectTooltipDataKey(fr,tr,Hn)),ar=useAppSelector(selectEventEmitter),or=useAppSelector(selectSyncId),lr=useAppSelector(selectSyncMethod),cr=useAppSelector(selectSynchronisedTooltipState),ur=cr?.active,dr=useViewBox();reactExports.useEffect(()=>{if(!ur&&or!=null&&ar!=null){var fr=setSyncInteraction({active:rr,coordinate:er,dataKey:sr,index:ir,label:typeof nr=="number"?String(nr):nr,sourceViewBox:dr});eventCenter.emit(TOOLTIP_SYNC_EVENT,or,fr,ar)}},[ur,er,sr,ir,nr,ar,or,lr,rr,dr])}function ownKeys$f(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$f(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$f(Object(er),!0).forEach(function(nr){_defineProperty$g(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$f(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$g(tr,Hn,er){return(Hn=_toPropertyKey$g(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$g(tr){var Hn=_toPrimitive$g(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$g(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function defaultUniqBy(tr){return tr.dataKey}function renderContent(tr,Hn){return reactExports.isValidElement(tr)?reactExports.cloneElement(tr,Hn):typeof tr=="function"?reactExports.createElement(tr,Hn):reactExports.createElement(DefaultTooltipContent,Hn)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(tr){var Hn,er,nr=resolveDefaultProps(tr,defaultTooltipProps),{active:ir,allowEscapeViewBox:rr,animationDuration:sr,animationEasing:ar,content:or,filterNull:lr,isAnimationActive:cr,offset:ur,payloadUniqBy:dr,position:fr,reverseDirection:gr,useTranslate3d:yr,wrapperStyle:vr,cursor:jr,shared:Sr,trigger:Tr,defaultIndex:Lr,portal:Mr,axisId:Nr}=nr,Or=useAppDispatch(),Fr=typeof Lr=="number"?String(Lr):Lr;reactExports.useEffect(()=>{Or(setTooltipSettingsState({shared:Sr,trigger:Tr,axisId:Nr,active:ir,defaultIndex:Fr}))},[Or,Sr,Tr,Nr,ir,Fr]);var Gr=useViewBox(),qr=useAccessibilityLayer(),Hr=useTooltipEventType(Sr),{activeIndex:Yr,isActive:ro}=(Hn=useAppSelector(To=>selectIsTooltipActive(To,Hr,Tr,Fr)))!==null&&Hn!==void 0?Hn:{},io=useAppSelector(To=>selectTooltipPayload(To,Hr,Tr,Fr)),fo=useAppSelector(To=>selectActiveLabel(To,Hr,Tr,Fr)),ao=useAppSelector(To=>selectActiveCoordinate(To,Hr,Tr,Fr)),Jr=io,uo=useTooltipPortal(),oo=(er=ir??ro)!==null&&er!==void 0?er:!1,[co,no]=useElementOffset([Jr,oo]),mo=Hr==="axis"?fo:void 0;useTooltipChartSynchronisation(Hr,Tr,ao,mo,Yr,oo);var Eo=Mr??uo;if(Eo==null||Gr==null||Hr==null)return null;var bo=Jr??emptyPayload;oo||(bo=emptyPayload),lr&&bo.length&&(bo=getUniqPayload(bo.filter(To=>To.value!=null&&(To.hide!==!0||nr.includeHidden)),dr,defaultUniqBy));var Po=bo.length>0,wo=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:rr,animationDuration:sr,animationEasing:ar,isAnimationActive:cr,active:oo,coordinate:ao,hasPayload:Po,offset:ur,position:fr,reverseDirection:gr,useTranslate3d:yr,viewBox:Gr,wrapperStyle:vr,lastBoundingBox:co,innerRef:no,hasPortalFromProps:!!Mr},renderContent(or,_objectSpread$f(_objectSpread$f({},nr),{},{payload:bo,label:mo,active:oo,activeIndex:Yr,coordinate:ao,accessibilityLayer:qr})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(wo,Eo),oo&&reactExports.createElement(Cursor,{cursor:jr,tooltipEventType:Hr,coordinate:ao,payload:bo,index:Yr}))}var Cell=tr=>null;Cell.displayName="Cell";function _defineProperty$f(tr,Hn,er){return(Hn=_toPropertyKey$f(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$f(tr){var Hn=_toPrimitive$f(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$f(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}class LRUCache{constructor(Hn){_defineProperty$f(this,"cache",new Map),this.maxSize=Hn}get(Hn){var er=this.cache.get(Hn);return er!==void 0&&(this.cache.delete(Hn),this.cache.set(Hn,er)),er}set(Hn,er){if(this.cache.has(Hn))this.cache.delete(Hn);else if(this.cache.size>=this.maxSize){var nr=this.cache.keys().next().value;nr!=null&&this.cache.delete(nr)}this.cache.set(Hn,er)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$e(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$e(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$e(Object(er),!0).forEach(function(nr){_defineProperty$e(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$e(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$e(tr,Hn,er){return(Hn=_toPropertyKey$e(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$e(tr){var Hn=_toPrimitive$e(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$e(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$e({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(tr,Hn){var er=Hn.fontSize||"",nr=Hn.fontFamily||"",ir=Hn.fontWeight||"",rr=Hn.fontStyle||"",sr=Hn.letterSpacing||"",ar=Hn.textTransform||"";return"".concat(tr,"|").concat(er,"|").concat(nr,"|").concat(ir,"|").concat(rr,"|").concat(sr,"|").concat(ar)}var measureTextWithDOM=(tr,Hn)=>{try{var er=document.getElementById(MEASUREMENT_SPAN_ID);er||(er=document.createElement("span"),er.setAttribute("id",MEASUREMENT_SPAN_ID),er.setAttribute("aria-hidden","true"),document.body.appendChild(er)),Object.assign(er.style,SPAN_STYLE,Hn),er.textContent="".concat(tr);var nr=er.getBoundingClientRect();return{width:nr.width,height:nr.height}}catch{return{width:0,height:0}}},getStringSize=function tr(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Hn==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(Hn,er);var nr=createCacheKey(Hn,er),ir=stringCache.get(nr);if(ir)return ir;var rr=measureTextWithDOM(Hn,er);return stringCache.set(nr,rr),rr},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(tr,Hn){return tr*CONVERSION_RATES[Hn]}class DecimalCSS{static parse(Hn){var er,[,nr,ir]=(er=NUM_SPLIT_REGEX.exec(Hn))!==null&&er!==void 0?er:[];return new DecimalCSS(parseFloat(nr),ir??"")}constructor(Hn,er){this.num=Hn,this.unit=er,this.num=Hn,this.unit=er,isNan(Hn)&&(this.unit=""),er!==""&&!CSS_LENGTH_UNIT_REGEX.test(er)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(er)&&(this.num=convertToPx(Hn,er),this.unit="px")}add(Hn){return this.unit!==Hn.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+Hn.num,this.unit)}subtract(Hn){return this.unit!==Hn.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-Hn.num,this.unit)}multiply(Hn){return this.unit!==""&&Hn.unit!==""&&this.unit!==Hn.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*Hn.num,this.unit||Hn.unit)}divide(Hn){return this.unit!==""&&Hn.unit!==""&&this.unit!==Hn.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/Hn.num,this.unit||Hn.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(tr){if(tr.includes(STR_NAN))return STR_NAN;for(var Hn=tr;Hn.includes("*")||Hn.includes("/");){var er,[,nr,ir,rr]=(er=MULTIPLY_OR_DIVIDE_REGEX.exec(Hn))!==null&&er!==void 0?er:[],sr=DecimalCSS.parse(nr??""),ar=DecimalCSS.parse(rr??""),or=ir==="*"?sr.multiply(ar):sr.divide(ar);if(or.isNaN())return STR_NAN;Hn=Hn.replace(MULTIPLY_OR_DIVIDE_REGEX,or.toString())}for(;Hn.includes("+")||/.-\d+(?:\.\d+)?/.test(Hn);){var lr,[,cr,ur,dr]=(lr=ADD_OR_SUBTRACT_REGEX.exec(Hn))!==null&&lr!==void 0?lr:[],fr=DecimalCSS.parse(cr??""),gr=DecimalCSS.parse(dr??""),yr=ur==="+"?fr.add(gr):fr.subtract(gr);if(yr.isNaN())return STR_NAN;Hn=Hn.replace(ADD_OR_SUBTRACT_REGEX,yr.toString())}return Hn}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(tr){for(var Hn=tr,er;(er=PARENTHESES_REGEX.exec(Hn))!=null;){var[,nr]=er;Hn=Hn.replace(PARENTHESES_REGEX,calculateArithmetic(nr))}return Hn}function evaluateExpression(tr){var Hn=tr.replace(/\s+/g,"");return Hn=calculateParentheses(Hn),Hn=calculateArithmetic(Hn),Hn}function safeEvaluateExpression(tr){try{return evaluateExpression(tr)}catch{return STR_NAN}}function reduceCSSCalc(tr){var Hn=safeEvaluateExpression(tr.slice(5,-1));return Hn===STR_NAN?"":Hn}var _excluded$g=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_excluded2$7=["dx","dy","angle","className","breakAll"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$g.apply(null,arguments)}function _objectWithoutProperties$f(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$g(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$g(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=tr=>{var{children:Hn,breakAll:er,style:nr}=tr;try{var ir=[];isNullish(Hn)||(er?ir=Hn.toString().split(""):ir=Hn.toString().split(BREAKING_SPACES));var rr=ir.map(ar=>({word:ar,width:getStringSize(ar,nr).width})),sr=er?0:getStringSize("",nr).width;return{wordsWithComputedWidth:rr,spaceWidth:sr}}catch{return null}};function isValidTextAnchor(tr){return tr==="start"||tr==="middle"||tr==="end"||tr==="inherit"}var calculate=(tr,Hn,er,nr)=>tr.reduce((ir,rr)=>{var{word:sr,width:ar}=rr,or=ir[ir.length-1];if(or&&ar!=null&&(Hn==null||nr||or.width+ar+er<Number(Hn)))or.words.push(sr),or.width+=ar+er;else{var lr={words:[sr],width:ar};ir.push(lr)}return ir},[]),findLongestLine=tr=>tr.reduce((Hn,er)=>Hn.width>er.width?Hn:er),suffix="",checkOverflow=(tr,Hn,er,nr,ir,rr,sr,ar)=>{var or=tr.slice(0,Hn),lr=calculateWordWidths({breakAll:er,style:nr,children:or+suffix});if(!lr)return[!1,[]];var cr=calculate(lr.wordsWithComputedWidth,rr,sr,ar),ur=cr.length>ir||findLongestLine(cr).width>Number(rr);return[ur,cr]},calculateWordsByLines=(tr,Hn,er,nr,ir)=>{var{maxLines:rr,children:sr,style:ar,breakAll:or}=tr,lr=isNumber(rr),cr=String(sr),ur=calculate(Hn,nr,er,ir);if(!lr||ir)return ur;var dr=ur.length>rr||findLongestLine(ur).width>Number(nr);if(!dr)return ur;for(var fr=0,gr=cr.length-1,yr=0,vr;fr<=gr&&yr<=cr.length-1;){var jr=Math.floor((fr+gr)/2),Sr=jr-1,[Tr,Lr]=checkOverflow(cr,Sr,or,ar,rr,nr,er,ir),[Mr]=checkOverflow(cr,jr,or,ar,rr,nr,er,ir);if(!Tr&&!Mr&&(fr=jr+1),Tr&&Mr&&(gr=jr-1),!Tr&&Mr){vr=Lr;break}yr++}return vr||ur},getWordsWithoutCalculate=tr=>{var Hn=isNullish(tr)?[]:tr.toString().split(BREAKING_SPACES);return[{words:Hn,width:void 0}]},getWordsByLines=tr=>{var{width:Hn,scaleToFit:er,children:nr,style:ir,breakAll:rr,maxLines:sr}=tr;if((Hn||er)&&!Global.isSsr){var ar,or,lr=calculateWordWidths({breakAll:rr,children:nr,style:ir});if(lr){var{wordsWithComputedWidth:cr,spaceWidth:ur}=lr;ar=cr,or=ur}else return getWordsWithoutCalculate(nr);return calculateWordsByLines({breakAll:rr,children:nr,maxLines:sr,style:ir},ar,or,Hn,!!er)}return getWordsWithoutCalculate(nr)},DEFAULT_FILL="#808080",textDefaultProps={angle:0,breakAll:!1,capHeight:"0.71em",fill:DEFAULT_FILL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Text=reactExports.forwardRef((tr,Hn)=>{var er=resolveDefaultProps(tr,textDefaultProps),{x:nr,y:ir,lineHeight:rr,capHeight:sr,fill:ar,scaleToFit:or,textAnchor:lr,verticalAnchor:cr}=er,ur=_objectWithoutProperties$f(er,_excluded$g),dr=reactExports.useMemo(()=>getWordsByLines({breakAll:ur.breakAll,children:ur.children,maxLines:ur.maxLines,scaleToFit:or,style:ur.style,width:ur.width}),[ur.breakAll,ur.children,ur.maxLines,or,ur.style,ur.width]),{dx:fr,dy:gr,angle:yr,className:vr,breakAll:jr}=ur,Sr=_objectWithoutProperties$f(ur,_excluded2$7);if(!isNumOrStr(nr)||!isNumOrStr(ir)||dr.length===0)return null;var Tr=Number(nr)+(isNumber(fr)?fr:0),Lr=Number(ir)+(isNumber(gr)?gr:0);if(!isWellBehavedNumber(Tr)||!isWellBehavedNumber(Lr))return null;var Mr;switch(cr){case"start":Mr=reduceCSSCalc("calc(".concat(sr,")"));break;case"middle":Mr=reduceCSSCalc("calc(".concat((dr.length-1)/2," * -").concat(rr," + (").concat(sr," / 2))"));break;default:Mr=reduceCSSCalc("calc(".concat(dr.length-1," * -").concat(rr,")"));break}var Nr=[];if(or){var Or=dr[0].width,{width:Fr}=ur;Nr.push("scale(".concat(isNumber(Fr)&&isNumber(Or)?Fr/Or:1,")"))}return yr&&Nr.push("rotate(".concat(yr,", ").concat(Tr,", ").concat(Lr,")")),Nr.length&&(Sr.transform=Nr.join(" ")),reactExports.createElement("text",_extends$g({},svgPropertiesAndEvents(Sr),{ref:Hn,x:Tr,y:Lr,className:clsx("recharts-text",vr),textAnchor:lr,fill:ar.includes("url")?DEFAULT_FILL:ar}),dr.map((Gr,qr)=>{var Hr=Gr.words.join(jr?"":" ");return reactExports.createElement("tspan",{x:Tr,dy:qr===0?Mr:rr,key:"".concat(Hr,"-").concat(qr)},Hr)}))});Text.displayName="Text";var _excluded$f=["labelRef"];function _objectWithoutProperties$e(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$f(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$f(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function ownKeys$d(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$d(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$d(Object(er),!0).forEach(function(nr){_defineProperty$d(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$d(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$d(tr,Hn,er){return(Hn=_toPropertyKey$d(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$d(tr){var Hn=_toPrimitive$d(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$d(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$f.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=tr=>{var{x:Hn,y:er,upperWidth:nr,lowerWidth:ir,width:rr,height:sr,children:ar}=tr,or=reactExports.useMemo(()=>({x:Hn,y:er,upperWidth:nr,lowerWidth:ir,width:rr,height:sr}),[Hn,er,nr,ir,rr,sr]);return reactExports.createElement(CartesianLabelContext.Provider,{value:or},ar)},useCartesianLabelContext=()=>{var tr=reactExports.useContext(CartesianLabelContext),Hn=useViewBox();return tr||cartesianViewBoxToTrapezoid(Hn)},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var tr=reactExports.useContext(PolarLabelContext),Hn=useAppSelector(selectPolarViewBox);return tr||Hn},getLabel=tr=>{var{value:Hn,formatter:er}=tr,nr=isNullish(tr.children)?Hn:tr.children;return typeof er=="function"?er(nr):nr},isLabelContentAFunction=tr=>tr!=null&&typeof tr=="function",getDeltaAngle=(tr,Hn)=>{var er=mathSign(Hn-tr),nr=Math.min(Math.abs(Hn-tr),360);return er*nr},renderRadialLabel=(tr,Hn,er,nr,ir)=>{var{offset:rr,className:sr}=tr,{cx:ar,cy:or,innerRadius:lr,outerRadius:cr,startAngle:ur,endAngle:dr,clockWise:fr}=ir,gr=(lr+cr)/2,yr=getDeltaAngle(ur,dr),vr=yr>=0?1:-1,jr,Sr;switch(Hn){case"insideStart":jr=ur+vr*rr,Sr=fr;break;case"insideEnd":jr=dr-vr*rr,Sr=!fr;break;case"end":jr=dr+vr*rr,Sr=fr;break;default:throw new Error("Unsupported position ".concat(Hn))}Sr=yr<=0?Sr:!Sr;var Tr=polarToCartesian(ar,or,gr,jr),Lr=polarToCartesian(ar,or,gr,jr+(Sr?1:-1)*359),Mr="M".concat(Tr.x,",").concat(Tr.y,`
    A`).concat(gr,",").concat(gr,",0,1,").concat(Sr?0:1,`,
    `).concat(Lr.x,",").concat(Lr.y),Nr=isNullish(tr.id)?uniqueId("recharts-radial-line-"):tr.id;return reactExports.createElement("text",_extends$f({},nr,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",sr)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:Nr,d:Mr})),reactExports.createElement("textPath",{xlinkHref:"#".concat(Nr)},er))},getAttrsOfPolarLabel=(tr,Hn,er)=>{var{cx:nr,cy:ir,innerRadius:rr,outerRadius:sr,startAngle:ar,endAngle:or}=tr,lr=(ar+or)/2;if(er==="outside"){var{x:cr,y:ur}=polarToCartesian(nr,ir,sr+Hn,lr);return{x:cr,y:ur,textAnchor:cr>=nr?"start":"end",verticalAnchor:"middle"}}if(er==="center")return{x:nr,y:ir,textAnchor:"middle",verticalAnchor:"middle"};if(er==="centerTop")return{x:nr,y:ir,textAnchor:"middle",verticalAnchor:"start"};if(er==="centerBottom")return{x:nr,y:ir,textAnchor:"middle",verticalAnchor:"end"};var dr=(rr+sr)/2,{x:fr,y:gr}=polarToCartesian(nr,ir,dr,lr);return{x:fr,y:gr,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=tr=>"cx"in tr&&isNumber(tr.cx),getAttrsOfCartesianLabel=(tr,Hn)=>{var{parentViewBox:er,offset:nr,position:ir}=tr,rr;er!=null&&!isPolar(er)&&(rr=er);var{x:sr,y:ar,upperWidth:or,lowerWidth:lr,height:cr}=Hn,ur=sr,dr=sr+(or-lr)/2,fr=(ur+dr)/2,gr=(or+lr)/2,yr=ur+or/2,vr=cr>=0?1:-1,jr=vr*nr,Sr=vr>0?"end":"start",Tr=vr>0?"start":"end",Lr=or>=0?1:-1,Mr=Lr*nr,Nr=Lr>0?"end":"start",Or=Lr>0?"start":"end";if(ir==="top"){var Fr={x:ur+or/2,y:ar-jr,textAnchor:"middle",verticalAnchor:Sr};return _objectSpread$d(_objectSpread$d({},Fr),rr?{height:Math.max(ar-rr.y,0),width:or}:{})}if(ir==="bottom"){var Gr={x:dr+lr/2,y:ar+cr+jr,textAnchor:"middle",verticalAnchor:Tr};return _objectSpread$d(_objectSpread$d({},Gr),rr?{height:Math.max(rr.y+rr.height-(ar+cr),0),width:lr}:{})}if(ir==="left"){var qr={x:fr-Mr,y:ar+cr/2,textAnchor:Nr,verticalAnchor:"middle"};return _objectSpread$d(_objectSpread$d({},qr),rr?{width:Math.max(qr.x-rr.x,0),height:cr}:{})}if(ir==="right"){var Hr={x:fr+gr+Mr,y:ar+cr/2,textAnchor:Or,verticalAnchor:"middle"};return _objectSpread$d(_objectSpread$d({},Hr),rr?{width:Math.max(rr.x+rr.width-Hr.x,0),height:cr}:{})}var Yr=rr?{width:gr,height:cr}:{};return ir==="insideLeft"?_objectSpread$d({x:fr+Mr,y:ar+cr/2,textAnchor:Or,verticalAnchor:"middle"},Yr):ir==="insideRight"?_objectSpread$d({x:fr+gr-Mr,y:ar+cr/2,textAnchor:Nr,verticalAnchor:"middle"},Yr):ir==="insideTop"?_objectSpread$d({x:ur+or/2,y:ar+jr,textAnchor:"middle",verticalAnchor:Tr},Yr):ir==="insideBottom"?_objectSpread$d({x:dr+lr/2,y:ar+cr-jr,textAnchor:"middle",verticalAnchor:Sr},Yr):ir==="insideTopLeft"?_objectSpread$d({x:ur+Mr,y:ar+jr,textAnchor:Or,verticalAnchor:Tr},Yr):ir==="insideTopRight"?_objectSpread$d({x:ur+or-Mr,y:ar+jr,textAnchor:Nr,verticalAnchor:Tr},Yr):ir==="insideBottomLeft"?_objectSpread$d({x:dr+Mr,y:ar+cr-jr,textAnchor:Or,verticalAnchor:Sr},Yr):ir==="insideBottomRight"?_objectSpread$d({x:dr+lr-Mr,y:ar+cr-jr,textAnchor:Nr,verticalAnchor:Sr},Yr):ir&&typeof ir=="object"&&(isNumber(ir.x)||isPercent(ir.x))&&(isNumber(ir.y)||isPercent(ir.y))?_objectSpread$d({x:sr+getPercentValue(ir.x,gr),y:ar+getPercentValue(ir.y,cr),textAnchor:"end",verticalAnchor:"end"},Yr):_objectSpread$d({x:yr,y:ar+cr/2,textAnchor:"middle",verticalAnchor:"middle"},Yr)},defaultLabelProps={angle:0,offset:5,zIndex:DefaultZIndexes.label,position:"middle",textBreakAll:!1};function Label$1(tr){var Hn=resolveDefaultProps(tr,defaultLabelProps),{viewBox:er,position:nr,value:ir,children:rr,content:sr,className:ar="",textBreakAll:or,labelRef:lr}=Hn,cr=usePolarLabelContext(),ur=useCartesianLabelContext(),dr=nr==="center"?ur:cr??ur,fr,gr,yr;if(er==null?fr=dr:isPolar(er)?fr=er:fr=cartesianViewBoxToTrapezoid(er),!fr||isNullish(ir)&&isNullish(rr)&&!reactExports.isValidElement(sr)&&typeof sr!="function")return null;var vr=_objectSpread$d(_objectSpread$d({},Hn),{},{viewBox:fr});if(reactExports.isValidElement(sr)){var{labelRef:jr}=vr,Sr=_objectWithoutProperties$e(vr,_excluded$f);return reactExports.cloneElement(sr,Sr)}if(typeof sr=="function"){if(gr=reactExports.createElement(sr,vr),reactExports.isValidElement(gr))return gr}else gr=getLabel(Hn);var Tr=svgPropertiesAndEvents(Hn);if(isPolar(fr)){if(nr==="insideStart"||nr==="insideEnd"||nr==="end")return renderRadialLabel(Hn,nr,gr,Tr,fr);yr=getAttrsOfPolarLabel(fr,Hn.offset,Hn.position)}else yr=getAttrsOfCartesianLabel(Hn,fr);return reactExports.createElement(ZIndexLayer,{zIndex:Hn.zIndex},reactExports.createElement(Text,_extends$f({ref:lr,className:clsx("recharts-label",ar)},Tr,yr,{textAnchor:isValidTextAnchor(Tr.textAnchor)?Tr.textAnchor:yr.textAnchor,breakAll:or}),gr))}Label$1.displayName="Label";var parseLabel=(tr,Hn,er)=>{if(!tr)return null;var nr={viewBox:Hn,labelRef:er};return tr===!0?reactExports.createElement(Label$1,_extends$f({key:"label-implicit"},nr)):isNumOrStr(tr)?reactExports.createElement(Label$1,_extends$f({key:"label-implicit",value:tr},nr)):reactExports.isValidElement(tr)?tr.type===Label$1?reactExports.cloneElement(tr,_objectSpread$d({key:"label-implicit"},nr)):reactExports.createElement(Label$1,_extends$f({key:"label-implicit",content:tr},nr)):isLabelContentAFunction(tr)?reactExports.createElement(Label$1,_extends$f({key:"label-implicit",content:tr},nr)):tr&&typeof tr=="object"?reactExports.createElement(Label$1,_extends$f({},tr,{key:"label-implicit"},nr)):null};function CartesianLabelFromLabelProp(tr){var{label:Hn,labelRef:er}=tr,nr=useCartesianLabelContext();return parseLabel(Hn,nr,er)||null}var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return er[er.length-1]}tr.last=Hn})(last$2)),last$2}var toArray$1={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){return Array.isArray(er)?er:Array.from(er)}tr.toArray=Hn})(toArray$1)),toArray$1}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});const Hn=requireLast$2(),er=requireToArray(),nr=requireIsArrayLike();function ir(rr){if(nr.isArrayLike(rr))return Hn.last(er.toArray(rr))}tr.last=ir})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$e=["valueAccessor"],_excluded2$6=["dataKey","clockWise","id","textBreakAll","zIndex"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$e.apply(null,arguments)}function _objectWithoutProperties$d(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$e(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$e(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var defaultAccessor=tr=>Array.isArray(tr.value)?last(tr.value):tr.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0);PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(tr){var{valueAccessor:Hn=defaultAccessor}=tr,er=_objectWithoutProperties$d(tr,_excluded$e),{dataKey:nr,clockWise:ir,id:rr,textBreakAll:sr,zIndex:ar}=er,or=_objectWithoutProperties$d(er,_excluded2$6),lr=useCartesianLabelListContext(),cr=usePolarLabelListContext(),ur=lr||cr;return!ur||!ur.length?null:reactExports.createElement(ZIndexLayer,{zIndex:ar??DefaultZIndexes.label},reactExports.createElement(Layer,{className:"recharts-label-list"},ur.map((dr,fr)=>{var gr,yr=isNullish(nr)?Hn(dr,fr):getValueByDataKey(dr&&dr.payload,nr),vr=isNullish(rr)?{}:{id:"".concat(rr,"-").concat(fr)};return reactExports.createElement(Label$1,_extends$e({key:"label-".concat(fr)},svgPropertiesAndEvents(dr),or,vr,{fill:(gr=er.fill)!==null&&gr!==void 0?gr:dr.fill,parentViewBox:dr.parentViewBox,value:yr,textBreakAll:sr,viewBox:dr.viewBox,index:fr,zIndex:0}))})))}LabelList.displayName="LabelList";function LabelListFromLabelProp(tr){var{label:Hn}=tr;return Hn?Hn===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(Hn)||isLabelContentAFunction(Hn)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:Hn}):typeof Hn=="object"?reactExports.createElement(LabelList,_extends$e({key:"labelList-implicit"},Hn,{type:String(Hn.type)})):null:null}var initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(tr,Hn){tr.radiusAxis[Hn.payload.id]=Hn.payload},removeRadiusAxis(tr,Hn){delete tr.radiusAxis[Hn.payload.id]},addAngleAxis(tr,Hn){tr.angleAxis[Hn.payload.id]=Hn.payload},removeAngleAxis(tr,Hn){delete tr.angleAxis[Hn.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer,reactIs={exports:{}},reactIs_production_min={};var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var tr=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),nr=Symbol.for("react.strict_mode"),ir=Symbol.for("react.profiler"),rr=Symbol.for("react.provider"),sr=Symbol.for("react.context"),ar=Symbol.for("react.server_context"),or=Symbol.for("react.forward_ref"),lr=Symbol.for("react.suspense"),cr=Symbol.for("react.suspense_list"),ur=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),fr=Symbol.for("react.offscreen"),gr;gr=Symbol.for("react.module.reference");function yr(vr){if(typeof vr=="object"&&vr!==null){var jr=vr.$$typeof;switch(jr){case tr:switch(vr=vr.type,vr){case er:case ir:case nr:case lr:case cr:return vr;default:switch(vr=vr&&vr.$$typeof,vr){case ar:case sr:case or:case dr:case ur:case rr:return vr;default:return jr}}case Hn:return jr}}}return reactIs_production_min.ContextConsumer=sr,reactIs_production_min.ContextProvider=rr,reactIs_production_min.Element=tr,reactIs_production_min.ForwardRef=or,reactIs_production_min.Fragment=er,reactIs_production_min.Lazy=dr,reactIs_production_min.Memo=ur,reactIs_production_min.Portal=Hn,reactIs_production_min.Profiler=ir,reactIs_production_min.StrictMode=nr,reactIs_production_min.Suspense=lr,reactIs_production_min.SuspenseList=cr,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(vr){return yr(vr)===sr},reactIs_production_min.isContextProvider=function(vr){return yr(vr)===rr},reactIs_production_min.isElement=function(vr){return typeof vr=="object"&&vr!==null&&vr.$$typeof===tr},reactIs_production_min.isForwardRef=function(vr){return yr(vr)===or},reactIs_production_min.isFragment=function(vr){return yr(vr)===er},reactIs_production_min.isLazy=function(vr){return yr(vr)===dr},reactIs_production_min.isMemo=function(vr){return yr(vr)===ur},reactIs_production_min.isPortal=function(vr){return yr(vr)===Hn},reactIs_production_min.isProfiler=function(vr){return yr(vr)===ir},reactIs_production_min.isStrictMode=function(vr){return yr(vr)===nr},reactIs_production_min.isSuspense=function(vr){return yr(vr)===lr},reactIs_production_min.isSuspenseList=function(vr){return yr(vr)===cr},reactIs_production_min.isValidElementType=function(vr){return typeof vr=="string"||typeof vr=="function"||vr===er||vr===ir||vr===nr||vr===lr||vr===cr||vr===fr||typeof vr=="object"&&vr!==null&&(vr.$$typeof===dr||vr.$$typeof===ur||vr.$$typeof===rr||vr.$$typeof===sr||vr.$$typeof===or||vr.$$typeof===gr||vr.getModuleId!==void 0)},reactIs_production_min.typeOf=yr,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),getDisplayName=tr=>typeof tr=="string"?tr:tr?tr.displayName||tr.name||"Component":"",lastChildren=null,lastResult=null,toArray=tr=>{if(tr===lastChildren&&Array.isArray(lastResult))return lastResult;var Hn=[];return reactExports.Children.forEach(tr,er=>{isNullish(er)||(reactIsExports.isFragment(er)?Hn=Hn.concat(toArray(er.props.children)):Hn.push(er))}),lastResult=Hn,lastChildren=tr,Hn};function findAllByType(tr,Hn){var er=[],nr=[];return Array.isArray(Hn)?nr=Hn.map(ir=>getDisplayName(ir)):nr=[getDisplayName(Hn)],toArray(tr).forEach(ir=>{var rr=get(ir,"type.displayName")||get(ir,"type.name");rr&&nr.indexOf(rr)!==-1&&er.push(ir)}),er}var isPlainObject$2={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(tr){Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"});function Hn(er){if(typeof er!="object"||er==null)return!1;if(Object.getPrototypeOf(er)===null)return!0;if(Object.prototype.toString.call(er)!=="[object Object]"){const ir=er[Symbol.toStringTag];return ir==null||!Object.getOwnPropertyDescriptor(er,Symbol.toStringTag)?.writable?!1:er.toString()===`[object ${ir}]`}let nr=er;for(;Object.getPrototypeOf(nr)!==null;)nr=Object.getPrototypeOf(nr);return Object.getPrototypeOf(er)===nr}tr.isPlainObject=Hn})(isPlainObject$2)),isPlainObject$2}var isPlainObject$1,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$1=requireIsPlainObject$1().isPlainObject),isPlainObject$1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);function ownKeys$c(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$c(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$c(Object(er),!0).forEach(function(nr){_defineProperty$c(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$c(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$c(tr,Hn,er){return(Hn=_toPropertyKey$c(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$c(tr){var Hn=_toPrimitive$c(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$c(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$d.apply(null,arguments)}var getTrapezoidPath=(tr,Hn,er,nr,ir)=>{var rr=er-nr,sr;return sr="M ".concat(tr,",").concat(Hn),sr+="L ".concat(tr+er,",").concat(Hn),sr+="L ".concat(tr+er-rr/2,",").concat(Hn+ir),sr+="L ".concat(tr+er-rr/2-nr,",").concat(Hn+ir),sr+="L ".concat(tr,",").concat(Hn," Z"),sr},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=tr=>{var Hn=resolveDefaultProps(tr,defaultProps$1),{x:er,y:nr,upperWidth:ir,lowerWidth:rr,height:sr,className:ar}=Hn,{animationEasing:or,animationDuration:lr,animationBegin:cr,isUpdateAnimationActive:ur}=Hn,dr=reactExports.useRef(null),[fr,gr]=reactExports.useState(-1),yr=reactExports.useRef(ir),vr=reactExports.useRef(rr),jr=reactExports.useRef(sr),Sr=reactExports.useRef(er),Tr=reactExports.useRef(nr),Lr=useAnimationId(tr,"trapezoid-");if(reactExports.useEffect(()=>{if(dr.current&&dr.current.getTotalLength)try{var io=dr.current.getTotalLength();io&&gr(io)}catch{}},[]),er!==+er||nr!==+nr||ir!==+ir||rr!==+rr||sr!==+sr||ir===0&&rr===0||sr===0)return null;var Mr=clsx("recharts-trapezoid",ar);if(!ur)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$d({},svgPropertiesAndEvents(Hn),{className:Mr,d:getTrapezoidPath(er,nr,ir,rr,sr)})));var Nr=yr.current,Or=vr.current,Fr=jr.current,Gr=Sr.current,qr=Tr.current,Hr="0px ".concat(fr===-1?1:fr,"px"),Yr="".concat(fr,"px 0px"),ro=getTransitionVal(["strokeDasharray"],lr,or);return reactExports.createElement(JavascriptAnimate,{animationId:Lr,key:Lr,canBegin:fr>0,duration:lr,easing:or,isActive:ur,begin:cr},io=>{var fo=interpolate$1(Nr,ir,io),ao=interpolate$1(Or,rr,io),Jr=interpolate$1(Fr,sr,io),uo=interpolate$1(Gr,er,io),oo=interpolate$1(qr,nr,io);dr.current&&(yr.current=fo,vr.current=ao,jr.current=Jr,Sr.current=uo,Tr.current=oo);var co=io>0?{transition:ro,strokeDasharray:Yr}:{strokeDasharray:Hr};return reactExports.createElement("path",_extends$d({},svgPropertiesAndEvents(Hn),{className:Mr,d:getTrapezoidPath(uo,oo,fo,ao,Jr),ref:dr,style:_objectSpread$c(_objectSpread$c({},co),Hn.style)}))})},_excluded$d=["option","shapeType","propTransformer","activeClassName"];function _objectWithoutProperties$c(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$d(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$d(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function ownKeys$b(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$b(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$b(Object(er),!0).forEach(function(nr){_defineProperty$b(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$b(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$b(tr,Hn,er){return(Hn=_toPropertyKey$b(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$b(tr){var Hn=_toPrimitive$b(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$b(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function defaultPropTransformer(tr,Hn){return _objectSpread$b(_objectSpread$b({},Hn),tr)}function isSymbolsProps(tr,Hn){return tr==="symbols"}function ShapeSelector(tr){var{shapeType:Hn,elementProps:er}=tr;switch(Hn){case"rectangle":return reactExports.createElement(Rectangle,er);case"trapezoid":return reactExports.createElement(Trapezoid,er);case"sector":return reactExports.createElement(Sector,er);case"symbols":if(isSymbolsProps(Hn))return reactExports.createElement(Symbols,er);break;case"curve":return reactExports.createElement(Curve,er);default:return null}}function getPropsFromShapeOption(tr){return reactExports.isValidElement(tr)?tr.props:tr}function Shape(tr){var{option:Hn,shapeType:er,propTransformer:nr=defaultPropTransformer,activeClassName:ir="recharts-active-shape"}=tr,rr=_objectWithoutProperties$c(tr,_excluded$d),sr;if(reactExports.isValidElement(Hn))sr=reactExports.cloneElement(Hn,_objectSpread$b(_objectSpread$b({},rr),getPropsFromShapeOption(Hn)));else if(typeof Hn=="function")sr=Hn(rr);else if(isPlainObject(Hn)&&typeof Hn!="boolean"){var ar=nr(Hn,rr);sr=reactExports.createElement(ShapeSelector,{shapeType:er,elementProps:ar})}else{var or=rr;sr=reactExports.createElement(ShapeSelector,{shapeType:er,elementProps:or})}return rr.isActive?reactExports.createElement(Layer,{className:ir},sr):sr}var useMouseEnterItemDispatch=(tr,Hn)=>{var er=useAppDispatch();return(nr,ir)=>rr=>{tr?.(nr,ir,rr),er(setActiveMouseOverItemIndex({activeIndex:String(ir),activeDataKey:Hn,activeCoordinate:nr.tooltipPosition}))}},useMouseLeaveItemDispatch=tr=>{var Hn=useAppDispatch();return(er,nr)=>ir=>{tr?.(er,nr,ir),Hn(mouseLeaveItem())}},useMouseClickItemDispatch=(tr,Hn)=>{var er=useAppDispatch();return(nr,ir)=>rr=>{tr?.(nr,ir,rr),er(setActiveClickItemIndex({activeIndex:String(ir),activeDataKey:Hn,activeCoordinate:nr.tooltipPosition}))}};function SetTooltipEntrySettings(tr){var{tooltipEntrySettings:Hn}=tr,er=useAppDispatch(),nr=useIsPanorama(),ir=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{nr||(ir.current===null?er(addTooltipEntrySettings(Hn)):ir.current!==Hn&&er(replaceTooltipEntrySettings({prev:ir.current,next:Hn})),ir.current=Hn)},[Hn,er,nr]),reactExports.useLayoutEffect(()=>()=>{ir.current&&(er(removeTooltipEntrySettings(ir.current)),ir.current=null)},[er]),null}function SetLegendPayload(tr){var{legendPayload:Hn}=tr,er=useAppDispatch(),nr=useIsPanorama(),ir=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{nr||(ir.current===null?er(addLegendPayload(Hn)):ir.current!==Hn&&er(replaceLegendPayload({prev:ir.current,next:Hn})),ir.current=Hn)},[er,nr,Hn]),reactExports.useLayoutEffect(()=>()=>{ir.current&&(er(removeLegendPayload(ir.current)),ir.current=null)},[er]),null}var _ref,useIdFallback=()=>{var[tr]=reactExports.useState(()=>uniqueId("uid-"));return tr},useId=(_ref=React$1.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(tr,Hn){var er=useId();return Hn||(tr?"".concat(tr,"-").concat(er):er)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=tr=>{var{id:Hn,type:er,children:nr}=tr,ir=useUniqueId("recharts-".concat(er),Hn);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:ir},nr(ir))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem:{reducer(tr,Hn){tr.cartesianItems.push(Hn.payload)},prepare:prepareAutoBatched()},replaceCartesianGraphicalItem:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload,ir=current(tr).cartesianItems.indexOf(er);ir>-1&&(tr.cartesianItems[ir]=nr)},prepare:prepareAutoBatched()},removeCartesianGraphicalItem:{reducer(tr,Hn){var er=current(tr).cartesianItems.indexOf(Hn.payload);er>-1&&tr.cartesianItems.splice(er,1)},prepare:prepareAutoBatched()},addPolarGraphicalItem:{reducer(tr,Hn){tr.polarItems.push(Hn.payload)},prepare:prepareAutoBatched()},removePolarGraphicalItem:{reducer(tr,Hn){var er=current(tr).polarItems.indexOf(Hn.payload);er>-1&&tr.polarItems.splice(er,1)},prepare:prepareAutoBatched()}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer,SetCartesianGraphicalItemImpl=tr=>{var Hn=useAppDispatch(),er=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{er.current===null?Hn(addCartesianGraphicalItem(tr)):er.current!==tr&&Hn(replaceCartesianGraphicalItem({prev:er.current,next:tr})),er.current=tr},[Hn,tr]),reactExports.useLayoutEffect(()=>()=>{er.current&&(Hn(removeCartesianGraphicalItem(er.current)),er.current=null)},[Hn]),null},SetCartesianGraphicalItem=reactExports.memo(SetCartesianGraphicalItemImpl);function ownKeys$a(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$a(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$a(Object(er),!0).forEach(function(nr){_defineProperty$a(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$a(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$a(tr,Hn,er){return(Hn=_toPropertyKey$a(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$a(tr){var Hn=_toPrimitive$a(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$a(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis:{reducer(tr,Hn){tr.xAxis[Hn.payload.id]=Hn.payload},prepare:prepareAutoBatched()},replaceXAxis:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload;tr.xAxis[er.id]!==void 0&&(er.id!==nr.id&&delete tr.xAxis[er.id],tr.xAxis[nr.id]=nr)},prepare:prepareAutoBatched()},removeXAxis:{reducer(tr,Hn){delete tr.xAxis[Hn.payload.id]},prepare:prepareAutoBatched()},addYAxis:{reducer(tr,Hn){tr.yAxis[Hn.payload.id]=Hn.payload},prepare:prepareAutoBatched()},replaceYAxis:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload;tr.yAxis[er.id]!==void 0&&(er.id!==nr.id&&delete tr.yAxis[er.id],tr.yAxis[nr.id]=nr)},prepare:prepareAutoBatched()},removeYAxis:{reducer(tr,Hn){delete tr.yAxis[Hn.payload.id]},prepare:prepareAutoBatched()},addZAxis:{reducer(tr,Hn){tr.zAxis[Hn.payload.id]=Hn.payload},prepare:prepareAutoBatched()},replaceZAxis:{reducer(tr,Hn){var{prev:er,next:nr}=Hn.payload;tr.zAxis[er.id]!==void 0&&(er.id!==nr.id&&delete tr.zAxis[er.id],tr.zAxis[nr.id]=nr)},prepare:prepareAutoBatched()},removeZAxis:{reducer(tr,Hn){delete tr.zAxis[Hn.payload.id]},prepare:prepareAutoBatched()},updateYAxisWidth(tr,Hn){var{id:er,width:nr}=Hn.payload,ir=tr.yAxis[er];if(ir){var rr=ir.widthHistory||[];if(rr.length===3&&rr[0]===rr[2]&&nr===rr[1]&&nr!==ir.width&&Math.abs(nr-rr[0])<=1)return;var sr=[...rr,nr].slice(-3);tr.yAxis[er]=_objectSpread$a(_objectSpread$a({},tr.yAxis[er]),{},{width:nr,widthHistory:sr})}}}}),{addXAxis,replaceXAxis,removeXAxis,addYAxis,replaceYAxis,removeYAxis,addZAxis,replaceZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],tr=>({top:tr.top,bottom:tr.bottom,left:tr.left,right:tr.right})),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(tr,Hn,er)=>{if(!(!tr||Hn==null||er==null))return{x:tr.left,y:tr.top,width:Math.max(0,Hn-tr.left-tr.right),height:Math.max(0,er-tr.top-tr.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),prefix="Invariant failed";function invariant(tr,Hn){throw new Error(prefix)}var _excluded$c=["x","y"];function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$c.apply(null,arguments)}function ownKeys$9(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$9(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$9(Object(er),!0).forEach(function(nr){_defineProperty$9(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$9(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$9(tr,Hn,er){return(Hn=_toPropertyKey$9(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$9(tr){var Hn=_toPrimitive$9(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$9(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$b(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$c(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$c(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function typeguardBarRectangleProps(tr,Hn){var{x:er,y:nr}=tr,ir=_objectWithoutProperties$b(tr,_excluded$c),rr="".concat(er),sr=parseInt(rr,10),ar="".concat(nr),or=parseInt(ar,10),lr="".concat(Hn.height||ir.height),cr=parseInt(lr,10),ur="".concat(Hn.width||ir.width),dr=parseInt(ur,10);return _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},Hn),ir),sr?{x:sr}:{}),or?{y:or}:{}),{},{height:cr,width:dr,name:Hn.name,radius:Hn.radius})}function BarRectangle(tr){return reactExports.createElement(Shape,_extends$c({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},tr))}var minPointSizeCallback=function tr(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(nr,ir)=>{if(isNumber(Hn))return Hn;var rr=isNumber(nr)||isNullish(nr);return rr?Hn(nr,ir):(rr||invariant(),er)}},initialState$3={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$3,reducers:{addErrorBar:(tr,Hn)=>{var{itemId:er,errorBar:nr}=Hn.payload;tr[er]||(tr[er]=[]),tr[er].push(nr)},replaceErrorBar:(tr,Hn)=>{var{itemId:er,prev:nr,next:ir}=Hn.payload;tr[er]&&(tr[er]=tr[er].map(rr=>rr.dataKey===nr.dataKey&&rr.direction===nr.direction?ir:rr))},removeErrorBar:(tr,Hn)=>{var{itemId:er,errorBar:nr}=Hn.payload;tr[er]&&(tr[er]=tr[er].filter(ir=>ir.dataKey!==nr.dataKey||ir.direction!==nr.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$b=["children"];function _objectWithoutProperties$a(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$b(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$b(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(tr){var{children:Hn}=tr,er=_objectWithoutProperties$a(tr,_excluded$b);return reactExports.createElement(ErrorBarContext.Provider,{value:er},Hn)}function useNeedsClip(tr,Hn){var er,nr,ir=useAppSelector(lr=>selectXAxisSettings(lr,tr)),rr=useAppSelector(lr=>selectYAxisSettings(lr,Hn)),sr=(er=ir?.allowDataOverflow)!==null&&er!==void 0?er:implicitXAxis.allowDataOverflow,ar=(nr=rr?.allowDataOverflow)!==null&&nr!==void 0?nr:implicitYAxis.allowDataOverflow,or=sr||ar;return{needClip:or,needClipX:sr,needClipY:ar}}function GraphicalItemClipPath(tr){var{xAxisId:Hn,yAxisId:er,clipPathId:nr}=tr,ir=usePlotArea(),{needClipX:rr,needClipY:sr,needClip:ar}=useNeedsClip(Hn,er);if(!ar||!ir)return null;var{x:or,y:lr,width:cr,height:ur}=ir;return reactExports.createElement("clipPath",{id:"clipPath-".concat(nr)},reactExports.createElement("rect",{x:rr?or:or-cr/2,y:sr?lr:lr-ur/2,width:rr?cr:cr*2,height:sr?ur:ur*2}))}function getZIndexFromUnknown(tr,Hn){return tr&&typeof tr=="object"&&"zIndex"in tr&&typeof tr.zIndex=="number"&&isWellBehavedNumber(tr.zIndex)?tr.zIndex:Hn}var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var tr=requireReact();function Hn(or,lr){return or===lr&&(or!==0||1/or===1/lr)||or!==or&&lr!==lr}var er=typeof Object.is=="function"?Object.is:Hn,nr=tr.useSyncExternalStore,ir=tr.useRef,rr=tr.useEffect,sr=tr.useMemo,ar=tr.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(or,lr,cr,ur,dr){var fr=ir(null);if(fr.current===null){var gr={hasValue:!1,value:null};fr.current=gr}else gr=fr.current;fr=sr(function(){function vr(Mr){if(!jr){if(jr=!0,Sr=Mr,Mr=ur(Mr),dr!==void 0&&gr.hasValue){var Nr=gr.value;if(dr(Nr,Mr))return Tr=Nr}return Tr=Mr}if(Nr=Tr,er(Sr,Mr))return Nr;var Or=ur(Mr);return dr!==void 0&&dr(Nr,Or)?(Sr=Mr,Nr):(Sr=Mr,Tr=Or)}var jr=!1,Sr,Tr,Lr=cr===void 0?null:cr;return[function(){return vr(lr())},Lr===null?void 0:function(){return vr(Lr())}]},[lr,cr,ur,dr]);var yr=nr(or,fr[0],fr[1]);return rr(function(){gr.hasValue=!0,gr.value=yr},[yr]),ar(yr),yr},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(tr){tr()}function createListenerCollection(){let tr=null,Hn=null;return{clear(){tr=null,Hn=null},notify(){defaultNoopBatch(()=>{let er=tr;for(;er;)er.callback(),er=er.next})},get(){const er=[];let nr=tr;for(;nr;)er.push(nr),nr=nr.next;return er},subscribe(er){let nr=!0;const ir=Hn={callback:er,next:null,prev:Hn};return ir.prev?ir.prev.next=ir:tr=ir,function(){!nr||tr===null||(nr=!1,ir.next?ir.next.prev=ir.prev:Hn=ir.prev,ir.prev?ir.prev.next=ir.next:tr=ir.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(tr,Hn){let er,nr=nullListeners,ir=0,rr=!1;function sr(yr){cr();const vr=nr.subscribe(yr);let jr=!1;return()=>{jr||(jr=!0,vr(),ur())}}function ar(){nr.notify()}function or(){gr.onStateChange&&gr.onStateChange()}function lr(){return rr}function cr(){ir++,er||(er=tr.subscribe(or),nr=createListenerCollection())}function ur(){ir--,er&&ir===0&&(er(),er=void 0,nr.clear(),nr=nullListeners)}function dr(){rr||(rr=!0,cr())}function fr(){rr&&(rr=!1,ur())}const gr={addNestedSub:sr,notifyNestedSubs:ar,handleChangeWrapper:or,isSubscribed:lr,trySubscribe:dr,tryUnsubscribe:fr,getListeners:()=>nr};return gr}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect();function is$2(tr,Hn){return tr===Hn?tr!==0||Hn!==0||1/tr===1/Hn:tr!==tr&&Hn!==Hn}function shallowEqual(tr,Hn){if(is$2(tr,Hn))return!0;if(typeof tr!="object"||tr===null||typeof Hn!="object"||Hn===null)return!1;const er=Object.keys(tr),nr=Object.keys(Hn);if(er.length!==nr.length)return!1;for(let ir=0;ir<er.length;ir++)if(!Object.prototype.hasOwnProperty.call(Hn,er[ir])||!is$2(tr[er[ir]],Hn[er[ir]]))return!1;return!0}var ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext$1(){if(!reactExports.createContext)return{};const tr=gT[ContextKey]??=new Map;let Hn=tr.get(reactExports.createContext);return Hn||(Hn=reactExports.createContext(null),tr.set(reactExports.createContext,Hn)),Hn}var ReactReduxContext=getContext$1();function Provider(tr){const{children:Hn,context:er,serverState:nr,store:ir}=tr,rr=reactExports.useMemo(()=>{const or=createSubscription(ir);return{store:ir,subscription:or,getServerState:nr?()=>nr:void 0}},[ir,nr]),sr=reactExports.useMemo(()=>ir.getState(),[ir]);useIsomorphicLayoutEffect(()=>{const{subscription:or}=rr;return or.onStateChange=or.notifyNestedSubs,or.trySubscribe(),sr!==ir.getState()&&or.notifyNestedSubs(),()=>{or.tryUnsubscribe(),or.onStateChange=void 0}},[rr,sr]);const ar=er||ReactReduxContext;return reactExports.createElement(ar.Provider,{value:rr},Hn)}var Provider_default=Provider,propsToShallowCompare=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function sameValueZero(tr,Hn){return tr==null&&Hn==null?!0:typeof tr=="number"&&typeof Hn=="number"?tr===Hn||tr!==tr&&Hn!==Hn:tr===Hn}function propsAreEqual(tr,Hn){var er=new Set([...Object.keys(tr),...Object.keys(Hn)]);for(var nr of er)if(propsToShallowCompare.has(nr)){if(tr[nr]==null&&Hn[nr]==null)continue;if(!shallowEqual(tr[nr],Hn[nr]))return!1}else if(!sameValueZero(tr[nr],Hn[nr]))return!1;return!0}var _excluded$a=["onMouseEnter","onMouseLeave","onClick"],_excluded2$5=["value","background","tooltipPosition"],_excluded3$2=["id"],_excluded4$1=["onMouseEnter","onClick","onMouseLeave"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$b.apply(null,arguments)}function ownKeys$8(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$8(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$8(Object(er),!0).forEach(function(nr){_defineProperty$8(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$8(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$8(tr,Hn,er){return(Hn=_toPropertyKey$8(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$8(tr){var Hn=_toPrimitive$8(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$8(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _objectWithoutProperties$9(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$a(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$a(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var computeLegendPayloadFromBarData=tr=>{var{dataKey:Hn,name:er,fill:nr,legendType:ir,hide:rr}=tr;return[{inactive:rr,dataKey:Hn,type:ir,color:nr,value:getTooltipNameProp(er,Hn),payload:tr}]},SetBarTooltipEntrySettings=reactExports.memo(tr=>{var{dataKey:Hn,stroke:er,strokeWidth:nr,fill:ir,name:rr,hide:sr,unit:ar,tooltipType:or}=tr,lr={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:er,strokeWidth:nr,fill:ir,dataKey:Hn,nameKey:void 0,name:getTooltipNameProp(rr,Hn),hide:sr,type:or,color:ir,unit:ar}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:lr})});function BarBackground(tr){var Hn=useAppSelector(selectActiveTooltipIndex),{data:er,dataKey:nr,background:ir,allOtherBarProps:rr}=tr,{onMouseEnter:sr,onMouseLeave:ar,onClick:or}=rr,lr=_objectWithoutProperties$9(rr,_excluded$a),cr=useMouseEnterItemDispatch(sr,nr),ur=useMouseLeaveItemDispatch(ar),dr=useMouseClickItemDispatch(or,nr);if(!ir||er==null)return null;var fr=svgPropertiesNoEventsFromUnknown(ir);return reactExports.createElement(ZIndexLayer,{zIndex:getZIndexFromUnknown(ir,DefaultZIndexes.barBackground)},er.map((gr,yr)=>{var{value:vr,background:jr,tooltipPosition:Sr}=gr,Tr=_objectWithoutProperties$9(gr,_excluded2$5);if(!jr)return null;var Lr=cr(gr,yr),Mr=ur(gr,yr),Nr=dr(gr,yr),Or=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({option:ir,isActive:String(yr)===Hn},Tr),{},{fill:"#eee"},jr),fr),adaptEventsOfChild(lr,gr,yr)),{},{onMouseEnter:Lr,onMouseLeave:Mr,onClick:Nr,dataKey:nr,index:yr,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$b({key:"background-bar-".concat(yr)},Or))}))}function BarLabelListProvider(tr){var{showLabels:Hn,children:er,rects:nr}=tr,ir=nr?.map(rr=>{var sr={x:rr.x,y:rr.y,width:rr.width,lowerWidth:rr.width,upperWidth:rr.width,height:rr.height};return _objectSpread$8(_objectSpread$8({},sr),{},{value:rr.value,payload:rr.payload,parentViewBox:rr.parentViewBox,viewBox:sr,fill:rr.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:Hn?ir:void 0},er)}function BarRectangleWithActiveState(tr){var{shape:Hn,activeBar:er,baseProps:nr,entry:ir,index:rr,dataKey:sr}=tr,ar=useAppSelector(selectActiveTooltipIndex),or=useAppSelector(selectActiveTooltipDataKey),lr=er&&String(rr)===ar&&(or==null||sr===or),cr=lr?er:Hn;return lr?reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.activeBar},reactExports.createElement(BarRectangle,_extends$b({},nr,{name:String(nr.name)},ir,{isActive:lr,option:cr,index:rr,dataKey:sr}))):reactExports.createElement(BarRectangle,_extends$b({},nr,{name:String(nr.name)},ir,{isActive:lr,option:cr,index:rr,dataKey:sr}))}function BarRectangleNeverActive(tr){var{shape:Hn,baseProps:er,entry:nr,index:ir,dataKey:rr}=tr;return reactExports.createElement(BarRectangle,_extends$b({},er,{name:String(er.name)},nr,{isActive:!1,option:Hn,index:ir,dataKey:rr}))}function BarRectangles(tr){var Hn,{data:er,props:nr}=tr,ir=(Hn=svgPropertiesNoEvents(nr))!==null&&Hn!==void 0?Hn:{},{id:rr}=ir,sr=_objectWithoutProperties$9(ir,_excluded3$2),{shape:ar,dataKey:or,activeBar:lr}=nr,{onMouseEnter:cr,onClick:ur,onMouseLeave:dr}=nr,fr=_objectWithoutProperties$9(nr,_excluded4$1),gr=useMouseEnterItemDispatch(cr,or),yr=useMouseLeaveItemDispatch(dr),vr=useMouseClickItemDispatch(ur,or);return er?reactExports.createElement(reactExports.Fragment,null,er.map((jr,Sr)=>reactExports.createElement(Layer,_extends$b({key:"rectangle-".concat(jr?.x,"-").concat(jr?.y,"-").concat(jr?.value,"-").concat(Sr),className:"recharts-bar-rectangle"},adaptEventsOfChild(fr,jr,Sr),{onMouseEnter:gr(jr,Sr),onMouseLeave:yr(jr,Sr),onClick:vr(jr,Sr)}),lr?reactExports.createElement(BarRectangleWithActiveState,{shape:ar,activeBar:lr,baseProps:sr,entry:jr,index:Sr,dataKey:or}):reactExports.createElement(BarRectangleNeverActive,{shape:ar,baseProps:sr,entry:jr,index:Sr,dataKey:or})))):null}function RectanglesWithAnimation(tr){var{props:Hn,previousRectanglesRef:er}=tr,{data:nr,layout:ir,isAnimationActive:rr,animationBegin:sr,animationDuration:ar,animationEasing:or,onAnimationEnd:lr,onAnimationStart:cr}=Hn,ur=er.current,dr=useAnimationId(Hn,"recharts-bar-"),[fr,gr]=reactExports.useState(!1),yr=!fr,vr=reactExports.useCallback(()=>{typeof lr=="function"&&lr(),gr(!1)},[lr]),jr=reactExports.useCallback(()=>{typeof cr=="function"&&cr(),gr(!0)},[cr]);return reactExports.createElement(BarLabelListProvider,{showLabels:yr,rects:nr},reactExports.createElement(JavascriptAnimate,{animationId:dr,begin:sr,duration:ar,isActive:rr,easing:or,onAnimationEnd:vr,onAnimationStart:jr,key:dr},Sr=>{var Tr=Sr===1?nr:nr?.map((Lr,Mr)=>{var Nr=ur&&ur[Mr];if(Nr)return _objectSpread$8(_objectSpread$8({},Lr),{},{x:interpolate$1(Nr.x,Lr.x,Sr),y:interpolate$1(Nr.y,Lr.y,Sr),width:interpolate$1(Nr.width,Lr.width,Sr),height:interpolate$1(Nr.height,Lr.height,Sr)});if(ir==="horizontal"){var Or=interpolate$1(0,Lr.height,Sr),Fr=interpolate$1(Lr.stackedBarStart,Lr.y,Sr);return _objectSpread$8(_objectSpread$8({},Lr),{},{y:Fr,height:Or})}var Gr=interpolate$1(0,Lr.width,Sr),qr=interpolate$1(Lr.stackedBarStart,Lr.x,Sr);return _objectSpread$8(_objectSpread$8({},Lr),{},{width:Gr,x:qr})});return Sr>0&&(er.current=Tr??null),Tr==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:Hn,data:Tr}))}),reactExports.createElement(LabelListFromLabelProp,{label:Hn.label}),Hn.children)}function RenderRectangles(tr){var Hn=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:Hn,props:tr})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(tr,Hn)=>{var er=Array.isArray(tr.value)?tr.value[1]:tr.value;return{x:tr.x,y:tr.y,value:er,errorVal:getValueByDataKey(tr,Hn)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:Hn,data:er,dataKey:nr,className:ir,xAxisId:rr,yAxisId:sr,needClip:ar,background:or,id:lr}=this.props;if(Hn||er==null)return null;var cr=clsx("recharts-bar",ir),ur=lr;return reactExports.createElement(Layer,{className:cr,id:lr},ar&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:ur,xAxisId:rr,yAxisId:sr})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:ar?"url(#clipPath-".concat(ur,")"):void 0},reactExports.createElement(BarBackground,{data:er,dataKey:nr,background:or,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.bar};function BarImpl(tr){var{xAxisId:Hn,yAxisId:er,hide:nr,legendType:ir,minPointSize:rr,activeBar:sr,animationBegin:ar,animationDuration:or,animationEasing:lr,isAnimationActive:cr}=tr,{needClip:ur}=useNeedsClip(Hn,er),dr=useChartLayout(),fr=useIsPanorama(),gr=findAllByType(tr.children,Cell),yr=useAppSelector(Sr=>selectBarRectangles(Sr,Hn,er,fr,tr.id,gr));if(dr!=="vertical"&&dr!=="horizontal")return null;var vr,jr=yr?.[0];return jr==null||jr.height==null||jr.width==null?vr=0:vr=dr==="vertical"?jr.height/2:jr.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:Hn,yAxisId:er,data:yr,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:vr},reactExports.createElement(BarWithState,_extends$b({},tr,{layout:dr,needClip:ur,data:yr,xAxisId:Hn,yAxisId:er,hide:nr,legendType:ir,minPointSize:rr,activeBar:sr,animationBegin:ar,animationDuration:or,animationEasing:lr,isAnimationActive:cr})))}function computeBarRectangles(tr){var{layout:Hn,barSettings:{dataKey:er,minPointSize:nr},pos:ir,bandSize:rr,xAxis:sr,yAxis:ar,xAxisTicks:or,yAxisTicks:lr,stackedData:cr,displayedData:ur,offset:dr,cells:fr,parentViewBox:gr,dataStartIndex:yr}=tr,vr=Hn==="horizontal"?ar:sr,jr=cr?vr.scale.domain():null,Sr=getBaseValueOfBar({numericAxis:vr}),Tr=vr.scale(Sr);return ur.map((Lr,Mr)=>{var Nr,Or,Fr,Gr,qr,Hr;cr?Nr=truncateByDomain(cr[Mr+yr],jr):(Nr=getValueByDataKey(Lr,er),Array.isArray(Nr)||(Nr=[Sr,Nr]));var Yr=minPointSizeCallback(nr,defaultMinPointSize)(Nr[1],Mr);if(Hn==="horizontal"){var ro,[io,fo]=[ar.scale(Nr[0]),ar.scale(Nr[1])];Or=getCateCoordinateOfBar({axis:sr,ticks:or,bandSize:rr,offset:ir.offset,entry:Lr,index:Mr}),Fr=(ro=fo??io)!==null&&ro!==void 0?ro:void 0,Gr=ir.size;var ao=io-fo;if(qr=isNan(ao)?0:ao,Hr={x:Or,y:dr.top,width:Gr,height:dr.height},Math.abs(Yr)>0&&Math.abs(qr)<Math.abs(Yr)){var Jr=mathSign(qr||Yr)*(Math.abs(Yr)-Math.abs(qr));Fr-=Jr,qr+=Jr}}else{var[uo,oo]=[sr.scale(Nr[0]),sr.scale(Nr[1])];if(Or=uo,Fr=getCateCoordinateOfBar({axis:ar,ticks:lr,bandSize:rr,offset:ir.offset,entry:Lr,index:Mr}),Gr=oo-uo,qr=ir.size,Hr={x:dr.left,y:Fr,width:dr.width,height:qr},Math.abs(Yr)>0&&Math.abs(Gr)<Math.abs(Yr)){var co=mathSign(Gr||Yr)*(Math.abs(Yr)-Math.abs(Gr));Gr+=co}}if(Or==null||Fr==null||Gr==null||qr==null)return null;var no=_objectSpread$8(_objectSpread$8({},Lr),{},{stackedBarStart:Tr,x:Or,y:Fr,width:Gr,height:qr,value:cr?Nr:Nr[1],payload:Lr,background:Hr,tooltipPosition:{x:Or+Gr/2,y:Fr+qr/2},parentViewBox:gr},fr&&fr[Mr]&&fr[Mr].props);return no}).filter(Boolean)}function BarFn(tr){var Hn=resolveDefaultProps(tr,defaultBarProps),er=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:Hn.id,type:"bar"},nr=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(Hn)}),reactExports.createElement(SetBarTooltipEntrySettings,{dataKey:Hn.dataKey,stroke:Hn.stroke,strokeWidth:Hn.strokeWidth,fill:Hn.fill,name:Hn.name,hide:Hn.hide,unit:Hn.unit,tooltipType:Hn.tooltipType}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:nr,data:void 0,xAxisId:Hn.xAxisId,yAxisId:Hn.yAxisId,zAxisId:0,dataKey:Hn.dataKey,stackId:getNormalizedStackId(Hn.stackId),hide:Hn.hide,barSize:Hn.barSize,minPointSize:Hn.minPointSize,maxBarSize:Hn.maxBarSize,isPanorama:er}),reactExports.createElement(ZIndexLayer,{zIndex:Hn.zIndex},reactExports.createElement(BarImpl,_extends$b({},Hn,{id:nr})))))}var Bar=reactExports.memo(BarFn,propsAreEqual);Bar.displayName="Bar";function ownKeys$7(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$7(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$7(Object(er),!0).forEach(function(nr){_defineProperty$7(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$7(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$7(tr,Hn,er){return(Hn=_toPropertyKey$7(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$7(tr){var Hn=_toPrimitive$7(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$7(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var pickXAxisId=(tr,Hn)=>Hn,pickYAxisId=(tr,Hn,er)=>er,pickIsPanorama=(tr,Hn,er,nr)=>nr,pickBarId=(tr,Hn,er,nr,ir)=>ir,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(tr,Hn)=>tr.filter(er=>er.type==="bar").find(er=>er.id===Hn)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],tr=>tr?.maxBarSize),pickCells$1=(tr,Hn,er,nr,ir,rr)=>rr,getBarSize=(tr,Hn,er)=>{var nr=er??tr;if(!isNullish(nr))return getPercentValue(nr,Hn,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(tr,Hn,er,nr,ir)=>Hn.filter(rr=>tr==="horizontal"?rr.xAxisId===er:rr.yAxisId===nr).filter(rr=>rr.isPanorama===ir).filter(rr=>rr.hide===!1).filter(rr=>rr.type==="bar")),selectBarStackGroups=(tr,Hn,er,nr)=>{var ir=selectChartLayout(tr);return ir==="horizontal"?selectStackGroups(tr,"yAxis",er,nr):selectStackGroups(tr,"xAxis",Hn,nr)},selectBarCartesianAxisSize=(tr,Hn,er)=>{var nr=selectChartLayout(tr);return nr==="horizontal"?selectCartesianAxisSize(tr,"xAxis",Hn):selectCartesianAxisSize(tr,"yAxis",er)},combineBarSizeList=(tr,Hn,er)=>{var nr={},ir=tr.filter(isStacked),rr=tr.filter(lr=>lr.stackId==null),sr=ir.reduce((lr,cr)=>(lr[cr.stackId]||(lr[cr.stackId]=[]),lr[cr.stackId].push(cr),lr),nr),ar=Object.entries(sr).map(lr=>{var[cr,ur]=lr,dr=ur.map(gr=>gr.dataKey),fr=getBarSize(Hn,er,ur[0].barSize);return{stackId:cr,dataKeys:dr,barSize:fr}}),or=rr.map(lr=>{var cr=[lr.dataKey].filter(dr=>dr!=null),ur=getBarSize(Hn,er,lr.barSize);return{stackId:void 0,dataKeys:cr,barSize:ur}});return[...ar,...or]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(tr,Hn,er,nr,ir)=>{var rr,sr,ar=selectSynchronisedBarSettings(tr,Hn,er,nr,ir);if(ar!=null){var or=selectChartLayout(tr),lr=selectRootMaxBarSize(tr),{maxBarSize:cr}=ar,ur=isNullish(cr)?lr:cr,dr,fr;return or==="horizontal"?(dr=selectAxisWithScale(tr,"xAxis",Hn,nr),fr=selectTicksOfGraphicalItem(tr,"xAxis",Hn,nr)):(dr=selectAxisWithScale(tr,"yAxis",er,nr),fr=selectTicksOfGraphicalItem(tr,"yAxis",er,nr)),(rr=(sr=getBandSizeOfAxis(dr,fr,!0))!==null&&sr!==void 0?sr:ur)!==null&&rr!==void 0?rr:0}},selectAxisBandSize=(tr,Hn,er,nr)=>{var ir=selectChartLayout(tr),rr,sr;return ir==="horizontal"?(rr=selectAxisWithScale(tr,"xAxis",Hn,nr),sr=selectTicksOfGraphicalItem(tr,"xAxis",Hn,nr)):(rr=selectAxisWithScale(tr,"yAxis",er,nr),sr=selectTicksOfGraphicalItem(tr,"yAxis",er,nr)),getBandSizeOfAxis(rr,sr)};function getBarPositions(tr,Hn,er,nr,ir){var rr=nr.length;if(!(rr<1)){var sr=getPercentValue(tr,er,0,!0),ar,or=[];if(isWellBehavedNumber(nr[0].barSize)){var lr=!1,cr=er/rr,ur=nr.reduce((jr,Sr)=>jr+(Sr.barSize||0),0);ur+=(rr-1)*sr,ur>=er&&(ur-=(rr-1)*sr,sr=0),ur>=er&&cr>0&&(lr=!0,cr*=.9,ur=rr*cr);var dr=(er-ur)/2>>0,fr={offset:dr-sr,size:0};ar=nr.reduce((jr,Sr)=>{var Tr,Lr={stackId:Sr.stackId,dataKeys:Sr.dataKeys,position:{offset:fr.offset+fr.size+sr,size:lr?cr:(Tr=Sr.barSize)!==null&&Tr!==void 0?Tr:0}},Mr=[...jr,Lr];return fr=Mr[Mr.length-1].position,Mr},or)}else{var gr=getPercentValue(Hn,er,0,!0);er-2*gr-(rr-1)*sr<=0&&(sr=0);var yr=(er-2*gr-(rr-1)*sr)/rr;yr>1&&(yr>>=0);var vr=isWellBehavedNumber(ir)?Math.min(yr,ir):yr;ar=nr.reduce((jr,Sr,Tr)=>[...jr,{stackId:Sr.stackId,dataKeys:Sr.dataKeys,position:{offset:gr+(yr+sr)*Tr+(yr-vr)/2,size:vr}}],or)}return ar}}var combineAllBarPositions=(tr,Hn,er,nr,ir,rr,sr)=>{var ar=isNullish(sr)?Hn:sr,or=getBarPositions(er,nr,ir!==rr?ir:rr,tr,ar);return ir!==rr&&or!=null&&(or=or.map(lr=>_objectSpread$7(_objectSpread$7({},lr),{},{position:_objectSpread$7(_objectSpread$7({},lr.position),{},{offset:lr.position.offset-ir/2})}))),or},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale$1=(tr,Hn,er,nr)=>selectAxisWithScale(tr,"xAxis",Hn,nr),selectYAxisWithScale$1=(tr,Hn,er,nr)=>selectAxisWithScale(tr,"yAxis",er,nr),selectXAxisTicks$1=(tr,Hn,er,nr)=>selectTicksOfGraphicalItem(tr,"xAxis",Hn,nr),selectYAxisTicks$1=(tr,Hn,er,nr)=>selectTicksOfGraphicalItem(tr,"yAxis",er,nr),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(tr,Hn)=>{if(!(tr==null||Hn==null)){var er=tr.find(nr=>nr.stackId===Hn.stackId&&Hn.dataKey!=null&&nr.dataKeys.includes(Hn.dataKey));if(er!=null)return er.position}}),combineStackedData=(tr,Hn)=>{var er=getStackSeriesIdentifier(Hn);if(!(!tr||er==null||Hn==null)){var{stackId:nr}=Hn;if(nr!=null){var ir=tr[nr];if(ir){var{stackedData:rr}=ir;if(rr)return rr.find(sr=>sr.key===er)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells$1],(tr,Hn,er,nr,ir,rr,sr,ar,or,lr,cr,ur,dr)=>{var{chartData:fr,dataStartIndex:gr,dataEndIndex:yr}=or;if(!(ur==null||sr==null||Hn==null||ar!=="horizontal"&&ar!=="vertical"||er==null||nr==null||ir==null||rr==null||lr==null)){var{data:vr}=ur,jr;if(vr!=null&&vr.length>0?jr=vr:jr=fr?.slice(gr,yr+1),jr!=null)return computeBarRectangles({layout:ar,barSettings:ur,pos:sr,parentViewBox:Hn,bandSize:lr,xAxis:er,yAxis:nr,xAxisTicks:ir,yAxisTicks:rr,stackedData:cr,displayedData:jr,offset:tr,cells:dr,dataStartIndex:gr})}}),ChartDataContextProvider=tr=>{var{chartData:Hn}=tr,er=useAppDispatch(),nr=useIsPanorama();return reactExports.useEffect(()=>nr?()=>{}:(er(setChartData(Hn)),()=>{er(setChartData(void 0))}),[Hn,er,nr]),null},initialState$2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$2,reducers:{setBrushSettings(tr,Hn){return Hn.payload==null?initialState$2:Hn.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function ownKeys$6(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$6(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$6(Object(er),!0).forEach(function(nr){_defineProperty$6(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$6(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$6(tr,Hn,er){return(Hn=_toPropertyKey$6(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$6(tr){var Hn=_toPrimitive$6(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$6(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var rectWithPoints=(tr,Hn)=>{var{x:er,y:nr}=tr,{x:ir,y:rr}=Hn;return{x:Math.min(er,ir),y:Math.min(nr,rr),width:Math.abs(ir-er),height:Math.abs(rr-nr)}},rectWithCoords=tr=>{var{x1:Hn,y1:er,x2:nr,y2:ir}=tr;return rectWithPoints({x:Hn,y:er},{x:nr,y:ir})};class ScaleHelper{static create(Hn){return new ScaleHelper(Hn)}constructor(Hn){this.scale=Hn}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(Hn){var{bandAware:er,position:nr}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Hn!==void 0){if(nr)switch(nr){case"start":return this.scale(Hn);case"middle":{var ir=this.bandwidth?this.bandwidth()/2:0;return this.scale(Hn)+ir}case"end":{var rr=this.bandwidth?this.bandwidth():0;return this.scale(Hn)+rr}default:return this.scale(Hn)}if(er){var sr=this.bandwidth?this.bandwidth()/2:0;return this.scale(Hn)+sr}return this.scale(Hn)}}isInRange(Hn){var er=this.range(),nr=er[0],ir=er[er.length-1];return nr<=ir?Hn>=nr&&Hn<=ir:Hn>=ir&&Hn<=nr}}_defineProperty$6(ScaleHelper,"EPS",1e-4);var createLabeledScales=tr=>{var Hn=Object.keys(tr).reduce((er,nr)=>_objectSpread$6(_objectSpread$6({},er),{},{[nr]:ScaleHelper.create(tr[nr])}),{});return _objectSpread$6(_objectSpread$6({},Hn),{},{apply(er){var{bandAware:nr,position:ir}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(er).map(rr=>{var[sr,ar]=rr;return[sr,Hn[sr].apply(ar,{bandAware:nr,position:ir})]}))},isInRange(er){return Object.keys(er).every(nr=>Hn[nr].isInRange(er[nr]))}})};function normalizeAngle(tr){return(tr%180+180)%180}var getAngledRectangleWidth=function tr(Hn){var{width:er,height:nr}=Hn,ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rr=normalizeAngle(ir),sr=rr*Math.PI/180,ar=Math.atan(nr/er),or=sr>ar&&sr<Math.PI-ar?nr/Math.sin(sr):er/Math.cos(sr);return Math.abs(or)},initialState$1={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$1,reducers:{addDot:(tr,Hn)=>{tr.dots.push(Hn.payload)},removeDot:(tr,Hn)=>{var er=current(tr).dots.findIndex(nr=>nr===Hn.payload);er!==-1&&tr.dots.splice(er,1)},addArea:(tr,Hn)=>{tr.areas.push(Hn.payload)},removeArea:(tr,Hn)=>{var er=current(tr).areas.findIndex(nr=>nr===Hn.payload);er!==-1&&tr.areas.splice(er,1)},addLine:(tr,Hn)=>{tr.lines.push(Hn.payload)},removeLine:(tr,Hn)=>{var er=current(tr).lines.findIndex(nr=>nr===Hn.payload);er!==-1&&tr.lines.splice(er,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=tr=>{var{children:Hn}=tr,[er]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),nr=usePlotArea();if(nr==null)return null;var{x:ir,y:rr,width:sr,height:ar}=nr;return reactExports.createElement(ClipPathIdContext.Provider,{value:er},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:er},reactExports.createElement("rect",{x:ir,y:rr,height:ar,width:sr}))),Hn)},useClipPathId=()=>reactExports.useContext(ClipPathIdContext);function ownKeys$5(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$5(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$5(Object(er),!0).forEach(function(nr){_defineProperty$5(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$5(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$5(tr,Hn,er){return(Hn=_toPropertyKey$5(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$5(tr){var Hn=_toPrimitive$5(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$5(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$a.apply(null,arguments)}var renderLine=(tr,Hn)=>{var er;if(reactExports.isValidElement(tr))er=reactExports.cloneElement(tr,Hn);else if(typeof tr=="function")er=tr(Hn);else{if(!isWellBehavedNumber(Hn.x1)||!isWellBehavedNumber(Hn.y1)||!isWellBehavedNumber(Hn.x2)||!isWellBehavedNumber(Hn.y2))return null;er=reactExports.createElement("line",_extends$a({},Hn,{className:"recharts-reference-line-line"}))}return er},getHorizontalLineEndPoints=(tr,Hn,er,nr,ir,rr)=>{var{x:sr,width:ar}=rr,or=ir.y.apply(tr,{position:er});if(isNan(or)||Hn==="discard"&&!ir.y.isInRange(or))return null;var lr=[{x:sr+ar,y:or},{x:sr,y:or}];return nr==="left"?lr.reverse():lr},getVerticalLineEndPoints=(tr,Hn,er,nr,ir,rr)=>{var{y:sr,height:ar}=rr,or=ir.x.apply(tr,{position:er});if(isNan(or)||Hn==="discard"&&!ir.x.isInRange(or))return null;var lr=[{x:or,y:sr+ar},{x:or,y:sr}];return nr==="top"?lr.reverse():lr},getSegmentLineEndPoints=(tr,Hn,er,nr)=>{var ir=tr.map(rr=>nr.apply(rr,{position:er}));return Hn==="discard"&&ir.some(rr=>!nr.isInRange(rr))?null:ir},getEndPoints=(tr,Hn,er,nr,ir,rr)=>{var{x:sr,y:ar,segment:or,ifOverflow:lr}=rr,cr=isNumOrStr(sr),ur=isNumOrStr(ar);return ur?getHorizontalLineEndPoints(ar,lr,er,ir,tr,Hn):cr?getVerticalLineEndPoints(sr,lr,er,nr,tr,Hn):or!=null&&or.length===2?getSegmentLineEndPoints(or,lr,er,tr):null};function ReportReferenceLine(tr){var Hn=useAppDispatch();return reactExports.useEffect(()=>(Hn(addLine(tr)),()=>{Hn(removeLine(tr))})),null}function ReferenceLineImpl(tr){var{xAxisId:Hn,yAxisId:er,shape:nr,className:ir,ifOverflow:rr}=tr,sr=useIsPanorama(),ar=useClipPathId(),or=useAppSelector(Nr=>selectXAxisSettings(Nr,Hn)),lr=useAppSelector(Nr=>selectYAxisSettings(Nr,er)),cr=useAppSelector(Nr=>selectAxisScale(Nr,"xAxis",Hn,sr)),ur=useAppSelector(Nr=>selectAxisScale(Nr,"yAxis",er,sr)),dr=useViewBox();if(!ar||!dr||or==null||lr==null||cr==null||ur==null)return null;var fr=createLabeledScales({x:cr,y:ur}),gr=getEndPoints(fr,dr,tr.position,or.orientation,lr.orientation,tr);if(!gr)return null;var[{x:yr,y:vr},{x:jr,y:Sr}]=gr,Tr=rr==="hidden"?"url(#".concat(ar,")"):void 0,Lr=_objectSpread$5(_objectSpread$5({clipPath:Tr},svgPropertiesAndEvents(tr)),{},{x1:yr,y1:vr,x2:jr,y2:Sr}),Mr=rectWithCoords({x1:yr,y1:vr,x2:jr,y2:Sr});return reactExports.createElement(ZIndexLayer,{zIndex:tr.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-reference-line",ir)},renderLine(nr,Lr),reactExports.createElement(CartesianLabelContextProvider,_extends$a({},Mr,{lowerWidth:Mr.width,upperWidth:Mr.width}),reactExports.createElement(CartesianLabelFromLabelProp,{label:tr.label}),tr.children)))}var referenceLineDefaultProps={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:DefaultZIndexes.line};function ReferenceLine(tr){var Hn=resolveDefaultProps(tr,referenceLineDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportReferenceLine,{yAxisId:Hn.yAxisId,xAxisId:Hn.xAxisId,ifOverflow:Hn.ifOverflow,x:Hn.x,y:Hn.y,segment:Hn.segment}),reactExports.createElement(ReferenceLineImpl,Hn))}ReferenceLine.displayName="ReferenceLine";function getEveryNthWithCondition(tr,Hn){if(Hn<1)return[];if(Hn===1)return tr;for(var er=[],nr=0;nr<tr.length;nr+=Hn)er.push(tr[nr]);return er}function getAngledTickWidth(tr,Hn,er){var nr={width:tr.width+Hn.width,height:tr.height+Hn.height};return getAngledRectangleWidth(nr,er)}function getTickBoundaries(tr,Hn,er){var nr=er==="width",{x:ir,y:rr,width:sr,height:ar}=tr;return Hn===1?{start:nr?ir:rr,end:nr?ir+sr:rr+ar}:{start:nr?ir+sr:rr+ar,end:nr?ir:rr}}function isVisible(tr,Hn,er,nr,ir){if(tr*Hn<tr*nr||tr*Hn>tr*ir)return!1;var rr=er();return tr*(Hn-tr*rr/2-nr)>=0&&tr*(Hn+tr*rr/2-ir)<=0}function getNumberIntervalTicks(tr,Hn){return getEveryNthWithCondition(tr,Hn+1)}function getEquidistantTicks(tr,Hn,er,nr,ir){for(var rr=(nr||[]).slice(),{start:sr,end:ar}=Hn,or=0,lr=1,cr=sr,ur=function(){var gr=nr?.[or];if(gr===void 0)return{v:getEveryNthWithCondition(nr,lr)};var yr=or,vr,jr=()=>(vr===void 0&&(vr=er(gr,yr)),vr),Sr=gr.coordinate,Tr=or===0||isVisible(tr,Sr,jr,cr,ar);Tr||(or=0,cr=sr,lr+=1),Tr&&(cr=Sr+tr*(jr()/2+ir),or+=lr)},dr;lr<=rr.length;)if(dr=ur(),dr)return dr.v;return[]}function ownKeys$4(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$4(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$4(Object(er),!0).forEach(function(nr){_defineProperty$4(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$4(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$4(tr,Hn,er){return(Hn=_toPropertyKey$4(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$4(tr){var Hn=_toPrimitive$4(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$4(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function getTicksEnd(tr,Hn,er,nr,ir){for(var rr=(nr||[]).slice(),sr=rr.length,{start:ar}=Hn,{end:or}=Hn,lr=function(dr){var fr=rr[dr],gr,yr=()=>(gr===void 0&&(gr=er(fr,dr)),gr);if(dr===sr-1){var vr=tr*(fr.coordinate+tr*yr()/2-or);rr[dr]=fr=_objectSpread$4(_objectSpread$4({},fr),{},{tickCoord:vr>0?fr.coordinate-vr*tr:fr.coordinate})}else rr[dr]=fr=_objectSpread$4(_objectSpread$4({},fr),{},{tickCoord:fr.coordinate});if(fr.tickCoord!=null){var jr=isVisible(tr,fr.tickCoord,yr,ar,or);jr&&(or=fr.tickCoord-tr*(yr()/2+ir),rr[dr]=_objectSpread$4(_objectSpread$4({},fr),{},{isShow:!0}))}},cr=sr-1;cr>=0;cr--)lr(cr);return rr}function getTicksStart(tr,Hn,er,nr,ir,rr){var sr=(nr||[]).slice(),ar=sr.length,{start:or,end:lr}=Hn;if(rr){var cr=nr[ar-1],ur=er(cr,ar-1),dr=tr*(cr.coordinate+tr*ur/2-lr);if(sr[ar-1]=cr=_objectSpread$4(_objectSpread$4({},cr),{},{tickCoord:dr>0?cr.coordinate-dr*tr:cr.coordinate}),cr.tickCoord!=null){var fr=isVisible(tr,cr.tickCoord,()=>ur,or,lr);fr&&(lr=cr.tickCoord-tr*(ur/2+ir),sr[ar-1]=_objectSpread$4(_objectSpread$4({},cr),{},{isShow:!0}))}}for(var gr=rr?ar-1:ar,yr=function(Sr){var Tr=sr[Sr],Lr,Mr=()=>(Lr===void 0&&(Lr=er(Tr,Sr)),Lr);if(Sr===0){var Nr=tr*(Tr.coordinate-tr*Mr()/2-or);sr[Sr]=Tr=_objectSpread$4(_objectSpread$4({},Tr),{},{tickCoord:Nr<0?Tr.coordinate-Nr*tr:Tr.coordinate})}else sr[Sr]=Tr=_objectSpread$4(_objectSpread$4({},Tr),{},{tickCoord:Tr.coordinate});if(Tr.tickCoord!=null){var Or=isVisible(tr,Tr.tickCoord,Mr,or,lr);Or&&(or=Tr.tickCoord+tr*(Mr()/2+ir),sr[Sr]=_objectSpread$4(_objectSpread$4({},Tr),{},{isShow:!0}))}},vr=0;vr<gr;vr++)yr(vr);return sr}function getTicks(tr,Hn,er){var{tick:nr,ticks:ir,viewBox:rr,minTickGap:sr,orientation:ar,interval:or,tickFormatter:lr,unit:cr,angle:ur}=tr;if(!ir||!ir.length||!nr)return[];if(isNumber(or)||Global.isSsr){var dr;return(dr=getNumberIntervalTicks(ir,isNumber(or)?or:0))!==null&&dr!==void 0?dr:[]}var fr=[],gr=ar==="top"||ar==="bottom"?"width":"height",yr=cr&&gr==="width"?getStringSize(cr,{fontSize:Hn,letterSpacing:er}):{width:0,height:0},vr=(Tr,Lr)=>{var Mr=typeof lr=="function"?lr(Tr.value,Lr):Tr.value;return gr==="width"?getAngledTickWidth(getStringSize(Mr,{fontSize:Hn,letterSpacing:er}),yr,ur):getStringSize(Mr,{fontSize:Hn,letterSpacing:er})[gr]},jr=ir.length>=2?mathSign(ir[1].coordinate-ir[0].coordinate):1,Sr=getTickBoundaries(rr,jr,gr);return or==="equidistantPreserveStart"?getEquidistantTicks(jr,Sr,vr,ir,sr):(or==="preserveStart"||or==="preserveStartEnd"?fr=getTicksStart(jr,Sr,vr,ir,sr,or==="preserveStartEnd"):fr=getTicksEnd(jr,Sr,vr,ir,sr),fr.filter(Tr=>Tr.isShow))}var getCalculatedYAxisWidth=tr=>{var{ticks:Hn,label:er,labelGapWithTick:nr=5,tickSize:ir=0,tickMargin:rr=0}=tr,sr=0;if(Hn){Array.from(Hn).forEach(cr=>{if(cr){var ur=cr.getBoundingClientRect();ur.width>sr&&(sr=ur.width)}});var ar=er?er.getBoundingClientRect().width:0,or=ir+rr,lr=sr+or+ar+(er?nr:0);return Math.round(lr)}return 0},_excluded$9=["axisLine","width","height","className","hide","ticks","axisType"];function _objectWithoutProperties$8(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$9(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$9(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$9.apply(null,arguments)}function ownKeys$3(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$3(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$3(Object(er),!0).forEach(function(nr){_defineProperty$3(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$3(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$3(tr,Hn,er){return(Hn=_toPropertyKey$3(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$3(tr){var Hn=_toPrimitive$3(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$3(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:DefaultZIndexes.axis};function AxisLine(tr){var{x:Hn,y:er,width:nr,height:ir,orientation:rr,mirror:sr,axisLine:ar,otherSvgProps:or}=tr;if(!ar)return null;var lr=_objectSpread$3(_objectSpread$3(_objectSpread$3({},or),svgPropertiesNoEvents(ar)),{},{fill:"none"});if(rr==="top"||rr==="bottom"){var cr=+(rr==="top"&&!sr||rr==="bottom"&&sr);lr=_objectSpread$3(_objectSpread$3({},lr),{},{x1:Hn,y1:er+cr*ir,x2:Hn+nr,y2:er+cr*ir})}else{var ur=+(rr==="left"&&!sr||rr==="right"&&sr);lr=_objectSpread$3(_objectSpread$3({},lr),{},{x1:Hn+ur*nr,y1:er,x2:Hn+ur*nr,y2:er+ir})}return reactExports.createElement("line",_extends$9({},lr,{className:clsx("recharts-cartesian-axis-line",get(ar,"className"))}))}function getTickLineCoord(tr,Hn,er,nr,ir,rr,sr,ar,or){var lr,cr,ur,dr,fr,gr,yr=ar?-1:1,vr=tr.tickSize||sr,jr=isNumber(tr.tickCoord)?tr.tickCoord:tr.coordinate;switch(rr){case"top":lr=cr=tr.coordinate,dr=er+ +!ar*ir,ur=dr-yr*vr,gr=ur-yr*or,fr=jr;break;case"left":ur=dr=tr.coordinate,cr=Hn+ +!ar*nr,lr=cr-yr*vr,fr=lr-yr*or,gr=jr;break;case"right":ur=dr=tr.coordinate,cr=Hn+ +ar*nr,lr=cr+yr*vr,fr=lr+yr*or,gr=jr;break;default:lr=cr=tr.coordinate,dr=er+ +ar*ir,ur=dr+yr*vr,gr=ur+yr*or,fr=jr;break}return{line:{x1:lr,y1:ur,x2:cr,y2:dr},tick:{x:fr,y:gr}}}function getTickTextAnchor(tr,Hn){switch(tr){case"left":return Hn?"start":"end";case"right":return Hn?"end":"start";default:return"middle"}}function getTickVerticalAnchor(tr,Hn){switch(tr){case"left":case"right":return"middle";case"top":return Hn?"start":"end";default:return Hn?"end":"start"}}function TickItem(tr){var{option:Hn,tickProps:er,value:nr}=tr,ir,rr=clsx(er.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(Hn))ir=reactExports.cloneElement(Hn,_objectSpread$3(_objectSpread$3({},er),{},{className:rr}));else if(typeof Hn=="function")ir=Hn(_objectSpread$3(_objectSpread$3({},er),{},{className:rr}));else{var sr="recharts-cartesian-axis-tick-value";typeof Hn!="boolean"&&(sr=clsx(sr,Hn?.className)),ir=reactExports.createElement(Text,_extends$9({},er,{className:sr}),nr)}return ir}var Ticks=reactExports.forwardRef((tr,Hn)=>{var{ticks:er=[],tick:nr,tickLine:ir,stroke:rr,tickFormatter:sr,unit:ar,padding:or,tickTextProps:lr,orientation:cr,mirror:ur,x:dr,y:fr,width:gr,height:yr,tickSize:vr,tickMargin:jr,fontSize:Sr,letterSpacing:Tr,getTicksConfig:Lr,events:Mr,axisType:Nr}=tr,Or=getTicks(_objectSpread$3(_objectSpread$3({},Lr),{},{ticks:er}),Sr,Tr),Fr=getTickTextAnchor(cr,ur),Gr=getTickVerticalAnchor(cr,ur),qr=svgPropertiesNoEvents(Lr),Hr=svgPropertiesNoEventsFromUnknown(nr),Yr={};typeof ir=="object"&&(Yr=ir);var ro=_objectSpread$3(_objectSpread$3({},qr),{},{fill:"none"},Yr),io=Or.map(Jr=>_objectSpread$3({entry:Jr},getTickLineCoord(Jr,dr,fr,gr,yr,cr,vr,ur,jr))),fo=io.map(Jr=>{var{entry:uo,line:oo}=Jr;return reactExports.createElement(Layer,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(uo.value,"-").concat(uo.coordinate,"-").concat(uo.tickCoord)},ir&&reactExports.createElement("line",_extends$9({},ro,oo,{className:clsx("recharts-cartesian-axis-tick-line",get(ir,"className"))})))}),ao=io.map((Jr,uo)=>{var{entry:oo,tick:co}=Jr,no=_objectSpread$3(_objectSpread$3(_objectSpread$3(_objectSpread$3({textAnchor:Fr,verticalAnchor:Gr},qr),{},{stroke:"none",fill:rr},Hr),co),{},{index:uo,payload:oo,visibleTicksCount:Or.length,tickFormatter:sr,padding:or},lr);return reactExports.createElement(Layer,_extends$9({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oo.value,"-").concat(oo.coordinate,"-").concat(oo.tickCoord)},adaptEventsOfChild(Mr,oo,uo)),nr&&reactExports.createElement(TickItem,{option:nr,tickProps:no,value:"".concat(typeof sr=="function"?sr(oo.value,uo):oo.value).concat(ar||"")}))});return reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Nr,"-ticks")},ao.length>0&&reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label},reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Nr,"-tick-labels"),ref:Hn},ao)),fo.length>0&&reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Nr,"-tick-lines")},fo))}),CartesianAxisComponent=reactExports.forwardRef((tr,Hn)=>{var{axisLine:er,width:nr,height:ir,className:rr,hide:sr,ticks:ar,axisType:or}=tr,lr=_objectWithoutProperties$8(tr,_excluded$9),[cr,ur]=reactExports.useState(""),[dr,fr]=reactExports.useState(""),gr=reactExports.useRef(null);reactExports.useImperativeHandle(Hn,()=>({getCalculatedWidth:()=>{var vr;return getCalculatedYAxisWidth({ticks:gr.current,label:(vr=tr.labelRef)===null||vr===void 0?void 0:vr.current,labelGapWithTick:5,tickSize:tr.tickSize,tickMargin:tr.tickMargin})}}));var yr=reactExports.useCallback(vr=>{if(vr){var jr=vr.getElementsByClassName("recharts-cartesian-axis-tick-value");gr.current=jr;var Sr=jr[0];if(Sr){var Tr=window.getComputedStyle(Sr),Lr=Tr.fontSize,Mr=Tr.letterSpacing;(Lr!==cr||Mr!==dr)&&(ur(Lr),fr(Mr))}}},[cr,dr]);return sr||nr!=null&&nr<=0||ir!=null&&ir<=0?null:reactExports.createElement(ZIndexLayer,{zIndex:tr.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",rr)},reactExports.createElement(AxisLine,{x:tr.x,y:tr.y,width:nr,height:ir,orientation:tr.orientation,mirror:tr.mirror,axisLine:er,otherSvgProps:svgPropertiesNoEvents(tr)}),reactExports.createElement(Ticks,{ref:yr,axisType:or,events:lr,fontSize:cr,getTicksConfig:tr,height:tr.height,letterSpacing:dr,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,stroke:tr.stroke,tick:tr.tick,tickFormatter:tr.tickFormatter,tickLine:tr.tickLine,tickMargin:tr.tickMargin,tickSize:tr.tickSize,tickTextProps:tr.tickTextProps,ticks:ar,unit:tr.unit,width:tr.width,x:tr.x,y:tr.y}),reactExports.createElement(CartesianLabelContextProvider,{x:tr.x,y:tr.y,width:tr.width,height:tr.height,lowerWidth:tr.width,upperWidth:tr.width},reactExports.createElement(CartesianLabelFromLabelProp,{label:tr.label,labelRef:tr.labelRef}),tr.children)))}),CartesianAxis=reactExports.forwardRef((tr,Hn)=>{var er=resolveDefaultProps(tr,defaultCartesianAxisProps);return reactExports.createElement(CartesianAxisComponent,_extends$9({},er,{ref:Hn}))});CartesianAxis.displayName="CartesianAxis";var _excluded$8=["x1","y1","x2","y2","key"],_excluded2$4=["offset"],_excluded3$1=["xAxisId","yAxisId"],_excluded4=["xAxisId","yAxisId"];function ownKeys$2(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$2(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$2(Object(er),!0).forEach(function(nr){_defineProperty$2(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$2(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$2(tr,Hn,er){return(Hn=_toPropertyKey$2(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$2(tr){var Hn=_toPrimitive$2(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$2(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$8.apply(null,arguments)}function _objectWithoutProperties$7(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$8(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$8(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var Background=tr=>{var{fill:Hn}=tr;if(!Hn||Hn==="none")return null;var{fillOpacity:er,x:nr,y:ir,width:rr,height:sr,ry:ar}=tr;return reactExports.createElement("rect",{x:nr,y:ir,ry:ar,width:rr,height:sr,stroke:"none",fill:Hn,fillOpacity:er,className:"recharts-cartesian-grid-bg"})};function LineItem(tr){var{option:Hn,lineItemProps:er}=tr,nr;if(reactExports.isValidElement(Hn))nr=reactExports.cloneElement(Hn,er);else if(typeof Hn=="function")nr=Hn(er);else{var ir,{x1:rr,y1:sr,x2:ar,y2:or,key:lr}=er,cr=_objectWithoutProperties$7(er,_excluded$8),ur=(ir=svgPropertiesNoEvents(cr))!==null&&ir!==void 0?ir:{},{offset:dr}=ur,fr=_objectWithoutProperties$7(ur,_excluded2$4);nr=reactExports.createElement("line",_extends$8({},fr,{x1:rr,y1:sr,x2:ar,y2:or,fill:"none",key:lr}))}return nr}function HorizontalGridLines(tr){var{x:Hn,width:er,horizontal:nr=!0,horizontalPoints:ir}=tr;if(!nr||!ir||!ir.length)return null;var{xAxisId:rr,yAxisId:sr}=tr,ar=_objectWithoutProperties$7(tr,_excluded3$1),or=ir.map((lr,cr)=>{var ur=_objectSpread$2(_objectSpread$2({},ar),{},{x1:Hn,y1:lr,x2:Hn+er,y2:lr,key:"line-".concat(cr),index:cr});return reactExports.createElement(LineItem,{key:"line-".concat(cr),option:nr,lineItemProps:ur})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},or)}function VerticalGridLines(tr){var{y:Hn,height:er,vertical:nr=!0,verticalPoints:ir}=tr;if(!nr||!ir||!ir.length)return null;var{xAxisId:rr,yAxisId:sr}=tr,ar=_objectWithoutProperties$7(tr,_excluded4),or=ir.map((lr,cr)=>{var ur=_objectSpread$2(_objectSpread$2({},ar),{},{x1:lr,y1:Hn,x2:lr,y2:Hn+er,key:"line-".concat(cr),index:cr});return reactExports.createElement(LineItem,{option:nr,lineItemProps:ur,key:"line-".concat(cr)})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},or)}function HorizontalStripes(tr){var{horizontalFill:Hn,fillOpacity:er,x:nr,y:ir,width:rr,height:sr,horizontalPoints:ar,horizontal:or=!0}=tr;if(!or||!Hn||!Hn.length||ar==null)return null;var lr=ar.map(ur=>Math.round(ur+ir-ir)).sort((ur,dr)=>ur-dr);ir!==lr[0]&&lr.unshift(0);var cr=lr.map((ur,dr)=>{var fr=!lr[dr+1],gr=fr?ir+sr-ur:lr[dr+1]-ur;if(gr<=0)return null;var yr=dr%Hn.length;return reactExports.createElement("rect",{key:"react-".concat(dr),y:ur,x:nr,height:gr,width:rr,stroke:"none",fill:Hn[yr],fillOpacity:er,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},cr)}function VerticalStripes(tr){var{vertical:Hn=!0,verticalFill:er,fillOpacity:nr,x:ir,y:rr,width:sr,height:ar,verticalPoints:or}=tr;if(!Hn||!er||!er.length)return null;var lr=or.map(ur=>Math.round(ur+ir-ir)).sort((ur,dr)=>ur-dr);ir!==lr[0]&&lr.unshift(0);var cr=lr.map((ur,dr)=>{var fr=!lr[dr+1],gr=fr?ir+sr-ur:lr[dr+1]-ur;if(gr<=0)return null;var yr=dr%er.length;return reactExports.createElement("rect",{key:"react-".concat(dr),x:ur,y:rr,width:gr,height:ar,stroke:"none",fill:er[yr],fillOpacity:nr,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},cr)}var defaultVerticalCoordinatesGenerator=(tr,Hn)=>{var{xAxis:er,width:nr,height:ir,offset:rr}=tr;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},defaultCartesianAxisProps),er),{},{ticks:getTicksOfAxis(er),viewBox:{x:0,y:0,width:nr,height:ir}})),rr.left,rr.left+rr.width,Hn)},defaultHorizontalCoordinatesGenerator=(tr,Hn)=>{var{yAxis:er,width:nr,height:ir,offset:rr}=tr;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},defaultCartesianAxisProps),er),{},{ticks:getTicksOfAxis(er),viewBox:{x:0,y:0,width:nr,height:ir}})),rr.top,rr.top+rr.height,Hn)},defaultCartesianGridProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:DefaultZIndexes.grid};function CartesianGrid(tr){var Hn=useChartWidth(),er=useChartHeight(),nr=useOffsetInternal(),ir=_objectSpread$2(_objectSpread$2({},resolveDefaultProps(tr,defaultCartesianGridProps)),{},{x:isNumber(tr.x)?tr.x:nr.left,y:isNumber(tr.y)?tr.y:nr.top,width:isNumber(tr.width)?tr.width:nr.width,height:isNumber(tr.height)?tr.height:nr.height}),{xAxisId:rr,yAxisId:sr,x:ar,y:or,width:lr,height:cr,syncWithTicks:ur,horizontalValues:dr,verticalValues:fr}=ir,gr=useIsPanorama(),yr=useAppSelector(Gr=>selectAxisPropsNeededForCartesianGridTicksGenerator(Gr,"xAxis",rr,gr)),vr=useAppSelector(Gr=>selectAxisPropsNeededForCartesianGridTicksGenerator(Gr,"yAxis",sr,gr));if(!isPositiveNumber(lr)||!isPositiveNumber(cr)||!isNumber(ar)||!isNumber(or))return null;var jr=ir.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Sr=ir.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:Tr,verticalPoints:Lr}=ir;if((!Tr||!Tr.length)&&typeof Sr=="function"){var Mr=dr&&dr.length,Nr=Sr({yAxis:vr?_objectSpread$2(_objectSpread$2({},vr),{},{ticks:Mr?dr:vr.ticks}):void 0,width:Hn??lr,height:er??cr,offset:nr},Mr?!0:ur);warn(Array.isArray(Nr),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Nr,"]")),Array.isArray(Nr)&&(Tr=Nr)}if((!Lr||!Lr.length)&&typeof jr=="function"){var Or=fr&&fr.length,Fr=jr({xAxis:yr?_objectSpread$2(_objectSpread$2({},yr),{},{ticks:Or?fr:yr.ticks}):void 0,width:Hn??lr,height:er??cr,offset:nr},Or?!0:ur);warn(Array.isArray(Fr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Fr,"]")),Array.isArray(Fr)&&(Lr=Fr)}return reactExports.createElement(ZIndexLayer,{zIndex:ir.zIndex},reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:ir.fill,fillOpacity:ir.fillOpacity,x:ir.x,y:ir.y,width:ir.width,height:ir.height,ry:ir.ry}),reactExports.createElement(HorizontalStripes,_extends$8({},ir,{horizontalPoints:Tr})),reactExports.createElement(VerticalStripes,_extends$8({},ir,{verticalPoints:Lr})),reactExports.createElement(HorizontalGridLines,_extends$8({},ir,{offset:nr,horizontalPoints:Tr,xAxis:yr,yAxis:vr})),reactExports.createElement(VerticalGridLines,_extends$8({},ir,{offset:nr,verticalPoints:Lr,xAxis:yr,yAxis:vr}))))}CartesianGrid.displayName="CartesianGrid";var _excluded$7=["option","isActive"];function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$7.apply(null,arguments)}function _objectWithoutProperties$6(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$7(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$7(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function ScatterSymbol(tr){var{option:Hn,isActive:er}=tr,nr=_objectWithoutProperties$6(tr,_excluded$7);return typeof Hn=="string"?reactExports.createElement(Shape,_extends$7({option:reactExports.createElement(Symbols,_extends$7({type:Hn},nr)),isActive:er,shapeType:"symbols"},nr)):reactExports.createElement(Shape,_extends$7({option:Hn,isActive:er,shapeType:"symbols"},nr))}var selectXAxisWithScale=(tr,Hn,er,nr,ir,rr,sr)=>selectAxisWithScale(tr,"xAxis",Hn,sr),selectXAxisTicks=(tr,Hn,er,nr,ir,rr,sr)=>selectTicksOfGraphicalItem(tr,"xAxis",Hn,sr),selectYAxisWithScale=(tr,Hn,er,nr,ir,rr,sr)=>selectAxisWithScale(tr,"yAxis",er,sr),selectYAxisTicks=(tr,Hn,er,nr,ir,rr,sr)=>selectTicksOfGraphicalItem(tr,"yAxis",er,sr),selectZAxis=(tr,Hn,er,nr)=>selectZAxisWithScale(tr,"zAxis",nr,!1),pickScatterId=(tr,Hn,er,nr,ir)=>ir,pickCells=(tr,Hn,er,nr,ir,rr)=>rr,scatterChartDataSelector=(tr,Hn,er,nr,ir,rr,sr)=>selectChartDataWithIndexesIfNotInPanorama(tr,Hn,er,sr),selectSynchronisedScatterSettings=createSelector([selectUnfilteredCartesianItems,pickScatterId],(tr,Hn)=>tr.filter(er=>er.type==="scatter").find(er=>er.id===Hn)),selectScatterPoints=createSelector([scatterChartDataSelector,selectXAxisWithScale,selectXAxisTicks,selectYAxisWithScale,selectYAxisTicks,selectZAxis,selectSynchronisedScatterSettings,pickCells],(tr,Hn,er,nr,ir,rr,sr,ar)=>{var{chartData:or,dataStartIndex:lr,dataEndIndex:cr}=tr;if(sr!=null){var ur;if(sr?.data!=null&&sr.data.length>0?ur=sr.data:ur=or?.slice(lr,cr+1),!(ur==null||Hn==null||nr==null||er==null||ir==null||er?.length===0||ir?.length===0))return computeScatterPoints({displayedData:ur,xAxis:Hn,yAxis:nr,zAxis:rr,scatterSettings:sr,xAxisTicks:er,yAxisTicks:ir,cells:ar})}}),_excluded$6=["onMouseEnter","onClick","onMouseLeave"],_excluded2$3=["id"],_excluded3=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function _objectWithoutProperties$5(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$6(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$6(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$6.apply(null,arguments)}function ownKeys$1(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread$1(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys$1(Object(er),!0).forEach(function(nr){_defineProperty$1(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys$1(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty$1(tr,Hn,er){return(Hn=_toPropertyKey$1(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey$1(tr){var Hn=_toPrimitive$1(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive$1(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}var computeLegendPayloadFromScatterProps=tr=>{var{dataKey:Hn,name:er,fill:nr,legendType:ir,hide:rr}=tr;return[{inactive:rr,dataKey:Hn,type:ir,color:nr,value:getTooltipNameProp(er,Hn),payload:tr}]},SetScatterTooltipEntrySettings=reactExports.memo(tr=>{var{dataKey:Hn,points:er,stroke:nr,strokeWidth:ir,fill:rr,name:sr,hide:ar,tooltipType:or}=tr,lr={dataDefinedOnItem:er?.map(cr=>cr.tooltipPayload),positions:er?.map(cr=>cr.tooltipPosition),settings:{stroke:nr,strokeWidth:ir,fill:rr,nameKey:void 0,dataKey:Hn,name:getTooltipNameProp(sr,Hn),hide:ar,type:or,color:rr,unit:""}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:lr})});function ScatterLine(tr){var{points:Hn,props:er}=tr,{line:nr,lineType:ir,lineJointType:rr}=er;if(!nr)return null;var sr=svgPropertiesNoEvents(er),ar=svgPropertiesNoEventsFromUnknown(nr),or,lr;if(ir==="joint")or=Hn.map(vr=>{var jr,Sr;return{x:(jr=vr.cx)!==null&&jr!==void 0?jr:null,y:(Sr=vr.cy)!==null&&Sr!==void 0?Sr:null}});else if(ir==="fitting"){var{xmin:cr,xmax:ur,a:dr,b:fr}=getLinearRegression(Hn),gr=vr=>dr*vr+fr;or=[{x:cr,y:gr(cr)},{x:ur,y:gr(ur)}]}var yr=_objectSpread$1(_objectSpread$1(_objectSpread$1({},sr),{},{fill:"none",stroke:sr&&sr.fill},ar),{},{points:or});return reactExports.isValidElement(nr)?lr=reactExports.cloneElement(nr,yr):typeof nr=="function"?lr=nr(yr):lr=reactExports.createElement(Curve,_extends$6({},yr,{type:rr})),reactExports.createElement(Layer,{className:"recharts-scatter-line",key:"recharts-scatter-line"},lr)}function ScatterLabelListProvider(tr){var{showLabels:Hn,points:er,children:nr}=tr,ir=useViewBox(),rr=reactExports.useMemo(()=>er?.map(sr=>{var ar,or,lr={x:(ar=sr.x)!==null&&ar!==void 0?ar:0,y:(or=sr.y)!==null&&or!==void 0?or:0,width:sr.width,height:sr.height,lowerWidth:sr.width,upperWidth:sr.width};return _objectSpread$1(_objectSpread$1({},lr),{},{value:void 0,payload:sr.payload,viewBox:lr,parentViewBox:ir,fill:void 0})}),[ir,er]);return reactExports.createElement(CartesianLabelListContextProvider,{value:Hn?rr:void 0},nr)}function ScatterSymbols(tr){var{points:Hn,allOtherScatterProps:er}=tr,{shape:nr,activeShape:ir,dataKey:rr}=er,sr=useAppSelector(selectActiveTooltipIndex),{onMouseEnter:ar,onClick:or,onMouseLeave:lr}=er,cr=_objectWithoutProperties$5(er,_excluded$6),ur=useMouseEnterItemDispatch(ar,er.dataKey),dr=useMouseLeaveItemDispatch(lr),fr=useMouseClickItemDispatch(or,er.dataKey);if(!isNonEmptyArray(Hn))return null;var{id:gr}=er,yr=_objectWithoutProperties$5(er,_excluded2$3),vr=svgPropertiesNoEvents(yr);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ScatterLine,{points:Hn,props:yr}),Hn.map((jr,Sr)=>{var Tr=ir!=null&&ir!==!1,Lr=Tr&&sr===String(Sr),Mr=Tr&&Lr?ir:nr,Nr=_objectSpread$1(_objectSpread$1(_objectSpread$1({},vr),jr),{},{[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:Sr,[DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:String(rr)});return reactExports.createElement(ZIndexLayer,{key:"symbol-".concat(jr?.cx,"-").concat(jr?.cy,"-").concat(jr?.size,"-").concat(Sr),zIndex:Lr?DefaultZIndexes.activeDot:void 0},reactExports.createElement(Layer,_extends$6({className:"recharts-scatter-symbol"},adaptEventsOfChild(cr,jr,Sr),{onMouseEnter:ur(jr,Sr),onMouseLeave:dr(jr,Sr),onClick:fr(jr,Sr)}),reactExports.createElement(ScatterSymbol,_extends$6({option:Mr,isActive:Lr},Nr))))}))}function SymbolsWithAnimation(tr){var{previousPointsRef:Hn,props:er}=tr,{points:nr,isAnimationActive:ir,animationBegin:rr,animationDuration:sr,animationEasing:ar}=er,or=Hn.current,lr=useAnimationId(er,"recharts-scatter-"),[cr,ur]=reactExports.useState(!1),dr=reactExports.useCallback(()=>{ur(!1)},[]),fr=reactExports.useCallback(()=>{ur(!0)},[]),gr=!cr;return reactExports.createElement(ScatterLabelListProvider,{showLabels:gr,points:nr},er.children,reactExports.createElement(JavascriptAnimate,{animationId:lr,begin:rr,duration:sr,isActive:ir,easing:ar,onAnimationEnd:dr,onAnimationStart:fr,key:lr},yr=>{var vr=yr===1?nr:nr?.map((jr,Sr)=>{var Tr=or&&or[Sr];return Tr?_objectSpread$1(_objectSpread$1({},jr),{},{cx:jr.cx==null?void 0:interpolate$1(Tr.cx,jr.cx,yr),cy:jr.cy==null?void 0:interpolate$1(Tr.cy,jr.cy,yr),size:interpolate$1(Tr.size,jr.size,yr)}):_objectSpread$1(_objectSpread$1({},jr),{},{size:interpolate$1(0,jr.size,yr)})});return yr>0&&(Hn.current=vr),reactExports.createElement(Layer,null,reactExports.createElement(ScatterSymbols,{points:vr,allOtherScatterProps:er,showLabels:gr}))}),reactExports.createElement(LabelListFromLabelProp,{label:er.label}))}function computeScatterPoints(tr){var{displayedData:Hn,xAxis:er,yAxis:nr,zAxis:ir,scatterSettings:rr,xAxisTicks:sr,yAxisTicks:ar,cells:or}=tr,lr=isNullish(er.dataKey)?rr.dataKey:er.dataKey,cr=isNullish(nr.dataKey)?rr.dataKey:nr.dataKey,ur=ir&&ir.dataKey,dr=ir?ir.range:implicitZAxis.range,fr=dr&&dr[0],gr=er.scale.bandwidth?er.scale.bandwidth():0,yr=nr.scale.bandwidth?nr.scale.bandwidth():0;return Hn.map((vr,jr)=>{var Sr=getValueByDataKey(vr,lr),Tr=getValueByDataKey(vr,cr),Lr=!isNullish(ur)&&getValueByDataKey(vr,ur)||"-",Mr=[{name:isNullish(er.dataKey)?rr.name:er.name||String(er.dataKey),unit:er.unit||"",value:Sr,payload:vr,dataKey:lr,type:rr.tooltipType},{name:isNullish(nr.dataKey)?rr.name:nr.name||String(nr.dataKey),unit:nr.unit||"",value:Tr,payload:vr,dataKey:cr,type:rr.tooltipType}];Lr!=="-"&&Mr.push({name:ir.name||ir.dataKey,unit:ir.unit||"",value:Lr,payload:vr,dataKey:ur,type:rr.tooltipType});var Nr=getCateCoordinateOfLine({axis:er,ticks:sr,bandSize:gr,entry:vr,index:jr,dataKey:lr}),Or=getCateCoordinateOfLine({axis:nr,ticks:ar,bandSize:yr,entry:vr,index:jr,dataKey:cr}),Fr=Lr!=="-"?ir.scale(Lr):fr,Gr=Math.sqrt(Math.max(Fr,0)/Math.PI);return _objectSpread$1(_objectSpread$1({},vr),{},{cx:Nr,cy:Or,x:Nr==null?void 0:Nr-Gr,y:Or==null?void 0:Or-Gr,width:2*Gr,height:2*Gr,size:Fr,node:{x:Sr,y:Tr,z:Lr},tooltipPayload:Mr,tooltipPosition:{x:Nr,y:Or},payload:vr},or&&or[jr]&&or[jr].props)})}var errorBarDataPointFormatter=(tr,Hn,er)=>({x:tr.cx,y:tr.cy,value:Number(er==="x"?tr.node.x:tr.node.y),errorVal:getValueByDataKey(tr,Hn)});function ScatterWithId(tr){var{hide:Hn,points:er,className:nr,needClip:ir,xAxisId:rr,yAxisId:sr,id:ar}=tr,or=reactExports.useRef(null);if(Hn)return null;var lr=clsx("recharts-scatter",nr),cr=ar;return reactExports.createElement(ZIndexLayer,{zIndex:tr.zIndex},reactExports.createElement(Layer,{className:lr,clipPath:ir?"url(#clipPath-".concat(cr,")"):void 0,id:ar},ir&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:cr,xAxisId:rr,yAxisId:sr})),reactExports.createElement(SetErrorBarContext,{xAxisId:rr,yAxisId:sr,data:er,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},reactExports.createElement(Layer,{key:"recharts-scatter-symbols"},reactExports.createElement(SymbolsWithAnimation,{props:tr,previousPointsRef:or})))))}var defaultScatterProps={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:DefaultZIndexes.scatter};function ScatterImpl(tr){var Hn=resolveDefaultProps(tr,defaultScatterProps),{animationBegin:er,animationDuration:nr,animationEasing:ir,hide:rr,isAnimationActive:sr,legendType:ar,lineJointType:or,lineType:lr,shape:cr,xAxisId:ur,yAxisId:dr,zAxisId:fr}=Hn,gr=_objectWithoutProperties$5(Hn,_excluded3),{needClip:yr}=useNeedsClip(ur,dr),vr=reactExports.useMemo(()=>findAllByType(tr.children,Cell),[tr.children]),jr=useIsPanorama(),Sr=useAppSelector(Tr=>selectScatterPoints(Tr,ur,dr,fr,tr.id,vr,jr));return yr==null||Sr==null?null:reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetScatterTooltipEntrySettings,{dataKey:tr.dataKey,points:Sr,stroke:tr.stroke,strokeWidth:tr.strokeWidth,fill:tr.fill,name:tr.name,hide:tr.hide,tooltipType:tr.tooltipType}),reactExports.createElement(ScatterWithId,_extends$6({},gr,{xAxisId:ur,yAxisId:dr,zAxisId:fr,lineType:lr,lineJointType:or,legendType:ar,shape:cr,hide:rr,isAnimationActive:sr,animationBegin:er,animationDuration:nr,animationEasing:ir,points:Sr,needClip:yr})))}function ScatterFn(tr){var Hn=resolveDefaultProps(tr,defaultScatterProps),er=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:Hn.id,type:"scatter"},nr=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromScatterProps(Hn)}),reactExports.createElement(SetCartesianGraphicalItem,{type:"scatter",id:nr,data:Hn.data,xAxisId:Hn.xAxisId,yAxisId:Hn.yAxisId,zAxisId:Hn.zAxisId,dataKey:Hn.dataKey,hide:Hn.hide,name:Hn.name,tooltipType:Hn.tooltipType,isPanorama:er}),reactExports.createElement(ScatterImpl,_extends$6({},Hn,{id:nr}))))}var Scatter=reactExports.memo(ScatterFn,propsAreEqual);Scatter.displayName="Scatter";var _excluded$5=["domain","range"],_excluded2$2=["domain","range"];function _objectWithoutProperties$4(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$5(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$5(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function shortArraysAreEqual(tr,Hn){return tr===Hn?!0:Array.isArray(tr)&&tr.length===2&&Array.isArray(Hn)&&Hn.length===2?tr[0]===Hn[0]&&tr[1]===Hn[1]:!1}function axisPropsAreEqual(tr,Hn){if(tr===Hn)return!0;var{domain:er,range:nr}=tr,ir=_objectWithoutProperties$4(tr,_excluded$5),{domain:rr,range:sr}=Hn,ar=_objectWithoutProperties$4(Hn,_excluded2$2);return!shortArraysAreEqual(er,rr)||!shortArraysAreEqual(nr,sr)?!1:propsAreEqual(ir,ar)}var _excluded$4=["dangerouslySetInnerHTML","ticks"],_excluded2$1=["id"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$5.apply(null,arguments)}function _objectWithoutProperties$3(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$4(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$4(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function SetXAxisSettings(tr){var Hn=useAppDispatch(),er=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{er.current===null?Hn(addXAxis(tr)):er.current!==tr&&Hn(replaceXAxis({prev:er.current,next:tr})),er.current=tr},[tr,Hn]),reactExports.useLayoutEffect(()=>()=>{er.current&&(Hn(removeXAxis(er.current)),er.current=null)},[Hn]),null}var XAxisImpl=tr=>{var{xAxisId:Hn,className:er}=tr,nr=useAppSelector(selectAxisViewBox),ir=useIsPanorama(),rr="xAxis",sr=useAppSelector(vr=>selectAxisScale(vr,rr,Hn,ir)),ar=useAppSelector(vr=>selectTicksOfAxis(vr,rr,Hn,ir)),or=useAppSelector(vr=>selectXAxisSize(vr,Hn)),lr=useAppSelector(vr=>selectXAxisPosition(vr,Hn)),cr=useAppSelector(vr=>selectXAxisSettingsNoDefaults(vr,Hn));if(or==null||lr==null||cr==null)return null;var{dangerouslySetInnerHTML:ur,ticks:dr}=tr,fr=_objectWithoutProperties$3(tr,_excluded$4),{id:gr}=cr,yr=_objectWithoutProperties$3(cr,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$5({},fr,yr,{scale:sr,x:lr.x,y:lr.y,width:or.width,height:or.height,className:clsx("recharts-".concat(rr," ").concat(rr),er),viewBox:nr,ticks:ar,axisType:rr}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,angle:implicitXAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,height:implicitXAxis.height,hide:!1,includeHidden:implicitXAxis.includeHidden,interval:implicitXAxis.interval,minTickGap:implicitXAxis.minTickGap,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tick:implicitXAxis.tick,tickCount:implicitXAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=tr=>{var Hn=resolveDefaultProps(tr,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,dataKey:Hn.dataKey,domain:Hn.domain,height:Hn.height,hide:Hn.hide,id:Hn.xAxisId,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,name:Hn.name,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickFormatter:Hn.tickFormatter,ticks:Hn.ticks,type:Hn.type,unit:Hn.unit}),reactExports.createElement(XAxisImpl,Hn))},XAxis=reactExports.memo(XAxisSettingsDispatcher,axisPropsAreEqual);XAxis.displayName="XAxis";var _excluded$3=["dangerouslySetInnerHTML","ticks"],_excluded2=["id"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$4.apply(null,arguments)}function _objectWithoutProperties$2(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$3(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$3(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function SetYAxisSettings(tr){var Hn=useAppDispatch(),er=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{er.current===null?Hn(addYAxis(tr)):er.current!==tr&&Hn(replaceYAxis({prev:er.current,next:tr})),er.current=tr},[tr,Hn]),reactExports.useLayoutEffect(()=>()=>{er.current&&(Hn(removeYAxis(er.current)),er.current=null)},[Hn]),null}var YAxisImpl=tr=>{var{yAxisId:Hn,className:er,width:nr,label:ir}=tr,rr=reactExports.useRef(null),sr=reactExports.useRef(null),ar=useAppSelector(selectAxisViewBox),or=useIsPanorama(),lr=useAppDispatch(),cr="yAxis",ur=useAppSelector(Mr=>selectAxisScale(Mr,cr,Hn,or)),dr=useAppSelector(Mr=>selectYAxisSize(Mr,Hn)),fr=useAppSelector(Mr=>selectYAxisPosition(Mr,Hn)),gr=useAppSelector(Mr=>selectTicksOfAxis(Mr,cr,Hn,or)),yr=useAppSelector(Mr=>selectYAxisSettingsNoDefaults(Mr,Hn));if(reactExports.useLayoutEffect(()=>{if(!(nr!=="auto"||!dr||isLabelContentAFunction(ir)||reactExports.isValidElement(ir)||yr==null)){var Mr=rr.current;if(Mr){var Nr=Mr.getCalculatedWidth();Math.round(dr.width)!==Math.round(Nr)&&lr(updateYAxisWidth({id:Hn,width:Nr}))}}},[gr,dr,lr,ir,Hn,nr,yr]),dr==null||fr==null||yr==null)return null;var{dangerouslySetInnerHTML:vr,ticks:jr}=tr,Sr=_objectWithoutProperties$2(tr,_excluded$3),{id:Tr}=yr,Lr=_objectWithoutProperties$2(yr,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},Sr,Lr,{ref:rr,labelRef:sr,scale:ur,x:fr.x,y:fr.y,tickTextProps:nr==="auto"?{width:void 0}:{width:nr},width:dr.width,height:dr.height,className:clsx("recharts-".concat(cr," ").concat(cr),er),viewBox:ar,ticks:gr,axisType:cr}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,angle:implicitYAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,hide:!1,includeHidden:implicitYAxis.includeHidden,interval:implicitYAxis.interval,minTickGap:implicitYAxis.minTickGap,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tick:implicitYAxis.tick,tickCount:implicitYAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=tr=>{var Hn=resolveDefaultProps(tr,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:Hn.interval,id:Hn.yAxisId,scale:Hn.scale,type:Hn.type,domain:Hn.domain,allowDataOverflow:Hn.allowDataOverflow,dataKey:Hn.dataKey,allowDuplicatedCategory:Hn.allowDuplicatedCategory,allowDecimals:Hn.allowDecimals,tickCount:Hn.tickCount,padding:Hn.padding,includeHidden:Hn.includeHidden,reversed:Hn.reversed,ticks:Hn.ticks,width:Hn.width,orientation:Hn.orientation,mirror:Hn.mirror,hide:Hn.hide,unit:Hn.unit,name:Hn.name,angle:Hn.angle,minTickGap:Hn.minTickGap,tick:Hn.tick,tickFormatter:Hn.tickFormatter}),reactExports.createElement(YAxisImpl,Hn))},YAxis=reactExports.memo(YAxisSettingsDispatcher,axisPropsAreEqual);YAxis.displayName="YAxis";var pickChartPointer=(tr,Hn)=>Hn,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=tr=>{var Hn=tr.currentTarget.getBoundingClientRect(),er=Hn.width/tr.currentTarget.offsetWidth,nr=Hn.height/tr.currentTarget.offsetHeight;return{chartX:Math.round((tr.clientX-Hn.left)/er),chartY:Math.round((tr.clientY-Hn.top)/nr)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(tr,Hn)=>{var er=tr.payload,nr=selectActivePropsFromChartPointer(Hn.getState(),getChartPointer(er));nr?.activeIndex!=null&&Hn.dispatch(setMouseClickAxisIndex({activeIndex:nr.activeIndex,activeDataKey:void 0,activeCoordinate:nr.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware(),rafId=null;mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(tr,Hn)=>{var er=tr.payload;rafId!==null&&cancelAnimationFrame(rafId);var nr=getChartPointer(er);rafId=requestAnimationFrame(()=>{var ir=Hn.getState(),rr=selectTooltipEventType$1(ir,ir.tooltip.settings.shared);if(rr==="axis"){var sr=selectActivePropsFromChartPointer(ir,nr);sr?.activeIndex!=null?Hn.dispatch(setMouseOverAxisIndex({activeIndex:sr.activeIndex,activeDataKey:void 0,activeCoordinate:sr.activeCoordinate})):Hn.dispatch(mouseLeaveChart())}rafId=null})}});var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(tr,Hn)=>{var er;tr.accessibilityLayer=Hn.payload.accessibilityLayer,tr.barCategoryGap=Hn.payload.barCategoryGap,tr.barGap=(er=Hn.payload.barGap)!==null&&er!==void 0?er:initialState.barGap,tr.barSize=Hn.payload.barSize,tr.maxBarSize=Hn.payload.maxBarSize,tr.stackOffset=Hn.payload.stackOffset,tr.syncId=Hn.payload.syncId,tr.syncMethod=Hn.payload.syncMethod,tr.className=Hn.payload.className,tr.baseValue=Hn.payload.baseValue,tr.reverseStackOrder=Hn.payload.reverseStackOrder}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(tr,Hn)=>Hn.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(tr,Hn)=>{var er=Hn.getState(),nr=er.rootProps.accessibilityLayer!==!1;if(nr){var{keyboardInteraction:ir}=er.tooltip,rr=tr.payload;if(!(rr!=="ArrowRight"&&rr!=="ArrowLeft"&&rr!=="Enter")){var sr=combineActiveTooltipIndex(ir,selectTooltipDisplayedData(er),selectTooltipAxisDataKey(er),selectTooltipAxisDomain(er)),ar=sr==null?-1:Number(sr);if(!(!Number.isFinite(ar)||ar<0)){var or=selectTooltipAxisTicks(er);if(rr==="Enter"){var lr=selectCoordinateForDefaultIndex(er,"axis","hover",String(ir.index));Hn.dispatch(setKeyboardInteraction({active:!ir.active,activeIndex:ir.index,activeDataKey:ir.dataKey,activeCoordinate:lr}));return}var cr=selectChartDirection(er),ur=cr==="left-to-right"?1:-1,dr=rr==="ArrowRight"?1:-1,fr=ar+dr*ur;if(!(or==null||fr>=or.length||fr<0)){var gr=selectCoordinateForDefaultIndex(er,"axis","hover",String(fr));Hn.dispatch(setKeyboardInteraction({active:!0,activeIndex:fr.toString(),activeDataKey:void 0,activeCoordinate:gr}))}}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(tr,Hn)=>{var er=Hn.getState(),nr=er.rootProps.accessibilityLayer!==!1;if(nr){var{keyboardInteraction:ir}=er.tooltip;if(!ir.active&&ir.index==null){var rr="0",sr=selectCoordinateForDefaultIndex(er,"axis","hover",String(rr));Hn.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:rr,activeCoordinate:sr}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware(),rafIdMap=new Map;externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(tr,Hn)=>{var{handler:er,reactEvent:nr}=tr.payload;if(er!=null){nr.persist();var ir=nr.type,rr=rafIdMap.get(ir);rr!==void 0&&cancelAnimationFrame(rr);var sr=requestAnimationFrame(()=>{try{var ar=Hn.getState(),or={activeCoordinate:selectActiveTooltipCoordinate(ar),activeDataKey:selectActiveTooltipDataKey(ar),activeIndex:selectActiveTooltipIndex(ar),activeLabel:selectActiveLabel$1(ar),activeTooltipIndex:selectActiveTooltipIndex(ar),isTooltipActive:selectIsTooltipActive$1(ar)};er(or,nr)}finally{rafIdMap.delete(ir)}});rafIdMap.set(ir,sr)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],tr=>tr.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(tr,Hn,er)=>Hn,(tr,Hn,er)=>er],(tr,Hn,er,nr)=>{var ir=tr.find(ar=>ar.settings.dataKey===nr);if(ir!=null){var{positions:rr}=ir;if(rr!=null){var sr=Hn(rr,er);return sr}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(tr,Hn)=>{var er=tr.payload;if(!(er.touches==null||er.touches.length===0)){var nr=Hn.getState(),ir=selectTooltipEventType$1(nr,nr.tooltip.settings.shared);if(ir==="axis"){var rr=selectActivePropsFromChartPointer(nr,getChartPointer({clientX:er.touches[0].clientX,clientY:er.touches[0].clientY,currentTarget:er.currentTarget}));rr?.activeIndex!=null&&Hn.dispatch(setMouseOverAxisIndex({activeIndex:rr.activeIndex,activeDataKey:void 0,activeCoordinate:rr.activeCoordinate}))}else if(ir==="item"){var sr,ar=er.touches[0];if(document.elementFromPoint==null)return;var or=document.elementFromPoint(ar.clientX,ar.clientY);if(!or||!or.getAttribute)return;var lr=or.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),cr=(sr=or.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&sr!==void 0?sr:void 0,ur=selectTooltipCoordinate(Hn.getState(),lr,cr);Hn.dispatch(setActiveMouseOverItemIndex({activeDataKey:cr,activeIndex:lr,activeCoordinate:ur}))}}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer,zIndex:zIndexReducer}),createRechartsStore=function tr(Hn){return configureStore({reducer:rootReducer,preloadedState:Hn,middleware:er=>{var nr;return er({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((nr="es6")!==null&&nr!==void 0?nr:"")}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware])},enhancers:er=>{var nr=er;return typeof er=="function"&&(nr=er()),nr.concat(autoBatchEnhancer({type:"raf"}))},devTools:Global.devToolsEnabled})};function RechartsStoreProvider(tr){var{preloadedState:Hn,children:er,reduxStoreName:nr}=tr,ir=useIsPanorama(),rr=reactExports.useRef(null);if(ir)return er;rr.current==null&&(rr.current=createRechartsStore(Hn));var sr=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:sr,store:rr.current},er)}function ReportMainChartPropsImpl(tr){var{layout:Hn,margin:er}=tr,nr=useAppDispatch(),ir=useIsPanorama();return reactExports.useEffect(()=>{ir||(nr(setLayout(Hn)),nr(setMargin(er)))},[nr,ir,Hn,er]),null}var ReportMainChartProps=reactExports.memo(ReportMainChartPropsImpl,propsAreEqual);function ReportChartProps(tr){var Hn=useAppDispatch();return reactExports.useEffect(()=>{Hn(updateOptions(tr))},[Hn,tr]),null}function ZIndexSvgPortal(tr){var{zIndex:Hn,isPanorama:er}=tr,nr=er?"recharts-zindex-panorama-":"recharts-zindex-",ir=useUniqueId("".concat(nr).concat(Hn)),rr=useAppDispatch();return reactExports.useLayoutEffect(()=>(rr(registerZIndexPortalId({zIndex:Hn,elementId:ir,isPanorama:er})),()=>{rr(unregisterZIndexPortalId({zIndex:Hn,isPanorama:er}))}),[rr,Hn,ir,er]),reactExports.createElement("g",{id:ir})}function AllZIndexPortals(tr){var{children:Hn,isPanorama:er}=tr,nr=useAppSelector(selectAllRegisteredZIndexes);if(!nr||nr.length===0)return Hn;var ir=nr.filter(sr=>sr<0),rr=nr.filter(sr=>sr>0);return reactExports.createElement(reactExports.Fragment,null,ir.map(sr=>reactExports.createElement(ZIndexSvgPortal,{key:sr,zIndex:sr,isPanorama:er})),Hn,rr.map(sr=>reactExports.createElement(ZIndexSvgPortal,{key:sr,zIndex:sr,isPanorama:er})))}var _excluded$2=["children"];function _objectWithoutProperties$1(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$2(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$2(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%",display:"block"},MainChartSurface=reactExports.forwardRef((tr,Hn)=>{var er=useChartWidth(),nr=useChartHeight(),ir=useAccessibilityLayer();if(!isPositiveNumber(er)||!isPositiveNumber(nr))return null;var{children:rr,otherAttributes:sr,title:ar,desc:or}=tr,lr,cr;return sr!=null&&(typeof sr.tabIndex=="number"?lr=sr.tabIndex:lr=ir?0:void 0,typeof sr.role=="string"?cr=sr.role:cr=ir?"application":void 0),reactExports.createElement(Surface,_extends$3({},sr,{title:ar,desc:or,role:cr,tabIndex:lr,width:er,height:nr,style:FULL_WIDTH_AND_HEIGHT,ref:Hn}),rr)}),BrushPanoramaSurface=tr=>{var{children:Hn}=tr,er=useAppSelector(selectBrushDimensions);if(!er)return null;var{width:nr,height:ir,y:rr,x:sr}=er;return reactExports.createElement(Surface,{width:nr,height:ir,x:sr,y:rr},Hn)},RootSurface=reactExports.forwardRef((tr,Hn)=>{var{children:er}=tr,nr=_objectWithoutProperties$1(tr,_excluded$2),ir=useIsPanorama();return ir?reactExports.createElement(BrushPanoramaSurface,null,reactExports.createElement(AllZIndexPortals,{isPanorama:!0},er)):reactExports.createElement(MainChartSurface,_extends$3({ref:Hn},nr),reactExports.createElement(AllZIndexPortals,{isPanorama:!1},er))});function useReportScale(){var tr=useAppDispatch(),[Hn,er]=reactExports.useState(null),nr=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(Hn!=null){var ir=Hn.getBoundingClientRect(),rr=ir.width/Hn.offsetWidth;isWellBehavedNumber(rr)&&rr!==nr&&tr(setScale(rr))}},[Hn,tr,nr]),er}function ownKeys(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),er.push.apply(er,nr)}return er}function _objectSpread(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?ownKeys(Object(er),!0).forEach(function(nr){_defineProperty(tr,nr,er[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):ownKeys(Object(er)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))})}return tr}function _defineProperty(tr,Hn,er){return(Hn=_toPropertyKey(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function _toPropertyKey(tr){var Hn=_toPrimitive(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function _toPrimitive(tr,Hn){if(typeof tr!="object"||!tr)return tr;var er=tr[Symbol.toPrimitive];if(er!==void 0){var nr=er.call(tr,Hn);if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(tr)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$2.apply(null,arguments)}var EventSynchronizer=()=>(useSynchronisedEventsFromOtherCharts(),null);function getNumberOrZero(tr){if(typeof tr=="number")return tr;if(typeof tr=="string"){var Hn=parseFloat(tr);if(!Number.isNaN(Hn))return Hn}return 0}var ResponsiveDiv=reactExports.forwardRef((tr,Hn)=>{var er,nr,ir=reactExports.useRef(null),[rr,sr]=reactExports.useState({containerWidth:getNumberOrZero((er=tr.style)===null||er===void 0?void 0:er.width),containerHeight:getNumberOrZero((nr=tr.style)===null||nr===void 0?void 0:nr.height)}),ar=reactExports.useCallback((lr,cr)=>{sr(ur=>{var dr=Math.round(lr),fr=Math.round(cr);return ur.containerWidth===dr&&ur.containerHeight===fr?ur:{containerWidth:dr,containerHeight:fr}})},[]),or=reactExports.useCallback(lr=>{if(typeof Hn=="function"&&Hn(lr),lr!=null&&typeof ResizeObserver<"u"){var{width:cr,height:ur}=lr.getBoundingClientRect();ar(cr,ur);var dr=gr=>{var{width:yr,height:vr}=gr[0].contentRect;ar(yr,vr)},fr=new ResizeObserver(dr);fr.observe(lr),ir.current=fr}},[Hn,ar]);return reactExports.useEffect(()=>()=>{var lr=ir.current;lr?.disconnect()},[ar]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:rr.containerWidth,height:rr.containerHeight}),reactExports.createElement("div",_extends$2({ref:or},tr)))}),ReadSizeOnceDiv=reactExports.forwardRef((tr,Hn)=>{var{width:er,height:nr}=tr,[ir,rr]=reactExports.useState({containerWidth:getNumberOrZero(er),containerHeight:getNumberOrZero(nr)}),sr=reactExports.useCallback((or,lr)=>{rr(cr=>{var ur=Math.round(or),dr=Math.round(lr);return cr.containerWidth===ur&&cr.containerHeight===dr?cr:{containerWidth:ur,containerHeight:dr}})},[]),ar=reactExports.useCallback(or=>{if(typeof Hn=="function"&&Hn(or),or!=null){var{width:lr,height:cr}=or.getBoundingClientRect();sr(lr,cr)}},[Hn,sr]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:ir.containerWidth,height:ir.containerHeight}),reactExports.createElement("div",_extends$2({ref:ar},tr)))}),StaticDiv=reactExports.forwardRef((tr,Hn)=>{var{width:er,height:nr}=tr;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:er,height:nr}),reactExports.createElement("div",_extends$2({ref:Hn},tr)))}),NonResponsiveDiv=reactExports.forwardRef((tr,Hn)=>{var{width:er,height:nr}=tr;return isPercent(er)||isPercent(nr)?reactExports.createElement(ReadSizeOnceDiv,_extends$2({},tr,{ref:Hn})):reactExports.createElement(StaticDiv,_extends$2({},tr,{ref:Hn}))});function getWrapperDivComponent(tr){return tr===!0?ResponsiveDiv:NonResponsiveDiv}var RechartsWrapper=reactExports.forwardRef((tr,Hn)=>{var{children:er,className:nr,height:ir,onClick:rr,onContextMenu:sr,onDoubleClick:ar,onMouseDown:or,onMouseEnter:lr,onMouseLeave:cr,onMouseMove:ur,onMouseUp:dr,onTouchEnd:fr,onTouchMove:gr,onTouchStart:yr,style:vr,width:jr,responsive:Sr,dispatchTouchEvents:Tr=!0}=tr,Lr=reactExports.useRef(null),Mr=useAppDispatch(),[Nr,Or]=reactExports.useState(null),[Fr,Gr]=reactExports.useState(null),qr=useReportScale(),Hr=useResponsiveContainerContext(),Yr=Hr?.width>0?Hr.width:jr,ro=Hr?.height>0?Hr.height:ir,io=reactExports.useCallback(Co=>{qr(Co),typeof Hn=="function"&&Hn(Co),Or(Co),Gr(Co),Co!=null&&(Lr.current=Co)},[qr,Hn,Or,Gr]),fo=reactExports.useCallback(Co=>{Mr(mouseClickAction(Co)),Mr(externalEventAction({handler:rr,reactEvent:Co}))},[Mr,rr]),ao=reactExports.useCallback(Co=>{Mr(mouseMoveAction(Co)),Mr(externalEventAction({handler:lr,reactEvent:Co}))},[Mr,lr]),Jr=reactExports.useCallback(Co=>{Mr(mouseLeaveChart()),Mr(externalEventAction({handler:cr,reactEvent:Co}))},[Mr,cr]),uo=reactExports.useCallback(Co=>{Mr(mouseMoveAction(Co)),Mr(externalEventAction({handler:ur,reactEvent:Co}))},[Mr,ur]),oo=reactExports.useCallback(()=>{Mr(focusAction())},[Mr]),co=reactExports.useCallback(Co=>{Mr(keyDownAction(Co.key))},[Mr]),no=reactExports.useCallback(Co=>{Mr(externalEventAction({handler:sr,reactEvent:Co}))},[Mr,sr]),mo=reactExports.useCallback(Co=>{Mr(externalEventAction({handler:ar,reactEvent:Co}))},[Mr,ar]),Eo=reactExports.useCallback(Co=>{Mr(externalEventAction({handler:or,reactEvent:Co}))},[Mr,or]),bo=reactExports.useCallback(Co=>{Mr(externalEventAction({handler:dr,reactEvent:Co}))},[Mr,dr]),Po=reactExports.useCallback(Co=>{Mr(externalEventAction({handler:yr,reactEvent:Co}))},[Mr,yr]),wo=reactExports.useCallback(Co=>{Tr&&Mr(touchEventAction(Co)),Mr(externalEventAction({handler:gr,reactEvent:Co}))},[Mr,Tr,gr]),To=reactExports.useCallback(Co=>{Mr(externalEventAction({handler:fr,reactEvent:Co}))},[Mr,fr]),Fo=getWrapperDivComponent(Sr);return reactExports.createElement(TooltipPortalContext.Provider,{value:Nr},reactExports.createElement(LegendPortalContext.Provider,{value:Fr},reactExports.createElement(Fo,{width:Yr??vr?.width,height:ro??vr?.height,className:clsx("recharts-wrapper",nr),style:_objectSpread({position:"relative",cursor:"default",width:Yr,height:ro},vr),onClick:fo,onContextMenu:no,onDoubleClick:mo,onFocus:oo,onKeyDown:co,onMouseDown:Eo,onMouseEnter:ao,onMouseLeave:Jr,onMouseMove:uo,onMouseUp:bo,onTouchEnd:To,onTouchMove:wo,onTouchStart:Po,ref:io},reactExports.createElement(EventSynchronizer,null),er)))}),_excluded$1=["width","height","responsive","children","className","style","compact","title","desc"];function _objectWithoutProperties(tr,Hn){if(tr==null)return{};var er,nr,ir=_objectWithoutPropertiesLoose$1(tr,Hn);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(tr);for(nr=0;nr<rr.length;nr++)er=rr[nr],Hn.indexOf(er)===-1&&{}.propertyIsEnumerable.call(tr,er)&&(ir[er]=tr[er])}return ir}function _objectWithoutPropertiesLoose$1(tr,Hn){if(tr==null)return{};var er={};for(var nr in tr)if({}.hasOwnProperty.call(tr,nr)){if(Hn.indexOf(nr)!==-1)continue;er[nr]=tr[nr]}return er}var CategoricalChart=reactExports.forwardRef((tr,Hn)=>{var{width:er,height:nr,responsive:ir,children:rr,className:sr,style:ar,compact:or,title:lr,desc:cr}=tr,ur=_objectWithoutProperties(tr,_excluded$1),dr=svgPropertiesNoEvents(ur);return or?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:er,height:nr}),reactExports.createElement(RootSurface,{otherAttributes:dr,title:lr,desc:cr},rr)):reactExports.createElement(RechartsWrapper,{className:sr,style:ar,width:er,height:nr,responsive:ir??!1,onClick:tr.onClick,onMouseLeave:tr.onMouseLeave,onMouseEnter:tr.onMouseEnter,onMouseMove:tr.onMouseMove,onMouseDown:tr.onMouseDown,onMouseUp:tr.onMouseUp,onContextMenu:tr.onContextMenu,onDoubleClick:tr.onDoubleClick,onTouchStart:tr.onTouchStart,onTouchMove:tr.onTouchMove,onTouchEnd:tr.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:dr,title:lr,desc:cr,ref:Hn},reactExports.createElement(ClipPathProvider,null,rr)))});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends$1.apply(null,arguments)}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",responsive:!1},CartesianChart=reactExports.forwardRef(function tr(Hn,er){var nr,ir=resolveDefaultProps(Hn.categoricalChartProps,defaultProps),{chartName:rr,defaultTooltipEventType:sr,validateTooltipEventTypes:ar,tooltipPayloadSearcher:or,categoricalChartProps:lr}=Hn,cr={chartName:rr,defaultTooltipEventType:sr,validateTooltipEventTypes:ar,tooltipPayloadSearcher:or,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:cr},reduxStoreName:(nr=lr.id)!==null&&nr!==void 0?nr:rr},reactExports.createElement(ChartDataContextProvider,{chartData:lr.data}),reactExports.createElement(ReportMainChartProps,{layout:ir.layout,margin:ir.margin}),reactExports.createElement(ReportChartProps,{baseValue:ir.baseValue,accessibilityLayer:ir.accessibilityLayer,barCategoryGap:ir.barCategoryGap,maxBarSize:ir.maxBarSize,stackOffset:ir.stackOffset,barGap:ir.barGap,barSize:ir.barSize,syncId:ir.syncId,syncMethod:ir.syncMethod,className:ir.className,reverseStackOrder:ir.reverseStackOrder}),reactExports.createElement(CategoricalChart,_extends$1({},ir,{ref:er})))}),allowedTooltipTypes$1=["axis","item"],BarChart=reactExports.forwardRef((tr,Hn)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:tr,ref:Hn})),allowedTooltipTypes=["axis"],ComposedChart=reactExports.forwardRef((tr,Hn)=>reactExports.createElement(CartesianChart,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:tr,ref:Hn}));function GrowBarChart({p1:tr,p2:Hn,p3:er,p4:nr,p5:ir,p6:rr}){const sr=useNavigate(),ar=[{name:"ancarat",value:tr,fill:tr>=0?"#00C26F":"#FF4D4D"},{name:"Kim Ngan Phuc",value:Hn,fill:Hn>=0?"#00C26F":"#FF4D4D"},{name:"Nguyn Liu",value:er,fill:er>=0?"#00C26F":"#FF4D4D"},{name:"Ph Qu",value:nr,fill:nr>=0?"#00C26F":"#FF4D4D"},{name:"Quc T",value:ir,fill:ir>=0?"#00C26F":"#FF4D4D"},{name:"Sacombank",value:rr,fill:ir>=0?"#00C26F":"#FF4D4D"}];return jsxRuntimeExports.jsxs("div",{className:"contain-bar-chart",children:[jsxRuntimeExports.jsx("a",{className:"title-bar-chart",onClick:()=>sr("/xauxagdetail"),children:" Ch s xau/xag ca cc Thng hiu vng "}),jsxRuntimeExports.jsx(ResponsiveContainer,{children:jsxRuntimeExports.jsxs(BarChart,{data:ar,margin:{top:20,right:20,left:0,bottom:20},children:[jsxRuntimeExports.jsx(CartesianGrid,{stroke:"#2A2A2A",strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",stroke:"#999",tick:{fill:"#999"}}),jsxRuntimeExports.jsx(YAxis,{stroke:"#999",tick:{fill:"#999"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#c2c0c0c1",border:"1px solid #979797ff"},labelStyle:{color:"#000000ff"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"value",radius:[4,4,0,0],background:!1,barSize:30,children:ar.map((or,lr)=>jsxRuntimeExports.jsx(Cell,{fill:or.fill},lr))})]})})]})}var extendStatics=function(tr,Hn){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(er,nr){er.__proto__=nr}||function(er,nr){for(var ir in nr)nr.hasOwnProperty(ir)&&(er[ir]=nr[ir])},extendStatics(tr,Hn)};function __extends(tr,Hn){extendStatics(tr,Hn);function er(){this.constructor=tr}tr.prototype=Hn===null?Object.create(Hn):(er.prototype=Hn.prototype,new er)}var VIEWBOX_WIDTH=100,VIEWBOX_HEIGHT=100,VIEWBOX_HEIGHT_HALF=50,VIEWBOX_CENTER_X=50,VIEWBOX_CENTER_Y=50;function Path(tr){var Hn=tr.className,er=tr.counterClockwise,nr=tr.dashRatio,ir=tr.pathRadius,rr=tr.strokeWidth,sr=tr.style;return reactExports.createElement("path",{className:Hn,style:Object.assign({},sr,getDashStyle({pathRadius:ir,dashRatio:nr,counterClockwise:er})),d:getPathDescription({pathRadius:ir,counterClockwise:er}),strokeWidth:rr,fillOpacity:0})}function getPathDescription(tr){var Hn=tr.pathRadius,er=tr.counterClockwise,nr=Hn,ir=er?1:0;return`
      M `+VIEWBOX_CENTER_X+","+VIEWBOX_CENTER_Y+`
      m 0,-`+nr+`
      a `+nr+","+nr+" "+ir+" 1 1 0,"+2*nr+`
      a `+nr+","+nr+" "+ir+" 1 1 0,-"+2*nr+`
    `}function getDashStyle(tr){var Hn=tr.counterClockwise,er=tr.dashRatio,nr=tr.pathRadius,ir=Math.PI*2*nr,rr=(1-er)*ir;return{strokeDasharray:ir+"px "+ir+"px",strokeDashoffset:(Hn?-rr:rr)+"px"}}var CircularProgressbar=(function(tr){__extends(Hn,tr);function Hn(){return tr!==null&&tr.apply(this,arguments)||this}return Hn.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},Hn.prototype.getPathRadius=function(){return VIEWBOX_HEIGHT_HALF-this.props.strokeWidth/2-this.getBackgroundPadding()},Hn.prototype.getPathRatio=function(){var er=this.props,nr=er.value,ir=er.minValue,rr=er.maxValue,sr=Math.min(Math.max(nr,ir),rr);return(sr-ir)/(rr-ir)},Hn.prototype.render=function(){var er=this.props,nr=er.circleRatio,ir=er.className,rr=er.classes,sr=er.counterClockwise,ar=er.styles,or=er.strokeWidth,lr=er.text,cr=this.getPathRadius(),ur=this.getPathRatio();return reactExports.createElement("svg",{className:rr.root+" "+ir,style:ar.root,viewBox:"0 0 "+VIEWBOX_WIDTH+" "+VIEWBOX_HEIGHT,"data-test-id":"CircularProgressbar"},this.props.background?reactExports.createElement("circle",{className:rr.background,style:ar.background,cx:VIEWBOX_CENTER_X,cy:VIEWBOX_CENTER_Y,r:VIEWBOX_HEIGHT_HALF}):null,reactExports.createElement(Path,{className:rr.trail,counterClockwise:sr,dashRatio:nr,pathRadius:cr,strokeWidth:or,style:ar.trail}),reactExports.createElement(Path,{className:rr.path,counterClockwise:sr,dashRatio:ur*nr,pathRadius:cr,strokeWidth:or,style:ar.path}),lr?reactExports.createElement("text",{className:rr.text,style:ar.text,x:VIEWBOX_CENTER_X,y:VIEWBOX_CENTER_Y},lr):null)},Hn.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},Hn})(reactExports.Component);function buildStyles(tr){var Hn=tr.rotation,er=tr.strokeLinecap,nr=tr.textColor,ir=tr.textSize,rr=tr.pathColor,sr=tr.pathTransition,ar=tr.pathTransitionDuration,or=tr.trailColor,lr=tr.backgroundColor,cr=Hn==null?void 0:"rotate("+Hn+"turn)",ur=Hn==null?void 0:"center center";return{root:{},path:removeUndefinedValues({stroke:rr,strokeLinecap:er,transform:cr,transformOrigin:ur,transition:sr,transitionDuration:ar==null?void 0:ar+"s"}),trail:removeUndefinedValues({stroke:or,strokeLinecap:er,transform:cr,transformOrigin:ur}),text:removeUndefinedValues({fill:nr,fontSize:ir}),background:removeUndefinedValues({fill:lr})}}function removeUndefinedValues(tr){return Object.keys(tr).forEach(function(Hn){tr[Hn]==null&&delete tr[Hn]}),tr}const getFearLevel=tr=>tr>95?{color:"#FF4136",label:"Cc k ri ro",textColor:"#FF4136"}:tr<80?{color:"#2ECC71",label:"An ton",textColor:"#2ECC71"}:{color:"#FACC15",label:"Trung bnh",textColor:"#FACC15"},formatDate$3=tr=>{if(!tr)return"";try{const Hn=new Date(tr);return`${Hn.getDate()}/${Hn.getMonth()+1}`}catch{return tr}},GaugeChart=({value:tr,size:Hn="large",label:er=null,showLabel:nr=!0})=>{const ir=tr??0;let rr="#FACC15",sr="Trung bnh";ir>95?(rr="#FF4136",sr="Cc k ri ro"):ir<80&&(rr="#2ECC71",sr="An ton");const ar=Hn==="large"?"gauge-large":"gauge-small";return jsxRuntimeExports.jsxs("div",{className:`gauge-container ${ar}`,children:[jsxRuntimeExports.jsx("div",{className:"gauge-chart",children:jsxRuntimeExports.jsx(CircularProgressbar,{value:ir,text:`${ir}`,styles:buildStyles({textSize:Hn==="large"?"28px":"20px",textColor:"#ffffff",pathColor:rr,trailColor:"rgba(255, 255, 255, 0.1)",pathTransitionDuration:.5})})}),nr&&jsxRuntimeExports.jsx("div",{className:"gauge-label",style:{color:rr},children:er||sr})]})};function TableData({dataAnalysis:tr}){const Hn=Object.entries(tr),er=6,nr=Hn.slice(0,er),ir=Hn.slice(er),rr=Math.max(nr.length,ir.length),sr=lr=>lr.includes("nhn t gi")&&lr.includes("lng")?" (triu/lng)":lr.includes("nhn t gi")&&lr.includes("kg")?" (triu/kg)":lr.includes("Chnh lch: bc")?" (Triu/Cn)":lr.includes("Chnh lch: vng")?" (Triu/Lng)":lr.includes("kitco USD")||lr.includes("Silver kitco usd")?" (USD/Ounce)":lr.includes("T gi USD")?" (VND/USD)":lr.includes("Vng nhn t gi")||lr.includes("Vng nguyn liu")||lr.includes("Bc nguyn liu")&&lr.includes("lng")?" (triu/lng)":lr.includes("Bc nguyn liu")&&lr.includes("kg")?" (triu/kg)":"",ar=lr=>Number(lr||0).toFixed(5),or=lr=>{if(!lr)return[jsxRuntimeExports.jsx("td",{},"name"),jsxRuntimeExports.jsx("td",{},"value")];const[cr,ur]=lr;return[jsxRuntimeExports.jsx("td",{children:cr},"name"),jsxRuntimeExports.jsxs("td",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#facc15"},children:ar(ur)}),sr(cr)]},"value")]};return jsxRuntimeExports.jsx("div",{className:"price-table-container",style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsxs("table",{className:"price-table",style:{width:"100%"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Tn"}),jsxRuntimeExports.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Gi tr"}),jsxRuntimeExports.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Tn"}),jsxRuntimeExports.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Gi tr"})]})}),jsxRuntimeExports.jsx("tbody",{children:Array.from({length:rr}).map((lr,cr)=>{const ur=nr[cr],dr=ir[cr];return jsxRuntimeExports.jsxs("tr",{children:[or(ur),or(dr)]},cr)})})]})})}var hammer={exports:{}};var hasRequiredHammer;function requireHammer(){return hasRequiredHammer||(hasRequiredHammer=1,(function(tr){(function(Hn,er,nr,ir){var rr=["","webkit","Moz","MS","ms","o"],sr=er.createElement("div"),ar="function",or=Math.round,lr=Math.abs,cr=Date.now;function ur(Ro,No,Bo){return setTimeout(Tr(Ro,Bo),No)}function dr(Ro,No,Bo){return Array.isArray(Ro)?(fr(Ro,Bo[No],Bo),!0):!1}function fr(Ro,No,Bo){var ul;if(Ro)if(Ro.forEach)Ro.forEach(No,Bo);else if(Ro.length!==ir)for(ul=0;ul<Ro.length;)No.call(Bo,Ro[ul],ul,Ro),ul++;else for(ul in Ro)Ro.hasOwnProperty(ul)&&No.call(Bo,Ro[ul],ul,Ro)}function gr(Ro,No,Bo){var ul="DEPRECATED METHOD: "+No+`
`+Bo+` AT 
`;return function(){var Al=new Error("get-stack-trace"),Vl=Al&&Al.stack?Al.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",wc=Hn.console&&(Hn.console.warn||Hn.console.log);return wc&&wc.call(Hn.console,ul,Vl),Ro.apply(this,arguments)}}var yr;typeof Object.assign!="function"?yr=function(No){if(No===ir||No===null)throw new TypeError("Cannot convert undefined or null to object");for(var Bo=Object(No),ul=1;ul<arguments.length;ul++){var Al=arguments[ul];if(Al!==ir&&Al!==null)for(var Vl in Al)Al.hasOwnProperty(Vl)&&(Bo[Vl]=Al[Vl])}return Bo}:yr=Object.assign;var vr=gr(function(No,Bo,ul){for(var Al=Object.keys(Bo),Vl=0;Vl<Al.length;)(!ul||ul&&No[Al[Vl]]===ir)&&(No[Al[Vl]]=Bo[Al[Vl]]),Vl++;return No},"extend","Use `assign`."),jr=gr(function(No,Bo){return vr(No,Bo,!0)},"merge","Use `assign`.");function Sr(Ro,No,Bo){var ul=No.prototype,Al;Al=Ro.prototype=Object.create(ul),Al.constructor=Ro,Al._super=ul,Bo&&yr(Al,Bo)}function Tr(Ro,No){return function(){return Ro.apply(No,arguments)}}function Lr(Ro,No){return typeof Ro==ar?Ro.apply(No&&No[0]||ir,No):Ro}function Mr(Ro,No){return Ro===ir?No:Ro}function Nr(Ro,No,Bo){fr(qr(No),function(ul){Ro.addEventListener(ul,Bo,!1)})}function Or(Ro,No,Bo){fr(qr(No),function(ul){Ro.removeEventListener(ul,Bo,!1)})}function Fr(Ro,No){for(;Ro;){if(Ro==No)return!0;Ro=Ro.parentNode}return!1}function Gr(Ro,No){return Ro.indexOf(No)>-1}function qr(Ro){return Ro.trim().split(/\s+/g)}function Hr(Ro,No,Bo){if(Ro.indexOf&&!Bo)return Ro.indexOf(No);for(var ul=0;ul<Ro.length;){if(Bo&&Ro[ul][Bo]==No||!Bo&&Ro[ul]===No)return ul;ul++}return-1}function Yr(Ro){return Array.prototype.slice.call(Ro,0)}function ro(Ro,No,Bo){for(var ul=[],Al=[],Vl=0;Vl<Ro.length;){var wc=Ro[Vl][No];Hr(Al,wc)<0&&ul.push(Ro[Vl]),Al[Vl]=wc,Vl++}return ul=ul.sort(function(mh,Zu){return mh[No]>Zu[No]}),ul}function io(Ro,No){for(var Bo,ul,Al=No[0].toUpperCase()+No.slice(1),Vl=0;Vl<rr.length;){if(Bo=rr[Vl],ul=Bo?Bo+Al:No,ul in Ro)return ul;Vl++}return ir}var fo=1;function ao(){return fo++}function Jr(Ro){var No=Ro.ownerDocument||Ro;return No.defaultView||No.parentWindow||Hn}var uo=/mobile|tablet|ip(ad|hone|od)|android/i,oo="ontouchstart"in Hn,co=io(Hn,"PointerEvent")!==ir,no=oo&&uo.test(navigator.userAgent),mo="touch",Eo="pen",bo="mouse",Po="kinect",wo=25,To=1,Fo=2,Co=4,Go=8,el=1,Lo=2,Uo=4,$o=8,il=16,pl=Lo|Uo,ml=$o|il,Wl=pl|ml,Xl=["x","y"],ac=["clientX","clientY"];function Tl(Ro,No){var Bo=this;this.manager=Ro,this.callback=No,this.element=Ro.element,this.target=Ro.options.inputTarget,this.domHandler=function(ul){Lr(Ro.options.enable,[Ro])&&Bo.handler(ul)},this.init()}Tl.prototype={handler:function(){},init:function(){this.evEl&&Nr(this.element,this.evEl,this.domHandler),this.evTarget&&Nr(this.target,this.evTarget,this.domHandler),this.evWin&&Nr(Jr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Or(this.element,this.evEl,this.domHandler),this.evTarget&&Or(this.target,this.evTarget,this.domHandler),this.evWin&&Or(Jr(this.element),this.evWin,this.domHandler)}};function Ol(Ro){var No,Bo=Ro.options.inputClass;return Bo?No=Bo:co?No=Cc:no?No=ol:oo?No=Dl:No=Nl,new No(Ro,dc)}function dc(Ro,No,Bo){var ul=Bo.pointers.length,Al=Bo.changedPointers.length,Vl=No&To&&ul-Al===0,wc=No&(Co|Go)&&ul-Al===0;Bo.isFirst=!!Vl,Bo.isFinal=!!wc,Vl&&(Ro.session={}),Bo.eventType=No,oc(Ro,Bo),Ro.emit("hammer.input",Bo),Ro.recognize(Bo),Ro.session.prevInput=Bo}function oc(Ro,No){var Bo=Ro.session,ul=No.pointers,Al=ul.length;Bo.firstInput||(Bo.firstInput=Yc(No)),Al>1&&!Bo.firstMultiple?Bo.firstMultiple=Yc(No):Al===1&&(Bo.firstMultiple=!1);var Vl=Bo.firstInput,wc=Bo.firstMultiple,Ku=wc?wc.center:Vl.center,mh=No.center=Rc(ul);No.timeStamp=cr(),No.deltaTime=No.timeStamp-Vl.timeStamp,No.angle=Fc(Ku,mh),No.distance=ec(Ku,mh),vc(Bo,No),No.offsetDirection=Kl(No.deltaX,No.deltaY);var Zu=El(No.deltaTime,No.deltaX,No.deltaY);No.overallVelocityX=Zu.x,No.overallVelocityY=Zu.y,No.overallVelocity=lr(Zu.x)>lr(Zu.y)?Zu.x:Zu.y,No.scale=wc?al(wc.pointers,ul):1,No.rotation=wc?Hl(wc.pointers,ul):0,No.maxPointers=Bo.prevInput?No.pointers.length>Bo.prevInput.maxPointers?No.pointers.length:Bo.prevInput.maxPointers:No.pointers.length,Ic(Bo,No);var Qu=Ro.element;Fr(No.srcEvent.target,Qu)&&(Qu=No.srcEvent.target),No.target=Qu}function vc(Ro,No){var Bo=No.center,ul=Ro.offsetDelta||{},Al=Ro.prevDelta||{},Vl=Ro.prevInput||{};(No.eventType===To||Vl.eventType===Co)&&(Al=Ro.prevDelta={x:Vl.deltaX||0,y:Vl.deltaY||0},ul=Ro.offsetDelta={x:Bo.x,y:Bo.y}),No.deltaX=Al.x+(Bo.x-ul.x),No.deltaY=Al.y+(Bo.y-ul.y)}function Ic(Ro,No){var Bo=Ro.lastInterval||No,ul=No.timeStamp-Bo.timeStamp,Al,Vl,wc,Ku;if(No.eventType!=Go&&(ul>wo||Bo.velocity===ir)){var mh=No.deltaX-Bo.deltaX,Zu=No.deltaY-Bo.deltaY,Qu=El(ul,mh,Zu);Vl=Qu.x,wc=Qu.y,Al=lr(Qu.x)>lr(Qu.y)?Qu.x:Qu.y,Ku=Kl(mh,Zu),Ro.lastInterval=No}else Al=Bo.velocity,Vl=Bo.velocityX,wc=Bo.velocityY,Ku=Bo.direction;No.velocity=Al,No.velocityX=Vl,No.velocityY=wc,No.direction=Ku}function Yc(Ro){for(var No=[],Bo=0;Bo<Ro.pointers.length;)No[Bo]={clientX:or(Ro.pointers[Bo].clientX),clientY:or(Ro.pointers[Bo].clientY)},Bo++;return{timeStamp:cr(),pointers:No,center:Rc(No),deltaX:Ro.deltaX,deltaY:Ro.deltaY}}function Rc(Ro){var No=Ro.length;if(No===1)return{x:or(Ro[0].clientX),y:or(Ro[0].clientY)};for(var Bo=0,ul=0,Al=0;Al<No;)Bo+=Ro[Al].clientX,ul+=Ro[Al].clientY,Al++;return{x:or(Bo/No),y:or(ul/No)}}function El(Ro,No,Bo){return{x:No/Ro||0,y:Bo/Ro||0}}function Kl(Ro,No){return Ro===No?el:lr(Ro)>=lr(No)?Ro<0?Lo:Uo:No<0?$o:il}function ec(Ro,No,Bo){Bo||(Bo=Xl);var ul=No[Bo[0]]-Ro[Bo[0]],Al=No[Bo[1]]-Ro[Bo[1]];return Math.sqrt(ul*ul+Al*Al)}function Fc(Ro,No,Bo){Bo||(Bo=Xl);var ul=No[Bo[0]]-Ro[Bo[0]],Al=No[Bo[1]]-Ro[Bo[1]];return Math.atan2(Al,ul)*180/Math.PI}function Hl(Ro,No){return Fc(No[1],No[0],ac)+Fc(Ro[1],Ro[0],ac)}function al(Ro,No){return ec(No[0],No[1],ac)/ec(Ro[0],Ro[1],ac)}var sl={mousedown:To,mousemove:Fo,mouseup:Co},fl="mousedown",$l="mousemove mouseup";function Nl(){this.evEl=fl,this.evWin=$l,this.pressed=!1,Tl.apply(this,arguments)}Sr(Nl,Tl,{handler:function(No){var Bo=sl[No.type];Bo&To&&No.button===0&&(this.pressed=!0),Bo&Fo&&No.which!==1&&(Bo=Co),this.pressed&&(Bo&Co&&(this.pressed=!1),this.callback(this.manager,Bo,{pointers:[No],changedPointers:[No],pointerType:bo,srcEvent:No}))}});var tc={pointerdown:To,pointermove:Fo,pointerup:Co,pointercancel:Go,pointerout:Go},uc={2:mo,3:Eo,4:bo,5:Po},Kc="pointerdown",bc="pointermove pointerup pointercancel";Hn.MSPointerEvent&&!Hn.PointerEvent&&(Kc="MSPointerDown",bc="MSPointerMove MSPointerUp MSPointerCancel");function Cc(){this.evEl=Kc,this.evWin=bc,Tl.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}Sr(Cc,Tl,{handler:function(No){var Bo=this.store,ul=!1,Al=No.type.toLowerCase().replace("ms",""),Vl=tc[Al],wc=uc[No.pointerType]||No.pointerType,Ku=wc==mo,mh=Hr(Bo,No.pointerId,"pointerId");Vl&To&&(No.button===0||Ku)?mh<0&&(Bo.push(No),mh=Bo.length-1):Vl&(Co|Go)&&(ul=!0),!(mh<0)&&(Bo[mh]=No,this.callback(this.manager,Vl,{pointers:Bo,changedPointers:[No],pointerType:wc,srcEvent:No}),ul&&Bo.splice(mh,1))}});var vu={touchstart:To,touchmove:Fo,touchend:Co,touchcancel:Go},Zc="touchstart",fc="touchstart touchmove touchend touchcancel";function Bc(){this.evTarget=Zc,this.evWin=fc,this.started=!1,Tl.apply(this,arguments)}Sr(Bc,Tl,{handler:function(No){var Bo=vu[No.type];if(Bo===To&&(this.started=!0),!!this.started){var ul=nc.call(this,No,Bo);Bo&(Co|Go)&&ul[0].length-ul[1].length===0&&(this.started=!1),this.callback(this.manager,Bo,{pointers:ul[0],changedPointers:ul[1],pointerType:mo,srcEvent:No})}}});function nc(Ro,No){var Bo=Yr(Ro.touches),ul=Yr(Ro.changedTouches);return No&(Co|Go)&&(Bo=ro(Bo.concat(ul),"identifier")),[Bo,ul]}var Ul={touchstart:To,touchmove:Fo,touchend:Co,touchcancel:Go},ah="touchstart touchmove touchend touchcancel";function ol(){this.evTarget=ah,this.targetIds={},Tl.apply(this,arguments)}Sr(ol,Tl,{handler:function(No){var Bo=Ul[No.type],ul=bl.call(this,No,Bo);ul&&this.callback(this.manager,Bo,{pointers:ul[0],changedPointers:ul[1],pointerType:mo,srcEvent:No})}});function bl(Ro,No){var Bo=Yr(Ro.touches),ul=this.targetIds;if(No&(To|Fo)&&Bo.length===1)return ul[Bo[0].identifier]=!0,[Bo,Bo];var Al,Vl,wc=Yr(Ro.changedTouches),Ku=[],mh=this.target;if(Vl=Bo.filter(function(Zu){return Fr(Zu.target,mh)}),No===To)for(Al=0;Al<Vl.length;)ul[Vl[Al].identifier]=!0,Al++;for(Al=0;Al<wc.length;)ul[wc[Al].identifier]&&Ku.push(wc[Al]),No&(Co|Go)&&delete ul[wc[Al].identifier],Al++;if(Ku.length)return[ro(Vl.concat(Ku),"identifier"),Ku]}var Bl=2500,Pl=25;function Dl(){Tl.apply(this,arguments);var Ro=Tr(this.handler,this);this.touch=new ol(this.manager,Ro),this.mouse=new Nl(this.manager,Ro),this.primaryTouch=null,this.lastTouches=[]}Sr(Dl,Tl,{handler:function(No,Bo,ul){var Al=ul.pointerType==mo,Vl=ul.pointerType==bo;if(!(Vl&&ul.sourceCapabilities&&ul.sourceCapabilities.firesTouchEvents)){if(Al)bu.call(this,Bo,ul);else if(Vl&&ku.call(this,ul))return;this.callback(No,Bo,ul)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function bu(Ro,No){Ro&To?(this.primaryTouch=No.changedPointers[0].identifier,oh.call(this,No)):Ro&(Co|Go)&&oh.call(this,No)}function oh(Ro){var No=Ro.changedPointers[0];if(No.identifier===this.primaryTouch){var Bo={x:No.clientX,y:No.clientY};this.lastTouches.push(Bo);var ul=this.lastTouches,Al=function(){var Vl=ul.indexOf(Bo);Vl>-1&&ul.splice(Vl,1)};setTimeout(Al,Bl)}}function ku(Ro){for(var No=Ro.srcEvent.clientX,Bo=Ro.srcEvent.clientY,ul=0;ul<this.lastTouches.length;ul++){var Al=this.lastTouches[ul],Vl=Math.abs(No-Al.x),wc=Math.abs(Bo-Al.y);if(Vl<=Pl&&wc<=Pl)return!0}return!1}var Mc=io(sr.style,"touchAction"),eu=Mc!==ir,Qc="compute",cc="auto",hu="manipulation",du="none",Gc="pan-x",Iu="pan-y",qh=zc();function Bh(Ro,No){this.manager=Ro,this.set(No)}Bh.prototype={set:function(Ro){Ro==Qc&&(Ro=this.compute()),eu&&this.manager.element.style&&qh[Ro]&&(this.manager.element.style[Mc]=Ro),this.actions=Ro.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Ro=[];return fr(this.manager.recognizers,function(No){Lr(No.options.enable,[No])&&(Ro=Ro.concat(No.getTouchAction()))}),zh(Ro.join(" "))},preventDefaults:function(Ro){var No=Ro.srcEvent,Bo=Ro.offsetDirection;if(this.manager.session.prevented){No.preventDefault();return}var ul=this.actions,Al=Gr(ul,du)&&!qh[du],Vl=Gr(ul,Iu)&&!qh[Iu],wc=Gr(ul,Gc)&&!qh[Gc];if(Al){var Ku=Ro.pointers.length===1,mh=Ro.distance<2,Zu=Ro.deltaTime<250;if(Ku&&mh&&Zu)return}if(!(wc&&Vl)&&(Al||Vl&&Bo&pl||wc&&Bo&ml))return this.preventSrc(No)},preventSrc:function(Ro){this.manager.session.prevented=!0,Ro.preventDefault()}};function zh(Ro){if(Gr(Ro,du))return du;var No=Gr(Ro,Gc),Bo=Gr(Ro,Iu);return No&&Bo?du:No||Bo?No?Gc:Iu:Gr(Ro,hu)?hu:cc}function zc(){if(!eu)return!1;var Ro={},No=Hn.CSS&&Hn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Bo){Ro[Bo]=No?Hn.CSS.supports("touch-action",Bo):!0}),Ro}var Hu=1,tu=2,Hh=4,cd=8,fh=cd,Nh=16,bh=32;function Ed(Ro){this.options=yr({},this.defaults,Ro||{}),this.id=ao(),this.manager=null,this.options.enable=Mr(this.options.enable,!0),this.state=Hu,this.simultaneous={},this.requireFail=[]}Ed.prototype={defaults:{},set:function(Ro){return yr(this.options,Ro),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Ro){if(dr(Ro,"recognizeWith",this))return this;var No=this.simultaneous;return Ro=Lc(Ro,this),No[Ro.id]||(No[Ro.id]=Ro,Ro.recognizeWith(this)),this},dropRecognizeWith:function(Ro){return dr(Ro,"dropRecognizeWith",this)?this:(Ro=Lc(Ro,this),delete this.simultaneous[Ro.id],this)},requireFailure:function(Ro){if(dr(Ro,"requireFailure",this))return this;var No=this.requireFail;return Ro=Lc(Ro,this),Hr(No,Ro)===-1&&(No.push(Ro),Ro.requireFailure(this)),this},dropRequireFailure:function(Ro){if(dr(Ro,"dropRequireFailure",this))return this;Ro=Lc(Ro,this);var No=Hr(this.requireFail,Ro);return No>-1&&this.requireFail.splice(No,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Ro){return!!this.simultaneous[Ro.id]},emit:function(Ro){var No=this,Bo=this.state;function ul(Al){No.manager.emit(Al,Ro)}Bo<cd&&ul(No.options.event+_u(Bo)),ul(No.options.event),Ro.additionalEvent&&ul(Ro.additionalEvent),Bo>=cd&&ul(No.options.event+_u(Bo))},tryEmit:function(Ro){if(this.canEmit())return this.emit(Ro);this.state=bh},canEmit:function(){for(var Ro=0;Ro<this.requireFail.length;){if(!(this.requireFail[Ro].state&(bh|Hu)))return!1;Ro++}return!0},recognize:function(Ro){var No=yr({},Ro);if(!Lr(this.options.enable,[this,No])){this.reset(),this.state=bh;return}this.state&(fh|Nh|bh)&&(this.state=Hu),this.state=this.process(No),this.state&(tu|Hh|cd|Nh)&&this.tryEmit(No)},process:function(Ro){},getTouchAction:function(){},reset:function(){}};function _u(Ro){return Ro&Nh?"cancel":Ro&cd?"end":Ro&Hh?"move":Ro&tu?"start":""}function Bf(Ro){return Ro==il?"down":Ro==$o?"up":Ro==Lo?"left":Ro==Uo?"right":""}function Lc(Ro,No){var Bo=No.manager;return Bo?Bo.get(Ro):Ro}function Vc(){Ed.apply(this,arguments)}Sr(Vc,Ed,{defaults:{pointers:1},attrTest:function(Ro){var No=this.options.pointers;return No===0||Ro.pointers.length===No},process:function(Ro){var No=this.state,Bo=Ro.eventType,ul=No&(tu|Hh),Al=this.attrTest(Ro);return ul&&(Bo&Go||!Al)?No|Nh:ul||Al?Bo&Co?No|cd:No&tu?No|Hh:tu:bh}});function Th(){Vc.apply(this,arguments),this.pX=null,this.pY=null}Sr(Th,Vc,{defaults:{event:"pan",threshold:10,pointers:1,direction:Wl},getTouchAction:function(){var Ro=this.options.direction,No=[];return Ro&pl&&No.push(Iu),Ro&ml&&No.push(Gc),No},directionTest:function(Ro){var No=this.options,Bo=!0,ul=Ro.distance,Al=Ro.direction,Vl=Ro.deltaX,wc=Ro.deltaY;return Al&No.direction||(No.direction&pl?(Al=Vl===0?el:Vl<0?Lo:Uo,Bo=Vl!=this.pX,ul=Math.abs(Ro.deltaX)):(Al=wc===0?el:wc<0?$o:il,Bo=wc!=this.pY,ul=Math.abs(Ro.deltaY))),Ro.direction=Al,Bo&&ul>No.threshold&&Al&No.direction},attrTest:function(Ro){return Vc.prototype.attrTest.call(this,Ro)&&(this.state&tu||!(this.state&tu)&&this.directionTest(Ro))},emit:function(Ro){this.pX=Ro.deltaX,this.pY=Ro.deltaY;var No=Bf(Ro.direction);No&&(Ro.additionalEvent=this.options.event+No),this._super.emit.call(this,Ro)}});function ph(){Vc.apply(this,arguments)}Sr(ph,Vc,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[du]},attrTest:function(Ro){return this._super.attrTest.call(this,Ro)&&(Math.abs(Ro.scale-1)>this.options.threshold||this.state&tu)},emit:function(Ro){if(Ro.scale!==1){var No=Ro.scale<1?"in":"out";Ro.additionalEvent=this.options.event+No}this._super.emit.call(this,Ro)}});function Sd(){Ed.apply(this,arguments),this._timer=null,this._input=null}Sr(Sd,Ed,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[cc]},process:function(Ro){var No=this.options,Bo=Ro.pointers.length===No.pointers,ul=Ro.distance<No.threshold,Al=Ro.deltaTime>No.time;if(this._input=Ro,!ul||!Bo||Ro.eventType&(Co|Go)&&!Al)this.reset();else if(Ro.eventType&To)this.reset(),this._timer=ur(function(){this.state=fh,this.tryEmit()},No.time,this);else if(Ro.eventType&Co)return fh;return bh},reset:function(){clearTimeout(this._timer)},emit:function(Ro){this.state===fh&&(Ro&&Ro.eventType&Co?this.manager.emit(this.options.event+"up",Ro):(this._input.timeStamp=cr(),this.manager.emit(this.options.event,this._input)))}});function fp(){Vc.apply(this,arguments)}Sr(fp,Vc,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[du]},attrTest:function(Ro){return this._super.attrTest.call(this,Ro)&&(Math.abs(Ro.rotation)>this.options.threshold||this.state&tu)}});function _c(){Vc.apply(this,arguments)}Sr(_c,Vc,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:pl|ml,pointers:1},getTouchAction:function(){return Th.prototype.getTouchAction.call(this)},attrTest:function(Ro){var No=this.options.direction,Bo;return No&(pl|ml)?Bo=Ro.overallVelocity:No&pl?Bo=Ro.overallVelocityX:No&ml&&(Bo=Ro.overallVelocityY),this._super.attrTest.call(this,Ro)&&No&Ro.offsetDirection&&Ro.distance>this.options.threshold&&Ro.maxPointers==this.options.pointers&&lr(Bo)>this.options.velocity&&Ro.eventType&Co},emit:function(Ro){var No=Bf(Ro.offsetDirection);No&&this.manager.emit(this.options.event+No,Ro),this.manager.emit(this.options.event,Ro)}});function wu(){Ed.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}Sr(wu,Ed,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[hu]},process:function(Ro){var No=this.options,Bo=Ro.pointers.length===No.pointers,ul=Ro.distance<No.threshold,Al=Ro.deltaTime<No.time;if(this.reset(),Ro.eventType&To&&this.count===0)return this.failTimeout();if(ul&&Al&&Bo){if(Ro.eventType!=Co)return this.failTimeout();var Vl=this.pTime?Ro.timeStamp-this.pTime<No.interval:!0,wc=!this.pCenter||ec(this.pCenter,Ro.center)<No.posThreshold;this.pTime=Ro.timeStamp,this.pCenter=Ro.center,!wc||!Vl?this.count=1:this.count+=1,this._input=Ro;var Ku=this.count%No.taps;if(Ku===0)return this.hasRequireFailures()?(this._timer=ur(function(){this.state=fh,this.tryEmit()},No.interval,this),tu):fh}return bh},failTimeout:function(){return this._timer=ur(function(){this.state=bh},this.options.interval,this),bh},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==fh&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Wh(Ro,No){return No=No||{},No.recognizers=Mr(No.recognizers,Wh.defaults.preset),new zf(Ro,No)}Wh.VERSION="2.0.7",Wh.defaults={domEvents:!1,touchAction:Qc,enable:!0,inputTarget:null,inputClass:null,preset:[[fp,{enable:!1}],[ph,{enable:!1},["rotate"]],[_c,{direction:pl}],[Th,{direction:pl},["swipe"]],[wu],[wu,{event:"doubletap",taps:2},["tap"]],[Sd]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var um=1,Eu=2;function zf(Ro,No){this.options=yr({},Wh.defaults,No||{}),this.options.inputTarget=this.options.inputTarget||Ro,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Ro,this.input=Ol(this),this.touchAction=new Bh(this,this.options.touchAction),Jd(this,!0),fr(this.options.recognizers,function(Bo){var ul=this.add(new Bo[0](Bo[1]));Bo[2]&&ul.recognizeWith(Bo[2]),Bo[3]&&ul.requireFailure(Bo[3])},this)}zf.prototype={set:function(Ro){return yr(this.options,Ro),Ro.touchAction&&this.touchAction.update(),Ro.inputTarget&&(this.input.destroy(),this.input.target=Ro.inputTarget,this.input.init()),this},stop:function(Ro){this.session.stopped=Ro?Eu:um},recognize:function(Ro){var No=this.session;if(!No.stopped){this.touchAction.preventDefaults(Ro);var Bo,ul=this.recognizers,Al=No.curRecognizer;(!Al||Al&&Al.state&fh)&&(Al=No.curRecognizer=null);for(var Vl=0;Vl<ul.length;)Bo=ul[Vl],No.stopped!==Eu&&(!Al||Bo==Al||Bo.canRecognizeWith(Al))?Bo.recognize(Ro):Bo.reset(),!Al&&Bo.state&(tu|Hh|cd)&&(Al=No.curRecognizer=Bo),Vl++}},get:function(Ro){if(Ro instanceof Ed)return Ro;for(var No=this.recognizers,Bo=0;Bo<No.length;Bo++)if(No[Bo].options.event==Ro)return No[Bo];return null},add:function(Ro){if(dr(Ro,"add",this))return this;var No=this.get(Ro.options.event);return No&&this.remove(No),this.recognizers.push(Ro),Ro.manager=this,this.touchAction.update(),Ro},remove:function(Ro){if(dr(Ro,"remove",this))return this;if(Ro=this.get(Ro),Ro){var No=this.recognizers,Bo=Hr(No,Ro);Bo!==-1&&(No.splice(Bo,1),this.touchAction.update())}return this},on:function(Ro,No){if(Ro!==ir&&No!==ir){var Bo=this.handlers;return fr(qr(Ro),function(ul){Bo[ul]=Bo[ul]||[],Bo[ul].push(No)}),this}},off:function(Ro,No){if(Ro!==ir){var Bo=this.handlers;return fr(qr(Ro),function(ul){No?Bo[ul]&&Bo[ul].splice(Hr(Bo[ul],No),1):delete Bo[ul]}),this}},emit:function(Ro,No){this.options.domEvents&&ud(Ro,No);var Bo=this.handlers[Ro]&&this.handlers[Ro].slice();if(!(!Bo||!Bo.length)){No.type=Ro,No.preventDefault=function(){No.srcEvent.preventDefault()};for(var ul=0;ul<Bo.length;)Bo[ul](No),ul++}},destroy:function(){this.element&&Jd(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Jd(Ro,No){var Bo=Ro.element;if(Bo.style){var ul;fr(Ro.options.cssProps,function(Al,Vl){ul=io(Bo.style,Vl),No?(Ro.oldCssProps[ul]=Bo.style[ul],Bo.style[ul]=Al):Bo.style[ul]=Ro.oldCssProps[ul]||""}),No||(Ro.oldCssProps={})}}function ud(Ro,No){var Bo=er.createEvent("Event");Bo.initEvent(Ro,!0,!0),Bo.gesture=No,No.target.dispatchEvent(Bo)}yr(Wh,{INPUT_START:To,INPUT_MOVE:Fo,INPUT_END:Co,INPUT_CANCEL:Go,STATE_POSSIBLE:Hu,STATE_BEGAN:tu,STATE_CHANGED:Hh,STATE_ENDED:cd,STATE_RECOGNIZED:fh,STATE_CANCELLED:Nh,STATE_FAILED:bh,DIRECTION_NONE:el,DIRECTION_LEFT:Lo,DIRECTION_RIGHT:Uo,DIRECTION_UP:$o,DIRECTION_DOWN:il,DIRECTION_HORIZONTAL:pl,DIRECTION_VERTICAL:ml,DIRECTION_ALL:Wl,Manager:zf,Input:Tl,TouchAction:Bh,TouchInput:ol,MouseInput:Nl,PointerEventInput:Cc,TouchMouseInput:Dl,SingleTouchInput:Bc,Recognizer:Ed,AttrRecognizer:Vc,Tap:wu,Pan:Th,Swipe:_c,Pinch:ph,Rotate:fp,Press:Sd,on:Nr,off:Or,each:fr,merge:jr,extend:vr,assign:yr,inherit:Sr,bindFn:Tr,prefixed:io});var Au=typeof Hn<"u"?Hn:typeof self<"u"?self:{};Au.Hammer=Wh,tr.exports?tr.exports=Wh:Hn[nr]=Wh})(window,document,"Hammer")})(hammer)),hammer.exports}var hammerExports=requireHammer();const Hammer=getDefaultExportFromCjs(hammerExports);const getModifierKey=tr=>tr&&tr.enabled&&tr.modifierKey,keyPressed=(tr,Hn)=>tr&&Hn[tr+"Key"],keyNotPressed=(tr,Hn)=>tr&&!Hn[tr+"Key"];function directionEnabled(tr,Hn,er){return tr===void 0?!0:typeof tr=="string"?tr.indexOf(Hn)!==-1:typeof tr=="function"?tr({chart:er}).indexOf(Hn)!==-1:!1}function directionsEnabled(tr,Hn){return typeof tr=="function"&&(tr=tr({chart:Hn})),typeof tr=="string"?{x:tr.indexOf("x")!==-1,y:tr.indexOf("y")!==-1}:{x:!1,y:!1}}function debounce(tr,Hn){let er;return function(){return clearTimeout(er),er=setTimeout(tr,Hn),Hn}}function getScaleUnderPoint({x:tr,y:Hn},er){const nr=er.scales,ir=Object.keys(nr);for(let rr=0;rr<ir.length;rr++){const sr=nr[ir[rr]];if(Hn>=sr.top&&Hn<=sr.bottom&&tr>=sr.left&&tr<=sr.right)return sr}return null}function getEnabledScalesByPoint(tr,Hn,er){const{mode:nr="xy",scaleMode:ir,overScaleMode:rr}=tr||{},sr=getScaleUnderPoint(Hn,er),ar=directionsEnabled(nr,er),or=directionsEnabled(ir,er);if(rr){const cr=directionsEnabled(rr,er);for(const ur of["x","y"])cr[ur]&&(or[ur]=ar[ur],ar[ur]=!1)}if(sr&&or[sr.axis])return[sr];const lr=[];return each$1(er.scales,function(cr){ar[cr.axis]&&lr.push(cr)}),lr}const chartStates$1=new WeakMap;function getState(tr){let Hn=chartStates$1.get(tr);return Hn||(Hn={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},chartStates$1.set(tr,Hn)),Hn}function removeState(tr){chartStates$1.delete(tr)}function zoomDelta(tr,Hn,er,nr){const ir=Math.max(0,Math.min(1,(tr-Hn)/er||0)),rr=1-ir;return{min:nr*ir,max:nr*rr}}function getValueAtPoint(tr,Hn){const er=tr.isHorizontal()?Hn.x:Hn.y;return tr.getValueForPixel(er)}function linearZoomDelta(tr,Hn,er){const nr=tr.max-tr.min,ir=nr*(Hn-1),rr=getValueAtPoint(tr,er);return zoomDelta(rr,tr.min,nr,ir)}function logarithmicZoomRange(tr,Hn,er){const nr=getValueAtPoint(tr,er);if(nr===void 0)return{min:tr.min,max:tr.max};const ir=Math.log10(tr.min),rr=Math.log10(tr.max),sr=Math.log10(nr),ar=rr-ir,or=ar*(Hn-1),lr=zoomDelta(sr,ir,ar,or);return{min:Math.pow(10,ir+lr.min),max:Math.pow(10,rr-lr.max)}}function getScaleLimits$1(tr,Hn){return Hn&&(Hn[tr.id]||Hn[tr.axis])||{}}function getLimit(tr,Hn,er,nr,ir){let rr=er[nr];if(rr==="original"){const sr=tr.originalScaleLimits[Hn.id][nr];rr=valueOrDefault(sr.options,sr.scale)}return valueOrDefault(rr,ir)}function linearRange(tr,Hn,er){const nr=tr.getValueForPixel(Hn),ir=tr.getValueForPixel(er);return{min:Math.min(nr,ir),max:Math.max(nr,ir)}}function fixRange(tr,{min:Hn,max:er,minLimit:nr,maxLimit:ir},rr){const sr=(tr-er+Hn)/2;Hn-=sr,er+=sr;const ar=rr.min.options??rr.min.scale,or=rr.max.options??rr.max.scale,lr=tr/1e6;return almostEquals(Hn,ar,lr)&&(Hn=ar),almostEquals(er,or,lr)&&(er=or),Hn<nr?(Hn=nr,er=Math.min(nr+tr,ir)):er>ir&&(er=ir,Hn=Math.max(ir-tr,nr)),{min:Hn,max:er}}function updateRange(tr,{min:Hn,max:er},nr,ir=!1){const rr=getState(tr.chart),{options:sr}=tr,ar=getScaleLimits$1(tr,nr),{minRange:or=0}=ar,lr=getLimit(rr,tr,ar,"min",-1/0),cr=getLimit(rr,tr,ar,"max",1/0);if(ir==="pan"&&(Hn<lr||er>cr))return!0;const ur=tr.max-tr.min,dr=ir?Math.max(er-Hn,or):ur;if(ir&&dr===or&&ur<=or)return!0;const fr=fixRange(dr,{min:Hn,max:er,minLimit:lr,maxLimit:cr},rr.originalScaleLimits[tr.id]);return sr.min=fr.min,sr.max=fr.max,rr.updatedScaleLimits[tr.id]=fr,tr.parse(fr.min)!==tr.min||tr.parse(fr.max)!==tr.max}function zoomNumericalScale(tr,Hn,er,nr){const ir=linearZoomDelta(tr,Hn,er),rr={min:tr.min+ir.min,max:tr.max-ir.max};return updateRange(tr,rr,nr,!0)}function zoomLogarithmicScale(tr,Hn,er,nr){const ir=logarithmicZoomRange(tr,Hn,er);return updateRange(tr,ir,nr,!0)}function zoomRectNumericalScale(tr,Hn,er,nr){updateRange(tr,linearRange(tr,Hn,er),nr,!0)}const integerChange=tr=>tr===0||isNaN(tr)?0:tr<0?Math.min(Math.round(tr),-1):Math.max(Math.round(tr),1);function existCategoryFromMaxZoom(tr){const er=tr.getLabels().length-1;tr.min>0&&(tr.min-=1),tr.max<er&&(tr.max+=1)}function zoomCategoryScale(tr,Hn,er,nr){const ir=linearZoomDelta(tr,Hn,er);tr.min===tr.max&&Hn<1&&existCategoryFromMaxZoom(tr);const rr={min:tr.min+integerChange(ir.min),max:tr.max-integerChange(ir.max)};return updateRange(tr,rr,nr,!0)}function scaleLength(tr){return tr.isHorizontal()?tr.width:tr.height}function panCategoryScale(tr,Hn,er){const ir=tr.getLabels().length-1;let{min:rr,max:sr}=tr;const ar=Math.max(sr-rr,1),or=Math.round(scaleLength(tr)/Math.max(ar,10)),lr=Math.round(Math.abs(Hn/or));let cr;return Hn<-or?(sr=Math.min(sr+lr,ir),rr=ar===1?sr:sr-ar,cr=sr===ir):Hn>or&&(rr=Math.max(0,rr-lr),sr=ar===1?rr:rr+ar,cr=rr===0),updateRange(tr,{min:rr,max:sr},er)||cr}const OFFSETS={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function panNumericalScale(tr,Hn,er,nr=!1){const{min:ir,max:rr,options:sr}=tr,ar=sr.time&&sr.time.round,or=OFFSETS[ar]||0,lr=tr.getValueForPixel(tr.getPixelForValue(ir+or)-Hn),cr=tr.getValueForPixel(tr.getPixelForValue(rr+or)-Hn);return isNaN(lr)||isNaN(cr)?!0:updateRange(tr,{min:lr,max:cr},er,nr?"pan":!1)}function panNonLinearScale(tr,Hn,er){return panNumericalScale(tr,Hn,er,!0)}const zoomFunctions={category:zoomCategoryScale,default:zoomNumericalScale,logarithmic:zoomLogarithmicScale},zoomRectFunctions={default:zoomRectNumericalScale},panFunctions={category:panCategoryScale,default:panNumericalScale,logarithmic:panNonLinearScale,timeseries:panNonLinearScale};function shouldUpdateScaleLimits(tr,Hn,er){const{id:nr,options:{min:ir,max:rr}}=tr;if(!Hn[nr]||!er[nr])return!0;const sr=er[nr];return sr.min!==ir||sr.max!==rr}function removeMissingScales(tr,Hn){each$1(tr,(er,nr)=>{Hn[nr]||delete tr[nr]})}function storeOriginalScaleLimits(tr,Hn){const{scales:er}=tr,{originalScaleLimits:nr,updatedScaleLimits:ir}=Hn;return each$1(er,function(rr){shouldUpdateScaleLimits(rr,nr,ir)&&(nr[rr.id]={min:{scale:rr.min,options:rr.options.min},max:{scale:rr.max,options:rr.options.max}})}),removeMissingScales(nr,er),removeMissingScales(ir,er),nr}function doZoom(tr,Hn,er,nr){const ir=zoomFunctions[tr.type]||zoomFunctions.default;callback(ir,[tr,Hn,er,nr])}function doZoomRect(tr,Hn,er,nr){const ir=zoomRectFunctions[tr.type]||zoomRectFunctions.default;callback(ir,[tr,Hn,er,nr])}function getCenter(tr){const Hn=tr.chartArea;return{x:(Hn.left+Hn.right)/2,y:(Hn.top+Hn.bottom)/2}}function zoom(tr,Hn,er="none",nr="api"){const{x:ir=1,y:rr=1,focalPoint:sr=getCenter(tr)}=typeof Hn=="number"?{x:Hn,y:Hn}:Hn,ar=getState(tr),{options:{limits:or,zoom:lr}}=ar;storeOriginalScaleLimits(tr,ar);const cr=ir!==1,ur=rr!==1,dr=getEnabledScalesByPoint(lr,sr,tr);each$1(dr||tr.scales,function(fr){fr.isHorizontal()&&cr?doZoom(fr,ir,sr,or):!fr.isHorizontal()&&ur&&doZoom(fr,rr,sr,or)}),tr.update(er),callback(lr.onZoom,[{chart:tr,trigger:nr}])}function zoomRect(tr,Hn,er,nr="none",ir="api"){const rr=getState(tr),{options:{limits:sr,zoom:ar}}=rr,{mode:or="xy"}=ar;storeOriginalScaleLimits(tr,rr);const lr=directionEnabled(or,"x",tr),cr=directionEnabled(or,"y",tr);each$1(tr.scales,function(ur){ur.isHorizontal()&&lr?doZoomRect(ur,Hn.x,er.x,sr):!ur.isHorizontal()&&cr&&doZoomRect(ur,Hn.y,er.y,sr)}),tr.update(nr),callback(ar.onZoom,[{chart:tr,trigger:ir}])}function zoomScale(tr,Hn,er,nr="none",ir="api"){const rr=getState(tr);storeOriginalScaleLimits(tr,rr);const sr=tr.scales[Hn];updateRange(sr,er,void 0,!0),tr.update(nr),callback(rr.options.zoom?.onZoom,[{chart:tr,trigger:ir}])}function resetZoom(tr,Hn="default"){const er=getState(tr),nr=storeOriginalScaleLimits(tr,er);each$1(tr.scales,function(ir){const rr=ir.options;nr[ir.id]?(rr.min=nr[ir.id].min.options,rr.max=nr[ir.id].max.options):(delete rr.min,delete rr.max),delete er.updatedScaleLimits[ir.id]}),tr.update(Hn),callback(er.options.zoom.onZoomComplete,[{chart:tr}])}function getOriginalRange(tr,Hn){const er=tr.originalScaleLimits[Hn];if(!er)return;const{min:nr,max:ir}=er;return valueOrDefault(ir.options,ir.scale)-valueOrDefault(nr.options,nr.scale)}function getZoomLevel(tr){const Hn=getState(tr);let er=1,nr=1;return each$1(tr.scales,function(ir){const rr=getOriginalRange(Hn,ir.id);if(rr){const sr=Math.round(rr/(ir.max-ir.min)*100)/100;er=Math.min(er,sr),nr=Math.max(nr,sr)}}),er<1?er:nr}function panScale(tr,Hn,er,nr){const{panDelta:ir}=nr,rr=ir[tr.id]||0;sign$1(rr)===sign$1(Hn)&&(Hn+=rr);const sr=panFunctions[tr.type]||panFunctions.default;callback(sr,[tr,Hn,er])?ir[tr.id]=0:ir[tr.id]=Hn}function pan(tr,Hn,er,nr="none"){const{x:ir=0,y:rr=0}=typeof Hn=="number"?{x:Hn,y:Hn}:Hn,sr=getState(tr),{options:{pan:ar,limits:or}}=sr,{onPan:lr}=ar||{};storeOriginalScaleLimits(tr,sr);const cr=ir!==0,ur=rr!==0;each$1(er||tr.scales,function(dr){dr.isHorizontal()&&cr?panScale(dr,ir,or,sr):!dr.isHorizontal()&&ur&&panScale(dr,rr,or,sr)}),tr.update(nr),callback(lr,[{chart:tr}])}function getInitialScaleBounds(tr){const Hn=getState(tr);storeOriginalScaleLimits(tr,Hn);const er={};for(const nr of Object.keys(tr.scales)){const{min:ir,max:rr}=Hn.originalScaleLimits[nr]||{min:{},max:{}};er[nr]={min:ir.scale,max:rr.scale}}return er}function getZoomedScaleBounds(tr){const Hn=getState(tr),er={};for(const nr of Object.keys(tr.scales))er[nr]=Hn.updatedScaleLimits[nr];return er}function isZoomedOrPanned(tr){const Hn=getInitialScaleBounds(tr);for(const er of Object.keys(tr.scales)){const{min:nr,max:ir}=Hn[er];if(nr!==void 0&&tr.scales[er].min!==nr||ir!==void 0&&tr.scales[er].max!==ir)return!0}return!1}function isZoomingOrPanning(tr){const Hn=getState(tr);return Hn.panning||Hn.dragging}const clamp$2=(tr,Hn,er)=>Math.min(er,Math.max(Hn,tr));function removeHandler(tr,Hn){const{handlers:er}=getState(tr),nr=er[Hn];nr&&nr.target&&(nr.target.removeEventListener(Hn,nr),delete er[Hn])}function addHandler(tr,Hn,er,nr){const{handlers:ir,options:rr}=getState(tr),sr=ir[er];if(sr&&sr.target===Hn)return;removeHandler(tr,er),ir[er]=or=>nr(tr,or,rr),ir[er].target=Hn;const ar=er==="wheel"?!1:void 0;Hn.addEventListener(er,ir[er],{passive:ar})}function mouseMove(tr,Hn){const er=getState(tr);er.dragStart&&(er.dragging=!0,er.dragEnd=Hn,tr.update("none"))}function keyDown(tr,Hn){const er=getState(tr);!er.dragStart||Hn.key!=="Escape"||(removeHandler(tr,"keydown"),er.dragging=!1,er.dragStart=er.dragEnd=null,tr.update("none"))}function getPointPosition(tr,Hn){if(tr.target!==Hn.canvas){const er=Hn.canvas.getBoundingClientRect();return{x:tr.clientX-er.left,y:tr.clientY-er.top}}return getRelativePosition$1(tr,Hn)}function zoomStart(tr,Hn,er){const{onZoomStart:nr,onZoomRejected:ir}=er;if(nr){const rr=getPointPosition(Hn,tr);if(callback(nr,[{chart:tr,event:Hn,point:rr}])===!1)return callback(ir,[{chart:tr,event:Hn}]),!1}}function mouseDown(tr,Hn){if(tr.legend){const rr=getRelativePosition$1(Hn,tr);if(_isPointInArea(rr,tr.legend))return}const er=getState(tr),{pan:nr,zoom:ir={}}=er.options;if(Hn.button!==0||keyPressed(getModifierKey(nr),Hn)||keyNotPressed(getModifierKey(ir.drag),Hn))return callback(ir.onZoomRejected,[{chart:tr,event:Hn}]);zoomStart(tr,Hn,ir)!==!1&&(er.dragStart=Hn,addHandler(tr,tr.canvas.ownerDocument,"mousemove",mouseMove),addHandler(tr,window.document,"keydown",keyDown))}function applyAspectRatio({begin:tr,end:Hn},er){let nr=Hn.x-tr.x,ir=Hn.y-tr.y;const rr=Math.abs(nr/ir);rr>er?nr=Math.sign(nr)*Math.abs(ir*er):rr<er&&(ir=Math.sign(ir)*Math.abs(nr/er)),Hn.x=tr.x+nr,Hn.y=tr.y+ir}function applyMinMaxProps(tr,Hn,er,{min:nr,max:ir,prop:rr}){tr[nr]=clamp$2(Math.min(er.begin[rr],er.end[rr]),Hn[nr],Hn[ir]),tr[ir]=clamp$2(Math.max(er.begin[rr],er.end[rr]),Hn[nr],Hn[ir])}function getRelativePoints(tr,Hn,er){const nr={begin:getPointPosition(Hn.dragStart,tr),end:getPointPosition(Hn.dragEnd,tr)};if(er){const ir=tr.chartArea.width/tr.chartArea.height;applyAspectRatio(nr,ir)}return nr}function computeDragRect(tr,Hn,er,nr){const ir=directionEnabled(Hn,"x",tr),rr=directionEnabled(Hn,"y",tr),{top:sr,left:ar,right:or,bottom:lr,width:cr,height:ur}=tr.chartArea,dr={top:sr,left:ar,right:or,bottom:lr},fr=getRelativePoints(tr,er,nr&&ir&&rr);ir&&applyMinMaxProps(dr,tr.chartArea,fr,{min:"left",max:"right",prop:"x"}),rr&&applyMinMaxProps(dr,tr.chartArea,fr,{min:"top",max:"bottom",prop:"y"});const gr=dr.right-dr.left,yr=dr.bottom-dr.top;return{...dr,width:gr,height:yr,zoomX:ir&&gr?1+(cr-gr)/cr:1,zoomY:rr&&yr?1+(ur-yr)/ur:1}}function mouseUp(tr,Hn){const er=getState(tr);if(!er.dragStart)return;removeHandler(tr,"mousemove");const{mode:nr,onZoomComplete:ir,drag:{threshold:rr=0,maintainAspectRatio:sr}}=er.options.zoom,ar=computeDragRect(tr,nr,{dragStart:er.dragStart,dragEnd:Hn},sr),or=directionEnabled(nr,"x",tr)?ar.width:0,lr=directionEnabled(nr,"y",tr)?ar.height:0,cr=Math.sqrt(or*or+lr*lr);if(er.dragStart=er.dragEnd=null,cr<=rr){er.dragging=!1,tr.update("none");return}zoomRect(tr,{x:ar.left,y:ar.top},{x:ar.right,y:ar.bottom},"zoom","drag"),er.dragging=!1,er.filterNextClick=!0,callback(ir,[{chart:tr}])}function wheelPreconditions(tr,Hn,er){if(keyNotPressed(getModifierKey(er.wheel),Hn)){callback(er.onZoomRejected,[{chart:tr,event:Hn}]);return}if(zoomStart(tr,Hn,er)!==!1&&(Hn.cancelable&&Hn.preventDefault(),Hn.deltaY!==void 0))return!0}function wheel(tr,Hn){const{handlers:{onZoomComplete:er},options:{zoom:nr}}=getState(tr);if(!wheelPreconditions(tr,Hn,nr))return;const ir=Hn.target.getBoundingClientRect(),rr=nr.wheel.speed,sr=Hn.deltaY>=0?2-1/(1-rr):1+rr,ar={x:sr,y:sr,focalPoint:{x:Hn.clientX-ir.left,y:Hn.clientY-ir.top}};zoom(tr,ar,"zoom","wheel"),callback(er,[{chart:tr}])}function addDebouncedHandler(tr,Hn,er,nr){er&&(getState(tr).handlers[Hn]=debounce(()=>callback(er,[{chart:tr}]),nr))}function addListeners(tr,Hn){const er=tr.canvas,{wheel:nr,drag:ir,onZoomComplete:rr}=Hn.zoom;nr.enabled?(addHandler(tr,er,"wheel",wheel),addDebouncedHandler(tr,"onZoomComplete",rr,250)):removeHandler(tr,"wheel"),ir.enabled?(addHandler(tr,er,"mousedown",mouseDown),addHandler(tr,er.ownerDocument,"mouseup",mouseUp)):(removeHandler(tr,"mousedown"),removeHandler(tr,"mousemove"),removeHandler(tr,"mouseup"),removeHandler(tr,"keydown"))}function removeListeners(tr){removeHandler(tr,"mousedown"),removeHandler(tr,"mousemove"),removeHandler(tr,"mouseup"),removeHandler(tr,"wheel"),removeHandler(tr,"click"),removeHandler(tr,"keydown")}function createEnabler(tr,Hn){return function(er,nr){const{pan:ir,zoom:rr={}}=Hn.options;if(!ir||!ir.enabled)return!1;const sr=nr&&nr.srcEvent;return sr&&!Hn.panning&&nr.pointerType==="mouse"&&(keyNotPressed(getModifierKey(ir),sr)||keyPressed(getModifierKey(rr.drag),sr))?(callback(ir.onPanRejected,[{chart:tr,event:nr}]),!1):!0}}function pinchAxes(tr,Hn){const er=Math.abs(tr.clientX-Hn.clientX),nr=Math.abs(tr.clientY-Hn.clientY),ir=er/nr;let rr,sr;return ir>.3&&ir<1.7?rr=sr=!0:er>nr?rr=!0:sr=!0,{x:rr,y:sr}}function handlePinch(tr,Hn,er){if(Hn.scale){const{center:nr,pointers:ir}=er,rr=1/Hn.scale*er.scale,sr=er.target.getBoundingClientRect(),ar=pinchAxes(ir[0],ir[1]),or=Hn.options.zoom.mode,lr={x:ar.x&&directionEnabled(or,"x",tr)?rr:1,y:ar.y&&directionEnabled(or,"y",tr)?rr:1,focalPoint:{x:nr.x-sr.left,y:nr.y-sr.top}};zoom(tr,lr,"zoom","pinch"),Hn.scale=er.scale}}function startPinch(tr,Hn,er){if(Hn.options.zoom.pinch.enabled){const nr=getRelativePosition$1(er,tr);callback(Hn.options.zoom.onZoomStart,[{chart:tr,event:er,point:nr}])===!1?(Hn.scale=null,callback(Hn.options.zoom.onZoomRejected,[{chart:tr,event:er}])):Hn.scale=1}}function endPinch(tr,Hn,er){Hn.scale&&(handlePinch(tr,Hn,er),Hn.scale=null,callback(Hn.options.zoom.onZoomComplete,[{chart:tr}]))}function handlePan(tr,Hn,er){const nr=Hn.delta;nr&&(Hn.panning=!0,pan(tr,{x:er.deltaX-nr.x,y:er.deltaY-nr.y},Hn.panScales),Hn.delta={x:er.deltaX,y:er.deltaY})}function startPan(tr,Hn,er){const{enabled:nr,onPanStart:ir,onPanRejected:rr}=Hn.options.pan;if(!nr)return;const sr=er.target.getBoundingClientRect(),ar={x:er.center.x-sr.left,y:er.center.y-sr.top};if(callback(ir,[{chart:tr,event:er,point:ar}])===!1)return callback(rr,[{chart:tr,event:er}]);Hn.panScales=getEnabledScalesByPoint(Hn.options.pan,ar,tr),Hn.delta={x:0,y:0},handlePan(tr,Hn,er)}function endPan(tr,Hn){Hn.delta=null,Hn.panning&&(Hn.panning=!1,Hn.filterNextClick=!0,callback(Hn.options.pan.onPanComplete,[{chart:tr}]))}const hammers=new WeakMap;function startHammer(tr,Hn){const er=getState(tr),nr=tr.canvas,{pan:ir,zoom:rr}=Hn,sr=new Hammer.Manager(nr);rr&&rr.pinch.enabled&&(sr.add(new Hammer.Pinch),sr.on("pinchstart",ar=>startPinch(tr,er,ar)),sr.on("pinch",ar=>handlePinch(tr,er,ar)),sr.on("pinchend",ar=>endPinch(tr,er,ar))),ir&&ir.enabled&&(sr.add(new Hammer.Pan({threshold:ir.threshold,enable:createEnabler(tr,er)})),sr.on("panstart",ar=>startPan(tr,er,ar)),sr.on("panmove",ar=>handlePan(tr,er,ar)),sr.on("panend",()=>endPan(tr,er))),hammers.set(tr,sr)}function stopHammer(tr){const Hn=hammers.get(tr);Hn&&(Hn.remove("pinchstart"),Hn.remove("pinch"),Hn.remove("pinchend"),Hn.remove("panstart"),Hn.remove("pan"),Hn.remove("panend"),Hn.destroy(),hammers.delete(tr))}function hammerOptionsChanged(tr,Hn){const{pan:er,zoom:nr}=tr,{pan:ir,zoom:rr}=Hn;return nr?.zoom?.pinch?.enabled!==rr?.zoom?.pinch?.enabled||er?.enabled!==ir?.enabled||er?.threshold!==ir?.threshold}var version$1="2.2.0";function draw$1(tr,Hn,er){const nr=er.zoom.drag,{dragStart:ir,dragEnd:rr}=getState(tr);if(nr.drawTime!==Hn||!rr)return;const{left:sr,top:ar,width:or,height:lr}=computeDragRect(tr,er.zoom.mode,{dragStart:ir,dragEnd:rr},nr.maintainAspectRatio),cr=tr.ctx;cr.save(),cr.beginPath(),cr.fillStyle=nr.backgroundColor||"rgba(225,225,225,0.3)",cr.fillRect(sr,ar,or,lr),nr.borderWidth>0&&(cr.lineWidth=nr.borderWidth,cr.strokeStyle=nr.borderColor||"rgba(225,225,225)",cr.strokeRect(sr,ar,or,lr)),cr.restore()}var plugin$1={id:"zoom",version:version$1,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(tr,Hn,er){const nr=getState(tr);nr.options=er,Object.prototype.hasOwnProperty.call(er.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(er.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(er.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Hammer&&startHammer(tr,er),tr.pan=(ir,rr,sr)=>pan(tr,ir,rr,sr),tr.zoom=(ir,rr)=>zoom(tr,ir,rr),tr.zoomRect=(ir,rr,sr)=>zoomRect(tr,ir,rr,sr),tr.zoomScale=(ir,rr,sr)=>zoomScale(tr,ir,rr,sr),tr.resetZoom=ir=>resetZoom(tr,ir),tr.getZoomLevel=()=>getZoomLevel(tr),tr.getInitialScaleBounds=()=>getInitialScaleBounds(tr),tr.getZoomedScaleBounds=()=>getZoomedScaleBounds(tr),tr.isZoomedOrPanned=()=>isZoomedOrPanned(tr),tr.isZoomingOrPanning=()=>isZoomingOrPanning(tr)},beforeEvent(tr,{event:Hn}){if(isZoomingOrPanning(tr))return!1;if(Hn.type==="click"||Hn.type==="mouseup"){const er=getState(tr);if(er.filterNextClick)return er.filterNextClick=!1,!1}},beforeUpdate:function(tr,Hn,er){const nr=getState(tr),ir=nr.options;nr.options=er,hammerOptionsChanged(ir,er)&&(stopHammer(tr),startHammer(tr,er)),addListeners(tr,er)},beforeDatasetsDraw(tr,Hn,er){draw$1(tr,"beforeDatasetsDraw",er)},afterDatasetsDraw(tr,Hn,er){draw$1(tr,"afterDatasetsDraw",er)},beforeDraw(tr,Hn,er){draw$1(tr,"beforeDraw",er)},afterDraw(tr,Hn,er){draw$1(tr,"afterDraw",er)},stop:function(tr){removeListeners(tr),Hammer&&stopHammer(tr),removeState(tr)},panFunctions,zoomFunctions,zoomRectFunctions};Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,plugin$1);const SingleLineChart=({buyData:tr,title:Hn,color:er,isZoom:nr})=>{const ir={datasets:[{label:"T l",data:tr.map(sr=>{const[ar,or,lr]=sr.x.split("/");return{x:new Date(lr,or-1,ar),y:sr.y}}),borderColor:er,backgroundColor:er,fill:!1,tension:.3}]},rr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:sr=>`${sr.dataset.label}: ${sr.parsed.y.toLocaleString()}`}},zoom:{zoom:{wheel:{enabled:nr},pinch:{enabled:nr},mode:"x"},pan:{enabled:nr,mode:"x"}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},ticks:{color:"#64748B"},grid:{color:"rgba(148, 163, 184, 0.1)"}},y:{ticks:{color:"#64748B",callback:sr=>sr.toLocaleString()},grid:{color:"rgba(148, 163, 184, 0.1)"}}}};return jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",style:{height:"94%",width:"100%"},children:[jsxRuntimeExports.jsx("h3",{style:{cursor:"pointer"},children:Hn}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx(Chart,{type:"line",data:ir,options:rr})})]})},API_ENDPOINTS=["https://api_gold.thinkdiff.us/sacombank_vang_history","https://api_gold.thinkdiff.us/sacombank_bac_history","https://api_gold.thinkdiff.us/history_bac_phuquy","https://api_gold.thinkdiff.us/phuquy_gold_history"],fetchGoldData=async()=>{const tr=API_ENDPOINTS.map(async er=>{try{const nr=await fetch(er);return nr.ok?await nr.json():null}catch(nr){return console.error(`Li khi gi API ${er}:`,nr),null}}),Hn=await Promise.all(tr);return{sjcGold:Hn[0],sjcSilver:Hn[1],bacPhuQuy:Hn[2],phuQuyGold:Hn[3]}},formatSilverSacombank=(tr=[])=>!tr||tr.length===0?[]:tr.map(er=>({buy:er?.buy,sell:er?.sell,date:new Date(er?.date).toLocaleDateString("vi-VN")})),formatSilverPhuQuy=(tr=[])=>!tr||tr.length===0?[]:tr.map(er=>({buy:er?.buy*.00375,sell:er?.sell*.00375,date:new Date(er?.id_time).toLocaleDateString("vi-VN")})),formatGoldPhuQuy=(tr=[])=>!tr||tr.length===0?[]:tr.map(er=>{const nr=JSON.parse(er?.nhan_tron_phu_quy_9999);return{buy:nr?.mua,sell:nr?.ban,date:new Date(er?.update_time).toLocaleDateString("vi-VN",{timeZone:"UTC"})}}),filterBuySellMax=(tr=[])=>!tr||tr.length===0?[]:Object.values(tr.reduce((er,nr)=>{const ir=nr.buy+nr.sell;return(!er[nr.date]||ir>er[nr.date].buy+er[nr.date].sell)&&(er[nr.date]=nr),er},{}));function calculateXauXagRatio(tr,Hn){const er=nr=>{const[ir,rr,sr]=nr.split("/").map(Number);return new Date(sr,rr-1,ir)};return tr.map(nr=>{if(!nr.buy||!nr.sell||!nr.date)return null;const ir=er(nr.date),rr=Hn.find(sr=>{if(!sr.date||!sr.buy||!sr.sell)return!1;const ar=er(sr.date);return Math.abs(ir-ar)/(1e3*60*60*24)<=1});if(rr&&rr.buy>0&&rr.sell>0){const sr=(nr?.buy+nr?.sell)/2/((rr?.buy+rr?.sell)/2);return{x:nr.date,y:sr}}return null}).filter(nr=>nr!==null)}function LineXauXagChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!1),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState(""),[dr,fr]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{try{nr(!0);const vr=await fetchGoldData(),jr=filterBuySellMax(vr?.sjcGold?.data),Sr=filterBuySellMax(formatSilverSacombank(vr?.sjcSilver?.data)),Tr=filterBuySellMax(formatSilverPhuQuy(vr?.bacPhuQuy?.list_phuquy)),Lr=filterBuySellMax(formatGoldPhuQuy(vr?.phuQuyGold));Hn({dataChartSacombank:calculateXauXagRatio(jr,Sr),dataChartPhuQuy:calculateXauXagRatio(Lr,Tr)}),rr(null)}catch(vr){console.error("Error loading candlestick data:",vr),rr("Khng th ti d liu biu . Vui lng th li sau.")}finally{nr(!1)}})()},[nr,Hn,rr]);const gr=(yr,vr,jr)=>{lr(yr),fr(vr),ar(!0),ur(jr)};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px",textAlign:"center",width:"100%",flexWrap:"wrap",justifyContent:"center"},children:[!tr&&jsxRuntimeExports.jsx("h2",{style:{color:"white",textAlign:"center",width:"100%",marginTop:"100px"},children:"ang ti...."}),tr&&tr?.dataChartPhuQuy&&jsxRuntimeExports.jsx("div",{onClick:()=>gr(tr?.dataChartPhuQuy,"Biu  xau/xag Ph Qu","#22C55E"),style:{width:"calc(50% - 5px)",minWidth:"280px",maxWidth:"450px",flex:"1 1 auto"},children:jsxRuntimeExports.jsx(SingleLineChart,{buyData:tr?.dataChartPhuQuy,title:"Biu  xau/xag Ph Qu",color:"#22C55E",isZoom:sr})}),tr&&tr?.dataChartSacombank&&jsxRuntimeExports.jsx("div",{onClick:()=>gr(tr?.dataChartSacombank,"Biu  xau/xag Sacombank","#EF4444"),style:{width:"calc(50% - 5px)",minWidth:"280px",maxWidth:"450px",flex:"1 1 auto"},children:jsxRuntimeExports.jsx(SingleLineChart,{buyData:tr?.dataChartSacombank,title:"Biu  xau/xag Sacombank",color:"#EF4444",isZoom:sr})}),sr&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center",padding:"10px"},onClick:()=>ar(!1),children:jsxRuntimeExports.jsxs("div",{style:{width:"100%",maxWidth:"1600px",height:"90vh",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px",overflow:"auto",boxSizing:"border-box"},onClick:yr=>yr.stopPropagation(),children:[jsxRuntimeExports.jsx(SingleLineChart,{buyData:or,title:dr,color:cr,isZoom:sr}),jsxRuntimeExports.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:()=>ar(!1),children:"ng"})]})})]})}function TooltipPortal({visible:tr,x:Hn,y:er,children:nr}){return tr?reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"custom-tooltip show",style:{top:er,left:Hn},children:nr}),document.body):null}const formatCandlestickData=tr=>!tr||tr.length===0?[]:[...tr].sort((nr,ir)=>new Date(nr.id_time)-new Date(ir.id_time)).map(nr=>({x:new Date(nr.id_time).getTime(),o:nr.open||0,h:nr.high||0,l:nr.low||0,c:nr.close||0}));function sortByField(tr,Hn,er=!0){return tr.sort((nr,ir)=>{const rr=nr[Hn],sr=ir[Hn];return typeof rr=="string"&&/\d{4}-\d{2}-\d{2}/.test(rr)?er?new Date(rr)-new Date(sr):new Date(sr)-new Date(rr):er?rr-sr:sr-rr})}const BASE_API_URL="https://api_gold.thinkdiff.us",fetchXauXagVolumeDataByPage=async(tr=1)=>{try{const Hn=`${BASE_API_URL}/volume_xau_usd?page=${tr}`,er=`${BASE_API_URL}/volume_xag_usd?page=${tr}`,nr=await fetch(Hn),ir=await fetch(er);if(!nr.ok)throw new Error(`XAU HTTP error! ${nr.status}`);if(!ir.ok)throw new Error(`XAG HTTP error! ${ir.status}`);const rr=await nr.json(),sr=await ir.json(),ar=rr?.data?.total_page||sr?.data?.total_page||0,or=rr?.data?.list_volume||[],lr=sr?.data?.list_volume||[],cr=or.length>0,ur=lr.length>0;return{volumeXauRaw:or,volumeXagRaw:lr,hasMore:cr||ur,page:tr,totalPages:ar}}catch(Hn){return console.error(`Error fetching XAU/XAG data for page ${tr}:`,Hn),{volumeXauRaw:[],volumeXagRaw:[],hasMore:!1,page:tr,totalPages:0}}},fetchXauXagVolumeDataMultiplePages=async(tr=1,Hn=1,er=null)=>{const nr=[],ir=[];let rr=0;try{const sr=[];for(let ur=tr;ur<=Hn;ur++)sr.push(ur);const ar=sr.map(async ur=>{const dr=await fetchXauXagVolumeDataByPage(ur);return{page:ur,...dr}}),or=await Promise.all(ar);or.forEach((ur,dr)=>{if((ur.volumeXauRaw.length>0||ur.volumeXagRaw.length>0)&&(nr.push(...ur.volumeXauRaw),ir.push(...ur.volumeXagRaw),rr=ur.page,er))try{er(ur.page,ur,dr+1,or.length)}catch(fr){console.warn("Callback error in onPageLoaded:",fr)}});const lr=Array.from(new Map(nr.map(ur=>[ur.timestamp,ur])).values()),cr=Array.from(new Map(ir.map(ur=>[ur.timestamp,ur])).values());return sortByField(lr,"timestamp",!0),sortByField(cr,"timestamp",!1),console.log("Total loaded - volumeXauRaw:",lr.length,"items"),console.log("Total loaded - volumeXagRaw:",cr.length,"items"),{volumeXauRaw:lr,volumeXagRaw:cr,totalPages:rr}}catch(sr){return console.error("Error fetching multiple pages XAU/XAG data:",sr),{volumeXauRaw:nr,volumeXagRaw:ir,totalPages:rr}}},fetchXauXagVolumeData=async tr=>{const Hn=await fetchXauXagVolumeDataByPage(tr),er=Hn.volumeXauRaw.length?Hn.volumeXauRaw.reduce((ir,rr)=>ir+rr.volume,0)/Hn.volumeXauRaw.length:0,nr=Hn.volumeXagRaw.length?Hn.volumeXagRaw.reduce((ir,rr)=>ir+rr.volume,0)/Hn.volumeXagRaw.length:0;return{volumeXauRaw:Hn.volumeXauRaw,volumeXagRaw:Hn.volumeXagRaw,totalPages:Hn.totalPages,hasMore:Hn.hasMore,volume_trungbinh:{xau:er,xag:nr}}},formatCandlestickForApex=tr=>tr.map(Hn=>({x:new Date(Hn.timestamp).getTime(),y:[parseFloat(Hn.open_price),parseFloat(Hn.high_price),parseFloat(Hn.low_price),parseFloat(Hn.close_price)],volume:Hn.volume?parseFloat(Hn.volume):0}));Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend,plugin$1);const VolumeXauXagChart=({dataXau:tr,dataXag:Hn,enableZoom:er})=>{const nr=[...tr].reverse(),ir=[...Hn].reverse(),rr=nr.reduce((vr,jr)=>{const Sr=Number(jr.y[3])/.02835;return Sr<vr?Sr:vr},1/0),sr=ir.reduce((vr,jr)=>{const Sr=Number(jr.y[3]);return Sr<vr?Sr:vr},1/0),[ar,or]=reactExports.useState(!0),[lr,cr]=reactExports.useState(!0),[ur,dr]=reactExports.useState(!0);reactExports.useEffect(()=>{const vr=()=>{window.innerWidth<768?(cr(!1),dr(!1),or(!0)):(cr(!0),dr(!0))};return vr(),window.addEventListener("resize",vr),()=>window.removeEventListener("resize",vr)},[]);const gr={labels:nr.map(vr=>new Date(vr.x).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})),datasets:[{type:"bar",label:"XAU Volume",data:nr.map(vr=>Number(vr.volume)),backgroundColor:"#FFFF33",yAxisID:"y"},{type:"bar",label:"XAG Volume",data:ir.map(vr=>Number(vr.volume)),backgroundColor:"#00FF3C",yAxisID:"y"},{type:"line",label:"Gi XAU Close",data:nr.map(vr=>Number(vr.y[3])/.02835),borderColor:"orange",backgroundColor:"rgba(255,165,0,0.2)",yAxisID:"yPriceXau",tension:.3,pointRadius:2},{type:"line",label:"Gi XAG Close",data:ir.map(vr=>Number(vr.y[3])),borderColor:"blue",backgroundColor:"rgba(0,0,255,0.2)",yAxisID:"yPriceXag",tension:.3,pointRadius:2}]},yr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:ar,position:"left",title:{display:!0,text:"Volume"}},yPriceXau:{type:"linear",display:lr,position:"left",title:{display:!0,text:"Gi XAU (VND/Lng?)"},grid:{drawOnChartArea:!1},min:rr*.995},yPriceXag:{type:"linear",display:ur,position:"left",title:{display:!0,text:"Gi XAG"},grid:{drawOnChartArea:!1},min:sr*.995},x:{title:{display:!0,text:"Date"}}},plugins:{zoom:{limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}},zoom:{wheel:{enabled:er},pinch:{enabled:er},mode:"x"},pan:{enabled:!0,mode:"x"}},legend:{display:!0}}};return!tr||!Hn?jsxRuntimeExports.jsx("p",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"10px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ar,onChange:vr=>{er&&or(vr.target.checked)}})," Hin th Volume"]}),jsxRuntimeExports.jsxs("label",{style:{color:"orange"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:lr,onChange:vr=>{er&&cr(vr.target.checked)}})," Trc Gi XAU"]}),jsxRuntimeExports.jsxs("label",{style:{color:"blue"},children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ur,onChange:vr=>{er&&dr(vr.target.checked)}})," Trc Gi XAG"]})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"400px",overflow:"hidden"},children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:gr,options:yr})})]})};function t(tr,Hn){(Hn==null||Hn>tr.length)&&(Hn=tr.length);for(var er=0,nr=Array(Hn);er<Hn;er++)nr[er]=tr[er];return nr}function e$1(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function i$1(tr,Hn){if(!(tr instanceof Hn))throw new TypeError("Cannot call a class as a function")}function a$2(tr,Hn){for(var er=0;er<Hn.length;er++){var nr=Hn[er];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,x$2(nr.key),nr)}}function s$1(tr,Hn,er){return Hn&&a$2(tr.prototype,Hn),er&&a$2(tr,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function r$1(tr,Hn){var er=typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(!er){if(Array.isArray(tr)||(er=m$1(tr))||Hn){er&&(tr=er);var nr=0,ir=function(){};return{s:ir,n:function(){return nr>=tr.length?{done:!0}:{done:!1,value:tr[nr++]}},e:function(or){throw or},f:ir}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rr,sr=!0,ar=!1;return{s:function(){er=er.call(tr)},n:function(){var or=er.next();return sr=or.done,or},e:function(or){ar=!0,rr=or},f:function(){try{sr||er.return==null||er.return()}finally{if(ar)throw rr}}}}function n(tr){var Hn=c$2();return function(){var er,nr=l$2(tr);if(Hn){var ir=l$2(this).constructor;er=Reflect.construct(nr,arguments,ir)}else er=nr.apply(this,arguments);return(function(rr,sr){if(sr&&(typeof sr=="object"||typeof sr=="function"))return sr;if(sr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e$1(rr)})(this,er)}}function o$2(tr,Hn,er){return(Hn=x$2(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function l$2(tr){return l$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Hn){return Hn.__proto__||Object.getPrototypeOf(Hn)},l$2(tr)}function h$3(tr,Hn){if(typeof Hn!="function"&&Hn!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(Hn&&Hn.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),Hn&&g$1(tr,Hn)}function c$2(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(c$2=function(){return!!tr})()}function d$1(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter((function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable}))),er.push.apply(er,nr)}return er}function u$2(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?d$1(Object(er),!0).forEach((function(nr){o$2(tr,nr,er[nr])})):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):d$1(Object(er)).forEach((function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))}))}return tr}function g$1(tr,Hn){return g$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(er,nr){return er.__proto__=nr,er},g$1(tr,Hn)}function p$2(tr,Hn){return(function(er){if(Array.isArray(er))return er})(tr)||(function(er,nr){var ir=er==null?null:typeof Symbol<"u"&&er[Symbol.iterator]||er["@@iterator"];if(ir!=null){var rr,sr,ar,or,lr=[],cr=!0,ur=!1;try{if(ar=(ir=ir.call(er)).next,nr===0){if(Object(ir)!==ir)return;cr=!1}else for(;!(cr=(rr=ar.call(ir)).done)&&(lr.push(rr.value),lr.length!==nr);cr=!0);}catch(dr){ur=!0,sr=dr}finally{try{if(!cr&&ir.return!=null&&(or=ir.return(),Object(or)!==or))return}finally{if(ur)throw sr}}return lr}})(tr,Hn)||m$1(tr,Hn)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function f$2(tr){return(function(Hn){if(Array.isArray(Hn))return t(Hn)})(tr)||(function(Hn){if(typeof Symbol<"u"&&Hn[Symbol.iterator]!=null||Hn["@@iterator"]!=null)return Array.from(Hn)})(tr)||m$1(tr)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function x$2(tr){var Hn=(function(er,nr){if(typeof er!="object"||!er)return er;var ir=er[Symbol.toPrimitive];if(ir!==void 0){var rr=ir.call(er,nr);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(nr==="string"?String:Number)(er)})(tr,"string");return typeof Hn=="symbol"?Hn:Hn+""}function b$3(tr){return b$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Hn){return typeof Hn}:function(Hn){return Hn&&typeof Symbol=="function"&&Hn.constructor===Symbol&&Hn!==Symbol.prototype?"symbol":typeof Hn},b$3(tr)}function m$1(tr,Hn){if(tr){if(typeof tr=="string")return t(tr,Hn);var er={}.toString.call(tr).slice(8,-1);return er==="Object"&&tr.constructor&&(er=tr.constructor.name),er==="Map"||er==="Set"?Array.from(tr):er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(er)?t(tr,Hn):void 0}}var v$1=(function(){function tr(){i$1(this,tr)}return s$1(tr,[{key:"shadeRGBColor",value:function(Hn,er){var nr=er.split(","),ir=Hn<0?0:255,rr=Hn<0?-1*Hn:Hn,sr=parseInt(nr[0].slice(4),10),ar=parseInt(nr[1],10),or=parseInt(nr[2],10);return"rgb("+(Math.round((ir-sr)*rr)+sr)+","+(Math.round((ir-ar)*rr)+ar)+","+(Math.round((ir-or)*rr)+or)+")"}},{key:"shadeHexColor",value:function(Hn,er){var nr=parseInt(er.slice(1),16),ir=Hn<0?0:255,rr=Hn<0?-1*Hn:Hn,sr=nr>>16,ar=nr>>8&255,or=255&nr;return"#"+(16777216+65536*(Math.round((ir-sr)*rr)+sr)+256*(Math.round((ir-ar)*rr)+ar)+(Math.round((ir-or)*rr)+or)).toString(16).slice(1)}},{key:"shadeColor",value:function(Hn,er){return tr.isColorHex(er)?this.shadeHexColor(Hn,er):this.shadeRGBColor(Hn,er)}}],[{key:"bind",value:function(Hn,er){return function(){return Hn.apply(er,arguments)}}},{key:"isObject",value:function(Hn){return Hn&&b$3(Hn)==="object"&&!Array.isArray(Hn)&&Hn!=null}},{key:"is",value:function(Hn,er){return Object.prototype.toString.call(er)==="[object "+Hn+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(Hn){var er,nr=[];for(er=0;er<Hn.length;er++)nr[er]=Hn[er];return nr}},{key:"extend",value:function(Hn,er){var nr=this;typeof Object.assign!="function"&&(Object.assign=function(rr){if(rr==null)throw new TypeError("Cannot convert undefined or null to object");for(var sr=Object(rr),ar=1;ar<arguments.length;ar++){var or=arguments[ar];if(or!=null)for(var lr in or)or.hasOwnProperty(lr)&&(sr[lr]=or[lr])}return sr});var ir=Object.assign({},Hn);return this.isObject(Hn)&&this.isObject(er)&&Object.keys(er).forEach((function(rr){nr.isObject(er[rr])&&rr in Hn?ir[rr]=nr.extend(Hn[rr],er[rr]):Object.assign(ir,o$2({},rr,er[rr]))})),ir}},{key:"extendArray",value:function(Hn,er){var nr=[];return Hn.map((function(ir){nr.push(tr.extend(er,ir))})),Hn=nr}},{key:"monthMod",value:function(Hn){return Hn%12}},{key:"clone",value:function(Hn){var er,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(Hn===null||b$3(Hn)!=="object")return Hn;if(nr.has(Hn))return nr.get(Hn);if(Array.isArray(Hn)){er=[],nr.set(Hn,er);for(var ir=0;ir<Hn.length;ir++)er[ir]=this.clone(Hn[ir],nr)}else if(Hn instanceof Date)er=new Date(Hn.getTime());else for(var rr in er={},nr.set(Hn,er),Hn)Hn.hasOwnProperty(rr)&&(er[rr]=this.clone(Hn[rr],nr));return er}},{key:"log10",value:function(Hn){return Math.log(Hn)/Math.LN10}},{key:"roundToBase10",value:function(Hn){return Math.pow(10,Math.floor(Math.log10(Hn)))}},{key:"roundToBase",value:function(Hn,er){return Math.pow(er,Math.floor(Math.log(Hn)/Math.log(er)))}},{key:"parseNumber",value:function(Hn){return typeof Hn=="number"||Hn===null?Hn:parseFloat(Hn)}},{key:"stripNumber",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(Hn)?Hn:parseFloat(Hn.toPrecision(er))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(Hn){return Hn.toString().includes("e")?Math.round(Hn):Hn}},{key:"elementExists",value:function(Hn){return!(!Hn||!Hn.isConnected)}},{key:"isInShadowDOM",value:function(Hn){if(!Hn||!Hn.getRootNode)return!1;var er=Hn.getRootNode();return er&&er!==document&&tr.is("ShadowRoot",er)}},{key:"getShadowRootHost",value:function(Hn){return tr.isInShadowDOM(Hn)&&Hn.getRootNode().host||null}},{key:"getDimensions",value:function(Hn){if(!Hn)return[0,0];var er,nr=Hn.getRootNode&&Hn.getRootNode();if(nr&&nr!==document&&nr.host){var ir=nr.host.getBoundingClientRect();return[ir.width,ir.height]}try{er=getComputedStyle(Hn,null)}catch{return[Hn.clientWidth||0,Hn.clientHeight||0]}var rr=Hn.clientHeight,sr=Hn.clientWidth;return rr-=parseFloat(er.paddingTop)+parseFloat(er.paddingBottom),[sr-=parseFloat(er.paddingLeft)+parseFloat(er.paddingRight),rr]}},{key:"getBoundingClientRect",value:function(Hn){if(!Hn)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var er=Hn.getBoundingClientRect();return{top:er.top,right:er.right,bottom:er.bottom,left:er.left,width:Hn.clientWidth,height:Hn.clientHeight,x:er.left,y:er.top}}},{key:"getLargestStringFromArr",value:function(Hn){return Hn.reduce((function(er,nr){return Array.isArray(nr)&&(nr=nr.reduce((function(ir,rr){return ir.length>rr.length?ir:rr}))),er.length>nr.length?er:nr}),0)}},{key:"hexToRgba",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;Hn.substring(0,1)!=="#"&&(Hn="#999999");var nr=Hn.replace("#","");nr=nr.match(new RegExp("(.{"+nr.length/3+"})","g"));for(var ir=0;ir<nr.length;ir++)nr[ir]=parseInt(nr[ir].length===1?nr[ir]+nr[ir]:nr[ir],16);return er!==void 0&&nr.push(er),"rgba("+nr.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(Hn){return parseFloat(Hn.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(Hn){return(Hn=Hn.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&Hn.length===4?"#"+("0"+parseInt(Hn[1],10).toString(16)).slice(-2)+("0"+parseInt(Hn[2],10).toString(16)).slice(-2)+("0"+parseInt(Hn[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(Hn){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(Hn)}},{key:"getPolygonPos",value:function(Hn,er){for(var nr=[],ir=2*Math.PI/er,rr=0;rr<er;rr++){var sr={};sr.x=Hn*Math.sin(rr*ir),sr.y=-Hn*Math.cos(rr*ir),nr.push(sr)}return nr}},{key:"polarToCartesian",value:function(Hn,er,nr,ir){var rr=(ir-90)*Math.PI/180;return{x:Hn+nr*Math.cos(rr),y:er+nr*Math.sin(rr)}}},{key:"escapeString",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",nr=Hn.toString().slice();return nr=nr.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,er)}},{key:"negToZero",value:function(Hn){return Hn<0?0:Hn}},{key:"moveIndexInArray",value:function(Hn,er,nr){if(nr>=Hn.length)for(var ir=nr-Hn.length+1;ir--;)Hn.push(void 0);return Hn.splice(nr,0,Hn.splice(er,1)[0]),Hn}},{key:"extractNumber",value:function(Hn){return parseFloat(Hn.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(Hn,er){for(;(Hn=Hn.parentElement)&&!Hn.classList.contains(er););return Hn}},{key:"setELstyles",value:function(Hn,er){for(var nr in er)er.hasOwnProperty(nr)&&(Hn.style.key=er[nr])}},{key:"preciseAddition",value:function(Hn,er){var nr=(String(Hn).split(".")[1]||"").length,ir=(String(er).split(".")[1]||"").length,rr=Math.pow(10,Math.max(nr,ir));return(Math.round(Hn*rr)+Math.round(er*rr))/rr}},{key:"isNumber",value:function(Hn){return!isNaN(Hn)&&parseFloat(Number(Hn))===Hn&&!isNaN(parseInt(Hn,10))}},{key:"isFloat",value:function(Hn){return Number(Hn)===Hn&&Hn%1!=0}},{key:"isMsEdge",value:function(){var Hn=window.navigator.userAgent,er=Hn.indexOf("Edge/");return er>0&&parseInt(Hn.substring(er+5,Hn.indexOf(".",er)),10)}},{key:"getGCD",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,ir=Math.pow(10,nr-Math.floor(Math.log10(Math.max(Hn,er))));for(ir>1?(Hn=Math.round(Math.abs(Hn)*ir),er=Math.round(Math.abs(er)*ir)):ir=1;er;){var rr=er;er=Hn%er,Hn=rr}return Hn/ir}},{key:"getPrimeFactors",value:function(Hn){for(var er=[],nr=2;Hn>=2;)Hn%nr==0?(er.push(nr),Hn/=nr):nr++;return er}},{key:"mod",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,ir=Math.pow(10,nr-Math.floor(Math.log10(Math.max(Hn,er))));return(Hn=Math.round(Math.abs(Hn)*ir))%(er=Math.round(Math.abs(er)*ir))/ir}}]),tr})(),y$3=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"animateLine",value:function(Hn,er,nr,ir){Hn.attr(er).animate(ir).attr(nr)}},{key:"animateMarker",value:function(Hn,er,nr,ir){Hn.attr({opacity:0}).animate(er).attr({opacity:1}).after((function(){ir()}))}},{key:"animateRect",value:function(Hn,er,nr,ir,rr){Hn.attr(er).animate(ir).attr(nr).after((function(){return rr()}))}},{key:"animatePathsGradually",value:function(Hn){var er=Hn.el,nr=Hn.realIndex,ir=Hn.j,rr=Hn.fill,sr=Hn.pathFrom,ar=Hn.pathTo,or=Hn.speed,lr=Hn.delay,cr=this.w,ur=0;cr.config.chart.animations.animateGradually.enabled&&(ur=cr.config.chart.animations.animateGradually.delay),cr.config.chart.animations.dynamicAnimation.enabled&&cr.globals.dataChanged&&cr.config.chart.type!=="bar"&&(ur=0),this.morphSVG(er,nr,ir,cr.config.chart.type!=="line"||cr.globals.comboCharts?rr:"stroke",sr,ar,or,lr*ur)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(Hn){var er=Hn.el;er.classList.remove("apexcharts-element-hidden"),er.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(Hn){var er=this.w;er.globals.animationEnded||(er.globals.animationEnded=!0,this.showDelayedElements(),typeof er.config.chart.events.animationEnd=="function"&&er.config.chart.events.animationEnd(this.ctx,{el:Hn,w:er}))}},{key:"morphSVG",value:function(Hn,er,nr,ir,rr,sr,ar,or){var lr=this,cr=this.w;rr||(rr=Hn.attr("pathFrom")),sr||(sr=Hn.attr("pathTo"));var ur=function(dr){return cr.config.chart.type==="radar"&&(ar=1),"M 0 ".concat(cr.globals.gridHeight)};(!rr||rr.indexOf("undefined")>-1||rr.indexOf("NaN")>-1)&&(rr=ur()),(!sr.trim()||sr.indexOf("undefined")>-1||sr.indexOf("NaN")>-1)&&(sr=ur()),cr.globals.shouldAnimate||(ar=1),Hn.plot(rr).animate(1,or).plot(rr).animate(ar,or).plot(sr).after((function(){v$1.isNumber(nr)?nr===cr.globals.series[cr.globals.maxValsInArrayIndex].length-2&&cr.globals.shouldAnimate&&lr.animationCompleted(Hn):ir!=="none"&&cr.globals.shouldAnimate&&(!cr.globals.comboCharts&&er===cr.globals.series.length-1||cr.globals.comboCharts)&&lr.animationCompleted(Hn),lr.showDelayedElements()}))}}]),tr})();const w$2={},k$2=[];function A$2(tr,Hn){if(Array.isArray(tr))for(const er of tr)A$2(er,Hn);else if(typeof tr!="object")S$2(Object.getOwnPropertyNames(Hn)),w$2[tr]=Object.assign(w$2[tr]||{},Hn);else for(const er in tr)A$2(er,tr[er])}function C$2(tr){return w$2[tr]||{}}function S$2(tr){k$2.push(...tr)}function L$3(tr,Hn){let er;const nr=tr.length,ir=[];for(er=0;er<nr;er++)ir.push(Hn(tr[er]));return ir}function M$2(tr){return tr%360*Math.PI/180}function P$1(tr){return tr.charAt(0).toUpperCase()+tr.slice(1)}function I$2(tr,Hn,er,nr){return Hn!=null&&er!=null||(nr=nr||tr.bbox(),Hn==null?Hn=nr.width/nr.height*er:er==null&&(er=nr.height/nr.width*Hn)),{width:Hn,height:er}}function T$2(tr,Hn){const er=tr.origin;let nr=tr.ox!=null?tr.ox:tr.originX!=null?tr.originX:"center",ir=tr.oy!=null?tr.oy:tr.originY!=null?tr.originY:"center";er!=null&&([nr,ir]=Array.isArray(er)?er:typeof er=="object"?[er.x,er.y]:[er,er]);const rr=typeof nr=="string",sr=typeof ir=="string";if(rr||sr){const{height:ar,width:or,x:lr,y:cr}=Hn.bbox();rr&&(nr=nr.includes("left")?lr:nr.includes("right")?lr+or:lr+or/2),sr&&(ir=ir.includes("top")?cr:ir.includes("bottom")?cr+ar:cr+ar/2)}return[nr,ir]}const z$1=new Set(["desc","metadata","title"]),X$1=tr=>z$1.has(tr.nodeName),R$2=(tr,Hn,er={})=>{const nr={...Hn};for(const ir in nr)nr[ir].valueOf()===er[ir]&&delete nr[ir];Object.keys(nr).length?tr.node.setAttribute("data-svgjs",JSON.stringify(nr)):(tr.node.removeAttribute("data-svgjs"),tr.node.removeAttribute("svgjs:data"))},E$2="http://www.w3.org/2000/svg",Y$1="http://www.w3.org/2000/xmlns/",H$2="http://www.w3.org/1999/xlink",O$2={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function F$1(){return O$2.window}let D$2=class{};const _$3={},N$2="___SYMBOL___ROOT___";function W$1(tr,Hn=E$2){return O$2.document.createElementNS(Hn,tr)}function B$2(tr,Hn=!1){if(tr instanceof D$2)return tr;if(typeof tr=="object")return U$1(tr);if(tr==null)return new _$3[N$2];if(typeof tr=="string"&&tr.charAt(0)!=="<")return U$1(O$2.document.querySelector(tr));const er=Hn?O$2.document.createElement("div"):W$1("svg");return er.innerHTML=tr,tr=U$1(er.firstChild),er.removeChild(er.firstChild),tr}function G$1(tr,Hn){return Hn&&(Hn instanceof O$2.window.Node||Hn.ownerDocument&&Hn instanceof Hn.ownerDocument.defaultView.Node)?Hn:W$1(tr)}function V$1(tr){if(!tr)return null;if(tr.instance instanceof D$2)return tr.instance;if(tr.nodeName==="#document-fragment")return new _$3.Fragment(tr);let Hn=P$1(tr.nodeName||"Dom");return Hn==="LinearGradient"||Hn==="RadialGradient"?Hn="Gradient":_$3[Hn]||(Hn="Dom"),new _$3[Hn](tr)}let U$1=V$1;function q$2(tr,Hn=tr.name,er=!1){return _$3[Hn]=tr,er&&(_$3[N$2]=tr),S$2(Object.getOwnPropertyNames(tr.prototype)),tr}let Z$1=1e3;function $$2(tr){return"Svgjs"+P$1(tr)+Z$1++}function J$1(tr){for(let Hn=tr.children.length-1;Hn>=0;Hn--)J$1(tr.children[Hn]);return tr.id&&(tr.id=$$2(tr.nodeName)),tr}function Q$1(tr,Hn){let er,nr;for(nr=(tr=Array.isArray(tr)?tr:[tr]).length-1;nr>=0;nr--)for(er in Hn)tr[nr].prototype[er]=Hn[er]}function K$1(tr){return function(...Hn){const er=Hn[Hn.length-1];return!er||er.constructor!==Object||er instanceof Array?tr.apply(this,Hn):tr.apply(this,Hn.slice(0,-1)).attr(er)}}A$2("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const tr=this.position();return this.parent().add(this.remove(),tr+1),this},backward:function(){const tr=this.position();return this.parent().add(this.remove(),tr?tr-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(tr){(tr=B$2(tr)).remove();const Hn=this.position();return this.parent().add(tr,Hn),this},after:function(tr){(tr=B$2(tr)).remove();const Hn=this.position();return this.parent().add(tr,Hn+1),this},insertBefore:function(tr){return(tr=B$2(tr)).before(this),this},insertAfter:function(tr){return(tr=B$2(tr)).after(this),this}});const tt$1=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,et$1=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,it$1=/rgb\((\d+),(\d+),(\d+)\)/,at$1=/(#[a-z_][a-z0-9\-_]*)/i,st$1=/\)\s*,?\s*/,rt$1=/\s/g,nt$1=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ot$1=/^rgb\(/,lt$1=/^(\s+)?$/,ht$1=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ct$1=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,dt$1=/[\s,]+/,ut$1=/[MLHVCSQTAZ]/i;function gt$1(tr){const Hn=Math.round(tr),er=Math.max(0,Math.min(255,Hn)).toString(16);return er.length===1?"0"+er:er}function pt$1(tr,Hn){for(let er=Hn.length;er--;)if(tr[Hn[er]]==null)return!1;return!0}function ft$1(tr,Hn,er){return er<0&&(er+=1),er>1&&(er-=1),er<1/6?tr+6*(Hn-tr)*er:er<.5?Hn:er<2/3?tr+(Hn-tr)*(2/3-er)*6:tr}A$2("Dom",{classes:function(){const tr=this.attr("class");return tr==null?[]:tr.trim().split(dt$1)},hasClass:function(tr){return this.classes().indexOf(tr)!==-1},addClass:function(tr){if(!this.hasClass(tr)){const Hn=this.classes();Hn.push(tr),this.attr("class",Hn.join(" "))}return this},removeClass:function(tr){return this.hasClass(tr)&&this.attr("class",this.classes().filter((function(Hn){return Hn!==tr})).join(" ")),this},toggleClass:function(tr){return this.hasClass(tr)?this.removeClass(tr):this.addClass(tr)}}),A$2("Dom",{css:function(tr,Hn){const er={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(nr){return!!nr.length})).forEach((function(nr){const ir=nr.split(/\s*:\s*/);er[ir[0]]=ir[1]})),er;if(arguments.length<2){if(Array.isArray(tr)){for(const nr of tr){const ir=nr;er[nr]=this.node.style.getPropertyValue(ir)}return er}if(typeof tr=="string")return this.node.style.getPropertyValue(tr);if(typeof tr=="object")for(const nr in tr)this.node.style.setProperty(nr,tr[nr]==null||lt$1.test(tr[nr])?"":tr[nr])}return arguments.length===2&&this.node.style.setProperty(tr,Hn==null||lt$1.test(Hn)?"":Hn),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),A$2("Dom",{data:function(tr,Hn,er){if(tr==null)return this.data(L$3((function(nr,ir){let rr;const sr=nr.length,ar=[];for(rr=0;rr<sr;rr++)ir(nr[rr])&&ar.push(nr[rr]);return ar})(this.node.attributes,(nr=>nr.nodeName.indexOf("data-")===0)),(nr=>nr.nodeName.slice(5))));if(tr instanceof Array){const nr={};for(const ir of tr)nr[ir]=this.data(ir);return nr}if(typeof tr=="object")for(Hn in tr)this.data(Hn,tr[Hn]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+tr))}catch{return this.attr("data-"+tr)}else this.attr("data-"+tr,Hn===null?null:er===!0||typeof Hn=="string"||typeof Hn=="number"?Hn:JSON.stringify(Hn));return this}}),A$2("Dom",{remember:function(tr,Hn){if(typeof arguments[0]=="object")for(const er in tr)this.remember(er,tr[er]);else{if(arguments.length===1)return this.memory()[tr];this.memory()[tr]=Hn}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let tr=arguments.length-1;tr>=0;tr--)delete this.memory()[arguments[tr]];return this},memory:function(){return this._memory=this._memory||{}}});let xt$1=class Ld{constructor(...Hn){this.init(...Hn)}static isColor(Hn){return Hn&&(Hn instanceof Ld||this.isRgb(Hn)||this.test(Hn))}static isRgb(Hn){return Hn&&typeof Hn.r=="number"&&typeof Hn.g=="number"&&typeof Hn.b=="number"}static random(Hn="vibrant",er){const{random:nr,round:ir,sin:rr,PI:sr}=Math;if(Hn==="vibrant"){const ar=24*nr()+57,or=38*nr()+45,lr=360*nr();return new Ld(ar,or,lr,"lch")}if(Hn==="sine"){const ar=ir(80*rr(2*sr*(er=er??nr())/.5+.01)+150),or=ir(50*rr(2*sr*er/.5+4.6)+200),lr=ir(100*rr(2*sr*er/.5+2.3)+150);return new Ld(ar,or,lr)}if(Hn==="pastel"){const ar=8*nr()+86,or=17*nr()+9,lr=360*nr();return new Ld(ar,or,lr,"lch")}if(Hn==="dark"){const ar=10+10*nr(),or=50*nr()+86,lr=360*nr();return new Ld(ar,or,lr,"lch")}if(Hn==="rgb"){const ar=255*nr(),or=255*nr(),lr=255*nr();return new Ld(ar,or,lr)}if(Hn==="lab"){const ar=100*nr(),or=256*nr()-128,lr=256*nr()-128;return new Ld(ar,or,lr,"lab")}if(Hn==="grey"){const ar=255*nr();return new Ld(ar,ar,ar)}throw new Error("Unsupported random color mode")}static test(Hn){return typeof Hn=="string"&&(nt$1.test(Hn)||ot$1.test(Hn))}cmyk(){const{_a:Hn,_b:er,_c:nr}=this.rgb(),[ir,rr,sr]=[Hn,er,nr].map((or=>or/255)),ar=Math.min(1-ir,1-rr,1-sr);return ar===1?new Ld(0,0,0,1,"cmyk"):new Ld((1-ir-ar)/(1-ar),(1-rr-ar)/(1-ar),(1-sr-ar)/(1-ar),ar,"cmyk")}hsl(){const{_a:Hn,_b:er,_c:nr}=this.rgb(),[ir,rr,sr]=[Hn,er,nr].map((dr=>dr/255)),ar=Math.max(ir,rr,sr),or=Math.min(ir,rr,sr),lr=(ar+or)/2,cr=ar===or,ur=ar-or;return new Ld(360*(cr?0:ar===ir?((rr-sr)/ur+(rr<sr?6:0))/6:ar===rr?((sr-ir)/ur+2)/6:ar===sr?((ir-rr)/ur+4)/6:0),100*(cr?0:lr>.5?ur/(2-ar-or):ur/(ar+or)),100*lr,"hsl")}init(Hn=0,er=0,nr=0,ir=0,rr="rgb"){if(Hn=Hn||0,this.space)for(const ur in this.space)delete this[this.space[ur]];if(typeof Hn=="number")rr=typeof ir=="string"?ir:rr,ir=typeof ir=="string"?0:ir,Object.assign(this,{_a:Hn,_b:er,_c:nr,_d:ir,space:rr});else if(Hn instanceof Array)this.space=er||(typeof Hn[3]=="string"?Hn[3]:Hn[4])||"rgb",Object.assign(this,{_a:Hn[0],_b:Hn[1],_c:Hn[2],_d:Hn[3]||0});else if(Hn instanceof Object){const ur=(function(dr,fr){const gr=pt$1(dr,"rgb")?{_a:dr.r,_b:dr.g,_c:dr.b,_d:0,space:"rgb"}:pt$1(dr,"xyz")?{_a:dr.x,_b:dr.y,_c:dr.z,_d:0,space:"xyz"}:pt$1(dr,"hsl")?{_a:dr.h,_b:dr.s,_c:dr.l,_d:0,space:"hsl"}:pt$1(dr,"lab")?{_a:dr.l,_b:dr.a,_c:dr.b,_d:0,space:"lab"}:pt$1(dr,"lch")?{_a:dr.l,_b:dr.c,_c:dr.h,_d:0,space:"lch"}:pt$1(dr,"cmyk")?{_a:dr.c,_b:dr.m,_c:dr.y,_d:dr.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return gr.space=fr||gr.space,gr})(Hn,er);Object.assign(this,ur)}else if(typeof Hn=="string")if(ot$1.test(Hn)){const ur=Hn.replace(rt$1,""),[dr,fr,gr]=it$1.exec(ur).slice(1,4).map((yr=>parseInt(yr)));Object.assign(this,{_a:dr,_b:fr,_c:gr,_d:0,space:"rgb"})}else{if(!nt$1.test(Hn))throw Error("Unsupported string format, can't construct Color");{const ur=yr=>parseInt(yr,16),[,dr,fr,gr]=et$1.exec((function(yr){return yr.length===4?["#",yr.substring(1,2),yr.substring(1,2),yr.substring(2,3),yr.substring(2,3),yr.substring(3,4),yr.substring(3,4)].join(""):yr})(Hn)).map(ur);Object.assign(this,{_a:dr,_b:fr,_c:gr,_d:0,space:"rgb"})}}const{_a:sr,_b:ar,_c:or,_d:lr}=this,cr=this.space==="rgb"?{r:sr,g:ar,b:or}:this.space==="xyz"?{x:sr,y:ar,z:or}:this.space==="hsl"?{h:sr,s:ar,l:or}:this.space==="lab"?{l:sr,a:ar,b:or}:this.space==="lch"?{l:sr,c:ar,h:or}:this.space==="cmyk"?{c:sr,m:ar,y:or,k:lr}:{};Object.assign(this,cr)}lab(){const{x:Hn,y:er,z:nr}=this.xyz();return new Ld(116*er-16,500*(Hn-er),200*(er-nr),"lab")}lch(){const{l:Hn,a:er,b:nr}=this.lab(),ir=Math.sqrt(er**2+nr**2);let rr=180*Math.atan2(nr,er)/Math.PI;return rr<0&&(rr*=-1,rr=360-rr),new Ld(Hn,ir,rr,"lch")}rgb(){if(this.space==="rgb")return this;if((Hn=this.space)==="lab"||Hn==="xyz"||Hn==="lch"){let{x:er,y:nr,z:ir}=this;if(this.space==="lab"||this.space==="lch"){let{l:fr,a:gr,b:yr}=this;if(this.space==="lch"){const{c:Nr,h:Or}=this,Fr=Math.PI/180;gr=Nr*Math.cos(Fr*Or),yr=Nr*Math.sin(Fr*Or)}const vr=(fr+16)/116,jr=gr/500+vr,Sr=vr-yr/200,Tr=16/116,Lr=.008856,Mr=7.787;er=.95047*(jr**3>Lr?jr**3:(jr-Tr)/Mr),nr=1*(vr**3>Lr?vr**3:(vr-Tr)/Mr),ir=1.08883*(Sr**3>Lr?Sr**3:(Sr-Tr)/Mr)}const rr=3.2406*er+-1.5372*nr+-.4986*ir,sr=-.9689*er+1.8758*nr+.0415*ir,ar=.0557*er+-.204*nr+1.057*ir,or=Math.pow,lr=.0031308,cr=rr>lr?1.055*or(rr,1/2.4)-.055:12.92*rr,ur=sr>lr?1.055*or(sr,1/2.4)-.055:12.92*sr,dr=ar>lr?1.055*or(ar,1/2.4)-.055:12.92*ar;return new Ld(255*cr,255*ur,255*dr)}if(this.space==="hsl"){let{h:er,s:nr,l:ir}=this;if(er/=360,nr/=100,ir/=100,nr===0)return ir*=255,new Ld(ir,ir,ir);const rr=ir<.5?ir*(1+nr):ir+nr-ir*nr,sr=2*ir-rr,ar=255*ft$1(sr,rr,er+1/3),or=255*ft$1(sr,rr,er),lr=255*ft$1(sr,rr,er-1/3);return new Ld(ar,or,lr)}if(this.space==="cmyk"){const{c:er,m:nr,y:ir,k:rr}=this,sr=255*(1-Math.min(1,er*(1-rr)+rr)),ar=255*(1-Math.min(1,nr*(1-rr)+rr)),or=255*(1-Math.min(1,ir*(1-rr)+rr));return new Ld(sr,ar,or)}return this;var Hn}toArray(){const{_a:Hn,_b:er,_c:nr,_d:ir,space:rr}=this;return[Hn,er,nr,ir,rr]}toHex(){const[Hn,er,nr]=this._clamped().map(gt$1);return`#${Hn}${er}${nr}`}toRgb(){const[Hn,er,nr]=this._clamped();return`rgb(${Hn},${er},${nr})`}toString(){return this.toHex()}xyz(){const{_a:Hn,_b:er,_c:nr}=this.rgb(),[ir,rr,sr]=[Hn,er,nr].map((vr=>vr/255)),ar=ir>.04045?Math.pow((ir+.055)/1.055,2.4):ir/12.92,or=rr>.04045?Math.pow((rr+.055)/1.055,2.4):rr/12.92,lr=sr>.04045?Math.pow((sr+.055)/1.055,2.4):sr/12.92,cr=(.4124*ar+.3576*or+.1805*lr)/.95047,ur=(.2126*ar+.7152*or+.0722*lr)/1,dr=(.0193*ar+.1192*or+.9505*lr)/1.08883,fr=cr>.008856?Math.pow(cr,1/3):7.787*cr+16/116,gr=ur>.008856?Math.pow(ur,1/3):7.787*ur+16/116,yr=dr>.008856?Math.pow(dr,1/3):7.787*dr+16/116;return new Ld(fr,gr,yr,"xyz")}_clamped(){const{_a:Hn,_b:er,_c:nr}=this.rgb(),{max:ir,min:rr,round:sr}=Math;return[Hn,er,nr].map((ar=>ir(0,rr(sr(ar),255))))}},bt$1=class c1{constructor(...Hn){this.init(...Hn)}clone(){return new c1(this)}init(Hn,er){const rr=Array.isArray(Hn)?{x:Hn[0],y:Hn[1]}:typeof Hn=="object"?{x:Hn.x,y:Hn.y}:{x:Hn,y:er};return this.x=rr.x==null?0:rr.x,this.y=rr.y==null?0:rr.y,this}toArray(){return[this.x,this.y]}transform(Hn){return this.clone().transformO(Hn)}transformO(Hn){vt$1.isMatrixLike(Hn)||(Hn=new vt$1(Hn));const{x:er,y:nr}=this;return this.x=Hn.a*er+Hn.c*nr+Hn.e,this.y=Hn.b*er+Hn.d*nr+Hn.f,this}};function mt$1(tr,Hn,er){return Math.abs(Hn-tr)<1e-6}let vt$1=class $d{constructor(...Hn){this.init(...Hn)}static formatTransforms(Hn){const er=Hn.flip==="both"||Hn.flip===!0,nr=Hn.flip&&(er||Hn.flip==="x")?-1:1,ir=Hn.flip&&(er||Hn.flip==="y")?-1:1,rr=Hn.skew&&Hn.skew.length?Hn.skew[0]:isFinite(Hn.skew)?Hn.skew:isFinite(Hn.skewX)?Hn.skewX:0,sr=Hn.skew&&Hn.skew.length?Hn.skew[1]:isFinite(Hn.skew)?Hn.skew:isFinite(Hn.skewY)?Hn.skewY:0,ar=Hn.scale&&Hn.scale.length?Hn.scale[0]*nr:isFinite(Hn.scale)?Hn.scale*nr:isFinite(Hn.scaleX)?Hn.scaleX*nr:nr,or=Hn.scale&&Hn.scale.length?Hn.scale[1]*ir:isFinite(Hn.scale)?Hn.scale*ir:isFinite(Hn.scaleY)?Hn.scaleY*ir:ir,lr=Hn.shear||0,cr=Hn.rotate||Hn.theta||0,ur=new bt$1(Hn.origin||Hn.around||Hn.ox||Hn.originX,Hn.oy||Hn.originY),dr=ur.x,fr=ur.y,gr=new bt$1(Hn.position||Hn.px||Hn.positionX||NaN,Hn.py||Hn.positionY||NaN),yr=gr.x,vr=gr.y,jr=new bt$1(Hn.translate||Hn.tx||Hn.translateX,Hn.ty||Hn.translateY),Sr=jr.x,Tr=jr.y,Lr=new bt$1(Hn.relative||Hn.rx||Hn.relativeX,Hn.ry||Hn.relativeY);return{scaleX:ar,scaleY:or,skewX:rr,skewY:sr,shear:lr,theta:cr,rx:Lr.x,ry:Lr.y,tx:Sr,ty:Tr,ox:dr,oy:fr,px:yr,py:vr}}static fromArray(Hn){return{a:Hn[0],b:Hn[1],c:Hn[2],d:Hn[3],e:Hn[4],f:Hn[5]}}static isMatrixLike(Hn){return Hn.a!=null||Hn.b!=null||Hn.c!=null||Hn.d!=null||Hn.e!=null||Hn.f!=null}static matrixMultiply(Hn,er,nr){const ir=Hn.a*er.a+Hn.c*er.b,rr=Hn.b*er.a+Hn.d*er.b,sr=Hn.a*er.c+Hn.c*er.d,ar=Hn.b*er.c+Hn.d*er.d,or=Hn.e+Hn.a*er.e+Hn.c*er.f,lr=Hn.f+Hn.b*er.e+Hn.d*er.f;return nr.a=ir,nr.b=rr,nr.c=sr,nr.d=ar,nr.e=or,nr.f=lr,nr}around(Hn,er,nr){return this.clone().aroundO(Hn,er,nr)}aroundO(Hn,er,nr){const ir=Hn||0,rr=er||0;return this.translateO(-ir,-rr).lmultiplyO(nr).translateO(ir,rr)}clone(){return new $d(this)}decompose(Hn=0,er=0){const nr=this.a,ir=this.b,rr=this.c,sr=this.d,ar=this.e,or=this.f,lr=nr*sr-ir*rr,cr=lr>0?1:-1,ur=cr*Math.sqrt(nr*nr+ir*ir),dr=Math.atan2(cr*ir,cr*nr),fr=180/Math.PI*dr,gr=Math.cos(dr),yr=Math.sin(dr),vr=(nr*rr+ir*sr)/lr,jr=rr*ur/(vr*nr-ir)||sr*ur/(vr*ir+nr);return{scaleX:ur,scaleY:jr,shear:vr,rotate:fr,translateX:ar-Hn+Hn*gr*ur+er*(vr*gr*ur-yr*jr),translateY:or-er+Hn*yr*ur+er*(vr*yr*ur+gr*jr),originX:Hn,originY:er,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(Hn){if(Hn===this)return!0;const er=new $d(Hn);return mt$1(this.a,er.a)&&mt$1(this.b,er.b)&&mt$1(this.c,er.c)&&mt$1(this.d,er.d)&&mt$1(this.e,er.e)&&mt$1(this.f,er.f)}flip(Hn,er){return this.clone().flipO(Hn,er)}flipO(Hn,er){return Hn==="x"?this.scaleO(-1,1,er,0):Hn==="y"?this.scaleO(1,-1,0,er):this.scaleO(-1,-1,Hn,er||Hn)}init(Hn){const er=$d.fromArray([1,0,0,1,0,0]);return Hn=Hn instanceof Gt$1?Hn.matrixify():typeof Hn=="string"?$d.fromArray(Hn.split(dt$1).map(parseFloat)):Array.isArray(Hn)?$d.fromArray(Hn):typeof Hn=="object"&&$d.isMatrixLike(Hn)?Hn:typeof Hn=="object"?new $d().transform(Hn):arguments.length===6?$d.fromArray([].slice.call(arguments)):er,this.a=Hn.a!=null?Hn.a:er.a,this.b=Hn.b!=null?Hn.b:er.b,this.c=Hn.c!=null?Hn.c:er.c,this.d=Hn.d!=null?Hn.d:er.d,this.e=Hn.e!=null?Hn.e:er.e,this.f=Hn.f!=null?Hn.f:er.f,this}inverse(){return this.clone().inverseO()}inverseO(){const Hn=this.a,er=this.b,nr=this.c,ir=this.d,rr=this.e,sr=this.f,ar=Hn*ir-er*nr;if(!ar)throw new Error("Cannot invert "+this);const or=ir/ar,lr=-er/ar,cr=-nr/ar,ur=Hn/ar,dr=-(or*rr+cr*sr),fr=-(lr*rr+ur*sr);return this.a=or,this.b=lr,this.c=cr,this.d=ur,this.e=dr,this.f=fr,this}lmultiply(Hn){return this.clone().lmultiplyO(Hn)}lmultiplyO(Hn){const er=Hn instanceof $d?Hn:new $d(Hn);return $d.matrixMultiply(er,this,this)}multiply(Hn){return this.clone().multiplyO(Hn)}multiplyO(Hn){const er=Hn instanceof $d?Hn:new $d(Hn);return $d.matrixMultiply(this,er,this)}rotate(Hn,er,nr){return this.clone().rotateO(Hn,er,nr)}rotateO(Hn,er=0,nr=0){Hn=M$2(Hn);const ir=Math.cos(Hn),rr=Math.sin(Hn),{a:sr,b:ar,c:or,d:lr,e:cr,f:ur}=this;return this.a=sr*ir-ar*rr,this.b=ar*ir+sr*rr,this.c=or*ir-lr*rr,this.d=lr*ir+or*rr,this.e=cr*ir-ur*rr+nr*rr-er*ir+er,this.f=ur*ir+cr*rr-er*rr-nr*ir+nr,this}scale(){return this.clone().scaleO(...arguments)}scaleO(Hn,er=Hn,nr=0,ir=0){arguments.length===3&&(ir=nr,nr=er,er=Hn);const{a:rr,b:sr,c:ar,d:or,e:lr,f:cr}=this;return this.a=rr*Hn,this.b=sr*er,this.c=ar*Hn,this.d=or*er,this.e=lr*Hn-nr*Hn+nr,this.f=cr*er-ir*er+ir,this}shear(Hn,er,nr){return this.clone().shearO(Hn,er,nr)}shearO(Hn,er=0,nr=0){const{a:ir,b:rr,c:sr,d:ar,e:or,f:lr}=this;return this.a=ir+rr*Hn,this.c=sr+ar*Hn,this.e=or+lr*Hn-nr*Hn,this}skew(){return this.clone().skewO(...arguments)}skewO(Hn,er=Hn,nr=0,ir=0){arguments.length===3&&(ir=nr,nr=er,er=Hn),Hn=M$2(Hn),er=M$2(er);const rr=Math.tan(Hn),sr=Math.tan(er),{a:ar,b:or,c:lr,d:cr,e:ur,f:dr}=this;return this.a=ar+or*rr,this.b=or+ar*sr,this.c=lr+cr*rr,this.d=cr+lr*sr,this.e=ur+dr*rr-ir*rr,this.f=dr+ur*sr-nr*sr,this}skewX(Hn,er,nr){return this.skew(Hn,0,er,nr)}skewY(Hn,er,nr){return this.skew(0,Hn,er,nr)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(Hn){if($d.isMatrixLike(Hn))return new $d(Hn).multiplyO(this);const er=$d.formatTransforms(Hn),{x:nr,y:ir}=new bt$1(er.ox,er.oy).transform(this),rr=new $d().translateO(er.rx,er.ry).lmultiplyO(this).translateO(-nr,-ir).scaleO(er.scaleX,er.scaleY).skewO(er.skewX,er.skewY).shearO(er.shear).rotateO(er.theta).translateO(nr,ir);if(isFinite(er.px)||isFinite(er.py)){const sr=new bt$1(nr,ir).transform(rr),ar=isFinite(er.px)?er.px-sr.x:0,or=isFinite(er.py)?er.py-sr.y:0;rr.translateO(ar,or)}return rr.translateO(er.tx,er.ty),rr}translate(Hn,er){return this.clone().translateO(Hn,er)}translateO(Hn,er){return this.e+=Hn||0,this.f+=er||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function yt$1(){if(!yt$1.nodes){const tr=B$2().size(2,0);tr.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),tr.attr("focusable","false"),tr.attr("aria-hidden","true");const Hn=tr.path().node;yt$1.nodes={svg:tr,path:Hn}}if(!yt$1.nodes.svg.node.parentNode){const tr=O$2.document.body||O$2.document.documentElement;yt$1.nodes.svg.addTo(tr)}return yt$1.nodes}function wt$1(tr){return!(tr.width||tr.height||tr.x||tr.y)}q$2(vt$1,"Matrix");let kt$1=class H0{constructor(...Hn){this.init(...Hn)}addOffset(){return this.x+=O$2.window.pageXOffset,this.y+=O$2.window.pageYOffset,new H0(this)}init(Hn){return Hn=typeof Hn=="string"?Hn.split(dt$1).map(parseFloat):Array.isArray(Hn)?Hn:typeof Hn=="object"?[Hn.left!=null?Hn.left:Hn.x,Hn.top!=null?Hn.top:Hn.y,Hn.width,Hn.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=Hn[0]||0,this.y=Hn[1]||0,this.width=this.w=Hn[2]||0,this.height=this.h=Hn[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return wt$1(this)}merge(Hn){const er=Math.min(this.x,Hn.x),nr=Math.min(this.y,Hn.y),ir=Math.max(this.x+this.width,Hn.x+Hn.width)-er,rr=Math.max(this.y+this.height,Hn.y+Hn.height)-nr;return new H0(er,nr,ir,rr)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(Hn){Hn instanceof vt$1||(Hn=new vt$1(Hn));let er=1/0,nr=-1/0,ir=1/0,rr=-1/0;return[new bt$1(this.x,this.y),new bt$1(this.x2,this.y),new bt$1(this.x,this.y2),new bt$1(this.x2,this.y2)].forEach((function(sr){sr=sr.transform(Hn),er=Math.min(er,sr.x),nr=Math.max(nr,sr.x),ir=Math.min(ir,sr.y),rr=Math.max(rr,sr.y)})),new H0(er,ir,nr-er,rr-ir)}};function At$1(tr,Hn,er){let nr;try{if(nr=Hn(tr.node),wt$1(nr)&&(ir=tr.node)!==O$2.document&&!(O$2.document.documentElement.contains||function(rr){for(;rr.parentNode;)rr=rr.parentNode;return rr===O$2.document}).call(O$2.document.documentElement,ir))throw new Error("Element not in the dom")}catch{nr=er(tr)}var ir;return nr}A$2({viewbox:{viewbox(tr,Hn,er,nr){return tr==null?new kt$1(this.attr("viewBox")):this.attr("viewBox",new kt$1(tr,Hn,er,nr))},zoom(tr,Hn){let{width:er,height:nr}=this.attr(["width","height"]);if((er||nr)&&typeof er!="string"&&typeof nr!="string"||(er=this.node.clientWidth,nr=this.node.clientHeight),!er||!nr)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const ir=this.viewbox(),rr=er/ir.width,sr=nr/ir.height,ar=Math.min(rr,sr);if(tr==null)return ar;let or=ar/tr;or===1/0&&(or=Number.MAX_SAFE_INTEGER/100),Hn=Hn||new bt$1(er/2/rr+ir.x,nr/2/sr+ir.y);const lr=new kt$1(ir).transform(new vt$1({scale:or,origin:Hn}));return this.viewbox(lr)}}}),q$2(kt$1,"Box");let Ct$1=class extends Array{constructor(Hn=[],...er){if(super(Hn,...er),typeof Hn=="number")return this;this.length=0,this.push(...Hn)}};Q$1([Ct$1],{each(tr,...Hn){return typeof tr=="function"?this.map(((er,nr,ir)=>tr.call(er,er,nr,ir))):this.map((er=>er[tr](...Hn)))},toArray(){return Array.prototype.concat.apply([],this)}});const St$1=["toArray","constructor","each"];function Lt$1(tr,Hn){return new Ct$1(L$3((Hn||O$2.document).querySelectorAll(tr),(function(er){return V$1(er)})))}Ct$1.extend=function(tr){tr=tr.reduce(((Hn,er)=>(St$1.includes(er)||er[0]==="_"||(er in Array.prototype&&(Hn["$"+er]=Array.prototype[er]),Hn[er]=function(...nr){return this.each(er,...nr)}),Hn)),{}),Q$1([Ct$1],tr)};let Mt$1=0;const Pt$1={};function It$1(tr){let Hn=tr.getEventHolder();return Hn===O$2.window&&(Hn=Pt$1),Hn.events||(Hn.events={}),Hn.events}function Tt$1(tr){return tr.getEventTarget()}function zt$1(tr,Hn,er,nr,ir){const rr=er.bind(nr||tr),sr=B$2(tr),ar=It$1(sr),or=Tt$1(sr);Hn=Array.isArray(Hn)?Hn:Hn.split(dt$1),er._svgjsListenerId||(er._svgjsListenerId=++Mt$1),Hn.forEach((function(lr){const cr=lr.split(".")[0],ur=lr.split(".")[1]||"*";ar[cr]=ar[cr]||{},ar[cr][ur]=ar[cr][ur]||{},ar[cr][ur][er._svgjsListenerId]=rr,or.addEventListener(cr,rr,ir||!1)}))}function Xt$1(tr,Hn,er,nr){const ir=B$2(tr),rr=It$1(ir),sr=Tt$1(ir);(typeof er!="function"||(er=er._svgjsListenerId))&&(Hn=Array.isArray(Hn)?Hn:(Hn||"").split(dt$1)).forEach((function(ar){const or=ar&&ar.split(".")[0],lr=ar&&ar.split(".")[1];let cr,ur;if(er)rr[or]&&rr[or][lr||"*"]&&(sr.removeEventListener(or,rr[or][lr||"*"][er],nr||!1),delete rr[or][lr||"*"][er]);else if(or&&lr){if(rr[or]&&rr[or][lr]){for(ur in rr[or][lr])Xt$1(sr,[or,lr].join("."),ur);delete rr[or][lr]}}else if(lr)for(ar in rr)for(cr in rr[ar])lr===cr&&Xt$1(sr,[ar,lr].join("."));else if(or){if(rr[or]){for(cr in rr[or])Xt$1(sr,[or,cr].join("."));delete rr[or]}}else{for(ar in rr)Xt$1(sr,ar);(function(dr){let fr=dr.getEventHolder();fr===O$2.window&&(fr=Pt$1),fr.events&&(fr.events={})})(ir)}}))}let Rt$1=class extends D$2{addEventListener(){}dispatch(Hn,er,nr){return(function(ir,rr,sr,ar){const or=Tt$1(ir);return rr instanceof O$2.window.Event||(rr=new O$2.window.CustomEvent(rr,{detail:sr,cancelable:!0,...ar})),or.dispatchEvent(rr),rr})(this,Hn,er,nr)}dispatchEvent(Hn){const er=this.getEventHolder().events;if(!er)return!0;const nr=er[Hn.type];for(const ir in nr)for(const rr in nr[ir])nr[ir][rr](Hn);return!Hn.defaultPrevented}fire(Hn,er,nr){return this.dispatch(Hn,er,nr),this}getEventHolder(){return this}getEventTarget(){return this}off(Hn,er,nr){return Xt$1(this,Hn,er,nr),this}on(Hn,er,nr,ir){return zt$1(this,Hn,er,nr,ir),this}removeEventListener(){}};function Et$1(){}q$2(Rt$1,"EventTarget");const Yt$1=400,Ht$1=">",Ot$1=0,Ft$1={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};let Dt$1=class extends Array{constructor(...Hn){super(...Hn),this.init(...Hn)}clone(){return new this.constructor(this)}init(Hn){return typeof Hn=="number"||(this.length=0,this.push(...this.parse(Hn))),this}parse(Hn=[]){return Hn instanceof Array?Hn:Hn.trim().split(dt$1).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const Hn=[];return Hn.push(...this),Hn}},_t$1=class Cg{constructor(...Hn){this.init(...Hn)}convert(Hn){return new Cg(this.value,Hn)}divide(Hn){return Hn=new Cg(Hn),new Cg(this/Hn,this.unit||Hn.unit)}init(Hn,er){return er=Array.isArray(Hn)?Hn[1]:er,Hn=Array.isArray(Hn)?Hn[0]:Hn,this.value=0,this.unit=er||"",typeof Hn=="number"?this.value=isNaN(Hn)?0:isFinite(Hn)?Hn:Hn<0?-34e37:34e37:typeof Hn=="string"?(er=Hn.match(tt$1))&&(this.value=parseFloat(er[1]),er[5]==="%"?this.value/=100:er[5]==="s"&&(this.value*=1e3),this.unit=er[5]):Hn instanceof Cg&&(this.value=Hn.valueOf(),this.unit=Hn.unit),this}minus(Hn){return Hn=new Cg(Hn),new Cg(this-Hn,this.unit||Hn.unit)}plus(Hn){return Hn=new Cg(Hn),new Cg(this+Hn,this.unit||Hn.unit)}times(Hn){return Hn=new Cg(Hn),new Cg(this*Hn,this.unit||Hn.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};const Nt$1=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Wt$1=[];let Bt$1=class u1 extends Rt$1{constructor(Hn,er){super(),this.node=Hn,this.type=Hn.nodeName,er&&Hn!==er&&this.attr(er)}add(Hn,er){return(Hn=B$2(Hn)).removeNamespace&&this.node instanceof O$2.window.SVGElement&&Hn.removeNamespace(),er==null?this.node.appendChild(Hn.node):Hn.node!==this.node.childNodes[er]&&this.node.insertBefore(Hn.node,this.node.childNodes[er]),this}addTo(Hn,er){return B$2(Hn).put(this,er)}children(){return new Ct$1(L$3(this.node.children,(function(Hn){return V$1(Hn)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(Hn=!0,er=!0){this.writeDataToDom();let nr=this.node.cloneNode(Hn);return er&&(nr=J$1(nr)),new this.constructor(nr)}each(Hn,er){const nr=this.children();let ir,rr;for(ir=0,rr=nr.length;ir<rr;ir++)Hn.apply(nr[ir],[ir,nr]),er&&nr[ir].each(Hn,er);return this}element(Hn,er){return this.put(new u1(W$1(Hn),er))}first(){return V$1(this.node.firstChild)}get(Hn){return V$1(this.node.childNodes[Hn])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(Hn){return this.index(Hn)>=0}html(Hn,er){return this.xml(Hn,er,"http://www.w3.org/1999/xhtml")}id(Hn){return Hn!==void 0||this.node.id||(this.node.id=$$2(this.type)),this.attr("id",Hn)}index(Hn){return[].slice.call(this.node.childNodes).indexOf(Hn.node)}last(){return V$1(this.node.lastChild)}matches(Hn){const er=this.node,nr=er.matches||er.matchesSelector||er.msMatchesSelector||er.mozMatchesSelector||er.webkitMatchesSelector||er.oMatchesSelector||null;return nr&&nr.call(er,Hn)}parent(Hn){let er=this;if(!er.node.parentNode)return null;if(er=V$1(er.node.parentNode),!Hn)return er;do if(typeof Hn=="string"?er.matches(Hn):er instanceof Hn)return er;while(er=V$1(er.node.parentNode));return er}put(Hn,er){return Hn=B$2(Hn),this.add(Hn,er),Hn}putIn(Hn,er){return B$2(Hn).add(this,er)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(Hn){return this.node.removeChild(Hn.node),this}replace(Hn){return Hn=B$2(Hn),this.node.parentNode&&this.node.parentNode.replaceChild(Hn.node,this.node),Hn}round(Hn=2,er=null){const nr=10**Hn,ir=this.attr(er);for(const rr in ir)typeof ir[rr]=="number"&&(ir[rr]=Math.round(ir[rr]*nr)/nr);return this.attr(ir),this}svg(Hn,er){return this.xml(Hn,er,E$2)}toString(){return this.id()}words(Hn){return this.node.textContent=Hn,this}wrap(Hn){const er=this.parent();if(!er)return this.addTo(Hn);const nr=er.index(this);return er.put(Hn,nr).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(Hn,er,nr){if(typeof Hn=="boolean"&&(nr=er,er=Hn,Hn=null),Hn==null||typeof Hn=="function"){er=er==null||er,this.writeDataToDom();let ar=this;if(Hn!=null){if(ar=V$1(ar.node.cloneNode(!0)),er){const or=Hn(ar);if(ar=or||ar,or===!1)return""}ar.each((function(){const or=Hn(this),lr=or||this;or===!1?this.remove():or&&this!==lr&&this.replace(lr)}),!0)}return er?ar.node.outerHTML:ar.node.innerHTML}er=er!=null&&er;const ir=W$1("wrapper",nr),rr=O$2.document.createDocumentFragment();ir.innerHTML=Hn;for(let ar=ir.children.length;ar--;)rr.appendChild(ir.firstElementChild);const sr=this.parent();return er?this.replace(rr)&&sr:this.add(rr)}};Q$1(Bt$1,{attr:function(tr,Hn,er){if(tr==null){tr={},Hn=this.node.attributes;for(const nr of Hn)tr[nr.nodeName]=ht$1.test(nr.nodeValue)?parseFloat(nr.nodeValue):nr.nodeValue;return tr}if(tr instanceof Array)return tr.reduce(((nr,ir)=>(nr[ir]=this.attr(ir),nr)),{});if(typeof tr=="object"&&tr.constructor===Object)for(Hn in tr)this.attr(Hn,tr[Hn]);else if(Hn===null)this.node.removeAttribute(tr);else{if(Hn==null)return(Hn=this.node.getAttribute(tr))==null?Ft$1[tr]:ht$1.test(Hn)?parseFloat(Hn):Hn;typeof(Hn=Wt$1.reduce(((nr,ir)=>ir(tr,nr,this)),Hn))=="number"?Hn=new _t$1(Hn):Nt$1.has(tr)&&xt$1.isColor(Hn)?Hn=new xt$1(Hn):Hn.constructor===Array&&(Hn=new Dt$1(Hn)),tr==="leading"?this.leading&&this.leading(Hn):typeof er=="string"?this.node.setAttributeNS(er,tr,Hn.toString()):this.node.setAttribute(tr,Hn.toString()),!this.rebuild||tr!=="font-size"&&tr!=="x"||this.rebuild()}return this},find:function(tr){return Lt$1(tr,this.node)},findOne:function(tr){return V$1(this.node.querySelector(tr))}}),q$2(Bt$1,"Dom");let Gt$1=class extends Bt$1{constructor(Hn,er){super(Hn,er),this.dom={},this.node.instance=this,(Hn.hasAttribute("data-svgjs")||Hn.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(Hn.getAttribute("data-svgjs"))??JSON.parse(Hn.getAttribute("svgjs:data"))??{})}center(Hn,er){return this.cx(Hn).cy(er)}cx(Hn){return Hn==null?this.x()+this.width()/2:this.x(Hn-this.width()/2)}cy(Hn){return Hn==null?this.y()+this.height()/2:this.y(Hn-this.height()/2)}defs(){const Hn=this.root();return Hn&&Hn.defs()}dmove(Hn,er){return this.dx(Hn).dy(er)}dx(Hn=0){return this.x(new _t$1(Hn).plus(this.x()))}dy(Hn=0){return this.y(new _t$1(Hn).plus(this.y()))}getEventHolder(){return this}height(Hn){return this.attr("height",Hn)}move(Hn,er){return this.x(Hn).y(er)}parents(Hn=this.root()){const er=typeof Hn=="string";er||(Hn=B$2(Hn));const nr=new Ct$1;let ir=this;for(;(ir=ir.parent())&&ir.node!==O$2.document&&ir.nodeName!=="#document-fragment"&&(nr.push(ir),er||ir.node!==Hn.node)&&(!er||!ir.matches(Hn));)if(ir.node===this.root().node)return null;return nr}reference(Hn){if(!(Hn=this.attr(Hn)))return null;const er=(Hn+"").match(at$1);return er?B$2(er[1]):null}root(){const Hn=this.parent((function(er){return _$3[er]})(N$2));return Hn&&Hn.root()}setData(Hn){return this.dom=Hn,this}size(Hn,er){const nr=I$2(this,Hn,er);return this.width(new _t$1(nr.width)).height(new _t$1(nr.height))}width(Hn){return this.attr("width",Hn)}writeDataToDom(){return R$2(this,this.dom),super.writeDataToDom()}x(Hn){return this.attr("x",Hn)}y(Hn){return this.attr("y",Hn)}};Q$1(Gt$1,{bbox:function(){const tr=At$1(this,(Hn=>Hn.getBBox()),(Hn=>{try{const er=Hn.clone().addTo(yt$1().svg).show(),nr=er.node.getBBox();return er.remove(),nr}catch(er){throw new Error(`Getting bbox of element "${Hn.node.nodeName}" is not possible: ${er.toString()}`)}}));return new kt$1(tr)},rbox:function(tr){const Hn=At$1(this,(nr=>nr.getBoundingClientRect()),(nr=>{throw new Error(`Getting rbox of element "${nr.node.nodeName}" is not possible`)})),er=new kt$1(Hn);return tr?er.transform(tr.screenCTM().inverseO()):er.addOffset()},inside:function(tr,Hn){const er=this.bbox();return tr>er.x&&Hn>er.y&&tr<er.x+er.width&&Hn<er.y+er.height},point:function(tr,Hn){return new bt$1(tr,Hn).transformO(this.screenCTM().inverseO())},ctm:function(){return new vt$1(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const tr=this.rect(1,1),Hn=tr.node.getScreenCTM();return tr.remove(),new vt$1(Hn)}return new vt$1(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new vt$1}}}),q$2(Gt$1,"Element");const jt$1={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(tr,Hn){return Hn==="color"?tr:tr+"-"+Hn}};["fill","stroke"].forEach((function(tr){const Hn={};let er;Hn[tr]=function(nr){if(nr===void 0)return this.attr(tr);if(typeof nr=="string"||nr instanceof xt$1||xt$1.isRgb(nr)||nr instanceof Gt$1)this.attr(tr,nr);else for(er=jt$1[tr].length-1;er>=0;er--)nr[jt$1[tr][er]]!=null&&this.attr(jt$1.prefix(tr,jt$1[tr][er]),nr[jt$1[tr][er]]);return this},A$2(["Element","Runner"],Hn)})),A$2(["Element","Runner"],{matrix:function(tr,Hn,er,nr,ir,rr){return tr==null?new vt$1(this):this.attr("transform",new vt$1(tr,Hn,er,nr,ir,rr))},rotate:function(tr,Hn,er){return this.transform({rotate:tr,ox:Hn,oy:er},!0)},skew:function(tr,Hn,er,nr){return arguments.length===1||arguments.length===3?this.transform({skew:tr,ox:Hn,oy:er},!0):this.transform({skew:[tr,Hn],ox:er,oy:nr},!0)},shear:function(tr,Hn,er){return this.transform({shear:tr,ox:Hn,oy:er},!0)},scale:function(tr,Hn,er,nr){return arguments.length===1||arguments.length===3?this.transform({scale:tr,ox:Hn,oy:er},!0):this.transform({scale:[tr,Hn],ox:er,oy:nr},!0)},translate:function(tr,Hn){return this.transform({translate:[tr,Hn]},!0)},relative:function(tr,Hn){return this.transform({relative:[tr,Hn]},!0)},flip:function(tr="both",Hn="center"){return"xybothtrue".indexOf(tr)===-1&&(Hn=tr,tr="both"),this.transform({flip:tr,origin:Hn},!0)},opacity:function(tr){return this.attr("opacity",tr)}}),A$2("radius",{radius:function(tr,Hn=tr){return(this._element||this).type==="radialGradient"?this.attr("r",new _t$1(tr)):this.rx(tr).ry(Hn)}}),A$2("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(tr){return new bt$1(this.node.getPointAtLength(tr))}}),A$2(["Element","Runner"],{font:function(tr,Hn){if(typeof tr=="object"){for(Hn in tr)this.font(Hn,tr[Hn]);return this}return tr==="leading"?this.leading(Hn):tr==="anchor"?this.attr("text-anchor",Hn):tr==="size"||tr==="family"||tr==="weight"||tr==="stretch"||tr==="variant"||tr==="style"?this.attr("font-"+tr,Hn):this.attr(tr,Hn)}});A$2("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(tr,Hn){return tr[Hn]=function(er){return er===null?this.off(Hn):this.on(Hn,er),this},tr}),{})),A$2("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(st$1).slice(0,-1).map((function(Hn){const er=Hn.trim().split("(");return[er[0],er[1].split(dt$1).map((function(nr){return parseFloat(nr)}))]})).reverse().reduce((function(Hn,er){return er[0]==="matrix"?Hn.lmultiply(vt$1.fromArray(er[1])):Hn[er[0]].apply(Hn,er[1])}),new vt$1)},toParent:function(tr,Hn){if(this===tr)return this;if(X$1(this.node))return this.addTo(tr,Hn);const er=this.screenCTM(),nr=tr.screenCTM().inverse();return this.addTo(tr,Hn).untransform().transform(nr.multiply(er)),this},toRoot:function(tr){return this.toParent(this.root(),tr)},transform:function(tr,Hn){if(tr==null||typeof tr=="string"){const nr=new vt$1(this).decompose();return tr==null?nr:nr[tr]}vt$1.isMatrixLike(tr)||(tr={...tr,origin:T$2(tr,this)});const er=new vt$1(Hn===!0?this:Hn||!1).transform(tr);return this.attr("transform",er)}});let Vt$1=class d1 extends Gt$1{flatten(){return this.each((function(){if(this instanceof d1)return this.flatten().ungroup()})),this}ungroup(Hn=this.parent(),er=Hn.index(this)){return er=er===-1?Hn.children().length:er,this.each((function(nr,ir){return ir[ir.length-nr-1].toParent(Hn,er)})),this.remove()}};q$2(Vt$1,"Container");let Ut$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("defs",Hn),er)}flatten(){return this}ungroup(){return this}};q$2(Ut$1,"Defs");let qt$1=class extends Gt$1{};function Zt$1(tr){return this.attr("rx",tr)}function $t$1(tr){return this.attr("ry",tr)}function Jt$1(tr){return tr==null?this.cx()-this.rx():this.cx(tr+this.rx())}function Qt$1(tr){return tr==null?this.cy()-this.ry():this.cy(tr+this.ry())}function Kt$1(tr){return this.attr("cx",tr)}function te(tr){return this.attr("cy",tr)}function ee(tr){return tr==null?2*this.rx():this.rx(new _t$1(tr).divide(2))}function ie(tr){return tr==null?2*this.ry():this.ry(new _t$1(tr).divide(2))}q$2(qt$1,"Shape");var ae=Object.freeze({__proto__:null,cx:Kt$1,cy:te,height:ie,rx:Zt$1,ry:$t$1,width:ee,x:Jt$1,y:Qt$1});class se extends qt$1{constructor(Hn,er=Hn){super(G$1("ellipse",Hn),er)}size(Hn,er){const nr=I$2(this,Hn,er);return this.rx(new _t$1(nr.width).divide(2)).ry(new _t$1(nr.height).divide(2))}}Q$1(se,ae),A$2("Container",{ellipse:K$1((function(tr=0,Hn=tr){return this.put(new se).size(tr,Hn).move(0,0)}))}),q$2(se,"Ellipse");class re extends Bt$1{constructor(Hn=O$2.document.createDocumentFragment()){super(Hn)}xml(Hn,er,nr){if(typeof Hn=="boolean"&&(nr=er,er=Hn,Hn=null),Hn==null||typeof Hn=="function"){const ir=new Bt$1(W$1("wrapper",nr));return ir.add(this.node.cloneNode(!0)),ir.xml(!1,nr)}return super.xml(Hn,!1,nr)}}function ne(tr,Hn){return(this._element||this).type==="radialGradient"?this.attr({fx:new _t$1(tr),fy:new _t$1(Hn)}):this.attr({x1:new _t$1(tr),y1:new _t$1(Hn)})}function oe$1(tr,Hn){return(this._element||this).type==="radialGradient"?this.attr({cx:new _t$1(tr),cy:new _t$1(Hn)}):this.attr({x2:new _t$1(tr),y2:new _t$1(Hn)})}q$2(re,"Fragment");var le=Object.freeze({__proto__:null,from:ne,to:oe$1});class he extends Vt$1{constructor(Hn,er){super(G$1(Hn+"Gradient",typeof Hn=="string"?null:Hn),er)}attr(Hn,er,nr){return Hn==="transform"&&(Hn="gradientTransform"),super.attr(Hn,er,nr)}bbox(){return new kt$1}targets(){return Lt$1("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(Hn){return this.clear(),typeof Hn=="function"&&Hn.call(this,this),this}url(){return"url(#"+this.id()+")"}}Q$1(he,le),A$2({Container:{gradient(...tr){return this.defs().gradient(...tr)}},Defs:{gradient:K$1((function(tr,Hn){return this.put(new he(tr)).update(Hn)}))}}),q$2(he,"Gradient");class ce extends Vt$1{constructor(Hn,er=Hn){super(G$1("pattern",Hn),er)}attr(Hn,er,nr){return Hn==="transform"&&(Hn="patternTransform"),super.attr(Hn,er,nr)}bbox(){return new kt$1}targets(){return Lt$1("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(Hn){return this.clear(),typeof Hn=="function"&&Hn.call(this,this),this}url(){return"url(#"+this.id()+")"}}A$2({Container:{pattern(...tr){return this.defs().pattern(...tr)}},Defs:{pattern:K$1((function(tr,Hn,er){return this.put(new ce).update(er).attr({x:0,y:0,width:tr,height:Hn,patternUnits:"userSpaceOnUse"})}))}}),q$2(ce,"Pattern");let de=class extends qt$1{constructor(tr,Hn=tr){super(G$1("image",tr),Hn)}load(tr,Hn){if(!tr)return this;const er=new O$2.window.Image;return zt$1(er,"load",(function(nr){const ir=this.parent(ce);this.width()===0&&this.height()===0&&this.size(er.width,er.height),ir instanceof ce&&ir.width()===0&&ir.height()===0&&ir.size(this.width(),this.height()),typeof Hn=="function"&&Hn.call(this,nr)}),this),zt$1(er,"load error",(function(){Xt$1(er)})),this.attr("href",er.src=tr,H$2)}};var ue$1;ue$1=function(tr,Hn,er){return tr!=="fill"&&tr!=="stroke"||ct$1.test(Hn)&&(Hn=er.root().defs().image(Hn)),Hn instanceof de&&(Hn=er.root().defs().pattern(0,0,(nr=>{nr.add(Hn)}))),Hn},Wt$1.push(ue$1),A$2({Container:{image:K$1((function(tr,Hn){return this.put(new de).size(0,0).load(tr,Hn)}))}}),q$2(de,"Image");class ge extends Dt$1{bbox(){let Hn=-1/0,er=-1/0,nr=1/0,ir=1/0;return this.forEach((function(rr){Hn=Math.max(rr[0],Hn),er=Math.max(rr[1],er),nr=Math.min(rr[0],nr),ir=Math.min(rr[1],ir)})),new kt$1(nr,ir,Hn-nr,er-ir)}move(Hn,er){const nr=this.bbox();if(Hn-=nr.x,er-=nr.y,!isNaN(Hn)&&!isNaN(er))for(let ir=this.length-1;ir>=0;ir--)this[ir]=[this[ir][0]+Hn,this[ir][1]+er];return this}parse(Hn=[0,0]){const er=[];(Hn=Hn instanceof Array?Array.prototype.concat.apply([],Hn):Hn.trim().split(dt$1).map(parseFloat)).length%2!=0&&Hn.pop();for(let nr=0,ir=Hn.length;nr<ir;nr+=2)er.push([Hn[nr],Hn[nr+1]]);return er}size(Hn,er){let nr;const ir=this.bbox();for(nr=this.length-1;nr>=0;nr--)ir.width&&(this[nr][0]=(this[nr][0]-ir.x)*Hn/ir.width+ir.x),ir.height&&(this[nr][1]=(this[nr][1]-ir.y)*er/ir.height+ir.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const Hn=[];for(let er=0,nr=this.length;er<nr;er++)Hn.push(this[er].join(","));return Hn.join(" ")}transform(Hn){return this.clone().transformO(Hn)}transformO(Hn){vt$1.isMatrixLike(Hn)||(Hn=new vt$1(Hn));for(let er=this.length;er--;){const[nr,ir]=this[er];this[er][0]=Hn.a*nr+Hn.c*ir+Hn.e,this[er][1]=Hn.b*nr+Hn.d*ir+Hn.f}return this}}const pe=ge;var fe=Object.freeze({__proto__:null,MorphArray:pe,height:function(tr){const Hn=this.bbox();return tr==null?Hn.height:this.size(Hn.width,tr)},width:function(tr){const Hn=this.bbox();return tr==null?Hn.width:this.size(tr,Hn.height)},x:function(tr){return tr==null?this.bbox().x:this.move(tr,this.bbox().y)},y:function(tr){return tr==null?this.bbox().y:this.move(this.bbox().x,tr)}});let xe$1=class extends qt$1{constructor(Hn,er=Hn){super(G$1("line",Hn),er)}array(){return new ge([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(Hn,er){return this.attr(this.array().move(Hn,er).toLine())}plot(Hn,er,nr,ir){return Hn==null?this.array():(Hn=er!==void 0?{x1:Hn,y1:er,x2:nr,y2:ir}:new ge(Hn).toLine(),this.attr(Hn))}size(Hn,er){const nr=I$2(this,Hn,er);return this.attr(this.array().size(nr.width,nr.height).toLine())}};Q$1(xe$1,fe),A$2({Container:{line:K$1((function(...tr){return xe$1.prototype.plot.apply(this.put(new xe$1),tr[0]!=null?tr:[0,0,0,0])}))}}),q$2(xe$1,"Line");let be=class extends Vt$1{constructor(tr,Hn=tr){super(G$1("marker",tr),Hn)}height(tr){return this.attr("markerHeight",tr)}orient(tr){return this.attr("orient",tr)}ref(tr,Hn){return this.attr("refX",tr).attr("refY",Hn)}toString(){return"url(#"+this.id()+")"}update(tr){return this.clear(),typeof tr=="function"&&tr.call(this,this),this}width(tr){return this.attr("markerWidth",tr)}};function me$1(tr,Hn){return function(er){return er==null?this[tr]:(this[tr]=er,Hn&&Hn.call(this),this)}}A$2({Container:{marker(...tr){return this.defs().marker(...tr)}},Defs:{marker:K$1((function(tr,Hn,er){return this.put(new be).size(tr,Hn).ref(tr/2,Hn/2).viewbox(0,0,tr,Hn).attr("orient","auto").update(er)}))},marker:{marker(tr,Hn,er,nr){let ir=["marker"];return tr!=="all"&&ir.push(tr),ir=ir.join("-"),tr=arguments[1]instanceof be?arguments[1]:this.defs().marker(Hn,er,nr),this.attr(ir,tr)}}}),q$2(be,"Marker");const ve$1={"-":function(tr){return tr},"<>":function(tr){return-Math.cos(tr*Math.PI)/2+.5},">":function(tr){return Math.sin(tr*Math.PI/2)},"<":function(tr){return 1-Math.cos(tr*Math.PI/2)},bezier:function(tr,Hn,er,nr){return function(ir){return ir<0?tr>0?Hn/tr*ir:er>0?nr/er*ir:0:ir>1?er<1?(1-nr)/(1-er)*ir+(nr-er)/(1-er):tr<1?(1-Hn)/(1-tr)*ir+(Hn-tr)/(1-tr):1:3*ir*(1-ir)**2*Hn+3*ir**2*(1-ir)*nr+ir**3}},steps:function(tr,Hn="end"){Hn=Hn.split("-").reverse()[0];let er=tr;return Hn==="none"?--er:Hn==="both"&&++er,(nr,ir=!1)=>{let rr=Math.floor(nr*tr);const sr=nr*rr%1==0;return Hn!=="start"&&Hn!=="both"||++rr,ir&&sr&&--rr,nr>=0&&rr<0&&(rr=0),nr<=1&&rr>er&&(rr=er),rr/er}}};let ye$1=class{done(){return!1}},we$1=class extends ye$1{constructor(Hn=Ht$1){super(),this.ease=ve$1[Hn]||Hn}step(Hn,er,nr){return typeof Hn!="number"?nr<1?Hn:er:Hn+(er-Hn)*this.ease(nr)}},ke$1=class extends ye$1{constructor(Hn){super(),this.stepper=Hn}done(Hn){return Hn.done}step(Hn,er,nr,ir){return this.stepper(Hn,er,nr,ir)}};function Ae(){const tr=(this._duration||500)/1e3,Hn=this._overshoot||0,er=Math.PI,nr=Math.log(Hn/100+1e-10),ir=-nr/Math.sqrt(er*er+nr*nr),rr=3.9/(ir*tr);this.d=2*ir*rr,this.k=rr*rr}Q$1(class extends ke$1{constructor(tr=500,Hn=0){super(),this.duration(tr).overshoot(Hn)}step(tr,Hn,er,nr){if(typeof tr=="string")return tr;if(nr.done=er===1/0,er===1/0)return Hn;if(er===0)return tr;er>100&&(er=16),er/=1e3;const ir=nr.velocity||0,rr=-this.d*ir-this.k*(tr-Hn),sr=tr+ir*er+rr*er*er/2;return nr.velocity=ir+rr*er,nr.done=Math.abs(Hn-sr)+Math.abs(ir)<.002,nr.done?Hn:sr}},{duration:me$1("_duration",Ae),overshoot:me$1("_overshoot",Ae)});Q$1(class extends ke$1{constructor(tr=.1,Hn=.01,er=0,nr=1e3){super(),this.p(tr).i(Hn).d(er).windup(nr)}step(tr,Hn,er,nr){if(typeof tr=="string")return tr;if(nr.done=er===1/0,er===1/0)return Hn;if(er===0)return tr;const ir=Hn-tr;let rr=(nr.integral||0)+ir*er;const sr=(ir-(nr.error||0))/er,ar=this._windup;return ar!==!1&&(rr=Math.max(-ar,Math.min(rr,ar))),nr.error=ir,nr.integral=rr,nr.done=Math.abs(ir)<.001,nr.done?Hn:tr+(this.P*ir+this.I*rr+this.D*sr)}},{windup:me$1("_windup"),p:me$1("P"),i:me$1("I"),d:me$1("D")});const Ce$1={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Se={M:function(tr,Hn,er){return Hn.x=er.x=tr[0],Hn.y=er.y=tr[1],["M",Hn.x,Hn.y]},L:function(tr,Hn){return Hn.x=tr[0],Hn.y=tr[1],["L",tr[0],tr[1]]},H:function(tr,Hn){return Hn.x=tr[0],["H",tr[0]]},V:function(tr,Hn){return Hn.y=tr[0],["V",tr[0]]},C:function(tr,Hn){return Hn.x=tr[4],Hn.y=tr[5],["C",tr[0],tr[1],tr[2],tr[3],tr[4],tr[5]]},S:function(tr,Hn){return Hn.x=tr[2],Hn.y=tr[3],["S",tr[0],tr[1],tr[2],tr[3]]},Q:function(tr,Hn){return Hn.x=tr[2],Hn.y=tr[3],["Q",tr[0],tr[1],tr[2],tr[3]]},T:function(tr,Hn){return Hn.x=tr[0],Hn.y=tr[1],["T",tr[0],tr[1]]},Z:function(tr,Hn,er){return Hn.x=er.x,Hn.y=er.y,["Z"]},A:function(tr,Hn){return Hn.x=tr[5],Hn.y=tr[6],["A",tr[0],tr[1],tr[2],tr[3],tr[4],tr[5],tr[6]]}},Le="mlhvqtcsaz".split("");for(let tr=0,Hn=Le.length;tr<Hn;++tr)Se[Le[tr]]=(function(er){return function(nr,ir,rr){if(er==="H")nr[0]=nr[0]+ir.x;else if(er==="V")nr[0]=nr[0]+ir.y;else if(er==="A")nr[5]=nr[5]+ir.x,nr[6]=nr[6]+ir.y;else for(let sr=0,ar=nr.length;sr<ar;++sr)nr[sr]=nr[sr]+(sr%2?ir.y:ir.x);return Se[er](nr,ir,rr)}})(Le[tr].toUpperCase());function Me$1(tr){return tr.segment.length&&tr.segment.length-1===Ce$1[tr.segment[0].toUpperCase()]}function Pe$1(tr,Hn){tr.inNumber&&Ie(tr,!1);const er=ut$1.test(Hn);if(er)tr.segment=[Hn];else{const nr=tr.lastCommand,ir=nr.toLowerCase(),rr=nr===ir;tr.segment=[ir==="m"?rr?"l":"L":nr]}return tr.inSegment=!0,tr.lastCommand=tr.segment[0],er}function Ie(tr,Hn){if(!tr.inNumber)throw new Error("Parser Error");tr.number&&tr.segment.push(parseFloat(tr.number)),tr.inNumber=Hn,tr.number="",tr.pointSeen=!1,tr.hasExponent=!1,Me$1(tr)&&Te$1(tr)}function Te$1(tr){tr.inSegment=!1,tr.absolute&&(tr.segment=(function(Hn){const er=Hn.segment[0];return Se[er](Hn.segment.slice(1),Hn.p,Hn.p0)})(tr)),tr.segments.push(tr.segment)}function ze(tr){if(!tr.segment.length)return!1;const Hn=tr.segment[0].toUpperCase()==="A",er=tr.segment.length;return Hn&&(er===4||er===5)}function Xe(tr){return tr.lastToken.toUpperCase()==="E"}const Re=new Set([" ",",","	",`
`,"\r","\f"]);class Ee extends Dt$1{bbox(){return yt$1().path.setAttribute("d",this.toString()),new kt$1(yt$1.nodes.path.getBBox())}move(Hn,er){const nr=this.bbox();if(Hn-=nr.x,er-=nr.y,!isNaN(Hn)&&!isNaN(er))for(let ir,rr=this.length-1;rr>=0;rr--)ir=this[rr][0],ir==="M"||ir==="L"||ir==="T"?(this[rr][1]+=Hn,this[rr][2]+=er):ir==="H"?this[rr][1]+=Hn:ir==="V"?this[rr][1]+=er:ir==="C"||ir==="S"||ir==="Q"?(this[rr][1]+=Hn,this[rr][2]+=er,this[rr][3]+=Hn,this[rr][4]+=er,ir==="C"&&(this[rr][5]+=Hn,this[rr][6]+=er)):ir==="A"&&(this[rr][6]+=Hn,this[rr][7]+=er);return this}parse(Hn="M0 0"){return Array.isArray(Hn)&&(Hn=Array.prototype.concat.apply([],Hn).toString()),(function(er,nr=!0){let ir=0,rr="";const sr={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:nr,p0:new bt$1,p:new bt$1};for(;sr.lastToken=rr,rr=er.charAt(ir++);)if(sr.inSegment||!Pe$1(sr,rr))if(rr!==".")if(isNaN(parseInt(rr)))if(Re.has(rr))sr.inNumber&&Ie(sr,!1);else if(rr!=="-"&&rr!=="+")if(rr.toUpperCase()!=="E"){if(ut$1.test(rr)){if(sr.inNumber)Ie(sr,!1);else{if(!Me$1(sr))throw new Error("parser Error");Te$1(sr)}--ir}}else sr.number+=rr,sr.hasExponent=!0;else{if(sr.inNumber&&!Xe(sr)){Ie(sr,!1),--ir;continue}sr.number+=rr,sr.inNumber=!0}else{if(sr.number==="0"||ze(sr)){sr.inNumber=!0,sr.number=rr,Ie(sr,!0);continue}sr.inNumber=!0,sr.number+=rr}else{if(sr.pointSeen||sr.hasExponent){Ie(sr,!1),--ir;continue}sr.inNumber=!0,sr.pointSeen=!0,sr.number+=rr}return sr.inNumber&&Ie(sr,!1),sr.inSegment&&Me$1(sr)&&Te$1(sr),sr.segments})(Hn)}size(Hn,er){const nr=this.bbox();let ir,rr;for(nr.width=nr.width===0?1:nr.width,nr.height=nr.height===0?1:nr.height,ir=this.length-1;ir>=0;ir--)rr=this[ir][0],rr==="M"||rr==="L"||rr==="T"?(this[ir][1]=(this[ir][1]-nr.x)*Hn/nr.width+nr.x,this[ir][2]=(this[ir][2]-nr.y)*er/nr.height+nr.y):rr==="H"?this[ir][1]=(this[ir][1]-nr.x)*Hn/nr.width+nr.x:rr==="V"?this[ir][1]=(this[ir][1]-nr.y)*er/nr.height+nr.y:rr==="C"||rr==="S"||rr==="Q"?(this[ir][1]=(this[ir][1]-nr.x)*Hn/nr.width+nr.x,this[ir][2]=(this[ir][2]-nr.y)*er/nr.height+nr.y,this[ir][3]=(this[ir][3]-nr.x)*Hn/nr.width+nr.x,this[ir][4]=(this[ir][4]-nr.y)*er/nr.height+nr.y,rr==="C"&&(this[ir][5]=(this[ir][5]-nr.x)*Hn/nr.width+nr.x,this[ir][6]=(this[ir][6]-nr.y)*er/nr.height+nr.y)):rr==="A"&&(this[ir][1]=this[ir][1]*Hn/nr.width,this[ir][2]=this[ir][2]*er/nr.height,this[ir][6]=(this[ir][6]-nr.x)*Hn/nr.width+nr.x,this[ir][7]=(this[ir][7]-nr.y)*er/nr.height+nr.y);return this}toString(){return(function(Hn){let er="";for(let nr=0,ir=Hn.length;nr<ir;nr++)er+=Hn[nr][0],Hn[nr][1]!=null&&(er+=Hn[nr][1],Hn[nr][2]!=null&&(er+=" ",er+=Hn[nr][2],Hn[nr][3]!=null&&(er+=" ",er+=Hn[nr][3],er+=" ",er+=Hn[nr][4],Hn[nr][5]!=null&&(er+=" ",er+=Hn[nr][5],er+=" ",er+=Hn[nr][6],Hn[nr][7]!=null&&(er+=" ",er+=Hn[nr][7])))));return er+" "})(this)}}const Ye=tr=>{const Hn=typeof tr;return Hn==="number"?_t$1:Hn==="string"?xt$1.isColor(tr)?xt$1:dt$1.test(tr)?ut$1.test(tr)?Ee:Dt$1:tt$1.test(tr)?_t$1:Oe:Ne.indexOf(tr.constructor)>-1?tr.constructor:Array.isArray(tr)?Dt$1:Hn==="object"?_e$1:Oe};class He{constructor(Hn){this._stepper=Hn||new we$1("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(Hn){return this._morphObj.morph(this._from,this._to,Hn,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(Hn,er){return Hn&&er}),!0)}from(Hn){return Hn==null?this._from:(this._from=this._set(Hn),this)}stepper(Hn){return Hn==null?this._stepper:(this._stepper=Hn,this)}to(Hn){return Hn==null?this._to:(this._to=this._set(Hn),this)}type(Hn){return Hn==null?this._type:(this._type=Hn,this)}_set(Hn){this._type||this.type(Ye(Hn));let er=new this._type(Hn);return this._type===xt$1&&(er=this._to?er[this._to[4]]():this._from?er[this._from[4]]():er),this._type===_e$1&&(er=this._to?er.align(this._to):this._from?er.align(this._from):er),er=er.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(er.length)).map(Object).map((function(nr){return nr.done=!0,nr})),er}}class Oe{constructor(...Hn){this.init(...Hn)}init(Hn){return Hn=Array.isArray(Hn)?Hn[0]:Hn,this.value=Hn,this}toArray(){return[this.value]}valueOf(){return this.value}}class Fe{constructor(...Hn){this.init(...Hn)}init(Hn){return Array.isArray(Hn)&&(Hn={scaleX:Hn[0],scaleY:Hn[1],shear:Hn[2],rotate:Hn[3],translateX:Hn[4],translateY:Hn[5],originX:Hn[6],originY:Hn[7]}),Object.assign(this,Fe.defaults,Hn),this}toArray(){const Hn=this;return[Hn.scaleX,Hn.scaleY,Hn.shear,Hn.rotate,Hn.translateX,Hn.translateY,Hn.originX,Hn.originY]}}Fe.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const De=(tr,Hn)=>tr[0]<Hn[0]?-1:tr[0]>Hn[0]?1:0;let _e$1=class{constructor(...Hn){this.init(...Hn)}align(Hn){const er=this.values;for(let nr=0,ir=er.length;nr<ir;++nr){if(er[nr+1]===Hn[nr+1]){if(er[nr+1]===xt$1&&Hn[nr+7]!==er[nr+7]){const ar=Hn[nr+7],or=new xt$1(this.values.splice(nr+3,5))[ar]().toArray();this.values.splice(nr+3,0,...or)}nr+=er[nr+2]+2;continue}if(!Hn[nr+1])return this;const rr=new Hn[nr+1]().toArray(),sr=er[nr+2]+3;er.splice(nr,sr,Hn[nr],Hn[nr+1],Hn[nr+2],...rr),nr+=er[nr+2]+2}return this}init(Hn){if(this.values=[],Array.isArray(Hn))return void(this.values=Hn.slice());Hn=Hn||{};const er=[];for(const nr in Hn){const ir=Ye(Hn[nr]),rr=new ir(Hn[nr]).toArray();er.push([nr,ir,rr.length,...rr])}return er.sort(De),this.values=er.reduce(((nr,ir)=>nr.concat(ir)),[]),this}toArray(){return this.values}valueOf(){const Hn={},er=this.values;for(;er.length;){const nr=er.shift(),ir=er.shift(),rr=er.shift(),sr=er.splice(0,rr);Hn[nr]=new ir(sr)}return Hn}};const Ne=[Oe,Fe,_e$1];class We extends qt$1{constructor(Hn,er=Hn){super(G$1("path",Hn),er)}array(){return this._array||(this._array=new Ee(this.attr("d")))}clear(){return delete this._array,this}height(Hn){return Hn==null?this.bbox().height:this.size(this.bbox().width,Hn)}move(Hn,er){return this.attr("d",this.array().move(Hn,er))}plot(Hn){return Hn==null?this.array():this.clear().attr("d",typeof Hn=="string"?Hn:this._array=new Ee(Hn))}size(Hn,er){const nr=I$2(this,Hn,er);return this.attr("d",this.array().size(nr.width,nr.height))}width(Hn){return Hn==null?this.bbox().width:this.size(Hn,this.bbox().height)}x(Hn){return Hn==null?this.bbox().x:this.move(Hn,this.bbox().y)}y(Hn){return Hn==null?this.bbox().y:this.move(this.bbox().x,Hn)}}We.prototype.MorphArray=Ee,A$2({Container:{path:K$1((function(tr){return this.put(new We).plot(tr||new Ee)}))}}),q$2(We,"Path");var Be=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new ge(this.attr("points")))},clear:function(){return delete this._array,this},move:function(tr,Hn){return this.attr("points",this.array().move(tr,Hn))},plot:function(tr){return tr==null?this.array():this.clear().attr("points",typeof tr=="string"?tr:this._array=new ge(tr))},size:function(tr,Hn){const er=I$2(this,tr,Hn);return this.attr("points",this.array().size(er.width,er.height))}});class Ge extends qt$1{constructor(Hn,er=Hn){super(G$1("polygon",Hn),er)}}A$2({Container:{polygon:K$1((function(tr){return this.put(new Ge).plot(tr||new ge)}))}}),Q$1(Ge,fe),Q$1(Ge,Be),q$2(Ge,"Polygon");class je extends qt$1{constructor(Hn,er=Hn){super(G$1("polyline",Hn),er)}}A$2({Container:{polyline:K$1((function(tr){return this.put(new je).plot(tr||new ge)}))}}),Q$1(je,fe),Q$1(je,Be),q$2(je,"Polyline");class Ve extends qt$1{constructor(Hn,er=Hn){super(G$1("rect",Hn),er)}}Q$1(Ve,{rx:Zt$1,ry:$t$1}),A$2({Container:{rect:K$1((function(tr,Hn){return this.put(new Ve).size(tr,Hn)}))}}),q$2(Ve,"Rect");class Ue{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(Hn){const er=Hn.next!==void 0?Hn:{value:Hn,next:null,prev:null};return this._last?(er.prev=this._last,this._last.next=er,this._last=er):(this._last=er,this._first=er),er}remove(Hn){Hn.prev&&(Hn.prev.next=Hn.next),Hn.next&&(Hn.next.prev=Hn.prev),Hn===this._last&&(this._last=Hn.prev),Hn===this._first&&(this._first=Hn.next),Hn.prev=null,Hn.next=null}shift(){const Hn=this._first;return Hn?(this._first=Hn.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,Hn.value):null}}const qe={nextDraw:null,frames:new Ue,timeouts:new Ue,immediates:new Ue,timer:()=>O$2.window.performance||O$2.window.Date,transforms:[],frame(tr){const Hn=qe.frames.push({run:tr});return qe.nextDraw===null&&(qe.nextDraw=O$2.window.requestAnimationFrame(qe._draw)),Hn},timeout(tr,Hn){Hn=Hn||0;const er=qe.timer().now()+Hn,nr=qe.timeouts.push({run:tr,time:er});return qe.nextDraw===null&&(qe.nextDraw=O$2.window.requestAnimationFrame(qe._draw)),nr},immediate(tr){const Hn=qe.immediates.push(tr);return qe.nextDraw===null&&(qe.nextDraw=O$2.window.requestAnimationFrame(qe._draw)),Hn},cancelFrame(tr){tr!=null&&qe.frames.remove(tr)},clearTimeout(tr){tr!=null&&qe.timeouts.remove(tr)},cancelImmediate(tr){tr!=null&&qe.immediates.remove(tr)},_draw(tr){let Hn=null;const er=qe.timeouts.last();for(;(Hn=qe.timeouts.shift())&&(tr>=Hn.time?Hn.run():qe.timeouts.push(Hn),Hn!==er););let nr=null;const ir=qe.frames.last();for(;nr!==ir&&(nr=qe.frames.shift());)nr.run(tr);let rr=null;for(;rr=qe.immediates.shift();)rr();qe.nextDraw=qe.timeouts.first()||qe.frames.first()?O$2.window.requestAnimationFrame(qe._draw):null}},Ze=function(tr){const Hn=tr.start,er=tr.runner.duration();return{start:Hn,duration:er,end:Hn+er,runner:tr.runner}},$e=function(){const tr=O$2.window;return(tr.performance||tr.Date).now()};class Je extends Rt$1{constructor(Hn=$e){super(),this._timeSource=Hn,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const Hn=this.getLastRunnerInfo(),er=Hn?Hn.runner.duration():0;return(Hn?Hn.start:this._time)+er}getEndTimeOfTimeline(){const Hn=this._runners.map((er=>er.start+er.runner.duration()));return Math.max(0,...Hn)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(Hn){return this._runners[this._runnerIds.indexOf(Hn)]||null}pause(){return this._paused=!0,this._continue()}persist(Hn){return Hn==null?this._persist:(this._persist=Hn,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(Hn){const er=this.speed();if(Hn==null)return this.speed(-er);const nr=Math.abs(er);return this.speed(Hn?-nr:nr)}schedule(Hn,er,nr){if(Hn==null)return this._runners.map(Ze);let ir=0;const rr=this.getEndTime();if(er=er||0,nr==null||nr==="last"||nr==="after")ir=rr;else if(nr==="absolute"||nr==="start")ir=er,er=0;else if(nr==="now")ir=this._time;else if(nr==="relative"){const or=this.getRunnerInfoById(Hn.id);or&&(ir=or.start+er,er=0)}else{if(nr!=="with-last")throw new Error('Invalid value for the "when" parameter');{const or=this.getLastRunnerInfo();ir=or?or.start:this._time}}Hn.unschedule(),Hn.timeline(this);const sr=Hn.persist(),ar={persist:sr===null?this._persist:sr,start:ir+er,runner:Hn};return this._lastRunnerId=Hn.id,this._runners.push(ar),this._runners.sort(((or,lr)=>or.start-lr.start)),this._runnerIds=this._runners.map((or=>or.runner.id)),this.updateTime()._continue(),this}seek(Hn){return this.time(this._time+Hn)}source(Hn){return Hn==null?this._timeSource:(this._timeSource=Hn,this)}speed(Hn){return Hn==null?this._speed:(this._speed=Hn,this)}stop(){return this.time(0),this.pause()}time(Hn){return Hn==null?this._time:(this._time=Hn,this._continue(!0))}unschedule(Hn){const er=this._runnerIds.indexOf(Hn.id);return er<0||(this._runners.splice(er,1),this._runnerIds.splice(er,1),Hn.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(Hn=!1){return qe.cancelFrame(this._nextFrame),this._nextFrame=null,Hn?this._stepImmediate():(this._paused||(this._nextFrame=qe.frame(this._step)),this)}_stepFn(Hn=!1){const er=this._timeSource();let nr=er-this._lastSourceTime;Hn&&(nr=0);const ir=this._speed*nr+(this._time-this._lastStepTime);this._lastSourceTime=er,Hn||(this._time+=ir,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let sr=this._runners.length;sr--;){const ar=this._runners[sr],or=ar.runner;this._time-ar.start<=0&&or.reset()}let rr=!1;for(let sr=0,ar=this._runners.length;sr<ar;sr++){const or=this._runners[sr],lr=or.runner;let cr=ir;const ur=this._time-or.start;if(ur<=0){rr=!0;continue}ur<cr&&(cr=ur),lr.active()&&(lr.step(cr).done?or.persist!==!0&&lr.duration()-lr.time()+this._time+or.persist<this._time&&(lr.unschedule(),--sr,--ar):rr=!0)}return rr&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}A$2({Element:{timeline:function(tr){return tr==null?(this._timeline=this._timeline||new Je,this._timeline):(this._timeline=tr,this)}}});class Qe extends Rt$1{constructor(Hn){super(),this.id=Qe.id++,Hn=typeof(Hn=Hn??Yt$1)=="function"?new ke$1(Hn):Hn,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof Hn=="number"&&Hn,this._isDeclarative=Hn instanceof ke$1,this._stepper=this._isDeclarative?Hn:new we$1,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new vt$1,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(Hn,er,nr){let ir=1,rr=!1,sr=0;return er=er??Ot$1,nr=nr||"last",typeof(Hn=Hn??Yt$1)!="object"||Hn instanceof ye$1||(er=Hn.delay??er,nr=Hn.when??nr,rr=Hn.swing||rr,ir=Hn.times??ir,sr=Hn.wait??sr,Hn=Hn.duration??Yt$1),{duration:Hn,delay:er,swing:rr,times:ir,wait:sr,when:nr}}active(Hn){return Hn==null?this.enabled:(this.enabled=Hn,this)}addTransform(Hn){return this.transforms.lmultiplyO(Hn),this}after(Hn){return this.on("finished",Hn)}animate(Hn,er,nr){const ir=Qe.sanitise(Hn,er,nr),rr=new Qe(ir.duration);return this._timeline&&rr.timeline(this._timeline),this._element&&rr.element(this._element),rr.loop(ir).schedule(ir.delay,ir.when)}clearTransform(){return this.transforms=new vt$1,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((Hn=>!Hn.isTransform)))}delay(Hn){return this.animate(0,Hn)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(Hn){return this.queue(null,Hn)}ease(Hn){return this._stepper=new we$1(Hn),this}element(Hn){return Hn==null?this._element:(this._element=Hn,Hn._prepareRunner(),this)}finish(){return this.step(1/0)}loop(Hn,er,nr){return typeof Hn=="object"&&(er=Hn.swing,nr=Hn.wait,Hn=Hn.times),this._times=Hn||1/0,this._swing=er||!1,this._wait=nr||0,this._times===!0&&(this._times=1/0),this}loops(Hn){const er=this._duration+this._wait;if(Hn==null){const rr=Math.floor(this._time/er),sr=(this._time-rr*er)/this._duration;return Math.min(rr+sr,this._times)}const nr=Hn%1,ir=er*Math.floor(Hn)+this._duration*nr;return this.time(ir)}persist(Hn){return Hn==null?this._persist:(this._persist=Hn,this)}position(Hn){const er=this._time,nr=this._duration,ir=this._wait,rr=this._times,sr=this._swing,ar=this._reverse;let or;if(Hn==null){const ur=function(fr){const gr=sr*Math.floor(fr%(2*(ir+nr))/(ir+nr)),yr=gr&&!ar||!gr&&ar,vr=Math.pow(-1,yr)*(fr%(ir+nr))/nr+yr;return Math.max(Math.min(vr,1),0)},dr=rr*(ir+nr)-ir;return or=er<=0?Math.round(ur(1e-5)):er<dr?ur(er):Math.round(ur(dr-1e-5)),or}const lr=Math.floor(this.loops()),cr=sr&&lr%2==0;return or=lr+(cr&&!ar||ar&&cr?Hn:1-Hn),this.loops(or)}progress(Hn){return Hn==null?Math.min(1,this._time/this.duration()):this.time(Hn*this.duration())}queue(Hn,er,nr,ir){return this._queue.push({initialiser:Hn||Et$1,runner:er||Et$1,retarget:nr,isTransform:ir,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(Hn){return this._reverse=Hn??!this._reverse,this}schedule(Hn,er,nr){if(Hn instanceof Je||(nr=er,er=Hn,Hn=this.timeline()),!Hn)throw Error("Runner cannot be scheduled without timeline");return Hn.schedule(this,er,nr),this}step(Hn){if(!this.enabled)return this;Hn=Hn??16,this._time+=Hn;const er=this.position(),nr=this._lastPosition!==er&&this._time>=0;this._lastPosition=er;const ir=this.duration(),rr=this._lastTime<=0&&this._time>0,sr=this._lastTime<ir&&this._time>=ir;this._lastTime=this._time,rr&&this.fire("start",this);const ar=this._isDeclarative;this.done=!ar&&!sr&&this._time>=ir,this._reseted=!1;let or=!1;return(nr||ar)&&(this._initialise(nr),this.transforms=new vt$1,or=this._run(ar?Hn:er),this.fire("step",this)),this.done=this.done||or&&ar,sr&&this.fire("finished",this),this}time(Hn){if(Hn==null)return this._time;const er=Hn-this._time;return this.step(er),this}timeline(Hn){return Hn===void 0?this._timeline:(this._timeline=Hn,this)}unschedule(){const Hn=this.timeline();return Hn&&Hn.unschedule(this),this}_initialise(Hn){if(Hn||this._isDeclarative)for(let er=0,nr=this._queue.length;er<nr;++er){const ir=this._queue[er],rr=this._isDeclarative||!ir.initialised&&Hn;Hn=!ir.finished,rr&&Hn&&(ir.initialiser.call(this),ir.initialised=!0)}}_rememberMorpher(Hn,er){if(this._history[Hn]={morpher:er,caller:this._queue[this._queue.length-1]},this._isDeclarative){const nr=this.timeline();nr&&nr.play()}}_run(Hn){let er=!0;for(let nr=0,ir=this._queue.length;nr<ir;++nr){const rr=this._queue[nr],sr=rr.runner.call(this,Hn);rr.finished=rr.finished||sr===!0,er=er&&rr.finished}return er}_tryRetarget(Hn,er,nr){if(this._history[Hn]){if(!this._history[Hn].caller.initialised){const rr=this._queue.indexOf(this._history[Hn].caller);return this._queue.splice(rr,1),!1}this._history[Hn].caller.retarget?this._history[Hn].caller.retarget.call(this,er,nr):this._history[Hn].morpher.to(er),this._history[Hn].caller.finished=!1;const ir=this.timeline();return ir&&ir.play(),!0}return!1}}Qe.id=0;class Ke{constructor(Hn=new vt$1,er=-1,nr=!0){this.transforms=Hn,this.id=er,this.done=nr}clearTransformsFromQueue(){}}Q$1([Qe,Ke],{mergeWith(tr){return new Ke(tr.transforms.lmultiply(this.transforms),tr.id)}});const ti=(tr,Hn)=>tr.lmultiplyO(Hn),ei$1=tr=>tr.transforms;function ii$1(){const tr=this._transformationRunners.runners.map(ei$1).reduce(ti,new vt$1);this.transform(tr),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}let ai$1=class{constructor(){this.runners=[],this.ids=[]}add(Hn){if(this.runners.includes(Hn))return;const er=Hn.id+1;return this.runners.push(Hn),this.ids.push(er),this}clearBefore(Hn){const er=this.ids.indexOf(Hn+1)||1;return this.ids.splice(0,er,0),this.runners.splice(0,er,new Ke).forEach((nr=>nr.clearTransformsFromQueue())),this}edit(Hn,er){const nr=this.ids.indexOf(Hn+1);return this.ids.splice(nr,1,Hn+1),this.runners.splice(nr,1,er),this}getByID(Hn){return this.runners[this.ids.indexOf(Hn+1)]}length(){return this.ids.length}merge(){let Hn=null;for(let er=0;er<this.runners.length;++er){const nr=this.runners[er];if(Hn&&nr.done&&Hn.done&&(!nr._timeline||!nr._timeline._runnerIds.includes(nr.id))&&(!Hn._timeline||!Hn._timeline._runnerIds.includes(Hn.id))){this.remove(nr.id);const ir=nr.mergeWith(Hn);this.edit(Hn.id,ir),Hn=ir,--er}else Hn=nr}return this}remove(Hn){const er=this.ids.indexOf(Hn+1);return this.ids.splice(er,1),this.runners.splice(er,1),this}};A$2({Element:{animate(tr,Hn,er){const nr=Qe.sanitise(tr,Hn,er),ir=this.timeline();return new Qe(nr.duration).loop(nr).element(this).timeline(ir.play()).schedule(nr.delay,nr.when)},delay(tr,Hn){return this.animate(0,tr,Hn)},_clearTransformRunnersBefore(tr){this._transformationRunners.clearBefore(tr.id)},_currentTransform(tr){return this._transformationRunners.runners.filter((Hn=>Hn.id<=tr.id)).map(ei$1).reduce(ti,new vt$1)},_addRunner(tr){this._transformationRunners.add(tr),qe.cancelImmediate(this._frameId),this._frameId=qe.immediate(ii$1.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new ai$1().add(new Ke(new vt$1(this))))}}});Q$1(Qe,{attr(tr,Hn){return this.styleAttr("attr",tr,Hn)},css(tr,Hn){return this.styleAttr("css",tr,Hn)},styleAttr(tr,Hn,er){if(typeof Hn=="string")return this.styleAttr(tr,{[Hn]:er});let nr=Hn;if(this._tryRetarget(tr,nr))return this;let ir=new He(this._stepper).to(nr),rr=Object.keys(nr);return this.queue((function(){ir=ir.from(this.element()[tr](rr))}),(function(sr){return this.element()[tr](ir.at(sr).valueOf()),ir.done()}),(function(sr){const ar=Object.keys(sr),or=(lr=rr,ar.filter((ur=>!lr.includes(ur))));var lr;if(or.length){const ur=this.element()[tr](or),dr=new _e$1(ir.from()).valueOf();Object.assign(dr,ur),ir.from(dr)}const cr=new _e$1(ir.to()).valueOf();Object.assign(cr,sr),ir.to(cr),rr=ar,nr=sr})),this._rememberMorpher(tr,ir),this},zoom(tr,Hn){if(this._tryRetarget("zoom",tr,Hn))return this;let er=new He(this._stepper).to(new _t$1(tr));return this.queue((function(){er=er.from(this.element().zoom())}),(function(nr){return this.element().zoom(er.at(nr),Hn),er.done()}),(function(nr,ir){Hn=ir,er.to(nr)})),this._rememberMorpher("zoom",er),this},transform(tr,Hn,er){if(Hn=tr.relative||Hn,this._isDeclarative&&!Hn&&this._tryRetarget("transform",tr))return this;const nr=vt$1.isMatrixLike(tr);er=tr.affine!=null?tr.affine:er??!nr;const ir=new He(this._stepper).type(er?Fe:vt$1);let rr,sr,ar,or,lr;return this.queue((function(){sr=sr||this.element(),rr=rr||T$2(tr,sr),lr=new vt$1(Hn?void 0:sr),sr._addRunner(this),Hn||sr._clearTransformRunnersBefore(this)}),(function(cr){Hn||this.clearTransform();const{x:ur,y:dr}=new bt$1(rr).transform(sr._currentTransform(this));let fr=new vt$1({...tr,origin:[ur,dr]}),gr=this._isDeclarative&&ar?ar:lr;if(er){fr=fr.decompose(ur,dr),gr=gr.decompose(ur,dr);const vr=fr.rotate,jr=gr.rotate,Sr=[vr-360,vr,vr+360],Tr=Sr.map((Nr=>Math.abs(Nr-jr))),Lr=Math.min(...Tr),Mr=Tr.indexOf(Lr);fr.rotate=Sr[Mr]}Hn&&(nr||(fr.rotate=tr.rotate||0),this._isDeclarative&&or&&(gr.rotate=or)),ir.from(gr),ir.to(fr);const yr=ir.at(cr);return or=yr.rotate,ar=new vt$1(yr),this.addTransform(ar),sr._addRunner(this),ir.done()}),(function(cr){(cr.origin||"center").toString()!==(tr.origin||"center").toString()&&(rr=T$2(cr,sr)),tr={...cr,origin:rr}}),!0),this._isDeclarative&&this._rememberMorpher("transform",ir),this},x(tr){return this._queueNumber("x",tr)},y(tr){return this._queueNumber("y",tr)},ax(tr){return this._queueNumber("ax",tr)},ay(tr){return this._queueNumber("ay",tr)},dx(tr=0){return this._queueNumberDelta("x",tr)},dy(tr=0){return this._queueNumberDelta("y",tr)},dmove(tr,Hn){return this.dx(tr).dy(Hn)},_queueNumberDelta(tr,Hn){if(Hn=new _t$1(Hn),this._tryRetarget(tr,Hn))return this;const er=new He(this._stepper).to(Hn);let nr=null;return this.queue((function(){nr=this.element()[tr](),er.from(nr),er.to(nr+Hn)}),(function(ir){return this.element()[tr](er.at(ir)),er.done()}),(function(ir){er.to(nr+new _t$1(ir))})),this._rememberMorpher(tr,er),this},_queueObject(tr,Hn){if(this._tryRetarget(tr,Hn))return this;const er=new He(this._stepper).to(Hn);return this.queue((function(){er.from(this.element()[tr]())}),(function(nr){return this.element()[tr](er.at(nr)),er.done()})),this._rememberMorpher(tr,er),this},_queueNumber(tr,Hn){return this._queueObject(tr,new _t$1(Hn))},cx(tr){return this._queueNumber("cx",tr)},cy(tr){return this._queueNumber("cy",tr)},move(tr,Hn){return this.x(tr).y(Hn)},amove(tr,Hn){return this.ax(tr).ay(Hn)},center(tr,Hn){return this.cx(tr).cy(Hn)},size(tr,Hn){let er;return tr&&Hn||(er=this._element.bbox()),tr||(tr=er.width/er.height*Hn),Hn||(Hn=er.height/er.width*tr),this.width(tr).height(Hn)},width(tr){return this._queueNumber("width",tr)},height(tr){return this._queueNumber("height",tr)},plot(tr,Hn,er,nr){if(arguments.length===4)return this.plot([tr,Hn,er,nr]);if(this._tryRetarget("plot",tr))return this;const ir=new He(this._stepper).type(this._element.MorphArray).to(tr);return this.queue((function(){ir.from(this._element.array())}),(function(rr){return this._element.plot(ir.at(rr)),ir.done()})),this._rememberMorpher("plot",ir),this},leading(tr){return this._queueNumber("leading",tr)},viewbox(tr,Hn,er,nr){return this._queueObject("viewbox",new kt$1(tr,Hn,er,nr))},update(tr){return typeof tr!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(tr.opacity!=null&&this.attr("stop-opacity",tr.opacity),tr.color!=null&&this.attr("stop-color",tr.color),tr.offset!=null&&this.attr("offset",tr.offset),this)}}),Q$1(Qe,{rx:Zt$1,ry:$t$1,from:ne,to:oe$1}),q$2(Qe,"Runner");let si$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("svg",Hn),er),this.namespace()}defs(){return this.isRoot()?V$1(this.node.querySelector("defs"))||this.put(new Ut$1):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof O$2.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:E$2,version:"1.1"}).attr("xmlns:xlink",H$2,Y$1):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Y$1).attr("xmlns:svgjs",null,Y$1)}root(){return this.isRoot()?this:super.root()}};A$2({Container:{nested:K$1((function(){return this.put(new si$1)}))}}),q$2(si$1,"Svg",!0);let ri$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("symbol",Hn),er)}};A$2({Container:{symbol:K$1((function(){return this.put(new ri$1)}))}}),q$2(ri$1,"Symbol");var ni$1=Object.freeze({__proto__:null,amove:function(tr,Hn){return this.ax(tr).ay(Hn)},ax:function(tr){return this.attr("x",tr)},ay:function(tr){return this.attr("y",tr)},build:function(tr){return this._build=!!tr,this},center:function(tr,Hn,er=this.bbox()){return this.cx(tr,er).cy(Hn,er)},cx:function(tr,Hn=this.bbox()){return tr==null?Hn.cx:this.attr("x",this.attr("x")+tr-Hn.cx)},cy:function(tr,Hn=this.bbox()){return tr==null?Hn.cy:this.attr("y",this.attr("y")+tr-Hn.cy)},length:function(){return this.node.getComputedTextLength()},move:function(tr,Hn,er=this.bbox()){return this.x(tr,er).y(Hn,er)},plain:function(tr){return this._build===!1&&this.clear(),this.node.appendChild(O$2.document.createTextNode(tr)),this},x:function(tr,Hn=this.bbox()){return tr==null?Hn.x:this.attr("x",this.attr("x")+tr-Hn.x)},y:function(tr,Hn=this.bbox()){return tr==null?Hn.y:this.attr("y",this.attr("y")+tr-Hn.y)}});let oi$1=class extends qt$1{constructor(Hn,er=Hn){super(G$1("text",Hn),er),this.dom.leading=this.dom.leading??new _t$1(1.3),this._rebuild=!0,this._build=!1}leading(Hn){return Hn==null?this.dom.leading:(this.dom.leading=new _t$1(Hn),this.rebuild())}rebuild(Hn){if(typeof Hn=="boolean"&&(this._rebuild=Hn),this._rebuild){const er=this;let nr=0;const ir=this.dom.leading;this.each((function(rr){if(X$1(this.node))return;const sr=O$2.window.getComputedStyle(this.node).getPropertyValue("font-size"),ar=ir*new _t$1(sr);this.dom.newLined&&(this.attr("x",er.attr("x")),this.text()===`
`?nr+=ar:(this.attr("dy",rr?ar+nr:0),nr=0))})),this.fire("rebuild")}return this}setData(Hn){return this.dom=Hn,this.dom.leading=new _t$1(Hn.leading||1.3),this}writeDataToDom(){return R$2(this,this.dom,{leading:1.3}),this}text(Hn){if(Hn===void 0){const er=this.node.childNodes;let nr=0;Hn="";for(let ir=0,rr=er.length;ir<rr;++ir)er[ir].nodeName==="textPath"||X$1(er[ir])?ir===0&&(nr=ir+1):(ir!==nr&&er[ir].nodeType!==3&&V$1(er[ir]).dom.newLined===!0&&(Hn+=`
`),Hn+=er[ir].textContent);return Hn}if(this.clear().build(!0),typeof Hn=="function")Hn.call(this,this);else for(let er=0,nr=(Hn=(Hn+"").split(`
`)).length;er<nr;er++)this.newLine(Hn[er]);return this.build(!1).rebuild()}};Q$1(oi$1,ni$1),A$2({Container:{text:K$1((function(tr=""){return this.put(new oi$1).text(tr)})),plain:K$1((function(tr=""){return this.put(new oi$1).plain(tr)}))}}),q$2(oi$1,"Text");let li$1=class extends qt$1{constructor(Hn,er=Hn){super(G$1("tspan",Hn),er),this._build=!1}dx(Hn){return this.attr("dx",Hn)}dy(Hn){return this.attr("dy",Hn)}newLine(){this.dom.newLined=!0;const Hn=this.parent();if(!(Hn instanceof oi$1))return this;const er=Hn.index(this),nr=O$2.window.getComputedStyle(this.node).getPropertyValue("font-size"),ir=Hn.dom.leading*new _t$1(nr);return this.dy(er?ir:0).attr("x",Hn.x())}text(Hn){return Hn==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof Hn=="function"?(this.clear().build(!0),Hn.call(this,this),this.build(!1)):this.plain(Hn),this)}};Q$1(li$1,ni$1),A$2({Tspan:{tspan:K$1((function(tr=""){const Hn=new li$1;return this._build||this.clear(),this.put(Hn).text(tr)}))},Text:{newLine:function(tr=""){return this.tspan(tr).newLine()}}}),q$2(li$1,"Tspan");let hi$1=class extends qt$1{constructor(Hn,er=Hn){super(G$1("circle",Hn),er)}radius(Hn){return this.attr("r",Hn)}rx(Hn){return this.attr("r",Hn)}ry(Hn){return this.rx(Hn)}size(Hn){return this.radius(new _t$1(Hn).divide(2))}};Q$1(hi$1,{x:Jt$1,y:Qt$1,cx:Kt$1,cy:te,width:ee,height:ie}),A$2({Container:{circle:K$1((function(tr=0){return this.put(new hi$1).size(tr).move(0,0)}))}}),q$2(hi$1,"Circle");let ci$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("clipPath",Hn),er)}remove(){return this.targets().forEach((function(Hn){Hn.unclip()})),super.remove()}targets(){return Lt$1("svg [clip-path*="+this.id()+"]")}};A$2({Container:{clip:K$1((function(){return this.defs().put(new ci$1)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(tr){const Hn=tr instanceof ci$1?tr:this.parent().clip().add(tr);return this.attr("clip-path","url(#"+Hn.id()+")")},unclip(){return this.attr("clip-path",null)}}}),q$2(ci$1,"ClipPath");let di$1=class extends Gt$1{constructor(Hn,er=Hn){super(G$1("foreignObject",Hn),er)}};A$2({Container:{foreignObject:K$1((function(tr,Hn){return this.put(new di$1).size(tr,Hn)}))}}),q$2(di$1,"ForeignObject");var ui$1=Object.freeze({__proto__:null,dmove:function(tr,Hn){return this.children().forEach((er=>{let nr;try{nr=er.node instanceof F$1().SVGSVGElement?new kt$1(er.attr(["x","y","width","height"])):er.bbox()}catch{return}const ir=new vt$1(er),rr=ir.translate(tr,Hn).transform(ir.inverse()),sr=new bt$1(nr.x,nr.y).transform(rr);er.move(sr.x,sr.y)})),this},dx:function(tr){return this.dmove(tr,0)},dy:function(tr){return this.dmove(0,tr)},height:function(tr,Hn=this.bbox()){return tr==null?Hn.height:this.size(Hn.width,tr,Hn)},move:function(tr=0,Hn=0,er=this.bbox()){const nr=tr-er.x,ir=Hn-er.y;return this.dmove(nr,ir)},size:function(tr,Hn,er=this.bbox()){const nr=I$2(this,tr,Hn,er),ir=nr.width/er.width,rr=nr.height/er.height;return this.children().forEach((sr=>{const ar=new bt$1(er).transform(new vt$1(sr).inverse());sr.scale(ir,rr,ar.x,ar.y)})),this},width:function(tr,Hn=this.bbox()){return tr==null?Hn.width:this.size(tr,Hn.height,Hn)},x:function(tr,Hn=this.bbox()){return tr==null?Hn.x:this.move(tr,Hn.y,Hn)},y:function(tr,Hn=this.bbox()){return tr==null?Hn.y:this.move(Hn.x,tr,Hn)}});let gi$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("g",Hn),er)}};Q$1(gi$1,ui$1),A$2({Container:{group:K$1((function(){return this.put(new gi$1)}))}}),q$2(gi$1,"G");let pi$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("a",Hn),er)}target(Hn){return this.attr("target",Hn)}to(Hn){return this.attr("href",Hn,H$2)}};Q$1(pi$1,ui$1),A$2({Container:{link:K$1((function(tr){return this.put(new pi$1).to(tr)}))},Element:{unlink(){const tr=this.linker();if(!tr)return this;const Hn=tr.parent();if(!Hn)return this.remove();const er=Hn.index(tr);return Hn.add(this,er),tr.remove(),this},linkTo(tr){let Hn=this.linker();return Hn||(Hn=new pi$1,this.wrap(Hn)),typeof tr=="function"?tr.call(Hn,Hn):Hn.to(tr),this},linker(){const tr=this.parent();return tr&&tr.node.nodeName.toLowerCase()==="a"?tr:null}}}),q$2(pi$1,"A");let fi$1=class extends Vt$1{constructor(Hn,er=Hn){super(G$1("mask",Hn),er)}remove(){return this.targets().forEach((function(Hn){Hn.unmask()})),super.remove()}targets(){return Lt$1("svg [mask*="+this.id()+"]")}};A$2({Container:{mask:K$1((function(){return this.defs().put(new fi$1)}))},Element:{masker(){return this.reference("mask")},maskWith(tr){const Hn=tr instanceof fi$1?tr:this.parent().mask().add(tr);return this.attr("mask","url(#"+Hn.id()+")")},unmask(){return this.attr("mask",null)}}}),q$2(fi$1,"Mask");let xi$1=class extends Gt$1{constructor(Hn,er=Hn){super(G$1("stop",Hn),er)}update(Hn){return(typeof Hn=="number"||Hn instanceof _t$1)&&(Hn={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),Hn.opacity!=null&&this.attr("stop-opacity",Hn.opacity),Hn.color!=null&&this.attr("stop-color",Hn.color),Hn.offset!=null&&this.attr("offset",new _t$1(Hn.offset)),this}};A$2({Gradient:{stop:function(tr,Hn,er){return this.put(new xi$1).update(tr,Hn,er)}}}),q$2(xi$1,"Stop");let bi$1=class extends Gt$1{constructor(Hn,er=Hn){super(G$1("style",Hn),er)}addText(Hn=""){return this.node.textContent+=Hn,this}font(Hn,er,nr={}){return this.rule("@font-face",{fontFamily:Hn,src:er,...nr})}rule(Hn,er){return this.addText((function(nr,ir){if(!nr)return"";if(!ir)return nr;let rr=nr+"{";for(const sr in ir)rr+=sr.replace(/([A-Z])/g,(function(ar,or){return"-"+or.toLowerCase()}))+":"+ir[sr]+";";return rr+="}",rr})(Hn,er))}};A$2("Dom",{style(tr,Hn){return this.put(new bi$1).rule(tr,Hn)},fontface(tr,Hn,er){return this.put(new bi$1).font(tr,Hn,er)}}),q$2(bi$1,"Style");let mi$1=class extends oi$1{constructor(Hn,er=Hn){super(G$1("textPath",Hn),er)}array(){const Hn=this.track();return Hn?Hn.array():null}plot(Hn){const er=this.track();let nr=null;return er&&(nr=er.plot(Hn)),Hn==null?nr:this}track(){return this.reference("href")}};A$2({Container:{textPath:K$1((function(tr,Hn){return tr instanceof oi$1||(tr=this.text(tr)),tr.path(Hn)}))},Text:{path:K$1((function(tr,Hn=!0){const er=new mi$1;let nr;if(tr instanceof We||(tr=this.defs().path(tr)),er.attr("href","#"+tr,H$2),Hn)for(;nr=this.node.firstChild;)er.node.appendChild(nr);return this.put(er)})),textPath(){return this.findOne("textPath")}},Path:{text:K$1((function(tr){return tr instanceof oi$1||(tr=new oi$1().addTo(this.parent()).text(tr)),tr.path(this)})),targets(){return Lt$1("svg textPath").filter((tr=>(tr.attr("href")||"").includes(this.id())))}}}),mi$1.prototype.MorphArray=Ee,q$2(mi$1,"TextPath");let vi$2=class extends qt$1{constructor(Hn,er=Hn){super(G$1("use",Hn),er)}use(Hn,er){return this.attr("href",(er||"")+"#"+Hn,H$2)}};A$2({Container:{use:K$1((function(tr,Hn){return this.put(new vi$2).use(tr,Hn)}))}}),q$2(vi$2,"Use");const yi$1=B$2;Q$1([si$1,ri$1,de,ce,be],C$2("viewbox")),Q$1([xe$1,je,Ge,We],C$2("marker")),Q$1(oi$1,C$2("Text")),Q$1(We,C$2("Path")),Q$1(Ut$1,C$2("Defs")),Q$1([oi$1,li$1],C$2("Tspan")),Q$1([Ve,se,he,Qe],C$2("radius")),Q$1(Rt$1,C$2("EventTarget")),Q$1(Bt$1,C$2("Dom")),Q$1(Gt$1,C$2("Element")),Q$1(qt$1,C$2("Shape")),Q$1([Vt$1,re],C$2("Container")),Q$1(he,C$2("Gradient")),Q$1(Qe,C$2("Runner")),Ct$1.extend([...new Set(k$2)]),(function(tr=[]){Ne.push(...[].concat(tr))})([_t$1,xt$1,kt$1,vt$1,Dt$1,ge,Ee,bt$1]),Q$1(Ne,{to(tr){return new He().type(this.constructor).from(this.toArray()).to(tr)},fromArray(tr){return this.init(tr),this},toConsumable(){return this.toArray()},morph(tr,Hn,er,nr,ir){return this.fromArray(tr.map((function(rr,sr){return nr.step(rr,Hn[sr],er,ir[sr],ir)})))}});let wi$1=class extends Gt$1{constructor(Hn){super(G$1("filter",Hn),Hn),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(Hn,er){return!(Hn=super.put(Hn,er)).attr("in")&&this.$autoSetIn&&Hn.attr("in",this.$source),Hn.attr("result")||Hn.attr("result",Hn.id()),Hn}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Lt$1('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}},ki$1=class extends Gt$1{constructor(Hn,er){super(Hn,er),this.result(this.id())}in(Hn){if(Hn==null){const er=this.attr("in");return this.parent()&&this.parent().find(`[result="${er}"]`)[0]||er}return this.attr("in",Hn)}result(Hn){return this.attr("result",Hn)}toString(){return this.result()}};const Ai$1=tr=>function(...Hn){for(let er=tr.length;er--;)Hn[er]!=null&&this.attr(tr[er],Hn[er])},Ci$1={blend:Ai$1(["in","in2","mode"]),colorMatrix:Ai$1(["type","values"]),composite:Ai$1(["in","in2","operator"]),convolveMatrix:function(tr){tr=new Dt$1(tr).toString(),this.attr({order:Math.sqrt(tr.split(" ").length),kernelMatrix:tr})},diffuseLighting:Ai$1(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Ai$1(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Ai$1(["in","dx","dy","stdDeviation"]),flood:Ai$1(["flood-color","flood-opacity"]),gaussianBlur:function(tr=0,Hn=tr){this.attr("stdDeviation",tr+" "+Hn)},image:function(tr){this.attr("href",tr,H$2)},morphology:Ai$1(["operator","radius"]),offset:Ai$1(["dx","dy"]),specularLighting:Ai$1(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Ai$1([]),turbulence:Ai$1(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((tr=>{const Hn=P$1(tr),er=Ci$1[tr];wi$1[Hn+"Effect"]=class extends ki$1{constructor(nr){super(G$1("fe"+Hn,nr),nr)}update(nr){return er.apply(this,nr),this}},wi$1.prototype[tr]=K$1((function(nr,...ir){const rr=new wi$1[Hn+"Effect"];return nr==null?this.put(rr):(typeof nr=="function"?nr.call(rr,rr):ir.unshift(nr),this.put(rr).update(ir))}))})),Q$1(wi$1,{merge(tr){const Hn=this.put(new wi$1.MergeEffect);return typeof tr=="function"?(tr.call(Hn,Hn),Hn):((tr instanceof Array?tr:[...arguments]).forEach((er=>{er instanceof wi$1.MergeNode?Hn.put(er):Hn.mergeNode(er)})),Hn)},componentTransfer(tr={}){const Hn=this.put(new wi$1.ComponentTransferEffect);if(typeof tr=="function")return tr.call(Hn,Hn),Hn;tr.r||tr.g||tr.b||tr.a||(tr={r:tr,g:tr,b:tr,a:tr});for(const er in tr)Hn.add(new wi$1["Func"+er.toUpperCase()](tr[er]));return Hn}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((tr=>{const Hn=P$1(tr);wi$1[Hn]=class extends ki$1{constructor(er){super(G$1("fe"+Hn,er),er)}}}));["funcR","funcG","funcB","funcA"].forEach((function(tr){const Hn=wi$1[P$1(tr)],er=K$1((function(){return this.put(new Hn)}));wi$1.ComponentTransferEffect.prototype[tr]=er}));["distantLight","pointLight","spotLight"].forEach((tr=>{const Hn=wi$1[P$1(tr)],er=K$1((function(){return this.put(new Hn)}));wi$1.DiffuseLightingEffect.prototype[tr]=er,wi$1.SpecularLightingEffect.prototype[tr]=er})),Q$1(wi$1.MergeEffect,{mergeNode(tr){return this.put(new wi$1.MergeNode).attr("in",tr)}}),Q$1(Ut$1,{filter:function(tr){const Hn=this.put(new wi$1);return typeof tr=="function"&&tr.call(Hn,Hn),Hn}}),Q$1(Vt$1,{filter:function(tr){return this.defs().filter(tr)}}),Q$1(Gt$1,{filterWith:function(tr){const Hn=tr instanceof wi$1?tr:this.defs().filter(tr);return this.attr("filter",Hn)},unfilter:function(tr){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const Si$1={blend:function(tr,Hn){return this.parent()&&this.parent().blend(this,tr,Hn)},colorMatrix:function(tr,Hn){return this.parent()&&this.parent().colorMatrix(tr,Hn).in(this)},componentTransfer:function(tr){return this.parent()&&this.parent().componentTransfer(tr).in(this)},composite:function(tr,Hn){return this.parent()&&this.parent().composite(this,tr,Hn)},convolveMatrix:function(tr){return this.parent()&&this.parent().convolveMatrix(tr).in(this)},diffuseLighting:function(tr,Hn,er,nr){return this.parent()&&this.parent().diffuseLighting(tr,er,nr).in(this)},displacementMap:function(tr,Hn,er,nr){return this.parent()&&this.parent().displacementMap(this,tr,Hn,er,nr)},dropShadow:function(tr,Hn,er){return this.parent()&&this.parent().dropShadow(this,tr,Hn,er).in(this)},flood:function(tr,Hn){return this.parent()&&this.parent().flood(tr,Hn)},gaussianBlur:function(tr,Hn){return this.parent()&&this.parent().gaussianBlur(tr,Hn).in(this)},image:function(tr){return this.parent()&&this.parent().image(tr)},merge:function(tr){return tr=tr instanceof Array?tr:[...tr],this.parent()&&this.parent().merge(this,...tr)},morphology:function(tr,Hn){return this.parent()&&this.parent().morphology(tr,Hn).in(this)},offset:function(tr,Hn){return this.parent()&&this.parent().offset(tr,Hn).in(this)},specularLighting:function(tr,Hn,er,nr,ir){return this.parent()&&this.parent().specularLighting(tr,er,nr,ir).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(tr,Hn,er,nr,ir){return this.parent()&&this.parent().turbulence(tr,Hn,er,nr,ir).in(this)}};Q$1(ki$1,Si$1),Q$1(wi$1.MergeEffect,{in:function(tr){return tr instanceof wi$1.MergeNode?this.add(tr,0):this.add(new wi$1.MergeNode().in(tr),0),this}}),Q$1([wi$1.CompositeEffect,wi$1.BlendEffect,wi$1.DisplacementMapEffect],{in2:function(tr){if(tr==null){const Hn=this.attr("in2");return this.parent()&&this.parent().find(`[result="${Hn}"]`)[0]||Hn}return this.attr("in2",tr)}}),wi$1.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Li$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"getDefaultFilter",value:function(Hn,er){var nr=this.w;Hn.unfilter(!0),new wi$1().size("120%","180%","-5%","-40%"),nr.config.chart.dropShadow.enabled&&this.dropShadow(Hn,nr.config.chart.dropShadow,er)}},{key:"applyFilter",value:function(Hn,er,nr){var ir,rr=this,sr=this.w;if(Hn.unfilter(!0),nr!=="none"){var ar,or,lr=sr.config.chart.dropShadow,cr=nr==="lighten"?2:.3;Hn.filterWith((function(ur){ur.colorMatrix({type:"matrix",values:`
          `.concat(cr,` 0 0 0 0
          0 `).concat(cr,` 0 0 0
          0 0 `).concat(cr,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),lr.enabled&&rr.addShadow(ur,er,lr,"brightness")})),!lr.noUserSpaceOnUse&&((ar=Hn.filterer())===null||ar===void 0||(or=ar.node)===null||or===void 0||or.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((ir=Hn.filterer())===null||ir===void 0?void 0:ir.node)}else this.getDefaultFilter(Hn,er)}},{key:"addShadow",value:function(Hn,er,nr,ir){var rr,sr=this.w,ar=nr.blur,or=nr.top,lr=nr.left,cr=nr.color,ur=nr.opacity;if(cr=Array.isArray(cr)?cr[er]:cr,((rr=sr.config.chart.dropShadow.enabledOnSeries)===null||rr===void 0?void 0:rr.length)>0&&sr.config.chart.dropShadow.enabledOnSeries.indexOf(er)===-1)return Hn;Hn.offset({in:ir,dx:lr,dy:or,result:"offset"}),Hn.gaussianBlur({in:"offset",stdDeviation:ar,result:"blur"}),Hn.flood({"flood-color":cr,"flood-opacity":ur,result:"flood"}),Hn.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),Hn.merge(["shadow",ir])}},{key:"dropShadow",value:function(Hn,er){var nr,ir,rr,sr,ar,or=this,lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,cr=this.w;return Hn.unfilter(!0),v$1.isMsEdge()&&cr.config.chart.type==="radialBar"||((nr=cr.config.chart.dropShadow.enabledOnSeries)===null||nr===void 0?void 0:nr.length)>0&&((rr=cr.config.chart.dropShadow.enabledOnSeries)===null||rr===void 0?void 0:rr.indexOf(lr))===-1?Hn:(Hn.filterWith((function(ur){or.addShadow(ur,lr,er,"SourceGraphic")})),er.noUserSpaceOnUse||(sr=Hn.filterer())===null||sr===void 0||(ar=sr.node)===null||ar===void 0||ar.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((ir=Hn.filterer())===null||ir===void 0?void 0:ir.node),Hn)}},{key:"setSelectionFilter",value:function(Hn,er,nr){var ir=this.w;if(ir.globals.selectedDataPoints[er]!==void 0&&ir.globals.selectedDataPoints[er].indexOf(nr)>-1){Hn.node.setAttribute("selected",!0);var rr=ir.config.states.active.filter;rr!=="none"&&this.applyFilter(Hn,er,rr.type)}}},{key:"_scaleFilterSize",value:function(Hn){Hn&&(function(er){for(var nr in er)er.hasOwnProperty(nr)&&Hn.setAttribute(nr,er[nr])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),tr})(),Mi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"roundPathCorners",value:function(Hn,er){function nr(Fr,Gr,qr){var Hr=Gr.x-Fr.x,Yr=Gr.y-Fr.y,ro=Math.sqrt(Hr*Hr+Yr*Yr);return ir(Fr,Gr,Math.min(1,qr/ro))}function ir(Fr,Gr,qr){return{x:Fr.x+(Gr.x-Fr.x)*qr,y:Fr.y+(Gr.y-Fr.y)*qr}}function rr(Fr,Gr){Fr.length>2&&(Fr[Fr.length-2]=Gr.x,Fr[Fr.length-1]=Gr.y)}function sr(Fr){return{x:parseFloat(Fr[Fr.length-2]),y:parseFloat(Fr[Fr.length-1])}}Hn.indexOf("NaN")>-1&&(Hn="");var ar=Hn.split(/[,\s]/).reduce((function(Fr,Gr){var qr=Gr.match(/^([a-zA-Z])(.+)/);return qr?(Fr.push(qr[1]),Fr.push(qr[2])):Fr.push(Gr),Fr}),[]).reduce((function(Fr,Gr){return parseFloat(Gr)==Gr&&Fr.length?Fr[Fr.length-1].push(Gr):Fr.push([Gr]),Fr}),[]),or=[];if(ar.length>1){var lr=sr(ar[0]),cr=null;ar[ar.length-1][0]=="Z"&&ar[0].length>2&&(cr=["L",lr.x,lr.y],ar[ar.length-1]=cr),or.push(ar[0]);for(var ur=1;ur<ar.length;ur++){var dr=or[or.length-1],fr=ar[ur],gr=fr==cr?ar[1]:ar[ur+1];if(gr&&dr&&dr.length>2&&fr[0]=="L"&&gr.length>2&&gr[0]=="L"){var yr,vr,jr=sr(dr),Sr=sr(fr),Tr=sr(gr);yr=nr(Sr,jr,er),vr=nr(Sr,Tr,er),rr(fr,yr),fr.origPoint=Sr,or.push(fr);var Lr=ir(yr,Sr,.5),Mr=ir(Sr,vr,.5),Nr=["C",Lr.x,Lr.y,Mr.x,Mr.y,vr.x,vr.y];Nr.origPoint=Sr,or.push(Nr)}else or.push(fr)}if(cr){var Or=sr(or[or.length-1]);or.push(["Z"]),rr(or[0],Or)}}else or=ar;return or.reduce((function(Fr,Gr){return Fr+Gr.join(" ")+" "}),"")}},{key:"drawLine",value:function(Hn,er,nr,ir){var rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",sr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,ar=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,or=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:Hn,y1:er,x2:nr,y2:ir,stroke:rr,"stroke-dasharray":sr,"stroke-width":ar,"stroke-linecap":or})}},{key:"drawRect",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,sr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",ar=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,or=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,lr=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,cr=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,ur=this.w.globals.dom.Paper.rect();return ur.attr({x:Hn,y:er,width:nr>0?nr:0,height:ir>0?ir:0,rx:rr,ry:rr,opacity:ar,"stroke-width":or!==null?or:0,stroke:lr!==null?lr:"none","stroke-dasharray":cr}),ur.node.setAttribute("fill",sr),ur}},{key:"drawPolygon",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(Hn).attr({fill:ir,stroke:er,"stroke-width":nr})}},{key:"drawCircle",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Hn<0&&(Hn=0);var nr=this.w.globals.dom.Paper.circle(2*Hn);return er!==null&&nr.attr(er),nr}},{key:"drawPath",value:function(Hn){var er=Hn.d,nr=er===void 0?"":er,ir=Hn.stroke,rr=ir===void 0?"#a8a8a8":ir,sr=Hn.strokeWidth,ar=sr===void 0?1:sr,or=Hn.fill,lr=Hn.fillOpacity,cr=lr===void 0?1:lr,ur=Hn.strokeOpacity,dr=ur===void 0?1:ur,fr=Hn.classes,gr=Hn.strokeLinecap,yr=gr===void 0?null:gr,vr=Hn.strokeDashArray,jr=vr===void 0?0:vr,Sr=this.w;return yr===null&&(yr=Sr.config.stroke.lineCap),(nr.indexOf("undefined")>-1||nr.indexOf("NaN")>-1)&&(nr="M 0 ".concat(Sr.globals.gridHeight)),Sr.globals.dom.Paper.path(nr).attr({fill:or,"fill-opacity":cr,stroke:rr,"stroke-opacity":dr,"stroke-linecap":yr,"stroke-width":ar,"stroke-dasharray":jr,class:fr})}},{key:"group",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,er=this.w.globals.dom.Paper.group();return Hn!==null&&er.attr(Hn),er}},{key:"move",value:function(Hn,er){var nr=["M",Hn,er].join(" ");return nr}},{key:"line",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ir=null;return nr===null?ir=[" L",Hn,er].join(" "):nr==="H"?ir=[" H",Hn].join(" "):nr==="V"&&(ir=[" V",er].join(" ")),ir}},{key:"curve",value:function(Hn,er,nr,ir,rr,sr){var ar=["C",Hn,er,nr,ir,rr,sr].join(" ");return ar}},{key:"quadraticCurve",value:function(Hn,er,nr,ir){return["Q",Hn,er,nr,ir].join(" ")}},{key:"arc",value:function(Hn,er,nr,ir,rr,sr,ar){var or="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(or="a");var lr=[or,Hn,er,nr,ir,rr,sr,ar].join(" ");return lr}},{key:"renderPaths",value:function(Hn){var er,nr=Hn.j,ir=Hn.realIndex,rr=Hn.pathFrom,sr=Hn.pathTo,ar=Hn.stroke,or=Hn.strokeWidth,lr=Hn.strokeLinecap,cr=Hn.fill,ur=Hn.animationDelay,dr=Hn.initialSpeed,fr=Hn.dataChangeSpeed,gr=Hn.className,yr=Hn.chartType,vr=Hn.shouldClipToGrid,jr=vr===void 0||vr,Sr=Hn.bindEventsOnPaths,Tr=Sr===void 0||Sr,Lr=Hn.drawShadow,Mr=Lr===void 0||Lr,Nr=this.w,Or=new Li$1(this.ctx),Fr=new y$3(this.ctx),Gr=this.w.config.chart.animations.enabled,qr=Gr&&this.w.config.chart.animations.dynamicAnimation.enabled;if(rr&&rr.startsWith("M 0 0")&&sr){var Hr=sr.match(/^M\s+[\d.-]+\s+[\d.-]+/);Hr&&(rr=rr.replace(/^M\s+0\s+0/,Hr[0]))}var Yr=!!(Gr&&!Nr.globals.resized||qr&&Nr.globals.dataChanged&&Nr.globals.shouldAnimate);Yr?er=rr:(er=sr,Nr.globals.animationEnded=!0);var ro=Nr.config.stroke.dashArray,io=0;io=Array.isArray(ro)?ro[ir]:Nr.config.stroke.dashArray;var fo=this.drawPath({d:er,stroke:ar,strokeWidth:or,fill:cr,fillOpacity:1,classes:gr,strokeLinecap:lr,strokeDashArray:io});fo.attr("index",ir),jr&&(yr==="bar"&&!Nr.globals.isHorizontal||Nr.globals.comboCharts?fo.attr({"clip-path":"url(#gridRectBarMask".concat(Nr.globals.cuid,")")}):fo.attr({"clip-path":"url(#gridRectMask".concat(Nr.globals.cuid,")")})),Nr.config.chart.dropShadow.enabled&&Mr&&Or.dropShadow(fo,Nr.config.chart.dropShadow,ir),Tr&&(fo.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,fo)),fo.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,fo)),fo.node.addEventListener("mousedown",this.pathMouseDown.bind(this,fo))),fo.attr({pathTo:sr,pathFrom:rr});var ao={el:fo,j:nr,realIndex:ir,pathFrom:rr,pathTo:sr,fill:cr,strokeWidth:or,delay:ur};return!Gr||Nr.globals.resized||Nr.globals.dataChanged?!Nr.globals.resized&&Nr.globals.dataChanged||Fr.showDelayedElements():Fr.animatePathsGradually(u$2(u$2({},ao),{},{speed:dr})),Nr.globals.dataChanged&&qr&&Yr&&Fr.animatePathsGradually(u$2(u$2({},ao),{},{speed:fr})),fo}},{key:"drawPattern",value:function(Hn,er,nr){var ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(er,nr,(function(sr){Hn==="horizontalLines"?sr.line(0,0,nr,0).stroke({color:ir,width:rr+1}):Hn==="verticalLines"?sr.line(0,0,0,er).stroke({color:ir,width:rr+1}):Hn==="slantedLines"?sr.line(0,0,er,nr).stroke({color:ir,width:rr}):Hn==="squares"?sr.rect(er,nr).fill("none").stroke({color:ir,width:rr}):Hn==="circles"&&sr.circle(er).fill("none").stroke({color:ir,width:rr})}))}},{key:"drawGradient",value:function(Hn,er,nr,ir,rr){var sr,ar=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,or=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,lr=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],cr=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,ur=this.w;er.length<9&&er.indexOf("#")===0&&(er=v$1.hexToRgba(er,ir)),nr.length<9&&nr.indexOf("#")===0&&(nr=v$1.hexToRgba(nr,rr));var dr=0,fr=1,gr=1,yr=null;or!==null&&(dr=or[0]!==void 0?or[0]/100:0,fr=or[1]!==void 0?or[1]/100:1,gr=or[2]!==void 0?or[2]/100:1,yr=or[3]!==void 0?or[3]/100:null);var vr=!(ur.config.chart.type!=="donut"&&ur.config.chart.type!=="pie"&&ur.config.chart.type!=="polarArea"&&ur.config.chart.type!=="bubble");if(sr=lr&&lr.length!==0?ur.globals.dom.Paper.gradient(vr?"radial":"linear",(function(Tr){(Array.isArray(lr[cr])?lr[cr]:lr).forEach((function(Lr){Tr.stop(Lr.offset/100,Lr.color,Lr.opacity)}))})):ur.globals.dom.Paper.gradient(vr?"radial":"linear",(function(Tr){Tr.stop(dr,er,ir),Tr.stop(fr,nr,rr),Tr.stop(gr,nr,rr),yr!==null&&Tr.stop(yr,er,ir)})),vr){var jr=ur.globals.gridWidth/2,Sr=ur.globals.gridHeight/2;ur.config.chart.type!=="bubble"?sr.attr({gradientUnits:"userSpaceOnUse",cx:jr,cy:Sr,r:ar}):sr.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else Hn==="vertical"?sr.from(0,0).to(0,1):Hn==="diagonal"?sr.from(0,0).to(1,1):Hn==="horizontal"?sr.from(0,1).to(1,1):Hn==="diagonal2"&&sr.from(1,0).to(0,1);return sr}},{key:"getTextBasedOnMaxWidth",value:function(Hn){var er=Hn.text,nr=Hn.maxWidth,ir=Hn.fontSize,rr=Hn.fontFamily,sr=this.getTextRects(er,ir,rr),ar=sr.width/er.length,or=Math.floor(nr/ar);return nr<sr.width?er.slice(0,or-3)+"...":er}},{key:"drawText",value:function(Hn){var er=this,nr=Hn.x,ir=Hn.y,rr=Hn.text,sr=Hn.textAnchor,ar=Hn.fontSize,or=Hn.fontFamily,lr=Hn.fontWeight,cr=Hn.foreColor,ur=Hn.opacity,dr=Hn.maxWidth,fr=Hn.cssClass,gr=fr===void 0?"":fr,yr=Hn.isPlainText,vr=yr===void 0||yr,jr=Hn.dominantBaseline,Sr=jr===void 0?"auto":jr,Tr=this.w;rr===void 0&&(rr="");var Lr=rr;sr||(sr="start"),cr&&cr.length||(cr=Tr.config.chart.foreColor),or=or||Tr.config.chart.fontFamily,lr=lr||"regular";var Mr,Nr={maxWidth:dr,fontSize:ar=ar||"11px",fontFamily:or};return Array.isArray(rr)?Mr=Tr.globals.dom.Paper.text((function(Or){for(var Fr=0;Fr<rr.length;Fr++)Lr=rr[Fr],dr&&(Lr=er.getTextBasedOnMaxWidth(u$2({text:rr[Fr]},Nr))),Fr===0?Or.tspan(Lr):Or.tspan(Lr).newLine()})):(dr&&(Lr=this.getTextBasedOnMaxWidth(u$2({text:rr},Nr))),Mr=vr?Tr.globals.dom.Paper.plain(rr):Tr.globals.dom.Paper.text((function(Or){return Or.tspan(Lr)}))),Mr.attr({x:nr,y:ir,"text-anchor":sr,"dominant-baseline":Sr,"font-size":ar,"font-family":or,"font-weight":lr,fill:cr,class:"apexcharts-text "+gr}),Mr.node.style.fontFamily=or,Mr.node.style.opacity=ur,Mr}},{key:"getMarkerPath",value:function(Hn,er,nr,ir){var rr="";switch(nr){case"cross":rr="M ".concat(Hn-(ir/=1.4)," ").concat(er-ir," L ").concat(Hn+ir," ").concat(er+ir,"  M ").concat(Hn-ir," ").concat(er+ir," L ").concat(Hn+ir," ").concat(er-ir);break;case"plus":rr="M ".concat(Hn-(ir/=1.12)," ").concat(er," L ").concat(Hn+ir," ").concat(er,"  M ").concat(Hn," ").concat(er-ir," L ").concat(Hn," ").concat(er+ir);break;case"star":case"sparkle":var sr=5;ir*=1.15,nr==="sparkle"&&(ir/=1.1,sr=4);for(var ar=Math.PI/sr,or=0;or<=2*sr;or++){var lr=or*ar,cr=or%2==0?ir:ir/2;rr+=(or===0?"M":"L")+(Hn+cr*Math.sin(lr))+","+(er-cr*Math.cos(lr))}rr+="Z";break;case"triangle":rr="M ".concat(Hn," ").concat(er-ir,` 
             L `).concat(Hn+ir," ").concat(er+ir,` 
             L `).concat(Hn-ir," ").concat(er+ir,` 
             Z`);break;case"square":case"rect":rr="M ".concat(Hn-(ir/=1.125)," ").concat(er-ir,` 
           L `).concat(Hn+ir," ").concat(er-ir,` 
           L `).concat(Hn+ir," ").concat(er+ir,` 
           L `).concat(Hn-ir," ").concat(er+ir,` 
           Z`);break;case"diamond":ir*=1.05,rr="M ".concat(Hn," ").concat(er-ir,` 
             L `).concat(Hn+ir," ").concat(er,` 
             L `).concat(Hn," ").concat(er+ir,` 
             L `).concat(Hn-ir," ").concat(er,` 
            Z`);break;case"line":rr="M ".concat(Hn-(ir/=1.1)," ").concat(er,` 
           L `).concat(Hn+ir," ").concat(er);break;default:ir*=2,rr="M ".concat(Hn,", ").concat(er,` 
           m -`).concat(ir/2,`, 0 
           a `).concat(ir/2,",").concat(ir/2," 0 1,0 ").concat(ir,`,0 
           a `).concat(ir/2,",").concat(ir/2," 0 1,0 -").concat(ir,",0")}return rr}},{key:"drawMarkerShape",value:function(Hn,er,nr,ir,rr){var sr=this.drawPath({d:this.getMarkerPath(Hn,er,nr,ir,rr),stroke:rr.pointStrokeColor,strokeDashArray:rr.pointStrokeDashArray,strokeWidth:rr.pointStrokeWidth,fill:rr.pointFillColor,fillOpacity:rr.pointFillOpacity,strokeOpacity:rr.pointStrokeOpacity});return sr.attr({cx:Hn,cy:er,shape:rr.shape,class:rr.class?rr.class:""}),sr}},{key:"drawMarker",value:function(Hn,er,nr){Hn=Hn||0;var ir=nr.pSize||0;return v$1.isNumber(er)||(ir=0,er=0),this.drawMarkerShape(Hn,er,nr?.shape,ir,u$2(u$2({},nr),nr.shape==="line"||nr.shape==="plus"||nr.shape==="cross"?{pointStrokeColor:nr.pointFillColor,pointStrokeOpacity:nr.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(Hn,er){var nr=this.w,ir=new Li$1(this.ctx),rr=parseInt(Hn.node.getAttribute("index"),10),sr=parseInt(Hn.node.getAttribute("j"),10);if(typeof nr.config.chart.events.dataPointMouseEnter=="function"&&nr.config.chart.events.dataPointMouseEnter(er,this.ctx,{seriesIndex:rr,dataPointIndex:sr,w:nr}),this.ctx.events.fireEvent("dataPointMouseEnter",[er,this.ctx,{seriesIndex:rr,dataPointIndex:sr,w:nr}]),(nr.config.states.active.filter.type==="none"||Hn.node.getAttribute("selected")!=="true")&&nr.config.states.hover.filter.type!=="none"&&!nr.globals.isTouchDevice){var ar=nr.config.states.hover.filter;ir.applyFilter(Hn,rr,ar.type)}}},{key:"pathMouseLeave",value:function(Hn,er){var nr=this.w,ir=new Li$1(this.ctx),rr=parseInt(Hn.node.getAttribute("index"),10),sr=parseInt(Hn.node.getAttribute("j"),10);typeof nr.config.chart.events.dataPointMouseLeave=="function"&&nr.config.chart.events.dataPointMouseLeave(er,this.ctx,{seriesIndex:rr,dataPointIndex:sr,w:nr}),this.ctx.events.fireEvent("dataPointMouseLeave",[er,this.ctx,{seriesIndex:rr,dataPointIndex:sr,w:nr}]),nr.config.states.active.filter.type!=="none"&&Hn.node.getAttribute("selected")==="true"||nr.config.states.hover.filter.type!=="none"&&ir.getDefaultFilter(Hn,rr)}},{key:"pathMouseDown",value:function(Hn,er){var nr=this.w,ir=new Li$1(this.ctx),rr=parseInt(Hn.node.getAttribute("index"),10),sr=parseInt(Hn.node.getAttribute("j"),10),ar="false";if(Hn.node.getAttribute("selected")==="true"){if(Hn.node.setAttribute("selected","false"),nr.globals.selectedDataPoints[rr].indexOf(sr)>-1){var or=nr.globals.selectedDataPoints[rr].indexOf(sr);nr.globals.selectedDataPoints[rr].splice(or,1)}}else{if(!nr.config.states.active.allowMultipleDataPointsSelection&&nr.globals.selectedDataPoints.length>0){nr.globals.selectedDataPoints=[];var lr=nr.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),cr=nr.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),ur=function(gr){Array.prototype.forEach.call(gr,(function(yr){yr.node.setAttribute("selected","false"),ir.getDefaultFilter(yr,rr)}))};ur(lr),ur(cr)}Hn.node.setAttribute("selected","true"),ar="true",nr.globals.selectedDataPoints[rr]===void 0&&(nr.globals.selectedDataPoints[rr]=[]),nr.globals.selectedDataPoints[rr].push(sr)}if(ar==="true"){var dr=nr.config.states.active.filter;if(dr!=="none")ir.applyFilter(Hn,rr,dr.type);else if(nr.config.states.hover.filter!=="none"&&!nr.globals.isTouchDevice){var fr=nr.config.states.hover.filter;ir.applyFilter(Hn,rr,fr.type)}}else nr.config.states.active.filter.type!=="none"&&(nr.config.states.hover.filter.type==="none"||nr.globals.isTouchDevice?ir.getDefaultFilter(Hn,rr):(fr=nr.config.states.hover.filter,ir.applyFilter(Hn,rr,fr.type)));typeof nr.config.chart.events.dataPointSelection=="function"&&nr.config.chart.events.dataPointSelection(er,this.ctx,{selectedDataPoints:nr.globals.selectedDataPoints,seriesIndex:rr,dataPointIndex:sr,w:nr}),er&&this.ctx.events.fireEvent("dataPointSelection",[er,this.ctx,{selectedDataPoints:nr.globals.selectedDataPoints,seriesIndex:rr,dataPointIndex:sr,w:nr}])}},{key:"rotateAroundCenter",value:function(Hn){var er={};return Hn&&typeof Hn.getBBox=="function"&&(er=Hn.getBBox()),{x:er.x+er.width/2,y:er.y+er.height/2}}},{key:"getTextRects",value:function(Hn,er,nr,ir){var rr=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],sr=this.w,ar=this.drawText({x:-200,y:-200,text:Hn,textAnchor:"start",fontSize:er,fontFamily:nr,foreColor:"#fff",opacity:0});ir&&ar.attr("transform",ir),sr.globals.dom.Paper.add(ar);var or=ar.bbox();return rr||(or=ar.node.getBoundingClientRect()),ar.remove(),{width:or.width,height:or.height}}},{key:"placeTextWithEllipsis",value:function(Hn,er,nr){if(typeof Hn.getComputedTextLength=="function"&&(Hn.textContent=er,er.length>0&&Hn.getComputedTextLength()>=nr/1.1)){for(var ir=er.length-3;ir>0;ir-=3)if(Hn.getSubStringLength(0,ir)<=nr/1.1)return void(Hn.textContent=er.substring(0,ir)+"...");Hn.textContent="."}}}],[{key:"setAttrs",value:function(Hn,er){for(var nr in er)er.hasOwnProperty(nr)&&Hn.setAttribute(nr,er[nr])}}]),tr})(),Pi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"getStackedSeriesTotals",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],er=this.w,nr=[];if(er.globals.series.length===0)return nr;for(var ir=0;ir<er.globals.series[er.globals.maxValsInArrayIndex].length;ir++){for(var rr=0,sr=0;sr<er.globals.series.length;sr++)er.globals.series[sr][ir]!==void 0&&Hn.indexOf(sr)===-1&&(rr+=er.globals.series[sr][ir]);nr.push(rr)}return nr}},{key:"getSeriesTotalByIndex",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Hn===null?this.w.config.series.reduce((function(er,nr){return er+nr}),0):this.w.globals.series[Hn].reduce((function(er,nr){return er+nr}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var Hn=this,er=this.w,nr=[];return er.globals.seriesGroups.forEach((function(ir){var rr=[];er.config.series.forEach((function(ar,or){ir.indexOf(er.globals.seriesNames[or])>-1&&rr.push(or)}));var sr=er.globals.series.map((function(ar,or){return rr.indexOf(or)===-1?or:-1})).filter((function(ar){return ar!==-1}));nr.push(Hn.getStackedSeriesTotals(sr))})),nr}},{key:"setSeriesYAxisMappings",value:function(){var Hn=this.w.globals,er=this.w.config,nr=[],ir=[],rr=[],sr=Hn.series.length>er.yaxis.length||er.yaxis.some((function(ur){return Array.isArray(ur.seriesName)}));er.series.forEach((function(ur,dr){rr.push(dr),ir.push(null)})),er.yaxis.forEach((function(ur,dr){nr[dr]=[]}));var ar=[];er.yaxis.forEach((function(ur,dr){var fr=!1;if(ur.seriesName){var gr=[];Array.isArray(ur.seriesName)?gr=ur.seriesName:gr.push(ur.seriesName),gr.forEach((function(yr){er.series.forEach((function(vr,jr){if(vr.name===yr){var Sr=jr;dr===jr||sr?!sr||rr.indexOf(jr)>-1?nr[dr].push([dr,jr]):console.warn("Series '"+vr.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(nr[jr].push([jr,dr]),Sr=dr),fr=!0,(Sr=rr.indexOf(Sr))!==-1&&rr.splice(Sr,1)}}))}))}fr||ar.push(dr)})),nr=nr.map((function(ur,dr){var fr=[];return ur.forEach((function(gr){ir[gr[1]]=gr[0],fr.push(gr[1])})),fr}));for(var or=er.yaxis.length-1,lr=0;lr<ar.length&&(or=ar[lr],nr[or]=[],rr);lr++){var cr=rr[0];rr.shift(),nr[or].push(cr),ir[cr]=or}rr.forEach((function(ur){nr[or].push(ur),ir[ur]=or})),Hn.seriesYAxisMap=nr.map((function(ur){return ur})),Hn.seriesYAxisReverseMap=ir.map((function(ur){return ur})),Hn.seriesYAxisMap.forEach((function(ur,dr){ur.forEach((function(fr){er.series[fr]&&er.series[fr].group===void 0&&(er.series[fr].group="apexcharts-axis-".concat(dr.toString()))}))}))}},{key:"isSeriesNull",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(Hn===null?this.w.config.series.filter((function(er){return er!==null})):this.w.config.series[Hn].data.filter((function(er){return er!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(Hn){return this.w.globals.series[Hn].every((function(er,nr,ir){return er===ir[0]}))}},{key:"getCategoryLabels",value:function(Hn){var er=this.w,nr=Hn.slice();return er.config.xaxis.convertedCatToNumeric&&(nr=Hn.map((function(ir,rr){return er.config.xaxis.labels.formatter(ir-er.globals.minX+1)}))),nr}},{key:"getLargestSeries",value:function(){var Hn=this.w;Hn.globals.maxValsInArrayIndex=Hn.globals.series.map((function(er){return er.length})).indexOf(Math.max.apply(Math,Hn.globals.series.map((function(er){return er.length}))))}},{key:"getLargestMarkerSize",value:function(){var Hn=this.w,er=0;return Hn.globals.markers.size.forEach((function(nr){er=Math.max(er,nr)})),Hn.config.markers.discrete&&Hn.config.markers.discrete.length&&Hn.config.markers.discrete.forEach((function(nr){er=Math.max(er,nr.size)})),er>0&&(Hn.config.markers.hover.size>0?er=Hn.config.markers.hover.size:er+=Hn.config.markers.hover.sizeOffset),Hn.globals.markers.largestSize=er,er}},{key:"getSeriesTotals",value:function(){var Hn=this.w;Hn.globals.seriesTotals=Hn.globals.series.map((function(er,nr){var ir=0;if(Array.isArray(er))for(var rr=0;rr<er.length;rr++)ir+=er[rr];else ir+=er;return ir}))}},{key:"getSeriesTotalsXRange",value:function(Hn,er){var nr=this.w;return nr.globals.series.map((function(ir,rr){for(var sr=0,ar=0;ar<ir.length;ar++)nr.globals.seriesX[rr][ar]>Hn&&nr.globals.seriesX[rr][ar]<er&&(sr+=ir[ar]);return sr}))}},{key:"getPercentSeries",value:function(){var Hn=this.w;Hn.globals.seriesPercent=Hn.globals.series.map((function(er,nr){var ir=[];if(Array.isArray(er))for(var rr=0;rr<er.length;rr++){var sr=Hn.globals.stackedSeriesTotals[rr],ar=0;sr&&(ar=100*er[rr]/sr),ir.push(ar)}else{var or=100*er/Hn.globals.seriesTotals.reduce((function(lr,cr){return lr+cr}),0);ir.push(or)}return ir}))}},{key:"getCalculatedRatios",value:function(){var Hn,er,nr,ir=this,rr=this.w,sr=rr.globals,ar=[],or=0,lr=[],cr=.1,ur=0;if(sr.yRange=[],sr.isMultipleYAxis)for(var dr=0;dr<sr.minYArr.length;dr++)sr.yRange.push(Math.abs(sr.minYArr[dr]-sr.maxYArr[dr])),lr.push(0);else sr.yRange.push(Math.abs(sr.minY-sr.maxY));sr.xRange=Math.abs(sr.maxX-sr.minX),sr.zRange=Math.abs(sr.maxZ-sr.minZ);for(var fr=0;fr<sr.yRange.length;fr++)ar.push(sr.yRange[fr]/sr.gridHeight);if(er=sr.xRange/sr.gridWidth,Hn=sr.yRange/sr.gridWidth,nr=sr.xRange/sr.gridHeight,(or=sr.zRange/sr.gridHeight*16)||(or=1),sr.minY!==Number.MIN_VALUE&&Math.abs(sr.minY)!==0&&(sr.hasNegs=!0),rr.globals.seriesYAxisReverseMap.length>0){var gr=function(vr,jr){var Sr=rr.config.yaxis[rr.globals.seriesYAxisReverseMap[jr]],Tr=vr<0?-1:1;return vr=Math.abs(vr),Sr.logarithmic&&(vr=ir.getBaseLog(Sr.logBase,vr)),-Tr*vr/ar[jr]};if(sr.isMultipleYAxis){lr=[];for(var yr=0;yr<ar.length;yr++)lr.push(gr(sr.minYArr[yr],yr))}else(lr=[]).push(gr(sr.minY,0)),sr.minY!==Number.MIN_VALUE&&Math.abs(sr.minY)!==0&&(cr=-sr.minY/Hn,ur=sr.minX/er)}else(lr=[]).push(0),cr=0,ur=0;return{yRatio:ar,invertedYRatio:Hn,zRatio:or,xRatio:er,invertedXRatio:nr,baseLineInvertedY:cr,baseLineY:lr,baseLineX:ur}}},{key:"getLogSeries",value:function(Hn){var er=this,nr=this.w;return nr.globals.seriesLog=Hn.map((function(ir,rr){var sr=nr.globals.seriesYAxisReverseMap[rr];return nr.config.yaxis[sr]&&nr.config.yaxis[sr].logarithmic?ir.map((function(ar){return ar===null?null:er.getLogVal(nr.config.yaxis[sr].logBase,ar,rr)})):ir})),nr.globals.invalidLogScale?Hn:nr.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(Hn,er){if(Hn===null)return null;var nr=this.w,ir=nr.globals.seriesYAxisReverseMap[er];return nr.config.yaxis[ir]&&nr.config.yaxis[ir].logarithmic?this.getLogVal(nr.config.yaxis[ir].logBase,Hn,er):Hn}},{key:"getBaseLog",value:function(Hn,er){return Math.log(er)/Math.log(Hn)}},{key:"getLogVal",value:function(Hn,er,nr){if(er<=0)return 0;var ir=this.w,rr=ir.globals.minYArr[nr]===0?-1:this.getBaseLog(Hn,ir.globals.minYArr[nr]),sr=(ir.globals.maxYArr[nr]===0?0:this.getBaseLog(Hn,ir.globals.maxYArr[nr]))-rr;return er<1?er/sr:(this.getBaseLog(Hn,er)-rr)/sr}},{key:"getLogYRatios",value:function(Hn){var er=this,nr=this.w,ir=this.w.globals;return ir.yLogRatio=Hn.slice(),ir.logYRange=ir.yRange.map((function(rr,sr){var ar=nr.globals.seriesYAxisReverseMap[sr];if(nr.config.yaxis[ar]&&er.w.config.yaxis[ar].logarithmic){var or,lr=-Number.MAX_VALUE,cr=Number.MIN_VALUE;return ir.seriesLog.forEach((function(ur,dr){ur.forEach((function(fr){nr.config.yaxis[dr]&&nr.config.yaxis[dr].logarithmic&&(lr=Math.max(fr,lr),cr=Math.min(fr,cr))}))})),or=Math.pow(ir.yRange[sr],Math.abs(cr-lr)/ir.yRange[sr]),ir.yLogRatio[sr]=or/ir.gridHeight,or}})),ir.invalidLogScale?Hn.slice():ir.yLogRatio}},{key:"drawSeriesByGroup",value:function(Hn,er,nr,ir){var rr=this.w,sr=[];return Hn.series.length>0&&er.forEach((function(ar){var or=[],lr=[];Hn.i.forEach((function(cr,ur){rr.config.series[cr].group===ar&&(or.push(Hn.series[ur]),lr.push(cr))})),or.length>0&&sr.push(ir.draw(or,nr,lr))})),sr}}],[{key:"checkComboSeries",value:function(Hn,er){var nr=!1,ir=0,rr=0;return er===void 0&&(er="line"),Hn.length&&Hn[0].type!==void 0&&Hn.forEach((function(sr){sr.type!=="bar"&&sr.type!=="column"&&sr.type!=="candlestick"&&sr.type!=="boxPlot"||ir++,sr.type!==void 0&&sr.type!==er&&rr++})),rr>0&&(nr=!0),{comboBarCount:ir,comboCharts:nr}}},{key:"extendArrayProps",value:function(Hn,er,nr){var ir,rr,sr,ar,or,lr;return(ir=er)!==null&&ir!==void 0&&ir.yaxis&&(er=Hn.extendYAxis(er,nr)),(rr=er)!==null&&rr!==void 0&&rr.annotations&&(er.annotations.yaxis&&(er=Hn.extendYAxisAnnotations(er)),(sr=er)!==null&&sr!==void 0&&(ar=sr.annotations)!==null&&ar!==void 0&&ar.xaxis&&(er=Hn.extendXAxisAnnotations(er)),(or=er)!==null&&or!==void 0&&(lr=or.annotations)!==null&&lr!==void 0&&lr.points&&(er=Hn.extendPointAnnotations(er))),er}}]),tr})(),Ii$1=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.annoCtx=Hn}return s$1(tr,[{key:"setOrientations",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,nr=this.w;if(Hn.label.orientation==="vertical"){var ir=er!==null?er:0,rr=nr.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(ir,"']"));if(rr!==null){var sr=rr.getBoundingClientRect();rr.setAttribute("x",parseFloat(rr.getAttribute("x"))-sr.height+4);var ar=Hn.label.position==="top"?sr.width:-sr.width;rr.setAttribute("y",parseFloat(rr.getAttribute("y"))+ar);var or=this.annoCtx.graphics.rotateAroundCenter(rr),lr=or.x,cr=or.y;rr.setAttribute("transform","rotate(-90 ".concat(lr," ").concat(cr,")"))}}}},{key:"addBackgroundToAnno",value:function(Hn,er){var nr=this.w;if(!Hn||!er.label.text||!String(er.label.text).trim())return null;var ir=nr.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),rr=Hn.getBoundingClientRect(),sr=er.label.style.padding,ar=sr.left,or=sr.right,lr=sr.top,cr=sr.bottom;if(er.label.orientation==="vertical"){var ur=[ar,or,lr,cr];lr=ur[0],cr=ur[1],ar=ur[2],or=ur[3]}var dr=rr.left-ir.left-ar,fr=rr.top-ir.top-lr,gr=this.annoCtx.graphics.drawRect(dr-nr.globals.barPadForNumericAxis,fr,rr.width+ar+or,rr.height+lr+cr,er.label.borderRadius,er.label.style.background,1,er.label.borderWidth,er.label.borderColor,0);return er.id&&gr.node.classList.add(er.id),gr}},{key:"annotationsBackground",value:function(){var Hn=this,er=this.w,nr=function(ir,rr,sr){var ar=er.globals.dom.baseEl.querySelector(".apexcharts-".concat(sr,"-annotations .apexcharts-").concat(sr,"-annotation-label[rel='").concat(rr,"']"));if(ar){var or=ar.parentNode,lr=Hn.addBackgroundToAnno(ar,ir);lr&&(or.insertBefore(lr.node,ar),ir.label.mouseEnter&&lr.node.addEventListener("mouseenter",ir.label.mouseEnter.bind(Hn,ir)),ir.label.mouseLeave&&lr.node.addEventListener("mouseleave",ir.label.mouseLeave.bind(Hn,ir)),ir.label.click&&lr.node.addEventListener("click",ir.label.click.bind(Hn,ir)))}};er.config.annotations.xaxis.forEach((function(ir,rr){return nr(ir,rr,"xaxis")})),er.config.annotations.yaxis.forEach((function(ir,rr){return nr(ir,rr,"yaxis")})),er.config.annotations.points.forEach((function(ir,rr){return nr(ir,rr,"point")}))}},{key:"getY1Y2",value:function(Hn,er){var nr,ir=this.w,rr=Hn==="y1"?er.y:er.y2,sr=!1;if(this.annoCtx.invertAxis){var ar=ir.config.xaxis.convertedCatToNumeric?ir.globals.categoryLabels:ir.globals.labels,or=ar.indexOf(rr),lr=ir.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(or+1,")"));nr=lr?parseFloat(lr.getAttribute("y")):(ir.globals.gridHeight/ar.length-1)*(or+1)-ir.globals.barHeight,er.seriesIndex!==void 0&&ir.globals.barHeight&&(nr-=ir.globals.barHeight/2*(ir.globals.series.length-1)-ir.globals.barHeight*er.seriesIndex)}else{var cr,ur=ir.globals.seriesYAxisMap[er.yAxisIndex][0],dr=ir.config.yaxis[er.yAxisIndex].logarithmic?new Pi$1(this.annoCtx.ctx).getLogVal(ir.config.yaxis[er.yAxisIndex].logBase,rr,ur)/ir.globals.yLogRatio[ur]:(rr-ir.globals.minYArr[ur])/(ir.globals.yRange[ur]/ir.globals.gridHeight);nr=ir.globals.gridHeight-Math.min(Math.max(dr,0),ir.globals.gridHeight),sr=dr>ir.globals.gridHeight||dr<0,!er.marker||er.y!==void 0&&er.y!==null||(nr=0),(cr=ir.config.yaxis[er.yAxisIndex])!==null&&cr!==void 0&&cr.reversed&&(nr=dr)}return typeof rr=="string"&&rr.includes("px")&&(nr=parseFloat(rr)),{yP:nr,clipped:sr}}},{key:"getX1X2",value:function(Hn,er){var nr=this.w,ir=Hn==="x1"?er.x:er.x2,rr=this.annoCtx.invertAxis?nr.globals.minY:nr.globals.minX,sr=this.annoCtx.invertAxis?nr.globals.maxY:nr.globals.maxX,ar=this.annoCtx.invertAxis?nr.globals.yRange[0]:nr.globals.xRange,or=!1,lr=this.annoCtx.inversedReversedAxis?(sr-ir)/(ar/nr.globals.gridWidth):(ir-rr)/(ar/nr.globals.gridWidth);return nr.config.xaxis.type!=="category"&&!nr.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||nr.globals.dataFormatXNumeric||nr.config.chart.sparkline.enabled||(lr=this.getStringX(ir)),typeof ir=="string"&&ir.includes("px")&&(lr=parseFloat(ir)),ir==null&&er.marker&&(lr=nr.globals.gridWidth),er.seriesIndex!==void 0&&nr.globals.barWidth&&!this.annoCtx.invertAxis&&(lr-=nr.globals.barWidth/2*(nr.globals.series.length-1)-nr.globals.barWidth*er.seriesIndex),typeof lr!="number"&&(lr=0,or=!0),parseFloat(lr.toFixed(10))>parseFloat(nr.globals.gridWidth.toFixed(10))?(lr=nr.globals.gridWidth,or=!0):lr<0&&(lr=0,or=!0),{x:lr,clipped:or}}},{key:"getStringX",value:function(Hn){var er=this.w,nr=Hn;er.config.xaxis.convertedCatToNumeric&&er.globals.categoryLabels.length&&(Hn=er.globals.categoryLabels.indexOf(Hn)+1);var ir=er.globals.labels.map((function(sr){return Array.isArray(sr)?sr.join(" "):sr})).indexOf(Hn),rr=er.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(ir+1,")"));return rr&&(nr=parseFloat(rr.getAttribute("x"))),nr}}]),tr})(),Ti$1=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.annoCtx=Hn,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ii$1(this.annoCtx)}return s$1(tr,[{key:"addXaxisAnnotation",value:function(Hn,er,nr){var ir,rr=this.w,sr=this.helpers.getX1X2("x1",Hn),ar=sr.x,or=sr.clipped,lr=!0,cr=Hn.label.text,ur=Hn.strokeDashArray;if(v$1.isNumber(ar)){if(Hn.x2===null||Hn.x2===void 0){if(!or){var dr=this.annoCtx.graphics.drawLine(ar+Hn.offsetX,0+Hn.offsetY,ar+Hn.offsetX,rr.globals.gridHeight+Hn.offsetY,Hn.borderColor,ur,Hn.borderWidth);er.appendChild(dr.node),Hn.id&&dr.node.classList.add(Hn.id)}}else{var fr=this.helpers.getX1X2("x2",Hn);if(ir=fr.x,lr=fr.clipped,ir<ar){var gr=ar;ar=ir,ir=gr}var yr=this.annoCtx.graphics.drawRect(ar+Hn.offsetX,0+Hn.offsetY,ir-ar,rr.globals.gridHeight+Hn.offsetY,0,Hn.fillColor,Hn.opacity,1,Hn.borderColor,ur);yr.node.classList.add("apexcharts-annotation-rect"),yr.attr("clip-path","url(#gridRectMask".concat(rr.globals.cuid,")")),er.appendChild(yr.node),Hn.id&&yr.node.classList.add(Hn.id)}if(!or||!lr){var vr=this.annoCtx.graphics.getTextRects(cr,parseFloat(Hn.label.style.fontSize)),jr=Hn.label.position==="top"?4:Hn.label.position==="center"?rr.globals.gridHeight/2+(Hn.label.orientation==="vertical"?vr.width/2:0):rr.globals.gridHeight,Sr=this.annoCtx.graphics.drawText({x:ar+Hn.label.offsetX,y:jr+Hn.label.offsetY-(Hn.label.orientation==="vertical"?Hn.label.position==="top"?vr.width/2-12:-vr.width/2:0),text:cr,textAnchor:Hn.label.textAnchor,fontSize:Hn.label.style.fontSize,fontFamily:Hn.label.style.fontFamily,fontWeight:Hn.label.style.fontWeight,foreColor:Hn.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(Hn.label.style.cssClass," ").concat(Hn.id?Hn.id:"")});Sr.attr({rel:nr}),er.appendChild(Sr.node),this.annoCtx.helpers.setOrientations(Hn,nr)}}}},{key:"drawXAxisAnnotations",value:function(){var Hn=this,er=this.w,nr=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return er.config.annotations.xaxis.map((function(ir,rr){Hn.addXaxisAnnotation(ir,nr.node,rr)})),nr}}]),tr})(),zi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return s$1(tr,[{key:"isValidDate",value:function(Hn){return typeof Hn!="number"&&!isNaN(this.parseDate(Hn))}},{key:"getTimeStamp",value:function(Hn){return Date.parse(Hn)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(Hn).toISOString().substr(0,25)).getTime():new Date(Hn).getTime():Hn}},{key:"getDate",value:function(Hn){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(Hn).toUTCString()):new Date(Hn)}},{key:"parseDate",value:function(Hn){var er=Date.parse(Hn);if(!isNaN(er))return this.getTimeStamp(Hn);var nr=Date.parse(Hn.replace(/-/g,"/").replace(/[a-z]+/gi," "));return nr=this.getTimeStamp(nr)}},{key:"parseDateWithTimezone",value:function(Hn){return Date.parse(Hn.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(Hn,er){var nr=this.w.globals.locale,ir=this.w.config.xaxis.labels.datetimeUTC,rr=["\0"].concat(f$2(nr.months)),sr=[""].concat(f$2(nr.shortMonths)),ar=[""].concat(f$2(nr.days)),or=[""].concat(f$2(nr.shortDays));function lr(Fr,Gr){var qr=Fr+"";for(Gr=Gr||2;qr.length<Gr;)qr="0"+qr;return qr}var cr=ir?Hn.getUTCFullYear():Hn.getFullYear();er=(er=(er=er.replace(/(^|[^\\])yyyy+/g,"$1"+cr)).replace(/(^|[^\\])yy/g,"$1"+cr.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+cr);var ur=(ir?Hn.getUTCMonth():Hn.getMonth())+1;er=(er=(er=(er=er.replace(/(^|[^\\])MMMM+/g,"$1"+rr[0])).replace(/(^|[^\\])MMM/g,"$1"+sr[0])).replace(/(^|[^\\])MM/g,"$1"+lr(ur))).replace(/(^|[^\\])M/g,"$1"+ur);var dr=ir?Hn.getUTCDate():Hn.getDate();er=(er=(er=(er=er.replace(/(^|[^\\])dddd+/g,"$1"+ar[0])).replace(/(^|[^\\])ddd/g,"$1"+or[0])).replace(/(^|[^\\])dd/g,"$1"+lr(dr))).replace(/(^|[^\\])d/g,"$1"+dr);var fr=ir?Hn.getUTCHours():Hn.getHours(),gr=fr>12?fr-12:fr===0?12:fr;er=(er=(er=(er=er.replace(/(^|[^\\])HH+/g,"$1"+lr(fr))).replace(/(^|[^\\])H/g,"$1"+fr)).replace(/(^|[^\\])hh+/g,"$1"+lr(gr))).replace(/(^|[^\\])h/g,"$1"+gr);var yr=ir?Hn.getUTCMinutes():Hn.getMinutes();er=(er=er.replace(/(^|[^\\])mm+/g,"$1"+lr(yr))).replace(/(^|[^\\])m/g,"$1"+yr);var vr=ir?Hn.getUTCSeconds():Hn.getSeconds();er=(er=er.replace(/(^|[^\\])ss+/g,"$1"+lr(vr))).replace(/(^|[^\\])s/g,"$1"+vr);var jr=ir?Hn.getUTCMilliseconds():Hn.getMilliseconds();er=er.replace(/(^|[^\\])fff+/g,"$1"+lr(jr,3)),jr=Math.round(jr/10),er=er.replace(/(^|[^\\])ff/g,"$1"+lr(jr)),jr=Math.round(jr/10);var Sr=fr<12?"AM":"PM";er=(er=(er=er.replace(/(^|[^\\])f/g,"$1"+jr)).replace(/(^|[^\\])TT+/g,"$1"+Sr)).replace(/(^|[^\\])T/g,"$1"+Sr.charAt(0));var Tr=Sr.toLowerCase();er=(er=er.replace(/(^|[^\\])tt+/g,"$1"+Tr)).replace(/(^|[^\\])t/g,"$1"+Tr.charAt(0));var Lr=-Hn.getTimezoneOffset(),Mr=ir||!Lr?"Z":Lr>0?"+":"-";if(!ir){var Nr=(Lr=Math.abs(Lr))%60;Mr+=lr(Math.floor(Lr/60))+":"+lr(Nr)}er=er.replace(/(^|[^\\])K/g,"$1"+Mr);var Or=(ir?Hn.getUTCDay():Hn.getDay())+1;return er=(er=(er=(er=(er=er.replace(new RegExp(ar[0],"g"),ar[Or])).replace(new RegExp(or[0],"g"),or[Or])).replace(new RegExp(rr[0],"g"),rr[ur])).replace(new RegExp(sr[0],"g"),sr[ur])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(Hn,er,nr){var ir=this.w;ir.config.xaxis.min!==void 0&&(Hn=ir.config.xaxis.min),ir.config.xaxis.max!==void 0&&(er=ir.config.xaxis.max);var rr=this.getDate(Hn),sr=this.getDate(er),ar=this.formatDate(rr,"yyyy MM dd HH mm ss fff").split(" "),or=this.formatDate(sr,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(ar[6],10),maxMillisecond:parseInt(or[6],10),minSecond:parseInt(ar[5],10),maxSecond:parseInt(or[5],10),minMinute:parseInt(ar[4],10),maxMinute:parseInt(or[4],10),minHour:parseInt(ar[3],10),maxHour:parseInt(or[3],10),minDate:parseInt(ar[2],10),maxDate:parseInt(or[2],10),minMonth:parseInt(ar[1],10)-1,maxMonth:parseInt(or[1],10)-1,minYear:parseInt(ar[0],10),maxYear:parseInt(or[0],10)}}},{key:"isLeapYear",value:function(Hn){return Hn%4==0&&Hn%100!=0||Hn%400==0}},{key:"calculcateLastDaysOfMonth",value:function(Hn,er,nr){return this.determineDaysOfMonths(Hn,er)-nr}},{key:"determineDaysOfYear",value:function(Hn){var er=365;return this.isLeapYear(Hn)&&(er=366),er}},{key:"determineRemainingDaysOfYear",value:function(Hn,er,nr){var ir=this.daysCntOfYear[er]+nr;return er>1&&this.isLeapYear()&&ir++,ir}},{key:"determineDaysOfMonths",value:function(Hn,er){var nr=30;switch(Hn=v$1.monthMod(Hn),!0){case this.months30.indexOf(Hn)>-1:Hn===2&&(nr=this.isLeapYear(er)?29:28);break;case this.months31.indexOf(Hn)>-1:default:nr=31}return nr}}]),tr})(),Xi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.tooltipKeyFormat="dd MMM"}return s$1(tr,[{key:"xLabelFormat",value:function(Hn,er,nr,ir){var rr=this.w;if(rr.config.xaxis.type==="datetime"&&rr.config.xaxis.labels.formatter===void 0&&rr.config.tooltip.x.formatter===void 0){var sr=new zi$1(this.ctx);return sr.formatDate(sr.getDate(er),rr.config.tooltip.x.format)}return Hn(er,nr,ir)}},{key:"defaultGeneralFormatter",value:function(Hn){return Array.isArray(Hn)?Hn.map((function(er){return er})):Hn}},{key:"defaultYFormatter",value:function(Hn,er,nr){var ir=this.w;if(v$1.isNumber(Hn))if(ir.globals.yValueDecimal!==0)Hn=Hn.toFixed(er.decimalsInFloat!==void 0?er.decimalsInFloat:ir.globals.yValueDecimal);else{var rr=Hn.toFixed(0);Hn=Hn==rr?rr:Hn.toFixed(1)}return Hn}},{key:"setLabelFormatters",value:function(){var Hn=this,er=this.w;return er.globals.xaxisTooltipFormatter=function(nr){return Hn.defaultGeneralFormatter(nr)},er.globals.ttKeyFormatter=function(nr){return Hn.defaultGeneralFormatter(nr)},er.globals.ttZFormatter=function(nr){return nr},er.globals.legendFormatter=function(nr){return Hn.defaultGeneralFormatter(nr)},er.config.xaxis.labels.formatter!==void 0?er.globals.xLabelFormatter=er.config.xaxis.labels.formatter:er.globals.xLabelFormatter=function(nr){if(v$1.isNumber(nr)){if(!er.config.xaxis.convertedCatToNumeric&&er.config.xaxis.type==="numeric"){if(v$1.isNumber(er.config.xaxis.decimalsInFloat))return nr.toFixed(er.config.xaxis.decimalsInFloat);var ir=er.globals.maxX-er.globals.minX;return ir>0&&ir<100?nr.toFixed(1):nr.toFixed(0)}return er.globals.isBarHorizontal&&er.globals.maxY-er.globals.minYArr<4?nr.toFixed(1):nr.toFixed(0)}return nr},typeof er.config.tooltip.x.formatter=="function"?er.globals.ttKeyFormatter=er.config.tooltip.x.formatter:er.globals.ttKeyFormatter=er.globals.xLabelFormatter,typeof er.config.xaxis.tooltip.formatter=="function"&&(er.globals.xaxisTooltipFormatter=er.config.xaxis.tooltip.formatter),(Array.isArray(er.config.tooltip.y)||er.config.tooltip.y.formatter!==void 0)&&(er.globals.ttVal=er.config.tooltip.y),er.config.tooltip.z.formatter!==void 0&&(er.globals.ttZFormatter=er.config.tooltip.z.formatter),er.config.legend.formatter!==void 0&&(er.globals.legendFormatter=er.config.legend.formatter),er.config.yaxis.forEach((function(nr,ir){nr.labels.formatter!==void 0?er.globals.yLabelFormatters[ir]=nr.labels.formatter:er.globals.yLabelFormatters[ir]=function(rr){return er.globals.xyCharts?Array.isArray(rr)?rr.map((function(sr){return Hn.defaultYFormatter(sr,nr,ir)})):Hn.defaultYFormatter(rr,nr,ir):rr}})),er.globals}},{key:"heatmapLabelFormatters",value:function(){var Hn=this.w;if(Hn.config.chart.type==="heatmap"){Hn.globals.yAxisScale[0].result=Hn.globals.seriesNames.slice();var er=Hn.globals.seriesNames.reduce((function(nr,ir){return nr.length>ir.length?nr:ir}),0);Hn.globals.yAxisScale[0].niceMax=er,Hn.globals.yAxisScale[0].niceMin=er}}}]),tr})(),Ri$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"getLabel",value:function(Hn,er,nr,ir){var rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],sr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",ar=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],or=this.w,lr=Hn[ir]===void 0?"":Hn[ir],cr=lr,ur=or.globals.xLabelFormatter,dr=or.config.xaxis.labels.formatter,fr=!1,gr=new Xi$1(this.ctx),yr=lr;ar&&(cr=gr.xLabelFormat(ur,lr,yr,{i:ir,dateFormatter:new zi$1(this.ctx).formatDate,w:or}),dr!==void 0&&(cr=dr(lr,Hn[ir],{i:ir,dateFormatter:new zi$1(this.ctx).formatDate,w:or})));var vr,jr;er.length>0?(vr=er[ir].unit,jr=null,er.forEach((function(Mr){Mr.unit==="month"?jr="year":Mr.unit==="day"?jr="month":Mr.unit==="hour"?jr="day":Mr.unit==="minute"&&(jr="hour")})),fr=jr===vr,nr=er[ir].position,cr=er[ir].value):or.config.xaxis.type==="datetime"&&dr===void 0&&(cr=""),cr===void 0&&(cr=""),cr=Array.isArray(cr)?cr:cr.toString();var Sr=new Mi$1(this.ctx),Tr={};Tr=or.globals.rotateXLabels&&ar?Sr.getTextRects(cr,parseInt(sr,10),null,"rotate(".concat(or.config.xaxis.labels.rotate," 0 0)"),!1):Sr.getTextRects(cr,parseInt(sr,10));var Lr=!or.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(cr)&&(String(cr)==="NaN"||rr.indexOf(cr)>=0&&Lr)&&(cr=""),{x:nr,text:cr,textRect:Tr,isBold:fr}}},{key:"checkLabelBasedOnTickamount",value:function(Hn,er,nr){var ir=this.w,rr=ir.config.xaxis.tickAmount;return rr==="dataPoints"&&(rr=Math.round(ir.globals.gridWidth/120)),rr>nr||Hn%Math.round(nr/(rr+1))==0||(er.text=""),er}},{key:"checkForOverflowingLabels",value:function(Hn,er,nr,ir,rr){var sr=this.w;if(Hn===0&&sr.globals.skipFirstTimelinelabel&&(er.text=""),Hn===nr-1&&sr.globals.skipLastTimelinelabel&&(er.text=""),sr.config.xaxis.labels.hideOverlappingLabels&&ir.length>0){var ar=rr[rr.length-1];if(sr.config.xaxis.labels.trim&&sr.config.xaxis.type!=="datetime")return er;er.x<ar.textRect.width/(sr.globals.rotateXLabels?Math.abs(sr.config.xaxis.labels.rotate)/12:1.01)+ar.x&&(er.text="")}return er}},{key:"checkForReversedLabels",value:function(Hn,er){var nr=this.w;return nr.config.yaxis[Hn]&&nr.config.yaxis[Hn].reversed&&er.reverse(),er}},{key:"yAxisAllSeriesCollapsed",value:function(Hn){var er=this.w.globals;return!er.seriesYAxisMap[Hn].some((function(nr){return er.collapsedSeriesIndices.indexOf(nr)===-1}))}},{key:"translateYAxisIndex",value:function(Hn){var er=this.w,nr=er.globals,ir=er.config.yaxis;return nr.series.length>ir.length||ir.some((function(rr){return Array.isArray(rr.seriesName)}))?Hn:nr.seriesYAxisReverseMap[Hn]}},{key:"isYAxisHidden",value:function(Hn){var er=this.w,nr=er.config.yaxis[Hn];if(!nr.show||this.yAxisAllSeriesCollapsed(Hn))return!0;if(!nr.showForNullSeries){var ir=er.globals.seriesYAxisMap[Hn],rr=new Pi$1(this.ctx);return ir.every((function(sr){return rr.isSeriesNull(sr)}))}return!1}},{key:"getYAxisForeColor",value:function(Hn,er){var nr=this.w;return Array.isArray(Hn)&&nr.globals.yAxisScale[er]&&this.ctx.theme.pushExtraColors(Hn,nr.globals.yAxisScale[er].result.length,!1),Hn}},{key:"drawYAxisTicks",value:function(Hn,er,nr,ir,rr,sr,ar){var or=this.w,lr=new Mi$1(this.ctx),cr=or.globals.translateY+or.config.yaxis[rr].labels.offsetY;if(or.globals.isBarHorizontal?cr=0:or.config.chart.type==="heatmap"&&(cr+=sr/2),ir.show&&er>0){or.config.yaxis[rr].opposite===!0&&(Hn+=ir.width);for(var ur=er;ur>=0;ur--){var dr=lr.drawLine(Hn+nr.offsetX-ir.width+ir.offsetX,cr+ir.offsetY,Hn+nr.offsetX+ir.offsetX,cr+ir.offsetY,ir.color);ar.add(dr),cr+=sr}}}}]),tr})(),Ei$1=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.annoCtx=Hn,this.helpers=new Ii$1(this.annoCtx),this.axesUtils=new Ri$1(this.annoCtx)}return s$1(tr,[{key:"addYaxisAnnotation",value:function(Hn,er,nr){var ir,rr=this.w,sr=Hn.strokeDashArray,ar=this.helpers.getY1Y2("y1",Hn),or=ar.yP,lr=ar.clipped,cr=!0,ur=!1,dr=Hn.label.text;if(Hn.y2===null||Hn.y2===void 0){if(!lr){ur=!0;var fr=this.annoCtx.graphics.drawLine(0+Hn.offsetX,or+Hn.offsetY,this._getYAxisAnnotationWidth(Hn),or+Hn.offsetY,Hn.borderColor,sr,Hn.borderWidth);er.appendChild(fr.node),Hn.id&&fr.node.classList.add(Hn.id)}}else{if(ir=(ar=this.helpers.getY1Y2("y2",Hn)).yP,cr=ar.clipped,ir>or){var gr=or;or=ir,ir=gr}if(!lr||!cr){ur=!0;var yr=this.annoCtx.graphics.drawRect(0+Hn.offsetX,ir+Hn.offsetY,this._getYAxisAnnotationWidth(Hn),or-ir,0,Hn.fillColor,Hn.opacity,1,Hn.borderColor,sr);yr.node.classList.add("apexcharts-annotation-rect"),yr.attr("clip-path","url(#gridRectMask".concat(rr.globals.cuid,")")),er.appendChild(yr.node),Hn.id&&yr.node.classList.add(Hn.id)}}if(ur){var vr=Hn.label.position==="right"?rr.globals.gridWidth:Hn.label.position==="center"?rr.globals.gridWidth/2:0,jr=this.annoCtx.graphics.drawText({x:vr+Hn.label.offsetX,y:(ir??or)+Hn.label.offsetY-3,text:dr,textAnchor:Hn.label.textAnchor,fontSize:Hn.label.style.fontSize,fontFamily:Hn.label.style.fontFamily,fontWeight:Hn.label.style.fontWeight,foreColor:Hn.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(Hn.label.style.cssClass," ").concat(Hn.id?Hn.id:"")});jr.attr({rel:nr}),er.appendChild(jr.node)}}},{key:"_getYAxisAnnotationWidth",value:function(Hn){var er=this.w;return er.globals.gridWidth,(Hn.width.indexOf("%")>-1?er.globals.gridWidth*parseInt(Hn.width,10)/100:parseInt(Hn.width,10))+Hn.offsetX}},{key:"drawYAxisAnnotations",value:function(){var Hn=this,er=this.w,nr=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return er.config.annotations.yaxis.forEach((function(ir,rr){ir.yAxisIndex=Hn.axesUtils.translateYAxisIndex(ir.yAxisIndex),Hn.axesUtils.isYAxisHidden(ir.yAxisIndex)&&Hn.axesUtils.yAxisAllSeriesCollapsed(ir.yAxisIndex)||Hn.addYaxisAnnotation(ir,nr.node,rr)})),nr}}]),tr})(),Yi$1=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.annoCtx=Hn,this.helpers=new Ii$1(this.annoCtx)}return s$1(tr,[{key:"addPointAnnotation",value:function(Hn,er,nr){if(!(this.w.globals.collapsedSeriesIndices.indexOf(Hn.seriesIndex)>-1)){var ir=this.helpers.getX1X2("x1",Hn),rr=ir.x,sr=ir.clipped,ar=(ir=this.helpers.getY1Y2("y1",Hn)).yP,or=ir.clipped;if(v$1.isNumber(rr)&&!or&&!sr){var lr={pSize:Hn.marker.size,pointStrokeWidth:Hn.marker.strokeWidth,pointFillColor:Hn.marker.fillColor,pointStrokeColor:Hn.marker.strokeColor,shape:Hn.marker.shape,pRadius:Hn.marker.radius,class:"apexcharts-point-annotation-marker ".concat(Hn.marker.cssClass," ").concat(Hn.id?Hn.id:"")},cr=this.annoCtx.graphics.drawMarker(rr+Hn.marker.offsetX,ar+Hn.marker.offsetY,lr);er.appendChild(cr.node);var ur=Hn.label.text?Hn.label.text:"",dr=this.annoCtx.graphics.drawText({x:rr+Hn.label.offsetX,y:ar+Hn.label.offsetY-Hn.marker.size-parseFloat(Hn.label.style.fontSize)/1.6,text:ur,textAnchor:Hn.label.textAnchor,fontSize:Hn.label.style.fontSize,fontFamily:Hn.label.style.fontFamily,fontWeight:Hn.label.style.fontWeight,foreColor:Hn.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(Hn.label.style.cssClass," ").concat(Hn.id?Hn.id:"")});if(dr.attr({rel:nr}),er.appendChild(dr.node),Hn.customSVG.SVG){var fr=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+Hn.customSVG.cssClass});fr.attr({transform:"translate(".concat(rr+Hn.customSVG.offsetX,", ").concat(ar+Hn.customSVG.offsetY,")")}),fr.node.innerHTML=Hn.customSVG.SVG,er.appendChild(fr.node)}if(Hn.image.path){var gr=Hn.image.width?Hn.image.width:20,yr=Hn.image.height?Hn.image.height:20;cr=this.annoCtx.addImage({x:rr+Hn.image.offsetX-gr/2,y:ar+Hn.image.offsetY-yr/2,width:gr,height:yr,path:Hn.image.path,appendTo:".apexcharts-point-annotations"})}Hn.mouseEnter&&cr.node.addEventListener("mouseenter",Hn.mouseEnter.bind(this,Hn)),Hn.mouseLeave&&cr.node.addEventListener("mouseleave",Hn.mouseLeave.bind(this,Hn)),Hn.click&&cr.node.addEventListener("click",Hn.click.bind(this,Hn))}}}},{key:"drawPointAnnotations",value:function(){var Hn=this,er=this.w,nr=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return er.config.annotations.points.map((function(ir,rr){Hn.addPointAnnotation(ir,nr.node,rr)})),nr}}]),tr})(),Hi$1={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Oi$1=(function(){function tr(){i$1(this,tr),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return s$1(tr,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Hi$1],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(Hn){return Hn}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(Hn){return Hn+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(Hn){return Hn.globals.seriesTotals.reduce((function(er,nr){return er+nr}),0)/Hn.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(Hn){return Hn},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(Hn){return Hn}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(Hn){return Hn}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(Hn){return Hn.globals.seriesTotals.reduce((function(er,nr){return er+nr}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(Hn){return Hn!==null?Hn:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(Hn){return Hn?Hn+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),tr})(),Fi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.graphics=new Mi$1(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ii$1(this),this.xAxisAnnotations=new Ti$1(this),this.yAxisAnnotations=new Ei$1(this),this.pointsAnnotations=new Yi$1(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return s$1(tr,[{key:"drawAxesAnnotations",value:function(){var Hn=this.w;if(Hn.globals.axisCharts&&Hn.globals.dataPoints){for(var er=this.yAxisAnnotations.drawYAxisAnnotations(),nr=this.xAxisAnnotations.drawXAxisAnnotations(),ir=this.pointsAnnotations.drawPointAnnotations(),rr=Hn.config.chart.animations.enabled,sr=[er,nr,ir],ar=[nr.node,er.node,ir.node],or=0;or<3;or++)Hn.globals.dom.elGraphical.add(sr[or]),!rr||Hn.globals.resized||Hn.globals.dataChanged||Hn.config.chart.type!=="scatter"&&Hn.config.chart.type!=="bubble"&&Hn.globals.dataPoints>1&&ar[or].classList.add("apexcharts-element-hidden"),Hn.globals.delayedElements.push({el:ar[or],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var Hn=this;this.w.config.annotations.images.map((function(er,nr){Hn.addImage(er,nr)}))}},{key:"drawTextAnnos",value:function(){var Hn=this;this.w.config.annotations.texts.map((function(er,nr){Hn.addText(er,nr)}))}},{key:"addXaxisAnnotation",value:function(Hn,er,nr){this.xAxisAnnotations.addXaxisAnnotation(Hn,er,nr)}},{key:"addYaxisAnnotation",value:function(Hn,er,nr){this.yAxisAnnotations.addYaxisAnnotation(Hn,er,nr)}},{key:"addPointAnnotation",value:function(Hn,er,nr){this.pointsAnnotations.addPointAnnotation(Hn,er,nr)}},{key:"addText",value:function(Hn,er){var nr=Hn.x,ir=Hn.y,rr=Hn.text,sr=Hn.textAnchor,ar=Hn.foreColor,or=Hn.fontSize,lr=Hn.fontFamily,cr=Hn.fontWeight,ur=Hn.cssClass,dr=Hn.backgroundColor,fr=Hn.borderWidth,gr=Hn.strokeDashArray,yr=Hn.borderRadius,vr=Hn.borderColor,jr=Hn.appendTo,Sr=jr===void 0?".apexcharts-svg":jr,Tr=Hn.paddingLeft,Lr=Tr===void 0?4:Tr,Mr=Hn.paddingRight,Nr=Mr===void 0?4:Mr,Or=Hn.paddingBottom,Fr=Or===void 0?2:Or,Gr=Hn.paddingTop,qr=Gr===void 0?2:Gr,Hr=this.w,Yr=this.graphics.drawText({x:nr,y:ir,text:rr,textAnchor:sr||"start",fontSize:or||"12px",fontWeight:cr||"regular",fontFamily:lr||Hr.config.chart.fontFamily,foreColor:ar||Hr.config.chart.foreColor,cssClass:ur}),ro=Hr.globals.dom.baseEl.querySelector(Sr);ro&&ro.appendChild(Yr.node);var io=Yr.bbox();if(rr){var fo=this.graphics.drawRect(io.x-Lr,io.y-qr,io.width+Lr+Nr,io.height+Fr+qr,yr,dr||"transparent",1,fr,vr,gr);ro.insertBefore(fo.node,Yr.node)}}},{key:"addImage",value:function(Hn,er){var nr=this.w,ir=Hn.path,rr=Hn.x,sr=rr===void 0?0:rr,ar=Hn.y,or=ar===void 0?0:ar,lr=Hn.width,cr=lr===void 0?20:lr,ur=Hn.height,dr=ur===void 0?20:ur,fr=Hn.appendTo,gr=fr===void 0?".apexcharts-svg":fr,yr=nr.globals.dom.Paper.image(ir);yr.size(cr,dr).move(sr,or);var vr=nr.globals.dom.baseEl.querySelector(gr);return vr&&vr.appendChild(yr.node),yr}},{key:"addXaxisAnnotationExternal",value:function(Hn,er,nr){return this.addAnnotationExternal({params:Hn,pushToMemory:er,context:nr,type:"xaxis",contextMethod:nr.addXaxisAnnotation}),nr}},{key:"addYaxisAnnotationExternal",value:function(Hn,er,nr){return this.addAnnotationExternal({params:Hn,pushToMemory:er,context:nr,type:"yaxis",contextMethod:nr.addYaxisAnnotation}),nr}},{key:"addPointAnnotationExternal",value:function(Hn,er,nr){return this.invertAxis===void 0&&(this.invertAxis=nr.w.globals.isBarHorizontal),this.addAnnotationExternal({params:Hn,pushToMemory:er,context:nr,type:"point",contextMethod:nr.addPointAnnotation}),nr}},{key:"addAnnotationExternal",value:function(Hn){var er=Hn.params,nr=Hn.pushToMemory,ir=Hn.context,rr=Hn.type,sr=Hn.contextMethod,ar=ir,or=ar.w,lr=or.globals.dom.baseEl.querySelector(".apexcharts-".concat(rr,"-annotations")),cr=lr.childNodes.length+1,ur=new Oi$1,dr=Object.assign({},rr==="xaxis"?ur.xAxisAnnotation:rr==="yaxis"?ur.yAxisAnnotation:ur.pointAnnotation),fr=v$1.extend(dr,er);switch(rr){case"xaxis":this.addXaxisAnnotation(fr,lr,cr);break;case"yaxis":this.addYaxisAnnotation(fr,lr,cr);break;case"point":this.addPointAnnotation(fr,lr,cr)}var gr=or.globals.dom.baseEl.querySelector(".apexcharts-".concat(rr,"-annotations .apexcharts-").concat(rr,"-annotation-label[rel='").concat(cr,"']")),yr=this.helpers.addBackgroundToAnno(gr,fr);return yr&&lr.insertBefore(yr.node,gr),nr&&or.globals.memory.methodsToExec.push({context:ar,id:fr.id?fr.id:v$1.randomId(),method:sr,label:"addAnnotation",params:er}),ir}},{key:"clearAnnotations",value:function(Hn){for(var er=Hn.w,nr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),ir=er.globals.memory.methodsToExec.length-1;ir>=0;ir--)er.globals.memory.methodsToExec[ir].label!=="addText"&&er.globals.memory.methodsToExec[ir].label!=="addAnnotation"||er.globals.memory.methodsToExec.splice(ir,1);nr=v$1.listToArray(nr),Array.prototype.forEach.call(nr,(function(rr){for(;rr.firstChild;)rr.removeChild(rr.firstChild)}))}},{key:"removeAnnotation",value:function(Hn,er){var nr=Hn.w,ir=nr.globals.dom.baseEl.querySelectorAll(".".concat(er));ir&&(nr.globals.memory.methodsToExec.map((function(rr,sr){rr.id===er&&nr.globals.memory.methodsToExec.splice(sr,1)})),Object.keys(nr.config.annotations).forEach((function(rr){var sr=nr.config.annotations[rr];Array.isArray(sr)&&(nr.config.annotations[rr]=sr.filter((function(ar){return ar.id!==er})))})),Array.prototype.forEach.call(ir,(function(rr){rr.parentElement.removeChild(rr)})))}}]),tr})(),Di$1=function(tr){var Hn,er=tr.isTimeline,nr=tr.ctx,ir=tr.seriesIndex,rr=tr.dataPointIndex,sr=tr.y1,ar=tr.y2,or=tr.w,lr=or.globals.seriesRangeStart[ir][rr],cr=or.globals.seriesRangeEnd[ir][rr],ur=or.globals.labels[rr],dr=or.config.series[ir].name?or.config.series[ir].name:"",fr=or.globals.ttKeyFormatter,gr=or.config.tooltip.y.title.formatter,yr={w:or,seriesIndex:ir,dataPointIndex:rr,start:lr,end:cr};typeof gr=="function"&&(dr=gr(dr,yr)),(Hn=or.config.series[ir].data[rr])!==null&&Hn!==void 0&&Hn.x&&(ur=or.config.series[ir].data[rr].x),er||or.config.xaxis.type==="datetime"&&(ur=new Xi$1(nr).xLabelFormat(or.globals.ttKeyFormatter,ur,ur,{i:void 0,dateFormatter:new zi$1(nr).formatDate,w:or})),typeof fr=="function"&&(ur=fr(ur,yr)),Number.isFinite(sr)&&Number.isFinite(ar)&&(lr=sr,cr=ar);var vr="",jr="",Sr=or.globals.colors[ir];if(or.config.tooltip.x.formatter===void 0)if(or.config.xaxis.type==="datetime"){var Tr=new zi$1(nr);vr=Tr.formatDate(Tr.getDate(lr),or.config.tooltip.x.format),jr=Tr.formatDate(Tr.getDate(cr),or.config.tooltip.x.format)}else vr=lr,jr=cr;else vr=or.config.tooltip.x.formatter(lr),jr=or.config.tooltip.x.formatter(cr);return{start:lr,end:cr,startVal:vr,endVal:jr,ylabel:ur,color:Sr,seriesName:dr}},_i$1=function(tr){var Hn=tr.color,er=tr.seriesName,nr=tr.ylabel,ir=tr.start,rr=tr.end,sr=tr.seriesIndex,ar=tr.dataPointIndex,or=tr.ctx.tooltip.tooltipLabels.getFormatters(sr);ir=or.yLbFormatter(ir),rr=or.yLbFormatter(rr);var lr=or.yLbFormatter(tr.w.globals.series[sr][ar]),cr=`<span class="value start-value">
  `.concat(ir,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(rr,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+Hn+'">'+(er||"")+'</span></div><div> <span class="category">'+nr+": </span> "+(tr.w.globals.comboCharts?tr.w.config.series[sr].type==="rangeArea"||tr.w.config.series[sr].type==="rangeBar"?cr:"<span>".concat(lr,"</span>"):cr)+" </div></div>"},Ni$1=(function(){function tr(Hn){i$1(this,tr),this.opts=Hn}return s$1(tr,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(Hn){return this.hideYAxis(),v$1.extend(Hn,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(Hn,er){var nr=er.w.config.series[er.seriesIndex].name;return Hn!==null?nr+": "+Hn:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),u$2(u$2({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var Hn=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(er){var nr=er.seriesIndex,ir=er.dataPointIndex,rr=er.w;return Hn._getBoxTooltip(rr,nr,ir,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var Hn=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(er){var nr=er.seriesIndex,ir=er.dataPointIndex,rr=er.w;return Hn._getBoxTooltip(rr,nr,ir,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(Hn,er){er.ctx;var nr=er.seriesIndex,ir=er.dataPointIndex,rr=er.w,sr=function(){var ar=rr.globals.seriesRangeStart[nr][ir];return rr.globals.seriesRangeEnd[nr][ir]-ar};return rr.globals.comboCharts?rr.config.series[nr].type==="rangeBar"||rr.config.series[nr].type==="rangeArea"?sr():Hn:sr()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(Hn){return Hn.w.config.plotOptions&&Hn.w.config.plotOptions.bar&&Hn.w.config.plotOptions.bar.horizontal?(function(er){var nr=Di$1(u$2(u$2({},er),{},{isTimeline:!0})),ir=nr.color,rr=nr.seriesName,sr=nr.ylabel,ar=nr.startVal,or=nr.endVal;return _i$1(u$2(u$2({},er),{},{color:ir,seriesName:rr,ylabel:sr,start:ar,end:or}))})(Hn):(function(er){var nr=Di$1(er),ir=nr.color,rr=nr.seriesName,sr=nr.ylabel,ar=nr.start,or=nr.end;return _i$1(u$2(u$2({},er),{},{color:ir,seriesName:rr,ylabel:sr,start:ar,end:or}))})(Hn)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(Hn){var er,nr;return(er=Hn.plotOptions.bar)!==null&&er!==void 0&&er.barHeight||(Hn.plotOptions.bar.barHeight=2),(nr=Hn.plotOptions.bar)!==null&&nr!==void 0&&nr.columnWidth||(Hn.plotOptions.bar.columnWidth=2),Hn}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(Hn){return(function(er){var nr=Di$1(er),ir=nr.color,rr=nr.seriesName,sr=nr.ylabel,ar=nr.start,or=nr.end;return _i$1(u$2(u$2({},er),{},{color:ir,seriesName:rr,ylabel:sr,start:ar,end:or}))})(Hn)}}}}},{key:"brush",value:function(Hn){return v$1.extend(Hn,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(Hn){Hn.dataLabels=Hn.dataLabels||{},Hn.dataLabels.formatter=Hn.dataLabels.formatter||void 0;var er=Hn.dataLabels.formatter;return Hn.yaxis.forEach((function(nr,ir){Hn.yaxis[ir].min=0,Hn.yaxis[ir].max=100})),Hn.chart.type==="bar"&&(Hn.dataLabels.formatter=er||function(nr){return typeof nr=="number"&&nr?nr.toFixed(0)+"%":nr}),Hn}},{key:"stackedBars",value:function(){var Hn=this.bar();return u$2(u$2({},Hn),{},{plotOptions:u$2(u$2({},Hn.plotOptions),{},{bar:u$2(u$2({},Hn.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(Hn){return Hn.xaxis.convertedCatToNumeric=!0,Hn}},{key:"convertCatToNumericXaxis",value:function(Hn,er,nr){Hn.xaxis.type="numeric",Hn.xaxis.labels=Hn.xaxis.labels||{},Hn.xaxis.labels.formatter=Hn.xaxis.labels.formatter||function(sr){return v$1.isNumber(sr)?Math.floor(sr):sr};var ir=Hn.xaxis.labels.formatter,rr=Hn.xaxis.categories&&Hn.xaxis.categories.length?Hn.xaxis.categories:Hn.labels;return nr&&nr.length&&(rr=nr.map((function(sr){return Array.isArray(sr)?sr:String(sr)}))),rr&&rr.length&&(Hn.xaxis.labels.formatter=function(sr){return v$1.isNumber(sr)?ir(rr[Math.floor(sr)-1]):ir(sr)}),Hn.xaxis.categories=[],Hn.labels=[],Hn.xaxis.tickAmount=Hn.xaxis.tickAmount||"dataPoints",Hn}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(Hn){return Hn.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(Hn){return Hn.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(Hn){return Hn.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(Hn){return Hn},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(Hn,er,nr,ir,rr){var sr=Hn.globals.seriesCandleO[er][nr],ar=Hn.globals.seriesCandleH[er][nr],or=Hn.globals.seriesCandleM[er][nr],lr=Hn.globals.seriesCandleL[er][nr],cr=Hn.globals.seriesCandleC[er][nr];return Hn.config.series[er].type&&Hn.config.series[er].type!==rr?`<div class="apexcharts-custom-tooltip">
          `.concat(Hn.config.series[er].name?Hn.config.series[er].name:"series-"+(er+1),": <strong>").concat(Hn.globals.series[er][nr],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(Hn.config.chart.type,'">')+"<div>".concat(ir[0],': <span class="value">')+sr+"</span></div>"+"<div>".concat(ir[1],': <span class="value">')+ar+"</span></div>"+(or?"<div>".concat(ir[2],': <span class="value">')+or+"</span></div>":"")+"<div>".concat(ir[3],': <span class="value">')+lr+"</span></div>"+"<div>".concat(ir[4],': <span class="value">')+cr+"</span></div></div>"}}]),tr})(),Wi$1=(function(){function tr(Hn){i$1(this,tr),this.opts=Hn}return s$1(tr,[{key:"init",value:function(Hn){var er=Hn.responsiveOverride,nr=this.opts,ir=new Oi$1,rr=new Ni$1(nr);this.chartType=nr.chart.type,nr=this.extendYAxis(nr),nr=this.extendAnnotations(nr);var sr=ir.init(),ar={};if(nr&&b$3(nr)==="object"){var or,lr,cr,ur,dr,fr,gr,yr,vr,jr,Sr={};Sr=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(nr.chart.type)!==-1?rr[nr.chart.type]():rr.line(),(or=nr.plotOptions)!==null&&or!==void 0&&(lr=or.bar)!==null&&lr!==void 0&&lr.isFunnel&&(Sr=rr.funnel()),nr.chart.stacked&&nr.chart.type==="bar"&&(Sr=rr.stackedBars()),(cr=nr.chart.brush)!==null&&cr!==void 0&&cr.enabled&&(Sr=rr.brush(Sr)),(ur=nr.plotOptions)!==null&&ur!==void 0&&(dr=ur.line)!==null&&dr!==void 0&&dr.isSlopeChart&&(Sr=rr.slope()),nr.chart.stacked&&nr.chart.stackType==="100%"&&(nr=rr.stacked100(nr)),(fr=nr.plotOptions)!==null&&fr!==void 0&&(gr=fr.bar)!==null&&gr!==void 0&&gr.isDumbbell&&(nr=rr.dumbbell(nr)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(nr),nr.xaxis=nr.xaxis||window.Apex.xaxis||{},er||(nr.xaxis.convertedCatToNumeric=!1),((yr=(nr=this.checkForCatToNumericXAxis(this.chartType,Sr,nr)).chart.sparkline)!==null&&yr!==void 0&&yr.enabled||(vr=window.Apex.chart)!==null&&vr!==void 0&&(jr=vr.sparkline)!==null&&jr!==void 0&&jr.enabled)&&(Sr=rr.sparkline(Sr)),ar=v$1.extend(sr,Sr)}var Tr=v$1.extend(ar,window.Apex);return sr=v$1.extend(Tr,nr),sr=this.handleUserInputErrors(sr)}},{key:"checkForCatToNumericXAxis",value:function(Hn,er,nr){var ir,rr,sr=new Ni$1(nr),ar=(Hn==="bar"||Hn==="boxPlot")&&((ir=nr.plotOptions)===null||ir===void 0||(rr=ir.bar)===null||rr===void 0?void 0:rr.horizontal),or=Hn==="pie"||Hn==="polarArea"||Hn==="donut"||Hn==="radar"||Hn==="radialBar"||Hn==="heatmap",lr=nr.xaxis.type!=="datetime"&&nr.xaxis.type!=="numeric",cr=nr.xaxis.tickPlacement?nr.xaxis.tickPlacement:er.xaxis&&er.xaxis.tickPlacement;return ar||or||!lr||cr==="between"||(nr=sr.convertCatToNumeric(nr)),nr}},{key:"extendYAxis",value:function(Hn,er){var nr=new Oi$1;(Hn.yaxis===void 0||!Hn.yaxis||Array.isArray(Hn.yaxis)&&Hn.yaxis.length===0)&&(Hn.yaxis={}),Hn.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(Hn.yaxis=v$1.extend(Hn.yaxis,window.Apex.yaxis)),Hn.yaxis.constructor!==Array?Hn.yaxis=[v$1.extend(nr.yAxis,Hn.yaxis)]:Hn.yaxis=v$1.extendArray(Hn.yaxis,nr.yAxis);var ir=!1;Hn.yaxis.forEach((function(sr){sr.logarithmic&&(ir=!0)}));var rr=Hn.series;return er&&!rr&&(rr=er.config.series),ir&&rr.length!==Hn.yaxis.length&&rr.length&&(Hn.yaxis=rr.map((function(sr,ar){if(sr.name||(rr[ar].name="series-".concat(ar+1)),Hn.yaxis[ar])return Hn.yaxis[ar].seriesName=rr[ar].name,Hn.yaxis[ar];var or=v$1.extend(nr.yAxis,Hn.yaxis[0]);return or.show=!1,or}))),ir&&rr.length>1&&rr.length!==Hn.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),Hn}},{key:"extendAnnotations",value:function(Hn){return Hn.annotations===void 0&&(Hn.annotations={},Hn.annotations.yaxis=[],Hn.annotations.xaxis=[],Hn.annotations.points=[]),Hn=this.extendYAxisAnnotations(Hn),Hn=this.extendXAxisAnnotations(Hn),Hn=this.extendPointAnnotations(Hn)}},{key:"extendYAxisAnnotations",value:function(Hn){var er=new Oi$1;return Hn.annotations.yaxis=v$1.extendArray(Hn.annotations.yaxis!==void 0?Hn.annotations.yaxis:[],er.yAxisAnnotation),Hn}},{key:"extendXAxisAnnotations",value:function(Hn){var er=new Oi$1;return Hn.annotations.xaxis=v$1.extendArray(Hn.annotations.xaxis!==void 0?Hn.annotations.xaxis:[],er.xAxisAnnotation),Hn}},{key:"extendPointAnnotations",value:function(Hn){var er=new Oi$1;return Hn.annotations.points=v$1.extendArray(Hn.annotations.points!==void 0?Hn.annotations.points:[],er.pointAnnotation),Hn}},{key:"checkForDarkTheme",value:function(Hn){Hn.theme&&Hn.theme.mode==="dark"&&(Hn.tooltip||(Hn.tooltip={}),Hn.tooltip.theme!=="light"&&(Hn.tooltip.theme="dark"),Hn.chart.foreColor||(Hn.chart.foreColor="#f6f7f8"),Hn.theme.palette||(Hn.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(Hn){var er=Hn;if(er.tooltip.shared&&er.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(er.chart.type==="bar"&&er.plotOptions.bar.horizontal){if(er.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");er.yaxis[0].reversed&&(er.yaxis[0].opposite=!0),er.xaxis.tooltip.enabled=!1,er.yaxis[0].tooltip.enabled=!1,er.chart.zoom.enabled=!1}return er.chart.type!=="bar"&&er.chart.type!=="rangeBar"||er.tooltip.shared&&er.xaxis.crosshairs.width==="barWidth"&&er.series.length>1&&(er.xaxis.crosshairs.width="tickWidth"),er.chart.type!=="candlestick"&&er.chart.type!=="boxPlot"||er.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(er.chart.type," chart is not supported.")),er.yaxis[0].reversed=!1),er}}]),tr})(),Bi$1=(function(){function tr(){i$1(this,tr)}return s$1(tr,[{key:"initGlobalVars",value:function(Hn){Hn.series=[],Hn.seriesCandleO=[],Hn.seriesCandleH=[],Hn.seriesCandleM=[],Hn.seriesCandleL=[],Hn.seriesCandleC=[],Hn.seriesRangeStart=[],Hn.seriesRangeEnd=[],Hn.seriesRange=[],Hn.seriesPercent=[],Hn.seriesGoals=[],Hn.seriesX=[],Hn.seriesZ=[],Hn.seriesNames=[],Hn.seriesTotals=[],Hn.seriesLog=[],Hn.seriesColors=[],Hn.stackedSeriesTotals=[],Hn.seriesXvalues=[],Hn.seriesYvalues=[],Hn.dataWasParsed=!1,Hn.originalSeries=null,Hn.labels=[],Hn.hasXaxisGroups=!1,Hn.groups=[],Hn.barGroups=[],Hn.lineGroups=[],Hn.areaGroups=[],Hn.hasSeriesGroups=!1,Hn.seriesGroups=[],Hn.categoryLabels=[],Hn.timescaleLabels=[],Hn.noLabelsProvided=!1,Hn.resizeTimer=null,Hn.selectionResizeTimer=null,Hn.lastWheelExecution=0,Hn.delayedElements=[],Hn.pointsArray=[],Hn.dataLabelsRects=[],Hn.isXNumeric=!1,Hn.skipLastTimelinelabel=!1,Hn.skipFirstTimelinelabel=!1,Hn.isDataXYZ=!1,Hn.isMultiLineX=!1,Hn.isMultipleYAxis=!1,Hn.maxY=-Number.MAX_VALUE,Hn.minY=Number.MIN_VALUE,Hn.minYArr=[],Hn.maxYArr=[],Hn.maxX=-Number.MAX_VALUE,Hn.minX=Number.MAX_VALUE,Hn.initialMaxX=-Number.MAX_VALUE,Hn.initialMinX=Number.MAX_VALUE,Hn.maxDate=0,Hn.minDate=Number.MAX_VALUE,Hn.minZ=Number.MAX_VALUE,Hn.maxZ=-Number.MAX_VALUE,Hn.minXDiff=Number.MAX_VALUE,Hn.yAxisScale=[],Hn.xAxisScale=null,Hn.xAxisTicksPositions=[],Hn.yLabelsCoords=[],Hn.yTitleCoords=[],Hn.barPadForNumericAxis=0,Hn.padHorizontal=0,Hn.xRange=0,Hn.yRange=[],Hn.zRange=0,Hn.dataPoints=0,Hn.xTickAmount=0,Hn.multiAxisTickAmount=0}},{key:"globalVars",value:function(Hn){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:Hn.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:Hn.chart.toolbar.autoSelected==="zoom"&&Hn.chart.toolbar.tools.zoom&&Hn.chart.zoom.enabled,panEnabled:Hn.chart.toolbar.autoSelected==="pan"&&Hn.chart.toolbar.tools.pan,selectionEnabled:Hn.chart.toolbar.autoSelected==="selection"&&Hn.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:Hn.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(Hn){var er=this.globalVars(Hn);return this.initGlobalVars(er),er.initialConfig=v$1.extend({},Hn),er.initialSeries=v$1.clone(Hn.series),er.lastXAxis=v$1.clone(er.initialConfig.xaxis),er.lastYAxis=v$1.clone(er.initialConfig.yaxis),er}}]),tr})(),Gi$1=(function(){function tr(Hn){i$1(this,tr),this.opts=Hn}return s$1(tr,[{key:"init",value:function(){var Hn=new Wi$1(this.opts).init({responsiveOverride:!1});return{config:Hn,globals:new Bi$1().init(Hn)}}}]),tr})(),ji$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return s$1(tr,[{key:"clippedImgArea",value:function(Hn){var er=this.w,nr=er.config,ir=parseInt(er.globals.gridWidth,10),rr=parseInt(er.globals.gridHeight,10),sr=ir>rr?ir:rr,ar=Hn.image,or=0,lr=0;Hn.width===void 0&&Hn.height===void 0?nr.fill.image.width!==void 0&&nr.fill.image.height!==void 0?(or=nr.fill.image.width+1,lr=nr.fill.image.height):(or=sr+1,lr=sr):(or=Hn.width,lr=Hn.height);var cr=document.createElementNS(er.globals.SVGNS,"pattern");Mi$1.setAttrs(cr,{id:Hn.patternID,patternUnits:Hn.patternUnits?Hn.patternUnits:"userSpaceOnUse",width:or+"px",height:lr+"px"});var ur=document.createElementNS(er.globals.SVGNS,"image");cr.appendChild(ur),ur.setAttributeNS(window.SVG.xlink,"href",ar),Mi$1.setAttrs(ur,{x:0,y:0,preserveAspectRatio:"none",width:or+"px",height:lr+"px"}),ur.style.opacity=Hn.opacity,er.globals.dom.elDefs.node.appendChild(cr)}},{key:"getSeriesIndex",value:function(Hn){var er=this.w,nr=er.config.chart.type;return(nr==="bar"||nr==="rangeBar")&&er.config.plotOptions.bar.distributed||nr==="heatmap"||nr==="treemap"?this.seriesIndex=Hn.seriesNumber:this.seriesIndex=Hn.seriesNumber%er.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(Hn,er){var nr,ir=this.w,rr=null,sr=null,ar=r$1(Hn);try{for(ar.s();!(nr=ar.n()).done;){var or=nr.value;or>=er.threshold?(rr===null||or>rr)&&(rr=or):(sr===null||or<sr)&&(sr=or)}}catch(ur){ar.e(ur)}finally{ar.f()}rr===null&&(rr=er.threshold),sr===null&&(sr=er.threshold);var lr=rr-er.threshold+(er.threshold-sr);lr===0&&(lr=1);var cr=100-(er.threshold-sr)/lr*100;return[{offset:cr=Math.max(0,Math.min(cr,100)),color:er.colorAboveThreshold,opacity:ir.config.fill.opacity},{offset:0,color:er.colorBelowThreshold,opacity:ir.config.fill.opacity}]}},{key:"fillPath",value:function(Hn){var er,nr,ir,rr=this.w;this.opts=Hn;var sr,ar,or,lr=this.w.config;this.seriesIndex=this.getSeriesIndex(Hn);var cr=lr.plotOptions.line.colors.colorAboveThreshold&&lr.plotOptions.line.colors.colorBelowThreshold,ur=this.getFillColors()[this.seriesIndex];rr.globals.seriesColors[this.seriesIndex]!==void 0&&(ur=rr.globals.seriesColors[this.seriesIndex]),typeof ur=="function"&&(ur=ur({seriesIndex:this.seriesIndex,dataPointIndex:Hn.dataPointIndex,value:Hn.value,w:rr}));var dr,fr,gr,yr=Hn.fillType?Hn.fillType:this.getFillType(this.seriesIndex),vr=Array.isArray(lr.fill.opacity)?lr.fill.opacity[this.seriesIndex]:lr.fill.opacity,jr=yr==="gradient"||cr;Hn.color&&(ur=Hn.color),(er=rr.config.series[this.seriesIndex])!==null&&er!==void 0&&(nr=er.data)!==null&&nr!==void 0&&(ir=nr[Hn.dataPointIndex])!==null&&ir!==void 0&&ir.fillColor&&(ur=(dr=rr.config.series[this.seriesIndex])===null||dr===void 0||(fr=dr.data)===null||fr===void 0||(gr=fr[Hn.dataPointIndex])===null||gr===void 0?void 0:gr.fillColor),ur||(ur="#fff",console.warn("undefined color - ApexCharts"));var Sr=ur;if(ur.indexOf("rgb")===-1?ur.indexOf("#")===-1?Sr=ur:ur.length<9&&(Sr=v$1.hexToRgba(ur,vr)):ur.indexOf("rgba")>-1?vr=v$1.getOpacityFromRGBA(ur):Sr=v$1.hexToRgba(v$1.rgb2hex(ur),vr),Hn.opacity&&(vr=Hn.opacity),yr==="pattern"&&(ar=this.handlePatternFill({fillConfig:Hn.fillConfig,patternFill:ar,fillColor:ur,fillOpacity:vr,defaultColor:Sr})),jr){var Tr=f$2(lr.fill.gradient.colorStops)||[],Lr=lr.fill.gradient.type;cr&&(Tr[this.seriesIndex]=this.computeColorStops(rr.globals.series[this.seriesIndex],lr.plotOptions.line.colors),Lr="vertical"),or=this.handleGradientFill({type:Lr,fillConfig:Hn.fillConfig,fillColor:ur,fillOpacity:vr,colorStops:Tr,i:this.seriesIndex})}if(yr==="image"){var Mr=lr.fill.image.src,Nr=Hn.patternID?Hn.patternID:"",Or="pattern".concat(rr.globals.cuid).concat(Hn.seriesNumber+1).concat(Nr);this.patternIDs.indexOf(Or)===-1&&(this.clippedImgArea({opacity:vr,image:Array.isArray(Mr)?Hn.seriesNumber<Mr.length?Mr[Hn.seriesNumber]:Mr[0]:Mr,width:Hn.width?Hn.width:void 0,height:Hn.height?Hn.height:void 0,patternUnits:Hn.patternUnits,patternID:Or}),this.patternIDs.push(Or)),sr="url(#".concat(Or,")")}else sr=jr?or:yr==="pattern"?ar:Sr;return Hn.solid&&(sr=Sr),sr}},{key:"getFillType",value:function(Hn){var er=this.w;return Array.isArray(er.config.fill.type)?er.config.fill.type[Hn]:er.config.fill.type}},{key:"getFillColors",value:function(){var Hn=this.w,er=Hn.config,nr=this.opts,ir=[];return Hn.globals.comboCharts?Hn.config.series[this.seriesIndex].type==="line"?Array.isArray(Hn.globals.stroke.colors)?ir=Hn.globals.stroke.colors:ir.push(Hn.globals.stroke.colors):Array.isArray(Hn.globals.fill.colors)?ir=Hn.globals.fill.colors:ir.push(Hn.globals.fill.colors):er.chart.type==="line"?Array.isArray(Hn.globals.stroke.colors)?ir=Hn.globals.stroke.colors:ir.push(Hn.globals.stroke.colors):Array.isArray(Hn.globals.fill.colors)?ir=Hn.globals.fill.colors:ir.push(Hn.globals.fill.colors),nr.fillColors!==void 0&&(ir=[],Array.isArray(nr.fillColors)?ir=nr.fillColors.slice():ir.push(nr.fillColors)),ir}},{key:"handlePatternFill",value:function(Hn){var er=Hn.fillConfig,nr=Hn.patternFill,ir=Hn.fillColor,rr=Hn.fillOpacity,sr=Hn.defaultColor,ar=this.w.config.fill;er&&(ar=er);var or=this.opts,lr=new Mi$1(this.ctx),cr=Array.isArray(ar.pattern.strokeWidth)?ar.pattern.strokeWidth[this.seriesIndex]:ar.pattern.strokeWidth,ur=ir;return Array.isArray(ar.pattern.style)?nr=ar.pattern.style[or.seriesNumber]!==void 0?lr.drawPattern(ar.pattern.style[or.seriesNumber],ar.pattern.width,ar.pattern.height,ur,cr,rr):sr:nr=lr.drawPattern(ar.pattern.style,ar.pattern.width,ar.pattern.height,ur,cr,rr),nr}},{key:"handleGradientFill",value:function(Hn){var er=Hn.type,nr=Hn.fillColor,ir=Hn.fillOpacity,rr=Hn.fillConfig,sr=Hn.colorStops,ar=Hn.i,or=this.w.config.fill;rr&&(or=u$2(u$2({},or),rr));var lr=this.opts,cr=new Mi$1(this.ctx),ur=new v$1;er=er||or.gradient.type;var dr,fr=nr,gr=or.gradient.opacityFrom===void 0?ir:Array.isArray(or.gradient.opacityFrom)?or.gradient.opacityFrom[ar]:or.gradient.opacityFrom;fr.indexOf("rgba")>-1&&(gr=v$1.getOpacityFromRGBA(fr));var yr=or.gradient.opacityTo===void 0?ir:Array.isArray(or.gradient.opacityTo)?or.gradient.opacityTo[ar]:or.gradient.opacityTo;if(or.gradient.gradientToColors===void 0||or.gradient.gradientToColors.length===0)dr=or.gradient.shade==="dark"?ur.shadeColor(-1*parseFloat(or.gradient.shadeIntensity),nr.indexOf("rgb")>-1?v$1.rgb2hex(nr):nr):ur.shadeColor(parseFloat(or.gradient.shadeIntensity),nr.indexOf("rgb")>-1?v$1.rgb2hex(nr):nr);else if(or.gradient.gradientToColors[lr.seriesNumber]){var vr=or.gradient.gradientToColors[lr.seriesNumber];dr=vr,vr.indexOf("rgba")>-1&&(yr=v$1.getOpacityFromRGBA(vr))}else dr=nr;if(or.gradient.gradientFrom&&(fr=or.gradient.gradientFrom),or.gradient.gradientTo&&(dr=or.gradient.gradientTo),or.gradient.inverseColors){var jr=fr;fr=dr,dr=jr}return fr.indexOf("rgb")>-1&&(fr=v$1.rgb2hex(fr)),dr.indexOf("rgb")>-1&&(dr=v$1.rgb2hex(dr)),cr.drawGradient(er,fr,dr,gr,yr,lr.size,or.gradient.stops,sr,ar)}}]),tr})(),Vi$1=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"setGlobalMarkerSize",value:function(){var Hn=this.w;if(Hn.globals.markers.size=Array.isArray(Hn.config.markers.size)?Hn.config.markers.size:[Hn.config.markers.size],Hn.globals.markers.size.length>0){if(Hn.globals.markers.size.length<Hn.globals.series.length+1)for(var er=0;er<=Hn.globals.series.length;er++)Hn.globals.markers.size[er]===void 0&&Hn.globals.markers.size.push(Hn.globals.markers.size[0])}else Hn.globals.markers.size=Hn.config.series.map((function(nr){return Hn.config.markers.size}))}},{key:"plotChartMarkers",value:function(Hn){var er=Hn.pointsPos,nr=Hn.seriesIndex,ir=Hn.j,rr=Hn.pSize,sr=Hn.alwaysDrawMarker,ar=sr!==void 0&&sr,or=Hn.isVirtualPoint,lr=or!==void 0&&or,cr=this.w,ur=nr,dr=er,fr=null,gr=new Mi$1(this.ctx),yr=cr.config.markers.discrete&&cr.config.markers.discrete.length;if(Array.isArray(dr.x))for(var vr=0;vr<dr.x.length;vr++){var jr=void 0,Sr=ir,Tr=!v$1.isNumber(dr.y[vr]);cr.globals.markers.largestSize===0&&cr.globals.hasNullValues&&cr.globals.series[ur][ir+1]!==null&&!lr&&(Tr=!0),ir===1&&vr===0&&(Sr=0),ir===1&&vr===1&&(Sr=1);var Lr="apexcharts-marker";if(cr.config.chart.type!=="line"&&cr.config.chart.type!=="area"||cr.globals.comboCharts||cr.config.tooltip.intersect||(Lr+=" no-pointer-events"),(Array.isArray(cr.config.markers.size)?cr.globals.markers.size[nr]>0:cr.config.markers.size>0)||ar||yr){Tr||(Lr+=" w".concat(v$1.randomId()));var Mr=this.getMarkerConfig({cssClass:Lr,seriesIndex:nr,dataPointIndex:Sr});cr.config.series[ur].data[Sr]&&(cr.config.series[ur].data[Sr].fillColor&&(Mr.pointFillColor=cr.config.series[ur].data[Sr].fillColor),cr.config.series[ur].data[Sr].strokeColor&&(Mr.pointStrokeColor=cr.config.series[ur].data[Sr].strokeColor)),rr!==void 0&&(Mr.pSize=rr),(dr.x[vr]<-cr.globals.markers.largestSize||dr.x[vr]>cr.globals.gridWidth+cr.globals.markers.largestSize||dr.y[vr]<-cr.globals.markers.largestSize||dr.y[vr]>cr.globals.gridHeight+cr.globals.markers.largestSize)&&(Mr.pSize=0),!Tr&&((cr.globals.markers.size[nr]>0||ar||yr)&&!fr&&(fr=gr.group({class:ar||yr?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(cr.globals.cuid,")")),(jr=gr.drawMarker(dr.x[vr],dr.y[vr],Mr)).attr("rel",Sr),jr.attr("j",Sr),jr.attr("index",nr),jr.node.setAttribute("default-marker-size",Mr.pSize),new Li$1(this.ctx).setSelectionFilter(jr,nr,Sr),this.addEvents(jr),fr&&fr.add(jr))}else cr.globals.pointsArray[nr]===void 0&&(cr.globals.pointsArray[nr]=[]),cr.globals.pointsArray[nr].push([dr.x[vr],dr.y[vr]])}return fr}},{key:"getMarkerConfig",value:function(Hn){var er=Hn.cssClass,nr=Hn.seriesIndex,ir=Hn.dataPointIndex,rr=ir===void 0?null:ir,sr=Hn.radius,ar=sr===void 0?null:sr,or=Hn.size,lr=or===void 0?null:or,cr=Hn.strokeWidth,ur=cr===void 0?null:cr,dr=this.w,fr=this.getMarkerStyle(nr),gr=lr===null?dr.globals.markers.size[nr]:lr,yr=dr.config.markers;return rr!==null&&yr.discrete.length&&yr.discrete.map((function(vr){vr.seriesIndex===nr&&vr.dataPointIndex===rr&&(fr.pointStrokeColor=vr.strokeColor,fr.pointFillColor=vr.fillColor,gr=vr.size,fr.pointShape=vr.shape)})),{pSize:ar===null?gr:ar,pRadius:ar!==null?ar:yr.radius,pointStrokeWidth:ur!==null?ur:Array.isArray(yr.strokeWidth)?yr.strokeWidth[nr]:yr.strokeWidth,pointStrokeColor:fr.pointStrokeColor,pointFillColor:fr.pointFillColor,shape:fr.pointShape||(Array.isArray(yr.shape)?yr.shape[nr]:yr.shape),class:er,pointStrokeOpacity:Array.isArray(yr.strokeOpacity)?yr.strokeOpacity[nr]:yr.strokeOpacity,pointStrokeDashArray:Array.isArray(yr.strokeDashArray)?yr.strokeDashArray[nr]:yr.strokeDashArray,pointFillOpacity:Array.isArray(yr.fillOpacity)?yr.fillOpacity[nr]:yr.fillOpacity,seriesIndex:nr}}},{key:"addEvents",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx);Hn.node.addEventListener("mouseenter",nr.pathMouseEnter.bind(this.ctx,Hn)),Hn.node.addEventListener("mouseleave",nr.pathMouseLeave.bind(this.ctx,Hn)),Hn.node.addEventListener("mousedown",nr.pathMouseDown.bind(this.ctx,Hn)),Hn.node.addEventListener("click",er.config.markers.onClick),Hn.node.addEventListener("dblclick",er.config.markers.onDblClick),Hn.node.addEventListener("touchstart",nr.pathMouseDown.bind(this.ctx,Hn),{passive:!0})}},{key:"getMarkerStyle",value:function(Hn){var er=this.w,nr=er.globals.markers.colors,ir=er.config.markers.strokeColor||er.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(ir)?ir[Hn]:ir,pointFillColor:Array.isArray(nr)?nr[Hn]:nr}}}]),tr})(),Ui$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.initialAnim=this.w.config.chart.animations.enabled}return s$1(tr,[{key:"draw",value:function(Hn,er,nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=nr.realIndex,ar=nr.pointsPos,or=nr.zRatio,lr=nr.elParent,cr=rr.group({class:"apexcharts-series-markers apexcharts-series-".concat(ir.config.chart.type)});if(cr.attr("clip-path","url(#gridRectMarkerMask".concat(ir.globals.cuid,")")),Array.isArray(ar.x))for(var ur=0;ur<ar.x.length;ur++){var dr=er+1,fr=!0;er===0&&ur===0&&(dr=0),er===0&&ur===1&&(dr=1);var gr=ir.globals.markers.size[sr];if(or!==1/0){var yr=ir.config.plotOptions.bubble;gr=ir.globals.seriesZ[sr][dr],yr.zScaling&&(gr/=or),yr.minBubbleRadius&&gr<yr.minBubbleRadius&&(gr=yr.minBubbleRadius),yr.maxBubbleRadius&&gr>yr.maxBubbleRadius&&(gr=yr.maxBubbleRadius)}var vr=ar.x[ur],jr=ar.y[ur];if(gr=gr||0,jr!==null&&ir.globals.series[sr][dr]!==void 0||(fr=!1),fr){var Sr=this.drawPoint(vr,jr,gr,sr,dr,er);cr.add(Sr)}lr.add(cr)}}},{key:"drawPoint",value:function(Hn,er,nr,ir,rr,sr){var ar=this.w,or=ir,lr=new y$3(this.ctx),cr=new Li$1(this.ctx),ur=new ji$1(this.ctx),dr=new Vi$1(this.ctx),fr=new Mi$1(this.ctx),gr=dr.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:or,dataPointIndex:rr,radius:ar.config.chart.type==="bubble"||ar.globals.comboCharts&&ar.config.series[ir]&&ar.config.series[ir].type==="bubble"?nr:null}),yr=ur.fillPath({seriesNumber:ir,dataPointIndex:rr,color:gr.pointFillColor,patternUnits:"objectBoundingBox",value:ar.globals.series[ir][sr]}),vr=fr.drawMarker(Hn,er,gr);if(ar.config.series[or].data[rr]&&ar.config.series[or].data[rr].fillColor&&(yr=ar.config.series[or].data[rr].fillColor),vr.attr({fill:yr}),ar.config.chart.dropShadow.enabled){var jr=ar.config.chart.dropShadow;cr.dropShadow(vr,jr,ir)}if(!this.initialAnim||ar.globals.dataChanged||ar.globals.resized)ar.globals.animationEnded=!0;else{var Sr=ar.config.chart.animations.speed;lr.animateMarker(vr,Sr,ar.globals.easing,(function(){window.setTimeout((function(){lr.animationCompleted(vr)}),100)}))}return vr.attr({rel:rr,j:rr,index:ir,"default-marker-size":gr.pSize}),cr.setSelectionFilter(vr,ir,rr),dr.addEvents(vr),vr.node.classList.add("apexcharts-marker"),vr}},{key:"centerTextInBubble",value:function(Hn){var er=this.w;return{y:Hn+=parseInt(er.config.dataLabels.style.fontSize,10)/4}}}]),tr})(),qi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"dataLabelsCorrection",value:function(Hn,er,nr,ir,rr,sr,ar){var or=this.w,lr=!1,cr=new Mi$1(this.ctx).getTextRects(nr,ar),ur=cr.width,dr=cr.height;er<0&&(er=0),er>or.globals.gridHeight+dr&&(er=or.globals.gridHeight+dr/2),or.globals.dataLabelsRects[ir]===void 0&&(or.globals.dataLabelsRects[ir]=[]),or.globals.dataLabelsRects[ir].push({x:Hn,y:er,width:ur,height:dr});var fr=or.globals.dataLabelsRects[ir].length-2,gr=or.globals.lastDrawnDataLabelsIndexes[ir]!==void 0?or.globals.lastDrawnDataLabelsIndexes[ir][or.globals.lastDrawnDataLabelsIndexes[ir].length-1]:0;if(or.globals.dataLabelsRects[ir][fr]!==void 0){var yr=or.globals.dataLabelsRects[ir][gr];(Hn>yr.x+yr.width||er>yr.y+yr.height||er+dr<yr.y||Hn+ur<yr.x)&&(lr=!0)}return(rr===0||sr)&&(lr=!0),{x:Hn,y:er,textRects:cr,drawnextLabel:lr}}},{key:"drawDataLabel",value:function(Hn){var er=this,nr=Hn.type,ir=Hn.pos,rr=Hn.i,sr=Hn.j,ar=Hn.isRangeStart,or=Hn.strokeWidth,lr=or===void 0?2:or,cr=this.w,ur=new Mi$1(this.ctx),dr=cr.config.dataLabels,fr=0,gr=0,yr=sr,vr=null;if(cr.globals.collapsedSeriesIndices.indexOf(rr)!==-1||!dr.enabled||!Array.isArray(ir.x))return vr;vr=ur.group({class:"apexcharts-data-labels"});for(var jr=0;jr<ir.x.length;jr++)if(fr=ir.x[jr]+dr.offsetX,gr=ir.y[jr]+dr.offsetY+lr,!isNaN(fr)){sr===1&&jr===0&&(yr=0),sr===1&&jr===1&&(yr=1);var Sr=cr.globals.series[rr][yr];nr==="rangeArea"&&(Sr=ar?cr.globals.seriesRangeStart[rr][yr]:cr.globals.seriesRangeEnd[rr][yr]);var Tr="",Lr=function(Nr){return cr.config.dataLabels.formatter(Nr,{ctx:er.ctx,seriesIndex:rr,dataPointIndex:yr,w:cr})};cr.config.chart.type==="bubble"?(Tr=Lr(Sr=cr.globals.seriesZ[rr][yr]),gr=ir.y[jr],gr=new Ui$1(this.ctx).centerTextInBubble(gr,rr,yr).y):Sr!==void 0&&(Tr=Lr(Sr));var Mr=cr.config.dataLabels.textAnchor;cr.globals.isSlopeChart&&(Mr=yr===0?"end":yr===cr.config.series[rr].data.length-1?"start":"middle"),this.plotDataLabelsText({x:fr,y:gr,text:Tr,i:rr,j:yr,parent:vr,offsetCorrection:!0,dataLabelsConfig:cr.config.dataLabels,textAnchor:Mr})}return vr}},{key:"plotDataLabelsText",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=Hn.x,rr=Hn.y,sr=Hn.i,ar=Hn.j,or=Hn.text,lr=Hn.textAnchor,cr=Hn.fontSize,ur=Hn.parent,dr=Hn.dataLabelsConfig,fr=Hn.color,gr=Hn.alwaysDrawDataLabel,yr=Hn.offsetCorrection,vr=Hn.className,jr=null;if(Array.isArray(er.config.dataLabels.enabledOnSeries)&&er.config.dataLabels.enabledOnSeries.indexOf(sr)<0)return jr;var Sr={x:ir,y:rr,drawnextLabel:!0,textRects:null};yr&&(Sr=this.dataLabelsCorrection(ir,rr,or,sr,ar,gr,parseInt(dr.style.fontSize,10))),er.globals.zoomed||(ir=Sr.x,rr=Sr.y),Sr.textRects&&(ir<-20-Sr.textRects.width||ir>er.globals.gridWidth+Sr.textRects.width+30)&&(or="");var Tr=er.globals.dataLabels.style.colors[sr];((er.config.chart.type==="bar"||er.config.chart.type==="rangeBar")&&er.config.plotOptions.bar.distributed||er.config.dataLabels.distributed)&&(Tr=er.globals.dataLabels.style.colors[ar]),typeof Tr=="function"&&(Tr=Tr({series:er.globals.series,seriesIndex:sr,dataPointIndex:ar,w:er})),fr&&(Tr=fr);var Lr=dr.offsetX,Mr=dr.offsetY;if(er.config.chart.type!=="bar"&&er.config.chart.type!=="rangeBar"||(Lr=0,Mr=0),er.globals.isSlopeChart&&(ar!==0&&(Lr=-2*dr.offsetX+5),ar!==0&&ar!==er.config.series[sr].data.length-1&&(Lr=0)),Sr.drawnextLabel){if(lr==="middle"&&ir===er.globals.gridWidth&&(lr="end"),(jr=nr.drawText({width:100,height:parseInt(dr.style.fontSize,10),x:ir+Lr,y:rr+Mr,foreColor:Tr,textAnchor:lr||dr.textAnchor,text:or,fontSize:cr||dr.style.fontSize,fontFamily:dr.style.fontFamily,fontWeight:dr.style.fontWeight||"normal"})).attr({class:vr||"apexcharts-datalabel",cx:ir,cy:rr}),dr.dropShadow.enabled){var Nr=dr.dropShadow;new Li$1(this.ctx).dropShadow(jr,Nr)}ur.add(jr),er.globals.lastDrawnDataLabelsIndexes[sr]===void 0&&(er.globals.lastDrawnDataLabelsIndexes[sr]=[]),er.globals.lastDrawnDataLabelsIndexes[sr].push(ar)}return jr}},{key:"addBackgroundToDataLabel",value:function(Hn,er){var nr=this.w,ir=nr.config.dataLabels.background,rr=ir.padding,sr=ir.padding/2,ar=er.width,or=er.height,lr=new Mi$1(this.ctx).drawRect(er.x-rr,er.y-sr/2,ar+2*rr,or+sr,ir.borderRadius,nr.config.chart.background!=="transparent"&&nr.config.chart.background?nr.config.chart.background:"#fff",ir.opacity,ir.borderWidth,ir.borderColor);return ir.dropShadow.enabled&&new Li$1(this.ctx).dropShadow(lr,ir.dropShadow),lr}},{key:"dataLabelsBackground",value:function(){var Hn=this.w;if(Hn.config.chart.type!=="bubble")for(var er=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),nr=0;nr<er.length;nr++){var ir=er[nr],rr=ir.getBBox(),sr=null;if(rr.width&&rr.height&&(sr=this.addBackgroundToDataLabel(ir,rr)),sr){ir.parentNode.insertBefore(sr.node,ir);var ar=Hn.config.dataLabels.background.backgroundColor||ir.getAttribute("fill");Hn.config.chart.animations.enabled&&!Hn.globals.resized&&!Hn.globals.dataChanged?sr.animate().attr({fill:ar}):sr.attr({fill:ar}),ir.setAttribute("fill",Hn.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var Hn=this.w,er=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),nr=Hn.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),ir=0;ir<er.length;ir++)nr&&nr.insertBefore(er[ir],nr.nextSibling)}}]),tr})(),Zi$1=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,$i$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.legendInactiveClass="legend-mouseover-inactive"}return s$1(tr,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(Hn){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(v$1.escapeString(Hn),"']"))}},{key:"isSeriesHidden",value:function(Hn){var er=this.getSeriesByName(Hn),nr=parseInt(er.getAttribute("data:realIndex"),10);return{isHidden:er.classList.contains("apexcharts-series-collapsed"),realIndex:nr}}},{key:"addCollapsedClassToSeries",value:function(Hn,er){var nr=this.w;function ir(rr){for(var sr=0;sr<rr.length;sr++)rr[sr].index===er&&Hn.node.classList.add("apexcharts-series-collapsed")}ir(nr.globals.collapsedSeries),ir(nr.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(Hn){var er=this.isSeriesHidden(Hn);return this.ctx.legend.legendHelpers.toggleDataSeries(er.realIndex,er.isHidden),er.isHidden}},{key:"showSeries",value:function(Hn){var er=this.isSeriesHidden(Hn);er.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(er.realIndex,!0)}},{key:"hideSeries",value:function(Hn){var er=this.isSeriesHidden(Hn);er.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(er.realIndex,!1)}},{key:"resetSeries",value:function(){var Hn=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ir=this.w,rr=v$1.clone(ir.globals.initialSeries);ir.globals.previousPaths=[],nr?(ir.globals.collapsedSeries=[],ir.globals.ancillaryCollapsedSeries=[],ir.globals.collapsedSeriesIndices=[],ir.globals.ancillaryCollapsedSeriesIndices=[]):rr=this.emptyCollapsedSeries(rr),ir.config.series=rr,Hn&&(er&&(ir.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(rr,ir.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(Hn){for(var er=this.w,nr=0;nr<Hn.length;nr++)er.globals.collapsedSeriesIndices.indexOf(nr)>-1&&(Hn[nr].data=[]);return Hn}},{key:"highlightSeries",value:function(Hn){var er=this.w,nr=this.getSeriesByName(Hn),ir=parseInt(nr?.getAttribute("data:realIndex"),10),rr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),sr=null,ar=null,or=null;if(er.globals.axisCharts||er.config.chart.type==="radialBar")if(er.globals.axisCharts){sr=er.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(ir,"']")),ar=er.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(ir,"']"));var lr=er.globals.seriesYAxisReverseMap[ir];or=er.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(lr,"']"))}else sr=er.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(ir+1,"']"));else sr=er.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(ir+1,"'] path"));for(var cr=0;cr<rr.length;cr++)rr[cr].classList.add(this.legendInactiveClass);if(sr)er.globals.axisCharts||sr.parentNode.classList.remove(this.legendInactiveClass),sr.classList.remove(this.legendInactiveClass),ar!==null&&ar.classList.remove(this.legendInactiveClass),or!==null&&or.classList.remove(this.legendInactiveClass);else for(var ur=0;ur<rr.length;ur++)rr[ur].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(Hn,er){var nr=this.w;er||(er=Hn.target);var ir=nr.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(Hn.type==="mousemove"){var rr=parseInt(er.getAttribute("rel"),10)-1;this.highlightSeries(nr.globals.seriesNames[rr])}else if(Hn.type==="mouseout")for(var sr=0;sr<ir.length;sr++)ir[sr].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(Hn,er){var nr=this,ir=this.w,rr=ir.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),sr=function(lr){for(var cr=0;cr<rr.length;cr++)rr[cr].classList[lr](nr.legendInactiveClass)};if(Hn.type==="mousemove"){var ar=parseInt(er.getAttribute("rel"),10)-1;sr("add");var or=ir.config.plotOptions.heatmap.colorScale.ranges;(function(lr,cr){for(var ur=0;ur<rr.length;ur++){var dr=Number(rr[ur].getAttribute("val"));dr>=lr.from&&(dr<lr.to||lr.to===cr&&dr===cr)&&rr[ur].classList.remove(nr.legendInactiveClass)}})(or[ar],or.reduce((function(lr,cr){return Math.max(lr,cr.to)}),0))}else Hn.type==="mouseout"&&sr("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],nr=this.w,ir=0;if(nr.config.series.length>1){for(var rr=nr.config.series.map((function(ar,or){return ar.data&&ar.data.length>0&&nr.globals.collapsedSeriesIndices.indexOf(or)===-1&&(!nr.globals.comboCharts||er.length===0||er.length&&er.indexOf(nr.config.series[or].type)>-1)?or:-1})),sr=Hn==="asc"?0:rr.length-1;Hn==="asc"?sr<rr.length:sr>=0;Hn==="asc"?sr++:sr--)if(rr[sr]!==-1){ir=rr[sr];break}}return ir}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(Hn,er){return Hn.type==="bar"||Hn.type==="column"?er:-1})).filter((function(Hn){return Hn!==-1})):this.w.config.series.map((function(Hn,er){return er}))}},{key:"getPreviousPaths",value:function(){var Hn=this.w;function er(sr,ar,or){for(var lr=sr[ar].childNodes,cr={type:or,paths:[],realIndex:sr[ar].getAttribute("data:realIndex")},ur=0;ur<lr.length;ur++)if(lr[ur].hasAttribute("pathTo")){var dr=lr[ur].getAttribute("pathTo");cr.paths.push({d:dr})}Hn.globals.previousPaths.push(cr)}Hn.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(sr){for(var ar,or=(ar=sr,Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(ar,"-series .apexcharts-series"))),lr=0;lr<or.length;lr++)er(or,lr,sr)}));var nr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(Hn.config.chart.type," .apexcharts-series"));if(nr.length>0)for(var ir=function(sr){for(var ar=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(Hn.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(sr,"'] rect")),or=[],lr=function(ur){var dr=function(gr){return ar[ur].getAttribute(gr)},fr={x:parseFloat(dr("x")),y:parseFloat(dr("y")),width:parseFloat(dr("width")),height:parseFloat(dr("height"))};or.push({rect:fr,color:ar[ur].getAttribute("color")})},cr=0;cr<ar.length;cr++)lr(cr);Hn.globals.previousPaths.push(or)},rr=0;rr<nr.length;rr++)ir(rr);Hn.globals.axisCharts||(Hn.globals.previousPaths=Hn.globals.series)}},{key:"clearPreviousPaths",value:function(){var Hn=this.w;Hn.globals.previousPaths=[],Hn.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var Hn=this.w,er=Hn.config.noData,nr=new Mi$1(this.ctx),ir=Hn.globals.svgWidth/2,rr=Hn.globals.svgHeight/2,sr="middle";if(Hn.globals.noData=!0,Hn.globals.animationEnded=!0,er.align==="left"?(ir=10,sr="start"):er.align==="right"&&(ir=Hn.globals.svgWidth-10,sr="end"),er.verticalAlign==="top"?rr=50:er.verticalAlign==="bottom"&&(rr=Hn.globals.svgHeight-50),ir+=er.offsetX,rr=rr+parseInt(er.style.fontSize,10)+2+er.offsetY,er.text!==void 0&&er.text!==""){var ar=nr.drawText({x:ir,y:rr,text:er.text,textAnchor:sr,fontSize:er.style.fontSize,fontFamily:er.style.fontFamily,foreColor:er.style.color,opacity:1,class:"apexcharts-text-nodata"});Hn.globals.dom.Paper.add(ar)}}},{key:"setNullSeriesToZeroValues",value:function(Hn){for(var er=this.w,nr=0;nr<Hn.length;nr++)if(Hn[nr].length===0)for(var ir=0;ir<Hn[er.globals.maxValsInArrayIndex].length;ir++)Hn[nr].push(0);return Hn}},{key:"hasAllSeriesEqualX",value:function(){for(var Hn=!0,er=this.w,nr=this.filteredSeriesX(),ir=0;ir<nr.length-1;ir++)if(nr[ir][0]!==nr[ir+1][0]){Hn=!1;break}return er.globals.allSeriesHasEqualX=Hn,Hn}},{key:"filteredSeriesX",value:function(){var Hn=this.w.globals.seriesX.map((function(er){return er.length>0?er:[]}));return Hn}}]),tr})(),Ji$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Pi$1(this.ctx)}return s$1(tr,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var Hn=this.w.config.series.slice(),er=new $i$1(this.ctx);if(this.activeSeriesIndex=er.getActiveConfigSeriesIndex(),Hn[this.activeSeriesIndex].data!==void 0&&Hn[this.activeSeriesIndex].data.length>0&&Hn[this.activeSeriesIndex].data[0]!==null&&Hn[this.activeSeriesIndex].data[0].x!==void 0&&Hn[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var Hn=this.w.config.series.slice(),er=new $i$1(this.ctx);if(this.activeSeriesIndex=er.getActiveConfigSeriesIndex(),Hn[this.activeSeriesIndex].data!==void 0&&Hn[this.activeSeriesIndex].data.length>0&&Hn[this.activeSeriesIndex].data[0]!==void 0&&Hn[this.activeSeriesIndex].data[0]!==null&&Hn[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(Hn,er){for(var nr=this.w.config,ir=this.w.globals,rr=nr.chart.type==="boxPlot"||nr.series[er].type==="boxPlot",sr=0;sr<Hn[er].data.length;sr++)if(Hn[er].data[sr][1]!==void 0&&(Array.isArray(Hn[er].data[sr][1])&&Hn[er].data[sr][1].length===4&&!rr?this.twoDSeries.push(v$1.parseNumber(Hn[er].data[sr][1][3])):Hn[er].data[sr].length>=5?this.twoDSeries.push(v$1.parseNumber(Hn[er].data[sr][4])):this.twoDSeries.push(v$1.parseNumber(Hn[er].data[sr][1])),ir.dataFormatXNumeric=!0),nr.xaxis.type==="datetime"){var ar=new Date(Hn[er].data[sr][0]);ar=new Date(ar).getTime(),this.twoDSeriesX.push(ar)}else this.twoDSeriesX.push(Hn[er].data[sr][0]);for(var or=0;or<Hn[er].data.length;or++)Hn[er].data[or][2]!==void 0&&(this.threeDSeries.push(Hn[er].data[or][2]),ir.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(Hn,er){var nr=this.w.config,ir=this.w.globals,rr=new zi$1(this.ctx),sr=er;ir.collapsedSeriesIndices.indexOf(er)>-1&&(sr=this.activeSeriesIndex);for(var ar=0;ar<Hn[er].data.length;ar++)Hn[er].data[ar].y!==void 0&&(Array.isArray(Hn[er].data[ar].y)?this.twoDSeries.push(v$1.parseNumber(Hn[er].data[ar].y[Hn[er].data[ar].y.length-1])):this.twoDSeries.push(v$1.parseNumber(Hn[er].data[ar].y))),Hn[er].data[ar].goals!==void 0&&Array.isArray(Hn[er].data[ar].goals)?(this.seriesGoals[er]===void 0&&(this.seriesGoals[er]=[]),this.seriesGoals[er].push(Hn[er].data[ar].goals)):(this.seriesGoals[er]===void 0&&(this.seriesGoals[er]=[]),this.seriesGoals[er].push(null));for(var or=0;or<Hn[sr].data.length;or++){var lr=typeof Hn[sr].data[or].x=="string",cr=Array.isArray(Hn[sr].data[or].x),ur=!cr&&!!rr.isValidDate(Hn[sr].data[or].x);if(lr||ur)if(lr||nr.xaxis.convertedCatToNumeric){var dr=ir.isBarHorizontal&&ir.isRangeData;nr.xaxis.type!=="datetime"||dr?(this.fallbackToCategory=!0,this.twoDSeriesX.push(Hn[sr].data[or].x),isNaN(Hn[sr].data[or].x)||this.w.config.xaxis.type==="category"||typeof Hn[sr].data[or].x=="string"||(ir.isXNumeric=!0)):this.twoDSeriesX.push(rr.parseDate(Hn[sr].data[or].x))}else nr.xaxis.type==="datetime"?this.twoDSeriesX.push(rr.parseDate(Hn[sr].data[or].x.toString())):(ir.dataFormatXNumeric=!0,ir.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(Hn[sr].data[or].x)));else cr?(this.fallbackToCategory=!0,this.twoDSeriesX.push(Hn[sr].data[or].x)):(ir.isXNumeric=!0,ir.dataFormatXNumeric=!0,this.twoDSeriesX.push(Hn[sr].data[or].x))}if(Hn[er].data[0]&&Hn[er].data[0].z!==void 0){for(var fr=0;fr<Hn[er].data.length;fr++)this.threeDSeries.push(Hn[er].data[fr].z);ir.isDataXYZ=!0}}},{key:"handleRangeData",value:function(Hn,er){var nr=this.w.globals,ir={};return this.isFormat2DArray()?ir=this.handleRangeDataFormat("array",Hn,er):this.isFormatXY()&&(ir=this.handleRangeDataFormat("xy",Hn,er)),nr.seriesRangeStart[er]=ir.start===void 0?[]:ir.start,nr.seriesRangeEnd[er]=ir.end===void 0?[]:ir.end,nr.seriesRange[er]=ir.rangeUniques,nr.seriesRange.forEach((function(rr,sr){rr&&rr.forEach((function(ar,or){ar.y.forEach((function(lr,cr){for(var ur=0;ur<ar.y.length;ur++)if(cr!==ur){var dr=lr.y1,fr=lr.y2,gr=ar.y[ur].y1;dr<=ar.y[ur].y2&&gr<=fr&&(ar.overlaps.indexOf(lr.rangeName)<0&&ar.overlaps.push(lr.rangeName),ar.overlaps.indexOf(ar.y[ur].rangeName)<0&&ar.overlaps.push(ar.y[ur].rangeName))}}))}))})),ir}},{key:"handleCandleStickBoxData",value:function(Hn,er){var nr=this.w.globals,ir={};return this.isFormat2DArray()?ir=this.handleCandleStickBoxDataFormat("array",Hn,er):this.isFormatXY()&&(ir=this.handleCandleStickBoxDataFormat("xy",Hn,er)),nr.seriesCandleO[er]=ir.o,nr.seriesCandleH[er]=ir.h,nr.seriesCandleM[er]=ir.m,nr.seriesCandleL[er]=ir.l,nr.seriesCandleC[er]=ir.c,ir}},{key:"handleRangeDataFormat",value:function(Hn,er,nr){var ir=[],rr=[],sr=er[nr].data.filter((function(cr,ur,dr){return ur===dr.findIndex((function(fr){return fr.x===cr.x}))})).map((function(cr,ur){return{x:cr.x,overlaps:[],y:[]}}));if(Hn==="array")for(var ar=0;ar<er[nr].data.length;ar++)Array.isArray(er[nr].data[ar])?(ir.push(er[nr].data[ar][1][0]),rr.push(er[nr].data[ar][1][1])):(ir.push(er[nr].data[ar]),rr.push(er[nr].data[ar]));else if(Hn==="xy")for(var or=function(cr){var ur=Array.isArray(er[nr].data[cr].y),dr=v$1.randomId(),fr=er[nr].data[cr].x,gr={y1:ur?er[nr].data[cr].y[0]:er[nr].data[cr].y,y2:ur?er[nr].data[cr].y[1]:er[nr].data[cr].y,rangeName:dr};er[nr].data[cr].rangeName=dr;var yr=sr.findIndex((function(vr){return vr.x===fr}));sr[yr].y.push(gr),ir.push(gr.y1),rr.push(gr.y2)},lr=0;lr<er[nr].data.length;lr++)or(lr);return{start:ir,end:rr,rangeUniques:sr}}},{key:"handleCandleStickBoxDataFormat",value:function(Hn,er,nr){var ir=this.w,rr=ir.config.chart.type==="boxPlot"||ir.config.series[nr].type==="boxPlot",sr=[],ar=[],or=[],lr=[],cr=[];if(Hn==="array")if(rr&&er[nr].data[0].length===6||!rr&&er[nr].data[0].length===5)for(var ur=0;ur<er[nr].data.length;ur++)sr.push(er[nr].data[ur][1]),ar.push(er[nr].data[ur][2]),rr?(or.push(er[nr].data[ur][3]),lr.push(er[nr].data[ur][4]),cr.push(er[nr].data[ur][5])):(lr.push(er[nr].data[ur][3]),cr.push(er[nr].data[ur][4]));else for(var dr=0;dr<er[nr].data.length;dr++)Array.isArray(er[nr].data[dr][1])&&(sr.push(er[nr].data[dr][1][0]),ar.push(er[nr].data[dr][1][1]),rr?(or.push(er[nr].data[dr][1][2]),lr.push(er[nr].data[dr][1][3]),cr.push(er[nr].data[dr][1][4])):(lr.push(er[nr].data[dr][1][2]),cr.push(er[nr].data[dr][1][3])));else if(Hn==="xy")for(var fr=0;fr<er[nr].data.length;fr++)Array.isArray(er[nr].data[fr].y)&&(sr.push(er[nr].data[fr].y[0]),ar.push(er[nr].data[fr].y[1]),rr?(or.push(er[nr].data[fr].y[2]),lr.push(er[nr].data[fr].y[3]),cr.push(er[nr].data[fr].y[4])):(lr.push(er[nr].data[fr].y[2]),cr.push(er[nr].data[fr].y[3])));return{o:sr,h:ar,m:or,l:lr,c:cr}}},{key:"parseDataAxisCharts",value:function(Hn){var er=this,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,ir=this.w.config,rr=this.w.globals,sr=new zi$1(nr),ar=ir.labels.length>0?ir.labels.slice():ir.xaxis.categories.slice();rr.isRangeBar=ir.chart.type==="rangeBar"&&rr.isBarHorizontal,rr.hasXaxisGroups=ir.xaxis.type==="category"&&ir.xaxis.group.groups.length>0,rr.hasXaxisGroups&&(rr.groups=ir.xaxis.group.groups),Hn.forEach((function(fr,gr){fr.name!==void 0?rr.seriesNames.push(fr.name):rr.seriesNames.push("series-"+parseInt(gr+1,10))})),this.coreUtils.setSeriesYAxisMappings();var or=[],lr=f$2(new Set(ir.series.map((function(fr){return fr.group}))));ir.series.forEach((function(fr,gr){var yr=lr.indexOf(fr.group);or[yr]||(or[yr]=[]),or[yr].push(rr.seriesNames[gr])})),rr.seriesGroups=or;for(var cr=function(){for(var fr=0;fr<ar.length;fr++)if(typeof ar[fr]=="string"){if(!sr.isValidDate(ar[fr]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");er.twoDSeriesX.push(sr.parseDate(ar[fr]))}else er.twoDSeriesX.push(ar[fr])},ur=0;ur<Hn.length;ur++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],Hn[ur].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(ir.chart.type!=="rangeBar"&&ir.chart.type!=="rangeArea"&&Hn[ur].type!=="rangeBar"&&Hn[ur].type!=="rangeArea"||(rr.isRangeData=!0,this.handleRangeData(Hn,ur)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(Hn,ur):this.isFormatXY()&&this.handleFormatXY(Hn,ur),ir.chart.type!=="candlestick"&&Hn[ur].type!=="candlestick"&&ir.chart.type!=="boxPlot"&&Hn[ur].type!=="boxPlot"||this.handleCandleStickBoxData(Hn,ur),rr.series.push(this.twoDSeries),rr.labels.push(this.twoDSeriesX),rr.seriesX.push(this.twoDSeriesX),rr.seriesGoals=this.seriesGoals,ur!==this.activeSeriesIndex||this.fallbackToCategory||(rr.isXNumeric=!0);else{ir.xaxis.type==="datetime"?(rr.isXNumeric=!0,cr(),rr.seriesX.push(this.twoDSeriesX)):ir.xaxis.type==="numeric"&&(rr.isXNumeric=!0,ar.length>0&&(this.twoDSeriesX=ar,rr.seriesX.push(this.twoDSeriesX))),rr.labels.push(this.twoDSeriesX);var dr=Hn[ur].data.map((function(fr){return v$1.parseNumber(fr)}));rr.series.push(dr)}rr.seriesZ.push(this.threeDSeries),Hn[ur].color!==void 0?rr.seriesColors.push(Hn[ur].color):rr.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(Hn){var er=this.w.globals,nr=this.w.config,ir=Array.isArray(Hn)&&Hn.every((function(cr){return typeof cr=="number"}))&&nr.labels.length>0,rr=Array.isArray(Hn)&&Hn.some((function(cr){return cr&&b$3(cr)==="object"&&cr.data||cr&&b$3(cr)==="object"&&cr.parsing}));if(ir&&rr&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),ir){er.series=Hn.slice(),er.seriesNames=nr.labels.slice();for(var sr=0;sr<er.series.length;sr++)er.seriesNames[sr]===void 0&&er.seriesNames.push("series-"+(sr+1));return this.w}if(Array.isArray(Hn)&&Hn.every((function(cr){return typeof cr=="number"}))){er.series=Hn.slice(),er.seriesNames=[];for(var ar=0;ar<er.series.length;ar++)er.seriesNames.push(nr.labels[ar]||"series-".concat(ar+1));return this.w}var or=this.extractPieDataFromSeries(Hn);er.series=or.values,er.seriesNames=or.labels,nr.chart.type==="radialBar"&&(er.series=er.series.map((function(cr){var ur=v$1.parseNumber(cr);return ur>100&&console.warn("ApexCharts: RadialBar value ".concat(ur," > 100, consider using percentage values (0-100)")),ur})));for(var lr=0;lr<er.series.length;lr++)er.seriesNames[lr]===void 0&&er.seriesNames.push("series-"+(lr+1));return this.w}},{key:"resetParsingFlags",value:function(){var Hn=this.w;Hn.globals.dataWasParsed=!1,Hn.globals.originalSeries=null,Hn.config.series&&Hn.config.series.forEach((function(er){er.__apexParsed&&delete er.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(Hn){var er=[],nr=[];if(!Array.isArray(Hn))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(Hn.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var ir=Hn[0];return b$3(ir)==="object"&&ir!==null&&ir.data?(this.extractPieDataFromSeriesObjects(Hn,er,nr),{values:er,labels:nr}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(Hn,er,nr){Hn.forEach((function(ir,rr){ir.data&&Array.isArray(ir.data)?ir.data.forEach((function(sr){b$3(sr)==="object"&&sr!==null?sr.x!==void 0&&sr.y!==void 0?(nr.push(String(sr.x)),er.push(v$1.parseNumber(sr.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",sr):console.warn("ApexCharts: Expected object data point, got:",b$3(sr))})):console.warn("ApexCharts: Series ".concat(rr," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(Hn){var er=this.w.config,nr=this.w.globals;er.xaxis.categories.length>0?nr.labels=er.xaxis.categories:er.labels.length>0?nr.labels=er.labels.slice():this.fallbackToCategory?(nr.labels=nr.labels[0],nr.seriesRange.length&&(nr.seriesRange.map((function(ir){ir.forEach((function(rr){nr.labels.indexOf(rr.x)<0&&rr.x&&nr.labels.push(rr.x)}))})),nr.labels=Array.from(new Set(nr.labels.map(JSON.stringify)),JSON.parse)),er.xaxis.convertedCatToNumeric&&(new Ni$1(er).convertCatToNumericXaxis(er,this.ctx,nr.seriesX[0]),this._generateExternalLabels(Hn))):this._generateExternalLabels(Hn)}},{key:"_generateExternalLabels",value:function(Hn){var er=this.w.globals,nr=this.w.config,ir=[];if(er.axisCharts){if(er.series.length>0)if(this.isFormatXY())for(var rr=nr.series.map((function(ur,dr){return ur.data.filter((function(fr,gr,yr){return yr.findIndex((function(vr){return vr.x===fr.x}))===gr}))})),sr=rr.reduce((function(ur,dr,fr,gr){return gr[ur].length>dr.length?ur:fr}),0),ar=0;ar<rr[sr].length;ar++)ir.push(ar+1);else for(var or=0;or<er.series[er.maxValsInArrayIndex].length;or++)ir.push(or+1);er.seriesX=[];for(var lr=0;lr<Hn.length;lr++)er.seriesX.push(ir);this.w.globals.isBarHorizontal||(er.isXNumeric=!0)}if(ir.length===0){ir=er.axisCharts?[]:er.series.map((function(ur,dr){return dr+1}));for(var cr=0;cr<Hn.length;cr++)er.seriesX.push(ir)}er.labels=ir,nr.xaxis.convertedCatToNumeric&&(er.categoryLabels=ir.map((function(ur){return nr.xaxis.labels.formatter(ur)}))),er.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(Hn){var er=this,nr=this.w.config,ir=this.w.globals,rr=nr.parsing;if(ir.dataWasParsed||!rr&&!Hn.some((function(ar){return ar.parsing})))return Hn;var sr=Hn.map((function(ar,or){var lr,cr,ur;if(!ar.data||!Array.isArray(ar.data)||ar.data.length===0)return ar;var dr={x:((lr=ar.parsing)===null||lr===void 0?void 0:lr.x)||rr?.x,y:((cr=ar.parsing)===null||cr===void 0?void 0:cr.y)||rr?.y,z:((ur=ar.parsing)===null||ur===void 0?void 0:ur.z)||rr?.z};if(!dr.x&&!dr.y)return ar;var fr=ar.data[0];if(b$3(fr)==="object"&&fr!==null&&(fr.hasOwnProperty("x")||fr.hasOwnProperty("y"))||Array.isArray(fr))return ar;if(!dr.x||!dr.y||Array.isArray(dr.y)&&dr.y.length===0)return console.warn("ApexCharts: Series ".concat(or," has parsing config but missing x or y field specification")),ar;var gr=ar.data.map((function(yr,vr){if(b$3(yr)!=="object"||yr===null)return console.warn("ApexCharts: Series ".concat(or,", data point ").concat(vr," is not an object, skipping parsing")),yr;var jr,Sr=er.getNestedValue(yr,dr.x),Tr=void 0;if(Array.isArray(dr.y)){var Lr=dr.y.map((function(Or){return er.getNestedValue(yr,Or)}));jr=er.w.config.chart.type==="bubble"&&Lr.length===2?Lr[0]:Lr}else jr=er.getNestedValue(yr,dr.y);dr.z&&(Tr=er.getNestedValue(yr,dr.z)),Sr===void 0&&console.warn("ApexCharts: Series ".concat(or,", data point ").concat(vr," missing field '").concat(dr.x,"'")),jr===void 0&&console.warn("ApexCharts: Series ".concat(or,", data point ").concat(vr," missing field '").concat(dr.y,"'"));var Mr={x:Sr,y:jr};if(er.w.config.chart.type==="bubble"&&Array.isArray(dr.y)&&dr.y.length===2){var Nr=er.getNestedValue(yr,dr.y[1]);Nr!==void 0&&(Mr.z=Nr)}return Tr!==void 0&&(Mr.z=Tr),Mr}));return u$2(u$2({},ar),{},{data:gr,__apexParsed:!0})}));return ir.dataWasParsed=!0,ir.originalSeries||(ir.originalSeries=v$1.clone(Hn)),sr}},{key:"getNestedValue",value:function(Hn,er){if(Hn&&b$3(Hn)==="object"&&er){if(er.indexOf(".")===-1)return Hn[er];for(var nr=er.split("."),ir=Hn,rr=0;rr<nr.length;rr++){if(ir==null||b$3(ir)!=="object")return;ir=ir[nr[rr]]}return ir}}},{key:"parseData",value:function(Hn){var er=this.w,nr=er.config,ir=er.globals;if(Hn=this.parseRawDataIfNeeded(Hn),nr.series=Hn,ir.initialSeries=v$1.clone(Hn),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),ir.axisCharts?(this.parseDataAxisCharts(Hn),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(Hn),nr.chart.stacked){var rr=new $i$1(this.ctx);ir.series=rr.setNullSeriesToZeroValues(ir.series)}this.coreUtils.getSeriesTotals(),ir.axisCharts&&(ir.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),ir.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),ir.dataFormatXNumeric||ir.isXNumeric&&(nr.xaxis.type!=="numeric"||nr.labels.length!==0||nr.xaxis.categories.length!==0)||this.handleExternalLabelsData(Hn);for(var sr=this.coreUtils.getCategoryLabels(ir.labels),ar=0;ar<sr.length;ar++)if(Array.isArray(sr[ar])){ir.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var Hn=this.w,er=[];Hn.globals.seriesYAxisMap.forEach((function(nr,ir){var rr=0;nr.forEach((function(sr){Hn.globals.collapsedSeriesIndices.indexOf(sr)!==-1&&rr++})),rr>0&&rr==nr.length&&er.push(ir)})),Hn.globals.ignoreYAxisIndexes=er.map((function(nr){return nr}))}}]),tr})(),Qi$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"svgStringToNode",value:function(Hn){return new DOMParser().parseFromString(Hn,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(Hn,er){var nr=parseFloat(Hn.getAttributeNS(null,"width")),ir=parseFloat(Hn.getAttributeNS(null,"height"));Hn.setAttributeNS(null,"width",nr*er),Hn.setAttributeNS(null,"height",ir*er),Hn.setAttributeNS(null,"viewBox","0 0 "+nr+" "+ir)}},{key:"getSvgString",value:function(Hn){var er=this;return new Promise((function(nr){var ir=er.w,rr=Hn||ir.config.chart.toolbar.export.scale||ir.config.chart.toolbar.export.width/ir.globals.svgWidth;rr||(rr=1);var sr=ir.globals.svgWidth*rr,ar=ir.globals.svgHeight*rr,or=ir.globals.dom.elWrap.cloneNode(!0);or.style.width=sr+"px",or.style.height=ar+"px";var lr=new XMLSerializer().serializeToString(or),cr=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;ir.config.legend.show&&ir.globals.dom.elLegendWrap&&ir.globals.dom.elLegendWrap.children.length>0&&(cr+=Zi$1);var ur=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(ir.globals.svgWidth,'px" height="').concat(ir.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(sr,"px; height:").concat(ar,`px;">
            <style type="text/css">
              `).concat(cr,`
            </style>
              `).concat(lr,`
            </div>
          </foreignObject>
        </svg>
      `),dr=er.svgStringToNode(ur);rr!==1&&er.scaleSvgNode(dr,rr),er.convertImagesToBase64(dr).then((function(){ur=new XMLSerializer().serializeToString(dr),nr(ur.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(Hn){var er=this,nr=Hn.getElementsByTagName("image"),ir=Array.from(nr).map((function(rr){var sr=rr.getAttributeNS("http://www.w3.org/1999/xlink","href");return sr&&!sr.startsWith("data:")?er.getBase64FromUrl(sr).then((function(ar){rr.setAttributeNS("http://www.w3.org/1999/xlink","href",ar)})).catch((function(ar){console.error("Error converting image to base64:",ar)})):Promise.resolve()}));return Promise.all(ir)}},{key:"getBase64FromUrl",value:function(Hn){return new Promise((function(er,nr){var ir=new Image;ir.crossOrigin="Anonymous",ir.onload=function(){var rr=document.createElement("canvas");rr.width=ir.width,rr.height=ir.height,rr.getContext("2d").drawImage(ir,0,0),er(rr.toDataURL())},ir.onerror=nr,ir.src=Hn}))}},{key:"svgUrl",value:function(){var Hn=this;return new Promise((function(er){Hn.getSvgString().then((function(nr){var ir=new Blob([nr],{type:"image/svg+xml;charset=utf-8"});er(URL.createObjectURL(ir))}))}))}},{key:"dataURI",value:function(Hn){var er=this;return new Promise((function(nr){var ir=er.w,rr=Hn?Hn.scale||Hn.width/ir.globals.svgWidth:1,sr=document.createElement("canvas");sr.width=ir.globals.svgWidth*rr,sr.height=parseInt(ir.globals.dom.elWrap.style.height,10)*rr;var ar=ir.config.chart.background!=="transparent"&&ir.config.chart.background?ir.config.chart.background:"#fff",or=sr.getContext("2d");or.fillStyle=ar,or.fillRect(0,0,sr.width*rr,sr.height*rr),er.getSvgString(rr).then((function(lr){var cr="data:image/svg+xml,"+encodeURIComponent(lr),ur=new Image;ur.crossOrigin="anonymous",ur.onload=function(){if(or.drawImage(ur,0,0),sr.msToBlob){var dr=sr.msToBlob();nr({blob:dr})}else{var fr=sr.toDataURL("image/png");nr({imgURI:fr})}},ur.src=cr}))}))}},{key:"exportToSVG",value:function(){var Hn=this;this.svgUrl().then((function(er){Hn.triggerDownload(er,Hn.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var Hn=this,er=this.w.config.chart.toolbar.export.scale,nr=this.w.config.chart.toolbar.export.width,ir=er?{scale:er}:nr?{width:nr}:void 0;this.dataURI(ir).then((function(rr){var sr=rr.imgURI,ar=rr.blob;ar?navigator.msSaveOrOpenBlob(ar,Hn.w.globals.chartID+".png"):Hn.triggerDownload(sr,Hn.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(Hn){var er=this,nr=Hn.series,ir=Hn.fileName,rr=Hn.columnDelimiter,sr=rr===void 0?",":rr,ar=Hn.lineDelimiter,or=ar===void 0?`
`:ar,lr=this.w;nr||(nr=lr.config.series);var cr=[],ur=[],dr="",fr=lr.globals.series.map((function(Mr,Nr){return lr.globals.collapsedSeriesIndices.indexOf(Nr)===-1?Mr:[]})),gr=function(Mr){return typeof lr.config.chart.toolbar.export.csv.categoryFormatter=="function"?lr.config.chart.toolbar.export.csv.categoryFormatter(Mr):lr.config.xaxis.type==="datetime"&&String(Mr).length>=10?new Date(Mr).toDateString():v$1.isNumber(Mr)?Mr:Mr.split(sr).join("")},yr=function(Mr){return typeof lr.config.chart.toolbar.export.csv.valueFormatter=="function"?lr.config.chart.toolbar.export.csv.valueFormatter(Mr):Mr},vr=Math.max.apply(Math,f$2(nr.map((function(Mr){return Mr.data?Mr.data.length:0})))),jr=new Ji$1(this.ctx),Sr=new Ri$1(this.ctx),Tr=function(Mr){var Nr="";if(lr.globals.axisCharts){if(lr.config.xaxis.type==="category"||lr.config.xaxis.convertedCatToNumeric)if(lr.globals.isBarHorizontal){var Or=lr.globals.yLabelFormatters[0],Fr=new $i$1(er.ctx).getActiveConfigSeriesIndex();Nr=Or(lr.globals.labels[Mr],{seriesIndex:Fr,dataPointIndex:Mr,w:lr})}else Nr=Sr.getLabel(lr.globals.labels,lr.globals.timescaleLabels,0,Mr).text;lr.config.xaxis.type==="datetime"&&(lr.config.xaxis.categories.length?Nr=lr.config.xaxis.categories[Mr]:lr.config.labels.length&&(Nr=lr.config.labels[Mr]))}else Nr=lr.config.labels[Mr];return Nr===null?"nullvalue":(Array.isArray(Nr)&&(Nr=Nr.join(" ")),v$1.isNumber(Nr)?Nr:Nr.split(sr).join(""))},Lr=function(Mr,Nr){if(cr.length&&Nr===0&&ur.push(cr.join(sr)),Mr.data){Mr.data=Mr.data.length&&Mr.data||f$2(Array(vr)).map((function(){return""}));for(var Or=0;Or<Mr.data.length;Or++){cr=[];var Fr=Tr(Or);if(Fr!=="nullvalue"){if(Fr||(jr.isFormatXY()?Fr=nr[Nr].data[Or].x:jr.isFormat2DArray()&&(Fr=nr[Nr].data[Or]?nr[Nr].data[Or][0]:"")),Nr===0){cr.push(gr(Fr));for(var Gr=0;Gr<lr.globals.series.length;Gr++){var qr,Hr=jr.isFormatXY()?(qr=nr[Gr].data[Or])===null||qr===void 0?void 0:qr.y:fr[Gr][Or];cr.push(yr(Hr))}}(lr.config.chart.type==="candlestick"||Mr.type&&Mr.type==="candlestick")&&(cr.pop(),cr.push(lr.globals.seriesCandleO[Nr][Or]),cr.push(lr.globals.seriesCandleH[Nr][Or]),cr.push(lr.globals.seriesCandleL[Nr][Or]),cr.push(lr.globals.seriesCandleC[Nr][Or])),(lr.config.chart.type==="boxPlot"||Mr.type&&Mr.type==="boxPlot")&&(cr.pop(),cr.push(lr.globals.seriesCandleO[Nr][Or]),cr.push(lr.globals.seriesCandleH[Nr][Or]),cr.push(lr.globals.seriesCandleM[Nr][Or]),cr.push(lr.globals.seriesCandleL[Nr][Or]),cr.push(lr.globals.seriesCandleC[Nr][Or])),lr.config.chart.type==="rangeBar"&&(cr.pop(),cr.push(lr.globals.seriesRangeStart[Nr][Or]),cr.push(lr.globals.seriesRangeEnd[Nr][Or])),cr.length&&ur.push(cr.join(sr))}}}};cr.push(lr.config.chart.toolbar.export.csv.headerCategory),lr.config.chart.type==="boxPlot"?(cr.push("minimum"),cr.push("q1"),cr.push("median"),cr.push("q3"),cr.push("maximum")):lr.config.chart.type==="candlestick"?(cr.push("open"),cr.push("high"),cr.push("low"),cr.push("close")):lr.config.chart.type==="rangeBar"?(cr.push("minimum"),cr.push("maximum")):nr.map((function(Mr,Nr){var Or=(Mr.name?Mr.name:"series-".concat(Nr))+"";lr.globals.axisCharts&&cr.push(Or.split(sr).join("")?Or.split(sr).join(""):"series-".concat(Nr))})),lr.globals.axisCharts||(cr.push(lr.config.chart.toolbar.export.csv.headerValue),ur.push(cr.join(sr))),lr.globals.allSeriesHasEqualX||!lr.globals.axisCharts||lr.config.xaxis.categories.length||lr.config.labels.length?nr.map((function(Mr,Nr){lr.globals.axisCharts?Lr(Mr,Nr):((cr=[]).push(gr(lr.globals.labels[Nr])),cr.push(yr(fr[Nr])),ur.push(cr.join(sr)))})):(function(){var Mr=new Set,Nr={};nr.forEach((function(Or,Fr){Or?.data.forEach((function(Gr){var qr,Hr;if(jr.isFormatXY())qr=Gr.x,Hr=Gr.y;else{if(!jr.isFormat2DArray())return;qr=Gr[0],Hr=Gr[1]}Nr[qr]||(Nr[qr]=Array(nr.length).fill("")),Nr[qr][Fr]=yr(Hr),Mr.add(qr)}))})),cr.length&&ur.push(cr.join(sr)),Array.from(Mr).sort().forEach((function(Or){ur.push([gr(Or),Nr[Or].join(sr)])}))})(),dr+=ur.join(or),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+dr),ir||lr.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(Hn,er,nr){var ir=document.createElement("a");ir.href=Hn,ir.download=(er||this.w.globals.chartID)+nr,document.body.appendChild(ir),ir.click(),document.body.removeChild(ir)}}]),tr})(),Ki$1=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.elgrid=er,this.w=Hn.w;var nr=this.w;this.axesUtils=new Ri$1(Hn),this.xaxisLabels=nr.globals.labels.slice(),nr.globals.timescaleLabels.length>0&&!nr.globals.isBarHorizontal&&(this.xaxisLabels=nr.globals.timescaleLabels.slice()),nr.config.xaxis.overwriteCategories&&(this.xaxisLabels=nr.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],nr.config.xaxis.position==="top"?this.offY=0:this.offY=nr.globals.gridHeight,this.offY=this.offY+nr.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=nr.config.chart.type==="bar"&&nr.config.plotOptions.bar.horizontal,this.xaxisFontSize=nr.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=nr.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=nr.config.xaxis.labels.style.colors,this.xaxisBorderWidth=nr.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=nr.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=nr.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=nr.config.xaxis.axisBorder.height,this.yaxis=nr.config.yaxis[0]}return s$1(tr,[{key:"drawXaxis",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=er.group({class:"apexcharts-xaxis",transform:"translate(".concat(Hn.config.xaxis.offsetX,", ").concat(Hn.config.xaxis.offsetY,")")}),ir=er.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(Hn.globals.translateXAxisX,", ").concat(Hn.globals.translateXAxisY,")")});nr.add(ir);for(var rr=[],sr=0;sr<this.xaxisLabels.length;sr++)rr.push(this.xaxisLabels[sr]);if(this.drawXAxisLabelAndGroup(!0,er,ir,rr,Hn.globals.isXNumeric,(function(gr,yr){return yr})),Hn.globals.hasXaxisGroups){var ar=Hn.globals.groups;rr=[];for(var or=0;or<ar.length;or++)rr.push(ar[or].title);var lr={};Hn.config.xaxis.group.style&&(lr.xaxisFontSize=Hn.config.xaxis.group.style.fontSize,lr.xaxisFontFamily=Hn.config.xaxis.group.style.fontFamily,lr.xaxisForeColors=Hn.config.xaxis.group.style.colors,lr.fontWeight=Hn.config.xaxis.group.style.fontWeight,lr.cssClass=Hn.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,er,ir,rr,!1,(function(gr,yr){return ar[gr].cols*yr}),lr)}if(Hn.config.xaxis.title.text!==void 0){var cr=er.group({class:"apexcharts-xaxis-title"}),ur=er.drawText({x:Hn.globals.gridWidth/2+Hn.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(Hn.config.xaxis.position==="bottom"?Hn.globals.xAxisLabelsHeight:-Hn.globals.xAxisLabelsHeight-10)+Hn.config.xaxis.title.offsetY,text:Hn.config.xaxis.title.text,textAnchor:"middle",fontSize:Hn.config.xaxis.title.style.fontSize,fontFamily:Hn.config.xaxis.title.style.fontFamily,fontWeight:Hn.config.xaxis.title.style.fontWeight,foreColor:Hn.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+Hn.config.xaxis.title.style.cssClass});cr.add(ur),nr.add(cr)}if(Hn.config.xaxis.axisBorder.show){var dr=Hn.globals.barPadForNumericAxis,fr=er.drawLine(Hn.globals.padHorizontal+Hn.config.xaxis.axisBorder.offsetX-dr,this.offY,this.xaxisBorderWidth+dr,this.offY,Hn.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&Hn.config.grid.show?this.elgrid.elGridBorders.add(fr):nr.add(fr)}return nr}},{key:"drawXAxisLabelAndGroup",value:function(Hn,er,nr,ir,rr,sr){var ar,or=this,lr=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},cr=[],ur=[],dr=this.w,fr=lr.xaxisFontSize||this.xaxisFontSize,gr=lr.xaxisFontFamily||this.xaxisFontFamily,yr=lr.xaxisForeColors||this.xaxisForeColors,vr=lr.fontWeight||dr.config.xaxis.labels.style.fontWeight,jr=lr.cssClass||dr.config.xaxis.labels.style.cssClass,Sr=dr.globals.padHorizontal,Tr=ir.length,Lr=dr.config.xaxis.type==="category"?dr.globals.dataPoints:Tr;if(Lr===0&&Tr>Lr&&(Lr=Tr),rr){var Mr=Math.max(Number(dr.config.xaxis.tickAmount)||1,Lr>1?Lr-1:Lr);ar=dr.globals.gridWidth/Math.min(Mr,Tr-1),Sr=Sr+sr(0,ar)/2+dr.config.xaxis.labels.offsetX}else ar=dr.globals.gridWidth/Lr,Sr=Sr+sr(0,ar)+dr.config.xaxis.labels.offsetX;for(var Nr=function(Fr){var Gr=Sr-sr(Fr,ar)/2+dr.config.xaxis.labels.offsetX;Fr===0&&Tr===1&&ar/2===Sr&&Lr===1&&(Gr=dr.globals.gridWidth/2);var qr=or.axesUtils.getLabel(ir,dr.globals.timescaleLabels,Gr,Fr,cr,fr,Hn),Hr=28;if(dr.globals.rotateXLabels&&Hn&&(Hr=22),dr.config.xaxis.title.text&&dr.config.xaxis.position==="top"&&(Hr+=parseFloat(dr.config.xaxis.title.style.fontSize)+2),Hn||(Hr=Hr+parseFloat(fr)+(dr.globals.xAxisLabelsHeight-dr.globals.xAxisGroupLabelsHeight)+(dr.globals.rotateXLabels?10:0)),qr=dr.config.xaxis.tickAmount!==void 0&&dr.config.xaxis.tickAmount!=="dataPoints"&&dr.config.xaxis.type!=="datetime"?or.axesUtils.checkLabelBasedOnTickamount(Fr,qr,Tr):or.axesUtils.checkForOverflowingLabels(Fr,qr,Tr,cr,ur),dr.config.xaxis.labels.show){var Yr=er.drawText({x:qr.x,y:or.offY+dr.config.xaxis.labels.offsetY+Hr-(dr.config.xaxis.position==="top"?dr.globals.xAxisHeight+dr.config.xaxis.axisTicks.height-2:0),text:qr.text,textAnchor:"middle",fontWeight:qr.isBold?600:vr,fontSize:fr,fontFamily:gr,foreColor:Array.isArray(yr)?Hn&&dr.config.xaxis.convertedCatToNumeric?yr[dr.globals.minX+Fr-1]:yr[Fr]:yr,isPlainText:!1,cssClass:(Hn?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+jr});if(nr.add(Yr),Yr.on("click",(function(io){if(typeof dr.config.chart.events.xAxisLabelClick=="function"){var fo=Object.assign({},dr,{labelIndex:Fr});dr.config.chart.events.xAxisLabelClick(io,or.ctx,fo)}})),Hn){var ro=document.createElementNS(dr.globals.SVGNS,"title");ro.textContent=Array.isArray(qr.text)?qr.text.join(" "):qr.text,Yr.node.appendChild(ro),qr.text!==""&&(cr.push(qr.text),ur.push(qr))}}Fr<Tr-1&&(Sr+=sr(Fr+1,ar))},Or=0;Or<=Tr-1;Or++)Nr(Or)}},{key:"drawXaxisInversed",value:function(Hn){var er,nr,ir=this,rr=this.w,sr=new Mi$1(this.ctx),ar=rr.config.yaxis[0].opposite?rr.globals.translateYAxisX[Hn]:0,or=sr.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:Hn}),lr=sr.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+ar+", 0)"});or.add(lr);var cr=[];if(rr.config.yaxis[Hn].show)for(var ur=0;ur<this.xaxisLabels.length;ur++)cr.push(this.xaxisLabels[ur]);er=rr.globals.gridHeight/cr.length,nr=-er/2.2;var dr=rr.globals.yLabelFormatters[0],fr=rr.config.yaxis[0].labels;if(fr.show)for(var gr=function(Mr){var Nr=cr[Mr]===void 0?"":cr[Mr];Nr=dr(Nr,{seriesIndex:Hn,dataPointIndex:Mr,w:rr});var Or=ir.axesUtils.getYAxisForeColor(fr.style.colors,Hn),Fr=0;Array.isArray(Nr)&&(Fr=Nr.length/2*parseInt(fr.style.fontSize,10));var Gr=fr.offsetX-15,qr="end";ir.yaxis.opposite&&(qr="start"),rr.config.yaxis[0].labels.align==="left"?(Gr=fr.offsetX,qr="start"):rr.config.yaxis[0].labels.align==="center"?(Gr=fr.offsetX,qr="middle"):rr.config.yaxis[0].labels.align==="right"&&(qr="end");var Hr=sr.drawText({x:Gr,y:nr+er+fr.offsetY-Fr,text:Nr,textAnchor:qr,foreColor:Array.isArray(Or)?Or[Mr]:Or,fontSize:fr.style.fontSize,fontFamily:fr.style.fontFamily,fontWeight:fr.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+fr.style.cssClass,maxWidth:fr.maxWidth});lr.add(Hr),Hr.on("click",(function(io){if(typeof rr.config.chart.events.xAxisLabelClick=="function"){var fo=Object.assign({},rr,{labelIndex:Mr});rr.config.chart.events.xAxisLabelClick(io,ir.ctx,fo)}}));var Yr=document.createElementNS(rr.globals.SVGNS,"title");if(Yr.textContent=Array.isArray(Nr)?Nr.join(" "):Nr,Hr.node.appendChild(Yr),rr.config.yaxis[Hn].labels.rotate!==0){var ro=sr.rotateAroundCenter(Hr.node);Hr.node.setAttribute("transform","rotate(".concat(rr.config.yaxis[Hn].labels.rotate," 0 ").concat(ro.y,")"))}nr+=er},yr=0;yr<=cr.length-1;yr++)gr(yr);if(rr.config.yaxis[0].title.text!==void 0){var vr=sr.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+ar+", 0)"}),jr=sr.drawText({x:rr.config.yaxis[0].title.offsetX,y:rr.globals.gridHeight/2+rr.config.yaxis[0].title.offsetY,text:rr.config.yaxis[0].title.text,textAnchor:"middle",foreColor:rr.config.yaxis[0].title.style.color,fontSize:rr.config.yaxis[0].title.style.fontSize,fontWeight:rr.config.yaxis[0].title.style.fontWeight,fontFamily:rr.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+rr.config.yaxis[0].title.style.cssClass});vr.add(jr),or.add(vr)}var Sr=0;this.isCategoryBarHorizontal&&rr.config.yaxis[0].opposite&&(Sr=rr.globals.gridWidth);var Tr=rr.config.xaxis.axisBorder;if(Tr.show){var Lr=sr.drawLine(rr.globals.padHorizontal+Tr.offsetX+Sr,1+Tr.offsetY,rr.globals.padHorizontal+Tr.offsetX+Sr,rr.globals.gridHeight+Tr.offsetY,Tr.color,0);this.elgrid&&this.elgrid.elGridBorders&&rr.config.grid.show?this.elgrid.elGridBorders.add(Lr):or.add(Lr)}return rr.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Sr,cr.length,rr.config.yaxis[0].axisBorder,rr.config.yaxis[0].axisTicks,0,er,or),or}},{key:"drawXaxisTicks",value:function(Hn,er,nr){var ir=this.w,rr=Hn;if(!(Hn<0||Hn-2>ir.globals.gridWidth)){var sr=this.offY+ir.config.xaxis.axisTicks.offsetY;if(er=er+sr+ir.config.xaxis.axisTicks.height,ir.config.xaxis.position==="top"&&(er=sr-ir.config.xaxis.axisTicks.height),ir.config.xaxis.axisTicks.show){var ar=new Mi$1(this.ctx).drawLine(Hn+ir.config.xaxis.axisTicks.offsetX,sr+ir.config.xaxis.offsetY,rr+ir.config.xaxis.axisTicks.offsetX,er+ir.config.xaxis.offsetY,ir.config.xaxis.axisTicks.color);nr.add(ar),ar.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var Hn=this.w,er=[],nr=this.xaxisLabels.length,ir=Hn.globals.padHorizontal;if(Hn.globals.timescaleLabels.length>0)for(var rr=0;rr<nr;rr++)ir=this.xaxisLabels[rr].position,er.push(ir);else for(var sr=nr,ar=0;ar<sr;ar++){var or=sr;Hn.globals.isXNumeric&&Hn.config.chart.type!=="bar"&&(or-=1),ir+=Hn.globals.gridWidth/or,er.push(ir)}return er}},{key:"xAxisLabelCorrections",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=Hn.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),ir=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),rr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),sr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(Hn.globals.rotateXLabels||Hn.config.xaxis.labels.rotateAlways)for(var ar=0;ar<ir.length;ar++){var or=er.rotateAroundCenter(ir[ar]);or.y=or.y-1,or.x=or.x+1,ir[ar].setAttribute("transform","rotate(".concat(Hn.config.xaxis.labels.rotate," ").concat(or.x," ").concat(or.y,")")),ir[ar].setAttribute("text-anchor","end"),nr.setAttribute("transform","translate(0, ".concat(-10,")"));var lr=ir[ar].childNodes;Hn.config.xaxis.labels.trim&&Array.prototype.forEach.call(lr,(function(fr){er.placeTextWithEllipsis(fr,fr.textContent,Hn.globals.xAxisLabelsHeight-(Hn.config.legend.position==="bottom"?20:10))}))}else(function(){for(var fr=Hn.globals.gridWidth/(Hn.globals.labels.length+1),gr=0;gr<ir.length;gr++){var yr=ir[gr].childNodes;Hn.config.xaxis.labels.trim&&Hn.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(yr,(function(vr){er.placeTextWithEllipsis(vr,vr.textContent,fr)}))}})();if(rr.length>0){var cr=rr[rr.length-1].getBBox(),ur=rr[0].getBBox();cr.x<-20&&rr[rr.length-1].parentNode.removeChild(rr[rr.length-1]),ur.x+ur.width>Hn.globals.gridWidth&&!Hn.globals.isBarHorizontal&&rr[0].parentNode.removeChild(rr[0]);for(var dr=0;dr<sr.length;dr++)er.placeTextWithEllipsis(sr[dr],sr[dr].textContent,Hn.config.yaxis[0].labels.maxWidth-(Hn.config.yaxis[0].title.text?2*parseFloat(Hn.config.yaxis[0].title.style.fontSize):0)-15)}}}]),tr})(),ta=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var er=this.w;this.xaxisLabels=er.globals.labels.slice(),this.axesUtils=new Ri$1(Hn),this.isRangeBar=er.globals.seriesRange.length&&er.globals.isBarHorizontal,er.globals.timescaleLabels.length>0&&(this.xaxisLabels=er.globals.timescaleLabels.slice())}return s$1(tr,[{key:"drawGridArea",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,er=this.w,nr=new Mi$1(this.ctx);Hn||(Hn=nr.group({class:"apexcharts-grid"}));var ir=nr.drawLine(er.globals.padHorizontal,1,er.globals.padHorizontal,er.globals.gridHeight,"transparent"),rr=nr.drawLine(er.globals.padHorizontal,er.globals.gridHeight,er.globals.gridWidth,er.globals.gridHeight,"transparent");return Hn.add(rr),Hn.add(ir),Hn}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var Hn=this.renderGrid();return this.drawGridArea(Hn.el),Hn}return null}},{key:"createGridMask",value:function(){var Hn=this.w,er=Hn.globals,nr=new Mi$1(this.ctx),ir=Array.isArray(Hn.config.stroke.width)?Math.max.apply(Math,f$2(Hn.config.stroke.width)):Hn.config.stroke.width,rr=function(cr){var ur=document.createElementNS(er.SVGNS,"clipPath");return ur.setAttribute("id",cr),ur};er.dom.elGridRectMask=rr("gridRectMask".concat(er.cuid)),er.dom.elGridRectBarMask=rr("gridRectBarMask".concat(er.cuid)),er.dom.elGridRectMarkerMask=rr("gridRectMarkerMask".concat(er.cuid)),er.dom.elForecastMask=rr("forecastMask".concat(er.cuid)),er.dom.elNonForecastMask=rr("nonForecastMask".concat(er.cuid));var sr=0,ar=0;(["bar","rangeBar","candlestick","boxPlot"].includes(Hn.config.chart.type)||Hn.globals.comboBarCount>0)&&Hn.globals.isXNumeric&&!Hn.globals.isBarHorizontal&&(sr=Math.max(Hn.config.grid.padding.left,er.barPadForNumericAxis),ar=Math.max(Hn.config.grid.padding.right,er.barPadForNumericAxis)),er.dom.elGridRect=nr.drawRect(-ir/2-2,-ir/2-2,er.gridWidth+ir+4,er.gridHeight+ir+4,0,"#fff"),er.dom.elGridRectBar=nr.drawRect(-ir/2-sr-2,-ir/2-2,er.gridWidth+ir+ar+sr+4,er.gridHeight+ir+4,0,"#fff");var or=Hn.globals.markers.largestSize;er.dom.elGridRectMarker=nr.drawRect(Math.min(-ir/2-sr-2,-or),-or,er.gridWidth+Math.max(ir+ar+sr+4,2*or),er.gridHeight+2*or,0,"#fff"),er.dom.elGridRectMask.appendChild(er.dom.elGridRect.node),er.dom.elGridRectBarMask.appendChild(er.dom.elGridRectBar.node),er.dom.elGridRectMarkerMask.appendChild(er.dom.elGridRectMarker.node);var lr=er.dom.baseEl.querySelector("defs");lr.appendChild(er.dom.elGridRectMask),lr.appendChild(er.dom.elGridRectBarMask),lr.appendChild(er.dom.elGridRectMarkerMask),lr.appendChild(er.dom.elForecastMask),lr.appendChild(er.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(Hn){var er=Hn.i,nr=Hn.x1,ir=Hn.y1,rr=Hn.x2,sr=Hn.y2,ar=Hn.xCount,or=Hn.parent,lr=this.w;if(!(er===0&&lr.globals.skipFirstTimelinelabel||er===ar-1&&lr.globals.skipLastTimelinelabel&&!lr.config.xaxis.labels.formatter||lr.config.chart.type==="radar")){lr.config.grid.xaxis.lines.show&&this._drawGridLine({i:er,x1:nr,y1:ir,x2:rr,y2:sr,xCount:ar,parent:or});var cr=0;if(lr.globals.hasXaxisGroups&&lr.config.xaxis.tickPlacement==="between"){var ur=lr.globals.groups;if(ur){for(var dr=0,fr=0;dr<er&&fr<ur.length;fr++)dr+=ur[fr].cols;dr===er&&(cr=.6*lr.globals.xAxisLabelsHeight)}}new Ki$1(this.ctx).drawXaxisTicks(nr,cr,lr.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(Hn){var er=Hn.i,nr=Hn.x1,ir=Hn.y1,rr=Hn.x2,sr=Hn.y2,ar=Hn.xCount,or=Hn.parent,lr=this.w,cr=or.node.classList.contains("apexcharts-gridlines-horizontal"),ur=lr.globals.barPadForNumericAxis,dr=ir===0&&sr===0||nr===0&&rr===0||ir===lr.globals.gridHeight&&sr===lr.globals.gridHeight||lr.globals.isBarHorizontal&&(er===0||er===ar-1),fr=new Mi$1(this).drawLine(nr-(cr?ur:0),ir,rr+(cr?ur:0),sr,lr.config.grid.borderColor,lr.config.grid.strokeDashArray);fr.node.classList.add("apexcharts-gridline"),dr&&lr.config.grid.show?this.elGridBorders.add(fr):or.add(fr)}},{key:"_drawGridBandRect",value:function(Hn){var er=Hn.c,nr=Hn.x1,ir=Hn.y1,rr=Hn.x2,sr=Hn.y2,ar=Hn.type,or=this.w,lr=new Mi$1(this.ctx),cr=or.globals.barPadForNumericAxis,ur=or.config.grid[ar].colors[er],dr=lr.drawRect(nr-(ar==="row"?cr:0),ir,rr+(ar==="row"?2*cr:0),sr,0,ur,or.config.grid[ar].opacity);this.elg.add(dr),dr.attr("clip-path","url(#gridRectMask".concat(or.globals.cuid,")")),dr.node.classList.add("apexcharts-grid-".concat(ar))}},{key:"_drawXYLines",value:function(Hn){var er=this,nr=Hn.xCount,ir=Hn.tickAmount,rr=this.w;if(rr.config.grid.xaxis.lines.show||rr.config.xaxis.axisTicks.show){var sr,ar=rr.globals.padHorizontal,or=rr.globals.gridHeight;rr.globals.timescaleLabels.length?(function(gr){for(var yr=gr.xC,vr=gr.x1,jr=gr.y1,Sr=gr.x2,Tr=gr.y2,Lr=0;Lr<yr;Lr++)vr=er.xaxisLabels[Lr].position,Sr=er.xaxisLabels[Lr].position,er._drawGridLines({i:Lr,x1:vr,y1:jr,x2:Sr,y2:Tr,xCount:nr,parent:er.elgridLinesV})})({xC:nr,x1:ar,y1:0,x2:sr,y2:or}):(rr.globals.isXNumeric&&(nr=rr.globals.xAxisScale.result.length),(function(gr){for(var yr=gr.xC,vr=gr.x1,jr=gr.y1,Sr=gr.x2,Tr=gr.y2,Lr=0;Lr<yr+(rr.globals.isXNumeric?0:1);Lr++)Lr===0&&yr===1&&rr.globals.dataPoints===1&&(Sr=vr=rr.globals.gridWidth/2),er._drawGridLines({i:Lr,x1:vr,y1:jr,x2:Sr,y2:Tr,xCount:nr,parent:er.elgridLinesV}),Sr=vr+=rr.globals.gridWidth/(rr.globals.isXNumeric?yr-1:yr)})({xC:nr,x1:ar,y1:0,x2:sr,y2:or}))}if(rr.config.grid.yaxis.lines.show){var lr=0,cr=0,ur=rr.globals.gridWidth,dr=ir+1;this.isRangeBar&&(dr=rr.globals.labels.length);for(var fr=0;fr<dr+(this.isRangeBar?1:0);fr++)this._drawGridLine({i:fr,xCount:dr+(this.isRangeBar?1:0),x1:0,y1:lr,x2:ur,y2:cr,parent:this.elgridLinesH}),cr=lr+=rr.globals.gridHeight/(this.isRangeBar?dr:ir)}}},{key:"_drawInvertedXYLines",value:function(Hn){var er=Hn.xCount,nr=this.w;if(nr.config.grid.xaxis.lines.show||nr.config.xaxis.axisTicks.show)for(var ir,rr=nr.globals.padHorizontal,sr=nr.globals.gridHeight,ar=0;ar<er+1;ar++)nr.config.grid.xaxis.lines.show&&this._drawGridLine({i:ar,xCount:er+1,x1:rr,y1:0,x2:ir,y2:sr,parent:this.elgridLinesV}),new Ki$1(this.ctx).drawXaxisTicks(rr,0,nr.globals.dom.elGraphical),ir=rr+=nr.globals.gridWidth/er;if(nr.config.grid.yaxis.lines.show)for(var or=0,lr=0,cr=nr.globals.gridWidth,ur=0;ur<nr.globals.dataPoints+1;ur++)this._drawGridLine({i:ur,xCount:nr.globals.dataPoints+1,x1:0,y1:or,x2:cr,y2:lr,parent:this.elgridLinesH}),lr=or+=nr.globals.gridHeight/nr.globals.dataPoints}},{key:"renderGrid",value:function(){var Hn=this.w,er=Hn.globals,nr=new Mi$1(this.ctx);this.elg=nr.group({class:"apexcharts-grid"}),this.elgridLinesH=nr.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=nr.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=nr.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),Hn.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var ir=0;ir<er.seriesYAxisMap.length&&er.ignoreYAxisIndexes.includes(ir);)ir++;ir===er.seriesYAxisMap.length&&(ir=0);var rr,sr=er.yAxisScale[ir].result.length-1;if(!er.isBarHorizontal||this.isRangeBar){var ar,or,lr;rr=this.xaxisLabels.length,this.isRangeBar&&(sr=er.labels.length,Hn.config.xaxis.tickAmount&&Hn.config.xaxis.labels.formatter&&(rr=Hn.config.xaxis.tickAmount),((ar=er.yAxisScale)===null||ar===void 0||(or=ar[ir])===null||or===void 0||(lr=or.result)===null||lr===void 0?void 0:lr.length)>0&&Hn.config.xaxis.type!=="datetime"&&(rr=er.yAxisScale[ir].result.length-1)),this._drawXYLines({xCount:rr,tickAmount:sr})}else rr=sr,sr=er.xTickAmount,this._drawInvertedXYLines({xCount:rr,tickAmount:sr});return this.drawGridBands(rr,sr),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:er.gridWidth/rr}}},{key:"drawGridBands",value:function(Hn,er){var nr,ir,rr=this,sr=this.w;if(((nr=sr.config.grid.row.colors)===null||nr===void 0?void 0:nr.length)>0&&(function(gr,yr,vr,jr,Sr,Tr){for(var Lr=0,Mr=0;Lr<yr;Lr++,Mr++)Mr>=sr.config.grid[gr].colors.length&&(Mr=0),rr._drawGridBandRect({c:Mr,x1:vr,y1:jr,x2:Sr,y2:Tr,type:gr}),jr+=sr.globals.gridHeight/er})("row",er,0,0,sr.globals.gridWidth,sr.globals.gridHeight/er),((ir=sr.config.grid.column.colors)===null||ir===void 0?void 0:ir.length)>0){var ar=sr.globals.isBarHorizontal||sr.config.xaxis.tickPlacement!=="on"||sr.config.xaxis.type!=="category"&&!sr.config.xaxis.convertedCatToNumeric?Hn:Hn-1;sr.globals.isXNumeric&&(ar=sr.globals.xAxisScale.result.length-1);for(var or=sr.globals.padHorizontal,lr=sr.globals.padHorizontal+sr.globals.gridWidth/ar,cr=sr.globals.gridHeight,ur=0,dr=0;ur<Hn;ur++,dr++){var fr;dr>=sr.config.grid.column.colors.length&&(dr=0),sr.config.xaxis.type==="datetime"&&(or=this.xaxisLabels[ur].position,lr=(((fr=this.xaxisLabels[ur+1])===null||fr===void 0?void 0:fr.position)||sr.globals.gridWidth)-this.xaxisLabels[ur].position),this._drawGridBandRect({c:dr,x1:or,y1:0,x2:lr,y2:cr,type:"column"}),or+=sr.globals.gridWidth/ar}}}}]),tr})(),ea=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.coreUtils=new Pi$1(this.ctx)}return s$1(tr,[{key:"niceScale",value:function(Hn,er){var nr,ir,rr,sr,ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,or=1e-11,lr=this.w,cr=lr.globals;cr.isBarHorizontal?(nr=lr.config.xaxis,ir=Math.max((cr.svgWidth-100)/25,2)):(nr=lr.config.yaxis[ar],ir=Math.max((cr.svgHeight-100)/15,2)),v$1.isNumber(ir)||(ir=10),rr=nr.min!==void 0&&nr.min!==null,sr=nr.max!==void 0&&nr.min!==null;var ur=nr.stepSize!==void 0&&nr.stepSize!==null,dr=nr.tickAmount!==void 0&&nr.tickAmount!==null,fr=dr?nr.tickAmount:cr.niceScaleDefaultTicks[Math.min(Math.round(ir/2),cr.niceScaleDefaultTicks.length-1)];if(cr.isMultipleYAxis&&!dr&&cr.multiAxisTickAmount>0&&(fr=cr.multiAxisTickAmount,dr=!0),fr=fr==="dataPoints"?cr.dataPoints-1:Math.abs(Math.round(fr)),(Hn===Number.MIN_VALUE&&er===0||!v$1.isNumber(Hn)&&!v$1.isNumber(er)||Hn===Number.MIN_VALUE&&er===-Number.MAX_VALUE)&&(Hn=v$1.isNumber(nr.min)?nr.min:0,er=v$1.isNumber(nr.max)?nr.max:Hn+fr,cr.allSeriesCollapsed=!1),Hn>er){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var gr=er;er=Hn,Hn=gr}else Hn===er&&(Hn=Hn===0?0:Hn-1,er=er===0?2:er+1);var yr=[];fr<1&&(fr=1);var vr=fr,jr=Math.abs(er-Hn);!rr&&Hn>0&&Hn/jr<.15&&(Hn=0,rr=!0),!sr&&er<0&&-er/jr<.15&&(er=0,sr=!0);var Sr=(jr=Math.abs(er-Hn))/vr,Tr=Sr,Lr=Math.floor(Math.log10(Tr)),Mr=Math.pow(10,Lr),Nr=Math.ceil(Tr/Mr);if(Sr=Tr=(Nr=cr.niceScaleAllowedMagMsd[cr.yValueDecimal===0?0:1][Nr])*Mr,cr.isBarHorizontal&&nr.stepSize&&nr.type!=="datetime"?(Sr=nr.stepSize,ur=!0):ur&&(Sr=nr.stepSize),ur&&nr.forceNiceScale){var Or=Math.floor(Math.log10(Sr));Sr*=Math.pow(10,Lr-Or)}if(rr&&sr){var Fr=jr/vr;if(dr)if(ur)if(v$1.mod(jr,Sr)!=0){var Gr=v$1.getGCD(Sr,Fr);Sr=Fr/Gr<10?Gr:Fr}else v$1.mod(Sr,Fr)==0?Sr=Fr:(Fr=Sr,dr=!1);else Sr=Fr;else if(ur)v$1.mod(jr,Sr)==0?Fr=Sr:Sr=Fr;else if(v$1.mod(jr,Sr)==0)Fr=Sr;else{Fr=jr/(vr=Math.ceil(jr/Sr));var qr=v$1.getGCD(jr,Sr);jr/qr<ir&&(Fr=qr),Sr=Fr}vr=Math.round(jr/Sr)}else{if(rr||sr){if(sr)if(dr)Hn=er-Sr*vr;else{var Hr=Hn;Hn=Sr*Math.floor(Hn/Sr),Math.abs(er-Hn)/v$1.getGCD(jr,Sr)>ir&&(Hn=er-Sr*fr,Hn+=Sr*Math.floor((Hr-Hn)/Sr))}else if(rr)if(dr)er=Hn+Sr*vr;else{var Yr=er;er=Sr*Math.ceil(er/Sr),Math.abs(er-Hn)/v$1.getGCD(jr,Sr)>ir&&(er=Hn+Sr*fr,er+=Sr*Math.ceil((Yr-er)/Sr))}}else if(cr.isMultipleYAxis&&dr){var ro=Sr*Math.floor(Hn/Sr),io=ro+Sr*vr;io<er&&(Sr*=2),io=er,er=(Hn=ro)+Sr*vr,jr=Math.abs(er-Hn),Hn>0&&Hn<Math.abs(io-er)&&(Hn=0,er=Sr*vr),er<0&&-er<Math.abs(ro-Hn)&&(er=0,Hn=-Sr*vr)}else Hn=Sr*Math.floor(Hn/Sr),er=Sr*Math.ceil(er/Sr);jr=Math.abs(er-Hn),Sr=v$1.getGCD(jr,Sr),vr=Math.round(jr/Sr)}if(dr||rr||sr||(vr=Math.ceil((jr-or)/(Sr+or)))>16&&v$1.getPrimeFactors(vr).length<2&&vr++,!dr&&nr.forceNiceScale&&cr.yValueDecimal===0&&vr>jr&&(vr=jr,Sr=Math.round(jr/vr)),vr>ir&&(!dr&&!ur||nr.forceNiceScale)){var fo=v$1.getPrimeFactors(vr),ao=fo.length-1,Jr=vr;e:for(var uo=0;uo<ao;uo++)for(var oo=0;oo<=ao-uo;oo++){for(var co=Math.min(oo+uo,ao),no=Jr,mo=1,Eo=oo;Eo<=co;Eo++)mo*=fo[Eo];if((no/=mo)<ir){Jr=no;break e}}Sr=Jr===vr?jr:jr/Jr,vr=Math.round(jr/Sr)}cr.isMultipleYAxis&&cr.multiAxisTickAmount==0&&cr.ignoreYAxisIndexes.indexOf(ar)<0&&(cr.multiAxisTickAmount=vr);var bo=Hn-Sr,Po=Sr*or;do bo+=Sr,yr.push(v$1.stripNumber(bo,7));while(er-bo>Po);return{result:yr,niceMin:yr[0],niceMax:yr[yr.length-1]}}},{key:"linearScale",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,sr=Math.abs(er-Hn),ar=[];if(Hn===er)return{result:ar=[Hn],niceMin:ar[0],niceMax:ar[ar.length-1]};(nr=this._adjustTicksForSmallRange(nr,ir,sr))==="dataPoints"&&(nr=this.w.globals.dataPoints-1),rr||(rr=sr/nr),rr=Math.round(100*(rr+Number.EPSILON))/100,nr===Number.MAX_VALUE&&(nr=5,rr=1);for(var or=Hn;nr>=0;)ar.push(or),or=v$1.preciseAddition(or,rr),nr-=1;return{result:ar,niceMin:ar[0],niceMax:ar[ar.length-1]}}},{key:"logarithmicScaleNice",value:function(Hn,er,nr){er<=0&&(er=Math.max(Hn,nr)),Hn<=0&&(Hn=Math.min(er,nr));for(var ir=[],rr=Math.ceil(Math.log(er)/Math.log(nr)+1),sr=Math.floor(Math.log(Hn)/Math.log(nr));sr<rr;sr++)ir.push(Math.pow(nr,sr));return{result:ir,niceMin:ir[0],niceMax:ir[ir.length-1]}}},{key:"logarithmicScale",value:function(Hn,er,nr){er<=0&&(er=Math.max(Hn,nr)),Hn<=0&&(Hn=Math.min(er,nr));for(var ir=[],rr=Math.log(er)/Math.log(nr),sr=Math.log(Hn)/Math.log(nr),ar=rr-sr,or=Math.round(ar),lr=ar/or,cr=0,ur=sr;cr<or;cr++,ur+=lr)ir.push(Math.pow(nr,ur));return ir.push(Math.pow(nr,rr)),{result:ir,niceMin:Hn,niceMax:er}}},{key:"_adjustTicksForSmallRange",value:function(Hn,er,nr){var ir=Hn;if(er!==void 0&&this.w.config.yaxis[er].labels.formatter&&this.w.config.yaxis[er].tickAmount===void 0){var rr=Number(this.w.config.yaxis[er].labels.formatter(1));v$1.isNumber(rr)&&this.w.globals.yValueDecimal===0&&(ir=Math.ceil(nr))}return ir<Hn?ir:Hn}},{key:"setYScaleForIndex",value:function(Hn,er,nr){var ir=this.w.globals,rr=this.w.config,sr=ir.isBarHorizontal?rr.xaxis:rr.yaxis[Hn];ir.yAxisScale[Hn]===void 0&&(ir.yAxisScale[Hn]=[]);var ar=Math.abs(nr-er);sr.logarithmic&&ar<=5&&(ir.invalidLogScale=!0),sr.logarithmic&&ar>5?(ir.allSeriesCollapsed=!1,ir.yAxisScale[Hn]=sr.forceNiceScale?this.logarithmicScaleNice(er,nr,sr.logBase):this.logarithmicScale(er,nr,sr.logBase)):nr!==-Number.MAX_VALUE&&v$1.isNumber(nr)&&er!==Number.MAX_VALUE&&v$1.isNumber(er)?(ir.allSeriesCollapsed=!1,ir.yAxisScale[Hn]=this.niceScale(er,nr,Hn)):ir.yAxisScale[Hn]=this.niceScale(Number.MIN_VALUE,0,Hn)}},{key:"setXScale",value:function(Hn,er){var nr=this.w,ir=nr.globals;if(er!==-Number.MAX_VALUE&&v$1.isNumber(er)){var rr=ir.xTickAmount;ir.xAxisScale=this.linearScale(Hn,er,rr,0,nr.config.xaxis.max===void 0?nr.config.xaxis.stepSize:void 0)}else ir.xAxisScale=this.linearScale(0,10,10);return ir.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var Hn=this,er=this.w.config,nr=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var ir=nr.seriesYAxisMap,rr=nr.minYArr,sr=nr.maxYArr;nr.allSeriesCollapsed=!0,nr.barGroups=[],ir.forEach((function(ar,or){var lr=[];ar.forEach((function(cr){var ur,dr=(ur=er.series[cr])===null||ur===void 0?void 0:ur.group;lr.indexOf(dr)<0&&lr.push(dr)})),ar.length>0?(function(){var cr,ur,dr=Number.MAX_VALUE,fr=-Number.MAX_VALUE,gr=dr,yr=fr;if(er.chart.stacked)(function(){var Sr=new Array(nr.dataPoints).fill(0),Tr=[],Lr=[],Mr=[];lr.forEach((function(){Tr.push(Sr.map((function(){return Number.MIN_VALUE}))),Lr.push(Sr.map((function(){return Number.MIN_VALUE}))),Mr.push(Sr.map((function(){return Number.MIN_VALUE})))}));for(var Nr=function(Fr){!cr&&er.series[ar[Fr]].type&&(cr=er.series[ar[Fr]].type);var Gr=ar[Fr];ur=er.series[Gr].group?er.series[Gr].group:"axis-".concat(or),!(nr.collapsedSeriesIndices.indexOf(Gr)<0&&nr.ancillaryCollapsedSeriesIndices.indexOf(Gr)<0)||(nr.allSeriesCollapsed=!1,lr.forEach((function(qr,Hr){if(er.series[Gr].group===qr)for(var Yr=0;Yr<nr.series[Gr].length;Yr++){var ro=nr.series[Gr][Yr];ro>=0?Lr[Hr][Yr]+=ro:Mr[Hr][Yr]+=ro,Tr[Hr][Yr]+=ro,gr=Math.min(gr,ro),yr=Math.max(yr,ro)}}))),cr!=="bar"&&cr!=="column"||nr.barGroups.push(ur)},Or=0;Or<ar.length;Or++)Nr(Or);cr||(cr=er.chart.type),cr==="bar"||cr==="column"?lr.forEach((function(Fr,Gr){dr=Math.min(dr,Math.min.apply(null,Mr[Gr])),fr=Math.max(fr,Math.max.apply(null,Lr[Gr]))})):(lr.forEach((function(Fr,Gr){gr=Math.min(gr,Math.min.apply(null,Tr[Gr])),yr=Math.max(yr,Math.max.apply(null,Tr[Gr]))})),dr=gr,fr=yr),dr===Number.MIN_VALUE&&fr===Number.MIN_VALUE&&(fr=-Number.MAX_VALUE)})();else for(var vr=0;vr<ar.length;vr++){var jr=ar[vr];dr=Math.min(dr,rr[jr]),fr=Math.max(fr,sr[jr]),!(nr.collapsedSeriesIndices.indexOf(jr)<0&&nr.ancillaryCollapsedSeriesIndices.indexOf(jr)<0)||(nr.allSeriesCollapsed=!1)}er.yaxis[or].min!==void 0&&(dr=typeof er.yaxis[or].min=="function"?er.yaxis[or].min(dr):er.yaxis[or].min),er.yaxis[or].max!==void 0&&(fr=typeof er.yaxis[or].max=="function"?er.yaxis[or].max(fr):er.yaxis[or].max),nr.barGroups=nr.barGroups.filter((function(Sr,Tr,Lr){return Lr.indexOf(Sr)===Tr})),Hn.setYScaleForIndex(or,dr,fr),ar.forEach((function(Sr){rr[Sr]=nr.yAxisScale[or].niceMin,sr[Sr]=nr.yAxisScale[or].niceMax}))})():Hn.setYScaleForIndex(or,0,-Number.MAX_VALUE)}))}}]),tr})(),ia=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.scales=new ea(Hn)}return s$1(tr,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,rr=this.w.config,sr=this.w.globals,ar=-Number.MAX_VALUE,or=Number.MIN_VALUE;ir===null&&(ir=Hn+1);var lr=sr.series,cr=lr,ur=lr;rr.chart.type==="candlestick"?(cr=sr.seriesCandleL,ur=sr.seriesCandleH):rr.chart.type==="boxPlot"?(cr=sr.seriesCandleO,ur=sr.seriesCandleC):sr.isRangeData&&(cr=sr.seriesRangeStart,ur=sr.seriesRangeEnd);var dr=!1;if(sr.seriesX.length>=ir){var fr,gr=(fr=sr.brushSource)===null||fr===void 0?void 0:fr.w.config.chart.brush;(rr.chart.zoom.enabled&&rr.chart.zoom.autoScaleYaxis||gr!=null&&gr.enabled&&gr!=null&&gr.autoScaleYaxis)&&(dr=!0)}for(var yr=Hn;yr<ir;yr++){sr.dataPoints=Math.max(sr.dataPoints,lr[yr].length);var vr=rr.series[yr].type;sr.categoryLabels.length&&(sr.dataPoints=sr.categoryLabels.filter((function(Gr){return Gr!==void 0})).length),sr.labels.length&&rr.xaxis.type!=="datetime"&&sr.series.reduce((function(Gr,qr){return Gr+qr.length}),0)!==0&&(sr.dataPoints=Math.max(sr.dataPoints,sr.labels.length));var jr=0,Sr=lr[yr].length-1;if(dr){if(rr.xaxis.min)for(;jr<Sr&&sr.seriesX[yr][jr]<rr.xaxis.min;jr++);if(rr.xaxis.max)for(;Sr>jr&&sr.seriesX[yr][Sr]>rr.xaxis.max;Sr--);}for(var Tr=jr;Tr<=Sr&&Tr<sr.series[yr].length;Tr++){var Lr=lr[yr][Tr];if(Lr!==null&&v$1.isNumber(Lr)){var Mr,Nr,Or,Fr;switch(((Mr=ur[yr])===null||Mr===void 0?void 0:Mr[Tr])!==void 0&&(ar=Math.max(ar,ur[yr][Tr]),er=Math.min(er,ur[yr][Tr])),((Nr=cr[yr])===null||Nr===void 0?void 0:Nr[Tr])!==void 0&&(er=Math.min(er,cr[yr][Tr]),nr=Math.max(nr,cr[yr][Tr])),vr){case"candlestick":sr.seriesCandleC[yr][Tr]!==void 0&&(ar=Math.max(ar,sr.seriesCandleH[yr][Tr]),er=Math.min(er,sr.seriesCandleL[yr][Tr]));break;case"boxPlot":sr.seriesCandleC[yr][Tr]!==void 0&&(ar=Math.max(ar,sr.seriesCandleC[yr][Tr]),er=Math.min(er,sr.seriesCandleO[yr][Tr]))}vr&&vr!=="candlestick"&&vr!=="boxPlot"&&vr!=="rangeArea"&&vr!=="rangeBar"&&(ar=Math.max(ar,sr.series[yr][Tr]),er=Math.min(er,sr.series[yr][Tr])),sr.seriesGoals[yr]&&sr.seriesGoals[yr][Tr]&&Array.isArray(sr.seriesGoals[yr][Tr])&&sr.seriesGoals[yr][Tr].forEach((function(Gr){ar=Math.max(ar,Gr.value),er=Math.min(er,Gr.value)})),nr=ar,Lr=v$1.noExponents(Lr),v$1.isFloat(Lr)&&(sr.yValueDecimal=Math.max(sr.yValueDecimal,Lr.toString().split(".")[1].length)),or>((Or=cr[yr])===null||Or===void 0?void 0:Or[Tr])&&((Fr=cr[yr])===null||Fr===void 0?void 0:Fr[Tr])<0&&(or=cr[yr][Tr])}else sr.hasNullValues=!0}vr!=="bar"&&vr!=="column"||(or<0&&ar<0&&(ar=0,nr=Math.max(nr,0)),or===Number.MIN_VALUE&&(or=0,er=Math.min(er,0)))}return rr.chart.type==="rangeBar"&&sr.seriesRangeStart.length&&sr.isBarHorizontal&&(or=er),rr.chart.type==="bar"&&(or<0&&ar<0&&(ar=0),or===Number.MIN_VALUE&&(or=0)),{minY:or,maxY:ar,lowestY:er,highestY:nr}}},{key:"setYRange",value:function(){var Hn=this.w.globals,er=this.w.config;Hn.maxY=-Number.MAX_VALUE,Hn.minY=Number.MIN_VALUE;var nr,ir=Number.MAX_VALUE;if(Hn.isMultipleYAxis){ir=Number.MAX_VALUE;for(var rr=0;rr<Hn.series.length;rr++)nr=this.getMinYMaxY(rr),Hn.minYArr[rr]=nr.lowestY,Hn.maxYArr[rr]=nr.highestY,ir=Math.min(ir,nr.lowestY)}return nr=this.getMinYMaxY(0,ir,null,Hn.series.length),er.chart.type==="bar"?(Hn.minY=nr.minY,Hn.maxY=nr.maxY):(Hn.minY=nr.lowestY,Hn.maxY=nr.highestY),ir=nr.lowestY,er.chart.stacked&&this._setStackedMinMax(),er.chart.type==="line"||er.chart.type==="area"||er.chart.type==="scatter"||er.chart.type==="candlestick"||er.chart.type==="boxPlot"||er.chart.type==="rangeBar"&&!Hn.isBarHorizontal?Hn.minY===Number.MIN_VALUE&&ir!==-Number.MAX_VALUE&&ir!==Hn.maxY&&(Hn.minY=ir):Hn.minY=Hn.minY!==Number.MIN_VALUE?Math.min(nr.minY,Hn.minY):nr.minY,er.yaxis.forEach((function(sr,ar){sr.max!==void 0&&(typeof sr.max=="number"?Hn.maxYArr[ar]=sr.max:typeof sr.max=="function"&&(Hn.maxYArr[ar]=sr.max(Hn.isMultipleYAxis?Hn.maxYArr[ar]:Hn.maxY)),Hn.maxY=Hn.maxYArr[ar]),sr.min!==void 0&&(typeof sr.min=="number"?Hn.minYArr[ar]=sr.min:typeof sr.min=="function"&&(Hn.minYArr[ar]=sr.min(Hn.isMultipleYAxis?Hn.minYArr[ar]===Number.MIN_VALUE?0:Hn.minYArr[ar]:Hn.minY)),Hn.minY=Hn.minYArr[ar])})),Hn.isBarHorizontal&&["min","max"].forEach((function(sr){er.xaxis[sr]!==void 0&&typeof er.xaxis[sr]=="number"&&(sr==="min"?Hn.minY=er.xaxis[sr]:Hn.maxY=er.xaxis[sr])})),Hn.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),Hn.minY=ir):(this.scales.setYScaleForIndex(0,Hn.minY,Hn.maxY),Hn.minY=Hn.yAxisScale[0].niceMin,Hn.maxY=Hn.yAxisScale[0].niceMax,Hn.minYArr[0]=Hn.minY,Hn.maxYArr[0]=Hn.maxY),Hn.barGroups=[],Hn.lineGroups=[],Hn.areaGroups=[],er.series.forEach((function(sr){switch(sr.type||er.chart.type){case"bar":case"column":Hn.barGroups.push(sr.group);break;case"line":Hn.lineGroups.push(sr.group);break;case"area":Hn.areaGroups.push(sr.group)}})),Hn.barGroups=Hn.barGroups.filter((function(sr,ar,or){return or.indexOf(sr)===ar})),Hn.lineGroups=Hn.lineGroups.filter((function(sr,ar,or){return or.indexOf(sr)===ar})),Hn.areaGroups=Hn.areaGroups.filter((function(sr,ar,or){return or.indexOf(sr)===ar})),{minY:Hn.minY,maxY:Hn.maxY,minYArr:Hn.minYArr,maxYArr:Hn.maxYArr,yAxisScale:Hn.yAxisScale}}},{key:"setXRange",value:function(){var Hn=this.w.globals,er=this.w.config,nr=er.xaxis.type==="numeric"||er.xaxis.type==="datetime"||er.xaxis.type==="category"&&!Hn.noLabelsProvided||Hn.noLabelsProvided||Hn.isXNumeric;if(Hn.isXNumeric&&(function(){for(var or=0;or<Hn.series.length;or++)if(Hn.labels[or])for(var lr=0;lr<Hn.labels[or].length;lr++)Hn.labels[or][lr]!==null&&v$1.isNumber(Hn.labels[or][lr])&&(Hn.maxX=Math.max(Hn.maxX,Hn.labels[or][lr]),Hn.initialMaxX=Math.max(Hn.maxX,Hn.labels[or][lr]),Hn.minX=Math.min(Hn.minX,Hn.labels[or][lr]),Hn.initialMinX=Math.min(Hn.minX,Hn.labels[or][lr]))})(),Hn.noLabelsProvided&&er.xaxis.categories.length===0&&(Hn.maxX=Hn.labels[Hn.labels.length-1],Hn.initialMaxX=Hn.labels[Hn.labels.length-1],Hn.minX=1,Hn.initialMinX=1),Hn.isXNumeric||Hn.noLabelsProvided||Hn.dataFormatXNumeric){var ir=10;if(er.xaxis.tickAmount===void 0)ir=Math.round(Hn.svgWidth/150),er.xaxis.type==="numeric"&&Hn.dataPoints<30&&(ir=Hn.dataPoints-1),ir>Hn.dataPoints&&Hn.dataPoints!==0&&(ir=Hn.dataPoints-1);else if(er.xaxis.tickAmount==="dataPoints"){if(Hn.series.length>1&&(ir=Hn.series[Hn.maxValsInArrayIndex].length-1),Hn.isXNumeric){var rr=Math.round(Hn.maxX-Hn.minX);rr<30&&(ir=rr)}}else ir=er.xaxis.tickAmount;if(Hn.xTickAmount=ir,er.xaxis.max!==void 0&&typeof er.xaxis.max=="number"&&(Hn.maxX=er.xaxis.max),er.xaxis.min!==void 0&&typeof er.xaxis.min=="number"&&(Hn.minX=er.xaxis.min),er.xaxis.range!==void 0&&(Hn.minX=Hn.maxX-er.xaxis.range),Hn.minX!==Number.MAX_VALUE&&Hn.maxX!==-Number.MAX_VALUE)if(er.xaxis.convertedCatToNumeric&&!Hn.dataFormatXNumeric){for(var sr=[],ar=Hn.minX-1;ar<Hn.maxX;ar++)sr.push(ar+1);Hn.xAxisScale={result:sr,niceMin:sr[0],niceMax:sr[sr.length-1]}}else Hn.xAxisScale=this.scales.setXScale(Hn.minX,Hn.maxX);else Hn.xAxisScale=this.scales.linearScale(0,ir,ir,0,er.xaxis.stepSize),Hn.noLabelsProvided&&Hn.labels.length>0&&(Hn.xAxisScale=this.scales.linearScale(1,Hn.labels.length,ir-1,0,er.xaxis.stepSize),Hn.seriesX=Hn.labels.slice());nr&&(Hn.labels=Hn.xAxisScale.result.slice())}return Hn.isBarHorizontal&&Hn.labels.length&&(Hn.xTickAmount=Hn.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:Hn.minX,maxX:Hn.maxX}}},{key:"setZRange",value:function(){var Hn=this.w.globals;if(Hn.isDataXYZ){for(var er=0;er<Hn.series.length;er++)if(Hn.seriesZ[er]!==void 0)for(var nr=0;nr<Hn.seriesZ[er].length;nr++)Hn.seriesZ[er][nr]!==null&&v$1.isNumber(Hn.seriesZ[er][nr])&&(Hn.maxZ=Math.max(Hn.maxZ,Hn.seriesZ[er][nr]),Hn.minZ=Math.min(Hn.minZ,Hn.seriesZ[er][nr]))}}},{key:"_handleSingleDataPoint",value:function(){var Hn=this.w.globals,er=this.w.config;if(Hn.minX===Hn.maxX){var nr=new zi$1(this.ctx);if(er.xaxis.type==="datetime"){var ir=nr.getDate(Hn.minX);er.xaxis.labels.datetimeUTC?ir.setUTCDate(ir.getUTCDate()-2):ir.setDate(ir.getDate()-2),Hn.minX=new Date(ir).getTime();var rr=nr.getDate(Hn.maxX);er.xaxis.labels.datetimeUTC?rr.setUTCDate(rr.getUTCDate()+2):rr.setDate(rr.getDate()+2),Hn.maxX=new Date(rr).getTime()}else(er.xaxis.type==="numeric"||er.xaxis.type==="category"&&!Hn.noLabelsProvided)&&(Hn.minX=Hn.minX-2,Hn.initialMinX=Hn.minX,Hn.maxX=Hn.maxX+2,Hn.initialMaxX=Hn.maxX)}}},{key:"_getMinXDiff",value:function(){var Hn=this.w.globals;Hn.isXNumeric&&Hn.seriesX.forEach((function(er,nr){if(er.length){er.length===1&&er.push(Hn.seriesX[Hn.maxValsInArrayIndex][Hn.seriesX[Hn.maxValsInArrayIndex].length-1]);var ir=er.slice();ir.sort((function(rr,sr){return rr-sr})),ir.forEach((function(rr,sr){if(sr>0){var ar=rr-ir[sr-1];ar>0&&(Hn.minXDiff=Math.min(ar,Hn.minXDiff))}})),Hn.dataPoints!==1&&Hn.minXDiff!==Number.MAX_VALUE||(Hn.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var Hn=this,er=this.w.globals;if(er.series.length){var nr=er.seriesGroups;nr.length||(nr=[this.w.globals.seriesNames.map((function(sr){return sr}))]);var ir={},rr={};nr.forEach((function(sr){ir[sr]=[],rr[sr]=[],Hn.w.config.series.map((function(ar,or){return sr.indexOf(er.seriesNames[or])>-1?or:null})).filter((function(ar){return ar!==null})).forEach((function(ar){for(var or=0;or<er.series[er.maxValsInArrayIndex].length;or++){var lr,cr,ur,dr;ir[sr][or]===void 0&&(ir[sr][or]=0,rr[sr][or]=0),(Hn.w.config.chart.stacked&&!er.comboCharts||Hn.w.config.chart.stacked&&er.comboCharts&&(!Hn.w.config.chart.stackOnlyBar||((lr=Hn.w.config.series)===null||lr===void 0||(cr=lr[ar])===null||cr===void 0?void 0:cr.type)==="bar"||((ur=Hn.w.config.series)===null||ur===void 0||(dr=ur[ar])===null||dr===void 0?void 0:dr.type)==="column"))&&er.series[ar][or]!==null&&v$1.isNumber(er.series[ar][or])&&(er.series[ar][or]>0?ir[sr][or]+=parseFloat(er.series[ar][or])+1e-4:rr[sr][or]+=parseFloat(er.series[ar][or]))}}))})),Object.entries(ir).forEach((function(sr){var ar=p$2(sr,1)[0];ir[ar].forEach((function(or,lr){er.maxY=Math.max(er.maxY,ir[ar][lr]),er.minY=Math.min(er.minY,rr[ar][lr])}))}))}}}]),tr})(),aa=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.elgrid=er,this.w=Hn.w;var nr=this.w;this.xaxisFontSize=nr.config.xaxis.labels.style.fontSize,this.axisFontFamily=nr.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=nr.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=nr.config.chart.type==="bar"&&nr.config.plotOptions.bar.horizontal,this.xAxisoffX=nr.config.xaxis.position==="bottom"?nr.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ri$1(Hn)}return s$1(tr,[{key:"drawYaxis",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=er.config.yaxis[Hn].labels.style,rr=ir.fontSize,sr=ir.fontFamily,ar=ir.fontWeight,or=nr.group({class:"apexcharts-yaxis",rel:Hn,transform:"translate(".concat(er.globals.translateYAxisX[Hn],", 0)")});if(this.axesUtils.isYAxisHidden(Hn))return or;var lr=nr.group({class:"apexcharts-yaxis-texts-g"});or.add(lr);var cr=er.globals.yAxisScale[Hn].result.length-1,ur=er.globals.gridHeight/cr,dr=er.globals.yLabelFormatters[Hn],fr=this.axesUtils.checkForReversedLabels(Hn,er.globals.yAxisScale[Hn].result.slice());if(er.config.yaxis[Hn].labels.show){var gr=er.globals.translateY+er.config.yaxis[Hn].labels.offsetY;er.globals.isBarHorizontal?gr=0:er.config.chart.type==="heatmap"&&(gr-=ur/2),gr+=parseInt(rr,10)/3;for(var yr=cr;yr>=0;yr--){var vr=dr(fr[yr],yr,er),jr=er.config.yaxis[Hn].labels.padding;er.config.yaxis[Hn].opposite&&er.config.yaxis.length!==0&&(jr*=-1);var Sr=this.getTextAnchor(er.config.yaxis[Hn].labels.align,er.config.yaxis[Hn].opposite),Tr=this.axesUtils.getYAxisForeColor(ir.colors,Hn),Lr=Array.isArray(Tr)?Tr[yr]:Tr,Mr=v$1.listToArray(er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(Hn,"'] .apexcharts-yaxis-label tspan"))).map((function(Or){return Or.textContent})),Nr=nr.drawText({x:jr,y:gr,text:Mr.includes(vr)&&!er.config.yaxis[Hn].labels.showDuplicates?"":vr,textAnchor:Sr,fontSize:rr,fontFamily:sr,fontWeight:ar,maxWidth:er.config.yaxis[Hn].labels.maxWidth,foreColor:Lr,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(ir.cssClass)});lr.add(Nr),this.addTooltip(Nr,vr),er.config.yaxis[Hn].labels.rotate!==0&&this.rotateLabel(nr,Nr,firstLabel,er.config.yaxis[Hn].labels.rotate),gr+=ur}}return this.addYAxisTitle(nr,or,Hn),this.addAxisBorder(nr,or,Hn,cr,ur),or}},{key:"getTextAnchor",value:function(Hn,er){return Hn==="left"?"start":Hn==="center"?"middle":Hn==="right"?"end":er?"start":"end"}},{key:"addTooltip",value:function(Hn,er){var nr=document.createElementNS(this.w.globals.SVGNS,"title");nr.textContent=Array.isArray(er)?er.join(" "):er,Hn.node.appendChild(nr)}},{key:"rotateLabel",value:function(Hn,er,nr,ir){var rr=Hn.rotateAroundCenter(nr.node),sr=Hn.rotateAroundCenter(er.node);er.node.setAttribute("transform","rotate(".concat(ir," ").concat(rr.x," ").concat(sr.y,")"))}},{key:"addYAxisTitle",value:function(Hn,er,nr){var ir=this.w;if(ir.config.yaxis[nr].title.text!==void 0){var rr=Hn.group({class:"apexcharts-yaxis-title"}),sr=ir.config.yaxis[nr].opposite?ir.globals.translateYAxisX[nr]:0,ar=Hn.drawText({x:sr,y:ir.globals.gridHeight/2+ir.globals.translateY+ir.config.yaxis[nr].title.offsetY,text:ir.config.yaxis[nr].title.text,textAnchor:"end",foreColor:ir.config.yaxis[nr].title.style.color,fontSize:ir.config.yaxis[nr].title.style.fontSize,fontWeight:ir.config.yaxis[nr].title.style.fontWeight,fontFamily:ir.config.yaxis[nr].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(ir.config.yaxis[nr].title.style.cssClass)});rr.add(ar),er.add(rr)}}},{key:"addAxisBorder",value:function(Hn,er,nr,ir,rr){var sr=this.w,ar=sr.config.yaxis[nr].axisBorder,or=31+ar.offsetX;if(sr.config.yaxis[nr].opposite&&(or=-31-ar.offsetX),ar.show){var lr=Hn.drawLine(or,sr.globals.translateY+ar.offsetY-2,or,sr.globals.gridHeight+sr.globals.translateY+ar.offsetY+2,ar.color,0,ar.width);er.add(lr)}sr.config.yaxis[nr].axisTicks.show&&this.axesUtils.drawYAxisTicks(or,ir,ar,sr.config.yaxis[nr].axisTicks,nr,rr,er)}},{key:"drawYaxisInversed",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=nr.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),rr=nr.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(er.globals.translateXAxisX,", ").concat(er.globals.translateXAxisY,")")});ir.add(rr);var sr=er.globals.yAxisScale[Hn].result.length-1,ar=er.globals.gridWidth/sr+.1,or=ar+er.config.xaxis.labels.offsetX,lr=er.globals.xLabelFormatter,cr=this.axesUtils.checkForReversedLabels(Hn,er.globals.yAxisScale[Hn].result.slice()),ur=er.globals.timescaleLabels;if(ur.length>0&&(this.xaxisLabels=ur.slice(),sr=(cr=ur.slice()).length),er.config.xaxis.labels.show)for(var dr=ur.length?0:sr;ur.length?dr<ur.length:dr>=0;ur.length?dr++:dr--){var fr=lr(cr[dr],dr,er),gr=er.globals.gridWidth+er.globals.padHorizontal-(or-ar+er.config.xaxis.labels.offsetX);if(ur.length){var yr=this.axesUtils.getLabel(cr,ur,gr,dr,this.drawnLabels,this.xaxisFontSize);gr=yr.x,fr=yr.text,this.drawnLabels.push(yr.text),dr===0&&er.globals.skipFirstTimelinelabel&&(fr=""),dr===cr.length-1&&er.globals.skipLastTimelinelabel&&(fr="")}var vr=nr.drawText({x:gr,y:this.xAxisoffX+er.config.xaxis.labels.offsetY+30-(er.config.xaxis.position==="top"?er.globals.xAxisHeight+er.config.xaxis.axisTicks.height-2:0),text:fr,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[Hn]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:er.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(er.config.xaxis.labels.style.cssClass)});rr.add(vr),vr.tspan(fr),this.addTooltip(vr,fr),or+=ar}return this.inversedYAxisTitleText(ir),this.inversedYAxisBorder(ir),ir}},{key:"inversedYAxisBorder",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=er.config.xaxis.axisBorder;if(ir.show){var rr=0;er.config.chart.type==="bar"&&er.globals.isXNumeric&&(rr-=15);var sr=nr.drawLine(er.globals.padHorizontal+rr+ir.offsetX,this.xAxisoffX,er.globals.gridWidth,this.xAxisoffX,ir.color,0,ir.height);this.elgrid&&this.elgrid.elGridBorders&&er.config.grid.show?this.elgrid.elGridBorders.add(sr):Hn.add(sr)}}},{key:"inversedYAxisTitleText",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx);if(er.config.xaxis.title.text!==void 0){var ir=nr.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),rr=nr.drawText({x:er.globals.gridWidth/2+er.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(er.config.xaxis.title.style.fontSize)+er.config.xaxis.title.offsetY+20,text:er.config.xaxis.title.text,textAnchor:"middle",fontSize:er.config.xaxis.title.style.fontSize,fontFamily:er.config.xaxis.title.style.fontFamily,fontWeight:er.config.xaxis.title.style.fontWeight,foreColor:er.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(er.config.xaxis.title.style.cssClass)});ir.add(rr),Hn.add(ir)}}},{key:"yAxisTitleRotate",value:function(Hn,er){var nr=this.w,ir=new Mi$1(this.ctx),rr=nr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(Hn,"'] .apexcharts-yaxis-texts-g")),sr=rr?rr.getBoundingClientRect():{width:0,height:0},ar=nr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(Hn,"'] .apexcharts-yaxis-title text")),or=ar?ar.getBoundingClientRect():{width:0,height:0};if(ar){var lr=this.xPaddingForYAxisTitle(Hn,sr,or,er);ar.setAttribute("x",lr.xPos-(er?10:0));var cr=ir.rotateAroundCenter(ar);ar.setAttribute("transform","rotate(".concat(er?-1*nr.config.yaxis[Hn].title.rotate:nr.config.yaxis[Hn].title.rotate," ").concat(cr.x," ").concat(cr.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(Hn,er,nr,ir){var rr=this.w,sr=0,ar=10;return rr.config.yaxis[Hn].title.text===void 0||Hn<0?{xPos:sr,padd:0}:(ir?sr=er.width+rr.config.yaxis[Hn].title.offsetX+nr.width/2+ar/2:(sr=-1*er.width+rr.config.yaxis[Hn].title.offsetX+ar/2+nr.width/2,rr.globals.isBarHorizontal&&(ar=25,sr=-1*er.width-rr.config.yaxis[Hn].title.offsetX-ar)),{xPos:sr,padd:ar})}},{key:"setYAxisXPosition",value:function(Hn,er){var nr=this.w,ir=0,rr=0,sr=18,ar=1;nr.config.yaxis.length>1&&(this.multipleYs=!0),nr.config.yaxis.forEach((function(or,lr){var cr=nr.globals.ignoreYAxisIndexes.includes(lr)||!or.show||or.floating||Hn[lr].width===0,ur=Hn[lr].width+er[lr].width;or.opposite?nr.globals.isBarHorizontal?(rr=nr.globals.gridWidth+nr.globals.translateX-1,nr.globals.translateYAxisX[lr]=rr-or.labels.offsetX):(rr=nr.globals.gridWidth+nr.globals.translateX+ar,cr||(ar+=ur+20),nr.globals.translateYAxisX[lr]=rr-or.labels.offsetX+20):(ir=nr.globals.translateX-sr,cr||(sr+=ur+20),nr.globals.translateYAxisX[lr]=ir+or.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var Hn=this.w;v$1.listToArray(Hn.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(er,nr){var ir=Hn.config.yaxis[nr];if(ir&&!ir.floating&&ir.labels.align!==void 0){var rr=Hn.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(nr,"'] .apexcharts-yaxis-texts-g")),sr=v$1.listToArray(Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(nr,"'] .apexcharts-yaxis-label"))),ar=rr.getBoundingClientRect();sr.forEach((function(or){or.setAttribute("text-anchor",ir.labels.align)})),ir.labels.align!=="left"||ir.opposite?ir.labels.align==="center"?rr.setAttribute("transform","translate(".concat(ar.width/2*(ir.opposite?1:-1),", 0)")):ir.labels.align==="right"&&ir.opposite&&rr.setAttribute("transform","translate(".concat(ar.width,", 0)")):rr.setAttribute("transform","translate(-".concat(ar.width,", 0)"))}}))}}]),tr})(),sa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.documentEvent=v$1.bind(this.documentEvent,this)}return s$1(tr,[{key:"addEventListener",value:function(Hn,er){var nr=this.w;nr.globals.events.hasOwnProperty(Hn)?nr.globals.events[Hn].push(er):nr.globals.events[Hn]=[er]}},{key:"removeEventListener",value:function(Hn,er){var nr=this.w;if(nr.globals.events.hasOwnProperty(Hn)){var ir=nr.globals.events[Hn].indexOf(er);ir!==-1&&nr.globals.events[Hn].splice(ir,1)}}},{key:"fireEvent",value:function(Hn,er){var nr=this.w;if(nr.globals.events.hasOwnProperty(Hn)){er&&er.length||(er=[]);for(var ir=nr.globals.events[Hn],rr=ir.length,sr=0;sr<rr;sr++)ir[sr].apply(null,er)}}},{key:"setupEventHandlers",value:function(){var Hn=this,er=this.w,nr=this.ctx,ir=er.globals.dom.baseEl.querySelector(er.globals.chartClass);this.ctx.eventList.forEach((function(rr){ir.addEventListener(rr,(function(sr){var ar=sr.target.getAttribute("i")===null&&er.globals.capturedSeriesIndex!==-1?er.globals.capturedSeriesIndex:sr.target.getAttribute("i"),or=sr.target.getAttribute("j")===null&&er.globals.capturedDataPointIndex!==-1?er.globals.capturedDataPointIndex:sr.target.getAttribute("j"),lr=Object.assign({},er,{seriesIndex:er.globals.axisCharts?ar:0,dataPointIndex:or});sr.type==="mousemove"||sr.type==="touchmove"?typeof er.config.chart.events.mouseMove=="function"&&er.config.chart.events.mouseMove(sr,nr,lr):sr.type==="mouseleave"||sr.type==="touchleave"?typeof er.config.chart.events.mouseLeave=="function"&&er.config.chart.events.mouseLeave(sr,nr,lr):(sr.type==="mouseup"&&sr.which===1||sr.type==="touchend")&&(typeof er.config.chart.events.click=="function"&&er.config.chart.events.click(sr,nr,lr),nr.ctx.events.fireEvent("click",[sr,nr,lr]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(rr){er.globals.dom.baseEl.addEventListener(rr,Hn.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(Hn){var er=this.w,nr=Hn.target.className;if(Hn.type==="click"){var ir=er.globals.dom.baseEl.querySelector(".apexcharts-menu");ir&&ir.classList.contains("apexcharts-menu-open")&&nr!=="apexcharts-menu-icon"&&ir.classList.remove("apexcharts-menu-open")}er.globals.clientX=Hn.type==="touchmove"?Hn.touches[0].clientX:Hn.clientX,er.globals.clientY=Hn.type==="touchmove"?Hn.touches[0].clientY:Hn.clientY}}]),tr})(),ra=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"setCurrentLocaleValues",value:function(Hn){var er=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(er=this.w.config.chart.locales.concat(window.Apex.chart.locales));var nr=er.filter((function(rr){return rr.name===Hn}))[0];if(!nr)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var ir=v$1.extend(Hi$1,nr);this.w.globals.locale=ir.options}}]),tr})(),na=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"drawAxis",value:function(Hn,er){var nr,ir,rr=this,sr=this.w.globals,ar=this.w.config,or=new Ki$1(this.ctx,er),lr=new aa(this.ctx,er);sr.axisCharts&&Hn!=="radar"&&(sr.isBarHorizontal?(ir=lr.drawYaxisInversed(0),nr=or.drawXaxisInversed(0),sr.dom.elGraphical.add(nr),sr.dom.elGraphical.add(ir)):(nr=or.drawXaxis(),sr.dom.elGraphical.add(nr),ar.yaxis.map((function(cr,ur){if(sr.ignoreYAxisIndexes.indexOf(ur)===-1&&(ir=lr.drawYaxis(ur),sr.dom.Paper.add(ir),rr.w.config.grid.position==="back")){var dr=sr.dom.Paper.children()[1];dr.remove(),sr.dom.Paper.add(dr)}}))))}}]),tr})(),oa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"drawXCrosshairs",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=new Li$1(this.ctx),ir=Hn.config.xaxis.crosshairs.fill.gradient,rr=Hn.config.xaxis.crosshairs.dropShadow,sr=Hn.config.xaxis.crosshairs.fill.type,ar=ir.colorFrom,or=ir.colorTo,lr=ir.opacityFrom,cr=ir.opacityTo,ur=ir.stops,dr=rr.enabled,fr=rr.left,gr=rr.top,yr=rr.blur,vr=rr.color,jr=rr.opacity,Sr=Hn.config.xaxis.crosshairs.fill.color;if(Hn.config.xaxis.crosshairs.show){sr==="gradient"&&(Sr=er.drawGradient("vertical",ar,or,lr,cr,null,ur,null));var Tr=er.drawRect();Hn.config.xaxis.crosshairs.width===1&&(Tr=er.drawLine());var Lr=Hn.globals.gridHeight;(!v$1.isNumber(Lr)||Lr<0)&&(Lr=0);var Mr=Hn.config.xaxis.crosshairs.width;(!v$1.isNumber(Mr)||Mr<0)&&(Mr=0),Tr.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:Lr,width:Mr,height:Lr,fill:Sr,filter:"none","fill-opacity":Hn.config.xaxis.crosshairs.opacity,stroke:Hn.config.xaxis.crosshairs.stroke.color,"stroke-width":Hn.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":Hn.config.xaxis.crosshairs.stroke.dashArray}),dr&&(Tr=nr.dropShadow(Tr,{left:fr,top:gr,blur:yr,color:vr,opacity:jr})),Hn.globals.dom.elGraphical.add(Tr)}}},{key:"drawYCrosshairs",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=Hn.config.yaxis[0].crosshairs,ir=Hn.globals.barPadForNumericAxis;if(Hn.config.yaxis[0].crosshairs.show){var rr=er.drawLine(-ir,0,Hn.globals.gridWidth+ir,0,nr.stroke.color,nr.stroke.dashArray,nr.stroke.width);rr.attr({class:"apexcharts-ycrosshairs"}),Hn.globals.dom.elGraphical.add(rr)}var sr=er.drawLine(-ir,0,Hn.globals.gridWidth+ir,0,nr.stroke.color,0,0);sr.attr({class:"apexcharts-ycrosshairs-hidden"}),Hn.globals.dom.elGraphical.add(sr)}}]),tr})(),la=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"checkResponsiveConfig",value:function(Hn){var er=this,nr=this.w,ir=nr.config;if(ir.responsive.length!==0){var rr=ir.responsive.slice();rr.sort((function(lr,cr){return lr.breakpoint>cr.breakpoint?1:cr.breakpoint>lr.breakpoint?-1:0})).reverse();var sr=new Wi$1({}),ar=function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cr=rr[0].breakpoint,ur=window.innerWidth>0?window.innerWidth:screen.width;if(ur>cr){var dr=v$1.clone(nr.globals.initialConfig);dr.series=v$1.clone(nr.config.series);var fr=Pi$1.extendArrayProps(sr,dr,nr);lr=v$1.extend(fr,lr),lr=v$1.extend(nr.config,lr),er.overrideResponsiveOptions(lr)}else for(var gr=0;gr<rr.length;gr++)ur<rr[gr].breakpoint&&(lr=Pi$1.extendArrayProps(sr,rr[gr].options,nr),lr=v$1.extend(nr.config,lr),er.overrideResponsiveOptions(lr))};if(Hn){var or=Pi$1.extendArrayProps(sr,Hn,nr);or=v$1.extend(nr.config,or),ar(or=v$1.extend(or,Hn))}else ar({})}}},{key:"overrideResponsiveOptions",value:function(Hn){var er=new Wi$1(Hn).init({responsiveOverride:!0});this.w.config=er}}]),tr})(),ha=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return s$1(tr,[{key:"checkHeatmapDistributed",value:function(){var Hn=this.w.config,er=Hn.chart,nr=Hn.plotOptions;return er.type==="treemap"&&nr.treemap&&nr.treemap.distributed||er.type==="heatmap"&&nr.heatmap&&nr.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var Hn=this.w.config,er=Hn.chart,nr=Hn.plotOptions;return nr.bar&&nr.bar.distributed&&(er.type==="bar"||er.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var Hn=this.w,er=new v$1;Hn.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(Hn.config.theme.mode||"light"));var nr=f$2(Hn.config.colors||Hn.config.fill.colors||[]);Hn.globals.colors=this.getColors(nr),this.applySeriesColors(Hn.globals.seriesColors,Hn.globals.colors),Hn.config.theme.monochrome.enabled&&(Hn.globals.colors=this.getMonochromeColors(Hn.config.theme.monochrome,Hn.globals.series,er));var ir=Hn.globals.colors.slice();this.pushExtraColors(Hn.globals.colors),this.applyColorTypes(["fill","stroke"],ir),this.applyDataLabelsColors(ir),this.applyRadarPolygonsColors(),this.applyMarkersColors(ir)}},{key:"getColors",value:function(Hn){var er=this,nr=this.w;return Hn&&Hn.length!==0?Array.isArray(Hn)&&Hn.length>0&&typeof Hn[0]=="function"?(this.isColorFn=!0,nr.config.series.map((function(ir,rr){var sr=Hn[rr]||Hn[0];return typeof sr=="function"?sr({value:nr.globals.axisCharts?nr.globals.series[rr][0]||0:nr.globals.series[rr],seriesIndex:rr,dataPointIndex:rr,w:er.w}):sr}))):Hn:this.predefined()}},{key:"applySeriesColors",value:function(Hn,er){Hn.forEach((function(nr,ir){nr&&(er[ir]=nr)}))}},{key:"getMonochromeColors",value:function(Hn,er,nr){var ir=Hn.color,rr=Hn.shadeIntensity,sr=Hn.shadeTo,ar=this.isBarDistributed||this.isHeatmapDistributed?er[0].length*er.length:er.length,or=1/(ar/rr),lr=0;return Array.from({length:ar},(function(){var cr=sr==="dark"?nr.shadeColor(-1*lr,ir):nr.shadeColor(lr,ir);return lr+=or,cr}))}},{key:"applyColorTypes",value:function(Hn,er){var nr=this,ir=this.w;Hn.forEach((function(rr){ir.globals[rr].colors=ir.config[rr].colors===void 0?nr.isColorFn?ir.config.colors:er:ir.config[rr].colors.slice(),nr.pushExtraColors(ir.globals[rr].colors)}))}},{key:"applyDataLabelsColors",value:function(Hn){var er=this.w;er.globals.dataLabels.style.colors=er.config.dataLabels.style.colors===void 0?Hn:er.config.dataLabels.style.colors.slice(),this.pushExtraColors(er.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var Hn=this.w;Hn.globals.radarPolygons.fill.colors=Hn.config.plotOptions.radar.polygons.fill.colors===void 0?[Hn.config.theme.mode==="dark"?"#343A3F":"none"]:Hn.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(Hn.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(Hn){var er=this.w;er.globals.markers.colors=er.config.markers.colors===void 0?Hn:er.config.markers.colors.slice(),this.pushExtraColors(er.globals.markers.colors)}},{key:"pushExtraColors",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ir=this.w,rr=er||ir.globals.series.length;if(nr===null&&(nr=this.isBarDistributed||this.isHeatmapDistributed||ir.config.chart.type==="heatmap"&&ir.config.plotOptions.heatmap&&ir.config.plotOptions.heatmap.colorScale.inverse),nr&&ir.globals.series.length&&(rr=ir.globals.series[ir.globals.maxValsInArrayIndex].length*ir.globals.series.length),Hn.length<rr)for(var sr=rr-Hn.length,ar=0;ar<sr;ar++)Hn.push(Hn[ar])}},{key:"updateThemeOptions",value:function(Hn){Hn.chart=Hn.chart||{},Hn.tooltip=Hn.tooltip||{};var er=Hn.theme.mode,nr=er==="dark"?"palette4":er==="light"?"palette1":Hn.theme.palette||"palette1",ir=er==="dark"?"#f6f7f8":er==="light"?"#373d3f":Hn.chart.foreColor||"#373d3f";return Hn.tooltip.theme=er||"light",Hn.chart.foreColor=ir,Hn.theme.palette=nr,Hn}},{key:"predefined",value:function(){var Hn=this.w.config.theme.palette,er=this.ctx.constructor.getThemePalettes();return er[Hn]||er.palette1}}]),tr})(),ca=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(Hn){var er=this.w,nr=Hn==="title"?er.config.title:er.config.subtitle,ir=er.globals.svgWidth/2,rr=nr.offsetY,sr="middle";if(nr.align==="left"?(ir=10,sr="start"):nr.align==="right"&&(ir=er.globals.svgWidth-10,sr="end"),ir+=nr.offsetX,rr=rr+parseInt(nr.style.fontSize,10)+nr.margin/2,nr.text!==void 0){var ar=new Mi$1(this.ctx).drawText({x:ir,y:rr,text:nr.text,textAnchor:sr,fontSize:nr.style.fontSize,fontFamily:nr.style.fontFamily,fontWeight:nr.style.fontWeight,foreColor:nr.style.color,opacity:1});ar.node.setAttribute("class","apexcharts-".concat(Hn,"-text")),er.globals.dom.Paper.add(ar)}}}]),tr})(),da=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.dCtx=Hn}return s$1(tr,[{key:"getTitleSubtitleCoords",value:function(Hn){var er=this.w,nr=0,ir=0,rr=Hn==="title"?er.config.title.floating:er.config.subtitle.floating,sr=er.globals.dom.baseEl.querySelector(".apexcharts-".concat(Hn,"-text"));if(sr!==null&&!rr){var ar=sr.getBoundingClientRect();nr=ar.width,ir=er.globals.axisCharts?ar.height+5:ar.height}return{width:nr,height:ir}}},{key:"getLegendsRect",value:function(){var Hn=this.w,er=Hn.globals.dom.elLegendWrap;Hn.config.legend.height||Hn.config.legend.position!=="top"&&Hn.config.legend.position!=="bottom"||(er.style.maxHeight=Hn.globals.svgHeight/2+"px");var nr=Object.assign({},v$1.getBoundingClientRect(er));return er!==null&&!Hn.config.legend.floating&&Hn.config.legend.show?this.dCtx.lgRect={x:nr.x,y:nr.y,height:nr.height,width:nr.height===0?0:nr.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},Hn.config.legend.position!=="left"&&Hn.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>Hn.globals.svgWidth&&(this.dCtx.lgRect.width=Hn.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var Hn=this,er=this.w,nr=[];er.config.series.forEach((function(or,lr){or.data.forEach((function(cr,ur){var dr;dr=er.globals.series[lr][ur],ir=er.config.dataLabels.formatter(dr,{ctx:Hn.dCtx.ctx,seriesIndex:lr,dataPointIndex:ur,w:er}),nr.push(ir)}))}));var ir=v$1.getLargestStringFromArr(nr),rr=new Mi$1(this.dCtx.ctx),sr=er.config.dataLabels.style,ar=rr.getTextRects(ir,parseInt(sr.fontSize),sr.fontFamily);return{width:1.05*ar.width,height:ar.height}}},{key:"getLargestStringFromMultiArr",value:function(Hn,er){var nr=Hn;if(this.w.globals.isMultiLineX){var ir=er.map((function(sr,ar){return Array.isArray(sr)?sr.length:1})),rr=Math.max.apply(Math,f$2(ir));nr=er[ir.indexOf(rr)]}return nr}}]),tr})(),ua=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.dCtx=Hn}return s$1(tr,[{key:"getxAxisLabelsCoords",value:function(){var Hn,er=this.w,nr=er.globals.labels.slice();if(er.config.xaxis.convertedCatToNumeric&&nr.length===0&&(nr=er.globals.categoryLabels),er.globals.timescaleLabels.length>0){var ir=this.getxAxisTimeScaleLabelsCoords();Hn={width:ir.width,height:ir.height},er.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=er.config.legend.position!=="left"&&er.config.legend.position!=="right"||er.config.legend.floating?0:this.dCtx.lgRect.width;var rr=er.globals.xLabelFormatter,sr=v$1.getLargestStringFromArr(nr),ar=this.dCtx.dimHelpers.getLargestStringFromMultiArr(sr,nr);er.globals.isBarHorizontal&&(ar=sr=er.globals.yAxisScale[0].result.reduce((function(gr,yr){return gr.length>yr.length?gr:yr}),0));var or=new Xi$1(this.dCtx.ctx),lr=sr;sr=or.xLabelFormat(rr,sr,lr,{i:void 0,dateFormatter:new zi$1(this.dCtx.ctx).formatDate,w:er}),ar=or.xLabelFormat(rr,ar,lr,{i:void 0,dateFormatter:new zi$1(this.dCtx.ctx).formatDate,w:er}),(er.config.xaxis.convertedCatToNumeric&&sr===void 0||String(sr).trim()==="")&&(ar=sr="1");var cr=new Mi$1(this.dCtx.ctx),ur=cr.getTextRects(sr,er.config.xaxis.labels.style.fontSize),dr=ur;if(sr!==ar&&(dr=cr.getTextRects(ar,er.config.xaxis.labels.style.fontSize)),(Hn={width:ur.width>=dr.width?ur.width:dr.width,height:ur.height>=dr.height?ur.height:dr.height}).width*nr.length>er.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&er.config.xaxis.labels.rotate!==0||er.config.xaxis.labels.rotateAlways){if(!er.globals.isBarHorizontal){er.globals.rotateXLabels=!0;var fr=function(gr){return cr.getTextRects(gr,er.config.xaxis.labels.style.fontSize,er.config.xaxis.labels.style.fontFamily,"rotate(".concat(er.config.xaxis.labels.rotate," 0 0)"),!1)};ur=fr(sr),sr!==ar&&(dr=fr(ar)),Hn.height=(ur.height>dr.height?ur.height:dr.height)/1.5,Hn.width=ur.width>dr.width?ur.width:dr.width}}else er.globals.rotateXLabels=!1}return er.config.xaxis.labels.show||(Hn={width:0,height:0}),{width:Hn.width,height:Hn.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var Hn,er=this.w;if(!er.globals.hasXaxisGroups)return{width:0,height:0};var nr,ir=((Hn=er.config.xaxis.group.style)===null||Hn===void 0?void 0:Hn.fontSize)||er.config.xaxis.labels.style.fontSize,rr=er.globals.groups.map((function(ur){return ur.title})),sr=v$1.getLargestStringFromArr(rr),ar=this.dCtx.dimHelpers.getLargestStringFromMultiArr(sr,rr),or=new Mi$1(this.dCtx.ctx),lr=or.getTextRects(sr,ir),cr=lr;return sr!==ar&&(cr=or.getTextRects(ar,ir)),nr={width:lr.width>=cr.width?lr.width:cr.width,height:lr.height>=cr.height?lr.height:cr.height},er.config.xaxis.labels.show||(nr={width:0,height:0}),{width:nr.width,height:nr.height}}},{key:"getxAxisTitleCoords",value:function(){var Hn=this.w,er=0,nr=0;if(Hn.config.xaxis.title.text!==void 0){var ir=new Mi$1(this.dCtx.ctx).getTextRects(Hn.config.xaxis.title.text,Hn.config.xaxis.title.style.fontSize);er=ir.width,nr=ir.height}return{width:er,height:nr}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var Hn,er=this.w;this.dCtx.timescaleLabels=er.globals.timescaleLabels.slice();var nr=this.dCtx.timescaleLabels.map((function(rr){return rr.value})),ir=nr.reduce((function(rr,sr){return rr===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):rr.length>sr.length?rr:sr}),0);return 1.05*(Hn=new Mi$1(this.dCtx.ctx).getTextRects(ir,er.config.xaxis.labels.style.fontSize)).width*nr.length>er.globals.gridWidth&&er.config.xaxis.labels.rotate!==0&&(er.globals.overlappingXLabels=!0),Hn}},{key:"additionalPaddingXLabels",value:function(Hn){var er=this,nr=this.w,ir=nr.globals,rr=nr.config,sr=rr.xaxis.type,ar=Hn.width;ir.skipLastTimelinelabel=!1,ir.skipFirstTimelinelabel=!1;var or=nr.config.yaxis[0].opposite&&nr.globals.isBarHorizontal,lr=function(cr,ur){rr.yaxis.length>1&&(function(dr){return ir.collapsedSeriesIndices.indexOf(dr)!==-1})(ur)||(function(dr){if(er.dCtx.timescaleLabels&&er.dCtx.timescaleLabels.length){var fr=er.dCtx.timescaleLabels[0],gr=er.dCtx.timescaleLabels[er.dCtx.timescaleLabels.length-1].position+ar/1.75-er.dCtx.yAxisWidthRight,yr=fr.position-ar/1.75+er.dCtx.yAxisWidthLeft,vr=nr.config.legend.position==="right"&&er.dCtx.lgRect.width>0?er.dCtx.lgRect.width:0;gr>ir.svgWidth-ir.translateX-vr&&(ir.skipLastTimelinelabel=!0),yr<-(dr.show&&!dr.floating||rr.chart.type!=="bar"&&rr.chart.type!=="candlestick"&&rr.chart.type!=="rangeBar"&&rr.chart.type!=="boxPlot"?10:ar/1.75)&&(ir.skipFirstTimelinelabel=!0)}else sr==="datetime"?er.dCtx.gridPad.right<ar&&!ir.rotateXLabels&&(ir.skipLastTimelinelabel=!0):sr!=="datetime"&&er.dCtx.gridPad.right<ar/2-er.dCtx.yAxisWidthRight&&!ir.rotateXLabels&&!nr.config.xaxis.labels.trim&&(er.dCtx.xPadRight=ar/2+1)})(cr)};rr.yaxis.forEach((function(cr,ur){or?(er.dCtx.gridPad.left<ar&&(er.dCtx.xPadLeft=ar/2+1),er.dCtx.xPadRight=ar/2+1):lr(cr,ur)}))}}]),tr})(),ga=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.dCtx=Hn}return s$1(tr,[{key:"getyAxisLabelsCoords",value:function(){var Hn=this,er=this.w,nr=[],ir=10,rr=new Ri$1(this.dCtx.ctx);return er.config.yaxis.map((function(sr,ar){var or={seriesIndex:ar,dataPointIndex:-1,w:er},lr=er.globals.yAxisScale[ar],cr=0;if(!rr.isYAxisHidden(ar)&&sr.labels.show&&sr.labels.minWidth!==void 0&&(cr=sr.labels.minWidth),!rr.isYAxisHidden(ar)&&sr.labels.show&&lr.result.length){var ur=er.globals.yLabelFormatters[ar],dr=lr.niceMin===Number.MIN_VALUE?0:lr.niceMin,fr=lr.result.reduce((function(Lr,Mr){var Nr,Or;return((Nr=String(ur(Lr,or)))===null||Nr===void 0?void 0:Nr.length)>((Or=String(ur(Mr,or)))===null||Or===void 0?void 0:Or.length)?Lr:Mr}),dr),gr=fr=ur(fr,or);if(fr!==void 0&&fr.length!==0||(fr=lr.niceMax),er.globals.isBarHorizontal){ir=0;var yr=er.globals.labels.slice();fr=v$1.getLargestStringFromArr(yr),fr=ur(fr,{seriesIndex:ar,dataPointIndex:-1,w:er}),gr=Hn.dCtx.dimHelpers.getLargestStringFromMultiArr(fr,yr)}var vr=new Mi$1(Hn.dCtx.ctx),jr="rotate(".concat(sr.labels.rotate," 0 0)"),Sr=vr.getTextRects(fr,sr.labels.style.fontSize,sr.labels.style.fontFamily,jr,!1),Tr=Sr;fr!==gr&&(Tr=vr.getTextRects(gr,sr.labels.style.fontSize,sr.labels.style.fontFamily,jr,!1)),nr.push({width:(cr>Tr.width||cr>Sr.width?cr:Tr.width>Sr.width?Tr.width:Sr.width)+ir,height:Tr.height>Sr.height?Tr.height:Sr.height})}else nr.push({width:0,height:0})})),nr}},{key:"getyAxisTitleCoords",value:function(){var Hn=this,er=this.w,nr=[];return er.config.yaxis.map((function(ir,rr){if(ir.show&&ir.title.text!==void 0){var sr=new Mi$1(Hn.dCtx.ctx),ar="rotate(".concat(ir.title.rotate," 0 0)"),or=sr.getTextRects(ir.title.text,ir.title.style.fontSize,ir.title.style.fontFamily,ar,!1);nr.push({width:or.width,height:or.height})}else nr.push({width:0,height:0})})),nr}},{key:"getTotalYAxisWidth",value:function(){var Hn=this.w,er=0,nr=0,ir=0,rr=Hn.globals.yAxisScale.length>1?10:0,sr=new Ri$1(this.dCtx.ctx),ar=function(or,lr){var cr=Hn.config.yaxis[lr].floating,ur=0;or.width>0&&!cr?(ur=or.width+rr,(function(dr){return Hn.globals.ignoreYAxisIndexes.indexOf(dr)>-1})(lr)&&(ur=ur-or.width-rr)):ur=cr||sr.isYAxisHidden(lr)?0:5,Hn.config.yaxis[lr].opposite?ir+=ur:nr+=ur,er+=ur};return Hn.globals.yLabelsCoords.map((function(or,lr){ar(or,lr)})),Hn.globals.yTitleCoords.map((function(or,lr){ar(or,lr)})),Hn.globals.isBarHorizontal&&!Hn.config.yaxis[0].floating&&(er=Hn.globals.yLabelsCoords[0].width+Hn.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=nr,this.dCtx.yAxisWidthRight=ir,er}}]),tr})(),pa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.dCtx=Hn}return s$1(tr,[{key:"gridPadForColumnsInNumericAxis",value:function(Hn){var er=this.w,nr=er.config,ir=er.globals;if(ir.noData||ir.collapsedSeries.length+ir.ancillaryCollapsedSeries.length===nr.series.length)return 0;var rr=function(fr){return["bar","rangeBar","candlestick","boxPlot"].includes(fr)},sr=nr.chart.type,ar=0,or=rr(sr)?nr.series.length:1;ir.comboBarCount>0&&(or=ir.comboBarCount),ir.collapsedSeries.forEach((function(fr){rr(fr.type)&&(or-=1)})),nr.chart.stacked&&(or=1);var lr=rr(sr)||ir.comboBarCount>0,cr=Math.abs(ir.initialMaxX-ir.initialMinX);if(lr&&ir.isXNumeric&&!ir.isBarHorizontal&&or>0&&cr!==0){cr<=3&&(cr=ir.dataPoints);var ur=cr/Hn,dr=ir.minXDiff&&ir.minXDiff/ur>0?ir.minXDiff/ur:0;dr>Hn/2&&(dr/=2),(ar=dr*parseInt(nr.plotOptions.bar.columnWidth,10)/100)<1&&(ar=1),ir.barPadForNumericAxis=ar}return ar}},{key:"gridPadFortitleSubtitle",value:function(){var Hn=this,er=this.w,nr=er.globals,ir=this.dCtx.isSparkline||!nr.axisCharts?0:10;["title","subtitle"].forEach((function(ar){er.config[ar].text!==void 0?ir+=er.config[ar].margin:ir+=Hn.dCtx.isSparkline||!nr.axisCharts?0:5})),!er.config.legend.show||er.config.legend.position!=="bottom"||er.config.legend.floating||nr.axisCharts||(ir+=10);var rr=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),sr=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");nr.gridHeight-=rr.height+sr.height+ir,nr.translateY+=rr.height+sr.height+ir}},{key:"setGridXPosForDualYAxis",value:function(Hn,er){var nr=this.w,ir=new Ri$1(this.dCtx.ctx);nr.config.yaxis.forEach((function(rr,sr){nr.globals.ignoreYAxisIndexes.indexOf(sr)!==-1||rr.floating||ir.isYAxisHidden(sr)||(rr.opposite&&(nr.globals.translateX-=er[sr].width+Hn[sr].width+parseInt(rr.labels.style.fontSize,10)/1.2+12),nr.globals.translateX<2&&(nr.globals.translateX=2))}))}}]),tr})(),fa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new da(this),this.dimYAxis=new ga(this),this.dimXAxis=new ua(this),this.dimGrid=new pa(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return s$1(tr,[{key:"plotCoords",value:function(){var Hn=this,er=this.w,nr=er.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var ir=Array.isArray(er.config.stroke.width)?Math.max.apply(Math,f$2(er.config.stroke.width)):er.config.stroke.width;this.isSparkline&&((er.config.markers.discrete.length>0||er.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(sr){var ar=p$2(sr,2),or=ar[0],lr=ar[1];Hn.gridPad[or]=Math.max(lr,Hn.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(ir/2,this.gridPad.top),this.gridPad.bottom=Math.max(ir/2,this.gridPad.bottom)),nr.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),nr.gridHeight=nr.gridHeight-this.gridPad.top-this.gridPad.bottom,nr.gridWidth=nr.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var rr=this.dimGrid.gridPadForColumnsInNumericAxis(nr.gridWidth);nr.gridWidth=nr.gridWidth-2*rr,nr.translateX=nr.translateX+this.gridPad.left+this.xPadLeft+(rr>0?rr:0),nr.translateY=nr.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var Hn=this,er=this.w,nr=er.globals,ir=this.dimYAxis.getyAxisLabelsCoords(),rr=this.dimYAxis.getyAxisTitleCoords();nr.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),er.globals.yLabelsCoords=[],er.globals.yTitleCoords=[],er.config.yaxis.map((function(fr,gr){er.globals.yLabelsCoords.push({width:ir[gr].width,index:gr}),er.globals.yTitleCoords.push({width:rr[gr].width,index:gr})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var sr=this.dimXAxis.getxAxisLabelsCoords(),ar=this.dimXAxis.getxAxisGroupLabelsCoords(),or=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(sr,or,ar),nr.translateXAxisY=er.globals.rotateXLabels?this.xAxisHeight/8:-4,nr.translateXAxisX=er.globals.rotateXLabels&&er.globals.isXNumeric&&er.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,er.globals.isBarHorizontal&&(nr.rotateXLabels=!1,nr.translateXAxisY=parseInt(er.config.xaxis.labels.style.fontSize,10)/1.5*-1),nr.translateXAxisY=nr.translateXAxisY+er.config.xaxis.labels.offsetY,nr.translateXAxisX=nr.translateXAxisX+er.config.xaxis.labels.offsetX;var lr=this.yAxisWidth,cr=this.xAxisHeight;nr.xAxisLabelsHeight=this.xAxisHeight-or.height,nr.xAxisGroupLabelsHeight=nr.xAxisLabelsHeight-sr.height,nr.xAxisLabelsWidth=this.xAxisWidth,nr.xAxisHeight=this.xAxisHeight;var ur=10;(er.config.chart.type==="radar"||this.isSparkline)&&(lr=0,cr=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||er.config.chart.type==="treemap")&&(lr=0,cr=0,ur=0),this.isSparkline||er.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(sr);var dr=function(){nr.translateX=lr+Hn.datalabelsCoords.width,nr.gridHeight=nr.svgHeight-Hn.lgRect.height-cr-(Hn.isSparkline||er.config.chart.type==="treemap"?0:er.globals.rotateXLabels?10:15),nr.gridWidth=nr.svgWidth-lr-2*Hn.datalabelsCoords.width};switch(er.config.xaxis.position==="top"&&(ur=nr.xAxisHeight-er.config.xaxis.axisTicks.height-5),er.config.legend.position){case"bottom":nr.translateY=ur,dr();break;case"top":nr.translateY=this.lgRect.height+ur,dr();break;case"left":nr.translateY=ur,nr.translateX=this.lgRect.width+lr+this.datalabelsCoords.width,nr.gridHeight=nr.svgHeight-cr-12,nr.gridWidth=nr.svgWidth-this.lgRect.width-lr-2*this.datalabelsCoords.width;break;case"right":nr.translateY=ur,nr.translateX=lr+this.datalabelsCoords.width,nr.gridHeight=nr.svgHeight-cr-12,nr.gridWidth=nr.svgWidth-this.lgRect.width-lr-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(rr,ir),new aa(this.ctx).setYAxisXPosition(ir,rr)}},{key:"setDimensionsForNonAxisCharts",value:function(){var Hn=this.w,er=Hn.globals,nr=Hn.config,ir=0;Hn.config.legend.show&&!Hn.config.legend.floating&&(ir=20);var rr=nr.chart.type==="pie"||nr.chart.type==="polarArea"||nr.chart.type==="donut"?"pie":"radialBar",sr=nr.plotOptions[rr].offsetY,ar=nr.plotOptions[rr].offsetX;if(!nr.legend.show||nr.legend.floating){er.gridHeight=er.svgHeight;var or=er.dom.elWrap.getBoundingClientRect().width;return er.gridWidth=Math.min(or,er.gridHeight),er.translateY=sr,void(er.translateX=ar+(er.svgWidth-er.gridWidth)/2)}switch(nr.legend.position){case"bottom":er.gridHeight=er.svgHeight-this.lgRect.height,er.gridWidth=er.svgWidth,er.translateY=sr-10,er.translateX=ar+(er.svgWidth-er.gridWidth)/2;break;case"top":er.gridHeight=er.svgHeight-this.lgRect.height,er.gridWidth=er.svgWidth,er.translateY=this.lgRect.height+sr+10,er.translateX=ar+(er.svgWidth-er.gridWidth)/2;break;case"left":er.gridWidth=er.svgWidth-this.lgRect.width-ir,er.gridHeight=nr.chart.height!=="auto"?er.svgHeight:er.gridWidth,er.translateY=sr,er.translateX=ar+this.lgRect.width+ir;break;case"right":er.gridWidth=er.svgWidth-this.lgRect.width-ir-5,er.gridHeight=nr.chart.height!=="auto"?er.svgHeight:er.gridWidth,er.translateY=sr,er.translateX=ar+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(Hn,er,nr){var ir=this.w,rr=ir.globals.hasXaxisGroups?2:1,sr=nr.height+Hn.height+er.height,ar=ir.globals.isMultiLineX?1.2:ir.globals.LINE_HEIGHT_RATIO,or=ir.globals.rotateXLabels?22:10,lr=ir.globals.rotateXLabels&&ir.config.legend.position==="bottom"?10:0;this.xAxisHeight=sr*ar+rr*or+lr,this.xAxisWidth=Hn.width,this.xAxisHeight-er.height>ir.config.xaxis.labels.maxHeight&&(this.xAxisHeight=ir.config.xaxis.labels.maxHeight),ir.config.xaxis.labels.minHeight&&this.xAxisHeight<ir.config.xaxis.labels.minHeight&&(this.xAxisHeight=ir.config.xaxis.labels.minHeight),ir.config.xaxis.floating&&(this.xAxisHeight=0);var cr=0,ur=0;ir.config.yaxis.forEach((function(dr){cr+=dr.labels.minWidth,ur+=dr.labels.maxWidth})),this.yAxisWidth<cr&&(this.yAxisWidth=cr),this.yAxisWidth>ur&&(this.yAxisWidth=ur)}}]),tr})(),xa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.lgCtx=Hn}return s$1(tr,[{key:"getLegendStyles",value:function(){var Hn,er,nr,ir=document.createElement("style");ir.setAttribute("type","text/css");var rr=((Hn=this.lgCtx.ctx)===null||Hn===void 0||(er=Hn.opts)===null||er===void 0||(nr=er.chart)===null||nr===void 0?void 0:nr.nonce)||this.w.config.chart.nonce;rr&&ir.setAttribute("nonce",rr);var sr=document.createTextNode(Zi$1);return ir.appendChild(sr),ir}},{key:"getLegendDimensions",value:function(){var Hn=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),er=Hn.width;return{clwh:Hn.height,clww:er}}},{key:"appendToForeignObject",value:function(){var Hn=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&Hn.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(Hn,er){var nr=this,ir=this.w;if(ir.globals.axisCharts||ir.config.chart.type==="radialBar"){ir.globals.resized=!0;var rr=null,sr=null;ir.globals.risingSeries=[],ir.globals.axisCharts?(rr=ir.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(Hn,"']")),sr=parseInt(rr.getAttribute("data:realIndex"),10)):(rr=ir.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(Hn+1,"']")),sr=parseInt(rr.getAttribute("rel"),10)-1),er?[{cs:ir.globals.collapsedSeries,csi:ir.globals.collapsedSeriesIndices},{cs:ir.globals.ancillaryCollapsedSeries,csi:ir.globals.ancillaryCollapsedSeriesIndices}].forEach((function(cr){nr.riseCollapsedSeries(cr.cs,cr.csi,sr)})):this.hideSeries({seriesEl:rr,realIndex:sr})}else{var ar=ir.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(Hn+1,"'] path")),or=ir.config.chart.type;if(or==="pie"||or==="polarArea"||or==="donut"){var lr=ir.config.plotOptions.pie.donut.labels;new Mi$1(this.lgCtx.ctx).pathMouseDown(ar,null),this.lgCtx.ctx.pie.printDataLabelsInner(ar.node,lr)}ar.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(Hn){var er=Hn.realIndex,nr=this.w,ir=nr.globals,rr=v$1.clone(nr.config.series);if(ir.axisCharts){var sr=nr.config.yaxis[ir.seriesYAxisReverseMap[er]],ar={index:er,data:rr[er].data.slice(),type:rr[er].type||nr.config.chart.type};if(sr&&sr.show&&sr.showAlways)ir.ancillaryCollapsedSeriesIndices.indexOf(er)<0&&(ir.ancillaryCollapsedSeries.push(ar),ir.ancillaryCollapsedSeriesIndices.push(er));else if(ir.collapsedSeriesIndices.indexOf(er)<0){ir.collapsedSeries.push(ar),ir.collapsedSeriesIndices.push(er);var or=ir.risingSeries.indexOf(er);ir.risingSeries.splice(or,1)}}else ir.collapsedSeries.push({index:er,data:rr[er]}),ir.collapsedSeriesIndices.push(er);return ir.allSeriesCollapsed=ir.collapsedSeries.length+ir.ancillaryCollapsedSeries.length===nr.config.series.length,this._getSeriesBasedOnCollapsedState(rr)}},{key:"hideSeries",value:function(Hn){for(var er=Hn.seriesEl,nr=Hn.realIndex,ir=this.w,rr=this.getSeriesAfterCollapsing({realIndex:nr}),sr=er.childNodes,ar=0;ar<sr.length;ar++)sr[ar].classList.contains("apexcharts-series-markers-wrap")&&(sr[ar].classList.contains("apexcharts-hide")?sr[ar].classList.remove("apexcharts-hide"):sr[ar].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(rr,ir.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(Hn,er,nr){var ir=this.w,rr=v$1.clone(ir.config.series);if(Hn.length>0){for(var sr=0;sr<Hn.length;sr++)Hn[sr].index===nr&&(ir.globals.axisCharts?rr[nr].data=Hn[sr].data.slice():rr[nr]=Hn[sr].data,typeof rr[nr]!="number"&&(rr[nr].hidden=!1),Hn.splice(sr,1),er.splice(sr,1),ir.globals.risingSeries.push(nr));rr=this._getSeriesBasedOnCollapsedState(rr),this.lgCtx.ctx.updateHelpers._updateSeries(rr,ir.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(Hn){var er=this.w,nr=0;return er.globals.axisCharts?Hn.forEach((function(ir,rr){er.globals.collapsedSeriesIndices.indexOf(rr)<0&&er.globals.ancillaryCollapsedSeriesIndices.indexOf(rr)<0||(Hn[rr].data=[],nr++)})):Hn.forEach((function(ir,rr){!er.globals.collapsedSeriesIndices.indexOf(rr)<0&&(Hn[rr]=0,nr++)})),er.globals.allSeriesCollapsed=nr===Hn.length,Hn}}]),tr})(),ba=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new xa(this)}return s$1(tr,[{key:"init",value:function(){var Hn=this.w,er=Hn.globals,nr=Hn.config,ir=nr.legend.showForSingleSeries&&er.series.length===1||this.isBarsDistributed||er.series.length>1;if(this.legendHelpers.appendToForeignObject(),(ir||!er.axisCharts)&&nr.legend.show){for(;er.dom.elLegendWrap.firstChild;)er.dom.elLegendWrap.removeChild(er.dom.elLegendWrap.firstChild);this.drawLegends(),nr.legend.position==="bottom"||nr.legend.position==="top"?this.legendAlignHorizontal():nr.legend.position!=="right"&&nr.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(Hn){var er=Hn.i,nr=Hn.fillcolor,ir=this.w,rr=document.createElement("span");rr.classList.add("apexcharts-legend-marker");var sr=ir.config.legend.markers.shape||ir.config.markers.shape,ar=sr;Array.isArray(sr)&&(ar=sr[er]);var or=Array.isArray(ir.config.legend.markers.size)?parseFloat(ir.config.legend.markers.size[er]):parseFloat(ir.config.legend.markers.size),lr=Array.isArray(ir.config.legend.markers.offsetX)?parseFloat(ir.config.legend.markers.offsetX[er]):parseFloat(ir.config.legend.markers.offsetX),cr=Array.isArray(ir.config.legend.markers.offsetY)?parseFloat(ir.config.legend.markers.offsetY[er]):parseFloat(ir.config.legend.markers.offsetY),ur=Array.isArray(ir.config.legend.markers.strokeWidth)?parseFloat(ir.config.legend.markers.strokeWidth[er]):parseFloat(ir.config.legend.markers.strokeWidth),dr=rr.style;if(dr.height=2*(or+ur)+"px",dr.width=2*(or+ur)+"px",dr.left=lr+"px",dr.top=cr+"px",ir.config.legend.markers.customHTML)dr.background="transparent",dr.color=nr[er],Array.isArray(ir.config.legend.markers.customHTML)?ir.config.legend.markers.customHTML[er]&&(rr.innerHTML=ir.config.legend.markers.customHTML[er]()):rr.innerHTML=ir.config.legend.markers.customHTML();else{var fr=new Vi$1(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(ar),seriesIndex:er,strokeWidth:ur,size:or}),gr=window.SVG().addTo(rr).size("100%","100%"),yr=new Mi$1(this.ctx).drawMarker(0,0,u$2(u$2({},fr),{},{pointFillColor:Array.isArray(nr)?nr[er]:fr.pointFillColor,shape:ar}));ir.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(vr){vr.node.classList.contains("apexcharts-marker-triangle")?vr.node.style.transform="translate(50%, 45%)":vr.node.style.transform="translate(50%, 50%)"})),gr.add(yr)}return rr}},{key:"drawLegends",value:function(){var Hn=this,er=this,nr=this.w,ir=nr.config.legend.fontFamily,rr=nr.globals.seriesNames,sr=nr.config.legend.markers.fillColors?nr.config.legend.markers.fillColors.slice():nr.globals.colors.slice();if(nr.config.chart.type==="heatmap"){var ar=nr.config.plotOptions.heatmap.colorScale.ranges;rr=ar.map((function(fr){return fr.name?fr.name:fr.from+" - "+fr.to})),sr=ar.map((function(fr){return fr.color}))}else this.isBarsDistributed&&(rr=nr.globals.labels.slice());nr.config.legend.customLegendItems.length&&(rr=nr.config.legend.customLegendItems);var or=nr.globals.legendFormatter,lr=nr.config.legend.inverseOrder,cr=[];nr.globals.seriesGroups.length>1&&nr.config.legend.clusterGroupedSeries&&nr.globals.seriesGroups.forEach((function(fr,gr){cr[gr]=document.createElement("div"),cr[gr].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(gr)),nr.config.legend.clusterGroupedSeriesOrientation==="horizontal"?nr.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):cr[gr].classList.add("apexcharts-legend-group-vertical")}));for(var ur=function(fr){var gr,yr=or(rr[fr],{seriesIndex:fr,w:nr}),vr=!1,jr=!1;if(nr.globals.collapsedSeries.length>0)for(var Sr=0;Sr<nr.globals.collapsedSeries.length;Sr++)nr.globals.collapsedSeries[Sr].index===fr&&(vr=!0);if(nr.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Tr=0;Tr<nr.globals.ancillaryCollapsedSeriesIndices.length;Tr++)nr.globals.ancillaryCollapsedSeriesIndices[Tr]===fr&&(jr=!0);var Lr=Hn.createLegendMarker({i:fr,fillcolor:sr});Mi$1.setAttrs(Lr,{rel:fr+1,"data:collapsed":vr||jr}),(vr||jr)&&Lr.classList.add("apexcharts-inactive-legend");var Mr=document.createElement("div"),Nr=document.createElement("span");Nr.classList.add("apexcharts-legend-text"),Nr.innerHTML=Array.isArray(yr)?yr.join(" "):yr;var Or=nr.config.legend.labels.useSeriesColors?nr.globals.colors[fr]:Array.isArray(nr.config.legend.labels.colors)?(gr=nr.config.legend.labels.colors)===null||gr===void 0?void 0:gr[fr]:nr.config.legend.labels.colors;Or||(Or=nr.config.chart.foreColor),Nr.style.color=Or,Nr.style.fontSize=parseFloat(nr.config.legend.fontSize)+"px",Nr.style.fontWeight=nr.config.legend.fontWeight,Nr.style.fontFamily=ir||nr.config.chart.fontFamily,Mi$1.setAttrs(Nr,{rel:fr+1,i:fr,"data:default-text":encodeURIComponent(yr),"data:collapsed":vr||jr}),Mr.appendChild(Lr),Mr.appendChild(Nr);var Fr=new Pi$1(Hn.ctx);nr.config.legend.showForZeroSeries||Fr.getSeriesTotalByIndex(fr)===0&&Fr.seriesHaveSameValues(fr)&&!Fr.isSeriesNull(fr)&&nr.globals.collapsedSeriesIndices.indexOf(fr)===-1&&nr.globals.ancillaryCollapsedSeriesIndices.indexOf(fr)===-1&&Mr.classList.add("apexcharts-hidden-zero-series"),nr.config.legend.showForNullSeries||Fr.isSeriesNull(fr)&&nr.globals.collapsedSeriesIndices.indexOf(fr)===-1&&nr.globals.ancillaryCollapsedSeriesIndices.indexOf(fr)===-1&&Mr.classList.add("apexcharts-hidden-null-series"),cr.length?nr.globals.seriesGroups.forEach((function(Gr,qr){var Hr;Gr.includes((Hr=nr.config.series[fr])===null||Hr===void 0?void 0:Hr.name)&&(nr.globals.dom.elLegendWrap.appendChild(cr[qr]),cr[qr].appendChild(Mr))})):nr.globals.dom.elLegendWrap.appendChild(Mr),nr.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(nr.config.legend.horizontalAlign)),nr.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+nr.config.legend.position),Mr.classList.add("apexcharts-legend-series"),Mr.style.margin="".concat(nr.config.legend.itemMargin.vertical,"px ").concat(nr.config.legend.itemMargin.horizontal,"px"),nr.globals.dom.elLegendWrap.style.width=nr.config.legend.width?nr.config.legend.width+"px":"",nr.globals.dom.elLegendWrap.style.height=nr.config.legend.height?nr.config.legend.height+"px":"",Mi$1.setAttrs(Mr,{rel:fr+1,seriesName:v$1.escapeString(rr[fr]),"data:collapsed":vr||jr}),(vr||jr)&&Mr.classList.add("apexcharts-inactive-legend"),nr.config.legend.onItemClick.toggleDataSeries||Mr.classList.add("apexcharts-no-click")},dr=lr?rr.length-1:0;lr?dr>=0:dr<=rr.length-1;lr?dr--:dr++)ur(dr);nr.globals.dom.elWrap.addEventListener("click",er.onLegendClick,!0),nr.config.legend.onItemHover.highlightDataSeries&&nr.config.legend.customLegendItems.length===0&&(nr.globals.dom.elWrap.addEventListener("mousemove",er.onLegendHovered,!0),nr.globals.dom.elWrap.addEventListener("mouseout",er.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(Hn,er){var nr=this.w,ir=nr.globals.dom.elLegendWrap,rr=ir.clientHeight,sr=0,ar=0;if(nr.config.legend.position==="bottom")ar=nr.globals.svgHeight-Math.min(rr,nr.globals.svgHeight/2)-5;else if(nr.config.legend.position==="top"){var or=new fa(this.ctx),lr=or.dimHelpers.getTitleSubtitleCoords("title").height,cr=or.dimHelpers.getTitleSubtitleCoords("subtitle").height;ar=(lr>0?lr-10:0)+(cr>0?cr-10:0)}ir.style.position="absolute",sr=sr+Hn+nr.config.legend.offsetX,ar=ar+er+nr.config.legend.offsetY,ir.style.left=sr+"px",ir.style.top=ar+"px",nr.config.legend.position==="right"&&(ir.style.left="auto",ir.style.right=25+nr.config.legend.offsetX+"px"),["width","height"].forEach((function(ur){ir.style[ur]&&(ir.style[ur]=parseInt(nr.config.legend[ur],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var Hn=this.w;Hn.globals.dom.elLegendWrap.style.right=0;var er=new fa(this.ctx),nr=er.dimHelpers.getTitleSubtitleCoords("title"),ir=er.dimHelpers.getTitleSubtitleCoords("subtitle"),rr=0;Hn.config.legend.position==="top"&&(rr=nr.height+ir.height+Hn.config.title.margin+Hn.config.subtitle.margin-10),this.setLegendWrapXY(20,rr)}},{key:"legendAlignVertical",value:function(){var Hn=this.w,er=this.legendHelpers.getLegendDimensions(),nr=0;Hn.config.legend.position==="left"&&(nr=20),Hn.config.legend.position==="right"&&(nr=Hn.globals.svgWidth-er.clww-10),this.setLegendWrapXY(nr,20)}},{key:"onLegendHovered",value:function(Hn){var er=this.w,nr=Hn.target.classList.contains("apexcharts-legend-series")||Hn.target.classList.contains("apexcharts-legend-text")||Hn.target.classList.contains("apexcharts-legend-marker");if(er.config.chart.type==="heatmap"||this.isBarsDistributed){if(nr){var ir=parseInt(Hn.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,ir,this.w]),new $i$1(this.ctx).highlightRangeInSeries(Hn,Hn.target)}}else!Hn.target.classList.contains("apexcharts-inactive-legend")&&nr&&new $i$1(this.ctx).toggleSeriesOnHover(Hn,Hn.target)}},{key:"onLegendClick",value:function(Hn){var er=this.w;if(!er.config.legend.customLegendItems.length&&(Hn.target.classList.contains("apexcharts-legend-series")||Hn.target.classList.contains("apexcharts-legend-text")||Hn.target.classList.contains("apexcharts-legend-marker"))){var nr=parseInt(Hn.target.getAttribute("rel"),10)-1,ir=Hn.target.getAttribute("data:collapsed")==="true",rr=this.w.config.chart.events.legendClick;typeof rr=="function"&&rr(this.ctx,nr,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,nr,this.w]);var sr=this.w.config.legend.markers.onClick;typeof sr=="function"&&Hn.target.classList.contains("apexcharts-legend-marker")&&(sr(this.ctx,nr,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,nr,this.w])),er.config.chart.type!=="treemap"&&er.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&er.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(nr,ir)}}}]),tr})(),ma=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var er=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=er.globals.minX,this.maxX=er.globals.maxX}return s$1(tr,[{key:"createToolbar",value:function(){var Hn=this,er=this.w,nr=function(){return document.createElement("div")},ir=nr();if(ir.setAttribute("class","apexcharts-toolbar"),ir.style.top=er.config.chart.toolbar.offsetY+"px",ir.style.right=3-er.config.chart.toolbar.offsetX+"px",er.globals.dom.elWrap.appendChild(ir),this.elZoom=nr(),this.elZoomIn=nr(),this.elZoomOut=nr(),this.elPan=nr(),this.elSelection=nr(),this.elZoomReset=nr(),this.elMenuIcon=nr(),this.elMenu=nr(),this.elCustomIcons=[],this.t=er.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var rr=0;rr<this.t.customIcons.length;rr++)this.elCustomIcons.push(nr());var sr=[],ar=function(ur,dr,fr){var gr=ur.toLowerCase();Hn.t[gr]&&er.config.chart.zoom.enabled&&sr.push({el:dr,icon:typeof Hn.t[gr]=="string"?Hn.t[gr]:fr,title:Hn.localeValues[ur],class:"apexcharts-".concat(gr,"-icon")})};ar("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),ar("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var or=function(ur){Hn.t[ur]&&er.config.chart[ur].enabled&&sr.push({el:ur==="zoom"?Hn.elZoom:Hn.elSelection,icon:typeof Hn.t[ur]=="string"?Hn.t[ur]:ur==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:Hn.localeValues[ur==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(ur,"-icon")})};or("zoom"),or("selection"),this.t.pan&&er.config.chart.zoom.enabled&&sr.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),ar("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&sr.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var lr=0;lr<this.elCustomIcons.length;lr++)sr.push({el:this.elCustomIcons[lr],icon:this.t.customIcons[lr].icon,title:this.t.customIcons[lr].title,index:this.t.customIcons[lr].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[lr].class});sr.forEach((function(ur,dr){ur.index&&v$1.moveIndexInArray(sr,dr,ur.index)}));for(var cr=0;cr<sr.length;cr++)Mi$1.setAttrs(sr[cr].el,{class:sr[cr].class,title:sr[cr].title}),sr[cr].el.innerHTML=sr[cr].icon,ir.appendChild(sr[cr].el);this._createHamburgerMenu(ir),er.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):er.globals.panEnabled?this.elPan.classList.add(this.selectedClass):er.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(Hn){this.elMenuItems=[],Hn.appendChild(this.elMenu),Mi$1.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var er=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],nr=0;nr<er.length;nr++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[nr].innerHTML=er[nr].title,Mi$1.setAttrs(this.elMenuItems[nr],{class:"apexcharts-menu-item ".concat(er[nr].name),title:er[nr].title}),this.elMenu.appendChild(this.elMenuItems[nr])}},{key:"addToolbarEventListeners",value:function(){var Hn=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(nr){nr.classList.contains("exportSVG")?nr.addEventListener("click",Hn.handleDownload.bind(Hn,"svg")):nr.classList.contains("exportPNG")?nr.addEventListener("click",Hn.handleDownload.bind(Hn,"png")):nr.classList.contains("exportCSV")&&nr.addEventListener("click",Hn.handleDownload.bind(Hn,"csv"))}));for(var er=0;er<this.t.customIcons.length;er++)this.elCustomIcons[er].addEventListener("click",this.t.customIcons[er].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(Hn){this.ctx.getSyncedCharts().forEach((function(er){er.ctx.toolbar.toggleOtherControls();var nr=Hn==="selection"?er.ctx.toolbar.elSelection:er.ctx.toolbar.elZoom,ir=Hn==="selection"?"selectionEnabled":"zoomEnabled";er.w.globals[ir]=!er.w.globals[ir],nr.classList.contains(er.ctx.toolbar.selectedClass)?nr.classList.remove(er.ctx.toolbar.selectedClass):nr.classList.add(er.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var Hn=this.w;this.elZoom||(this.elZoom=Hn.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=Hn.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=Hn.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(Hn){this.toggleOtherControls(),Hn==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var er=Hn==="pan"?this.elPan:this.elZoom,nr=Hn==="pan"?this.elZoom:this.elPan;er&&er.classList.add(this.selectedClass),nr&&nr.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(Hn){Hn.ctx.toolbar.toggleOtherControls(),Hn.w.globals.panEnabled=!Hn.w.globals.panEnabled,Hn.ctx.toolbar.elPan.classList.contains(Hn.ctx.toolbar.selectedClass)?Hn.ctx.toolbar.elPan.classList.remove(Hn.ctx.toolbar.selectedClass):Hn.ctx.toolbar.elPan.classList.add(Hn.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var Hn=this,er=this.w;er.globals.panEnabled=!1,er.globals.zoomEnabled=!1,er.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(nr){nr&&nr.classList.remove(Hn.selectedClass)}))}},{key:"handleZoomIn",value:function(){var Hn=this.w;Hn.globals.isRangeBar&&(this.minX=Hn.globals.minY,this.maxX=Hn.globals.maxY);var er=(this.minX+this.maxX)/2,nr=(this.minX+er)/2,ir=(this.maxX+er)/2,rr=this._getNewMinXMaxX(nr,ir);Hn.globals.disableZoomIn||this.zoomUpdateOptions(rr.minX,rr.maxX)}},{key:"handleZoomOut",value:function(){var Hn=this.w;if(Hn.globals.isRangeBar&&(this.minX=Hn.globals.minY,this.maxX=Hn.globals.maxY),!(Hn.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var er=(this.minX+this.maxX)/2,nr=this.minX-(er-this.minX),ir=this.maxX-(er-this.maxX),rr=this._getNewMinXMaxX(nr,ir);Hn.globals.disableZoomOut||this.zoomUpdateOptions(rr.minX,rr.maxX)}}},{key:"_getNewMinXMaxX",value:function(Hn,er){var nr=this.w.config.xaxis.convertedCatToNumeric;return{minX:nr?Math.floor(Hn):Hn,maxX:nr?Math.floor(er):er}}},{key:"zoomUpdateOptions",value:function(Hn,er){var nr=this.w;if(Hn!==void 0||er!==void 0){if(!(nr.config.xaxis.convertedCatToNumeric&&(Hn<1&&(Hn=1,er=nr.globals.dataPoints),er-Hn<2))){var ir={min:Hn,max:er},rr=this.getBeforeZoomRange(ir);rr&&(ir=rr.xaxis);var sr={xaxis:ir},ar=v$1.clone(nr.globals.initialConfig.yaxis);nr.config.chart.group||(sr.yaxis=ar),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(sr,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(ir,ar)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(Hn,er){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:Hn,yaxis:er}),this.ctx.events.fireEvent("zoomed",{xaxis:Hn,yaxis:er}))}},{key:"getBeforeZoomRange",value:function(Hn,er){var nr=null;return typeof this.ev.beforeZoom=="function"&&(nr=this.ev.beforeZoom(this,{xaxis:Hn,yaxis:er})),nr}},{key:"toggleMenu",value:function(){var Hn=this;window.setTimeout((function(){Hn.elMenu.classList.contains("apexcharts-menu-open")?Hn.elMenu.classList.remove("apexcharts-menu-open"):Hn.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(Hn){var er=this.w,nr=new Qi$1(this.ctx);switch(Hn){case"svg":nr.exportToSVG(this.ctx);break;case"png":nr.exportToPng(this.ctx);break;case"csv":nr.exportToCSV({series:er.config.series,columnDelimiter:er.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(Hn){this.ctx.getSyncedCharts().forEach((function(er){var nr=er.w;if(nr.globals.lastXAxis.min=nr.globals.initialConfig.xaxis.min,nr.globals.lastXAxis.max=nr.globals.initialConfig.xaxis.max,er.updateHelpers.revertDefaultAxisMinMax(),typeof nr.config.chart.events.beforeResetZoom=="function"){var ir=nr.config.chart.events.beforeResetZoom(er,nr);ir&&er.updateHelpers.revertDefaultAxisMinMax(ir)}typeof nr.config.chart.events.zoomed=="function"&&er.ctx.toolbar.zoomCallback({min:nr.config.xaxis.min,max:nr.config.xaxis.max}),nr.globals.zoomed=!1;var rr=er.ctx.series.emptyCollapsedSeries(v$1.clone(nr.globals.initialSeries));er.updateHelpers._updateSeries(rr,nr.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),tr})(),va=(function(tr){h$3(er,ma);var Hn=n(er);function er(nr){var ir;return i$1(this,er),(ir=Hn.call(this,nr)).ctx=nr,ir.w=nr.w,ir.dragged=!1,ir.graphics=new Mi$1(ir.ctx),ir.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],ir.clientX=0,ir.clientY=0,ir.startX=0,ir.endX=0,ir.dragX=0,ir.startY=0,ir.endY=0,ir.dragY=0,ir.moveDirection="none",ir.debounceTimer=null,ir.debounceDelay=100,ir.wheelDelay=400,ir}return s$1(er,[{key:"init",value:function(nr){var ir=this,rr=nr.xyRatios,sr=this.w,ar=this;this.xyRatios=rr,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=sr.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new kt$1(0,0,sr.globals.gridWidth,sr.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),sr.globals.dom.Paper.add(this.zoomRect),sr.globals.dom.Paper.add(this.selectionRect),sr.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:sr.globals.gridWidth,maxY:sr.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):sr.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:sr.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=sr.globals.dom.baseEl.querySelector("".concat(sr.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(or){ir.hoverArea.addEventListener(or,ar.svgMouseEvents.bind(ar,rr),{capture:!1,passive:!0})})),sr.config.chart.zoom.enabled&&sr.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",ar.mouseWheelEvent.bind(ar),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(nr,ir){var rr=this.w,sr=this.ctx.toolbar,ar=rr.globals.zoomEnabled?rr.config.chart.zoom.type:rr.config.chart.selection.type,or=rr.config.chart.toolbar.autoSelected;if(ir.shiftKey?(this.shiftWasPressed=!0,sr.enableZoomPanFromToolbar(or==="pan"?"zoom":"pan")):this.shiftWasPressed&&(sr.enableZoomPanFromToolbar(or),this.shiftWasPressed=!1),ir.target){var lr,cr=ir.target.classList;if(ir.target.parentNode&&ir.target.parentNode!==null&&(lr=ir.target.parentNode.classList),!(cr.contains("apexcharts-legend-marker")||cr.contains("apexcharts-legend-text")||lr&&lr.contains("apexcharts-toolbar"))){if(this.clientX=ir.type==="touchmove"||ir.type==="touchstart"?ir.touches[0].clientX:ir.type==="touchend"?ir.changedTouches[0].clientX:ir.clientX,this.clientY=ir.type==="touchmove"||ir.type==="touchstart"?ir.touches[0].clientY:ir.type==="touchend"?ir.changedTouches[0].clientY:ir.clientY,ir.type==="mousedown"&&ir.which===1||ir.type==="touchstart"){var ur=this.gridRect.getBoundingClientRect();this.startX=this.clientX-ur.left-rr.globals.barPadForNumericAxis,this.startY=this.clientY-ur.top,this.dragged=!1,this.w.globals.mousedown=!0}(ir.type==="mousemove"&&ir.which===1||ir.type==="touchmove")&&(this.dragged=!0,rr.globals.panEnabled?(rr.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:ar,xyRatios:nr})):(this.w.globals.mousedown&&rr.globals.zoomEnabled||this.w.globals.mousedown&&rr.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:ar}))),ir.type!=="mouseup"&&ir.type!=="touchend"&&ir.type!=="mouseleave"||this.handleMouseUp({zoomtype:ar}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(nr){var ir,rr=nr.zoomtype,sr=nr.isResized,ar=this.w,or=(ir=this.gridRect)===null||ir===void 0?void 0:ir.getBoundingClientRect();or&&(this.w.globals.mousedown||sr)&&(this.endX=this.clientX-or.left-ar.globals.barPadForNumericAxis,this.endY=this.clientY-or.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(ar.globals.zoomEnabled||ar.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:rr})),ar.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(nr){var ir=this,rr=this.w;nr.preventDefault();var sr=Date.now();sr-rr.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(nr),rr.globals.lastWheelExecution=sr),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){sr-rr.globals.lastWheelExecution>ir.wheelDelay&&(ir.executeMouseWheelZoom(nr),rr.globals.lastWheelExecution=sr)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(nr){var ir,rr=this.w;this.minX=rr.globals.isRangeBar?rr.globals.minY:rr.globals.minX,this.maxX=rr.globals.isRangeBar?rr.globals.maxY:rr.globals.maxX;var sr=(ir=this.gridRect)===null||ir===void 0?void 0:ir.getBoundingClientRect();if(sr){var ar,or,lr,cr=(nr.clientX-sr.left)/sr.width,ur=this.minX,dr=this.maxX,fr=dr-ur;if(nr.deltaY<0){var gr=ur+cr*fr;or=gr-(ar=.5*fr)/2,lr=gr+ar/2}else or=ur-(ar=1.5*fr)/2,lr=dr+ar/2;if(!rr.globals.isRangeBar){or=Math.max(or,rr.globals.initialMinX),lr=Math.min(lr,rr.globals.initialMaxX);var yr=.01*(rr.globals.initialMaxX-rr.globals.initialMinX);if(lr-or<yr){var vr=(or+lr)/2;or=vr-yr/2,lr=vr+yr/2}}var jr=this._getNewMinXMaxX(or,lr);isNaN(jr.minX)||isNaN(jr.maxX)||this.zoomUpdateOptions(jr.minX,jr.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var nr=this,ir=this.w;if(this.selectionRect){var rr=this.selectionRect.node.getBoundingClientRect();rr.width>0&&rr.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(sr,ar,or,lr,cr){return cr==="l"||cr==="r"?sr.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):sr.circle(0)},updateHandle:function(sr,ar){return sr.center(ar[0],ar[1])}}).resize().on("resize",(function(){var sr=ir.globals.zoomEnabled?ir.config.chart.zoom.type:ir.config.chart.selection.type;nr.handleMouseUp({zoomtype:sr,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var nr=this.w,ir=this.xyRatios;if(!nr.globals.zoomEnabled){if(nr.globals.selection!==void 0&&nr.globals.selection!==null)this.drawSelectionRect(u$2(u$2({},nr.globals.selection),{},{translateX:nr.globals.translateX,translateY:nr.globals.translateY}));else if(nr.config.chart.selection.xaxis.min!==void 0&&nr.config.chart.selection.xaxis.max!==void 0){var rr=(nr.config.chart.selection.xaxis.min-nr.globals.minX)/ir.xRatio,sr=nr.globals.gridWidth-(nr.globals.maxX-nr.config.chart.selection.xaxis.max)/ir.xRatio-rr;nr.globals.isRangeBar&&(rr=(nr.config.chart.selection.xaxis.min-nr.globals.yAxisScale[0].niceMin)/ir.invertedYRatio,sr=(nr.config.chart.selection.xaxis.max-nr.config.chart.selection.xaxis.min)/ir.invertedYRatio);var ar={x:rr,y:0,width:sr,height:nr.globals.gridHeight,translateX:nr.globals.translateX,translateY:nr.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(ar),this.makeSelectionRectDraggable(),typeof nr.config.chart.events.selection=="function"&&nr.config.chart.events.selection(this.ctx,{xaxis:{min:nr.config.chart.selection.xaxis.min,max:nr.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(nr){var ir=nr.x,rr=nr.y,sr=nr.width,ar=nr.height,or=nr.translateX,lr=or===void 0?0:or,cr=nr.translateY,ur=cr===void 0?0:cr,dr=this.w,fr=this.zoomRect,gr=this.selectionRect;if(this.dragged||dr.globals.selection!==null){var yr={transform:"translate("+lr+", "+ur+")"};dr.globals.zoomEnabled&&this.dragged&&(sr<0&&(sr=1),fr.attr({x:ir,y:rr,width:sr,height:ar,fill:dr.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":dr.config.chart.zoom.zoomedArea.fill.opacity,stroke:dr.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":dr.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":dr.config.chart.zoom.zoomedArea.stroke.opacity}),Mi$1.setAttrs(fr.node,yr)),dr.globals.selectionEnabled&&(gr.attr({x:ir,y:rr,width:sr>0?sr:0,height:ar>0?ar:0,fill:dr.config.chart.selection.fill.color,"fill-opacity":dr.config.chart.selection.fill.opacity,stroke:dr.config.chart.selection.stroke.color,"stroke-width":dr.config.chart.selection.stroke.width,"stroke-dasharray":dr.config.chart.selection.stroke.dashArray,"stroke-opacity":dr.config.chart.selection.stroke.opacity}),Mi$1.setAttrs(gr.node,yr))}}},{key:"hideSelectionRect",value:function(nr){nr&&nr.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(nr){var ir=nr.context,rr=nr.zoomtype,sr=this.w,ar=ir,or=this.gridRect.getBoundingClientRect(),lr=ar.startX-1,cr=ar.startY,ur=!1,dr=!1,fr=ar.clientX-or.left-sr.globals.barPadForNumericAxis,gr=ar.clientY-or.top,yr=fr-lr,vr=gr-cr,jr={translateX:sr.globals.translateX,translateY:sr.globals.translateY};return Math.abs(yr+lr)>sr.globals.gridWidth?yr=sr.globals.gridWidth-lr:fr<0&&(yr=lr),lr>fr&&(ur=!0,yr=Math.abs(yr)),cr>gr&&(dr=!0,vr=Math.abs(vr)),jr=u$2(u$2({},jr=rr==="x"?{x:ur?lr-yr:lr,y:0,width:yr,height:sr.globals.gridHeight}:rr==="y"?{x:0,y:dr?cr-vr:cr,width:sr.globals.gridWidth,height:vr}:{x:ur?lr-yr:lr,y:dr?cr-vr:cr,width:yr,height:vr}),{},{translateX:sr.globals.translateX,translateY:sr.globals.translateY}),ar.drawSelectionRect(jr),ar.selectionDragging("resizing"),jr}},{key:"selectionDragging",value:function(nr,ir){var rr=this,sr=this.w;if(ir){ir.preventDefault();var ar=ir.detail,or=ar.handler,lr=ar.box,cr=lr.x,ur=lr.y;cr<this.constraints.x&&(cr=this.constraints.x),ur<this.constraints.y&&(ur=this.constraints.y),lr.x2>this.constraints.x2&&(cr=this.constraints.x2-lr.w),lr.y2>this.constraints.y2&&(ur=this.constraints.y2-lr.h),or.move(cr,ur);var dr=this.xyRatios,fr=this.selectionRect,gr=0;nr==="resizing"&&(gr=30);var yr=function(jr){return parseFloat(fr.node.getAttribute(jr))},vr={x:yr("x"),y:yr("y"),width:yr("width"),height:yr("height")};sr.globals.selection=vr,typeof sr.config.chart.events.selection=="function"&&sr.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var jr,Sr,Tr,Lr,Mr=rr.gridRect.getBoundingClientRect(),Nr=fr.node.getBoundingClientRect();sr.globals.isRangeBar?(jr=sr.globals.yAxisScale[0].niceMin+(Nr.left-Mr.left)*dr.invertedYRatio,Sr=sr.globals.yAxisScale[0].niceMin+(Nr.right-Mr.left)*dr.invertedYRatio,Tr=0,Lr=1):(jr=sr.globals.xAxisScale.niceMin+(Nr.left-Mr.left)*dr.xRatio,Sr=sr.globals.xAxisScale.niceMin+(Nr.right-Mr.left)*dr.xRatio,Tr=sr.globals.yAxisScale[0].niceMin+(Mr.bottom-Nr.bottom)*dr.yRatio[0],Lr=sr.globals.yAxisScale[0].niceMax-(Nr.top-Mr.top)*dr.yRatio[0]);var Or={xaxis:{min:jr,max:Sr},yaxis:{min:Tr,max:Lr}};sr.config.chart.events.selection(rr.ctx,Or),sr.config.chart.brush.enabled&&sr.config.chart.events.brushScrolled!==void 0&&sr.config.chart.events.brushScrolled(rr.ctx,Or)}),gr))}}},{key:"selectionDrawn",value:function(nr){var ir,rr,sr=nr.context,ar=nr.zoomtype,or=this.w,lr=sr,cr=this.xyRatios,ur=this.ctx.toolbar,dr=or.globals.zoomEnabled?lr.zoomRect.node.getBoundingClientRect():lr.selectionRect.node.getBoundingClientRect(),fr=lr.gridRect.getBoundingClientRect(),gr=dr.left-fr.left-or.globals.barPadForNumericAxis,yr=dr.right-fr.left-or.globals.barPadForNumericAxis,vr=dr.top-fr.top,jr=dr.bottom-fr.top;or.globals.isRangeBar?(ir=or.globals.yAxisScale[0].niceMin+gr*cr.invertedYRatio,rr=or.globals.yAxisScale[0].niceMin+yr*cr.invertedYRatio):(ir=or.globals.xAxisScale.niceMin+gr*cr.xRatio,rr=or.globals.xAxisScale.niceMin+yr*cr.xRatio);var Sr=[],Tr=[];if(or.config.yaxis.forEach((function(qr,Hr){var Yr=or.globals.seriesYAxisMap[Hr][0],ro=or.globals.yAxisScale[Hr].niceMax-cr.yRatio[Yr]*vr,io=or.globals.yAxisScale[Hr].niceMax-cr.yRatio[Yr]*jr;Sr.push(ro),Tr.push(io)})),lr.dragged&&(lr.dragX>10||lr.dragY>10)&&ir!==rr){if(or.globals.zoomEnabled){var Lr=v$1.clone(or.globals.initialConfig.yaxis),Mr=v$1.clone(or.globals.initialConfig.xaxis);if(or.globals.zoomed=!0,or.config.xaxis.convertedCatToNumeric&&(ir=Math.floor(ir),rr=Math.floor(rr),ir<1&&(ir=1,rr=or.globals.dataPoints),rr-ir<2&&(rr=ir+1)),ar!=="xy"&&ar!=="x"||(Mr={min:ir,max:rr}),ar!=="xy"&&ar!=="y"||Lr.forEach((function(qr,Hr){Lr[Hr].min=Tr[Hr],Lr[Hr].max=Sr[Hr]})),ur){var Nr=ur.getBeforeZoomRange(Mr,Lr);Nr&&(Mr=Nr.xaxis?Nr.xaxis:Mr,Lr=Nr.yaxis?Nr.yaxis:Lr)}var Or={xaxis:Mr};or.config.chart.group||(Or.yaxis=Lr),lr.ctx.updateHelpers._updateOptions(Or,!1,lr.w.config.chart.animations.dynamicAnimation.enabled),typeof or.config.chart.events.zoomed=="function"&&ur.zoomCallback(Mr,Lr)}else if(or.globals.selectionEnabled){var Fr,Gr=null;Fr={min:ir,max:rr},ar!=="xy"&&ar!=="y"||(Gr=v$1.clone(or.config.yaxis)).forEach((function(qr,Hr){Gr[Hr].min=Tr[Hr],Gr[Hr].max=Sr[Hr]})),or.globals.selection=lr.selection,typeof or.config.chart.events.selection=="function"&&or.config.chart.events.selection(lr.ctx,{xaxis:Fr,yaxis:Gr})}}}},{key:"panDragging",value:function(nr){var ir=nr.context,rr=this.w,sr=ir;if(rr.globals.lastClientPosition.x!==void 0){var ar=rr.globals.lastClientPosition.x-sr.clientX,or=rr.globals.lastClientPosition.y-sr.clientY;Math.abs(ar)>Math.abs(or)&&ar>0?this.moveDirection="left":Math.abs(ar)>Math.abs(or)&&ar<0?this.moveDirection="right":Math.abs(or)>Math.abs(ar)&&or>0?this.moveDirection="up":Math.abs(or)>Math.abs(ar)&&or<0&&(this.moveDirection="down")}rr.globals.lastClientPosition={x:sr.clientX,y:sr.clientY};var lr=rr.globals.isRangeBar?rr.globals.minY:rr.globals.minX,cr=rr.globals.isRangeBar?rr.globals.maxY:rr.globals.maxX;sr.panScrolled(lr,cr)}},{key:"panScrolled",value:function(nr,ir){var rr=this.w,sr=this.xyRatios,ar=v$1.clone(rr.globals.initialConfig.yaxis),or=sr.xRatio,lr=rr.globals.minX,cr=rr.globals.maxX;rr.globals.isRangeBar&&(or=sr.invertedYRatio,lr=rr.globals.minY,cr=rr.globals.maxY),this.moveDirection==="left"?(nr=lr+rr.globals.gridWidth/15*or,ir=cr+rr.globals.gridWidth/15*or):this.moveDirection==="right"&&(nr=lr-rr.globals.gridWidth/15*or,ir=cr-rr.globals.gridWidth/15*or),rr.globals.isRangeBar||(nr<rr.globals.initialMinX||ir>rr.globals.initialMaxX)&&(nr=lr,ir=cr);var ur={xaxis:{min:nr,max:ir}};rr.config.chart.group||(ur.yaxis=ar),this.updateScrolledChart(ur,nr,ir)}},{key:"updateScrolledChart",value:function(nr,ir,rr){var sr=this.w;if(this.ctx.updateHelpers._updateOptions(nr,!1,!1),typeof sr.config.chart.events.scrolled=="function"){var ar={xaxis:{min:ir,max:rr}};sr.config.chart.events.scrolled(this.ctx,ar),this.ctx.events.fireEvent("scrolled",ar)}}}]),er})(),ya=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.ttCtx=Hn,this.ctx=Hn.ctx}return s$1(tr,[{key:"getNearestValues",value:function(Hn){var er=Hn.hoverArea,nr=Hn.elGrid,ir=Hn.clientX,rr=Hn.clientY,sr=this.w,ar=nr.getBoundingClientRect(),or=ar.width,lr=ar.height,cr=or/(sr.globals.dataPoints-1),ur=lr/sr.globals.dataPoints,dr=this.hasBars();!sr.globals.comboCharts&&!dr||sr.config.xaxis.convertedCatToNumeric||(cr=or/sr.globals.dataPoints);var fr=ir-ar.left-sr.globals.barPadForNumericAxis,gr=rr-ar.top;fr<0||gr<0||fr>or||gr>lr?(er.classList.remove("hovering-zoom"),er.classList.remove("hovering-pan")):sr.globals.zoomEnabled?(er.classList.remove("hovering-pan"),er.classList.add("hovering-zoom")):sr.globals.panEnabled&&(er.classList.remove("hovering-zoom"),er.classList.add("hovering-pan"));var yr=Math.round(fr/cr),vr=Math.floor(gr/ur);dr&&!sr.config.xaxis.convertedCatToNumeric&&(yr=Math.ceil(fr/cr),yr-=1);var jr=null,Sr=null,Tr=sr.globals.seriesXvalues.map((function(Fr){return Fr.filter((function(Gr){return v$1.isNumber(Gr)}))})),Lr=sr.globals.seriesYvalues.map((function(Fr){return Fr.filter((function(Gr){return v$1.isNumber(Gr)}))}));if(sr.globals.isXNumeric){var Mr=this.ttCtx.getElGrid().getBoundingClientRect(),Nr=fr*(Mr.width/or),Or=gr*(Mr.height/lr);jr=(Sr=this.closestInMultiArray(Nr,Or,Tr,Lr)).index,yr=Sr.j,jr!==null&&sr.globals.hasNullValues&&(Tr=sr.globals.seriesXvalues[jr],yr=(Sr=this.closestInArray(Nr,Tr)).j)}return sr.globals.capturedSeriesIndex=jr===null?-1:jr,(!yr||yr<1)&&(yr=0),sr.globals.isBarHorizontal?sr.globals.capturedDataPointIndex=vr:sr.globals.capturedDataPointIndex=yr,{capturedSeries:jr,j:sr.globals.isBarHorizontal?vr:yr,hoverX:fr,hoverY:gr}}},{key:"getFirstActiveXArray",value:function(Hn){for(var er=this.w,nr=0,ir=Hn.map((function(sr,ar){return sr.length>0?ar:-1})),rr=0;rr<ir.length;rr++)if(ir[rr]!==-1&&er.globals.collapsedSeriesIndices.indexOf(rr)===-1&&er.globals.ancillaryCollapsedSeriesIndices.indexOf(rr)===-1){nr=ir[rr];break}return nr}},{key:"closestInMultiArray",value:function(Hn,er,nr,ir){for(var rr,sr=this.w,ar=1/0,or=null,lr=null,cr=0;cr<nr.length;cr++)if(rr=cr,sr.globals.collapsedSeriesIndices.indexOf(rr)===-1&&sr.globals.ancillaryCollapsedSeriesIndices.indexOf(rr)===-1)for(var ur=nr[cr],dr=ir[cr],fr=Math.min(ur.length,dr.length),gr=0;gr<fr;gr++){var yr=Hn-ur[gr],vr=Math.sqrt(yr*yr);if(!sr.globals.allSeriesHasEqualX){var jr=er-dr[gr];vr=Math.sqrt(yr*yr+jr*jr)}vr<ar&&(ar=vr,or=cr,lr=gr)}return{index:or,j:lr}}},{key:"closestInArray",value:function(Hn,er){for(var nr=er[0],ir=null,rr=Math.abs(Hn-nr),sr=0;sr<er.length;sr++){var ar=Math.abs(Hn-er[sr]);ar<rr&&(rr=ar,ir=sr)}return{j:ir}}},{key:"isXoverlap",value:function(Hn){var er=[],nr=this.w.globals.seriesX.filter((function(rr){return rr[0]!==void 0}));if(nr.length>0)for(var ir=0;ir<nr.length-1;ir++)nr[ir][Hn]!==void 0&&nr[ir+1][Hn]!==void 0&&nr[ir][Hn]!==nr[ir+1][Hn]&&er.push("unEqual");return er.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var Hn=!0,er=this.w.globals.initialSeries,nr=0;nr<er.length-1;nr++)if(er[nr].data.length!==er[nr+1].data.length){Hn=!1;break}return Hn}},{key:"getBarsHeight",value:function(Hn){return f$2(Hn).reduce((function(er,nr){return er+nr.getBBox().height}),0)}},{key:"getElMarkers",value:function(Hn){return typeof Hn=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(Hn,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var Hn=this,er=arguments.length>0&&arguments[0]!==void 0&&arguments[0],nr=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");nr=f$2(nr),er&&(nr=nr.filter((function(rr){var sr=Number(rr.getAttribute("data:realIndex"));return Hn.w.globals.collapsedSeriesIndices.indexOf(sr)===-1}))),nr.sort((function(rr,sr){var ar=Number(rr.getAttribute("data:realIndex")),or=Number(sr.getAttribute("data:realIndex"));return or<ar?1:or>ar?-1:0}));var ir=[];return nr.forEach((function(rr){ir.push(rr.querySelector(".apexcharts-marker"))})),ir}},{key:"hasMarkers",value:function(Hn){return this.getElMarkers(Hn).length>0}},{key:"getPathFromPoint",value:function(Hn,er){var nr=Number(Hn.getAttribute("cx")),ir=Number(Hn.getAttribute("cy")),rr=Hn.getAttribute("shape");return new Mi$1(this.ctx).getMarkerPath(nr,ir,rr,er)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(Hn){var er=this.w,nr=er.config.markers.hover.size;return nr===void 0&&(nr=er.globals.markers.size[Hn]+er.config.markers.hover.sizeOffset),nr}},{key:"toggleAllTooltipSeriesGroups",value:function(Hn){var er=this.w,nr=this.ttCtx;nr.allTooltipSeriesGroups.length===0&&(nr.allTooltipSeriesGroups=er.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var ir=nr.allTooltipSeriesGroups,rr=0;rr<ir.length;rr++)Hn==="enable"?(ir[rr].classList.add("apexcharts-active"),ir[rr].style.display=er.config.tooltip.items.display):(ir[rr].classList.remove("apexcharts-active"),ir[rr].style.display="none")}}]),tr})(),wa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.ctx=Hn.ctx,this.ttCtx=Hn,this.tooltipUtil=new ya(Hn)}return s$1(tr,[{key:"drawSeriesTexts",value:function(Hn){var er=Hn.shared,nr=er===void 0||er,ir=Hn.ttItems,rr=Hn.i,sr=rr===void 0?0:rr,ar=Hn.j,or=ar===void 0?null:ar,lr=Hn.y1,cr=Hn.y2,ur=Hn.e,dr=this.w;dr.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:sr,j:or,y1:lr,y2:cr,w:dr}):this.toggleActiveInactiveSeries(nr,sr);var fr=this.getValuesToPrint({i:sr,j:or});this.printLabels({i:sr,j:or,values:fr,ttItems:ir,shared:nr,e:ur});var gr=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=gr.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=gr.getBoundingClientRect().height}},{key:"printLabels",value:function(Hn){var er,nr=this,ir=Hn.i,rr=Hn.j,sr=Hn.values,ar=Hn.ttItems,or=Hn.shared,lr=Hn.e,cr=this.w,ur=[],dr=function(Mr){return cr.globals.seriesGoals[Mr]&&cr.globals.seriesGoals[Mr][rr]&&Array.isArray(cr.globals.seriesGoals[Mr][rr])},fr=sr.xVal,gr=sr.zVal,yr=sr.xAxisTTVal,vr="",jr=cr.globals.colors[ir];rr!==null&&cr.config.plotOptions.bar.distributed&&(jr=cr.globals.colors[rr]);for(var Sr=function(Mr,Nr){var Or=nr.getFormatters(ir);vr=nr.getSeriesName({fn:Or.yLbTitleFormatter,index:ir,seriesIndex:ir,j:rr}),cr.config.chart.type==="treemap"&&(vr=Or.yLbTitleFormatter(String(cr.config.series[ir].data[rr].x),{series:cr.globals.series,seriesIndex:ir,dataPointIndex:rr,w:cr}));var Fr=cr.config.tooltip.inverseOrder?Nr:Mr;if(cr.globals.axisCharts){var Gr=function(Yr){var ro,io,fo,ao;return cr.globals.isRangeData?Or.yLbFormatter((ro=cr.globals.seriesRangeStart)===null||ro===void 0||(io=ro[Yr])===null||io===void 0?void 0:io[rr],{series:cr.globals.seriesRangeStart,seriesIndex:Yr,dataPointIndex:rr,w:cr})+" - "+Or.yLbFormatter((fo=cr.globals.seriesRangeEnd)===null||fo===void 0||(ao=fo[Yr])===null||ao===void 0?void 0:ao[rr],{series:cr.globals.seriesRangeEnd,seriesIndex:Yr,dataPointIndex:rr,w:cr}):Or.yLbFormatter(cr.globals.series[Yr][rr],{series:cr.globals.series,seriesIndex:Yr,dataPointIndex:rr,w:cr})};if(or)Or=nr.getFormatters(Fr),vr=nr.getSeriesName({fn:Or.yLbTitleFormatter,index:Fr,seriesIndex:ir,j:rr}),jr=cr.globals.colors[Fr],er=Gr(Fr),dr(Fr)&&(ur=cr.globals.seriesGoals[Fr][rr].map((function(Yr){return{attrs:Yr,val:Or.yLbFormatter(Yr.value,{seriesIndex:Fr,dataPointIndex:rr,w:cr})}})));else{var qr,Hr=lr==null||(qr=lr.target)===null||qr===void 0?void 0:qr.getAttribute("fill");Hr&&(Hr.indexOf("url")!==-1?Hr.indexOf("Pattern")!==-1&&(jr=cr.globals.dom.baseEl.querySelector(Hr.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):jr=Hr),er=Gr(ir),dr(ir)&&Array.isArray(cr.globals.seriesGoals[ir][rr])&&(ur=cr.globals.seriesGoals[ir][rr].map((function(Yr){return{attrs:Yr,val:Or.yLbFormatter(Yr.value,{seriesIndex:ir,dataPointIndex:rr,w:cr})}})))}}rr===null&&(er=Or.yLbFormatter(cr.globals.series[ir],u$2(u$2({},cr),{},{seriesIndex:ir,dataPointIndex:ir}))),nr.DOMHandling({i:ir,t:Fr,j:rr,ttItems:ar,values:{val:er,goalVals:ur,xVal:fr,xAxisTTVal:yr,zVal:gr},seriesName:vr,shared:or,pColor:jr})},Tr=0,Lr=cr.globals.series.length-1;Tr<cr.globals.series.length;Tr++,Lr--)Sr(Tr,Lr)}},{key:"getFormatters",value:function(Hn){var er,nr=this.w,ir=nr.globals.yLabelFormatters[Hn];return nr.globals.ttVal!==void 0?Array.isArray(nr.globals.ttVal)?(ir=nr.globals.ttVal[Hn]&&nr.globals.ttVal[Hn].formatter,er=nr.globals.ttVal[Hn]&&nr.globals.ttVal[Hn].title&&nr.globals.ttVal[Hn].title.formatter):(ir=nr.globals.ttVal.formatter,typeof nr.globals.ttVal.title.formatter=="function"&&(er=nr.globals.ttVal.title.formatter)):er=nr.config.tooltip.y.title.formatter,typeof ir!="function"&&(ir=nr.globals.yLabelFormatters[0]?nr.globals.yLabelFormatters[0]:function(rr){return rr}),typeof er!="function"&&(er=function(rr){return rr?rr+": ":""}),{yLbFormatter:ir,yLbTitleFormatter:er}}},{key:"getSeriesName",value:function(Hn){var er=Hn.fn,nr=Hn.index,ir=Hn.seriesIndex,rr=Hn.j,sr=this.w;return er(String(sr.globals.seriesNames[nr]),{series:sr.globals.series,seriesIndex:ir,dataPointIndex:rr,w:sr})}},{key:"DOMHandling",value:function(Hn){Hn.i;var er=Hn.t,nr=Hn.j,ir=Hn.ttItems,rr=Hn.values,sr=Hn.seriesName,ar=Hn.shared,or=Hn.pColor,lr=this.w,cr=this.ttCtx,ur=rr.val,dr=rr.goalVals,fr=rr.xVal,gr=rr.xAxisTTVal,yr=rr.zVal,vr=null;vr=ir[er].children,lr.config.tooltip.fillSeriesColor&&(ir[er].style.backgroundColor=or,vr[0].style.display="none"),cr.showTooltipTitle&&(cr.tooltipTitle===null&&(cr.tooltipTitle=lr.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),cr.tooltipTitle.innerHTML=fr),cr.isXAxisTooltipEnabled&&(cr.xaxisTooltipText.innerHTML=gr!==""?gr:fr);var jr=ir[er].querySelector(".apexcharts-tooltip-text-y-label");jr&&(jr.innerHTML=sr||"");var Sr=ir[er].querySelector(".apexcharts-tooltip-text-y-value");Sr&&(Sr.innerHTML=ur!==void 0?ur:""),vr[0]&&vr[0].classList.contains("apexcharts-tooltip-marker")&&(lr.config.tooltip.marker.fillColors&&Array.isArray(lr.config.tooltip.marker.fillColors)&&(or=lr.config.tooltip.marker.fillColors[er]),lr.config.tooltip.fillSeriesColor?vr[0].style.backgroundColor=or:vr[0].style.color=or),lr.config.tooltip.marker.show||(vr[0].style.display="none");var Tr=ir[er].querySelector(".apexcharts-tooltip-text-goals-label"),Lr=ir[er].querySelector(".apexcharts-tooltip-text-goals-value");if(dr.length&&lr.globals.seriesGoals[er]){var Mr=function(){var Fr="<div>",Gr="<div>";dr.forEach((function(qr,Hr){Fr+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(qr.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(qr.attrs.name,"</div>"),Gr+="<div>".concat(qr.val,"</div>")})),Tr.innerHTML=Fr+"</div>",Lr.innerHTML=Gr+"</div>"};ar?lr.globals.seriesGoals[er][nr]&&Array.isArray(lr.globals.seriesGoals[er][nr])?Mr():(Tr.innerHTML="",Lr.innerHTML=""):Mr()}else Tr.innerHTML="",Lr.innerHTML="";if(yr!==null&&(ir[er].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=lr.config.tooltip.z.title,ir[er].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=yr!==void 0?yr:""),ar&&vr[0]){if(lr.config.tooltip.hideEmptySeries){var Nr=ir[er].querySelector(".apexcharts-tooltip-marker"),Or=ir[er].querySelector(".apexcharts-tooltip-text");parseFloat(ur)==0?(Nr.style.display="none",Or.style.display="none"):(Nr.style.display="block",Or.style.display="block")}ur==null||lr.globals.ancillaryCollapsedSeriesIndices.indexOf(er)>-1||lr.globals.collapsedSeriesIndices.indexOf(er)>-1||Array.isArray(cr.tConfig.enabledOnSeries)&&cr.tConfig.enabledOnSeries.indexOf(er)===-1?vr[0].parentNode.style.display="none":vr[0].parentNode.style.display=lr.config.tooltip.items.display}else Array.isArray(cr.tConfig.enabledOnSeries)&&cr.tConfig.enabledOnSeries.indexOf(er)===-1&&(vr[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(Hn,er){var nr=this.w;if(Hn)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var ir=nr.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(er));ir&&(ir.classList.add("apexcharts-active"),ir.style.display=nr.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(Hn){var er=Hn.i,nr=Hn.j,ir=this.w,rr=this.ctx.series.filteredSeriesX(),sr="",ar="",or=null,lr=null,cr={series:ir.globals.series,seriesIndex:er,dataPointIndex:nr,w:ir},ur=ir.globals.ttZFormatter;nr===null?lr=ir.globals.series[er]:ir.globals.isXNumeric&&ir.config.chart.type!=="treemap"?(sr=rr[er][nr],rr[er].length===0&&(sr=rr[this.tooltipUtil.getFirstActiveXArray(rr)][nr])):sr=new Ji$1(this.ctx).isFormatXY()?ir.config.series[er].data[nr]!==void 0?ir.config.series[er].data[nr].x:"":ir.globals.labels[nr]!==void 0?ir.globals.labels[nr]:"";var dr=sr;return ir.globals.isXNumeric&&ir.config.xaxis.type==="datetime"?sr=new Xi$1(this.ctx).xLabelFormat(ir.globals.ttKeyFormatter,dr,dr,{i:void 0,dateFormatter:new zi$1(this.ctx).formatDate,w:this.w}):sr=ir.globals.isBarHorizontal?ir.globals.yLabelFormatters[0](dr,cr):ir.globals.xLabelFormatter(dr,cr),ir.config.tooltip.x.formatter!==void 0&&(sr=ir.globals.ttKeyFormatter(dr,cr)),ir.globals.seriesZ.length>0&&ir.globals.seriesZ[er].length>0&&(or=ur(ir.globals.seriesZ[er][nr],ir)),ar=typeof ir.config.xaxis.tooltip.formatter=="function"?ir.globals.xaxisTooltipFormatter(dr,cr):sr,{val:Array.isArray(lr)?lr.join(" "):lr,xVal:Array.isArray(sr)?sr.join(" "):sr,xAxisTTVal:Array.isArray(ar)?ar.join(" "):ar,zVal:or}}},{key:"handleCustomTooltip",value:function(Hn){var er=Hn.i,nr=Hn.j,ir=Hn.y1,rr=Hn.y2,sr=Hn.w,ar=this.ttCtx.getElTooltip(),or=sr.config.tooltip.custom;Array.isArray(or)&&or[er]&&(or=or[er]);var lr=or({ctx:this.ctx,series:sr.globals.series,seriesIndex:er,dataPointIndex:nr,y1:ir,y2:rr,w:sr});typeof lr=="string"||typeof lr=="number"?ar.innerHTML=lr:(lr instanceof Element||typeof lr.nodeName=="string")&&(ar.innerHTML="",ar.appendChild(lr.cloneNode(!0)))}}]),tr})(),ka=(function(){function tr(Hn){i$1(this,tr),this.ttCtx=Hn,this.ctx=Hn.ctx,this.w=Hn.w}return s$1(tr,[{key:"moveXCrosshairs",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,nr=this.ttCtx,ir=this.w,rr=nr.getElXCrosshairs(),sr=Hn-nr.xcrosshairsWidth/2,ar=ir.globals.labels.slice().length;if(er!==null&&(sr=ir.globals.gridWidth/ar*er),rr===null||ir.globals.isBarHorizontal||(rr.setAttribute("x",sr),rr.setAttribute("x1",sr),rr.setAttribute("x2",sr),rr.setAttribute("y2",ir.globals.gridHeight),rr.classList.add("apexcharts-active")),sr<0&&(sr=0),sr>ir.globals.gridWidth&&(sr=ir.globals.gridWidth),nr.isXAxisTooltipEnabled){var or=sr;ir.config.xaxis.crosshairs.width!=="tickWidth"&&ir.config.xaxis.crosshairs.width!=="barWidth"||(or=sr+nr.xcrosshairsWidth/2),this.moveXAxisTooltip(or)}}},{key:"moveYCrosshairs",value:function(Hn){var er=this.ttCtx;er.ycrosshairs!==null&&Mi$1.setAttrs(er.ycrosshairs,{y1:Hn,y2:Hn}),er.ycrosshairsHidden!==null&&Mi$1.setAttrs(er.ycrosshairsHidden,{y1:Hn,y2:Hn})}},{key:"moveXAxisTooltip",value:function(Hn){var er=this.w,nr=this.ttCtx;if(nr.xaxisTooltip!==null&&nr.xcrosshairsWidth!==0){nr.xaxisTooltip.classList.add("apexcharts-active");var ir=nr.xaxisOffY+er.config.xaxis.tooltip.offsetY+er.globals.translateY+1+er.config.xaxis.offsetY;if(Hn-=nr.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(Hn)){Hn+=er.globals.translateX;var rr;rr=new Mi$1(this.ctx).getTextRects(nr.xaxisTooltipText.innerHTML),nr.xaxisTooltipText.style.minWidth=rr.width+"px",nr.xaxisTooltip.style.left=Hn+"px",nr.xaxisTooltip.style.top=ir+"px"}}}},{key:"moveYAxisTooltip",value:function(Hn){var er=this.w,nr=this.ttCtx;nr.yaxisTTEls===null&&(nr.yaxisTTEls=er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var ir=parseInt(nr.ycrosshairsHidden.getAttribute("y1"),10),rr=er.globals.translateY+ir,sr=nr.yaxisTTEls[Hn].getBoundingClientRect(),ar=sr.height,or=er.globals.translateYAxisX[Hn]-2;er.config.yaxis[Hn].opposite&&(or-=sr.width),rr-=ar/2,er.globals.ignoreYAxisIndexes.indexOf(Hn)===-1&&rr>0&&rr<er.globals.gridHeight?(nr.yaxisTTEls[Hn].classList.add("apexcharts-active"),nr.yaxisTTEls[Hn].style.top=rr+"px",nr.yaxisTTEls[Hn].style.left=or+er.config.yaxis[Hn].tooltip.offsetX+"px"):nr.yaxisTTEls[Hn].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ir=this.w,rr=this.ttCtx,sr=rr.getElTooltip(),ar=rr.tooltipRect,or=nr!==null?parseFloat(nr):1,lr=parseFloat(Hn)+or+5,cr=parseFloat(er)+or/2;if(lr>ir.globals.gridWidth/2&&(lr=lr-ar.ttWidth-or-10),lr>ir.globals.gridWidth-ar.ttWidth-10&&(lr=ir.globals.gridWidth-ar.ttWidth),lr<-20&&(lr=-20),ir.config.tooltip.followCursor){var ur=rr.getElGrid().getBoundingClientRect();(lr=rr.e.clientX-ur.left)>ir.globals.gridWidth/2&&(lr-=rr.tooltipRect.ttWidth),(cr=rr.e.clientY+ir.globals.translateY-ur.top)>ir.globals.gridHeight/2&&(cr-=rr.tooltipRect.ttHeight)}else ir.globals.isBarHorizontal||ar.ttHeight/2+cr>ir.globals.gridHeight&&(cr=ir.globals.gridHeight-ar.ttHeight+ir.globals.translateY);isNaN(lr)||(lr+=ir.globals.translateX,sr.style.left=lr+"px",sr.style.top=cr+"px")}},{key:"moveMarkers",value:function(Hn,er){var nr=this.w,ir=this.ttCtx;if(nr.globals.markers.size[Hn]>0)for(var rr=nr.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(Hn,"'] .apexcharts-marker")),sr=0;sr<rr.length;sr++)parseInt(rr[sr].getAttribute("rel"),10)===er&&(ir.marker.resetPointsSize(),ir.marker.enlargeCurrentPoint(er,rr[sr]));else ir.marker.resetPointsSize(),this.moveDynamicPointOnHover(er,Hn)}},{key:"moveDynamicPointOnHover",value:function(Hn,er){var nr,ir,rr,sr,ar=this.w,or=this.ttCtx,lr=new Mi$1(this.ctx),cr=ar.globals.pointsArray,ur=or.tooltipUtil.getHoverMarkerSize(er),dr=ar.config.series[er].type;if(!dr||dr!=="column"&&dr!=="candlestick"&&dr!=="boxPlot"){rr=(nr=cr[er][Hn])===null||nr===void 0?void 0:nr[0],sr=((ir=cr[er][Hn])===null||ir===void 0?void 0:ir[1])||0;var fr=ar.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(er,"'] .apexcharts-series-markers path"));if(fr&&sr<ar.globals.gridHeight&&sr>0){var gr=fr.getAttribute("shape"),yr=lr.getMarkerPath(rr,sr,gr,1.5*ur);fr.setAttribute("d",yr)}this.moveXCrosshairs(rr),or.fixedTooltip||this.moveTooltip(rr,sr,ur)}}},{key:"moveDynamicPointsOnHover",value:function(Hn){var er,nr=this.ttCtx,ir=nr.w,rr=0,sr=0,ar=ir.globals.pointsArray,or=new $i$1(this.ctx),lr=new Mi$1(this.ctx);er=or.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var cr=nr.tooltipUtil.getHoverMarkerSize(er);if(ar[er]&&(rr=ar[er][Hn][0],sr=ar[er][Hn][1]),!isNaN(rr)){var ur=nr.tooltipUtil.getAllMarkers();if(ur.length)for(var dr=0;dr<ir.globals.series.length;dr++){var fr=ar[dr];if(ir.globals.comboCharts&&fr===void 0&&ur.splice(dr,0,null),fr&&fr.length){var gr=ar[dr][Hn][1],yr=void 0;ur[dr].setAttribute("cx",rr);var vr=ur[dr].getAttribute("shape");if(ir.config.chart.type==="rangeArea"&&!ir.globals.comboCharts){var jr=Hn+ir.globals.series[dr].length;yr=ar[dr][jr][1],gr-=Math.abs(gr-yr)/2}if(gr!==null&&!isNaN(gr)&&gr<ir.globals.gridHeight+cr&&gr+cr>0){var Sr=lr.getMarkerPath(rr,gr,vr,cr);ur[dr].setAttribute("d",Sr)}else ur[dr].setAttribute("d","")}}this.moveXCrosshairs(rr),nr.fixedTooltip||this.moveTooltip(rr,sr||ir.globals.gridHeight,cr)}}},{key:"moveStickyTooltipOverBars",value:function(Hn,er){var nr=this.w,ir=this.ttCtx,rr=nr.globals.columnSeries?nr.globals.columnSeries.length:nr.globals.series.length;nr.config.chart.stacked&&(rr=nr.globals.barGroups.length);var sr=rr>=2&&rr%2==0?Math.floor(rr/2):Math.floor(rr/2)+1;nr.globals.isBarHorizontal&&(sr=new $i$1(this.ctx).getActiveConfigSeriesIndex("desc")+1);var ar=nr.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(sr,"'] path[j='").concat(Hn,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(sr,"'] path[j='").concat(Hn,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(sr,"'] path[j='").concat(Hn,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(sr,"'] path[j='").concat(Hn,"']"));ar||typeof er!="number"||(ar=nr.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(er,"'] path[j='").concat(Hn,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(er,"'] path[j='").concat(Hn,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(er,"'] path[j='").concat(Hn,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(er,"'] path[j='").concat(Hn,"']")));var or=ar?parseFloat(ar.getAttribute("cx")):0,lr=ar?parseFloat(ar.getAttribute("cy")):0,cr=ar?parseFloat(ar.getAttribute("barWidth")):0,ur=ir.getElGrid().getBoundingClientRect(),dr=ar&&(ar.classList.contains("apexcharts-candlestick-area")||ar.classList.contains("apexcharts-boxPlot-area"));nr.globals.isXNumeric?(ar&&!dr&&(or-=rr%2!=0?cr/2:0),ar&&dr&&(or-=cr/2)):nr.globals.isBarHorizontal||(or=ir.xAxisTicksPositions[Hn-1]+ir.dataPointsDividedWidth/2,isNaN(or)&&(or=ir.xAxisTicksPositions[Hn]-ir.dataPointsDividedWidth/2)),nr.globals.isBarHorizontal?lr-=ir.tooltipRect.ttHeight:nr.config.tooltip.followCursor?lr=ir.e.clientY-ur.top-ir.tooltipRect.ttHeight/2:lr+ir.tooltipRect.ttHeight+15>nr.globals.gridHeight&&(lr=nr.globals.gridHeight),nr.globals.isBarHorizontal||this.moveXCrosshairs(or),ir.fixedTooltip||this.moveTooltip(or,lr||nr.globals.gridHeight)}}]),tr})(),Aa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.ttCtx=Hn,this.ctx=Hn.ctx,this.tooltipPosition=new ka(Hn)}return s$1(tr,[{key:"drawDynamicPoints",value:function(){var Hn=this.w,er=new Mi$1(this.ctx),nr=new Vi$1(this.ctx),ir=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series");ir=f$2(ir),Hn.config.chart.stacked&&ir.sort((function(ur,dr){return parseFloat(ur.getAttribute("data:realIndex"))-parseFloat(dr.getAttribute("data:realIndex"))}));for(var rr=0;rr<ir.length;rr++){var sr=ir[rr].querySelector(".apexcharts-series-markers-wrap");if(sr!==null){var ar=void 0,or="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));Hn.config.chart.type!=="line"&&Hn.config.chart.type!=="area"||Hn.globals.comboCharts||Hn.config.tooltip.intersect||(or+=" no-pointer-events");var lr=nr.getMarkerConfig({cssClass:or,seriesIndex:Number(sr.getAttribute("data:realIndex"))});(ar=er.drawMarker(0,0,lr)).node.setAttribute("default-marker-size",0);var cr=document.createElementNS(Hn.globals.SVGNS,"g");cr.classList.add("apexcharts-series-markers"),cr.appendChild(ar.node),sr.appendChild(cr)}}}},{key:"enlargeCurrentPoint",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,rr=this.w;rr.config.chart.type!=="bubble"&&this.newPointSize(Hn,er);var sr=er.getAttribute("cx"),ar=er.getAttribute("cy");if(nr!==null&&ir!==null&&(sr=nr,ar=ir),this.tooltipPosition.moveXCrosshairs(sr),!this.fixedTooltip){if(rr.config.chart.type==="radar"){var or=this.ttCtx.getElGrid().getBoundingClientRect();sr=this.ttCtx.e.clientX-or.left}this.tooltipPosition.moveTooltip(sr,ar,rr.config.markers.hover.size)}}},{key:"enlargePoints",value:function(Hn){for(var er=this.w,nr=this,ir=this.ttCtx,rr=Hn,sr=er.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),ar=er.config.markers.hover.size,or=0;or<sr.length;or++){var lr=sr[or].getAttribute("rel"),cr=sr[or].getAttribute("index");if(ar===void 0&&(ar=er.globals.markers.size[cr]+er.config.markers.hover.sizeOffset),rr===parseInt(lr,10)){nr.newPointSize(rr,sr[or]);var ur=sr[or].getAttribute("cx"),dr=sr[or].getAttribute("cy");nr.tooltipPosition.moveXCrosshairs(ur),ir.fixedTooltip||nr.tooltipPosition.moveTooltip(ur,dr,ar)}else nr.oldPointSize(sr[or])}}},{key:"newPointSize",value:function(Hn,er){var nr=this.w,ir=nr.config.markers.hover.size,rr=Hn===0?er.parentNode.firstChild:er.parentNode.lastChild;if(rr.getAttribute("default-marker-size")!=="0"){var sr=parseInt(rr.getAttribute("index"),10);ir===void 0&&(ir=nr.globals.markers.size[sr]+nr.config.markers.hover.sizeOffset),ir<0&&(ir=0);var ar=this.ttCtx.tooltipUtil.getPathFromPoint(er,ir);er.setAttribute("d",ar)}}},{key:"oldPointSize",value:function(Hn){var er=parseFloat(Hn.getAttribute("default-marker-size")),nr=this.ttCtx.tooltipUtil.getPathFromPoint(Hn,er);Hn.setAttribute("d",nr)}},{key:"resetPointsSize",value:function(){for(var Hn=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),er=0;er<Hn.length;er++){var nr=parseFloat(Hn[er].getAttribute("default-marker-size"));if(v$1.isNumber(nr)&&nr>0){var ir=this.ttCtx.tooltipUtil.getPathFromPoint(Hn[er],nr);Hn[er].setAttribute("d",ir)}else Hn[er].setAttribute("d","M0,0")}}}]),tr})(),Ca=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w;var er=this.w;this.ttCtx=Hn,this.isVerticalGroupedRangeBar=!er.globals.isBarHorizontal&&er.config.chart.type==="rangeBar"&&er.config.plotOptions.bar.rangeBarGroupRows}return s$1(tr,[{key:"getAttr",value:function(Hn,er){return parseFloat(Hn.target.getAttribute(er))}},{key:"handleHeatTreeTooltip",value:function(Hn){var er=Hn.e,nr=Hn.opt,ir=Hn.x,rr=Hn.y,sr=Hn.type,ar=this.ttCtx,or=this.w;if(er.target.classList.contains("apexcharts-".concat(sr,"-rect"))){var lr=this.getAttr(er,"i"),cr=this.getAttr(er,"j"),ur=this.getAttr(er,"cx"),dr=this.getAttr(er,"cy"),fr=this.getAttr(er,"width"),gr=this.getAttr(er,"height");if(ar.tooltipLabels.drawSeriesTexts({ttItems:nr.ttItems,i:lr,j:cr,shared:!1,e:er}),or.globals.capturedSeriesIndex=lr,or.globals.capturedDataPointIndex=cr,ir=ur+ar.tooltipRect.ttWidth/2+fr,rr=dr+ar.tooltipRect.ttHeight/2-gr/2,ar.tooltipPosition.moveXCrosshairs(ur+fr/2),ir>or.globals.gridWidth/2&&(ir=ur-ar.tooltipRect.ttWidth/2+fr),ar.w.config.tooltip.followCursor){var yr=or.globals.dom.elWrap.getBoundingClientRect();ir=or.globals.clientX-yr.left-(ir>or.globals.gridWidth/2?ar.tooltipRect.ttWidth:0),rr=or.globals.clientY-yr.top-(rr>or.globals.gridHeight/2?ar.tooltipRect.ttHeight:0)}}return{x:ir,y:rr}}},{key:"handleMarkerTooltip",value:function(Hn){var er,nr,ir=Hn.e,rr=Hn.opt,sr=Hn.x,ar=Hn.y,or=this.w,lr=this.ttCtx;if(ir.target.classList.contains("apexcharts-marker")){var cr=parseInt(rr.paths.getAttribute("cx"),10),ur=parseInt(rr.paths.getAttribute("cy"),10),dr=parseFloat(rr.paths.getAttribute("val"));if(nr=parseInt(rr.paths.getAttribute("rel"),10),er=parseInt(rr.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,lr.intersect){var fr=v$1.findAncestor(rr.paths,"apexcharts-series");fr&&(er=parseInt(fr.getAttribute("data:realIndex"),10))}if(lr.tooltipLabels.drawSeriesTexts({ttItems:rr.ttItems,i:er,j:nr,shared:!lr.showOnIntersect&&or.config.tooltip.shared,e:ir}),ir.type==="mouseup"&&lr.markerClick(ir,er,nr),or.globals.capturedSeriesIndex=er,or.globals.capturedDataPointIndex=nr,sr=cr,ar=ur+or.globals.translateY-1.4*lr.tooltipRect.ttHeight,lr.w.config.tooltip.followCursor){var gr=lr.getElGrid().getBoundingClientRect();ar=lr.e.clientY+or.globals.translateY-gr.top}dr<0&&(ar=ur),lr.marker.enlargeCurrentPoint(nr,rr.paths,sr,ar)}return{x:sr,y:ar}}},{key:"handleBarTooltip",value:function(Hn){var er,nr,ir=Hn.e,rr=Hn.opt,sr=this.w,ar=this.ttCtx,or=ar.getElTooltip(),lr=0,cr=0,ur=0,dr=this.getBarTooltipXY({e:ir,opt:rr});if(dr.j!==null||dr.barHeight!==0||dr.barWidth!==0){er=dr.i;var fr=dr.j;if(sr.globals.capturedSeriesIndex=er,sr.globals.capturedDataPointIndex=fr,sr.globals.isBarHorizontal&&ar.tooltipUtil.hasBars()||!sr.config.tooltip.shared?(cr=dr.x,ur=dr.y,nr=Array.isArray(sr.config.stroke.width)?sr.config.stroke.width[er]:sr.config.stroke.width,lr=cr):sr.globals.comboCharts||sr.config.tooltip.shared||(lr/=2),isNaN(ur)&&(ur=sr.globals.svgHeight-ar.tooltipRect.ttHeight),parseInt(rr.paths.parentNode.getAttribute("data:realIndex"),10),cr+ar.tooltipRect.ttWidth>sr.globals.gridWidth?cr-=ar.tooltipRect.ttWidth:cr<0&&(cr=0),ar.w.config.tooltip.followCursor){var gr=ar.getElGrid().getBoundingClientRect();ur=ar.e.clientY-gr.top}ar.tooltip===null&&(ar.tooltip=sr.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),sr.config.tooltip.shared||(sr.globals.comboBarCount>0?ar.tooltipPosition.moveXCrosshairs(lr+nr/2):ar.tooltipPosition.moveXCrosshairs(lr)),!ar.fixedTooltip&&(!sr.config.tooltip.shared||sr.globals.isBarHorizontal&&ar.tooltipUtil.hasBars())&&(ur=ur+sr.globals.translateY-ar.tooltipRect.ttHeight/2,or.style.left=cr+sr.globals.translateX+"px",or.style.top=ur+"px")}}},{key:"getBarTooltipXY",value:function(Hn){var er=this,nr=Hn.e,ir=Hn.opt,rr=this.w,sr=null,ar=this.ttCtx,or=0,lr=0,cr=0,ur=0,dr=0,fr=nr.target.classList;if(fr.contains("apexcharts-bar-area")||fr.contains("apexcharts-candlestick-area")||fr.contains("apexcharts-boxPlot-area")||fr.contains("apexcharts-rangebar-area")){var gr=nr.target,yr=gr.getBoundingClientRect(),vr=ir.elGrid.getBoundingClientRect(),jr=yr.height;dr=yr.height;var Sr=yr.width,Tr=parseInt(gr.getAttribute("cx"),10),Lr=parseInt(gr.getAttribute("cy"),10);ur=parseFloat(gr.getAttribute("barWidth"));var Mr=nr.type==="touchmove"?nr.touches[0].clientX:nr.clientX;sr=parseInt(gr.getAttribute("j"),10),or=parseInt(gr.parentNode.getAttribute("rel"),10)-1;var Nr=gr.getAttribute("data-range-y1"),Or=gr.getAttribute("data-range-y2");rr.globals.comboCharts&&(or=parseInt(gr.parentNode.getAttribute("data:realIndex"),10));var Fr=function(qr){return rr.globals.isXNumeric?Tr-Sr/2:er.isVerticalGroupedRangeBar?Tr+Sr/2:Tr-ar.dataPointsDividedWidth+Sr/2},Gr=function(){return Lr-ar.dataPointsDividedHeight+jr/2-ar.tooltipRect.ttHeight/2};ar.tooltipLabels.drawSeriesTexts({ttItems:ir.ttItems,i:or,j:sr,y1:Nr?parseInt(Nr,10):null,y2:Or?parseInt(Or,10):null,shared:!ar.showOnIntersect&&rr.config.tooltip.shared,e:nr}),rr.config.tooltip.followCursor?rr.globals.isBarHorizontal?(lr=Mr-vr.left+15,cr=Gr()):(lr=Fr(),cr=nr.clientY-vr.top-ar.tooltipRect.ttHeight/2-15):rr.globals.isBarHorizontal?((lr=Tr)<ar.xyRatios.baseLineInvertedY&&(lr=Tr-ar.tooltipRect.ttWidth),cr=Gr()):(lr=Fr(),cr=Lr)}return{x:lr,y:cr,barHeight:dr,barWidth:ur,i:or,j:sr}}}]),tr})(),Sa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.ttCtx=Hn}return s$1(tr,[{key:"drawXaxisTooltip",value:function(){var Hn=this.w,er=this.ttCtx,nr=Hn.config.xaxis.position==="bottom";er.xaxisOffY=nr?Hn.globals.gridHeight+1:-Hn.globals.xAxisHeight-Hn.config.xaxis.axisTicks.height+3;var ir=nr?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",rr=Hn.globals.dom.elWrap;er.isXAxisTooltipEnabled&&Hn.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(er.xaxisTooltip=document.createElement("div"),er.xaxisTooltip.setAttribute("class",ir+" apexcharts-theme-"+Hn.config.tooltip.theme),rr.appendChild(er.xaxisTooltip),er.xaxisTooltipText=document.createElement("div"),er.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),er.xaxisTooltipText.style.fontFamily=Hn.config.xaxis.tooltip.style.fontFamily||Hn.config.chart.fontFamily,er.xaxisTooltipText.style.fontSize=Hn.config.xaxis.tooltip.style.fontSize,er.xaxisTooltip.appendChild(er.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var Hn=this.w,er=this.ttCtx,nr=0;nr<Hn.config.yaxis.length;nr++){var ir=Hn.config.yaxis[nr].opposite||Hn.config.yaxis[nr].crosshairs.opposite;er.yaxisOffX=ir?Hn.globals.gridWidth+1:1;var rr="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(nr,ir?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),sr=Hn.globals.dom.elWrap;Hn.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(nr))===null&&(er.yaxisTooltip=document.createElement("div"),er.yaxisTooltip.setAttribute("class",rr+" apexcharts-theme-"+Hn.config.tooltip.theme),sr.appendChild(er.yaxisTooltip),nr===0&&(er.yaxisTooltipText=[]),er.yaxisTooltipText[nr]=document.createElement("div"),er.yaxisTooltipText[nr].classList.add("apexcharts-yaxistooltip-text"),er.yaxisTooltip.appendChild(er.yaxisTooltipText[nr]))}}},{key:"setXCrosshairWidth",value:function(){var Hn=this.w,er=this.ttCtx,nr=er.getElXCrosshairs();if(er.xcrosshairsWidth=parseInt(Hn.config.xaxis.crosshairs.width,10),Hn.globals.comboCharts){var ir=Hn.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(ir!==null&&Hn.config.xaxis.crosshairs.width==="barWidth"){var rr=parseFloat(ir.getAttribute("barWidth"));er.xcrosshairsWidth=rr}else if(Hn.config.xaxis.crosshairs.width==="tickWidth"){var sr=Hn.globals.labels.length;er.xcrosshairsWidth=Hn.globals.gridWidth/sr}}else if(Hn.config.xaxis.crosshairs.width==="tickWidth"){var ar=Hn.globals.labels.length;er.xcrosshairsWidth=Hn.globals.gridWidth/ar}else if(Hn.config.xaxis.crosshairs.width==="barWidth"){var or=Hn.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(or!==null){var lr=parseFloat(or.getAttribute("barWidth"));er.xcrosshairsWidth=lr}else er.xcrosshairsWidth=1}Hn.globals.isBarHorizontal&&(er.xcrosshairsWidth=0),nr!==null&&er.xcrosshairsWidth>0&&nr.setAttribute("width",er.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var Hn=this.w,er=this.ttCtx;er.ycrosshairs=Hn.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),er.ycrosshairsHidden=Hn.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(Hn,er,nr){var ir=this.ttCtx,rr=this.w,sr=rr.globals,ar=sr.seriesYAxisMap[Hn];if(ir.yaxisTooltips[Hn]&&ar.length>0){var or=sr.yLabelFormatters[Hn],lr=ir.getElGrid().getBoundingClientRect(),cr=ar[0],ur=0;nr.yRatio.length>1&&(ur=cr);var dr=(er-lr.top)*nr.yRatio[ur],fr=sr.maxYArr[cr]-sr.minYArr[cr],gr=sr.minYArr[cr]+(fr-dr);rr.config.yaxis[Hn].reversed&&(gr=sr.maxYArr[cr]-(fr-dr)),ir.tooltipPosition.moveYCrosshairs(er-lr.top),ir.yaxisTooltipText[Hn].innerHTML=or(gr),ir.tooltipPosition.moveYAxisTooltip(Hn)}}}]),tr})(),La=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var er=this.w;this.tConfig=er.config.tooltip,this.tooltipUtil=new ya(this),this.tooltipLabels=new wa(this),this.tooltipPosition=new ka(this),this.marker=new Aa(this),this.intersect=new Ca(this),this.axesTooltip=new Sa(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!er.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return s$1(tr,[{key:"getElTooltip",value:function(Hn){return Hn||(Hn=this),Hn.w.globals.dom.baseEl?Hn.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(Hn){var er=this.w;this.xyRatios=Hn,this.isXAxisTooltipEnabled=er.config.xaxis.tooltip.enabled&&er.globals.axisCharts,this.yaxisTooltips=er.config.yaxis.map((function(sr,ar){return!!(sr.show&&sr.tooltip.enabled&&er.globals.axisCharts)})),this.allTooltipSeriesGroups=[],er.globals.axisCharts||(this.showTooltipTitle=!1);var nr=document.createElement("div");if(nr.classList.add("apexcharts-tooltip"),er.config.tooltip.cssClass&&nr.classList.add(er.config.tooltip.cssClass),nr.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),er.globals.dom.elWrap.appendChild(nr),er.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var ir=new Ki$1(this.ctx);this.xAxisTicksPositions=ir.getXAxisTicksPositions()}if(!er.globals.comboCharts&&!this.tConfig.intersect&&er.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),er.config.markers.size!==0&&er.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),er.globals.collapsedSeries.length!==er.globals.series.length){this.dataPointsDividedHeight=er.globals.gridHeight/er.globals.dataPoints,this.dataPointsDividedWidth=er.globals.gridWidth/er.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||er.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,nr.appendChild(this.tooltipTitle));var rr=er.globals.series.length;(er.globals.xyCharts||er.globals.comboCharts)&&this.tConfig.shared&&(rr=this.showOnIntersect?1:er.globals.series.length),this.legendLabels=er.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(rr),this.addSVGEvents()}}},{key:"createTTElements",value:function(Hn){for(var er=this,nr=this.w,ir=[],rr=this.getElTooltip(),sr=function(or){var lr=document.createElement("div");lr.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(or)),lr.style.order=nr.config.tooltip.inverseOrder?Hn-or:or+1;var cr=document.createElement("span");cr.classList.add("apexcharts-tooltip-marker"),nr.config.tooltip.fillSeriesColor?cr.style.backgroundColor=nr.globals.colors[or]:cr.style.color=nr.globals.colors[or];var ur=nr.config.markers.shape,dr=ur;Array.isArray(ur)&&(dr=ur[or]),cr.setAttribute("shape",dr),lr.appendChild(cr);var fr=document.createElement("div");fr.classList.add("apexcharts-tooltip-text"),fr.style.fontFamily=er.tConfig.style.fontFamily||nr.config.chart.fontFamily,fr.style.fontSize=er.tConfig.style.fontSize,["y","goals","z"].forEach((function(gr){var yr=document.createElement("div");yr.classList.add("apexcharts-tooltip-".concat(gr,"-group"));var vr=document.createElement("span");vr.classList.add("apexcharts-tooltip-text-".concat(gr,"-label")),yr.appendChild(vr);var jr=document.createElement("span");jr.classList.add("apexcharts-tooltip-text-".concat(gr,"-value")),yr.appendChild(jr),fr.appendChild(yr)})),lr.appendChild(fr),rr.appendChild(lr),ir.push(lr)},ar=0;ar<Hn;ar++)sr(ar);return ir}},{key:"addSVGEvents",value:function(){var Hn=this.w,er=Hn.config.chart.type,nr=this.getElTooltip(),ir=!(er!=="bar"&&er!=="candlestick"&&er!=="boxPlot"&&er!=="rangeBar"),rr=er==="area"||er==="line"||er==="scatter"||er==="bubble"||er==="radar",sr=Hn.globals.dom.Paper.node,ar=this.getElGrid();ar&&(this.seriesBound=ar.getBoundingClientRect());var or,lr=[],cr=[],ur={hoverArea:sr,elGrid:ar,tooltipEl:nr,tooltipY:lr,tooltipX:cr,ttItems:this.ttItems};if(Hn.globals.axisCharts&&(rr?or=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):ir?or=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):er!=="heatmap"&&er!=="treemap"||(or=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),or&&or.length))for(var dr=0;dr<or.length;dr++)lr.push(or[dr].getAttribute("cy")),cr.push(or[dr].getAttribute("cx"));if(Hn.globals.xyCharts&&!this.showOnIntersect||Hn.globals.comboCharts&&!this.showOnIntersect||ir&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([sr],ur);else if(ir&&!Hn.globals.comboCharts||rr&&this.showOnIntersect)this.addDatapointEventsListeners(ur);else if(!Hn.globals.axisCharts||er==="heatmap"||er==="treemap"){var fr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(fr,ur)}if(this.showOnIntersect){var gr=Hn.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");gr.length>0&&this.addPathsEventListeners(gr,ur),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(ur)}}},{key:"drawFixedTooltipRect",value:function(){var Hn=this.w,er=this.getElTooltip(),nr=er.getBoundingClientRect(),ir=nr.width+10,rr=nr.height+10,sr=this.tConfig.fixed.offsetX,ar=this.tConfig.fixed.offsetY,or=this.tConfig.fixed.position.toLowerCase();return or.indexOf("right")>-1&&(sr=sr+Hn.globals.svgWidth-ir+10),or.indexOf("bottom")>-1&&(ar=ar+Hn.globals.svgHeight-rr-10),er.style.left=sr+"px",er.style.top=ar+"px",{x:sr,y:ar,ttWidth:ir,ttHeight:rr}}},{key:"addDatapointEventsListeners",value:function(Hn){var er=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(er,Hn)}},{key:"addPathsEventListeners",value:function(Hn,er){for(var nr=this,ir=function(sr){var ar={paths:Hn[sr],tooltipEl:er.tooltipEl,tooltipY:er.tooltipY,tooltipX:er.tooltipX,elGrid:er.elGrid,hoverArea:er.hoverArea,ttItems:er.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(or){return Hn[sr].addEventListener(or,nr.onSeriesHover.bind(nr,ar),{capture:!1,passive:!0})}))},rr=0;rr<Hn.length;rr++)ir(rr)}},{key:"onSeriesHover",value:function(Hn,er){var nr=this,ir=Date.now()-this.lastHoverTime;ir>=20?this.seriesHover(Hn,er):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){nr.seriesHover(Hn,er)}),20-ir))}},{key:"seriesHover",value:function(Hn,er){var nr=this;this.lastHoverTime=Date.now();var ir=[],rr=this.w;rr.config.chart.group&&(ir=this.ctx.getGroupedCharts()),rr.globals.axisCharts&&(rr.globals.minX===-1/0&&rr.globals.maxX===1/0||rr.globals.dataPoints===0)||(ir.length?ir.forEach((function(sr){var ar=nr.getElTooltip(sr),or={paths:Hn.paths,tooltipEl:ar,tooltipY:Hn.tooltipY,tooltipX:Hn.tooltipX,elGrid:Hn.elGrid,hoverArea:Hn.hoverArea,ttItems:sr.w.globals.tooltip.ttItems};sr.w.globals.minX===nr.w.globals.minX&&sr.w.globals.maxX===nr.w.globals.maxX&&sr.w.globals.tooltip.seriesHoverByContext({chartCtx:sr,ttCtx:sr.w.globals.tooltip,opt:or,e:er})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:Hn,e:er}))}},{key:"seriesHoverByContext",value:function(Hn){var er=Hn.chartCtx,nr=Hn.ttCtx,ir=Hn.opt,rr=Hn.e,sr=er.w,ar=this.getElTooltip(er);ar&&(nr.tooltipRect={x:0,y:0,ttWidth:ar.getBoundingClientRect().width,ttHeight:ar.getBoundingClientRect().height},nr.e=rr,nr.tooltipUtil.hasBars()&&!sr.globals.comboCharts&&!nr.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new $i$1(er).toggleSeriesOnHover(rr,rr.target.parentNode),sr.globals.axisCharts?nr.axisChartsTooltips({e:rr,opt:ir,tooltipRect:nr.tooltipRect}):nr.nonAxisChartsTooltips({e:rr,opt:ir,tooltipRect:nr.tooltipRect}),nr.fixedTooltip&&nr.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(Hn){var er,nr,ir=Hn.e,rr=Hn.opt,sr=this.w,ar=rr.elGrid.getBoundingClientRect(),or=ir.type==="touchmove"?ir.touches[0].clientX:ir.clientX,lr=ir.type==="touchmove"?ir.touches[0].clientY:ir.clientY;if(this.clientY=lr,this.clientX=or,sr.globals.capturedSeriesIndex=-1,sr.globals.capturedDataPointIndex=-1,lr<ar.top||lr>ar.top+ar.height)this.handleMouseOut(rr);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!sr.config.tooltip.shared){var cr=parseInt(rr.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(cr)<0)return void this.handleMouseOut(rr)}var ur=this.getElTooltip(),dr=this.getElXCrosshairs(),fr=[];sr.config.chart.group&&(fr=this.ctx.getSyncedCharts());var gr=sr.globals.xyCharts||sr.config.chart.type==="bar"&&!sr.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||sr.globals.comboCharts&&this.tooltipUtil.hasBars();if(ir.type==="mousemove"||ir.type==="touchmove"||ir.type==="mouseup"){if(sr.globals.collapsedSeries.length+sr.globals.ancillaryCollapsedSeries.length===sr.globals.series.length)return;dr!==null&&dr.classList.add("apexcharts-active");var yr=this.yaxisTooltips.filter((function(Sr){return Sr===!0}));if(this.ycrosshairs!==null&&yr.length&&this.ycrosshairs.classList.add("apexcharts-active"),gr&&!this.showOnIntersect||fr.length>1)this.handleStickyTooltip(ir,or,lr,rr);else if(sr.config.chart.type==="heatmap"||sr.config.chart.type==="treemap"){var vr=this.intersect.handleHeatTreeTooltip({e:ir,opt:rr,x:er,y:nr,type:sr.config.chart.type});er=vr.x,nr=vr.y,ur.style.left=er+"px",ur.style.top=nr+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:ir,opt:rr}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:ir,opt:rr,x:er,y:nr});if(this.yaxisTooltips.length)for(var jr=0;jr<sr.config.yaxis.length;jr++)this.axesTooltip.drawYaxisTooltipText(jr,lr,this.xyRatios);sr.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),rr.tooltipEl.classList.add("apexcharts-active")}else ir.type!=="mouseout"&&ir.type!=="touchend"||this.handleMouseOut(rr)}}},{key:"nonAxisChartsTooltips",value:function(Hn){var er=Hn.e,nr=Hn.opt,ir=Hn.tooltipRect,rr=this.w,sr=nr.paths.getAttribute("rel"),ar=this.getElTooltip(),or=rr.globals.dom.elWrap.getBoundingClientRect();if(er.type==="mousemove"||er.type==="touchmove"){rr.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),ar.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:nr.ttItems,i:parseInt(sr,10)-1,shared:!1});var lr=rr.globals.clientX-or.left-ir.ttWidth/2,cr=rr.globals.clientY-or.top-ir.ttHeight-10;if(ar.style.left=lr+"px",ar.style.top=cr+"px",rr.config.legend.tooltipHoverFormatter){var ur=sr-1,dr=(0,rr.config.legend.tooltipHoverFormatter)(this.legendLabels[ur].getAttribute("data:default-text"),{seriesIndex:ur,dataPointIndex:ur,w:rr});this.legendLabels[ur].innerHTML=dr}}else er.type!=="mouseout"&&er.type!=="touchend"||(ar.classList.remove("apexcharts-active"),rr.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),rr.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(fr){var gr=fr.getAttribute("data:default-text");fr.innerHTML=decodeURIComponent(gr)})))}},{key:"handleStickyTooltip",value:function(Hn,er,nr,ir){var rr=this.w,sr=this.tooltipUtil.getNearestValues({context:this,hoverArea:ir.hoverArea,elGrid:ir.elGrid,clientX:er,clientY:nr}),ar=sr.j,or=sr.capturedSeries;rr.globals.collapsedSeriesIndices.includes(or)&&(or=null);var lr=ir.elGrid.getBoundingClientRect();if(sr.hoverX<0||sr.hoverX>lr.width)this.handleMouseOut(ir);else if(or!==null)this.handleStickyCapturedSeries(Hn,or,ir,ar);else if(this.tooltipUtil.isXoverlap(ar)||rr.globals.isBarHorizontal){var cr=rr.globals.series.findIndex((function(ur,dr){return!rr.globals.collapsedSeriesIndices.includes(dr)}));this.create(Hn,this,cr,ar,ir.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(Hn,er,nr,ir){var rr=this.w;if(!this.tConfig.shared&&rr.globals.series[er][ir]===null)return void this.handleMouseOut(nr);if(rr.globals.series[er][ir]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(ir)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(Hn,this,er,ir,nr.ttItems):this.create(Hn,this,er,ir,nr.ttItems,!1);else if(this.tooltipUtil.isXoverlap(ir)){var sr=rr.globals.series.findIndex((function(ar,or){return!rr.globals.collapsedSeriesIndices.includes(or)}));this.create(Hn,this,sr,ir,nr.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var Hn=this.w,er=new Mi$1(this.ctx),nr=Hn.globals.dom.Paper.find(".apexcharts-bar-area"),ir=0;ir<nr.length;ir++)er.pathMouseLeave(nr[ir])}},{key:"handleMouseOut",value:function(Hn){var er=this.w,nr=this.getElXCrosshairs();if(er.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),Hn.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),er.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),nr!==null&&nr.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=er.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var ir=0;ir<this.yaxisTTEls.length;ir++)this.yaxisTTEls[ir].classList.remove("apexcharts-active")}er.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(rr){var sr=rr.getAttribute("data:default-text");rr.innerHTML=decodeURIComponent(sr)}))}},{key:"markerClick",value:function(Hn,er,nr){var ir=this.w;typeof ir.config.chart.events.markerClick=="function"&&ir.config.chart.events.markerClick(Hn,this.ctx,{seriesIndex:er,dataPointIndex:nr,w:ir}),this.ctx.events.fireEvent("markerClick",[Hn,this.ctx,{seriesIndex:er,dataPointIndex:nr,w:ir}])}},{key:"create",value:function(Hn,er,nr,ir,rr){var sr,ar,or,lr,cr,ur,dr,fr,gr,yr,vr,jr,Sr,Tr,Lr,Mr,Nr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Or=this.w,Fr=er;Hn.type==="mouseup"&&this.markerClick(Hn,nr,ir),Nr===null&&(Nr=this.tConfig.shared);var Gr=this.tooltipUtil.hasMarkers(nr),qr=this.tooltipUtil.getElBars(),Hr=function(){Or.globals.markers.largestSize>0?Fr.marker.enlargePoints(ir):Fr.tooltipPosition.moveDynamicPointsOnHover(ir)};if(Or.config.legend.tooltipHoverFormatter){var Yr=Or.config.legend.tooltipHoverFormatter,ro=Array.from(this.legendLabels);ro.forEach((function(Eo){var bo=Eo.getAttribute("data:default-text");Eo.innerHTML=decodeURIComponent(bo)}));for(var io=0;io<ro.length;io++){var fo=ro[io],ao=parseInt(fo.getAttribute("i"),10),Jr=decodeURIComponent(fo.getAttribute("data:default-text")),uo=Yr(Jr,{seriesIndex:Nr?ao:nr,dataPointIndex:ir,w:Or});if(Nr)fo.innerHTML=Or.globals.collapsedSeriesIndices.indexOf(ao)<0?uo:Jr;else if(fo.innerHTML=ao===nr?uo:Jr,nr===ao)break}}var oo=u$2(u$2({ttItems:rr,i:nr,j:ir},((sr=Or.globals.seriesRange)===null||sr===void 0||(ar=sr[nr])===null||ar===void 0||(or=ar[ir])===null||or===void 0||(lr=or.y[0])===null||lr===void 0?void 0:lr.y1)!==void 0&&{y1:(cr=Or.globals.seriesRange)===null||cr===void 0||(ur=cr[nr])===null||ur===void 0||(dr=ur[ir])===null||dr===void 0||(fr=dr.y[0])===null||fr===void 0?void 0:fr.y1}),((gr=Or.globals.seriesRange)===null||gr===void 0||(yr=gr[nr])===null||yr===void 0||(vr=yr[ir])===null||vr===void 0||(jr=vr.y[0])===null||jr===void 0?void 0:jr.y2)!==void 0&&{y2:(Sr=Or.globals.seriesRange)===null||Sr===void 0||(Tr=Sr[nr])===null||Tr===void 0||(Lr=Tr[ir])===null||Lr===void 0||(Mr=Lr.y[0])===null||Mr===void 0?void 0:Mr.y2});if(Nr){if(Fr.tooltipLabels.drawSeriesTexts(u$2(u$2({},oo),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Gr)Hr();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(qr),this.barSeriesHeight>0)){var co=new Mi$1(this.ctx),no=Or.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(ir,"']"));this.deactivateHoverFilter(),Fr.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&Hr(),Fr.tooltipPosition.moveStickyTooltipOverBars(ir,nr);for(var mo=0;mo<no.length;mo++)co.pathMouseEnter(no[mo])}}else Fr.tooltipLabels.drawSeriesTexts(u$2({shared:!1},oo)),this.tooltipUtil.hasBars()&&Fr.tooltipPosition.moveStickyTooltipOverBars(ir,nr),Gr&&Fr.tooltipPosition.moveMarkers(nr,ir)}}]),tr})(),Ma=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.barCtx=Hn,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return s$1(tr,[{key:"handleBarDataLabels",value:function(Hn){var er,nr,ir=Hn.x,rr=Hn.y,sr=Hn.y1,ar=Hn.y2,or=Hn.i,lr=Hn.j,cr=Hn.realIndex,ur=Hn.columnGroupIndex,dr=Hn.series,fr=Hn.barHeight,gr=Hn.barWidth,yr=Hn.barXPosition,vr=Hn.barYPosition,jr=Hn.visibleSeries,Sr=this.w,Tr=new Mi$1(this.barCtx.ctx),Lr=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[cr]:this.barCtx.strokeWidth;Sr.globals.isXNumeric&&!Sr.globals.isBarHorizontal?(er=ir+parseFloat(gr*(jr+1)),nr=rr+parseFloat(fr*(jr+1))-Lr):(er=ir+parseFloat(gr*jr),nr=rr+parseFloat(fr*jr));var Mr,Nr=null,Or=ir,Fr=rr,Gr={},qr=Sr.config.dataLabels,Hr=this.barCtx.barOptions.dataLabels,Yr=this.barCtx.barOptions.dataLabels.total;vr!==void 0&&this.barCtx.isRangeBar&&(nr=vr,Fr=vr),yr!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(er=yr,Or=yr);var ro=qr.offsetX,io=qr.offsetY,fo={width:0,height:0};if(Sr.config.dataLabels.enabled){var ao=Sr.globals.series[or][lr];fo=Tr.getTextRects(Sr.config.dataLabels.formatter?Sr.config.dataLabels.formatter(ao,u$2(u$2({},Sr),{},{seriesIndex:or,dataPointIndex:lr,w:Sr})):Sr.globals.yLabelFormatters[0](ao),parseFloat(qr.style.fontSize))}var Jr={x:ir,y:rr,i:or,j:lr,realIndex:cr,columnGroupIndex:ur,bcx:er,bcy:nr,barHeight:fr,barWidth:gr,textRects:fo,strokeWidth:Lr,dataLabelsX:Or,dataLabelsY:Fr,dataLabelsConfig:qr,barDataLabelsConfig:Hr,barTotalDataLabelsConfig:Yr,offX:ro,offY:io};return Gr=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Jr):this.calculateColumnsDataLabelsPosition(Jr),Mr=this.drawCalculatedDataLabels({x:Gr.dataLabelsX,y:Gr.dataLabelsY,val:this.barCtx.isRangeBar?[sr,ar]:Sr.config.chart.stackType==="100%"?dr[cr][lr]:Sr.globals.series[cr][lr],i:cr,j:lr,barWidth:gr,barHeight:fr,textRects:fo,dataLabelsConfig:qr}),Sr.config.chart.stacked&&Yr.enabled&&(Nr=this.drawTotalDataLabels({x:Gr.totalDataLabelsX,y:Gr.totalDataLabelsY,barWidth:gr,barHeight:fr,realIndex:cr,textAnchor:Gr.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:cr,j:lr}),dataLabelsConfig:qr,barTotalDataLabelsConfig:Yr})),{dataLabelsPos:Gr,dataLabels:Mr,totalDataLabels:Nr}}},{key:"getStackedTotalDataLabel",value:function(Hn){var er=Hn.realIndex,nr=Hn.j,ir=this.w,rr=this.barCtx.stackedSeriesTotals[nr];return this.totalFormatter&&(rr=this.totalFormatter(rr,u$2(u$2({},ir),{},{seriesIndex:er,dataPointIndex:nr,w:ir}))),rr}},{key:"calculateColumnsDataLabelsPosition",value:function(Hn){var er=this,nr=this.w,ir=Hn.i,rr=Hn.j,sr=Hn.realIndex;Hn.columnGroupIndex;var ar,or,lr=Hn.y,cr=Hn.bcx,ur=Hn.barWidth,dr=Hn.barHeight,fr=Hn.textRects,gr=Hn.dataLabelsX,yr=Hn.dataLabelsY,vr=Hn.dataLabelsConfig,jr=Hn.barDataLabelsConfig,Sr=Hn.barTotalDataLabelsConfig,Tr=Hn.strokeWidth,Lr=Hn.offX,Mr=Hn.offY,Nr=cr;dr=Math.abs(dr);var Or=nr.config.plotOptions.bar.dataLabels.orientation==="vertical",Fr=this.barCtx.barHelpers.getZeroValueEncounters({i:ir,j:rr}).zeroEncounters;cr-=Tr/2;var Gr=nr.globals.gridWidth/nr.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?gr+=ur/2:(gr=nr.globals.isXNumeric?cr-ur/2+Lr:cr-Gr+ur/2+Lr,!nr.config.chart.stacked&&Fr>0&&nr.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(gr-=ur*Fr)),Or&&(gr=gr+fr.height/2-Tr/2-2);var qr=nr.globals.series[ir][rr]<0,Hr=lr;switch(this.barCtx.isReversed&&(Hr=lr+(qr?dr:-dr)),jr.position){case"center":yr=Or?qr?Hr-dr/2+Mr:Hr+dr/2-Mr:qr?Hr-dr/2+fr.height/2+Mr:Hr+dr/2+fr.height/2-Mr;break;case"bottom":yr=Or?qr?Hr-dr+Mr:Hr+dr-Mr:qr?Hr-dr+fr.height+Tr+Mr:Hr+dr-fr.height/2+Tr-Mr;break;case"top":yr=Or?qr?Hr+Mr:Hr-Mr:qr?Hr-fr.height/2-Mr:Hr+fr.height+Mr}var Yr=Hr;if(nr.globals.seriesGroups.forEach((function(fo){var ao;(ao=er.barCtx[fo.join(",")])===null||ao===void 0||ao.prevY.forEach((function(Jr){Yr=qr?Math.max(Jr[rr],Yr):Math.min(Jr[rr],Yr)}))})),this.barCtx.lastActiveBarSerieIndex===sr&&Sr.enabled){var ro=new Mi$1(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:sr,j:rr}),vr.fontSize);ar=qr?Yr-ro.height/2-Mr-Sr.offsetY+18:Yr+ro.height+Mr+Sr.offsetY-18;var io=Gr;or=Nr+(nr.globals.isXNumeric?-ur*nr.globals.barGroups.length/2:nr.globals.barGroups.length*ur/2-(nr.globals.barGroups.length-1)*ur-io)+Sr.offsetX}return nr.config.chart.stacked||(yr<0?yr=0+Tr:yr+fr.height/3>nr.globals.gridHeight&&(yr=nr.globals.gridHeight-Tr)),{bcx:cr,bcy:lr,dataLabelsX:gr,dataLabelsY:yr,totalDataLabelsX:or,totalDataLabelsY:ar,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(Hn){var er=this,nr=this.w,ir=Hn.x,rr=Hn.i,sr=Hn.j,ar=Hn.realIndex,or=Hn.bcy,lr=Hn.barHeight,cr=Hn.barWidth,ur=Hn.textRects,dr=Hn.dataLabelsX,fr=Hn.strokeWidth,gr=Hn.dataLabelsConfig,yr=Hn.barDataLabelsConfig,vr=Hn.barTotalDataLabelsConfig,jr=Hn.offX,Sr=Hn.offY,Tr=nr.globals.gridHeight/nr.globals.dataPoints,Lr=this.barCtx.barHelpers.getZeroValueEncounters({i:rr,j:sr}).zeroEncounters;cr=Math.abs(cr);var Mr,Nr,Or=or-(this.barCtx.isRangeBar?0:Tr)+lr/2+ur.height/2+Sr-3;!nr.config.chart.stacked&&Lr>0&&nr.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Or-=lr*Lr);var Fr="start",Gr=nr.globals.series[rr][sr]<0,qr=ir;switch(this.barCtx.isReversed&&(qr=ir+(Gr?-cr:cr),Fr=Gr?"start":"end"),yr.position){case"center":dr=Gr?qr+cr/2-jr:Math.max(ur.width/2,qr-cr/2)+jr;break;case"bottom":dr=Gr?qr+cr-fr-jr:qr-cr+fr+jr;break;case"top":dr=Gr?qr-fr-jr:qr-fr+jr}var Hr=qr;if(nr.globals.seriesGroups.forEach((function(ro){var io;(io=er.barCtx[ro.join(",")])===null||io===void 0||io.prevX.forEach((function(fo){Hr=Gr?Math.min(fo[sr],Hr):Math.max(fo[sr],Hr)}))})),this.barCtx.lastActiveBarSerieIndex===ar&&vr.enabled){var Yr=new Mi$1(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:ar,j:sr}),gr.fontSize);Gr?(Mr=Hr-fr-jr-vr.offsetX,Fr="end"):Mr=Hr+jr+vr.offsetX+(this.barCtx.isReversed?-(cr+fr):fr),Nr=Or-ur.height/2+Yr.height/2+vr.offsetY+fr,nr.globals.barGroups.length>1&&(Nr-=nr.globals.barGroups.length/2*(lr/2))}return nr.config.chart.stacked||(gr.textAnchor==="start"?dr-ur.width<0?dr=Gr?ur.width+fr:fr:dr+ur.width>nr.globals.gridWidth&&(dr=Gr?nr.globals.gridWidth-fr:nr.globals.gridWidth-ur.width-fr):gr.textAnchor==="middle"?dr-ur.width/2<0?dr=ur.width/2+fr:dr+ur.width/2>nr.globals.gridWidth&&(dr=nr.globals.gridWidth-ur.width/2-fr):gr.textAnchor==="end"&&(dr<1?dr=ur.width+fr:dr+1>nr.globals.gridWidth&&(dr=nr.globals.gridWidth-ur.width-fr))),{bcx:ir,bcy:or,dataLabelsX:dr,dataLabelsY:Or,totalDataLabelsX:Mr,totalDataLabelsY:Nr,totalDataLabelsAnchor:Fr}}},{key:"drawCalculatedDataLabels",value:function(Hn){var er=Hn.x,nr=Hn.y,ir=Hn.val,rr=Hn.i,sr=Hn.j,ar=Hn.textRects,or=Hn.barHeight,lr=Hn.barWidth,cr=Hn.dataLabelsConfig,ur=this.w,dr="rotate(0)";ur.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(dr="rotate(-90, ".concat(er,", ").concat(nr,")"));var fr=new qi$1(this.barCtx.ctx),gr=new Mi$1(this.barCtx.ctx),yr=cr.formatter,vr=null,jr=ur.globals.collapsedSeriesIndices.indexOf(rr)>-1;if(cr.enabled&&!jr){vr=gr.group({class:"apexcharts-data-labels",transform:dr});var Sr="";ir!==void 0&&(Sr=yr(ir,u$2(u$2({},ur),{},{seriesIndex:rr,dataPointIndex:sr,w:ur}))),!ir&&ur.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Sr="");var Tr=ur.globals.series[rr][sr]<0,Lr=ur.config.plotOptions.bar.dataLabels.position;ur.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(Lr==="top"&&(cr.textAnchor=Tr?"end":"start"),Lr==="center"&&(cr.textAnchor="middle"),Lr==="bottom"&&(cr.textAnchor=Tr?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&lr<gr.getTextRects(Sr,parseFloat(cr.style.fontSize)).width&&(Sr=""),ur.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?ar.width/1.6>Math.abs(lr)&&(Sr=""):ar.height/1.6>Math.abs(or)&&(Sr=""));var Mr=u$2({},cr);this.barCtx.isHorizontal&&ir<0&&(cr.textAnchor==="start"?Mr.textAnchor="end":cr.textAnchor==="end"&&(Mr.textAnchor="start")),fr.plotDataLabelsText({x:er,y:nr,text:Sr,i:rr,j:sr,parent:vr,dataLabelsConfig:Mr,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return vr}},{key:"drawTotalDataLabels",value:function(Hn){var er=Hn.x,nr=Hn.y,ir=Hn.val,rr=Hn.realIndex,sr=Hn.textAnchor,ar=Hn.barTotalDataLabelsConfig;this.w;var or,lr=new Mi$1(this.barCtx.ctx);return ar.enabled&&er!==void 0&&nr!==void 0&&this.barCtx.lastActiveBarSerieIndex===rr&&(or=lr.drawText({x:er,y:nr,foreColor:ar.style.color,text:ir,textAnchor:sr,fontFamily:ar.style.fontFamily,fontSize:ar.style.fontSize,fontWeight:ar.style.fontWeight})),or}}]),tr})(),Pa=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.barCtx=Hn}return s$1(tr,[{key:"initVariables",value:function(Hn){var er=this.w;this.barCtx.series=Hn,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var nr=0;nr<Hn.length;nr++)if(Hn[nr].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=Hn[nr].length),er.globals.isXNumeric)for(var ir=0;ir<Hn[nr].length;ir++)er.globals.seriesX[nr][ir]>er.globals.minX&&er.globals.seriesX[nr][ir]<er.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=er.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(er.globals.series),v$1.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(rr){return rr.map((function(sr){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],er.globals.comboCharts||this.checkZeroSeries({series:Hn})}},{key:"initialPositions",value:function(Hn){var er,nr,ir,rr,sr,ar,or,lr,cr=this.w,ur=cr.globals.dataPoints;this.barCtx.isRangeBar&&(ur=cr.globals.labels.length);var dr=this.barCtx.seriesLen;if(cr.config.plotOptions.bar.rangeBarGroupRows&&(dr=1),this.barCtx.isHorizontal)sr=(ir=cr.globals.gridHeight/ur)/dr,cr.globals.isXNumeric&&(sr=(ir=cr.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),sr=sr*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(sr=parseInt(this.barCtx.barOptions.barHeight,10)),lr=this.barCtx.baseLineInvertedY+cr.globals.padHorizontal+(this.barCtx.isReversed?cr.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(lr=cr.globals.gridWidth/2),nr=(ir-sr*this.barCtx.seriesLen)/2;else{if(rr=cr.globals.gridWidth/this.barCtx.visibleItems,cr.config.xaxis.convertedCatToNumeric&&(rr=cr.globals.gridWidth/cr.globals.dataPoints),ar=rr/dr*parseInt(this.barCtx.barOptions.columnWidth,10)/100,cr.globals.isXNumeric){var fr=this.barCtx.xRatio;cr.globals.minXDiff&&cr.globals.minXDiff!==.5&&cr.globals.minXDiff/fr>0&&(rr=cr.globals.minXDiff/fr),(ar=rr/dr*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(ar=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(ar=parseInt(this.barCtx.barOptions.columnWidth,10)),or=cr.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?cr.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),cr.globals.isXNumeric?er=this.barCtx.getBarXForNumericXAxis({x:er,j:0,realIndex:Hn,barWidth:ar}).x:er=cr.globals.padHorizontal+v$1.noExponents(rr-ar*this.barCtx.seriesLen)/2}return cr.globals.barHeight=sr,cr.globals.barWidth=ar,{x:er,y:nr,yDivision:ir,xDivision:rr,barHeight:sr,barWidth:ar,zeroH:or,zeroW:lr}}},{key:"initializeStackedPrevVars",value:function(Hn){Hn.w.globals.seriesGroups.forEach((function(er){Hn[er]||(Hn[er]={}),Hn[er].prevY=[],Hn[er].prevX=[],Hn[er].prevYF=[],Hn[er].prevXF=[],Hn[er].prevYVal=[],Hn[er].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(Hn){Hn.w.globals.seriesGroups.forEach((function(er){Hn[er]||(Hn[er]={}),Hn[er].xArrj=[],Hn[er].xArrjF=[],Hn[er].xArrjVal=[],Hn[er].yArrj=[],Hn[er].yArrjF=[],Hn[er].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(Hn,er,nr,ir){var rr,sr,ar,or,lr=this.w,cr=this.barCtx.ctx.fill,ur=null,dr=this.barCtx.barOptions.distributed?nr:er,fr=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(gr){Hn[er][nr]>=gr.from&&Hn[er][nr]<=gr.to&&(ur=gr.color,fr=!0)})),{color:cr.fillPath({seriesNumber:this.barCtx.barOptions.distributed?dr:ir,dataPointIndex:nr,color:ur,value:Hn[er][nr],fillConfig:(rr=lr.config.series[er].data[nr])===null||rr===void 0?void 0:rr.fill,fillType:(sr=lr.config.series[er].data[nr])!==null&&sr!==void 0&&(ar=sr.fill)!==null&&ar!==void 0&&ar.type?(or=lr.config.series[er].data[nr])===null||or===void 0?void 0:or.fill.type:Array.isArray(lr.config.fill.type)?lr.config.fill.type[ir]:lr.config.fill.type}),useRangeColor:fr}}},{key:"getStrokeWidth",value:function(Hn,er,nr){var ir=0,rr=this.w;return this.barCtx.series[Hn][er]===void 0||this.barCtx.series[Hn][er]===null||rr.config.chart.type==="bar"&&!this.barCtx.series[Hn][er]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,rr.config.stroke.show&&(this.barCtx.isNullValue||(ir=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[nr]:this.barCtx.strokeWidth)),ir}},{key:"createBorderRadiusArr",value:function(Hn){var er,nr=this.w,ir=!this.w.config.chart.stacked||nr.config.plotOptions.bar.borderRadius<=0,rr=Hn.length,sr=0|((er=Hn[0])===null||er===void 0?void 0:er.length),ar=Array.from({length:rr},(function(){return Array(sr).fill(ir?"top":"none")}));if(ir)return ar;for(var or=0;or<sr;or++){for(var lr=[],cr=[],ur=0,dr=0;dr<rr;dr++){var fr=Hn[dr][or];fr>0?(lr.push(dr),ur++):fr<0&&(cr.push(dr),ur++)}if(lr.length>0&&cr.length===0)if(lr.length===1)ar[lr[0]][or]="both";else{var gr,yr=lr[0],vr=lr[lr.length-1],jr=r$1(lr);try{for(jr.s();!(gr=jr.n()).done;){var Sr=gr.value;ar[Sr][or]=Sr===yr?"bottom":Sr===vr?"top":"none"}}catch(ao){jr.e(ao)}finally{jr.f()}}else if(cr.length>0&&lr.length===0)if(cr.length===1)ar[cr[0]][or]="both";else{var Tr,Lr=Math.max.apply(Math,cr),Mr=Math.min.apply(Math,cr),Nr=r$1(cr);try{for(Nr.s();!(Tr=Nr.n()).done;){var Or=Tr.value;ar[Or][or]=Or===Lr?"bottom":Or===Mr?"top":"none"}}catch(ao){Nr.e(ao)}finally{Nr.f()}}else if(lr.length>0&&cr.length>0){var Fr,Gr=lr[lr.length-1],qr=r$1(lr);try{for(qr.s();!(Fr=qr.n()).done;){var Hr=Fr.value;ar[Hr][or]=Hr===Gr?"top":"none"}}catch(ao){qr.e(ao)}finally{qr.f()}var Yr,ro=Math.max.apply(Math,cr),io=r$1(cr);try{for(io.s();!(Yr=io.n()).done;){var fo=Yr.value;ar[fo][or]=fo===ro?"bottom":"none"}}catch(ao){io.e(ao)}finally{io.f()}}else ur===1&&(ar[lr[0]||cr[0]][or]="both")}return ar}},{key:"barBackground",value:function(Hn){var er=Hn.j,nr=Hn.i,ir=Hn.x1,rr=Hn.x2,sr=Hn.y1,ar=Hn.y2,or=Hn.elSeries,lr=this.w,cr=new Mi$1(this.barCtx.ctx),ur=new $i$1(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&ur===nr){er>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(er%=this.barCtx.barOptions.colors.backgroundBarColors.length);var dr=this.barCtx.barOptions.colors.backgroundBarColors[er],fr=cr.drawRect(ir!==void 0?ir:0,sr!==void 0?sr:0,rr!==void 0?rr:lr.globals.gridWidth,ar!==void 0?ar:lr.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,dr,this.barCtx.barOptions.colors.backgroundBarOpacity);or.add(fr),fr.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(Hn){var er,nr=Hn.barWidth,ir=Hn.barXPosition,rr=Hn.y1,sr=Hn.y2,ar=Hn.strokeWidth,or=Hn.isReversed,lr=Hn.series,cr=Hn.seriesGroup,ur=Hn.realIndex,dr=Hn.i,fr=Hn.j,gr=Hn.w,yr=new Mi$1(this.barCtx.ctx);(ar=Array.isArray(ar)?ar[ur]:ar)||(ar=0);var vr=nr,jr=ir;(er=gr.config.series[ur].data[fr])!==null&&er!==void 0&&er.columnWidthOffset&&(jr=ir-gr.config.series[ur].data[fr].columnWidthOffset/2,vr=nr+gr.config.series[ur].data[fr].columnWidthOffset);var Sr=ar/2,Tr=jr+Sr,Lr=jr+vr-Sr,Mr=(lr[dr][fr]>=0?1:-1)*(or?-1:1);rr+=.001-Sr*Mr,sr+=.001+Sr*Mr;var Nr=yr.move(Tr,rr),Or=yr.move(Tr,rr),Fr=yr.line(Lr,rr);if(gr.globals.previousPaths.length>0&&(Or=this.barCtx.getPreviousPath(ur,fr,!1)),Nr=Nr+yr.line(Tr,sr)+yr.line(Lr,sr)+Fr+(gr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[ur][fr]==="both"?" Z":" z"),Or=Or+yr.line(Tr,rr)+Fr+Fr+Fr+Fr+Fr+yr.line(Tr,rr)+(gr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[ur][fr]==="both"?" Z":" z"),this.arrBorderRadius[ur][fr]!=="none"&&(Nr=yr.roundPathCorners(Nr,gr.config.plotOptions.bar.borderRadius)),gr.config.chart.stacked){var Gr=this.barCtx;(Gr=this.barCtx[cr]).yArrj.push(sr-Sr*Mr),Gr.yArrjF.push(Math.abs(rr-sr+ar*Mr)),Gr.yArrjVal.push(this.barCtx.series[dr][fr])}return{pathTo:Nr,pathFrom:Or}}},{key:"getBarpaths",value:function(Hn){var er,nr=Hn.barYPosition,ir=Hn.barHeight,rr=Hn.x1,sr=Hn.x2,ar=Hn.strokeWidth,or=Hn.isReversed,lr=Hn.series,cr=Hn.seriesGroup,ur=Hn.realIndex,dr=Hn.i,fr=Hn.j,gr=Hn.w,yr=new Mi$1(this.barCtx.ctx);(ar=Array.isArray(ar)?ar[ur]:ar)||(ar=0);var vr=nr,jr=ir;(er=gr.config.series[ur].data[fr])!==null&&er!==void 0&&er.barHeightOffset&&(vr=nr-gr.config.series[ur].data[fr].barHeightOffset/2,jr=ir+gr.config.series[ur].data[fr].barHeightOffset);var Sr=ar/2,Tr=vr+Sr,Lr=vr+jr-Sr,Mr=(lr[dr][fr]>=0?1:-1)*(or?-1:1);rr+=.001+Sr*Mr,sr+=.001-Sr*Mr;var Nr=yr.move(rr,Tr),Or=yr.move(rr,Tr);gr.globals.previousPaths.length>0&&(Or=this.barCtx.getPreviousPath(ur,fr,!1));var Fr=yr.line(rr,Lr);if(Nr=Nr+yr.line(sr,Tr)+yr.line(sr,Lr)+Fr+(gr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[ur][fr]==="both"?" Z":" z"),Or=Or+yr.line(rr,Tr)+Fr+Fr+Fr+Fr+Fr+yr.line(rr,Tr)+(gr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[ur][fr]==="both"?" Z":" z"),this.arrBorderRadius[ur][fr]!=="none"&&(Nr=yr.roundPathCorners(Nr,gr.config.plotOptions.bar.borderRadius)),gr.config.chart.stacked){var Gr=this.barCtx;(Gr=this.barCtx[cr]).xArrj.push(sr+Sr*Mr),Gr.xArrjF.push(Math.abs(rr-sr-ar*Mr)),Gr.xArrjVal.push(this.barCtx.series[dr][fr])}return{pathTo:Nr,pathFrom:Or}}},{key:"checkZeroSeries",value:function(Hn){for(var er=Hn.series,nr=this.w,ir=0;ir<er.length;ir++){for(var rr=0,sr=0;sr<er[nr.globals.maxValsInArrayIndex].length;sr++)rr+=er[ir][sr];rr===0&&this.barCtx.zeroSerieses.push(ir)}}},{key:"getXForValue",value:function(Hn,er){var nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?er:null;return Hn!=null&&(nr=er+Hn/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?Hn/this.barCtx.invertedYRatio:0)),nr}},{key:"getYForValue",value:function(Hn,er,nr){var ir=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?er:null;return Hn!=null&&(ir=er-Hn/this.barCtx.yRatio[nr]+2*(this.barCtx.isReversed?Hn/this.barCtx.yRatio[nr]:0)),ir}},{key:"getGoalValues",value:function(Hn,er,nr,ir,rr,sr){var ar=this,or=this.w,lr=[],cr=function(fr,gr){var yr;lr.push((o$2(yr={},Hn,Hn==="x"?ar.getXForValue(fr,er,!1):ar.getYForValue(fr,nr,sr,!1)),o$2(yr,"attrs",gr),yr))};if(or.globals.seriesGoals[ir]&&or.globals.seriesGoals[ir][rr]&&Array.isArray(or.globals.seriesGoals[ir][rr])&&or.globals.seriesGoals[ir][rr].forEach((function(fr){cr(fr.value,fr)})),this.barCtx.barOptions.isDumbbell&&or.globals.seriesRange.length){var ur=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:or.globals.colors,dr={strokeHeight:Hn==="x"?0:or.globals.markers.size[ir],strokeWidth:Hn==="x"?or.globals.markers.size[ir]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(ur[ir])?ur[ir][0]:ur[ir]};cr(or.globals.seriesRangeStart[ir][rr],dr),cr(or.globals.seriesRangeEnd[ir][rr],u$2(u$2({},dr),{},{strokeColor:Array.isArray(ur[ir])?ur[ir][1]:ur[ir]}))}return lr}},{key:"drawGoalLine",value:function(Hn){var er=Hn.barXPosition,nr=Hn.barYPosition,ir=Hn.goalX,rr=Hn.goalY,sr=Hn.barWidth,ar=Hn.barHeight,or=new Mi$1(this.barCtx.ctx),lr=or.group({className:"apexcharts-bar-goals-groups"});lr.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:lr.node}),lr.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var cr=null;return this.barCtx.isHorizontal?Array.isArray(ir)&&ir.forEach((function(ur){if(ur.x>=-1&&ur.x<=or.w.globals.gridWidth+1){var dr=ur.attrs.strokeHeight!==void 0?ur.attrs.strokeHeight:ar/2,fr=nr+dr+ar/2;cr=or.drawLine(ur.x,fr-2*dr,ur.x,fr,ur.attrs.strokeColor?ur.attrs.strokeColor:void 0,ur.attrs.strokeDashArray,ur.attrs.strokeWidth?ur.attrs.strokeWidth:2,ur.attrs.strokeLineCap),lr.add(cr)}})):Array.isArray(rr)&&rr.forEach((function(ur){if(ur.y>=-1&&ur.y<=or.w.globals.gridHeight+1){var dr=ur.attrs.strokeWidth!==void 0?ur.attrs.strokeWidth:sr/2,fr=er+dr+sr/2;cr=or.drawLine(fr-2*dr,ur.y,fr,ur.y,ur.attrs.strokeColor?ur.attrs.strokeColor:void 0,ur.attrs.strokeDashArray,ur.attrs.strokeHeight?ur.attrs.strokeHeight:2,ur.attrs.strokeLineCap),lr.add(cr)}})),lr}},{key:"drawBarShadow",value:function(Hn){var er=Hn.prevPaths,nr=Hn.currPaths,ir=Hn.color,rr=this.w,sr=er.x,ar=er.x1,or=er.barYPosition,lr=nr.x,cr=nr.x1,ur=nr.barYPosition,dr=or+nr.barHeight,fr=new Mi$1(this.barCtx.ctx),gr=new v$1,yr=fr.move(ar,dr)+fr.line(sr,dr)+fr.line(lr,ur)+fr.line(cr,ur)+fr.line(ar,dr)+(rr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return fr.drawPath({d:yr,fill:gr.shadeColor(.5,v$1.rgb2hex(ir)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(Hn){var er,nr=Hn.i,ir=Hn.j,rr=this.w,sr=0,ar=0;return(rr.config.plotOptions.bar.horizontal?rr.globals.series.map((function(or,lr){return lr})):((er=rr.globals.columnSeries)===null||er===void 0?void 0:er.i.map((function(or){return or})))||[]).forEach((function(or){var lr=rr.globals.seriesPercent[or][ir];lr&&sr++,or<nr&&lr===0&&ar++})),{nonZeroColumns:sr,zeroEncounters:ar}}},{key:"getGroupIndex",value:function(Hn){var er=this.w,nr=er.globals.seriesGroups.findIndex((function(sr){return sr.indexOf(er.globals.seriesNames[Hn])>-1})),ir=this.barCtx.columnGroupIndices,rr=ir.indexOf(nr);return rr<0&&(ir.push(nr),rr=ir.length-1),{groupIndex:nr,columnGroupIndex:rr}}}]),tr})(),Ia=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var nr=this.w;this.barOptions=nr.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=nr.config.stroke.width,this.isNullValue=!1,this.isRangeBar=nr.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!nr.globals.isBarHorizontal&&nr.globals.seriesRange.length&&nr.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=er,this.xyRatios!==null&&(this.xRatio=er.xRatio,this.yRatio=er.yRatio,this.invertedXRatio=er.invertedXRatio,this.invertedYRatio=er.invertedYRatio,this.baseLineY=er.baseLineY,this.baseLineInvertedY=er.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var ir=new $i$1(this.ctx);this.lastActiveBarSerieIndex=ir.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var rr=ir.getBarSeriesIndices(),sr=new Pi$1(this.ctx);this.stackedSeriesTotals=sr.getStackedSeriesTotals(this.w.config.series.map((function(ar,or){return rr.indexOf(or)===-1?or:-1})).filter((function(ar){return ar!==-1}))),this.barHelpers=new Pa(this)}return s$1(tr,[{key:"draw",value:function(Hn,er){var nr=this.w,ir=new Mi$1(this.ctx),rr=new Pi$1(this.ctx,nr);Hn=rr.getLogSeries(Hn),this.series=Hn,this.yRatio=rr.getLogYRatios(this.yRatio),this.barHelpers.initVariables(Hn);var sr=ir.group({class:"apexcharts-bar-series apexcharts-plot-series"});nr.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var ar=0,or=0;ar<Hn.length;ar++,or++){var lr,cr,ur,dr,fr=void 0,gr=void 0,yr=[],vr=[],jr=nr.globals.comboCharts?er[ar]:ar,Sr=this.barHelpers.getGroupIndex(jr).columnGroupIndex,Tr=ir.group({class:"apexcharts-series",rel:ar+1,seriesName:v$1.escapeString(nr.globals.seriesNames[jr]),"data:realIndex":jr});this.ctx.series.addCollapsedClassToSeries(Tr,jr),Hn[ar].length>0&&(this.visibleI=this.visibleI+1);var Lr=0,Mr=0;this.yRatio.length>1&&(this.yaxisIndex=nr.globals.seriesYAxisReverseMap[jr],this.translationsIndex=jr);var Nr=this.translationsIndex;this.isReversed=nr.config.yaxis[this.yaxisIndex]&&nr.config.yaxis[this.yaxisIndex].reversed;var Or=this.barHelpers.initialPositions(jr);gr=Or.y,Lr=Or.barHeight,cr=Or.yDivision,dr=Or.zeroW,fr=Or.x,Mr=Or.barWidth,lr=Or.xDivision,ur=Or.zeroH,this.isHorizontal||vr.push(fr+Mr/2);var Fr=ir.group({class:"apexcharts-datalabels","data:realIndex":jr});nr.globals.delayedElements.push({el:Fr.node}),Fr.node.classList.add("apexcharts-element-hidden");var Gr=ir.group({class:"apexcharts-bar-goals-markers"}),qr=ir.group({class:"apexcharts-bar-shadows"});nr.globals.delayedElements.push({el:qr.node}),qr.node.classList.add("apexcharts-element-hidden");for(var Hr=0;Hr<Hn[ar].length;Hr++){var Yr=this.barHelpers.getStrokeWidth(ar,Hr,jr),ro=null,io={indexes:{i:ar,j:Hr,realIndex:jr,translationsIndex:Nr,bc:or},x:fr,y:gr,strokeWidth:Yr,elSeries:Tr};this.isHorizontal?(ro=this.drawBarPaths(u$2(u$2({},io),{},{barHeight:Lr,zeroW:dr,yDivision:cr})),Mr=this.series[ar][Hr]/this.invertedYRatio):(ro=this.drawColumnPaths(u$2(u$2({},io),{},{xDivision:lr,barWidth:Mr,zeroH:ur})),Lr=this.series[ar][Hr]/this.yRatio[Nr]);var fo=this.barHelpers.getPathFillColor(Hn,ar,Hr,jr);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Hr>0){var ao,Jr=this.barHelpers.drawBarShadow({color:typeof fo.color=="string"&&((ao=fo.color)===null||ao===void 0?void 0:ao.indexOf("url"))===-1?fo.color:v$1.hexToRgba(nr.globals.colors[ar]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:ro});qr.add(Jr),nr.config.chart.dropShadow.enabled&&new Li$1(this.ctx).dropShadow(Jr,nr.config.chart.dropShadow,jr)}this.pathArr.push(ro);var uo=this.barHelpers.drawGoalLine({barXPosition:ro.barXPosition,barYPosition:ro.barYPosition,goalX:ro.goalX,goalY:ro.goalY,barHeight:Lr,barWidth:Mr});uo&&Gr.add(uo),gr=ro.y,fr=ro.x,Hr>0&&vr.push(fr+Mr/2),yr.push(gr),this.renderSeries(u$2(u$2({realIndex:jr,pathFill:fo.color},fo.useRangeColor?{lineFill:fo.color}:{}),{},{j:Hr,i:ar,columnGroupIndex:Sr,pathFrom:ro.pathFrom,pathTo:ro.pathTo,strokeWidth:Yr,elSeries:Tr,x:fr,y:gr,series:Hn,barHeight:Math.abs(ro.barHeight?ro.barHeight:Lr),barWidth:Math.abs(ro.barWidth?ro.barWidth:Mr),elDataLabelsWrap:Fr,elGoalsMarkers:Gr,elBarShadows:qr,visibleSeries:this.visibleI,type:"bar"}))}nr.globals.seriesXvalues[jr]=vr,nr.globals.seriesYvalues[jr]=yr,sr.add(Tr)}return sr}},{key:"renderSeries",value:function(Hn){var er=Hn.realIndex,nr=Hn.pathFill,ir=Hn.lineFill,rr=Hn.j,sr=Hn.i,ar=Hn.columnGroupIndex,or=Hn.pathFrom,lr=Hn.pathTo,cr=Hn.strokeWidth,ur=Hn.elSeries,dr=Hn.x,fr=Hn.y,gr=Hn.y1,yr=Hn.y2,vr=Hn.series,jr=Hn.barHeight,Sr=Hn.barWidth,Tr=Hn.barXPosition,Lr=Hn.barYPosition,Mr=Hn.elDataLabelsWrap,Nr=Hn.elGoalsMarkers,Or=Hn.elBarShadows,Fr=Hn.visibleSeries,Gr=Hn.type,qr=Hn.classes,Hr=this.w,Yr=new Mi$1(this.ctx),ro=!1;if(!ir){var io=typeof Hr.globals.stroke.colors[er]=="function"?(function(oo){var co,no=Hr.config.stroke.colors;return Array.isArray(no)&&no.length>0&&((co=no[oo])||(co=""),typeof co=="function")?co({value:Hr.globals.series[oo][rr],dataPointIndex:rr,w:Hr}):co})(er):Hr.globals.stroke.colors[er];ir=this.barOptions.distributed?Hr.globals.stroke.colors[rr]:io}var fo=new Ma(this).handleBarDataLabels({x:dr,y:fr,y1:gr,y2:yr,i:sr,j:rr,series:vr,realIndex:er,columnGroupIndex:ar,barHeight:jr,barWidth:Sr,barXPosition:Tr,barYPosition:Lr,visibleSeries:Fr});Hr.globals.isBarHorizontal||(fo.dataLabelsPos.dataLabelsX+Math.max(Sr,Hr.globals.barPadForNumericAxis)<0||fo.dataLabelsPos.dataLabelsX-Math.max(Sr,Hr.globals.barPadForNumericAxis)>Hr.globals.gridWidth)&&(ro=!0),Hr.config.series[sr].data[rr]&&Hr.config.series[sr].data[rr].strokeColor&&(ir=Hr.config.series[sr].data[rr].strokeColor),this.isNullValue&&(nr="none");var ao=rr/Hr.config.chart.animations.animateGradually.delay*(Hr.config.chart.animations.speed/Hr.globals.dataPoints)/2.4;if(!ro){var Jr=Yr.renderPaths({i:sr,j:rr,realIndex:er,pathFrom:or,pathTo:lr,stroke:ir,strokeWidth:cr,strokeLineCap:Hr.config.stroke.lineCap,fill:nr,animationDelay:ao,initialSpeed:Hr.config.chart.animations.speed,dataChangeSpeed:Hr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Gr,"-area ").concat(qr),chartType:Gr});Jr.attr("clip-path","url(#gridRectBarMask".concat(Hr.globals.cuid,")"));var uo=Hr.config.forecastDataPoints;uo.count>0&&rr>=Hr.globals.dataPoints-uo.count&&(Jr.node.setAttribute("stroke-dasharray",uo.dashArray),Jr.node.setAttribute("stroke-width",uo.strokeWidth),Jr.node.setAttribute("fill-opacity",uo.fillOpacity)),gr!==void 0&&yr!==void 0&&(Jr.attr("data-range-y1",gr),Jr.attr("data-range-y2",yr)),new Li$1(this.ctx).setSelectionFilter(Jr,er,rr),ur.add(Jr),Jr.attr({cy:fo.dataLabelsPos.bcy,cx:fo.dataLabelsPos.bcx,j:rr,val:Hr.globals.series[sr][rr],barHeight:jr,barWidth:Sr}),fo.dataLabels!==null&&Mr.add(fo.dataLabels),fo.totalDataLabels&&Mr.add(fo.totalDataLabels),ur.add(Mr),Nr&&ur.add(Nr),Or&&ur.add(Or)}return ur}},{key:"drawBarPaths",value:function(Hn){var er,nr=Hn.indexes,ir=Hn.barHeight,rr=Hn.strokeWidth,sr=Hn.zeroW,ar=Hn.x,or=Hn.y,lr=Hn.yDivision,cr=Hn.elSeries,ur=this.w,dr=nr.i,fr=nr.j;if(ur.globals.isXNumeric)er=(or=(ur.globals.seriesX[dr][fr]-ur.globals.minX)/this.invertedXRatio-ir)+ir*this.visibleI;else if(ur.config.plotOptions.bar.hideZeroBarsWhenGrouped){var gr=this.barHelpers.getZeroValueEncounters({i:dr,j:fr}),yr=gr.nonZeroColumns,vr=gr.zeroEncounters;yr>0&&(ir=this.seriesLen*ir/yr),er=or+ir*this.visibleI,er-=ir*vr}else er=or+ir*this.visibleI;this.isFunnel&&(sr-=(this.barHelpers.getXForValue(this.series[dr][fr],sr)-sr)/2),ar=this.barHelpers.getXForValue(this.series[dr][fr],sr);var jr=this.barHelpers.getBarpaths({barYPosition:er,barHeight:ir,x1:sr,x2:ar,strokeWidth:rr,isReversed:this.isReversed,series:this.series,realIndex:nr.realIndex,i:dr,j:fr,w:ur});return ur.globals.isXNumeric||(or+=lr),this.barHelpers.barBackground({j:fr,i:dr,y1:er-ir*this.visibleI,y2:ir*this.seriesLen,elSeries:cr}),{pathTo:jr.pathTo,pathFrom:jr.pathFrom,x1:sr,x:ar,y:or,goalX:this.barHelpers.getGoalValues("x",sr,null,dr,fr),barYPosition:er,barHeight:ir}}},{key:"drawColumnPaths",value:function(Hn){var er,nr=Hn.indexes,ir=Hn.x,rr=Hn.y,sr=Hn.xDivision,ar=Hn.barWidth,or=Hn.zeroH,lr=Hn.strokeWidth,cr=Hn.elSeries,ur=this.w,dr=nr.realIndex,fr=nr.translationsIndex,gr=nr.i,yr=nr.j,vr=nr.bc;if(ur.globals.isXNumeric){var jr=this.getBarXForNumericXAxis({x:ir,j:yr,realIndex:dr,barWidth:ar});ir=jr.x,er=jr.barXPosition}else if(ur.config.plotOptions.bar.hideZeroBarsWhenGrouped){var Sr=this.barHelpers.getZeroValueEncounters({i:gr,j:yr}),Tr=Sr.nonZeroColumns,Lr=Sr.zeroEncounters;Tr>0&&(ar=this.seriesLen*ar/Tr),er=ir+ar*this.visibleI,er-=ar*Lr}else er=ir+ar*this.visibleI;rr=this.barHelpers.getYForValue(this.series[gr][yr],or,fr);var Mr=this.barHelpers.getColumnPaths({barXPosition:er,barWidth:ar,y1:or,y2:rr,strokeWidth:lr,isReversed:this.isReversed,series:this.series,realIndex:dr,i:gr,j:yr,w:ur});return ur.globals.isXNumeric||(ir+=sr),this.barHelpers.barBackground({bc:vr,j:yr,i:gr,x1:er-lr/2-ar*this.visibleI,x2:ar*this.seriesLen+lr/2,elSeries:cr}),{pathTo:Mr.pathTo,pathFrom:Mr.pathFrom,x:ir,y:rr,goalY:this.barHelpers.getGoalValues("y",null,or,gr,yr,fr),barXPosition:er,barWidth:ar}}},{key:"getBarXForNumericXAxis",value:function(Hn){var er=Hn.x,nr=Hn.barWidth,ir=Hn.realIndex,rr=Hn.j,sr=this.w,ar=ir;return sr.globals.seriesX[ir].length||(ar=sr.globals.maxValsInArrayIndex),v$1.isNumber(sr.globals.seriesX[ar][rr])&&(er=(sr.globals.seriesX[ar][rr]-sr.globals.minX)/this.xRatio-nr*this.seriesLen/2),{barXPosition:er+nr*this.visibleI,x:er}}},{key:"getPreviousPath",value:function(Hn,er){for(var nr=this.w,ir="M 0 0",rr=0;rr<nr.globals.previousPaths.length;rr++){var sr=nr.globals.previousPaths[rr];sr.paths&&sr.paths.length>0&&parseInt(sr.realIndex,10)===parseInt(Hn,10)&&nr.globals.previousPaths[rr].paths[er]!==void 0&&(ir=nr.globals.previousPaths[rr].paths[er].d)}return ir}}]),tr})(),Ta=(function(tr){h$3(er,Ia);var Hn=n(er);function er(){return i$1(this,er),Hn.apply(this,arguments)}return s$1(er,[{key:"draw",value:function(nr,ir){var rr=this,sr=this.w;this.graphics=new Mi$1(this.ctx),this.bar=new Ia(this.ctx,this.xyRatios);var ar=new Pi$1(this.ctx,sr);nr=ar.getLogSeries(nr),this.yRatio=ar.getLogYRatios(this.yRatio),this.barHelpers.initVariables(nr),sr.config.chart.stackType==="100%"&&(nr=sr.globals.comboCharts?ir.map((function(gr){return sr.globals.seriesPercent[gr]})):sr.globals.seriesPercent.slice()),this.series=nr,this.barHelpers.initializeStackedPrevVars(this);for(var or=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),lr=0,cr=0,ur=function(gr,yr){var vr=void 0,jr=void 0,Sr=void 0,Tr=void 0,Lr=sr.globals.comboCharts?ir[gr]:gr,Mr=rr.barHelpers.getGroupIndex(Lr),Nr=Mr.groupIndex,Or=Mr.columnGroupIndex;rr.groupCtx=rr[sr.globals.seriesGroups[Nr]];var Fr=[],Gr=[],qr=0;rr.yRatio.length>1&&(rr.yaxisIndex=sr.globals.seriesYAxisReverseMap[Lr][0],qr=Lr),rr.isReversed=sr.config.yaxis[rr.yaxisIndex]&&sr.config.yaxis[rr.yaxisIndex].reversed;var Hr=rr.graphics.group({class:"apexcharts-series",seriesName:v$1.escapeString(sr.globals.seriesNames[Lr]),rel:gr+1,"data:realIndex":Lr});rr.ctx.series.addCollapsedClassToSeries(Hr,Lr);var Yr=rr.graphics.group({class:"apexcharts-datalabels","data:realIndex":Lr}),ro=rr.graphics.group({class:"apexcharts-bar-goals-markers"}),io=0,fo=0,ao=rr.initialPositions(lr,cr,vr,jr,Sr,Tr,qr);cr=ao.y,io=ao.barHeight,jr=ao.yDivision,Tr=ao.zeroW,lr=ao.x,fo=ao.barWidth,vr=ao.xDivision,Sr=ao.zeroH,sr.globals.barHeight=io,sr.globals.barWidth=fo,rr.barHelpers.initializeStackedXYVars(rr),rr.groupCtx.prevY.length===1&&rr.groupCtx.prevY[0].every((function(Po){return isNaN(Po)}))&&(rr.groupCtx.prevY[0]=rr.groupCtx.prevY[0].map((function(){return Sr})),rr.groupCtx.prevYF[0]=rr.groupCtx.prevYF[0].map((function(){return 0})));for(var Jr=0;Jr<sr.globals.dataPoints;Jr++){var uo=rr.barHelpers.getStrokeWidth(gr,Jr,Lr),oo={indexes:{i:gr,j:Jr,realIndex:Lr,translationsIndex:qr,bc:yr},strokeWidth:uo,x:lr,y:cr,elSeries:Hr,columnGroupIndex:Or,seriesGroup:sr.globals.seriesGroups[Nr]},co=null;rr.isHorizontal?(co=rr.drawStackedBarPaths(u$2(u$2({},oo),{},{zeroW:Tr,barHeight:io,yDivision:jr})),fo=rr.series[gr][Jr]/rr.invertedYRatio):(co=rr.drawStackedColumnPaths(u$2(u$2({},oo),{},{xDivision:vr,barWidth:fo,zeroH:Sr})),io=rr.series[gr][Jr]/rr.yRatio[qr]);var no=rr.barHelpers.drawGoalLine({barXPosition:co.barXPosition,barYPosition:co.barYPosition,goalX:co.goalX,goalY:co.goalY,barHeight:io,barWidth:fo});no&&ro.add(no),cr=co.y,lr=co.x,Fr.push(lr),Gr.push(cr);var mo=rr.barHelpers.getPathFillColor(nr,gr,Jr,Lr),Eo="",bo=sr.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(rr.barHelpers.arrBorderRadius[Lr][Jr]==="bottom"&&sr.globals.series[Lr][Jr]>0||rr.barHelpers.arrBorderRadius[Lr][Jr]==="top"&&sr.globals.series[Lr][Jr]<0)&&(Eo=bo),Hr=rr.renderSeries(u$2(u$2({realIndex:Lr,pathFill:mo.color},mo.useRangeColor?{lineFill:mo.color}:{}),{},{j:Jr,i:gr,columnGroupIndex:Or,pathFrom:co.pathFrom,pathTo:co.pathTo,strokeWidth:uo,elSeries:Hr,x:lr,y:cr,series:nr,barHeight:io,barWidth:fo,elDataLabelsWrap:Yr,elGoalsMarkers:ro,type:"bar",visibleSeries:Or,classes:Eo}))}sr.globals.seriesXvalues[Lr]=Fr,sr.globals.seriesYvalues[Lr]=Gr,rr.groupCtx.prevY.push(rr.groupCtx.yArrj),rr.groupCtx.prevYF.push(rr.groupCtx.yArrjF),rr.groupCtx.prevYVal.push(rr.groupCtx.yArrjVal),rr.groupCtx.prevX.push(rr.groupCtx.xArrj),rr.groupCtx.prevXF.push(rr.groupCtx.xArrjF),rr.groupCtx.prevXVal.push(rr.groupCtx.xArrjVal),or.add(Hr)},dr=0,fr=0;dr<nr.length;dr++,fr++)ur(dr,fr);return or}},{key:"initialPositions",value:function(nr,ir,rr,sr,ar,or,lr){var cr,ur,dr=this.w;if(this.isHorizontal){sr=dr.globals.gridHeight/dr.globals.dataPoints;var fr=dr.config.plotOptions.bar.barHeight;cr=String(fr).indexOf("%")===-1?parseInt(fr,10):sr*parseInt(fr,10)/100,or=dr.globals.padHorizontal+(this.isReversed?dr.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),ir=(sr-cr)/2}else{ur=rr=dr.globals.gridWidth/dr.globals.dataPoints;var gr=dr.config.plotOptions.bar.columnWidth;dr.globals.isXNumeric&&dr.globals.dataPoints>1?ur=(rr=dr.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(gr).indexOf("%")===-1?ur=parseInt(gr,10):ur*=parseInt(gr,10)/100,ar=this.isReversed?this.baseLineY[lr]:dr.globals.gridHeight-this.baseLineY[lr],nr=dr.globals.padHorizontal+(rr-ur)/2}var yr=dr.globals.barGroups.length||1;return{x:nr,y:ir,yDivision:sr,xDivision:rr,barHeight:cr/yr,barWidth:ur/yr,zeroH:ar,zeroW:or}}},{key:"drawStackedBarPaths",value:function(nr){for(var ir,rr=nr.indexes,sr=nr.barHeight,ar=nr.strokeWidth,or=nr.zeroW,lr=nr.x,cr=nr.y,ur=nr.columnGroupIndex,dr=nr.seriesGroup,fr=nr.yDivision,gr=nr.elSeries,yr=this.w,vr=cr+ur*sr,jr=rr.i,Sr=rr.j,Tr=rr.realIndex,Lr=rr.translationsIndex,Mr=0,Nr=0;Nr<this.groupCtx.prevXF.length;Nr++)Mr+=this.groupCtx.prevXF[Nr][Sr];var Or=jr;if(yr.config.series[Tr].name&&(Or=dr.indexOf(yr.config.series[Tr].name)),Or>0){var Fr=or;this.groupCtx.prevXVal[Or-1][Sr]<0?Fr=this.series[jr][Sr]>=0?this.groupCtx.prevX[Or-1][Sr]+Mr-2*(this.isReversed?Mr:0):this.groupCtx.prevX[Or-1][Sr]:this.groupCtx.prevXVal[Or-1][Sr]>=0&&(Fr=this.series[jr][Sr]>=0?this.groupCtx.prevX[Or-1][Sr]:this.groupCtx.prevX[Or-1][Sr]-Mr+2*(this.isReversed?Mr:0)),ir=Fr}else ir=or;lr=this.series[jr][Sr]===null?ir:ir+this.series[jr][Sr]/this.invertedYRatio-2*(this.isReversed?this.series[jr][Sr]/this.invertedYRatio:0);var Gr=this.barHelpers.getBarpaths({barYPosition:vr,barHeight:sr,x1:ir,x2:lr,strokeWidth:ar,isReversed:this.isReversed,series:this.series,realIndex:rr.realIndex,seriesGroup:dr,i:jr,j:Sr,w:yr});return this.barHelpers.barBackground({j:Sr,i:jr,y1:vr,y2:sr,elSeries:gr}),cr+=fr,{pathTo:Gr.pathTo,pathFrom:Gr.pathFrom,goalX:this.barHelpers.getGoalValues("x",or,null,jr,Sr,Lr),barXPosition:ir,barYPosition:vr,x:lr,y:cr}}},{key:"drawStackedColumnPaths",value:function(nr){var ir=nr.indexes,rr=nr.x,sr=nr.y,ar=nr.xDivision,or=nr.barWidth,lr=nr.zeroH,cr=nr.columnGroupIndex,ur=nr.seriesGroup,dr=nr.elSeries,fr=this.w,gr=ir.i,yr=ir.j,vr=ir.bc,jr=ir.realIndex,Sr=ir.translationsIndex;if(fr.globals.isXNumeric){var Tr=fr.globals.seriesX[jr][yr];Tr||(Tr=0),rr=(Tr-fr.globals.minX)/this.xRatio-or/2*fr.globals.barGroups.length}for(var Lr,Mr=rr+cr*or,Nr=0,Or=0;Or<this.groupCtx.prevYF.length;Or++)Nr+=isNaN(this.groupCtx.prevYF[Or][yr])?0:this.groupCtx.prevYF[Or][yr];var Fr=gr;if(ur&&(Fr=ur.indexOf(fr.globals.seriesNames[jr])),Fr>0&&!fr.globals.isXNumeric||Fr>0&&fr.globals.isXNumeric&&fr.globals.seriesX[jr-1][yr]===fr.globals.seriesX[jr][yr]){var Gr,qr,Hr,Yr=Math.min(this.yRatio.length+1,jr+1);if(this.groupCtx.prevY[Fr-1]!==void 0&&this.groupCtx.prevY[Fr-1].length)for(var ro=1;ro<Yr;ro++){var io;if(!isNaN((io=this.groupCtx.prevY[Fr-ro])===null||io===void 0?void 0:io[yr])){Hr=this.groupCtx.prevY[Fr-ro][yr];break}}for(var fo=1;fo<Yr;fo++){var ao,Jr;if(((ao=this.groupCtx.prevYVal[Fr-fo])===null||ao===void 0?void 0:ao[yr])<0){qr=this.series[gr][yr]>=0?Hr-Nr+2*(this.isReversed?Nr:0):Hr;break}if(((Jr=this.groupCtx.prevYVal[Fr-fo])===null||Jr===void 0?void 0:Jr[yr])>=0){qr=this.series[gr][yr]>=0?Hr:Hr+Nr-2*(this.isReversed?Nr:0);break}}qr===void 0&&(qr=fr.globals.gridHeight),Lr=(Gr=this.groupCtx.prevYF[0])!==null&&Gr!==void 0&&Gr.every((function(oo){return oo===0}))&&this.groupCtx.prevYF.slice(1,Fr).every((function(oo){return oo.every((function(co){return isNaN(co)}))}))?lr:qr}else Lr=lr;sr=this.series[gr][yr]?Lr-this.series[gr][yr]/this.yRatio[Sr]+2*(this.isReversed?this.series[gr][yr]/this.yRatio[Sr]:0):Lr;var uo=this.barHelpers.getColumnPaths({barXPosition:Mr,barWidth:or,y1:Lr,y2:sr,yRatio:this.yRatio[Sr],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:ur,realIndex:ir.realIndex,i:gr,j:yr,w:fr});return this.barHelpers.barBackground({bc:vr,j:yr,i:gr,x1:Mr,x2:or,elSeries:dr}),{pathTo:uo.pathTo,pathFrom:uo.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,lr,gr,yr),barXPosition:Mr,x:fr.globals.isXNumeric?rr:rr+ar,y:sr}}}]),er})(),za=(function(tr){h$3(er,Ia);var Hn=n(er);function er(){return i$1(this,er),Hn.apply(this,arguments)}return s$1(er,[{key:"draw",value:function(nr,ir,rr){var sr=this,ar=this.w,or=new Mi$1(this.ctx),lr=ar.globals.comboCharts?ir:ar.config.chart.type,cr=new ji$1(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=ar.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var ur=new Pi$1(this.ctx,ar);nr=ur.getLogSeries(nr),this.series=nr,this.yRatio=ur.getLogYRatios(this.yRatio),this.barHelpers.initVariables(nr);for(var dr=or.group({class:"apexcharts-".concat(lr,"-series apexcharts-plot-series")}),fr=function(yr){sr.isBoxPlot=ar.config.chart.type==="boxPlot"||ar.config.series[yr].type==="boxPlot";var vr,jr,Sr,Tr,Lr=void 0,Mr=void 0,Nr=[],Or=[],Fr=ar.globals.comboCharts?rr[yr]:yr,Gr=sr.barHelpers.getGroupIndex(Fr).columnGroupIndex,qr=or.group({class:"apexcharts-series",seriesName:v$1.escapeString(ar.globals.seriesNames[Fr]),rel:yr+1,"data:realIndex":Fr});sr.ctx.series.addCollapsedClassToSeries(qr,Fr),nr[yr].length>0&&(sr.visibleI=sr.visibleI+1);var Hr,Yr,ro=0;sr.yRatio.length>1&&(sr.yaxisIndex=ar.globals.seriesYAxisReverseMap[Fr][0],ro=Fr);var io=sr.barHelpers.initialPositions(Fr);Mr=io.y,Hr=io.barHeight,jr=io.yDivision,Tr=io.zeroW,Lr=io.x,Yr=io.barWidth,vr=io.xDivision,Sr=io.zeroH,Or.push(Lr+Yr/2);for(var fo=or.group({class:"apexcharts-datalabels","data:realIndex":Fr}),ao=or.group({class:"apexcharts-bar-goals-markers"}),Jr=function(oo){var co=sr.barHelpers.getStrokeWidth(yr,oo,Fr),no=null,mo={indexes:{i:yr,j:oo,realIndex:Fr,translationsIndex:ro},x:Lr,y:Mr,strokeWidth:co,elSeries:qr};no=sr.isHorizontal?sr.drawHorizontalBoxPaths(u$2(u$2({},mo),{},{yDivision:jr,barHeight:Hr,zeroW:Tr})):sr.drawVerticalBoxPaths(u$2(u$2({},mo),{},{xDivision:vr,barWidth:Yr,zeroH:Sr})),Mr=no.y,Lr=no.x;var Eo=sr.barHelpers.drawGoalLine({barXPosition:no.barXPosition,barYPosition:no.barYPosition,goalX:no.goalX,goalY:no.goalY,barHeight:Hr,barWidth:Yr});Eo&&ao.add(Eo),oo>0&&Or.push(Lr+Yr/2),Nr.push(Mr),no.pathTo.forEach((function(bo,Po){var wo=!sr.isBoxPlot&&sr.candlestickOptions.wick.useFillColor?no.color[Po]:ar.globals.stroke.colors[yr],To=cr.fillPath({seriesNumber:Fr,dataPointIndex:oo,color:no.color[Po],value:nr[yr][oo]});sr.renderSeries({realIndex:Fr,pathFill:To,lineFill:wo,j:oo,i:yr,pathFrom:no.pathFrom,pathTo:bo,strokeWidth:co,elSeries:qr,x:Lr,y:Mr,series:nr,columnGroupIndex:Gr,barHeight:Hr,barWidth:Yr,elDataLabelsWrap:fo,elGoalsMarkers:ao,visibleSeries:sr.visibleI,type:ar.config.chart.type})}))},uo=0;uo<ar.globals.dataPoints;uo++)Jr(uo);ar.globals.seriesXvalues[Fr]=Or,ar.globals.seriesYvalues[Fr]=Nr,dr.add(qr)},gr=0;gr<nr.length;gr++)fr(gr);return dr}},{key:"drawVerticalBoxPaths",value:function(nr){var ir=nr.indexes,rr=nr.x;nr.y;var sr=nr.xDivision,ar=nr.barWidth,or=nr.zeroH,lr=nr.strokeWidth,cr=this.w,ur=new Mi$1(this.ctx),dr=ir.i,fr=ir.j,gr=cr.config.plotOptions.candlestick.colors,yr=this.boxOptions.colors,vr=ir.realIndex,jr=function(uo){return Array.isArray(uo)?uo[vr]:uo},Sr=jr(gr.upward),Tr=jr(gr.downward),Lr=this.yRatio[ir.translationsIndex],Mr=this.getOHLCValue(vr,fr),Nr=or,Or=or,Fr=Mr.o<Mr.c?[Sr]:[Tr];this.isBoxPlot&&(Fr=[jr(yr.lower),jr(yr.upper)]);var Gr=Math.min(Mr.o,Mr.c),qr=Math.max(Mr.o,Mr.c),Hr=Mr.m;cr.globals.isXNumeric&&(rr=(cr.globals.seriesX[vr][fr]-cr.globals.minX)/this.xRatio-ar/2);var Yr=rr+ar*this.visibleI;this.series[dr][fr]===void 0||this.series[dr][fr]===null?(Gr=or,qr=or):(Gr=or-Gr/Lr,qr=or-qr/Lr,Nr=or-Mr.h/Lr,Or=or-Mr.l/Lr,Hr=or-Mr.m/Lr);var ro=ur.move(Yr,or),io=ur.move(Yr+ar/2,Gr);if(cr.globals.previousPaths.length>0&&(io=this.getPreviousPath(vr,fr,!0)),this.isOHLC){var fo=Yr+ar/2,ao=or-Mr.o/Lr,Jr=or-Mr.c/Lr;ro=[ur.move(fo,Nr)+ur.line(fo,Or)+ur.move(fo,ao)+ur.line(Yr,ao)+ur.move(fo,Jr)+ur.line(Yr+ar,Jr)]}else ro=this.isBoxPlot?[ur.move(Yr,Gr)+ur.line(Yr+ar/2,Gr)+ur.line(Yr+ar/2,Nr)+ur.line(Yr+ar/4,Nr)+ur.line(Yr+ar-ar/4,Nr)+ur.line(Yr+ar/2,Nr)+ur.line(Yr+ar/2,Gr)+ur.line(Yr+ar,Gr)+ur.line(Yr+ar,Hr)+ur.line(Yr,Hr)+ur.line(Yr,Gr+lr/2),ur.move(Yr,Hr)+ur.line(Yr+ar,Hr)+ur.line(Yr+ar,qr)+ur.line(Yr+ar/2,qr)+ur.line(Yr+ar/2,Or)+ur.line(Yr+ar-ar/4,Or)+ur.line(Yr+ar/4,Or)+ur.line(Yr+ar/2,Or)+ur.line(Yr+ar/2,qr)+ur.line(Yr,qr)+ur.line(Yr,Hr)+"z"]:[ur.move(Yr,qr)+ur.line(Yr+ar/2,qr)+ur.line(Yr+ar/2,Nr)+ur.line(Yr+ar/2,qr)+ur.line(Yr+ar,qr)+ur.line(Yr+ar,Gr)+ur.line(Yr+ar/2,Gr)+ur.line(Yr+ar/2,Or)+ur.line(Yr+ar/2,Gr)+ur.line(Yr,Gr)+ur.line(Yr,qr-lr/2)];return io+=ur.move(Yr,Gr),cr.globals.isXNumeric||(rr+=sr),{pathTo:ro,pathFrom:io,x:rr,y:qr,goalY:this.barHelpers.getGoalValues("y",null,or,dr,fr,ir.translationsIndex),barXPosition:Yr,color:Fr}}},{key:"drawHorizontalBoxPaths",value:function(nr){var ir=nr.indexes;nr.x;var rr=nr.y,sr=nr.yDivision,ar=nr.barHeight,or=nr.zeroW,lr=nr.strokeWidth,cr=this.w,ur=new Mi$1(this.ctx),dr=ir.i,fr=ir.j,gr=this.boxOptions.colors.lower;this.isBoxPlot&&(gr=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var yr=this.invertedYRatio,vr=ir.realIndex,jr=this.getOHLCValue(vr,fr),Sr=or,Tr=or,Lr=Math.min(jr.o,jr.c),Mr=Math.max(jr.o,jr.c),Nr=jr.m;cr.globals.isXNumeric&&(rr=(cr.globals.seriesX[vr][fr]-cr.globals.minX)/this.invertedXRatio-ar/2);var Or=rr+ar*this.visibleI;this.series[dr][fr]===void 0||this.series[dr][fr]===null?(Lr=or,Mr=or):(Lr=or+Lr/yr,Mr=or+Mr/yr,Sr=or+jr.h/yr,Tr=or+jr.l/yr,Nr=or+jr.m/yr);var Fr=ur.move(or,Or),Gr=ur.move(Lr,Or+ar/2);return cr.globals.previousPaths.length>0&&(Gr=this.getPreviousPath(vr,fr,!0)),Fr=[ur.move(Lr,Or)+ur.line(Lr,Or+ar/2)+ur.line(Sr,Or+ar/2)+ur.line(Sr,Or+ar/2-ar/4)+ur.line(Sr,Or+ar/2+ar/4)+ur.line(Sr,Or+ar/2)+ur.line(Lr,Or+ar/2)+ur.line(Lr,Or+ar)+ur.line(Nr,Or+ar)+ur.line(Nr,Or)+ur.line(Lr+lr/2,Or),ur.move(Nr,Or)+ur.line(Nr,Or+ar)+ur.line(Mr,Or+ar)+ur.line(Mr,Or+ar/2)+ur.line(Tr,Or+ar/2)+ur.line(Tr,Or+ar-ar/4)+ur.line(Tr,Or+ar/4)+ur.line(Tr,Or+ar/2)+ur.line(Mr,Or+ar/2)+ur.line(Mr,Or)+ur.line(Nr,Or)+"z"],Gr+=ur.move(Lr,Or),cr.globals.isXNumeric||(rr+=sr),{pathTo:Fr,pathFrom:Gr,x:Mr,y:rr,goalX:this.barHelpers.getGoalValues("x",or,null,dr,fr),barYPosition:Or,color:gr}}},{key:"getOHLCValue",value:function(nr,ir){var rr=this.w,sr=new Pi$1(this.ctx,rr),ar=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleH[nr][ir],nr),or=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleO[nr][ir],nr),lr=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleM[nr][ir],nr),cr=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleC[nr][ir],nr),ur=sr.getLogValAtSeriesIndex(rr.globals.seriesCandleL[nr][ir],nr);return{o:this.isBoxPlot?ar:or,h:this.isBoxPlot?or:ar,m:lr,l:this.isBoxPlot?cr:ur,c:this.isBoxPlot?ur:cr}}}]),er})(),Xa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"checkColorRange",value:function(){var Hn=this.w,er=!1,nr=Hn.config.plotOptions[Hn.config.chart.type];return nr.colorScale.ranges.length>0&&nr.colorScale.ranges.map((function(ir,rr){ir.from<=0&&(er=!0)})),er}},{key:"getShadeColor",value:function(Hn,er,nr,ir){var rr=this.w,sr=1,ar=rr.config.plotOptions[Hn].shadeIntensity,or=this.determineColor(Hn,er,nr);rr.globals.hasNegs||ir?sr=rr.config.plotOptions[Hn].reverseNegativeShade?or.percent<0?or.percent/100*(1.25*ar):(1-or.percent/100)*(1.25*ar):or.percent<=0?1-(1+or.percent/100)*ar:(1-or.percent/100)*ar:(sr=1-or.percent/100,Hn==="treemap"&&(sr=(1-or.percent/100)*(1.25*ar)));var lr=or.color,cr=new v$1;if(rr.config.plotOptions[Hn].enableShades)if(this.w.config.theme.mode==="dark"){var ur=cr.shadeColor(-1*sr,or.color);lr=v$1.hexToRgba(v$1.isColorHex(ur)?ur:v$1.rgb2hex(ur),rr.config.fill.opacity)}else{var dr=cr.shadeColor(sr,or.color);lr=v$1.hexToRgba(v$1.isColorHex(dr)?dr:v$1.rgb2hex(dr),rr.config.fill.opacity)}return{color:lr,colorProps:or}}},{key:"determineColor",value:function(Hn,er,nr){var ir=this.w,rr=ir.globals.series[er][nr],sr=ir.config.plotOptions[Hn],ar=sr.colorScale.inverse?nr:er;sr.distributed&&ir.config.chart.type==="treemap"&&(ar=nr);var or=ir.globals.colors[ar],lr=null,cr=Math.min.apply(Math,f$2(ir.globals.series[er])),ur=Math.max.apply(Math,f$2(ir.globals.series[er]));sr.distributed||Hn!=="heatmap"||(cr=ir.globals.minY,ur=ir.globals.maxY),sr.colorScale.min!==void 0&&(cr=sr.colorScale.min<ir.globals.minY?sr.colorScale.min:ir.globals.minY,ur=sr.colorScale.max>ir.globals.maxY?sr.colorScale.max:ir.globals.maxY);var dr=Math.abs(ur)+Math.abs(cr),fr=100*rr/(dr===0?dr-1e-6:dr);return sr.colorScale.ranges.length>0&&sr.colorScale.ranges.map((function(gr,yr){if(rr>=gr.from&&rr<=gr.to){or=gr.color,lr=gr.foreColor?gr.foreColor:null,cr=gr.from,ur=gr.to;var vr=Math.abs(ur)+Math.abs(cr);fr=100*rr/(vr===0?vr-1e-6:vr)}})),{color:or,foreColor:lr,percent:fr}}},{key:"calculateDataLabels",value:function(Hn){var er=Hn.text,nr=Hn.x,ir=Hn.y,rr=Hn.i,sr=Hn.j,ar=Hn.colorProps,or=Hn.fontSize,lr=this.w.config.dataLabels,cr=new Mi$1(this.ctx),ur=new qi$1(this.ctx),dr=null;if(lr.enabled){dr=cr.group({class:"apexcharts-data-labels"});var fr=lr.offsetX,gr=lr.offsetY,yr=nr+fr,vr=ir+parseFloat(lr.style.fontSize)/3+gr;ur.plotDataLabelsText({x:yr,y:vr,text:er,i:rr,j:sr,color:ar.foreColor,parent:dr,fontSize:or,dataLabelsConfig:lr})}return dr}},{key:"addListeners",value:function(Hn){var er=new Mi$1(this.ctx);Hn.node.addEventListener("mouseenter",er.pathMouseEnter.bind(this,Hn)),Hn.node.addEventListener("mouseleave",er.pathMouseLeave.bind(this,Hn)),Hn.node.addEventListener("mousedown",er.pathMouseDown.bind(this,Hn))}}]),tr})(),Ra=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.xRatio=er.xRatio,this.yRatio=er.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Xa(Hn),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return s$1(tr,[{key:"draw",value:function(Hn){var er=this.w,nr=new Mi$1(this.ctx),ir=nr.group({class:"apexcharts-heatmap"});ir.attr("clip-path","url(#gridRectMask".concat(er.globals.cuid,")"));var rr=er.globals.gridWidth/er.globals.dataPoints,sr=er.globals.gridHeight/er.globals.series.length,ar=0,or=!1;this.negRange=this.helpers.checkColorRange();var lr=Hn.slice();er.config.yaxis[0].reversed&&(or=!0,lr.reverse());for(var cr=or?0:lr.length-1;or?cr<lr.length:cr>=0;or?cr++:cr--){var ur=nr.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:v$1.escapeString(er.globals.seriesNames[cr]),rel:cr+1,"data:realIndex":cr});if(this.ctx.series.addCollapsedClassToSeries(ur,cr),er.config.chart.dropShadow.enabled){var dr=er.config.chart.dropShadow;new Li$1(this.ctx).dropShadow(ur,dr,cr)}for(var fr=0,gr=er.config.plotOptions.heatmap.shadeIntensity,yr=0,vr=0;vr<er.globals.dataPoints;vr++)if(er.globals.seriesX.length&&!er.globals.allSeriesHasEqualX&&er.globals.minX+er.globals.minXDiff*vr<er.globals.seriesX[cr][yr])fr+=rr;else{if(yr>=lr[cr].length)break;var jr=this.helpers.getShadeColor(er.config.chart.type,cr,yr,this.negRange),Sr=jr.color,Tr=jr.colorProps;er.config.fill.type==="image"&&(Sr=new ji$1(this.ctx).fillPath({seriesNumber:cr,dataPointIndex:yr,opacity:er.globals.hasNegs?Tr.percent<0?1-(1+Tr.percent/100):gr+Tr.percent/100:Tr.percent/100,patternID:v$1.randomId(),width:er.config.fill.image.width?er.config.fill.image.width:rr,height:er.config.fill.image.height?er.config.fill.image.height:sr}));var Lr=this.rectRadius,Mr=nr.drawRect(fr,ar,rr,sr,Lr);if(Mr.attr({cx:fr,cy:ar}),Mr.node.classList.add("apexcharts-heatmap-rect"),ur.add(Mr),Mr.attr({fill:Sr,i:cr,index:cr,j:yr,val:Hn[cr][yr],"stroke-width":this.strokeWidth,stroke:er.config.plotOptions.heatmap.useFillColorAsStroke?Sr:er.globals.stroke.colors[0],color:Sr}),this.helpers.addListeners(Mr),er.config.chart.animations.enabled&&!er.globals.dataChanged){var Nr=1;er.globals.resized||(Nr=er.config.chart.animations.speed),this.animateHeatMap(Mr,fr,ar,rr,sr,Nr)}if(er.globals.dataChanged){var Or=1;if(this.dynamicAnim.enabled&&er.globals.shouldAnimate){Or=this.dynamicAnim.speed;var Fr=er.globals.previousPaths[cr]&&er.globals.previousPaths[cr][yr]&&er.globals.previousPaths[cr][yr].color;Fr||(Fr="rgba(255, 255, 255, 0)"),this.animateHeatColor(Mr,v$1.isColorHex(Fr)?Fr:v$1.rgb2hex(Fr),v$1.isColorHex(Sr)?Sr:v$1.rgb2hex(Sr),Or)}}var Gr=(0,er.config.dataLabels.formatter)(er.globals.series[cr][yr],{value:er.globals.series[cr][yr],seriesIndex:cr,dataPointIndex:yr,w:er}),qr=this.helpers.calculateDataLabels({text:Gr,x:fr+rr/2,y:ar+sr/2,i:cr,j:yr,colorProps:Tr,series:lr});qr!==null&&ur.add(qr),fr+=rr,yr++}ar+=sr,ir.add(ur)}var Hr=er.globals.yAxisScale[0].result.slice();return er.config.yaxis[0].reversed?Hr.unshift(""):Hr.push(""),er.globals.yAxisScale[0].result=Hr,ir}},{key:"animateHeatMap",value:function(Hn,er,nr,ir,rr,sr){var ar=new y$3(this.ctx);ar.animateRect(Hn,{x:er+ir/2,y:nr+rr/2,width:0,height:0},{x:er,y:nr,width:ir,height:rr},sr,(function(){ar.animationCompleted(Hn)}))}},{key:"animateHeatColor",value:function(Hn,er,nr,ir){Hn.attr({fill:er}).animate(ir).attr({fill:nr})}}]),tr})(),Ea=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"drawYAxisTexts",value:function(Hn,er,nr,ir){var rr=this.w,sr=rr.config.yaxis[0],ar=rr.globals.yLabelFormatters[0];return new Mi$1(this.ctx).drawText({x:Hn+sr.labels.offsetX,y:er+sr.labels.offsetY,text:ar(ir,nr),textAnchor:"middle",fontSize:sr.labels.style.fontSize,fontFamily:sr.labels.style.fontFamily,foreColor:Array.isArray(sr.labels.style.colors)?sr.labels.style.colors[nr]:sr.labels.style.colors})}}]),tr})(),Ya=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w;var er=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=er.globals.stroke.colors!==void 0?er.globals.stroke.colors:er.globals.colors,this.defaultSize=Math.min(er.globals.gridWidth,er.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=er.globals.gridWidth/2,er.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(er.config.plotOptions.pie.endAngle-er.config.plotOptions.pie.startAngle),this.initialAngle=er.config.plotOptions.pie.startAngle%this.fullAngle,er.globals.radialSize=this.defaultSize/2.05-er.config.stroke.width-(er.config.chart.sparkline.enabled?0:er.config.chart.dropShadow.blur),this.donutSize=er.globals.radialSize*parseInt(er.config.plotOptions.pie.donut.size,10)/100;var nr=er.config.plotOptions.pie.customScale,ir=er.globals.gridWidth/2,rr=er.globals.gridHeight/2;this.translateX=ir-ir*nr,this.translateY=rr-rr*nr,this.dataLabelsGroup=new Mi$1(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(nr,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return s$1(tr,[{key:"draw",value:function(Hn){var er=this,nr=this.w,ir=new Mi$1(this.ctx),rr=ir.group({class:"apexcharts-pie"});if(nr.globals.noData)return rr;for(var sr=0,ar=0;ar<Hn.length;ar++)sr+=v$1.negToZero(Hn[ar]);var or=[],lr=ir.group();sr===0&&(sr=1e-5),Hn.forEach((function(Tr){er.maxY=Math.max(er.maxY,Tr)})),nr.config.yaxis[0].max&&(this.maxY=nr.config.yaxis[0].max),nr.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(rr);for(var cr=0;cr<Hn.length;cr++){var ur=this.fullAngle*v$1.negToZero(Hn[cr])/sr;or.push(ur),this.chartType==="polarArea"?(or[cr]=this.fullAngle/Hn.length,this.sliceSizes.push(nr.globals.radialSize*Hn[cr]/this.maxY)):this.sliceSizes.push(nr.globals.radialSize)}if(nr.globals.dataChanged){for(var dr,fr=0,gr=0;gr<nr.globals.previousPaths.length;gr++)fr+=v$1.negToZero(nr.globals.previousPaths[gr]);for(var yr=0;yr<nr.globals.previousPaths.length;yr++)dr=this.fullAngle*v$1.negToZero(nr.globals.previousPaths[yr])/fr,this.prevSectorAngleArr.push(dr)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var vr=ir.drawCircle(this.donutSize);vr.attr({cx:this.centerX,cy:this.centerY,fill:nr.config.plotOptions.pie.donut.background?nr.config.plotOptions.pie.donut.background:"transparent"}),lr.add(vr)}var jr=this.drawArcs(or,Hn);if(this.sliceLabels.forEach((function(Tr){jr.add(Tr)})),lr.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(nr.config.plotOptions.pie.customScale,")")}),lr.add(jr),rr.add(lr),this.donutDataLabels.show){var Sr=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});rr.add(Sr)}return nr.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(rr),rr}},{key:"drawArcs",value:function(Hn,er){var nr=this.w,ir=new Li$1(this.ctx),rr=new Mi$1(this.ctx),sr=new ji$1(this.ctx),ar=rr.group({class:"apexcharts-slices"}),or=this.initialAngle,lr=this.initialAngle,cr=this.initialAngle,ur=this.initialAngle;this.strokeWidth=nr.config.stroke.show?nr.config.stroke.width:0;for(var dr=0;dr<Hn.length;dr++){var fr=rr.group({class:"apexcharts-series apexcharts-pie-series",seriesName:v$1.escapeString(nr.globals.seriesNames[dr]),rel:dr+1,"data:realIndex":dr});ar.add(fr),lr=ur,cr=(or=cr)+Hn[dr],ur=lr+this.prevSectorAngleArr[dr];var gr=cr<or?this.fullAngle+cr-or:cr-or,yr=sr.fillPath({seriesNumber:dr,size:this.sliceSizes[dr],value:er[dr]}),vr=this.getChangedPath(lr,ur),jr=rr.drawPath({d:vr,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[dr]:this.lineColorArr,strokeWidth:0,fill:yr,fillOpacity:nr.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(dr)});if(jr.attr({index:0,j:dr}),ir.setSelectionFilter(jr,0,dr),nr.config.chart.dropShadow.enabled){var Sr=nr.config.chart.dropShadow;ir.dropShadow(jr,Sr,dr)}this.addListeners(jr,this.donutDataLabels),Mi$1.setAttrs(jr.node,{"data:angle":gr,"data:startAngle":or,"data:strokeWidth":this.strokeWidth,"data:value":er[dr]});var Tr={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?Tr=v$1.polarToCartesian(this.centerX,this.centerY,nr.globals.radialSize/1.25+nr.config.plotOptions.pie.dataLabels.offset,(or+gr/2)%this.fullAngle):this.chartType==="donut"&&(Tr=v$1.polarToCartesian(this.centerX,this.centerY,(nr.globals.radialSize+this.donutSize)/2+nr.config.plotOptions.pie.dataLabels.offset,(or+gr/2)%this.fullAngle)),fr.add(jr);var Lr=0;if(!this.initialAnim||nr.globals.resized||nr.globals.dataChanged?this.animBeginArr.push(0):((Lr=gr/this.fullAngle*nr.config.chart.animations.speed)===0&&(Lr=1),this.animDur=Lr+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&nr.globals.dataChanged?this.animatePaths(jr,{size:this.sliceSizes[dr],endAngle:cr,startAngle:or,prevStartAngle:lr,prevEndAngle:ur,animateStartingPos:!0,i:dr,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:nr.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(jr,{size:this.sliceSizes[dr],endAngle:cr,startAngle:or,i:dr,totalItems:Hn.length-1,animBeginArr:this.animBeginArr,dur:Lr}),nr.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&jr.node.addEventListener("mouseup",this.pieClicked.bind(this,dr)),nr.globals.selectedDataPoints[0]!==void 0&&nr.globals.selectedDataPoints[0].indexOf(dr)>-1&&this.pieClicked(dr),nr.config.dataLabels.enabled){var Mr=Tr.x,Nr=Tr.y,Or=100*gr/this.fullAngle+"%";if(gr!==0&&nr.config.plotOptions.pie.dataLabels.minAngleToShowLabel<Hn[dr]){var Fr=nr.config.dataLabels.formatter;Fr!==void 0&&(Or=Fr(nr.globals.seriesPercent[dr][0],{seriesIndex:dr,w:nr}));var Gr=nr.globals.dataLabels.style.colors[dr],qr=rr.group({class:"apexcharts-datalabels"}),Hr=rr.drawText({x:Mr,y:Nr,text:Or,textAnchor:"middle",fontSize:nr.config.dataLabels.style.fontSize,fontFamily:nr.config.dataLabels.style.fontFamily,fontWeight:nr.config.dataLabels.style.fontWeight,foreColor:Gr});if(qr.add(Hr),nr.config.dataLabels.dropShadow.enabled){var Yr=nr.config.dataLabels.dropShadow;ir.dropShadow(Hr,Yr)}Hr.node.classList.add("apexcharts-pie-label"),nr.config.chart.animations.animate&&nr.globals.resized===!1&&(Hr.node.classList.add("apexcharts-pie-label-delay"),Hr.node.style.animationDelay=nr.config.chart.animations.speed/940+"s"),this.sliceLabels.push(qr)}}}return ar}},{key:"addListeners",value:function(Hn,er){var nr=new Mi$1(this.ctx);Hn.node.addEventListener("mouseenter",nr.pathMouseEnter.bind(this,Hn)),Hn.node.addEventListener("mouseleave",nr.pathMouseLeave.bind(this,Hn)),Hn.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,Hn.node,er)),Hn.node.addEventListener("mousedown",nr.pathMouseDown.bind(this,Hn)),this.donutDataLabels.total.showAlways||(Hn.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,Hn.node,er)),Hn.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,Hn.node,er)))}},{key:"animatePaths",value:function(Hn,er){var nr=this.w,ir=er.endAngle<er.startAngle?this.fullAngle+er.endAngle-er.startAngle:er.endAngle-er.startAngle,rr=ir,sr=er.startAngle,ar=er.startAngle;er.prevStartAngle!==void 0&&er.prevEndAngle!==void 0&&(sr=er.prevEndAngle,rr=er.prevEndAngle<er.prevStartAngle?this.fullAngle+er.prevEndAngle-er.prevStartAngle:er.prevEndAngle-er.prevStartAngle),er.i===nr.config.series.length-1&&(ir+ar>this.fullAngle?er.endAngle=er.endAngle-(ir+ar):ir+ar<this.fullAngle&&(er.endAngle=er.endAngle+(this.fullAngle-(ir+ar)))),ir===this.fullAngle&&(ir=this.fullAngle-.01),this.animateArc(Hn,sr,ar,ir,rr,er)}},{key:"animateArc",value:function(Hn,er,nr,ir,rr,sr){var ar,or=this,lr=this.w,cr=new y$3(this.ctx),ur=sr.size;(isNaN(er)||isNaN(rr))&&(er=nr,rr=ir,sr.dur=0);var dr=ir,fr=nr,gr=er<nr?this.fullAngle+er-nr:er-nr;lr.globals.dataChanged&&sr.shouldSetPrevPaths&&sr.prevEndAngle&&(ar=or.getPiePath({me:or,startAngle:sr.prevStartAngle,angle:sr.prevEndAngle<sr.prevStartAngle?this.fullAngle+sr.prevEndAngle-sr.prevStartAngle:sr.prevEndAngle-sr.prevStartAngle,size:ur}),Hn.attr({d:ar})),sr.dur!==0?Hn.animate(sr.dur,sr.animBeginArr[sr.i]).after((function(){or.chartType!=="pie"&&or.chartType!=="donut"&&or.chartType!=="polarArea"||this.animate(lr.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":or.strokeWidth}),sr.i===lr.config.series.length-1&&cr.animationCompleted(Hn)})).during((function(yr){dr=gr+(ir-gr)*yr,sr.animateStartingPos&&(dr=rr+(ir-rr)*yr,fr=er-rr+(nr-(er-rr))*yr),ar=or.getPiePath({me:or,startAngle:fr,angle:dr,size:ur}),Hn.node.setAttribute("data:pathOrig",ar),Hn.attr({d:ar})})):(ar=or.getPiePath({me:or,startAngle:fr,angle:ir,size:ur}),sr.isTrack||(lr.globals.animationEnded=!0),Hn.node.setAttribute("data:pathOrig",ar),Hn.attr({d:ar,"stroke-width":or.strokeWidth}))}},{key:"pieClicked",value:function(Hn){var er,nr=this.w,ir=this,rr=ir.sliceSizes[Hn]+(nr.config.plotOptions.pie.expandOnClick?4:0),sr=nr.globals.dom.Paper.findOne(".apexcharts-".concat(ir.chartType.toLowerCase(),"-slice-").concat(Hn));if(sr.attr("data:pieClicked")!=="true"){var ar=nr.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(ar,(function(ur){ur.setAttribute("data:pieClicked","false");var dr=ur.getAttribute("data:pathOrig");dr&&ur.setAttribute("d",dr)})),nr.globals.capturedDataPointIndex=Hn,sr.attr("data:pieClicked","true");var or=parseInt(sr.attr("data:startAngle"),10),lr=parseInt(sr.attr("data:angle"),10);er=ir.getPiePath({me:ir,startAngle:or,angle:lr,size:rr}),lr!==360&&sr.plot(er)}else{sr.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(sr.node,this.donutDataLabels);var cr=sr.attr("data:pathOrig");sr.attr({d:cr})}}},{key:"getChangedPath",value:function(Hn,er){var nr="";return this.dynamicAnim&&this.w.globals.dataChanged&&(nr=this.getPiePath({me:this,startAngle:Hn,angle:er-Hn,size:this.size})),nr}},{key:"getPiePath",value:function(Hn){var er,nr=Hn.me,ir=Hn.startAngle,rr=Hn.angle,sr=Hn.size,ar=new Mi$1(this.ctx),or=ir,lr=Math.PI*(or-90)/180,cr=rr+ir;Math.ceil(cr)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(cr=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(cr)>this.fullAngle&&(cr-=this.fullAngle);var ur=Math.PI*(cr-90)/180,dr=nr.centerX+sr*Math.cos(lr),fr=nr.centerY+sr*Math.sin(lr),gr=nr.centerX+sr*Math.cos(ur),yr=nr.centerY+sr*Math.sin(ur),vr=v$1.polarToCartesian(nr.centerX,nr.centerY,nr.donutSize,cr),jr=v$1.polarToCartesian(nr.centerX,nr.centerY,nr.donutSize,or),Sr=rr>180?1:0,Tr=["M",dr,fr,"A",sr,sr,0,Sr,1,gr,yr];return er=nr.chartType==="donut"?[].concat(Tr,["L",vr.x,vr.y,"A",nr.donutSize,nr.donutSize,0,Sr,0,jr.x,jr.y,"L",dr,fr,"z"]).join(" "):nr.chartType==="pie"||nr.chartType==="polarArea"?[].concat(Tr,["L",nr.centerX,nr.centerY,"L",dr,fr]).join(" "):[].concat(Tr).join(" "),ar.roundPathCorners(er,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(Hn){var er=this.w,nr=new ea(this.ctx),ir=new Mi$1(this.ctx),rr=new Ea(this.ctx),sr=ir.group(),ar=ir.group(),or=nr.niceScale(0,Math.ceil(this.maxY),0),lr=or.result.reverse(),cr=or.result.length;this.maxY=or.niceMax;for(var ur=er.globals.radialSize,dr=ur/(cr-1),fr=0;fr<cr-1;fr++){var gr=ir.drawCircle(ur);if(gr.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":er.config.plotOptions.polarArea.rings.strokeWidth,stroke:er.config.plotOptions.polarArea.rings.strokeColor}),er.config.yaxis[0].show){var yr=rr.drawYAxisTexts(this.centerX,this.centerY-ur+parseInt(er.config.yaxis[0].labels.style.fontSize,10)/2,fr,lr[fr]);ar.add(yr)}sr.add(gr),ur-=dr}this.drawSpokes(Hn),Hn.add(sr),Hn.add(ar)}},{key:"renderInnerDataLabels",value:function(Hn,er,nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=er.total.show;Hn.node.innerHTML="",Hn.node.style.opacity=nr.opacity;var ar,or,lr=nr.centerX,cr=this.donutDataLabels.total.label?nr.centerY:nr.centerY-nr.centerY/6;ar=er.name.color===void 0?ir.globals.colors[0]:er.name.color;var ur=er.name.fontSize,dr=er.name.fontFamily,fr=er.name.fontWeight;or=er.value.color===void 0?ir.config.chart.foreColor:er.value.color;var gr=er.value.formatter,yr="",vr="";if(sr?(ar=er.total.color,ur=er.total.fontSize,dr=er.total.fontFamily,fr=er.total.fontWeight,vr=this.donutDataLabels.total.label?er.total.label:"",yr=er.total.formatter(ir)):ir.globals.series.length===1&&(yr=gr(ir.globals.series[0],ir),vr=ir.globals.seriesNames[0]),vr&&(vr=er.name.formatter(vr,er.total.show,ir)),er.name.show){var jr=rr.drawText({x:lr,y:cr+parseFloat(er.name.offsetY),text:vr,textAnchor:"middle",foreColor:ar,fontSize:ur,fontWeight:fr,fontFamily:dr});jr.node.classList.add("apexcharts-datalabel-label"),Hn.add(jr)}if(er.value.show){var Sr=er.name.show?parseFloat(er.value.offsetY)+16:er.value.offsetY,Tr=rr.drawText({x:lr,y:cr+Sr,text:yr,textAnchor:"middle",foreColor:or,fontWeight:er.value.fontWeight,fontSize:er.value.fontSize,fontFamily:er.value.fontFamily});Tr.node.classList.add("apexcharts-datalabel-value"),Hn.add(Tr)}return Hn}},{key:"printInnerLabels",value:function(Hn,er,nr,ir){var rr,sr=this.w;ir?rr=Hn.name.color===void 0?sr.globals.colors[parseInt(ir.parentNode.getAttribute("rel"),10)-1]:Hn.name.color:sr.globals.series.length>1&&Hn.total.show&&(rr=Hn.total.color);var ar=sr.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),or=sr.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");nr=(0,Hn.value.formatter)(nr,sr),ir||typeof Hn.total.formatter!="function"||(nr=Hn.total.formatter(sr));var lr=er===Hn.total.label;er=this.donutDataLabels.total.label?Hn.name.formatter(er,lr,sr):"",ar!==null&&(ar.textContent=er),or!==null&&(or.textContent=nr),ar!==null&&(ar.style.fill=rr)}},{key:"printDataLabelsInner",value:function(Hn,er){var nr=this.w,ir=Hn.getAttribute("data:value"),rr=nr.globals.seriesNames[parseInt(Hn.parentNode.getAttribute("rel"),10)-1];nr.globals.series.length>1&&this.printInnerLabels(er,rr,ir,Hn);var sr=nr.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");sr!==null&&(sr.style.opacity=1)}},{key:"drawSpokes",value:function(Hn){var er=this,nr=this.w,ir=new Mi$1(this.ctx),rr=nr.config.plotOptions.polarArea.spokes;if(rr.strokeWidth!==0){for(var sr=[],ar=360/nr.globals.series.length,or=0;or<nr.globals.series.length;or++)sr.push(v$1.polarToCartesian(this.centerX,this.centerY,nr.globals.radialSize,nr.config.plotOptions.pie.startAngle+ar*or));sr.forEach((function(lr,cr){var ur=ir.drawLine(lr.x,lr.y,er.centerX,er.centerY,Array.isArray(rr.connectorColors)?rr.connectorColors[cr]:rr.connectorColors);Hn.add(ur)}))}}},{key:"revertDataLabelsInner",value:function(){var Hn=this.w;if(this.donutDataLabels.show){var er=Hn.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),nr=this.renderInnerDataLabels(er,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});Hn.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(nr)}}}]),tr})(),Ha=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var er=this.w;this.graphics=new Mi$1(this.ctx),this.lineColorArr=er.globals.stroke.colors!==void 0?er.globals.stroke.colors:er.globals.colors,this.defaultSize=er.globals.svgHeight<er.globals.svgWidth?er.globals.gridHeight:er.globals.gridWidth,this.isLog=er.config.yaxis[0].logarithmic,this.logBase=er.config.yaxis[0].logBase,this.coreUtils=new Pi$1(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,er.globals.maxY,0):er.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):er.globals.minY,this.polygons=er.config.plotOptions.radar.polygons,this.strokeWidth=er.config.stroke.show?er.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-er.config.chart.dropShadow.blur,er.config.xaxis.labels.show&&(this.size=this.size-er.globals.xAxisLabelsWidth/1.75),er.config.plotOptions.radar.size!==void 0&&(this.size=er.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return s$1(tr,[{key:"draw",value:function(Hn){var er=this,nr=this.w,ir=new ji$1(this.ctx),rr=[],sr=new qi$1(this.ctx);Hn.length&&(this.dataPointsLen=Hn[nr.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var ar=nr.globals.gridWidth/2,or=nr.globals.gridHeight/2,lr=ar+nr.config.plotOptions.radar.offsetX,cr=or+nr.config.plotOptions.radar.offsetY,ur=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(lr||0,", ").concat(cr||0,")")}),dr=[],fr=null,gr=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),Hn.forEach((function(vr,jr){var Sr=vr.length===nr.globals.dataPoints,Tr=er.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Sr,seriesName:v$1.escapeString(nr.globals.seriesNames[jr]),rel:jr+1,"data:realIndex":jr});er.dataRadiusOfPercent[jr]=[],er.dataRadius[jr]=[],er.angleArr[jr]=[],vr.forEach((function(ro,io){var fo=Math.abs(er.maxValue-er.minValue);ro-=er.minValue,er.isLog&&(ro=er.coreUtils.getLogVal(er.logBase,ro,0)),er.dataRadiusOfPercent[jr][io]=ro/fo,er.dataRadius[jr][io]=er.dataRadiusOfPercent[jr][io]*er.size,er.angleArr[jr][io]=io*er.disAngle})),dr=er.getDataPointsPos(er.dataRadius[jr],er.angleArr[jr]);var Lr=er.createPaths(dr,{x:0,y:0});fr=er.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),gr=er.graphics.group({class:"apexcharts-datalabels","data:realIndex":jr}),nr.globals.delayedElements.push({el:fr.node,index:jr});var Mr={i:jr,realIndex:jr,animationDelay:jr,initialSpeed:nr.config.chart.animations.speed,dataChangeSpeed:nr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:nr.globals.stroke.colors[jr],strokeLineCap:nr.config.stroke.lineCap},Nr=null;nr.globals.previousPaths.length>0&&(Nr=er.getPreviousPath(jr));for(var Or=0;Or<Lr.linePathsTo.length;Or++){var Fr=er.graphics.renderPaths(u$2(u$2({},Mr),{},{pathFrom:Nr===null?Lr.linePathsFrom[Or]:Nr,pathTo:Lr.linePathsTo[Or],strokeWidth:Array.isArray(er.strokeWidth)?er.strokeWidth[jr]:er.strokeWidth,fill:"none",drawShadow:!1}));Tr.add(Fr);var Gr=ir.fillPath({seriesNumber:jr}),qr=er.graphics.renderPaths(u$2(u$2({},Mr),{},{pathFrom:Nr===null?Lr.areaPathsFrom[Or]:Nr,pathTo:Lr.areaPathsTo[Or],strokeWidth:0,fill:Gr,drawShadow:!1}));if(nr.config.chart.dropShadow.enabled){var Hr=new Li$1(er.ctx),Yr=nr.config.chart.dropShadow;Hr.dropShadow(qr,Object.assign({},Yr,{noUserSpaceOnUse:!0}),jr)}Tr.add(qr)}vr.forEach((function(ro,io){var fo=new Vi$1(er.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:jr,dataPointIndex:io}),ao=er.graphics.drawMarker(dr[io].x,dr[io].y,fo);ao.attr("rel",io),ao.attr("j",io),ao.attr("index",jr),ao.node.setAttribute("default-marker-size",fo.pSize);var Jr=er.graphics.group({class:"apexcharts-series-markers"});Jr&&Jr.add(ao),fr.add(Jr),Tr.add(fr);var uo=nr.config.dataLabels;if(uo.enabled){var oo=uo.formatter(nr.globals.series[jr][io],{seriesIndex:jr,dataPointIndex:io,w:nr});sr.plotDataLabelsText({x:dr[io].x,y:dr[io].y,text:oo,textAnchor:"middle",i:jr,j:jr,parent:gr,offsetCorrection:!1,dataLabelsConfig:u$2({},uo)})}Tr.add(gr)})),rr.push(Tr)})),this.drawPolygons({parent:ur}),nr.config.xaxis.labels.show){var yr=this.drawXAxisTexts();ur.add(yr)}return rr.forEach((function(vr){ur.add(vr)})),ur.add(this.yaxisLabels),ur}},{key:"drawPolygons",value:function(Hn){for(var er=this,nr=this.w,ir=Hn.parent,rr=new Ea(this.ctx),sr=nr.globals.yAxisScale[0].result.reverse(),ar=sr.length,or=[],lr=this.size/(ar-1),cr=0;cr<ar;cr++)or[cr]=lr*cr;or.reverse();var ur=[],dr=[];or.forEach((function(fr,gr){var yr=v$1.getPolygonPos(fr,er.dataPointsLen),vr="";yr.forEach((function(jr,Sr){if(gr===0){var Tr=er.graphics.drawLine(jr.x,jr.y,0,0,Array.isArray(er.polygons.connectorColors)?er.polygons.connectorColors[Sr]:er.polygons.connectorColors);dr.push(Tr)}Sr===0&&er.yaxisLabelsTextsPos.push({x:jr.x,y:jr.y}),vr+=jr.x+","+jr.y+" "})),ur.push(vr)})),ur.forEach((function(fr,gr){var yr=er.polygons.strokeColors,vr=er.polygons.strokeWidth,jr=er.graphics.drawPolygon(fr,Array.isArray(yr)?yr[gr]:yr,Array.isArray(vr)?vr[gr]:vr,nr.globals.radarPolygons.fill.colors[gr]);ir.add(jr)})),dr.forEach((function(fr){ir.add(fr)})),nr.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(fr,gr){var yr=rr.drawYAxisTexts(fr.x,fr.y,gr,sr[gr]);er.yaxisLabels.add(yr)}))}},{key:"drawXAxisTexts",value:function(){var Hn=this,er=this.w,nr=er.config.xaxis.labels,ir=this.graphics.group({class:"apexcharts-xaxis"}),rr=v$1.getPolygonPos(this.size,this.dataPointsLen);return er.globals.labels.forEach((function(sr,ar){var or=er.config.xaxis.labels.formatter,lr=new qi$1(Hn.ctx);if(rr[ar]){var cr=Hn.getTextPos(rr[ar],Hn.size),ur=or(sr,{seriesIndex:-1,dataPointIndex:ar,w:er});lr.plotDataLabelsText({x:cr.newX,y:cr.newY,text:ur,textAnchor:cr.textAnchor,i:ar,j:ar,parent:ir,className:"apexcharts-xaxis-label",color:Array.isArray(nr.style.colors)&&nr.style.colors[ar]?nr.style.colors[ar]:"#a8a8a8",dataLabelsConfig:u$2({textAnchor:cr.textAnchor,dropShadow:{enabled:!1}},nr),offsetCorrection:!1}).on("click",(function(dr){if(typeof er.config.chart.events.xAxisLabelClick=="function"){var fr=Object.assign({},er,{labelIndex:ar});er.config.chart.events.xAxisLabelClick(dr,Hn.ctx,fr)}}))}})),ir}},{key:"createPaths",value:function(Hn,er){var nr=this,ir=[],rr=[],sr=[],ar=[];if(Hn.length){rr=[this.graphics.move(er.x,er.y)],ar=[this.graphics.move(er.x,er.y)];var or=this.graphics.move(Hn[0].x,Hn[0].y),lr=this.graphics.move(Hn[0].x,Hn[0].y);Hn.forEach((function(cr,ur){or+=nr.graphics.line(cr.x,cr.y),lr+=nr.graphics.line(cr.x,cr.y),ur===Hn.length-1&&(or+="Z",lr+="Z")})),ir.push(or),sr.push(lr)}return{linePathsFrom:rr,linePathsTo:ir,areaPathsFrom:ar,areaPathsTo:sr}}},{key:"getTextPos",value:function(Hn,er){var nr="middle",ir=Hn.x,rr=Hn.y;return Math.abs(Hn.x)>=10?Hn.x>0?(nr="start",ir+=10):Hn.x<0&&(nr="end",ir-=10):nr="middle",Math.abs(Hn.y)>=er-10&&(Hn.y<0?rr-=10:Hn.y>0&&(rr+=10)),{textAnchor:nr,newX:ir,newY:rr}}},{key:"getPreviousPath",value:function(Hn){for(var er=this.w,nr=null,ir=0;ir<er.globals.previousPaths.length;ir++){var rr=er.globals.previousPaths[ir];rr.paths.length>0&&parseInt(rr.realIndex,10)===parseInt(Hn,10)&&er.globals.previousPaths[ir].paths[0]!==void 0&&(nr=er.globals.previousPaths[ir].paths[0].d)}return nr}},{key:"getDataPointsPos",value:function(Hn,er){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;Hn=Hn||[],er=er||[];for(var ir=[],rr=0;rr<nr;rr++){var sr={};sr.x=Hn[rr]*Math.sin(er[rr]),sr.y=-Hn[rr]*Math.cos(er[rr]),ir.push(sr)}return ir}}]),tr})(),Oa=(function(tr){h$3(er,Ya);var Hn=n(er);function er(nr){var ir;i$1(this,er),(ir=Hn.call(this,nr)).ctx=nr,ir.w=nr.w,ir.animBeginArr=[0],ir.animDur=0;var rr=ir.w;return ir.startAngle=rr.config.plotOptions.radialBar.startAngle,ir.endAngle=rr.config.plotOptions.radialBar.endAngle,ir.totalAngle=Math.abs(rr.config.plotOptions.radialBar.endAngle-rr.config.plotOptions.radialBar.startAngle),ir.trackStartAngle=rr.config.plotOptions.radialBar.track.startAngle,ir.trackEndAngle=rr.config.plotOptions.radialBar.track.endAngle,ir.barLabels=ir.w.config.plotOptions.radialBar.barLabels,ir.donutDataLabels=ir.w.config.plotOptions.radialBar.dataLabels,ir.radialDataLabels=ir.donutDataLabels,ir.trackStartAngle||(ir.trackStartAngle=ir.startAngle),ir.trackEndAngle||(ir.trackEndAngle=ir.endAngle),ir.endAngle===360&&(ir.endAngle=359.99),ir.margin=parseInt(rr.config.plotOptions.radialBar.track.margin,10),ir.onBarLabelClick=ir.onBarLabelClick.bind(e$1(ir)),ir}return s$1(er,[{key:"draw",value:function(nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=rr.group({class:"apexcharts-radialbar"});if(ir.globals.noData)return sr;var ar=rr.group(),or=this.defaultSize/2,lr=ir.globals.gridWidth/2,cr=this.defaultSize/2.05;ir.config.chart.sparkline.enabled||(cr=cr-ir.config.stroke.width-ir.config.chart.dropShadow.blur);var ur=ir.globals.fill.colors;if(ir.config.plotOptions.radialBar.track.show){var dr=this.drawTracks({size:cr,centerX:lr,centerY:or,colorArr:ur,series:nr});ar.add(dr)}var fr=this.drawArcs({size:cr,centerX:lr,centerY:or,colorArr:ur,series:nr}),gr=360;ir.config.plotOptions.radialBar.startAngle<0&&(gr=this.totalAngle);var yr=(360-gr)/360;if(ir.globals.radialSize=cr-cr*yr,this.radialDataLabels.value.show){var vr=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);ir.globals.radialSize+=vr*yr}return ar.add(fr.g),ir.config.plotOptions.radialBar.hollow.position==="front"&&(fr.g.add(fr.elHollow),fr.dataLabels&&fr.g.add(fr.dataLabels)),sr.add(ar),sr}},{key:"drawTracks",value:function(nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=rr.group({class:"apexcharts-tracks"}),ar=new Li$1(this.ctx),or=new ji$1(this.ctx),lr=this.getStrokeWidth(nr);nr.size=nr.size-lr/2;for(var cr=0;cr<nr.series.length;cr++){var ur=rr.group({class:"apexcharts-radialbar-track apexcharts-track"});sr.add(ur),ur.attr({rel:cr+1}),nr.size=nr.size-lr-this.margin;var dr=ir.config.plotOptions.radialBar.track,fr=or.fillPath({seriesNumber:0,size:nr.size,fillColors:Array.isArray(dr.background)?dr.background[cr]:dr.background,solid:!0}),gr=this.trackStartAngle,yr=this.trackEndAngle;Math.abs(yr)+Math.abs(gr)>=360&&(yr=360-Math.abs(this.startAngle)-.1);var vr=rr.drawPath({d:"",stroke:fr,strokeWidth:lr*parseInt(dr.strokeWidth,10)/100,fill:"none",strokeOpacity:dr.opacity,classes:"apexcharts-radialbar-area"});if(dr.dropShadow.enabled){var jr=dr.dropShadow;ar.dropShadow(vr,jr)}ur.add(vr),vr.attr("id","apexcharts-radialbarTrack-"+cr),this.animatePaths(vr,{centerX:nr.centerX,centerY:nr.centerY,endAngle:yr,startAngle:gr,size:nr.size,i:cr,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return sr}},{key:"drawArcs",value:function(nr){var ir=this.w,rr=new Mi$1(this.ctx),sr=new ji$1(this.ctx),ar=new Li$1(this.ctx),or=rr.group(),lr=this.getStrokeWidth(nr);nr.size=nr.size-lr/2;var cr=ir.config.plotOptions.radialBar.hollow.background,ur=nr.size-lr*nr.series.length-this.margin*nr.series.length-lr*parseInt(ir.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,dr=ur-ir.config.plotOptions.radialBar.hollow.margin;ir.config.plotOptions.radialBar.hollow.image!==void 0&&(cr=this.drawHollowImage(nr,or,ur,cr));var fr=this.drawHollow({size:dr,centerX:nr.centerX,centerY:nr.centerY,fill:cr||"transparent"});if(ir.config.plotOptions.radialBar.hollow.dropShadow.enabled){var gr=ir.config.plotOptions.radialBar.hollow.dropShadow;ar.dropShadow(fr,gr)}var yr=1;!this.radialDataLabels.total.show&&ir.globals.series.length>1&&(yr=0);var vr=null;if(this.radialDataLabels.show){var jr=ir.globals.dom.Paper.findOne(".apexcharts-datalabels-group");vr=this.renderInnerDataLabels(jr,this.radialDataLabels,{hollowSize:ur,centerX:nr.centerX,centerY:nr.centerY,opacity:yr})}ir.config.plotOptions.radialBar.hollow.position==="back"&&(or.add(fr),vr&&or.add(vr));var Sr=!1;ir.config.plotOptions.radialBar.inverseOrder&&(Sr=!0);for(var Tr=Sr?nr.series.length-1:0;Sr?Tr>=0:Tr<nr.series.length;Sr?Tr--:Tr++){var Lr=rr.group({class:"apexcharts-series apexcharts-radial-series",seriesName:v$1.escapeString(ir.globals.seriesNames[Tr])});or.add(Lr),Lr.attr({rel:Tr+1,"data:realIndex":Tr}),this.ctx.series.addCollapsedClassToSeries(Lr,Tr),nr.size=nr.size-lr-this.margin;var Mr=sr.fillPath({seriesNumber:Tr,size:nr.size,value:nr.series[Tr]}),Nr=this.startAngle,Or=void 0,Fr=v$1.negToZero(nr.series[Tr]>100?100:nr.series[Tr])/100,Gr=Math.round(this.totalAngle*Fr)+this.startAngle,qr=void 0;ir.globals.dataChanged&&(Or=this.startAngle,qr=Math.round(this.totalAngle*v$1.negToZero(ir.globals.previousPaths[Tr])/100)+Or),Math.abs(Gr)+Math.abs(Nr)>360&&(Gr-=.01),Math.abs(qr)+Math.abs(Or)>360&&(qr-=.01);var Hr=Gr-Nr,Yr=Array.isArray(ir.config.stroke.dashArray)?ir.config.stroke.dashArray[Tr]:ir.config.stroke.dashArray,ro=rr.drawPath({d:"",stroke:Mr,strokeWidth:lr,fill:"none",fillOpacity:ir.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Tr,strokeDashArray:Yr});if(Mi$1.setAttrs(ro.node,{"data:angle":Hr,"data:value":nr.series[Tr]}),ir.config.chart.dropShadow.enabled){var io=ir.config.chart.dropShadow;ar.dropShadow(ro,io,Tr)}if(ar.setSelectionFilter(ro,0,Tr),this.addListeners(ro,this.radialDataLabels),Lr.add(ro),ro.attr({index:0,j:Tr}),this.barLabels.enabled){var fo=v$1.polarToCartesian(nr.centerX,nr.centerY,nr.size,Nr),ao=this.barLabels.formatter(ir.globals.seriesNames[Tr],{seriesIndex:Tr,w:ir}),Jr=["apexcharts-radialbar-label"];this.barLabels.onClick||Jr.push("apexcharts-no-click");var uo=this.barLabels.useSeriesColors?ir.globals.colors[Tr]:ir.config.chart.foreColor;uo||(uo=ir.config.chart.foreColor);var oo=fo.x+this.barLabels.offsetX,co=fo.y+this.barLabels.offsetY,no=rr.drawText({x:oo,y:co,text:ao,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:uo,cssClass:Jr.join(" ")});no.on("click",this.onBarLabelClick),no.attr({rel:Tr+1}),Nr!==0&&no.attr({"transform-origin":"".concat(oo," ").concat(co),transform:"rotate(".concat(Nr," 0 0)")}),Lr.add(no)}var mo=0;!this.initialAnim||ir.globals.resized||ir.globals.dataChanged||(mo=ir.config.chart.animations.speed),ir.globals.dataChanged&&(mo=ir.config.chart.animations.dynamicAnimation.speed),this.animDur=mo/(1.2*nr.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(ro,{centerX:nr.centerX,centerY:nr.centerY,endAngle:Gr,startAngle:Nr,prevEndAngle:qr,prevStartAngle:Or,size:nr.size,i:Tr,totalItems:2,animBeginArr:this.animBeginArr,dur:mo,shouldSetPrevPaths:!0})}return{g:or,elHollow:fr,dataLabels:vr}}},{key:"drawHollow",value:function(nr){var ir=new Mi$1(this.ctx).drawCircle(2*nr.size);return ir.attr({class:"apexcharts-radialbar-hollow",cx:nr.centerX,cy:nr.centerY,r:nr.size,fill:nr.fill}),ir}},{key:"drawHollowImage",value:function(nr,ir,rr,sr){var ar=this.w,or=new ji$1(this.ctx),lr=v$1.randomId(),cr=ar.config.plotOptions.radialBar.hollow.image;if(ar.config.plotOptions.radialBar.hollow.imageClipped)or.clippedImgArea({width:rr,height:rr,image:cr,patternID:"pattern".concat(ar.globals.cuid).concat(lr)}),sr="url(#pattern".concat(ar.globals.cuid).concat(lr,")");else{var ur=ar.config.plotOptions.radialBar.hollow.imageWidth,dr=ar.config.plotOptions.radialBar.hollow.imageHeight;if(ur===void 0&&dr===void 0){var fr=ar.globals.dom.Paper.image(cr,(function(yr){this.move(nr.centerX-yr.width/2+ar.config.plotOptions.radialBar.hollow.imageOffsetX,nr.centerY-yr.height/2+ar.config.plotOptions.radialBar.hollow.imageOffsetY)}));ir.add(fr)}else{var gr=ar.globals.dom.Paper.image(cr,(function(yr){this.move(nr.centerX-ur/2+ar.config.plotOptions.radialBar.hollow.imageOffsetX,nr.centerY-dr/2+ar.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(ur,dr)}));ir.add(gr)}}return sr}},{key:"getStrokeWidth",value:function(nr){var ir=this.w;return nr.size*(100-parseInt(ir.config.plotOptions.radialBar.hollow.size,10))/100/(nr.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(nr){var ir=parseInt(nr.target.getAttribute("rel"),10)-1,rr=this.barLabels.onClick,sr=this.w;rr&&rr(sr.globals.seriesNames[ir],{w:sr,seriesIndex:ir})}}]),er})(),Fa=(function(tr){h$3(er,Ia);var Hn=n(er);function er(){return i$1(this,er),Hn.apply(this,arguments)}return s$1(er,[{key:"draw",value:function(nr,ir){var rr=this.w,sr=new Mi$1(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=nr,this.seriesRangeStart=rr.globals.seriesRangeStart,this.seriesRangeEnd=rr.globals.seriesRangeEnd,this.barHelpers.initVariables(nr);for(var ar=sr.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),or=0;or<nr.length;or++){var lr,cr,ur,dr,fr=void 0,gr=void 0,yr=rr.globals.comboCharts?ir[or]:or,vr=this.barHelpers.getGroupIndex(yr).columnGroupIndex,jr=sr.group({class:"apexcharts-series",seriesName:v$1.escapeString(rr.globals.seriesNames[yr]),rel:or+1,"data:realIndex":yr});this.ctx.series.addCollapsedClassToSeries(jr,yr),nr[or].length>0&&(this.visibleI=this.visibleI+1);var Sr=0,Tr=0,Lr=0;this.yRatio.length>1&&(this.yaxisIndex=rr.globals.seriesYAxisReverseMap[yr][0],Lr=yr);var Mr=this.barHelpers.initialPositions(yr);gr=Mr.y,dr=Mr.zeroW,fr=Mr.x,Tr=Mr.barWidth,Sr=Mr.barHeight,lr=Mr.xDivision,cr=Mr.yDivision,ur=Mr.zeroH;for(var Nr=sr.group({class:"apexcharts-datalabels","data:realIndex":yr}),Or=sr.group({class:"apexcharts-rangebar-goals-markers"}),Fr=0;Fr<rr.globals.dataPoints;Fr++){var Gr=this.barHelpers.getStrokeWidth(or,Fr,yr),qr=this.seriesRangeStart[or][Fr],Hr=this.seriesRangeEnd[or][Fr],Yr=null,ro=null,io=null,fo={x:fr,y:gr,strokeWidth:Gr,elSeries:jr},ao=this.seriesLen;if(rr.config.plotOptions.bar.rangeBarGroupRows&&(ao=1),rr.config.series[or].data[Fr]===void 0)break;if(this.isHorizontal){io=gr+Sr*this.visibleI;var Jr=(cr-Sr*ao)/2;if(rr.config.series[or].data[Fr].x){var uo=this.detectOverlappingBars({i:or,j:Fr,barYPosition:io,srty:Jr,barHeight:Sr,yDivision:cr,initPositions:Mr});Sr=uo.barHeight,io=uo.barYPosition}Tr=(Yr=this.drawRangeBarPaths(u$2({indexes:{i:or,j:Fr,realIndex:yr},barHeight:Sr,barYPosition:io,zeroW:dr,yDivision:cr,y1:qr,y2:Hr},fo))).barWidth}else{rr.globals.isXNumeric&&(fr=(rr.globals.seriesX[or][Fr]-rr.globals.minX)/this.xRatio-Tr/2),ro=fr+Tr*this.visibleI;var oo=(lr-Tr*ao)/2;if(rr.config.series[or].data[Fr].x){var co=this.detectOverlappingBars({i:or,j:Fr,barXPosition:ro,srtx:oo,barWidth:Tr,xDivision:lr,initPositions:Mr});Tr=co.barWidth,ro=co.barXPosition}Sr=(Yr=this.drawRangeColumnPaths(u$2({indexes:{i:or,j:Fr,realIndex:yr,translationsIndex:Lr},barWidth:Tr,barXPosition:ro,zeroH:ur,xDivision:lr},fo))).barHeight}var no=this.barHelpers.drawGoalLine({barXPosition:Yr.barXPosition,barYPosition:io,goalX:Yr.goalX,goalY:Yr.goalY,barHeight:Sr,barWidth:Tr});no&&Or.add(no),gr=Yr.y,fr=Yr.x;var mo=this.barHelpers.getPathFillColor(nr,or,Fr,yr);this.renderSeries({realIndex:yr,pathFill:mo.color,lineFill:mo.useRangeColor?mo.color:rr.globals.stroke.colors[yr],j:Fr,i:or,x:fr,y:gr,y1:qr,y2:Hr,pathFrom:Yr.pathFrom,pathTo:Yr.pathTo,strokeWidth:Gr,elSeries:jr,series:nr,barHeight:Sr,barWidth:Tr,barXPosition:ro,barYPosition:io,columnGroupIndex:vr,elDataLabelsWrap:Nr,elGoalsMarkers:Or,visibleSeries:this.visibleI,type:"rangebar"})}ar.add(jr)}return ar}},{key:"detectOverlappingBars",value:function(nr){var ir=nr.i,rr=nr.j,sr=nr.barYPosition,ar=nr.barXPosition,or=nr.srty,lr=nr.srtx,cr=nr.barHeight,ur=nr.barWidth,dr=nr.yDivision,fr=nr.xDivision,gr=nr.initPositions,yr=this.w,vr=[],jr=yr.config.series[ir].data[rr].rangeName,Sr=yr.config.series[ir].data[rr].x,Tr=Array.isArray(Sr)?Sr.join(" "):Sr,Lr=yr.globals.labels.map((function(Nr){return Array.isArray(Nr)?Nr.join(" "):Nr})).indexOf(Tr),Mr=yr.globals.seriesRange[ir].findIndex((function(Nr){return Nr.x===Tr&&Nr.overlaps.length>0}));return this.isHorizontal?(sr=yr.config.plotOptions.bar.rangeBarGroupRows?or+dr*Lr:or+cr*this.visibleI+dr*Lr,Mr>-1&&!yr.config.plotOptions.bar.rangeBarOverlap&&(vr=yr.globals.seriesRange[ir][Mr].overlaps).indexOf(jr)>-1&&(sr=(cr=gr.barHeight/vr.length)*this.visibleI+dr*(100-parseInt(this.barOptions.barHeight,10))/100/2+cr*(this.visibleI+vr.indexOf(jr))+dr*Lr)):(Lr>-1&&!yr.globals.timescaleLabels.length&&(ar=yr.config.plotOptions.bar.rangeBarGroupRows?lr+fr*Lr:lr+ur*this.visibleI+fr*Lr),Mr>-1&&!yr.config.plotOptions.bar.rangeBarOverlap&&(vr=yr.globals.seriesRange[ir][Mr].overlaps).indexOf(jr)>-1&&(ar=(ur=gr.barWidth/vr.length)*this.visibleI+fr*(100-parseInt(this.barOptions.barWidth,10))/100/2+ur*(this.visibleI+vr.indexOf(jr))+fr*Lr)),{barYPosition:sr,barXPosition:ar,barHeight:cr,barWidth:ur}}},{key:"drawRangeColumnPaths",value:function(nr){var ir=nr.indexes,rr=nr.x,sr=nr.xDivision,ar=nr.barWidth,or=nr.barXPosition,lr=nr.zeroH,cr=this.w,ur=ir.i,dr=ir.j,fr=ir.realIndex,gr=ir.translationsIndex,yr=this.yRatio[gr],vr=this.getRangeValue(fr,dr),jr=Math.min(vr.start,vr.end),Sr=Math.max(vr.start,vr.end);this.series[ur][dr]===void 0||this.series[ur][dr]===null?jr=lr:(jr=lr-jr/yr,Sr=lr-Sr/yr);var Tr=Math.abs(Sr-jr),Lr=this.barHelpers.getColumnPaths({barXPosition:or,barWidth:ar,y1:jr,y2:Sr,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:fr,i:fr,j:dr,w:cr});if(cr.globals.isXNumeric){var Mr=this.getBarXForNumericXAxis({x:rr,j:dr,realIndex:fr,barWidth:ar});rr=Mr.x,or=Mr.barXPosition}else rr+=sr;return{pathTo:Lr.pathTo,pathFrom:Lr.pathFrom,barHeight:Tr,x:rr,y:vr.start<0&&vr.end<0?jr:Sr,goalY:this.barHelpers.getGoalValues("y",null,lr,ur,dr,gr),barXPosition:or}}},{key:"preventBarOverflow",value:function(nr){var ir=this.w;return nr<0&&(nr=0),nr>ir.globals.gridWidth&&(nr=ir.globals.gridWidth),nr}},{key:"drawRangeBarPaths",value:function(nr){var ir=nr.indexes,rr=nr.y,sr=nr.y1,ar=nr.y2,or=nr.yDivision,lr=nr.barHeight,cr=nr.barYPosition,ur=nr.zeroW,dr=this.w,fr=ir.realIndex,gr=ir.j,yr=this.preventBarOverflow(ur+sr/this.invertedYRatio),vr=this.preventBarOverflow(ur+ar/this.invertedYRatio),jr=this.getRangeValue(fr,gr),Sr=Math.abs(vr-yr),Tr=this.barHelpers.getBarpaths({barYPosition:cr,barHeight:lr,x1:yr,x2:vr,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:fr,realIndex:fr,j:gr,w:dr});return dr.globals.isXNumeric||(rr+=or),{pathTo:Tr.pathTo,pathFrom:Tr.pathFrom,barWidth:Sr,x:jr.start<0&&jr.end<0?yr:vr,goalX:this.barHelpers.getGoalValues("x",ur,null,fr,gr),y:rr}}},{key:"getRangeValue",value:function(nr,ir){var rr=this.w;return{start:rr.globals.seriesRangeStart[nr][ir],end:rr.globals.seriesRangeEnd[nr][ir]}}}]),er})(),Da=(function(){function tr(Hn){i$1(this,tr),this.w=Hn.w,this.lineCtx=Hn}return s$1(tr,[{key:"sameValueSeriesFix",value:function(Hn,er){var nr=this.w;if((nr.config.fill.type==="gradient"||nr.config.fill.type[Hn]==="gradient")&&new Pi$1(this.lineCtx.ctx,nr).seriesHaveSameValues(Hn)){var ir=er[Hn].slice();ir[ir.length-1]=ir[ir.length-1]+1e-6,er[Hn]=ir}return er}},{key:"calculatePoints",value:function(Hn){var er=Hn.series,nr=Hn.realIndex,ir=Hn.x,rr=Hn.y,sr=Hn.i,ar=Hn.j,or=Hn.prevY,lr=this.w,cr=[],ur=[],dr=this.lineCtx.categoryAxisCorrection+lr.config.markers.offsetX;return lr.globals.isXNumeric&&(dr=(lr.globals.seriesX[nr][0]-lr.globals.minX)/this.lineCtx.xRatio+lr.config.markers.offsetX),ar===0&&(cr.push(dr),ur.push(v$1.isNumber(er[sr][0])?or+lr.config.markers.offsetY:null)),cr.push(ir+lr.config.markers.offsetX),ur.push(v$1.isNumber(er[sr][ar+1])?rr+lr.config.markers.offsetY:null),{x:cr,y:ur}}},{key:"checkPreviousPaths",value:function(Hn){for(var er=Hn.pathFromLine,nr=Hn.pathFromArea,ir=Hn.realIndex,rr=this.w,sr=0;sr<rr.globals.previousPaths.length;sr++){var ar=rr.globals.previousPaths[sr];(ar.type==="line"||ar.type==="area")&&ar.paths.length>0&&parseInt(ar.realIndex,10)===parseInt(ir,10)&&(ar.type==="line"?(this.lineCtx.appendPathFrom=!1,er=rr.globals.previousPaths[sr].paths[0].d):ar.type==="area"&&(this.lineCtx.appendPathFrom=!1,nr=rr.globals.previousPaths[sr].paths[0].d,rr.config.stroke.show&&rr.globals.previousPaths[sr].paths[1]&&(er=rr.globals.previousPaths[sr].paths[1].d)))}return{pathFromLine:er,pathFromArea:nr}}},{key:"determineFirstPrevY",value:function(Hn){var er,nr,ir,rr=Hn.i,sr=Hn.realIndex,ar=Hn.series,or=Hn.prevY,lr=Hn.lineYPosition,cr=Hn.translationsIndex,ur=this.w,dr=ur.config.chart.stacked&&!ur.globals.comboCharts||ur.config.chart.stacked&&ur.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((er=this.w.config.series[sr])===null||er===void 0?void 0:er.type)==="bar"||((nr=this.w.config.series[sr])===null||nr===void 0?void 0:nr.type)==="column");if(((ir=ar[rr])===null||ir===void 0?void 0:ir[0])!==void 0)or=(lr=dr&&rr>0?this.lineCtx.prevSeriesY[rr-1][0]:this.lineCtx.zeroY)-ar[rr][0]/this.lineCtx.yRatio[cr]+2*(this.lineCtx.isReversed?ar[rr][0]/this.lineCtx.yRatio[cr]:0);else if(dr&&rr>0&&ar[rr][0]===void 0){for(var fr=rr-1;fr>=0;fr--)if(ar[fr][0]!==null&&ar[fr][0]!==void 0){or=lr=this.lineCtx.prevSeriesY[fr][0];break}}return{prevY:or,lineYPosition:lr}}}]),tr})(),_a=function(tr){for(var Hn,er,nr,ir,rr=(function(cr){for(var ur=[],dr=cr[0],fr=cr[1],gr=ur[0]=Ba(dr,fr),yr=1,vr=cr.length-1;yr<vr;yr++)dr=fr,fr=cr[yr+1],ur[yr]=.5*(gr+(gr=Ba(dr,fr)));return ur[yr]=gr,ur})(tr),sr=tr.length-1,ar=[],or=0;or<sr;or++)nr=Ba(tr[or],tr[or+1]),Math.abs(nr)<1e-6?rr[or]=rr[or+1]=0:(ir=(Hn=rr[or]/nr)*Hn+(er=rr[or+1]/nr)*er)>9&&(ir=3*nr/Math.sqrt(ir),rr[or]=ir*Hn,rr[or+1]=ir*er);for(var lr=0;lr<=sr;lr++)ir=(tr[Math.min(sr,lr+1)][0]-tr[Math.max(0,lr-1)][0])/(6*(1+rr[lr]*rr[lr])),ar.push([ir||0,rr[lr]*ir||0]);return ar},Na=function(tr){var Hn=_a(tr),er=tr[1],nr=tr[0],ir=[],rr=Hn[1],sr=Hn[0];ir.push(nr,[nr[0]+sr[0],nr[1]+sr[1],er[0]-rr[0],er[1]-rr[1],er[0],er[1]]);for(var ar=2,or=Hn.length;ar<or;ar++){var lr=tr[ar],cr=Hn[ar];ir.push([lr[0]-cr[0],lr[1]-cr[1],lr[0],lr[1]])}return ir},Wa=function(tr,Hn,er){var nr=tr.slice(Hn,er);if(Hn){if(er-Hn>1&&nr[1].length<6){var ir=nr[0].length;nr[1]=[2*nr[0][ir-2]-nr[0][ir-4],2*nr[0][ir-1]-nr[0][ir-3]].concat(nr[1])}nr[0]=nr[0].slice(-2)}return nr};function Ba(tr,Hn){return(Hn[1]-tr[1])/(Hn[0]-tr[0])}var Ga=(function(){function tr(Hn,er,nr){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.xyRatios=er,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||nr,this.scatter=new Ui$1(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Da(this),this.markers=new Vi$1(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return s$1(tr,[{key:"draw",value:function(Hn,er,nr,ir){var rr,sr=this.w,ar=new Mi$1(this.ctx),or=sr.globals.comboCharts?er:sr.config.chart.type,lr=ar.group({class:"apexcharts-".concat(or,"-series apexcharts-plot-series")}),cr=new Pi$1(this.ctx,sr);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,Hn=cr.getLogSeries(Hn),this.yRatio=cr.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var ur=[],dr=0;dr<Hn.length;dr++){Hn=this.lineHelpers.sameValueSeriesFix(dr,Hn);var fr=sr.globals.comboCharts?nr[dr]:dr,gr=this.yRatio.length>1?fr:0;this._initSerieVariables(Hn,dr,fr);var yr=[],vr=[],jr=[],Sr=sr.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,fr),sr.globals.isXNumeric&&sr.globals.seriesX.length>0&&(Sr=(sr.globals.seriesX[fr][0]-sr.globals.minX)/this.xRatio),jr.push(Sr);var Tr,Lr=Sr,Mr=void 0,Nr=Lr,Or=this.zeroY,Fr=this.zeroY;Or=this.lineHelpers.determineFirstPrevY({i:dr,realIndex:fr,series:Hn,prevY:Or,lineYPosition:0,translationsIndex:gr}).prevY,sr.config.stroke.curve==="monotoneCubic"&&Hn[dr][0]===null?yr.push(null):yr.push(Or),Tr=Or,or==="rangeArea"&&(Mr=Fr=this.lineHelpers.determineFirstPrevY({i:dr,realIndex:fr,series:ir,prevY:Fr,lineYPosition:0,translationsIndex:gr}).prevY,vr.push(yr[0]!==null?Fr:null));var Gr=this._calculatePathsFrom({type:or,series:Hn,i:dr,realIndex:fr,translationsIndex:gr,prevX:Nr,prevY:Or,prevY2:Fr}),qr=[yr[0]],Hr=[vr[0]],Yr={type:or,series:Hn,realIndex:fr,translationsIndex:gr,i:dr,x:Sr,y:1,pX:Lr,pY:Tr,pathsFrom:Gr,linePaths:[],areaPaths:[],seriesIndex:nr,lineYPosition:0,xArrj:jr,yArrj:yr,y2Arrj:vr,seriesRangeEnd:ir},ro=this._iterateOverDataPoints(u$2(u$2({},Yr),{},{iterations:or==="rangeArea"?Hn[dr].length-1:void 0,isRangeStart:!0}));if(or==="rangeArea"){for(var io=this._calculatePathsFrom({series:ir,i:dr,realIndex:fr,prevX:Nr,prevY:Fr}),fo=this._iterateOverDataPoints(u$2(u$2({},Yr),{},{series:ir,xArrj:[Sr],yArrj:qr,y2Arrj:Hr,pY:Mr,areaPaths:ro.areaPaths,pathsFrom:io,iterations:ir[dr].length-1,isRangeStart:!1})),ao=ro.linePaths.length/2,Jr=0;Jr<ao;Jr++)ro.linePaths[Jr]=fo.linePaths[Jr+ao]+ro.linePaths[Jr];ro.linePaths.splice(ao),ro.pathFromLine=fo.pathFromLine+ro.pathFromLine}else ro.pathFromArea+="z";this._handlePaths({type:or,realIndex:fr,i:dr,paths:ro}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),ur.push(this.elSeries)}if(((rr=sr.config.series[0])===null||rr===void 0?void 0:rr.zIndex)!==void 0&&ur.sort((function(co,no){return Number(co.node.getAttribute("zIndex"))-Number(no.node.getAttribute("zIndex"))})),sr.config.chart.stacked)for(var uo=ur.length-1;uo>=0;uo--)lr.add(ur[uo]);else for(var oo=0;oo<ur.length;oo++)lr.add(ur[oo]);return lr}},{key:"_initSerieVariables",value:function(Hn,er,nr){var ir=this.w,rr=new Mi$1(this.ctx);this.xDivision=ir.globals.gridWidth/(ir.globals.dataPoints-(ir.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(ir.config.stroke.width)?ir.config.stroke.width[nr]:ir.config.stroke.width;var sr=0;if(this.yRatio.length>1&&(this.yaxisIndex=ir.globals.seriesYAxisReverseMap[nr],sr=nr),this.isReversed=ir.config.yaxis[this.yaxisIndex]&&ir.config.yaxis[this.yaxisIndex].reversed,this.zeroY=ir.globals.gridHeight-this.baseLineY[sr]-(this.isReversed?ir.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[sr]:0),this.areaBottomY=this.zeroY,(this.zeroY>ir.globals.gridHeight||ir.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=ir.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=rr.group({class:"apexcharts-series",zIndex:ir.config.series[nr].zIndex!==void 0?ir.config.series[nr].zIndex:nr,seriesName:v$1.escapeString(ir.globals.seriesNames[nr])}),this.elPointsMain=rr.group({class:"apexcharts-series-markers-wrap","data:realIndex":nr}),ir.globals.hasNullValues){var ar=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[ir.globals.gridHeight+ir.globals.markers.largestSize]},seriesIndex:er,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});ar!==null&&this.elPointsMain.add(ar)}this.elDataLabelsWrap=rr.group({class:"apexcharts-datalabels","data:realIndex":nr});var or=Hn[er].length===ir.globals.dataPoints;this.elSeries.attr({"data:longestSeries":or,rel:er+1,"data:realIndex":nr}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(Hn){var er,nr,ir,rr,sr=Hn.type,ar=Hn.series,or=Hn.i,lr=Hn.realIndex,cr=Hn.translationsIndex,ur=Hn.prevX,dr=Hn.prevY,fr=Hn.prevY2,gr=this.w,yr=new Mi$1(this.ctx);if(ar[or][0]===null){for(var vr=0;vr<ar[or].length;vr++)if(ar[or][vr]!==null){ur=this.xDivision*vr,dr=this.zeroY-ar[or][vr]/this.yRatio[cr],er=yr.move(ur,dr),nr=yr.move(ur,this.areaBottomY);break}}else er=yr.move(ur,dr),sr==="rangeArea"&&(er=yr.move(ur,fr)+yr.line(ur,dr)),nr=yr.move(ur,this.areaBottomY)+yr.line(ur,dr);if(ir=yr.move(0,this.areaBottomY)+yr.line(0,this.areaBottomY),rr=yr.move(0,this.areaBottomY)+yr.line(0,this.areaBottomY),gr.globals.previousPaths.length>0){var jr=this.lineHelpers.checkPreviousPaths({pathFromLine:ir,pathFromArea:rr,realIndex:lr});ir=jr.pathFromLine,rr=jr.pathFromArea}return{prevX:ur,prevY:dr,linePath:er,areaPath:nr,pathFromLine:ir,pathFromArea:rr}}},{key:"_handlePaths",value:function(Hn){var er=Hn.type,nr=Hn.realIndex,ir=Hn.i,rr=Hn.paths,sr=this.w,ar=new Mi$1(this.ctx),or=new ji$1(this.ctx);this.prevSeriesY.push(rr.yArrj),sr.globals.seriesXvalues[nr]=rr.xArrj,sr.globals.seriesYvalues[nr]=rr.yArrj;var lr=sr.config.forecastDataPoints;if(lr.count>0&&er!=="rangeArea"){var cr=sr.globals.seriesXvalues[nr][sr.globals.seriesXvalues[nr].length-lr.count-1],ur=ar.drawRect(cr,0,sr.globals.gridWidth,sr.globals.gridHeight,0);sr.globals.dom.elForecastMask.appendChild(ur.node);var dr=ar.drawRect(0,0,cr,sr.globals.gridHeight,0);sr.globals.dom.elNonForecastMask.appendChild(dr.node)}this.pointsChart||sr.globals.delayedElements.push({el:this.elPointsMain.node,index:nr});var fr={i:ir,realIndex:nr,animationDelay:ir,initialSpeed:sr.config.chart.animations.speed,dataChangeSpeed:sr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(er)};if(er==="area")for(var gr=or.fillPath({seriesNumber:nr}),yr=0;yr<rr.areaPaths.length;yr++){var vr=ar.renderPaths(u$2(u$2({},fr),{},{pathFrom:rr.pathFromArea,pathTo:rr.areaPaths[yr],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:gr}));this.elSeries.add(vr)}if(sr.config.stroke.show&&!this.pointsChart){var jr=null;if(er==="line")jr=or.fillPath({seriesNumber:nr,i:ir});else if(sr.config.stroke.fill.type==="solid")jr=sr.globals.stroke.colors[nr];else{var Sr=sr.config.fill;sr.config.fill=sr.config.stroke.fill,jr=or.fillPath({seriesNumber:nr,i:ir}),sr.config.fill=Sr}for(var Tr=0;Tr<rr.linePaths.length;Tr++){var Lr=jr;er==="rangeArea"&&(Lr=or.fillPath({seriesNumber:nr}));var Mr=u$2(u$2({},fr),{},{pathFrom:rr.pathFromLine,pathTo:rr.linePaths[Tr],stroke:jr,strokeWidth:this.strokeWidth,strokeLineCap:sr.config.stroke.lineCap,fill:er==="rangeArea"?Lr:"none"}),Nr=ar.renderPaths(Mr);if(this.elSeries.add(Nr),Nr.attr("fill-rule","evenodd"),lr.count>0&&er!=="rangeArea"){var Or=ar.renderPaths(Mr);Or.node.setAttribute("stroke-dasharray",lr.dashArray),lr.strokeWidth&&Or.node.setAttribute("stroke-width",lr.strokeWidth),this.elSeries.add(Or),Or.attr("clip-path","url(#forecastMask".concat(sr.globals.cuid,")")),Nr.attr("clip-path","url(#nonForecastMask".concat(sr.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(Hn){var er,nr,ir=this,rr=Hn.type,sr=Hn.series,ar=Hn.iterations,or=Hn.realIndex,lr=Hn.translationsIndex,cr=Hn.i,ur=Hn.x,dr=Hn.y,fr=Hn.pX,gr=Hn.pY,yr=Hn.pathsFrom,vr=Hn.linePaths,jr=Hn.areaPaths,Sr=Hn.seriesIndex,Tr=Hn.lineYPosition,Lr=Hn.xArrj,Mr=Hn.yArrj,Nr=Hn.y2Arrj,Or=Hn.isRangeStart,Fr=Hn.seriesRangeEnd,Gr=this.w,qr=new Mi$1(this.ctx),Hr=this.yRatio,Yr=yr.prevY,ro=yr.linePath,io=yr.areaPath,fo=yr.pathFromLine,ao=yr.pathFromArea,Jr=v$1.isNumber(Gr.globals.minYArr[or])?Gr.globals.minYArr[or]:Gr.globals.minY;ar||(ar=Gr.globals.dataPoints>1?Gr.globals.dataPoints-1:Gr.globals.dataPoints);var uo=function(Co,Go){return Go-Co/Hr[lr]+2*(ir.isReversed?Co/Hr[lr]:0)},oo=dr,co=Gr.config.chart.stacked&&!Gr.globals.comboCharts||Gr.config.chart.stacked&&Gr.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((er=this.w.config.series[or])===null||er===void 0?void 0:er.type)==="bar"||((nr=this.w.config.series[or])===null||nr===void 0?void 0:nr.type)==="column"),no=Gr.config.stroke.curve;Array.isArray(no)&&(no=Array.isArray(Sr)?no[Sr[cr]]:no[cr]);for(var mo,Eo=0,bo=0;bo<ar&&sr[cr].length!==0;bo++){var Po=sr[cr][bo+1]===void 0||sr[cr][bo+1]===null;if(Gr.globals.isXNumeric){var wo=Gr.globals.seriesX[or][bo+1];Gr.globals.seriesX[or][bo+1]===void 0&&(wo=Gr.globals.seriesX[or][ar-1]),ur=(wo-Gr.globals.minX)/this.xRatio}else ur+=this.xDivision;co?cr>0&&Gr.globals.collapsedSeries.length<Gr.config.series.length-1?Tr=this.prevSeriesY[(function(Co){for(var Go=Co;Go>0;Go--){if(!(Gr.globals.collapsedSeriesIndices.indexOf(Sr?.[Go]||Go)>-1))return Go;Go--}return 0})(cr-1)][bo+1]:Tr=this.zeroY:Tr=this.zeroY,Po?dr=uo(Jr,Tr):(dr=uo(sr[cr][bo+1],Tr),rr==="rangeArea"&&(oo=uo(Fr[cr][bo+1],Tr))),Lr.push(sr[cr][bo+1]===null?null:ur),!Po||Gr.config.stroke.curve!=="smooth"&&Gr.config.stroke.curve!=="monotoneCubic"?(Mr.push(dr),Nr.push(oo)):(Mr.push(null),Nr.push(null));var To=this.lineHelpers.calculatePoints({series:sr,x:ur,y:dr,realIndex:or,i:cr,j:bo,prevY:Yr}),Fo=this._createPaths({type:rr,series:sr,i:cr,realIndex:or,j:bo,x:ur,y:dr,y2:oo,xArrj:Lr,yArrj:Mr,y2Arrj:Nr,pX:fr,pY:gr,pathState:Eo,segmentStartX:mo,linePath:ro,areaPath:io,linePaths:vr,areaPaths:jr,curve:no,isRangeStart:Or});jr=Fo.areaPaths,vr=Fo.linePaths,fr=Fo.pX,gr=Fo.pY,Eo=Fo.pathState,mo=Fo.segmentStartX,io=Fo.areaPath,ro=Fo.linePath,!this.appendPathFrom||Gr.globals.hasNullValues||no==="monotoneCubic"&&rr==="rangeArea"||(fo+=qr.line(ur,this.areaBottomY),ao+=qr.line(ur,this.areaBottomY)),this.handleNullDataPoints(sr,To,cr,bo,or),this._handleMarkersAndLabels({type:rr,pointsPos:To,i:cr,j:bo,realIndex:or,isRangeStart:Or})}return{yArrj:Mr,xArrj:Lr,pathFromArea:ao,areaPaths:jr,pathFromLine:fo,linePaths:vr,linePath:ro,areaPath:io}}},{key:"_handleMarkersAndLabels",value:function(Hn){var er=Hn.type,nr=Hn.pointsPos,ir=Hn.isRangeStart,rr=Hn.i,sr=Hn.j,ar=Hn.realIndex,or=this.w,lr=new qi$1(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,sr,{realIndex:ar,pointsPos:nr,zRatio:this.zRatio,elParent:this.elPointsMain});else{or.globals.series[rr].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var cr=this.markers.plotChartMarkers({pointsPos:nr,seriesIndex:ar,j:sr+1});cr!==null&&this.elPointsMain.add(cr)}var ur=lr.drawDataLabel({type:er,isRangeStart:ir,pos:nr,i:ar,j:sr+1});ur!==null&&this.elDataLabelsWrap.add(ur)}},{key:"_createPaths",value:function(Hn){var er=Hn.type,nr=Hn.series,ir=Hn.i;Hn.realIndex;var rr,sr=Hn.j,ar=Hn.x,or=Hn.y,lr=Hn.xArrj,cr=Hn.yArrj,ur=Hn.y2,dr=Hn.y2Arrj,fr=Hn.pX,gr=Hn.pY,yr=Hn.pathState,vr=Hn.segmentStartX,jr=Hn.linePath,Sr=Hn.areaPath,Tr=Hn.linePaths,Lr=Hn.areaPaths,Mr=Hn.curve,Nr=Hn.isRangeStart,Or=new Mi$1(this.ctx),Fr=this.areaBottomY,Gr=er==="rangeArea",qr=er==="rangeArea"&&Nr;switch(Mr){case"monotoneCubic":var Hr=Nr?cr:dr;switch(yr){case 0:if(Hr[sr+1]===null)break;yr=1;case 1:if(!(Gr?lr.length===nr[ir].length:sr===nr[ir].length-2))break;case 2:var Yr=Nr?lr:lr.slice().reverse(),ro=Nr?Hr:Hr.slice().reverse(),io=(rr=ro,Yr.map((function(wo,To){return[wo,rr[To]]})).filter((function(wo){return wo[1]!==null}))),fo=io.length>1?Na(io):io,ao=[];Gr&&(qr?Lr=io:ao=Lr.reverse());var Jr=0,uo=0;if((function(wo,To){for(var Fo=(function(Lo){var Uo=[],$o=0;return Lo.forEach((function(il){il!==null?$o++:$o>0&&(Uo.push($o),$o=0)})),$o>0&&Uo.push($o),Uo})(wo),Co=[],Go=0,el=0;Go<Fo.length;el+=Fo[Go++])Co[Go]=Wa(To,el,el+Fo[Go]);return Co})(ro,fo).forEach((function(wo){Jr++;var To=(function(Go){for(var el="",Lo=0;Lo<Go.length;Lo++){var Uo=Go[Lo],$o=Uo.length;$o>4?(el+="C".concat(Uo[0],", ").concat(Uo[1]),el+=", ".concat(Uo[2],", ").concat(Uo[3]),el+=", ".concat(Uo[4],", ").concat(Uo[5])):$o>2&&(el+="S".concat(Uo[0],", ").concat(Uo[1]),el+=", ".concat(Uo[2],", ").concat(Uo[3]))}return el})(wo),Fo=uo,Co=(uo+=wo.length)-1;qr?jr=Or.move(io[Fo][0],io[Fo][1])+To:Gr?jr=Or.move(ao[Fo][0],ao[Fo][1])+Or.line(io[Fo][0],io[Fo][1])+To+Or.line(ao[Co][0],ao[Co][1]):(jr=Or.move(io[Fo][0],io[Fo][1])+To,Sr=jr+Or.line(io[Co][0],Fr)+Or.line(io[Fo][0],Fr)+"z",Lr.push(Sr)),Tr.push(jr)})),Gr&&Jr>1&&!qr){var oo=Tr.slice(Jr).reverse();Tr.splice(Jr),oo.forEach((function(wo){return Tr.push(wo)}))}yr=0}break;case"smooth":var co=.35*(ar-fr);if(nr[ir][sr]===null)yr=0;else switch(yr){case 0:if(vr=fr,jr=qr?Or.move(fr,dr[sr])+Or.line(fr,gr):Or.move(fr,gr),Sr=Or.move(fr,gr),nr[ir][sr+1]===null||nr[ir][sr+1]===void 0){Tr.push(jr),Lr.push(Sr);break}if(yr=1,sr<nr[ir].length-2){var no=Or.curve(fr+co,gr,ar-co,or,ar,or);jr+=no,Sr+=no;break}case 1:if(nr[ir][sr+1]===null)jr+=qr?Or.line(fr,ur):Or.move(fr,gr),Sr+=Or.line(fr,Fr)+Or.line(vr,Fr)+"z",Tr.push(jr),Lr.push(Sr),yr=-1;else{var mo=Or.curve(fr+co,gr,ar-co,or,ar,or);jr+=mo,Sr+=mo,sr>=nr[ir].length-2&&(qr&&(jr+=Or.curve(ar,or,ar,or,ar,ur)+Or.move(ar,ur)),Sr+=Or.curve(ar,or,ar,or,ar,Fr)+Or.line(vr,Fr)+"z",Tr.push(jr),Lr.push(Sr),yr=-1)}}fr=ar,gr=or;break;default:var Eo=function(wo,To,Fo){var Co=[];switch(wo){case"stepline":Co=Or.line(To,null,"H")+Or.line(null,Fo,"V");break;case"linestep":Co=Or.line(null,Fo,"V")+Or.line(To,null,"H");break;case"straight":Co=Or.line(To,Fo)}return Co};if(nr[ir][sr]===null)yr=0;else switch(yr){case 0:if(vr=fr,jr=qr?Or.move(fr,dr[sr])+Or.line(fr,gr):Or.move(fr,gr),Sr=Or.move(fr,gr),nr[ir][sr+1]===null||nr[ir][sr+1]===void 0){Tr.push(jr),Lr.push(Sr);break}if(yr=1,sr<nr[ir].length-2){var bo=Eo(Mr,ar,or);jr+=bo,Sr+=bo;break}case 1:if(nr[ir][sr+1]===null)jr+=qr?Or.line(fr,ur):Or.move(fr,gr),Sr+=Or.line(fr,Fr)+Or.line(vr,Fr)+"z",Tr.push(jr),Lr.push(Sr),yr=-1;else{var Po=Eo(Mr,ar,or);jr+=Po,Sr+=Po,sr>=nr[ir].length-2&&(qr&&(jr+=Or.line(ar,ur)),Sr+=Or.line(ar,Fr)+Or.line(vr,Fr)+"z",Tr.push(jr),Lr.push(Sr),yr=-1)}}fr=ar,gr=or}return{linePaths:Tr,areaPaths:Lr,pX:fr,pY:gr,pathState:yr,segmentStartX:vr,linePath:jr,areaPath:Sr}}},{key:"handleNullDataPoints",value:function(Hn,er,nr,ir,rr){var sr=this.w;if(Hn[nr][ir]===null&&sr.config.markers.showNullDataPoints||Hn[nr].length===1){var ar=this.strokeWidth-sr.config.markers.strokeWidth/2;ar>0||(ar=0);var or=this.markers.plotChartMarkers({pointsPos:er,seriesIndex:rr,j:ir+1,pSize:ar,alwaysDrawMarker:!0});or!==null&&this.elPointsMain.add(or)}}}]),tr})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function tr(ar,or,lr,cr){this.xoffset=ar,this.yoffset=or,this.height=cr,this.width=lr,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(ur){var dr,fr=[],gr=this.xoffset,yr=this.yoffset,vr=rr(ur)/this.height,jr=rr(ur)/this.width;if(this.width>=this.height)for(dr=0;dr<ur.length;dr++)fr.push([gr,yr,gr+vr,yr+ur[dr]/vr]),yr+=ur[dr]/vr;else for(dr=0;dr<ur.length;dr++)fr.push([gr,yr,gr+ur[dr]/jr,yr+jr]),gr+=ur[dr]/jr;return fr},this.cutArea=function(ur){var dr;if(this.width>=this.height){var fr=ur/this.height,gr=this.width-fr;dr=new tr(this.xoffset+fr,this.yoffset,gr,this.height)}else{var yr=ur/this.width,vr=this.height-yr;dr=new tr(this.xoffset,this.yoffset+yr,this.width,vr)}return dr}}function Hn(ar,or,lr,cr,ur){cr=cr===void 0?0:cr,ur=ur===void 0?0:ur;var dr=er((function(fr,gr){var yr,vr=[],jr=gr/rr(fr);for(yr=0;yr<fr.length;yr++)vr[yr]=fr[yr]*jr;return vr})(ar,or*lr),[],new tr(cr,ur,or,lr),[]);return(function(fr){var gr,yr,vr=[];for(gr=0;gr<fr.length;gr++)for(yr=0;yr<fr[gr].length;yr++)vr.push(fr[gr][yr]);return vr})(dr)}function er(ar,or,lr,cr){var ur,dr,fr;if(ar.length!==0)return ur=lr.shortestEdge(),(function(gr,yr,vr){var jr;if(gr.length===0)return!0;(jr=gr.slice()).push(yr);var Sr=nr(gr,vr),Tr=nr(jr,vr);return Sr>=Tr})(or,dr=ar[0],ur)?(or.push(dr),er(ar.slice(1),or,lr,cr)):(fr=lr.cutArea(rr(or),cr),cr.push(lr.getCoordinates(or)),er(ar,[],fr,cr)),cr;cr.push(lr.getCoordinates(or))}function nr(ar,or){var lr=Math.min.apply(Math,ar),cr=Math.max.apply(Math,ar),ur=rr(ar);return Math.max(Math.pow(or,2)*cr/Math.pow(ur,2),Math.pow(ur,2)/(Math.pow(or,2)*lr))}function ir(ar){return ar&&ar.constructor===Array}function rr(ar){var or,lr=0;for(or=0;or<ar.length;or++)lr+=ar[or];return lr}function sr(ar){var or,lr=0;if(ir(ar[0]))for(or=0;or<ar.length;or++)lr+=sr(ar[or]);else lr=rr(ar);return lr}return function ar(or,lr,cr,ur,dr){ur=ur===void 0?0:ur,dr=dr===void 0?0:dr;var fr,gr,yr=[],vr=[];if(ir(or[0])){for(gr=0;gr<or.length;gr++)yr[gr]=sr(or[gr]);for(fr=Hn(yr,lr,cr,ur,dr),gr=0;gr<or.length;gr++)vr.push(ar(or[gr],fr[gr][2]-fr[gr][0],fr[gr][3]-fr[gr][1],fr[gr][0],fr[gr][1]))}else vr=Hn(or,lr,cr,ur,dr);return vr}})();var ja=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Xa(Hn),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return s$1(tr,[{key:"draw",value:function(Hn){var er=this,nr=this.w,ir=new Mi$1(this.ctx),rr=new ji$1(this.ctx),sr=ir.group({class:"apexcharts-treemap"});if(nr.globals.noData)return sr;var ar=[];return Hn.forEach((function(or){var lr=or.map((function(cr){return Math.abs(cr)}));ar.push(lr)})),this.negRange=this.helpers.checkColorRange(),nr.config.series.forEach((function(or,lr){or.data.forEach((function(cr){Array.isArray(er.labels[lr])||(er.labels[lr]=[]),er.labels[lr].push(cr.x)}))})),window.TreemapSquared.generate(ar,nr.globals.gridWidth,nr.globals.gridHeight).forEach((function(or,lr){var cr=ir.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:v$1.escapeString(nr.globals.seriesNames[lr]),rel:lr+1,"data:realIndex":lr});if(nr.config.chart.dropShadow.enabled){var ur=nr.config.chart.dropShadow;new Li$1(er.ctx).dropShadow(sr,ur,lr)}var dr=ir.group({class:"apexcharts-data-labels"}),fr={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};or.forEach((function(fo,ao){var Jr=fo[0],uo=fo[1],oo=fo[2],co=fo[3];fr.xMin=Math.min(fr.xMin,Jr),fr.yMin=Math.min(fr.yMin,uo),fr.xMax=Math.max(fr.xMax,oo),fr.yMax=Math.max(fr.yMax,co);var no=er.helpers.getShadeColor(nr.config.chart.type,lr,ao,er.negRange),mo=no.color,Eo=rr.fillPath({color:mo,seriesNumber:lr,dataPointIndex:ao}),bo=ir.drawRect(Jr,uo,oo-Jr,co-uo,nr.config.plotOptions.treemap.borderRadius,"#fff",1,er.strokeWidth,nr.config.plotOptions.treemap.useFillColorAsStroke?mo:nr.globals.stroke.colors[lr]);bo.attr({cx:Jr,cy:uo,index:lr,i:lr,j:ao,width:oo-Jr,height:co-uo,fill:Eo}),bo.node.classList.add("apexcharts-treemap-rect"),er.helpers.addListeners(bo);var Po={x:Jr+(oo-Jr)/2,y:uo+(co-uo)/2,width:0,height:0},wo={x:Jr,y:uo,width:oo-Jr,height:co-uo};if(nr.config.chart.animations.enabled&&!nr.globals.dataChanged){var To=1;nr.globals.resized||(To=nr.config.chart.animations.speed),er.animateTreemap(bo,Po,wo,To)}if(nr.globals.dataChanged){var Fo=1;er.dynamicAnim.enabled&&nr.globals.shouldAnimate&&(Fo=er.dynamicAnim.speed,nr.globals.previousPaths[lr]&&nr.globals.previousPaths[lr][ao]&&nr.globals.previousPaths[lr][ao].rect&&(Po=nr.globals.previousPaths[lr][ao].rect),er.animateTreemap(bo,Po,wo,Fo))}var Co=er.getFontSize(fo),Go=nr.config.dataLabels.formatter(er.labels[lr][ao],{value:nr.globals.series[lr][ao],seriesIndex:lr,dataPointIndex:ao,w:nr});nr.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Co=parseInt(nr.config.dataLabels.style.fontSize,10),Go=er.truncateLabels(Go,Co,Jr,uo,oo,co));var el=null;nr.globals.series[lr][ao]&&(el=er.helpers.calculateDataLabels({text:Go,x:(Jr+oo)/2,y:(uo+co)/2+er.strokeWidth/2+Co/3,i:lr,j:ao,colorProps:no,fontSize:Co,series:Hn})),nr.config.dataLabels.enabled&&el&&er.rotateToFitLabel(el,Co,Go,Jr,uo,oo,co),cr.add(bo),el!==null&&cr.add(el)}));var gr=nr.config.plotOptions.treemap.seriesTitle;if(nr.config.series.length>1&&gr&&gr.show){var yr=nr.config.series[lr].name||"";if(yr&&fr.xMin<1/0&&fr.yMin<1/0){var vr=gr.offsetX,jr=gr.offsetY,Sr=gr.borderColor,Tr=gr.borderWidth,Lr=gr.borderRadius,Mr=gr.style,Nr=Mr.color||nr.config.chart.foreColor,Or={left:Mr.padding.left,right:Mr.padding.right,top:Mr.padding.top,bottom:Mr.padding.bottom},Fr=ir.getTextRects(yr,Mr.fontSize,Mr.fontFamily),Gr=Fr.width+Or.left+Or.right,qr=Fr.height+Or.top+Or.bottom,Hr=fr.xMin+(vr||0),Yr=fr.yMin+(jr||0),ro=ir.drawRect(Hr,Yr,Gr,qr,Lr,Mr.background,1,Tr,Sr),io=ir.drawText({x:Hr+Or.left,y:Yr+Or.top+.75*Fr.height,text:yr,fontSize:Mr.fontSize,fontFamily:Mr.fontFamily,fontWeight:Mr.fontWeight,foreColor:Nr,cssClass:Mr.cssClass||""});cr.add(ro),cr.add(io)}}cr.add(dr),sr.add(cr)})),sr}},{key:"getFontSize",value:function(Hn){var er=this.w,nr=(function ir(rr){var sr,ar=0;if(Array.isArray(rr[0]))for(sr=0;sr<rr.length;sr++)ar+=ir(rr[sr]);else for(sr=0;sr<rr.length;sr++)ar+=rr[sr].length;return ar})(this.labels)/(function ir(rr){var sr,ar=0;if(Array.isArray(rr[0]))for(sr=0;sr<rr.length;sr++)ar+=ir(rr[sr]);else for(sr=0;sr<rr.length;sr++)ar+=1;return ar})(this.labels);return(function(ir,rr){var sr=ir*rr,ar=Math.pow(sr,.5);return Math.min(ar/nr,parseInt(er.config.dataLabels.style.fontSize,10))})(Hn[2]-Hn[0],Hn[3]-Hn[1])}},{key:"rotateToFitLabel",value:function(Hn,er,nr,ir,rr,sr,ar){var or=new Mi$1(this.ctx),lr=or.getTextRects(nr,er);if(lr.width+this.w.config.stroke.width+5>sr-ir&&lr.width<=ar-rr){var cr=or.rotateAroundCenter(Hn.node);Hn.node.setAttribute("transform","rotate(-90 ".concat(cr.x," ").concat(cr.y,") translate(").concat(lr.height/3,")"))}}},{key:"truncateLabels",value:function(Hn,er,nr,ir,rr,sr){var ar=new Mi$1(this.ctx),or=ar.getTextRects(Hn,er).width+this.w.config.stroke.width+5>rr-nr&&sr-ir>rr-nr?sr-ir:rr-nr,lr=ar.getTextBasedOnMaxWidth({text:Hn,maxWidth:or,fontSize:er});return Hn.length!==lr.length&&or/er<5?"":lr}},{key:"animateTreemap",value:function(Hn,er,nr,ir){var rr=new y$3(this.ctx);rr.animateRect(Hn,er,nr,ir,(function(){rr.animationCompleted(Hn)}))}}]),tr})(),Va=86400,Ua=10/Va,qa=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return s$1(tr,[{key:"calculateTimeScaleTicks",value:function(Hn,er){var nr=this,ir=this.w;if(ir.globals.allSeriesCollapsed)return ir.globals.labels=[],ir.globals.timescaleLabels=[],[];var rr=new zi$1(this.ctx),sr=(er-Hn)/864e5;this.determineInterval(sr),ir.globals.disableZoomIn=!1,ir.globals.disableZoomOut=!1,sr<Ua?ir.globals.disableZoomIn=!0:sr>5e4&&(ir.globals.disableZoomOut=!0);var ar=rr.getTimeUnitsfromTimestamp(Hn,er,this.utc),or=ir.globals.gridWidth/sr,lr=or/24,cr=lr/60,ur=cr/60,dr=Math.floor(24*sr),fr=Math.floor(1440*sr),gr=Math.floor(sr*Va),yr=Math.floor(sr),vr=Math.floor(sr/30),jr=Math.floor(sr/365),Sr={minMillisecond:ar.minMillisecond,minSecond:ar.minSecond,minMinute:ar.minMinute,minHour:ar.minHour,minDate:ar.minDate,minMonth:ar.minMonth,minYear:ar.minYear},Tr={firstVal:Sr,currentMillisecond:Sr.minMillisecond,currentSecond:Sr.minSecond,currentMinute:Sr.minMinute,currentHour:Sr.minHour,currentMonthDate:Sr.minDate,currentDate:Sr.minDate,currentMonth:Sr.minMonth,currentYear:Sr.minYear,daysWidthOnXAxis:or,hoursWidthOnXAxis:lr,minutesWidthOnXAxis:cr,secondsWidthOnXAxis:ur,numberOfSeconds:gr,numberOfMinutes:fr,numberOfHours:dr,numberOfDays:yr,numberOfMonths:vr,numberOfYears:jr};switch(this.tickInterval){case"years":this.generateYearScale(Tr);break;case"months":case"half_year":this.generateMonthScale(Tr);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(Tr);break;case"hours":this.generateHourScale(Tr);break;case"minutes_fives":case"minutes":this.generateMinuteScale(Tr);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(Tr)}var Lr=this.timeScaleArray.map((function(Mr){var Nr={position:Mr.position,unit:Mr.unit,year:Mr.year,day:Mr.day?Mr.day:1,hour:Mr.hour?Mr.hour:0,month:Mr.month+1};return Mr.unit==="month"?u$2(u$2({},Nr),{},{day:1,value:Mr.value+1}):Mr.unit==="day"||Mr.unit==="hour"?u$2(u$2({},Nr),{},{value:Mr.value}):Mr.unit==="minute"?u$2(u$2({},Nr),{},{value:Mr.value,minute:Mr.value}):Mr.unit==="second"?u$2(u$2({},Nr),{},{value:Mr.value,minute:Mr.minute,second:Mr.second}):Mr}));return Lr.filter((function(Mr){var Nr=1,Or=Math.ceil(ir.globals.gridWidth/120),Fr=Mr.value;ir.config.xaxis.tickAmount!==void 0&&(Or=ir.config.xaxis.tickAmount),Lr.length>Or&&(Nr=Math.floor(Lr.length/Or));var Gr=!1,qr=!1;switch(nr.tickInterval){case"years":Mr.unit==="year"&&(Gr=!0);break;case"half_year":Nr=7,Mr.unit==="year"&&(Gr=!0);break;case"months":Nr=1,Mr.unit==="year"&&(Gr=!0);break;case"months_fortnight":Nr=15,Mr.unit!=="year"&&Mr.unit!=="month"||(Gr=!0),Fr===30&&(qr=!0);break;case"months_days":Nr=10,Mr.unit==="month"&&(Gr=!0),Fr===30&&(qr=!0);break;case"week_days":Nr=8,Mr.unit==="month"&&(Gr=!0);break;case"days":Nr=1,Mr.unit==="month"&&(Gr=!0);break;case"hours":Mr.unit==="day"&&(Gr=!0);break;case"minutes_fives":case"seconds_fives":Fr%5!=0&&(qr=!0);break;case"seconds_tens":Fr%10!=0&&(qr=!0)}if(nr.tickInterval==="hours"||nr.tickInterval==="minutes_fives"||nr.tickInterval==="seconds_tens"||nr.tickInterval==="seconds_fives"){if(!qr)return!0}else if((Fr%Nr==0||Gr)&&!qr)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(Hn,er){var nr=this.w,ir=this.formatDates(Hn),rr=this.removeOverlappingTS(ir);nr.globals.timescaleLabels=rr.slice(),new fa(this.ctx).plotCoords()}},{key:"determineInterval",value:function(Hn){var er=24*Hn,nr=60*er;switch(!0){case Hn/365>5:this.tickInterval="years";break;case Hn>800:this.tickInterval="half_year";break;case Hn>180:this.tickInterval="months";break;case Hn>90:this.tickInterval="months_fortnight";break;case Hn>60:this.tickInterval="months_days";break;case Hn>30:this.tickInterval="week_days";break;case Hn>2:this.tickInterval="days";break;case er>2.4:this.tickInterval="hours";break;case nr>15:this.tickInterval="minutes_fives";break;case nr>5:this.tickInterval="minutes";break;case nr>1:this.tickInterval="seconds_tens";break;case 60*nr>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(Hn){var er=Hn.firstVal,nr=Hn.currentMonth,ir=Hn.currentYear,rr=Hn.daysWidthOnXAxis,sr=Hn.numberOfYears,ar=er.minYear,or=0,lr=new zi$1(this.ctx),cr="year";if(er.minDate>1||er.minMonth>0){var ur=lr.determineRemainingDaysOfYear(er.minYear,er.minMonth,er.minDate);or=(lr.determineDaysOfYear(er.minYear)-ur+1)*rr,ar=er.minYear+1,this.timeScaleArray.push({position:or,value:ar,unit:cr,year:ar,month:v$1.monthMod(nr+1)})}else er.minDate===1&&er.minMonth===0&&this.timeScaleArray.push({position:or,value:ar,unit:cr,year:ir,month:v$1.monthMod(nr+1)});for(var dr=ar,fr=or,gr=0;gr<sr;gr++)dr++,fr=lr.determineDaysOfYear(dr-1)*rr+fr,this.timeScaleArray.push({position:fr,value:dr,unit:cr,year:dr,month:1})}},{key:"generateMonthScale",value:function(Hn){var er=Hn.firstVal,nr=Hn.currentMonthDate,ir=Hn.currentMonth,rr=Hn.currentYear,sr=Hn.daysWidthOnXAxis,ar=Hn.numberOfMonths,or=ir,lr=0,cr=new zi$1(this.ctx),ur="month",dr=0;if(er.minDate>1){lr=(cr.determineDaysOfMonths(ir+1,er.minYear)-nr+1)*sr,or=v$1.monthMod(ir+1);var fr=rr+dr,gr=v$1.monthMod(or),yr=or;or===0&&(ur="year",yr=fr,gr=1,fr+=dr+=1),this.timeScaleArray.push({position:lr,value:yr,unit:ur,year:fr,month:gr})}else this.timeScaleArray.push({position:lr,value:or,unit:ur,year:rr,month:v$1.monthMod(ir)});for(var vr=or+1,jr=lr,Sr=0,Tr=1;Sr<ar;Sr++,Tr++){(vr=v$1.monthMod(vr))===0?(ur="year",dr+=1):ur="month";var Lr=this._getYear(rr,vr,dr);jr=cr.determineDaysOfMonths(vr,Lr)*sr+jr;var Mr=vr===0?Lr:vr;this.timeScaleArray.push({position:jr,value:Mr,unit:ur,year:Lr,month:vr===0?1:vr}),vr++}}},{key:"generateDayScale",value:function(Hn){var er=Hn.firstVal,nr=Hn.currentMonth,ir=Hn.currentYear,rr=Hn.hoursWidthOnXAxis,sr=Hn.numberOfDays,ar=new zi$1(this.ctx),or="day",lr=er.minDate+1,cr=lr,ur=function(Tr,Lr,Mr){return Tr>ar.determineDaysOfMonths(Lr+1,Mr)&&(cr=1,or="month",fr=Lr+=1),Lr},dr=(24-er.minHour)*rr,fr=lr,gr=ur(cr,nr,ir);er.minHour===0&&er.minDate===1?(dr=0,fr=v$1.monthMod(er.minMonth),or="month",cr=er.minDate):er.minDate!==1&&er.minHour===0&&er.minMinute===0&&(dr=0,lr=er.minDate,fr=lr,gr=ur(cr=lr,nr,ir),fr!==1&&(or="day")),this.timeScaleArray.push({position:dr,value:fr,unit:or,year:this._getYear(ir,gr,0),month:v$1.monthMod(gr),day:cr});for(var yr=dr,vr=0;vr<sr;vr++){or="day",gr=ur(cr+=1,gr,this._getYear(ir,gr,0));var jr=this._getYear(ir,gr,0);yr=24*rr+yr;var Sr=cr===1?v$1.monthMod(gr):cr;this.timeScaleArray.push({position:yr,value:Sr,unit:or,year:jr,month:v$1.monthMod(gr),day:Sr})}}},{key:"generateHourScale",value:function(Hn){var er=Hn.firstVal,nr=Hn.currentDate,ir=Hn.currentMonth,rr=Hn.currentYear,sr=Hn.minutesWidthOnXAxis,ar=Hn.numberOfHours,or=new zi$1(this.ctx),lr="hour",cr=function(Nr,Or){return Nr>or.determineDaysOfMonths(Or+1,rr)&&(vr=1,Or+=1),{month:Or,date:vr}},ur=function(Nr,Or){return Nr>or.determineDaysOfMonths(Or+1,rr)?Or+=1:Or},dr=60-(er.minMinute+er.minSecond/60),fr=dr*sr,gr=er.minHour+1,yr=gr;dr===60&&(fr=0,yr=gr=er.minHour);var vr=nr;yr>=24&&(yr=0,lr="day",gr=vr+=1);var jr=cr(vr,ir).month;jr=ur(vr,jr),gr>31&&(gr=vr=1),this.timeScaleArray.push({position:fr,value:gr,unit:lr,day:vr,hour:yr,year:rr,month:v$1.monthMod(jr)}),yr++;for(var Sr=fr,Tr=0;Tr<ar;Tr++){lr="hour",yr>=24&&(yr=0,lr="day",jr=cr(vr+=1,jr).month,jr=ur(vr,jr));var Lr=this._getYear(rr,jr,0);Sr=60*sr+Sr;var Mr=yr===0?vr:yr;this.timeScaleArray.push({position:Sr,value:Mr,unit:lr,hour:yr,day:vr,year:Lr,month:v$1.monthMod(jr)}),yr++}}},{key:"generateMinuteScale",value:function(Hn){for(var er=Hn.currentMillisecond,nr=Hn.currentSecond,ir=Hn.currentMinute,rr=Hn.currentHour,sr=Hn.currentDate,ar=Hn.currentMonth,or=Hn.currentYear,lr=Hn.minutesWidthOnXAxis,cr=Hn.secondsWidthOnXAxis,ur=Hn.numberOfMinutes,dr=ir+1,fr=sr,gr=ar,yr=or,vr=rr,jr=(60-nr-er/1e3)*cr,Sr=0;Sr<ur;Sr++)dr>=60&&(dr=0,(vr+=1)===24&&(vr=0)),this.timeScaleArray.push({position:jr,value:dr,unit:"minute",hour:vr,minute:dr,day:fr,year:this._getYear(yr,gr,0),month:v$1.monthMod(gr)}),jr+=lr,dr++}},{key:"generateSecondScale",value:function(Hn){for(var er=Hn.currentMillisecond,nr=Hn.currentSecond,ir=Hn.currentMinute,rr=Hn.currentHour,sr=Hn.currentDate,ar=Hn.currentMonth,or=Hn.currentYear,lr=Hn.secondsWidthOnXAxis,cr=Hn.numberOfSeconds,ur=nr+1,dr=ir,fr=sr,gr=ar,yr=or,vr=rr,jr=(1e3-er)/1e3*lr,Sr=0;Sr<cr;Sr++)ur>=60&&(ur=0,++dr>=60&&(dr=0,++vr===24&&(vr=0))),this.timeScaleArray.push({position:jr,value:ur,unit:"second",hour:vr,minute:dr,second:ur,day:fr,year:this._getYear(yr,gr,0),month:v$1.monthMod(gr)}),jr+=lr,ur++}},{key:"createRawDateString",value:function(Hn,er){var nr=Hn.year;return Hn.month===0&&(Hn.month=1),nr+="-"+("0"+Hn.month.toString()).slice(-2),Hn.unit==="day"?nr+=Hn.unit==="day"?"-"+("0"+er).slice(-2):"-01":nr+="-"+("0"+(Hn.day?Hn.day:"1")).slice(-2),Hn.unit==="hour"?nr+=Hn.unit==="hour"?"T"+("0"+er).slice(-2):"T00":nr+="T"+("0"+(Hn.hour?Hn.hour:"0")).slice(-2),Hn.unit==="minute"?nr+=":"+("0"+er).slice(-2):nr+=":"+(Hn.minute?("0"+Hn.minute).slice(-2):"00"),Hn.unit==="second"?nr+=":"+("0"+er).slice(-2):nr+=":00",this.utc&&(nr+=".000Z"),nr}},{key:"formatDates",value:function(Hn){var er=this,nr=this.w;return Hn.map((function(ir){var rr=ir.value.toString(),sr=new zi$1(er.ctx),ar=er.createRawDateString(ir,rr),or=sr.getDate(sr.parseDate(ar));if(er.utc||(or=sr.getDate(sr.parseDateWithTimezone(ar))),nr.config.xaxis.labels.format===void 0){var lr="dd MMM",cr=nr.config.xaxis.labels.datetimeFormatter;ir.unit==="year"&&(lr=cr.year),ir.unit==="month"&&(lr=cr.month),ir.unit==="day"&&(lr=cr.day),ir.unit==="hour"&&(lr=cr.hour),ir.unit==="minute"&&(lr=cr.minute),ir.unit==="second"&&(lr=cr.second),rr=sr.formatDate(or,lr)}else rr=sr.formatDate(or,nr.config.xaxis.labels.format);return{dateString:ar,position:ir.position,value:rr,unit:ir.unit,year:ir.year,month:ir.month}}))}},{key:"removeOverlappingTS",value:function(Hn){var er,nr=this,ir=new Mi$1(this.ctx),rr=!1;Hn.length>0&&Hn[0].value&&Hn.every((function(or){return or.value.length===Hn[0].value.length}))&&(rr=!0,er=ir.getTextRects(Hn[0].value).width);var sr=0,ar=Hn.map((function(or,lr){if(lr>0&&nr.w.config.xaxis.labels.hideOverlappingLabels){var cr=rr?er:ir.getTextRects(Hn[sr].value).width,ur=Hn[sr].position;return or.position>ur+cr+10?(sr=lr,or):null}return or}));return ar=ar.filter((function(or){return or!==null}))}},{key:"_getYear",value:function(Hn,er,nr){return Hn+Math.floor(er/12)+nr}}]),tr})(),Za=(function(){function tr(Hn,er){i$1(this,tr),this.ctx=er,this.w=er.w,this.el=Hn}return s$1(tr,[{key:"setupElements",value:function(){var Hn=this.w,er=Hn.globals,nr=Hn.config,ir=nr.chart.type;er.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(ir),er.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(ir),er.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(ir)&&nr.plotOptions.bar.horizontal,er.chartClass=".apexcharts".concat(er.chartID),er.dom.baseEl=this.el,er.dom.elWrap=document.createElement("div"),Mi$1.setAttrs(er.dom.elWrap,{id:er.chartClass.substring(1),class:"apexcharts-canvas ".concat(er.chartClass.substring(1))}),this.el.appendChild(er.dom.elWrap),er.dom.Paper=window.SVG().addTo(er.dom.elWrap),er.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(nr.chart.offsetX,", ").concat(nr.chart.offsetY,")")}),er.dom.Paper.node.style.background=nr.theme.mode!=="dark"||nr.chart.background?nr.theme.mode!=="light"||nr.chart.background?nr.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),er.dom.elLegendForeign=document.createElementNS(er.SVGNS,"foreignObject"),Mi$1.setAttrs(er.dom.elLegendForeign,{x:0,y:0,width:er.svgWidth,height:er.svgHeight}),er.dom.elLegendWrap=document.createElement("div"),er.dom.elLegendWrap.classList.add("apexcharts-legend"),er.dom.elWrap.appendChild(er.dom.elLegendWrap),er.dom.Paper.node.appendChild(er.dom.elLegendForeign),er.dom.elGraphical=er.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),er.dom.elDefs=er.dom.Paper.defs(),er.dom.Paper.add(er.dom.elGraphical),er.dom.elGraphical.add(er.dom.elDefs)}},{key:"plotChartType",value:function(Hn,er){var nr=this.w,ir=this.ctx,rr=nr.config,sr=nr.globals,ar={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},or=rr.chart.type||"line",lr=null,cr=0;sr.series.forEach((function(Nr,Or){var Fr,Gr,qr=((Fr=Hn[Or])===null||Fr===void 0?void 0:Fr.type)==="column"?"bar":((Gr=Hn[Or])===null||Gr===void 0?void 0:Gr.type)||(or==="column"?"bar":or);ar[qr]?(qr==="rangeArea"?(ar[qr].series.push(sr.seriesRangeStart[Or]),ar[qr].seriesRangeEnd.push(sr.seriesRangeEnd[Or])):ar[qr].series.push(Nr),ar[qr].i.push(Or),qr==="bar"&&(nr.globals.columnSeries=ar.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(qr)?lr=qr:console.warn("You have specified an unrecognized series type (".concat(qr,").")),or!==qr&&qr!=="scatter"&&cr++})),cr>0&&(lr&&console.warn("Chart or series type ".concat(lr," cannot appear with other chart or series types.")),ar.bar.series.length>0&&rr.plotOptions.bar.horizontal&&(cr-=ar.bar.series.length,ar.bar={series:[],i:[]},nr.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),sr.comboCharts||(sr.comboCharts=cr>0);var ur=new Ga(ir,er),dr=new za(ir,er);ir.pie=new Ya(ir);var fr=new Oa(ir);ir.rangeBar=new Fa(ir,er);var gr=new Ha(ir),yr=[];if(sr.comboCharts){var vr,jr,Sr=new Pi$1(ir);if(ar.area.series.length>0&&(vr=yr).push.apply(vr,f$2(Sr.drawSeriesByGroup(ar.area,sr.areaGroups,"area",ur))),ar.bar.series.length>0)if(rr.chart.stacked){var Tr=new Ta(ir,er);yr.push(Tr.draw(ar.bar.series,ar.bar.i))}else ir.bar=new Ia(ir,er),yr.push(ir.bar.draw(ar.bar.series,ar.bar.i));if(ar.rangeArea.series.length>0&&yr.push(ur.draw(ar.rangeArea.series,"rangeArea",ar.rangeArea.i,ar.rangeArea.seriesRangeEnd)),ar.line.series.length>0&&(jr=yr).push.apply(jr,f$2(Sr.drawSeriesByGroup(ar.line,sr.lineGroups,"line",ur))),ar.candlestick.series.length>0&&yr.push(dr.draw(ar.candlestick.series,"candlestick",ar.candlestick.i)),ar.boxPlot.series.length>0&&yr.push(dr.draw(ar.boxPlot.series,"boxPlot",ar.boxPlot.i)),ar.rangeBar.series.length>0&&yr.push(ir.rangeBar.draw(ar.rangeBar.series,ar.rangeBar.i)),ar.scatter.series.length>0){var Lr=new Ga(ir,er,!0);yr.push(Lr.draw(ar.scatter.series,"scatter",ar.scatter.i))}if(ar.bubble.series.length>0){var Mr=new Ga(ir,er,!0);yr.push(Mr.draw(ar.bubble.series,"bubble",ar.bubble.i))}}else switch(rr.chart.type){case"line":yr=ur.draw(sr.series,"line");break;case"area":yr=ur.draw(sr.series,"area");break;case"bar":rr.chart.stacked?yr=new Ta(ir,er).draw(sr.series):(ir.bar=new Ia(ir,er),yr=ir.bar.draw(sr.series));break;case"candlestick":yr=new za(ir,er).draw(sr.series,"candlestick");break;case"boxPlot":yr=new za(ir,er).draw(sr.series,rr.chart.type);break;case"rangeBar":yr=ir.rangeBar.draw(sr.series);break;case"rangeArea":yr=ur.draw(sr.seriesRangeStart,"rangeArea",void 0,sr.seriesRangeEnd);break;case"heatmap":yr=new Ra(ir,er).draw(sr.series);break;case"treemap":yr=new ja(ir,er).draw(sr.series);break;case"pie":case"donut":case"polarArea":yr=ir.pie.draw(sr.series);break;case"radialBar":yr=fr.draw(sr.series);break;case"radar":yr=gr.draw(sr.series);break;default:yr=ur.draw(sr.series)}return yr}},{key:"setSVGDimensions",value:function(){var Hn=this.w,er=Hn.globals,nr=Hn.config;nr.chart.width=nr.chart.width||"100%",nr.chart.height=nr.chart.height||"auto",er.svgWidth=nr.chart.width,er.svgHeight=nr.chart.height;var ir=v$1.getDimensions(this.el),rr=nr.chart.width.toString().split(/[0-9]+/g).pop();rr==="%"?v$1.isNumber(ir[0])&&(ir[0].width===0&&(ir=v$1.getDimensions(this.el.parentNode)),er.svgWidth=ir[0]*parseInt(nr.chart.width,10)/100):rr!=="px"&&rr!==""||(er.svgWidth=parseInt(nr.chart.width,10));var sr=String(nr.chart.height).toString().split(/[0-9]+/g).pop();if(er.svgHeight!=="auto"&&er.svgHeight!=="")if(sr==="%"){var ar=v$1.getDimensions(this.el.parentNode);er.svgHeight=ar[1]*parseInt(nr.chart.height,10)/100}else er.svgHeight=parseInt(nr.chart.height,10);else er.svgHeight=er.axisCharts?er.svgWidth/1.61:er.svgWidth/1.2;if(er.svgWidth=Math.max(er.svgWidth,0),er.svgHeight=Math.max(er.svgHeight,0),Mi$1.setAttrs(er.dom.Paper.node,{width:er.svgWidth,height:er.svgHeight}),sr!=="%"){var or=nr.chart.sparkline.enabled?0:er.axisCharts?nr.chart.parentHeightOffset:0;er.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(er.svgHeight+or,"px")}er.dom.elWrap.style.width="".concat(er.svgWidth,"px"),er.dom.elWrap.style.height="".concat(er.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var Hn=this.w.globals,er=Hn.translateY,nr=Hn.translateX;Mi$1.setAttrs(Hn.dom.elGraphical.node,{transform:"translate(".concat(nr,", ").concat(er,")")})}},{key:"resizeNonAxisCharts",value:function(){var Hn=this.w,er=Hn.globals,nr=0,ir=Hn.config.chart.sparkline.enabled?1:15;ir+=Hn.config.grid.padding.bottom,["top","bottom"].includes(Hn.config.legend.position)&&Hn.config.legend.show&&!Hn.config.legend.floating&&(nr=new ba(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var rr=Hn.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),sr=2.05*Hn.globals.radialSize;if(rr&&!Hn.config.chart.sparkline.enabled&&Hn.config.plotOptions.radialBar.startAngle!==0){var ar=v$1.getBoundingClientRect(rr);sr=ar.bottom;var or=ar.bottom-ar.top;sr=Math.max(2.05*Hn.globals.radialSize,or)}var lr=Math.ceil(sr+er.translateY+nr+ir);er.dom.elLegendForeign&&er.dom.elLegendForeign.setAttribute("height",lr),Hn.config.chart.height&&String(Hn.config.chart.height).includes("%")||(er.dom.elWrap.style.height="".concat(lr,"px"),Mi$1.setAttrs(er.dom.Paper.node,{height:lr}),er.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(lr,"px"))}},{key:"coreCalculations",value:function(){new ia(this.ctx).init()}},{key:"resetGlobals",value:function(){var Hn=this,er=function(){return Hn.w.config.series.map((function(){return[]}))},nr=new Bi$1,ir=this.w.globals,rr={dataWasParsed:ir.dataWasParsed,originalSeries:ir.originalSeries};nr.initGlobalVars(ir),ir.seriesXvalues=er(),ir.seriesYvalues=er(),rr.dataWasParsed&&(ir.dataWasParsed=rr.dataWasParsed,ir.originalSeries=rr.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var Hn=this.w,er=null;if(Hn.globals.axisCharts){if(Hn.config.xaxis.crosshairs.position==="back"&&new oa(this.ctx).drawXCrosshairs(),Hn.config.yaxis[0].crosshairs.position==="back"&&new oa(this.ctx).drawYCrosshairs(),Hn.config.xaxis.type==="datetime"&&Hn.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new qa(this.ctx);var nr=[];isFinite(Hn.globals.minX)&&isFinite(Hn.globals.maxX)&&!Hn.globals.isBarHorizontal?nr=this.ctx.timeScale.calculateTimeScaleTicks(Hn.globals.minX,Hn.globals.maxX):Hn.globals.isBarHorizontal&&(nr=this.ctx.timeScale.calculateTimeScaleTicks(Hn.globals.minY,Hn.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(nr)}er=new Pi$1(this.ctx).getCalculatedRatios()}return er}},{key:"updateSourceChart",value:function(Hn){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:Hn.w.globals.minX,max:Hn.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var Hn=this,er=this.ctx,nr=this.w;if(nr.config.chart.brush.enabled&&typeof nr.config.chart.events.selection!="function"){var ir=Array.isArray(nr.config.chart.brush.targets)?nr.config.chart.brush.targets:[nr.config.chart.brush.target];ir.forEach((function(rr){var sr=er.constructor.getChartByID(rr);sr.w.globals.brushSource=Hn.ctx,typeof sr.w.config.chart.events.zoomed!="function"&&(sr.w.config.chart.events.zoomed=function(){return Hn.updateSourceChart(sr)}),typeof sr.w.config.chart.events.scrolled!="function"&&(sr.w.config.chart.events.scrolled=function(){return Hn.updateSourceChart(sr)})})),nr.config.chart.events.selection=function(rr,sr){ir.forEach((function(ar){er.constructor.getChartByID(ar).ctx.updateHelpers._updateOptions({xaxis:{min:sr.xaxis.min,max:sr.xaxis.max}},!1,!1,!1,!1)}))}}}}]),tr})(),$a=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"_updateOptions",value:function(Hn){var er=this,nr=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ir=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],rr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],sr=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(ar){var or=[er.ctx];rr&&(or=er.ctx.getSyncedCharts()),er.ctx.w.globals.isExecCalled&&(or=[er.ctx],er.ctx.w.globals.isExecCalled=!1),or.forEach((function(lr,cr){var ur=lr.w;if(ur.globals.shouldAnimate=ir,nr||(ur.globals.resized=!0,ur.globals.dataChanged=!0,ir&&lr.series.getPreviousPaths()),Hn&&b$3(Hn)==="object"&&(lr.config=new Wi$1(Hn),Hn=Pi$1.extendArrayProps(lr.config,Hn,ur),lr.w.globals.chartID!==er.ctx.w.globals.chartID&&delete Hn.series,ur.config=v$1.extend(ur.config,Hn),sr&&(ur.globals.lastXAxis=Hn.xaxis?v$1.clone(Hn.xaxis):[],ur.globals.lastYAxis=Hn.yaxis?v$1.clone(Hn.yaxis):[],ur.globals.initialConfig=v$1.extend({},ur.config),ur.globals.initialSeries=v$1.clone(ur.config.series),Hn.series))){for(var dr=0;dr<ur.globals.collapsedSeriesIndices.length;dr++){var fr=ur.config.series[ur.globals.collapsedSeriesIndices[dr]];ur.globals.collapsedSeries[dr].data=ur.globals.axisCharts?fr.data.slice():fr}for(var gr=0;gr<ur.globals.ancillaryCollapsedSeriesIndices.length;gr++){var yr=ur.config.series[ur.globals.ancillaryCollapsedSeriesIndices[gr]];ur.globals.ancillaryCollapsedSeries[gr].data=ur.globals.axisCharts?yr.data.slice():yr}lr.series.emptyCollapsedSeries(ur.config.series)}return lr.update(Hn).then((function(){cr===or.length-1&&ar(lr)}))}))}))}},{key:"_updateSeries",value:function(Hn,er){var nr=this,ir=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(rr){var sr=nr.w;return sr.globals.shouldAnimate=er,sr.globals.dataChanged=!0,er&&nr.ctx.series.getPreviousPaths(),nr.ctx.data.resetParsingFlags(),nr.ctx.data.parseData(Hn),ir&&(sr.globals.initialConfig.series=v$1.clone(sr.config.series),sr.globals.initialSeries=v$1.clone(sr.config.series)),nr.ctx.update().then((function(){rr(nr.ctx)}))}))}},{key:"_extendSeries",value:function(Hn,er){var nr=this.w,ir=nr.config.series[er];return u$2(u$2({},nr.config.series[er]),{},{name:Hn.name?Hn.name:ir?.name,color:Hn.color?Hn.color:ir?.color,type:Hn.type?Hn.type:ir?.type,group:Hn.group?Hn.group:ir?.group,hidden:Hn.hidden!==void 0?Hn.hidden:ir?.hidden,data:Hn.data?Hn.data:ir?.data,zIndex:Hn.zIndex!==void 0?Hn.zIndex:er})}},{key:"toggleDataPointSelection",value:function(Hn,er){var nr=this.w,ir=null,rr=".apexcharts-series[data\\:realIndex='".concat(Hn,"']");return nr.globals.axisCharts?ir=nr.globals.dom.Paper.findOne("".concat(rr," path[j='").concat(er,"'], ").concat(rr," circle[j='").concat(er,"'], ").concat(rr," rect[j='").concat(er,"']")):er===void 0&&(ir=nr.globals.dom.Paper.findOne("".concat(rr," path[j='").concat(Hn,"']")),nr.config.chart.type!=="pie"&&nr.config.chart.type!=="polarArea"&&nr.config.chart.type!=="donut"||this.ctx.pie.pieClicked(Hn)),ir?(new Mi$1(this.ctx).pathMouseDown(ir,null),ir.node?ir.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(Hn){var er=this.w;if(["min","max"].forEach((function(ir){Hn.xaxis[ir]!==void 0&&(er.config.xaxis[ir]=Hn.xaxis[ir],er.globals.lastXAxis[ir]=Hn.xaxis[ir])})),Hn.xaxis.categories&&Hn.xaxis.categories.length&&(er.config.xaxis.categories=Hn.xaxis.categories),er.config.xaxis.convertedCatToNumeric){var nr=new Ni$1(Hn);Hn=nr.convertCatToNumericXaxis(Hn,this.ctx)}return Hn}},{key:"forceYAxisUpdate",value:function(Hn){return Hn.chart&&Hn.chart.stacked&&Hn.chart.stackType==="100%"&&(Array.isArray(Hn.yaxis)?Hn.yaxis.forEach((function(er,nr){Hn.yaxis[nr].min=0,Hn.yaxis[nr].max=100})):(Hn.yaxis.min=0,Hn.yaxis.max=100)),Hn}},{key:"revertDefaultAxisMinMax",value:function(Hn){var er=this,nr=this.w,ir=nr.globals.lastXAxis,rr=nr.globals.lastYAxis;Hn&&Hn.xaxis&&(ir=Hn.xaxis),Hn&&Hn.yaxis&&(rr=Hn.yaxis),nr.config.xaxis.min=ir.min,nr.config.xaxis.max=ir.max;var sr=function(ar){rr[ar]!==void 0&&(nr.config.yaxis[ar].min=rr[ar].min,nr.config.yaxis[ar].max=rr[ar].max)};nr.config.yaxis.map((function(ar,or){nr.globals.zoomed||rr[or]!==void 0?sr(or):er.ctx.opts.yaxis[or]!==void 0&&(ar.min=er.ctx.opts.yaxis[or].min,ar.max=er.ctx.opts.yaxis[or].max)}))}}]),tr})();(function(){function tr(){for(var rr=arguments.length>0&&arguments[0]!==ur?arguments[0]:[],sr=arguments.length>1?arguments[1]:ur,ar=arguments.length>2?arguments[2]:ur,or=arguments.length>3?arguments[3]:ur,lr=arguments.length>4?arguments[4]:ur,cr=arguments.length>5?arguments[5]:ur,ur=arguments.length>6?arguments[6]:ur,dr=rr.slice(sr,ar||ur),fr=or.slice(lr,cr||ur),gr=0,yr={pos:[0,0],start:[0,0]},vr={pos:[0,0],start:[0,0]};dr[gr]=Hn.call(yr,dr[gr]),fr[gr]=Hn.call(vr,fr[gr]),dr[gr][0]!=fr[gr][0]||dr[gr][0]=="M"||dr[gr][0]=="A"&&(dr[gr][4]!=fr[gr][4]||dr[gr][5]!=fr[gr][5])?(Array.prototype.splice.apply(dr,[gr,1].concat(nr.call(yr,dr[gr]))),Array.prototype.splice.apply(fr,[gr,1].concat(nr.call(vr,fr[gr])))):(dr[gr]=er.call(yr,dr[gr]),fr[gr]=er.call(vr,fr[gr])),!(++gr==dr.length&&gr==fr.length);)gr==dr.length&&dr.push(["C",yr.pos[0],yr.pos[1],yr.pos[0],yr.pos[1],yr.pos[0],yr.pos[1]]),gr==fr.length&&fr.push(["C",vr.pos[0],vr.pos[1],vr.pos[0],vr.pos[1],vr.pos[0],vr.pos[1]]);return{start:dr,dest:fr}}function Hn(rr){switch(rr[0]){case"z":case"Z":rr[0]="L",rr[1]=this.start[0],rr[2]=this.start[1];break;case"H":rr[0]="L",rr[2]=this.pos[1];break;case"V":rr[0]="L",rr[2]=rr[1],rr[1]=this.pos[0];break;case"T":rr[0]="Q",rr[3]=rr[1],rr[4]=rr[2],rr[1]=this.reflection[1],rr[2]=this.reflection[0];break;case"S":rr[0]="C",rr[6]=rr[4],rr[5]=rr[3],rr[4]=rr[2],rr[3]=rr[1],rr[2]=this.reflection[1],rr[1]=this.reflection[0]}return rr}function er(rr){var sr=rr.length;return this.pos=[rr[sr-2],rr[sr-1]],"SCQT".indexOf(rr[0])!=-1&&(this.reflection=[2*this.pos[0]-rr[sr-4],2*this.pos[1]-rr[sr-3]]),rr}function nr(rr){var sr=[rr];switch(rr[0]){case"M":return this.pos=this.start=[rr[1],rr[2]],sr;case"L":rr[5]=rr[3]=rr[1],rr[6]=rr[4]=rr[2],rr[1]=this.pos[0],rr[2]=this.pos[1];break;case"Q":rr[6]=rr[4],rr[5]=rr[3],rr[4]=1*rr[4]/3+2*rr[2]/3,rr[3]=1*rr[3]/3+2*rr[1]/3,rr[2]=1*this.pos[1]/3+2*rr[2]/3,rr[1]=1*this.pos[0]/3+2*rr[1]/3;break;case"A":sr=(function(ar,or){var lr,cr,ur,dr,fr,gr,yr,vr,jr,Sr,Tr,Lr,Mr,Nr,Or,Fr,Gr,qr,Hr,Yr,ro,io,fo,ao,Jr,uo,oo=Math.abs(or[1]),co=Math.abs(or[2]),no=or[3]%360,mo=or[4],Eo=or[5],bo=or[6],Po=or[7],wo=new bt$1(ar),To=new bt$1(bo,Po),Fo=[];if(oo===0||co===0||wo.x===To.x&&wo.y===To.y)return[["C",wo.x,wo.y,To.x,To.y,To.x,To.y]];for(lr=new bt$1((wo.x-To.x)/2,(wo.y-To.y)/2).transform(new vt$1().rotate(no)),cr=lr.x*lr.x/(oo*oo)+lr.y*lr.y/(co*co),cr>1&&(oo*=cr=Math.sqrt(cr),co*=cr),ur=new vt$1().rotate(no).scale(1/oo,1/co).rotate(-no),wo=wo.transform(ur),To=To.transform(ur),dr=[To.x-wo.x,To.y-wo.y],gr=dr[0]*dr[0]+dr[1]*dr[1],fr=Math.sqrt(gr),dr[0]/=fr,dr[1]/=fr,yr=gr<4?Math.sqrt(1-gr/4):0,mo===Eo&&(yr*=-1),vr=new bt$1((To.x+wo.x)/2+yr*-dr[1],(To.y+wo.y)/2+yr*dr[0]),jr=new bt$1(wo.x-vr.x,wo.y-vr.y),Sr=new bt$1(To.x-vr.x,To.y-vr.y),Tr=Math.acos(jr.x/Math.sqrt(jr.x*jr.x+jr.y*jr.y)),jr.y<0&&(Tr*=-1),Lr=Math.acos(Sr.x/Math.sqrt(Sr.x*Sr.x+Sr.y*Sr.y)),Sr.y<0&&(Lr*=-1),Eo&&Tr>Lr&&(Lr+=2*Math.PI),!Eo&&Tr<Lr&&(Lr-=2*Math.PI),Nr=Math.ceil(2*Math.abs(Tr-Lr)/Math.PI),Fr=[],Gr=Tr,Mr=(Lr-Tr)/Nr,Or=4*Math.tan(Mr/4)/3,ro=0;ro<=Nr;ro++)Hr=Math.cos(Gr),qr=Math.sin(Gr),Yr=new bt$1(vr.x+Hr,vr.y+qr),Fr[ro]=[new bt$1(Yr.x+Or*qr,Yr.y-Or*Hr),Yr,new bt$1(Yr.x-Or*qr,Yr.y+Or*Hr)],Gr+=Mr;for(Fr[0][0]=Fr[0][1].clone(),Fr[Fr.length-1][2]=Fr[Fr.length-1][1].clone(),ur=new vt$1().rotate(no).scale(oo,co).rotate(-no),ro=0,io=Fr.length;ro<io;ro++)Fr[ro][0]=Fr[ro][0].transform(ur),Fr[ro][1]=Fr[ro][1].transform(ur),Fr[ro][2]=Fr[ro][2].transform(ur);for(ro=1,io=Fr.length;ro<io;ro++)fo=(Yr=Fr[ro-1][2]).x,ao=Yr.y,Jr=(Yr=Fr[ro][0]).x,uo=Yr.y,bo=(Yr=Fr[ro][1]).x,Po=Yr.y,Fo.push(["C",fo,ao,Jr,uo,bo,Po]);return Fo})(this.pos,rr),rr=sr[0]}return rr[0]="C",this.pos=[rr[5],rr[6]],this.reflection=[2*rr[5]-rr[3],2*rr[6]-rr[4]],sr}function ir(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],sr=arguments.length>1?arguments[1]:void 0;if(sr===!1)return!1;for(var ar=sr,or=rr.length;ar<or;++ar)if(rr[ar][0]=="M")return ar;return!1}Q$1(Ee,{morph:function(rr,sr,ar,or,lr){for(var cr=this.parse(rr),ur=this.parse(sr),dr=0,fr=0,gr=!1,yr=!1;dr!==!1||fr!==!1;){var vr;gr=ir(cr,dr!==!1&&dr+1),yr=ir(ur,fr!==!1&&fr+1),dr===!1&&(dr=(vr=new Ee(jr.start).bbox()).height==0||vr.width==0?cr.push(cr[0])-1:cr.push(["M",vr.x+vr.width/2,vr.y+vr.height/2])-1),fr===!1&&(fr=(vr=new Ee(jr.dest).bbox()).height==0||vr.width==0?ur.push(ur[0])-1:ur.push(["M",vr.x+vr.width/2,vr.y+vr.height/2])-1);var jr=tr(cr,dr,gr,ur,fr,yr);cr=cr.slice(0,dr).concat(jr.start,gr===!1?[]:cr.slice(gr)),ur=ur.slice(0,fr).concat(jr.dest,yr===!1?[]:ur.slice(yr)),dr=gr!==!1&&dr+jr.start.length,fr=yr!==!1&&fr+jr.dest.length}this._array=cr,this.destination=new Ee,this.destination._array=ur;var Sr=this.fromArray(cr.map((function(Tr,Lr){var Mr=ur[Lr].map((function(Nr,Or){return Or===0?Nr:or.step(Tr[Or],ur[Lr][Or],ar,lr[Lr],lr)}));return Mr})));return Sr}})})();const Ja=tr=>(tr.changedTouches&&(tr=tr.changedTouches[0]),{x:tr.clientX,y:tr.clientY});class Qa{constructor(Hn){Hn.remember("_draggable",this),this.el=Hn,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(Hn){Hn?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(Hn){const er=!Hn.type.indexOf("mouse");if(er&&Hn.which!==1&&Hn.buttons!==0||this.el.dispatch("beforedrag",{event:Hn,handler:this}).defaultPrevented)return;Hn.preventDefault(),Hn.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Ja(Hn));const nr=(er?"mouseup":"touchend")+".drag";zt$1(window,(er?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),zt$1(window,nr,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:Hn,handler:this,box:this.box})}drag(Hn){const{box:er,lastClick:nr}=this,ir=this.el.point(Ja(Hn)),rr=ir.x-nr.x,sr=ir.y-nr.y;if(!rr&&!sr)return er;const ar=er.x+rr,or=er.y+sr;this.box=new kt$1(ar,or,er.w,er.h),this.lastClick=ir,this.el.dispatch("dragmove",{event:Hn,handler:this,box:this.box}).defaultPrevented||this.move(ar,or)}move(Hn,er){this.el.type==="svg"?gi$1.prototype.move.call(this.el,Hn,er):this.el.move(Hn,er)}endDrag(Hn){this.drag(Hn),this.el.fire("dragend",{event:Hn,handler:this,box:this.box}),Xt$1(window,"mousemove.drag"),Xt$1(window,"touchmove.drag"),Xt$1(window,"mouseup.drag"),Xt$1(window,"touchend.drag"),this.init(!0)}}function Ka(tr,Hn,er,nr=null){return function(ir){ir.preventDefault(),ir.stopPropagation();var rr=ir.pageX||ir.touches[0].pageX,sr=ir.pageY||ir.touches[0].pageY;Hn.fire(tr,{x:rr,y:sr,event:ir,index:nr,points:er})}}function ts$1([tr,Hn],{a:er,b:nr,c:ir,d:rr,e:sr,f:ar}){return[tr*er+Hn*ir+sr,tr*nr+Hn*rr+ar]}Q$1(Gt$1,{draggable(tr=!0){return(this.remember("_draggable")||new Qa(this)).init(tr),this}});let es$1=class{constructor(Hn){this.el=Hn,Hn.remember("_selectHandler",this),this.selection=new gi$1,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const er=F$1();this.observer=new er.MutationObserver(this.mutationHandler)}init(Hn){this.createHandle=Hn.createHandle||this.createHandleFn,this.createRot=Hn.createRot||this.createRotFn,this.updateHandle=Hn.updateHandle||this.updateHandleFn,this.updateRot=Hn.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(Hn,er){if(!Hn)return this.selection.clear().remove(),void this.observer.disconnect();this.init(er)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((Hn,er,nr)=>{const ir=this.order[er];this.createHandle.call(this,this.selection,Hn,er,nr,ir),this.selection.get(er+1).addClass("svg_select_handle svg_select_handle_"+ir).on("mousedown.selection touchstart.selection",Ka(ir,this.el,this.handlePoints,er))}))}createHandleFn(Hn){Hn.polyline()}updateHandleFn(Hn,er,nr,ir){const rr=ir.at(nr-1),sr=ir[(nr+1)%ir.length],ar=er,or=[ar[0]-rr[0],ar[1]-rr[1]],lr=[ar[0]-sr[0],ar[1]-sr[1]],cr=Math.sqrt(or[0]*or[0]+or[1]*or[1]),ur=Math.sqrt(lr[0]*lr[0]+lr[1]*lr[1]),dr=[or[0]/cr,or[1]/cr],fr=[lr[0]/ur,lr[1]/ur],gr=[ar[0]-10*dr[0],ar[1]-10*dr[1]],yr=[ar[0]-10*fr[0],ar[1]-10*fr[1]];Hn.plot([gr,ar,yr])}updateResizeHandles(){this.handlePoints.forEach(((Hn,er,nr)=>{const ir=this.order[er];this.updateHandle.call(this,this.selection.get(er+1),Hn,er,nr,ir)}))}createRotFn(Hn){Hn.line(),Hn.circle(5)}getPoint(Hn){return this.handlePoints[this.order.indexOf(Hn)]}getPointHandle(Hn){return this.selection.get(this.order.indexOf(Hn)+1)}updateRotFn(Hn,er){const nr=this.getPoint("t");Hn.get(0).plot(nr[0],nr[1],er[0],er[1]),Hn.get(1).center(er[0],er[1])}createRotationHandle(){const Hn=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Ka("rot",this.el,this.handlePoints));this.createRot.call(this,Hn)}updateRotationHandle(){const Hn=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(Hn,this.rotationPoint,this.handlePoints)}updatePoints(){const Hn=this.el.bbox(),er=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(Hn).map((nr=>ts$1(nr,er))),this.rotationPoint=ts$1(this.getRotationPoint(Hn),er)}getHandlePoints({x:Hn,x2:er,y:nr,y2:ir,cx:rr,cy:sr}=this.el.bbox()){return[[Hn,nr],[rr,nr],[er,nr],[er,sr],[er,ir],[rr,ir],[Hn,ir],[Hn,sr]]}getRotationPoint({y:Hn,cx:er}=this.el.bbox()){return[er,Hn-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const is$1=tr=>function(Hn=!0,er={}){typeof Hn=="object"&&(er=Hn,Hn=!0);let nr=this.remember("_"+tr.name);return nr||(Hn.prototype instanceof es$1?(nr=new Hn(this),Hn=!0):nr=new tr(this),this.remember("_"+tr.name,nr)),nr.active(Hn,er),this};function as$1(tr,Hn,er,nr=null){return function(ir){ir.preventDefault(),ir.stopPropagation();var rr=ir.pageX||ir.touches[0].pageX,sr=ir.pageY||ir.touches[0].pageY;Hn.fire(tr,{x:rr,y:sr,event:ir,index:nr,points:er})}}function ss$1([tr,Hn],{a:er,b:nr,c:ir,d:rr,e:sr,f:ar}){return[tr*er+Hn*ir+sr,tr*nr+Hn*rr+ar]}Q$1(Gt$1,{select:is$1(es$1)}),Q$1([Ge,je,xe$1],{pointSelect:is$1(class{constructor(tr){this.el=tr,tr.remember("_pointSelectHandler",this),this.selection=new gi$1,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const Hn=F$1();this.observer=new Hn.MutationObserver(this.mutationHandler)}init(tr){this.createHandle=tr.createHandle||this.createHandleFn,this.updateHandle=tr.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(tr,Hn){if(!tr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(Hn)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((tr,Hn,er)=>{this.createHandle.call(this,this.selection,tr,Hn,er),this.selection.get(Hn+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Ka("point",this.el,this.points,Hn))}))}createHandleFn(tr){tr.circle(5)}updateHandleFn(tr,Hn){tr.center(Hn[0],Hn[1])}updatePointHandles(){this.points.forEach(((tr,Hn,er)=>{this.updateHandle.call(this,this.selection.get(Hn+1),tr,Hn,er)}))}updatePoints(){const tr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((Hn=>ts$1(Hn,tr)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});let rs$1=class{constructor(Hn){this.el=Hn,Hn.remember("_selectHandler",this),this.selection=new gi$1,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const er=F$1();this.observer=new er.MutationObserver(this.mutationHandler)}init(Hn){this.createHandle=Hn.createHandle||this.createHandleFn,this.createRot=Hn.createRot||this.createRotFn,this.updateHandle=Hn.updateHandle||this.updateHandleFn,this.updateRot=Hn.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(Hn,er){if(!Hn)return this.selection.clear().remove(),void this.observer.disconnect();this.init(er)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((Hn,er,nr)=>{const ir=this.order[er];this.createHandle.call(this,this.selection,Hn,er,nr,ir),this.selection.get(er+1).addClass("svg_select_handle svg_select_handle_"+ir).on("mousedown.selection touchstart.selection",as$1(ir,this.el,this.handlePoints,er))}))}createHandleFn(Hn){Hn.polyline()}updateHandleFn(Hn,er,nr,ir){const rr=ir.at(nr-1),sr=ir[(nr+1)%ir.length],ar=er,or=[ar[0]-rr[0],ar[1]-rr[1]],lr=[ar[0]-sr[0],ar[1]-sr[1]],cr=Math.sqrt(or[0]*or[0]+or[1]*or[1]),ur=Math.sqrt(lr[0]*lr[0]+lr[1]*lr[1]),dr=[or[0]/cr,or[1]/cr],fr=[lr[0]/ur,lr[1]/ur],gr=[ar[0]-10*dr[0],ar[1]-10*dr[1]],yr=[ar[0]-10*fr[0],ar[1]-10*fr[1]];Hn.plot([gr,ar,yr])}updateResizeHandles(){this.handlePoints.forEach(((Hn,er,nr)=>{const ir=this.order[er];this.updateHandle.call(this,this.selection.get(er+1),Hn,er,nr,ir)}))}createRotFn(Hn){Hn.line(),Hn.circle(5)}getPoint(Hn){return this.handlePoints[this.order.indexOf(Hn)]}getPointHandle(Hn){return this.selection.get(this.order.indexOf(Hn)+1)}updateRotFn(Hn,er){const nr=this.getPoint("t");Hn.get(0).plot(nr[0],nr[1],er[0],er[1]),Hn.get(1).center(er[0],er[1])}createRotationHandle(){const Hn=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",as$1("rot",this.el,this.handlePoints));this.createRot.call(this,Hn)}updateRotationHandle(){const Hn=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(Hn,this.rotationPoint,this.handlePoints)}updatePoints(){const Hn=this.el.bbox(),er=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(Hn).map((nr=>ss$1(nr,er))),this.rotationPoint=ss$1(this.getRotationPoint(Hn),er)}getHandlePoints({x:Hn,x2:er,y:nr,y2:ir,cx:rr,cy:sr}=this.el.bbox()){return[[Hn,nr],[rr,nr],[er,nr],[er,sr],[er,ir],[rr,ir],[Hn,ir],[Hn,sr]]}getRotationPoint({y:Hn,cx:er}=this.el.bbox()){return[er,Hn-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const ns$1=tr=>function(Hn=!0,er={}){typeof Hn=="object"&&(er=Hn,Hn=!0);let nr=this.remember("_"+tr.name);return nr||(Hn.prototype instanceof rs$1?(nr=new Hn(this),Hn=!0):nr=new tr(this),this.remember("_"+tr.name,nr)),nr.active(Hn,er),this};Q$1(Gt$1,{select:ns$1(rs$1)}),Q$1([Ge,je,xe$1],{pointSelect:ns$1(class{constructor(tr){this.el=tr,tr.remember("_pointSelectHandler",this),this.selection=new gi$1,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const Hn=F$1();this.observer=new Hn.MutationObserver(this.mutationHandler)}init(tr){this.createHandle=tr.createHandle||this.createHandleFn,this.updateHandle=tr.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(tr,Hn){if(!tr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(Hn)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((tr,Hn,er)=>{this.createHandle.call(this,this.selection,tr,Hn,er),this.selection.get(Hn+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",as$1("point",this.el,this.points,Hn))}))}createHandleFn(tr){tr.circle(5)}updateHandleFn(tr,Hn){tr.center(Hn[0],Hn[1])}updatePointHandles(){this.points.forEach(((tr,Hn,er)=>{this.updateHandle.call(this,this.selection.get(Hn+1),tr,Hn,er)}))}updatePoints(){const tr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((Hn=>ss$1(Hn,tr)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const os$1=tr=>(tr.changedTouches&&(tr=tr.changedTouches[0]),{x:tr.clientX,y:tr.clientY}),ls$1=tr=>{let Hn=1/0,er=1/0,nr=-1/0,ir=-1/0;for(let rr=0;rr<tr.length;rr++){const sr=tr[rr];Hn=Math.min(Hn,sr[0]),er=Math.min(er,sr[1]),nr=Math.max(nr,sr[0]),ir=Math.max(ir,sr[1])}return new kt$1(Hn,er,nr-Hn,ir-er)};let hs$1=class{constructor(Hn){this.el=Hn,Hn.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(Hn,er){this.preserveAspectRatio=er.preserveAspectRatio??!1,this.aroundCenter=er.aroundCenter??!1,this.grid=er.grid??0,this.degree=er.degree??0,this.el.off(".resize"),Hn&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(Hn){this.eventType=Hn.type;const{event:er,index:nr,points:ir}=Hn.detail,rr=!er.type.indexOf("mouse");if(rr&&(er.which||er.buttons)!==1||this.el.dispatch("beforeresize",{event:Hn,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(os$1(er)),this.index=nr,this.points=ir.slice();const sr=(rr?"mousemove":"touchmove")+".resize",ar=(rr?"mouseup":"touchcancel.resize touchend")+".resize";Hn.type==="point"?zt$1(window,sr,this.movePoint):Hn.type==="rot"?zt$1(window,sr,this.rotate):zt$1(window,sr,this.resize),zt$1(window,ar,this.endResize)}resize(Hn){this.lastEvent=Hn;const er=this.snapToGrid(this.el.point(os$1(Hn)));let nr=er.x-this.startPoint.x,ir=er.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(nr*=2,ir*=2);const rr=this.box.x+nr,sr=this.box.y+ir,ar=this.box.x2+nr,or=this.box.y2+ir;let lr=new kt$1(this.box);if(this.eventType.includes("l")&&(lr.x=Math.min(rr,this.box.x2),lr.x2=Math.max(rr,this.box.x2)),this.eventType.includes("r")&&(lr.x=Math.min(ar,this.box.x),lr.x2=Math.max(ar,this.box.x)),this.eventType.includes("t")&&(lr.y=Math.min(sr,this.box.y2),lr.y2=Math.max(sr,this.box.y2)),this.eventType.includes("b")&&(lr.y=Math.min(or,this.box.y),lr.y2=Math.max(or,this.box.y)),lr.width=lr.x2-lr.x,lr.height=lr.y2-lr.y,this.preserveAspectRatio){const cr=lr.width/this.box.width,ur=lr.height/this.box.height,dr=["lt","t","rt","r","rb","b","lb","l"],fr=(dr.indexOf(this.eventType)+4)%dr.length,gr=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[fr];let yr=this.eventType.includes("t")||this.eventType.includes("b")?ur:cr;yr=this.eventType.length===2?Math.max(cr,ur):yr,lr=(function(vr,jr,Sr){const Tr=[[vr.x,vr.y],[vr.x+vr.width,vr.y],[vr.x+vr.width,vr.y+vr.height],[vr.x,vr.y+vr.height]].map((([Lr,Mr])=>{const Nr=Lr-jr[0],Or=(Mr-jr[1])*Sr;return[Nr*Sr+jr[0],Or+jr[1]]}));return ls$1(Tr)})(this.box,gr,yr)}this.el.dispatch("resize",{box:new kt$1(lr),angle:0,eventType:this.eventType,event:Hn,handler:this}).defaultPrevented||this.el.size(lr.width,lr.height).move(lr.x,lr.y)}movePoint(Hn){this.lastEvent=Hn;const{x:er,y:nr}=this.snapToGrid(this.el.point(os$1(Hn))),ir=this.el.array().slice();ir[this.index]=[er,nr],this.el.dispatch("resize",{box:ls$1(ir),angle:0,eventType:this.eventType,event:Hn,handler:this}).defaultPrevented||this.el.plot(ir)}rotate(Hn){this.lastEvent=Hn;const er=this.startPoint,nr=this.el.point(os$1(Hn)),{cx:ir,cy:rr}=this.box,sr=er.x-ir,ar=er.y-rr,or=nr.x-ir,lr=nr.y-rr,cr=Math.sqrt(sr*sr+ar*ar)*Math.sqrt(or*or+lr*lr);if(cr===0)return;let ur=Math.acos((sr*or+ar*lr)/cr)/Math.PI*180;if(!ur)return;nr.x<er.x&&(ur=-ur);const dr=new vt$1(this.el),{x:fr,y:gr}=new bt$1(ir,rr).transformO(dr),{rotate:yr}=dr.decompose(),vr=this.snapToAngle(yr+ur)-yr;this.el.dispatch("resize",{box:this.box,angle:vr,eventType:this.eventType,event:Hn,handler:this}).defaultPrevented||this.el.transform(dr.rotateO(vr,fr,gr))}endResize(Hn){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(Hn),this.lastEvent=null,this.eventType="",Xt$1(window,"mousemove.resize touchmove.resize"),Xt$1(window,"mouseup.resize touchend.resize")}snapToGrid(Hn){return this.grid&&(Hn.x=Math.round(Hn.x/this.grid)*this.grid,Hn.y=Math.round(Hn.y/this.grid)*this.grid),Hn}snapToAngle(Hn){return this.degree&&(Hn=Math.round(Hn/this.degree)*this.degree),Hn}};Q$1(Gt$1,{resize:function(tr=!0,Hn={}){typeof tr=="object"&&(Hn=tr,tr=!0);let er=this.remember("_ResizeHandler");return er||(tr.prototype instanceof hs$1?(er=new tr(this),tr=!0):er=new hs$1(this),this.remember("_resizeHandler",er)),er.active(tr,Hn),this}}),window.SVG===void 0&&(window.SVG=yi$1),window.Apex===void 0&&(window.Apex={});var cs$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new y$3(this.ctx),this.ctx.axes=new na(this.ctx),this.ctx.core=new Za(this.ctx.el,this.ctx),this.ctx.config=new Wi$1({}),this.ctx.data=new Ji$1(this.ctx),this.ctx.grid=new ta(this.ctx),this.ctx.graphics=new Mi$1(this.ctx),this.ctx.coreUtils=new Pi$1(this.ctx),this.ctx.crosshairs=new oa(this.ctx),this.ctx.events=new sa(this.ctx),this.ctx.exports=new Qi$1(this.ctx),this.ctx.fill=new ji$1(this.ctx),this.ctx.localization=new ra(this.ctx),this.ctx.options=new Oi$1,this.ctx.responsive=new la(this.ctx),this.ctx.series=new $i$1(this.ctx),this.ctx.theme=new ha(this.ctx),this.ctx.formatters=new Xi$1(this.ctx),this.ctx.titleSubtitle=new ca(this.ctx),this.ctx.legend=new ba(this.ctx),this.ctx.toolbar=new ma(this.ctx),this.ctx.tooltip=new La(this.ctx),this.ctx.dimensions=new fa(this.ctx),this.ctx.updateHelpers=new $a(this.ctx),this.ctx.zoomPanSelection=new va(this.ctx),this.ctx.w.globals.tooltip=new La(this.ctx)}}]),tr})(),ds$1=(function(){function tr(Hn){i$1(this,tr),this.ctx=Hn,this.w=Hn.w}return s$1(tr,[{key:"clear",value:function(Hn){var er=Hn.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:er})}},{key:"killSVG",value:function(Hn){Hn.each((function(){this.removeClass("*"),this.off()}),!0),Hn.clear()}},{key:"clearDomElements",value:function(Hn){var er=this,nr=Hn.isUpdating,ir=this.w.globals.dom.Paper.node;ir.parentNode&&ir.parentNode.parentNode&&!nr&&(ir.parentNode.parentNode.style.minHeight="unset");var rr=this.w.globals.dom.baseEl;rr&&this.ctx.eventList.forEach((function(ar){rr.removeEventListener(ar,er.ctx.events.documentEvent)}));var sr=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(sr.Paper),sr.Paper.remove(),sr.elWrap=null,sr.elGraphical=null,sr.elLegendWrap=null,sr.elLegendForeign=null,sr.baseEl=null,sr.elGridRect=null,sr.elGridRectMask=null,sr.elGridRectBarMask=null,sr.elGridRectMarkerMask=null,sr.elForecastMask=null,sr.elNonForecastMask=null,sr.elDefs=null}}]),tr})(),us$1=new WeakMap,gs$1=(function(){function tr(Hn,er){i$1(this,tr),this.opts=er,this.ctx=this,this.w=new Gi$1(er).init(),this.el=Hn,this.w.globals.cuid=v$1.randomId(),this.w.globals.chartID=this.w.config.chart.id?v$1.escapeString(this.w.config.chart.id):this.w.globals.cuid,new cs$1(this).initModules(),this.lastUpdateOptions=null,this.create=v$1.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return s$1(tr,[{key:"render",value:function(){var Hn=this;return new Promise((function(er,nr){if(v$1.elementExists(Hn.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),Hn.w.config.chart.id&&Apex._chartInstances.push({id:Hn.w.globals.chartID,group:Hn.w.config.chart.group,chart:Hn}),Hn.setLocale(Hn.w.config.chart.defaultLocale);var ir=Hn.w.config.chart.events.beforeMount;typeof ir=="function"&&ir(Hn,Hn.w),Hn.events.fireEvent("beforeMount",[Hn,Hn.w]),window.addEventListener("resize",Hn.windowResizeHandler),(function(dr,fr){var gr=!1;if(dr.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var yr=dr.getBoundingClientRect();dr.style.display!=="none"&&yr.width!==0||(gr=!0)}var vr=new ResizeObserver((function(jr){gr&&fr.call(dr,jr),gr=!0}));dr.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(dr.children).forEach((function(jr){return vr.observe(jr)})):vr.observe(dr),us$1.set(fr,vr)})(Hn.el.parentNode,Hn.parentResizeHandler);var rr=Hn.el.getRootNode&&Hn.el.getRootNode(),sr=v$1.is("ShadowRoot",rr),ar=Hn.el.ownerDocument,or=sr?rr.getElementById("apexcharts-css"):ar.getElementById("apexcharts-css");if(!or){var lr;(or=document.createElement("style")).id="apexcharts-css",or.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var cr=((lr=Hn.opts.chart)===null||lr===void 0?void 0:lr.nonce)||Hn.w.config.chart.nonce;cr&&or.setAttribute("nonce",cr),sr?rr.prepend(or):Hn.w.config.chart.injectStyleSheet!==!1&&ar.head.appendChild(or)}var ur=Hn.create(Hn.w.config.series,{});if(!ur)return er(Hn);Hn.mount(ur).then((function(){typeof Hn.w.config.chart.events.mounted=="function"&&Hn.w.config.chart.events.mounted(Hn,Hn.w),Hn.events.fireEvent("mounted",[Hn,Hn.w]),er(ur)})).catch((function(dr){nr(dr)}))}else nr(new Error("Element not found"))}))}},{key:"create",value:function(Hn,er){var nr=this,ir=this.w;new cs$1(this).initModules();var rr=this.w.globals;if(rr.noData=!1,rr.animationEnded=!1,!v$1.elementExists(this.el)||(this.responsive.checkResponsiveConfig(er),ir.config.xaxis.convertedCatToNumeric&&new Ni$1(ir.config).convertCatToNumericXaxis(ir.config,this.ctx),this.core.setupElements(),ir.config.chart.type==="treemap"&&(ir.config.grid.show=!1,ir.config.yaxis[0].show=!1),rr.svgWidth===0))return rr.animationEnded=!0,null;var sr=Hn;Hn.forEach((function(dr,fr){dr.hidden&&(sr=nr.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:fr}))}));var ar=Pi$1.checkComboSeries(sr,ir.config.chart.type);rr.comboCharts=ar.comboCharts,rr.comboBarCount=ar.comboBarCount;var or=sr.every((function(dr){return dr.data&&dr.data.length===0}));(sr.length===0||or&&rr.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(sr),this.theme.init(),new Vi$1(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),rr.noData&&rr.collapsedSeries.length!==rr.series.length&&!ir.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),rr.axisCharts&&(this.core.coreCalculations(),ir.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=ir.globals.minX,this.ctx.toolbar.maxX=ir.globals.maxX),this.formatters.heatmapLabelFormatters(),new Pi$1(this).getLargestMarkerSize(),this.dimensions.plotCoords();var lr=this.core.xySettings();this.grid.createGridMask();var cr=this.core.plotChartType(sr,lr),ur=new qi$1(this);return ur.bringForward(),ir.config.dataLabels.background.enabled&&ur.dataLabelsBackground(),this.core.shiftGraphPosition(),ir.globals.dataPoints>50&&ir.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:cr,xyRatios:lr,dimensions:{plot:{left:ir.globals.translateX,top:ir.globals.translateY,width:ir.globals.gridWidth,height:ir.globals.gridHeight}}}}},{key:"mount",value:function(){var Hn=this,er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,nr=this,ir=nr.w;return new Promise((function(rr,sr){if(nr.el===null)return sr(new Error("Not enough data to display or target element not found"));(er===null||ir.globals.allSeriesCollapsed)&&nr.series.handleNoData(),nr.grid=new ta(nr);var ar,or,lr=nr.grid.drawGrid();if(nr.annotations=new Fi$1(nr),nr.annotations.drawImageAnnos(),nr.annotations.drawTextAnnos(),ir.config.grid.position==="back"&&(lr&&ir.globals.dom.elGraphical.add(lr.el),lr!=null&&(ar=lr.elGridBorders)!==null&&ar!==void 0&&ar.node&&ir.globals.dom.elGraphical.add(lr.elGridBorders)),Array.isArray(er.elGraph))for(var cr=0;cr<er.elGraph.length;cr++)ir.globals.dom.elGraphical.add(er.elGraph[cr]);else ir.globals.dom.elGraphical.add(er.elGraph);ir.config.grid.position==="front"&&(lr&&ir.globals.dom.elGraphical.add(lr.el),lr!=null&&(or=lr.elGridBorders)!==null&&or!==void 0&&or.node&&ir.globals.dom.elGraphical.add(lr.elGridBorders)),ir.config.xaxis.crosshairs.position==="front"&&nr.crosshairs.drawXCrosshairs(),ir.config.yaxis[0].crosshairs.position==="front"&&nr.crosshairs.drawYCrosshairs(),ir.config.chart.type!=="treemap"&&nr.axes.drawAxis(ir.config.chart.type,lr);var ur=new Ki$1(Hn.ctx,lr),dr=new aa(Hn.ctx,lr);if(lr!==null&&(ur.xAxisLabelCorrections(lr.xAxisTickWidth),dr.setYAxisTextAlignments(),ir.config.yaxis.map((function(gr,yr){ir.globals.ignoreYAxisIndexes.indexOf(yr)===-1&&dr.yAxisTitleRotate(yr,gr.opposite)}))),nr.annotations.drawAxesAnnotations(),!ir.globals.noData){if(ir.config.tooltip.enabled&&!ir.globals.noData&&nr.w.globals.tooltip.drawTooltip(er.xyRatios),ir.globals.axisCharts&&(ir.globals.isXNumeric||ir.config.xaxis.convertedCatToNumeric||ir.globals.isRangeBar))(ir.config.chart.zoom.enabled||ir.config.chart.selection&&ir.config.chart.selection.enabled||ir.config.chart.pan&&ir.config.chart.pan.enabled)&&nr.zoomPanSelection.init({xyRatios:er.xyRatios});else{var fr=ir.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(gr){fr[gr]=!1}))}ir.config.chart.toolbar.show&&!ir.globals.allSeriesCollapsed&&nr.toolbar.createToolbar()}ir.globals.memory.methodsToExec.length>0&&ir.globals.memory.methodsToExec.forEach((function(gr){gr.method(gr.params,!1,gr.context)})),ir.globals.axisCharts||ir.globals.noData||nr.core.resizeNonAxisCharts(),rr(nr)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(er,nr){var ir=us$1.get(nr);ir&&(ir.disconnect(),us$1.delete(nr))})(this.el.parentNode,this.parentResizeHandler);var Hn=this.w.config.chart.id;Hn&&Apex._chartInstances.forEach((function(er,nr){er.id===v$1.escapeString(Hn)&&Apex._chartInstances.splice(nr,1)})),new ds$1(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(Hn){var er=this,nr=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ir=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],rr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],sr=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],ar=this.w;return ar.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(Hn)?this:(Hn.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),Hn.series.length&&Hn.series[0].data&&(Hn.series=Hn.series.map((function(or,lr){return er.updateHelpers._extendSeries(or,lr)}))),this.updateHelpers.revertDefaultAxisMinMax()),Hn.xaxis&&(Hn=this.updateHelpers.forceXAxisUpdate(Hn)),Hn.yaxis&&(Hn=this.updateHelpers.forceYAxisUpdate(Hn)),ar.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),Hn.theme&&(Hn=this.theme.updateThemeOptions(Hn)),this.updateHelpers._updateOptions(Hn,nr,ir,rr,sr))}},{key:"updateSeries",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(Hn,er,nr)}},{key:"appendSeries",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var ir=this.w.config.series.slice();return ir.push(Hn),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(ir,er,nr)}},{key:"appendData",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=this;nr.data.resetParsingFlags(),nr.w.globals.dataChanged=!0,nr.series.getPreviousPaths();for(var ir=nr.w.config.series.slice(),rr=0;rr<ir.length;rr++)if(Hn[rr]!==null&&Hn[rr]!==void 0)for(var sr=0;sr<Hn[rr].data.length;sr++)ir[rr].data.push(Hn[rr].data[sr]);return nr.w.config.series=ir,er&&(nr.w.globals.initialSeries=v$1.clone(nr.w.config.series)),this.update()}},{key:"update",value:function(Hn){var er=this;return new Promise((function(nr,ir){if(er.lastUpdateOptions&&JSON.stringify(er.lastUpdateOptions)===JSON.stringify(Hn))return nr(er);er.lastUpdateOptions=v$1.clone(Hn),new ds$1(er.ctx).clear({isUpdating:!0});var rr=er.create(er.w.config.series,Hn);if(!rr)return nr(er);er.mount(rr).then((function(){typeof er.w.config.chart.events.updated=="function"&&er.w.config.chart.events.updated(er,er.w),er.events.fireEvent("updated",[er,er.w]),er.w.globals.isDirty=!0,nr(er)})).catch((function(sr){ir(sr)}))}))}},{key:"getSyncedCharts",value:function(){var Hn=this.getGroupedCharts(),er=[this];return Hn.length&&(er=[],Hn.forEach((function(nr){er.push(nr)}))),er}},{key:"getGroupedCharts",value:function(){var Hn=this;return Apex._chartInstances.filter((function(er){if(er.group)return!0})).map((function(er){return Hn.w.config.chart.group===er.group?er.chart:Hn}))}},{key:"toggleSeries",value:function(Hn){return this.series.toggleSeries(Hn)}},{key:"highlightSeriesOnLegendHover",value:function(Hn,er){return this.series.toggleSeriesOnHover(Hn,er)}},{key:"showSeries",value:function(Hn){this.series.showSeries(Hn)}},{key:"hideSeries",value:function(Hn){this.series.hideSeries(Hn)}},{key:"highlightSeries",value:function(Hn){this.series.highlightSeries(Hn)}},{key:"isSeriesHidden",value:function(Hn){this.series.isSeriesHidden(Hn)}},{key:"resetSeries",value:function(){var Hn=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(Hn,er)}},{key:"addEventListener",value:function(Hn,er){this.events.addEventListener(Hn,er)}},{key:"removeEventListener",value:function(Hn,er){this.events.removeEventListener(Hn,er)}},{key:"addXaxisAnnotation",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ir=this;nr&&(ir=nr),ir.annotations.addXaxisAnnotationExternal(Hn,er,ir)}},{key:"addYaxisAnnotation",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ir=this;nr&&(ir=nr),ir.annotations.addYaxisAnnotationExternal(Hn,er,ir)}},{key:"addPointAnnotation",value:function(Hn){var er=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ir=this;nr&&(ir=nr),ir.annotations.addPointAnnotationExternal(Hn,er,ir)}},{key:"clearAnnotations",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,er=this;Hn&&(er=Hn),er.annotations.clearAnnotations(er)}},{key:"removeAnnotation",value:function(Hn){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,nr=this;er&&(nr=er),nr.annotations.removeAnnotation(nr,Hn)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(Hn,er){return this.coreUtils.getSeriesTotalsXRange(Hn,er)}},{key:"getHighestValueInSeries",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ia(this.ctx).getMinYMaxY(Hn).highestY}},{key:"getLowestValueInSeries",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ia(this.ctx).getMinYMaxY(Hn).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(Hn,er){return this.updateHelpers.toggleDataPointSelection(Hn,er)}},{key:"zoomX",value:function(Hn,er){this.ctx.toolbar.zoomUpdateOptions(Hn,er)}},{key:"setLocale",value:function(Hn){this.localization.setCurrentLocaleValues(Hn)}},{key:"dataURI",value:function(Hn){return new Qi$1(this.ctx).dataURI(Hn)}},{key:"getSvgString",value:function(Hn){return new Qi$1(this.ctx).getSvgString(Hn)}},{key:"exportToCSV",value:function(){var Hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Qi$1(this.ctx).exportToCSV(Hn)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var Hn=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){Hn.w.globals.resized=!0,Hn.w.globals.dataChanged=!1,Hn.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var Hn=this.w.config.chart.redrawOnWindowResize;typeof Hn=="function"&&(Hn=Hn()),Hn&&this._windowResize()}}],[{key:"getChartByID",value:function(Hn){var er=v$1.escapeString(Hn);if(Apex._chartInstances){var nr=Apex._chartInstances.filter((function(ir){return ir.id===er}))[0];return nr&&nr.chart}}},{key:"initOnLoad",value:function(){for(var Hn=document.querySelectorAll("[data-apexcharts]"),er=0;er<Hn.length;er++)new tr(Hn[er],JSON.parse(Hn[er].getAttribute("data-options"))).render()}},{key:"exec",value:function(Hn,er){var nr=this.getChartByID(Hn);if(nr){nr.w.globals.isExecCalled=!0;var ir=null;if(nr.publicMethods.indexOf(er)!==-1){for(var rr=arguments.length,sr=new Array(rr>2?rr-2:0),ar=2;ar<rr;ar++)sr[ar-2]=arguments[ar];ir=nr[er].apply(nr,sr)}return ir}}},{key:"merge",value:function(Hn,er){return v$1.extend(Hn,er)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),tr})(),propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var tr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=tr,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var tr=requireReactPropTypesSecret();function Hn(){}function er(){}return er.resetWarningCache=Hn,factoryWithThrowingShims=function(){function nr(sr,ar,or,lr,cr,ur){if(ur!==tr){var dr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw dr.name="Invariant Violation",dr}}nr.isRequired=nr;function ir(){return nr}var rr={array:nr,bigint:nr,bool:nr,func:nr,number:nr,object:nr,string:nr,symbol:nr,any:nr,arrayOf:ir,element:nr,elementType:nr,instanceOf:ir,node:nr,objectOf:ir,oneOf:ir,oneOfType:ir,shape:ir,exact:ir,checkPropTypes:er,resetWarningCache:Hn};return rr.PropTypes=rr,rr},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const o$1=getDefaultExportFromCjs(propTypesExports);function i(tr,Hn,er){return(Hn=(function(nr){var ir=(function(rr,sr){if(typeof rr!="object"||!rr)return rr;var ar=rr[Symbol.toPrimitive];if(ar!==void 0){var or=ar.call(rr,sr);if(typeof or!="object")return or;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sr==="string"?String:Number)(rr)})(nr,"string");return typeof ir=="symbol"?ir:ir+""})(Hn))in tr?Object.defineProperty(tr,Hn,{value:er,enumerable:!0,configurable:!0,writable:!0}):tr[Hn]=er,tr}function u$1(){return u$1=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)({}).hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},u$1.apply(null,arguments)}function c$1(tr,Hn){var er=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);Hn&&(nr=nr.filter((function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable}))),er.push.apply(er,nr)}return er}function f$1(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn]!=null?arguments[Hn]:{};Hn%2?c$1(Object(er),!0).forEach((function(nr){i(tr,nr,er[nr])})):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(er)):c$1(Object(er)).forEach((function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(er,nr))}))}return tr}function a$1(tr){return a$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Hn){return typeof Hn}:function(Hn){return Hn&&typeof Symbol=="function"&&Hn.constructor===Symbol&&Hn!==Symbol.prototype?"symbol":typeof Hn},a$1(tr)}var s=["type","width","height","series","options","chartRef"];function p$1(tr){return tr&&a$1(tr)==="object"&&!Array.isArray(tr)}function l$1(tr,Hn){var er=f$1({},tr);return p$1(tr)&&p$1(Hn)&&Object.keys(Hn).forEach((function(nr){p$1(Hn[nr])?er[nr]=nr in tr?l$1(tr[nr],Hn[nr]):Hn[nr]:er[nr]=Hn[nr]})),er}function y$2(tr,Hn){var er=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(tr===Hn)return!0;if(a$1(tr)!=="object"||tr===null||a$1(Hn)!=="object"||Hn===null)return!1;if(er.has(tr)||er.has(Hn))return!0;er.add(tr),er.add(Hn);var nr=Object.keys(tr),ir=Object.keys(Hn);if(nr.length!==ir.length)return!1;for(var rr=0,sr=nr;rr<sr.length;rr++){var ar=sr[rr];if(!ir.includes(ar)||!y$2(tr[ar],Hn[ar],er))return!1}return!0}var b$2=["type","series","options","width","height","chartRef"];function h$2(tr){var Hn=tr.type,er=Hn===void 0?"line":Hn,nr=tr.width,ir=nr===void 0?"100%":nr,rr=tr.height,sr=rr===void 0?"auto":rr,ar=tr.series,or=tr.options,lr=tr.chartRef,cr=(function(Tr,Lr){if(Tr==null)return{};var Mr,Nr,Or=(function(Gr,qr){if(Gr==null)return{};var Hr={};for(var Yr in Gr)if({}.hasOwnProperty.call(Gr,Yr)){if(qr.includes(Yr))continue;Hr[Yr]=Gr[Yr]}return Hr})(Tr,Lr);if(Object.getOwnPropertySymbols){var Fr=Object.getOwnPropertySymbols(Tr);for(Nr=0;Nr<Fr.length;Nr++)Mr=Fr[Nr],Lr.includes(Mr)||{}.propertyIsEnumerable.call(Tr,Mr)&&(Or[Mr]=Tr[Mr])}return Or})(tr,s),ur=reactExports.useRef(null),dr=reactExports.useRef(null),fr=reactExports.useRef(null),gr=lr||fr,yr=function(){return l$1(or,{chart:{type:er,height:sr,width:ir},series:ar})};reactExports.useEffect((function(){return gr.current=new gs$1(ur.current,yr()),gr.current.render(),dr.current=or,function(){gr.current&&typeof gr.current.destroy=="function"&&gr.current.destroy()}}),[]),reactExports.useEffect((function(){if(gr.current&&gr.current.w){var Tr=!y$2(gr.current.w.config.series,ar),Lr=!y$2(dr.current,or)||sr!==gr.current.opts.chart.height||ir!==gr.current.opts.chart.width;(Tr||Lr)&&(Tr?Lr?gr.current.updateOptions(yr()):gr.current.updateSeries(ar):gr.current.updateOptions(yr())),dr.current=or}}),[or,ar,sr,ir]);var vr,jr,Sr=(vr=b$2,jr=f$1({},cr),vr.forEach((function(Tr){delete jr[Tr]})),jr);return React.createElement("div",u$1({ref:ur},Sr))}h$2.propTypes={type:o$1.string.isRequired,series:o$1.array.isRequired,options:o$1.object.isRequired,width:o$1.oneOfType([o$1.string,o$1.number]),height:o$1.oneOfType([o$1.string,o$1.number]),chartRef:o$1.shape({current:o$1.any})};const XAG_API="https://api_gold.thinkdiff.us/view_full_data_json/10_12_2025/10_12_2025_9_40.json",XAGVolumeOnlyChart=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{Hn(!0),nr(null);try{const jr=await fetch(XAG_API);if(!jr.ok)throw new Error(`HTTP li: ${jr.status}`);const Tr=(await jr.json())?.data?.XAGUSD;if(!Array.isArray(Tr)||Tr.length===0){nr("Khng c d liu gi XAG");return}const Lr=Tr.map(Or=>Or.timestamp),Mr=Tr.map(Or=>Number(Or.close_price??0)),Nr=Tr.map(Or=>Number(Or.volume??0));rr(Lr),ar(Mr),lr(Nr)}catch(jr){console.error(jr)}finally{Hn(!1)}})()},[]);const cr=reactExports.useMemo(()=>or.length?or.reduce((vr,jr)=>vr+jr,0)/or.length:0,[or]),ur=reactExports.useMemo(()=>or.map(vr=>vr>cr?"#39ff14":"#ff4500"),[or,cr]),dr=[{name:"Gi XAG",type:"line",data:sr,color:"#00BFFF",yaxisIndex:0},{name:"Volume XAG",type:"column",data:or,yaxisIndex:1}],fr=sr.length?Math.min(...sr)*.9:0,gr=sr.length?Math.max(...sr)*1.1:100,yr={chart:{height:450,type:"line",stacked:!1,toolbar:{show:!0},background:"#000",foreColor:"#f8f8f8"},title:{text:"Biu  Gi Bc (XAG) v Volume",align:"left",style:{fontSize:"18px",fontWeight:700,color:"#f8f8f8"}},stroke:{show:!0,width:[3,0],colors:["#00BFFF","transparent"]},fill:{opacity:[1,.95],type:["solid","solid"]},plotOptions:{bar:{horizontal:!1,columnWidth:"90%",borderRadius:0,distributed:!0}},dataLabels:{enabled:!1},xaxis:{categories:ir,title:{text:"Thi im",style:{fontWeight:600}},labels:{rotate:-45,style:{colors:"#999",fontSize:"12px"}}},yaxis:[{title:{text:"Gi XAG (USD/oz)",style:{fontWeight:600}},labels:{formatter:vr=>vr.toFixed(2),style:{colors:"#00BFFF"}},tickAmount:5,min:fr,max:gr},{opposite:!0,title:{text:"Volume (Khi lng)",style:{fontWeight:600,color:"#39ff14"}},labels:{formatter:vr=>(vr/1e3).toFixed(0)+"K",style:{colors:"#39ff14"}},min:0,tickAmount:5}],grid:{borderColor:"#333",strokeDashArray:3},tooltip:{theme:"dark",y:{formatter:(vr,{seriesIndex:jr})=>jr===1?vr.toLocaleString()+" Volume":vr.toFixed(2)+" USD/oz"}},legend:{position:"top",horizontalAlign:"left",fontSize:"13px",markers:{radius:6},labels:{colors:["#f8f8f8"]}},colors:["#00BFFF",...ur]};return tr?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"50px",color:"#f8f8f8",backgroundColor:"#000"},children:"ang ti d liu biu ..."}):jsxRuntimeExports.jsxs("div",{style:{marginTop:"30px",padding:"20px",borderRadius:"8px",backgroundColor:"#000",border:"1px solid #333",boxShadow:"0 1px 3px rgba(255,255,255,0.05)"},children:[jsxRuntimeExports.jsx("h3",{style:{borderBottom:"1px solid #333",paddingBottom:"10px",marginBottom:"10px",color:"#f8f8f8"},children:"Biu  Gi Bc (XAG) v Volume"}),er&&jsxRuntimeExports.jsx("p",{style:{color:"#ff4500",textAlign:"center",marginBottom:"10px"},children:er}),sr.length>0?jsxRuntimeExports.jsx(h$2,{options:yr,series:dr,type:"line",height:450}):jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"50px",color:"#f8f8f8"},children:"Khng c d liu  hin th."})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend,plugin$1);const XAG_BASE_API="https://api_gold.thinkdiff.us/volume_data_xagusd_phantich",XAU_BASE_API="https://api_gold.thinkdiff.us/volume_data_xauusd_phantich",buildApiUrl=(tr,Hn)=>Hn?`${tr}/${Hn}`:tr,formatDate$2=tr=>{const Hn=String(tr.getMonth()+1).padStart(2,"0"),er=String(tr.getDate()).padStart(2,"0"),nr=tr.getFullYear();return`${Hn}_${er}_${nr}`},GrowthChart=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState([]),[dr,fr]=reactExports.useState(null),[gr,yr]=reactExports.useState(new Date(2025,11,9)),vr=reactExports.useRef(new Set),jr=async qr=>{const Hr=formatDate$2(qr);if(!vr.current.has(Hr)){vr.current.add(Hr),Hn(!0),fr(null);try{const[Yr,ro]=await Promise.all([fetch(buildApiUrl(XAG_BASE_API,Hr)),fetch(buildApiUrl(XAU_BASE_API,Hr))]);if(!Yr.ok||!ro.ok)throw new Error("Li fetch API");const io=await Yr.json(),fo=await ro.json(),ao=io?.data?.phantich_cactuan??[],Jr=fo?.data?.phantich_cactuan??[],uo=ao.map((oo,co)=>oo?.phantu_cuoituan?.timestamp?.split(" ")[0]||`Tun ${co+1}`);nr(oo=>[...oo,...uo]),rr(oo=>[...oo,...ao.map(co=>co?.ti_le_tang_truong??0)]),ar(oo=>[...oo,...Jr.map(co=>co?.ti_le_tang_truong??0)]),lr(oo=>[...oo,...ao.map(co=>co?.volume_trungbinh??0)]),ur(oo=>[...oo,...Jr.map(co=>co?.volume_trungbinh??0)])}catch(Yr){fr(Yr.message||"Li khi ti d liu")}finally{Hn(!1)}}};reactExports.useEffect(()=>{jr(gr)},[gr]);const Sr=()=>{const qr=new Date(gr);qr.setDate(qr.getDate()+1),!(qr>new Date)&&yr(qr)},Tr={labels:er,datasets:[{label:"XAU Growth (%)",data:sr,backgroundColor:"#FFD700"},{label:"XAG Growth (%)",data:ir,backgroundColor:"#C0C0C0"}]},Lr={labels:er,datasets:[{label:"XAU Volume",data:cr,backgroundColor:"#FFD700"}]},Mr={labels:er,datasets:[{label:"XAG Volume",data:or,backgroundColor:"#C0C0C0"}]},Nr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#f8f8f8"}},title:{display:!0,color:"#f8f8f8",font:{size:16}},zoom:{pan:{enabled:!0,mode:"x",modifierKey:"ctrl"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}},scales:{x:{ticks:{color:"#f8f8f8"},grid:{color:"#333"}},y:{ticks:{color:"#00bfff"},grid:{color:"#333"}}}},Or={...Nr,plugins:{...Nr.plugins,title:{...Nr.plugins.title,text:"T l tng trng XAU / XAG"}}},Fr={...Nr,plugins:{...Nr.plugins,title:{...Nr.plugins.title,text:"Volume Trung Bnh Vng (XAU)"}}},Gr={...Nr,plugins:{...Nr.plugins,title:{...Nr.plugins.title,text:"Volume Trung Bnh Bc (XAG)"}}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{marginTop:20,padding:15,borderRadius:6,backgroundColor:"#000",border:"1px solid #333"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#f8f8f8",borderBottom:"1px solid #333",paddingBottom:8},children:"Biu  T l Tng trng"}),dr&&jsxRuntimeExports.jsx("p",{style:{color:"#ff4500",textAlign:"center"},children:dr}),(ir.length||sr.length)>0?jsxRuntimeExports.jsx("div",{style:{height:350},children:jsxRuntimeExports.jsx(Bar$1,{data:Tr,options:Or})}):jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"#f8f8f8"},children:"Khng c d liu"}),jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginTop:15},children:jsxRuntimeExports.jsx("button",{onClick:Sr,disabled:tr,style:{padding:"8px 18px",backgroundColor:"#00bfff",border:"none",borderRadius:4,color:"#fff",cursor:"pointer"},children:tr?"ang ti...":"Load thm"})})]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:30},children:[cr.length>0&&jsxRuntimeExports.jsx("div",{style:{height:300},children:jsxRuntimeExports.jsx(Bar$1,{data:Lr,options:Fr})}),or.length>0&&jsxRuntimeExports.jsx("div",{style:{height:300,marginTop:20},children:jsxRuntimeExports.jsx(Bar$1,{data:Mr,options:Gr})})]})]})};var devicePixelRatio=(function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var tr=window.screen;if(tr)return(tr.deviceXDPI||1)/(tr.logicalXDPI||1)}return 1})(),utils={toTextLines:function(tr){var Hn=[],er;for(tr=[].concat(tr);tr.length;)er=tr.pop(),typeof er=="string"?Hn.unshift.apply(Hn,er.split(`
`)):Array.isArray(er)?tr.push.apply(tr,er):isNullOrUndef(tr)||Hn.unshift(""+er);return Hn},textSize:function(tr,Hn,er){var nr=[].concat(Hn),ir=nr.length,rr=tr.font,sr=0,ar;for(tr.font=er.string,ar=0;ar<ir;++ar)sr=Math.max(tr.measureText(nr[ar]).width,sr);return tr.font=rr,{height:ir*er.lineHeight,width:sr}},bound:function(tr,Hn,er){return Math.max(tr,Math.min(Hn,er))},arrayDiff:function(tr,Hn){var er=tr.slice(),nr=[],ir,rr,sr,ar;for(ir=0,sr=Hn.length;ir<sr;++ir)ar=Hn[ir],rr=er.indexOf(ar),rr===-1?nr.push([ar,1]):er.splice(rr,1);for(ir=0,sr=er.length;ir<sr;++ir)nr.push([er[ir],-1]);return nr},rasterize:function(tr){return Math.round(tr*devicePixelRatio)/devicePixelRatio}};function orient(tr,Hn){var er=Hn.x,nr=Hn.y;if(er===null)return{x:0,y:-1};if(nr===null)return{x:1,y:0};var ir=tr.x-er,rr=tr.y-nr,sr=Math.sqrt(ir*ir+rr*rr);return{x:sr?ir/sr:0,y:sr?rr/sr:-1}}function aligned(tr,Hn,er,nr,ir){switch(ir){case"center":er=nr=0;break;case"bottom":er=0,nr=1;break;case"right":er=1,nr=0;break;case"left":er=-1,nr=0;break;case"top":er=0,nr=-1;break;case"start":er=-er,nr=-nr;break;case"end":break;default:ir*=Math.PI/180,er=Math.cos(ir),nr=Math.sin(ir);break}return{x:tr,y:Hn,vx:er,vy:nr}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(tr,Hn,er){var nr=R_INSIDE;return tr<er.left?nr|=R_LEFT:tr>er.right&&(nr|=R_RIGHT),Hn<er.top?nr|=R_TOP:Hn>er.bottom&&(nr|=R_BOTTOM),nr}function clipped(tr,Hn){for(var er=tr.x0,nr=tr.y0,ir=tr.x1,rr=tr.y1,sr=region(er,nr,Hn),ar=region(ir,rr,Hn),or,lr,cr;!(!(sr|ar)||sr&ar);)or=sr||ar,or&R_TOP?(lr=er+(ir-er)*(Hn.top-nr)/(rr-nr),cr=Hn.top):or&R_BOTTOM?(lr=er+(ir-er)*(Hn.bottom-nr)/(rr-nr),cr=Hn.bottom):or&R_RIGHT?(cr=nr+(rr-nr)*(Hn.right-er)/(ir-er),lr=Hn.right):or&R_LEFT&&(cr=nr+(rr-nr)*(Hn.left-er)/(ir-er),lr=Hn.left),or===sr?(er=lr,nr=cr,sr=region(er,nr,Hn)):(ir=lr,rr=cr,ar=region(ir,rr,Hn));return{x0:er,x1:ir,y0:nr,y1:rr}}function compute$1(tr,Hn){var er=Hn.anchor,nr=tr,ir,rr;return Hn.clamp&&(nr=clipped(nr,Hn.area)),er==="start"?(ir=nr.x0,rr=nr.y0):er==="end"?(ir=nr.x1,rr=nr.y1):(ir=(nr.x0+nr.x1)/2,rr=(nr.y0+nr.y1)/2),aligned(ir,rr,tr.vx,tr.vy,Hn.align)}var positioners={arc:function(tr,Hn){var er=(tr.startAngle+tr.endAngle)/2,nr=Math.cos(er),ir=Math.sin(er),rr=tr.innerRadius,sr=tr.outerRadius;return compute$1({x0:tr.x+nr*rr,y0:tr.y+ir*rr,x1:tr.x+nr*sr,y1:tr.y+ir*sr,vx:nr,vy:ir},Hn)},point:function(tr,Hn){var er=orient(tr,Hn.origin),nr=er.x*tr.options.radius,ir=er.y*tr.options.radius;return compute$1({x0:tr.x-nr,y0:tr.y-ir,x1:tr.x+nr,y1:tr.y+ir,vx:er.x,vy:er.y},Hn)},bar:function(tr,Hn){var er=orient(tr,Hn.origin),nr=tr.x,ir=tr.y,rr=0,sr=0;return tr.horizontal?(nr=Math.min(tr.x,tr.base),rr=Math.abs(tr.base-tr.x)):(ir=Math.min(tr.y,tr.base),sr=Math.abs(tr.base-tr.y)),compute$1({x0:nr,y0:ir+sr,x1:nr+rr,y1:ir,vx:er.x,vy:er.y},Hn)},fallback:function(tr,Hn){var er=orient(tr,Hn.origin);return compute$1({x0:tr.x,y0:tr.y,x1:tr.x+(tr.width||0),y1:tr.y+(tr.height||0),vx:er.x,vy:er.y},Hn)}},rasterize=utils.rasterize;function boundingRects(tr){var Hn=tr.borderWidth||0,er=tr.padding,nr=tr.size.height,ir=tr.size.width,rr=-ir/2,sr=-nr/2;return{frame:{x:rr-er.left-Hn,y:sr-er.top-Hn,w:ir+er.width+Hn*2,h:nr+er.height+Hn*2},text:{x:rr,y:sr,w:ir,h:nr}}}function getScaleOrigin(tr,Hn){var er=Hn.chart.getDatasetMeta(Hn.datasetIndex).vScale;if(!er)return null;if(er.xCenter!==void 0&&er.yCenter!==void 0)return{x:er.xCenter,y:er.yCenter};var nr=er.getBasePixel();return tr.horizontal?{x:nr,y:null}:{x:null,y:nr}}function getPositioner(tr){return tr instanceof ArcElement?positioners.arc:tr instanceof PointElement?positioners.point:tr instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(tr,Hn,er,nr,ir,rr){var sr=Math.PI/2;if(rr){var ar=Math.min(rr,ir/2,nr/2),or=Hn+ar,lr=er+ar,cr=Hn+nr-ar,ur=er+ir-ar;tr.moveTo(Hn,lr),or<cr&&lr<ur?(tr.arc(or,lr,ar,-Math.PI,-sr),tr.arc(cr,lr,ar,-sr,0),tr.arc(cr,ur,ar,0,sr),tr.arc(or,ur,ar,sr,Math.PI)):or<cr?(tr.moveTo(or,er),tr.arc(cr,lr,ar,-sr,sr),tr.arc(or,lr,ar,sr,Math.PI+sr)):lr<ur?(tr.arc(or,lr,ar,-Math.PI,0),tr.arc(or,ur,ar,0,Math.PI)):tr.arc(or,lr,ar,-Math.PI,Math.PI),tr.closePath(),tr.moveTo(Hn,er)}else tr.rect(Hn,er,nr,ir)}function drawFrame(tr,Hn,er){var nr=er.backgroundColor,ir=er.borderColor,rr=er.borderWidth;!nr&&(!ir||!rr)||(tr.beginPath(),drawRoundedRect(tr,rasterize(Hn.x)+rr/2,rasterize(Hn.y)+rr/2,rasterize(Hn.w)-rr,rasterize(Hn.h)-rr,er.borderRadius),tr.closePath(),nr&&(tr.fillStyle=nr,tr.fill()),ir&&rr&&(tr.strokeStyle=ir,tr.lineWidth=rr,tr.lineJoin="miter",tr.stroke()))}function textGeometry(tr,Hn,er){var nr=er.lineHeight,ir=tr.w,rr=tr.x,sr=tr.y+nr/2;return Hn==="center"?rr+=ir/2:(Hn==="end"||Hn==="right")&&(rr+=ir),{h:nr,w:ir,x:rr,y:sr}}function drawTextLine(tr,Hn,er){var nr=tr.shadowBlur,ir=er.stroked,rr=rasterize(er.x),sr=rasterize(er.y),ar=rasterize(er.w);ir&&tr.strokeText(Hn,rr,sr,ar),er.filled&&(nr&&ir&&(tr.shadowBlur=0),tr.fillText(Hn,rr,sr,ar),nr&&ir&&(tr.shadowBlur=nr))}function drawText(tr,Hn,er,nr){var ir=nr.textAlign,rr=nr.color,sr=!!rr,ar=nr.font,or=Hn.length,lr=nr.textStrokeColor,cr=nr.textStrokeWidth,ur=lr&&cr,dr;if(!(!or||!sr&&!ur))for(er=textGeometry(er,ir,ar),tr.font=ar.string,tr.textAlign=ir,tr.textBaseline="middle",tr.shadowBlur=nr.textShadowBlur,tr.shadowColor=nr.textShadowColor,sr&&(tr.fillStyle=rr),ur&&(tr.lineJoin="round",tr.lineWidth=cr,tr.strokeStyle=lr),dr=0,or=Hn.length;dr<or;++dr)drawTextLine(tr,Hn[dr],{stroked:ur,filled:sr,w:er.w,x:er.x,y:er.y+er.h*dr})}var Label=function(tr,Hn,er,nr){var ir=this;ir._config=tr,ir._index=nr,ir._model=null,ir._rects=null,ir._ctx=Hn,ir._el=er};merge$1(Label.prototype,{_modelize:function(tr,Hn,er,nr){var ir=this,rr=ir._index,sr=toFont(resolve$1([er.font,{}],nr,rr)),ar=resolve$1([er.color,defaults$4.color],nr,rr);return{align:resolve$1([er.align,"center"],nr,rr),anchor:resolve$1([er.anchor,"center"],nr,rr),area:nr.chart.chartArea,backgroundColor:resolve$1([er.backgroundColor,null],nr,rr),borderColor:resolve$1([er.borderColor,null],nr,rr),borderRadius:resolve$1([er.borderRadius,0],nr,rr),borderWidth:resolve$1([er.borderWidth,0],nr,rr),clamp:resolve$1([er.clamp,!1],nr,rr),clip:resolve$1([er.clip,!1],nr,rr),color:ar,display:tr,font:sr,lines:Hn,offset:resolve$1([er.offset,4],nr,rr),opacity:resolve$1([er.opacity,1],nr,rr),origin:getScaleOrigin(ir._el,nr),padding:toPadding(resolve$1([er.padding,4],nr,rr)),positioner:getPositioner(ir._el),rotation:resolve$1([er.rotation,0],nr,rr)*(Math.PI/180),size:utils.textSize(ir._ctx,Hn,sr),textAlign:resolve$1([er.textAlign,"start"],nr,rr),textShadowBlur:resolve$1([er.textShadowBlur,0],nr,rr),textShadowColor:resolve$1([er.textShadowColor,ar],nr,rr),textStrokeColor:resolve$1([er.textStrokeColor,ar],nr,rr),textStrokeWidth:resolve$1([er.textStrokeWidth,0],nr,rr)}},update:function(tr){var Hn=this,er=null,nr=null,ir=Hn._index,rr=Hn._config,sr,ar,or,lr=resolve$1([rr.display,!0],tr,ir);lr&&(sr=tr.dataset.data[ir],ar=valueOrDefault(callback(rr.formatter,[sr,tr]),sr),or=isNullOrUndef(ar)?[]:utils.toTextLines(ar),or.length&&(er=Hn._modelize(lr,or,rr,tr),nr=boundingRects(er))),Hn._model=er,Hn._rects=nr},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(tr,Hn){var er=this,nr=tr.ctx,ir=er._model,rr=er._rects,sr;this.visible()&&(nr.save(),ir.clip&&(sr=ir.area,nr.beginPath(),nr.rect(sr.left,sr.top,sr.right-sr.left,sr.bottom-sr.top),nr.clip()),nr.globalAlpha=utils.bound(0,ir.opacity,1),nr.translate(rasterize(Hn.x),rasterize(Hn.y)),nr.rotate(ir.rotation),drawFrame(nr,rr.frame,ir),drawText(nr,ir.lines,rr.text,ir),nr.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated$1(tr,Hn,er){var nr=Math.cos(er),ir=Math.sin(er),rr=Hn.x,sr=Hn.y;return{x:rr+nr*(tr.x-rr)-ir*(tr.y-sr),y:sr+ir*(tr.x-rr)+nr*(tr.y-sr)}}function projected(tr,Hn){var er=MAX_INTEGER,nr=MIN_INTEGER,ir=Hn.origin,rr,sr,ar,or,lr;for(rr=0;rr<tr.length;++rr)sr=tr[rr],ar=sr.x-ir.x,or=sr.y-ir.y,lr=Hn.vx*ar+Hn.vy*or,er=Math.min(er,lr),nr=Math.max(nr,lr);return{min:er,max:nr}}function toAxis(tr,Hn){var er=Hn.x-tr.x,nr=Hn.y-tr.y,ir=Math.sqrt(er*er+nr*nr);return{vx:(Hn.x-tr.x)/ir,vy:(Hn.y-tr.y)/ir,origin:tr,ln:ir}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};merge$1(HitBox.prototype,{center:function(){var tr=this._rect;return{x:tr.x+tr.w/2,y:tr.y+tr.h/2}},update:function(tr,Hn,er){this._rotation=er,this._rect={x:Hn.x+tr.x,y:Hn.y+tr.y,w:Hn.w,h:Hn.h}},contains:function(tr){var Hn=this,er=1,nr=Hn._rect;return tr=rotated$1(tr,Hn.center(),-Hn._rotation),!(tr.x<nr.x-er||tr.y<nr.y-er||tr.x>nr.x+nr.w+er*2||tr.y>nr.y+nr.h+er*2)},intersects:function(tr){var Hn=this._points(),er=tr._points(),nr=[toAxis(Hn[0],Hn[1]),toAxis(Hn[0],Hn[3])],ir,rr,sr;for(this._rotation!==tr._rotation&&nr.push(toAxis(er[0],er[1]),toAxis(er[0],er[3])),ir=0;ir<nr.length;++ir)if(rr=projected(Hn,nr[ir]),sr=projected(er,nr[ir]),rr.max<sr.min||sr.max<rr.min)return!1;return!0},_points:function(){var tr=this,Hn=tr._rect,er=tr._rotation,nr=tr.center();return[rotated$1({x:Hn.x,y:Hn.y},nr,er),rotated$1({x:Hn.x+Hn.w,y:Hn.y},nr,er),rotated$1({x:Hn.x+Hn.w,y:Hn.y+Hn.h},nr,er),rotated$1({x:Hn.x,y:Hn.y+Hn.h},nr,er)]}});function coordinates(tr,Hn,er){var nr=Hn.positioner(tr,Hn),ir=nr.vx,rr=nr.vy;if(!ir&&!rr)return{x:nr.x,y:nr.y};var sr=er.w,ar=er.h,or=Hn.rotation,lr=Math.abs(sr/2*Math.cos(or))+Math.abs(ar/2*Math.sin(or)),cr=Math.abs(sr/2*Math.sin(or))+Math.abs(ar/2*Math.cos(or)),ur=1/Math.max(Math.abs(ir),Math.abs(rr));return lr*=ir*ur,cr*=rr*ur,lr+=Hn.offset*ir,cr+=Hn.offset*rr,{x:nr.x+lr,y:nr.y+cr}}function collide(tr,Hn){var er,nr,ir,rr;for(er=tr.length-1;er>=0;--er)for(ir=tr[er].$layout,nr=er-1;nr>=0&&ir._visible;--nr)rr=tr[nr].$layout,rr._visible&&ir._box.intersects(rr._box)&&Hn(ir,rr);return tr}function compute(tr){var Hn,er,nr,ir,rr,sr,ar;for(Hn=0,er=tr.length;Hn<er;++Hn)nr=tr[Hn],ir=nr.$layout,ir._visible&&(ar=new Proxy(nr._el,{get:(or,lr)=>or.getProps([lr],!0)[lr]}),rr=nr.geometry(),sr=coordinates(ar,nr.model(),rr),ir._box.update(sr,rr,nr.rotation()));return collide(tr,function(or,lr){var cr=or._hidable,ur=lr._hidable;cr&&ur||ur?lr._visible=!1:cr&&(or._visible=!1)})}var layout={prepare:function(tr){var Hn=[],er,nr,ir,rr,sr;for(er=0,ir=tr.length;er<ir;++er)for(nr=0,rr=tr[er].length;nr<rr;++nr)sr=tr[er][nr],Hn.push(sr),sr.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:er,_idx:sr._index};return Hn.sort(function(ar,or){var lr=ar.$layout,cr=or.$layout;return lr._idx===cr._idx?cr._set-lr._set:cr._idx-lr._idx}),this.update(Hn),Hn},update:function(tr){var Hn=!1,er,nr,ir,rr,sr;for(er=0,nr=tr.length;er<nr;++er)ir=tr[er],rr=ir.model(),sr=ir.$layout,sr._hidable=rr&&rr.display==="auto",sr._visible=ir.visible(),Hn|=sr._hidable;Hn&&compute(tr)},lookup:function(tr,Hn){var er,nr;for(er=tr.length-1;er>=0;--er)if(nr=tr[er].$layout,nr&&nr._visible&&nr._box.contains(Hn))return tr[er];return null},draw:function(tr,Hn){var er,nr,ir,rr,sr,ar;for(er=0,nr=Hn.length;er<nr;++er)ir=Hn[er],rr=ir.$layout,rr._visible&&(sr=ir.geometry(),ar=coordinates(ir._el,ir.model(),sr),rr._box.update(ar,sr,ir.rotation()),ir.draw(tr,ar))}},formatter=function(tr){if(isNullOrUndef(tr))return null;var Hn=tr,er,nr,ir;if(isObject$2(tr))if(!isNullOrUndef(tr.label))Hn=tr.label;else if(!isNullOrUndef(tr.r))Hn=tr.r;else for(Hn="",er=Object.keys(tr),ir=0,nr=er.length;ir<nr;++ir)Hn+=(ir!==0?", ":"")+er[ir]+": "+tr[er[ir]];return""+Hn},defaults$1={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY="$datalabels",DEFAULT_KEY="$default";function configure(tr,Hn){var er=tr.datalabels,nr={},ir=[],rr,sr;return er===!1?null:(er===!0&&(er={}),Hn=merge$1({},[Hn,er]),rr=Hn.labels||{},sr=Object.keys(rr),delete Hn.labels,sr.length?sr.forEach(function(ar){rr[ar]&&ir.push(merge$1({},[Hn,rr[ar],{_key:ar}]))}):ir.push(Hn),nr=ir.reduce(function(ar,or){return each$1(or.listeners||{},function(lr,cr){ar[cr]=ar[cr]||{},ar[cr][or._key||DEFAULT_KEY]=lr}),delete or.listeners,ar},{}),{labels:ir,listeners:nr})}function dispatchEvent$1(tr,Hn,er,nr){if(Hn){var ir=er.$context,rr=er.$groups,sr;Hn[rr._set]&&(sr=Hn[rr._set][rr._key],sr&&callback(sr,[ir,nr])===!0&&(tr[EXPANDO_KEY]._dirty=!0,er.update(ir)))}}function dispatchMoveEvents$1(tr,Hn,er,nr,ir){var rr,sr;!er&&!nr||(er?nr?er!==nr&&(sr=rr=!0):sr=!0:rr=!0,sr&&dispatchEvent$1(tr,Hn.leave,er,ir),rr&&dispatchEvent$1(tr,Hn.enter,nr,ir))}function handleMoveEvents$1(tr,Hn){var er=tr[EXPANDO_KEY],nr=er._listeners,ir,rr;if(!(!nr.enter&&!nr.leave)){if(Hn.type==="mousemove")rr=layout.lookup(er._labels,Hn);else if(Hn.type!=="mouseout")return;ir=er._hovered,er._hovered=rr,dispatchMoveEvents$1(tr,nr,ir,rr,Hn)}}function handleClickEvents$1(tr,Hn){var er=tr[EXPANDO_KEY],nr=er._listeners.click,ir=nr&&layout.lookup(er._labels,Hn);ir&&dispatchEvent$1(tr,nr,ir,Hn)}var plugin={id:"datalabels",defaults:defaults$1,beforeInit:function(tr){tr[EXPANDO_KEY]={_actives:[]}},beforeUpdate:function(tr){var Hn=tr[EXPANDO_KEY];Hn._listened=!1,Hn._listeners={},Hn._datasets=[],Hn._labels=[]},afterDatasetUpdate:function(tr,Hn,er){var nr=Hn.index,ir=tr[EXPANDO_KEY],rr=ir._datasets[nr]=[],sr=tr.isDatasetVisible(nr),ar=tr.data.datasets[nr],or=configure(ar,er),lr=Hn.meta.data||[],cr=tr.ctx,ur,dr,fr,gr,yr,vr,jr,Sr;for(cr.save(),ur=0,fr=lr.length;ur<fr;++ur)if(jr=lr[ur],jr[EXPANDO_KEY]=[],sr&&jr&&tr.getDataVisibility(ur)&&!jr.skip)for(dr=0,gr=or.labels.length;dr<gr;++dr)yr=or.labels[dr],vr=yr._key,Sr=new Label(yr,cr,jr,ur),Sr.$groups={_set:nr,_key:vr||DEFAULT_KEY},Sr.$context={active:!1,chart:tr,dataIndex:ur,dataset:ar,datasetIndex:nr},Sr.update(Sr.$context),jr[EXPANDO_KEY].push(Sr),rr.push(Sr);cr.restore(),merge$1(ir._listeners,or.listeners,{merger:function(Tr,Lr,Mr){Lr[Tr]=Lr[Tr]||{},Lr[Tr][Hn.index]=Mr[Tr],ir._listened=!0}})},afterUpdate:function(tr){tr[EXPANDO_KEY]._labels=layout.prepare(tr[EXPANDO_KEY]._datasets)},afterDatasetsDraw:function(tr){layout.draw(tr,tr[EXPANDO_KEY]._labels)},beforeEvent:function(tr,Hn){if(tr[EXPANDO_KEY]._listened){var er=Hn.event;switch(er.type){case"mousemove":case"mouseout":handleMoveEvents$1(tr,er);break;case"click":handleClickEvents$1(tr,er);break}}},afterEvent:function(tr){var Hn=tr[EXPANDO_KEY],er=Hn._actives,nr=Hn._actives=tr.getActiveElements(),ir=utils.arrayDiff(er,nr),rr,sr,ar,or,lr,cr,ur;for(rr=0,sr=ir.length;rr<sr;++rr)if(lr=ir[rr],lr[1])for(ur=lr[0].element[EXPANDO_KEY]||[],ar=0,or=ur.length;ar<or;++ar)cr=ur[ar],cr.$context.active=lr[1]===1,cr.update(cr.$context);(Hn._dirty||ir.length)&&(layout.update(Hn._labels),tr.render()),delete Hn._dirty}};Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);const formatDateForChart=(tr,Hn)=>{const er={hour:"2-digit",minute:"2-digit",hour12:!1};return Hn||(er.year="numeric",er.month="2-digit",er.day="2-digit"),new Date(tr).toLocaleString("vi-VN",er)},getBarColors=(tr,Hn)=>tr.map(er=>Number(er.volume)>=Hn?"#00FF3C":"#FF3333"),VolumeChart=({data:tr,title:Hn,avgVolume:er,enableZoom:nr=!0})=>{const[ir,rr]=reactExports.useState(!1);if(reactExports.useEffect(()=>{const Mr=()=>rr(window.innerWidth<768);return Mr(),window.addEventListener("resize",Mr),()=>window.removeEventListener("resize",Mr)},[]),!tr)return jsxRuntimeExports.jsx("p",{children:"Loading..."});const sr=[...tr].reverse(),ar=sr.map(Mr=>Hn==="XAU"?Number(Mr.y[3])/.02835:Number(Mr.y[3])),or=Hn==="XAU"?"Gi Xau VND/LNG":"Gi Xag VND/KG",lr=Math.min(...ar),cr=sr.map(Mr=>formatDateForChart(Mr.x,ir)),ur=getBarColors(sr,er),dr=sr.map(Mr=>Number(Mr.volume)),fr=(Mr,Nr,Or)=>{let Fr=new Array(Mr.length).fill(NaN),Gr=new Array(Mr.length).fill(0),qr=0;for(;qr<Mr.length;)if(Or==="low"?Mr[qr]<Nr:Mr[qr]>=Nr){let Yr=qr;for(;qr<Mr.length&&(Or==="low"?Mr[qr]<Nr:Mr[qr]>=Nr);)qr++;let ro=qr-1,io=qr-Yr;if(io>5){let fo=Math.floor((Yr+ro)/2),ao=Math.max(...Mr.slice(Yr,ro+1))*1.3;for(let Jr=Yr;Jr<=ro;Jr++)Jr===fo?Fr[Jr]=ao:Jr===Yr||Jr===ro?Fr[Jr]=Mr[Jr]*1.05:Fr[Jr]=ao*.95,Gr[Jr]=io}}else Fr[qr]=NaN,qr++;return{result:Fr,countArr:Gr}},{result:gr,countArr:yr}=fr(dr,er,"low"),{result:vr,countArr:jr}=fr(dr,er,"high"),Sr=Hn==="XAU"?"#FFD700":"#C0C0C0",Tr={labels:cr,datasets:[{type:"bar",label:`${Hn} Volume`,data:dr,backgroundColor:ur,datalabels:{display:!1},yAxisID:"y"},{type:"line",label:`${Hn} Price`,data:sr.map(Mr=>Hn==="XAU"?Number(Mr.y[3])/.02835:Number(Mr.y[3])),borderColor:Sr,borderWidth:2,pointRadius:0,tension:.2,yAxisID:"yPrice",datalabels:{display:!1}},{type:"line",label:"Cnh bo",data:gr,borderColor:"#FF3333",borderWidth:2,pointRadius:0,spanGaps:!1,tension:.4,datalabels:{display:Mr=>{const Nr=Mr.dataset.data,Or=Mr.dataIndex;return!isNaN(Nr[Or])&&Nr[Or]>Nr[Or-1]&&Nr[Or]>Nr[Or+1]},formatter:(Mr,Nr)=>{const Or=Nr.dataIndex;return`Volume tch ly di mc tb: ${yr[Or]||0} nn`},color:"#FF3333",align:"top",font:{weight:"bold",size:10}}},{type:"line",label:"Cnh bo",data:vr,borderColor:"#00FF3C",borderWidth:2,pointRadius:0,spanGaps:!1,tension:.4,datalabels:{display:Mr=>{const Nr=Mr.dataset.data,Or=Mr.dataIndex;return!isNaN(Nr[Or])&&Nr[Or]>Nr[Or-1]&&Nr[Or]>Nr[Or+1]},formatter:(Mr,Nr)=>{const Or=Nr.dataIndex;return`Volume bng n: ${jr[Or]||0} nn`},color:"#00FF3C",align:"top",font:{weight:"bold",size:10}}}]},Lr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!ir,position:"left",title:{display:!0,text:"Volume"}},yPrice:{type:"linear",display:!ir,position:"left",title:{display:!0,text:or},grid:{drawOnChartArea:!1},min:lr*.995},x:{title:{display:!0,text:"Date"}}},plugins:{legend:{display:!0},datalabels:{display:!1},tooltip:{callbacks:{label:Mr=>{if(Mr.dataset.label==="Cnh bo")return null;const Nr=Mr.raw??0;return`${Mr.dataset.label}: ${Nr.toLocaleString("en-US")}`}}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:nr},pinch:{enabled:nr},mode:"x"}}}};return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"450px",marginBottom:"40px"},children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:Tr,options:Lr,plugins:[plugin]})})},VolumeComparisonChart=({dataXau:tr,dataXag:Hn,avgVolumeXau:er,avgVolumeXag:nr,enableZoom:ir=!0})=>{const rr=er??(tr?.length?Number(tr[0].volume_trungbinh):0),sr=nr??(Hn?.length?Number(Hn[0].volume_trungbinh):0);return jsxRuntimeExports.jsxs("div",{style:{marginTop:"50px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{color:"#FFD700"},children:"Volume & Price XAU (Vng)"}),jsxRuntimeExports.jsx(VolumeChart,{data:tr,title:"XAU",avgVolume:rr,enableZoom:ir,colorScheme:{bar:"#FFD700",line:"#FFD700"}})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{color:"#C0C0C0"},children:"Volume & Price XAG (Bc)"}),jsxRuntimeExports.jsx(VolumeChart,{data:Hn,title:"XAG",avgVolume:sr,enableZoom:ir,colorScheme:{bar:"#C0C0C0",line:"#C0C0C0"}})]})]})},MyRsiChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,gr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[vr,jr]=reactExports.useState(yr),Sr=nr==="XAU",Tr=Sr?"#FFD700":"#ffffff",Lr="#00b060",Mr="#ff4648";reactExports.useEffect(()=>{const Gr=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Gr),()=>window.removeEventListener("resize",Gr)},[]);const Nr=Gr=>{if(!Gr)return"";const qr=Gr.split(" ");return qr.length>1?qr[1].substring(0,5):Gr},Or=Gr=>{if(!Gr)return"";const qr=Gr.split(" ");if(qr.length<2)return Gr;const Hr=qr[0].split("-"),Yr=qr[1].split(":");return`${Hr[2]}/${Hr[1]}/${Hr[0].substring(2)} ${Yr[0]}:${Yr[1]}`},Fr=(Gr,qr)=>{if(Gr===0)return"Tt c";if(!qr||qr.length===0)return`K${Gr}`;const Hr=Math.ceil(qr.length/yr),Yr=(Gr-1)*Hr;let ro=Yr+Hr-1;return ro>=qr.length&&(ro=qr.length-1),Yr>=qr.length?"-":`${Nr(qr[Yr])}-${Nr(qr[ro])}`};return reactExports.useEffect(()=>{(async()=>{const qr=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Hr of qr)document.querySelector(`script[src="${Hr}"]`)||await new Promise(Yr=>{const ro=document.createElement("script");ro.src=Hr,ro.async=!1,ro.onload=Yr,document.head.appendChild(ro)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Hr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(ro=>ro.json());Hr.data&&Hr.data.total_page&&or(Hr.data.total_page);const Yr=(Hr.data.list_volume||[]).reverse();Yr.length>0&&cr(Yr[Yr.length-1].timestamp),gr(ro=>({...ro,[Sr?"gold_full":"silver_full"]:Yr,[Sr?"gold_categories":"silver_categories"]:Yr.map(io=>io.timestamp)})),jr(yr)}catch(qr){console.error(qr)}})()},[Hn,rr,nr,Sr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Gr=Sr?fr.gold_full:fr.silver_full,qr=Sr?fr.gold_categories:fr.silver_categories;if(!Gr.length)return;let Hr=[...Gr],Yr=[...qr];if(vr!==0){const bo=Math.ceil(Gr.length/yr),Po=(vr-1)*bo,wo=Po+bo;Hr=Gr.slice(Po,wo),Yr=qr.slice(Po,wo)}const ro=[],io=[],fo=[],ao=[],Jr=[],uo=[],oo=vr===0&&!ur?1:ur?10:1;Hr.forEach((bo,Po)=>{ro.push({x:Po,open:bo.open_price/oo,high:bo.high_price/oo,low:bo.low_price/oo,close:bo.close_price/oo,timestamp:bo.timestamp,bb_u:bo.bb_upper_trungbinh!==null?bo.bb_upper_trungbinh/oo:null,bb_l:bo.bb_lower_trungbinh!==null?bo.bb_lower_trungbinh/oo:null,rsi_val:bo.rsi_pro_trungbinh||0}),bo.bb_upper_trungbinh!==null&&bo.bb_lower_trungbinh!==null&&io.push([Po,bo.bb_lower_trungbinh/oo,bo.bb_upper_trungbinh/oo]),fo.push({x:Po,y:bo.rsi_pro_trungbinh||0,price:bo.close_price,timestamp:bo.timestamp}),ao.push({x:Po,y:bo.acc_dist!=null?Number(bo.acc_dist):null,timestamp:bo.timestamp}),Jr.push({x:Po,y:bo.williams_r!=null?bo.williams_r:null,price:bo.close_price,timestamp:bo.timestamp})});const co=(bo,Po,wo,To,Fo,Co,Go)=>{const el=Fo.slice(bo,Po+1),Lo=vr===0&&!ur?1:ur?10:1,Uo=el[0],$o=el[el.length-1],il=To===0?Uo.close:Uo.y,pl=To===0?$o.close:$o.y,ml=el.map(dc=>To===0?dc.close:dc.y),Wl=Go?Math.min(...ml):Math.max(...ml);let Xl;To===0?Xl=ur?Go?-.1:.1:Go?-.8:.8:Xl=Go?-15:15;const ac=Wl+Xl;let Tl,Ol;bo===Po?(Tl=Or(Yr[bo]),Ol=To===0?(il*Lo).toFixed(3):il.toFixed(2)):(Tl=`${Or(Yr[bo])}  ${Or(Yr[Po])}`,Ol=To===0?`${(il*Lo).toFixed(3)}  ${(pl*Lo).toFixed(3)}`:`${il.toFixed(2)}  ${pl.toFixed(2)}`),uo.push({draggable:"",labelOptions:{allowOverlap:!1,crop:!0,overflow:"justify",backgroundColor:"rgba(0,0,0,0.85)",borderColor:Co,borderRadius:4,padding:ur?4:8,style:{pointerEvents:"none",zIndex:10}},shapes:[{type:"path",points:[{x:bo,xAxis:0,y:To===0?Uo.close:Uo.y,yAxis:To},{x:bo,xAxis:0,y:ac,yAxis:To},{x:Po,xAxis:0,y:ac,yAxis:To},{x:Po,xAxis:0,y:To===0?$o.close:$o.y,yAxis:To}],fill:"none",stroke:Co,strokeWidth:ur?1:2,dashStyle:"Solid"}],labels:[{point:{x:(bo+Po)/2,xAxis:0,y:ac,yAxis:To},useHTML:!0,text:`<div style="text-align: center; white-space: nowrap;">
                    <div style="color: ${Co}; font-weight: 900; font-size: ${ur?"10px":"14px"}; margin-bottom: 2px;">
                      ${wo}
                    </div>
                    <div style="color: #FFFFFF; font-weight: bold; font-size: ${ur?"8px":"11px"}; margin-bottom: 2px;">
                      ${Tl}
                    </div>
                    <div style="color: #00FF80; font-weight: bold; font-size: ${ur?"9px":"12px"};">
                      ${Ol}
                    </div>
                  </div>`,verticalAlign:Go?"bottom":"top"}]})};let no=0;for(;no<fo.length;){let bo=fo[no].y>70?"BN":fo[no].y<30?"MUA":null;if(bo){let Po=no,wo=no;for(;wo+1<fo.length;){let To=fo[wo+1].y;if(bo==="BN"&&To>=70||bo==="MUA"&&To<=30)wo++;else break}co(Po,wo,bo,1,fo,bo==="MUA"?"#00FF80":"#FF4B4B",bo==="MUA"),no=wo+1}else no++}Jr.forEach((bo,Po)=>{if(bo.y==null)return;let wo=null;if(bo.y>=-20&&(wo="BN"),bo.y<=-80&&(wo="MUA"),!wo)return;const To=wo==="MUA",Fo=To?"#00FF80":"#FF4B4B";uo.push({draggable:"",labelOptions:{backgroundColor:"rgba(0,0,0,0.9)",borderColor:Fo,borderRadius:4,borderWidth:1,padding:ur?3:4,style:{color:"#fff",fontSize:ur?"8px":"10px",fontWeight:"bold"}},labels:[{point:{x:Po,xAxis:0,y:bo.y,yAxis:1},useHTML:!0,verticalAlign:To?"bottom":"top",y:To?-10:10,text:`
              <div style="text-align:center; white-space:nowrap;">
                <div style="color:${Fo}; font-weight:900; font-size: ${ur?"10px":"12px"};">
                  ${wo}
                </div>

                <div style="font-size:${ur?"7px":"9px"}; color:#FFFFFF;">
                  ${Or(bo.timestamp)}
                </div>

                <div style="color:#00FF80; font-weight:bold; font-size: ${ur?"8px":"10px"};">
                  Gi: ${bo.price.toFixed(3)}
                </div>

                <div style="color:#FF6B35; font-weight:bold; font-size: ${ur?"8px":"10px"};">
                  W%R: ${bo.y.toFixed(2)}
                </div>
              </div>
            `}]})});let mo=0;for(;mo<ro.length;){const bo=ro[mo];if(bo.bb_u===null||bo.bb_l===null){mo++;continue}let Po=bo.close>bo.bb_u?"BN":bo.close<bo.bb_l?"MUA":null;if(Po){let wo=mo,To=mo;for(;To+1<ro.length;){let Fo=ro[To+1];if(Fo.bb_u===null||Fo.bb_l===null)break;if((Fo.close>Fo.bb_u?"BN":Fo.close<Fo.bb_l?"MUA":null)===Po)To++;else break}co(wo,To,Po,0,ro,Po==="MUA"?"#00FF80":"#FF4B4B",Po==="MUA"),mo=To+1}else mo++}const Eo={chart:{height:ur?1200:1300,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}},marginLeft:ur?2:void 0,marginRight:ur?2:void 0,spacingLeft:ur?0:10,spacingRight:ur?0:10},title:{text:null},annotations:uo,xAxis:{categories:Yr,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:ur?"8px":"10px",whiteSpace:"nowrap"},padding:ur?2:5,autoRotation:[-45],tickPixelInterval:ur?100:72}},yAxis:ur?[{title:{text:null},height:"70%",gridLineWidth:0,labels:{enabled:!1},minPadding:0,maxPadding:0},{top:"75%",height:"7%",max:0,min:-100,gridLineWidth:0,labels:{enabled:!1},plotLines:[{value:-20,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:-80,color:"#00FF80",width:1,dashStyle:"Dash"}],plotBands:[{from:-20,to:0,color:"rgba(255,75,75,0.08)"},{from:-100,to:-80,color:"rgba(0,255,128,0.08)"}]},{top:"83%",height:"8%",max:100,min:0,gridLineWidth:0,labels:{enabled:!1},plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{top:"91%",height:"9%",gridLineWidth:0,labels:{enabled:!1}}]:[{title:{text:null},height:"55%",gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},minPadding:.1,maxPadding:.1},{title:{text:null},top:"60%",height:"15%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},max:0,min:-100,plotLines:[{value:-20,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:-80,color:"#00FF80",width:1,dashStyle:"Dash"}],plotBands:[{from:-20,to:0,color:"rgba(255,75,75,0.08)"},{from:-100,to:-80,color:"rgba(0,255,128,0.08)"}]},{title:{text:null},top:"76%",height:"15%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},max:100,min:0,plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:null},top:"91%",height:"9%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"none",borderWidth:0,shadow:!1,padding:0},plotOptions:{candlestick:{color:Mr,upColor:Lr,lineColor:Mr,upLineColor:Lr,wickColor:"#888",groupPadding:ur?.05:.02,pointPadding:ur?.02:.01,lineWidth:ur?1:2},series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{type:"candlestick",name:"Gi",data:ro,yAxis:0,zIndex:2,tooltip:{pointFormatter:function(){const bo=vr===0&&!ur?1:ur?10:1;return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                          <b style="color:#ffd700; font-size:13px;">
                          <b style="color:#ffffff; font-size:14px;">${this.timestamp}</b><br/>
                            Open-price: ${(this.open*bo).toFixed(3)}<br/>
                            High-price: ${(this.high*bo).toFixed(3)}<br/>
                            Low-price: ${(this.low*bo).toFixed(3)}<br/>
                            Close-price: ${(this.close*bo).toFixed(3)}
                          </b>
                        </div>`}}},{type:"areasplinerange",name:"BB",data:io,yAxis:0,color:"#9b59b6",fillColor:"rgba(155, 89, 182, 0.2)",lineWidth:ur?.1:2,zIndex:0,enableMouseTracking:!1},{type:"spline",name:"RSI",data:fo,yAxis:2,color:Tr,lineWidth:ur?1:3,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                          <b style="color:#ffd700; font-size:11px;">${this.timestamp}</b><br/>
                          <b style="color:#00ff00; font-size:13px;">Gi: ${this.price.toFixed(3)}</b><br/>
                          <b style="color:${Tr}; font-size:13px;">RSI: ${this.y.toFixed(2)}</b>
                        </div>`}}},{type:"spline",name:"Williams %R",data:Jr,yAxis:1,color:"#FF6B35",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                          <b style="color:#ffd700; font-size:11px;">${this.timestamp}</b><br/>
                          <b style="color:#00ff00; font-size:13px;">Gi: ${this.price.toFixed(3)}</b><br/>
                          <b style="color:#FF6B35; font-size:13px;">Williams R: ${this.y.toFixed(2)}</b>
                        </div>`}}},{type:"spline",name:"AccumulationDistribution",data:ao,yAxis:3,color:"#00e5ff",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return this.y===null?`
                    <div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                      <b style="color:${Tr}; font-size:13px;">Accum/Dist</b><br/>
                      <b style="color:#ff6464; font-size:12px;">Khng c d liu Accum/Dist</b>
                    </div>
                  `:`
                  <div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                  <b style="color:#ffd700; font-size:11px;">${this.timestamp}</b><br/>
                    <b style="color:${Tr}; font-size:13px;">Accum/Dist:</b><br/>
                    <b style="color:${Tr}; font-size:13px;">
                      ${Math.round(this.y).toLocaleString()}
                    </b>
                  </div>
                `}}}],credits:{enabled:!1},legend:{enabled:!1}};window.Highcharts.chart(tr.current,Eo)},[nr,fr,rr,vr,Hn,Sr,Tr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("a",{href:"/#/rsi-chart",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("span",{style:{color:Tr,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:lr||"..."})})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Gr=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Gr),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Gr?Gr==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Gr?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:Gr==="XAU"?"Vng (XAU)":"Bc (XAG)"},Gr))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Gr=>jsxRuntimeExports.jsx("button",{onClick:()=>jr(Gr),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:vr===Gr?"#333":"#111",color:vr===Gr?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Fr(Gr,Sr?fr.gold_categories:fr.silver_categories)},Gr))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Gr=>Gr+1),disabled:rr>=ar,style:navBtnStyle$4(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Gr=>Math.max(1,Gr-1)),disabled:rr===1,style:navBtnStyle$4(rr===1),children:" Sau "})]})]})},navBtnStyle$4=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),useWilliamsR=(tr,Hn,er)=>{const nr=reactExports.useRef({GOLD:0,SILVER:0});return{checkWRAlert:(rr,sr)=>{const ar=Date.now();ar-nr.current[sr]>3e4&&(rr>=80?(Hn.current?.play().catch(()=>{}),er({id:`${sr}-SELL-${ar}`,type:sr,action:"BN",text:"Williams R Bo Nn Bn",bgColor:"#ff4d4d"}),nr.current[sr]=ar):rr<=20&&(tr.current?.play().catch(()=>{}),er({id:`${sr}-BUY-${ar}`,type:sr,action:"MUA",text:"Williams R Bo Nn Mua",bgColor:"#00ff88"}),nr.current[sr]=ar))}}},TradingDashboardBollingerBand=()=>{const tr="https://api_gold.thinkdiff.us/volume_xauusd_phantich",Hn="https://api_gold.thinkdiff.us/volume_xagusd_phantich",er="wss://vang247.com/price-service/ws/v1/prices",nr=reactExports.useRef(null),ir=reactExports.useRef(null),rr=reactExports.useRef(null),sr=reactExports.useRef(null),ar=reactExports.useRef({GOLD:0,SILVER:0}),[or,lr]=reactExports.useState([]),[cr,ur]=reactExports.useState([]),dr=co=>{lr(no=>[...no,co]),setTimeout(()=>{fr(co.id)},5e3)},fr=co=>{ur(no=>[...no,co]),setTimeout(()=>{lr(no=>no.filter(mo=>mo.id!==co)),ur(no=>no.filter(mo=>mo!==co))},500)},{checkWRAlert:gr}=useWilliamsR(rr,sr,dr);reactExports.useEffect(()=>{nr.current=new Audio("/vungmua.mp3"),ir.current=new Audio("/vungban.mp3"),rr.current=new Audio("/williamBuy.mp3"),sr.current=new Audio("/william_r_ban.mp3"),[nr,ir,rr,sr].forEach(co=>{co.current&&(co.current.volume=.7)})},[]);const[yr,vr]=reactExports.useState({gold:null,silver:null}),[jr,Sr]=reactExports.useState({XAUUSD:0,XAGUSD:0}),[Tr,Lr]=reactExports.useState({gold:0,silver:0}),[Mr,Nr]=reactExports.useState(null),[Or,Fr]=reactExports.useState(typeof window<"u"?window.innerWidth<768:!1),[Gr,qr]=reactExports.useState(null),[Hr,Yr]=reactExports.useState({GOLD:{height:0,pct:"0.000",side:"up",status:""},SILVER:{height:0,pct:"0.000",side:"up",status:""}}),ro=reactExports.useRef(null),io=reactExports.useRef(0),fo=(co,no,mo)=>{if(!co||!no?.data?.rsi_data)return 0;const Eo=no.data.rsi_data.trungbinh_rsi,bo=Eo.rsi_trungbinh,Po=(co-Eo.bb_lower_trungbinh)/(Eo.bb_upper_trungbinh-Eo.bb_lower_trungbinh)*100,wo=(Eo.williams_r_trungbinh||0)+100;return mo&&gr(wo,mo),bo+Po+wo},ao=(co,no,mo)=>{const Eo=co==="GOLD"?"VNG":"BC",bo=no==="up";qr({label:`${Eo} BIN NG MNH`,name:bo?"HY CN NHC BN CHT LI":"HY CN NHC MUA VO",message:`${Eo}  ${bo?"TNG":"GIM"} MNH`,color:co==="GOLD"?"#FFD700":"#E0E0E0",pct:parseFloat(mo),side:no,type:co}),setTimeout(()=>qr(null),8e3)},Jr=(co,no)=>{const mo=co==="GOLD"?5:10,Eo=Math.abs(no),bo=Math.min(Eo/mo*100,100);let Po=no>=0?"up":"down",wo=Eo>=mo?no>0?"CRITICAL_UP":"CRITICAL_DOWN":"";if(wo&&Date.now()-ar.current[co]>6e4){const To=no>0?"/ban_tang_10_phantram.mp3":"/qua_ban.mp3";new Audio(To).play().catch(()=>{}),ar.current[co]=Date.now(),ao(co,Po,Eo.toFixed(3))}return{height:bo,pct:Eo.toFixed(3),side:Po,status:wo}},uo=()=>{ro.current&&ro.current.readyState===WebSocket.OPEN||(ro.current=new WebSocket(er),ro.current.onmessage=co=>{try{const no=JSON.parse(co.data),mo=no.sjcNationWide?.find(To=>To.name==="XAUUSD");if(mo){const To=(mo.hanoi.sell_change>=0?1:-1)*(Math.abs(mo.hanoi.sell_change)/(mo.hanoi.sell-mo.hanoi.sell_change)*100);Yr(Fo=>({...Fo,GOLD:Jr("GOLD",To)}))}const Eo=no.silver_price?.find(To=>To.name==="XAGUSD");if(Eo){const To=(Eo.hanoi.sell_change>=0?1:-1)*(Math.abs(Eo.hanoi.sell_change)/(Eo.hanoi.sell-Eo.hanoi.sell_change)*100);Yr(Fo=>({...Fo,SILVER:Jr("SILVER",To)}))}const bo=Date.now();if(bo-io.current<1e3)return;const Po=mo||no.goldNationWide?.find(To=>To.name==="XAUUSD"),wo=Eo;if(Po){const To=Po.hanoi.buy-.05;Sr(Fo=>({...Fo,XAUUSD:To})),vr(Fo=>(Fo.gold&&Lr(Co=>({...Co,gold:fo(To,Fo.gold,"GOLD")})),Fo))}if(wo){const To=wo.hanoi.buy-.05;Sr(Fo=>({...Fo,XAGUSD:To})),vr(Fo=>(Fo.silver&&Lr(Co=>({...Co,silver:fo(To,Fo.silver,"SILVER")})),Fo))}io.current=bo}catch{}},ro.current.onclose=()=>setTimeout(uo,3e3))},oo=async()=>{try{const[co,no]=await Promise.all([fetch(tr).then(mo=>mo.json()),fetch(Hn).then(mo=>mo.json())]);vr({gold:co,silver:no}),Lr({gold:fo(jr.XAUUSD||co.data.price_now,co,"GOLD"),silver:fo(jr.XAGUSD||no.data.price_now,no,"SILVER")})}catch(co){console.error("API Error:",co)}};return reactExports.useEffect(()=>{oo();const co=setInterval(oo,6e4);uo();const no=()=>Fr(window.innerWidth<768);return window.addEventListener("resize",no),()=>{ro.current?.close(),clearInterval(co),window.removeEventListener("resize",no)}},[]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:Or?"5px":"20px",color:"#fff",fontFamily:"sans-serif",width:"100%",minHeight:"100vh",position:"relative",boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:"45%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e4,display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:or.map(co=>jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#1a1d23",padding:"12px 25px",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.8)",display:"flex",alignItems:"center",gap:"12px",border:"1px solid #333",animation:"fadeIn 0.3s ease-out",opacity:cr.includes(co.id)?0:1,transition:"opacity 0.5s ease",position:"relative",minWidth:"220px",justifyContent:"center"},children:[jsxRuntimeExports.jsx("span",{style:{color:co.type==="GOLD"?"#fff200":"#c0c0c0",fontWeight:"bold",fontSize:Or?"16px":"20px"},children:co.type==="GOLD"?"VNG":"BC"}),jsxRuntimeExports.jsx("span",{style:{color:co.bgColor,fontWeight:"700",fontSize:Or?"14px":"18px"},children:co.text}),jsxRuntimeExports.jsx("button",{onClick:()=>fr(co.id),style:{position:"absolute",top:"2px",right:"4px",background:"none",color:"#fff",border:"none",cursor:"pointer",fontSize:"9px",opacity:.2,transition:"opacity 0.2s",fontWeight:"bold"},onMouseEnter:no=>no.target.style.opacity=.8,onMouseLeave:no=>no.target.style.opacity=.2,children:""})]},co.id))}),jsxRuntimeExports.jsxs("div",{style:{width:"100%"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",borderBottom:"1px solid #333",paddingBottom:"10px"},children:[jsxRuntimeExports.jsxs("div",{style:{fontSize:Or?"11px":"14px"},children:["Cp nht: ",jsxRuntimeExports.jsx("span",{style:{color:"#00ff88",fontWeight:"bold"},children:yr.gold?.data?.time_now?yr.gold.data.time_now.split(".")[0]:"--:--"})]}),jsxRuntimeExports.jsx("button",{onClick:oo,style:{backgroundColor:"#35e858",color:"#fff",padding:"10px 25px",borderRadius:"8px",fontWeight:"bold",border:"none",cursor:"pointer"},children:"LM MI"})]}),jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginBottom:"15px",color:Tr.gold>Tr.silver?"#fff200":"#c0c0c0",fontWeight:"900",fontSize:Or?"14px":"20px",textTransform:"uppercase"},children:Tr.gold>Tr.silver?"Vn ang Vo Vng Nhiu Hn Bc":"Vn ang Vo Bc Nhiu Hn Vng"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:Or?"5px":"20px",justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx(InstrumentCard,{title:"VNG",price:jr.XAUUSD,total:Tr.gold,fullData:yr.gold,isMobile:Or,onOpenDetail:()=>Nr("VNG"),statusCircle:Hr.GOLD}),jsxRuntimeExports.jsx("div",{style:{fontSize:Or?"30px":"80px",color:"#ff9800",fontWeight:"bold"},children:Tr.gold>Tr.silver?">":"<"}),jsxRuntimeExports.jsx(InstrumentCard,{title:"BC",price:jr.XAGUSD,total:Tr.silver,fullData:yr.silver,isMobile:Or,onOpenDetail:()=>Nr("BC"),statusCircle:Hr.SILVER})]})]}),Gr&&jsxRuntimeExports.jsx("div",{className:`etf-notification ${Gr.type==="GOLD"?"gold-notification":"silver-notification"}`,style:{bottom:"20px",left:"20px",position:"fixed",zIndex:10005},children:jsxRuntimeExports.jsxs("div",{className:"notification-inner",children:[jsxRuntimeExports.jsx("button",{className:"notification-close",onClick:()=>qr(null),children:""}),jsxRuntimeExports.jsx("div",{className:"notification-label",style:{color:Gr.color},children:Gr.label}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"12px",fontWeight:"700",color:"#fff"},children:Gr.name}),jsxRuntimeExports.jsx("span",{style:{fontSize:"9px",color:"#9ca3af"},children:Gr.message})]}),jsxRuntimeExports.jsxs("span",{className:`notification-pct ${Gr.side==="up"?"pos":"neg"}`,children:[Gr.side==="up"?"+":"-",Gr.pct.toFixed(2),"%"]})]})]})}),Mr&&jsxRuntimeExports.jsx(DetailModal,{title:Mr,price:Mr==="VNG"?jr.XAUUSD:jr.XAGUSD,fullData:Mr==="VNG"?yr.gold:yr.silver,isMobile:Or,onClose:()=>Nr(null)})]})},InstrumentCard=({title:tr,price:Hn,total:er,fullData:nr,onOpenDetail:ir,isMobile:rr,statusCircle:sr})=>{if(!nr||!nr.data?.rsi_data)return jsxRuntimeExports.jsx("div",{style:{flex:1,background:"#111",height:"300px",borderRadius:"24px"}});const ar=nr.data.rsi_data.trungbinh_rsi,or=ar.rsi_trungbinh,lr=(Hn-ar.bb_lower_trungbinh)/(ar.bb_upper_trungbinh-ar.bb_lower_trungbinh)*100,cr=(ar.williams_r_trungbinh||0)+100,ur=ar.atr_14_trungbinh||0,dr=or>=70?"#ff4d4d":or<=30?"#00ff88":"#fff",fr=lr>100?"#ff4d4d":lr<0?"#00ff88":"#fff",gr=ur<=20?"#00ff88":ur>=80?"#ff4d4d":"#fff";return jsxRuntimeExports.jsxs("div",{style:{flex:1,backgroundColor:"#111",borderRadius:rr?"12px":"24px",border:"1px solid #333",padding:rr?"10px":"30px",textAlign:"center",position:"relative"},children:[jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"15px",right:"20px",textAlign:"right"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#fff",fontWeight:"900"},children:"TOTAL"}),jsxRuntimeExports.jsx("div",{style:{fontSize:rr?"12px":"18px",fontWeight:"bold"},children:er.toFixed(3)})]}),jsxRuntimeExports.jsx("h3",{style:{fontSize:rr?"16px":"35px",color:tr==="VNG"?"#fff200":"#c0c0c0",fontWeight:"bold",margin:"0"},children:tr}),jsxRuntimeExports.jsx("div",{style:{fontSize:rr?"12px":"18px",color:dr,fontWeight:"900",marginBottom:"10px"},children:or>=70?"NN BN RA":or<=30?"NN MUA VO":"I NGANG"}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateAreas:rr?"unset":'"rsi bb" "atr atr" "wr metal"',gap:rr?"5px":"2px",justifyItems:"center",alignItems:"center",marginBottom:"15px"},children:[jsxRuntimeExports.jsx("div",{style:{gridArea:rr?"unset":"rsi"},children:jsxRuntimeExports.jsx(Circle,{label:"RSI",val:or,color:dr,isMobile:rr})}),jsxRuntimeExports.jsx("div",{style:{gridArea:rr?"unset":"bb"},children:jsxRuntimeExports.jsx(Circle,{label:"BB",val:lr,color:fr,isMobile:rr})}),jsxRuntimeExports.jsx("div",{style:{gridArea:rr?"span 1 / span 2":"atr",margin:rr?"2px 0":"5px 0"},children:jsxRuntimeExports.jsx(Circle,{label:`ATR ${tr}`,val:ur,color:gr,isMobile:rr,sizeOverride:rr?75:135})}),jsxRuntimeExports.jsx("div",{style:{gridArea:rr?"unset":"wr"},children:jsxRuntimeExports.jsx(Circle,{label:"WR",val:cr,color:cr>=80?"#ff4d4d":cr<=20?"#00ff88":"#fff",isMobile:rr})}),jsxRuntimeExports.jsx("div",{style:{gridArea:rr?"unset":"metal"},children:jsxRuntimeExports.jsx(Circle,{label:"T l tng/gim",val:sr.height,color:sr.status?sr.side==="up"?"#ff4d4d":"#00ff88":tr==="VNG"?"#FFD700":"#E0E0E0",isMobile:rr,customText:`${sr.side==="down"?"-":""}${sr.pct}%`})})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"12px",fontSize:rr?"8px":"13px",marginBottom:"10px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#00ff88"},children:"Lower:"})," ",ar.bb_lower_trungbinh.toFixed(3)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#888"},children:"Middle:"})," ",ar.bb_middle_trungbinh.toFixed(3)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ff4d4d"},children:"Upper:"})," ",ar.bb_upper_trungbinh.toFixed(3)]})]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:rr?"18px":"45px",fontWeight:"bold"},children:["$",Hn.toFixed(3)]}),jsxRuntimeExports.jsx("button",{onClick:ir,style:{marginTop:"10px",backgroundColor:"#222",color:"#fff",padding:"12px",borderRadius:"12px",width:"100%",border:"1px solid #444",cursor:"pointer",fontWeight:"900"},children:"XEM CHI TIT"})]})},Circle=({label:tr,subLabel:Hn,val:er,color:nr,isMobile:ir,customText:rr,sizeOverride:sr})=>{const ar=sr||(ir?60:115);return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:ar,height:ar},children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"2"}),jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:nr,strokeWidth:"2.5",strokeDasharray:`${Math.min(Math.max(er,0),100)*1.13}, 113`,strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:ir&&!sr?"10px":"18px",fontWeight:"900",color:nr,textAlign:"center",padding:"0 5px"},children:rr||er.toFixed(3)})]}),jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginTop:"2px"},children:jsxRuntimeExports.jsx("div",{style:{fontSize:ir?"9px":"13px",color:"#fff",fontWeight:"900",lineHeight:1.1},children:tr})})]})},DetailModal=({title:tr,price:Hn,fullData:er,onClose:nr,isMobile:ir})=>{if(!er?.data?.rsi_data?.rsi?.danhsach)return null;const rr=er.data.rsi_data.rsi.danhsach,sr=tr==="VNG"?"#fff200":"#c0c0c0";return jsxRuntimeExports.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.98)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#111",width:"98%",maxWidth:"1500px",maxHeight:"95vh",borderRadius:"24px",border:"1px solid #333",overflowY:"auto",padding:ir?"10px":"30px",position:"relative"},children:[jsxRuntimeExports.jsx("button",{onClick:nr,style:{position:"absolute",top:"15px",right:"15px",background:"#ff4d4d",border:"none",color:"#fff",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",fontWeight:"bold"},children:""}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[jsxRuntimeExports.jsxs("h2",{style:{color:sr,fontSize:"32px",margin:0},children:["CHI TIT ",tr]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"42px",fontWeight:"bold",color:"#ffbaba"},children:["$",Hn.toFixed(3)]})]}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:ir?"1fr":"repeat(3, 1fr)",gap:"25px"},children:rr.map((ar,or)=>{const lr=(Hn-ar.value.bb_lower)/(ar.value.bb_upper-ar.value.bb_lower)*100,cr=ar.value.rsi_value,ur=(ar.value.williams_r||0)+100,dr=cr>=70?"#ff4d4d":cr<=30?"#00ff88":"#fff";return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#0b0e14",padding:"25px",borderRadius:"24px",border:"1px solid #222",textAlign:"center"},children:[jsxRuntimeExports.jsx("div",{style:{color:sr,marginBottom:"20px",fontWeight:"bold",fontSize:"20px"},children:ar.minute<60?ar.minute+" PHT":ar.minute/60+" GI"}),jsxRuntimeExports.jsxs("div",{style:{position:"relative",height:"185px",width:"230px",margin:"0 auto"},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,left:0},children:jsxRuntimeExports.jsx(Circle,{label:"RSI",val:cr,color:dr,isMobile:!0,sizeOverride:75})}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,right:0},children:jsxRuntimeExports.jsx(Circle,{label:"BB",val:lr,color:dr,isMobile:!0,sizeOverride:75})}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)"},children:jsxRuntimeExports.jsx(Circle,{label:"WR",val:ur,color:ur>=80?"#ff4d4d":ur<=20?"#00ff88":"#fff",isMobile:!0,sizeOverride:75})})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"22px",color:dr,fontWeight:"900",margin:"20px 0"},children:cr>=70?"NN BN RA":cr<=30?"NN MUA VO":"I NGANG"})]},or)})})]})})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend);const IGPriceBarChart=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState("7days"),[ir,rr]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{try{const ur=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();if(!ur.ig_sentiment)return;let dr=[...ur.ig_sentiment];dr.sort((gr,yr)=>new Date(gr.ngay_tao)-new Date(yr.ngay_tao));const fr=new Date;if(ir){if(er==="7days"){const gr=new Date(fr-6048e5);dr=dr.filter(yr=>new Date(yr.ngay_tao)>=gr)}else if(er==="30days"){const gr=new Date(fr-2592e6);dr=dr.filter(yr=>new Date(yr.ngay_tao)>=gr)}}else dr=dr.slice(-10);Hn(dr)}catch(cr){console.error("Error fetching data:",cr)}})()},[er,ir]);const ar={labels:tr.map(lr=>new Date(lr.ngay_tao).toLocaleString("vi-VN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})),datasets:[{label:"LONG (%)",data:tr.map(lr=>lr.sentiment_long),backgroundColor:"#4CAF50",borderRadius:4,datalabels:{display:!0,color:"#4CAF50",anchor:"end",align:"top",font:{weight:"bold",size:11},formatter:lr=>lr+"%"}},{label:"SHORT (%)",data:tr.map(lr=>lr.sentiment_short),backgroundColor:"#F44336",borderRadius:4,datalabels:{display:!1}}]},or={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff",font:{size:12}}},tooltip:{callbacks:{label:lr=>`${lr.dataset.label}: ${lr.parsed.y}%`},backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff"}},scales:{x:{grid:{display:!1},ticks:{color:"#999"}},y:{min:0,max:100,ticks:{color:"#999",callback:lr=>lr+"%"},grid:{color:"rgba(255, 255, 255, 0.1)"}}}};return jsxRuntimeExports.jsxs("div",{className:"ig-chart-container",children:[jsxRuntimeExports.jsxs("div",{className:"ig-chart-header",children:[jsxRuntimeExports.jsx("h3",{children:"Biu  Long / Short theo thi gian"}),jsxRuntimeExports.jsxs("div",{className:"time-range-buttons",children:[jsxRuntimeExports.jsx("button",{className:`time-btn ${er==="7days"?"active":""}`,onClick:()=>nr("7days"),children:"7 Ngy"}),jsxRuntimeExports.jsx("button",{className:`time-btn ${er==="30days"?"active":""}`,onClick:()=>nr("30days"),children:"30 Ngy"}),jsxRuntimeExports.jsx("button",{className:`time-btn ${er==="all"?"active":""}`,onClick:()=>nr("all"),children:"Tt c"}),jsxRuntimeExports.jsx("button",{className:"time-btn",onClick:()=>rr(lr=>!lr),children:ir?"Thu gn (10)":"Xem thm"})]})]}),jsxRuntimeExports.jsx("div",{className:"ig-chart-wrapper",children:tr.length>0?jsxRuntimeExports.jsx(Bar$1,{data:ar,options:or,plugins:[plugin]}):jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu"})})]})},IGInstrumentInfo=({info:tr=null})=>{const[Hn,er]=reactExports.useState(tr);return reactExports.useEffect(()=>{if(tr)return;(async()=>{try{const rr=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();console.log("API raw:",rr);const sr=or=>{const lr=or.filter(dr=>dr&&typeof dr=="object");if(lr.length===0)return null;const ur=lr.map(dr=>{const fr=dr.ngay_tao||dr.created_at||null,gr=fr?new Date(String(fr).replace(" ","T")).getTime():NaN;return{it:dr,ts:gr}}).filter(dr=>!Number.isNaN(dr.ts));if(ur.length>0)return ur.sort((dr,fr)=>fr.ts-dr.ts),ur[0].it;for(let dr=lr.length-1;dr>=0;dr--){const fr=lr[dr];if("min_size"in fr||"contract_size"in fr||"one_pip_means"in fr||"symbol"in fr||"gia_sell"in fr)return fr}return lr[lr.length-1]};let ar=null;rr&&Array.isArray(rr.ig_sentiment)&&rr.ig_sentiment.length>0?ar=sr(rr.ig_sentiment):Array.isArray(rr)&&rr.length>0?ar=sr(rr):rr&&typeof rr=="object"&&(ar=rr),ar?(console.log("Selected latest instrument (by date/fallback):",ar.ngay_tao,ar.id,ar),er(ar)):console.warn("No IG instrument info found in API response")}catch(ir){console.error("Fetch instrument info error:",ir)}})()},[tr]),Hn?jsxRuntimeExports.jsxs("div",{className:"instrument-card",children:[jsxRuntimeExports.jsxs("h3",{className:"instrument-title",children:[Hn.symbol," (Dealing)"]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Minimum size"}),jsxRuntimeExports.jsx("span",{children:Hn.min_size??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Contract size"}),jsxRuntimeExports.jsx("span",{children:Hn.contract_size??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"One Pip means"}),jsxRuntimeExports.jsx("span",{children:Hn.one_pip_means??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Value of one Pip"}),jsxRuntimeExports.jsx("span",{children:Hn.value_one_pip??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Margin"}),jsxRuntimeExports.jsx("span",{children:Hn.margin??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Minimum stop distance"}),jsxRuntimeExports.jsx("span",{children:Hn.min_stop_dist??""})]}),jsxRuntimeExports.jsxs("div",{className:"instrument-row",children:[jsxRuntimeExports.jsx("span",{children:"Minimum guaranteed stop distance"}),jsxRuntimeExports.jsx("span",{children:Hn.min_guaranteed_stop??""})]})]}):jsxRuntimeExports.jsx("div",{className:"instrument-card",children:"ang ti d liu..."})},IGMarginTable=({raw:tr})=>{if(!tr)return null;let Hn=[];try{Hn=typeof tr=="string"?JSON.parse(tr):tr}catch{try{Hn=JSON.parse(String(tr).replace(/'/g,'"'))}catch(nr){return console.warn("Failed to parse margin_full_table",nr),null}}return!Array.isArray(Hn)||Hn.length===0?null:jsxRuntimeExports.jsx("div",{className:"margin-card",children:jsxRuntimeExports.jsxs("div",{className:"margin-card-body",children:[jsxRuntimeExports.jsx("h4",{className:"margin-title",children:"Margin"}),jsxRuntimeExports.jsx("div",{className:"margin-table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"margin-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Tier"}),jsxRuntimeExports.jsx("th",{children:"Position size"}),jsxRuntimeExports.jsx("th",{children:"Margin"})]})}),jsxRuntimeExports.jsx("tbody",{children:Hn.map((er,nr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:er.tier??""}),jsxRuntimeExports.jsx("td",{children:er.position_size??""}),jsxRuntimeExports.jsx("td",{children:er.margin_rate??""})]},nr))})]})})]})})},IGInstrumentBlock=()=>{const[tr,Hn]=reactExports.useState(null);return reactExports.useEffect(()=>{const er=ir=>{const rr=ir.filter(or=>or&&typeof or=="object");if(rr.length===0)return null;const ar=rr.map(or=>{const lr=or.ngay_tao||or.created_at||null,cr=lr?new Date(String(lr).replace(" ","T")).getTime():NaN;return{it:or,ts:cr}}).filter(or=>!Number.isNaN(or.ts));if(ar.length>0)return ar.sort((or,lr)=>lr.ts-or.ts),ar[0].it;for(let or=rr.length-1;or>=0;or--){const lr=rr[or];if("min_size"in lr||"contract_size"in lr||"one_pip_means"in lr||"symbol"in lr||"gia_sell"in lr)return lr}return rr[rr.length-1]};(async()=>{try{const rr=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();let sr=null;rr&&Array.isArray(rr.ig_sentiment)&&rr.ig_sentiment.length>0?sr=er(rr.ig_sentiment):Array.isArray(rr)&&rr.length>0?sr=er(rr):rr&&typeof rr=="object"&&(sr=rr),sr&&Hn(sr)}catch(ir){console.error("Fetch instrument block error",ir)}})()},[]),tr?jsxRuntimeExports.jsxs("div",{className:"instrument-block",children:[jsxRuntimeExports.jsx("div",{className:"instrument-left",children:jsxRuntimeExports.jsx(IGInstrumentInfo,{info:tr})}),jsxRuntimeExports.jsx("div",{className:"instrument-right",children:jsxRuntimeExports.jsx(IGMarginTable,{raw:tr.margin_full_table})})]}):null},IGSentiment=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(0),[or,lr]=reactExports.useState(0);if(reactExports.useEffect(()=>{const Hr=async(ro=!1)=>{try{ro&&nr(!0);const io=await fetch("https://api_gold.thinkdiff.us/ig_sentiment");if(!io.ok)throw new Error(`API error: ${io.status}`);const fo=await io.json();fo.ig_sentiment?.length>0&&Hn(fo.ig_sentiment[0]),rr(null)}catch(io){rr(io.message||"Failed to fetch sentiment data")}finally{ro&&nr(!1)}};Hr(!0);const Yr=setInterval(()=>Hr(!1),3e4);return()=>clearInterval(Yr)},[]),reactExports.useEffect(()=>{if(!tr)return;const Hr=Number(tr.sentiment_long),Yr=Number(tr.sentiment_short);let ro;const io=600,fo=performance.now(),ao=sr,Jr=or,uo=oo=>{const co=Math.min((oo-fo)/io,1);ar(Math.round(ao+(Hr-ao)*co)),lr(Math.round(Jr+(Yr-Jr)*co)),co<1&&(ro=requestAnimationFrame(uo))};return ro=requestAnimationFrame(uo),()=>cancelAnimationFrame(ro)},[tr]),er)return jsxRuntimeExports.jsx("div",{className:"sentiment-container loading",children:"Loading sentiment data..."});if(ir)return jsxRuntimeExports.jsxs("div",{className:"sentiment-container error",children:["Error: ",ir]});if(!tr)return jsxRuntimeExports.jsx("div",{className:"sentiment-container",children:"No data available"});const{gia_sell:cr=0,gia_buy:ur=0,bien_dong_gia:dr=0,bien_dong_phantram:fr=0,gia_high:gr=0,gia_low:yr=0,sentiment_long:vr=0,sentiment_short:jr=0,ngay_tao:Sr=""}=tr,Tr=cr,Lr=ur,Mr=dr??0,Nr=fr??0,Or=gr??0,Fr=yr??0,Gr=Mr>=0?"#4CAF50":"#FF6B6B",qr=Mr>=0?"+":"";return jsxRuntimeExports.jsxs("div",{className:"sentiment-container",children:[jsxRuntimeExports.jsxs("div",{className:"sentiment-header",children:[jsxRuntimeExports.jsx("h2",{children:jsxRuntimeExports.jsx(Link,{to:"/ig-sentiment",className:"ig-title-link",title:"Xem trang IG Sentiment",children:"IG Sentiment (Silver)"})}),jsxRuntimeExports.jsxs("p",{className:"update-time",children:["Cp nht: ",Sr]})]}),jsxRuntimeExports.jsxs("div",{className:"price-section",children:[jsxRuntimeExports.jsxs("div",{className:"price-box sell",children:[jsxRuntimeExports.jsx("div",{className:"price-label",children:"Bn"}),jsxRuntimeExports.jsx("div",{className:"price-value",children:Tr.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]}),jsxRuntimeExports.jsxs("div",{className:"price-change",children:[jsxRuntimeExports.jsxs("div",{className:"change-value",style:{color:Gr},children:[qr,Mr.toFixed(1)," (",qr,Nr.toFixed(2),"%)"]}),jsxRuntimeExports.jsxs("div",{className:"high-low",children:[jsxRuntimeExports.jsxs("div",{className:"high1",children:["High: ",jsxRuntimeExports.jsx("span",{className:"num1",children:Or.toLocaleString("en-US",{maximumFractionDigits:1})})]}),jsxRuntimeExports.jsxs("div",{className:"low1",children:["Low: ",jsxRuntimeExports.jsx("span",{className:"num2",children:Fr.toLocaleString("en-US",{maximumFractionDigits:1})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"price-box buy",children:[jsxRuntimeExports.jsx("div",{className:"price-label",children:"Mua"}),jsxRuntimeExports.jsx("div",{className:"price-value",children:Lr.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]})]}),jsxRuntimeExports.jsxs("div",{className:"sentiment-bar-section",children:[jsxRuntimeExports.jsxs("div",{className:"sentiment-bar",children:[jsxRuntimeExports.jsx("div",{className:"sentiment-fill long",style:{width:`${sr}%`}}),jsxRuntimeExports.jsx("div",{className:"sentiment-fill short",style:{width:`${or}%`}})]}),jsxRuntimeExports.jsxs("div",{className:"sentiment-labels",children:[jsxRuntimeExports.jsxs("div",{className:"sentiment-item long",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Long"}),jsxRuntimeExports.jsxs("span",{className:"percent",children:[sr,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"sentiment-item short",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Short"}),jsxRuntimeExports.jsxs("span",{className:"percent",children:[or,"%"]})]})]})]}),jsxRuntimeExports.jsx(IGInstrumentBlock,{}),jsxRuntimeExports.jsx(IGPriceBarChart,{})]})};Chart$1.register(CategoryScale,LinearScale,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);const GiaSLVGLDPSLV=()=>{const[tr,Hn]=reactExports.useState({slv:null,gld:null,pslv:null}),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState(null),cr=async()=>{ar(!0),nr(null);try{const Or=await(await fetch("https://api_gold.thinkdiff.us/phantich_quy_vang_bac")).json();Hn({slv:Or.slv,gld:Or.gld,pslv:Or.PSLV});const Fr=Or.slv?.json_goc?.chart_section?.quote?.updated_at;Fr&&rr(ur(Fr))}catch(Nr){console.error(Nr),nr("Khng load c d liu")}finally{ar(!1)}};reactExports.useEffect(()=>{cr()},[]);const ur=Nr=>{if(!Nr)return null;const Or=typeof Nr=="number"?new Date(Nr<1e12?Nr*1e3:Nr):new Date(Nr),Fr=Gr=>String(Gr).padStart(2,"0");return`${Fr(Or.getHours())}:${Fr(Or.getMinutes())}:${Fr(Or.getSeconds())} ${Fr(Or.getDate())}/${Fr(Or.getMonth()+1)}/${Or.getFullYear()}`},dr=(Nr,Or)=>{if(!Nr||!Or)return Nr||"";let Fr=Nr;const Gr=Nr.match(/(\d{1,2}):(\d{2})?\s?(AM|PM)/i);if(Gr){let Yr=Number(Gr[1]);const ro=Gr[2]||"00";Yr===12&&(Yr=0),Fr=`${Yr.toString().padStart(2,"0")}:${ro}`}let qr;typeof Or=="number"?qr=new Date(Or<1e12?Or*1e3:Or):qr=new Date(Or);const Hr=qr.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"});return`${Fr} ${Hr}`},fr=Nr=>{const Or=Nr?.json_goc?.chart_section?.chart?.lines?.[1]?.segments?.flatMap(Yr=>Yr?.points??[]);if(!Array.isArray(Or))return{data:{labels:[],datasets:[]},options:{}};const Fr=Nr?.json_goc?.chart_section?.default_display?.secondary_value?.main?.color?.dark,Gr=gr(Fr),qr=Or.map(Yr=>dr(Yr?.cursor_data?.label?.value,ir)),Hr=Or.map(Yr=>Number(Yr?.cursor_data?.price_chart_data?.dollar_value?.amount));return{data:{labels:qr,datasets:[{label:"Gi ($)",data:Hr,borderColor:Gr,backgroundColor:Fr==="negative"?"rgba(211,47,47,0.15)":"rgba(46,125,50,0.15)",tension:.3,pointRadius:0,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{callbacks:{label:Yr=>`Gi: $${Yr.parsed.y}`}},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{ticks:{maxTicksLimit:6}},y:{beginAtZero:!1}}}}},gr=Nr=>{switch(Nr){case"negative":return"red";case"positive":return"green";case"fg":default:return"#333"}},yr=(Nr,Or)=>{if(!Nr)return Nr;let Fr=String(Nr);const Gr=Fr.match(/([-\d.,$]+)\s*\(([-\d.,%]+)\)/);let qr=Fr,Hr=null;return Gr&&(qr=Gr[1],Hr=Gr[2]),qr=qr.replace(/^[-+]/,""),Hr&&(Hr=Hr.replace(/^[-+]/,"")),Or==="negative"&&(qr=`-${qr}`,Hr&&(Hr=`-${Hr}`)),Or==="positive"&&(qr=`+${qr}`,Hr&&(Hr=`+${Hr}`)),Hr?`${qr} (${Hr})`:qr},vr=(Nr,Or)=>{const Fr=Or?.json_goc?.chart_section?.default_display?.primary_value?.value,Gr=Or?.json_goc?.chart_section?.default_display?.secondary_value?.main?.value,qr=Or?.json_goc?.chart_section?.default_display?.secondary_value?.main?.color?.dark,Hr=gr(qr),Yr=yr(Gr,qr);return jsxRuntimeExports.jsxs("div",{className:"box",onClick:()=>lr({title:Nr,item:Or}),style:{flex:1,border:"1px solid #ddd",borderRadius:8,padding:16,textAlign:"center",cursor:"pointer"},children:[jsxRuntimeExports.jsx("h2",{children:Nr}),Fr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"price-main",children:Fr}),Yr&&jsxRuntimeExports.jsx("div",{style:{color:Hr},children:Yr})]}):jsxRuntimeExports.jsx("p",{children:"ang load..."})]})},jr=or?.item?.json_goc?.chart_section?.default_display?.primary_value?.value,Sr=or?.item?.json_goc?.chart_section?.default_display?.secondary_value?.main?.value,Tr=or?.item?.json_goc?.chart_section?.default_display?.secondary_value?.main?.color?.dark,Lr=gr(Tr),Mr=yr(Sr,Tr);return jsxRuntimeExports.jsxs("div",{style:{padding:16},children:[jsxRuntimeExports.jsx("h1",{style:{textAlign:"center",padding:"8px 0"},children:"Gi SLV - GLD - PSLV"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[ir&&jsxRuntimeExports.jsxs("h3",{style:{margin:0},children:["Cp nht ln cui:",jsxRuntimeExports.jsxs("span",{style:{color:"#1976d2"},children:[" ",ir]})]}),jsxRuntimeExports.jsx("button",{className:"refresh-btn",onClick:cr,disabled:sr,children:sr?"ang ti...":"Lm mi"})]}),er&&jsxRuntimeExports.jsx("p",{style:{color:"red"},children:er}),or&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:()=>lr(null),children:jsxRuntimeExports.jsxs("div",{className:"price-modal-container",onClick:Nr=>Nr.stopPropagation(),style:{width:"80%",height:"70vh"},children:[jsxRuntimeExports.jsxs("div",{className:"price-modal-header",children:[jsxRuntimeExports.jsx("h2",{className:"price-modal-title",children:or.title}),jsxRuntimeExports.jsx("button",{className:"price-modal-close-btn",onClick:()=>lr(null),children:""})]}),jsxRuntimeExports.jsxs("p",{children:["Gi hin ti:",jsxRuntimeExports.jsxs("strong",{children:[" ",jr,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{style:{color:Lr,paddingLeft:"40px"},children:Mr})]})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:550},children:jsxRuntimeExports.jsx(Chart,{type:"line",data:fr(or.item).data,options:fr(or.item).options})})]})}),jsxRuntimeExports.jsxs("div",{className:"box-container",style:{display:"flex",gap:16,justifyContent:"center"},children:[vr("SLV",tr.slv),vr("GLD",tr.gld),vr("PSLV",tr.pslv)]})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const formatLabelDate=tr=>{if(!tr)return"-";const Hn=new Date(tr);return`${Hn.getDate()}/${Hn.getMonth()+1}`},MultiTimeframeGrowthChart=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState("day"),[sr,ar]=reactExports.useState(!1),[or,lr]=reactExports.useState("bar"),[cr,ur]=reactExports.useState("silver");if(reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/tinh_tile_phat_trien_tung_ngay_tuan_thang").then(Or=>Or.json()).then(Or=>{Or.status==="success"&&Hn(Or.tinh_tile_phat_trien_tung_ngay_tuan_thang),nr(!1)}).catch(()=>nr(!1))},[]),er)return jsxRuntimeExports.jsx("div",{className:"no-data-message",children:jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."})});if(!tr)return jsxRuntimeExports.jsx("div",{className:"no-data-message",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu."})});let dr=[],fr=[],gr="";ir==="day"?(dr=tr.data_vang_1ngay_trave,fr=tr.data_bac_1ngay_trave,gr="Bin ng theo NGY"):ir==="week"?(dr=tr.data_vang_7ngay_trave,fr=tr.data_bac_7ngay_trave,gr="Bin ng theo TUN"):(dr=tr.data_vang_1thang_trave,fr=tr.data_bac_1thang_trave,gr="Bin ng theo THNG");const yr=[...dr].sort((Or,Fr)=>new Date(Or.time_dautien)-new Date(Fr.time_dautien)),vr=[...fr].sort((Or,Fr)=>new Date(Or.time_dautien)-new Date(Fr.time_dautien)),jr=sr?yr.length:8,Sr=yr.slice(-jr),Tr=vr.slice(-jr),Lr={labels:Sr.map(Or=>formatLabelDate(Or.time_dautien)),datasets:[{label:"Vng (XAU/USD)",data:Sr.map(Or=>Or.ti_le_tang_truong),backgroundColor:"#f1c40f",borderRadius:4},{label:"Bc (XAG/USD)",data:Tr.map(Or=>Or.ti_le_tang_truong),backgroundColor:"#c0c0c0",borderRadius:4}]},Mr=cr==="gold"?Sr:Tr,Nr=[{name:cr==="gold"?"Vng":"Bc",data:Mr.map(Or=>{const Fr=Or.open??Or.ti_le_tang_truong,Gr=Or.high??Or.ti_le_tang_truong,qr=Or.low??Or.ti_le_tang_truong,Hr=Or.close??Or.ti_le_tang_truong;return{x:formatLabelDate(Or.time_dautien),y:[Fr,Gr,qr,Hr]}})}];return jsxRuntimeExports.jsxs("div",{className:"analysis-page",style:{padding:"20px",backgroundColor:"#0f172a",minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"10px"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#f1c40f",margin:0,fontSize:"18px"},children:" PHN TCH TNG TRNG"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"8px"},children:["day","week","month"].map(Or=>jsxRuntimeExports.jsx("button",{className:`view-toggle-btn ${ir===Or?"active":""}`,onClick:()=>rr(Or),children:Or==="day"?"Ngy":Or==="week"?"Tun":"Thng"},Or))})]}),jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:gr}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{className:`filter-btn ${sr?"active":""}`,onClick:()=>ar(!sr),children:sr?"Thu gn":"Xem thm tt c"}),jsxRuntimeExports.jsx("button",{className:"filter-btn",style:{backgroundColor:or==="candle"?"#f1c40f":"#334155",color:"#fff"},onClick:()=>lr(or==="bar"?"candle":"bar"),children:or==="bar"?" Nn":" Ct"}),or==="candle"&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[jsxRuntimeExports.jsx("button",{className:`filter-btn ${cr==="gold"?"active":""}`,onClick:()=>ur("gold"),children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`filter-btn ${cr==="silver"?"active":""}`,onClick:()=>ur("silver"),children:"Bc"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"chart-wrapper",style:{height:"400px"},children:or==="bar"?jsxRuntimeExports.jsx(Bar$1,{data:Lr,plugins:[{id:"chartValueLabel",afterDraw:Or=>{const{ctx:Fr}=Or;Fr.font="bold 10px Arial",Fr.textAlign="center",Or.data.datasets.forEach((Gr,qr)=>{Or.getDatasetMeta(qr).data.forEach((Yr,ro)=>{const io=Gr.data[ro];io!==void 0&&(Fr.fillStyle=io>=0?"#2ecc71":"#e74c3c",Fr.fillText(`${io.toFixed(2)}%`,Yr.x,Yr.y+(io>=0?-6:12)))})})}}],options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#fff",usePointStyle:!0}},tooltip:{enabled:!0}},scales:{x:{ticks:{color:"#94a3b8",font:{size:10}},grid:{display:!1}},y:{ticks:{color:"#94a3b8"},grid:{color:"rgba(148, 163, 184, 0.1)"},beginAtZero:!0}}}}):jsxRuntimeExports.jsx(h$2,{options:{chart:{type:"candlestick",toolbar:{show:!1}},theme:{mode:"dark"},xaxis:{labels:{style:{colors:"#94a3b8"}}},yaxis:{labels:{style:{colors:"#94a3b8"},formatter:Or=>Or.toFixed(2)}},plotOptions:{candlestick:{colors:{upward:"#2ecc71",downward:"#e74c3c"},wick:{useFillColor:!0}}},tooltip:{theme:"dark",custom:function({seriesIndex:Or,dataPointIndex:Fr,w:Gr}){const qr=Mr[Fr],Hr=qr?.ti_le_tang_truong??0;return`
                                            <div style="padding:10px">
                                                <div style="font-weight:bold; color: #ffd700">
                                                    Time: ${new Date(qr.time_dautien).toLocaleDateString("vi-VN")}
                                                </div>
                                                <div style="font-weight:bold;">Open: ${qr.open.toFixed(2)}</div>
                                                <div style="font-weight:bold;">High: ${qr.high.toFixed(2)}</div>
                                                <div style="font-weight:bold;">Low: ${qr.low.toFixed(2)}</div>
                                                <div style="font-weight:bold;">Close: ${qr.close.toFixed(2)}</div>
                                                <div style="
                                                    margin-top:6px;
                                                    font-weight:bold;
                                                    color:${Hr>=0?"#2ecc71":"#e74c3c"}
                                                ">
                                                    T l tng trng: ${Hr.toFixed(2)}%
                                                </div>
                                            </div>
                                        `}}},series:Nr,type:"candlestick",height:"100%"})})]})]})},PredictionGauge=()=>{const tr=useNavigate(),[Hn,er]=reactExports.useState(null),[nr,ir]=reactExports.useState(null),[rr,sr]=reactExports.useState(!0),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState(!1),[fr,gr]=reactExports.useState(null),[yr,vr]=reactExports.useState(null),jr=reactExports.useRef(new Audio("/con_du_dia_tang.mp3")),Sr=reactExports.useRef(0),Tr=async()=>{try{sr(!0);const Mr=await(await fetch("https://api_gold.thinkdiff.us/du_doan_gia_vang_gia_bac_trongngay")).json(),Nr=Mr.timestamp;gr(Nr);const Or=(Mr.predicted_gold_price-Mr.actual_gold_price)/Mr.actual_gold_price*100,Fr=(Mr.predicted_silver_price-Mr.actual_silver_price)/Mr.actual_silver_price*100,Gr=Math.min(Math.abs(Or)/5*100,100),qr=Math.min(Math.abs(Fr)/10*100,100);er({change:Or,percentage:Gr,predicted:Mr.predicted_gold_price,actual:Mr.actual_gold_price,etfChange:Mr.gold_etf_change_pct,color:Or>=0?"#00d084":"#ff4444"}),ir({change:Fr,percentage:qr,predicted:Mr.predicted_silver_price,actual:Mr.actual_silver_price,etfChange:Mr.silver_etf_change_pct,color:Fr>=0?"#00d084":"#ff4444"});const Hr=Date.now(),Yr=new Date(Nr).getTime(),ro=Hr-Yr,io=14400*1e3,fo=300*1e3;if(ro<io){const ao=Math.abs(Or)>2,Jr=Math.abs(Fr)>2;if((ao||Jr)&&Hr-Sr.current>=fo){let uo=[];if(ao){const oo=Or>0?"MUA VO":"BN RA",co=Or>0?"gim di mc d kin":"tng vt mc d kin";uo.push(`Vng: Gi ${co} (${Math.abs(Or).toFixed(2)}%)  Hy ${oo}`)}if(Jr){const oo=Fr>0?"MUA VO":"BN RA",co=Fr>0?"gim di mc d kin":"tng vt mc d kin";uo.push(`Bc: Gi ${co} (${Math.abs(Fr).toFixed(2)}%)  Hy ${oo}`)}vr({title:"TN HIU GIAO DCH QUAN TRNG",message:uo.join("  "),type:ao&&Or>0||Jr&&Fr>0?"up":"down"}),jr.current.play().catch(()=>{}),Sr.current=Hr,setTimeout(()=>vr(null),1e4)}}or(null)}catch(Lr){console.error("Error fetching prediction data:",Lr),or("Khng th ti d liu d on")}finally{sr(!1)}};return reactExports.useEffect(()=>{Tr();const Lr=setInterval(Tr,300*1e3);return()=>clearInterval(Lr)},[]),rr?jsxRuntimeExports.jsx("div",{className:"prediction-container",children:"ang ti d liu..."}):ar?jsxRuntimeExports.jsx("div",{className:"prediction-container error",children:ar}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{children:`
                .prediction-noti {
                    position: fixed;
                    top: 10px;
                    right: 10px;
                    padding: 6px 14px;
                    border-radius: 4px;
                    color: white;
                    font-family: sans-serif;
                    z-index: 9999;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.5);
                    animation: slideIn 0.3s ease-out;
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    cursor: pointer;
                    background: #1a1a1a;
                    border: 1px solid rgba(255,255,255,0.1);
                    max-width: 450px;
                }

                .noti-up { border-left: 4px solid #10b981; }
                .noti-down { border-left: 4px solid #ef4444; }

                .noti-content {
                    display: flex;
                    flex-direction: column;
                    pointer-events: none;
                }

                .noti-title {
                    font-size: 10px;
                    font-weight: 800;
                    letter-spacing: 0.5px;
                    color: #ffd700;
                    margin-bottom: 2px;
                }

                .noti-message {
                    font-size: 12px;
                    font-weight: 600;
                    line-height: 1.4;
                    color: #fff;
                }

                .noti-close {
                    font-size: 14px;
                    margin-left: auto;
                    opacity: 0.5;
                    padding: 5px;
                }

                .noti-close:hover { opacity: 1; }

                @keyframes slideIn {
                    from { transform: translateX(110%); }
                    to { transform: translateX(0); }
                }

                @media (max-width: 480px) {
                    .prediction-noti { right: 5px; left: 5px; max-width: unset; top: 5px; }
                }
            `}),yr&&jsxRuntimeExports.jsxs("div",{className:`prediction-noti ${yr.type==="up"?"noti-up":"noti-down"}`,onClick:()=>{tr("/du-doan"),vr(null)},children:[jsxRuntimeExports.jsxs("div",{className:"noti-content",children:[jsxRuntimeExports.jsx("div",{className:"noti-title",children:yr.title}),jsxRuntimeExports.jsx("div",{className:"noti-message",children:yr.message})]}),jsxRuntimeExports.jsx("div",{className:"noti-close",onClick:Lr=>{Lr.stopPropagation(),vr(null)},children:""})]}),jsxRuntimeExports.jsxs("div",{className:"prediction-container",children:[jsxRuntimeExports.jsxs("div",{className:"header-row",style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"prediction-title",style:{margin:0},children:[" D ON GI BC V VNG TRONG ",jsxRuntimeExports.jsx("span",{className:"highlight-time",children:"4 GI TI"})]}),fr&&jsxRuntimeExports.jsxs("p",{className:"prediction-updated",style:{margin:"6px 0 0 0"},children:["Cp nht: ",new Date(fr).toLocaleString("vi-VN")]})]}),jsxRuntimeExports.jsx("div",{className:"controls",style:{display:"flex",gap:"10px"},children:jsxRuntimeExports.jsx("button",{onClick:Tr,style:{padding:"6px 14px",cursor:"pointer",borderRadius:"6px",backgroundColor:"#ef4444",color:"#fff",border:"none"},children:rr?"...":"Lm mi"})})]}),jsxRuntimeExports.jsxs("div",{className:"prediction-grid",children:[Hn&&jsxRuntimeExports.jsxs("div",{className:"prediction-item",children:[jsxRuntimeExports.jsx("h3",{children:"D on Vng (XAU/USD)"}),jsxRuntimeExports.jsxs("div",{className:"prediction-info",children:[jsxRuntimeExports.jsxs("p",{className:"actual",children:["Gi hin thi: $",Hn.actual.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"prediction",children:["D on: $",Hn.predicted.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:`etf-flow ${Hn.etfChange>=0?"positive":"negative"}`,children:["Gold ETF Flow: ",Hn.etfChange>=0?"+":"-",Math.abs(Hn.etfChange).toFixed(2),"%"]}),jsxRuntimeExports.jsxs("p",{className:`forecast-change ${Hn.change>=0?"positive":"negative"}`,children:[Hn.change>=0?"Gi d on ang cao hn gi hin thi: ":"Gi d on ang thp hn gi hin thi: ",Hn.change>=0?"+":"-",Math.abs(Hn.change).toFixed(2),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"gauge-wrapper custom-gauge",children:[jsxRuntimeExports.jsx("div",{className:"gauge-hover-area",onMouseEnter:()=>cr(!0),onMouseLeave:()=>cr(!1),children:jsxRuntimeExports.jsx(GaugeChart,{value:Number(Hn.percentage.toFixed(1)),size:"medium",showLabel:!1,colors:[Hn.color]})}),jsxRuntimeExports.jsx("div",{className:"gauge-center-text",children:lr?`${Hn.percentage.toFixed(1)}%`:`$${Hn.predicted.toFixed(2)}`})]})]}),nr&&jsxRuntimeExports.jsxs("div",{className:"prediction-item",children:[jsxRuntimeExports.jsx("h3",{children:"D on Bc (XAG/USD)"}),jsxRuntimeExports.jsxs("div",{className:"prediction-info",children:[jsxRuntimeExports.jsxs("p",{className:"actual",children:["Gi hin thi: $",nr.actual.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"prediction",children:["D on: $",nr.predicted.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:`etf-flow ${nr.etfChange>=0?"positive":"negative"}`,children:["Silver ETF Flow: ",nr.etfChange>=0?"+":"-",Math.abs(nr.etfChange).toFixed(2),"%"]}),jsxRuntimeExports.jsxs("p",{className:`forecast-change ${nr.change>=0?"positive":"negative"}`,children:[nr.change>=0?"Gi d on ang cao hn gi hin thi: ":"Gi d on ang thp hn gi hin thi: ",nr.change>=0?"+":"-",Math.abs(nr.change).toFixed(2),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"gauge-wrapper custom-gauge",children:[jsxRuntimeExports.jsx("div",{className:"gauge-hover-area",onMouseEnter:()=>dr(!0),onMouseLeave:()=>dr(!1),children:jsxRuntimeExports.jsx(GaugeChart,{value:Number(nr.percentage.toFixed(1)),size:"medium",showLabel:!1,colors:[nr.color]})}),jsxRuntimeExports.jsx("div",{className:"gauge-center-text",children:ur?`${nr.percentage.toFixed(1)}%`:`$${nr.predicted.toFixed(2)}`})]})]})]})]})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index,plugin$1);const PredictionChart=()=>{const[tr,Hn]=reactExports.useState("silver"),[er,nr]=reactExports.useState({labels:[],datasets:[]}),[ir,rr]=reactExports.useState({high:0,low:0,current:0,latestPredictionTime:null,latestTargetDate:null}),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState(!0),[cr,ur]=reactExports.useState({gold:[],silver:[]}),dr=reactExports.useRef(null),fr=vr=>{try{const jr=new Date(vr);return format$1(jr,"dd/MM")}catch{return vr}},gr=vr=>{try{if(!vr)return"N/A";const jr=new Date(vr);return format$1(jr,"dd/MM/yyyy HH:mm:ss")}catch{return vr||"N/A"}};reactExports.useEffect(()=>{(async()=>{try{lr(!0);const Sr=(await axios.get("https://api_gold.thinkdiff.us/get_all_predict_30day")).data;ur({gold:Sr.list_data_pro_gold||[],silver:Sr.list_data_pro_silver||[]}),lr(!1)}catch(jr){console.error("Error fetching prediction data:",jr),lr(!1)}})()},[]),reactExports.useEffect(()=>{const vr=tr==="gold"?cr.gold:cr.silver;if(!vr||vr.length===0){nr({labels:[],datasets:[]});return}const jr=[...vr].sort((Jr,uo)=>new Date(Jr.target_date)-new Date(uo.target_date)),Sr={};jr.forEach(Jr=>{const uo=Jr.target_date.split(" ")[0];Sr[uo]||(Sr[uo]={rawDate:Jr.target_date,predictions:[]}),Sr[uo].predictions.push({price:Jr.price,time_make_ai_predict:Jr.time_make_ai_predict})});const Tr=Object.entries(Sr).sort((Jr,uo)=>new Date(Jr[0])-new Date(uo[0])),Lr=Tr.map(([Jr,uo])=>fr(uo.rawDate)),Mr=Tr.map(([Jr,uo])=>uo.predictions.reduce((oo,co)=>new Date(co.time_make_ai_predict)>new Date(oo.time_make_ai_predict)?co:oo).price),Or=Tr[Tr.length-1][1],Fr=Or.predictions.reduce((Jr,uo)=>new Date(uo.time_make_ai_predict)>new Date(Jr.time_make_ai_predict)?uo:Jr),Gr=Math.min(...Mr);rr({high:Fr.price,low:Gr,current:Mr[Mr.length-1],latestPredictionTime:Fr.time_make_ai_predict,latestTargetDate:Or.rawDate});const qr=Tr.map(([Jr,uo])=>{const oo=uo.predictions.reduce((co,no)=>new Date(no.time_make_ai_predict)>new Date(co.time_make_ai_predict)?no:co);return{date:Jr,price:oo.price,time_make_ai_predict:oo.time_make_ai_predict,displayDate:fr(uo.rawDate)}});ar(qr);const Hr=dr.current?.canvas;let Yr=null;const ro=tr==="gold",io=ro?"#FFD700":"#C0C0C0",fo=ro?"rgba(255, 215, 0, 0.3)":"rgba(192, 192, 192, 0.3)",ao=ro?"rgba(255, 215, 0, 0.0)":"rgba(192, 192, 192, 0.0)";Hr&&(Yr=Hr.getContext("2d").createLinearGradient(0,0,0,400),Yr.addColorStop(0,fo),Yr.addColorStop(1,ao)),nr({labels:Lr,datasets:[{type:"line",label:"D on",data:Mr,borderColor:io,backgroundColor:Yr||(ro?"rgba(255, 215, 0, 0.1)":"rgba(192, 192, 192, 0.1)"),borderWidth:3,borderDash:[5,5],pointRadius:4,pointHoverRadius:8,fill:!0,tension:.4}]})},[tr,cr]),reactExports.useEffect(()=>{const vr=setTimeout(()=>{dr.current?.resetZoom()},0);return()=>clearTimeout(vr)},[er]);const yr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{color:"#9ca3af",font:{size:12},usePointStyle:!0}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#e0e7ff",bodyColor:"#cbd5e1",borderColor:"rgba(249, 115, 22, 0.3)",borderWidth:1,callbacks:{label:vr=>{const jr=vr.parsed.y;return`${vr.dataset.label}: ${jr.toFixed(2)} USD`}}},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy"},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af",maxTicksLimit:10}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af"},position:"right",beginAtZero:!1}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return jsxRuntimeExports.jsxs("div",{className:"prediction-container",children:[jsxRuntimeExports.jsx(Link,{to:"/du-doan-30-ngay",children:jsxRuntimeExports.jsxs("div",{className:"prediction-header",children:[jsxRuntimeExports.jsx("h2",{children:"D on Gi Vng & Bc 30 Ngy"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"D on xu hng gi trong 30 ngy tip theo (Dng nt t)"})]})}),jsxRuntimeExports.jsxs("div",{className:"prediction-tab-navigation",children:[jsxRuntimeExports.jsxs("button",{className:`tab-button ${tr==="gold"?"active":""}`,onClick:()=>Hn("gold"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon",children:""})," Vng (Gold)"]}),jsxRuntimeExports.jsxs("button",{className:`tab-button ${tr==="silver"?"active":""}`,onClick:()=>Hn("silver"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon",children:""})," Bc (Silver)"]})]}),jsxRuntimeExports.jsxs("div",{className:"prediction-layout",children:[jsxRuntimeExports.jsx("div",{className:"prediction-left-column",children:jsxRuntimeExports.jsxs("div",{className:"prediction-summary",children:[jsxRuntimeExports.jsx("h3",{style:{color:"#e0e7ff",fontSize:"16px",fontWeight:"600",marginBottom:"12px",marginTop:0},children:" Danh sch cc d on sp ti"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxHeight:"600px",overflowY:"auto",paddingRight:"8px"},children:sr.length>0?sr.map((vr,jr)=>{const Sr=tr==="gold"?"#FFD700":"#C0C0C0",Tr=tr==="gold"?"rgba(255, 215, 0, 0.2)":"rgba(192, 192, 192, 0.2)";return jsxRuntimeExports.jsx("div",{style:{padding:"12px",background:"rgba(15, 23, 42, 0.4)",borderRadius:"8px",border:`1px solid ${Tr}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{color:"#9ca3af",fontSize:"13px",fontWeight:"500"},children:vr.displayDate}),jsxRuntimeExports.jsxs("div",{style:{color:Sr,fontSize:"15px",fontWeight:"600",marginTop:"4px"},children:[vr.price.toFixed(2)," USD"]}),jsxRuntimeExports.jsxs("div",{style:{color:"#ffd700",fontSize:"15px",marginTop:"4px"},children:["Ngy d on: ",gr(vr.time_make_ai_predict)]})]})},jr)}):jsxRuntimeExports.jsx("div",{style:{color:"#9ca3af",fontSize:"14px",textAlign:"center",padding:"20px"},children:"Khng c d liu"})})]})}),jsxRuntimeExports.jsxs("div",{className:"prediction-right-column",children:[jsxRuntimeExports.jsxs("h3",{style:{color:"#e0e7ff",fontSize:"18px",marginBottom:"10px"},children:["Biu  D on ",tr==="gold"?"Vng":"Bc",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{fontSize:"10px",color:"lightcoral"},children:"Ln chut  zoom, ko  di chuyn"})]}),jsxRuntimeExports.jsx("div",{className:"prediction-chart-wrapper",style:{minHeight:"500px"},children:or?jsxRuntimeExports.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx("div",{children:"ang ti d liu d on..."})}):er.datasets&&er.datasets.length>0?jsxRuntimeExports.jsx(Chart,{ref:dr,type:"line",data:er,options:yr}):jsxRuntimeExports.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu d on"})})})]})]})]})},getChartSlug=tr=>{switch(tr){case"FX_IDC:XAUUSD":return"chart/gold";case"FX_IDC:XAGUSD":return"chart/silver";case"OANDA:XAUXAG":return"chart/xau_xag";case"TICKMILL:DXY":return"chart/dxy";default:return""}},SYMBOL_MAP={gold:"FX_IDC:XAUUSD",xau_xag:"OANDA:XAUXAG",silver:"FX_IDC:XAGUSD",dxy:"TICKMILL:DXY"},VolumeDualChartModal=({isOpen:tr,onClose:Hn,dataXauVolume:er,dataXagVolume:nr,avgVolumeXau:ir,avgVolumeXag:rr,volumeZoomState:sr,handleVolumeZoom:ar,modalRef:or,hasMoreData:lr,loadNextPages:cr,isLoadingMore:ur,loadAllPages:dr,resetToInitialPages:fr,sliderPage:gr,accumulatedXauRawRef:yr,pageSize:vr,handleVolumeSliderChange:jr})=>!tr||!er?null:jsxRuntimeExports.jsxs("div",{className:"fullscreen-modal",ref:or,children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h3",{className:"modal-title",children:"Biu  so snh XAU/XAG"}),jsxRuntimeExports.jsx("button",{className:"modal-close-btn",onClick:Hn,children:""})]}),jsxRuntimeExports.jsx("div",{className:"dual-chart-container",style:{width:"100%",display:"flex",flexDirection:"row",gap:"20px"},children:jsxRuntimeExports.jsxs("div",{style:{width:"100%"},children:[jsxRuntimeExports.jsx("h1",{children:"Biu  Phn Tch Volume Giao Dch XAU (Vng) v XAG (Bc)"}),jsxRuntimeExports.jsx(VolumeXauXagChart,{dataXau:er,dataXag:nr,externalZoom:sr,onZoom:ar,enableZoom:!0}),jsxRuntimeExports.jsxs("div",{style:{margin:"20px 0",display:"none"},children:[jsxRuntimeExports.jsxs("label",{children:["S trang hin th: ",jsxRuntimeExports.jsx("b",{children:gr})]}),jsxRuntimeExports.jsx("input",{type:"range",min:1,max:Math.max(1,Math.ceil(yr.current.length/vr)),step:1,value:gr,onChange:jr,style:{width:"100%"}})]}),lr&&jsxRuntimeExports.jsxs("div",{className:"pagination-actions",children:[jsxRuntimeExports.jsx("button",{className:"action-button",onClick:cr,disabled:ur,children:ur?"ang ti...":"Tip"}),jsxRuntimeExports.jsx("button",{className:"action-button",onClick:dr,disabled:ur,children:ur?"ang ti...":"Tt c"})]}),jsxRuntimeExports.jsx("button",{className:"action-button single",onClick:fr,disabled:ur,children:"Hin ti"}),jsxRuntimeExports.jsx(VolumeComparisonChart,{dataXau:er,dataXag:nr,avgVolumeXau:ir,avgVolumeXag:rr,externalZoom:sr,onZoom:ar,enableZoom:!0}),jsxRuntimeExports.jsx(GrowthChart,{}),jsxRuntimeExports.jsx(XAGVolumeOnlyChart,{data:nr})]})})]}),MultiChartViewer=({symbol:tr,showPopUpCompare:Hn=!1})=>{const[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),sr=reactExports.useRef(0),ar=reactExports.useRef(null),[or,lr]=reactExports.useState(Hn),cr=reactExports.useRef(null),ur=useNavigate(),[dr,fr]=reactExports.useState(null),[gr,yr]=reactExports.useState(null),[vr,jr]=reactExports.useState(0),[Sr,Tr]=reactExports.useState(0),[Lr,Mr]=reactExports.useState(1),[Nr,Or]=reactExports.useState(!0),[Fr,Gr]=reactExports.useState(0),[qr,Hr]=reactExports.useState(!1),[Yr,ro]=reactExports.useState(!1),[io,fo]=reactExports.useState(0),[ao,Jr]=reactExports.useState(null),uo=reactExports.useRef([]),oo=reactExports.useRef([]),[co,no]=reactExports.useState({min:null,max:null}),[mo,Eo]=reactExports.useState(!1),[bo,Po]=reactExports.useState(!1),wo=100,To=3,[Fo,Co]=reactExports.useState({visible:!1,x:0,y:0}),Go=["FX_IDC:XAUUSD","OANDA:XAUXAG","FX_IDC:XAGUSD","TICKMILL:DXY"],el=reactExports.useCallback(Ol=>{Jr(Ol)},[]);reactExports.useEffect(()=>{tr&&(nr(SYMBOL_MAP[tr]),document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`)},[tr]),reactExports.useEffect(()=>{Hn&&(sr.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`,lr(!0))},[Hn]),reactExports.useEffect(()=>{let Ol=!1;return(async()=>{try{Or(!0);const oc=await fetchXauXagVolumeData(1),vc=await fetchXauXagVolumeData(2),Ic=await fetchXauXagVolumeData(3);if(Ol)return;uo.current=[...oc.volumeXauRaw||[],...vc.volumeXauRaw||[],...Ic.volumeXauRaw||[]],oo.current=[...oc.volumeXagRaw||[],...vc.volumeXagRaw||[],...Ic.volumeXagRaw||[]];const Yc=oc?.totalPages||0;fo(Yc),Gr(3),Hr(Yc>3),console.log("la page ",oc),jr(oc.volume_trungbinh.xau||0),Tr(oc.volume_trungbinh.xag||0);const Rc=[...uo.current.map(fl=>fl.timestamp),...oo.current.map(fl=>fl.timestamp)],El=Math.min(...Rc),Kl=Math.max(...Rc);no({min:El,max:Kl});const ec=uo.current.slice(0,To*wo),Fc=oo.current.slice(0,To*wo);yr(formatCandlestickForApex(ec)),fr(formatCandlestickForApex(Fc));const Hl=[...uo.current].sort((fl,$l)=>$l.timestamp-fl.timestamp),al=Math.max(0,Hl.length-30),sl=Hl[al]?.timestamp||El;setTimeout(()=>Jr({min:sl,max:Kl}),300)}catch(oc){console.error("Error fetching volume data:",oc),Ol||(yr([]),fr([]),jr(0),Tr(0))}finally{Ol||Or(!1)}})(),()=>{Ol=!0}},[]);const Lo=async()=>{if(Yr||!qr)return;const Ol=Fr+1,dc=Math.min(Fr+3,io);ro(!0);try{await fetchXauXagVolumeDataMultiplePages(Ol,dc,(oc,vc)=>{uo.current=[...uo.current,...vc.volumeXauRaw],oo.current=[...oo.current,...vc.volumeXagRaw];const Ic=Array.from(new Map(uo.current.map(Rc=>[Rc.timestamp,Rc])).values()),Yc=Array.from(new Map(oo.current.map(Rc=>[Rc.timestamp,Rc])).values());yr(formatCandlestickForApex(Ic)),fr(formatCandlestickForApex(Yc)),Gr(oc),Hr(oc<io)})}catch(oc){console.error("Error loading more pages:",oc)}finally{ro(!1)}},Uo=async()=>{if(!(Yr||!qr)){ro(!0);try{await fetchXauXagVolumeDataMultiplePages(Fr+1,io,(Ol,dc)=>{uo.current=[...uo.current,...dc.volumeXauRaw],oo.current=[...oo.current,...dc.volumeXagRaw];const oc=Array.from(new Map(uo.current.map(Ic=>[Ic.timestamp,Ic])).values()),vc=Array.from(new Map(oo.current.map(Ic=>[Ic.timestamp,Ic])).values());yr(formatCandlestickForApex(oc)),fr(formatCandlestickForApex(vc)),Gr(Ol),Hr(!1)})}catch(Ol){console.error("Error loading all pages:",Ol)}finally{ro(!1)}}},$o=reactExports.useCallback(async()=>{try{ro(!0);const Ol=await fetchXauXagVolumeData(1),dc=await fetchXauXagVolumeData(2),oc=await fetchXauXagVolumeData(3);uo.current=[...Ol.volumeXauRaw||[],...dc.volumeXauRaw||[],...oc.volumeXauRaw||[]],oo.current=[...Ol.volumeXagRaw||[],...dc.volumeXagRaw||[],...oc.volumeXagRaw||[]];const vc=[...uo.current.map(Kl=>Kl.timestamp),...oo.current.map(Kl=>Kl.timestamp)],Ic=Math.min(...vc),Yc=Math.max(...vc);yr(formatCandlestickForApex(uo.current)),fr(formatCandlestickForApex(oo.current)),Gr(3),Hr(io>3),no({min:Ic,max:Yc});const Rc=uo.current.slice().sort((Kl,ec)=>ec.timestamp-Kl.timestamp),El=Rc[Math.max(0,Rc.length-30)]?.timestamp||Ic;Jr({min:El,max:Yc})}catch(Ol){console.error("Error resetting to initial pages:",Ol)}finally{ro(!1)}},[io]),il=Ol=>{const dc=parseInt(Ol.target.value,10);Mr(dc);const vc=(dc-1)*wo+wo,Ic=uo.current.slice(0,vc),Yc=oo.current.slice(0,vc);yr(formatCandlestickForApex(Ic)),fr(formatCandlestickForApex(Yc));const Rc=[...Ic.map(ec=>ec.timestamp),...Yc.map(ec=>ec.timestamp)],El=Math.min(...Rc),Kl=Math.max(...Rc);Jr({min:El,max:Kl})},pl=reactExports.useCallback(Ol=>Co({visible:!0,x:Ol.clientX,y:Ol.clientY-15}),[]),ml=reactExports.useCallback(()=>Co(Ol=>({...Ol,visible:!1})),[]),Wl=reactExports.useCallback(()=>{nr(null),window.location.hash="#/vietnam/gold",requestAnimationFrame(()=>{document.body.style.overflow="",document.body.style.paddingRight="",setTimeout(()=>{window.scrollTo({top:sr.current,behavior:"auto"})},20)})},[]),Xl=reactExports.useCallback(Ol=>{sr.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`;const dc=getChartSlug(Ol);window.location.hash=`#/${dc}`,nr(Ol)},[]),ac=reactExports.useCallback(()=>{sr.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`,lr(!0),ur("/so-sanh-XAU-XAG")},[]),Tl=reactExports.useCallback(()=>{lr(!1),requestAnimationFrame(()=>{document.body.style.overflow="",document.body.style.paddingRight="",setTimeout(()=>{window.scrollTo({top:sr.current,behavior:"auto"})},20)}),ur("/")},[]);return reactExports.useEffect(()=>{const Ol=dc=>{ar.current&&!ar.current.contains(dc.target)&&Wl()};return er&&document.addEventListener("mousedown",Ol),()=>document.removeEventListener("mousedown",Ol)},[er,Wl]),reactExports.useEffect(()=>{const Ol=dc=>{cr.current&&!cr.current.contains(dc.target)&&Tl()};return or&&document.addEventListener("mousedown",Ol),()=>document.removeEventListener("mousedown",Ol)},[or,Tl]),reactExports.useEffect(()=>{const Ol=dc=>{dc.key==="Escape"&&(er?Wl():or&&Tl())};return(er||or)&&document.addEventListener("keydown",Ol),()=>document.removeEventListener("keydown",Ol)},[er,or,Wl,Tl]),reactExports.useEffect(()=>()=>{document.body.style.overflow=""},[]),reactExports.useEffect(()=>{(async()=>{try{const vc=(await(await fetch("https://api_gold.thinkdiff.us/phantich_xau_xag_fomo_rsi")).json()).data||{};rr(vc)}catch(dc){console.error("Li fetch phn tch:",dc),rr(null)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"multi-chart-viewer",children:[!Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"viewer-header",children:[jsxRuntimeExports.jsx("h2",{className:"viewer-title",children:" BIU  PHN TCH K THUT"}),jsxRuntimeExports.jsx("p",{className:"viewer-subtitle",children:"Click vo biu  mini  xem chi tit hoc m biu  Volume  phn tch ng b XAU/XAG."})]}),jsxRuntimeExports.jsx("div",{className:"chart-grid",children:Go.map(Ol=>jsxRuntimeExports.jsx(MiniTradingViewChart,{symbol:Ol,onClick:Xl},Ol))})]}),jsxRuntimeExports.jsx(GiaSLVGLDPSLV,{}),jsxRuntimeExports.jsx(TradingDashboardBollingerBand,{}),jsxRuntimeExports.jsx(PredictionChart,{}),jsxRuntimeExports.jsx(PredictionGauge,{}),gr&&jsxRuntimeExports.jsxs("div",{onClick:ac,className:`dual-chart-container ${or?"hidden":""}`,style:{width:"100%",display:"flex",flexDirection:"column",gap:"0px",marginTop:"40px",cursor:"pointer"},children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",marginTop:"20px"},onClick:Ol=>Ol.stopPropagation()}),jsxRuntimeExports.jsx("div",{style:{width:"100%",marginTop:"30px"},onClick:Ol=>Ol.stopPropagation(),children:jsxRuntimeExports.jsx(MyRsiChart,{})})]}),jsxRuntimeExports.jsx(MultiTimeframeGrowthChart,{}),jsxRuntimeExports.jsx(VolumeDualChartModal,{isOpen:or,onClose:Tl,dataXauVolume:gr,dataXagVolume:dr,volumeZoomState:ao,handleVolumeZoom:el,modalRef:cr,hasMoreData:qr,isLoadingMore:Yr,loadNextPages:Lo,loadAllPages:Uo,resetToInitialPages:$o,avgVolumeXau:vr,avgVolumeXag:Sr,sliderPage:Lr,accumulatedXauRawRef:oo,pageSize:wo,handleVolumeSliderChange:il}),er&&jsxRuntimeExports.jsxs("div",{className:"fullscreen-modal",ref:ar,children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h3",{className:"modal-title",children:getSymbolName(er)}),jsxRuntimeExports.jsx("button",{className:"modal-close-btn",onClick:Wl,children:""})]}),jsxRuntimeExports.jsx("div",{className:"modal-content",style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx(FullScreenChart,{symbol:er})})]}),ir&&jsxRuntimeExports.jsx("div",{className:"contain-bar-chart-xau-xag",children:jsxRuntimeExports.jsxs("div",{className:"div-first",children:[jsxRuntimeExports.jsxs("div",{className:"contain-two-chart",children:[jsxRuntimeExports.jsx(GrowBarChart,{p1:ir.chiso_xau_xag_ancarat,p2:ir.chiso_xau_xag_kim_ngan_phuc,p3:ir.chiso_xau_xag_nguyen_lieu,p4:ir.chiso_xau_xag_phuquy,p5:ir.chiso_xau_xag_quocte,p6:ir.chiso_xau_xag_SACOMBANK}),jsxRuntimeExports.jsxs("div",{className:"distance-title chart-container",onMouseMove:pl,onMouseLeave:ml,style:{marginRight:"20px"},children:[jsxRuntimeExports.jsx("h2",{children:"Ch s FOMO ca vng trong nc"}),jsxRuntimeExports.jsx(GaugeChart,{value:(ir.chiso_fomo_vang_trong_nuoc*10).toFixed(1),size:"large",showLabel:!1,colors:["#ffffff"]})]}),jsxRuntimeExports.jsxs("div",{className:"distance-title chart-container",style:{marginRight:"20px"},children:[jsxRuntimeExports.jsx("h2",{children:"Ch s FOMO ca bc trong nc"}),jsxRuntimeExports.jsx(GaugeChart,{value:(ir.gia_chenh_lech_nguyenlieu_bac/1e5).toFixed(1),size:"large",showLabel:!1,colors:["#ffffff"]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[jsxRuntimeExports.jsx("div",{className:"contain-linexagxau",children:jsxRuntimeExports.jsx(LineXauXagChart,{})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TableData,{dataAnalysis:{"Bc 1 lng nhn t gi":ir.gia_bac_1_luong_nhan_ty_gia/1e6,"Bc 1kg nhn t gi":ir.gia_bac_1kg_nhan_ty_gia/1e6,"Chnh lch: bc":ir.gia_chenh_lech_nguyenlieu_bac/1e6,"Chnh lch: vng":ir.gia_chenh_lech_vang_nguyen_lieu/1e6,"Vng kitco USD":ir.gia_vang_kitco_usd,"Vng nhn t gi":ir.gia_vang_nhan_ty_gia/1e6,"Vng nguyn liu":ir.gia_vang_nguyenlieu/1e6,"Bc nguyn liu 1 lng":ir.gia_bac_nguyenlieu_1_luong/1e6,"Bc nguyn liu 1kg":ir.gia_bac_nguyenlieu_1_kg/1e6,"Silver kitco usd":ir.gia_silver_kitco_usd,"T gi USD":ir.ty_gia_usd}})})]}),jsxRuntimeExports.jsx("div",{style:{justifyItems:"center",marginTop:"10px"},children:[ir.loi_khuyen_mua_ban_xau_xag_quoc_te,ir.loi_khuyen_chenh_bac_nguyen_lieu_trong_nuoc,ir.loi_khuyen_chenh_nguyen_lieu_trong_nuoc].map((Ol,dc)=>jsxRuntimeExports.jsx("span",{style:{display:"block"},dangerouslySetInnerHTML:{__html:highlightNum(Ol)}},dc))})]})}),Fo.visible&&jsxRuntimeExports.jsx(TooltipPortal,{x:Fo.x,y:Fo.y})]})},highlightNum=tr=>tr.replace(/(\d+(\.\d+)?)/,'<span style="color:red;font-weight:bold;">$1</span>');function EconomicCalendar(){return jsxRuntimeExports.jsxs("div",{style:{height:"700px",backgroundColor:"#fff",margin:"16px",borderRadius:"8px",padding:"15px",boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("h1",{className:"economic-calendar-title-",style:{color:"#000",textAlign:"center"},children:"Lch Kinh T"}),jsxRuntimeExports.jsx("div",{style:{width:"full",height:"90%",padding:"20px"},children:jsxRuntimeExports.jsx("iframe",{title:"Economic Calendar",src:"https://sslecal2.investing.com/?columns=exc_flags,exc_currency,exc_importance,exc_actual,exc_forecast,exc_previous&importance=2,3&features=datepicker,timeselector,filters&countries=4,6,5,72,43,35,12,25&calType=day&timeZone=27&lang=52",width:"100%",height:"100%",style:{border:"none",overflow:"hidden",boxSizing:"border-box"},loading:"lazy"})})]})}function _extends(){return _extends=Object.assign?Object.assign.bind():function(tr){for(var Hn=1;Hn<arguments.length;Hn++){var er=arguments[Hn];for(var nr in er)Object.prototype.hasOwnProperty.call(er,nr)&&(tr[nr]=er[nr])}return tr},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(tr,Hn){if(tr==null)return{};var er={},nr=Object.keys(tr),ir,rr;for(rr=0;rr<nr.length;rr++)ir=nr[rr],!(Hn.indexOf(ir)>=0)&&(er[ir]=tr[ir]);return er}var _excluded=["cdnSuffix","cdnUrl","countryCode","style","svg"],DEFAULT_CDN_URL="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/",DEFAULT_CDN_SUFFIX="svg",OFFSET=127397,ReactCountryFlag=function tr(Hn){var er=Hn.cdnSuffix,nr=er===void 0?DEFAULT_CDN_SUFFIX:er,ir=Hn.cdnUrl,rr=ir===void 0?DEFAULT_CDN_URL:ir,sr=Hn.countryCode,ar=Hn.style,or=Hn.svg,lr=or===void 0?!1:or,cr=_objectWithoutPropertiesLoose(Hn,_excluded);if(typeof sr!="string")return null;if(lr){var ur=""+rr+sr.toLowerCase()+"."+nr;return reactExports.createElement("img",Object.assign({},cr,{src:ur,style:_extends({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},ar)}))}var dr=sr.toUpperCase().replace(/./g,function(fr){return String.fromCodePoint(fr.charCodeAt(0)+OFFSET)});return reactExports.createElement("span",Object.assign({role:"img"},cr,{style:_extends({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},ar)}),dr)};const formatCurrency$1=tr=>tr==null?"N/A":new Intl.NumberFormat("vi-VN").format(tr),getCurrencyName=tr=>({USD:" LA M",USD_TUDO:"USD T DO",EUR:"EURO",GBP:"BNG ANH",JPY:"YN NHT",AUD:" LA C",CAD:" LA CANADA",CHF:"FRANC THY S",HKD:" LA HNG KNG",SGD:" LA SINGAPORE",THB:"BT THI LAN",KRW:"WON HN QUC",CNY:"NHN DN T",INR:"RUPEE N ",MYR:"RINGGIT MALAYSIA",NOK:"KRONE NA UY",SEK:"KRONA THY IN",DKK:"KRONE AN MCH",RUB:"RUBLE NGA",KWD:"DINAR KUWAIT"})[tr]||tr,getCurrencyCountryCode=tr=>({USD:"US",USD_TUDO:"US",EUR:"EU",GBP:"GB",JPY:"JP",AUD:"AU",CAD:"CA",CHF:"CH",HKD:"HK",SGD:"SG",THB:"TH",KRW:"KR",CNY:"CN",INR:"IN",MYR:"MY",NOK:"NO",SEK:"SE",DKK:"DK",RUB:"RU",KWD:"KW"})[tr]||"XX",getCurrencyFlag=(tr,Hn=24)=>{const er=getCurrencyCountryCode(tr);return tr==="EUR"?jsxRuntimeExports.jsx("span",{style:{fontSize:`${Hn}px`},children:""}):jsxRuntimeExports.jsx(ReactCountryFlag,{countryCode:er,svg:!0,style:{width:`${Hn}px`,height:`${Hn}px`},title:getCurrencyName(tr)})},filterDataByDateRange=(tr,Hn)=>{if(!tr||typeof tr!="object")return{};const er=new Date,nr=new Date(er);nr.setDate(er.getDate()-Hn);const ir={};return Object.keys(tr).sort().forEach(rr=>{const sr=new Date(rr);sr>=nr&&sr<=er&&(ir[rr]=tr[rr])}),ir},formatDateForUrl=tr=>{if(!tr)return"";const[Hn,er,nr]=tr.split("-");return`${nr}-${er}-${Hn}`},parseDateFromUrl=tr=>{if(!tr)return"";const[Hn,er,nr]=tr.split("-");return`${nr}-${er}-${Hn}`},getRecentDates=(tr,Hn=7)=>!tr||typeof tr!="object"?[]:Object.keys(tr).sort().reverse().slice(0,Hn);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index);const USDHistoryChart=({data:tr})=>{const[Hn,er]=reactExports.useState({}),[nr,ir]=reactExports.useState({}),[rr,sr]=reactExports.useState("ALL"),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState({title:"",price:null,change:null,percent:null}),{minYear:ur,maxYear:dr,availableYears:fr}=reactExports.useMemo(()=>{if(!tr||typeof tr!="object"||Object.keys(tr).length===0)return{minYear:null,maxYear:null,availableYears:[]};const Mr=Object.keys(tr).sort();if(Mr.length===0)return{minYear:null,maxYear:null,availableYears:[]};const Nr=Mr.map(qr=>{const[Hr]=qr.split("-").map(Number);return Hr}),Or=[...new Set(Nr)].sort((qr,Hr)=>qr-Hr),Fr=Or[0],Gr=Or[Or.length-1];return{minYear:Fr,maxYear:Gr,availableYears:Or}},[tr]);reactExports.useEffect(()=>{if(tr&&typeof tr=="object"&&Object.keys(tr).length>0){er(tr);const Mr=Object.keys(tr).sort();if(Mr.length>0){const Nr=Mr[Mr.length-1],Or=tr[Nr]?.USD_TUDO?.sell,Fr=Mr[0],Gr=tr[Fr]?.USD_TUDO?.sell;let qr={title:"",price:null,change:null,percent:null};if(Or!=null){const[Hr,Yr,ro]=Nr.split("-");if(qr.title=`Gi hin ti (${ro}/${Yr}/${Hr})`,qr.price=Or,Gr!=null&&Gr!==0){const io=Or-Gr,fo=(io/Gr*100).toFixed(1);qr.change=io,qr.percent=fo}}ir(tr),cr(qr),sr("ALL")}}},[tr]);const gr=Mr=>{if(!Hn||Object.keys(Hn).length===0)return;let Nr={},Or={title:"",price:null,change:null,percent:null};const Fr=Object.keys(Hn).sort();if(Mr==="ALL"){if(Nr={...Hn},Fr.length>0){const Gr=Fr[Fr.length-1],qr=Hn[Gr]?.USD_TUDO?.sell,Hr=Fr[0],Yr=Hn[Hr]?.USD_TUDO?.sell;if(qr!=null){const[ro,io,fo]=Gr.split("-");if(Or.title=`Gi hin ti (${fo}/${io}/${ro})`,Or.price=qr,Yr!=null&&Yr!==0){const ao=qr-Yr,Jr=(ao/Yr*100).toFixed(1);Or.change=ao,Or.percent=Jr}}}}else if(Mr==="1W"){const Gr=Fr[Fr.length-1],[qr,Hr,Yr]=Gr.split("-").map(Number),ro=new Date(qr,Hr-1,Yr),io=new Date(ro);if(io.setDate(ro.getDate()-7),Fr.forEach(fo=>{const[ao,Jr,uo]=fo.split("-").map(Number),oo=new Date(ao,Jr-1,uo);oo>=io&&oo<=ro&&(Nr[fo]=Hn[fo])}),Fr.length>0){const fo=Fr[Fr.length-1],ao=Hn[fo]?.USD_TUDO?.sell,uo=Object.keys(Nr).sort()[0],oo=Hn[uo]?.USD_TUDO?.sell;if(ao!=null){const[co,no,mo]=fo.split("-");if(Or.title=`Gi hin ti (${mo}/${no}/${co})`,Or.price=ao,oo!=null&&oo!==0){const Eo=ao-oo,bo=(Eo/oo*100).toFixed(1);Or.change=Eo,Or.percent=bo}}}}else if(Mr==="1M"){const Gr=Fr[Fr.length-1],[qr,Hr,Yr]=Gr.split("-").map(Number),ro=new Date(qr,Hr-1,Yr),io=new Date(ro);if(io.setDate(ro.getDate()-30),Fr.forEach(fo=>{const[ao,Jr,uo]=fo.split("-").map(Number),oo=new Date(ao,Jr-1,uo);oo>=io&&oo<=ro&&(Nr[fo]=Hn[fo])}),Fr.length>0){const fo=Fr[Fr.length-1],ao=Hn[fo]?.USD_TUDO?.sell,uo=Object.keys(Nr).sort()[0],oo=Hn[uo]?.USD_TUDO?.sell;if(ao!=null){const[co,no,mo]=fo.split("-");if(Or.title=`Gi hin ti (${mo}/${no}/${co})`,Or.price=ao,oo!=null&&oo!==0){const Eo=ao-oo,bo=(Eo/oo*100).toFixed(1);Or.change=Eo,Or.percent=bo}}}}else if(typeof Mr=="number"||typeof Mr=="string"&&/^\d{4}$/.test(Mr)){const Gr=typeof Mr=="number"?Mr:parseInt(Mr,10),qr=new Date(Gr,0,1),Hr=new Date(Gr,11,31);Fr.forEach(ro=>{const[io,fo,ao]=ro.split("-").map(Number),Jr=new Date(io,fo-1,ao);Jr>=qr&&Jr<=Hr&&(Nr[ro]=Hn[ro])});const Yr=Object.keys(Nr).sort();if(Yr.length>0){const ro=Yr[Yr.length-1],io=Hn[ro]?.USD_TUDO?.sell,fo=Yr[0],ao=Hn[fo]?.USD_TUDO?.sell;if(io!=null&&(Or.title=`Gi cui nm ${Gr}`,Or.price=io,ao!=null&&ao!==0)){const Jr=io-ao,uo=(Jr/ao*100).toFixed(1);Or.change=Jr,Or.percent=uo}}}ir(Nr),cr(Or)},yr=Mr=>{const Nr=parseInt(Mr.target.value,10);or(Nr),sr(Nr),Hn&&Object.keys(Hn).length>0&&gr(Nr)},vr=Mr=>{or(null),sr(Mr),Hn&&Object.keys(Hn).length>0&&gr(Mr)},jr=reactExports.useMemo(()=>ar!==null?ar:typeof rr=="number"?rr:typeof rr=="string"&&/^\d{4}$/.test(rr)?parseInt(rr,10):dr||new Date().getFullYear(),[ar,rr,dr]),Sr=reactExports.useMemo(()=>rr==="ALL"?"Tt c":rr==="1W"||rr==="1M"?rr==="1W"?"1 tun":"1 thng":ar!==null?ar.toString():typeof rr=="number"?rr.toString():typeof rr=="string"&&/^\d{4}$/.test(rr)?rr:"Tt c",[ar,rr]),Tr=reactExports.useMemo(()=>{if(!nr||Object.keys(nr).length===0)return null;const Mr=Object.keys(nr).sort();let Nr=[];typeof rr=="number"||typeof rr=="string"&&/^\d{4}$/.test(rr)?Nr=Mr.map(Fr=>{const[,Gr]=Fr.split("-");return["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"][parseInt(Gr,10)-1]||Gr}):Nr=Mr.map(Fr=>{const[Gr]=Fr.split("-");return Gr});const Or=Mr.map(Fr=>{const Gr=nr[Fr]?.USD_TUDO;return Gr?.sell!==null&&Gr?.sell!==void 0?Gr.sell:null});return{labels:Nr,datasets:[{label:"Gi Bn USD T Do",data:Or,borderColor:"#22c55e",backgroundColor:Fr=>{const qr=Fr.chart.ctx.createLinearGradient(0,0,0,300);return qr.addColorStop(0,"rgba(34, 197, 94, 0.3)"),qr.addColorStop(1,"rgba(34, 197, 94, 0)"),qr},borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:5,pointBackgroundColor:"#22c55e",pointBorderColor:"#1E293B",pointBorderWidth:2}]}},[nr,rr]),Lr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!0,callbacks:{title:Mr=>{const Nr=Mr[0].dataIndex,Fr=Object.keys(nr).sort()[Nr],[Gr,qr,Hr]=Fr.split("-");return`Ngy: ${Hr}/${qr}/${Gr}`},label:Mr=>{const Nr=Mr.parsed.y;return Nr===null?"N/A":`Gi bn: ${formatCurrency$1(Nr)} VN`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",callback:Mr=>formatCurrency$1(Mr)}}},interaction:{intersect:!1,mode:"index"}};return Tr?jsxRuntimeExports.jsxs("div",{className:"usd-history-chart-card",children:[jsxRuntimeExports.jsx("div",{className:"usd-chart-header",children:jsxRuntimeExports.jsxs("div",{className:"usd-chart-title-section",children:[jsxRuntimeExports.jsx("h3",{className:"usd-chart-title",children:lr.title||"Gi USD T Do"}),lr.price!==null&&jsxRuntimeExports.jsxs("div",{className:"usd-chart-price",children:[jsxRuntimeExports.jsx("span",{className:"usd-price-value",children:formatCurrency$1(lr.price)}),lr.percent!==null&&jsxRuntimeExports.jsxs("span",{className:`usd-price-change ${lr.change>=0?"up":"down"}`,children:[lr.change>=0?"":""," ",Math.abs(lr.percent),"%",typeof rr=="number"||typeof rr=="string"&&/^\d{4}$/.test(rr)?`(trong nm ${rr})`:""]})]})]})}),jsxRuntimeExports.jsx("div",{className:"usd-chart-container",children:jsxRuntimeExports.jsx(Line,{data:Tr,options:Lr})}),jsxRuntimeExports.jsxs("div",{className:"usd-controls",children:[jsxRuntimeExports.jsxs("div",{className:"usd-year-slider-container",children:[jsxRuntimeExports.jsxs("label",{className:"usd-slider-label",children:["Chn nm: ",Sr]}),jsxRuntimeExports.jsx("input",{type:"range",min:ur||2e3,max:dr||new Date().getFullYear(),value:jr,onChange:yr,className:"usd-year-slider",disabled:rr==="1W"||rr==="1M"}),jsxRuntimeExports.jsxs("div",{className:"usd-slider-years",children:[jsxRuntimeExports.jsx("span",{children:ur||2e3}),jsxRuntimeExports.jsx("span",{children:dr||new Date().getFullYear()})]})]}),jsxRuntimeExports.jsx("div",{className:"usd-time-filter",children:["1W","1M","Tt C"].map(Mr=>jsxRuntimeExports.jsx("button",{className:`usd-filter-btn ${rr===Mr?"active":""}`,onClick:()=>vr(Mr==="Tt C"?"ALL":Mr),children:Mr},Mr))})]})]}):jsxRuntimeExports.jsxs("div",{className:"usd-history-chart-card",children:[jsxRuntimeExports.jsx("div",{className:"usd-chart-header",children:jsxRuntimeExports.jsx("div",{className:"usd-chart-title-section",children:jsxRuntimeExports.jsx("h3",{className:"usd-chart-title",children:"ang ti d liu..."})})}),jsxRuntimeExports.jsx("div",{className:"usd-chart-container",children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"2rem"},children:"ang ti d liu..."})})]})},convertToApiGoldUrl=tr=>{if(!tr||tr.includes("api_gold.thinkdiff.us"))return tr;if(tr.includes("thinkdiff.us")){const Hn=tr.match(/thinkdiff\.us\/(.+)$/);if(Hn)return`https://api_gold.thinkdiff.us/${Hn[1].replace(/^vang247_xyz\//,"view_full_data_json/")}`}return tr},getLatestFileUrl=async(tr,Hn,er)=>{try{const nr=await fetchVang247FileList(tr,Hn,er);if(!nr||nr.length===0)return null;const rr=[...nr].sort((sr,ar)=>{const or=sr.modified_time||0;return(ar.modified_time||0)-or})[0]?.link;return rr?convertToApiGoldUrl(rr):null}catch(nr){return console.error("Error getting latest file URL:",nr),null}},fetchBlackMarketExchangeRates=async()=>{try{const tr=new Date,Hn=String(tr.getDate()).padStart(2,"0"),er=String(tr.getMonth()+1).padStart(2,"0"),nr=String(tr.getFullYear());let ir=await getLatestFileUrl(Hn,er,nr);if(!ir){const sr=new Date(tr);sr.setDate(sr.getDate()-1);const ar=String(sr.getDate()).padStart(2,"0"),or=String(sr.getMonth()+1).padStart(2,"0"),lr=String(sr.getFullYear());ir=await getLatestFileUrl(ar,or,lr)}if(!ir)return console.warn("Khng tm thy d liu t gi ch en"),null;console.log("fileUrl: ",ir);const rr=await fetchVang247SingleFile(ir);return!rr||!rr.data||!rr.data.chogia_vn||!rr.data.chogia_vn.data?(console.warn("Cu trc d liu khng ng:",rr),null):rr.data.chogia_vn.data}catch(tr){return console.error("Error fetching black market exchange rates:",tr),null}},API_ENDPOINT$2="https://api_gold.thinkdiff.us/lich_su_tygia_dola",fetchExchangeRateHistory=async()=>{try{const tr=await fetch(API_ENDPOINT$2);if(!tr.ok)throw new Error(`HTTP error! status: ${tr.status}`);return await tr.json()}catch(tr){throw console.error("Error fetching exchange rate history:",tr),tr}},processApiData=tr=>{if(!tr||!tr.data||!Array.isArray(tr.data)||tr.data.length<3)return console.error("Invalid API data structure"),{};const Hn=tr.data[2]?.data;if(!Hn||!Array.isArray(Hn))return console.error("Invalid main data structure"),{};const er={};return Hn.forEach(nr=>{if(!nr.date)return;const ir=nr.date.split(" ")[0];er[ir]||(er[ir]={}),Object.keys(nr).forEach(rr=>{if(!(rr==="date"||rr==="id"))try{const sr=typeof nr[rr]=="string"?JSON.parse(nr[rr]):nr[rr];sr&&(sr.buy!==void 0||sr.sell!==void 0)&&(er[ir][rr]={buy:sr.buy,sell:sr.sell})}catch(sr){console.warn(`Failed to parse currency data for ${rr}:`,sr)}})}),er},getExchangeRateByDate=(tr,Hn)=>!tr||!Hn?null:tr[Hn]||null,getLatestDateWithData=tr=>!tr||Object.keys(tr).length===0?null:Object.keys(tr).sort().reverse()[0]||null,calculatePriceChange=(tr,Hn)=>{if(!tr||!Hn)return{buyChange:null,sellChange:null,buyPercent:null,sellPercent:null};const er=tr.buy!==null&&Hn.buy!==null?tr.buy-Hn.buy:null,nr=tr.sell!==null&&Hn.sell!==null?tr.sell-Hn.sell:null,ir=er!==null&&Hn.buy!==null&&Hn.buy!==0?(er/Hn.buy*100).toFixed(2):null,rr=nr!==null&&Hn.sell!==null&&Hn.sell!==0?(nr/Hn.sell*100).toFixed(2):null;return{buyChange:er,sellChange:nr,buyPercent:ir,sellPercent:rr}},getPreviousDate=tr=>{const Hn=new Date(tr);return Hn.setDate(Hn.getDate()-1),Hn.toISOString().split("T")[0]},useExchangeRate=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState({}),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null);reactExports.useEffect(()=>{let ur=!1;return(async()=>{try{rr(!0),ar(null);const fr=await fetchExchangeRateHistory();if(ur)return;const gr=processApiData(fr);Hn(fr),nr(gr)}catch(fr){ur||(console.error("Error loading exchange rate data:",fr),ar("Khng th ti d liu t gi. Vui lng th li sau."))}finally{ur||rr(!1)}})(),()=>{ur=!0}},[]);const or=reactExports.useMemo(()=>ur=>getExchangeRateByDate(er,ur),[er]),lr=reactExports.useMemo(()=>()=>getLatestDateWithData(er),[er]),cr=reactExports.useMemo(()=>ur=>{const dr=getPreviousDate(ur);return getExchangeRateByDate(er,dr)},[er]);return{processedData:er,loading:ir,error:sr,getRateByDate:or,getLatestDate:lr,getPreviousRate:cr}},BlackMarketExchangeRateSection=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),{processedData:sr}=useExchangeRate();return reactExports.useEffect(()=>{(async()=>{try{nr(!0),rr(null);const or=await fetchBlackMarketExchangeRates();or?Hn(or):rr("Khng tm thy d liu t gi")}catch(or){console.error("Error loading black market exchange rates:",or),rr("Khng th ti d liu t gi")}finally{nr(!1)}})()},[]),jsxRuntimeExports.jsx("div",{className:"black-market-exchange-rate-section",children:jsxRuntimeExports.jsx("div",{className:"black-market-section-grid",children:jsxRuntimeExports.jsx("div",{className:"black-market-chart-column",children:jsxRuntimeExports.jsx(USDHistoryChart,{data:sr})})})})};function FaChartLine(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"},child:[]}]})(tr)}function FaRegComment(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"},child:[]}]})(tr)}var lodash$1={exports:{}};var lodash=lodash$1.exports,hasRequiredLodash;function requireLodash(){return hasRequiredLodash||(hasRequiredLodash=1,(function(tr,Hn){(function(){var er,nr="4.17.21",ir=200,rr="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",sr="Expected a function",ar="Invalid `variable` option passed into `_.template`",or="__lodash_hash_undefined__",lr=500,cr="__lodash_placeholder__",ur=1,dr=2,fr=4,gr=1,yr=2,vr=1,jr=2,Sr=4,Tr=8,Lr=16,Mr=32,Nr=64,Or=128,Fr=256,Gr=512,qr=30,Hr="...",Yr=800,ro=16,io=1,fo=2,ao=3,Jr=1/0,uo=9007199254740991,oo=17976931348623157e292,co=NaN,no=4294967295,mo=no-1,Eo=no>>>1,bo=[["ary",Or],["bind",vr],["bindKey",jr],["curry",Tr],["curryRight",Lr],["flip",Gr],["partial",Mr],["partialRight",Nr],["rearg",Fr]],Po="[object Arguments]",wo="[object Array]",To="[object AsyncFunction]",Fo="[object Boolean]",Co="[object Date]",Go="[object DOMException]",el="[object Error]",Lo="[object Function]",Uo="[object GeneratorFunction]",$o="[object Map]",il="[object Number]",pl="[object Null]",ml="[object Object]",Wl="[object Promise]",Xl="[object Proxy]",ac="[object RegExp]",Tl="[object Set]",Ol="[object String]",dc="[object Symbol]",oc="[object Undefined]",vc="[object WeakMap]",Ic="[object WeakSet]",Yc="[object ArrayBuffer]",Rc="[object DataView]",El="[object Float32Array]",Kl="[object Float64Array]",ec="[object Int8Array]",Fc="[object Int16Array]",Hl="[object Int32Array]",al="[object Uint8Array]",sl="[object Uint8ClampedArray]",fl="[object Uint16Array]",$l="[object Uint32Array]",Nl=/\b__p \+= '';/g,tc=/\b(__p \+=) '' \+/g,uc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Kc=/&(?:amp|lt|gt|quot|#39);/g,bc=/[&<>"']/g,Cc=RegExp(Kc.source),vu=RegExp(bc.source),Zc=/<%-([\s\S]+?)%>/g,fc=/<%([\s\S]+?)%>/g,Bc=/<%=([\s\S]+?)%>/g,nc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ul=/^\w*$/,ah=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ol=/[\\^$.*+?()[\]{}|]/g,bl=RegExp(ol.source),Bl=/^\s+/,Pl=/\s/,Dl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bu=/\{\n\/\* \[wrapped with (.+)\] \*/,oh=/,? & /,ku=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mc=/[()=,{}\[\]\/\s]/,eu=/\\(\\)?/g,Qc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cc=/\w*$/,hu=/^[-+]0x[0-9a-f]+$/i,du=/^0b[01]+$/i,Gc=/^\[object .+?Constructor\]$/,Iu=/^0o[0-7]+$/i,qh=/^(?:0|[1-9]\d*)$/,Bh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zh=/($^)/,zc=/['\n\r\u2028\u2029\\]/g,Hu="\\ud800-\\udfff",tu="\\u0300-\\u036f",Hh="\\ufe20-\\ufe2f",cd="\\u20d0-\\u20ff",fh=tu+Hh+cd,Nh="\\u2700-\\u27bf",bh="a-z\\xdf-\\xf6\\xf8-\\xff",Ed="\\xac\\xb1\\xd7\\xf7",_u="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bf="\\u2000-\\u206f",Lc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vc="A-Z\\xc0-\\xd6\\xd8-\\xde",Th="\\ufe0e\\ufe0f",ph=Ed+_u+Bf+Lc,Sd="[']",fp="["+Hu+"]",_c="["+ph+"]",wu="["+fh+"]",Wh="\\d+",um="["+Nh+"]",Eu="["+bh+"]",zf="[^"+Hu+ph+Wh+Nh+bh+Vc+"]",Jd="\\ud83c[\\udffb-\\udfff]",ud="(?:"+wu+"|"+Jd+")",Au="[^"+Hu+"]",Ro="(?:\\ud83c[\\udde6-\\uddff]){2}",No="[\\ud800-\\udbff][\\udc00-\\udfff]",Bo="["+Vc+"]",ul="\\u200d",Al="(?:"+Eu+"|"+zf+")",Vl="(?:"+Bo+"|"+zf+")",wc="(?:"+Sd+"(?:d|ll|m|re|s|t|ve))?",Ku="(?:"+Sd+"(?:D|LL|M|RE|S|T|VE))?",mh=ud+"?",Zu="["+Th+"]?",Qu="(?:"+ul+"(?:"+[Au,Ro,No].join("|")+")"+Zu+mh+")*",Hf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vf=Zu+mh+Qu,Ec="(?:"+[um,Ro,No].join("|")+")"+vf,ef="(?:"+[Au+wu+"?",wu,Ro,No,fp].join("|")+")",Du=RegExp(Sd,"g"),Um=RegExp(wu,"g"),Wf=RegExp(Jd+"(?="+Jd+")|"+ef+vf,"g"),hd=RegExp([Bo+"?"+Eu+"+"+wc+"(?="+[_c,Bo,"$"].join("|")+")",Vl+"+"+Ku+"(?="+[_c,Bo+Al,"$"].join("|")+")",Bo+"?"+Al+"+"+wc,Bo+"+"+Ku,Vm,Hf,Wh,Ec].join("|"),"g"),hm=RegExp("["+ul+Hu+fh+Th+"]"),_h=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tf=-1,jc={};jc[El]=jc[Kl]=jc[ec]=jc[Fc]=jc[Hl]=jc[al]=jc[sl]=jc[fl]=jc[$l]=!0,jc[Po]=jc[wo]=jc[Yc]=jc[Fo]=jc[Rc]=jc[Co]=jc[el]=jc[Lo]=jc[$o]=jc[il]=jc[ml]=jc[ac]=jc[Tl]=jc[Ol]=jc[vc]=!1;var nu={};nu[Po]=nu[wo]=nu[Yc]=nu[Rc]=nu[Fo]=nu[Co]=nu[El]=nu[Kl]=nu[ec]=nu[Fc]=nu[Hl]=nu[$o]=nu[il]=nu[ml]=nu[ac]=nu[Tl]=nu[Ol]=nu[dc]=nu[al]=nu[sl]=nu[fl]=nu[$l]=!0,nu[el]=nu[Lo]=nu[vc]=!1;var dm={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},fm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ny={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_f=parseFloat,pm=parseInt,Id=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Nc=typeof self=="object"&&self&&self.Object===Object&&self,gh=Id||Nc||Function("return this")(),Zh=Hn&&!Hn.nodeType&&Hn,Qh=Zh&&!0&&tr&&!tr.nodeType&&tr,mm=Qh&&Qh.exports===Zh,Ym=mm&&Id.process,gu=(function(){try{var Jo=Qh&&Qh.require&&Qh.require("util").types;return Jo||Ym&&Ym.binding&&Ym.binding("util")}catch{}})(),nf=gu&&gu.isArrayBuffer,kg=gu&&gu.isDate,Ag=gu&&gu.isMap,ux=gu&&gu.isRegExp,pp=gu&&gu.isSet,iy=gu&&gu.isTypedArray;function Wu(Jo,_l,dl){switch(dl.length){case 0:return Jo.call(_l);case 1:return Jo.call(_l,dl[0]);case 2:return Jo.call(_l,dl[0],dl[1]);case 3:return Jo.call(_l,dl[0],dl[1],dl[2])}return Jo.apply(_l,dl)}function ry(Jo,_l,dl,Yl){for(var mc=-1,kc=Jo==null?0:Jo.length;++mc<kc;){var Ju=Jo[mc];_l(Yl,Ju,dl(Ju),Jo)}return Yl}function wh(Jo,_l){for(var dl=-1,Yl=Jo==null?0:Jo.length;++dl<Yl&&_l(Jo[dl],dl,Jo)!==!1;);return Jo}function Gf(Jo,_l){for(var dl=Jo==null?0:Jo.length;dl--&&_l(Jo[dl],dl,Jo)!==!1;);return Jo}function hx(Jo,_l){for(var dl=-1,Yl=Jo==null?0:Jo.length;++dl<Yl;)if(!_l(Jo[dl],dl,Jo))return!1;return!0}function jd(Jo,_l){for(var dl=-1,Yl=Jo==null?0:Jo.length,mc=0,kc=[];++dl<Yl;){var Ju=Jo[dl];_l(Ju,dl,Jo)&&(kc[mc++]=Ju)}return kc}function Bp(Jo,_l){var dl=Jo==null?0:Jo.length;return!!dl&&ym(Jo,_l,0)>-1}function gm(Jo,_l,dl){for(var Yl=-1,mc=Jo==null?0:Jo.length;++Yl<mc;)if(dl(_l,Jo[Yl]))return!0;return!1}function Fu(Jo,_l){for(var dl=-1,Yl=Jo==null?0:Jo.length,mc=Array(Yl);++dl<Yl;)mc[dl]=_l(Jo[dl],dl,Jo);return mc}function wf(Jo,_l){for(var dl=-1,Yl=_l.length,mc=Jo.length;++dl<Yl;)Jo[mc+dl]=_l[dl];return Jo}function Xm(Jo,_l,dl,Yl){var mc=-1,kc=Jo==null?0:Jo.length;for(Yl&&kc&&(dl=Jo[++mc]);++mc<kc;)dl=_l(dl,Jo[mc],mc,Jo);return dl}function sy(Jo,_l,dl,Yl){var mc=Jo==null?0:Jo.length;for(Yl&&mc&&(dl=Jo[--mc]);mc--;)dl=_l(dl,Jo[mc],mc,Jo);return dl}function xm(Jo,_l){for(var dl=-1,Yl=Jo==null?0:Jo.length;++dl<Yl;)if(_l(Jo[dl],dl,Jo))return!0;return!1}var dx=mp("length");function ay(Jo){return Jo.split("")}function oy(Jo){return Jo.match(ku)||[]}function qm(Jo,_l,dl){var Yl;return dl(Jo,function(mc,kc,Ju){if(_l(mc,kc,Ju))return Yl=kc,!1}),Yl}function Ef(Jo,_l,dl,Yl){for(var mc=Jo.length,kc=dl+(Yl?1:-1);Yl?kc--:++kc<mc;)if(_l(Jo[kc],kc,Jo))return kc;return-1}function ym(Jo,_l,dl){return _l===_l?vm(Jo,_l,dl):Ef(Jo,Rd,dl)}function zp(Jo,_l,dl,Yl){for(var mc=dl-1,kc=Jo.length;++mc<kc;)if(Yl(Jo[mc],_l))return mc;return-1}function Rd(Jo){return Jo!==Jo}function Km(Jo,_l){var dl=Jo==null?0:Jo.length;return dl?Qm(Jo,_l)/dl:co}function mp(Jo){return function(_l){return _l==null?er:_l[Jo]}}function Tg(Jo){return function(_l){return Jo==null?er:Jo[_l]}}function Sf(Jo,_l,dl,Yl,mc){return mc(Jo,function(kc,Ju,Su){dl=Yl?(Yl=!1,kc):_l(dl,kc,Ju,Su)}),dl}function Zm(Jo,_l){var dl=Jo.length;for(Jo.sort(_l);dl--;)Jo[dl]=Jo[dl].value;return Jo}function Qm(Jo,_l){for(var dl,Yl=-1,mc=Jo.length;++Yl<mc;){var kc=_l(Jo[Yl]);kc!==er&&(dl=dl===er?kc:dl+kc)}return dl}function Pg(Jo,_l){for(var dl=-1,Yl=Array(Jo);++dl<Jo;)Yl[dl]=_l(dl);return Yl}function fx(Jo,_l){return Fu(_l,function(dl){return[dl,Jo[dl]]})}function Hp(Jo){return Jo&&Jo.slice(0,Vp(Jo)+1).replace(Bl,"")}function Gu(Jo){return function(_l){return Jo(_l)}}function jf(Jo,_l){return Fu(_l,function(dl){return Jo[dl]})}function gp(Jo,_l){return Jo.has(_l)}function dd(Jo,_l){for(var dl=-1,Yl=Jo.length;++dl<Yl&&ym(_l,Jo[dl],0)>-1;);return dl}function px(Jo,_l){for(var dl=Jo.length;dl--&&ym(_l,Jo[dl],0)>-1;);return dl}function rf(Jo,_l){for(var dl=Jo.length,Yl=0;dl--;)Jo[dl]===_l&&++Yl;return Yl}var xp=Tg(dm),sf=Tg(fm);function Jm(Jo){return"\\"+Kh[Jo]}function af(Jo,_l){return Jo==null?er:Jo[_l]}function Wp(Jo){return hm.test(Jo)}function Gh(Jo){return _h.test(Jo)}function Rf(Jo){for(var _l,dl=[];!(_l=Jo.next()).done;)dl.push(_l.value);return dl}function Dg(Jo){var _l=-1,dl=Array(Jo.size);return Jo.forEach(function(Yl,mc){dl[++_l]=[mc,Yl]}),dl}function Gp(Jo,_l){return function(dl){return Jo(_l(dl))}}function of(Jo,_l){for(var dl=-1,Yl=Jo.length,mc=0,kc=[];++dl<Yl;){var Ju=Jo[dl];(Ju===_l||Ju===cr)&&(Jo[dl]=cr,kc[mc++]=dl)}return kc}function Fd(Jo){var _l=-1,dl=Array(Jo.size);return Jo.forEach(function(Yl){dl[++_l]=Yl}),dl}function hv(Jo){var _l=-1,dl=Array(Jo.size);return Jo.forEach(function(Yl){dl[++_l]=[Yl,Yl]}),dl}function vm(Jo,_l,dl){for(var Yl=dl-1,mc=Jo.length;++Yl<mc;)if(Jo[Yl]===_l)return Yl;return-1}function Mg(Jo,_l,dl){for(var Yl=dl+1;Yl--;)if(Jo[Yl]===_l)return Yl;return Yl}function fd(Jo){return Wp(Jo)?eg(Jo):dx(Jo)}function zu(Jo){return Wp(Jo)?tg(Jo):ay(Jo)}function Vp(Jo){for(var _l=Jo.length;_l--&&Pl.test(Jo.charAt(_l)););return _l}var lf=Tg(ny);function eg(Jo){for(var _l=Wf.lastIndex=0;Wf.test(Jo);)++_l;return _l}function tg(Jo){return Jo.match(Wf)||[]}function ng(Jo){return Jo.match(hd)||[]}var yp=(function Jo(_l){_l=_l==null?gh:Bd.defaults(gh.Object(),_l,Bd.pick(gh,bf));var dl=_l.Array,Yl=_l.Date,mc=_l.Error,kc=_l.Function,Ju=_l.Math,Su=_l.Object,Ng=_l.RegExp,Vh=_l.String,Uh=_l.TypeError,vp=dl.prototype,Up=kc.prototype,bm=Su.prototype,bp=_l["__core-js_shared__"],_m=Up.toString,su=bm.hasOwnProperty,mx=0,Cd=(function(){var wr=/[^.]+$/.exec(bp&&bp.keys&&bp.keys.IE_PROTO||"");return wr?"Symbol(src)_1."+wr:""})(),Jh=bm.toString,_p=_m.call(Su),zd=gh._,pd=Ng("^"+_m.call(su).replace(ol,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yh=mm?_l.Buffer:er,Oh=_l.Symbol,cf=_l.Uint8Array,ig=Yh?Yh.allocUnsafe:er,kd=Gp(Su.getPrototypeOf,Su),Vf=Su.create,wm=bm.propertyIsEnumerable,Cf=vp.splice,gx=Oh?Oh.isConcatSpreadable:er,Ph=Oh?Oh.iterator:er,Hd=Oh?Oh.toStringTag:er,Vu=(function(){try{var wr=tp(Su,"defineProperty");return wr({},"",{}),wr}catch{}})(),ju=_l.clearTimeout!==gh.clearTimeout&&_l.clearTimeout,rg=Yl&&Yl.now!==gh.Date.now&&Yl.now,wp=_l.setTimeout!==gh.setTimeout&&_l.setTimeout,Uf=Ju.ceil,Yf=Ju.floor,Mu=Su.getOwnPropertySymbols,xr=Yh?Yh.isBuffer:er,Rr=_l.isFinite,Br=vp.join,Qr=Gp(Su.keys,Su),ho=Ju.max,jo=Ju.min,zo=Yl.now,tl=_l.parseInt,Qo=Ju.random,Sl=vp.reverse,Il=tp(_l,"DataView"),ic=tp(_l,"Map"),$c=tp(_l,"Promise"),lh=tp(_l,"Set"),Tu=tp(_l,"WeakMap"),Lh=tp(Su,"create"),fu=Tu&&new Tu,iu={},Xc=xd(Il),Ep=xd(ic),Ad=xd($c),Og=xd(lh),Sp=xd(Tu),Em=Oh?Oh.prototype:er,Uu=Em?Em.valueOf:er,kf=Em?Em.toString:er;function ko(wr){if(Io(wr)&&!Er(wr)&&!(wr instanceof Ac)){if(wr instanceof $h)return wr;if(su.call(wr,"__wrapped__"))return Fy(wr)}return new $h(wr)}var jp=(function(){function wr(){}return function(Ar){if(!Mo(Ar))return{};if(Vf)return Vf(Ar);wr.prototype=Ar;var Vr=new wr;return wr.prototype=er,Vr}})();function Rp(){}function $h(wr,Ar){this.__wrapped__=wr,this.__actions__=[],this.__chain__=!!Ar,this.__index__=0,this.__values__=er}ko.templateSettings={escape:Zc,evaluate:fc,interpolate:Bc,variable:"",imports:{_:ko}},ko.prototype=Rp.prototype,ko.prototype.constructor=ko,$h.prototype=jp(Rp.prototype),$h.prototype.constructor=$h;function Ac(wr){this.__wrapped__=wr,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=no,this.__views__=[]}function Dh(){var wr=new Ac(this.__wrapped__);return wr.__actions__=ch(this.__actions__),wr.__dir__=this.__dir__,wr.__filtered__=this.__filtered__,wr.__iteratees__=ch(this.__iteratees__),wr.__takeCount__=this.__takeCount__,wr.__views__=ch(this.__views__),wr}function Sm(){if(this.__filtered__){var wr=new Ac(this);wr.__dir__=-1,wr.__filtered__=!0}else wr=this.clone(),wr.__dir__*=-1;return wr}function Yp(){var wr=this.__wrapped__.value(),Ar=this.__dir__,Vr=Er(wr),lo=Ar<0,So=Vr?wr.length:0,Oo=e0(0,So,this.__views__),Ho=Oo.start,Ko=Oo.end,rl=Ko-Ho,Cl=lo?Ko:Ho-1,kl=this.__iteratees__,Ml=kl.length,ql=0,hc=jo(rl,this.__takeCount__);if(!Vr||!lo&&So==rl&&hc==rl)return Ey(wr,this.__actions__);var Pc=[];e:for(;rl--&&ql<hc;){Cl+=Ar;for(var uu=-1,Dc=wr[Cl];++uu<Ml;){var yu=kl[uu],Pu=yu.iteratee,lm=yu.type,dp=Pu(Dc);if(lm==fo)Dc=dp;else if(!dp){if(lm==io)continue e;break e}}Pc[ql++]=Dc}return Pc}Ac.prototype=jp(Rp.prototype),Ac.prototype.constructor=Ac;function Xp(wr){var Ar=-1,Vr=wr==null?0:wr.length;for(this.clear();++Ar<Vr;){var lo=wr[Ar];this.set(lo[0],lo[1])}}function ly(){this.__data__=Lh?Lh(null):{},this.size=0}function Lg(wr){var Ar=this.has(wr)&&delete this.__data__[wr];return this.size-=Ar?1:0,Ar}function cy(wr){var Ar=this.__data__;if(Lh){var Vr=Ar[wr];return Vr===or?er:Vr}return su.call(Ar,wr)?Ar[wr]:er}function Cp(wr){var Ar=this.__data__;return Lh?Ar[wr]!==er:su.call(Ar,wr)}function ed(wr,Ar){var Vr=this.__data__;return this.size+=this.has(wr)?0:1,Vr[wr]=Lh&&Ar===er?or:Ar,this}Xp.prototype.clear=ly,Xp.prototype.delete=Lg,Xp.prototype.get=cy,Xp.prototype.has=Cp,Xp.prototype.set=ed;function uf(wr){var Ar=-1,Vr=wr==null?0:wr.length;for(this.clear();++Ar<Vr;){var lo=wr[Ar];this.set(lo[0],lo[1])}}function tb(){this.__data__=[],this.size=0}function qb(wr){var Ar=this.__data__,Vr=Ap(Ar,wr);if(Vr<0)return!1;var lo=Ar.length-1;return Vr==lo?Ar.pop():Cf.call(Ar,Vr,1),--this.size,!0}function nb(wr){var Ar=this.__data__,Vr=Ap(Ar,wr);return Vr<0?er:Ar[Vr][1]}function Kb(wr){return Ap(this.__data__,wr)>-1}function Mh(wr,Ar){var Vr=this.__data__,lo=Ap(Vr,wr);return lo<0?(++this.size,Vr.push([wr,Ar])):Vr[lo][1]=Ar,this}uf.prototype.clear=tb,uf.prototype.delete=qb,uf.prototype.get=nb,uf.prototype.has=Kb,uf.prototype.set=Mh;function Xf(wr){var Ar=-1,Vr=wr==null?0:wr.length;for(this.clear();++Ar<Vr;){var lo=wr[Ar];this.set(lo[0],lo[1])}}function kp(){this.size=0,this.__data__={hash:new Xp,map:new(ic||uf),string:new Xp}}function $g(wr){var Ar=Xg(this,wr).delete(wr);return this.size-=Ar?1:0,Ar}function dv(wr){return Xg(this,wr).get(wr)}function Ig(wr){return Xg(this,wr).has(wr)}function jm(wr,Ar){var Vr=Xg(this,wr),lo=Vr.size;return Vr.set(wr,Ar),this.size+=Vr.size==lo?0:1,this}Xf.prototype.clear=kp,Xf.prototype.delete=$g,Xf.prototype.get=dv,Xf.prototype.has=Ig,Xf.prototype.set=jm;function Rm(wr){var Ar=-1,Vr=wr==null?0:wr.length;for(this.__data__=new Xf;++Ar<Vr;)this.add(wr[Ar])}function ib(wr){return this.__data__.set(wr,or),this}function Zb(wr){return this.__data__.has(wr)}Rm.prototype.add=Rm.prototype.push=ib,Rm.prototype.has=Zb;function Af(wr){var Ar=this.__data__=new uf(wr);this.size=Ar.size}function qp(){this.__data__=new uf,this.size=0}function fv(wr){var Ar=this.__data__,Vr=Ar.delete(wr);return this.size=Ar.size,Vr}function Kp(wr){return this.__data__.get(wr)}function rb(wr){return this.__data__.has(wr)}function Cm(wr,Ar){var Vr=this.__data__;if(Vr instanceof uf){var lo=Vr.__data__;if(!ic||lo.length<ir-1)return lo.push([wr,Ar]),this.size=++Vr.size,this;Vr=this.__data__=new Xf(lo)}return Vr.set(wr,Ar),this.size=Vr.size,this}Af.prototype.clear=qp,Af.prototype.delete=fv,Af.prototype.get=Kp,Af.prototype.has=rb,Af.prototype.set=Cm;function uy(wr,Ar){var Vr=Er(wr),lo=!Vr&&br(wr),So=!Vr&&!lo&&zr(wr),Oo=!Vr&&!lo&&!So&&Tc(wr),Ho=Vr||lo||So||Oo,Ko=Ho?Pg(wr.length,Vh):[],rl=Ko.length;for(var Cl in wr)(Ar||su.call(wr,Cl))&&!(Ho&&(Cl=="length"||So&&(Cl=="offset"||Cl=="parent")||Oo&&(Cl=="buffer"||Cl=="byteLength"||Cl=="byteOffset")||ip(Cl,rl)))&&Ko.push(Cl);return Ko}function sg(wr){var Ar=wr.length;return Ar?wr[ug(0,Ar-1)]:er}function xx(wr,Ar){return $x(ch(wr),Kf(Ar,0,wr.length))}function sb(wr){return $x(ch(wr))}function hy(wr,Ar,Vr){(Vr!==er&&!pf(wr[Ar],Vr)||Vr===er&&!(Ar in wr))&&Td(wr,Ar,Vr)}function qf(wr,Ar,Vr){var lo=wr[Ar];(!(su.call(wr,Ar)&&pf(lo,Vr))||Vr===er&&!(Ar in wr))&&Td(wr,Ar,Vr)}function Ap(wr,Ar){for(var Vr=wr.length;Vr--;)if(pf(wr[Vr][0],Ar))return Vr;return-1}function ab(wr,Ar,Vr,lo){return Tp(wr,function(So,Oo,Ho){Ar(lo,So,Vr(So),Ho)}),lo}function pv(wr,Ar){return wr&&Nf(Ar,wd(Ar),wr)}function Zp(wr,Ar){return wr&&Nf(Ar,Ff(Ar),wr)}function Td(wr,Ar,Vr){Ar=="__proto__"&&Vu?Vu(wr,Ar,{configurable:!0,enumerable:!0,value:Vr,writable:!0}):wr[Ar]=Vr}function Fg(wr,Ar){for(var Vr=-1,lo=Ar.length,So=dl(lo),Oo=wr==null;++Vr<lo;)So[Vr]=Oo?er:rx(wr,Ar[Vr]);return So}function Kf(wr,Ar,Vr){return wr===wr&&(Vr!==er&&(wr=wr<=Vr?wr:Vr),Ar!==er&&(wr=wr>=Ar?wr:Ar)),wr}function Pd(wr,Ar,Vr,lo,So,Oo){var Ho,Ko=Ar&ur,rl=Ar&dr,Cl=Ar&fr;if(Vr&&(Ho=So?Vr(wr,lo,So,Oo):Vr(wr)),Ho!==er)return Ho;if(!Mo(wr))return wr;var kl=Er(wr);if(kl){if(Ho=Dy(wr),!Ko)return ch(wr,Ho)}else{var Ml=id(wr),ql=Ml==Lo||Ml==Uo;if(zr(wr))return bv(wr,Ko);if(Ml==ml||Ml==Po||ql&&!So){if(Ho=rl||ql?{}:Nx(wr),!Ko)return rl?fb(wr,Zp(Ho,wr)):db(wr,pv(Ho,wr))}else{if(!nu[Ml])return So?wr:{};Ho=gb(wr,Ml,Ko)}}Oo||(Oo=new Af);var hc=Oo.get(wr);if(hc)return hc;Oo.set(wr,Ho),Gl(wr)?wr.forEach(function(Dc){Ho.add(Pd(Dc,Ar,Vr,Dc,wr,Oo))}):Yo(wr)&&wr.forEach(function(Dc,yu){Ho.set(yu,Pd(Dc,Ar,Vr,yu,wr,Oo))});var Pc=Cl?rl?Yg:Ty:rl?Ff:wd,uu=kl?er:Pc(wr);return wh(uu||wr,function(Dc,yu){uu&&(yu=Dc,Dc=wr[yu]),qf(Ho,yu,Pd(Dc,Ar,Vr,yu,wr,Oo))}),Ho}function Qp(wr){var Ar=wd(wr);return function(Vr){return Zf(Vr,wr,Ar)}}function Zf(wr,Ar,Vr){var lo=Vr.length;if(wr==null)return!lo;for(wr=Su(wr);lo--;){var So=Vr[lo],Oo=Ar[So],Ho=wr[So];if(Ho===er&&!(So in wr)||!Oo(Ho))return!1}return!0}function dy(wr,Ar,Vr){if(typeof wr!="function")throw new Uh(sr);return rp(function(){wr.apply(er,Vr)},Ar)}function Ih(wr,Ar,Vr,lo){var So=-1,Oo=Bp,Ho=!0,Ko=wr.length,rl=[],Cl=Ar.length;if(!Ko)return rl;Vr&&(Ar=Fu(Ar,Gu(Vr))),lo?(Oo=gm,Ho=!1):Ar.length>=ir&&(Oo=gp,Ho=!1,Ar=new Rm(Ar));e:for(;++So<Ko;){var kl=wr[So],Ml=Vr==null?kl:Vr(kl);if(kl=lo||kl!==0?kl:0,Ho&&Ml===Ml){for(var ql=Cl;ql--;)if(Ar[ql]===Ml)continue e;rl.push(kl)}else Oo(Ar,Ml,lo)||rl.push(kl)}return rl}var Tp=Cy(Eh),yx=Cy(py,!0);function km(wr,Ar){var Vr=!0;return Tp(wr,function(lo,So,Oo){return Vr=!!Ar(lo,So,Oo),Vr}),Vr}function Dd(wr,Ar,Vr){for(var lo=-1,So=wr.length;++lo<So;){var Oo=wr[lo],Ho=Ar(Oo);if(Ho!=null&&(Ko===er?Ho===Ho&&!Hc(Ho):Vr(Ho,Ko)))var Ko=Ho,rl=Oo}return rl}function Tf(wr,Ar,Vr,lo){var So=wr.length;for(Vr=zl(Vr),Vr<0&&(Vr=-Vr>So?0:So+Vr),lo=lo===er||lo>So?So:zl(lo),lo<0&&(lo+=So),lo=Vr>lo?0:rh(lo);Vr<lo;)wr[Vr++]=Ar;return wr}function fy(wr,Ar){var Vr=[];return Tp(wr,function(lo,So,Oo){Ar(lo,So,Oo)&&Vr.push(lo)}),Vr}function Rh(wr,Ar,Vr,lo,So){var Oo=-1,Ho=wr.length;for(Vr||(Vr=Ny),So||(So=[]);++Oo<Ho;){var Ko=wr[Oo];Ar>0&&Vr(Ko)?Ar>1?Rh(Ko,Ar-1,Vr,lo,So):wf(So,Ko):lo||(So[So.length]=Ko)}return So}var ag=jx(),Bg=jx(!0);function Eh(wr,Ar){return wr&&ag(wr,Ar,wd)}function py(wr,Ar){return wr&&Bg(wr,Ar,wd)}function Qf(wr,Ar){return jd(Ar,function(Vr){return vo(wr[Vr])})}function Pf(wr,Ar){Ar=Yd(Ar,wr);for(var Vr=0,lo=Ar.length;wr!=null&&Vr<lo;)wr=wr[qd(Ar[Vr++])];return Vr&&Vr==lo?wr:er}function my(wr,Ar,Vr){var lo=Ar(wr);return Er(wr)?lo:wf(lo,Vr(wr))}function xh(wr){return wr==null?wr===er?oc:pl:Hd&&Hd in Su(wr)?Mx(wr):$y(wr)}function Am(wr,Ar){return wr>Ar}function md(wr,Ar){return wr!=null&&su.call(wr,Ar)}function Df(wr,Ar){return wr!=null&&Ar in Su(wr)}function Tm(wr,Ar,Vr){return wr>=jo(Ar,Vr)&&wr<ho(Ar,Vr)}function Wd(wr,Ar,Vr){for(var lo=Vr?gm:Bp,So=wr[0].length,Oo=wr.length,Ho=Oo,Ko=dl(Oo),rl=1/0,Cl=[];Ho--;){var kl=wr[Ho];Ho&&Ar&&(kl=Fu(kl,Gu(Ar))),rl=jo(kl.length,rl),Ko[Ho]=!Vr&&(Ar||So>=120&&kl.length>=120)?new Rm(Ho&&kl):er}kl=wr[0];var Ml=-1,ql=Ko[0];e:for(;++Ml<So&&Cl.length<rl;){var hc=kl[Ml],Pc=Ar?Ar(hc):hc;if(hc=Vr||hc!==0?hc:0,!(ql?gp(ql,Pc):lo(Cl,Pc,Vr))){for(Ho=Oo;--Ho;){var uu=Ko[Ho];if(!(uu?gp(uu,Pc):lo(wr[Ho],Pc,Vr)))continue e}ql&&ql.push(Pc),Cl.push(hc)}}return Cl}function ob(wr,Ar,Vr,lo){return Eh(wr,function(So,Oo,Ho){Ar(lo,Vr(So),Oo,Ho)}),lo}function hf(wr,Ar,Vr){Ar=Yd(Ar,wr),wr=qg(wr,Ar);var lo=wr==null?wr:wr[qd(dh(Ar))];return lo==null?er:Wu(lo,wr,Vr)}function Ru(wr){return Io(wr)&&xh(wr)==Po}function Sh(wr){return Io(wr)&&xh(wr)==Yc}function gy(wr){return Io(wr)&&xh(wr)==Co}function Gd(wr,Ar,Vr,lo,So){return wr===Ar?!0:wr==null||Ar==null||!Io(wr)&&!Io(Ar)?wr!==wr&&Ar!==Ar:Oc(wr,Ar,Vr,lo,Gd,So)}function Oc(wr,Ar,Vr,lo,So,Oo){var Ho=Er(wr),Ko=Er(Ar),rl=Ho?wo:id(wr),Cl=Ko?wo:id(Ar);rl=rl==Po?ml:rl,Cl=Cl==Po?ml:Cl;var kl=rl==ml,Ml=Cl==ml,ql=rl==Cl;if(ql&&zr(wr)){if(!zr(Ar))return!1;Ho=!0,kl=!1}if(ql&&!kl)return Oo||(Oo=new Af),Ho||Tc(wr)?Px(wr,Ar,Vr,lo,So,Oo):Ay(wr,Ar,rl,Vr,lo,So,Oo);if(!(Vr&gr)){var hc=kl&&su.call(wr,"__wrapped__"),Pc=Ml&&su.call(Ar,"__wrapped__");if(hc||Pc){var uu=hc?wr.value():wr,Dc=Pc?Ar.value():Ar;return Oo||(Oo=new Af),So(uu,Dc,Vr,lo,Oo)}}return ql?(Oo||(Oo=new Af),Rv(wr,Ar,Vr,lo,So,Oo)):!1}function Cu(wr){return Io(wr)&&id(wr)==$o}function eh(wr,Ar,Vr,lo){var So=Vr.length,Oo=So,Ho=!lo;if(wr==null)return!Oo;for(wr=Su(wr);So--;){var Ko=Vr[So];if(Ho&&Ko[2]?Ko[1]!==wr[Ko[0]]:!(Ko[0]in wr))return!1}for(;++So<Oo;){Ko=Vr[So];var rl=Ko[0],Cl=wr[rl],kl=Ko[1];if(Ho&&Ko[2]){if(Cl===er&&!(rl in wr))return!1}else{var Ml=new Af;if(lo)var ql=lo(Cl,kl,rl,wr,Ar,Ml);if(!(ql===er?Gd(kl,Cl,gr|yr,lo,Ml):ql))return!1}}return!0}function Pm(wr){if(!Mo(wr)||xb(wr))return!1;var Ar=vo(wr)?pd:Gc;return Ar.test(xd(wr))}function zg(wr){return Io(wr)&&xh(wr)==ac}function og(wr){return Io(wr)&&id(wr)==Tl}function vx(wr){return Io(wr)&&Do(wr.length)&&!!jc[xh(wr)]}function lg(wr){return typeof wr=="function"?wr:wr==null?yf:typeof wr=="object"?Er(wr)?yy(wr[0],wr[1]):nh(wr):Ao(wr)}function Jp(wr){if(!Nm(wr))return Qr(wr);var Ar=[];for(var Vr in Su(wr))su.call(wr,Vr)&&Vr!="constructor"&&Ar.push(Vr);return Ar}function Qb(wr){if(!Mo(wr))return rm(wr);var Ar=Nm(wr),Vr=[];for(var lo in wr)lo=="constructor"&&(Ar||!su.call(wr,lo))||Vr.push(lo);return Vr}function yh(wr,Ar){return wr<Ar}function xy(wr,Ar){var Vr=-1,lo=Dr(wr)?dl(wr.length):[];return Tp(wr,function(So,Oo,Ho){lo[++Vr]=Ar(So,Oo,Ho)}),lo}function nh(wr){var Ar=Dx(wr);return Ar.length==1&&Ar[0][2]?Om(Ar[0][0],Ar[0][1]):function(Vr){return Vr===wr||eh(Vr,wr,Ar)}}function yy(wr,Ar){return im(wr)&&Lf(Ar)?Om(qd(wr),Ar):function(Vr){var lo=rx(Vr,wr);return lo===er&&lo===Ar?u0(Vr,wr):Gd(Ar,lo,gr|yr)}}function bx(wr,Ar,Vr,lo,So){wr!==Ar&&ag(Ar,function(Oo,Ho){if(So||(So=new Af),Mo(Oo))vy(wr,Ar,Ho,Vr,bx,lo,So);else{var Ko=lo?lo(Yu(wr,Ho),Oo,Ho+"",wr,Ar,So):er;Ko===er&&(Ko=Oo),hy(wr,Ho,Ko)}},Ff)}function vy(wr,Ar,Vr,lo,So,Oo,Ho){var Ko=Yu(wr,Vr),rl=Yu(Ar,Vr),Cl=Ho.get(rl);if(Cl){hy(wr,Vr,Cl);return}var kl=Oo?Oo(Ko,rl,Vr+"",wr,Ar,Ho):er,Ml=kl===er;if(Ml){var ql=Er(rl),hc=!ql&&zr(rl),Pc=!ql&&!hc&&Tc(rl);kl=rl,ql||hc||Pc?Er(Ko)?kl=Ko:$r(Ko)?kl=ch(Ko):hc?(Ml=!1,kl=bv(rl,!0)):Pc?(Ml=!1,kl=_v(rl,!0)):kl=[]:Zl(rl)||br(rl)?(kl=Ko,br(Ko)?kl=od(Ko):(!Mo(Ko)||vo(Ko))&&(kl=Nx(rl))):Ml=!1}Ml&&(Ho.set(rl,kl),So(kl,rl,lo,Oo,Ho),Ho.delete(rl)),hy(wr,Vr,kl)}function by(wr,Ar){var Vr=wr.length;if(Vr)return Ar+=Ar<0?Vr:0,ip(Ar,Vr)?wr[Ar]:er}function _y(wr,Ar,Vr){Ar.length?Ar=Fu(Ar,function(Oo){return Er(Oo)?function(Ho){return Pf(Ho,Oo.length===1?Oo[0]:Oo)}:Oo}):Ar=[yf];var lo=-1;Ar=Fu(Ar,Gu(gc()));var So=xy(wr,function(Oo,Ho,Ko){var rl=Fu(Ar,function(Cl){return Cl(Oo)});return{criteria:rl,index:++lo,value:Oo}});return Zm(So,function(Oo,Ho){return Pp(Oo,Ho,Vr)})}function mv(wr,Ar){return Ch(wr,Ar,function(Vr,lo){return u0(wr,lo)})}function Ch(wr,Ar,Vr){for(var lo=-1,So=Ar.length,Oo={};++lo<So;){var Ho=Ar[lo],Ko=Pf(wr,Ho);Vr(Ko,Ho)&&hg(Oo,Yd(Ho,wr),Ko)}return Oo}function kh(wr){return function(Ar){return Pf(Ar,wr)}}function Dm(wr,Ar,Vr,lo){var So=lo?zp:ym,Oo=-1,Ho=Ar.length,Ko=wr;for(wr===Ar&&(Ar=ch(Ar)),Vr&&(Ko=Fu(wr,Gu(Vr)));++Oo<Ho;)for(var rl=0,Cl=Ar[Oo],kl=Vr?Vr(Cl):Cl;(rl=So(Ko,kl,rl,lo))>-1;)Ko!==wr&&Cf.call(Ko,rl,1),Cf.call(wr,rl,1);return wr}function cg(wr,Ar){for(var Vr=wr?Ar.length:0,lo=Vr-1;Vr--;){var So=Ar[Vr];if(Vr==lo||So!==Oo){var Oo=So;ip(So)?Cf.call(wr,So,1):pg(wr,So)}}return wr}function ug(wr,Ar){return wr+Yf(Qo()*(Ar-wr+1))}function wy(wr,Ar,Vr,lo){for(var So=-1,Oo=ho(Uf((Ar-wr)/(Vr||1)),0),Ho=dl(Oo);Oo--;)Ho[lo?Oo:++So]=wr,wr+=Vr;return Ho}function Jf(wr,Ar){var Vr="";if(!wr||Ar<1||Ar>uo)return Vr;do Ar%2&&(Vr+=wr),Ar=Yf(Ar/2),Ar&&(wr+=wr);while(Ar);return Vr}function sc(wr,Ar){return Kg(xg(wr,Ar,yf),wr+"")}function gv(wr){return sg(ov(wr))}function xv(wr,Ar){var Vr=ov(wr);return $x(Vr,Kf(Ar,0,Vr.length))}function hg(wr,Ar,Vr,lo){if(!Mo(wr))return wr;Ar=Yd(Ar,wr);for(var So=-1,Oo=Ar.length,Ho=Oo-1,Ko=wr;Ko!=null&&++So<Oo;){var rl=qd(Ar[So]),Cl=Vr;if(rl==="__proto__"||rl==="constructor"||rl==="prototype")return wr;if(So!=Ho){var kl=Ko[rl];Cl=lo?lo(kl,rl,Ko):er,Cl===er&&(Cl=Mo(kl)?kl:ip(Ar[So+1])?[]:{})}qf(Ko,rl,Cl),Ko=Ko[rl]}return wr}var Hg=fu?function(wr,Ar){return fu.set(wr,Ar),wr}:yf,dg=Vu?function(wr,Ar){return Vu(wr,"toString",{configurable:!0,enumerable:!1,value:cv(Ar),writable:!0})}:yf;function lb(wr){return $x(ov(wr))}function au(wr,Ar,Vr){var lo=-1,So=wr.length;Ar<0&&(Ar=-Ar>So?0:So+Ar),Vr=Vr>So?So:Vr,Vr<0&&(Vr+=So),So=Ar>Vr?0:Vr-Ar>>>0,Ar>>>=0;for(var Oo=dl(So);++lo<So;)Oo[lo]=wr[lo+Ar];return Oo}function cb(wr,Ar){var Vr;return Tp(wr,function(lo,So,Oo){return Vr=Ar(lo,So,Oo),!Vr}),!!Vr}function fg(wr,Ar,Vr){var lo=0,So=wr==null?lo:wr.length;if(typeof Ar=="number"&&Ar===Ar&&So<=Eo){for(;lo<So;){var Oo=lo+So>>>1,Ho=wr[Oo];Ho!==null&&!Hc(Ho)&&(Vr?Ho<=Ar:Ho<Ar)?lo=Oo+1:So=Oo}return So}return _x(wr,Ar,yf,Vr)}function _x(wr,Ar,Vr,lo){var So=0,Oo=wr==null?0:wr.length;if(Oo===0)return 0;Ar=Vr(Ar);for(var Ho=Ar!==Ar,Ko=Ar===null,rl=Hc(Ar),Cl=Ar===er;So<Oo;){var kl=Yf((So+Oo)/2),Ml=Vr(wr[kl]),ql=Ml!==er,hc=Ml===null,Pc=Ml===Ml,uu=Hc(Ml);if(Ho)var Dc=lo||Pc;else Cl?Dc=Pc&&(lo||ql):Ko?Dc=Pc&&ql&&(lo||!hc):rl?Dc=Pc&&ql&&!hc&&(lo||!uu):hc||uu?Dc=!1:Dc=lo?Ml<=Ar:Ml<Ar;Dc?So=kl+1:Oo=kl}return jo(Oo,mo)}function yv(wr,Ar){for(var Vr=-1,lo=wr.length,So=0,Oo=[];++Vr<lo;){var Ho=wr[Vr],Ko=Ar?Ar(Ho):Ho;if(!Vr||!pf(Ko,rl)){var rl=Ko;Oo[So++]=Ho===0?0:Ho}}return Oo}function Ah(wr){return typeof wr=="number"?wr:Hc(wr)?co:+wr}function Vd(wr){if(typeof wr=="string")return wr;if(Er(wr))return Fu(wr,Vd)+"";if(Hc(wr))return kf?kf.call(wr):"";var Ar=wr+"";return Ar=="0"&&1/wr==-Jr?"-0":Ar}function df(wr,Ar,Vr){var lo=-1,So=Bp,Oo=wr.length,Ho=!0,Ko=[],rl=Ko;if(Vr)Ho=!1,So=gm;else if(Oo>=ir){var Cl=Ar?null:mb(wr);if(Cl)return Fd(Cl);Ho=!1,So=gp,rl=new Rm}else rl=Ar?[]:Ko;e:for(;++lo<Oo;){var kl=wr[lo],Ml=Ar?Ar(kl):kl;if(kl=Vr||kl!==0?kl:0,Ho&&Ml===Ml){for(var ql=rl.length;ql--;)if(rl[ql]===Ml)continue e;Ar&&rl.push(Ml),Ko.push(kl)}else So(rl,Ml,Vr)||(rl!==Ko&&rl.push(Ml),Ko.push(kl))}return Ko}function pg(wr,Ar){return Ar=Yd(Ar,wr),wr=qg(wr,Ar),wr==null||delete wr[qd(dh(Ar))]}function ih(wr,Ar,Vr,lo){return hg(wr,Ar,Vr(Pf(wr,Ar)),lo)}function wx(wr,Ar,Vr,lo){for(var So=wr.length,Oo=lo?So:-1;(lo?Oo--:++Oo<So)&&Ar(wr[Oo],Oo,wr););return Vr?au(wr,lo?0:Oo,lo?Oo+1:So):au(wr,lo?Oo+1:0,lo?So:Oo)}function Ey(wr,Ar){var Vr=wr;return Vr instanceof Ac&&(Vr=Vr.value()),Xm(Ar,function(lo,So){return So.func.apply(So.thisArg,wf([lo],So.args))},Vr)}function Ud(wr,Ar,Vr){var lo=wr.length;if(lo<2)return lo?df(wr[0]):[];for(var So=-1,Oo=dl(lo);++So<lo;)for(var Ho=wr[So],Ko=-1;++Ko<lo;)Ko!=So&&(Oo[So]=Ih(Oo[So]||Ho,wr[Ko],Ar,Vr));return df(Rh(Oo,1),Ar,Vr)}function gd(wr,Ar,Vr){for(var lo=-1,So=wr.length,Oo=Ar.length,Ho={};++lo<So;){var Ko=lo<Oo?Ar[lo]:er;Vr(Ho,wr[lo],Ko)}return Ho}function vv(wr){return $r(wr)?wr:[]}function Sy(wr){return typeof wr=="function"?wr:yf}function Yd(wr,Ar){return Er(wr)?wr:im(wr,Ar)?[wr]:Cv(qc(wr))}var ub=sc;function Mf(wr,Ar,Vr){var lo=wr.length;return Vr=Vr===er?lo:Vr,!Ar&&Vr>=lo?wr:au(wr,Ar,Vr)}var Ex=ju||function(wr){return gh.clearTimeout(wr)};function bv(wr,Ar){if(Ar)return wr.slice();var Vr=wr.length,lo=ig?ig(Vr):new wr.constructor(Vr);return wr.copy(lo),lo}function Mm(wr){var Ar=new wr.constructor(wr.byteLength);return new cf(Ar).set(new cf(wr)),Ar}function Jb(wr,Ar){var Vr=Ar?Mm(wr.buffer):wr.buffer;return new wr.constructor(Vr,wr.byteOffset,wr.byteLength)}function hb(wr){var Ar=new wr.constructor(wr.source,cc.exec(wr));return Ar.lastIndex=wr.lastIndex,Ar}function jy(wr){return Uu?Su(Uu.call(wr)):{}}function _v(wr,Ar){var Vr=Ar?Mm(wr.buffer):wr.buffer;return new wr.constructor(Vr,wr.byteOffset,wr.length)}function wv(wr,Ar){if(wr!==Ar){var Vr=wr!==er,lo=wr===null,So=wr===wr,Oo=Hc(wr),Ho=Ar!==er,Ko=Ar===null,rl=Ar===Ar,Cl=Hc(Ar);if(!Ko&&!Cl&&!Oo&&wr>Ar||Oo&&Ho&&rl&&!Ko&&!Cl||lo&&Ho&&rl||!Vr&&rl||!So)return 1;if(!lo&&!Oo&&!Cl&&wr<Ar||Cl&&Vr&&So&&!lo&&!Oo||Ko&&Vr&&So||!Ho&&So||!rl)return-1}return 0}function Pp(wr,Ar,Vr){for(var lo=-1,So=wr.criteria,Oo=Ar.criteria,Ho=So.length,Ko=Vr.length;++lo<Ho;){var rl=wv(So[lo],Oo[lo]);if(rl){if(lo>=Ko)return rl;var Cl=Vr[lo];return rl*(Cl=="desc"?-1:1)}}return wr.index-Ar.index}function Sx(wr,Ar,Vr,lo){for(var So=-1,Oo=wr.length,Ho=Vr.length,Ko=-1,rl=Ar.length,Cl=ho(Oo-Ho,0),kl=dl(rl+Cl),Ml=!lo;++Ko<rl;)kl[Ko]=Ar[Ko];for(;++So<Ho;)(Ml||So<Oo)&&(kl[Vr[So]]=wr[So]);for(;Cl--;)kl[Ko++]=wr[So++];return kl}function em(wr,Ar,Vr,lo){for(var So=-1,Oo=wr.length,Ho=-1,Ko=Vr.length,rl=-1,Cl=Ar.length,kl=ho(Oo-Ko,0),Ml=dl(kl+Cl),ql=!lo;++So<kl;)Ml[So]=wr[So];for(var hc=So;++rl<Cl;)Ml[hc+rl]=Ar[rl];for(;++Ho<Ko;)(ql||So<Oo)&&(Ml[hc+Vr[Ho]]=wr[So++]);return Ml}function ch(wr,Ar){var Vr=-1,lo=wr.length;for(Ar||(Ar=dl(lo));++Vr<lo;)Ar[Vr]=wr[Vr];return Ar}function Nf(wr,Ar,Vr,lo){var So=!Vr;Vr||(Vr={});for(var Oo=-1,Ho=Ar.length;++Oo<Ho;){var Ko=Ar[Oo],rl=lo?lo(Vr[Ko],wr[Ko],Ko,Vr,wr):er;rl===er&&(rl=wr[Ko]),So?Td(Vr,Ko,rl):qf(Vr,Ko,rl)}return Vr}function db(wr,Ar){return Nf(wr,Py(wr),Ar)}function fb(wr,Ar){return Nf(wr,Of(wr),Ar)}function Ry(wr,Ar){return function(Vr,lo){var So=Er(Vr)?ry:ab,Oo=Ar?Ar():{};return So(Vr,wr,gc(lo,2),Oo)}}function Dp(wr){return sc(function(Ar,Vr){var lo=-1,So=Vr.length,Oo=So>1?Vr[So-1]:er,Ho=So>2?Vr[2]:er;for(Oo=wr.length>3&&typeof Oo=="function"?(So--,Oo):er,Ho&&rd(Vr[0],Vr[1],Ho)&&(Oo=So<3?er:Oo,So=1),Ar=Su(Ar);++lo<So;){var Ko=Vr[lo];Ko&&wr(Ar,Ko,lo,Oo)}return Ar})}function Cy(wr,Ar){return function(Vr,lo){if(Vr==null)return Vr;if(!Dr(Vr))return wr(Vr,lo);for(var So=Vr.length,Oo=Ar?So:-1,Ho=Su(Vr);(Ar?Oo--:++Oo<So)&&lo(Ho[Oo],Oo,Ho)!==!1;);return Vr}}function jx(wr){return function(Ar,Vr,lo){for(var So=-1,Oo=Su(Ar),Ho=lo(Ar),Ko=Ho.length;Ko--;){var rl=Ho[wr?Ko:++So];if(Vr(Oo[rl],rl,Oo)===!1)break}return Ar}}function Ev(wr,Ar,Vr){var lo=Ar&vr,So=Cx(wr);function Oo(){var Ho=this&&this!==gh&&this instanceof Oo?So:wr;return Ho.apply(lo?Vr:this,arguments)}return Oo}function Rx(wr){return function(Ar){Ar=qc(Ar);var Vr=Wp(Ar)?zu(Ar):er,lo=Vr?Vr[0]:Ar.charAt(0),So=Vr?Mf(Vr,1).join(""):Ar.slice(1);return lo[wr]()+So}}function tm(wr){return function(Ar){return Xm(I0(lv(Ar).replace(Du,"")),wr,"")}}function Cx(wr){return function(){var Ar=arguments;switch(Ar.length){case 0:return new wr;case 1:return new wr(Ar[0]);case 2:return new wr(Ar[0],Ar[1]);case 3:return new wr(Ar[0],Ar[1],Ar[2]);case 4:return new wr(Ar[0],Ar[1],Ar[2],Ar[3]);case 5:return new wr(Ar[0],Ar[1],Ar[2],Ar[3],Ar[4]);case 6:return new wr(Ar[0],Ar[1],Ar[2],Ar[3],Ar[4],Ar[5]);case 7:return new wr(Ar[0],Ar[1],Ar[2],Ar[3],Ar[4],Ar[5],Ar[6])}var Vr=jp(wr.prototype),lo=wr.apply(Vr,Ar);return Mo(lo)?lo:Vr}}function pb(wr,Ar,Vr){var lo=Cx(wr);function So(){for(var Oo=arguments.length,Ho=dl(Oo),Ko=Oo,rl=ou(So);Ko--;)Ho[Ko]=arguments[Ko];var Cl=Oo<3&&Ho[0]!==rl&&Ho[Oo-1]!==rl?[]:of(Ho,rl);if(Oo-=Cl.length,Oo<Vr)return ep(wr,Ar,mg,So.placeholder,er,Ho,Cl,er,er,Vr-Oo);var kl=this&&this!==gh&&this instanceof So?lo:wr;return Wu(kl,this,Ho)}return So}function nm(wr){return function(Ar,Vr,lo){var So=Su(Ar);if(!Dr(Ar)){var Oo=gc(Vr,3);Ar=wd(Ar),Vr=function(Ko){return Oo(So[Ko],Ko,So)}}var Ho=wr(Ar,Vr,lo);return Ho>-1?So[Oo?Ar[Ho]:Ho]:er}}function Mp(wr){return Nd(function(Ar){var Vr=Ar.length,lo=Vr,So=$h.prototype.thru;for(wr&&Ar.reverse();lo--;){var Oo=Ar[lo];if(typeof Oo!="function")throw new Uh(sr);if(So&&!Ho&&uh(Oo)=="wrapper")var Ho=new $h([],!0)}for(lo=Ho?lo:Vr;++lo<Vr;){Oo=Ar[lo];var Ko=uh(Oo),rl=Ko=="wrapper"?Xd(Oo):er;rl&&Ox(rl[0])&&rl[1]==(Or|Tr|Mr|Fr)&&!rl[4].length&&rl[9]==1?Ho=Ho[uh(rl[0])].apply(Ho,rl[3]):Ho=Oo.length==1&&Ox(Oo)?Ho[Ko]():Ho.thru(Oo)}return function(){var Cl=arguments,kl=Cl[0];if(Ho&&Cl.length==1&&Er(kl))return Ho.plant(kl).value();for(var Ml=0,ql=Vr?Ar[Ml].apply(this,Cl):kl;++Ml<Vr;)ql=Ar[Ml].call(this,ql);return ql}})}function mg(wr,Ar,Vr,lo,So,Oo,Ho,Ko,rl,Cl){var kl=Ar&Or,Ml=Ar&vr,ql=Ar&jr,hc=Ar&(Tr|Lr),Pc=Ar&Gr,uu=ql?er:Cx(wr);function Dc(){for(var yu=arguments.length,Pu=dl(yu),lm=yu;lm--;)Pu[lm]=arguments[lm];if(hc)var dp=ou(Dc),cm=rf(Pu,dp);if(lo&&(Pu=Sx(Pu,lo,So,hc)),Oo&&(Pu=em(Pu,Oo,Ho,hc)),yu-=cm,hc&&yu<Cl){var ld=of(Pu,dp);return ep(wr,Ar,mg,Dc.placeholder,Vr,Pu,ld,Ko,rl,Cl-yu)}var Rg=Ml?Vr:this,ty=ql?Rg[wr]:wr;return yu=Pu.length,Ko?Pu=Lx(Pu,Ko):Pc&&yu>1&&Pu.reverse(),kl&&rl<yu&&(Pu.length=rl),this&&this!==gh&&this instanceof Dc&&(ty=uu||Cx(ty)),ty.apply(Rg,Pu)}return Dc}function Ax(wr,Ar){return function(Vr,lo){return ob(Vr,wr,Ar(lo),{})}}function Wg(wr,Ar){return function(Vr,lo){var So;if(Vr===er&&lo===er)return Ar;if(Vr!==er&&(So=Vr),lo!==er){if(So===er)return lo;typeof Vr=="string"||typeof lo=="string"?(Vr=Vd(Vr),lo=Vd(lo)):(Vr=Ah(Vr),lo=Ah(lo)),So=wr(Vr,lo)}return So}}function Gg(wr){return Nd(function(Ar){return Ar=Fu(Ar,Gu(gc())),sc(function(Vr){var lo=this;return wr(Ar,function(So){return Wu(So,lo,Vr)})})})}function Np(wr,Ar){Ar=Ar===er?" ":Vd(Ar);var Vr=Ar.length;if(Vr<2)return Vr?Jf(Ar,wr):Ar;var lo=Jf(Ar,Uf(wr/fd(Ar)));return Wp(Ar)?Mf(zu(lo),0,wr).join(""):lo.slice(0,wr)}function Sv(wr,Ar,Vr,lo){var So=Ar&vr,Oo=Cx(wr);function Ho(){for(var Ko=-1,rl=arguments.length,Cl=-1,kl=lo.length,Ml=dl(kl+rl),ql=this&&this!==gh&&this instanceof Ho?Oo:wr;++Cl<kl;)Ml[Cl]=lo[Cl];for(;rl--;)Ml[Cl++]=arguments[++Ko];return Wu(ql,So?Vr:this,Ml)}return Ho}function Vg(wr){return function(Ar,Vr,lo){return lo&&typeof lo!="number"&&rd(Ar,Vr,lo)&&(Vr=lo=er),Ar=cu(Ar),Vr===er?(Vr=Ar,Ar=0):Vr=cu(Vr),lo=lo===er?Ar<Vr?1:-1:cu(lo),wy(Ar,Vr,lo,wr)}}function Md(wr){return function(Ar,Vr){return typeof Ar=="string"&&typeof Vr=="string"||(Ar=qu(Ar),Vr=qu(Vr)),wr(Ar,Vr)}}function ep(wr,Ar,Vr,lo,So,Oo,Ho,Ko,rl,Cl){var kl=Ar&Tr,Ml=kl?Ho:er,ql=kl?er:Ho,hc=kl?Oo:er,Pc=kl?er:Oo;Ar|=kl?Mr:Nr,Ar&=~(kl?Nr:Mr),Ar&Sr||(Ar&=-4);var uu=[wr,Ar,So,hc,Ml,Pc,ql,Ko,rl,Cl],Dc=Vr.apply(er,uu);return Ox(wr)&&Iy(Dc,uu),Dc.placeholder=lo,Zg(Dc,wr,Ar)}function Ug(wr){var Ar=Ju[wr];return function(Vr,lo){if(Vr=qu(Vr),lo=lo==null?0:jo(zl(lo),292),lo&&Rr(Vr)){var So=(qc(Vr)+"e").split("e"),Oo=Ar(So[0]+"e"+(+So[1]+lo));return So=(qc(Oo)+"e").split("e"),+(So[0]+"e"+(+So[1]-lo))}return Ar(Vr)}}var mb=lh&&1/Fd(new lh([,-0]))[1]==Jr?function(wr){return new lh(wr)}:_r;function jv(wr){return function(Ar){var Vr=id(Ar);return Vr==$o?Dg(Ar):Vr==Tl?hv(Ar):fx(Ar,wr(Ar))}}function nd(wr,Ar,Vr,lo,So,Oo,Ho,Ko){var rl=Ar&jr;if(!rl&&typeof wr!="function")throw new Uh(sr);var Cl=lo?lo.length:0;if(Cl||(Ar&=-97,lo=So=er),Ho=Ho===er?Ho:ho(zl(Ho),0),Ko=Ko===er?Ko:zl(Ko),Cl-=So?So.length:0,Ar&Nr){var kl=lo,Ml=So;lo=So=er}var ql=rl?er:Xd(wr),hc=[wr,Ar,Vr,lo,So,kl,Ml,Oo,Ho,Ko];if(ql&&vb(hc,ql),wr=hc[0],Ar=hc[1],Vr=hc[2],lo=hc[3],So=hc[4],Ko=hc[9]=hc[9]===er?rl?0:wr.length:ho(hc[9]-Cl,0),!Ko&&Ar&(Tr|Lr)&&(Ar&=-25),!Ar||Ar==vr)var Pc=Ev(wr,Ar,Vr);else Ar==Tr||Ar==Lr?Pc=pb(wr,Ar,Ko):(Ar==Mr||Ar==(vr|Mr))&&!So.length?Pc=Sv(wr,Ar,Vr,lo):Pc=mg.apply(er,hc);var uu=ql?Hg:Iy;return Zg(uu(Pc,hc),wr,Ar)}function Op(wr,Ar,Vr,lo){return wr===er||pf(wr,bm[Vr])&&!su.call(lo,Vr)?Ar:wr}function Tx(wr,Ar,Vr,lo,So,Oo){return Mo(wr)&&Mo(Ar)&&(Oo.set(Ar,wr),bx(wr,Ar,er,Tx,Oo),Oo.delete(Ar)),wr}function ru(wr){return Zl(wr)?er:wr}function Px(wr,Ar,Vr,lo,So,Oo){var Ho=Vr&gr,Ko=wr.length,rl=Ar.length;if(Ko!=rl&&!(Ho&&rl>Ko))return!1;var Cl=Oo.get(wr),kl=Oo.get(Ar);if(Cl&&kl)return Cl==Ar&&kl==wr;var Ml=-1,ql=!0,hc=Vr&yr?new Rm:er;for(Oo.set(wr,Ar),Oo.set(Ar,wr);++Ml<Ko;){var Pc=wr[Ml],uu=Ar[Ml];if(lo)var Dc=Ho?lo(uu,Pc,Ml,Ar,wr,Oo):lo(Pc,uu,Ml,wr,Ar,Oo);if(Dc!==er){if(Dc)continue;ql=!1;break}if(hc){if(!xm(Ar,function(yu,Pu){if(!gp(hc,Pu)&&(Pc===yu||So(Pc,yu,Vr,lo,Oo)))return hc.push(Pu)})){ql=!1;break}}else if(!(Pc===uu||So(Pc,uu,Vr,lo,Oo))){ql=!1;break}}return Oo.delete(wr),Oo.delete(Ar),ql}function Ay(wr,Ar,Vr,lo,So,Oo,Ho){switch(Vr){case Rc:if(wr.byteLength!=Ar.byteLength||wr.byteOffset!=Ar.byteOffset)return!1;wr=wr.buffer,Ar=Ar.buffer;case Yc:return!(wr.byteLength!=Ar.byteLength||!Oo(new cf(wr),new cf(Ar)));case Fo:case Co:case il:return pf(+wr,+Ar);case el:return wr.name==Ar.name&&wr.message==Ar.message;case ac:case Ol:return wr==Ar+"";case $o:var Ko=Dg;case Tl:var rl=lo&gr;if(Ko||(Ko=Fd),wr.size!=Ar.size&&!rl)return!1;var Cl=Ho.get(wr);if(Cl)return Cl==Ar;lo|=yr,Ho.set(wr,Ar);var kl=Px(Ko(wr),Ko(Ar),lo,So,Oo,Ho);return Ho.delete(wr),kl;case dc:if(Uu)return Uu.call(wr)==Uu.call(Ar)}return!1}function Rv(wr,Ar,Vr,lo,So,Oo){var Ho=Vr&gr,Ko=Ty(wr),rl=Ko.length,Cl=Ty(Ar),kl=Cl.length;if(rl!=kl&&!Ho)return!1;for(var Ml=rl;Ml--;){var ql=Ko[Ml];if(!(Ho?ql in Ar:su.call(Ar,ql)))return!1}var hc=Oo.get(wr),Pc=Oo.get(Ar);if(hc&&Pc)return hc==Ar&&Pc==wr;var uu=!0;Oo.set(wr,Ar),Oo.set(Ar,wr);for(var Dc=Ho;++Ml<rl;){ql=Ko[Ml];var yu=wr[ql],Pu=Ar[ql];if(lo)var lm=Ho?lo(Pu,yu,ql,Ar,wr,Oo):lo(yu,Pu,ql,wr,Ar,Oo);if(!(lm===er?yu===Pu||So(yu,Pu,Vr,lo,Oo):lm)){uu=!1;break}Dc||(Dc=ql=="constructor")}if(uu&&!Dc){var dp=wr.constructor,cm=Ar.constructor;dp!=cm&&"constructor"in wr&&"constructor"in Ar&&!(typeof dp=="function"&&dp instanceof dp&&typeof cm=="function"&&cm instanceof cm)&&(uu=!1)}return Oo.delete(wr),Oo.delete(Ar),uu}function Nd(wr){return Kg(xg(wr,er,hh),wr+"")}function Ty(wr){return my(wr,wd,Py)}function Yg(wr){return my(wr,Ff,Of)}var Xd=fu?function(wr){return fu.get(wr)}:_r;function uh(wr){for(var Ar=wr.name+"",Vr=iu[Ar],lo=su.call(iu,Ar)?Vr.length:0;lo--;){var So=Vr[lo],Oo=So.func;if(Oo==null||Oo==wr)return So.name}return Ar}function ou(wr){var Ar=su.call(ko,"placeholder")?ko:wr;return Ar.placeholder}function gc(){var wr=ko.iteratee||eb;return wr=wr===eb?lg:wr,arguments.length?wr(arguments[0],arguments[1]):wr}function Xg(wr,Ar){var Vr=wr.__data__;return Oy(Ar)?Vr[typeof Ar=="string"?"string":"hash"]:Vr.map}function Dx(wr){for(var Ar=wd(wr),Vr=Ar.length;Vr--;){var lo=Ar[Vr],So=wr[lo];Ar[Vr]=[lo,So,Lf(So)]}return Ar}function tp(wr,Ar){var Vr=af(wr,Ar);return Pm(Vr)?Vr:er}function Mx(wr){var Ar=su.call(wr,Hd),Vr=wr[Hd];try{wr[Hd]=er;var lo=!0}catch{}var So=Jh.call(wr);return lo&&(Ar?wr[Hd]=Vr:delete wr[Hd]),So}var Py=Mu?function(wr){return wr==null?[]:(wr=Su(wr),jd(Mu(wr),function(Ar){return wm.call(wr,Ar)}))}:Rl,Of=Mu?function(wr){for(var Ar=[];wr;)wf(Ar,Py(wr)),wr=kd(wr);return Ar}:Rl,id=xh;(Il&&id(new Il(new ArrayBuffer(1)))!=Rc||ic&&id(new ic)!=$o||$c&&id($c.resolve())!=Wl||lh&&id(new lh)!=Tl||Tu&&id(new Tu)!=vc)&&(id=function(wr){var Ar=xh(wr),Vr=Ar==ml?wr.constructor:er,lo=Vr?xd(Vr):"";if(lo)switch(lo){case Xc:return Rc;case Ep:return $o;case Ad:return Wl;case Og:return Tl;case Sp:return vc}return Ar});function e0(wr,Ar,Vr){for(var lo=-1,So=Vr.length;++lo<So;){var Oo=Vr[lo],Ho=Oo.size;switch(Oo.type){case"drop":wr+=Ho;break;case"dropRight":Ar-=Ho;break;case"take":Ar=jo(Ar,wr+Ho);break;case"takeRight":wr=ho(wr,Ar-Ho);break}}return{start:wr,end:Ar}}function np(wr){var Ar=wr.match(bu);return Ar?Ar[1].split(oh):[]}function gg(wr,Ar,Vr){Ar=Yd(Ar,wr);for(var lo=-1,So=Ar.length,Oo=!1;++lo<So;){var Ho=qd(Ar[lo]);if(!(Oo=wr!=null&&Vr(wr,Ho)))break;wr=wr[Ho]}return Oo||++lo!=So?Oo:(So=wr==null?0:wr.length,!!So&&Do(So)&&ip(Ho,So)&&(Er(wr)||br(wr)))}function Dy(wr){var Ar=wr.length,Vr=new wr.constructor(Ar);return Ar&&typeof wr[0]=="string"&&su.call(wr,"index")&&(Vr.index=wr.index,Vr.input=wr.input),Vr}function Nx(wr){return typeof wr.constructor=="function"&&!Nm(wr)?jp(kd(wr)):{}}function gb(wr,Ar,Vr){var lo=wr.constructor;switch(Ar){case Yc:return Mm(wr);case Fo:case Co:return new lo(+wr);case Rc:return Jb(wr,Vr);case El:case Kl:case ec:case Fc:case Hl:case al:case sl:case fl:case $l:return _v(wr,Vr);case $o:return new lo;case il:case Ol:return new lo(wr);case ac:return hb(wr);case Tl:return new lo;case dc:return jy(wr)}}function My(wr,Ar){var Vr=Ar.length;if(!Vr)return wr;var lo=Vr-1;return Ar[lo]=(Vr>1?"& ":"")+Ar[lo],Ar=Ar.join(Vr>2?", ":" "),wr.replace(Dl,`{
/* [wrapped with `+Ar+`] */
`)}function Ny(wr){return Er(wr)||br(wr)||!!(gx&&wr&&wr[gx])}function ip(wr,Ar){var Vr=typeof wr;return Ar=Ar??uo,!!Ar&&(Vr=="number"||Vr!="symbol"&&qh.test(wr))&&wr>-1&&wr%1==0&&wr<Ar}function rd(wr,Ar,Vr){if(!Mo(Vr))return!1;var lo=typeof Ar;return(lo=="number"?Dr(Vr)&&ip(Ar,Vr.length):lo=="string"&&Ar in Vr)?pf(Vr[Ar],wr):!1}function im(wr,Ar){if(Er(wr))return!1;var Vr=typeof wr;return Vr=="number"||Vr=="symbol"||Vr=="boolean"||wr==null||Hc(wr)?!0:Ul.test(wr)||!nc.test(wr)||Ar!=null&&wr in Su(Ar)}function Oy(wr){var Ar=typeof wr;return Ar=="string"||Ar=="number"||Ar=="symbol"||Ar=="boolean"?wr!=="__proto__":wr===null}function Ox(wr){var Ar=uh(wr),Vr=ko[Ar];if(typeof Vr!="function"||!(Ar in Ac.prototype))return!1;if(wr===Vr)return!0;var lo=Xd(Vr);return!!lo&&wr===lo[0]}function xb(wr){return!!Cd&&Cd in wr}var Ly=bp?vo:hl;function Nm(wr){var Ar=wr&&wr.constructor,Vr=typeof Ar=="function"&&Ar.prototype||bm;return wr===Vr}function Lf(wr){return wr===wr&&!Mo(wr)}function Om(wr,Ar){return function(Vr){return Vr==null?!1:Vr[wr]===Ar&&(Ar!==er||wr in Su(Vr))}}function yb(wr){var Ar=ix(wr,function(lo){return Vr.size===lr&&Vr.clear(),lo}),Vr=Ar.cache;return Ar}function vb(wr,Ar){var Vr=wr[1],lo=Ar[1],So=Vr|lo,Oo=So<(vr|jr|Or),Ho=lo==Or&&Vr==Tr||lo==Or&&Vr==Fr&&wr[7].length<=Ar[8]||lo==(Or|Fr)&&Ar[7].length<=Ar[8]&&Vr==Tr;if(!(Oo||Ho))return wr;lo&vr&&(wr[2]=Ar[2],So|=Vr&vr?0:Sr);var Ko=Ar[3];if(Ko){var rl=wr[3];wr[3]=rl?Sx(rl,Ko,Ar[4]):Ko,wr[4]=rl?of(wr[3],cr):Ar[4]}return Ko=Ar[5],Ko&&(rl=wr[5],wr[5]=rl?em(rl,Ko,Ar[6]):Ko,wr[6]=rl?of(wr[5],cr):Ar[6]),Ko=Ar[7],Ko&&(wr[7]=Ko),lo&Or&&(wr[8]=wr[8]==null?Ar[8]:jo(wr[8],Ar[8])),wr[9]==null&&(wr[9]=Ar[9]),wr[0]=Ar[0],wr[1]=So,wr}function rm(wr){var Ar=[];if(wr!=null)for(var Vr in Su(wr))Ar.push(Vr);return Ar}function $y(wr){return Jh.call(wr)}function xg(wr,Ar,Vr){return Ar=ho(Ar===er?wr.length-1:Ar,0),function(){for(var lo=arguments,So=-1,Oo=ho(lo.length-Ar,0),Ho=dl(Oo);++So<Oo;)Ho[So]=lo[Ar+So];So=-1;for(var Ko=dl(Ar+1);++So<Ar;)Ko[So]=lo[So];return Ko[Ar]=Vr(Ho),Wu(wr,this,Ko)}}function qg(wr,Ar){return Ar.length<2?wr:Pf(wr,au(Ar,0,-1))}function Lx(wr,Ar){for(var Vr=wr.length,lo=jo(Ar.length,Vr),So=ch(wr);lo--;){var Oo=Ar[lo];wr[lo]=ip(Oo,Vr)?So[Oo]:er}return wr}function Yu(wr,Ar){if(!(Ar==="constructor"&&typeof wr[Ar]=="function")&&Ar!="__proto__")return wr[Ar]}var Iy=sm(Hg),rp=wp||function(wr,Ar){return gh.setTimeout(wr,Ar)},Kg=sm(dg);function Zg(wr,Ar,Vr){var lo=Ar+"";return Kg(wr,My(lo,bb(np(lo),Vr)))}function sm(wr){var Ar=0,Vr=0;return function(){var lo=zo(),So=ro-(lo-Vr);if(Vr=lo,So>0){if(++Ar>=Yr)return arguments[0]}else Ar=0;return wr.apply(er,arguments)}}function $x(wr,Ar){var Vr=-1,lo=wr.length,So=lo-1;for(Ar=Ar===er?lo:Ar;++Vr<Ar;){var Oo=ug(Vr,So),Ho=wr[Oo];wr[Oo]=wr[Vr],wr[Vr]=Ho}return wr.length=Ar,wr}var Cv=yb(function(wr){var Ar=[];return wr.charCodeAt(0)===46&&Ar.push(""),wr.replace(ah,function(Vr,lo,So,Oo){Ar.push(So?Oo.replace(eu,"$1"):lo||Vr)}),Ar});function qd(wr){if(typeof wr=="string"||Hc(wr))return wr;var Ar=wr+"";return Ar=="0"&&1/wr==-Jr?"-0":Ar}function xd(wr){if(wr!=null){try{return _m.call(wr)}catch{}try{return wr+""}catch{}}return""}function bb(wr,Ar){return wh(bo,function(Vr){var lo="_."+Vr[0];Ar&Vr[1]&&!Bp(wr,lo)&&wr.push(lo)}),wr.sort()}function Fy(wr){if(wr instanceof Ac)return wr.clone();var Ar=new $h(wr.__wrapped__,wr.__chain__);return Ar.__actions__=ch(wr.__actions__),Ar.__index__=wr.__index__,Ar.__values__=wr.__values__,Ar}function _b(wr,Ar,Vr){(Vr?rd(wr,Ar,Vr):Ar===er)?Ar=1:Ar=ho(zl(Ar),0);var lo=wr==null?0:wr.length;if(!lo||Ar<1)return[];for(var So=0,Oo=0,Ho=dl(Uf(lo/Ar));So<lo;)Ho[Oo++]=au(wr,So,So+=Ar);return Ho}function kv(wr){for(var Ar=-1,Vr=wr==null?0:wr.length,lo=0,So=[];++Ar<Vr;){var Oo=wr[Ar];Oo&&(So[lo++]=Oo)}return So}function Av(){var wr=arguments.length;if(!wr)return[];for(var Ar=dl(wr-1),Vr=arguments[0],lo=wr;lo--;)Ar[lo-1]=arguments[lo];return wf(Er(Vr)?ch(Vr):[Vr],Rh(Ar,1))}var Ix=sc(function(wr,Ar){return $r(wr)?Ih(wr,Rh(Ar,1,$r,!0)):[]}),wb=sc(function(wr,Ar){var Vr=dh(Ar);return $r(Vr)&&(Vr=er),$r(wr)?Ih(wr,Rh(Ar,1,$r,!0),gc(Vr,2)):[]}),Lp=sc(function(wr,Ar){var Vr=dh(Ar);return $r(Vr)&&(Vr=er),$r(wr)?Ih(wr,Rh(Ar,1,$r,!0),er,Vr):[]});function jh(wr,Ar,Vr){var lo=wr==null?0:wr.length;return lo?(Ar=Vr||Ar===er?1:zl(Ar),au(wr,Ar<0?0:Ar,lo)):[]}function Tv(wr,Ar,Vr){var lo=wr==null?0:wr.length;return lo?(Ar=Vr||Ar===er?1:zl(Ar),Ar=lo-Ar,au(wr,0,Ar<0?0:Ar)):[]}function Eb(wr,Ar){return wr&&wr.length?wx(wr,gc(Ar,3),!0,!0):[]}function Xh(wr,Ar){return wr&&wr.length?wx(wr,gc(Ar,3),!0):[]}function By(wr,Ar,Vr,lo){var So=wr==null?0:wr.length;return So?(Vr&&typeof Vr!="number"&&rd(wr,Ar,Vr)&&(Vr=0,lo=So),Tf(wr,Ar,Vr,lo)):[]}function Fx(wr,Ar,Vr){var lo=wr==null?0:wr.length;if(!lo)return-1;var So=Vr==null?0:zl(Vr);return So<0&&(So=ho(lo+So,0)),Ef(wr,gc(Ar,3),So)}function zy(wr,Ar,Vr){var lo=wr==null?0:wr.length;if(!lo)return-1;var So=lo-1;return Vr!==er&&(So=zl(Vr),So=Vr<0?ho(lo+So,0):jo(So,lo-1)),Ef(wr,gc(Ar,3),So,!0)}function hh(wr){var Ar=wr==null?0:wr.length;return Ar?Rh(wr,1):[]}function sd(wr){var Ar=wr==null?0:wr.length;return Ar?Rh(wr,Jr):[]}function sp(wr,Ar){var Vr=wr==null?0:wr.length;return Vr?(Ar=Ar===er?1:zl(Ar),Rh(wr,Ar)):[]}function Pv(wr){for(var Ar=-1,Vr=wr==null?0:wr.length,lo={};++Ar<Vr;){var So=wr[Ar];lo[So[0]]=So[1]}return lo}function Dv(wr){return wr&&wr.length?wr[0]:er}function Hy(wr,Ar,Vr){var lo=wr==null?0:wr.length;if(!lo)return-1;var So=Vr==null?0:zl(Vr);return So<0&&(So=ho(lo+So,0)),ym(wr,Ar,So)}function n0(wr){var Ar=wr==null?0:wr.length;return Ar?au(wr,0,-1):[]}var Wy=sc(function(wr){var Ar=Fu(wr,vv);return Ar.length&&Ar[0]===wr[0]?Wd(Ar):[]}),yd=sc(function(wr){var Ar=dh(wr),Vr=Fu(wr,vv);return Ar===dh(Vr)?Ar=er:Vr.pop(),Vr.length&&Vr[0]===wr[0]?Wd(Vr,gc(Ar,2)):[]}),ap=sc(function(wr){var Ar=dh(wr),Vr=Fu(wr,vv);return Ar=typeof Ar=="function"?Ar:er,Ar&&Vr.pop(),Vr.length&&Vr[0]===wr[0]?Wd(Vr,er,Ar):[]});function Sb(wr,Ar){return wr==null?"":Br.call(wr,Ar)}function dh(wr){var Ar=wr==null?0:wr.length;return Ar?wr[Ar-1]:er}function Bx(wr,Ar,Vr){var lo=wr==null?0:wr.length;if(!lo)return-1;var So=lo;return Vr!==er&&(So=zl(Vr),So=So<0?ho(lo+So,0):jo(So,lo-1)),Ar===Ar?Mg(wr,Ar,So):Ef(wr,Rd,So,!0)}function $f(wr,Ar){return wr&&wr.length?by(wr,zl(Ar)):er}var Lm=sc(op);function op(wr,Ar){return wr&&wr.length&&Ar&&Ar.length?Dm(wr,Ar):wr}function Gy(wr,Ar,Vr){return wr&&wr.length&&Ar&&Ar.length?Dm(wr,Ar,gc(Vr,2)):wr}function Vy(wr,Ar,Vr){return wr&&wr.length&&Ar&&Ar.length?Dm(wr,Ar,er,Vr):wr}var Kd=Nd(function(wr,Ar){var Vr=wr==null?0:wr.length,lo=Fg(wr,Ar);return cg(wr,Fu(Ar,function(So){return ip(So,Vr)?+So:So}).sort(wv)),lo});function Uy(wr,Ar){var Vr=[];if(!(wr&&wr.length))return Vr;var lo=-1,So=[],Oo=wr.length;for(Ar=gc(Ar,3);++lo<Oo;){var Ho=wr[lo];Ar(Ho,lo,wr)&&(Vr.push(Ho),So.push(lo))}return cg(wr,So),Vr}function If(wr){return wr==null?wr:Sl.call(wr)}function zx(wr,Ar,Vr){var lo=wr==null?0:wr.length;return lo?(Vr&&typeof Vr!="number"&&rd(wr,Ar,Vr)?(Ar=0,Vr=lo):(Ar=Ar==null?0:zl(Ar),Vr=Vr===er?lo:zl(Vr)),au(wr,Ar,Vr)):[]}function $m(wr,Ar){return fg(wr,Ar)}function am(wr,Ar,Vr){return _x(wr,Ar,gc(Vr,2))}function jb(wr,Ar){var Vr=wr==null?0:wr.length;if(Vr){var lo=fg(wr,Ar);if(lo<Vr&&pf(wr[lo],Ar))return lo}return-1}function Rb(wr,Ar){return fg(wr,Ar,!0)}function lp(wr,Ar,Vr){return _x(wr,Ar,gc(Vr,2),!0)}function Mv(wr,Ar){var Vr=wr==null?0:wr.length;if(Vr){var lo=fg(wr,Ar,!0)-1;if(pf(wr[lo],Ar))return lo}return-1}function Qg(wr){return wr&&wr.length?yv(wr):[]}function Nv(wr,Ar){return wr&&wr.length?yv(wr,gc(Ar,2)):[]}function Im(wr){var Ar=wr==null?0:wr.length;return Ar?au(wr,1,Ar):[]}function Hx(wr,Ar,Vr){return wr&&wr.length?(Ar=Vr||Ar===er?1:zl(Ar),au(wr,0,Ar<0?0:Ar)):[]}function pu(wr,Ar,Vr){var lo=wr==null?0:wr.length;return lo?(Ar=Vr||Ar===er?1:zl(Ar),Ar=lo-Ar,au(wr,Ar<0?0:Ar,lo)):[]}function Xu(wr,Ar){return wr&&wr.length?wx(wr,gc(Ar,3),!1,!0):[]}function Uc(wr,Ar){return wr&&wr.length?wx(wr,gc(Ar,3)):[]}var lu=sc(function(wr){return df(Rh(wr,1,$r,!0))}),Nu=sc(function(wr){var Ar=dh(wr);return $r(Ar)&&(Ar=er),df(Rh(wr,1,$r,!0),gc(Ar,2))}),vd=sc(function(wr){var Ar=dh(wr);return Ar=typeof Ar=="function"?Ar:er,df(Rh(wr,1,$r,!0),er,Ar)});function Fm(wr){return wr&&wr.length?df(wr):[]}function yg(wr,Ar){return wr&&wr.length?df(wr,gc(Ar,2)):[]}function Ov(wr,Ar){return Ar=typeof Ar=="function"?Ar:er,wr&&wr.length?df(wr,er,Ar):[]}function cp(wr){if(!(wr&&wr.length))return[];var Ar=0;return wr=jd(wr,function(Vr){if($r(Vr))return Ar=ho(Vr.length,Ar),!0}),Pg(Ar,function(Vr){return Fu(wr,mp(Vr))})}function vh(wr,Ar){if(!(wr&&wr.length))return[];var Vr=cp(wr);return Ar==null?Vr:Fu(Vr,function(lo){return Wu(Ar,er,lo)})}var Bm=sc(function(wr,Ar){return $r(wr)?Ih(wr,Ar):[]}),vg=sc(function(wr){return Ud(jd(wr,$r))}),Wx=sc(function(wr){var Ar=dh(wr);return $r(Ar)&&(Ar=er),Ud(jd(wr,$r),gc(Ar,2))}),ff=sc(function(wr){var Ar=dh(wr);return Ar=typeof Ar=="function"?Ar:er,Ud(jd(wr,$r),er,Ar)}),bg=sc(cp);function Gx(wr,Ar){return gd(wr||[],Ar||[],qf)}function Zd(wr,Ar){return gd(wr||[],Ar||[],hg)}var Lv=sc(function(wr){var Ar=wr.length,Vr=Ar>1?wr[Ar-1]:er;return Vr=typeof Vr=="function"?(wr.pop(),Vr):er,vh(wr,Vr)});function zm(wr){var Ar=ko(wr);return Ar.__chain__=!0,Ar}function $v(wr,Ar){return Ar(wr),wr}function _g(wr,Ar){return Ar(wr)}var Jg=Nd(function(wr){var Ar=wr.length,Vr=Ar?wr[0]:0,lo=this.__wrapped__,So=function(Oo){return Fg(Oo,wr)};return Ar>1||this.__actions__.length||!(lo instanceof Ac)||!ip(Vr)?this.thru(So):(lo=lo.slice(Vr,+Vr+(Ar?1:0)),lo.__actions__.push({func:_g,args:[So],thisArg:er}),new $h(lo,this.__chain__).thru(function(Oo){return Ar&&!Oo.length&&Oo.push(er),Oo}))});function up(){return zm(this)}function Fh(){return new $h(this.value(),this.__chain__)}function om(){this.__values__===er&&(this.__values__=Bu(this.value()));var wr=this.__index__>=this.__values__.length,Ar=wr?er:this.__values__[this.__index__++];return{done:wr,value:Ar}}function ex(){return this}function $p(wr){for(var Ar,Vr=this;Vr instanceof Rp;){var lo=Fy(Vr);lo.__index__=0,lo.__values__=er,Ar?So.__wrapped__=lo:Ar=lo;var So=lo;Vr=Vr.__wrapped__}return So.__wrapped__=wr,Ar}function Iv(){var wr=this.__wrapped__;if(wr instanceof Ac){var Ar=wr;return this.__actions__.length&&(Ar=new Ac(this)),Ar=Ar.reverse(),Ar.__actions__.push({func:_g,args:[If],thisArg:er}),new $h(Ar,this.__chain__)}return this.thru(If)}function Fv(){return Ey(this.__wrapped__,this.__actions__)}var Cb=Ry(function(wr,Ar,Vr){su.call(wr,Vr)?++wr[Vr]:Td(wr,Vr,1)});function Vx(wr,Ar,Vr){var lo=Er(wr)?hx:km;return Vr&&rd(wr,Ar,Vr)&&(Ar=er),lo(wr,gc(Ar,3))}function Bv(wr,Ar){var Vr=Er(wr)?jd:fy;return Vr(wr,gc(Ar,3))}var Qd=nm(Fx),kb=nm(zy);function Od(wr,Ar){return Rh(Yx(wr,Ar),1)}function Ab(wr,Ar){return Rh(Yx(wr,Ar),Jr)}function Tb(wr,Ar,Vr){return Vr=Vr===er?1:zl(Vr),Rh(Yx(wr,Ar),Vr)}function zv(wr,Ar){var Vr=Er(wr)?wh:Tp;return Vr(wr,gc(Ar,3))}function hp(wr,Ar){var Vr=Er(wr)?Gf:yx;return Vr(wr,gc(Ar,3))}var Yy=Ry(function(wr,Ar,Vr){su.call(wr,Vr)?wr[Vr].push(Ar):Td(wr,Vr,[Ar])});function Ux(wr,Ar,Vr,lo){wr=Dr(wr)?wr:ov(wr),Vr=Vr&&!lo?zl(Vr):0;var So=wr.length;return Vr<0&&(Vr=ho(So+Vr,0)),Ql(wr)?Vr<=So&&wr.indexOf(Ar,Vr)>-1:!!So&&ym(wr,Ar,Vr)>-1}var tx=sc(function(wr,Ar,Vr){var lo=-1,So=typeof Ar=="function",Oo=Dr(wr)?dl(wr.length):[];return Tp(wr,function(Ho){Oo[++lo]=So?Wu(Ar,Ho,Vr):hf(Ho,Ar,Vr)}),Oo}),Pb=Ry(function(wr,Ar,Vr){Td(wr,Vr,Ar)});function Yx(wr,Ar){var Vr=Er(wr)?Fu:xy;return Vr(wr,gc(Ar,3))}function Hv(wr,Ar,Vr,lo){return wr==null?[]:(Er(Ar)||(Ar=Ar==null?[]:[Ar]),Vr=lo?er:Vr,Er(Vr)||(Vr=Vr==null?[]:[Vr]),_y(wr,Ar,Vr))}var Db=Ry(function(wr,Ar,Vr){wr[Vr?0:1].push(Ar)},function(){return[[],[]]});function Xx(wr,Ar,Vr){var lo=Er(wr)?Xm:Sf,So=arguments.length<3;return lo(wr,gc(Ar,4),Vr,So,Tp)}function Xy(wr,Ar,Vr){var lo=Er(wr)?sy:Sf,So=arguments.length<3;return lo(wr,gc(Ar,4),Vr,So,yx)}function i0(wr,Ar){var Vr=Er(wr)?jd:fy;return Vr(wr,tv(gc(Ar,3)))}function r0(wr){var Ar=Er(wr)?sg:gv;return Ar(wr)}function s0(wr,Ar,Vr){(Vr?rd(wr,Ar,Vr):Ar===er)?Ar=1:Ar=zl(Ar);var lo=Er(wr)?xx:xv;return lo(wr,Ar)}function Wv(wr){var Ar=Er(wr)?sb:lb;return Ar(wr)}function Mb(wr){if(wr==null)return 0;if(Dr(wr))return Ql(wr)?fd(wr):wr.length;var Ar=id(wr);return Ar==$o||Ar==Tl?wr.size:Jp(wr).length}function nx(wr,Ar,Vr){var lo=Er(wr)?xm:cb;return Vr&&rd(wr,Ar,Vr)&&(Ar=er),lo(wr,gc(Ar,3))}var qy=sc(function(wr,Ar){if(wr==null)return[];var Vr=Ar.length;return Vr>1&&rd(wr,Ar[0],Ar[1])?Ar=[]:Vr>2&&rd(Ar[0],Ar[1],Ar[2])&&(Ar=[Ar[0]]),_y(wr,Rh(Ar,1),[])}),qx=rg||function(){return gh.Date.now()};function Gv(wr,Ar){if(typeof Ar!="function")throw new Uh(sr);return wr=zl(wr),function(){if(--wr<1)return Ar.apply(this,arguments)}}function Ky(wr,Ar,Vr){return Ar=Vr?er:Ar,Ar=wr&&Ar==null?wr.length:Ar,nd(wr,Or,er,er,er,er,Ar)}function Vv(wr,Ar){var Vr;if(typeof Ar!="function")throw new Uh(sr);return wr=zl(wr),function(){return--wr>0&&(Vr=Ar.apply(this,arguments)),wr<=1&&(Ar=er),Vr}}var Zy=sc(function(wr,Ar,Vr){var lo=vr;if(Vr.length){var So=of(Vr,ou(Zy));lo|=Mr}return nd(wr,lo,Ar,Vr,So)}),Qy=sc(function(wr,Ar,Vr){var lo=vr|jr;if(Vr.length){var So=of(Vr,ou(Qy));lo|=Mr}return nd(Ar,lo,wr,Vr,So)});function Kx(wr,Ar,Vr){Ar=Vr?er:Ar;var lo=nd(wr,Tr,er,er,er,er,er,Ar);return lo.placeholder=Kx.placeholder,lo}function Jy(wr,Ar,Vr){Ar=Vr?er:Ar;var lo=nd(wr,Lr,er,er,er,er,er,Ar);return lo.placeholder=Jy.placeholder,lo}function Uv(wr,Ar,Vr){var lo,So,Oo,Ho,Ko,rl,Cl=0,kl=!1,Ml=!1,ql=!0;if(typeof wr!="function")throw new Uh(sr);Ar=qu(Ar)||0,Mo(Vr)&&(kl=!!Vr.leading,Ml="maxWait"in Vr,Oo=Ml?ho(qu(Vr.maxWait)||0,Ar):Oo,ql="trailing"in Vr?!!Vr.trailing:ql);function hc(ld){var Rg=lo,ty=So;return lo=So=er,Cl=ld,Ho=wr.apply(ty,Rg),Ho}function Pc(ld){return Cl=ld,Ko=rp(yu,Ar),kl?hc(ld):Ho}function uu(ld){var Rg=ld-rl,ty=ld-Cl,o1=Ar-Rg;return Ml?jo(o1,Oo-ty):o1}function Dc(ld){var Rg=ld-rl,ty=ld-Cl;return rl===er||Rg>=Ar||Rg<0||Ml&&ty>=Oo}function yu(){var ld=qx();if(Dc(ld))return Pu(ld);Ko=rp(yu,uu(ld))}function Pu(ld){return Ko=er,ql&&lo?hc(ld):(lo=So=er,Ho)}function lm(){Ko!==er&&Ex(Ko),Cl=0,lo=rl=So=Ko=er}function dp(){return Ko===er?Ho:Pu(qx())}function cm(){var ld=qx(),Rg=Dc(ld);if(lo=arguments,So=this,rl=ld,Rg){if(Ko===er)return Pc(rl);if(Ml)return Ex(Ko),Ko=rp(yu,Ar),hc(rl)}return Ko===er&&(Ko=rp(yu,Ar)),Ho}return cm.cancel=lm,cm.flush=dp,cm}var Ou=sc(function(wr,Ar){return dy(wr,1,Ar)}),ev=sc(function(wr,Ar,Vr){return dy(wr,qu(Ar)||0,Vr)});function a0(wr){return nd(wr,Gr)}function ix(wr,Ar){if(typeof wr!="function"||Ar!=null&&typeof Ar!="function")throw new Uh(sr);var Vr=function(){var lo=arguments,So=Ar?Ar.apply(this,lo):lo[0],Oo=Vr.cache;if(Oo.has(So))return Oo.get(So);var Ho=wr.apply(this,lo);return Vr.cache=Oo.set(So,Ho)||Oo,Ho};return Vr.cache=new(ix.Cache||Xf),Vr}ix.Cache=Xf;function tv(wr){if(typeof wr!="function")throw new Uh(sr);return function(){var Ar=arguments;switch(Ar.length){case 0:return!wr.call(this);case 1:return!wr.call(this,Ar[0]);case 2:return!wr.call(this,Ar[0],Ar[1]);case 3:return!wr.call(this,Ar[0],Ar[1],Ar[2])}return!wr.apply(this,Ar)}}function Yv(wr){return Vv(2,wr)}var o0=ub(function(wr,Ar){Ar=Ar.length==1&&Er(Ar[0])?Fu(Ar[0],Gu(gc())):Fu(Rh(Ar,1),Gu(gc()));var Vr=Ar.length;return sc(function(lo){for(var So=-1,Oo=jo(lo.length,Vr);++So<Oo;)lo[So]=Ar[So].call(this,lo[So]);return Wu(wr,this,lo)})}),wg=sc(function(wr,Ar){var Vr=of(Ar,ou(wg));return nd(wr,Mr,er,Ar,Vr)}),Hm=sc(function(wr,Ar){var Vr=of(Ar,ou(Hm));return nd(wr,Nr,er,Ar,Vr)}),Xv=Nd(function(wr,Ar){return nd(wr,Fr,er,er,er,Ar)});function nv(wr,Ar){if(typeof wr!="function")throw new Uh(sr);return Ar=Ar===er?Ar:zl(Ar),sc(wr,Ar)}function Zx(wr,Ar){if(typeof wr!="function")throw new Uh(sr);return Ar=Ar==null?0:ho(zl(Ar),0),sc(function(Vr){var lo=Vr[Ar],So=Mf(Vr,0,Ar);return lo&&wf(So,lo),Wu(wr,this,So)})}function Wm(wr,Ar,Vr){var lo=!0,So=!0;if(typeof wr!="function")throw new Uh(sr);return Mo(Vr)&&(lo="leading"in Vr?!!Vr.leading:lo,So="trailing"in Vr?!!Vr.trailing:So),Uv(wr,Ar,{leading:lo,maxWait:Ar,trailing:So})}function Ip(wr){return Ky(wr,1)}function Qx(wr,Ar){return wg(Sy(Ar),wr)}function l0(){if(!arguments.length)return[];var wr=arguments[0];return Er(wr)?wr:[wr]}function Nb(wr){return Pd(wr,fr)}function Ob(wr,Ar){return Ar=typeof Ar=="function"?Ar:er,Pd(wr,fr,Ar)}function Jx(wr){return Pd(wr,ur|fr)}function Lb(wr,Ar){return Ar=typeof Ar=="function"?Ar:er,Pd(wr,ur|fr,Ar)}function c0(wr,Ar){return Ar==null||Zf(wr,Ar,wd(Ar))}function pf(wr,Ar){return wr===Ar||wr!==wr&&Ar!==Ar}var Ur=Md(Am),mr=Md(function(wr,Ar){return wr>=Ar}),br=Ru((function(){return arguments})())?Ru:function(wr){return Io(wr)&&su.call(wr,"callee")&&!wm.call(wr,"callee")},Er=dl.isArray,Pr=nf?Gu(nf):Sh;function Dr(wr){return wr!=null&&Do(wr.length)&&!vo(wr)}function $r(wr){return Io(wr)&&Dr(wr)}function Ir(wr){return wr===!0||wr===!1||Io(wr)&&xh(wr)==Fo}var zr=xr||hl,Kr=kg?Gu(kg):gy;function eo(wr){return Io(wr)&&wr.nodeType===1&&!Zl(wr)}function Zr(wr){if(wr==null)return!0;if(Dr(wr)&&(Er(wr)||typeof wr=="string"||typeof wr.splice=="function"||zr(wr)||Tc(wr)||br(wr)))return!wr.length;var Ar=id(wr);if(Ar==$o||Ar==Tl)return!wr.size;if(Nm(wr))return!Jp(wr).length;for(var Vr in wr)if(su.call(wr,Vr))return!1;return!0}function so(wr,Ar){return Gd(wr,Ar)}function po(wr,Ar,Vr){Vr=typeof Vr=="function"?Vr:er;var lo=Vr?Vr(wr,Ar):er;return lo===er?Gd(wr,Ar,er,Vr):!!lo}function go(wr){if(!Io(wr))return!1;var Ar=xh(wr);return Ar==el||Ar==Go||typeof wr.message=="string"&&typeof wr.name=="string"&&!Zl(wr)}function _o(wr){return typeof wr=="number"&&Rr(wr)}function vo(wr){if(!Mo(wr))return!1;var Ar=xh(wr);return Ar==Lo||Ar==Uo||Ar==To||Ar==Xl}function yo(wr){return typeof wr=="number"&&wr==zl(wr)}function Do(wr){return typeof wr=="number"&&wr>-1&&wr%1==0&&wr<=uo}function Mo(wr){var Ar=typeof wr;return wr!=null&&(Ar=="object"||Ar=="function")}function Io(wr){return wr!=null&&typeof wr=="object"}var Yo=Ag?Gu(Ag):Cu;function Xo(wr,Ar){return wr===Ar||eh(wr,Ar,Dx(Ar))}function qo(wr,Ar,Vr){return Vr=typeof Vr=="function"?Vr:er,eh(wr,Ar,Dx(Ar),Vr)}function Wo(wr){return Fl(wr)&&wr!=+wr}function xl(wr){if(Ly(wr))throw new mc(rr);return Pm(wr)}function vl(wr){return wr===null}function yl(wr){return wr==null}function Fl(wr){return typeof wr=="number"||Io(wr)&&xh(wr)==il}function Zl(wr){if(!Io(wr)||xh(wr)!=ml)return!1;var Ar=kd(wr);if(Ar===null)return!0;var Vr=su.call(Ar,"constructor")&&Ar.constructor;return typeof Vr=="function"&&Vr instanceof Vr&&_m.call(Vr)==_p}var Jl=ux?Gu(ux):zg;function Ll(wr){return yo(wr)&&wr>=-uo&&wr<=uo}var Gl=pp?Gu(pp):og;function Ql(wr){return typeof wr=="string"||!Er(wr)&&Io(wr)&&xh(wr)==Ol}function Hc(wr){return typeof wr=="symbol"||Io(wr)&&xh(wr)==dc}var Tc=iy?Gu(iy):vx;function ad(wr){return wr===er}function yc(wr){return Io(wr)&&id(wr)==vc}function xc(wr){return Io(wr)&&xh(wr)==Ic}var mu=Md(yh),Wc=Md(function(wr,Ar){return wr<=Ar});function Bu(wr){if(!wr)return[];if(Dr(wr))return Ql(wr)?zu(wr):ch(wr);if(Ph&&wr[Ph])return Rf(wr[Ph]());var Ar=id(wr),Vr=Ar==$o?Dg:Ar==Tl?Fd:ov;return Vr(wr)}function cu(wr){if(!wr)return wr===0?wr:0;if(wr=qu(wr),wr===Jr||wr===-Jr){var Ar=wr<0?-1:1;return Ar*oo}return wr===wr?wr:0}function zl(wr){var Ar=cu(wr),Vr=Ar%1;return Ar===Ar?Vr?Ar-Vr:Ar:0}function rh(wr){return wr?Kf(zl(wr),0,no):0}function qu(wr){if(typeof wr=="number")return wr;if(Hc(wr))return co;if(Mo(wr)){var Ar=typeof wr.valueOf=="function"?wr.valueOf():wr;wr=Mo(Ar)?Ar+"":Ar}if(typeof wr!="string")return wr===0?wr:+wr;wr=Hp(wr);var Vr=du.test(wr);return Vr||Iu.test(wr)?pm(wr.slice(2),Vr?2:8):hu.test(wr)?co:+wr}function od(wr){return Nf(wr,Ff(wr))}function Gm(wr){return wr?Kf(zl(wr),-uo,uo):wr===0?wr:0}function qc(wr){return wr==null?"":Vd(wr)}var bd=Dp(function(wr,Ar){if(Nm(Ar)||Dr(Ar)){Nf(Ar,wd(Ar),wr);return}for(var Vr in Ar)su.call(Ar,Vr)&&qf(wr,Vr,Ar[Vr])}),mf=Dp(function(wr,Ar){Nf(Ar,Ff(Ar),wr)}),gf=Dp(function(wr,Ar,Vr,lo){Nf(Ar,Ff(Ar),wr,lo)}),Eg=Dp(function(wr,Ar,Vr,lo){Nf(Ar,wd(Ar),wr,lo)}),_d=Nd(Fg);function xf(wr,Ar){var Vr=jp(wr);return Ar==null?Vr:pv(Vr,Ar)}var Sg=sc(function(wr,Ar){wr=Su(wr);var Vr=-1,lo=Ar.length,So=lo>2?Ar[2]:er;for(So&&rd(Ar[0],Ar[1],So)&&(lo=1);++Vr<lo;)for(var Oo=Ar[Vr],Ho=Ff(Oo),Ko=-1,rl=Ho.length;++Ko<rl;){var Cl=Ho[Ko],kl=wr[Cl];(kl===er||pf(kl,bm[Cl])&&!su.call(wr,Cl))&&(wr[Cl]=Oo[Cl])}return wr}),qv=sc(function(wr){return wr.push(er,Tx),Wu(rv,er,wr)});function b0(wr,Ar){return qm(wr,gc(Ar,3),Eh)}function Kv(wr,Ar){return qm(wr,gc(Ar,3),py)}function Fp(wr,Ar){return wr==null?wr:ag(wr,gc(Ar,3),Ff)}function _0(wr,Ar){return wr==null?wr:Bg(wr,gc(Ar,3),Ff)}function $b(wr,Ar){return wr&&Eh(wr,gc(Ar,3))}function jg(wr,Ar){return wr&&py(wr,gc(Ar,3))}function W0(wr){return wr==null?[]:Qf(wr,wd(wr))}function G0(wr){return wr==null?[]:Qf(wr,Ff(wr))}function rx(wr,Ar,Vr){var lo=wr==null?er:Pf(wr,Ar);return lo===er?Vr:lo}function w0(wr,Ar){return wr!=null&&gg(wr,Ar,md)}function u0(wr,Ar){return wr!=null&&gg(wr,Ar,Df)}var V0=Ax(function(wr,Ar,Vr){Ar!=null&&typeof Ar.toString!="function"&&(Ar=Jh.call(Ar)),wr[Ar]=Vr},cv(yf)),U0=Ax(function(wr,Ar,Vr){Ar!=null&&typeof Ar.toString!="function"&&(Ar=Jh.call(Ar)),su.call(wr,Ar)?wr[Ar].push(Vr):wr[Ar]=[Vr]},gc),Y0=sc(hf);function wd(wr){return Dr(wr)?uy(wr):Jp(wr)}function Ff(wr){return Dr(wr)?uy(wr,!0):Qb(wr)}function X0(wr,Ar){var Vr={};return Ar=gc(Ar,3),Eh(wr,function(lo,So,Oo){Td(Vr,Ar(lo,So,Oo),lo)}),Vr}function E0(wr,Ar){var Vr={};return Ar=gc(Ar,3),Eh(wr,function(lo,So,Oo){Td(Vr,So,Ar(lo,So,Oo))}),Vr}var iv=Dp(function(wr,Ar,Vr){bx(wr,Ar,Vr)}),rv=Dp(function(wr,Ar,Vr,lo){bx(wr,Ar,Vr,lo)}),S0=Nd(function(wr,Ar){var Vr={};if(wr==null)return Vr;var lo=!1;Ar=Fu(Ar,function(Oo){return Oo=Yd(Oo,wr),lo||(lo=Oo.length>1),Oo}),Nf(wr,Yg(wr),Vr),lo&&(Vr=Pd(Vr,ur|dr|fr,ru));for(var So=Ar.length;So--;)pg(Vr,Ar[So]);return Vr});function q0(wr,Ar){return av(wr,tv(gc(Ar)))}var sv=Nd(function(wr,Ar){return wr==null?{}:mv(wr,Ar)});function av(wr,Ar){if(wr==null)return{};var Vr=Fu(Yg(wr),function(lo){return[lo]});return Ar=gc(Ar),Ch(wr,Vr,function(lo,So){return Ar(lo,So[0])})}function j0(wr,Ar,Vr){Ar=Yd(Ar,wr);var lo=-1,So=Ar.length;for(So||(So=1,wr=er);++lo<So;){var Oo=wr==null?er:wr[qd(Ar[lo])];Oo===er&&(lo=So,Oo=Vr),wr=vo(Oo)?Oo.call(wr):Oo}return wr}function Ib(wr,Ar,Vr){return wr==null?wr:hg(wr,Ar,Vr)}function h0(wr,Ar,Vr,lo){return lo=typeof lo=="function"?lo:er,wr==null?wr:hg(wr,Ar,Vr,lo)}var Fb=jv(wd),Zv=jv(Ff);function R0(wr,Ar,Vr){var lo=Er(wr),So=lo||zr(wr)||Tc(wr);if(Ar=gc(Ar,4),Vr==null){var Oo=wr&&wr.constructor;So?Vr=lo?new Oo:[]:Mo(wr)?Vr=vo(Oo)?jp(kd(wr)):{}:Vr={}}return(So?wh:Eh)(wr,function(Ho,Ko,rl){return Ar(Vr,Ho,Ko,rl)}),Vr}function C0(wr,Ar){return wr==null?!0:pg(wr,Ar)}function K0(wr,Ar,Vr){return wr==null?wr:ih(wr,Ar,Sy(Vr))}function k0(wr,Ar,Vr,lo){return lo=typeof lo=="function"?lo:er,wr==null?wr:ih(wr,Ar,Sy(Vr),lo)}function ov(wr){return wr==null?[]:jf(wr,wd(wr))}function d0(wr){return wr==null?[]:jf(wr,Ff(wr))}function Z0(wr,Ar,Vr){return Vr===er&&(Vr=Ar,Ar=er),Vr!==er&&(Vr=qu(Vr),Vr=Vr===Vr?Vr:0),Ar!==er&&(Ar=qu(Ar),Ar=Ar===Ar?Ar:0),Kf(qu(wr),Ar,Vr)}function Bb(wr,Ar,Vr){return Ar=cu(Ar),Vr===er?(Vr=Ar,Ar=0):Vr=cu(Vr),wr=qu(wr),Tm(wr,Ar,Vr)}function zb(wr,Ar,Vr){if(Vr&&typeof Vr!="boolean"&&rd(wr,Ar,Vr)&&(Ar=Vr=er),Vr===er&&(typeof Ar=="boolean"?(Vr=Ar,Ar=er):typeof wr=="boolean"&&(Vr=wr,wr=er)),wr===er&&Ar===er?(wr=0,Ar=1):(wr=cu(wr),Ar===er?(Ar=wr,wr=0):Ar=cu(Ar)),wr>Ar){var lo=wr;wr=Ar,Ar=lo}if(Vr||wr%1||Ar%1){var So=Qo();return jo(wr+So*(Ar-wr+_f("1e-"+((So+"").length-1))),Ar)}return ug(wr,Ar)}var Hb=tm(function(wr,Ar,Vr){return Ar=Ar.toLowerCase(),wr+(Vr?A0(Ar):Ar)});function A0(wr){return ey(qc(wr).toLowerCase())}function lv(wr){return wr=qc(wr),wr&&wr.replace(Bh,xp).replace(Um,"")}function Q0(wr,Ar,Vr){wr=qc(wr),Ar=Vd(Ar);var lo=wr.length;Vr=Vr===er?lo:Kf(zl(Vr),0,lo);var So=Vr;return Vr-=Ar.length,Vr>=0&&wr.slice(Vr,So)==Ar}function T0(wr){return wr=qc(wr),wr&&vu.test(wr)?wr.replace(bc,sf):wr}function P0(wr){return wr=qc(wr),wr&&bl.test(wr)?wr.replace(ol,"\\$&"):wr}var D0=tm(function(wr,Ar,Vr){return wr+(Vr?"-":"")+Ar.toLowerCase()}),M0=tm(function(wr,Ar,Vr){return wr+(Vr?" ":"")+Ar.toLowerCase()}),f0=Rx("toLowerCase");function N0(wr,Ar,Vr){wr=qc(wr),Ar=zl(Ar);var lo=Ar?fd(wr):0;if(!Ar||lo>=Ar)return wr;var So=(Ar-lo)/2;return Np(Yf(So),Vr)+wr+Np(Uf(So),Vr)}function O0(wr,Ar,Vr){wr=qc(wr),Ar=zl(Ar);var lo=Ar?fd(wr):0;return Ar&&lo<Ar?wr+Np(Ar-lo,Vr):wr}function Wb(wr,Ar,Vr){wr=qc(wr),Ar=zl(Ar);var lo=Ar?fd(wr):0;return Ar&&lo<Ar?Np(Ar-lo,Vr)+wr:wr}function J0(wr,Ar,Vr){return Vr||Ar==null?Ar=0:Ar&&(Ar=+Ar),tl(qc(wr).replace(Bl,""),Ar||0)}function e1(wr,Ar,Vr){return(Vr?rd(wr,Ar,Vr):Ar===er)?Ar=1:Ar=zl(Ar),Jf(qc(wr),Ar)}function p0(){var wr=arguments,Ar=qc(wr[0]);return wr.length<3?Ar:Ar.replace(wr[1],wr[2])}var m0=tm(function(wr,Ar,Vr){return wr+(Vr?"_":"")+Ar.toLowerCase()});function Gb(wr,Ar,Vr){return Vr&&typeof Vr!="number"&&rd(wr,Ar,Vr)&&(Ar=Vr=er),Vr=Vr===er?no:Vr>>>0,Vr?(wr=qc(wr),wr&&(typeof Ar=="string"||Ar!=null&&!Jl(Ar))&&(Ar=Vd(Ar),!Ar&&Wp(wr))?Mf(zu(wr),0,Vr):wr.split(Ar,Vr)):[]}var g0=tm(function(wr,Ar,Vr){return wr+(Vr?" ":"")+ey(Ar)});function L0(wr,Ar,Vr){return wr=qc(wr),Vr=Vr==null?0:Kf(zl(Vr),0,wr.length),Ar=Vd(Ar),wr.slice(Vr,Vr+Ar.length)==Ar}function x0(wr,Ar,Vr){var lo=ko.templateSettings;Vr&&rd(wr,Ar,Vr)&&(Ar=er),wr=qc(wr),Ar=gf({},Ar,lo,Op);var So=gf({},Ar.imports,lo.imports,Op),Oo=wd(So),Ho=jf(So,Oo),Ko,rl,Cl=0,kl=Ar.interpolate||zh,Ml="__p += '",ql=Ng((Ar.escape||zh).source+"|"+kl.source+"|"+(kl===Bc?Qc:zh).source+"|"+(Ar.evaluate||zh).source+"|$","g"),hc="//# sourceURL="+(su.call(Ar,"sourceURL")?(Ar.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tf+"]")+`
`;wr.replace(ql,function(Dc,yu,Pu,lm,dp,cm){return Pu||(Pu=lm),Ml+=wr.slice(Cl,cm).replace(zc,Jm),yu&&(Ko=!0,Ml+=`' +
__e(`+yu+`) +
'`),dp&&(rl=!0,Ml+=`';
`+dp+`;
__p += '`),Pu&&(Ml+=`' +
((__t = (`+Pu+`)) == null ? '' : __t) +
'`),Cl=cm+Dc.length,Dc}),Ml+=`';
`;var Pc=su.call(Ar,"variable")&&Ar.variable;if(!Pc)Ml=`with (obj) {
`+Ml+`
}
`;else if(Mc.test(Pc))throw new mc(ar);Ml=(rl?Ml.replace(Nl,""):Ml).replace(tc,"$1").replace(uc,"$1;"),Ml="function("+(Pc||"obj")+`) {
`+(Pc?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ko?", __e = _.escape":"")+(rl?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ml+`return __p
}`;var uu=y0(function(){return kc(Oo,hc+"return "+Ml).apply(er,Ho)});if(uu.source=Ml,go(uu))throw uu;return uu}function sx(wr){return qc(wr).toLowerCase()}function ax(wr){return qc(wr).toUpperCase()}function ox(wr,Ar,Vr){if(wr=qc(wr),wr&&(Vr||Ar===er))return Hp(wr);if(!wr||!(Ar=Vd(Ar)))return wr;var lo=zu(wr),So=zu(Ar),Oo=dd(lo,So),Ho=px(lo,So)+1;return Mf(lo,Oo,Ho).join("")}function Qv(wr,Ar,Vr){if(wr=qc(wr),wr&&(Vr||Ar===er))return wr.slice(0,Vp(wr)+1);if(!wr||!(Ar=Vd(Ar)))return wr;var lo=zu(wr),So=px(lo,zu(Ar))+1;return Mf(lo,0,So).join("")}function Jv(wr,Ar,Vr){if(wr=qc(wr),wr&&(Vr||Ar===er))return wr.replace(Bl,"");if(!wr||!(Ar=Vd(Ar)))return wr;var lo=zu(wr),So=dd(lo,zu(Ar));return Mf(lo,So).join("")}function lx(wr,Ar){var Vr=qr,lo=Hr;if(Mo(Ar)){var So="separator"in Ar?Ar.separator:So;Vr="length"in Ar?zl(Ar.length):Vr,lo="omission"in Ar?Vd(Ar.omission):lo}wr=qc(wr);var Oo=wr.length;if(Wp(wr)){var Ho=zu(wr);Oo=Ho.length}if(Vr>=Oo)return wr;var Ko=Vr-fd(lo);if(Ko<1)return lo;var rl=Ho?Mf(Ho,0,Ko).join(""):wr.slice(0,Ko);if(So===er)return rl+lo;if(Ho&&(Ko+=rl.length-Ko),Jl(So)){if(wr.slice(Ko).search(So)){var Cl,kl=rl;for(So.global||(So=Ng(So.source,qc(cc.exec(So))+"g")),So.lastIndex=0;Cl=So.exec(kl);)var Ml=Cl.index;rl=rl.slice(0,Ml===er?Ko:Ml)}}else if(wr.indexOf(Vd(So),Ko)!=Ko){var ql=rl.lastIndexOf(So);ql>-1&&(rl=rl.slice(0,ql))}return rl+lo}function n1(wr){return wr=qc(wr),wr&&Cc.test(wr)?wr.replace(Kc,lf):wr}var $0=tm(function(wr,Ar,Vr){return wr+(Vr?" ":"")+Ar.toUpperCase()}),ey=Rx("toUpperCase");function I0(wr,Ar,Vr){return wr=qc(wr),Ar=Vr?er:Ar,Ar===er?Gh(wr)?ng(wr):oy(wr):wr.match(Ar)||[]}var y0=sc(function(wr,Ar){try{return Wu(wr,er,Ar)}catch(Vr){return go(Vr)?Vr:new mc(Vr)}}),Vb=Nd(function(wr,Ar){return wh(Ar,function(Vr){Vr=qd(Vr),Td(wr,Vr,Zy(wr[Vr],wr))}),wr});function F0(wr){var Ar=wr==null?0:wr.length,Vr=gc();return wr=Ar?Fu(wr,function(lo){if(typeof lo[1]!="function")throw new Uh(sr);return[Vr(lo[0]),lo[1]]}):[],sc(function(lo){for(var So=-1;++So<Ar;){var Oo=wr[So];if(Wu(Oo[0],this,lo))return Wu(Oo[1],this,lo)}})}function i1(wr){return Qp(Pd(wr,ur))}function cv(wr){return function(){return wr}}function Ub(wr,Ar){return wr==null||wr!==wr?Ar:wr}var B0=Mp(),uv=Mp(!0);function yf(wr){return wr}function eb(wr){return lg(typeof wr=="function"?wr:Pd(wr,ur))}function Yb(wr){return nh(Pd(wr,ur))}function z0(wr,Ar){return yy(wr,Pd(Ar,ur))}var r1=sc(function(wr,Ar){return function(Vr){return hf(Vr,wr,Ar)}}),Xb=sc(function(wr,Ar){return function(Vr){return hf(wr,Vr,Ar)}});function hr(wr,Ar,Vr){var lo=wd(Ar),So=Qf(Ar,lo);Vr==null&&!(Mo(Ar)&&(So.length||!lo.length))&&(Vr=Ar,Ar=wr,wr=this,So=Qf(Ar,wd(Ar)));var Oo=!(Mo(Vr)&&"chain"in Vr)||!!Vr.chain,Ho=vo(wr);return wh(So,function(Ko){var rl=Ar[Ko];wr[Ko]=rl,Ho&&(wr.prototype[Ko]=function(){var Cl=this.__chain__;if(Oo||Cl){var kl=wr(this.__wrapped__),Ml=kl.__actions__=ch(this.__actions__);return Ml.push({func:rl,args:arguments,thisArg:wr}),kl.__chain__=Cl,kl}return rl.apply(wr,wf([this.value()],arguments))})}),wr}function pr(){return gh._===this&&(gh._=zd),this}function _r(){}function Cr(wr){return wr=zl(wr),sc(function(Ar){return by(Ar,wr)})}var Wr=Gg(Fu),Xr=Gg(hx),xo=Gg(xm);function Ao(wr){return im(wr)?mp(qd(wr)):kh(wr)}function Vo(wr){return function(Ar){return wr==null?er:Pf(wr,Ar)}}var cl=Vg(),wl=Vg(!0);function Rl(){return[]}function hl(){return!1}function gl(){return{}}function rc(){return""}function Sc(){return!0}function sh(wr,Ar){if(wr=zl(wr),wr<1||wr>uo)return[];var Vr=no,lo=jo(wr,no);Ar=gc(Ar),wr-=no;for(var So=Pg(lo,Ar);++Vr<wr;)Ar(Vr);return So}function nl(wr){return Er(wr)?Fu(wr,qd):Hc(wr)?[wr]:ch(Cv(qc(wr)))}function Zo(wr){var Ar=++mx;return qc(wr)+Ar}var ll=Wg(function(wr,Ar){return wr+Ar},0),jl=Ug("ceil"),pc=Wg(function(wr,Ar){return wr/Ar},1),Lu=Ug("floor");function lc(wr){return wr&&wr.length?Dd(wr,yf,Am):er}function Jc(wr,Ar){return wr&&wr.length?Dd(wr,gc(Ar,2),Am):er}function xu(wr){return Km(wr,yf)}function $u(wr,Ar){return Km(wr,gc(Ar,2))}function cx(wr){return wr&&wr.length?Dd(wr,yf,yh):er}function s1(wr,Ar){return wr&&wr.length?Dd(wr,gc(Ar,2),yh):er}var f1=Wg(function(wr,Ar){return wr*Ar},1),p1=Ug("round"),m1=Wg(function(wr,Ar){return wr-Ar},0);function g1(wr){return wr&&wr.length?Qm(wr,yf):0}function x1(wr,Ar){return wr&&wr.length?Qm(wr,gc(Ar,2)):0}return ko.after=Gv,ko.ary=Ky,ko.assign=bd,ko.assignIn=mf,ko.assignInWith=gf,ko.assignWith=Eg,ko.at=_d,ko.before=Vv,ko.bind=Zy,ko.bindAll=Vb,ko.bindKey=Qy,ko.castArray=l0,ko.chain=zm,ko.chunk=_b,ko.compact=kv,ko.concat=Av,ko.cond=F0,ko.conforms=i1,ko.constant=cv,ko.countBy=Cb,ko.create=xf,ko.curry=Kx,ko.curryRight=Jy,ko.debounce=Uv,ko.defaults=Sg,ko.defaultsDeep=qv,ko.defer=Ou,ko.delay=ev,ko.difference=Ix,ko.differenceBy=wb,ko.differenceWith=Lp,ko.drop=jh,ko.dropRight=Tv,ko.dropRightWhile=Eb,ko.dropWhile=Xh,ko.fill=By,ko.filter=Bv,ko.flatMap=Od,ko.flatMapDeep=Ab,ko.flatMapDepth=Tb,ko.flatten=hh,ko.flattenDeep=sd,ko.flattenDepth=sp,ko.flip=a0,ko.flow=B0,ko.flowRight=uv,ko.fromPairs=Pv,ko.functions=W0,ko.functionsIn=G0,ko.groupBy=Yy,ko.initial=n0,ko.intersection=Wy,ko.intersectionBy=yd,ko.intersectionWith=ap,ko.invert=V0,ko.invertBy=U0,ko.invokeMap=tx,ko.iteratee=eb,ko.keyBy=Pb,ko.keys=wd,ko.keysIn=Ff,ko.map=Yx,ko.mapKeys=X0,ko.mapValues=E0,ko.matches=Yb,ko.matchesProperty=z0,ko.memoize=ix,ko.merge=iv,ko.mergeWith=rv,ko.method=r1,ko.methodOf=Xb,ko.mixin=hr,ko.negate=tv,ko.nthArg=Cr,ko.omit=S0,ko.omitBy=q0,ko.once=Yv,ko.orderBy=Hv,ko.over=Wr,ko.overArgs=o0,ko.overEvery=Xr,ko.overSome=xo,ko.partial=wg,ko.partialRight=Hm,ko.partition=Db,ko.pick=sv,ko.pickBy=av,ko.property=Ao,ko.propertyOf=Vo,ko.pull=Lm,ko.pullAll=op,ko.pullAllBy=Gy,ko.pullAllWith=Vy,ko.pullAt=Kd,ko.range=cl,ko.rangeRight=wl,ko.rearg=Xv,ko.reject=i0,ko.remove=Uy,ko.rest=nv,ko.reverse=If,ko.sampleSize=s0,ko.set=Ib,ko.setWith=h0,ko.shuffle=Wv,ko.slice=zx,ko.sortBy=qy,ko.sortedUniq=Qg,ko.sortedUniqBy=Nv,ko.split=Gb,ko.spread=Zx,ko.tail=Im,ko.take=Hx,ko.takeRight=pu,ko.takeRightWhile=Xu,ko.takeWhile=Uc,ko.tap=$v,ko.throttle=Wm,ko.thru=_g,ko.toArray=Bu,ko.toPairs=Fb,ko.toPairsIn=Zv,ko.toPath=nl,ko.toPlainObject=od,ko.transform=R0,ko.unary=Ip,ko.union=lu,ko.unionBy=Nu,ko.unionWith=vd,ko.uniq=Fm,ko.uniqBy=yg,ko.uniqWith=Ov,ko.unset=C0,ko.unzip=cp,ko.unzipWith=vh,ko.update=K0,ko.updateWith=k0,ko.values=ov,ko.valuesIn=d0,ko.without=Bm,ko.words=I0,ko.wrap=Qx,ko.xor=vg,ko.xorBy=Wx,ko.xorWith=ff,ko.zip=bg,ko.zipObject=Gx,ko.zipObjectDeep=Zd,ko.zipWith=Lv,ko.entries=Fb,ko.entriesIn=Zv,ko.extend=mf,ko.extendWith=gf,hr(ko,ko),ko.add=ll,ko.attempt=y0,ko.camelCase=Hb,ko.capitalize=A0,ko.ceil=jl,ko.clamp=Z0,ko.clone=Nb,ko.cloneDeep=Jx,ko.cloneDeepWith=Lb,ko.cloneWith=Ob,ko.conformsTo=c0,ko.deburr=lv,ko.defaultTo=Ub,ko.divide=pc,ko.endsWith=Q0,ko.eq=pf,ko.escape=T0,ko.escapeRegExp=P0,ko.every=Vx,ko.find=Qd,ko.findIndex=Fx,ko.findKey=b0,ko.findLast=kb,ko.findLastIndex=zy,ko.findLastKey=Kv,ko.floor=Lu,ko.forEach=zv,ko.forEachRight=hp,ko.forIn=Fp,ko.forInRight=_0,ko.forOwn=$b,ko.forOwnRight=jg,ko.get=rx,ko.gt=Ur,ko.gte=mr,ko.has=w0,ko.hasIn=u0,ko.head=Dv,ko.identity=yf,ko.includes=Ux,ko.indexOf=Hy,ko.inRange=Bb,ko.invoke=Y0,ko.isArguments=br,ko.isArray=Er,ko.isArrayBuffer=Pr,ko.isArrayLike=Dr,ko.isArrayLikeObject=$r,ko.isBoolean=Ir,ko.isBuffer=zr,ko.isDate=Kr,ko.isElement=eo,ko.isEmpty=Zr,ko.isEqual=so,ko.isEqualWith=po,ko.isError=go,ko.isFinite=_o,ko.isFunction=vo,ko.isInteger=yo,ko.isLength=Do,ko.isMap=Yo,ko.isMatch=Xo,ko.isMatchWith=qo,ko.isNaN=Wo,ko.isNative=xl,ko.isNil=yl,ko.isNull=vl,ko.isNumber=Fl,ko.isObject=Mo,ko.isObjectLike=Io,ko.isPlainObject=Zl,ko.isRegExp=Jl,ko.isSafeInteger=Ll,ko.isSet=Gl,ko.isString=Ql,ko.isSymbol=Hc,ko.isTypedArray=Tc,ko.isUndefined=ad,ko.isWeakMap=yc,ko.isWeakSet=xc,ko.join=Sb,ko.kebabCase=D0,ko.last=dh,ko.lastIndexOf=Bx,ko.lowerCase=M0,ko.lowerFirst=f0,ko.lt=mu,ko.lte=Wc,ko.max=lc,ko.maxBy=Jc,ko.mean=xu,ko.meanBy=$u,ko.min=cx,ko.minBy=s1,ko.stubArray=Rl,ko.stubFalse=hl,ko.stubObject=gl,ko.stubString=rc,ko.stubTrue=Sc,ko.multiply=f1,ko.nth=$f,ko.noConflict=pr,ko.noop=_r,ko.now=qx,ko.pad=N0,ko.padEnd=O0,ko.padStart=Wb,ko.parseInt=J0,ko.random=zb,ko.reduce=Xx,ko.reduceRight=Xy,ko.repeat=e1,ko.replace=p0,ko.result=j0,ko.round=p1,ko.runInContext=Jo,ko.sample=r0,ko.size=Mb,ko.snakeCase=m0,ko.some=nx,ko.sortedIndex=$m,ko.sortedIndexBy=am,ko.sortedIndexOf=jb,ko.sortedLastIndex=Rb,ko.sortedLastIndexBy=lp,ko.sortedLastIndexOf=Mv,ko.startCase=g0,ko.startsWith=L0,ko.subtract=m1,ko.sum=g1,ko.sumBy=x1,ko.template=x0,ko.times=sh,ko.toFinite=cu,ko.toInteger=zl,ko.toLength=rh,ko.toLower=sx,ko.toNumber=qu,ko.toSafeInteger=Gm,ko.toString=qc,ko.toUpper=ax,ko.trim=ox,ko.trimEnd=Qv,ko.trimStart=Jv,ko.truncate=lx,ko.unescape=n1,ko.uniqueId=Zo,ko.upperCase=$0,ko.upperFirst=ey,ko.each=zv,ko.eachRight=hp,ko.first=Dv,hr(ko,(function(){var wr={};return Eh(ko,function(Ar,Vr){su.call(ko.prototype,Vr)||(wr[Vr]=Ar)}),wr})(),{chain:!1}),ko.VERSION=nr,wh(["bind","bindKey","curry","curryRight","partial","partialRight"],function(wr){ko[wr].placeholder=ko}),wh(["drop","take"],function(wr,Ar){Ac.prototype[wr]=function(Vr){Vr=Vr===er?1:ho(zl(Vr),0);var lo=this.__filtered__&&!Ar?new Ac(this):this.clone();return lo.__filtered__?lo.__takeCount__=jo(Vr,lo.__takeCount__):lo.__views__.push({size:jo(Vr,no),type:wr+(lo.__dir__<0?"Right":"")}),lo},Ac.prototype[wr+"Right"]=function(Vr){return this.reverse()[wr](Vr).reverse()}}),wh(["filter","map","takeWhile"],function(wr,Ar){var Vr=Ar+1,lo=Vr==io||Vr==ao;Ac.prototype[wr]=function(So){var Oo=this.clone();return Oo.__iteratees__.push({iteratee:gc(So,3),type:Vr}),Oo.__filtered__=Oo.__filtered__||lo,Oo}}),wh(["head","last"],function(wr,Ar){var Vr="take"+(Ar?"Right":"");Ac.prototype[wr]=function(){return this[Vr](1).value()[0]}}),wh(["initial","tail"],function(wr,Ar){var Vr="drop"+(Ar?"":"Right");Ac.prototype[wr]=function(){return this.__filtered__?new Ac(this):this[Vr](1)}}),Ac.prototype.compact=function(){return this.filter(yf)},Ac.prototype.find=function(wr){return this.filter(wr).head()},Ac.prototype.findLast=function(wr){return this.reverse().find(wr)},Ac.prototype.invokeMap=sc(function(wr,Ar){return typeof wr=="function"?new Ac(this):this.map(function(Vr){return hf(Vr,wr,Ar)})}),Ac.prototype.reject=function(wr){return this.filter(tv(gc(wr)))},Ac.prototype.slice=function(wr,Ar){wr=zl(wr);var Vr=this;return Vr.__filtered__&&(wr>0||Ar<0)?new Ac(Vr):(wr<0?Vr=Vr.takeRight(-wr):wr&&(Vr=Vr.drop(wr)),Ar!==er&&(Ar=zl(Ar),Vr=Ar<0?Vr.dropRight(-Ar):Vr.take(Ar-wr)),Vr)},Ac.prototype.takeRightWhile=function(wr){return this.reverse().takeWhile(wr).reverse()},Ac.prototype.toArray=function(){return this.take(no)},Eh(Ac.prototype,function(wr,Ar){var Vr=/^(?:filter|find|map|reject)|While$/.test(Ar),lo=/^(?:head|last)$/.test(Ar),So=ko[lo?"take"+(Ar=="last"?"Right":""):Ar],Oo=lo||/^find/.test(Ar);So&&(ko.prototype[Ar]=function(){var Ho=this.__wrapped__,Ko=lo?[1]:arguments,rl=Ho instanceof Ac,Cl=Ko[0],kl=rl||Er(Ho),Ml=function(yu){var Pu=So.apply(ko,wf([yu],Ko));return lo&&ql?Pu[0]:Pu};kl&&Vr&&typeof Cl=="function"&&Cl.length!=1&&(rl=kl=!1);var ql=this.__chain__,hc=!!this.__actions__.length,Pc=Oo&&!ql,uu=rl&&!hc;if(!Oo&&kl){Ho=uu?Ho:new Ac(this);var Dc=wr.apply(Ho,Ko);return Dc.__actions__.push({func:_g,args:[Ml],thisArg:er}),new $h(Dc,ql)}return Pc&&uu?wr.apply(this,Ko):(Dc=this.thru(Ml),Pc?lo?Dc.value()[0]:Dc.value():Dc)})}),wh(["pop","push","shift","sort","splice","unshift"],function(wr){var Ar=vp[wr],Vr=/^(?:push|sort|unshift)$/.test(wr)?"tap":"thru",lo=/^(?:pop|shift)$/.test(wr);ko.prototype[wr]=function(){var So=arguments;if(lo&&!this.__chain__){var Oo=this.value();return Ar.apply(Er(Oo)?Oo:[],So)}return this[Vr](function(Ho){return Ar.apply(Er(Ho)?Ho:[],So)})}}),Eh(Ac.prototype,function(wr,Ar){var Vr=ko[Ar];if(Vr){var lo=Vr.name+"";su.call(iu,lo)||(iu[lo]=[]),iu[lo].push({name:Ar,func:Vr})}}),iu[mg(er,jr).name]=[{name:"wrapper",func:er}],Ac.prototype.clone=Dh,Ac.prototype.reverse=Sm,Ac.prototype.value=Yp,ko.prototype.at=Jg,ko.prototype.chain=up,ko.prototype.commit=Fh,ko.prototype.next=om,ko.prototype.plant=$p,ko.prototype.reverse=Iv,ko.prototype.toJSON=ko.prototype.valueOf=ko.prototype.value=Fv,ko.prototype.first=ko.prototype.head,Ph&&(ko.prototype[Ph]=ex),ko}),Bd=yp();Qh?((Qh.exports=Bd)._=Bd,Zh._=Bd):gh._=Bd}).call(lodash)})(lodash$1,lodash$1.exports)),lodash$1.exports}var lodashExports=requireLodash();const _$2=getDefaultExportFromCjs(lodashExports);Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);const TIME_RANGES$1=[{label:"7 ngy",days:7,urlParam:"7"},{label:"30 ngy",days:30,urlParam:"30"},{label:"90 ngy",days:90,urlParam:"90"},{label:"1 nm",days:365,urlParam:"365"},{label:"Tt c",days:9999,urlParam:"all"}],formatNumber$1=tr=>new Intl.NumberFormat("en-US").format(tr);function GoldChart(){const tr=useNavigate(),Hn=useLocation(),[er,nr]=reactExports.useState("bar"),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!0),lr=new URLSearchParams(Hn.search).get("duration")||"7",cr=TIME_RANGES$1.find(Nr=>Nr.urlParam===lr)||TIME_RANGES$1[0],ur=cr.days;reactExports.useEffect(()=>{(async()=>{ar(!0);try{const Fr=await(await fetch("https://api_gold.thinkdiff.us/spdr_mua_ban")).json();Fr&&Fr.data&&Fr.data.data&&rr(Fr.data)}catch(Or){console.error("Li khi ly d liu vng:",Or)}finally{ar(!1)}})()},[]);const{chartLabels:dr,datasets:fr,rawFilteredData:gr}=reactExports.useMemo(()=>{if(!ir?.data?.dates)return{chartLabels:[],datasets:[],rawFilteredData:[]};let Nr=_$2.cloneDeep(ir.data.dates);Nr.sort((Hr,Yr)=>new Date(Hr.dt)-new Date(Yr.dt));const Or=Nr.map((Hr,Yr)=>{const ro=Yr===0?Hr.amount:Nr[Yr-1].amount,io=Hr.change!==void 0?Hr.change:Hr.amount-ro;return{...Hr,calculatedChange:io,displayHoldings:Hr.amount-Math.abs(io)*10}}),Fr=ur>=9999?Or:Or.slice(-ur),Gr=Fr.map(Hr=>{const Yr=new Date(Hr.dt),ro=String(Yr.getDate()).padStart(2,"0"),io=String(Yr.getMonth()+1).padStart(2,"0"),fo=Yr.getFullYear();return ur<=30?`${ro}/${io}`:`${ro}/${io}/${fo}`}),qr=[{type:"line",label:"Mua / Bn (Line)",data:Fr.map(Hr=>Hr.calculatedChange),borderColor:"#39CF96",backgroundColor:"#39CF96",yAxisID:"y1",tension:.3,pointRadius:2,order:1},{type:"bar",label:"Thay i",data:Fr.map(Hr=>Math.abs(Hr.calculatedChange)*10),backgroundColor:Fr.map(Hr=>Hr.calculatedChange>=0?"#39CF96":"#E74C3C"),yAxisID:"y2",stack:"stack1",barThickness:"flex",order:2},{type:"bar",label:"SL nm gi",data:Fr.map(Hr=>Hr.amount-Math.abs(Hr.calculatedChange)*10),backgroundColor:"#FFF443",yAxisID:"y2",stack:"stack1",barThickness:"flex",order:3}];return{chartLabels:Gr,datasets:qr,rawFilteredData:Fr}},[ir,ur]),yr=Nr=>{const Or=new URLSearchParams(Hn.search);Or.set("duration",Nr),tr(`${Hn.pathname}?${Or.toString()}`,{replace:!0})},vr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y1:{position:"left",title:{display:!0,text:"Mua / Bn (tn)",color:"white"},grid:{drawOnChartArea:!1}},y2:{position:"right",title:{display:!0,text:"Tng lng nm gi (tn)",color:"white"},grid:{drawOnChartArea:!1}}},plugins:{tooltip:{callbacks:{title:Nr=>{const Or=gr[Nr[0].dataIndex]?.dt;return Or?new Date(Or).toLocaleDateString("vi-VN"):""},label:Nr=>{const Or=gr[Nr.dataIndex],Fr=Nr.dataset.label;return Fr==="SL nm gi"?`SL nm gi: ${Or.amount} tn (${Or.calculatedChange>=0?"+":""}${Or.calculatedChange.toFixed(2)})`:Fr==="Thay i"?`Thay i: ${Math.abs(Or.calculatedChange).toFixed(2)} tn`:`${Fr}: ${Nr.raw}`}}}}};if(sr)return jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu vng..."})]});if(!ir)return jsxRuntimeExports.jsx("div",{className:"loading-container",children:"Khng th ti d liu."});const jr=gr[gr.length-1]?.amount||0,Sr=Nr=>gr[gr.length-1-Nr]?.amount,Tr=(Nr,Or)=>Or?(Nr-Or)/Or*100:null,Lr={day1:Tr(jr,Sr(1)),day2:Tr(jr,Sr(2)),day3:Tr(jr,Sr(3)),day4:Tr(jr,Sr(4)),week1:Tr(jr,Sr(7))},Mr=(()=>{const Nr=gr[gr.length-1],Or=gr[gr.length-2];if(!Nr||!Or)return null;const Fr=Nr.amount-Or.amount,Gr=Math.abs(Fr)/31.1034768*1e6*(Nr.gold_price||0);return{isBuy:Fr>0,isZero:Fr===0,valueBillionUSD:Gr/1e9}})();return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{margin:"40px 0 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:jsxRuntimeExports.jsx("h4",{style:{fontSize:"1.8rem",fontWeight:700,color:"#ffd700",textAlign:"center",margin:0},children:"Biu  SPDR Gold Trust"})}),jsxRuntimeExports.jsx("div",{className:"gc-main-box",children:jsxRuntimeExports.jsxs("div",{className:`gc-split-layout ${er==="table"?"is-table-mode":""}`,children:[jsxRuntimeExports.jsx("div",{className:"gc-left-panel",children:jsxRuntimeExports.jsxs("div",{className:"gc-toolbar",children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:"10px 0"},children:TIME_RANGES$1.map(Nr=>jsxRuntimeExports.jsx("button",{onClick:()=>yr(Nr.urlParam),style:{padding:"8px 15px",margin:"5px",borderRadius:"8px",border:"none",cursor:"pointer",background:cr.urlParam===Nr.urlParam?"#FFF443":"#494A50",color:cr.urlParam===Nr.urlParam?"#000":"#FFF",fontWeight:cr.urlParam===Nr.urlParam?"bold":"normal"},children:Nr.label},Nr.urlParam))}),jsxRuntimeExports.jsx("label",{className:"gc-label",children:"T l thay i:"}),jsxRuntimeExports.jsx("div",{className:"gc-percentage-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"}].map(({key:Nr,label:Or})=>Lr[Nr]!=null&&jsxRuntimeExports.jsxs("div",{className:`gc-percent-item ${Lr[Nr]>=0?"up":"down"}`,children:[jsxRuntimeExports.jsxs("span",{className:"label",children:["Trong ",Or]}),jsxRuntimeExports.jsxs("span",{className:"value",children:[Lr[Nr]>=0?"+":"",Lr[Nr].toFixed(2),"%"]})]},Nr))}),jsxRuntimeExports.jsxs("div",{className:"gc-avg-box",children:[jsxRuntimeExports.jsx("label",{className:"gc-label2",children:"S lng nm gi trung bnh"}),jsxRuntimeExports.jsxs("div",{className:"gc-avg-value",children:[formatNumber$1(_$2.meanBy(gr,"amount").toFixed(2))," ",jsxRuntimeExports.jsx("span",{children:"Tn"})]}),jsxRuntimeExports.jsxs("div",{className:"gc-avg-sub",children:["Trung bnh trong ",cr.label.toLowerCase()]})]}),jsxRuntimeExports.jsxs("div",{className:"gc-update-box",children:[jsxRuntimeExports.jsx("label",{className:"gc-label2",children:"D liu c cp nht ln cui:"}),jsxRuntimeExports.jsx("div",{className:"gc-update-item",children:gr[gr.length-1]?.dt})]}),Mr&&jsxRuntimeExports.jsxs("div",{className:"gc-avg-box",children:[jsxRuntimeExports.jsx("label",{className:"gc-label2",children:Mr.isZero?"Khng c giao dch rng":Mr.isBuy?"Mua rng trong 1 ngy":"Bn rng trong 1 ngy"}),jsxRuntimeExports.jsx("div",{className:"gc-avg-value",style:{color:Mr.isZero?"#B2B2B2":Mr.isBuy?"#39CF96":"#E74C3C"},children:Mr.isZero?"0 USD":`${Mr.isBuy?"+":"-"}${Mr.valueBillionUSD.toFixed(2)} T USD`}),jsxRuntimeExports.jsx("div",{className:"gc-avg-sub",children:"Tnh t thay i s lng & gi vng"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"gc-right-panel",children:[er==="bar"&&jsxRuntimeExports.jsx("div",{style:{height:"520px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:{labels:dr,datasets:fr},options:vr})}),er==="line"&&jsxRuntimeExports.jsx("div",{style:{height:"520px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:{labels:dr,datasets:[fr[0]]},options:vr})}),er==="table"&&jsxRuntimeExports.jsx("div",{className:"gc-table-container",children:jsxRuntimeExports.jsxs("table",{className:"gc-custom-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Ngy"}),jsxRuntimeExports.jsx("th",{children:"S lng (Tn)"}),jsxRuntimeExports.jsx("th",{children:"Thay i"}),jsxRuntimeExports.jsx("th",{children:"Gi vng"})]})}),jsxRuntimeExports.jsx("tbody",{children:[...gr].reverse().map((Nr,Or)=>jsxRuntimeExports.jsxs("tr",{style:{backgroundColor:Or%2===0?"transparent":"rgba(255,255,255,0.03)"},children:[jsxRuntimeExports.jsx("td",{style:{textAlign:"left"},children:Nr.dt}),jsxRuntimeExports.jsx("td",{children:formatNumber$1(Nr.amount)}),jsxRuntimeExports.jsxs("td",{style:{color:Nr.calculatedChange>0?"#39CF96":Nr.calculatedChange<0?"#E74C3C":"#ccc"},children:[Nr.calculatedChange>0?"+":"",Nr.calculatedChange.toFixed(2)]}),jsxRuntimeExports.jsx("td",{children:formatNumber$1(Nr.gold_price)})]},Or))})]})})]})]})})]})}const interaction={modes:{point(tr,Hn){return filterElements(tr,Hn,{intersect:!0})},nearest(tr,Hn,er){return getNearestItem(tr,Hn,er)},x(tr,Hn,er){return filterElements(tr,Hn,{intersect:er.intersect,axis:"x"})},y(tr,Hn,er){return filterElements(tr,Hn,{intersect:er.intersect,axis:"y"})}}};function getElements(tr,Hn,er){return(interaction.modes[er.mode]||interaction.modes.nearest)(tr,Hn,er)}function inRangeByAxis(tr,Hn,er){return er!=="x"&&er!=="y"?tr.inRange(Hn.x,Hn.y,"x",!0)||tr.inRange(Hn.x,Hn.y,"y",!0):tr.inRange(Hn.x,Hn.y,er,!0)}function getPointByAxis(tr,Hn,er){return er==="x"?{x:tr.x,y:Hn.y}:er==="y"?{x:Hn.x,y:tr.y}:Hn}function filterElements(tr,Hn,er){return tr.filter(nr=>er.intersect?nr.inRange(Hn.x,Hn.y):inRangeByAxis(nr,Hn,er.axis))}function getNearestItem(tr,Hn,er){let nr=Number.POSITIVE_INFINITY;return filterElements(tr,Hn,er).reduce((ir,rr)=>{const sr=rr.getCenterPoint(),ar=getPointByAxis(Hn,sr,er.axis),or=distanceBetweenPoints$1(Hn,ar);return or<nr?(ir=[rr],nr=or):or===nr&&ir.push(rr),ir},[]).sort((ir,rr)=>ir._index-rr._index).slice(0,1)}function rotated(tr,Hn,er){const nr=Math.cos(er),ir=Math.sin(er),rr=Hn.x,sr=Hn.y;return{x:rr+nr*(tr.x-rr)-ir*(tr.y-sr),y:sr+ir*(tr.x-rr)+nr*(tr.y-sr)}}const isOlderPart=(tr,Hn)=>Hn>tr||tr.length>Hn.length&&tr.slice(0,Hn.length)===Hn,EPSILON=.001,clamp$1=(tr,Hn,er)=>Math.min(er,Math.max(Hn,tr)),inLimit=(tr,Hn)=>tr.value>=tr.start-Hn&&tr.value<=tr.end+Hn;function clampAll(tr,Hn,er){for(const nr of Object.keys(tr))tr[nr]=clamp$1(tr[nr],Hn,er);return tr}function inPointRange(tr,Hn,er,nr){return!tr||!Hn||er<=0?!1:Math.pow(tr.x-Hn.x,2)+Math.pow(tr.y-Hn.y,2)<=Math.pow(er+nr,2)}function inBoxRange(tr,{x:Hn,y:er,x2:nr,y2:ir},rr,{borderWidth:sr,hitTolerance:ar}){const or=(sr+ar)/2,lr=tr.x>=Hn-or-EPSILON&&tr.x<=nr+or+EPSILON,cr=tr.y>=er-or-EPSILON&&tr.y<=ir+or+EPSILON;return rr==="x"?lr:(rr==="y"||lr)&&cr}function inLabelRange(tr,{rect:Hn,center:er},nr,{rotation:ir,borderWidth:rr,hitTolerance:sr}){const ar=rotated(tr,er,toRadians(-ir));return inBoxRange(ar,Hn,nr,{borderWidth:rr,hitTolerance:sr})}function getElementCenterPoint(tr,Hn){const{centerX:er,centerY:nr}=tr.getProps(["centerX","centerY"],Hn);return{x:er,y:nr}}function requireVersion(tr,Hn,er,nr=!0){const ir=er.split(".");let rr=0;for(const sr of Hn.split(".")){const ar=ir[rr++];if(parseInt(sr,10)<parseInt(ar,10))break;if(isOlderPart(ar,sr)){if(nr)throw new Error(`${tr} v${er} is not supported. v${Hn} or newer is required.`);return!1}}return!0}const isPercentString=tr=>typeof tr=="string"&&tr.endsWith("%"),toPercent$1=tr=>parseFloat(tr)/100,toPositivePercent=tr=>clamp$1(toPercent$1(tr),0,1),boxAppering=(tr,Hn)=>({x:tr,y:Hn,x2:tr,y2:Hn,width:0,height:0}),defaultInitAnimation={box:tr=>boxAppering(tr.centerX,tr.centerY),doughnutLabel:tr=>boxAppering(tr.centerX,tr.centerY),ellipse:tr=>({centerX:tr.centerX,centerY:tr.centerX,radius:0,width:0,height:0}),label:tr=>boxAppering(tr.centerX,tr.centerY),line:tr=>boxAppering(tr.x,tr.y),point:tr=>({centerX:tr.centerX,centerY:tr.centerY,radius:0,width:0,height:0}),polygon:tr=>boxAppering(tr.centerX,tr.centerY)};function getRelativePosition(tr,Hn){return Hn==="start"?0:Hn==="end"?tr:isPercentString(Hn)?toPositivePercent(Hn)*tr:tr/2}function getSize(tr,Hn,er=!0){return typeof Hn=="number"?Hn:isPercentString(Hn)?(er?toPositivePercent(Hn):toPercent$1(Hn))*tr:tr}function calculateTextAlignment(tr,Hn){const{x:er,width:nr}=tr,ir=Hn.textAlign;return ir==="center"?er+nr/2:ir==="end"||ir==="right"?er+nr:er}function measureLabelRectangle(tr,Hn,{borderWidth:er,position:nr,xAdjust:ir,yAdjust:rr},sr){const ar=isObject$2(sr),or=Hn.width+(ar?sr.width:0)+er,lr=Hn.height+(ar?sr.height:0)+er,cr=toPosition(nr),ur=calculateLabelPosition$1(tr.x,or,ir,cr.x),dr=calculateLabelPosition$1(tr.y,lr,rr,cr.y);return{x:ur,y:dr,x2:ur+or,y2:dr+lr,width:or,height:lr,centerX:ur+or/2,centerY:dr+lr/2}}function toPosition(tr,Hn="center"){return isObject$2(tr)?{x:valueOrDefault(tr.x,Hn),y:valueOrDefault(tr.y,Hn)}:(tr=valueOrDefault(tr,Hn),{x:tr,y:tr})}const shouldFit=(tr,Hn)=>tr&&tr.autoFit&&Hn<1;function toFonts(tr,Hn){const er=tr.font,nr=isArray$1(er)?er:[er];return shouldFit(tr,Hn)?nr.map(function(ir){const rr=toFont(ir);return rr.size=Math.floor(ir.size*Hn),rr.lineHeight=ir.lineHeight,toFont(rr)}):nr.map(ir=>toFont(ir))}function isBoundToPoint(tr){return tr&&(defined$1(tr.xValue)||defined$1(tr.yValue))}function calculateLabelPosition$1(tr,Hn,er=0,nr){return tr-getRelativePosition(Hn,nr)+er}function initAnimationProperties(tr,Hn,er){const nr=er.init;if(nr){if(nr===!0)return applyDefault(Hn,er)}else return;return execCallback(tr,Hn,er)}function loadHooks(tr,Hn,er){let nr=!1;return Hn.forEach(ir=>{isFunction$2(tr[ir])?(nr=!0,er[ir]=tr[ir]):defined$1(er[ir])&&delete er[ir]}),nr}function applyDefault(tr,Hn){const er=Hn.type||"line";return defaultInitAnimation[er](tr)}function execCallback(tr,Hn,er){const nr=callback(er.init,[{chart:tr,properties:Hn,options:er}]);if(nr===!0)return applyDefault(Hn,er);if(isObject$2(nr))return nr}const widthCache=new Map,notRadius=tr=>isNaN(tr)||tr<=0,fontsKey=tr=>tr.reduce(function(Hn,er){return Hn+=er.string,Hn},"");function isImageOrCanvas(tr){if(tr&&typeof tr=="object"){const Hn=tr.toString();return Hn==="[object HTMLImageElement]"||Hn==="[object HTMLCanvasElement]"}}function translate(tr,{x:Hn,y:er},nr){nr&&(tr.translate(Hn,er),tr.rotate(toRadians(nr)),tr.translate(-Hn,-er))}function setBorderStyle(tr,Hn){if(Hn&&Hn.borderWidth)return tr.lineCap=Hn.borderCapStyle||"butt",tr.setLineDash(Hn.borderDash),tr.lineDashOffset=Hn.borderDashOffset,tr.lineJoin=Hn.borderJoinStyle||"miter",tr.lineWidth=Hn.borderWidth,tr.strokeStyle=Hn.borderColor,!0}function setShadowStyle(tr,Hn){tr.shadowColor=Hn.backgroundShadowColor,tr.shadowBlur=Hn.shadowBlur,tr.shadowOffsetX=Hn.shadowOffsetX,tr.shadowOffsetY=Hn.shadowOffsetY}function measureLabelSize(tr,Hn){const er=Hn.content;if(isImageOrCanvas(er))return{width:getSize(er.width,Hn.width),height:getSize(er.height,Hn.height)};const nr=toFonts(Hn),ir=Hn.textStrokeWidth,rr=isArray$1(er)?er:[er],sr=rr.join()+fontsKey(nr)+ir+(tr._measureText?"-spriting":"");return widthCache.has(sr)||widthCache.set(sr,calculateLabelSize(tr,rr,nr,ir)),widthCache.get(sr)}function drawBox(tr,Hn,er){const{x:nr,y:ir,width:rr,height:sr}=Hn;tr.save(),setShadowStyle(tr,er);const ar=setBorderStyle(tr,er);tr.fillStyle=er.backgroundColor,tr.beginPath(),addRoundedRectPath(tr,{x:nr,y:ir,w:rr,h:sr,radius:clampAll(toTRBLCorners(er.borderRadius),0,Math.min(rr,sr)/2)}),tr.closePath(),tr.fill(),ar&&(tr.shadowColor=er.borderShadowColor,tr.stroke()),tr.restore()}function drawLabel(tr,Hn,er,nr){const ir=er.content;if(isImageOrCanvas(ir)){tr.save(),tr.globalAlpha=getOpacity(er.opacity,ir.style.opacity),tr.drawImage(ir,Hn.x,Hn.y,Hn.width,Hn.height),tr.restore();return}const rr=isArray$1(ir)?ir:[ir],sr=toFonts(er,nr),ar=er.color,or=isArray$1(ar)?ar:[ar],lr=calculateTextAlignment(Hn,er),cr=Hn.y+er.textStrokeWidth/2;tr.save(),tr.textBaseline="middle",tr.textAlign=er.textAlign,setTextStrokeStyle(tr,er)&&applyLabelDecoration(tr,{x:lr,y:cr},rr,sr),applyLabelContent(tr,{x:lr,y:cr},rr,{fonts:sr,colors:or}),tr.restore()}function setTextStrokeStyle(tr,Hn){if(Hn.textStrokeWidth>0)return tr.lineJoin="round",tr.miterLimit=2,tr.lineWidth=Hn.textStrokeWidth,tr.strokeStyle=Hn.textStrokeColor,!0}function drawPoint(tr,Hn,er,nr){const{radius:ir,options:rr}=Hn,sr=rr.pointStyle,ar=rr.rotation;let or=(ar||0)*RAD_PER_DEG;if(isImageOrCanvas(sr)){tr.save(),tr.translate(er,nr),tr.rotate(or),tr.drawImage(sr,-sr.width/2,-sr.height/2,sr.width,sr.height),tr.restore();return}notRadius(ir)||drawPointStyle(tr,{x:er,y:nr,radius:ir,rotation:ar,style:sr,rad:or})}function drawPointStyle(tr,{x:Hn,y:er,radius:nr,rotation:ir,style:rr,rad:sr}){let ar,or,lr,cr;switch(tr.beginPath(),rr){default:tr.arc(Hn,er,nr,0,TAU),tr.closePath();break;case"triangle":tr.moveTo(Hn+Math.sin(sr)*nr,er-Math.cos(sr)*nr),sr+=TWO_THIRDS_PI,tr.lineTo(Hn+Math.sin(sr)*nr,er-Math.cos(sr)*nr),sr+=TWO_THIRDS_PI,tr.lineTo(Hn+Math.sin(sr)*nr,er-Math.cos(sr)*nr),tr.closePath();break;case"rectRounded":cr=nr*.516,lr=nr-cr,ar=Math.cos(sr+QUARTER_PI)*lr,or=Math.sin(sr+QUARTER_PI)*lr,tr.arc(Hn-ar,er-or,cr,sr-PI,sr-HALF_PI),tr.arc(Hn+or,er-ar,cr,sr-HALF_PI,sr),tr.arc(Hn+ar,er+or,cr,sr,sr+HALF_PI),tr.arc(Hn-or,er+ar,cr,sr+HALF_PI,sr+PI),tr.closePath();break;case"rect":if(!ir){lr=Math.SQRT1_2*nr,tr.rect(Hn-lr,er-lr,2*lr,2*lr);break}sr+=QUARTER_PI;case"rectRot":ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+or,er-ar),tr.lineTo(Hn+ar,er+or),tr.lineTo(Hn-or,er+ar),tr.closePath();break;case"crossRot":sr+=QUARTER_PI;case"cross":ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+ar,er+or),tr.moveTo(Hn+or,er-ar),tr.lineTo(Hn-or,er+ar);break;case"star":ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+ar,er+or),tr.moveTo(Hn+or,er-ar),tr.lineTo(Hn-or,er+ar),sr+=QUARTER_PI,ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+ar,er+or),tr.moveTo(Hn+or,er-ar),tr.lineTo(Hn-or,er+ar);break;case"line":ar=Math.cos(sr)*nr,or=Math.sin(sr)*nr,tr.moveTo(Hn-ar,er-or),tr.lineTo(Hn+ar,er+or);break;case"dash":tr.moveTo(Hn,er),tr.lineTo(Hn+Math.cos(sr)*nr,er+Math.sin(sr)*nr);break}tr.fill()}function calculateLabelSize(tr,Hn,er,nr){tr.save();const ir=Hn.length;let rr=0,sr=nr;for(let ar=0;ar<ir;ar++){const or=er[Math.min(ar,er.length-1)];tr.font=or.string;const lr=Hn[ar];rr=Math.max(rr,tr.measureText(lr).width+nr),sr+=or.lineHeight}return tr.restore(),{width:rr,height:sr}}function applyLabelDecoration(tr,{x:Hn,y:er},nr,ir){tr.beginPath();let rr=0;nr.forEach(function(sr,ar){const or=ir[Math.min(ar,ir.length-1)],lr=or.lineHeight;tr.font=or.string,tr.strokeText(sr,Hn,er+lr/2+rr),rr+=lr}),tr.stroke()}function applyLabelContent(tr,{x:Hn,y:er},nr,{fonts:ir,colors:rr}){let sr=0;nr.forEach(function(ar,or){const lr=rr[Math.min(or,rr.length-1)],cr=ir[Math.min(or,ir.length-1)],ur=cr.lineHeight;tr.beginPath(),tr.font=cr.string,tr.fillStyle=lr,tr.fillText(ar,Hn,er+ur/2+sr),sr+=ur,tr.fill()})}function getOpacity(tr,Hn){const er=isNumber$2(tr)?tr:Hn;return isNumber$2(er)?clamp$1(er,0,1):1}const positions=["left","bottom","top","right"];function drawCallout(tr,Hn){const{pointX:er,pointY:nr,options:ir}=Hn,rr=ir.callout,sr=rr&&rr.display&&resolveCalloutPosition(Hn,rr);if(!sr||isPointInRange(Hn,rr,sr))return;if(tr.save(),tr.beginPath(),!setBorderStyle(tr,rr))return tr.restore();const{separatorStart:or,separatorEnd:lr}=getCalloutSeparatorCoord(Hn,sr),{sideStart:cr,sideEnd:ur}=getCalloutSideCoord(Hn,sr,or);(rr.margin>0||ir.borderWidth===0)&&(tr.moveTo(or.x,or.y),tr.lineTo(lr.x,lr.y)),tr.moveTo(cr.x,cr.y),tr.lineTo(ur.x,ur.y);const dr=rotated({x:er,y:nr},Hn.getCenterPoint(),toRadians(-Hn.rotation));tr.lineTo(dr.x,dr.y),tr.stroke(),tr.restore()}function getCalloutSeparatorCoord(tr,Hn){const{x:er,y:nr,x2:ir,y2:rr}=tr,sr=getCalloutSeparatorAdjust(tr,Hn);let ar,or;return Hn==="left"||Hn==="right"?(ar={x:er+sr,y:nr},or={x:ar.x,y:rr}):(ar={x:er,y:nr+sr},or={x:ir,y:ar.y}),{separatorStart:ar,separatorEnd:or}}function getCalloutSeparatorAdjust(tr,Hn){const{width:er,height:nr,options:ir}=tr,rr=ir.callout.margin+ir.borderWidth/2;return Hn==="right"?er+rr:Hn==="bottom"?nr+rr:-rr}function getCalloutSideCoord(tr,Hn,er){const{y:nr,width:ir,height:rr,options:sr}=tr,ar=sr.callout.start,or=getCalloutSideAdjust(Hn,sr.callout);let lr,cr;return Hn==="left"||Hn==="right"?(lr={x:er.x,y:nr+getSize(rr,ar)},cr={x:lr.x+or,y:lr.y}):(lr={x:er.x+getSize(ir,ar),y:er.y},cr={x:lr.x,y:lr.y+or}),{sideStart:lr,sideEnd:cr}}function getCalloutSideAdjust(tr,Hn){const er=Hn.side;return tr==="left"||tr==="top"?-er:er}function resolveCalloutPosition(tr,Hn){const er=Hn.position;return positions.includes(er)?er:resolveCalloutAutoPosition(tr,Hn)}function resolveCalloutAutoPosition(tr,Hn){const{x:er,y:nr,x2:ir,y2:rr,width:sr,height:ar,pointX:or,pointY:lr,centerX:cr,centerY:ur,rotation:dr}=tr,fr={x:cr,y:ur},gr=Hn.start,yr=getSize(sr,gr),vr=getSize(ar,gr),jr=[er,er+yr,er+yr,ir],Sr=[nr+vr,rr,nr,rr],Tr=[];for(let Lr=0;Lr<4;Lr++){const Mr=rotated({x:jr[Lr],y:Sr[Lr]},fr,toRadians(dr));Tr.push({position:positions[Lr],distance:distanceBetweenPoints$1(Mr,{x:or,y:lr})})}return Tr.sort((Lr,Mr)=>Lr.distance-Mr.distance)[0].position}function isPointInRange(tr,Hn,er){const{pointX:nr,pointY:ir}=tr,rr=Hn.margin;let sr=nr,ar=ir;return er==="left"?sr+=rr:er==="right"?sr-=rr:er==="top"?ar+=rr:er==="bottom"&&(ar-=rr),tr.inRange(sr,ar)}const limitedLineScale={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function scaleValue(tr,Hn,er){return Hn=typeof Hn=="number"?Hn:tr.parse(Hn),isNumberFinite(Hn)?tr.getPixelForValue(Hn):er}function retrieveScaleID(tr,Hn,er){const nr=Hn[er];if(nr||er==="scaleID")return nr;const ir=er.charAt(0),rr=Object.values(tr).filter(sr=>sr.axis&&sr.axis===ir);return rr.length?rr[0].id:ir}function getDimensionByScale(tr,Hn){if(tr){const er=tr.options.reverse,nr=scaleValue(tr,Hn.min,er?Hn.end:Hn.start),ir=scaleValue(tr,Hn.max,er?Hn.start:Hn.end);return{start:nr,end:ir}}}function getChartPoint(tr,Hn){const{chartArea:er,scales:nr}=tr,ir=nr[retrieveScaleID(nr,Hn,"xScaleID")],rr=nr[retrieveScaleID(nr,Hn,"yScaleID")];let sr=er.width/2,ar=er.height/2;return ir&&(sr=scaleValue(ir,Hn.xValue,ir.left+ir.width/2)),rr&&(ar=scaleValue(rr,Hn.yValue,rr.top+rr.height/2)),{x:sr,y:ar}}function resolveBoxProperties(tr,Hn){const er=tr.scales,nr=er[retrieveScaleID(er,Hn,"xScaleID")],ir=er[retrieveScaleID(er,Hn,"yScaleID")];if(!nr&&!ir)return{};let{left:rr,right:sr}=nr||tr.chartArea,{top:ar,bottom:or}=ir||tr.chartArea;const lr=getChartDimensionByScale(nr,{min:Hn.xMin,max:Hn.xMax,start:rr,end:sr});rr=lr.start,sr=lr.end;const cr=getChartDimensionByScale(ir,{min:Hn.yMin,max:Hn.yMax,start:or,end:ar});return ar=cr.start,or=cr.end,{x:rr,y:ar,x2:sr,y2:or,width:sr-rr,height:or-ar,centerX:rr+(sr-rr)/2,centerY:ar+(or-ar)/2}}function resolvePointProperties(tr,Hn){if(!isBoundToPoint(Hn)){const er=resolveBoxProperties(tr,Hn);let nr=Hn.radius;(!nr||isNaN(nr))&&(nr=Math.min(er.width,er.height)/2,Hn.radius=nr);const ir=nr*2,rr=er.centerX+Hn.xAdjust,sr=er.centerY+Hn.yAdjust;return{x:rr-nr,y:sr-nr,x2:rr+nr,y2:sr+nr,centerX:rr,centerY:sr,width:ir,height:ir,radius:nr}}return getChartCircle(tr,Hn)}function resolveLineProperties(tr,Hn){const{scales:er,chartArea:nr}=tr,ir=er[Hn.scaleID],rr={x:nr.left,y:nr.top,x2:nr.right,y2:nr.bottom};return ir?resolveFullLineProperties(ir,rr,Hn):resolveLimitedLineProperties(er,rr,Hn),rr}function resolveBoxAndLabelProperties(tr,Hn){const er=resolveBoxProperties(tr,Hn);return er.initProperties=initAnimationProperties(tr,er,Hn),er.elements=[{type:"label",optionScope:"label",properties:resolveLabelElementProperties$1(tr,er,Hn),initProperties:er.initProperties}],er}function getChartCircle(tr,Hn){const er=getChartPoint(tr,Hn),nr=Hn.radius*2;return{x:er.x-Hn.radius+Hn.xAdjust,y:er.y-Hn.radius+Hn.yAdjust,x2:er.x+Hn.radius+Hn.xAdjust,y2:er.y+Hn.radius+Hn.yAdjust,centerX:er.x+Hn.xAdjust,centerY:er.y+Hn.yAdjust,radius:Hn.radius,width:nr,height:nr}}function getChartDimensionByScale(tr,Hn){const er=getDimensionByScale(tr,Hn)||Hn;return{start:Math.min(er.start,er.end),end:Math.max(er.start,er.end)}}function resolveFullLineProperties(tr,Hn,er){const nr=scaleValue(tr,er.value,NaN),ir=scaleValue(tr,er.endValue,nr);tr.isHorizontal()?(Hn.x=nr,Hn.x2=ir):(Hn.y=nr,Hn.y2=ir)}function resolveLimitedLineProperties(tr,Hn,er){for(const nr of Object.keys(limitedLineScale)){const ir=tr[retrieveScaleID(tr,er,nr)];if(ir){const{min:rr,max:sr,start:ar,end:or,startProp:lr,endProp:cr}=limitedLineScale[nr],ur=getDimensionByScale(ir,{min:er[rr],max:er[sr],start:ir[ar],end:ir[or]});Hn[lr]=ur.start,Hn[cr]=ur.end}}}function calculateX({properties:tr,options:Hn},er,nr,ir){const{x:rr,x2:sr,width:ar}=tr;return calculatePosition({start:rr,end:sr,borderWidth:Hn.borderWidth},{position:nr.x,padding:{start:ir.left,end:ir.right},adjust:Hn.label.xAdjust,size:er.width})}function calculateY({properties:tr,options:Hn},er,nr,ir){const{y:rr,y2:sr,height:ar}=tr;return calculatePosition({start:rr,end:sr,borderWidth:Hn.borderWidth},{position:nr.y,padding:{start:ir.top,end:ir.bottom},adjust:Hn.label.yAdjust,size:er.height})}function calculatePosition(tr,Hn){const{start:er,end:nr,borderWidth:ir}=tr,{position:rr,padding:{start:sr,end:ar},adjust:or}=Hn,lr=nr-ir-er-sr-ar-Hn.size;return er+ir/2+or+getRelativePosition(lr,rr)}function resolveLabelElementProperties$1(tr,Hn,er){const nr=er.label;nr.backgroundColor="transparent",nr.callout.display=!1;const ir=toPosition(nr.position),rr=toPadding(nr.padding),sr=measureLabelSize(tr.ctx,nr),ar=calculateX({properties:Hn,options:er},sr,ir,rr),or=calculateY({properties:Hn,options:er},sr,ir,rr),lr=sr.width+rr.width,cr=sr.height+rr.height;return{x:ar,y:or,x2:ar+lr,y2:or+cr,width:lr,height:cr,centerX:ar+lr/2,centerY:or+cr/2,rotation:nr.rotation}}const moveHooks=["enter","leave"],eventHooks=moveHooks.concat("click");function updateListeners(tr,Hn,er){Hn.listened=loadHooks(er,eventHooks,Hn.listeners),Hn.moveListened=!1,moveHooks.forEach(nr=>{isFunction$2(er[nr])&&(Hn.moveListened=!0)}),(!Hn.listened||!Hn.moveListened)&&Hn.annotations.forEach(nr=>{!Hn.listened&&isFunction$2(nr.click)&&(Hn.listened=!0),Hn.moveListened||moveHooks.forEach(ir=>{isFunction$2(nr[ir])&&(Hn.listened=!0,Hn.moveListened=!0)})})}function handleEvent(tr,Hn,er){if(tr.listened)switch(Hn.type){case"mousemove":case"mouseout":return handleMoveEvents(tr,Hn,er);case"click":return handleClickEvents(tr,Hn,er)}}function handleMoveEvents(tr,Hn,er){if(!tr.moveListened)return;let nr;Hn.type==="mousemove"?nr=getElements(tr.visibleElements,Hn,er.interaction):nr=[];const ir=tr.hovered;tr.hovered=nr;const rr={state:tr,event:Hn};let sr=dispatchMoveEvents(rr,"leave",ir,nr);return dispatchMoveEvents(rr,"enter",nr,ir)||sr}function dispatchMoveEvents({state:tr,event:Hn},er,nr,ir){let rr;for(const sr of nr)ir.indexOf(sr)<0&&(rr=dispatchEvent(sr.options[er]||tr.listeners[er],sr,Hn)||rr);return rr}function handleClickEvents(tr,Hn,er){const nr=tr.listeners,ir=getElements(tr.visibleElements,Hn,er.interaction);let rr;for(const sr of ir)rr=dispatchEvent(sr.options.click||nr.click,sr,Hn)||rr;return rr}function dispatchEvent(tr,Hn,er){return callback(tr,[Hn.$context,er])===!0}const elementHooks=["afterDraw","beforeDraw"];function updateHooks(tr,Hn,er){const nr=Hn.visibleElements;Hn.hooked=loadHooks(er,elementHooks,Hn.hooks),Hn.hooked||nr.forEach(ir=>{Hn.hooked||elementHooks.forEach(rr=>{isFunction$2(ir.options[rr])&&(Hn.hooked=!0)})})}function invokeHook(tr,Hn,er){if(tr.hooked){const nr=Hn.options[er]||tr.hooks[er];return callback(nr,[Hn.$context])}}function adjustScaleRange(tr,Hn,er){const nr=getScaleLimits(tr.scales,Hn,er);let ir=changeScaleLimit(Hn,nr,"min","suggestedMin");ir=changeScaleLimit(Hn,nr,"max","suggestedMax")||ir,ir&&isFunction$2(Hn.handleTickRangeOptions)&&Hn.handleTickRangeOptions()}function verifyScaleOptions(tr,Hn){for(const er of tr)verifyScaleIDs(er,Hn)}function changeScaleLimit(tr,Hn,er,nr){if(isNumberFinite(Hn[er])&&!scaleLimitDefined(tr.options,er,nr)){const ir=tr[er]!==Hn[er];return tr[er]=Hn[er],ir}}function scaleLimitDefined(tr,Hn,er){return defined$1(tr[Hn])||defined$1(tr[er])}function verifyScaleIDs(tr,Hn){for(const er of["scaleID","xScaleID","yScaleID"]){const nr=retrieveScaleID(Hn,tr,er);nr&&!Hn[nr]&&verifyProperties(tr,er)&&console.warn(`No scale found with id '${nr}' for annotation '${tr.id}'`)}}function verifyProperties(tr,Hn){if(Hn==="scaleID")return!0;const er=Hn.charAt(0);for(const nr of["Min","Max","Value"])if(defined$1(tr[er+nr]))return!0;return!1}function getScaleLimits(tr,Hn,er){const nr=Hn.axis,ir=Hn.id,rr=nr+"ScaleID",sr={min:valueOrDefault(Hn.min,Number.NEGATIVE_INFINITY),max:valueOrDefault(Hn.max,Number.POSITIVE_INFINITY)};for(const ar of er)ar.scaleID===ir?updateLimits(ar,Hn,["value","endValue"],sr):retrieveScaleID(tr,ar,rr)===ir&&updateLimits(ar,Hn,[nr+"Min",nr+"Max",nr+"Value"],sr);return sr}function updateLimits(tr,Hn,er,nr){for(const ir of er){const rr=tr[ir];if(defined$1(rr)){const sr=Hn.parse(rr);nr.min=Math.min(nr.min,sr),nr.max=Math.max(nr.max,sr)}}}class BoxAnnotation extends Element$1{inRange(Hn,er,nr,ir){const{x:rr,y:sr}=rotated({x:Hn,y:er},this.getCenterPoint(ir),toRadians(-this.options.rotation));return inBoxRange({x:rr,y:sr},this.getProps(["x","y","x2","y2"],ir),nr,this.options)}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){Hn.save(),translate(Hn,this.getCenterPoint(),this.options.rotation),drawBox(Hn,this,this.options),Hn.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(Hn,er){return resolveBoxAndLabelProperties(Hn,er)}}BoxAnnotation.id="boxAnnotation";BoxAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};BoxAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};BoxAnnotation.descriptors={label:{_fallback:!0}};class DoughnutLabelAnnotation extends Element$1{inRange(Hn,er,nr,ir){return inLabelRange({x:Hn,y:er},{rect:this.getProps(["x","y","x2","y2"],ir),center:this.getCenterPoint(ir)},nr,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const er=this.options;!er.display||!er.content||(drawBackground(Hn,this),Hn.save(),translate(Hn,this.getCenterPoint(),this.rotation),drawLabel(Hn,this,er,this._fitRatio),Hn.restore())}resolveElementProperties(Hn,er){const nr=getDatasetMeta(Hn,er);if(!nr)return{};const{controllerMeta:ir,point:rr,radius:sr}=getControllerMeta(Hn,er,nr);let ar=measureLabelSize(Hn.ctx,er);const or=getFitRatio(ar,sr);shouldFit(er,or)&&(ar={width:ar.width*or,height:ar.height*or});const{position:lr,xAdjust:cr,yAdjust:ur}=er,dr=measureLabelRectangle(rr,ar,{borderWidth:0,position:lr,xAdjust:cr,yAdjust:ur});return{initProperties:initAnimationProperties(Hn,dr,er),...dr,...ir,rotation:er.rotation,_fitRatio:or}}}DoughnutLabelAnnotation.id="doughnutLabelAnnotation";DoughnutLabelAnnotation.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};DoughnutLabelAnnotation.defaultRoutes={};function getDatasetMeta(tr,Hn){return tr.getSortedVisibleDatasetMetas().reduce(function(er,nr){const ir=nr.controller;return ir instanceof DoughnutController&&isControllerVisible(tr,Hn,nr.data)&&(!er||ir.innerRadius<er.controller.innerRadius)&&ir.options.circumference>=90?nr:er},void 0)}function isControllerVisible(tr,Hn,er){if(!Hn.autoHide)return!0;for(let nr=0;nr<er.length;nr++)if(!er[nr].hidden&&tr.getDataVisibility(nr))return!0}function getControllerMeta({chartArea:tr},Hn,er){const{left:nr,top:ir,right:rr,bottom:sr}=tr,{innerRadius:ar,offsetX:or,offsetY:lr}=er.controller,cr=(nr+rr)/2+or,ur=(ir+sr)/2+lr,dr={left:Math.max(cr-ar,nr),right:Math.min(cr+ar,rr),top:Math.max(ur-ar,ir),bottom:Math.min(ur+ar,sr)},fr={x:(dr.left+dr.right)/2,y:(dr.top+dr.bottom)/2},gr=Hn.spacing+Hn.borderWidth/2,yr=ar-gr,vr=fr.y>ur,jr=vr?ir+gr:sr-gr,Sr=getAngles(jr,cr,ur,yr);return{controllerMeta:{_centerX:cr,_centerY:ur,_radius:yr,_counterclockwise:vr,...Sr},point:fr,radius:Math.min(ar,Math.min(dr.right-dr.left,dr.bottom-dr.top)/2)}}function getFitRatio({width:tr,height:Hn},er){const nr=Math.sqrt(Math.pow(tr,2)+Math.pow(Hn,2));return er*2/nr}function getAngles(tr,Hn,er,nr){const ir=Math.pow(er-tr,2),rr=Math.pow(nr,2),sr=Hn*-2,ar=Math.pow(Hn,2)+ir-rr,or=Math.pow(sr,2)-4*ar;if(or<=0)return{_startAngle:0,_endAngle:TAU};const lr=(-sr-Math.sqrt(or))/2,cr=(-sr+Math.sqrt(or))/2;return{_startAngle:getAngleFromPoint({x:Hn,y:er},{x:lr,y:tr}).angle,_endAngle:getAngleFromPoint({x:Hn,y:er},{x:cr,y:tr}).angle}}function drawBackground(tr,Hn){const{_centerX:er,_centerY:nr,_radius:ir,_startAngle:rr,_endAngle:sr,_counterclockwise:ar,options:or}=Hn;tr.save();const lr=setBorderStyle(tr,or);tr.fillStyle=or.backgroundColor,tr.beginPath(),tr.arc(er,nr,ir,rr,sr,ar),tr.closePath(),tr.fill(),lr&&tr.stroke(),tr.restore()}class LabelAnnotation extends Element$1{inRange(Hn,er,nr,ir){return inLabelRange({x:Hn,y:er},{rect:this.getProps(["x","y","x2","y2"],ir),center:this.getCenterPoint(ir)},nr,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const er=this.options,nr=!defined$1(this._visible)||this._visible;!er.display||!er.content||!nr||(Hn.save(),translate(Hn,this.getCenterPoint(),this.rotation),drawCallout(Hn,this),drawBox(Hn,this,er),drawLabel(Hn,getLabelSize(this),er),Hn.restore())}resolveElementProperties(Hn,er){let nr;if(isBoundToPoint(er))nr=getChartPoint(Hn,er);else{const{centerX:ar,centerY:or}=resolveBoxProperties(Hn,er);nr={x:ar,y:or}}const ir=toPadding(er.padding),rr=measureLabelSize(Hn.ctx,er),sr=measureLabelRectangle(nr,rr,er,ir);return{initProperties:initAnimationProperties(Hn,sr,er),pointX:nr.x,pointY:nr.y,...sr,rotation:er.rotation}}}LabelAnnotation.id="labelAnnotation";LabelAnnotation.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};LabelAnnotation.defaultRoutes={borderColor:"color"};function getLabelSize({x:tr,y:Hn,width:er,height:nr,options:ir}){const rr=ir.borderWidth/2,sr=toPadding(ir.padding);return{x:tr+sr.left+rr,y:Hn+sr.top+rr,width:er-sr.left-sr.right-ir.borderWidth,height:nr-sr.top-sr.bottom-ir.borderWidth}}const pointInLine=(tr,Hn,er)=>({x:tr.x+er*(Hn.x-tr.x),y:tr.y+er*(Hn.y-tr.y)}),interpolateX=(tr,Hn,er)=>pointInLine(Hn,er,Math.abs((tr-Hn.y)/(er.y-Hn.y))).x,interpolateY=(tr,Hn,er)=>pointInLine(Hn,er,Math.abs((tr-Hn.x)/(er.x-Hn.x))).y,sqr=tr=>tr*tr,rangeLimit=(tr,Hn,{x:er,y:nr,x2:ir,y2:rr},sr)=>sr==="y"?{start:Math.min(nr,rr),end:Math.max(nr,rr),value:Hn}:{start:Math.min(er,ir),end:Math.max(er,ir),value:tr},coordInCurve=(tr,Hn,er,nr)=>(1-nr)*(1-nr)*tr+2*(1-nr)*nr*Hn+nr*nr*er,pointInCurve=(tr,Hn,er,nr)=>({x:coordInCurve(tr.x,Hn.x,er.x,nr),y:coordInCurve(tr.y,Hn.y,er.y,nr)}),coordAngleInCurve=(tr,Hn,er,nr)=>2*(1-nr)*(Hn-tr)+2*nr*(er-Hn),angleInCurve=(tr,Hn,er,nr)=>-Math.atan2(coordAngleInCurve(tr.x,Hn.x,er.x,nr),coordAngleInCurve(tr.y,Hn.y,er.y,nr))+.5*PI;class LineAnnotation extends Element$1{inRange(Hn,er,nr,ir){const rr=(this.options.borderWidth+this.options.hitTolerance)/2;if(nr!=="x"&&nr!=="y"){const sr={mouseX:Hn,mouseY:er},{path:ar,ctx:or}=this;if(ar){setBorderStyle(or,this.options),or.lineWidth+=this.options.hitTolerance;const{chart:cr}=this.$context,ur=Hn*cr.currentDevicePixelRatio,dr=er*cr.currentDevicePixelRatio,fr=or.isPointInStroke(ar,ur,dr)||isOnLabel(this,sr,ir);return or.restore(),fr}const lr=sqr(rr);return intersects(this,sr,lr,ir)||isOnLabel(this,sr,ir)}return inAxisRange(this,{mouseX:Hn,mouseY:er},nr,{hitSize:rr,useFinalPosition:ir})}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const{x:er,y:nr,x2:ir,y2:rr,cp:sr,options:ar}=this;if(Hn.save(),!setBorderStyle(Hn,ar))return Hn.restore();setShadowStyle(Hn,ar);const or=Math.sqrt(Math.pow(ir-er,2)+Math.pow(rr-nr,2));if(ar.curve&&sr)return drawCurve(Hn,this,sr,or),Hn.restore();const{startOpts:lr,endOpts:cr,startAdjust:ur,endAdjust:dr}=getArrowHeads(this),fr=Math.atan2(rr-nr,ir-er);Hn.translate(er,nr),Hn.rotate(fr),Hn.beginPath(),Hn.moveTo(0+ur,0),Hn.lineTo(or-dr,0),Hn.shadowColor=ar.borderShadowColor,Hn.stroke(),drawArrowHead(Hn,0,ur,lr),drawArrowHead(Hn,or,-dr,cr),Hn.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(Hn,er){const nr=resolveLineProperties(Hn,er),{x:ir,y:rr,x2:sr,y2:ar}=nr,or=isLineInArea(nr,Hn.chartArea),lr=or?limitLineToArea({x:ir,y:rr},{x:sr,y:ar},Hn.chartArea):{x:ir,y:rr,x2:sr,y2:ar,width:Math.abs(sr-ir),height:Math.abs(ar-rr)};if(lr.centerX=(sr+ir)/2,lr.centerY=(ar+rr)/2,lr.initProperties=initAnimationProperties(Hn,lr,er),er.curve){const ur={x:lr.x,y:lr.y},dr={x:lr.x2,y:lr.y2};lr.cp=getControlPoint(lr,er,distanceBetweenPoints$1(ur,dr))}const cr=resolveLabelElementProperties(Hn,lr,er.label);return cr._visible=or,lr.elements=[{type:"label",optionScope:"label",properties:cr,initProperties:lr.initProperties}],lr}}LineAnnotation.id="lineAnnotation";const arrowHeadsDefaults={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};LineAnnotation.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},arrowHeadsDefaults),fill:!1,length:12,start:Object.assign({},arrowHeadsDefaults),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},LabelAnnotation.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};LineAnnotation.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};LineAnnotation.defaultRoutes={borderColor:"color"};function inAxisRange(tr,{mouseX:Hn,mouseY:er},nr,{hitSize:ir,useFinalPosition:rr}){const sr=rangeLimit(Hn,er,tr.getProps(["x","y","x2","y2"],rr),nr);return inLimit(sr,ir)||isOnLabel(tr,{mouseX:Hn,mouseY:er},rr,nr)}function isLineInArea({x:tr,y:Hn,x2:er,y2:nr},{top:ir,right:rr,bottom:sr,left:ar}){return!(tr<ar&&er<ar||tr>rr&&er>rr||Hn<ir&&nr<ir||Hn>sr&&nr>sr)}function limitPointToArea({x:tr,y:Hn},er,{top:nr,right:ir,bottom:rr,left:sr}){return tr<sr&&(Hn=interpolateY(sr,{x:tr,y:Hn},er),tr=sr),tr>ir&&(Hn=interpolateY(ir,{x:tr,y:Hn},er),tr=ir),Hn<nr&&(tr=interpolateX(nr,{x:tr,y:Hn},er),Hn=nr),Hn>rr&&(tr=interpolateX(rr,{x:tr,y:Hn},er),Hn=rr),{x:tr,y:Hn}}function limitLineToArea(tr,Hn,er){const{x:nr,y:ir}=limitPointToArea(tr,Hn,er),{x:rr,y:sr}=limitPointToArea(Hn,tr,er);return{x:nr,y:ir,x2:rr,y2:sr,width:Math.abs(rr-nr),height:Math.abs(sr-ir)}}function intersects(tr,{mouseX:Hn,mouseY:er},nr=EPSILON,ir){const{x:rr,y:sr,x2:ar,y2:or}=tr.getProps(["x","y","x2","y2"],ir),lr=ar-rr,cr=or-sr,ur=sqr(lr)+sqr(cr),dr=ur===0?-1:((Hn-rr)*lr+(er-sr)*cr)/ur;let fr,gr;return dr<0?(fr=rr,gr=sr):dr>1?(fr=ar,gr=or):(fr=rr+dr*lr,gr=sr+dr*cr),sqr(Hn-fr)+sqr(er-gr)<=nr}function isOnLabel(tr,{mouseX:Hn,mouseY:er},nr,ir){const rr=tr.label;return rr.options.display&&rr.inRange(Hn,er,ir,nr)}function resolveLabelElementProperties(tr,Hn,er){const nr=er.borderWidth,ir=toPadding(er.padding),rr=measureLabelSize(tr.ctx,er),sr=rr.width+ir.width+nr,ar=rr.height+ir.height+nr;return calculateLabelPosition(Hn,er,{width:sr,height:ar,padding:ir},tr.chartArea)}function calculateAutoRotation(tr){const{x:Hn,y:er,x2:nr,y2:ir}=tr,rr=Math.atan2(ir-er,nr-Hn);return rr>PI/2?rr-PI:rr<PI/-2?rr+PI:rr}function calculateLabelPosition(tr,Hn,er,nr){const{width:ir,height:rr,padding:sr}=er,{xAdjust:ar,yAdjust:or}=Hn,lr={x:tr.x,y:tr.y},cr={x:tr.x2,y:tr.y2},ur=Hn.rotation==="auto"?calculateAutoRotation(tr):toRadians(Hn.rotation),dr=rotatedSize(ir,rr,ur),fr=calculateT(tr,Hn,{labelSize:dr,padding:sr},nr),gr=tr.cp?pointInCurve(lr,tr.cp,cr,fr):pointInLine(lr,cr,fr),yr={size:dr.w,min:nr.left,max:nr.right,padding:sr.left},vr={size:dr.h,min:nr.top,max:nr.bottom,padding:sr.top},jr=adjustLabelCoordinate(gr.x,yr)+ar,Sr=adjustLabelCoordinate(gr.y,vr)+or;return{x:jr-ir/2,y:Sr-rr/2,x2:jr+ir/2,y2:Sr+rr/2,centerX:jr,centerY:Sr,pointX:gr.x,pointY:gr.y,width:ir,height:rr,rotation:toDegrees(ur)}}function rotatedSize(tr,Hn,er){const nr=Math.cos(er),ir=Math.sin(er);return{w:Math.abs(tr*nr)+Math.abs(Hn*ir),h:Math.abs(tr*ir)+Math.abs(Hn*nr)}}function calculateT(tr,Hn,er,nr){let ir;const rr=spaceAround(tr,nr);return Hn.position==="start"?ir=calculateTAdjust({w:tr.x2-tr.x,h:tr.y2-tr.y},er,Hn,rr):Hn.position==="end"?ir=1-calculateTAdjust({w:tr.x-tr.x2,h:tr.y-tr.y2},er,Hn,rr):ir=getRelativePosition(1,Hn.position),ir}function calculateTAdjust(tr,Hn,er,nr){const{labelSize:ir,padding:rr}=Hn,sr=tr.w*nr.dx,ar=tr.h*nr.dy,or=sr>0&&(ir.w/2+rr.left-nr.x)/sr,lr=ar>0&&(ir.h/2+rr.top-nr.y)/ar;return clamp$1(Math.max(or,lr),0,.25)}function spaceAround(tr,Hn){const{x:er,x2:nr,y:ir,y2:rr}=tr,sr=Math.min(ir,rr)-Hn.top,ar=Math.min(er,nr)-Hn.left,or=Hn.bottom-Math.max(ir,rr),lr=Hn.right-Math.max(er,nr);return{x:Math.min(ar,lr),y:Math.min(sr,or),dx:ar<=lr?1:-1,dy:sr<=or?1:-1}}function adjustLabelCoordinate(tr,Hn){const{size:er,min:nr,max:ir,padding:rr}=Hn,sr=er/2;return er>ir-nr?(ir+nr)/2:(nr>=tr-rr-sr&&(tr=nr+rr+sr),ir<=tr+rr+sr&&(tr=ir-rr-sr),tr)}function getArrowHeads(tr){const Hn=tr.options,er=Hn.arrowHeads&&Hn.arrowHeads.start,nr=Hn.arrowHeads&&Hn.arrowHeads.end;return{startOpts:er,endOpts:nr,startAdjust:getLineAdjust(tr,er),endAdjust:getLineAdjust(tr,nr)}}function getLineAdjust(tr,Hn){if(!Hn||!Hn.display)return 0;const{length:er,width:nr}=Hn,ir=tr.options.borderWidth/2,rr={x:er,y:nr+ir};return Math.abs(interpolateX(0,rr,{x:0,y:ir}))}function drawArrowHead(tr,Hn,er,nr){if(!nr||!nr.display)return;const{length:ir,width:rr,fill:sr,backgroundColor:ar,borderColor:or}=nr,lr=Math.abs(Hn-ir)+er;tr.beginPath(),setShadowStyle(tr,nr),setBorderStyle(tr,nr),tr.moveTo(lr,-rr),tr.lineTo(Hn+er,0),tr.lineTo(lr,rr),sr===!0?(tr.fillStyle=ar||or,tr.closePath(),tr.fill(),tr.shadowColor="transparent"):tr.shadowColor=nr.borderShadowColor,tr.stroke()}function getControlPoint(tr,Hn,er){const{x:nr,y:ir,x2:rr,y2:sr,centerX:ar,centerY:or}=tr,lr=Math.atan2(sr-ir,rr-nr),cr=toPosition(Hn.controlPoint,0),ur={x:ar+getSize(er,cr.x,!1),y:or+getSize(er,cr.y,!1)};return rotated(ur,{x:ar,y:or},lr)}function drawArrowHeadOnCurve(tr,{x:Hn,y:er},{angle:nr,adjust:ir},rr){!rr||!rr.display||(tr.save(),tr.translate(Hn,er),tr.rotate(nr),drawArrowHead(tr,0,-ir,rr),tr.restore())}function drawCurve(tr,Hn,er,nr){const{x:ir,y:rr,x2:sr,y2:ar,options:or}=Hn,{startOpts:lr,endOpts:cr,startAdjust:ur,endAdjust:dr}=getArrowHeads(Hn),fr={x:ir,y:rr},gr={x:sr,y:ar},yr=angleInCurve(fr,er,gr,0),vr=angleInCurve(fr,er,gr,1)-PI,jr=pointInCurve(fr,er,gr,ur/nr),Sr=pointInCurve(fr,er,gr,1-dr/nr),Tr=new Path2D;tr.beginPath(),Tr.moveTo(jr.x,jr.y),Tr.quadraticCurveTo(er.x,er.y,Sr.x,Sr.y),tr.shadowColor=or.borderShadowColor,tr.stroke(Tr),Hn.path=Tr,Hn.ctx=tr,drawArrowHeadOnCurve(tr,jr,{angle:yr,adjust:ur},lr),drawArrowHeadOnCurve(tr,Sr,{angle:vr,adjust:dr},cr)}class EllipseAnnotation extends Element$1{inRange(Hn,er,nr,ir){const rr=this.options.rotation,sr=(this.options.borderWidth+this.options.hitTolerance)/2;if(nr!=="x"&&nr!=="y")return pointInEllipse({x:Hn,y:er},this.getProps(["width","height","centerX","centerY"],ir),rr,sr);const{x:ar,y:or,x2:lr,y2:cr}=this.getProps(["x","y","x2","y2"],ir),ur=nr==="y"?{start:or,end:cr}:{start:ar,end:lr},dr=rotated({x:Hn,y:er},this.getCenterPoint(ir),toRadians(-rr));return dr[nr]>=ur.start-sr-EPSILON&&dr[nr]<=ur.end+sr+EPSILON}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const{width:er,height:nr,centerX:ir,centerY:rr,options:sr}=this;Hn.save(),translate(Hn,this.getCenterPoint(),sr.rotation),setShadowStyle(Hn,this.options),Hn.beginPath(),Hn.fillStyle=sr.backgroundColor;const ar=setBorderStyle(Hn,sr);Hn.ellipse(ir,rr,nr/2,er/2,PI/2,0,2*PI),Hn.fill(),ar&&(Hn.shadowColor=sr.borderShadowColor,Hn.stroke()),Hn.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(Hn,er){return resolveBoxAndLabelProperties(Hn,er)}}EllipseAnnotation.id="ellipseAnnotation";EllipseAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},BoxAnnotation.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};EllipseAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};EllipseAnnotation.descriptors={label:{_fallback:!0}};function pointInEllipse(tr,Hn,er,nr){const{width:ir,height:rr,centerX:sr,centerY:ar}=Hn,or=ir/2,lr=rr/2;if(or<=0||lr<=0)return!1;const cr=toRadians(er||0),ur=Math.cos(cr),dr=Math.sin(cr),fr=Math.pow(ur*(tr.x-sr)+dr*(tr.y-ar),2),gr=Math.pow(dr*(tr.x-sr)-ur*(tr.y-ar),2);return fr/Math.pow(or+nr,2)+gr/Math.pow(lr+nr,2)<=1.0001}class PointAnnotation extends Element$1{inRange(Hn,er,nr,ir){const{x:rr,y:sr,x2:ar,y2:or,width:lr}=this.getProps(["x","y","x2","y2","width"],ir),cr=(this.options.borderWidth+this.options.hitTolerance)/2;return nr!=="x"&&nr!=="y"?inPointRange({x:Hn,y:er},this.getCenterPoint(ir),lr/2,cr):inLimit(nr==="y"?{start:sr,end:or,value:er}:{start:rr,end:ar,value:Hn},cr)}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const er=this.options,nr=er.borderWidth;if(er.radius<.1)return;Hn.save(),Hn.fillStyle=er.backgroundColor,setShadowStyle(Hn,er);const ir=setBorderStyle(Hn,er);drawPoint(Hn,this,this.centerX,this.centerY),ir&&!isImageOrCanvas(er.pointStyle)&&(Hn.shadowColor=er.borderShadowColor,Hn.stroke()),Hn.restore(),er.borderWidth=nr}resolveElementProperties(Hn,er){const nr=resolvePointProperties(Hn,er);return nr.initProperties=initAnimationProperties(Hn,nr,er),nr}}PointAnnotation.id="pointAnnotation";PointAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};PointAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};class PolygonAnnotation extends Element$1{inRange(Hn,er,nr,ir){if(nr!=="x"&&nr!=="y")return this.options.radius>=.1&&this.elements.length>1&&pointIsInPolygon(this.elements,Hn,er,ir);const rr=rotated({x:Hn,y:er},this.getCenterPoint(ir),toRadians(-this.options.rotation)),sr=this.elements.map(lr=>nr==="y"?lr.bY:lr.bX),ar=Math.min(...sr),or=Math.max(...sr);return rr[nr]>=ar&&rr[nr]<=or}getCenterPoint(Hn){return getElementCenterPoint(this,Hn)}draw(Hn){const{elements:er,options:nr}=this;Hn.save(),Hn.beginPath(),Hn.fillStyle=nr.backgroundColor,setShadowStyle(Hn,nr);const ir=setBorderStyle(Hn,nr);let rr=!0;for(const sr of er)rr?(Hn.moveTo(sr.x,sr.y),rr=!1):Hn.lineTo(sr.x,sr.y);Hn.closePath(),Hn.fill(),ir&&(Hn.shadowColor=nr.borderShadowColor,Hn.stroke()),Hn.restore()}resolveElementProperties(Hn,er){const nr=resolvePointProperties(Hn,er),{sides:ir,rotation:rr}=er,sr=[],ar=2*PI/ir;let or=rr*RAD_PER_DEG;for(let lr=0;lr<ir;lr++,or+=ar){const cr=buildPointElement(nr,er,or);cr.initProperties=initAnimationProperties(Hn,nr,er),sr.push(cr)}return nr.elements=sr,nr}}PolygonAnnotation.id="polygonAnnotation";PolygonAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};PolygonAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};function buildPointElement({centerX:tr,centerY:Hn},{radius:er,borderWidth:nr,hitTolerance:ir},rr){const sr=(nr+ir)/2,ar=Math.sin(rr),or=Math.cos(rr),lr={x:tr+ar*er,y:Hn-or*er};return{type:"point",optionScope:"point",properties:{x:lr.x,y:lr.y,centerX:lr.x,centerY:lr.y,bX:tr+ar*(er+sr),bY:Hn-or*(er+sr)}}}function pointIsInPolygon(tr,Hn,er,nr){let ir=!1,rr=tr[tr.length-1].getProps(["bX","bY"],nr);for(const sr of tr){const ar=sr.getProps(["bX","bY"],nr);ar.bY>er!=rr.bY>er&&Hn<(rr.bX-ar.bX)*(er-ar.bY)/(rr.bY-ar.bY)+ar.bX&&(ir=!ir),rr=ar}return ir}const annotationTypes={box:BoxAnnotation,doughnutLabel:DoughnutLabelAnnotation,ellipse:EllipseAnnotation,label:LabelAnnotation,line:LineAnnotation,point:PointAnnotation,polygon:PolygonAnnotation};Object.keys(annotationTypes).forEach(tr=>{defaults$4.describe(`elements.${annotationTypes[tr].id}`,{_fallback:"plugins.annotation.common"})});const directUpdater={update:Object.assign},hooks$1=eventHooks.concat(elementHooks),resolve=(tr,Hn)=>isObject$2(Hn)?resolveObj(tr,Hn):tr,isIndexable=tr=>tr==="color"||tr==="font";function resolveType(tr="line"){return annotationTypes[tr]?tr:(console.warn(`Unknown annotation type: '${tr}', defaulting to 'line'`),"line")}function updateElements(tr,Hn,er,nr){const ir=resolveAnimations(tr,er.animations,nr),rr=Hn.annotations,sr=resyncElements(Hn.elements,rr);for(let ar=0;ar<rr.length;ar++){const or=rr[ar],lr=getOrCreateElement(sr,ar,or.type),cr=or.setContext(getContext(tr,lr,sr,or)),ur=lr.resolveElementProperties(tr,cr);ur.skip=toSkip(ur),"elements"in ur&&(updateSubElements(lr,ur.elements,cr,ir),delete ur.elements),defined$1(lr.x)||Object.assign(lr,ur),Object.assign(lr,ur.initProperties),ur.options=resolveAnnotationOptions(cr),ir.update(lr,ur)}}function toSkip(tr){return isNaN(tr.x)||isNaN(tr.y)}function resolveAnimations(tr,Hn,er){return er==="reset"||er==="none"||er==="resize"?directUpdater:new Animations(tr,Hn)}function updateSubElements(tr,Hn,er,nr){const ir=tr.elements||(tr.elements=[]);ir.length=Hn.length;for(let rr=0;rr<Hn.length;rr++){const sr=Hn[rr],ar=sr.properties,or=getOrCreateElement(ir,rr,sr.type,sr.initProperties),lr=er[sr.optionScope].override(sr);ar.options=resolveAnnotationOptions(lr),nr.update(or,ar)}}function getOrCreateElement(tr,Hn,er,nr){const ir=annotationTypes[resolveType(er)];let rr=tr[Hn];return(!rr||!(rr instanceof ir))&&(rr=tr[Hn]=new ir,Object.assign(rr,nr)),rr}function resolveAnnotationOptions(tr){const Hn=annotationTypes[resolveType(tr.type)],er={};er.id=tr.id,er.type=tr.type,er.drawTime=tr.drawTime,Object.assign(er,resolveObj(tr,Hn.defaults),resolveObj(tr,Hn.defaultRoutes));for(const nr of hooks$1)er[nr]=tr[nr];return er}function resolveObj(tr,Hn){const er={};for(const nr of Object.keys(Hn)){const ir=Hn[nr],rr=tr[nr];isIndexable(nr)&&isArray$1(rr)?er[nr]=rr.map(sr=>resolve(sr,ir)):er[nr]=resolve(rr,ir)}return er}function getContext(tr,Hn,er,nr){return Hn.$context||(Hn.$context=Object.assign(Object.create(tr.getContext()),{element:Hn,get elements(){return er.filter(ir=>ir&&ir.options)},id:nr.id,type:"annotation"}))}function resyncElements(tr,Hn){const er=Hn.length,nr=tr.length;if(nr<er){const ir=er-nr;tr.splice(nr,0,...new Array(ir))}else nr>er&&tr.splice(er,nr-er);return tr}var version="3.1.0";const chartStates=new Map,isNotDoughnutLabel=tr=>tr.type!=="doughnutLabel",hooks=eventHooks.concat(elementHooks);var annotation={id:"annotation",version,beforeRegister(){requireVersion("chart.js","4.0",Chart$1.version)},afterRegister(){Chart$1.register(annotationTypes)},afterUnregister(){Chart$1.unregister(annotationTypes)},beforeInit(tr){chartStates.set(tr,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(tr,Hn,er){const nr=chartStates.get(tr),ir=nr.annotations=[];let rr=er.annotations;isObject$2(rr)?Object.keys(rr).forEach(sr=>{const ar=rr[sr];isObject$2(ar)&&(ar.id=sr,ir.push(ar))}):isArray$1(rr)&&ir.push(...rr),verifyScaleOptions(ir.filter(isNotDoughnutLabel),tr.scales)},afterDataLimits(tr,Hn){const er=chartStates.get(tr);adjustScaleRange(tr,Hn.scale,er.annotations.filter(isNotDoughnutLabel).filter(nr=>nr.display&&nr.adjustScaleRange))},afterUpdate(tr,Hn,er){const nr=chartStates.get(tr);updateListeners(tr,nr,er),updateElements(tr,nr,er,Hn.mode),nr.visibleElements=nr.elements.filter(ir=>!ir.skip&&ir.options.display),updateHooks(tr,nr,er)},beforeDatasetsDraw(tr,Hn,er){draw(tr,"beforeDatasetsDraw",er.clip)},afterDatasetsDraw(tr,Hn,er){draw(tr,"afterDatasetsDraw",er.clip)},beforeDatasetDraw(tr,Hn,er){draw(tr,Hn.index,er.clip)},beforeDraw(tr,Hn,er){draw(tr,"beforeDraw",er.clip)},afterDraw(tr,Hn,er){draw(tr,"afterDraw",er.clip)},beforeEvent(tr,Hn,er){const nr=chartStates.get(tr);handleEvent(nr,Hn.event,er)&&(Hn.changed=!0)},afterDestroy(tr){chartStates.delete(tr)},getAnnotations(tr){const Hn=chartStates.get(tr);return Hn?Hn.elements:[]},_getAnnotationElementsAtEventForMode(tr,Hn,er){return getElements(tr,Hn,er)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:tr=>!hooks.includes(tr)&&tr!=="init",annotations:{_allKeys:!1,_fallback:(tr,Hn)=>`elements.${annotationTypes[resolveType(Hn.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:isIndexable,_fallback:!0},_indexable:isIndexable}},additionalOptionScopes:[""]};function draw(tr,Hn,er){const{ctx:nr,chartArea:ir}=tr,rr=chartStates.get(tr);er&&clipArea(nr,ir);const sr=getDrawableElements(rr.visibleElements,Hn).sort((ar,or)=>ar.element.options.z-or.element.options.z);for(const ar of sr)drawElement(nr,ir,rr,ar);er&&unclipArea(nr)}function getDrawableElements(tr,Hn){const er=[];for(const nr of tr)if(nr.options.drawTime===Hn&&er.push({element:nr,main:!0}),nr.elements&&nr.elements.length)for(const ir of nr.elements)ir.options.display&&ir.options.drawTime===Hn&&er.push({element:ir});return er}function drawElement(tr,Hn,er,nr){const ir=nr.element;nr.main?(invokeHook(er,ir,"beforeDraw"),ir.draw(tr,Hn),invokeHook(er,ir,"afterDraw")):ir.draw(tr,Hn)}Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1,annotation);const TIME_RANGES=[{label:"7 ngy",days:7,urlParam:"7"},{label:"30 ngy",days:30,urlParam:"30"},{label:"90 ngy",days:90,urlParam:"90"},{label:"1 nm",days:365,urlParam:"365"},{label:"Tt c",days:9999,urlParam:"all"}],toMillion=(tr,Hn=2)=>tr==null||isNaN(tr)?0:(Number(tr)/1e6).toFixed(Hn),formatNumber=tr=>new Intl.NumberFormat("en-US").format(tr),btnStyle$3=tr=>({cursor:"pointer",padding:"8px",borderRadius:"6px",backgroundColor:"#f0f2f5",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",border:`1px solid ${tr?"#007bff":"#ddd"}`,color:tr?"#007bff":"#666"});function SilverChart(){const tr=useNavigate(),Hn=useLocation(),[er,nr]=reactExports.useState("bar"),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!0),[or,lr]=reactExports.useState({show:!1,message:"",isStrong:!1,fading:!1}),[cr,ur]=reactExports.useState(null),[dr,fr]=reactExports.useState(window.innerWidth<=768);reactExports.useEffect(()=>{const bo=()=>fr(window.innerWidth<=768);return window.addEventListener("resize",bo),()=>window.removeEventListener("resize",bo)},[]);const yr=new URLSearchParams(Hn.search).get("duration")||"7",vr=TIME_RANGES.find(bo=>bo.urlParam===yr)||TIME_RANGES[0],jr=vr.days,{liveData:Sr}=useRealTimeData(),Tr=bo=>{if(!bo||bo.length===0)return;const Po=[...bo].sort((Go,el)=>new Date(Go.dt)-new Date(el.dt)),To=Po[Po.length-1].chiso_sucmanh||0,Fo=To>0,Co=Fo?`SLV mnh  xu hng bn ra (${To.toFixed(2)})`:`SLV yu  xu hng mua vo (${To.toFixed(2)})`;lr({show:!0,message:Co,isStrong:Fo,fading:!1}),setTimeout(()=>{lr(Go=>({...Go,fading:!0})),setTimeout(()=>{lr(Go=>({...Go,show:!1}))},500)},4e3)},Lr=async()=>{try{const Po=await(await fetch("https://api_gold.thinkdiff.us/iShares_Silver_Trust")).json();Po&&Po.data&&(rr(Po.data),Tr(Po.data.data.dates))}catch(bo){console.error("Li khi ly d liu bc:",bo)}finally{ar(!1)}};reactExports.useEffect(()=>{Lr();const bo=setInterval(Lr,300*1e3);return()=>clearInterval(bo)},[]);const Mr=reactExports.useMemo(()=>{const bo=getXagUsd(Sr);return bo?.sell??bo?.buy??null},[Sr]),{chartLabels:Nr,chartDataValues:Or,rawDataFiltered:Fr}=reactExports.useMemo(()=>{if(!ir?.data?.dates)return{chartLabels:[],chartDataValues:{},rawDataFiltered:[]};let bo=_$2.cloneDeep(ir.data.dates);bo.sort((Uo,$o)=>new Date(Uo.dt)-new Date($o.dt));const Po=jr>=9999?bo:bo.slice(-jr),wo=[],To=[],Fo=[],Co=[],Go=[],el=[],Lo=[];return Po.forEach((Uo,$o)=>{const il=new Date(Uo.dt),pl=String(il.getDate()).padStart(2,"0"),ml=String(il.getMonth()+1).padStart(2,"0"),Wl=il.getFullYear();wo.push(jr<=30?`${pl}/${ml}`:`${pl}/${ml}/${Wl}`),To.push(Uo?.amount||0),Fo.push(Uo?.change||0),Go.push(Uo?.rsi||($o>0?Go[$o-1]:0)),Co.push(toMillion(Uo?.total_value_usd)),el.push(Uo?.silver_price??($o>0?el[$o-1]:null)),Lo.push(Uo?.chiso_sucmanh||($o>0?Lo[$o-1]:0))}),{chartLabels:wo,chartDataValues:{holding:To,changeVal:Fo,totalVal:Co,rsiVal:Go,priceSilver:el,powerIndex:Lo},rawDataFiltered:Po}},[ir,jr]),Gr=reactExports.useMemo(()=>{if(!Nr.length)return{};const bo=Or.powerIndex,Po=bo.length,wo=dr?Math.max(1,Math.floor(Po/5)):Math.max(1,Math.floor(Po/7)),To={};return bo.forEach((Fo,Co)=>{if(Co===Po-1||Co%wo===0){const Go=Fo<=0,el=`label${Co}`,Lo=cr===el,Uo=Nr[Co],$o=Co>0?Nr[Co-1]:Nr[Co];let il=0;Co===0&&(il=dr?35:40),Co===Po-1&&(il=dr?-35:-40);let pl=Go?-45:45;Fo>1500&&(pl=50),Fo<-8e3&&(pl=-50),dr&&(pl=Go?-35:35),To[`line${Co}`]={type:"line",xMin:Nr[Co],xMax:Nr[Co],borderColor:Go?"rgba(50, 205, 50, 0.4)":"rgba(255, 68, 68, 0.4)",borderWidth:Lo?dr?2:3:1,borderDash:[5,5],z:5};const ml=dr?[Go?"MUA":"BN",`${Fo.toFixed(0)}`]:[Go?"VNG MUA":"VNG BN",`${Fo.toFixed(2)}`,`T ${$o} n ${Uo}`];To[el]={type:"label",xValue:Nr[Co],yValue:Fo,backgroundColor:Go?Lo?"rgba(50, 205, 50, 1)":"rgba(50, 205, 50, 0.8)":Lo?"rgba(255, 68, 68, 1)":"rgba(255, 68, 68, 0.8)",content:ml,color:"#fff",font:{size:dr?Lo?9:8:Lo?11:10,weight:"bold"},padding:dr?4:6,borderRadius:4,position:"center",xAdjust:il,yAdjust:pl,z:10,enter:()=>ur(el),leave:()=>ur(null)}}}),To},[Nr,Or.powerIndex,cr,dr]),qr=bo=>{const Po=new URLSearchParams(Hn.search);Po.set("duration",bo),tr(`${Hn.pathname}?${Po.toString()}`,{replace:!0})},Hr={labels:Nr,datasets:[{type:"line",label:"Thay i",data:Or.changeVal,borderColor:"#ef0808",backgroundColor:"#ef0808",yAxisID:"y2",tension:.3,pointRadius:2,order:1},{type:"bar",label:"SL nm gi",data:Or.holding,backgroundColor:"#B2B2B2",yAxisID:"y1",barThickness:"flex",order:3},{type:"line",label:"Gi bc",data:Or.priceSilver,borderColor:"#0c08ef",backgroundColor:"#0c08ef",yAxisID:"y2",tension:.3,pointRadius:2,order:2}]},Yr={labels:Nr,datasets:[{type:"line",label:"Tng gi tr ($M)",data:Or.totalVal,borderColor:"#4A8BC2",yAxisID:"yRight",tension:.3,pointRadius:2,fill:!0,backgroundColor:bo=>{const wo=bo.chart.ctx.createLinearGradient(0,0,0,300);return wo.addColorStop(0,"rgba(74, 139, 194, 0.3)"),wo.addColorStop(1,"rgba(74, 139, 194, 0)"),wo}}]},ro={labels:Nr,datasets:[{type:"line",label:"Thay i (Tn)",data:Or.changeVal,borderColor:"#FF4444",backgroundColor:"#FF4444",yAxisID:"yRight",tension:.3,pointRadius:2,borderDash:[5,5]}]},io={labels:Nr,datasets:[{type:"line",label:"S lng nm gi (tn)",data:Or.holding,borderColor:"#1ecdf4",yAxisID:"yRight",tension:.3,pointRadius:2,fill:!0,backgroundColor:bo=>{const wo=bo.chart.ctx.createLinearGradient(0,0,0,300);return wo.addColorStop(0,"rgba(14, 209, 253, 0.3)"),wo.addColorStop(1,"rgba(75, 135, 154, 0)"),wo}}]},fo={labels:Nr,datasets:[{type:"line",label:"Ch s RSI",data:Or.rsiVal,borderColor:"#b80081",yAxisID:"yRight",tension:.3,pointRadius:2,fill:!1},{type:"line",label:"Ch s sc mnh",data:Or.powerIndex,yAxisID:"yLeft",tension:.3,pointRadius:2,fill:!1,segment:{borderColor:bo=>(bo.p0.parsed.y+bo.p1.parsed.y)/2>0?"#FF4444":"#32CD32"}}]},ao={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{color:"gray"},grid:{display:!1},stacked:!0},y1:{position:"left",title:{display:!0,text:"SL nm gi (tn)",color:"#fff"},grid:{drawOnChartArea:!1}},y2:{position:"right",title:{display:!0,text:"Thay i(tn) / Gi bc(USD)",color:"#fff"},grid:{color:"#333"}}},plugins:{legend:{labels:{color:"#fff"}},zoom:{pan:{enabled:Hn.pathname.includes("quy-dau-tu"),mode:"x"},zoom:{wheel:{enabled:Hn.pathname.includes("quy-dau-tu")},pinch:{enabled:Hn.pathname.includes("quy-dau-tu")},mode:"x"}}}},Jr=(bo,Po,wo="left",To=!1)=>({responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{color:"gray"},grid:{display:!1}},[Po]:{position:wo,title:{display:!0,text:bo,color:"#fff"},grid:{color:"#333"}}},plugins:{legend:{labels:{color:"#fff"}},tooltip:{callbacks:{label:Fo=>`${Fo.dataset.label}: ${formatNumber(Fo.parsed.y)}`}},annotation:To?{annotations:Gr}:void 0,zoom:{pan:{enabled:Hn.pathname.includes("quy-dau-tu"),mode:"x"},zoom:{wheel:{enabled:Hn.pathname.includes("quy-dau-tu")},pinch:{enabled:Hn.pathname.includes("quy-dau-tu")},mode:"x"}}}});if(sr||!ir)return jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti..."})]});const uo=Or.holding[Or.holding.length-1],oo=_$2.mean(Or.holding),co=Nr[Nr.length-1],no=(bo,Po)=>Po==null||Po===0?null:(bo-Po)/Po*100,mo={day1:no(uo,Or.holding[Or.holding.length-2]),day2:no(uo,Or.holding[Or.holding.length-3]),day3:no(uo,Or.holding[Or.holding.length-4]),day4:no(uo,Or.holding[Or.holding.length-5]),week1:no(uo,Or.holding[Or.holding.length-8])},Eo=(()=>{if(!Mr)return null;const bo=Or.changeVal.length-1,Po=Or.changeVal[bo],wo=Math.abs(Po)*1e6/31.1034768*Mr;return{isBuy:Po>0,isZero:Po===0,valueBillionUSD:wo/1e9}})();return jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[or.show&&jsxRuntimeExports.jsxs("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:9999,backgroundColor:"rgba(20, 20, 20, 0.65)",backdropFilter:"blur(6px)",padding:"8px 16px",borderRadius:"20px",border:`1px solid ${or.isStrong?"rgba(255, 68, 68, 0.5)":"rgba(50, 205, 50, 0.5)"}`,display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",opacity:or.fading?0:1,transition:"opacity 0.5s ease-in-out",pointerEvents:or.fading?"none":"auto"},children:[jsxRuntimeExports.jsx("span",{style:{color:or.isStrong?"#FF6666":"#66FF66",fontWeight:"500",fontSize:"0.85rem"},children:or.message}),jsxRuntimeExports.jsx("button",{onClick:()=>lr({...or,show:!1}),style:{background:"none",border:"none",color:"#ffffff88",cursor:"pointer",fontSize:"1.1rem",lineHeight:1,paddingBottom:"2px"},children:""})]}),jsxRuntimeExports.jsxs("div",{style:{margin:"40px 0 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[jsxRuntimeExports.jsx("h4",{style:{fontSize:"1.8rem",fontWeight:700,color:"#B2B2B2",textAlign:"center",margin:0},children:"Biu  iShares Silver Trust"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px"},children:[jsxRuntimeExports.jsx("span",{style:btnStyle$3(er==="bar"),onClick:()=>nr("bar"),children:jsxRuntimeExports.jsx(FaChartBar,{size:"1.25rem"})}),jsxRuntimeExports.jsx("span",{style:btnStyle$3(er==="line"),onClick:()=>nr("line"),children:jsxRuntimeExports.jsx(FaChartLine,{size:"1.25rem"})}),jsxRuntimeExports.jsx("span",{style:btnStyle$3(er==="table"),onClick:()=>nr("table"),children:jsxRuntimeExports.jsx(MdOutlineTableChart,{size:"1.25rem"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"sc-main-box",children:[jsxRuntimeExports.jsxs("div",{className:`sc-split-layout ${er==="table"?"is-table-mode":""}`,children:[jsxRuntimeExports.jsx("div",{className:"sc-left-panel",children:jsxRuntimeExports.jsxs("div",{className:"sc-toolbar",children:[jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:"10px 0"},children:TIME_RANGES.map(bo=>jsxRuntimeExports.jsx("button",{onClick:()=>qr(bo.urlParam),style:{padding:"8px 15px",margin:"5px",borderRadius:"8px",border:"none",cursor:"pointer",background:vr.urlParam===bo.urlParam?"#FFF443":"#494A50",color:vr.urlParam===bo.urlParam?"#000":"#FFF",fontWeight:vr.urlParam===bo.urlParam?"bold":"normal"},children:bo.label},bo.urlParam))}),jsxRuntimeExports.jsx("label",{className:"sc-label",children:"T l thay i:"}),jsxRuntimeExports.jsx("div",{className:"sc-percentage-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"}].map(({key:bo,label:Po})=>mo[bo]!=null&&jsxRuntimeExports.jsxs("div",{className:`sc-percent-item ${mo[bo]>=0?"up":"down"}`,children:[jsxRuntimeExports.jsxs("span",{className:"label",children:["Trong ",Po]}),jsxRuntimeExports.jsxs("span",{className:"value",children:[mo[bo]>=0?"+":"",mo[bo].toFixed(2),"%"]})]},bo))}),jsxRuntimeExports.jsxs("div",{className:"sc-avg-box",children:[jsxRuntimeExports.jsx("label",{className:"sc-label2",children:"S lng nm gi trung bnh"}),jsxRuntimeExports.jsxs("div",{className:"sc-avg-value",children:[formatNumber(oo.toFixed(2))," ",jsxRuntimeExports.jsx("span",{children:"Tn"})]}),jsxRuntimeExports.jsxs("div",{className:"sc-avg-sub",children:["Trung bnh trong ",vr.label.toLowerCase()]})]}),jsxRuntimeExports.jsxs("div",{className:"sc-update-box",children:[jsxRuntimeExports.jsx("label",{className:"sc-label2",children:"D liu c cp nht ln cui:"}),jsxRuntimeExports.jsx("div",{className:"sc-update-item",children:co})]}),Eo&&jsxRuntimeExports.jsxs("div",{className:"sc-avg-box",children:[jsxRuntimeExports.jsx("label",{className:"sc-label2",children:Eo.isZero?"Khng c giao dch rng":Eo.isBuy?"Mua rng trong 1 ngy":"Bn rng trong 1 ngy"}),jsxRuntimeExports.jsx("div",{className:"sc-avg-value",style:{color:Eo.isZero?"#B2B2B2":Eo.isBuy?"#32CD32":"#FF4444"},children:Eo.isZero?"0 USD":`${Eo.isBuy?"+":"-"}${Eo.valueBillionUSD.toFixed(2)} T USD`}),jsxRuntimeExports.jsx("div",{className:"sc-avg-sub",children:"Tnh theo thay i s lng & gi bc"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"sc-right-panel",children:[er==="bar"&&jsxRuntimeExports.jsx("div",{style:{height:"500px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:Hr,options:ao})}),er==="line"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{height:"300px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:io,options:Jr("S lng nm gi","yRight","right")})}),jsxRuntimeExports.jsx("div",{style:{height:"300px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:Yr,options:Jr("Tng gi tr ($M)","yRight","right")})}),jsxRuntimeExports.jsx("div",{style:{height:"300px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:ro,options:Jr("Thay i","yRight","right")})})]}),er==="table"&&jsxRuntimeExports.jsx("div",{className:"sc-table-container",children:jsxRuntimeExports.jsxs("table",{className:"sc-custom-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Ngy"}),jsxRuntimeExports.jsx("th",{children:"S lng (Tn)"}),jsxRuntimeExports.jsx("th",{children:"Thay i"}),jsxRuntimeExports.jsx("th",{children:"Gi tr ($M)"})]})}),jsxRuntimeExports.jsx("tbody",{children:[...Fr].reverse().map((bo,Po)=>{const wo=Fr.length-1-Po,To=Or.changeVal[wo];return jsxRuntimeExports.jsxs("tr",{style:{backgroundColor:Po%2===0?"transparent":"rgba(255,255,255,0.03)"},children:[jsxRuntimeExports.jsx("td",{style:{textAlign:"left"},children:Nr[wo]}),jsxRuntimeExports.jsx("td",{children:formatNumber(bo.amount)}),jsxRuntimeExports.jsxs("td",{style:{color:To>0?"#32CD32":To<0?"#FF4444":"#ccc"},children:[To>0?"+":"",formatNumber(To)]}),jsxRuntimeExports.jsx("td",{children:Or.totalVal[wo]})]},Po)})})]})})]})]}),jsxRuntimeExports.jsx("div",{style:{height:"300px",marginBottom:"30px",padding:"20px"},children:jsxRuntimeExports.jsx(Chart,{data:fo,options:Jr("Ch s Sc mnh & RSI","yLeft","left",!0)})})]})]})}const getProxyUrl=tr=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?tr.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):tr,API_ENDPOINT$1=getProxyUrl("https://api_gold.thinkdiff.us/phantich_fear"),fetchFearIndex=async()=>{try{const tr=await fetch(API_ENDPOINT$1);if(!tr.ok)throw new Error(`HTTP error! status: ${tr.status}`);const Hn=await tr.json();if(Hn.status==="success"&&Hn.chi_so_noi_so)return[...Hn.chi_so_noi_so].sort((nr,ir)=>new Date(nr.id_time)-new Date(ir.id_time));throw new Error("Invalid data structure")}catch(tr){throw console.error("Error fetching fear index:",tr),tr}},filterByDays=(tr,Hn)=>!tr||tr.length===0?[]:tr.slice(-Hn),min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=tr=>({x:tr,y:tr}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(tr,Hn,er){return max(tr,min(Hn,er))}function evaluate(tr,Hn){return typeof tr=="function"?tr(Hn):tr}function getSide(tr){return tr.split("-")[0]}function getAlignment(tr){return tr.split("-")[1]}function getOppositeAxis(tr){return tr==="x"?"y":"x"}function getAxisLength(tr){return tr==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(tr){return yAxisSides.has(getSide(tr))?"y":"x"}function getAlignmentAxis(tr){return getOppositeAxis(getSideAxis(tr))}function getAlignmentSides(tr,Hn,er){er===void 0&&(er=!1);const nr=getAlignment(tr),ir=getAlignmentAxis(tr),rr=getAxisLength(ir);let sr=ir==="x"?nr===(er?"end":"start")?"right":"left":nr==="start"?"bottom":"top";return Hn.reference[rr]>Hn.floating[rr]&&(sr=getOppositePlacement(sr)),[sr,getOppositePlacement(sr)]}function getExpandedPlacements(tr){const Hn=getOppositePlacement(tr);return[getOppositeAlignmentPlacement(tr),Hn,getOppositeAlignmentPlacement(Hn)]}function getOppositeAlignmentPlacement(tr){return tr.replace(/start|end/g,Hn=>oppositeAlignmentMap[Hn])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(tr,Hn,er){switch(tr){case"top":case"bottom":return er?Hn?rlPlacement:lrPlacement:Hn?lrPlacement:rlPlacement;case"left":case"right":return Hn?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(tr,Hn,er,nr){const ir=getAlignment(tr);let rr=getSideList(getSide(tr),er==="start",nr);return ir&&(rr=rr.map(sr=>sr+"-"+ir),Hn&&(rr=rr.concat(rr.map(getOppositeAlignmentPlacement)))),rr}function getOppositePlacement(tr){return tr.replace(/left|right|bottom|top/g,Hn=>oppositeSideMap[Hn])}function expandPaddingObject(tr){return{top:0,right:0,bottom:0,left:0,...tr}}function getPaddingObject(tr){return typeof tr!="number"?expandPaddingObject(tr):{top:tr,right:tr,bottom:tr,left:tr}}function rectToClientRect(tr){const{x:Hn,y:er,width:nr,height:ir}=tr;return{width:nr,height:ir,top:er,left:Hn,right:Hn+nr,bottom:er+ir,x:Hn,y:er}}function computeCoordsFromPlacement(tr,Hn,er){let{reference:nr,floating:ir}=tr;const rr=getSideAxis(Hn),sr=getAlignmentAxis(Hn),ar=getAxisLength(sr),or=getSide(Hn),lr=rr==="y",cr=nr.x+nr.width/2-ir.width/2,ur=nr.y+nr.height/2-ir.height/2,dr=nr[ar]/2-ir[ar]/2;let fr;switch(or){case"top":fr={x:cr,y:nr.y-ir.height};break;case"bottom":fr={x:cr,y:nr.y+nr.height};break;case"right":fr={x:nr.x+nr.width,y:ur};break;case"left":fr={x:nr.x-ir.width,y:ur};break;default:fr={x:nr.x,y:nr.y}}switch(getAlignment(Hn)){case"start":fr[sr]-=dr*(er&&lr?-1:1);break;case"end":fr[sr]+=dr*(er&&lr?-1:1);break}return fr}const computePosition$1=async(tr,Hn,er)=>{const{placement:nr="bottom",strategy:ir="absolute",middleware:rr=[],platform:sr}=er,ar=rr.filter(Boolean),or=await(sr.isRTL==null?void 0:sr.isRTL(Hn));let lr=await sr.getElementRects({reference:tr,floating:Hn,strategy:ir}),{x:cr,y:ur}=computeCoordsFromPlacement(lr,nr,or),dr=nr,fr={},gr=0;for(let yr=0;yr<ar.length;yr++){const{name:vr,fn:jr}=ar[yr],{x:Sr,y:Tr,data:Lr,reset:Mr}=await jr({x:cr,y:ur,initialPlacement:nr,placement:dr,strategy:ir,middlewareData:fr,rects:lr,platform:sr,elements:{reference:tr,floating:Hn}});cr=Sr??cr,ur=Tr??ur,fr={...fr,[vr]:{...fr[vr],...Lr}},Mr&&gr<=50&&(gr++,typeof Mr=="object"&&(Mr.placement&&(dr=Mr.placement),Mr.rects&&(lr=Mr.rects===!0?await sr.getElementRects({reference:tr,floating:Hn,strategy:ir}):Mr.rects),{x:cr,y:ur}=computeCoordsFromPlacement(lr,dr,or)),yr=-1)}return{x:cr,y:ur,placement:dr,strategy:ir,middlewareData:fr}};async function detectOverflow(tr,Hn){var er;Hn===void 0&&(Hn={});const{x:nr,y:ir,platform:rr,rects:sr,elements:ar,strategy:or}=tr,{boundary:lr="clippingAncestors",rootBoundary:cr="viewport",elementContext:ur="floating",altBoundary:dr=!1,padding:fr=0}=evaluate(Hn,tr),gr=getPaddingObject(fr),vr=ar[dr?ur==="floating"?"reference":"floating":ur],jr=rectToClientRect(await rr.getClippingRect({element:(er=await(rr.isElement==null?void 0:rr.isElement(vr)))==null||er?vr:vr.contextElement||await(rr.getDocumentElement==null?void 0:rr.getDocumentElement(ar.floating)),boundary:lr,rootBoundary:cr,strategy:or})),Sr=ur==="floating"?{x:nr,y:ir,width:sr.floating.width,height:sr.floating.height}:sr.reference,Tr=await(rr.getOffsetParent==null?void 0:rr.getOffsetParent(ar.floating)),Lr=await(rr.isElement==null?void 0:rr.isElement(Tr))?await(rr.getScale==null?void 0:rr.getScale(Tr))||{x:1,y:1}:{x:1,y:1},Mr=rectToClientRect(rr.convertOffsetParentRelativeRectToViewportRelativeRect?await rr.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ar,rect:Sr,offsetParent:Tr,strategy:or}):Sr);return{top:(jr.top-Mr.top+gr.top)/Lr.y,bottom:(Mr.bottom-jr.bottom+gr.bottom)/Lr.y,left:(jr.left-Mr.left+gr.left)/Lr.x,right:(Mr.right-jr.right+gr.right)/Lr.x}}const arrow$1=tr=>({name:"arrow",options:tr,async fn(Hn){const{x:er,y:nr,placement:ir,rects:rr,platform:sr,elements:ar,middlewareData:or}=Hn,{element:lr,padding:cr=0}=evaluate(tr,Hn)||{};if(lr==null)return{};const ur=getPaddingObject(cr),dr={x:er,y:nr},fr=getAlignmentAxis(ir),gr=getAxisLength(fr),yr=await sr.getDimensions(lr),vr=fr==="y",jr=vr?"top":"left",Sr=vr?"bottom":"right",Tr=vr?"clientHeight":"clientWidth",Lr=rr.reference[gr]+rr.reference[fr]-dr[fr]-rr.floating[gr],Mr=dr[fr]-rr.reference[fr],Nr=await(sr.getOffsetParent==null?void 0:sr.getOffsetParent(lr));let Or=Nr?Nr[Tr]:0;(!Or||!await(sr.isElement==null?void 0:sr.isElement(Nr)))&&(Or=ar.floating[Tr]||rr.floating[gr]);const Fr=Lr/2-Mr/2,Gr=Or/2-yr[gr]/2-1,qr=min(ur[jr],Gr),Hr=min(ur[Sr],Gr),Yr=qr,ro=Or-yr[gr]-Hr,io=Or/2-yr[gr]/2+Fr,fo=clamp(Yr,io,ro),ao=!or.arrow&&getAlignment(ir)!=null&&io!==fo&&rr.reference[gr]/2-(io<Yr?qr:Hr)-yr[gr]/2<0,Jr=ao?io<Yr?io-Yr:io-ro:0;return{[fr]:dr[fr]+Jr,data:{[fr]:fo,centerOffset:io-fo-Jr,...ao&&{alignmentOffset:Jr}},reset:ao}}}),flip$1=function(tr){return tr===void 0&&(tr={}),{name:"flip",options:tr,async fn(Hn){var er,nr;const{placement:ir,middlewareData:rr,rects:sr,initialPlacement:ar,platform:or,elements:lr}=Hn,{mainAxis:cr=!0,crossAxis:ur=!0,fallbackPlacements:dr,fallbackStrategy:fr="bestFit",fallbackAxisSideDirection:gr="none",flipAlignment:yr=!0,...vr}=evaluate(tr,Hn);if((er=rr.arrow)!=null&&er.alignmentOffset)return{};const jr=getSide(ir),Sr=getSideAxis(ar),Tr=getSide(ar)===ar,Lr=await(or.isRTL==null?void 0:or.isRTL(lr.floating)),Mr=dr||(Tr||!yr?[getOppositePlacement(ar)]:getExpandedPlacements(ar)),Nr=gr!=="none";!dr&&Nr&&Mr.push(...getOppositeAxisPlacements(ar,yr,gr,Lr));const Or=[ar,...Mr],Fr=await detectOverflow(Hn,vr),Gr=[];let qr=((nr=rr.flip)==null?void 0:nr.overflows)||[];if(cr&&Gr.push(Fr[jr]),ur){const io=getAlignmentSides(ir,sr,Lr);Gr.push(Fr[io[0]],Fr[io[1]])}if(qr=[...qr,{placement:ir,overflows:Gr}],!Gr.every(io=>io<=0)){var Hr,Yr;const io=(((Hr=rr.flip)==null?void 0:Hr.index)||0)+1,fo=Or[io];if(fo&&(!(ur==="alignment"?Sr!==getSideAxis(fo):!1)||qr.every(uo=>getSideAxis(uo.placement)===Sr?uo.overflows[0]>0:!0)))return{data:{index:io,overflows:qr},reset:{placement:fo}};let ao=(Yr=qr.filter(Jr=>Jr.overflows[0]<=0).sort((Jr,uo)=>Jr.overflows[1]-uo.overflows[1])[0])==null?void 0:Yr.placement;if(!ao)switch(fr){case"bestFit":{var ro;const Jr=(ro=qr.filter(uo=>{if(Nr){const oo=getSideAxis(uo.placement);return oo===Sr||oo==="y"}return!0}).map(uo=>[uo.placement,uo.overflows.filter(oo=>oo>0).reduce((oo,co)=>oo+co,0)]).sort((uo,oo)=>uo[1]-oo[1])[0])==null?void 0:ro[0];Jr&&(ao=Jr);break}case"initialPlacement":ao=ar;break}if(ir!==ao)return{reset:{placement:ao}}}return{}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(tr,Hn){const{placement:er,platform:nr,elements:ir}=tr,rr=await(nr.isRTL==null?void 0:nr.isRTL(ir.floating)),sr=getSide(er),ar=getAlignment(er),or=getSideAxis(er)==="y",lr=originSides.has(sr)?-1:1,cr=rr&&or?-1:1,ur=evaluate(Hn,tr);let{mainAxis:dr,crossAxis:fr,alignmentAxis:gr}=typeof ur=="number"?{mainAxis:ur,crossAxis:0,alignmentAxis:null}:{mainAxis:ur.mainAxis||0,crossAxis:ur.crossAxis||0,alignmentAxis:ur.alignmentAxis};return ar&&typeof gr=="number"&&(fr=ar==="end"?gr*-1:gr),or?{x:fr*cr,y:dr*lr}:{x:dr*lr,y:fr*cr}}const offset$1=function(tr){return tr===void 0&&(tr=0),{name:"offset",options:tr,async fn(Hn){var er,nr;const{x:ir,y:rr,placement:sr,middlewareData:ar}=Hn,or=await convertValueToCoords(Hn,tr);return sr===((er=ar.offset)==null?void 0:er.placement)&&(nr=ar.arrow)!=null&&nr.alignmentOffset?{}:{x:ir+or.x,y:rr+or.y,data:{...or,placement:sr}}}}},shift$1=function(tr){return tr===void 0&&(tr={}),{name:"shift",options:tr,async fn(Hn){const{x:er,y:nr,placement:ir}=Hn,{mainAxis:rr=!0,crossAxis:sr=!1,limiter:ar={fn:vr=>{let{x:jr,y:Sr}=vr;return{x:jr,y:Sr}}},...or}=evaluate(tr,Hn),lr={x:er,y:nr},cr=await detectOverflow(Hn,or),ur=getSideAxis(getSide(ir)),dr=getOppositeAxis(ur);let fr=lr[dr],gr=lr[ur];if(rr){const vr=dr==="y"?"top":"left",jr=dr==="y"?"bottom":"right",Sr=fr+cr[vr],Tr=fr-cr[jr];fr=clamp(Sr,fr,Tr)}if(sr){const vr=ur==="y"?"top":"left",jr=ur==="y"?"bottom":"right",Sr=gr+cr[vr],Tr=gr-cr[jr];gr=clamp(Sr,gr,Tr)}const yr=ar.fn({...Hn,[dr]:fr,[ur]:gr});return{...yr,data:{x:yr.x-er,y:yr.y-nr,enabled:{[dr]:rr,[ur]:sr}}}}}};function hasWindow(){return typeof window<"u"}function getNodeName(tr){return isNode(tr)?(tr.nodeName||"").toLowerCase():"#document"}function getWindow(tr){var Hn;return(tr==null||(Hn=tr.ownerDocument)==null?void 0:Hn.defaultView)||window}function getDocumentElement(tr){var Hn;return(Hn=(isNode(tr)?tr.ownerDocument:tr.document)||window.document)==null?void 0:Hn.documentElement}function isNode(tr){return hasWindow()?tr instanceof Node||tr instanceof getWindow(tr).Node:!1}function isElement(tr){return hasWindow()?tr instanceof Element||tr instanceof getWindow(tr).Element:!1}function isHTMLElement(tr){return hasWindow()?tr instanceof HTMLElement||tr instanceof getWindow(tr).HTMLElement:!1}function isShadowRoot(tr){return!hasWindow()||typeof ShadowRoot>"u"?!1:tr instanceof ShadowRoot||tr instanceof getWindow(tr).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(tr){const{overflow:Hn,overflowX:er,overflowY:nr,display:ir}=getComputedStyle$1(tr);return/auto|scroll|overlay|hidden|clip/.test(Hn+nr+er)&&!invalidOverflowDisplayValues.has(ir)}const tableElements=new Set(["table","td","th"]);function isTableElement(tr){return tableElements.has(getNodeName(tr))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(tr){return topLayerSelectors.some(Hn=>{try{return tr.matches(Hn)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(tr){const Hn=isWebKit(),er=isElement(tr)?getComputedStyle$1(tr):tr;return transformProperties.some(nr=>er[nr]?er[nr]!=="none":!1)||(er.containerType?er.containerType!=="normal":!1)||!Hn&&(er.backdropFilter?er.backdropFilter!=="none":!1)||!Hn&&(er.filter?er.filter!=="none":!1)||willChangeValues.some(nr=>(er.willChange||"").includes(nr))||containValues.some(nr=>(er.contain||"").includes(nr))}function getContainingBlock(tr){let Hn=getParentNode(tr);for(;isHTMLElement(Hn)&&!isLastTraversableNode(Hn);){if(isContainingBlock(Hn))return Hn;if(isTopLayer(Hn))return null;Hn=getParentNode(Hn)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(tr){return lastTraversableNodeNames.has(getNodeName(tr))}function getComputedStyle$1(tr){return getWindow(tr).getComputedStyle(tr)}function getNodeScroll(tr){return isElement(tr)?{scrollLeft:tr.scrollLeft,scrollTop:tr.scrollTop}:{scrollLeft:tr.scrollX,scrollTop:tr.scrollY}}function getParentNode(tr){if(getNodeName(tr)==="html")return tr;const Hn=tr.assignedSlot||tr.parentNode||isShadowRoot(tr)&&tr.host||getDocumentElement(tr);return isShadowRoot(Hn)?Hn.host:Hn}function getNearestOverflowAncestor(tr){const Hn=getParentNode(tr);return isLastTraversableNode(Hn)?tr.ownerDocument?tr.ownerDocument.body:tr.body:isHTMLElement(Hn)&&isOverflowElement(Hn)?Hn:getNearestOverflowAncestor(Hn)}function getOverflowAncestors(tr,Hn,er){var nr;Hn===void 0&&(Hn=[]),er===void 0&&(er=!0);const ir=getNearestOverflowAncestor(tr),rr=ir===((nr=tr.ownerDocument)==null?void 0:nr.body),sr=getWindow(ir);if(rr){const ar=getFrameElement(sr);return Hn.concat(sr,sr.visualViewport||[],isOverflowElement(ir)?ir:[],ar&&er?getOverflowAncestors(ar):[])}return Hn.concat(ir,getOverflowAncestors(ir,[],er))}function getFrameElement(tr){return tr.parent&&Object.getPrototypeOf(tr.parent)?tr.frameElement:null}function getCssDimensions(tr){const Hn=getComputedStyle$1(tr);let er=parseFloat(Hn.width)||0,nr=parseFloat(Hn.height)||0;const ir=isHTMLElement(tr),rr=ir?tr.offsetWidth:er,sr=ir?tr.offsetHeight:nr,ar=round(er)!==rr||round(nr)!==sr;return ar&&(er=rr,nr=sr),{width:er,height:nr,$:ar}}function unwrapElement(tr){return isElement(tr)?tr:tr.contextElement}function getScale(tr){const Hn=unwrapElement(tr);if(!isHTMLElement(Hn))return createCoords(1);const er=Hn.getBoundingClientRect(),{width:nr,height:ir,$:rr}=getCssDimensions(Hn);let sr=(rr?round(er.width):er.width)/nr,ar=(rr?round(er.height):er.height)/ir;return(!sr||!Number.isFinite(sr))&&(sr=1),(!ar||!Number.isFinite(ar))&&(ar=1),{x:sr,y:ar}}const noOffsets=createCoords(0);function getVisualOffsets(tr){const Hn=getWindow(tr);return!isWebKit()||!Hn.visualViewport?noOffsets:{x:Hn.visualViewport.offsetLeft,y:Hn.visualViewport.offsetTop}}function shouldAddVisualOffsets(tr,Hn,er){return Hn===void 0&&(Hn=!1),!er||Hn&&er!==getWindow(tr)?!1:Hn}function getBoundingClientRect(tr,Hn,er,nr){Hn===void 0&&(Hn=!1),er===void 0&&(er=!1);const ir=tr.getBoundingClientRect(),rr=unwrapElement(tr);let sr=createCoords(1);Hn&&(nr?isElement(nr)&&(sr=getScale(nr)):sr=getScale(tr));const ar=shouldAddVisualOffsets(rr,er,nr)?getVisualOffsets(rr):createCoords(0);let or=(ir.left+ar.x)/sr.x,lr=(ir.top+ar.y)/sr.y,cr=ir.width/sr.x,ur=ir.height/sr.y;if(rr){const dr=getWindow(rr),fr=nr&&isElement(nr)?getWindow(nr):nr;let gr=dr,yr=getFrameElement(gr);for(;yr&&nr&&fr!==gr;){const vr=getScale(yr),jr=yr.getBoundingClientRect(),Sr=getComputedStyle$1(yr),Tr=jr.left+(yr.clientLeft+parseFloat(Sr.paddingLeft))*vr.x,Lr=jr.top+(yr.clientTop+parseFloat(Sr.paddingTop))*vr.y;or*=vr.x,lr*=vr.y,cr*=vr.x,ur*=vr.y,or+=Tr,lr+=Lr,gr=getWindow(yr),yr=getFrameElement(gr)}}return rectToClientRect({width:cr,height:ur,x:or,y:lr})}function getWindowScrollBarX(tr,Hn){const er=getNodeScroll(tr).scrollLeft;return Hn?Hn.left+er:getBoundingClientRect(getDocumentElement(tr)).left+er}function getHTMLOffset(tr,Hn){const er=tr.getBoundingClientRect(),nr=er.left+Hn.scrollLeft-getWindowScrollBarX(tr,er),ir=er.top+Hn.scrollTop;return{x:nr,y:ir}}function convertOffsetParentRelativeRectToViewportRelativeRect(tr){let{elements:Hn,rect:er,offsetParent:nr,strategy:ir}=tr;const rr=ir==="fixed",sr=getDocumentElement(nr),ar=Hn?isTopLayer(Hn.floating):!1;if(nr===sr||ar&&rr)return er;let or={scrollLeft:0,scrollTop:0},lr=createCoords(1);const cr=createCoords(0),ur=isHTMLElement(nr);if((ur||!ur&&!rr)&&((getNodeName(nr)!=="body"||isOverflowElement(sr))&&(or=getNodeScroll(nr)),isHTMLElement(nr))){const fr=getBoundingClientRect(nr);lr=getScale(nr),cr.x=fr.x+nr.clientLeft,cr.y=fr.y+nr.clientTop}const dr=sr&&!ur&&!rr?getHTMLOffset(sr,or):createCoords(0);return{width:er.width*lr.x,height:er.height*lr.y,x:er.x*lr.x-or.scrollLeft*lr.x+cr.x+dr.x,y:er.y*lr.y-or.scrollTop*lr.y+cr.y+dr.y}}function getClientRects(tr){return Array.from(tr.getClientRects())}function getDocumentRect(tr){const Hn=getDocumentElement(tr),er=getNodeScroll(tr),nr=tr.ownerDocument.body,ir=max(Hn.scrollWidth,Hn.clientWidth,nr.scrollWidth,nr.clientWidth),rr=max(Hn.scrollHeight,Hn.clientHeight,nr.scrollHeight,nr.clientHeight);let sr=-er.scrollLeft+getWindowScrollBarX(tr);const ar=-er.scrollTop;return getComputedStyle$1(nr).direction==="rtl"&&(sr+=max(Hn.clientWidth,nr.clientWidth)-ir),{width:ir,height:rr,x:sr,y:ar}}const SCROLLBAR_MAX=25;function getViewportRect(tr,Hn){const er=getWindow(tr),nr=getDocumentElement(tr),ir=er.visualViewport;let rr=nr.clientWidth,sr=nr.clientHeight,ar=0,or=0;if(ir){rr=ir.width,sr=ir.height;const cr=isWebKit();(!cr||cr&&Hn==="fixed")&&(ar=ir.offsetLeft,or=ir.offsetTop)}const lr=getWindowScrollBarX(nr);if(lr<=0){const cr=nr.ownerDocument,ur=cr.body,dr=getComputedStyle(ur),fr=cr.compatMode==="CSS1Compat"&&parseFloat(dr.marginLeft)+parseFloat(dr.marginRight)||0,gr=Math.abs(nr.clientWidth-ur.clientWidth-fr);gr<=SCROLLBAR_MAX&&(rr-=gr)}else lr<=SCROLLBAR_MAX&&(rr+=lr);return{width:rr,height:sr,x:ar,y:or}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(tr,Hn){const er=getBoundingClientRect(tr,!0,Hn==="fixed"),nr=er.top+tr.clientTop,ir=er.left+tr.clientLeft,rr=isHTMLElement(tr)?getScale(tr):createCoords(1),sr=tr.clientWidth*rr.x,ar=tr.clientHeight*rr.y,or=ir*rr.x,lr=nr*rr.y;return{width:sr,height:ar,x:or,y:lr}}function getClientRectFromClippingAncestor(tr,Hn,er){let nr;if(Hn==="viewport")nr=getViewportRect(tr,er);else if(Hn==="document")nr=getDocumentRect(getDocumentElement(tr));else if(isElement(Hn))nr=getInnerBoundingClientRect(Hn,er);else{const ir=getVisualOffsets(tr);nr={x:Hn.x-ir.x,y:Hn.y-ir.y,width:Hn.width,height:Hn.height}}return rectToClientRect(nr)}function hasFixedPositionAncestor(tr,Hn){const er=getParentNode(tr);return er===Hn||!isElement(er)||isLastTraversableNode(er)?!1:getComputedStyle$1(er).position==="fixed"||hasFixedPositionAncestor(er,Hn)}function getClippingElementAncestors(tr,Hn){const er=Hn.get(tr);if(er)return er;let nr=getOverflowAncestors(tr,[],!1).filter(ar=>isElement(ar)&&getNodeName(ar)!=="body"),ir=null;const rr=getComputedStyle$1(tr).position==="fixed";let sr=rr?getParentNode(tr):tr;for(;isElement(sr)&&!isLastTraversableNode(sr);){const ar=getComputedStyle$1(sr),or=isContainingBlock(sr);!or&&ar.position==="fixed"&&(ir=null),(rr?!or&&!ir:!or&&ar.position==="static"&&!!ir&&absoluteOrFixed.has(ir.position)||isOverflowElement(sr)&&!or&&hasFixedPositionAncestor(tr,sr))?nr=nr.filter(cr=>cr!==sr):ir=ar,sr=getParentNode(sr)}return Hn.set(tr,nr),nr}function getClippingRect(tr){let{element:Hn,boundary:er,rootBoundary:nr,strategy:ir}=tr;const sr=[...er==="clippingAncestors"?isTopLayer(Hn)?[]:getClippingElementAncestors(Hn,this._c):[].concat(er),nr],ar=sr[0],or=sr.reduce((lr,cr)=>{const ur=getClientRectFromClippingAncestor(Hn,cr,ir);return lr.top=max(ur.top,lr.top),lr.right=min(ur.right,lr.right),lr.bottom=min(ur.bottom,lr.bottom),lr.left=max(ur.left,lr.left),lr},getClientRectFromClippingAncestor(Hn,ar,ir));return{width:or.right-or.left,height:or.bottom-or.top,x:or.left,y:or.top}}function getDimensions(tr){const{width:Hn,height:er}=getCssDimensions(tr);return{width:Hn,height:er}}function getRectRelativeToOffsetParent(tr,Hn,er){const nr=isHTMLElement(Hn),ir=getDocumentElement(Hn),rr=er==="fixed",sr=getBoundingClientRect(tr,!0,rr,Hn);let ar={scrollLeft:0,scrollTop:0};const or=createCoords(0);function lr(){or.x=getWindowScrollBarX(ir)}if(nr||!nr&&!rr)if((getNodeName(Hn)!=="body"||isOverflowElement(ir))&&(ar=getNodeScroll(Hn)),nr){const fr=getBoundingClientRect(Hn,!0,rr,Hn);or.x=fr.x+Hn.clientLeft,or.y=fr.y+Hn.clientTop}else ir&&lr();rr&&!nr&&ir&&lr();const cr=ir&&!nr&&!rr?getHTMLOffset(ir,ar):createCoords(0),ur=sr.left+ar.scrollLeft-or.x-cr.x,dr=sr.top+ar.scrollTop-or.y-cr.y;return{x:ur,y:dr,width:sr.width,height:sr.height}}function isStaticPositioned(tr){return getComputedStyle$1(tr).position==="static"}function getTrueOffsetParent(tr,Hn){if(!isHTMLElement(tr)||getComputedStyle$1(tr).position==="fixed")return null;if(Hn)return Hn(tr);let er=tr.offsetParent;return getDocumentElement(tr)===er&&(er=er.ownerDocument.body),er}function getOffsetParent(tr,Hn){const er=getWindow(tr);if(isTopLayer(tr))return er;if(!isHTMLElement(tr)){let ir=getParentNode(tr);for(;ir&&!isLastTraversableNode(ir);){if(isElement(ir)&&!isStaticPositioned(ir))return ir;ir=getParentNode(ir)}return er}let nr=getTrueOffsetParent(tr,Hn);for(;nr&&isTableElement(nr)&&isStaticPositioned(nr);)nr=getTrueOffsetParent(nr,Hn);return nr&&isLastTraversableNode(nr)&&isStaticPositioned(nr)&&!isContainingBlock(nr)?er:nr||getContainingBlock(tr)||er}const getElementRects=async function(tr){const Hn=this.getOffsetParent||getOffsetParent,er=this.getDimensions,nr=await er(tr.floating);return{reference:getRectRelativeToOffsetParent(tr.reference,await Hn(tr.floating),tr.strategy),floating:{x:0,y:0,width:nr.width,height:nr.height}}};function isRTL(tr){return getComputedStyle$1(tr).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(tr,Hn){return tr.x===Hn.x&&tr.y===Hn.y&&tr.width===Hn.width&&tr.height===Hn.height}function observeMove(tr,Hn){let er=null,nr;const ir=getDocumentElement(tr);function rr(){var ar;clearTimeout(nr),(ar=er)==null||ar.disconnect(),er=null}function sr(ar,or){ar===void 0&&(ar=!1),or===void 0&&(or=1),rr();const lr=tr.getBoundingClientRect(),{left:cr,top:ur,width:dr,height:fr}=lr;if(ar||Hn(),!dr||!fr)return;const gr=floor(ur),yr=floor(ir.clientWidth-(cr+dr)),vr=floor(ir.clientHeight-(ur+fr)),jr=floor(cr),Tr={rootMargin:-gr+"px "+-yr+"px "+-vr+"px "+-jr+"px",threshold:max(0,min(1,or))||1};let Lr=!0;function Mr(Nr){const Or=Nr[0].intersectionRatio;if(Or!==or){if(!Lr)return sr();Or?sr(!1,Or):nr=setTimeout(()=>{sr(!1,1e-7)},1e3)}Or===1&&!rectsAreEqual(lr,tr.getBoundingClientRect())&&sr(),Lr=!1}try{er=new IntersectionObserver(Mr,{...Tr,root:ir.ownerDocument})}catch{er=new IntersectionObserver(Mr,Tr)}er.observe(tr)}return sr(!0),rr}function autoUpdate(tr,Hn,er,nr){nr===void 0&&(nr={});const{ancestorScroll:ir=!0,ancestorResize:rr=!0,elementResize:sr=typeof ResizeObserver=="function",layoutShift:ar=typeof IntersectionObserver=="function",animationFrame:or=!1}=nr,lr=unwrapElement(tr),cr=ir||rr?[...lr?getOverflowAncestors(lr):[],...getOverflowAncestors(Hn)]:[];cr.forEach(jr=>{ir&&jr.addEventListener("scroll",er,{passive:!0}),rr&&jr.addEventListener("resize",er)});const ur=lr&&ar?observeMove(lr,er):null;let dr=-1,fr=null;sr&&(fr=new ResizeObserver(jr=>{let[Sr]=jr;Sr&&Sr.target===lr&&fr&&(fr.unobserve(Hn),cancelAnimationFrame(dr),dr=requestAnimationFrame(()=>{var Tr;(Tr=fr)==null||Tr.observe(Hn)})),er()}),lr&&!or&&fr.observe(lr),fr.observe(Hn));let gr,yr=or?getBoundingClientRect(tr):null;or&&vr();function vr(){const jr=getBoundingClientRect(tr);yr&&!rectsAreEqual(yr,jr)&&er(),yr=jr,gr=requestAnimationFrame(vr)}return er(),()=>{var jr;cr.forEach(Sr=>{ir&&Sr.removeEventListener("scroll",er),rr&&Sr.removeEventListener("resize",er)}),ur?.(),(jr=fr)==null||jr.disconnect(),fr=null,or&&cancelAnimationFrame(gr)}}const offset=offset$1,shift=shift$1,flip=flip$1,arrow=arrow$1,computePosition=(tr,Hn,er)=>{const nr=new Map,ir={platform,...er},rr={...ir.platform,_c:nr};return computePosition$1(tr,Hn,{...ir,platform:rr})};var classnames={exports:{}};var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,(function(tr){(function(){var Hn={}.hasOwnProperty;function er(){for(var rr="",sr=0;sr<arguments.length;sr++){var ar=arguments[sr];ar&&(rr=ir(rr,nr(ar)))}return rr}function nr(rr){if(typeof rr=="string"||typeof rr=="number")return rr;if(typeof rr!="object")return"";if(Array.isArray(rr))return er.apply(null,rr);if(rr.toString!==Object.prototype.toString&&!rr.toString.toString().includes("[native code]"))return rr.toString();var sr="";for(var ar in rr)Hn.call(rr,ar)&&rr[ar]&&(sr=ir(sr,ar));return sr}function ir(rr,sr){return sr?rr?rr+" "+sr:rr+sr:rr}tr.exports?(er.default=er,tr.exports=er):window.classNames=er})()})(classnames)),classnames.exports}var classnamesExports=requireClassnames();const y$1=getDefaultExportFromCjs(classnamesExports);var define_process_env_default={};const h$1="react-tooltip-core-styles",w$1="react-tooltip-base-styles",b$1={core:!1,base:!1};function S$1({css:tr,id:Hn=w$1,type:er="base",ref:nr}){var ir,rr;if(!tr||typeof document>"u"||b$1[er]||er==="core"&&typeof process<"u"&&(!((ir=process==null?void 0:define_process_env_default)===null||ir===void 0)&&ir.REACT_TOOLTIP_DISABLE_CORE_STYLES)||er!=="base"&&typeof process<"u"&&(!((rr=process==null?void 0:define_process_env_default)===null||rr===void 0)&&rr.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;er==="core"&&(Hn=h$1),nr||(nr={});const{insertAt:sr}=nr;if(document.getElementById(Hn))return;const ar=document.head||document.getElementsByTagName("head")[0],or=document.createElement("style");or.id=Hn,or.type="text/css",sr==="top"&&ar.firstChild?ar.insertBefore(or,ar.firstChild):ar.appendChild(or),or.styleSheet?or.styleSheet.cssText=tr:or.appendChild(document.createTextNode(tr)),b$1[er]=!0}const E$1=async({elementReference:tr=null,tooltipReference:Hn=null,tooltipArrowReference:er=null,place:nr="top",offset:ir=10,strategy:rr="absolute",middlewares:sr=[offset(Number(ir)),flip({fallbackAxisSideDirection:"start"}),shift({padding:5})],border:ar,arrowSize:or=8})=>{if(!tr)return{tooltipStyles:{},tooltipArrowStyles:{},place:nr};if(Hn===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:nr};const lr=sr;return er?(lr.push(arrow({element:er,padding:5})),computePosition(tr,Hn,{placement:nr,strategy:rr,middleware:lr}).then((({x:cr,y:ur,placement:dr,middlewareData:fr})=>{var gr,yr;const vr={left:`${cr}px`,top:`${ur}px`,border:ar},{x:jr,y:Sr}=(gr=fr.arrow)!==null&&gr!==void 0?gr:{x:0,y:0},Tr=(yr={top:"bottom",right:"left",bottom:"top",left:"right"}[dr.split("-")[0]])!==null&&yr!==void 0?yr:"bottom",Lr=ar&&{borderBottom:ar,borderRight:ar};let Mr=0;if(ar){const Nr=`${ar}`.match(/(\d+)px/);Mr=Nr?.[1]?Number(Nr[1]):1}return{tooltipStyles:vr,tooltipArrowStyles:{left:jr!=null?`${jr}px`:"",top:Sr!=null?`${Sr}px`:"",right:"",bottom:"",...Lr,[Tr]:`-${or/2+Mr}px`},place:dr}}))):computePosition(tr,Hn,{placement:"bottom",strategy:rr,middleware:lr}).then((({x:cr,y:ur,placement:dr})=>({tooltipStyles:{left:`${cr}px`,top:`${ur}px`},tooltipArrowStyles:{},place:dr})))},A$1=(tr,Hn)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(tr,Hn),_$1=(tr,Hn,er)=>{let nr=null;const ir=function(...rr){const sr=()=>{nr=null};!nr&&(tr.apply(this,rr),nr=setTimeout(sr,Hn))};return ir.cancel=()=>{nr&&(clearTimeout(nr),nr=null)},ir},O$1=tr=>tr!==null&&!Array.isArray(tr)&&typeof tr=="object",k$1=(tr,Hn)=>{if(tr===Hn)return!0;if(Array.isArray(tr)&&Array.isArray(Hn))return tr.length===Hn.length&&tr.every(((ir,rr)=>k$1(ir,Hn[rr])));if(Array.isArray(tr)!==Array.isArray(Hn))return!1;if(!O$1(tr)||!O$1(Hn))return tr===Hn;const er=Object.keys(tr),nr=Object.keys(Hn);return er.length===nr.length&&er.every((ir=>k$1(tr[ir],Hn[ir])))},T$1=tr=>{if(!(tr instanceof HTMLElement||tr instanceof SVGElement))return!1;const Hn=getComputedStyle(tr);return["overflow","overflow-x","overflow-y"].some((er=>{const nr=Hn.getPropertyValue(er);return nr==="auto"||nr==="scroll"}))},L$2=tr=>{if(!tr)return null;let Hn=tr.parentElement;for(;Hn;){if(T$1(Hn))return Hn;Hn=Hn.parentElement}return document.scrollingElement||document.documentElement},C$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,R$1=tr=>{tr.current&&(clearTimeout(tr.current),tr.current=null)},x$1="DEFAULT_TOOLTIP_ID",N$1={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},$$1=reactExports.createContext({getTooltipData:()=>N$1});function I$1(tr=x$1){return reactExports.useContext($$1).getTooltipData(tr)}var B$1={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},D$1={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const q$1=({forwardRef:tr,id:Hn,className:er,classNameArrow:nr,variant:ir="dark",anchorId:rr,anchorSelect:sr,place:ar="top",offset:or=10,events:lr=["hover"],openOnClick:cr=!1,positionStrategy:ur="absolute",middlewares:dr,wrapper:fr,delayShow:gr=0,delayHide:yr=0,float:vr=!1,hidden:jr=!1,noArrow:Sr=!1,clickable:Tr=!1,closeOnEsc:Lr=!1,closeOnScroll:Mr=!1,closeOnResize:Nr=!1,openEvents:Or,closeEvents:Fr,globalCloseEvents:Gr,imperativeModeOnly:qr,style:Hr,position:Yr,afterShow:ro,afterHide:io,disableTooltip:fo,content:ao,contentWrapperRef:Jr,isOpen:uo,defaultIsOpen:oo=!1,setIsOpen:co,previousActiveAnchor:no,activeAnchor:mo,setActiveAnchor:Eo,border:bo,opacity:Po,arrowColor:wo,arrowSize:To=8,role:Fo="tooltip"})=>{var Co;const Go=reactExports.useRef(null),el=reactExports.useRef(null),Lo=reactExports.useRef(null),Uo=reactExports.useRef(null),$o=reactExports.useRef(null),[il,pl]=reactExports.useState({tooltipStyles:{},tooltipArrowStyles:{},place:ar}),[ml,Wl]=reactExports.useState(!1),[Xl,ac]=reactExports.useState(!1),[Tl,Ol]=reactExports.useState(null),dc=reactExports.useRef(!1),oc=reactExports.useRef(null),{anchorRefs:vc,setActiveAnchor:Ic}=I$1(Hn),Yc=reactExports.useRef(!1),[Rc,El]=reactExports.useState([]),Kl=reactExports.useRef(!1),ec=cr||lr.includes("click"),Fc=ec||Or?.click||Or?.dblclick||Or?.mousedown,Hl=Or?{...Or}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!Or&&ec&&Object.assign(Hl,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const al=Fr?{...Fr}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!Fr&&ec&&Object.assign(al,{mouseleave:!1,blur:!1,mouseout:!1});const sl=Gr?{...Gr}:{escape:Lr||!1,scroll:Mr||!1,resize:Nr||!1,clickOutsideAnchor:Fc||!1};qr&&(Object.assign(Hl,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(al,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(sl,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),C$1((()=>(Kl.current=!0,()=>{Kl.current=!1})),[]);const fl=bl=>{Kl.current&&(bl&&ac(!0),setTimeout((()=>{Kl.current&&(co?.(bl),uo===void 0&&Wl(bl))}),10))};reactExports.useEffect((()=>{if(Hn){if(ml){Bl(no);const Pl=bl(mo),Dl=[...new Set([...Pl,Hn])].filter(Boolean).join(" ");mo?.setAttribute("aria-describedby",Dl)}else Bl(mo);return()=>{Bl(mo),Bl(no)}}function bl(Pl){var Dl;return((Dl=Pl?.getAttribute("aria-describedby"))===null||Dl===void 0?void 0:Dl.split(" "))||[]}function Bl(Pl){const Dl=bl(Pl).filter((bu=>bu!==Hn));Dl.length?Pl?.setAttribute("aria-describedby",Dl.join(" ")):Pl?.removeAttribute("aria-describedby")}}),[mo,ml,Hn,no]),reactExports.useEffect((()=>{if(uo===void 0)return()=>null;uo&&ac(!0);const bl=setTimeout((()=>{Wl(uo)}),10);return()=>{clearTimeout(bl)}}),[uo]),reactExports.useEffect((()=>{if(ml!==dc.current)if(R$1($o),dc.current=ml,ml)ro?.();else{const bl=(Bl=>{const Pl=Bl.match(/^([\d.]+)(ms|s)$/);if(!Pl)return 0;const[,Dl,bu]=Pl;return Number(Dl)*(bu==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));$o.current=setTimeout((()=>{ac(!1),Ol(null),io?.()}),bl+25)}}),[ml]);const $l=bl=>{pl((Bl=>k$1(Bl,bl)?Bl:bl))},Nl=(bl=gr)=>{R$1(Lo),Xl?fl(!0):Lo.current=setTimeout((()=>{fl(!0)}),bl)},tc=(bl=yr)=>{R$1(Uo),Uo.current=setTimeout((()=>{Yc.current||fl(!1)}),bl)},uc=bl=>{var Bl;if(!bl)return;const Pl=(Bl=bl.currentTarget)!==null&&Bl!==void 0?Bl:bl.target;if(!Pl?.isConnected)return Eo(null),void Ic({current:null});gr?Nl():fl(!0),Eo(Pl),Ic({current:Pl}),R$1(Uo)},Kc=()=>{Tr?tc(yr||100):yr?tc():fl(!1),R$1(Lo)},bc=({x:bl,y:Bl})=>{var Pl;const Dl={getBoundingClientRect:()=>({x:bl,y:Bl,width:0,height:0,top:Bl,left:bl,right:bl,bottom:Bl})};E$1({place:(Pl=Tl?.place)!==null&&Pl!==void 0?Pl:ar,offset:or,elementReference:Dl,tooltipReference:Go.current,tooltipArrowReference:el.current,strategy:ur,middlewares:dr,border:bo,arrowSize:To}).then((bu=>{$l(bu)}))},Cc=bl=>{if(!bl)return;const Bl=bl,Pl={x:Bl.clientX,y:Bl.clientY};bc(Pl),oc.current=Pl},vu=bl=>{var Bl;if(!ml)return;const Pl=bl.target;Pl.isConnected&&(!((Bl=Go.current)===null||Bl===void 0)&&Bl.contains(Pl)||[document.querySelector(`[id='${rr}']`),...Rc].some((Dl=>Dl?.contains(Pl)))||(fl(!1),R$1(Lo)))},Zc=_$1(uc,50),fc=_$1(Kc,50),Bc=bl=>{fc.cancel(),Zc(bl)},nc=()=>{Zc.cancel(),fc()},Ul=reactExports.useCallback((()=>{var bl,Bl;const Pl=(bl=Tl?.position)!==null&&bl!==void 0?bl:Yr;Pl?bc(Pl):vr?oc.current&&bc(oc.current):mo?.isConnected&&E$1({place:(Bl=Tl?.place)!==null&&Bl!==void 0?Bl:ar,offset:or,elementReference:mo,tooltipReference:Go.current,tooltipArrowReference:el.current,strategy:ur,middlewares:dr,border:bo,arrowSize:To}).then((Dl=>{Kl.current&&$l(Dl)}))}),[ml,mo,ao,Hr,ar,Tl?.place,or,ur,Yr,Tl?.position,vr,To]);reactExports.useEffect((()=>{var bl,Bl;const Pl=new Set(vc);Rc.forEach((zc=>{fo?.(zc)||Pl.add({current:zc})}));const Dl=document.querySelector(`[id='${rr}']`);Dl&&!fo?.(Dl)&&Pl.add({current:Dl});const bu=()=>{fl(!1)},oh=L$2(mo),ku=L$2(Go.current);sl.scroll&&(window.addEventListener("scroll",bu),oh?.addEventListener("scroll",bu),ku?.addEventListener("scroll",bu));let Mc=null;sl.resize?window.addEventListener("resize",bu):mo&&Go.current&&(Mc=autoUpdate(mo,Go.current,Ul,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const eu=zc=>{zc.key==="Escape"&&fl(!1)};sl.escape&&window.addEventListener("keydown",eu),sl.clickOutsideAnchor&&window.addEventListener("click",vu);const Qc=[],cc=zc=>!!(zc?.target&&mo?.contains(zc.target)),hu=zc=>{ml&&cc(zc)||uc(zc)},du=zc=>{ml&&cc(zc)&&Kc()},Gc=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Iu=["click","dblclick","mousedown","mouseup"];Object.entries(Hl).forEach((([zc,Hu])=>{Hu&&(Gc.includes(zc)?Qc.push({event:zc,listener:Bc}):Iu.includes(zc)&&Qc.push({event:zc,listener:hu}))})),Object.entries(al).forEach((([zc,Hu])=>{Hu&&(Gc.includes(zc)?Qc.push({event:zc,listener:nc}):Iu.includes(zc)&&Qc.push({event:zc,listener:du}))})),vr&&Qc.push({event:"pointermove",listener:Cc});const qh=()=>{Yc.current=!0},Bh=()=>{Yc.current=!1,Kc()},zh=Tr&&(al.mouseout||al.mouseleave);return zh&&((bl=Go.current)===null||bl===void 0||bl.addEventListener("mouseover",qh),(Bl=Go.current)===null||Bl===void 0||Bl.addEventListener("mouseout",Bh)),Qc.forEach((({event:zc,listener:Hu})=>{Pl.forEach((tu=>{var Hh;(Hh=tu.current)===null||Hh===void 0||Hh.addEventListener(zc,Hu)}))})),()=>{var zc,Hu;sl.scroll&&(window.removeEventListener("scroll",bu),oh?.removeEventListener("scroll",bu),ku?.removeEventListener("scroll",bu)),sl.resize?window.removeEventListener("resize",bu):Mc?.(),sl.clickOutsideAnchor&&window.removeEventListener("click",vu),sl.escape&&window.removeEventListener("keydown",eu),zh&&((zc=Go.current)===null||zc===void 0||zc.removeEventListener("mouseover",qh),(Hu=Go.current)===null||Hu===void 0||Hu.removeEventListener("mouseout",Bh)),Qc.forEach((({event:tu,listener:Hh})=>{Pl.forEach((cd=>{var fh;(fh=cd.current)===null||fh===void 0||fh.removeEventListener(tu,Hh)}))}))}}),[mo,Ul,Xl,vc,Rc,Or,Fr,Gr,ec,gr,yr]),reactExports.useEffect((()=>{var bl,Bl;let Pl=(Bl=(bl=Tl?.anchorSelect)!==null&&bl!==void 0?bl:sr)!==null&&Bl!==void 0?Bl:"";!Pl&&Hn&&(Pl=`[data-tooltip-id='${Hn.replace(/'/g,"\\'")}']`);const Dl=new MutationObserver((bu=>{const oh=[],ku=[];bu.forEach((Mc=>{if(Mc.type==="attributes"&&Mc.attributeName==="data-tooltip-id"&&(Mc.target.getAttribute("data-tooltip-id")===Hn?oh.push(Mc.target):Mc.oldValue===Hn&&ku.push(Mc.target)),Mc.type==="childList"){if(mo){const eu=[...Mc.removedNodes].filter((Qc=>Qc.nodeType===1));if(Pl)try{ku.push(...eu.filter((Qc=>Qc.matches(Pl)))),ku.push(...eu.flatMap((Qc=>[...Qc.querySelectorAll(Pl)])))}catch{}eu.some((Qc=>{var cc;return!!(!((cc=Qc?.contains)===null||cc===void 0)&&cc.call(Qc,mo))&&(ac(!1),fl(!1),Eo(null),R$1(Lo),R$1(Uo),!0)}))}if(Pl)try{const eu=[...Mc.addedNodes].filter((Qc=>Qc.nodeType===1));oh.push(...eu.filter((Qc=>Qc.matches(Pl)))),oh.push(...eu.flatMap((Qc=>[...Qc.querySelectorAll(Pl)])))}catch{}}})),(oh.length||ku.length)&&El((Mc=>[...Mc.filter((eu=>!ku.includes(eu))),...oh]))}));return Dl.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Dl.disconnect()}}),[Hn,sr,Tl?.anchorSelect,mo]),reactExports.useEffect((()=>{Ul()}),[Ul]),reactExports.useEffect((()=>{if(!Jr?.current)return()=>null;const bl=new ResizeObserver((()=>{setTimeout((()=>Ul()))}));return bl.observe(Jr.current),()=>{bl.disconnect()}}),[ao,Jr?.current]),reactExports.useEffect((()=>{var bl;const Bl=document.querySelector(`[id='${rr}']`),Pl=[...Rc,Bl];mo&&Pl.includes(mo)||Eo((bl=Rc[0])!==null&&bl!==void 0?bl:Bl)}),[rr,Rc,mo]),reactExports.useEffect((()=>(oo&&fl(!0),()=>{R$1(Lo),R$1(Uo)})),[]),reactExports.useEffect((()=>{var bl;let Bl=(bl=Tl?.anchorSelect)!==null&&bl!==void 0?bl:sr;if(!Bl&&Hn&&(Bl=`[data-tooltip-id='${Hn.replace(/'/g,"\\'")}']`),Bl)try{const Pl=Array.from(document.querySelectorAll(Bl));El(Pl)}catch{El([])}}),[Hn,sr,Tl?.anchorSelect]),reactExports.useEffect((()=>{Lo.current&&(R$1(Lo),Nl(gr))}),[gr]);const ah=(Co=Tl?.content)!==null&&Co!==void 0?Co:ao,ol=ml&&Object.keys(il.tooltipStyles).length>0;return reactExports.useImperativeHandle(tr,(()=>({open:bl=>{if(bl?.anchorSelect)try{document.querySelector(bl.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${bl.anchorSelect}" is not a valid CSS selector`)}Ol(bl??null),bl?.delay?Nl(bl.delay):fl(!0)},close:bl=>{bl?.delay?tc(bl.delay):fl(!1)},activeAnchor:mo,place:il.place,isOpen:!!(Xl&&!jr&&ah&&ol)}))),Xl&&!jr&&ah?React.createElement(fr,{id:Hn,role:Fo,className:y$1("react-tooltip",B$1.tooltip,D$1.tooltip,D$1[ir],er,`react-tooltip__place-${il.place}`,B$1[ol?"show":"closing"],ol?"react-tooltip__show":"react-tooltip__closing",ur==="fixed"&&B$1.fixed,Tr&&B$1.clickable),onTransitionEnd:bl=>{R$1($o),ml||bl.propertyName!=="opacity"||(ac(!1),Ol(null),io?.())},style:{...Hr,...il.tooltipStyles,opacity:Po!==void 0&&ol?Po:void 0},ref:Go},ah,React.createElement(fr,{className:y$1("react-tooltip-arrow",B$1.arrow,D$1.arrow,nr,Sr&&B$1.noArrow),style:{...il.tooltipArrowStyles,background:wo?`linear-gradient(to right bottom, transparent 50%, ${wo} 50%)`:void 0,"--rt-arrow-size":`${To}px`},ref:el})):null},H$1=({content:tr})=>React.createElement("span",{dangerouslySetInnerHTML:{__html:tr}}),M$1=React.forwardRef((({id:tr,anchorId:Hn,anchorSelect:er,content:nr,html:ir,render:rr,className:sr,classNameArrow:ar,variant:or="dark",place:lr="top",offset:cr=10,wrapper:ur="div",children:dr=null,events:fr=["hover"],openOnClick:gr=!1,positionStrategy:yr="absolute",middlewares:vr,delayShow:jr=0,delayHide:Sr=0,float:Tr=!1,hidden:Lr=!1,noArrow:Mr=!1,clickable:Nr=!1,closeOnEsc:Or=!1,closeOnScroll:Fr=!1,closeOnResize:Gr=!1,openEvents:qr,closeEvents:Hr,globalCloseEvents:Yr,imperativeModeOnly:ro=!1,style:io,position:fo,isOpen:ao,defaultIsOpen:Jr=!1,disableStyleInjection:uo=!1,border:oo,opacity:co,arrowColor:no,arrowSize:mo,setIsOpen:Eo,afterShow:bo,afterHide:Po,disableTooltip:wo,role:To="tooltip"},Fo)=>{const[Co,Go]=reactExports.useState(nr),[el,Lo]=reactExports.useState(ir),[Uo,$o]=reactExports.useState(lr),[il,pl]=reactExports.useState(or),[ml,Wl]=reactExports.useState(cr),[Xl,ac]=reactExports.useState(jr),[Tl,Ol]=reactExports.useState(Sr),[dc,oc]=reactExports.useState(Tr),[vc,Ic]=reactExports.useState(Lr),[Yc,Rc]=reactExports.useState(ur),[El,Kl]=reactExports.useState(fr),[ec,Fc]=reactExports.useState(yr),[Hl,al]=reactExports.useState(null),[sl,fl]=reactExports.useState(null),$l=reactExports.useRef(null),Nl=reactExports.useRef(uo),{anchorRefs:tc,activeAnchor:uc}=I$1(tr),Kc=fc=>fc?.getAttributeNames().reduce(((Bc,nc)=>{var Ul;return nc.startsWith("data-tooltip-")&&(Bc[nc.replace(/^data-tooltip-/,"")]=(Ul=fc?.getAttribute(nc))!==null&&Ul!==void 0?Ul:null),Bc}),{}),bc=fc=>{const Bc={place:nc=>{var Ul;$o((Ul=nc)!==null&&Ul!==void 0?Ul:lr)},content:nc=>{Go(nc??nr)},html:nc=>{Lo(nc??ir)},variant:nc=>{var Ul;pl((Ul=nc)!==null&&Ul!==void 0?Ul:or)},offset:nc=>{Wl(nc===null?cr:Number(nc))},wrapper:nc=>{var Ul;Rc((Ul=nc)!==null&&Ul!==void 0?Ul:ur)},events:nc=>{const Ul=nc?.split(" ");Kl(Ul??fr)},"position-strategy":nc=>{var Ul;Fc((Ul=nc)!==null&&Ul!==void 0?Ul:yr)},"delay-show":nc=>{ac(nc===null?jr:Number(nc))},"delay-hide":nc=>{Ol(nc===null?Sr:Number(nc))},float:nc=>{oc(nc===null?Tr:nc==="true")},hidden:nc=>{Ic(nc===null?Lr:nc==="true")},"class-name":nc=>{al(nc)}};Object.values(Bc).forEach((nc=>nc(null))),Object.entries(fc).forEach((([nc,Ul])=>{var ah;(ah=Bc[nc])===null||ah===void 0||ah.call(Bc,Ul)}))};reactExports.useEffect((()=>{Go(nr)}),[nr]),reactExports.useEffect((()=>{Lo(ir)}),[ir]),reactExports.useEffect((()=>{$o(lr)}),[lr]),reactExports.useEffect((()=>{pl(or)}),[or]),reactExports.useEffect((()=>{Wl(cr)}),[cr]),reactExports.useEffect((()=>{ac(jr)}),[jr]),reactExports.useEffect((()=>{Ol(Sr)}),[Sr]),reactExports.useEffect((()=>{oc(Tr)}),[Tr]),reactExports.useEffect((()=>{Ic(Lr)}),[Lr]),reactExports.useEffect((()=>{Fc(yr)}),[yr]),reactExports.useEffect((()=>{Nl.current!==uo&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[uo]),reactExports.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:uo==="core",disableBase:uo}}))}),[]),reactExports.useEffect((()=>{var fc;const Bc=new Set(tc);let nc=er;if(!nc&&tr&&(nc=`[data-tooltip-id='${tr.replace(/'/g,"\\'")}']`),nc)try{document.querySelectorAll(nc).forEach((Bl=>{Bc.add({current:Bl})}))}catch{console.warn(`[react-tooltip] "${nc}" is not a valid CSS selector`)}const Ul=document.querySelector(`[id='${Hn}']`);if(Ul&&Bc.add({current:Ul}),!Bc.size)return()=>null;const ah=(fc=sl??Ul)!==null&&fc!==void 0?fc:uc.current,ol=new MutationObserver((Bl=>{Bl.forEach((Pl=>{var Dl;if(!ah||Pl.type!=="attributes"||!(!((Dl=Pl.attributeName)===null||Dl===void 0)&&Dl.startsWith("data-tooltip-")))return;const bu=Kc(ah);bc(bu)}))})),bl={attributes:!0,childList:!1,subtree:!1};if(ah){const Bl=Kc(ah);bc(Bl),ol.observe(ah,bl)}return()=>{ol.disconnect()}}),[tc,uc,sl,Hn,er]),reactExports.useEffect((()=>{io?.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),oo&&!A$1("border",`${oo}`)&&console.warn(`[react-tooltip] "${oo}" is not a valid \`border\`.`),io?.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),co&&!A$1("opacity",`${co}`)&&console.warn(`[react-tooltip] "${co}" is not a valid \`opacity\`.`)}),[]);let Cc=dr;const vu=reactExports.useRef(null);if(rr){const fc=rr({content:sl?.getAttribute("data-tooltip-content")||Co||null,activeAnchor:sl});Cc=fc?React.createElement("div",{ref:vu,className:"react-tooltip-content-wrapper"},fc):null}else Co&&(Cc=Co);el&&(Cc=React.createElement(H$1,{content:el}));const Zc={forwardRef:Fo,id:tr,anchorId:Hn,anchorSelect:er,className:y$1(sr,Hl),classNameArrow:ar,content:Cc,contentWrapperRef:vu,place:Uo,variant:il,offset:ml,wrapper:Yc,events:El,openOnClick:gr,positionStrategy:ec,middlewares:vr,delayShow:Xl,delayHide:Tl,float:dc,hidden:vc,noArrow:Mr,clickable:Nr,closeOnEsc:Or,closeOnScroll:Fr,closeOnResize:Gr,openEvents:qr,closeEvents:Hr,globalCloseEvents:Yr,imperativeModeOnly:ro,style:io,position:fo,isOpen:ao,defaultIsOpen:Jr,border:oo,opacity:co,arrowColor:no,arrowSize:mo,setIsOpen:Eo,afterShow:bo,afterHide:Po,disableTooltip:wo,activeAnchor:sl,previousActiveAnchor:$l.current,setActiveAnchor:fc=>{fl((Bc=>(fc?.isSameNode(Bc)||($l.current=Bc),fc)))},role:To};return React.createElement(q$1,{...Zc})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(tr=>{tr.detail.disableCore||S$1({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),tr.detail.disableBase||S$1({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));const getTooltipText=tr=>{if(tr==null)return"Khng c d liu";const Hn=Number(tr);return Hn>=75?" Th trng ang hng phn. Cn nhc ri ro cht li.":Hn>=55?" Tm l lc quan ang chim u th.":Hn>=46?" Th trng ang lng l. Quan st thm.":Hn>=26?" Tm l bi quan ang xut hin.":" Th trng ang hong lon. C th l c hi cho nh u t di hn."},AnimatedGaugeChart=({value:tr,label:Hn=null,showLabel:er=!0})=>{const nr=tr??0,[ir,rr]=reactExports.useState(nr),[sr,ar]=reactExports.useState(!1),or=reactExports.useRef(null),lr=getFearLevel(nr);reactExports.useEffect(()=>{rr(nr)},[nr]);const cr=()=>{ar(!0),or.current&&cancelAnimationFrame(or.current),rr(0),setTimeout(()=>{const fr=performance.now(),gr=0,yr=nr,vr=jr=>{const Sr=jr-fr,Tr=Math.min(Sr/2e3,1),Lr=1-Math.pow(1-Tr,3),Mr=gr+(yr-gr)*Lr;rr(Math.round(Mr)),Tr<1&&(or.current=requestAnimationFrame(vr))};or.current=requestAnimationFrame(vr)},10)},ur=()=>{ar(!1),or.current&&cancelAnimationFrame(or.current),rr(nr)};return reactExports.useEffect(()=>()=>{or.current&&cancelAnimationFrame(or.current)},[]),jsxRuntimeExports.jsxs("div",{className:"gauge-container gauge-large",children:[jsxRuntimeExports.jsx("div",{className:"gauge-chart animated-gauge","data-tooltip-id":"fear-greed-tooltip","data-tooltip-content":getTooltipText(nr),onMouseEnter:cr,onMouseLeave:ur,children:jsxRuntimeExports.jsx(CircularProgressbar,{value:ir,text:`${nr}`,styles:buildStyles({textSize:"28px",textColor:lr.color,pathColor:lr.color,trailColor:"rgba(255, 255, 255, 0.1)",pathTransitionDuration:.1})})}),er&&jsxRuntimeExports.jsx("div",{className:"gauge-label",style:{color:lr.color},children:Hn||lr.label}),jsxRuntimeExports.jsx(M$1,{id:"fear-greed-tooltip",place:"top",style:{backgroundColor:"rgba(15, 23, 42, 0.95)",color:"#FACC15",fontSize:"0.875rem",fontWeight:"600",padding:"0.75rem 1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)",maxWidth:"300px",zIndex:1e3}})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index);const FearGreedChart=({data:tr})=>{if(!tr||tr.length===0)return jsxRuntimeExports.jsx("div",{className:"chart-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu  hin th biu "})});const Hn=tr.map(rr=>formatDate$3(rr.id_time)),er=tr.map(rr=>rr.chiso),nr={labels:Hn,datasets:[{label:"Ch s Fear & Greed",data:er,borderColor:"#FACC15",backgroundColor:rr=>{const ar=rr.chart.ctx.createLinearGradient(0,0,0,300);return ar.addColorStop(0,"rgba(250, 204, 21, 0.3)"),ar.addColorStop(1,"rgba(250, 204, 21, 0)"),ar},borderWidth:3,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#FACC15",pointBorderColor:"#1E293B",pointBorderWidth:2}]},ir={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!1,callbacks:{title:rr=>`Ngy: ${tr[rr[0].dataIndex].id_time}`,label:rr=>`Ch s: ${rr.parsed.y}`}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{min:0,max:100,grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",stepSize:20}}},interaction:{intersect:!1,mode:"index"}};return jsxRuntimeExports.jsx("div",{className:"fear-greed-chart",children:jsxRuntimeExports.jsx(Line,{data:nr,options:ir})})},FearGreedIndex=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(30),[or,lr]=reactExports.useState(!1),cr=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{try{nr(!0);const Sr=await fetchFearIndex();Hn(Sr),rr(null)}catch(Sr){console.error("Error loading fear index:",Sr),rr("Khng th ti d liu. Vui lng th li sau.")}finally{nr(!1)}})()},[]);const ur=()=>{lr(!0),cr.current&&(cr.current.currentTime=0,cr.current.play().catch(jr=>{console.warn("Trnh duyt chn m thanh t ng. Hy tng tc vi trang trc.",jr)})),setTimeout(()=>{lr(!1)},5e3)};reactExports.useEffect(()=>{let jr;const Sr=tr[tr.length-1]?.chiso;return Sr&&Sr>=96&&(ur(),jr=setInterval(ur,12e4)),()=>{jr&&clearInterval(jr)}},[tr]);const dr=reactExports.useMemo(()=>filterByDays(tr,sr),[tr,sr]),fr=reactExports.useMemo(()=>tr.length>0?tr[tr.length-1]:null,[tr]),gr=reactExports.useMemo(()=>tr.length>=2?tr[tr.length-2]:null,[tr]),yr=reactExports.useMemo(()=>tr.length>=8?tr[tr.length-8]:null,[tr]),vr=reactExports.useMemo(()=>tr.length>=31?tr[tr.length-31]:null,[tr]);return er?jsxRuntimeExports.jsx("div",{className:"fear-greed-section",children:jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."})]})}):ir?jsxRuntimeExports.jsx("div",{className:"fear-greed-section",children:jsxRuntimeExports.jsx("div",{className:"error-container",children:jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",ir]})})}):fr?jsxRuntimeExports.jsxs("div",{className:"fear-greed-section",children:[jsxRuntimeExports.jsx("audio",{ref:cr,src:"/jmbullion_check.mp3",preload:"auto"}),or&&jsxRuntimeExports.jsx("div",{className:"sell-notification",children:"JM Bullion Bn vng- bc cht li nh"}),jsxRuntimeExports.jsxs("div",{className:"section-header",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",style:{color:"#2ECC71"},children:" jmbullion"}),jsxRuntimeExports.jsx("p",{className:"section-subtitle",children:"Ch s Fear & Greed - o lng tm l nh u t"})]}),jsxRuntimeExports.jsxs("div",{className:"fear-greed-content",children:[jsxRuntimeExports.jsxs("div",{className:"overview-section",children:[jsxRuntimeExports.jsxs("div",{className:"main-gauge",children:[jsxRuntimeExports.jsx("h3",{className:"gauge-title",children:"Ch s Hin ti"}),jsxRuntimeExports.jsx(AnimatedGaugeChart,{value:fr.chiso}),jsxRuntimeExports.jsxs("div",{className:"gauge-date",children:["Cp nht: ",fr.id_time]})]}),jsxRuntimeExports.jsxs("div",{className:"comparison-gauges",children:[jsxRuntimeExports.jsxs("div",{className:"gauge-item",children:[jsxRuntimeExports.jsx("h4",{children:"Hm qua"}),gr?jsxRuntimeExports.jsx(GaugeChart,{value:gr.chiso,size:"small",showLabel:!1}):jsxRuntimeExports.jsx("p",{className:"no-data-small",children:"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"gauge-item",children:[jsxRuntimeExports.jsx("h4",{children:"Tun trc"}),yr?jsxRuntimeExports.jsx(GaugeChart,{value:yr.chiso,size:"small",showLabel:!1}):jsxRuntimeExports.jsx("p",{className:"no-data-small",children:"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"gauge-item",children:[jsxRuntimeExports.jsx("h4",{children:"Thng trc"}),vr?jsxRuntimeExports.jsx(GaugeChart,{value:vr.chiso,size:"small",showLabel:!1}):jsxRuntimeExports.jsx("p",{className:"no-data-small",children:"N/A"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"history-section",children:[jsxRuntimeExports.jsxs("div",{className:"history-header",children:[jsxRuntimeExports.jsx("h3",{className:"history-title",children:"Lch s Bin ng"}),jsxRuntimeExports.jsx("div",{className:"time-filter",children:[7,30,90,365].map(jr=>jsxRuntimeExports.jsx("button",{className:`filter-btn ${sr===jr?"active":""}`,onClick:()=>ar(jr),children:jr===365?"1 nm":`${jr} ngy`},jr))})]}),jsxRuntimeExports.jsx(FearGreedChart,{data:dr})]})]})]}):null},FearGreedIndex$1=React.memo(FearGreedIndex);Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,plugin_tooltip,index,plugin$1);function GlobalShark({data:tr=[],zoomable:Hn=!0,time:er}){const nr=reactExports.useRef(null),[ir,rr]=reactExports.useState(er),[sr,ar]=reactExports.useState({min:null,max:null}),or=reactExports.useMemo(()=>tr.filter(fr=>fr?.data&&Array.isArray(fr.data)).map(fr=>({name:fr.name,data:[...fr.data].sort((gr,yr)=>new Date(gr.x)-new Date(yr.x))})),[tr]),lr=reactExports.useMemo(()=>{const fr=or[0];return fr?.length?new Date(fr[fr.length-1].x):new Date},[or]);reactExports.useEffect(()=>{if(!or.length)return;const fr=lr;let gr;ir==="1M"?gr=subMonths(fr,1):ir==="3M"?gr=subMonths(fr,3):ir==="1Y"?gr=subYears(fr):ir==="YTD"?gr=startOfYear(fr):ir==="ALL"&&(gr=new Date("2016-07-01")),ar({min:gr.getTime(),max:fr.getTime()}),nr.current&&Hn&&nr.current.chartInstance?.zoomScale("x",{min:gr.getTime(),max:fr.getTime()})},[ir,or,lr,Hn]);const cr=reactExports.useMemo(()=>({datasets:or.map((fr,gr)=>({label:fr.name,data:fr.data,parsing:!1,borderColor:["#E63946","#F4A261","#E9C46A","#2A9D8F","#1D3557","#457B9D","#9D4EDD","#F72585","#6C757D"][gr%9],pointRadius:0,fill:!1,borderWidth:1.8,spanGaps:!0}))}),[or]),ur=reactExports.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,animation:!1,transitions:{zoom:{animation:!1},pan:{animation:!1}},interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{displayColors:!0,callbacks:{label:fr=>`${fr.dataset.label}: ${fr.parsed.y}`,labelColor:fr=>({borderColor:fr.dataset.borderColor,backgroundColor:fr.dataset.borderColor})}},decimation:{enabled:!0,algorithm:"min-max",samples:500},zoom:Hn?{limits:{x:{min:new Date("2016-07-01").getTime()}},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}:void 0},scales:{x:{type:"time",min:sr.min,max:sr.max,ticks:{maxTicksLimit:10}},y:{ticks:{callback:fr=>`${fr}`}}}}),[sr,Hn]),dr=()=>nr.current?.resetZoom();return jsxRuntimeExports.jsxs("div",{style:{width:"100%",marginTop:20,display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("div",{style:{height:480,width:"98%",marginBottom:"30px",cursor:"pointer "},children:jsxRuntimeExports.jsx(Line,{ref:nr,data:cr,options:ur})}),Hn&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:16,margin:"auto"},children:[["1M","3M","1Y","YTD","ALL"].map(fr=>jsxRuntimeExports.jsx("button",{style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",background:ir===fr?"#ff8800":"#eee"},onClick:()=>rr(fr),children:fr},fr)),jsxRuntimeExports.jsx("button",{onClick:dr,style:{padding:"6px 14px",borderRadius:6,background:"#444",color:"white",border:"1px solid #666"},children:"Reset Zoom"})]})]})}var highcharts$1={exports:{}},highcharts=highcharts$1.exports,hasRequiredHighcharts;function requireHighcharts(){return hasRequiredHighcharts||(hasRequiredHighcharts=1,(function(tr,Hn){(function(er,nr){er._Highcharts=nr(),tr.exports=er._Highcharts})(typeof window>"u"?highcharts:window,()=>(()=>{let er,nr;var ir,rr,sr,ar,or,lr,cr,ur,dr,fr,gr,yr,vr,jr,Sr,Tr,Lr,Mr,Nr={};Nr.d=(Ur,mr)=>{for(var br in mr)Nr.o(mr,br)&&!Nr.o(Ur,br)&&Object.defineProperty(Ur,br,{enumerable:!0,get:mr[br]})},Nr.o=(Ur,mr)=>Object.prototype.hasOwnProperty.call(Ur,mr);var Or={};Nr.d(Or,{default:()=>pf}),(function(Ur){Ur.SVG_NS="http://www.w3.org/2000/svg",Ur.product="Highcharts",Ur.version="12.4.0",Ur.win=typeof window<"u"?window:{},Ur.doc=Ur.win.document,Ur.svg=!!Ur.doc?.createElementNS?.(Ur.SVG_NS,"svg")?.createSVGRect,Ur.pageLang=Ur.doc?.documentElement?.closest("[lang]")?.lang,Ur.userAgent=Ur.win.navigator?.userAgent||"",Ur.isChrome=Ur.win.chrome,Ur.isFirefox=Ur.userAgent.indexOf("Firefox")!==-1,Ur.isMS=/(edge|msie|trident)/i.test(Ur.userAgent)&&!Ur.win.opera,Ur.isSafari=!Ur.isChrome&&Ur.userAgent.indexOf("Safari")!==-1,Ur.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(Ur.userAgent),Ur.isWebKit=Ur.userAgent.indexOf("AppleWebKit")!==-1,Ur.deg2rad=2*Math.PI/360,Ur.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],Ur.noop=function(){},Ur.supportsPassiveEvents=(function(){let mr=!1;if(!Ur.isMS){let br=Object.defineProperty({},"passive",{get:function(){mr=!0}});Ur.win.addEventListener&&Ur.win.removeEventListener&&(Ur.win.addEventListener("testPassive",Ur.noop,br),Ur.win.removeEventListener("testPassive",Ur.noop,br))}return mr})(),Ur.charts=[],Ur.composed=[],Ur.dateFormats={},Ur.seriesTypes={},Ur.symbolSizes={},Ur.chartCount=0})(ir||(ir={}));let Fr=ir,{charts:Gr,doc:qr,win:Hr}=Fr;function Yr(Ur,mr,br,Er){let Pr=mr?"Highcharts error":"Highcharts warning";Ur===32&&(Ur=`${Pr}: Deprecated member`);let Dr=oo(Ur),$r=Dr?`${Pr} #${Ur}: www.highcharts.com/errors/${Ur}/`:Ur.toString();if(Er!==void 0){let Ir="";Dr&&($r+="?"),Co(Er,function(zr,Kr){Ir+=`
 - ${Kr}: ${zr}`,Dr&&($r+=encodeURI(Kr)+"="+encodeURI(zr))}),$r+=Ir}el(Fr,"displayError",{chart:br,code:Ur,message:$r,params:Er},function(){if(mr)throw Error($r);Hr.console&&Yr.messages.indexOf($r)===-1&&console.warn($r)}),Yr.messages.push($r)}function ro(Ur,mr){return parseInt(Ur,mr||10)}function io(Ur){return typeof Ur=="string"}function fo(Ur){let mr=Object.prototype.toString.call(Ur);return mr==="[object Array]"||mr==="[object Array Iterator]"}function ao(Ur,mr){return!!Ur&&typeof Ur=="object"&&(!mr||!fo(Ur))}function Jr(Ur){return ao(Ur)&&typeof Ur.nodeType=="number"}function uo(Ur){let mr=Ur?.constructor;return!!(ao(Ur,!0)&&!Jr(Ur)&&mr?.name&&mr.name!=="Object")}function oo(Ur){return typeof Ur=="number"&&!isNaN(Ur)&&Ur<1/0&&Ur>-1/0}function co(Ur){return Ur!=null}function no(Ur,mr,br){let Er,Pr=io(mr)&&!co(br),Dr=($r,Ir)=>{co($r)?Ur.setAttribute(Ir,$r):Pr?(Er=Ur.getAttribute(Ir))||Ir!=="class"||(Er=Ur.getAttribute(Ir+"Name")):Ur.removeAttribute(Ir)};return io(mr)?Dr(br,mr):Co(mr,Dr),Er}function mo(Ur){return fo(Ur)?Ur:[Ur]}function Eo(Ur,mr){let br;for(br in Ur||(Ur={}),mr)Ur[br]=mr[br];return Ur}function bo(){let Ur=arguments,mr=Ur.length;for(let br=0;br<mr;br++){let Er=Ur[br];if(Er!=null)return Er}}function Po(Ur,mr){Eo(Ur.style,mr)}function wo(Ur){return Math.pow(10,Math.floor(Math.log(Ur)/Math.LN10))}function To(Ur,mr){return Ur>1e14?Ur:parseFloat(Ur.toPrecision(mr||14))}(Yr||(Yr={})).messages=[],Math.easeInOutSine=function(Ur){return-.5*(Math.cos(Math.PI*Ur)-1)};let Fo=Array.prototype.find?function(Ur,mr){return Ur.find(mr)}:function(Ur,mr){let br,Er=Ur.length;for(br=0;br<Er;br++)if(mr(Ur[br],br))return Ur[br]};function Co(Ur,mr,br){for(let Er in Ur)Object.hasOwnProperty.call(Ur,Er)&&mr.call(br||Ur[Er],Ur[Er],Er,Ur)}function Go(Ur,mr,br){function Er($r,Ir){let zr=Ur.removeEventListener;zr&&zr.call(Ur,$r,Ir,!1)}function Pr($r){let Ir,zr;Ur.nodeName&&(mr?(Ir={})[mr]=!0:Ir=$r,Co(Ir,function(Kr,eo){if($r[eo])for(zr=$r[eo].length;zr--;)Er(eo,$r[eo][zr].fn)}))}let Dr=typeof Ur=="function"&&Ur.prototype||Ur;if(Object.hasOwnProperty.call(Dr,"hcEvents")){let $r=Dr.hcEvents;if(mr){let Ir=$r[mr]||[];br?($r[mr]=Ir.filter(function(zr){return br!==zr.fn}),Er(mr,br)):(Pr($r),$r[mr]=[])}else Pr($r),delete Dr.hcEvents}}function el(Ur,mr,br,Er){if(br=br||{},qr?.createEvent&&(Ur.dispatchEvent||Ur.fireEvent&&Ur!==Fr)){let Pr=qr.createEvent("Events");Pr.initEvent(mr,!0,!0),br=Eo(Pr,br),Ur.dispatchEvent?Ur.dispatchEvent(br):Ur.fireEvent(mr,br)}else if(Ur.hcEvents){br.target||Eo(br,{preventDefault:function(){br.defaultPrevented=!0},target:Ur,type:mr});let Pr=[],Dr=Ur,$r=!1;for(;Dr.hcEvents;)Object.hasOwnProperty.call(Dr,"hcEvents")&&Dr.hcEvents[mr]&&(Pr.length&&($r=!0),Pr.unshift.apply(Pr,Dr.hcEvents[mr])),Dr=Object.getPrototypeOf(Dr);$r&&Pr.sort((Ir,zr)=>Ir.order-zr.order),Pr.forEach(Ir=>{Ir.fn.call(Ur,br)===!1&&br.preventDefault()})}Er&&!br.defaultPrevented&&Er.call(Ur,br)}let Lo=(function(){let Ur=Math.random().toString(36).substring(2,9)+"-",mr=0;return function(){return"highcharts-"+(er?"":Ur)+mr++}})();Hr.jQuery&&(Hr.jQuery.fn.highcharts=function(){let Ur=[].slice.call(arguments);if(this[0])return Ur[0]?(new Fr[io(Ur[0])?Ur.shift():"Chart"](this[0],Ur[0],Ur[1]),this):Gr[no(this[0],"data-highcharts-chart")]});let Uo={addEvent:function(Ur,mr,br,Er={}){let Pr=typeof Ur=="function"&&Ur.prototype||Ur;Object.hasOwnProperty.call(Pr,"hcEvents")||(Pr.hcEvents={});let Dr=Pr.hcEvents;Fr.Point&&Ur instanceof Fr.Point&&Ur.series&&Ur.series.chart&&(Ur.series.chart.runTrackerClick=!0);let $r=Ur.addEventListener;$r&&$r.call(Ur,mr,br,!!Fr.supportsPassiveEvents&&{passive:Er.passive===void 0?mr.indexOf("touch")!==-1:Er.passive,capture:!1}),Dr[mr]||(Dr[mr]=[]);let Ir={fn:br,order:typeof Er.order=="number"?Er.order:1/0};return Dr[mr].push(Ir),Dr[mr].sort((zr,Kr)=>zr.order-Kr.order),function(){Go(Ur,mr,br)}},arrayMax:function(Ur){let mr=Ur.length,br=Ur[0];for(;mr--;)Ur[mr]>br&&(br=Ur[mr]);return br},arrayMin:function(Ur){let mr=Ur.length,br=Ur[0];for(;mr--;)Ur[mr]<br&&(br=Ur[mr]);return br},attr:no,clamp:function(Ur,mr,br){return Ur>mr?Ur<br?Ur:br:mr},clearTimeout:function(Ur){co(Ur)&&clearTimeout(Ur)},correctFloat:To,createElement:function(Ur,mr,br,Er,Pr){let Dr=qr.createElement(Ur);return mr&&Eo(Dr,mr),Pr&&Po(Dr,{padding:"0",border:"none",margin:"0"}),br&&Po(Dr,br),Er&&Er.appendChild(Dr),Dr},crisp:function(Ur,mr=0,br){let Er=mr%2/2,Pr=br?-1:1;return(Math.round(Ur*Pr-Er)+Er)*Pr},css:Po,defined:co,destroyObjectProperties:function(Ur,mr,br){Co(Ur,function(Er,Pr){Er!==mr&&Er?.destroy&&Er.destroy(),(Er?.destroy||!br)&&delete Ur[Pr]})},diffObjects:function(Ur,mr,br,Er){let Pr={};return(function Dr($r,Ir,zr,Kr){let eo=br?Ir:$r;Co($r,function(Zr,so){if(!Kr&&Er&&Er.indexOf(so)>-1&&Ir[so]){Zr=mo(Zr),zr[so]=[];for(let po=0;po<Math.max(Zr.length,Ir[so].length);po++)Ir[so][po]&&(Zr[po]===void 0?zr[so][po]=Ir[so][po]:(zr[so][po]={},Dr(Zr[po],Ir[so][po],zr[so][po],Kr+1)))}else ao(Zr,!0)&&!Zr.nodeType?(zr[so]=fo(Zr)?[]:{},Dr(Zr,Ir[so]||{},zr[so],Kr+1),Object.keys(zr[so]).length===0&&(so!=="colorAxis"||Kr!==0)&&delete zr[so]):($r[so]!==Ir[so]||so in $r&&!(so in Ir))&&so!=="__proto__"&&so!=="constructor"&&(zr[so]=eo[so])})})(Ur,mr,Pr,0),Pr},discardElement:function(Ur){Ur?.parentElement?.removeChild(Ur)},erase:function(Ur,mr){let br=Ur.length;for(;br--;)if(Ur[br]===mr){Ur.splice(br,1);break}},error:Yr,extend:Eo,extendClass:function(Ur,mr){let br=function(){};return br.prototype=new Ur,Eo(br.prototype,mr),br},find:Fo,fireEvent:el,getAlignFactor:(Ur="")=>({center:.5,right:1,middle:.5,bottom:1})[Ur]||0,getClosestDistance:function(Ur,mr){let br,Er,Pr,Dr=!mr;return Ur.forEach($r=>{if($r.length>1)for(Pr=$r.length-1;Pr>0;Pr--)(Er=$r[Pr]-$r[Pr-1])<0&&!Dr?(mr?.(),mr=void 0):Er&&(br===void 0||Er<br)&&(br=Er)}),br},getMagnitude:wo,getNestedProperty:function(Ur,mr){let br=Ur.split(".");for(;br.length&&co(mr);){let Er=br.shift();if(Er===void 0||Er==="__proto__")return;if(Er==="this"){let Dr;return ao(mr)&&(Dr=mr["@this"]),Dr??mr}let Pr=mr[Er.replace(/[\\'"]/g,"")];if(!co(Pr)||typeof Pr=="function"||typeof Pr.nodeType=="number"||Pr===Hr)return;mr=Pr}return mr},getStyle:function Ur(mr,br,Er){let Pr;if(br==="width"){let $r=Math.min(mr.offsetWidth,mr.scrollWidth),Ir=mr.getBoundingClientRect?.().width;return Ir<$r&&Ir>=$r-1&&($r=Math.floor(Ir)),Math.max(0,$r-(Ur(mr,"padding-left",!0)||0)-(Ur(mr,"padding-right",!0)||0))}if(br==="height")return Math.max(0,Math.min(mr.offsetHeight,mr.scrollHeight)-(Ur(mr,"padding-top",!0)||0)-(Ur(mr,"padding-bottom",!0)||0));let Dr=Hr.getComputedStyle(mr,void 0);return Dr&&(Pr=Dr.getPropertyValue(br),bo(Er,br!=="opacity")&&(Pr=ro(Pr))),Pr},insertItem:function(Ur,mr){let br,Er=Ur.options.index,Pr=mr.length;for(br=Ur.options.isInternal?Pr:0;br<Pr+1;br++)if(!mr[br]||oo(Er)&&Er<bo(mr[br].options.index,mr[br]._i)||mr[br].options.isInternal){mr.splice(br,0,Ur);break}return br},isArray:fo,isClass:uo,isDOMElement:Jr,isFunction:function(Ur){return typeof Ur=="function"},isNumber:oo,isObject:ao,isString:io,merge:function(Ur,...mr){let br,Er=[Ur,...mr],Pr={},Dr=function(Ir,zr){return typeof Ir!="object"&&(Ir={}),Co(zr,function(Kr,eo){eo!=="__proto__"&&eo!=="constructor"&&(!ao(Kr,!0)||uo(Kr)||Jr(Kr)?Ir[eo]=zr[eo]:Ir[eo]=Dr(Ir[eo]||{},Kr))}),Ir};Ur===!0&&(Pr=Er[1],Er=Array.prototype.slice.call(Er,2));let $r=Er.length;for(br=0;br<$r;br++)Pr=Dr(Pr,Er[br]);return Pr},normalizeTickInterval:function(Ur,mr,br,Er,Pr){let Dr,$r=Ur;br=bo(br,wo(Ur));let Ir=Ur/br;for(!mr&&(mr=Pr?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],Er===!1&&(br===1?mr=mr.filter(function(zr){return zr%1==0}):br<=.1&&(mr=[1/br]))),Dr=0;Dr<mr.length&&($r=mr[Dr],(!Pr||!($r*br>=Ur))&&(Pr||!(Ir<=(mr[Dr]+(mr[Dr+1]||mr[Dr]))/2)));Dr++);return To($r*br,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Co,offset:function(Ur){let mr=qr.documentElement,br=Ur.parentElement||Ur.parentNode?Ur.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:br.top+(Hr.pageYOffset||mr.scrollTop)-(mr.clientTop||0),left:br.left+(Hr.pageXOffset||mr.scrollLeft)-(mr.clientLeft||0),width:br.width,height:br.height}},pad:function(Ur,mr,br){return Array((mr||2)+1-String(Ur).replace("-","").length).join(br||"0")+Ur},pick:bo,pInt:ro,pushUnique:function(Ur,mr){return 0>Ur.indexOf(mr)&&!!Ur.push(mr)},relativeLength:function(Ur,mr,br){return/%$/.test(Ur)?mr*parseFloat(Ur)/100+(br||0):parseFloat(Ur)},removeEvent:Go,replaceNested:function(Ur,...mr){let br,Er;do for(Er of(br=Ur,mr))Ur=Ur.replace(Er[0],Er[1]);while(Ur!==br);return Ur},splat:mo,stableSort:function(Ur,mr){let br,Er,Pr=Ur.length;for(Er=0;Er<Pr;Er++)Ur[Er].safeI=Er;for(Ur.sort(function(Dr,$r){return(br=mr(Dr,$r))===0?Dr.safeI-$r.safeI:br}),Er=0;Er<Pr;Er++)delete Ur[Er].safeI},syncTimeout:function(Ur,mr,br){return mr>0?setTimeout(Ur,mr,br):(Ur.call(0,br),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(Ur){return io(Ur)?Ur.substring(0,1).toUpperCase()+Ur.substring(1):String(Ur)},uniqueKey:Lo,useSerialIds:function(Ur){return er=bo(Ur,er)},wrap:function(Ur,mr,br){let Er=Ur[mr];Ur[mr]=function(){let Pr=arguments,Dr=this;return br.apply(this,[function(){return Er.apply(Dr,arguments.length?arguments:Pr)}].concat([].slice.call(arguments)))}}},{pageLang:$o,win:il}=Fr,{defined:pl,error:ml,extend:Wl,isNumber:Xl,isObject:ac,isString:Tl,merge:Ol,objectEach:dc,pad:oc,splat:vc,timeUnits:Ic,ucfirst:Yc}=Uo,Rc=Fr.isSafari&&il.Intl&&!il.Intl.DateTimeFormat.prototype.formatRange,El=Ur=>Ur.main===void 0,Kl=class{constructor(Ur,mr){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=il.Date,this.update(Ur),this.lang=mr}update(Ur={}){this.dTLCache={},this.options=Ur=Ol(!0,this.options,Ur);let{timezoneOffset:mr,useUTC:br,locale:Er}=Ur;this.Date=Ur.Date||il.Date||Date;let Pr=Ur.timezone;pl(br)&&(Pr=br?"UTC":void 0),mr&&mr%60==0&&(Pr="Etc/GMT"+(mr>0?"+":"")+mr/60),this.variableTimezone=Pr!=="UTC"&&Pr?.indexOf("Etc/GMT")!==0,this.timezone=Pr,this.lang&&Er&&(this.lang.locale=Er),["months","shortMonths","weekdays","shortWeekdays"].forEach(Dr=>{let $r=/months/i.test(Dr),Ir=/short/.test(Dr),zr={timeZone:"UTC"};zr[$r?"month":"weekday"]=Ir?"short":"long",this[Dr]=($r?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(Kr=>this.dateFormat(zr,($r?31:1)*24*36e5*Kr))})}toParts(Ur){let[mr,br,Er,Pr,Dr,$r,Ir]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Ur,"es").split(/(?:, | |\/|:)/g);return[Pr,Er-1,br,Dr,$r,Ir,Math.floor(Number(Ur)||0)%1e3,"DLMXJVS".indexOf(mr)].map(Number)}dateTimeFormat(Ur,mr,br=this.options.locale||$o){let Er=JSON.stringify(Ur)+br;Tl(Ur)&&(Ur=this.str2dtf(Ur));let Pr=this.dTLCache[Er];if(!Pr){Ur.timeZone??(Ur.timeZone=this.timezone);try{Pr=new Intl.DateTimeFormat(br,Ur)}catch(Dr){/Invalid time zone/i.test(Dr.message)?(ml(34),Ur.timeZone="UTC",Pr=new Intl.DateTimeFormat(br,Ur)):ml(Dr.message,!1)}}return this.dTLCache[Er]=Pr,Pr?.format(mr)||""}str2dtf(Ur,mr={}){let br={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(br).forEach(Er=>{Ur.indexOf(Er)!==-1&&Wl(mr,br[Er])}),mr}makeTime(Ur,mr,br=1,Er=0,Pr,Dr,$r){let Ir=this.Date.UTC(Ur,mr,br,Er,Pr||0,Dr||0,$r||0);if(this.timezone!=="UTC"){let zr=this.getTimezoneOffset(Ir);if(Ir+=zr,[2,3,8,9,10,11].indexOf(mr)!==-1&&(Er<5||Er>20)){let Kr=this.getTimezoneOffset(Ir);zr!==Kr?Ir+=Kr-zr:zr-36e5!==this.getTimezoneOffset(Ir-36e5)||Rc||(Ir-=36e5)}}return Ir}parse(Ur){if(!Tl(Ur))return Ur??void 0;let mr=(Ur=Ur.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(Ur),br=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(Ur);mr||br||(Ur+="Z");let Er=Date.parse(Ur);if(Xl(Er))return Er+(!mr||br?this.getTimezoneOffset(Er):0)}getTimezoneOffset(Ur){if(this.timezone!=="UTC"){let[mr,br,Er,Pr,Dr=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},Ur,"en").split(/(GMT|:)/).map(Number),$r=-(60*(Er+Dr/60)*6e4);if(Xl($r))return $r}return 0}dateFormat(Ur,mr,br){let Er=this.lang;if(!pl(mr)||isNaN(mr))return Er?.invalidDate||"";if(Tl(Ur=Ur??"%Y-%m-%d %H:%M:%S")){let Pr,Dr=/%\[([a-zA-Z]+)\]/g;for(;Pr=Dr.exec(Ur);)Ur=Ur.replace(Pr[0],this.dateTimeFormat(Pr[1],mr,Er?.locale))}if(Tl(Ur)&&Ur.indexOf("%")!==-1){let Pr=this,[Dr,$r,Ir,zr,Kr,eo,Zr,so]=this.toParts(mr),po=Er?.weekdays||this.weekdays,go=Er?.shortWeekdays||this.shortWeekdays,_o=Er?.months||this.months,vo=Er?.shortMonths||this.shortMonths;dc(Wl({a:go?go[so]:po[so].substr(0,3),A:po[so],d:oc(Ir),e:oc(Ir,2," "),w:so,v:Er?.weekFrom??"",b:vo[$r],B:_o[$r],m:oc($r+1),o:$r+1,y:Dr.toString().substr(2,2),Y:Dr,H:oc(zr),k:zr,I:oc(zr%12||12),l:zr%12||12,M:oc(Kr),p:zr<12?"AM":"PM",P:zr<12?"am":"pm",S:oc(eo),L:oc(Zr,3)},Fr.dateFormats),function(yo,Do){if(Tl(Ur))for(;Ur.indexOf("%"+Do)!==-1;)Ur=Ur.replace("%"+Do,typeof yo=="function"?yo.call(Pr,mr):yo)})}else if(ac(Ur)){let Pr=(this.getTimezoneOffset(mr)||0)/36e5,Dr=this.timezone||"Etc/GMT"+(Pr>=0?"+":"")+Pr,{prefix:$r="",suffix:Ir=""}=Ur;Ur=$r+this.dateTimeFormat(Wl({timeZone:Dr},Ur),mr)+Ir}return br?Yc(Ur):Ur}resolveDTLFormat(Ur){return ac(Ur,!0)?ac(Ur,!0)&&El(Ur)?{main:Ur}:Ur:{main:(Ur=vc(Ur))[0],from:Ur[1],to:Ur[2]}}getDateFormat(Ur,mr,br,Er){let Pr=this.dateFormat("%m-%d %H:%M:%S.%L",mr),Dr="01-01 00:00:00.000",$r={millisecond:15,second:12,minute:9,hour:6,day:3},Ir="millisecond",zr=Ir;for(Ir in Ic){if(Ur&&Ur===Ic.week&&+this.dateFormat("%w",mr)===br&&Pr.substr(6)===Dr.substr(6)){Ir="week";break}if(Ur&&Ic[Ir]>Ur){Ir=zr;break}if($r[Ir]&&Pr.substr($r[Ir])!==Dr.substr($r[Ir]))break;Ir!=="week"&&(zr=Ir)}return this.resolveDTLFormat(Er[Ir]).main}},{defined:ec,extend:Fc,timeUnits:Hl}=Uo,al=class extends Kl{getTimeTicks(Ur,mr,br,Er){let Pr=this,Dr=[],$r={},{count:Ir=1,unitRange:zr}=Ur,[Kr,eo,Zr,so,po,go]=Pr.toParts(mr),_o=(mr||0)%1e3,vo;if(Er??(Er=1),ec(mr)){if(_o=zr>=Hl.second?0:Ir*Math.floor(_o/Ir),zr>=Hl.second&&(go=zr>=Hl.minute?0:Ir*Math.floor(go/Ir)),zr>=Hl.minute&&(po=zr>=Hl.hour?0:Ir*Math.floor(po/Ir)),zr>=Hl.hour&&(so=zr>=Hl.day?0:Ir*Math.floor(so/Ir)),zr>=Hl.day&&(Zr=zr>=Hl.month?1:Math.max(1,Ir*Math.floor(Zr/Ir))),zr>=Hl.month&&(eo=zr>=Hl.year?0:Ir*Math.floor(eo/Ir)),zr>=Hl.year&&(Kr-=Kr%Ir),zr===Hl.week){Ir&&(mr=Pr.makeTime(Kr,eo,Zr,so,po,go,_o));let Mo=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},mr,"es"),Io="DLMXJVS".indexOf(Mo);Zr+=-Io+Er+(Io<Er?-7:0)}mr=Pr.makeTime(Kr,eo,Zr,so,po,go,_o),Pr.variableTimezone&&ec(br)&&(vo=br-mr>4*Hl.month||Pr.getTimezoneOffset(mr)!==Pr.getTimezoneOffset(br));let yo=mr,Do=1;for(;yo<br;)Dr.push(yo),zr===Hl.year?yo=Pr.makeTime(Kr+Do*Ir,0):zr===Hl.month?yo=Pr.makeTime(Kr,eo+Do*Ir):vo&&(zr===Hl.day||zr===Hl.week)?yo=Pr.makeTime(Kr,eo,Zr+Do*Ir*(zr===Hl.day?1:7)):vo&&zr===Hl.hour&&Ir>1?yo=Pr.makeTime(Kr,eo,Zr,so+Do*Ir):yo+=zr*Ir,Do++;Dr.push(yo),zr<=Hl.hour&&Dr.length<1e4&&Dr.forEach(Mo=>{Mo%18e5==0&&Pr.dateFormat("%H%M%S%L",Mo)==="000000000"&&($r[Mo]="day")})}return Dr.info=Fc(Ur,{higherRanks:$r,totalRange:zr*Ir}),Dr}},{isTouchDevice:sl}=Fr,{fireEvent:fl,merge:$l}=Uo,Nl={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:Ur=>Math.sqrt(1-Math.pow(Ur-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:sl?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},tc=new al(Nl.time,Nl.lang),uc={defaultOptions:Nl,defaultTime:tc,getOptions:function(){return Nl},setOptions:function(Ur){return fl(Fr,"setOptions",{options:Ur}),$l(!0,Nl,Ur),Ur.time&&tc.update(Nl.time),Ur.lang&&"locale"in Ur.lang&&tc.update({locale:Ur.lang.locale}),Ur.lang?.chartTitle&&(Nl.title={...Nl.title,text:Ur.lang.chartTitle}),Nl}},{win:Kc}=Fr,{isNumber:bc,isString:Cc,merge:vu,pInt:Zc,defined:fc}=Uo,Bc=(Ur,mr,br)=>`color-mix(in srgb,${Ur},${mr} ${100*br}%)`,nc=Ur=>Cc(Ur)&&!!Ur&&Ur!=="none";class Ul{static parse(mr){return mr?new Ul(mr):Ul.None}constructor(mr){let br,Er,Pr,Dr;this.rgba=[NaN,NaN,NaN,NaN],this.input=mr;let $r=Fr.Color;if($r&&$r!==Ul)return new $r(mr);if(typeof mr=="object"&&mr.stops!==void 0)this.stops=mr.stops.map(Ir=>new Ul(Ir[1]));else if(typeof mr=="string")for(this.input=mr=Ul.names[mr.toLowerCase()]||mr,Pr=Ul.parsers.length;Pr--&&!Er;)(br=(Dr=Ul.parsers[Pr]).regex.exec(mr))&&(Er=Dr.parse(br));Er&&(this.rgba=Er)}get(mr){let br=this.input,Er=this.rgba;if(this.output)return this.output;if(typeof br=="object"&&this.stops!==void 0){let Pr=vu(br);return Pr.stops=[].slice.call(Pr.stops),this.stops.forEach((Dr,$r)=>{Pr.stops[$r]=[Pr.stops[$r][0],Dr.get(mr)]}),Pr}return Er&&bc(Er[0])?mr!=="rgb"&&(mr||Er[3]!==1)?mr==="a"?`${Er[3]}`:"rgba("+Er.join(",")+")":"rgb("+Er[0]+","+Er[1]+","+Er[2]+")":br}brighten(mr){let br=this.rgba;if(this.stops)this.stops.forEach(function(Er){Er.brighten(mr)});else if(bc(mr)&&mr!==0)if(bc(br[0]))for(let Er=0;Er<3;Er++)br[Er]+=Zc(255*mr),br[Er]<0&&(br[Er]=0),br[Er]>255&&(br[Er]=255);else Ul.useColorMix&&nc(this.input)&&(this.output=Bc(this.input,mr>0?"white":"black",Math.abs(mr)));return this}setOpacity(mr){return this.rgba[3]=mr,this}tweenTo(mr,br){let Er=this.rgba,Pr=mr.rgba;if(!bc(Er[0])||!bc(Pr[0]))return Ul.useColorMix&&nc(this.input)&&nc(mr.input)&&br<.99?Bc(this.input,mr.input,br):mr.input||"none";let Dr=Pr[3]!==1||Er[3]!==1,$r=(zr,Kr)=>zr+(Er[Kr]-zr)*(1-br),Ir=Pr.slice(0,3).map($r).map(Math.round);return Dr&&Ir.push($r(Pr[3],3)),(Dr?"rgba(":"rgb(")+Ir.join(",")+")"}}Ul.names={white:"#ffffff",black:"#000000"},Ul.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(Ur){return[Zc(Ur[1]),Zc(Ur[2]),Zc(Ur[3]),parseFloat(Ur[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(Ur){return[Zc(Ur[1]),Zc(Ur[2]),Zc(Ur[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(Ur){return[Zc(Ur[1]+Ur[1],16),Zc(Ur[2]+Ur[2],16),Zc(Ur[3]+Ur[3],16),fc(Ur[4])?Zc(Ur[4]+Ur[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(Ur){return[Zc(Ur[1],16),Zc(Ur[2],16),Zc(Ur[3],16),fc(Ur[4])?Zc(Ur[4],16)/255:1]}}],Ul.useColorMix=Kc.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),Ul.None=new Ul("");let{parse:ah}=Ul,{win:ol}=Fr,{isNumber:bl,objectEach:Bl}=Uo;class Pl{constructor(mr,br,Er){this.pos=NaN,this.options=br,this.elem=mr,this.prop=Er}dSetter(){let mr=this.paths,br=mr?.[0],Er=mr?.[1],Pr=this.now||0,Dr=[];if(Pr!==1&&br&&Er)if(br.length===Er.length&&Pr<1)for(let $r=0;$r<Er.length;$r++){let Ir=br[$r],zr=Er[$r],Kr=[];for(let eo=0;eo<zr.length;eo++){let Zr=Ir[eo],so=zr[eo];bl(Zr)&&bl(so)&&(zr[0]!=="A"||eo!==4&&eo!==5)?Kr[eo]=Zr+Pr*(so-Zr):Kr[eo]=so}Dr.push(Kr)}else Dr=Er;else Dr=this.toD||[];this.elem.attr("d",Dr,void 0,!0)}update(){let mr=this.elem,br=this.prop,Er=this.now,Pr=this.options.step;this[br+"Setter"]?this[br+"Setter"]():mr.attr?mr.element&&mr.attr(br,Er,null,!0):mr.style[br]=Er+this.unit,Pr&&Pr.call(mr,Er,this)}run(mr,br,Er){let Pr=this,Dr=Pr.options,$r=function(Kr){return!$r.stopped&&Pr.step(Kr)},Ir=ol.requestAnimationFrame||function(Kr){setTimeout(Kr,13)},zr=function(){for(let Kr=0;Kr<Pl.timers.length;Kr++)Pl.timers[Kr]()||Pl.timers.splice(Kr--,1);Pl.timers.length&&Ir(zr)};mr!==br||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=mr,this.end=br,this.unit=Er,this.now=this.start,this.pos=0,$r.elem=this.elem,$r.prop=this.prop,$r()&&Pl.timers.push($r)===1&&Ir(zr)):(delete Dr.curAnim[this.prop],Dr.complete&&Object.keys(Dr.curAnim).length===0&&Dr.complete.call(this.elem))}step(mr){let br,Er,Pr=+new Date,Dr=this.options,$r=this.elem,Ir=Dr.complete,zr=Dr.duration,Kr=Dr.curAnim;return $r.attr&&!$r.element?br=!1:mr||Pr>=zr+this.startTime?(this.now=this.end,this.pos=1,this.update(),Kr[this.prop]=!0,Er=!0,Bl(Kr,function(eo){eo!==!0&&(Er=!1)}),Er&&Ir&&Ir.call($r),br=!1):(this.pos=Dr.easing((Pr-this.startTime)/zr),this.now=this.start+(this.end-this.start)*this.pos,this.update(),br=!0),br}initPath(mr,br,Er){let Pr=mr.startX,Dr=mr.endX,$r=Er.slice(),Ir=mr.isArea,zr=Ir?2:1,Kr=br&&Er.length>br.length&&Er.hasStackedCliffs,eo,Zr,so,po,go=br?.slice();if(!go||Kr)return[$r,$r];function _o(yo,Do){for(;yo.length<Zr;){let Mo=yo[0],Io=Do[Zr-yo.length];if(Io&&Mo[0]==="M"&&(Io[0]==="C"?yo[0]=["C",Mo[1],Mo[2],Mo[1],Mo[2],Mo[1],Mo[2]]:yo[0]=["L",Mo[1],Mo[2]]),yo.unshift(Mo),Ir){let Yo=yo.pop();yo.push(yo[yo.length-1],Yo)}}}function vo(yo){for(;yo.length<Zr;){let Do=yo[Math.floor(yo.length/zr)-1].slice();if(Do[0]==="C"&&(Do[1]=Do[5],Do[2]=Do[6]),Ir){let Mo=yo[Math.floor(yo.length/zr)].slice();yo.splice(yo.length/2,0,Do,Mo)}else yo.push(Do)}}if(Pr&&Dr&&Dr.length){for(so=0;so<Pr.length;so++)if(Pr[so]===Dr[0]){eo=so;break}else if(Pr[0]===Dr[Dr.length-Pr.length+so]){eo=so,po=!0;break}else if(Pr[Pr.length-1]===Dr[Dr.length-Pr.length+so]){eo=Pr.length-so;break}eo===void 0&&(go=[])}return go.length&&bl(eo)&&(Zr=$r.length+eo*zr,po?(_o(go,$r),vo($r)):(_o($r,go),vo(go))),[go,$r]}fillSetter(){Pl.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,ah(this.start).tweenTo(ah(this.end),this.pos),void 0,!0)}}Pl.timers=[];let{defined:Dl,getStyle:bu,isArray:oh,isNumber:ku,isObject:Mc,merge:eu,objectEach:Qc,pick:cc}=Uo;function hu(Ur){return Mc(Ur)?eu({duration:500,defer:0},Ur):{duration:500*!!Ur,defer:0}}function du(Ur,mr){let br=Pl.timers.length;for(;br--;)Pl.timers[br].elem!==Ur||mr&&mr!==Pl.timers[br].prop||(Pl.timers[br].stopped=!0)}let Gc={animate:function(Ur,mr,br){let Er,Pr="",Dr,$r,Ir;Mc(br)||(Ir=arguments,br={duration:Ir[2],easing:Ir[3],complete:Ir[4]}),ku(br.duration)||(br.duration=400),br.easing=typeof br.easing=="function"?br.easing:Math[br.easing]||Math.easeInOutSine,br.curAnim=eu(mr),Qc(mr,function(zr,Kr){du(Ur,Kr),$r=new Pl(Ur,br,Kr),Dr=void 0,Kr==="d"&&oh(mr.d)?($r.paths=$r.initPath(Ur,Ur.pathArray,mr.d),$r.toD=mr.d,Er=0,Dr=1):Ur.attr?Er=Ur.attr(Kr):(Er=parseFloat(bu(Ur,Kr))||0,Kr!=="opacity"&&(Pr="px")),Dr||(Dr=zr),typeof Dr=="string"&&Dr.match("px")&&(Dr=Dr.replace(/px/g,"")),$r.run(Er,Dr,Pr)})},animObject:hu,getDeferredAnimation:function(Ur,mr,br){let Er=hu(mr),Pr=br?[br]:Ur.series,Dr=0,$r=0;return Pr.forEach(Ir=>{let zr=hu(Ir.options.animation);Dr=Mc(mr)&&Dl(mr.defer)?Er.defer:Math.max(Dr,zr.duration+zr.defer),$r=Math.min(Er.duration,zr.duration)}),Ur.renderer.forExport&&(Dr=0),{defer:Math.max(0,Dr-$r),duration:Math.min(Dr,$r)}},setAnimation:function(Ur,mr){mr.renderer.globalAnimation=cc(Ur,mr.options.chart.animation,!0)},stop:du},{SVG_NS:Iu,win:qh}=Fr,{attr:Bh,createElement:zh,css:zc,error:Hu,isFunction:tu,isString:Hh,objectEach:cd,splat:fh}=Uo,{trustedTypes:Nh}=qh,bh=Nh&&tu(Nh.createPolicy)&&Nh.createPolicy("highcharts",{createHTML:Ur=>Ur}),Ed=bh?bh.createHTML(""):"";class _u{static filterUserAttributes(mr){return cd(mr,(br,Er)=>{let Pr=!0;_u.allowedAttributes.indexOf(Er)===-1&&(Pr=!1),["background","dynsrc","href","lowsrc","src"].indexOf(Er)!==-1&&(Pr=Hh(br)&&_u.allowedReferences.some(Dr=>br.indexOf(Dr)===0)),Pr||(Hu(33,!1,void 0,{"Invalid attribute in config":`${Er}`}),delete mr[Er]),Hh(br)&&mr[Er]&&(mr[Er]=br.replace(/</g,"&lt;"))}),mr}static parseStyle(mr){return mr.split(";").reduce((br,Er)=>{let Pr=Er.split(":").map($r=>$r.trim()),Dr=Pr.shift();return Dr&&Pr.length&&(br[Dr.replace(/-([a-z])/g,$r=>$r[1].toUpperCase())]=Pr.join(":")),br},{})}static setElementHTML(mr,br){mr.innerHTML=_u.emptyHTML,br&&new _u(br).addToDOM(mr)}constructor(mr){this.nodes=typeof mr=="string"?this.parseMarkup(mr):mr}addToDOM(mr){return(function br(Er,Pr){let Dr;return fh(Er).forEach(function($r){let Ir,zr=$r.tagName,Kr=$r.textContent?Fr.doc.createTextNode($r.textContent):void 0,eo=_u.bypassHTMLFiltering;if(zr)if(zr==="#text")Ir=Kr;else if(_u.allowedTags.indexOf(zr)!==-1||eo){let Zr=zr==="svg"?Iu:Pr.namespaceURI||Iu,so=Fr.doc.createElementNS(Zr,zr),po=$r.attributes||{};cd($r,function(go,_o){_o!=="tagName"&&_o!=="attributes"&&_o!=="children"&&_o!=="style"&&_o!=="textContent"&&(po[_o]=go)}),Bh(so,eo?po:_u.filterUserAttributes(po)),$r.style&&zc(so,$r.style),Kr&&so.appendChild(Kr),br($r.children||[],so),Ir=so}else Hu(33,!1,void 0,{"Invalid tagName in config":zr});Ir&&Pr.appendChild(Ir),Dr=Ir}),Dr})(this.nodes,mr)}parseMarkup(mr){let br,Er=[];mr=mr.trim().replace(/ style=(["'])/g," data-style=$1");try{br=new DOMParser().parseFromString(bh?bh.createHTML(mr):mr,"text/html")}catch{}if(!br){let Dr=zh("div");Dr.innerHTML=mr,br={body:Dr}}let Pr=(Dr,$r)=>{let Ir=Dr.nodeName.toLowerCase(),zr={tagName:Ir};Ir==="#text"&&(zr.textContent=Dr.textContent||"");let Kr=Dr.attributes;if(Kr){let eo={};[].forEach.call(Kr,Zr=>{Zr.name==="data-style"?zr.style=_u.parseStyle(Zr.value):eo[Zr.name]=Zr.value}),zr.attributes=eo}if(Dr.childNodes.length){let eo=[];[].forEach.call(Dr.childNodes,Zr=>{Pr(Zr,eo)}),eo.length&&(zr.children=eo)}$r.push(zr)};return[].forEach.call(br.body.childNodes,Dr=>Pr(Dr,Er)),Er}}_u.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],_u.allowedReferences=["https://","http://","mailto:","/","../","./","#"],_u.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],_u.emptyHTML=Ed,_u.bypassHTMLFiltering=!1;let{defaultOptions:Bf,defaultTime:Lc}=uc,{pageLang:Vc}=Fr,{extend:Th,getNestedProperty:ph,isArray:Sd,isNumber:fp,isObject:_c,isString:wu,pick:Wh,ucfirst:um}=Uo,Eu={add:(Ur,mr)=>Ur+mr,divide:(Ur,mr)=>mr!==0?Ur/mr:"",eq:(Ur,mr)=>Ur==mr,each:function(Ur){let mr=arguments[arguments.length-1];return!!Sd(Ur)&&Ur.map((br,Er)=>ud(mr.body,Th(_c(br)?br:{"@this":br},{"@index":Er,"@first":Er===0,"@last":Er===Ur.length-1}))).join("")},ge:(Ur,mr)=>Ur>=mr,gt:(Ur,mr)=>Ur>mr,if:Ur=>!!Ur,le:(Ur,mr)=>Ur<=mr,lt:(Ur,mr)=>Ur<mr,multiply:(Ur,mr)=>Ur*mr,ne:(Ur,mr)=>Ur!=mr,subtract:(Ur,mr)=>Ur-mr,ucfirst:um,unless:Ur=>!Ur},zf={},Jd=Ur=>/^["'].+["']$/.test(Ur);function ud(Ur="",mr,br){let Er=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,Pr=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,Dr=[],$r=/f$/,Ir=/\.(\d)/,zr=br?.options?.lang||Bf.lang,Kr=br?.time||Lc,eo=br?.numberFormatter||Au.bind(br),Zr=(vo="")=>{let yo;return vo==="true"||vo!=="false"&&((yo=Number(vo)).toString()===vo?yo:Jd(vo)?vo.slice(1,-1):ph(vo,mr))},so,po,go=0,_o;for(;(so=Er.exec(Ur))!==null;){let vo=so,yo=Pr.exec(so[1]);yo&&(so=yo,_o=!0),po?.isBlock||(po={ctx:mr,expression:so[1],find:so[0],isBlock:so[1].charAt(0)==="#",start:so.index,startInner:so.index+so[0].length,length:so[0].length});let Do=(po.isBlock?vo:so)[1].split(" ")[0].replace("#","");Eu[Do]&&(po.isBlock&&Do===po.fn&&go++,po.fn||(po.fn=Do));let Mo=so[1]==="else";if(po.isBlock&&po.fn&&(so[1]===`/${po.fn}`||Mo))if(go)!Mo&&go--;else{let Io=po.startInner,Yo=Ur.substr(Io,so.index-Io);po.body===void 0?(po.body=Yo,po.startInner=so.index+so[0].length):po.elseBody=Yo,po.find+=Yo+so[0],Mo||(Dr.push(po),po=void 0)}else po.isBlock||Dr.push(po);if(yo&&!po?.isBlock)break}return Dr.forEach(vo=>{let yo,Do,{body:Mo,elseBody:Io,expression:Yo,fn:Xo}=vo;if(Xo){let qo=[vo],Wo=[],xl=Yo.length,vl=0,yl;for(Do=0;Do<=xl;Do++){let Fl=Yo.charAt(Do);yl||Fl!=='"'&&Fl!=="'"?yl===Fl&&(yl=""):yl=Fl,yl||Fl!==" "&&Do!==xl||(Wo.push(Yo.substr(vl,Do-vl)),vl=Do+1)}for(Do=Eu[Xo].length;Do--;)qo.unshift(Zr(Wo[Do+1]));yo=Eu[Xo].apply(mr,qo),vo.isBlock&&typeof yo=="boolean"&&(yo=ud(yo?Mo:Io,mr,br))}else{let qo=Jd(Yo)?[Yo]:Yo.split(":"),Wo=(yo=Zr(qo.shift()||""))%1!=0;if(typeof yo=="number"&&(qo.length||Wo)){let xl=qo.join(":");if($r.test(xl)||Wo){let vl=parseInt((xl.match(Ir)||["","-1"])[1],10);yo!==null&&(yo=eo(yo,vl,zr.decimalPoint,xl.indexOf(",")>-1?zr.thousandsSep:""))}else yo=Kr.dateFormat(xl,yo)}Pr.lastIndex=0,Pr.test(vo.find)&&wu(yo)&&(yo=`"${yo}"`)}Ur=Ur.replace(vo.find,Wh(yo,""))}),_o?ud(Ur,mr,br):Ur}function Au(Ur,mr,br,Er){mr*=1;let Pr,Dr,[$r,Ir]=(Ur=+Ur||0).toString().split("e").map(Number),zr=this?.options?.lang||Bf.lang,Kr=(Ur.toString().split(".")[1]||"").split("e")[0].length,eo=mr,Zr={};br??(br=zr.decimalPoint),Er??(Er=zr.thousandsSep),mr===-1?mr=Math.min(Kr,20):fp(mr)?mr&&Ir<0&&((Dr=mr+Ir)>=0?($r=+$r.toExponential(Dr).split("e")[0],mr=Dr):($r=Math.floor($r),Ur=mr<20?+($r*Math.pow(10,Ir)).toFixed(mr):0,Ir=0)):mr=2,Ir&&(mr??(mr=2),Ur=$r),fp(mr)&&mr>=0&&(Zr.minimumFractionDigits=mr,Zr.maximumFractionDigits=mr),Er===""&&(Zr.useGrouping=!1);let so=Er||br,po=so?"en":this?.locale||zr.locale||Vc,go=JSON.stringify(Zr)+po;return Pr=(zf[go]??(zf[go]=new Intl.NumberFormat(po,Zr))).format(Ur),so&&(Pr=Pr.replace(/([,\.])/g,"_$1").replace(/_\,/g,Er??",").replace("_.",br??".")),(mr||+Pr!=0)&&(!(Ir<0)||eo)||(Pr="0"),Ir&&+Pr!=0&&(Pr+="e"+(Ir<0?"":"+")+Ir),Pr}let Ro={dateFormat:function(Ur,mr,br){return Lc.dateFormat(Ur,mr,br)},format:ud,helpers:Eu,numberFormat:Au};(function(Ur){let mr;Ur.rendererTypes={},Ur.getRendererType=function(br=mr){return Ur.rendererTypes[br]||Ur.rendererTypes[mr]},Ur.registerRendererType=function(br,Er,Pr){Ur.rendererTypes[br]=Er,(!mr||Pr)&&(mr=br,Fr.Renderer=Er)}})(rr||(rr={}));let No=rr,{clamp:Bo,pick:ul,pushUnique:Al,stableSort:Vl}=Uo;(sr||(sr={})).distribute=function Ur(mr,br,Er){let Pr=mr,Dr=Pr.reducedLen||br,$r=(Mo,Io)=>Mo.target-Io.target,Ir=[],zr=mr.length,Kr=[],eo=Ir.push,Zr,so,po,go=!0,_o,vo,yo=0,Do;for(Zr=zr;Zr--;)yo+=mr[Zr].size;if(yo>Dr){for(Vl(mr,(Mo,Io)=>(Io.rank||0)-(Mo.rank||0)),po=(Do=mr[0].rank===mr[mr.length-1].rank)?zr/2:-1,so=Do?po:zr-1;po&&yo>Dr;)_o=mr[Zr=Math.floor(so)],Al(Kr,Zr)&&(yo-=_o.size),so+=po,Do&&so>=mr.length&&(po/=2,so=po);Kr.sort((Mo,Io)=>Io-Mo).forEach(Mo=>eo.apply(Ir,mr.splice(Mo,1)))}for(Vl(mr,$r),mr=mr.map(Mo=>({size:Mo.size,targets:[Mo.target],align:ul(Mo.align,.5)}));go;){for(Zr=mr.length;Zr--;)_o=mr[Zr],vo=(Math.min.apply(0,_o.targets)+Math.max.apply(0,_o.targets))/2,_o.pos=Bo(vo-_o.size*_o.align,0,br-_o.size);for(Zr=mr.length,go=!1;Zr--;)Zr>0&&mr[Zr-1].pos+mr[Zr-1].size>mr[Zr].pos&&(mr[Zr-1].size+=mr[Zr].size,mr[Zr-1].targets=mr[Zr-1].targets.concat(mr[Zr].targets),mr[Zr-1].align=.5,mr[Zr-1].pos+mr[Zr-1].size>br&&(mr[Zr-1].pos=br-mr[Zr-1].size),mr.splice(Zr,1),go=!0)}return eo.apply(Pr,Ir),Zr=0,mr.some(Mo=>{let Io=0;return(Mo.targets||[]).some(()=>(Pr[Zr].pos=Mo.pos+Io,Er!==void 0&&Math.abs(Pr[Zr].pos-Pr[Zr].target)>Er?(Pr.slice(0,Zr+1).forEach(Yo=>delete Yo.pos),Pr.reducedLen=(Pr.reducedLen||br)-.1*br,Pr.reducedLen>.1*br&&Ur(Pr,br,Er),!0):(Io+=Pr[Zr].size,Zr++,!1)))}),Vl(Pr,$r),Pr};let wc=sr,{animate:Ku,animObject:mh,stop:Zu}=Gc,{deg2rad:Qu,doc:Hf,svg:Vm,SVG_NS:vf,win:Ec,isFirefox:ef}=Fr,{addEvent:Du,attr:Um,createElement:Wf,crisp:hd,css:hm,defined:_h,erase:bf,extend:tf,fireEvent:jc,getAlignFactor:nu,isArray:dm,isFunction:fm,isNumber:ny,isObject:Kh,isString:_f,merge:pm,objectEach:Id,pick:Nc,pInt:gh,pushUnique:Zh,replaceNested:Qh,syncTimeout:mm,uniqueKey:Ym}=Uo;class gu{_defaultGetter(mr){let br=Nc(this[mr+"Value"],this[mr],this.element?this.element.getAttribute(mr):null,0);return/^-?[\d\.]+$/.test(br)&&(br=parseFloat(br)),br}_defaultSetter(mr,br,Er){Er.setAttribute(br,mr)}add(mr){let br,Er=this.renderer,Pr=this.element;return mr&&(this.parentGroup=mr),this.textStr!==void 0&&this.element.nodeName==="text"&&Er.buildText(this),this.added=!0,(!mr||mr.handleZ||this.zIndex)&&(br=this.zIndexSetter()),br||(mr?mr.element:Er.box).appendChild(Pr),this.onAdd&&this.onAdd(),this}addClass(mr,br){let Er=br?"":this.attr("class")||"";return(mr=(mr||"").split(/ /g).reduce(function(Pr,Dr){return Er.indexOf(Dr)===-1&&Pr.push(Dr),Pr},Er?[Er]:[]).join(" "))!==Er&&this.attr("class",mr),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(mr,br,Er,Pr=!0){let Dr=this.renderer,$r=Dr.alignedObjects,Ir=!!mr;mr?(this.alignOptions=mr,this.alignByTranslate=br,this.alignTo=Er):(mr=this.alignOptions||{},br=this.alignByTranslate,Er=this.alignTo);let zr=!Er||_f(Er)?Er||"renderer":void 0;zr&&(Ir&&Zh($r,this),Er=void 0);let Kr=Nc(Er,Dr[zr],Dr),eo=(Kr.x||0)+(mr.x||0)+((Kr.width||0)-(mr.width||0))*nu(mr.align),Zr=(Kr.y||0)+(mr.y||0)+((Kr.height||0)-(mr.height||0))*nu(mr.verticalAlign),so={"text-align":mr?.align};return so[br?"translateX":"x"]=Math.round(eo),so[br?"translateY":"y"]=Math.round(Zr),Pr&&(this[this.placed?"animate":"attr"](so),this.placed=!0),this.alignAttr=so,this}alignSetter(mr){let br={left:"start",center:"middle",right:"end"};br[mr]&&(this.alignValue=mr,this.element.setAttribute("text-anchor",br[mr]))}animate(mr,br,Er){let Pr=mh(Nc(br,this.renderer.globalAnimation,!0)),Dr=Pr.defer;return Hf.hidden&&(Pr.duration=0),Pr.duration!==0?(Er&&(Pr.complete=Er),mm(()=>{this.element&&Ku(this,mr,Pr)},Dr)):(this.attr(mr,void 0,Er||Pr.complete),Id(mr,function($r,Ir){Pr.step&&Pr.step.call(this,$r,{prop:Ir,pos:1,elem:this})},this)),this}applyTextOutline(mr){let br=this.element;mr.indexOf("contrast")!==-1&&(mr=mr.replace(/contrast/g,this.renderer.getContrast(br.style.fill)));let Er=mr.indexOf(" "),Pr=mr.substring(Er+1),Dr=mr.substring(0,Er);if(Dr&&Dr!=="none"&&Fr.svg){this.fakeTS=!0,Dr=Dr.replace(/(^[\d\.]+)(.*?)$/g,function(eo,Zr,so){return 2*Number(Zr)+so}),this.removeTextOutline();let $r=Hf.createElementNS(vf,"tspan");Um($r,{class:"highcharts-text-outline",fill:Pr,stroke:Pr,"stroke-width":Dr,"stroke-linejoin":"round"});let Ir=br.querySelector("textPath")||br;[].forEach.call(Ir.childNodes,eo=>{let Zr=eo.cloneNode(!0);Zr.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(so=>Zr.removeAttribute(so)),$r.appendChild(Zr)});let zr=0;[].forEach.call(Ir.querySelectorAll("text tspan"),eo=>{zr+=Number(eo.getAttribute("dy"))});let Kr=Hf.createElementNS(vf,"tspan");Kr.textContent="",Um(Kr,{x:Number(br.getAttribute("x")),dy:-zr}),$r.appendChild(Kr),Ir.insertBefore($r,Ir.firstChild)}}attr(mr,br,Er,Pr){let{element:Dr}=this,$r=gu.symbolCustomAttribs,Ir,zr,Kr=this,eo;return typeof mr=="string"&&br!==void 0&&(Ir=mr,(mr={})[Ir]=br),typeof mr=="string"?Kr=(this[mr+"Getter"]||this._defaultGetter).call(this,mr,Dr):(Id(mr,function(Zr,so){eo=!1,Pr||Zu(this,so),this.symbolName&&$r.indexOf(so)!==-1&&(zr||(this.symbolAttr(mr),zr=!0),eo=!0),this.rotation&&(so==="x"||so==="y")&&(this.doTransform=!0),eo||(this[so+"Setter"]||this._defaultSetter).call(this,Zr,so,Dr)},this),this.afterSetters()),Er&&Er.call(this),Kr}clip(mr){if(mr&&!mr.clipPath){let br=Ym()+"-",Er=this.renderer.createElement("clipPath").attr({id:br}).add(this.renderer.defs);tf(mr,{clipPath:Er,id:br,count:0}),mr.add(Er)}return this.attr("clip-path",mr?`url(${this.renderer.url}#${mr.id})`:"none")}crisp(mr,br){br=Math.round(br||mr.strokeWidth||0);let Er=mr.x||this.x||0,Pr=mr.y||this.y||0,Dr=(mr.width||this.width||0)+Er,$r=(mr.height||this.height||0)+Pr,Ir=hd(Er,br),zr=hd(Pr,br);return tf(mr,{x:Ir,y:zr,width:hd(Dr,br)-Ir,height:hd($r,br)-zr}),_h(mr.strokeWidth)&&(mr.strokeWidth=br),mr}complexColor(mr,br,Er){let Pr=this.renderer,Dr,$r,Ir,zr,Kr,eo,Zr,so,po,go,_o=[],vo;jc(this.renderer,"complexColor",{args:arguments},function(){if(mr.radialGradient?$r="radialGradient":mr.linearGradient&&($r="linearGradient"),$r){if(Ir=mr[$r],Kr=Pr.gradients,eo=mr.stops,po=Er.radialReference,dm(Ir)&&(mr[$r]=Ir={x1:Ir[0],y1:Ir[1],x2:Ir[2],y2:Ir[3],gradientUnits:"userSpaceOnUse"}),$r==="radialGradient"&&po&&!_h(Ir.gradientUnits)&&(zr=Ir,Ir=pm(Ir,Pr.getRadialAttr(po,zr),{gradientUnits:"userSpaceOnUse"})),Id(Ir,function(yo,Do){Do!=="id"&&_o.push(Do,yo)}),Id(eo,function(yo){_o.push(yo)}),Kr[_o=_o.join(",")])go=Kr[_o].attr("id");else{Ir.id=go=Ym();let yo=Kr[_o]=Pr.createElement($r).attr(Ir).add(Pr.defs);yo.radAttr=zr,yo.stops=[],eo.forEach(function(Do){Do[1].indexOf("rgba")===0?(Zr=(Dr=Ul.parse(Do[1])).get("rgb"),so=Dr.get("a")):(Zr=Do[1],so=1);let Mo=Pr.createElement("stop").attr({offset:Do[0],"stop-color":Zr,"stop-opacity":so}).add(yo);yo.stops.push(Mo)})}vo="url("+Pr.url+"#"+go+")",Er.setAttribute(br,vo),Er.gradient=_o,mr.toString=function(){return vo}}})}css(mr){let br=this.styles,Er={},Pr=this.element,Dr,$r=!br;if(br&&Id(mr,function(Ir,zr){br&&br[zr]!==Ir&&(Er[zr]=Ir,$r=!0)}),$r){br&&(mr=tf(br,Er)),mr.width===null||mr.width==="auto"?delete this.textWidth:Pr.nodeName.toLowerCase()==="text"&&mr.width&&(Dr=this.textWidth=gh(mr.width)),tf(this.styles,mr),Dr&&!Vm&&this.renderer.forExport&&delete mr.width;let Ir=ef&&mr.fontSize||null;Ir&&(ny(Ir)||/^\d+$/.test(Ir))&&(mr.fontSize+="px");let zr=pm(mr);Pr.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(Kr=>zr&&delete zr[Kr]),zr.color&&(zr.fill=zr.color,delete zr.color)),hm(Pr,zr)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),mr.textOutline&&this.applyTextOutline(mr.textOutline)),this}dashstyleSetter(mr){let br,Er=this["stroke-width"];if(Er==="inherit"&&(Er=1),mr){let Pr=(mr=mr.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(br=Pr.length;br--;)Pr[br]=""+gh(Pr[br])*Nc(Er,NaN);mr=Pr.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",mr)}}destroy(){let mr=this,br=mr.element||{},Er=mr.renderer,Pr=br.ownerSVGElement,Dr=br.nodeName==="SPAN"&&mr.parentGroup||void 0,$r,Ir;if(br.onclick=br.onmouseout=br.onmouseover=br.onmousemove=br.point=null,Zu(mr),mr.clipPath&&Pr){let zr=mr.clipPath;[].forEach.call(Pr.querySelectorAll("[clip-path],[CLIP-PATH]"),function(Kr){Kr.getAttribute("clip-path").indexOf(zr.element.id)>-1&&Kr.removeAttribute("clip-path")}),mr.clipPath=zr.destroy()}if(mr.stops){for(Ir=0;Ir<mr.stops.length;Ir++)mr.stops[Ir].destroy();mr.stops.length=0,mr.stops=void 0}for(mr.safeRemoveChild(br);Dr?.div&&Dr.div.childNodes.length===0;)$r=Dr.parentGroup,mr.safeRemoveChild(Dr.div),delete Dr.div,Dr=$r;mr.alignOptions&&bf(Er.alignedObjects,mr),Id(mr,(zr,Kr)=>{(mr[Kr]?.parentGroup===mr||["connector","foreignObject"].indexOf(Kr)!==-1)&&mr[Kr]?.destroy?.(),delete mr[Kr]})}dSetter(mr,br,Er){dm(mr)&&(typeof mr[0]=="string"&&(mr=this.renderer.pathToSegments(mr)),this.pathArray=mr,mr=mr.reduce((Pr,Dr,$r)=>Dr?.join?($r?Pr+" ":"")+Dr.join(" "):(Dr||"").toString(),"")),/(NaN| {2}|^$)/.test(mr)&&(mr="M 0 0"),this[br]!==mr&&(Er.setAttribute(br,mr),this[br]=mr)}fillSetter(mr,br,Er){typeof mr=="string"?Er.setAttribute(br,mr):mr&&this.complexColor(mr,br,Er)}hrefSetter(mr,br,Er){Er.setAttributeNS("http://www.w3.org/1999/xlink",br,mr)}getBBox(mr,br){let Er,Pr,Dr,$r,{alignValue:Ir,element:zr,renderer:Kr,styles:eo,textStr:Zr}=this,{cache:so,cacheKeys:po}=Kr,go=zr.namespaceURI===this.SVG_NS,_o=Nc(br,this.rotation,0),vo=Kr.styledMode?zr&&gu.prototype.getStyle.call(zr,"font-size"):eo.fontSize;if(_h(Zr)&&(($r=Zr.toString()).indexOf("<")===-1&&($r=$r.replace(/\d/g,"0")),$r+=["",Kr.rootFontSize,vo,_o,this.textWidth,Ir,eo.lineClamp,eo.textOverflow,eo.fontWeight].join(",")),$r&&!mr&&(Er=so[$r]),!Er||Er.polygon){if(go||Kr.forExport){try{Dr=this.fakeTS&&function(Do){let Mo=zr.querySelector(".highcharts-text-outline");Mo&&hm(Mo,{display:Do})},fm(Dr)&&Dr("none"),Er=zr.getBBox?tf({},zr.getBBox()):{width:zr.offsetWidth,height:zr.offsetHeight,x:0,y:0},fm(Dr)&&Dr("")}catch{}(!Er||Er.width<0)&&(Er={x:0,y:0,width:0,height:0})}else Er=this.htmlGetBBox();Pr=Er.height,go&&(Er.height=Pr={"11px,17":14,"13px,20":16}[`${vo||""},${Math.round(Pr)}`]||Pr),_o&&(Er=this.getRotatedBox(Er,_o));let yo={bBox:Er};jc(this,"afterGetBBox",yo),Er=yo.bBox}if($r&&(Zr===""||Er.height>0)){for(;po.length>250;)delete so[po.shift()];so[$r]||po.push($r),so[$r]=Er}return Er}getRotatedBox(mr,br){let{x:Er,y:Pr,width:Dr,height:$r}=mr,{alignValue:Ir,translateY:zr,rotationOriginX:Kr=0,rotationOriginY:eo=0}=this,Zr=nu(Ir),so=Number(this.element.getAttribute("y")||0)-(zr?0:Pr),po=br*Qu,go=(br-90)*Qu,_o=Math.cos(po),vo=Math.sin(po),yo=Dr*_o,Do=Dr*vo,Mo=Math.cos(go),Io=Math.sin(go),[[Yo,Xo],[qo,Wo]]=[Kr,eo].map(yc=>[yc-yc*_o,yc*vo]),xl=Er+Zr*(Dr-yo)+Yo+Wo+so*Mo,vl=xl+yo,yl=vl-$r*Mo,Fl=yl-yo,Zl=Pr+so-Zr*Do-Xo+qo+so*Io,Jl=Zl+Do,Ll=Jl-$r*Io,Gl=Ll-Do,Ql=Math.min(xl,vl,yl,Fl),Hc=Math.min(Zl,Jl,Ll,Gl),Tc=Math.max(xl,vl,yl,Fl)-Ql,ad=Math.max(Zl,Jl,Ll,Gl)-Hc;return{x:Ql,y:Hc,width:Tc,height:ad,polygon:[[xl,Zl],[vl,Jl],[yl,Ll],[Fl,Gl]]}}getStyle(mr){return Ec.getComputedStyle(this.element||this,"").getPropertyValue(mr)}hasClass(mr){return(""+this.attr("class")).split(" ").indexOf(mr)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(mr,br){this.onEvents={},this.opacity=1,this.SVG_NS=vf,this.element=br==="span"||br==="body"?Wf(br):Hf.createElementNS(this.SVG_NS,br),this.renderer=mr,this.styles={},jc(this,"afterInit")}on(mr,br){let{onEvents:Er}=this;return Er[mr]&&Er[mr](),Er[mr]=Du(this.element,mr,br),this}opacitySetter(mr,br,Er){let Pr=Number(Number(mr).toFixed(3));this.opacity=Pr,Er.setAttribute(br,Pr)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(mr){return this.attr("class",(""+this.attr("class")).replace(_f(mr)?RegExp(`(^| )${mr}( |$)`):mr," ").replace(/ +/g," ").trim())}removeTextOutline(){let mr=this.element.querySelector("tspan.highcharts-text-outline");mr&&this.safeRemoveChild(mr)}safeRemoveChild(mr){let br=mr.parentNode;br&&br.removeChild(mr)}setRadialReference(mr){let br=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=mr,br?.radAttr&&br.animate(this.renderer.getRadialAttr(mr,br.radAttr)),this}shadow(mr){let{renderer:br}=this,Er=pm(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},Kh(mr)?mr:{}),Pr=br.shadowDefinition(Er);return this.attr({filter:mr?`url(${br.url}#${Pr})`:"none"})}show(mr=!0){return this.attr({visibility:mr?"inherit":"visible"})}"stroke-widthSetter"(mr,br,Er){this[br]=mr,Er.setAttribute(br,mr)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let mr=this.getStyle("stroke-width"),br=0,Er;return/px$/.test(mr)?br=gh(mr):mr!==""&&(Um(Er=Hf.createElementNS(vf,"rect"),{width:mr,"stroke-width":0}),this.element.parentNode.appendChild(Er),br=Er.getBBox().width,Er.parentNode.removeChild(Er)),br}symbolAttr(mr){let br=this;gu.symbolCustomAttribs.forEach(function(Er){br[Er]=Nc(mr[Er],br[Er])}),br.attr({d:br.renderer.symbols[br.symbolName](br.x,br.y,br.width,br.height,br)})}textSetter(mr){mr!==this.textStr&&(delete this.textPxLength,this.textStr=mr,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(mr){let br=this.element,Er=br.getElementsByTagName("title")[0]||Hf.createElementNS(this.SVG_NS,"title");br.insertBefore?br.insertBefore(Er,br.firstChild):br.appendChild(Er),Er.textContent=Qh(Nc(mr,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let mr=this.element;return mr.parentNode.appendChild(mr),this}translate(mr,br){return this.attr({translateX:mr,translateY:br})}updateTransform(mr="transform"){let{element:br,foreignObject:Er,matrix:Pr,padding:Dr,rotation:$r=0,rotationOriginX:Ir,rotationOriginY:zr,scaleX:Kr,scaleY:eo,text:Zr,translateX:so=0,translateY:po=0}=this,go=["translate("+so+","+po+")"];_h(Pr)&&go.push("matrix("+Pr.join(",")+")"),$r&&(go.push("rotate("+$r+" "+(Ir??br.getAttribute("x")??this.x??0)+" "+(zr??br.getAttribute("y")??this.y??0)+")"),Zr?.element.tagName!=="SPAN"||Zr?.foreignObject||Zr.attr({rotation:$r,rotationOriginX:(Ir||0)-Dr,rotationOriginY:(zr||0)-Dr})),(_h(Kr)||_h(eo))&&go.push("scale("+Nc(Kr,1)+" "+Nc(eo,1)+")"),go.length&&!(Zr||this).textPath&&(Er?.element||br).setAttribute(mr,go.join(" "))}visibilitySetter(mr,br,Er){mr==="inherit"?Er.removeAttribute(br):this[br]!==mr&&Er.setAttribute(br,mr),this[br]=mr}xGetter(mr){return this.element.nodeName==="circle"&&(mr==="x"?mr="cx":mr==="y"&&(mr="cy")),this._defaultGetter(mr)}zIndexSetter(mr,br){let Er=this.renderer,Pr=this.parentGroup,Dr=(Pr||Er).element||Er.box,$r=this.element,Ir=Dr===Er.box,zr,Kr,eo,Zr=!1,so,po=this.added,go;if(_h(mr)?($r.setAttribute("data-z-index",mr),mr*=1,this[br]===mr&&(po=!1)):_h(this[br])&&$r.removeAttribute("data-z-index"),this[br]=mr,po){for((mr=this.zIndex)&&Pr&&(Pr.handleZ=!0),go=(zr=Dr.childNodes).length-1;go>=0&&!Zr;go--)so=!_h(eo=(Kr=zr[go]).getAttribute("data-z-index")),Kr!==$r&&(mr<0&&so&&!Ir&&!go?(Dr.insertBefore($r,zr[go]),Zr=!0):(gh(eo)<=mr||so&&(!_h(mr)||mr>=0))&&(Dr.insertBefore($r,zr[go+1]),Zr=!0));Zr||(Dr.insertBefore($r,zr[3*!!Ir]),Zr=!0)}return Zr}}gu.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],gu.prototype.strokeSetter=gu.prototype.fillSetter,gu.prototype.yGetter=gu.prototype.xGetter,gu.prototype.matrixSetter=gu.prototype.rotationOriginXSetter=gu.prototype.rotationOriginYSetter=gu.prototype.rotationSetter=gu.prototype.scaleXSetter=gu.prototype.scaleYSetter=gu.prototype.translateXSetter=gu.prototype.translateYSetter=gu.prototype.verticalAlignSetter=function(Ur,mr){this[mr]=Ur,this.doTransform=!0};let nf=gu,{defined:kg,extend:Ag,getAlignFactor:ux,isNumber:pp,merge:iy,pick:Wu,removeEvent:ry}=Uo;class wh extends nf{constructor(mr,br,Er,Pr,Dr,$r,Ir,zr,Kr,eo){let Zr;super(mr,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=br,this.x=Er,this.y=Pr,this.anchorX=$r,this.anchorY=Ir,this.baseline=Kr,this.className=eo,this.addClass(eo==="button"?"highcharts-no-tooltip":"highcharts-label"),eo&&this.addClass("highcharts-"+eo),this.text=mr.text(void 0,0,0,zr).attr({zIndex:1}),typeof Dr=="string"&&((Zr=/^url\((.*?)\)$/.test(Dr))||this.renderer.symbols[Dr])&&(this.symbolKey=Dr),this.bBox=wh.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=mr.styledMode||Zr,this.deferredAttr={},this.alignFactor=0}alignSetter(mr){let br=ux(mr);this.textAlign=mr,br!==this.alignFactor&&(this.alignFactor=br,this.bBox&&pp(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(mr,br){this.anchorX=mr,this.boxAttr(br,Math.round(mr)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(mr,br){this.anchorY=mr,this.boxAttr(br,mr-this.ySetting)}boxAttr(mr,br){this.box?this.box.attr(mr,br):this.deferredAttr[mr]=br}css(mr){if(mr){let br={};mr=iy(mr),wh.textProps.forEach(Er=>{mr[Er]!==void 0&&(br[Er]=mr[Er],delete mr[Er])}),this.text.css(br),"fontSize"in br||"fontWeight"in br?this.updateTextPadding():("width"in br||"textOverflow"in br)&&this.updateBoxSize()}return nf.prototype.css.call(this,mr)}destroy(){ry(this.element,"mouseenter"),ry(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),nf.prototype.destroy.call(this)}fillSetter(mr,br){mr&&(this.needsBox=!0),this.fill=mr,this.boxAttr(br,mr)}getBBox(mr,br){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:Er,height:Pr=0,translateX:Dr=0,translateY:$r=0,width:Ir=0}=this,zr=Wu(this.paddingLeft,Er),Kr=br??(this.rotation||0),eo={width:Ir,height:Pr,x:Dr+this.bBox.x-zr,y:$r+this.bBox.y-Er+this.baselineOffset};return Kr&&(eo=this.getRotatedBox(eo,Kr)),eo}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(mr){this.heightSetting=mr,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Wu(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&kg(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(mr,br){pp(mr)?mr!==this[br]&&(this[br]=mr,this.updateTextPadding()):this[br]=void 0}rSetter(mr,br){this.boxAttr(br,mr)}strokeSetter(mr,br){this.stroke=mr,this.boxAttr(br,mr)}"stroke-widthSetter"(mr,br){mr&&(this.needsBox=!0),this["stroke-width"]=mr,this.boxAttr(br,mr)}"text-alignSetter"(mr){this.textAlign=this["text-align"]=mr,this.updateTextPadding()}textSetter(mr){mr!==void 0&&this.text.attr({text:mr}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let mr,br=this.text,Er={},Pr=this.padding,Dr=this.bBox=(!pp(this.widthSetting)||!pp(this.heightSetting)||this.textAlign)&&kg(br.textStr)?br.getBBox(void 0,0):wh.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||Dr.height||0)+2*Pr;let $r=this.renderer.fontMetrics(br);if(this.baselineOffset=Pr+Math.min((this.text.firstLineMetrics||$r).b,Dr.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-$r.h)/2),this.needsBox&&!br.textPath){if(!this.box){let Ir=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();Ir.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),Ir.add(this)}Er.x=mr=this.getCrispAdjust(),Er.y=(this.baseline?-this.baselineOffset:0)+mr,Er.width=Math.round(this.width),Er.height=Math.round(this.height),this.box.attr(Ag(Er,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let mr=this.text,br=mr.styles.textAlign||this.textAlign;if(!mr.textPath){this.updateBoxSize();let Er=this.baseline?0:this.baselineOffset,Pr=(this.paddingLeft??this.padding)+ux(br)*(this.widthSetting??this.bBox.width);(Pr!==mr.x||Er!==mr.y)&&(mr.attr({align:br,x:Pr}),Er!==void 0&&mr.attr("y",Er)),mr.x=Pr,mr.y=Er}}widthSetter(mr){this.widthSetting=pp(mr)?mr:void 0,this.doUpdate=!0}getPaddedWidth(){let mr=this.padding,br=Wu(this.paddingLeft,mr),Er=Wu(this.paddingRight,mr);return(this.widthSetting||this.bBox.width||0)+br+Er}xSetter(mr){this.x=mr,this.alignFactor&&(mr-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(mr),this.attr("translateX",this.xSetting)}ySetter(mr){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(mr),this.attr("translateY",this.ySetting)}}wh.emptyBBox={width:0,height:0,x:0,y:0},wh.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Gf,isNumber:hx,pick:jd}=Uo;function Bp(Ur,mr,br,Er,Pr){let Dr=[];if(Pr){let $r=Pr.start||0,Ir=Pr.end||0,zr=jd(Pr.r,br),Kr=jd(Pr.r,Er||br),eo=2e-4/(Pr.borderRadius?1:Math.max(zr,1)),Zr=Math.abs(Ir-$r-2*Math.PI)<eo;Zr&&($r=Math.PI/2,Ir=2.5*Math.PI-eo);let so=Pr.innerR,po=jd(Pr.open,Zr),go=Math.cos($r),_o=Math.sin($r),vo=Math.cos(Ir),yo=Math.sin(Ir),Do=jd(Pr.longArc,Ir-$r-Math.PI<eo?0:1),Mo=["A",zr,Kr,0,Do,jd(Pr.clockwise,1),Ur+zr*vo,mr+Kr*yo];Mo.params={start:$r,end:Ir,cx:Ur,cy:mr},Dr.push(["M",Ur+zr*go,mr+Kr*_o],Mo),Gf(so)&&((Mo=["A",so,so,0,Do,Gf(Pr.clockwise)?1-Pr.clockwise:0,Ur+so*go,mr+so*_o]).params={start:Ir,end:$r,cx:Ur,cy:mr},Dr.push(po?["M",Ur+so*vo,mr+so*yo]:["L",Ur+so*vo,mr+so*yo],Mo)),po||Dr.push(["Z"])}return Dr}function gm(Ur,mr,br,Er,Pr){return Pr?.r?Fu(Ur,mr,br,Er,Pr):[["M",Ur,mr],["L",Ur+br,mr],["L",Ur+br,mr+Er],["L",Ur,mr+Er],["Z"]]}function Fu(Ur,mr,br,Er,Pr){let Dr=Pr?.r||0;return[["M",Ur+Dr,mr],["L",Ur+br-Dr,mr],["A",Dr,Dr,0,0,1,Ur+br,mr+Dr],["L",Ur+br,mr+Er-Dr],["A",Dr,Dr,0,0,1,Ur+br-Dr,mr+Er],["L",Ur+Dr,mr+Er],["A",Dr,Dr,0,0,1,Ur,mr+Er-Dr],["L",Ur,mr+Dr],["A",Dr,Dr,0,0,1,Ur+Dr,mr],["Z"]]}let wf={arc:Bp,callout:function(Ur,mr,br,Er,Pr){let Dr=Math.min(Pr?.r||0,br,Er),$r=Dr+6,Ir=Pr?.anchorX,zr=Pr?.anchorY||0,Kr=Fu(Ur,mr,br,Er,{r:Dr});if(!hx(Ir)||Ir<br&&Ir>0&&zr<Er&&zr>0)return Kr;if(Ur+Ir>br-$r)if(zr>mr+$r&&zr<mr+Er-$r)Kr.splice(3,1,["L",Ur+br,zr-6],["L",Ur+br+6,zr],["L",Ur+br,zr+6],["L",Ur+br,mr+Er-Dr]);else if(Ir<br){let eo=zr<mr+$r,Zr=eo?mr:mr+Er;Kr.splice(eo?2:5,0,["L",Ir,zr],["L",Ur+br-Dr,Zr])}else Kr.splice(3,1,["L",Ur+br,Er/2],["L",Ir,zr],["L",Ur+br,Er/2],["L",Ur+br,mr+Er-Dr]);else if(Ur+Ir<$r)if(zr>mr+$r&&zr<mr+Er-$r)Kr.splice(7,1,["L",Ur,zr+6],["L",Ur-6,zr],["L",Ur,zr-6],["L",Ur,mr+Dr]);else if(Ir>0){let eo=zr<mr+$r,Zr=eo?mr:mr+Er;Kr.splice(eo?1:6,0,["L",Ir,zr],["L",Ur+Dr,Zr])}else Kr.splice(7,1,["L",Ur,Er/2],["L",Ir,zr],["L",Ur,Er/2],["L",Ur,mr+Dr]);else zr>Er&&Ir<br-$r?Kr.splice(5,1,["L",Ir+6,mr+Er],["L",Ir,mr+Er+6],["L",Ir-6,mr+Er],["L",Ur+Dr,mr+Er]):zr<0&&Ir>$r&&Kr.splice(1,1,["L",Ir-6,mr],["L",Ir,mr-6],["L",Ir+6,mr],["L",br-Dr,mr]);return Kr},circle:function(Ur,mr,br,Er){return Bp(Ur+br/2,mr+Er/2,br/2,Er/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Ur,mr,br,Er){return[["M",Ur+br/2,mr],["L",Ur+br,mr+Er/2],["L",Ur+br/2,mr+Er],["L",Ur,mr+Er/2],["Z"]]},rect:gm,roundedRect:Fu,square:gm,triangle:function(Ur,mr,br,Er){return[["M",Ur+br/2,mr],["L",Ur+br,mr+Er],["L",Ur,mr+Er],["Z"]]},"triangle-down":function(Ur,mr,br,Er){return[["M",Ur,mr],["L",Ur+br,mr],["L",Ur+br/2,mr+Er],["Z"]]}},{doc:Xm,SVG_NS:sy,win:xm}=Fr,{attr:dx,extend:ay,fireEvent:oy,isString:qm,objectEach:Ef,pick:ym}=Uo,zp=(Ur,mr)=>Ur.substring(0,mr)+"",Rd=class{constructor(Ur){let mr=Ur.styles;this.renderer=Ur.renderer,this.svgElement=Ur,this.width=Ur.textWidth,this.textLineHeight=mr?.lineHeight,this.textOutline=mr?.textOutline,this.ellipsis=mr?.textOverflow==="ellipsis",this.lineClamp=mr?.lineClamp,this.noWrap=mr?.whiteSpace==="nowrap"}buildSVG(){let Ur=this.svgElement,mr=Ur.element,br=Ur.renderer,Er=ym(Ur.textStr,"").toString(),Pr=Er.indexOf("<")!==-1,Dr=mr.childNodes,$r=!Ur.added&&br.box,Ir=[Er,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,Ur.getStyle("font-size"),Ur.styles.lineClamp,this.width].join(",");if(Ir!==Ur.textCache){Ur.textCache=Ir,delete Ur.actualWidth;for(let zr=Dr.length;zr--;)mr.removeChild(Dr[zr]);if(Pr||this.ellipsis||this.width||Ur.textPath||Er.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(Er))){if(Er!==""){$r&&$r.appendChild(mr);let zr=new _u(Er);this.modifyTree(zr.nodes),zr.addToDOM(mr),this.modifyDOM(),this.ellipsis&&(mr.textContent||"").indexOf("")!==-1&&Ur.attr("title",this.unescapeEntities(Ur.textStr||"",["&lt;","&gt;"])),$r&&$r.removeChild(mr)}}else mr.appendChild(Xm.createTextNode(this.unescapeEntities(Er)));qm(this.textOutline)&&Ur.applyTextOutline&&Ur.applyTextOutline(this.textOutline)}}modifyDOM(){let Ur,mr=this.svgElement,br=dx(mr.element,"x");for(mr.firstLineMetrics=void 0;(Ur=mr.element.firstChild)&&/^[\s\u200B]*$/.test(Ur.textContent||" ");)mr.element.removeChild(Ur);[].forEach.call(mr.element.querySelectorAll("tspan.highcharts-br"),($r,Ir)=>{$r.nextSibling&&$r.previousSibling&&(Ir===0&&$r.previousSibling.nodeType===1&&(mr.firstLineMetrics=mr.renderer.fontMetrics($r.previousSibling)),dx($r,{dy:this.getLineHeight($r.nextSibling),x:br}))});let Er=this.width||0;if(!Er)return;let Pr=($r,Ir)=>{let zr=$r.textContent||"",Kr=zr.replace(/([^\^])-/g,"$1- ").split(" "),eo=!this.noWrap&&(Kr.length>1||mr.element.childNodes.length>1),Zr=this.getLineHeight(Ir),so=Math.max(0,Er-.8*Zr),po=0,go=mr.actualWidth;if(eo){let _o=[],vo=[];for(;Ir.firstChild&&Ir.firstChild!==$r;)vo.push(Ir.firstChild),Ir.removeChild(Ir.firstChild);for(;Kr.length;)if(Kr.length&&!this.noWrap&&po>0&&(_o.push($r.textContent||""),$r.textContent=Kr.join(" ").replace(/- /g,"-")),this.truncate($r,void 0,Kr,po===0&&go||0,Er,so,(yo,Do)=>Kr.slice(0,Do).join(" ").replace(/- /g,"-")),go=mr.actualWidth,po++,this.lineClamp&&po>=this.lineClamp){Kr.length&&(this.truncate($r,$r.textContent||"",void 0,0,Er,so,zp),$r.textContent=$r.textContent?.replace("","")+"");break}vo.forEach(yo=>{Ir.insertBefore(yo,$r)}),_o.forEach(yo=>{Ir.insertBefore(Xm.createTextNode(yo),$r);let Do=Xm.createElementNS(sy,"tspan");Do.textContent="",dx(Do,{dy:Zr,x:br}),Ir.insertBefore(Do,$r)})}else this.ellipsis&&zr&&this.truncate($r,zr,void 0,0,Er,so,zp)},Dr=$r=>{[].slice.call($r.childNodes).forEach(Ir=>{Ir.nodeType===xm.Node.TEXT_NODE?Pr(Ir,$r):(Ir.className.baseVal.indexOf("highcharts-br")!==-1&&(mr.actualWidth=0),Dr(Ir))})};Dr(mr.element)}getLineHeight(Ur){let mr=Ur.nodeType===xm.Node.TEXT_NODE?Ur.parentElement:Ur;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(mr||this.svgElement.element).h}modifyTree(Ur){let mr=(br,Er)=>{let{attributes:Pr={},children:Dr,style:$r={},tagName:Ir}=br,zr=this.renderer.styledMode;if(Ir==="b"||Ir==="strong"?zr?Pr.class="highcharts-strong":$r.fontWeight="bold":(Ir==="i"||Ir==="em")&&(zr?Pr.class="highcharts-emphasized":$r.fontStyle="italic"),$r?.color&&($r.fill=$r.color),Ir==="br"){Pr.class="highcharts-br",br.textContent="";let Kr=Ur[Er+1];Kr?.textContent&&(Kr.textContent=Kr.textContent.replace(/^ +/gm,""))}else Ir==="a"&&Dr&&Dr.some(Kr=>Kr.tagName==="#text")&&(br.children=[{children:Dr,tagName:"tspan"}]);Ir!=="#text"&&Ir!=="a"&&(br.tagName="tspan"),ay(br,{attributes:Pr,style:$r}),Dr&&Dr.filter(Kr=>Kr.tagName!=="#text").forEach(mr)};Ur.forEach(mr),oy(this.svgElement,"afterModifyTree",{nodes:Ur})}truncate(Ur,mr,br,Er,Pr,Dr,$r){let Ir,zr,Kr=this.svgElement,{rotation:eo}=Kr,Zr=[],so=br&&!Er?1:0,po=(mr||br||"").length,go=po;br||(Pr=Dr);let _o=function(vo,yo){let Do=yo||vo,Mo=Ur.parentNode;if(Mo&&Zr[Do]===void 0&&Mo.getSubStringLength)try{Zr[Do]=Er+Mo.getSubStringLength(0,br?Do+1:Do)}catch{}return Zr[Do]};if(Kr.rotation=0,Er+(zr=_o(Ur.textContent.length))>Pr){for(;so<=po;)go=Math.ceil((so+po)/2),br&&(Ir=$r(br,go)),zr=_o(go,Ir&&Ir.length-1),so===po?so=po+1:zr>Pr?po=go-1:so=go;po===0?Ur.textContent="":mr&&po===mr.length-1||(Ur.textContent=Ir||$r(mr||br,go)),this.ellipsis&&zr>Pr&&this.truncate(Ur,Ur.textContent||"",void 0,0,Pr,Dr,zp)}br&&br.splice(0,go),Kr.actualWidth=zr,Kr.rotation=eo}unescapeEntities(Ur,mr){return Ef(this.renderer.escapes,function(br,Er){mr&&mr.indexOf(br)!==-1||(Ur=Ur.toString().replace(RegExp(br,"g"),Er))}),Ur}},{defaultOptions:Km}=uc,{charts:mp,deg2rad:Tg,doc:Sf,isFirefox:Zm,isMS:Qm,isWebKit:Pg,noop:fx,SVG_NS:Hp,symbolSizes:Gu,win:jf}=Fr,{addEvent:gp,attr:dd,createElement:px,crisp:rf,css:xp,defined:sf,destroyObjectProperties:Jm,extend:af,isArray:Wp,isNumber:Gh,isObject:Rf,isString:Dg,merge:Gp,pick:of,pInt:Fd,replaceNested:hv,uniqueKey:vm}=Uo;class Mg{constructor(mr,br,Er,Pr,Dr,$r,Ir){let zr,Kr;this.x=0,this.y=0;let eo=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),Zr=eo.element;Ir||eo.css(this.getStyle(Pr||{})),mr.appendChild(Zr),dd(mr,"dir","ltr"),mr.innerHTML.indexOf("xmlns")===-1&&dd(Zr,"xmlns",this.SVG_NS),this.box=Zr,this.boxWrapper=eo,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Sf.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=$r,this.forExport=Dr,this.styledMode=Ir,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=eo.getStyle("font-size"),this.setSize(br,Er,!1),Zm&&mr.getBoundingClientRect&&((zr=function(){xp(mr,{left:0,top:0}),Kr=mr.getBoundingClientRect(),xp(mr,{left:Math.ceil(Kr.left)-Kr.left+"px",top:Math.ceil(Kr.top)-Kr.top+"px"})})(),this.unSubPixelFix=gp(jf,"resize",zr))}definition(mr){return new _u([mr]).addToDOM(this.defs.element)}getReferenceURL(){if((Zm||Pg)&&Sf.getElementsByTagName("base").length){if(!sf(nr)){let mr=vm(),br=new _u([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:mr},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${mr})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Sf.body);xp(br,{position:"fixed",top:0,left:0,zIndex:9e5}),nr=Sf.elementFromPoint(6,6)?.id==="hitme",Sf.body.removeChild(br)}if(nr)return hv(jf.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(mr){return this.style=af({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},mr),this.style}setStyle(mr){this.boxWrapper.css(this.getStyle(mr))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let mr=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Jm(this.gradients||{}),this.gradients=null,this.defs=mr.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(mr){return new this.Element(this,mr)}getRadialAttr(mr,br){return{cx:mr[0]-mr[2]/2+(br.cx||0)*mr[2],cy:mr[1]-mr[2]/2+(br.cy||0)*mr[2],r:(br.r||0)*mr[2]}}shadowDefinition(mr){let br=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(mr).map(Pr=>`${Pr}-${mr[Pr]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),Er=Gp({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},mr);return this.defs.element.querySelector(`#${br}`)||this.definition({tagName:"filter",attributes:{id:br,filterUnits:Er.filterUnits},children:this.getShadowFilterContent(Er)}),br}getShadowFilterContent(mr){return[{tagName:"feDropShadow",attributes:{dx:mr.offsetX,dy:mr.offsetY,"flood-color":mr.color,"flood-opacity":Math.min(5*mr.opacity,1),stdDeviation:mr.width/2}}]}buildText(mr){new Rd(mr).buildSVG()}getContrast(mr){if(mr==="transparent")return"#000000";let br=Ul.parse(mr).rgba,Er=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Gh(br[0])||!Ul.useColorMix){let Pr=br.map($r=>{let Ir=$r/255;return Ir<=.04?Ir/12.92:Math.pow((Ir+.055)/1.055,2.4)}),Dr=.2126*Pr[0]+.7152*Pr[1]+.0722*Pr[2];return 1.05/(Dr+.05)>(Dr+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+mr+" srgb"+Er+Er+Er+")"}button(mr,br,Er,Pr,Dr={},$r,Ir,zr,Kr,eo){let Zr=this.label(mr,br,Er,Kr,void 0,void 0,eo,void 0,"button"),so=this.styledMode,po=arguments,go=0;Dr=Gp(Km.global.buttonTheme,Dr),so&&(delete Dr.fill,delete Dr.stroke,delete Dr["stroke-width"]);let _o=Dr.states||{},vo=Dr.style||{};delete Dr.states,delete Dr.style;let yo=[_u.filterUserAttributes(Dr)],Do=[vo];return so||["hover","select","disabled"].forEach((Mo,Io)=>{yo.push(Gp(yo[0],_u.filterUserAttributes(po[Io+5]||_o[Mo]||{}))),Do.push(yo[Io+1].style),delete yo[Io+1].style}),gp(Zr.element,Qm?"mouseover":"mouseenter",function(){go!==3&&Zr.setState(1)}),gp(Zr.element,Qm?"mouseout":"mouseleave",function(){go!==3&&Zr.setState(go)}),Zr.setState=(Mo=0)=>{if(Mo!==1&&(Zr.state=go=Mo),Zr.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Mo]),!so){Zr.attr(yo[Mo]);let Io=Do[Mo];Rf(Io)&&Zr.css(Io)}},Zr.attr(yo[0]),!so&&(Zr.css(af({cursor:"default"},vo)),eo&&Zr.text.css({pointerEvents:"none"})),Zr.on("touchstart",Mo=>Mo.stopPropagation()).on("click",function(Mo){go!==3&&Pr?.call(Zr,Mo)})}crispLine(mr,br){let[Er,Pr]=mr;return sf(Er[1])&&Er[1]===Pr[1]&&(Er[1]=Pr[1]=rf(Er[1],br)),sf(Er[2])&&Er[2]===Pr[2]&&(Er[2]=Pr[2]=rf(Er[2],br)),mr}path(mr){let br=this.styledMode?{}:{fill:"none"};return Wp(mr)?br.d=mr:Rf(mr)&&af(br,mr),this.createElement("path").attr(br)}circle(mr,br,Er){let Pr=Rf(mr)?mr:mr===void 0?{}:{x:mr,y:br,r:Er},Dr=this.createElement("circle");return Dr.xSetter=Dr.ySetter=function($r,Ir,zr){zr.setAttribute("c"+Ir,$r)},Dr.attr(Pr)}arc(mr,br,Er,Pr,Dr,$r){let Ir;Rf(mr)?(br=(Ir=mr).y,Er=Ir.r,Pr=Ir.innerR,Dr=Ir.start,$r=Ir.end,mr=Ir.x):Ir={innerR:Pr,start:Dr,end:$r};let zr=this.symbol("arc",mr,br,Er,Er,Ir);return zr.r=Er,zr}rect(mr,br,Er,Pr,Dr,$r){let Ir=Rf(mr)?mr:mr===void 0?{}:{x:mr,y:br,r:Dr,width:Math.max(Er||0,0),height:Math.max(Pr||0,0)},zr=this.createElement("rect");return this.styledMode||($r!==void 0&&(Ir["stroke-width"]=$r,af(Ir,zr.crisp(Ir))),Ir.fill="none"),zr.rSetter=function(Kr,eo,Zr){zr.r=Kr,dd(Zr,{rx:Kr,ry:Kr})},zr.rGetter=function(){return zr.r||0},zr.attr(Ir)}roundedRect(mr){return this.symbol("roundedRect").attr(mr)}setSize(mr,br,Er){this.width=mr,this.height=br,this.boxWrapper.animate({width:mr,height:br},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:of(Er,!0)?void 0:0}),this.alignElements()}g(mr){let br=this.createElement("g");return mr?br.attr({class:"highcharts-"+mr}):br}image(mr,br,Er,Pr,Dr,$r){let Ir={preserveAspectRatio:"none"};Gh(br)&&(Ir.x=br),Gh(Er)&&(Ir.y=Er),Gh(Pr)&&(Ir.width=Pr),Gh(Dr)&&(Ir.height=Dr);let zr=this.createElement("image").attr(Ir),Kr=function(eo){zr.attr({href:mr}),$r.call(zr,eo)};if($r){zr.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let eo=new jf.Image;gp(eo,"load",Kr),eo.src=mr,eo.complete&&Kr({})}else zr.attr({href:mr});return zr}symbol(mr,br,Er,Pr,Dr,$r){let Ir,zr,Kr,eo,Zr=this,so=/^url\((.*?)\)$/,po=so.test(mr),go=!po&&(this.symbols[mr]?mr:"circle"),_o=go&&this.symbols[go];if(_o)typeof br=="number"&&(zr=_o.call(this.symbols,br||0,Er||0,Pr||0,Dr||0,$r)),Ir=this.path(zr),Zr.styledMode||Ir.attr("fill","none"),af(Ir,{symbolName:go||void 0,x:br,y:Er,width:Pr,height:Dr}),$r&&af(Ir,$r);else if(po){Kr=mr.match(so)[1];let vo=Ir=this.image(Kr);vo.imgwidth=of($r?.width,Gu[Kr]?.width),vo.imgheight=of($r?.height,Gu[Kr]?.height),eo=yo=>yo.attr({width:yo.width,height:yo.height}),["width","height"].forEach(yo=>{vo[`${yo}Setter`]=function(Do,Mo){this[Mo]=Do;let{alignByTranslate:Io,element:Yo,width:Xo,height:qo,imgwidth:Wo,imgheight:xl}=this,vl=Mo==="width"?Wo:xl,yl=1;$r&&$r.backgroundSize==="within"&&Xo&&qo&&Wo&&xl?(yl=Math.min(Xo/Wo,qo/xl),dd(Yo,{width:Math.round(Wo*yl),height:Math.round(xl*yl)})):Yo&&vl&&Yo.setAttribute(Mo,vl),!Io&&Wo&&xl&&this.translate(((Xo||0)-Wo*yl)/2,((qo||0)-xl*yl)/2)}}),sf(br)&&vo.attr({x:br,y:Er}),vo.isImg=!0,vo.symbolUrl=mr,sf(vo.imgwidth)&&sf(vo.imgheight)?eo(vo):(vo.attr({width:0,height:0}),px("img",{onload:function(){let yo=mp[Zr.chartIndex];this.width===0&&(xp(this,{position:"absolute",top:"-999em"}),Sf.body.appendChild(this)),Gu[Kr]={width:this.width,height:this.height},vo.imgwidth=this.width,vo.imgheight=this.height,vo.element&&eo(vo),this.parentNode&&this.parentNode.removeChild(this),Zr.imgCount--,Zr.imgCount||!yo||yo.hasLoaded||yo.onload()},src:Kr}),this.imgCount++)}return Ir}clipRect(mr,br,Er,Pr){return this.rect(mr,br,Er,Pr,0)}text(mr,br,Er,Pr){let Dr={};if(Pr&&(this.allowHTML||!this.forExport))return this.html(mr,br,Er);Dr.x=Math.round(br||0),Er&&(Dr.y=Math.round(Er)),sf(mr)&&(Dr.text=mr);let $r=this.createElement("text").attr(Dr);return Pr&&(!this.forExport||this.allowHTML)||($r.xSetter=function(Ir,zr,Kr){let eo=Kr.getElementsByTagName("tspan"),Zr=Kr.getAttribute(zr);for(let so=0,po;so<eo.length;so++)(po=eo[so]).getAttribute(zr)===Zr&&po.setAttribute(zr,Ir);Kr.setAttribute(zr,Ir)}),$r}fontMetrics(mr){let br=Gh(mr)?mr:Fd(nf.prototype.getStyle.call(mr,"font-size")||0),Er=br<24?br+3:Math.round(1.2*br),Pr=Math.round(.8*Er);return{h:Er,b:Pr,f:br}}rotCorr(mr,br,Er){let Pr=mr;return br&&Er&&(Pr=Math.max(Pr*Math.cos(br*Tg),4)),{x:-mr/3*Math.sin(br*Tg),y:Pr}}pathToSegments(mr){let br=[],Er=[],Pr={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let Dr=0;Dr<mr.length;Dr++)Dg(Er[0])&&Gh(mr[Dr])&&Er.length===Pr[Er[0].toUpperCase()]&&mr.splice(Dr,0,Er[0].replace("M","L").replace("m","l")),typeof mr[Dr]=="string"&&(Er.length&&br.push(Er.slice(0)),Er.length=0),Er.push(mr[Dr]);return br.push(Er.slice(0)),br}label(mr,br,Er,Pr,Dr,$r,Ir,zr,Kr){return new wh(this,mr,br,Er,Pr,Dr,$r,Ir,zr,Kr)}alignElements(){this.alignedObjects.forEach(mr=>mr.align())}}af(Mg.prototype,{Element:nf,SVG_NS:Hp,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:wf,draw:fx}),No.registerRendererType("svg",Mg,!0);let{composed:fd,isFirefox:zu}=Fr,{attr:Vp,css:lf,createElement:eg,defined:tg,extend:ng,getAlignFactor:yp,isNumber:Bd,pInt:Jo,pushUnique:_l}=Uo;function dl(Ur,mr,br){let Er=this.div?.style;nf.prototype[`${mr}Setter`].call(this,Ur,mr,br),Er&&(br.style[mr]=Er[mr]=Ur)}let Yl=(Ur,mr)=>{if(!Ur.div){let br=Vp(Ur.element,"class"),Er=Ur.css,Pr=eg("div",br?{className:br}:void 0,{position:"absolute",left:`${Ur.translateX||0}px`,top:`${Ur.translateY||0}px`,...Ur.styles,display:Ur.display,opacity:Ur.opacity,visibility:Ur.visibility},Ur.parentGroup?.div||mr);Ur.classSetter=(Dr,$r,Ir)=>{Ir.setAttribute("class",Dr),Pr.className=Dr},Ur.translateXSetter=Ur.translateYSetter=(Dr,$r)=>{Ur[$r]=Dr,Pr.style[$r==="translateX"?"left":"top"]=`${Dr}px`,Ur.doTransform=!0},Ur.scaleXSetter=Ur.scaleYSetter=(Dr,$r)=>{Ur[$r]=Dr,Ur.doTransform=!0},Ur.opacitySetter=Ur.visibilitySetter=dl,Ur.css=Dr=>(Er.call(Ur,Dr),Dr.cursor&&(Pr.style.cursor=Dr.cursor),Dr.pointerEvents&&(Pr.style.pointerEvents=Dr.pointerEvents),Ur),Ur.on=function(){return nf.prototype.on.apply({element:Pr,onEvents:Ur.onEvents},arguments),Ur},Ur.div=Pr}return Ur.div};class mc extends nf{static compose(mr){_l(fd,this.compose)&&(mr.prototype.html=function(br,Er,Pr){return new mc(this,"span").attr({text:br,x:Math.round(Er),y:Math.round(Pr)})})}constructor(mr,br){super(mr,br),mc.useForeignObject?this.foreignObject=mr.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...mr.styledMode?{}:{fontFamily:mr.style.fontFamily,fontSize:mr.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(mr,br,Er){this.xCorr=-mr*Er,this.yCorr=-br}css(mr){let br,{element:Er}=this,Pr=Er.tagName==="SPAN"&&mr&&"width"in mr,Dr=Pr&&mr.width;return Pr&&(delete mr.width,this.textWidth=Jo(Dr)||void 0,br=!0),mr?.textOverflow==="ellipsis"&&(mr.overflow="hidden",mr.whiteSpace="nowrap"),mr?.lineClamp&&(mr.display="-webkit-box",mr.WebkitLineClamp=mr.lineClamp,mr.WebkitBoxOrient="vertical",mr.overflow="hidden"),Bd(Number(mr?.fontSize))&&(mr.fontSize+="px"),ng(this.styles,mr),lf(Er,mr),br&&this.updateTransform(),this}htmlGetBBox(){let{element:mr}=this;return{x:mr.offsetLeft,y:mr.offsetTop,width:mr.offsetWidth,height:mr.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:mr,foreignObject:br,oldTextWidth:Er,renderer:Pr,rotation:Dr,rotationOriginX:$r,rotationOriginY:Ir,scaleX:zr,scaleY:Kr,styles:{display:eo="inline-block",whiteSpace:Zr},textAlign:so="left",textWidth:po,translateX:go=0,translateY:_o=0,x:vo=0,y:yo=0}=this;if(br||lf(mr,{marginLeft:`${go}px`,marginTop:`${_o}px`}),mr.tagName==="SPAN"){let Do,Mo=[Dr,so,mr.innerHTML,po,this.textAlign].join(","),Io=-(this.parentGroup?.padding*1)||0;if(po!==Er){let Wo=this.textPxLength?this.textPxLength:(lf(mr,{width:"",whiteSpace:Zr||"nowrap"}),mr.offsetWidth),xl=po||0,vl=!Pr.styledMode&&mr.style.textOverflow===""&&mr.style.webkitLineClamp;(xl>Er||Wo>xl||vl)&&(/[\-\s\u00AD]/.test(mr.textContent||mr.innerText)||mr.style.textOverflow==="ellipsis")&&(lf(mr,{width:(Dr||zr||Wo>xl||vl)&&Bd(po)?po+"px":"auto",display:eo,whiteSpace:Zr||"normal"}),this.oldTextWidth=po)}br&&(lf(mr,{display:"inline-block",verticalAlign:"top"}),br.attr({width:Pr.width,height:Pr.height})),Mo!==this.cTT&&(Do=Pr.fontMetrics(mr).b,tg(Dr)&&!br&&(Dr!==(this.oldRotation||0)||so!==this.oldAlign)&&lf(mr,{transform:`rotate(${Dr}deg)`,transformOrigin:`${Io}% ${Io}px`}),this.getSpanCorrection(!tg(Dr)&&!this.textWidth&&this.textPxLength||mr.offsetWidth,Do,yp(so)));let{xCorr:Yo=0,yCorr:Xo=0}=this,qo={left:`${vo+Yo}px`,top:`${yo+Xo}px`,textAlign:so,transformOrigin:`${($r??vo)-Yo-vo-Io}px ${(Ir??yo)-Xo-yo-Io}px`};(zr||Kr)&&(qo.transform=`scale(${zr??1},${Kr??1})`),br?(super.updateTransform(),Bd(vo)&&Bd(yo)?(br.attr({x:vo+Yo,y:yo+Xo,width:mr.offsetWidth+3,height:mr.offsetHeight,"transform-origin":mr.getAttribute("transform-origin")||"0 0"}),lf(mr,{display:eo,textAlign:so})):zu&&br.attr({width:0,height:0})):lf(mr,qo),this.cTT=Mo,this.oldRotation=Dr,this.oldAlign=so}}add(mr){let{foreignObject:br,renderer:Er}=this,Pr=Er.box.parentNode,Dr=[];if(br)br.add(mr),super.add(Er.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(br));else{let $r;if(this.parentGroup=mr,mr&&!($r=mr.div)){let Ir=mr;for(;Ir;)Dr.push(Ir),Ir=Ir.parentGroup;for(let zr of Dr.reverse())$r=Yl(zr,Pr)}($r||Pr).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(mr){mr!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,_u.setElementHTML(this.element,mr??""),this.textStr=mr,this.doTransform=!0)}alignSetter(mr){this.alignValue=this.textAlign=mr,this.doTransform=!0}xSetter(mr,br){this[br]=mr,this.doTransform=!0}}let kc=mc.prototype;kc.visibilitySetter=kc.opacitySetter=dl,kc.ySetter=kc.rotationSetter=kc.rotationOriginXSetter=kc.rotationOriginYSetter=kc.xSetter,(function(Ur){Ur.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},Ur.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:mr}=this.axis.chart;return mr(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(ar||(ar={}));let Ju=ar,{addEvent:Su,isFunction:Ng,objectEach:Vh,removeEvent:Uh}=Uo;(or||(or={})).registerEventOptions=function(Ur,mr){Ur.eventOptions=Ur.eventOptions||{},Vh(mr.events,function(br,Er){Ur.eventOptions[Er]!==br&&(Ur.eventOptions[Er]&&(Uh(Ur,Er,Ur.eventOptions[Er]),delete Ur.eventOptions[Er]),Ng(br)&&(Ur.eventOptions[Er]=br,Su(Ur,Er,br,{order:0})))})};let vp=or,{deg2rad:Up}=Fr,{clamp:bm,correctFloat:bp,defined:_m,destroyObjectProperties:su,extend:mx,fireEvent:Cd,getAlignFactor:Jh,isNumber:_p,merge:zd,objectEach:pd,pick:Yh}=Uo,Oh=class{constructor(Ur,mr,br,Er,Pr){this.isNew=!0,this.isNewLabel=!0,this.axis=Ur,this.pos=mr,this.type=br||"",this.parameters=Pr||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Cd(this,"init"),br||Er||this.addLabel()}addLabel(){let Ur=this,mr=Ur.axis,br=mr.options,Er=mr.chart,Pr=mr.categories,Dr=mr.logarithmic,$r=mr.names,Ir=Ur.pos,zr=Yh(Ur.options?.labels,br.labels),Kr=mr.tickPositions,eo=Ir===Kr[0],Zr=Ir===Kr[Kr.length-1],so=(!zr.step||zr.step===1)&&mr.tickInterval===1,po=Kr.info,go=Ur.label,_o,vo,yo,Do=this.parameters.category||(Pr?Yh(Pr[Ir],$r[Ir],Ir):Ir);Dr&&_p(Do)&&(Do=bp(Dr.lin2log(Do))),mr.dateTime&&(po?_o=(vo=Er.time.resolveDTLFormat(br.dateTimeLabelFormats[!br.grid?.enabled&&po.higherRanks[Ir]||po.unitName])).main:_p(Do)&&(_o=mr.dateTime.getXDateFormat(Do,br.dateTimeLabelFormats||{}))),Ur.isFirst=eo,Ur.isLast=Zr;let Mo={axis:mr,chart:Er,dateTimeLabelFormat:_o,isFirst:eo,isLast:Zr,pos:Ir,tick:Ur,tickPositionInfo:po,value:Do};Cd(this,"labelFormat",Mo);let Io=qo=>zr.formatter?zr.formatter.call(qo,qo):zr.format?(qo.text=mr.defaultLabelFormatter.call(qo),Ro.format(zr.format,qo,Er)):mr.defaultLabelFormatter.call(qo),Yo=Io.call(Mo,Mo),Xo=vo?.list;Xo?Ur.shortenLabel=function(){for(yo=0;yo<Xo.length;yo++)if(mx(Mo,{dateTimeLabelFormat:Xo[yo]}),go.attr({text:Io.call(Mo,Mo)}),go.getBBox().width<mr.getSlotWidth(Ur)-2*(zr.padding||0))return;go.attr({text:""})}:Ur.shortenLabel=void 0,so&&mr._addedPlotLB&&Ur.moveLabel(Yo,zr),_m(go)||Ur.movedLabel?go&&go.textStr!==Yo&&!so&&(!go.textWidth||zr.style.width||go.styles.width||go.css({width:null}),go.attr({text:Yo}),go.textPxLength=go.getBBox().width):(Ur.label=go=Ur.createLabel(Yo,zr),Ur.rotation=0)}createLabel(Ur,mr,br){let Er=this.axis,{renderer:Pr,styledMode:Dr}=Er.chart,$r=mr.style.whiteSpace,Ir=_m(Ur)&&mr.enabled?Pr.text(Ur,br?.x,br?.y,mr.useHTML).add(Er.labelGroup):void 0;return Ir&&(Dr||Ir.css(zd(mr.style)),Ir.textPxLength=Ir.getBBox().width,!Dr&&$r&&Ir.css({whiteSpace:$r})),Ir}destroy(){su(this,this.axis)}getPosition(Ur,mr,br,Er){let Pr=this.axis,Dr=Pr.chart,$r=Er&&Dr.oldChartHeight||Dr.chartHeight,Ir={x:Ur?bp(Pr.translate(mr+br,void 0,void 0,Er)+Pr.transB):Pr.left+Pr.offset+(Pr.opposite?(Er&&Dr.oldChartWidth||Dr.chartWidth)-Pr.right-Pr.left:0),y:Ur?$r-Pr.bottom+Pr.offset-(Pr.opposite?Pr.height:0):bp($r-Pr.translate(mr+br,void 0,void 0,Er)-Pr.transB)};return Ir.y=bm(Ir.y,-1e9,1e9),Cd(this,"afterGetPosition",{pos:Ir}),Ir}getLabelPosition(Ur,mr,br,Er,Pr,Dr,$r,Ir){let zr,Kr,eo=this.axis,Zr=eo.transA,so=eo.isLinked&&eo.linkedParent?eo.linkedParent.reversed:eo.reversed,po=eo.staggerLines,go=eo.tickRotCorr||{x:0,y:0},_o=Er||eo.reserveSpaceDefault?0:-eo.labelOffset*(eo.labelAlign==="center"?.5:1),vo=Pr.distance,yo={};return zr=eo.side===0?br.rotation?-vo:-br.getBBox().height:eo.side===2?go.y+vo:Math.cos(br.rotation*Up)*(go.y-br.getBBox(!1,0).height/2),_m(Pr.y)&&(zr=eo.side===0&&eo.horiz?Pr.y+zr:Pr.y),Ur=Ur+Yh(Pr.x,[0,1,0,-1][eo.side]*vo)+_o+go.x-(Dr&&Er?Dr*Zr*(so?-1:1):0),mr=mr+zr-(Dr&&!Er?Dr*Zr*(so?1:-1):0),po&&(Kr=$r/(Ir||1)%po,eo.opposite&&(Kr=po-Kr-1),mr+=Kr*(eo.labelOffset/po)),yo.x=Ur,yo.y=Math.round(mr),Cd(this,"afterGetLabelPosition",{pos:yo,tickmarkOffset:Dr,index:$r}),yo}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(Ur,mr,br,Er,Pr=!1,Dr){return Dr.crispLine([["M",Ur,mr],["L",Ur+(Pr?0:-br),mr+(Pr?br:0)]],Er)}handleOverflow(Ur){let mr=this.axis,br=mr.options.labels,Er=Ur.x,Pr=mr.chart.chartWidth,Dr=mr.chart.spacing,$r=Yh(mr.labelLeft,Math.min(mr.pos,Dr[3])),Ir=Yh(mr.labelRight,Math.max(mr.isRadial?0:mr.pos+mr.len,Pr-Dr[1])),zr=this.label,Kr=this.rotation,eo=Jh(mr.labelAlign||zr.attr("align")),Zr=zr.getBBox().width,so=mr.getSlotWidth(this),po=so,go=1,_o;Kr||br.overflow!=="justify"?Kr<0&&Er-eo*Zr<$r?_o=Math.round(Er/Math.cos(Kr*Up)-$r):Kr>0&&Er+eo*Zr>Ir&&(_o=Math.round((Pr-Er)/Math.cos(Kr*Up))):(Er-eo*Zr<$r?po=Ur.x+po*(1-eo)-$r:Er+(1-eo)*Zr>Ir&&(po=Ir-Ur.x+po*eo,go=-1),(po=Math.min(so,po))<so&&mr.labelAlign==="center"&&(Ur.x+=go*(so-po-eo*(so-Math.min(Zr,po)))),(Zr>po||mr.autoRotation&&zr?.styles?.width)&&(_o=po)),_o&&zr&&(this.shortenLabel?this.shortenLabel():zr.css(mx({},{width:Math.floor(_o)+"px",lineClamp:+!mr.isRadial})))}moveLabel(Ur,mr){let br=this,Er=br.label,Pr=br.axis,Dr=!1,$r;Er&&Er.textStr===Ur?(br.movedLabel=Er,Dr=!0,delete br.label):pd(Pr.ticks,function(Ir){Dr||Ir.isNew||Ir===br||!Ir.label||Ir.label.textStr!==Ur||(br.movedLabel=Ir.label,Dr=!0,Ir.labelPos=br.movedLabel.xy,delete Ir.label)}),!Dr&&(br.labelPos||Er)&&($r=br.labelPos||Er.xy,br.movedLabel=br.createLabel(Ur,mr,$r),br.movedLabel&&br.movedLabel.attr({opacity:0}))}render(Ur,mr,br){let Er=this.axis,Pr=Er.horiz,Dr=this.pos,$r=Yh(this.tickmarkOffset,Er.tickmarkOffset),Ir=this.getPosition(Pr,Dr,$r,mr),zr=Ir.x,Kr=Ir.y,eo=Er.pos,Zr=eo+Er.len,so=Pr?zr:Kr,po=Yh(br,this.label?.newOpacity,1);!Er.chart.polar&&(bp(so)<eo||so>Zr)&&(br=0),br??(br=1),this.isActive=!0,this.renderGridLine(mr,br),this.renderMark(Ir,br),this.renderLabel(Ir,mr,po,Ur),this.isNew=!1,Cd(this,"afterRender")}renderGridLine(Ur,mr){let br=this.axis,Er=br.options,Pr={},Dr=this.pos,$r=this.type,Ir=Yh(this.tickmarkOffset,br.tickmarkOffset),zr=br.chart.renderer,Kr=this.gridLine,eo,Zr=Er.gridLineWidth,so=Er.gridLineColor,po=Er.gridLineDashStyle;this.type==="minor"&&(Zr=Er.minorGridLineWidth,so=Er.minorGridLineColor,po=Er.minorGridLineDashStyle),Kr||(br.chart.styledMode||(Pr.stroke=so,Pr["stroke-width"]=Zr||0,Pr.dashstyle=po),$r||(Pr.zIndex=1),Ur&&(mr=0),this.gridLine=Kr=zr.path().attr(Pr).addClass("highcharts-"+($r?$r+"-":"")+"grid-line").add(br.gridGroup)),Kr&&(eo=br.getPlotLinePath({value:Dr+Ir,lineWidth:Kr.strokeWidth(),force:"pass",old:Ur,acrossPanes:!1}))&&Kr[Ur||this.isNew?"attr":"animate"]({d:eo,opacity:mr})}renderMark(Ur,mr){let br=this.axis,Er=br.options,Pr=br.chart.renderer,Dr=this.type,$r=br.tickSize(Dr?Dr+"Tick":"tick"),Ir=Ur.x,zr=Ur.y,Kr=Yh(Er[Dr!=="minor"?"tickWidth":"minorTickWidth"],!Dr&&br.isXAxis?1:0),eo=Er[Dr!=="minor"?"tickColor":"minorTickColor"],Zr=this.mark,so=!Zr;$r&&(br.opposite&&($r[0]=-$r[0]),!Zr&&(this.mark=Zr=Pr.path().addClass("highcharts-"+(Dr?Dr+"-":"")+"tick").add(br.axisGroup),br.chart.styledMode||Zr.attr({stroke:eo,"stroke-width":Kr})),Zr[so?"attr":"animate"]({d:this.getMarkPath(Ir,zr,$r[0],Zr.strokeWidth(),br.horiz,Pr),opacity:mr}))}renderLabel(Ur,mr,br,Er){let Pr=this.axis,Dr=Pr.horiz,$r=Pr.options,Ir=this.label,zr=$r.labels,Kr=zr.step,eo=Yh(this.tickmarkOffset,Pr.tickmarkOffset),Zr=Ur.x,so=Ur.y,po=!0;Ir&&_p(Zr)&&(Ir.xy=Ur=this.getLabelPosition(Zr,so,Ir,Dr,zr,eo,Er,Kr),(!this.isFirst||this.isLast||$r.showFirstLabel)&&(!this.isLast||this.isFirst||$r.showLastLabel)?!Dr||zr.step||zr.rotation||mr||br===0||this.handleOverflow(Ur):po=!1,Kr&&Er%Kr&&(po=!1),po&&_p(Ur.y)?(Ur.opacity=br,Ir[this.isNewLabel?"attr":"animate"](Ur).show(!0),this.isNewLabel=!1):(Ir.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let Ur=this.label,mr=this.axis;Ur&&!this.isNew&&(Ur.animate({opacity:0},void 0,Ur.destroy),delete this.label),mr.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:cf}=Gc,{xAxis:ig,yAxis:kd}=Ju,{defaultOptions:Vf}=uc,{registerEventOptions:wm}=vp,{deg2rad:Cf}=Fr,{arrayMax:gx,arrayMin:Ph,clamp:Hd,correctFloat:Vu,defined:ju,destroyObjectProperties:rg,erase:wp,error:Uf,extend:Yf,fireEvent:Mu,getClosestDistance:xr,insertItem:Rr,isArray:Br,isNumber:Qr,isString:ho,merge:jo,normalizeTickInterval:zo,objectEach:tl,pick:Qo,relativeLength:Sl,removeEvent:Il,splat:ic,syncTimeout:$c}=Uo,lh=(Ur,mr)=>zo(mr,void 0,void 0,Qo(Ur.options.allowDecimals,mr<.5||Ur.tickAmount!==void 0),!!Ur.tickAmount);Yf(Vf,{xAxis:ig,yAxis:jo(ig,kd)});class Tu{constructor(mr,br,Er){this.init(mr,br,Er)}init(mr,br,Er=this.coll){let Pr=Er==="xAxis",Dr=this.isZAxis||(mr.inverted?!Pr:Pr);this.chart=mr,this.horiz=Dr,this.isXAxis=Pr,this.coll=Er,Mu(this,"init",{userOptions:br}),this.opposite=Qo(br.opposite,this.opposite),this.side=Qo(br.side,this.side,Dr?2*!this.opposite:this.opposite?1:3),this.setOptions(br);let $r=this.options,Ir=$r.labels;this.type??(this.type=$r.type||"linear"),this.uniqueNames??(this.uniqueNames=$r.uniqueNames??!0),Mu(this,"afterSetType"),this.userOptions=br,this.minPixelPadding=0,this.reversed=Qo($r.reversed,this.reversed),this.visible=$r.visible,this.zoomEnabled=$r.zoomEnabled,this.hasNames=this.type==="category"||$r.categories===!0,this.categories=Br($r.categories)&&$r.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=ju($r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=$r.minRange||$r.maxZoom,this.range=$r.range,this.offset=$r.offset||0,this.max=void 0,this.min=void 0;let zr=Qo($r.crosshair,ic(mr.options.tooltip.crosshairs)[+!Pr]);this.crosshair=zr===!0?{}:zr,mr.axes.indexOf(this)===-1&&(Pr?mr.axes.splice(mr.xAxis.length,0,this):mr.axes.push(this),Rr(this,mr[this.coll])),mr.orderItems(this.coll),this.series=this.series||[],mr.inverted&&!this.isZAxis&&Pr&&!ju(this.reversed)&&(this.reversed=!0),this.labelRotation=Qr(Ir.rotation)?Ir.rotation:void 0,wm(this,$r),Mu(this,"afterInit")}setOptions(mr){let br=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=jo(br,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Vf[this.coll],mr),Mu(this,"afterSetOptions",{userOptions:mr})}defaultLabelFormatter(){let mr=this.axis,{numberFormatter:br}=this.chart,Er=Qr(this.value)?this.value:NaN,Pr=mr.chart.time,Dr=mr.categories,$r=this.dateTimeLabelFormat,Ir=Vf.lang,zr=Ir.numericSymbols,Kr=Ir.numericSymbolMagnitude||1e3,eo=mr.logarithmic?Math.abs(Er):mr.tickInterval,Zr=zr?.length,so,po;if(Dr)po=`${this.value}`;else if($r)po=Pr.dateFormat($r,Er,!0);else if(Zr&&zr&&eo>=1e3)for(;Zr--&&po===void 0;)eo>=(so=Math.pow(Kr,Zr+1))&&10*Er%so==0&&zr[Zr]!==null&&Er!==0&&(po=br(Er/so,-1)+zr[Zr]);return po===void 0&&(po=Math.abs(Er)>=1e4?br(Er,-1):br(Er,-1,void 0,"")),po}getSeriesExtremes(){let mr,br=this;Mu(this,"getSeriesExtremes",null,function(){br.hasVisibleSeries=!1,br.dataMin=br.dataMax=br.threshold=void 0,br.softThreshold=!br.isXAxis,br.series.forEach(Er=>{if(Er.reserveSpace()){let Pr=Er.options,Dr,$r=Pr.threshold,Ir,zr;if(br.hasVisibleSeries=!0,br.positiveValuesOnly&&0>=($r||0)&&($r=void 0),br.isXAxis)(Dr=Er.getColumn("x")).length&&(Dr=br.logarithmic?Dr.filter(Kr=>Kr>0):Dr,Ir=(mr=Er.getXExtremes(Dr)).min,zr=mr.max,Qr(Ir)||Ir instanceof Date||(Dr=Dr.filter(Qr),Ir=(mr=Er.getXExtremes(Dr)).min,zr=mr.max),Dr.length&&(br.dataMin=Math.min(Qo(br.dataMin,Ir),Ir),br.dataMax=Math.max(Qo(br.dataMax,zr),zr)));else{let Kr=Er.applyExtremes();Qr(Kr.dataMin)&&(Ir=Kr.dataMin,br.dataMin=Math.min(Qo(br.dataMin,Ir),Ir)),Qr(Kr.dataMax)&&(zr=Kr.dataMax,br.dataMax=Math.max(Qo(br.dataMax,zr),zr)),ju($r)&&(br.threshold=$r),(!Pr.softThreshold||br.positiveValuesOnly)&&(br.softThreshold=!1)}}})}),Mu(this,"afterGetSeriesExtremes")}translate(mr,br,Er,Pr,Dr,$r){let Ir=this.linkedParent||this,zr=Pr&&Ir.old?Ir.old.min:Ir.min;if(!Qr(zr))return NaN;let Kr=Ir.minPixelPadding,eo=(Ir.isOrdinal||Ir.brokenAxis?.hasBreaks||Ir.logarithmic&&Dr)&&!!Ir.lin2val,Zr=1,so=0,po=Pr&&Ir.old?Ir.old.transA:Ir.transA,go=0;return po||(po=Ir.transA),Er&&(Zr*=-1,so=Ir.len),Ir.reversed&&(Zr*=-1,so-=Zr*(Ir.sector||Ir.len)),br?(go=(mr=mr*Zr+so-Kr)/po+zr,eo&&(go=Ir.lin2val(go))):(eo&&(mr=Ir.val2lin(mr)),go=Zr*(mr-zr)*po+so+Zr*Kr+(Qr($r)?po*$r:0),Ir.isRadial||(go=Vu(go))),go}toPixels(mr,br){return this.translate(this.chart?.time.parse(mr)??NaN,!1,!this.horiz,void 0,!0)+(br?0:this.pos)}toValue(mr,br){return this.translate(mr-(br?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(mr){let br=this,Er=br.chart,Pr=br.left,Dr=br.top,$r=mr.old,Ir=mr.value,zr=mr.lineWidth,Kr=$r&&Er.oldChartHeight||Er.chartHeight,eo=$r&&Er.oldChartWidth||Er.chartWidth,Zr=br.transB,so=mr.translatedValue,po=mr.force,go,_o,vo,yo,Do;function Mo(Yo,Xo,qo){return po!=="pass"&&(Yo<Xo||Yo>qo)&&(po?Yo=Hd(Yo,Xo,qo):Do=!0),Yo}let Io={value:Ir,lineWidth:zr,old:$r,force:po,acrossPanes:mr.acrossPanes,translatedValue:so};return Mu(this,"getPlotLinePath",Io,function(Yo){go=vo=(so=Hd(so=Qo(so,br.translate(Ir,void 0,void 0,$r)),-1e9,1e9))+Zr,_o=yo=Kr-so-Zr,Qr(so)?br.horiz?(_o=Dr,yo=Kr-br.bottom+(br.options.isInternal?0:Er.scrollablePixelsY||0),go=vo=Mo(go,Pr,Pr+br.width)):(go=Pr,vo=eo-br.right+(Er.scrollablePixelsX||0),_o=yo=Mo(_o,Dr,Dr+br.height)):(Do=!0,po=!1),Yo.path=Do&&!po?void 0:Er.renderer.crispLine([["M",go,_o],["L",vo,yo]],zr||1)}),Io.path}getLinearTickPositions(mr,br,Er){let Pr,Dr,$r,Ir=Vu(Math.floor(br/mr)*mr),zr=Vu(Math.ceil(Er/mr)*mr),Kr=[];if(Vu(Ir+mr)===Ir&&($r=20),this.single)return[br];for(Pr=Ir;Pr<=zr&&(Kr.push(Pr),(Pr=Vu(Pr+mr,$r))!==Dr);)Dr=Pr;return Kr}getMinorTickInterval(){let{minorTicks:mr,minorTickInterval:br}=this.options;return mr===!0?Qo(br,"auto"):mr!==!1?br:void 0}getMinorTickPositions(){let mr=this.options,br=this.tickPositions,Er=this.minorTickInterval,Pr=this.pointRangePadding||0,Dr=(this.min||0)-Pr,$r=(this.max||0)+Pr,Ir=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:$r-Dr,zr=[],Kr;if(Ir&&Ir/Er<this.len/3){let eo=this.logarithmic;if(eo)this.paddedTicks.forEach(function(Zr,so,po){so&&zr.push.apply(zr,eo.getLogTickPositions(Er,po[so-1],po[so],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")zr=zr.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(Er),Dr,$r,mr.startOfWeek));else for(Kr=Dr+(br[0]-Dr)%Er;Kr<=$r&&Kr!==zr[0];Kr+=Er)zr.push(Kr)}return zr.length!==0&&this.trimTicks(zr),zr}adjustForMinRange(){let mr=this.options,br=this.logarithmic,Er=this.chart.time,{max:Pr,min:Dr,minRange:$r}=this,Ir,zr,Kr,eo;this.isXAxis&&$r===void 0&&!br&&($r=ju(mr.min)||ju(mr.max)||ju(mr.floor)||ju(mr.ceiling)?null:Math.min(5*(xr(this.series.map(Zr=>{let so=Zr.getColumn("x");return Zr.xIncrement?so.slice(0,2):so}))||0),this.dataMax-this.dataMin)),Qr(Pr)&&Qr(Dr)&&Qr($r)&&Pr-Dr<$r&&(zr=this.dataMax-this.dataMin>=$r,Ir=($r-Pr+Dr)/2,Kr=[Dr-Ir,Er.parse(mr.min)??Dr-Ir],zr&&(Kr[2]=br?br.log2lin(this.dataMin):this.dataMin),eo=[(Dr=gx(Kr))+$r,Er.parse(mr.max)??Dr+$r],zr&&(eo[2]=br?br.log2lin(this.dataMax):this.dataMax),(Pr=Ph(eo))-Dr<$r&&(Kr[0]=Pr-$r,Kr[1]=Er.parse(mr.min)??Pr-$r,Dr=gx(Kr))),this.minRange=$r,this.min=Dr,this.max=Pr}getClosest(){let mr,br;if(this.categories)br=1;else{let Er=[];this.series.forEach(function(Pr){let Dr=Pr.closestPointRange,$r=Pr.getColumn("x");$r.length===1?Er.push($r[0]):Pr.sorted&&ju(Dr)&&Pr.reserveSpace()&&(br=ju(br)?Math.min(br,Dr):Dr)}),Er.length&&(Er.sort((Pr,Dr)=>Pr-Dr),mr=xr([Er]))}return mr&&br?Math.min(mr,br):mr||br}nameToX(mr){let br=Br(this.options.categories),Er=br?this.categories:this.names,Pr=mr.options.x,Dr;return mr.series.requireSorting=!1,ju(Pr)||(Pr=this.uniqueNames&&Er?br?Er.indexOf(mr.name):Qo(Er.keys[mr.name],-1):mr.series.autoIncrement()),Pr===-1?!br&&Er&&(Dr=Er.length):Qr(Pr)&&(Dr=Pr),Dr!==void 0?(this.names[Dr]=mr.name,this.names.keys[mr.name]=Dr):mr.x&&(Dr=mr.x),Dr}updateNames(){let mr=this,br=this.names;br.length>0&&(Object.keys(br.keys).forEach(function(Er){delete br.keys[Er]}),br.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(Er=>{Er.xIncrement=null,(!Er.points||Er.isDirtyData)&&(mr.max=Math.max(mr.max||0,Er.dataTable.rowCount-1),Er.processData(),Er.generatePoints());let Pr=Er.getColumn("x").slice();Er.data.forEach((Dr,$r)=>{let Ir=Pr[$r];Dr?.options&&Dr.name!==void 0&&(Ir=mr.nameToX(Dr))!==void 0&&Ir!==Dr.x&&(Pr[$r]=Dr.x=Ir)}),Er.dataTable.setColumn("x",Pr)}))}setAxisTranslation(){let mr=this,br=mr.max-mr.min,Er=mr.linkedParent,Pr=!!mr.categories,Dr=mr.isXAxis,$r=mr.axisPointRange||0,Ir,zr=0,Kr=0,eo,Zr=mr.transA;(Dr||Pr||$r)&&(Ir=mr.getClosest(),Er?(zr=Er.minPointOffset,Kr=Er.pointRangePadding):mr.series.forEach(function(so){let po=Pr?1:Dr?Qo(so.options.pointRange,Ir,0):mr.axisPointRange||0,go=so.options.pointPlacement;if($r=Math.max($r,po),!mr.single||Pr){let _o=so.is("xrange")?!Dr:Dr;zr=Math.max(zr,_o&&ho(go)?0:po/2),Kr=Math.max(Kr,_o&&go==="on"?0:po)}}),eo=mr.ordinal?.slope&&Ir?mr.ordinal.slope/Ir:1,mr.minPointOffset=zr*=eo,mr.pointRangePadding=Kr*=eo,mr.pointRange=Math.min($r,mr.single&&Pr?1:br),Dr&&(mr.closestPointRange=Ir)),mr.translationSlope=mr.transA=Zr=mr.staticScale||mr.len/(br+Kr||1),mr.transB=mr.horiz?mr.left:mr.bottom,mr.minPixelPadding=Zr*zr,Mu(this,"afterSetAxisTranslation")}minFromRange(){let{max:mr,min:br}=this;return Qr(mr)&&Qr(br)&&mr-br||void 0}setTickInterval(mr){let{categories:br,chart:Er,dataMax:Pr,dataMin:Dr,dateTime:$r,isXAxis:Ir,logarithmic:zr,options:Kr,softThreshold:eo}=this,Zr=Er.time,so=Qr(this.threshold)?this.threshold:void 0,po=this.minRange||0,{ceiling:go,floor:_o,linkedTo:vo,softMax:yo,softMin:Do}=Kr,Mo=Qr(vo)&&Er[this.coll]?.[vo],Io=Kr.tickPixelInterval,Yo=Kr.maxPadding,Xo=Kr.minPadding,qo=0,Wo,xl=Qr(Kr.tickInterval)&&Kr.tickInterval>=0?Kr.tickInterval:void 0,vl,yl,Fl,Zl;if($r||br||Mo||this.getTickAmount(),Fl=Qo(this.userMin,Zr.parse(Kr.min)),Zl=Qo(this.userMax,Zr.parse(Kr.max)),Mo?(this.linkedParent=Mo,Wo=Mo.getExtremes(),this.min=Qo(Wo.min,Wo.dataMin),this.max=Qo(Wo.max,Wo.dataMax),this.type!==Mo.type&&Uf(11,!0,Er)):(eo&&ju(so)&&Qr(Pr)&&Qr(Dr)&&(Dr>=so?(vl=so,Xo=0):Pr<=so&&(yl=so,Yo=0)),this.min=Qo(Fl,vl,Dr),this.max=Qo(Zl,yl,Pr)),Qr(this.max)&&Qr(this.min)&&(zr&&(this.positiveValuesOnly&&!mr&&0>=Math.min(this.min,Qo(Dr,this.min))&&Uf(10,!0,Er),this.min=Vu(zr.log2lin(this.min),16),this.max=Vu(zr.log2lin(this.max),16)),this.range&&Qr(Dr)&&(this.userMin=this.min=Fl=Math.max(Dr,this.minFromRange()||0),this.userMax=Zl=this.max,this.range=void 0)),Mu(this,"foundExtremes"),this.adjustForMinRange(),Qr(this.min)&&Qr(this.max)){if(!Qr(this.userMin)&&Qr(Do)&&Do<this.min&&(this.min=Fl=Do),!Qr(this.userMax)&&Qr(yo)&&yo>this.max&&(this.max=Zl=yo),br||this.axisPointRange||this.stacking?.usePercentage||Mo||(qo=this.max-this.min)&&(!ju(Fl)&&Xo&&(this.min-=qo*Xo),!ju(Zl)&&Yo&&(this.max+=qo*Yo)),!Qr(this.userMin)&&Qr(_o)&&(this.min=Math.max(this.min,_o)),!Qr(this.userMax)&&Qr(go)&&(this.max=Math.min(this.max,go)),eo&&Qr(Dr)&&Qr(Pr)){let Ll=so||0;!ju(Fl)&&this.min<Ll&&Dr>=Ll?this.min=Kr.minRange?Math.min(Ll,this.max-po):Ll:!ju(Zl)&&this.max>Ll&&Pr<=Ll&&(this.max=Kr.minRange?Math.max(Ll,this.min+po):Ll)}!Er.polar&&this.min>this.max&&(ju(Kr.min)?this.max=this.min:ju(Kr.max)&&(this.min=this.max)),qo=this.max-this.min}if(this.min!==this.max&&Qr(this.min)&&Qr(this.max)?Mo&&!xl&&Io===Mo.options.tickPixelInterval?this.tickInterval=xl=Mo.tickInterval:this.tickInterval=Qo(xl,this.tickAmount?qo/Math.max(this.tickAmount-1,1):void 0,br?1:qo*Io/Math.max(this.len,Io)):this.tickInterval=1,Ir&&!mr){let Ll=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Gl){Gl.forceCrop=Gl.forceCropping?.(),Gl.processData(Ll)}),Mu(this,"postProcessData",{hasExtremesChanged:Ll})}this.setAxisTranslation(),Mu(this,"initialAxisTranslation"),this.pointRange&&!xl&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Jl=Qo(Kr.minTickInterval,$r&&!this.series.some(Ll=>!Ll.sorted)?this.closestPointRange:0);!xl&&Jl&&this.tickInterval<Jl&&(this.tickInterval=Jl),$r||zr||xl||(this.tickInterval=lh(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let mr=this.options,br=mr.tickPositions,Er=mr.tickPositioner,Pr=this.getMinorTickInterval(),Dr=!this.isPanning,$r=Dr&&mr.startOnTick,Ir=Dr&&mr.endOnTick,zr=[],Kr;if(this.tickmarkOffset=this.categories&&mr.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&ju(this.min)&&!this.tickAmount&&(this.min%1==0||mr.allowDecimals!==!1),br)zr=br.slice();else if(Qr(this.min)&&Qr(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))zr=[this.min,this.max],Uf(19,!1,this.chart);else if(this.dateTime)zr=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,mr.units),this.min,this.max,mr.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)zr=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let eo=this.tickInterval,Zr=eo;for(;Zr<=2*eo&&(zr=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&zr.length>this.tickAmount);)this.tickInterval=lh(this,Zr*=1.1)}zr.length>this.len&&(zr=[zr[0],zr[zr.length-1]])[0]===zr[1]&&(zr.length=1),Er&&(this.tickPositions=zr,(Kr=Er.apply(this,[this.min,this.max]))&&(zr=Kr))}this.tickPositions=zr,this.minorTickInterval=Pr==="auto"&&this.tickInterval?this.tickInterval/mr.minorTicksPerMajor:Pr,this.paddedTicks=zr.slice(0),this.trimTicks(zr,$r,Ir),!this.isLinked&&Qr(this.min)&&Qr(this.max)&&(this.single&&zr.length<2&&!this.categories&&!this.series.some(eo=>eo.is("heatmap")&&eo.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),br||Kr||this.adjustTickAmount()),Mu(this,"afterSetTickPositions")}trimTicks(mr,br,Er){let Pr=mr[0],Dr=mr[mr.length-1],$r=!this.isOrdinal&&this.minPointOffset||0;if(Mu(this,"trimTicks"),!this.isLinked||!this.grid){if(br&&Pr!==-1/0)this.min=Pr;else for(;this.min-$r>mr[0];)mr.shift();if(Er)this.max=Dr;else for(;this.max+$r<mr[mr.length-1];)mr.pop();mr.length===0&&ju(Pr)&&!this.options.tickPositions&&mr.push((Dr+Pr)/2)}}alignToOthers(){let mr,br=this,Er=br.chart,Pr=[this],Dr=br.options,$r=Er.options.chart,Ir=this.coll==="yAxis"&&$r.alignThresholds,zr=[];if(br.thresholdAlignment=void 0,($r.alignTicks!==!1&&Dr.alignTicks||Ir)&&Dr.startOnTick!==!1&&Dr.endOnTick!==!1&&!br.logarithmic){let Kr=Zr=>{let{horiz:so,options:po}=Zr;return[so?po.left:po.top,po.width,po.height,po.pane].join(",")},eo=Kr(this);Er[this.coll].forEach(function(Zr){let{series:so}=Zr;so.length&&so.some(po=>po.visible)&&Zr!==br&&Kr(Zr)===eo&&(mr=!0,Pr.push(Zr))})}if(mr&&Ir){Pr.forEach(eo=>{let Zr=eo.getThresholdAlignment(br);Qr(Zr)&&zr.push(Zr)});let Kr=zr.length>1?zr.reduce((eo,Zr)=>eo+=Zr,0)/zr.length:void 0;Pr.forEach(eo=>{eo.thresholdAlignment=Kr})}return mr}getThresholdAlignment(mr){if((!Qr(this.dataMin)||this!==mr&&this.series.some(br=>br.isDirty||br.isDirtyData))&&this.getSeriesExtremes(),Qr(this.threshold)){let br=Hd((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(br=1-br),br}}getTickAmount(){let mr=this.options,br=mr.tickPixelInterval,Er=mr.tickAmount;ju(mr.tickInterval)||Er||!(this.len<br)||this.isRadial||this.logarithmic||!mr.startOnTick||!mr.endOnTick||(Er=2),!Er&&this.alignToOthers()&&(Er=Math.ceil(this.len/br)+1),Er<4&&(this.finalTickAmt=Er,Er=5),this.tickAmount=Er}adjustTickAmount(){let mr=this,{finalTickAmt:br,max:Er,min:Pr,options:Dr,tickPositions:$r,tickAmount:Ir,thresholdAlignment:zr}=mr,Kr=$r?.length,eo=Qo(mr.threshold,mr.softThreshold?0:null),Zr,so,po=mr.tickInterval,go,_o=()=>$r.push(Vu($r[$r.length-1]+po)),vo=()=>$r.unshift(Vu($r[0]-po));if(Qr(zr)&&(go=zr<.5?Math.ceil(zr*(Ir-1)):Math.floor(zr*(Ir-1)),Dr.reversed&&(go=Ir-1-go)),mr.hasData()&&Qr(Pr)&&Qr(Er)){let yo=()=>{mr.transA*=(Kr-1)/(Ir-1),mr.min=Dr.startOnTick?$r[0]:Math.min(Pr,$r[0]),mr.max=Dr.endOnTick?$r[$r.length-1]:Math.max(Er,$r[$r.length-1])};if(Qr(go)&&Qr(mr.threshold)){for(;$r[go]!==eo||$r.length!==Ir||$r[0]>Pr||$r[$r.length-1]<Er;){for($r.length=0,$r.push(mr.threshold);$r.length<Ir;)$r[go]===void 0||$r[go]>mr.threshold?vo():_o();if(po>8*mr.tickInterval)break;po*=2}yo()}else if(Kr<Ir){for(;$r.length<Ir;)$r.length%2||Pr===eo?_o():vo();yo()}if(ju(br)){for(so=Zr=$r.length;so--;)(br===3&&so%2==1||br<=2&&so>0&&so<Zr-1)&&$r.splice(so,1);mr.finalTickAmt=void 0}}}setScale(){let{coll:mr,stacking:br}=this,Er=!1,Pr=!1;this.series.forEach($r=>{Er=Er||$r.isDirtyData||$r.isDirty,Pr=Pr||$r.xAxis?.isDirty||!1}),this.setAxisSize();let Dr=this.len!==this.old?.len;Dr||Er||Pr||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(br&&mr==="yAxis"&&br.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),br&&mr==="xAxis"&&br.buildStacks(),this.isDirty||(this.isDirty=Dr||this.min!==this.old?.min||this.max!==this.old?.max)):br&&br.cleanStacks(),Er&&delete this.allExtremes,Mu(this,"afterSetScale")}setExtremes(mr,br,Er=!0,Pr,Dr){let $r=this.chart;this.series.forEach(Ir=>{delete Ir.kdTree}),mr=$r.time.parse(mr),br=$r.time.parse(br),Mu(this,"setExtremes",Dr=Yf(Dr,{min:mr,max:br}),Ir=>{this.userMin=Ir.min,this.userMax=Ir.max,this.eventArgs=Ir,Er&&$r.redraw(Pr)})}setAxisSize(){let mr=this.chart,br=this.options,Er=br.offsets||[0,0,0,0],Pr=this.horiz,Dr=this.width=Math.round(Sl(Qo(br.width,mr.plotWidth-Er[3]+Er[1]),mr.plotWidth)),$r=this.height=Math.round(Sl(Qo(br.height,mr.plotHeight-Er[0]+Er[2]),mr.plotHeight)),Ir=this.top=Math.round(Sl(Qo(br.top,mr.plotTop+Er[0]),mr.plotHeight,mr.plotTop)),zr=this.left=Math.round(Sl(Qo(br.left,mr.plotLeft+Er[3]),mr.plotWidth,mr.plotLeft));this.bottom=mr.chartHeight-$r-Ir,this.right=mr.chartWidth-Dr-zr,this.len=Math.max(Pr?Dr:$r,0),this.pos=Pr?zr:Ir}getExtremes(){let mr=this.logarithmic;return{min:mr?Vu(mr.lin2log(this.min)):this.min,max:mr?Vu(mr.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(mr){let br=this.logarithmic,Er=br?br.lin2log(this.min):this.min,Pr=br?br.lin2log(this.max):this.max;return mr===null||mr===-1/0?mr=Er:mr===1/0?mr=Pr:Er>mr?mr=Er:Pr<mr&&(mr=Pr),this.translate(mr,0,1,0,1)}autoLabelAlign(mr){let br=(Qo(mr,0)-90*this.side+720)%360,Er={align:"center"};return Mu(this,"autoLabelAlign",Er,function(Pr){br>15&&br<165?Pr.align="right":br>195&&br<345&&(Pr.align="left")}),Er.align}tickSize(mr){let br=this.options,Er=Qo(br[mr==="tick"?"tickWidth":"minorTickWidth"],mr==="tick"&&this.isXAxis&&!this.categories?1:0),Pr=br[mr==="tick"?"tickLength":"minorTickLength"],Dr;Er&&Pr&&(br[mr+"Position"]==="inside"&&(Pr=-Pr),Dr=[Pr,Er]);let $r={tickSize:Dr};return Mu(this,"afterTickSize",$r),$r.tickSize}labelMetrics(){let mr=this.chart.renderer,br=this.ticks,Er=br[Object.keys(br)[0]]||{};return this.chart.renderer.fontMetrics(Er.label||Er.movedLabel||mr.box)}unsquish(){let mr=this.options.labels,br=mr.padding||0,Er=this.horiz,Pr=this.tickInterval,Dr=this.len/((+!!this.categories+this.max-this.min)/Pr),$r=mr.rotation,Ir=Vu(.8*this.labelMetrics().h),zr=Math.max(this.max-this.min,0),Kr=function(go){let _o=(go+2*br)/(Dr||1);return(_o=_o>1?Math.ceil(_o):1)*Pr>zr&&go!==1/0&&Dr!==1/0&&zr&&(_o=Math.ceil(zr/Pr)),Vu(_o*Pr)},eo=Pr,Zr,so=Number.MAX_VALUE,po;if(Er){if(!mr.staggerLines&&(Qr($r)?po=[$r]:Dr<mr.autoRotationLimit&&(po=mr.autoRotation)),po){let go,_o;for(let vo of po)(vo===$r||vo&&vo>=-90&&vo<=90)&&(_o=(go=Kr(Math.abs(Ir/Math.sin(Cf*vo))))+Math.abs(vo/360))<so&&(so=_o,Zr=vo,eo=go)}}else eo=Kr(.75*Ir);return this.autoRotation=po,this.labelRotation=Qo(Zr,Qr($r)?$r:0),mr.step?Pr:eo}getSlotWidth(mr){let br=this.chart,Er=this.horiz,Pr=this.options.labels,Dr=Math.max(this.tickPositions.length-!this.categories,1),$r=br.margin[3];if(mr&&Qr(mr.slotWidth))return mr.slotWidth;if(Er&&Pr.step<2&&!this.isRadial)return Pr.rotation?0:(this.staggerLines||1)*this.len/Dr;if(!Er){let Ir=Pr.style.width;if(Ir!==void 0)return parseInt(String(Ir),10);if(!this.opposite&&$r)return $r-br.spacing[3]}return .33*br.chartWidth}renderUnsquish(){let mr=this.chart,br=mr.renderer,Er=this.tickPositions,Pr=this.ticks,Dr=this.options.labels,$r=Dr.style,Ir=this.horiz,zr=this.getSlotWidth(),Kr=Math.max(1,Math.round(zr-(Ir?2*(Dr.padding||0):Dr.distance||0))),eo={},Zr=this.labelMetrics(),so=$r.lineClamp,po,go=so??(Math.floor(this.len/(Er.length*Zr.h))||1),_o=0;ho(Dr.rotation)||(eo.rotation=Dr.rotation||0),Er.forEach(function(vo){let yo=Pr[vo];yo.movedLabel&&yo.replaceMovedLabel();let Do=yo.label?.textPxLength||0;Do>_o&&(_o=Do)}),this.maxLabelLength=_o,this.autoRotation?_o>Kr&&_o>Zr.h?eo.rotation=this.labelRotation:this.labelRotation=0:zr&&(po=Kr),eo.rotation&&(po=_o>.5*mr.chartHeight?.33*mr.chartHeight:_o,so||(go=1)),this.labelAlign=Dr.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(eo.align=this.labelAlign),Er.forEach(function(vo){let yo=Pr[vo],Do=yo?.label,Mo=$r.width,Io={};Do&&(Do.attr(eo),yo.shortenLabel?yo.shortenLabel():po&&!Mo&&$r.whiteSpace!=="nowrap"&&(po<(Do.textPxLength||0)||Do.element.tagName==="SPAN")?Do.css(Yf(Io,{width:`${po}px`,lineClamp:go})):!Do.styles.width||Io.width||Mo||Do.css({width:"auto"}),yo.rotation=eo.rotation)},this),this.tickRotCorr=br.rotCorr(Zr.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(mr){return mr.hasData()})||this.options.showEmpty&&ju(this.min)&&ju(this.max)}addTitle(mr){let br,Er=this.chart.renderer,Pr=this.horiz,Dr=this.opposite,$r=this.options.title,Ir=this.chart.styledMode;this.axisTitle||((br=$r.textAlign)||(br=(Pr?{low:"left",middle:"center",high:"right"}:{low:Dr?"right":"left",middle:"center",high:Dr?"left":"right"})[$r.align]),this.axisTitle=Er.text($r.text||"",0,0,$r.useHTML).attr({zIndex:7,rotation:$r.rotation||0,align:br}).addClass("highcharts-axis-title"),Ir||this.axisTitle.css(jo($r.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),Ir||$r.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[mr?"show":"hide"](mr)}generateTick(mr){let br=this.ticks;br[mr]?br[mr].addLabel():br[mr]=new Oh(this,mr)}createGroups(){let{axisParent:mr,chart:br,coll:Er,options:Pr}=this,Dr=br.renderer,$r=(Ir,zr,Kr)=>Dr.g(Ir).attr({zIndex:Kr}).addClass(`highcharts-${Er.toLowerCase()}${zr} `+(this.isRadial?`highcharts-radial-axis${zr} `:"")+(Pr.className||"")).add(mr);this.axisGroup||(this.gridGroup=$r("grid","-grid",Pr.gridZIndex),this.axisGroup=$r("axis","",Pr.zIndex),this.labelGroup=$r("axis-labels","-labels",Pr.labels.zIndex))}getOffset(){let mr=this,{chart:br,horiz:Er,options:Pr,side:Dr,ticks:$r,tickPositions:Ir,coll:zr}=mr,Kr=br.inverted&&!mr.isZAxis?[1,0,3,2][Dr]:Dr,eo=mr.hasData(),Zr=Pr.title,so=Pr.labels,po=Qr(Pr.crossing),go=br.axisOffset,_o=br.clipOffset,vo=[-1,1,1,-1][Dr],yo,Do=0,Mo,Io=0,Yo=0,Xo,qo;if(mr.showAxis=yo=eo||Pr.showEmpty,mr.staggerLines=mr.horiz&&so.staggerLines||void 0,mr.createGroups(),eo||mr.isLinked?(Ir.forEach(function(Wo){mr.generateTick(Wo)}),mr.renderUnsquish(),mr.reserveSpaceDefault=Dr===0||Dr===2||{1:"left",3:"right"}[Dr]===mr.labelAlign,Qo(so.reserveSpace,!po&&null,mr.labelAlign==="center"||null,mr.reserveSpaceDefault)&&Ir.forEach(function(Wo){Yo=Math.max($r[Wo].getLabelSize(),Yo)}),mr.staggerLines&&(Yo*=mr.staggerLines),mr.labelOffset=Yo*(mr.opposite?-1:1)):tl($r,function(Wo,xl){Wo.destroy(),delete $r[xl]}),Zr?.text&&Zr.enabled!==!1&&(mr.addTitle(yo),yo&&!po&&Zr.reserveSpace!==!1&&(mr.titleOffset=Do=mr.axisTitle.getBBox()[Er?"height":"width"],Io=ju(Mo=Zr.offset)?0:Qo(Zr.margin,Er?5:10))),mr.renderLine(),mr.offset=vo*Qo(Pr.offset,go[Dr]?go[Dr]+(Pr.margin||0):0),mr.tickRotCorr=mr.tickRotCorr||{x:0,y:0},qo=Dr===0?-mr.labelMetrics().h:Dr===2?mr.tickRotCorr.y:0,Xo=Math.abs(Yo)+Io,Yo&&(Xo-=qo,Xo+=vo*(Er?Qo(so.y,mr.tickRotCorr.y+vo*so.distance):Qo(so.x,vo*so.distance))),mr.axisTitleMargin=Qo(Mo,Xo),mr.getMaxLabelDimensions&&(mr.maxLabelDimensions=mr.getMaxLabelDimensions($r,Ir)),zr!=="colorAxis"&&_o){let Wo=this.tickSize("tick");go[Dr]=Math.max(go[Dr],(mr.axisTitleMargin||0)+Do+vo*mr.offset,Xo,Ir?.length&&Wo?Wo[0]+vo*mr.offset:0);let xl=!mr.axisLine||Pr.offset?0:mr.axisLine.strokeWidth()/2;_o[Kr]=Math.max(_o[Kr],xl)}Mu(this,"afterGetOffset")}getLinePath(mr){let br=this.chart,Er=this.opposite,Pr=this.offset,Dr=this.horiz,$r=this.left+(Er?this.width:0)+Pr,Ir=br.chartHeight-this.bottom-(Er?this.height:0)+Pr;return Er&&(mr*=-1),br.renderer.crispLine([["M",Dr?this.left:$r,Dr?Ir:this.top],["L",Dr?br.chartWidth-this.right:$r,Dr?Ir:br.chartHeight-this.bottom]],mr)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(mr){let br=this.horiz,Er=this.left,Pr=this.top,Dr=this.len,$r=this.options.title,Ir=br?Er:Pr,zr=this.opposite,Kr=this.offset,eo=$r.x,Zr=$r.y,so=this.chart.renderer.fontMetrics(mr),po=mr?Math.max(mr.getBBox(!1,0).height-so.h-1,0):0,go={low:Ir+(br?0:Dr),middle:Ir+Dr/2,high:Ir+(br?Dr:0)}[$r.align],_o=(br?Pr+this.height:Er)+(br?1:-1)*(zr?-1:1)*(this.axisTitleMargin||0)+[-po,po,so.f,-po][this.side],vo={x:br?go+eo:_o+(zr?this.width:0)+Kr+eo,y:br?_o+Zr-(zr?this.height:0)+Kr:go+Zr};return Mu(this,"afterGetTitlePosition",{titlePosition:vo}),vo}renderMinorTick(mr,br){let Er=this.minorTicks;Er[mr]||(Er[mr]=new Oh(this,mr,"minor")),br&&Er[mr].isNew&&Er[mr].render(null,!0),Er[mr].render(null,!1,1)}renderTick(mr,br,Er){let Pr=this.isLinked,Dr=this.ticks;(!Pr||mr>=this.min&&mr<=this.max||this.grid?.isColumn)&&(Dr[mr]||(Dr[mr]=new Oh(this,mr)),Er&&Dr[mr].isNew&&Dr[mr].render(br,!0,-1),Dr[mr].render(br))}render(){let mr,br,Er=this,Pr=Er.chart,Dr=Er.logarithmic,$r=Pr.renderer,Ir=Er.options,zr=Er.isLinked,Kr=Er.tickPositions,eo=Er.axisTitle,Zr=Er.ticks,so=Er.minorTicks,po=Er.alternateBands,go=Ir.stackLabels,_o=Ir.alternateGridColor,vo=Ir.crossing,yo=Er.tickmarkOffset,Do=Er.axisLine,Mo=Er.showAxis,Io=cf($r.globalAnimation);if(Er.labelEdge.length=0,Er.overlap=!1,[Zr,so,po].forEach(function(Yo){tl(Yo,function(Xo){Xo.isActive=!1})}),Qr(vo)){let Yo=this.isXAxis?Pr.yAxis[0]:Pr.xAxis[0],Xo=[1,-1,-1,1][this.side];if(Yo){let qo=Yo.toPixels(vo,!0);Er.horiz&&(qo=Yo.len-qo),Er.offset=Xo*qo}}if(Er.hasData()||zr){let Yo=Er.chart.hasRendered&&Er.old&&Qr(Er.old.min);Er.minorTickInterval&&!Er.categories&&Er.getMinorTickPositions().forEach(function(Xo){Er.renderMinorTick(Xo,Yo)}),Kr.length&&(Kr.forEach(function(Xo,qo){Er.renderTick(Xo,qo,Yo)}),yo&&(Er.min===0||Er.single)&&(Zr[-1]||(Zr[-1]=new Oh(Er,-1,null,!0)),Zr[-1].render(-1))),_o&&Kr.forEach(function(Xo,qo){br=Kr[qo+1]!==void 0?Kr[qo+1]+yo:Er.max-yo,qo%2==0&&Xo<Er.max&&br<=Er.max+(Pr.polar?-yo:yo)&&(po[Xo]||(po[Xo]=new Fr.PlotLineOrBand(Er,{})),mr=Xo+yo,po[Xo].options={from:Dr?Dr.lin2log(mr):mr,to:Dr?Dr.lin2log(br):br,color:_o,className:"highcharts-alternate-grid"},po[Xo].render(),po[Xo].isActive=!0)}),Er._addedPlotLB||(Er._addedPlotLB=!0,(Ir.plotLines||[]).concat(Ir.plotBands||[]).forEach(function(Xo){Er.addPlotBandOrLine(Xo)}))}[Zr,so,po].forEach(function(Yo){let Xo=[],qo=Io.duration;tl(Yo,function(Wo,xl){Wo.isActive||(Wo.render(xl,!1,0),Wo.isActive=!1,Xo.push(xl))}),$c(function(){let Wo=Xo.length;for(;Wo--;)Yo[Xo[Wo]]&&!Yo[Xo[Wo]].isActive&&(Yo[Xo[Wo]].destroy(),delete Yo[Xo[Wo]])},Yo!==po&&Pr.hasRendered&&qo?qo:0)}),Do&&(Do[Do.isPlaced?"animate":"attr"]({d:this.getLinePath(Do.strokeWidth())}),Do.isPlaced=!0,Do[Mo?"show":"hide"](Mo)),eo&&Mo&&(eo[eo.isNew?"attr":"animate"](Er.getTitlePosition(eo)),eo.isNew=!1),go?.enabled&&Er.stacking&&Er.stacking.renderStackTotals(),Er.old={len:Er.len,max:Er.max,min:Er.min,transA:Er.transA,userMax:Er.userMax,userMin:Er.userMin},Er.isDirty=!1,Mu(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(mr){mr.render()})),this.series.forEach(function(mr){mr.isDirty=!0})}getKeepProps(){return this.keepProps||Tu.keepProps}destroy(mr){let br=this,Er=br.plotLinesAndBands,Pr=this.eventOptions;if(Mu(this,"destroy",{keepEvents:mr}),mr||Il(br),[br.ticks,br.minorTicks,br.alternateBands].forEach(function(Dr){rg(Dr)}),Er){let Dr=Er.length;for(;Dr--;)Er[Dr].destroy()}for(let Dr in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function($r){br[$r]&&(br[$r]=br[$r].destroy())}),br.plotLinesAndBandsGroups)br.plotLinesAndBandsGroups[Dr]=br.plotLinesAndBandsGroups[Dr].destroy();tl(br,function(Dr,$r){br.getKeepProps().indexOf($r)===-1&&delete br[$r]}),this.eventOptions=Pr}drawCrosshair(mr,br){let Er=this.crosshair,Pr=Er?.snap??!0,Dr=this.chart,$r,Ir,zr,Kr=this.cross,eo;if(Mu(this,"drawCrosshair",{e:mr,point:br}),mr||(mr=this.cross?.e),Er&&(ju(br)||!Pr)!==!1){if(Pr?ju(br)&&(Ir=Qo(this.coll!=="colorAxis"?br.crosshairPos:null,this.isXAxis?br.plotX:this.len-br.plotY)):Ir=mr&&(this.horiz?mr.chartX-this.pos:this.len-mr.chartY+this.pos),ju(Ir)&&(eo={value:br&&(this.isXAxis?br.x:Qo(br.stackY,br.y)),translatedValue:Ir},Dr.polar&&Yf(eo,{isCrosshair:!0,chartX:mr?.chartX,chartY:mr?.chartY,point:br}),$r=this.getPlotLinePath(eo)||null),!ju($r))return void this.hideCrosshair();zr=this.categories&&!this.isRadial,Kr||(this.cross=Kr=Dr.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(zr?"category ":"thin ")+(Er.className||"")).attr({zIndex:Qo(Er.zIndex,2)}).add(),!Dr.styledMode&&(Kr.attr({stroke:Er.color||(zr?Ul.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Qo(Er.width,1)}).css({"pointer-events":"none"}),Er.dashStyle&&Kr.attr({dashstyle:Er.dashStyle}))),Kr.show().attr({d:$r}),zr&&!Er.width&&Kr.attr({"stroke-width":this.transA}),this.cross.e=mr}else this.hideCrosshair();Mu(this,"afterDrawCrosshair",{e:mr,point:br})}hideCrosshair(){this.cross&&this.cross.hide(),Mu(this,"afterHideCrosshair")}update(mr,br){let Er=this.chart;mr=jo(this.userOptions,mr),this.destroy(!0),this.init(Er,mr),Er.isDirtyBox=!0,Qo(br,!0)&&Er.redraw()}remove(mr){let br=this.chart,Er=this.coll,Pr=this.series,Dr=Pr.length;for(;Dr--;)Pr[Dr]&&Pr[Dr].remove(!1);wp(br.axes,this),wp(br[Er]||[],this),br.orderItems(Er),this.destroy(),br.isDirtyBox=!0,Qo(mr,!0)&&br.redraw()}setTitle(mr,br){this.update({title:mr},br)}setCategories(mr,br){this.update({categories:mr},br)}}Tu.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Lh,getMagnitude:fu,normalizeTickInterval:iu,timeUnits:Xc}=Uo;(function(Ur){function mr(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function br(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new Er(this))}Ur.compose=function(Pr){return Pr.keepProps.includes("dateTime")||(Pr.keepProps.push("dateTime"),Pr.prototype.getTimeTicks=mr,Lh(Pr,"afterSetType",br)),Pr};class Er{constructor(Dr){this.axis=Dr}normalizeTimeTickInterval(Dr,$r){let Ir=$r||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],zr=Ir[Ir.length-1],Kr=Xc[zr[0]],eo=zr[1],Zr;for(Zr=0;Zr<Ir.length&&(Kr=Xc[(zr=Ir[Zr])[0]],eo=zr[1],!Ir[Zr+1]||!(Dr<=(Kr*eo[eo.length-1]+Xc[Ir[Zr+1][0]])/2));Zr++);Kr===Xc.year&&Dr<5*Kr&&(eo=[1,2,5]);let so=iu(Dr/Kr,eo,zr[0]==="year"?Math.max(fu(Dr/Kr),1):1);return{unitRange:Kr,count:so,unitName:zr[0]}}getXDateFormat(Dr,$r){let{axis:Ir}=this,zr=Ir.chart.time;return Ir.closestPointRange?zr.getDateFormat(Ir.closestPointRange,Dr,Ir.options.startOfWeek,$r)||zr.resolveDTLFormat($r.year).main:zr.resolveDTLFormat($r.day).main}}Ur.Additions=Er})(lr||(lr={}));let Ep=lr,{addEvent:Ad,normalizeTickInterval:Og,pick:Sp}=Uo;(function(Ur){function mr(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new Er(this))}function br(){let Pr=this.logarithmic;Pr&&(this.lin2val=function(Dr){return Pr.lin2log(Dr)},this.val2lin=function(Dr){return Pr.log2lin(Dr)})}Ur.compose=function(Pr){return Pr.keepProps.includes("logarithmic")||(Pr.keepProps.push("logarithmic"),Ad(Pr,"afterSetType",mr),Ad(Pr,"afterInit",br)),Pr};class Er{constructor(Dr){this.axis=Dr}getLogTickPositions(Dr,$r,Ir,zr){let Kr=this.axis,eo=Kr.len,Zr=Kr.options,so=[];if(zr||(this.minorAutoInterval=void 0),Dr>=.5)Dr=Math.round(Dr),so=Kr.getLinearTickPositions(Dr,$r,Ir);else if(Dr>=.08){let po,go,_o,vo,yo,Do,Mo,Io=Math.floor($r);for(po=Dr>.3?[1,2,4]:Dr>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],go=Io;go<Ir+1&&!Mo;go++)for(_o=0,vo=po.length;_o<vo&&!Mo;_o++)(yo=this.log2lin(this.lin2log(go)*po[_o]))>$r&&(!zr||Do<=Ir)&&Do!==void 0&&so.push(Do),Do>Ir&&(Mo=!0),Do=yo}else{let po=this.lin2log($r),go=this.lin2log(Ir),_o=zr?Kr.getMinorTickInterval():Zr.tickInterval,vo=Zr.tickPixelInterval/(zr?5:1),yo=zr?eo/Kr.tickPositions.length:eo;Dr=Og(Dr=Sp(_o==="auto"?null:_o,this.minorAutoInterval,(go-po)*vo/(yo||1))),so=Kr.getLinearTickPositions(Dr,po,go).map(this.log2lin),zr||(this.minorAutoInterval=Dr/5)}return zr||(Kr.tickInterval=Dr),so}lin2log(Dr){return Math.pow(10,Dr)}log2lin(Dr){return Math.log(Dr)/Math.LN10}}Ur.Additions=Er})(cr||(cr={}));let Em=cr,{erase:Uu,extend:kf,isNumber:ko}=Uo;(function(Ur){let mr;function br(Kr){return this.addPlotBandOrLine(Kr,"plotBands")}function Er(Kr,eo){let Zr=this.userOptions,so=new mr(this,Kr);if(this.visible&&(so=so.render()),so){if(this._addedPlotLB||(this._addedPlotLB=!0,(Zr.plotLines||[]).concat(Zr.plotBands||[]).forEach(po=>{this.addPlotBandOrLine(po)})),eo){let po=Zr[eo]||[];po.push(Kr),Zr[eo]=po}this.plotLinesAndBands.push(so)}return so}function Pr(Kr){return this.addPlotBandOrLine(Kr,"plotLines")}function Dr(Kr,eo,Zr){Zr=Zr||this.options;let so=this.getPlotLinePath({value:eo,force:!0,acrossPanes:Zr.acrossPanes}),po=[],go=this.horiz,_o=!ko(this.min)||!ko(this.max)||Kr<this.min&&eo<this.min||Kr>this.max&&eo>this.max,vo=this.getPlotLinePath({value:Kr,force:!0,acrossPanes:Zr.acrossPanes}),yo,Do=1,Mo;if(vo&&so)for(_o&&(Mo=vo.toString()===so.toString(),Do=0),yo=0;yo<vo.length;yo+=2){let Io=vo[yo],Yo=vo[yo+1],Xo=so[yo],qo=so[yo+1];(Io[0]==="M"||Io[0]==="L")&&(Yo[0]==="M"||Yo[0]==="L")&&(Xo[0]==="M"||Xo[0]==="L")&&(qo[0]==="M"||qo[0]==="L")&&(go&&Xo[1]===Io[1]?(Xo[1]+=Do,qo[1]+=Do):go||Xo[2]!==Io[2]||(Xo[2]+=Do,qo[2]+=Do),po.push(["M",Io[1],Io[2]],["L",Yo[1],Yo[2]],["L",qo[1],qo[2]],["L",Xo[1],Xo[2]],["Z"])),po.isFlat=Mo}return po}function $r(Kr){this.removePlotBandOrLine(Kr)}function Ir(Kr){let eo=this.plotLinesAndBands,Zr=this.options,so=this.userOptions;if(eo){let po=eo.length;for(;po--;)eo[po].id===Kr&&eo[po].destroy();[Zr.plotLines||[],so.plotLines||[],Zr.plotBands||[],so.plotBands||[]].forEach(function(go){for(po=go.length;po--;)go[po]?.id===Kr&&Uu(go,go[po])})}}function zr(Kr){this.removePlotBandOrLine(Kr)}Ur.compose=function(Kr,eo){let Zr=eo.prototype;return Zr.addPlotBand||(mr=Kr,kf(Zr,{addPlotBand:br,addPlotLine:Pr,addPlotBandOrLine:Er,getPlotBandPath:Dr,removePlotBand:$r,removePlotLine:zr,removePlotBandOrLine:Ir})),eo}})(ur||(ur={}));let jp=ur,{addEvent:Rp,arrayMax:$h,arrayMin:Ac,defined:Dh,destroyObjectProperties:Sm,erase:Yp,fireEvent:Xp,merge:ly,objectEach:Lg,pick:cy}=Uo;class Cp{static compose(mr,br){return Rp(mr,"afterInit",function(){this.labelCollectors.push(()=>{let Er=[];for(let Pr of this.axes)for(let{label:Dr,options:$r}of Pr.plotLinesAndBands)Dr&&!$r?.label?.allowOverlap&&Er.push(Dr);return Er})}),jp.compose(Cp,br)}constructor(mr,br){this.axis=mr,this.options=br,this.id=br.id}render(){Xp(this,"render");let{axis:mr,options:br}=this,{horiz:Er,logarithmic:Pr}=mr,{color:Dr,events:$r,zIndex:Ir=0}=br,{renderer:zr,time:Kr}=mr.chart,eo={},Zr=Kr.parse(br.to),so=Kr.parse(br.from),po=Kr.parse(br.value),go=br.borderWidth,_o=br.label,{label:vo,svgElem:yo}=this,Do=[],Mo,Io=Dh(so)&&Dh(Zr),Yo=Dh(po),Xo=!yo,qo={class:"highcharts-plot-"+(Io?"band ":"line ")+(br.className||"")},Wo=Io?"bands":"lines";if(!mr.chart.styledMode&&(Yo?(qo.stroke=Dr||"#999999",qo["stroke-width"]=cy(br.width,1),br.dashStyle&&(qo.dashstyle=br.dashStyle)):Io&&(qo.fill=Dr||"#e6e9ff",go&&(qo.stroke=br.borderColor,qo["stroke-width"]=go))),eo.zIndex=Ir,Wo+="-"+Ir,(Mo=mr.plotLinesAndBandsGroups[Wo])||(mr.plotLinesAndBandsGroups[Wo]=Mo=zr.g("plot-"+Wo).attr(eo).add()),yo||(this.svgElem=yo=zr.path().attr(qo).add(Mo)),Dh(po))Do=mr.getPlotLinePath({value:Pr?.log2lin(po)??po,lineWidth:yo.strokeWidth(),acrossPanes:br.acrossPanes});else{if(!(Dh(so)&&Dh(Zr)))return;Do=mr.getPlotBandPath(Pr?.log2lin(so)??so,Pr?.log2lin(Zr)??Zr,br)}return!this.eventsAdded&&$r&&(Lg($r,(xl,vl)=>{yo?.on(vl,yl=>{$r[vl].apply(this,[yl])})}),this.eventsAdded=!0),(Xo||!yo.d)&&Do?.length?yo.attr({d:Do}):yo&&(Do?(yo.show(),yo.animate({d:Do})):yo.d&&(yo.hide(),vo&&(this.label=vo=vo.destroy()))),_o&&(Dh(_o.text)||Dh(_o.formatter))&&Do?.length&&mr.width>0&&mr.height>0&&!Do.isFlat?(_o=ly({align:Er&&Io?"center":void 0,x:Er?!Io&&4:10,verticalAlign:!Er&&Io?"middle":void 0,y:Er?Io?16:10:Io?6:-4,rotation:Er&&!Io?90:0,...Io?{inside:!0}:{}},_o),this.renderLabel(_o,Do,Io,Ir)):vo&&vo.hide(),this}renderLabel(mr,br,Er,Pr){let Dr=this.axis,$r=Dr.chart.renderer,Ir=mr.inside,zr=this.label;zr||(this.label=zr=$r.text(this.getLabelText(mr),0,0,mr.useHTML).attr({align:mr.textAlign||mr.align,rotation:mr.rotation,class:"highcharts-plot-"+(Er?"band":"line")+"-label "+(mr.className||""),zIndex:Pr}),Dr.chart.styledMode||zr.css(ly({color:Dr.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:Er&&!Ir?"":"ellipsis"},mr.style)),zr.add());let Kr=br.xBounds||[br[0][1],br[1][1],Er?br[2][1]:br[0][1]],eo=br.yBounds||[br[0][2],br[1][2],Er?br[2][2]:br[0][2]],Zr=Ac(Kr),so=Ac(eo),po=$h(Kr)-Zr;zr.align(mr,!1,{x:Zr,y:so,width:po,height:$h(eo)-so}),zr.alignAttr.y-=$r.fontMetrics(zr).b,(!zr.alignValue||zr.alignValue==="left"||Dh(Ir))&&zr.css({width:(mr.style?.width||(Er&&Ir?po:zr.rotation===90?Dr.height-(zr.alignAttr.y-Dr.top):(mr.clip?Dr.width:Dr.chart.chartWidth)-(zr.alignAttr.x-Dr.left)))+"px"}),zr.show(!0)}getLabelText(mr){return Dh(mr.formatter)?mr.formatter.call(this):mr.text}destroy(){Yp(this.axis.plotLinesAndBands,this),delete this.axis,Sm(this)}}let{animObject:ed}=Gc,{format:uf}=Ro,{composed:tb,dateFormats:qb,doc:nb,isSafari:Kb}=Fr,{distribute:Mh}=wc,{addEvent:Xf,clamp:kp,css:$g,discardElement:dv,extend:Ig,fireEvent:jm,getAlignFactor:Rm,isArray:ib,isNumber:Zb,isObject:Af,isString:qp,merge:fv,pick:Kp,pushUnique:rb,splat:Cm,syncTimeout:uy}=Uo;class sg{constructor(mr,br,Er){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=mr,this.init(mr,br),this.pointer=Er}bodyFormatter(mr){return mr.map(br=>{let Er=br.series.tooltipOptions,Pr=br.formatPrefix||"point";return(Er[Pr+"Formatter"]||br.tooltipFormatter).call(br,Er[Pr+"Format"]||"")})}cleanSplit(mr){this.chart.series.forEach(function(br){let Er=br?.tt;Er&&(!Er.isActive||mr?br.tt=Er.destroy():Er.isActive=!1)})}defaultFormatter(mr){let br,Er=this.points||Cm(this);return(br=(br=[mr.headerFooterFormatter(Er[0])]).concat(mr.bodyFormatter(Er))).push(mr.headerFooterFormatter(Er[0],!0)),br}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),dv(this.container)),Uo.clearTimeout(this.hideTimer)}getAnchor(mr,br){let Er,{chart:Pr,pointer:Dr}=this,$r=Pr.inverted,Ir=Pr.plotTop,zr=Pr.plotLeft;if(mr=Cm(mr),mr[0].series?.yAxis&&!mr[0].series.yAxis.options.reversedStacks&&(mr=mr.slice().reverse()),this.followPointer&&br)br.chartX===void 0&&(br=Dr.normalize(br)),Er=[br.chartX-zr,br.chartY-Ir];else if(mr[0].tooltipPos)Er=mr[0].tooltipPos;else{let eo=0,Zr=0;mr.forEach(function(so){let po=so.pos(!0);po&&(eo+=po[0],Zr+=po[1])}),eo/=mr.length,Zr/=mr.length,this.shared&&mr.length>1&&br&&($r?eo=br.chartX:Zr=br.chartY),Er=[eo-zr,Zr-Ir]}let Kr={point:mr[0],ret:Er};return jm(this,"getAnchor",Kr),Kr.ret.map(Math.round)}getClassName(mr,br,Er){let Pr=this.options,Dr=mr.series,$r=Dr.options;return[Pr.className,"highcharts-label",Er&&"highcharts-tooltip-header",br?"highcharts-tooltip-box":"highcharts-tooltip",!Er&&"highcharts-color-"+Kp(mr.colorIndex,Dr.colorIndex),$r?.className].filter(qp).join(" ")}getLabel({anchorX:mr,anchorY:br}={anchorX:0,anchorY:0}){let Er=this,Pr=this.chart.styledMode,Dr=this.options,$r=this.split&&this.allowShared,Ir=this.container,zr=this.chart.renderer;if(this.label){let Kr=!this.label.hasClass("highcharts-label");(!$r&&Kr||$r&&!Kr)&&this.destroy()}if(!this.label){if(this.outside){let Kr=this.chart,eo=Kr.options.chart.style,Zr=No.getRendererType();this.container=Ir=Fr.doc.createElement("div"),Ir.className="highcharts-tooltip-container "+(Kr.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),$g(Ir,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(eo?.zIndex||0)+3)}),this.renderer=zr=new Zr(Ir,0,0,eo,void 0,void 0,zr.styledMode)}if($r?this.label=zr.g("tooltip"):(this.label=zr.label("",mr,br,Dr.shape||"callout",void 0,void 0,Dr.useHTML,void 0,"tooltip").attr({padding:Dr.padding,r:Dr.borderRadius}),Pr||this.label.attr({fill:Dr.backgroundColor,"stroke-width":Dr.borderWidth||0}).css(Dr.style).css({pointerEvents:Dr.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),Er.outside){let Kr=this.label;[Kr.xSetter,Kr.ySetter].forEach((eo,Zr)=>{Kr[Zr?"ySetter":"xSetter"]=so=>{eo.call(Kr,Er.distance),Kr[Zr?"y":"x"]=so,Ir&&(Ir.style[Zr?"top":"left"]=`${so}px`)}})}this.label.attr({zIndex:8}).shadow(Dr.shadow??!Dr.fixed).add()}return Ir&&!Ir.parentElement&&Fr.doc.body.appendChild(Ir),this.label}getPlayingField(){let{body:mr,documentElement:br}=nb,{chart:Er,distance:Pr,outside:Dr}=this;return{width:Dr?Math.max(mr.scrollWidth,br.scrollWidth,mr.offsetWidth,br.offsetWidth,br.clientWidth)-2*Pr-2:Er.chartWidth,height:Dr?Math.max(mr.scrollHeight,br.scrollHeight,mr.offsetHeight,br.offsetHeight,br.clientHeight):Er.chartHeight}}getPosition(mr,br,Er){let{distance:Pr,chart:Dr,outside:$r,pointer:Ir}=this,{inverted:zr,plotLeft:Kr,plotTop:eo,polar:Zr}=Dr,{plotX:so=0,plotY:po=0}=Er,go={},_o=zr&&Er.h||0,{height:vo,width:yo}=this.getPlayingField(),Do=Ir.getChartPosition(),Mo=Ll=>Ll*Do.scaleX,Io=Ll=>Ll*Do.scaleY,Yo=Ll=>{let Gl=Ll==="x";return[Ll,Gl?yo:vo,Gl?mr:br].concat($r?[Gl?Mo(mr):Io(br),Gl?Do.left-Pr+Mo(so+Kr):Do.top-Pr+Io(po+eo),0,Gl?yo:vo]:[Gl?mr:br,Gl?so+Kr:po+eo,Gl?Kr:eo,Gl?Kr+Dr.plotWidth:eo+Dr.plotHeight])},Xo=Yo("y"),qo=Yo("x"),Wo,xl=!!Er.negative;!Zr&&Dr.hoverSeries?.yAxis?.reversed&&(xl=!xl);let vl=!this.followPointer&&Kp(Er.ttBelow,!Zr&&!zr===xl),yl=function(Ll,Gl,Ql,Hc,Tc,ad,yc){let xc=$r?Ll==="y"?Io(Pr):Mo(Pr):Pr,mu=(Ql-Hc)/2,Wc=Hc<Tc-Pr,Bu=Tc+Pr+Hc<Gl,cu=Tc-xc-Ql+mu,zl=Tc+xc-mu;if(vl&&Bu)go[Ll]=zl;else if(!vl&&Wc)go[Ll]=cu;else if(Wc)go[Ll]=Math.min(yc-Hc,cu-_o<0?cu:cu-_o);else{if(!Bu)return go[Ll]=0,!1;go[Ll]=Math.max(ad,zl+_o+Ql>Gl?zl:zl+_o)}},Fl=function(Ll,Gl,Ql,Hc,Tc){if(Tc<Pr||Tc>Gl-Pr)return!1;Tc<Ql/2?go[Ll]=1:Tc>Gl-Hc/2?go[Ll]=Gl-Hc-2:go[Ll]=Tc-Ql/2},Zl=function(Ll){[Xo,qo]=[qo,Xo],Wo=Ll},Jl=()=>{yl.apply(0,Xo)!==!1?Fl.apply(0,qo)!==!1||Wo||(Zl(!0),Jl()):Wo?go.x=go.y=0:(Zl(!0),Jl())};return(zr&&!Zr||this.len>1)&&Zl(),Jl(),go}getFixedPosition(mr,br,Er){let Pr=Er.series,{chart:Dr,options:$r,split:Ir}=this,zr=$r.position,Kr=zr.relativeTo,eo=$r.shared||Pr?.yAxis?.isRadial&&(Kr==="pane"||!Kr)?"plotBox":Kr,Zr=eo==="chart"?Dr.renderer:Dr[eo]||Dr.getClipBox(Pr,!0);return{x:Zr.x+(Zr.width-mr)*Rm(zr.align)+zr.x,y:Zr.y+(Zr.height-br)*Rm(zr.verticalAlign)+(!Ir&&zr.y||0)}}hide(mr){let br=this;Uo.clearTimeout(this.hideTimer),mr=Kp(mr,this.options.hideDelay),this.isHidden||(this.hideTimer=uy(function(){let Er=br.getLabel();br.getLabel().animate({opacity:0},{duration:mr&&150,complete:()=>{Er.hide(),br.container&&br.container.remove()}}),br.isHidden=!0},mr))}init(mr,br){this.chart=mr,this.options=br,this.crosshairs=[],this.isHidden=!0,this.split=br.split&&!mr.inverted&&!mr.polar,this.shared=br.shared||this.split,this.outside=Kp(br.outside,!!(mr.scrollablePixelsX||mr.scrollablePixelsY))}shouldStickOnContact(mr){return!!(!this.followPointer&&this.options.stickOnContact&&(!mr||this.pointer.inClass(mr.target,"highcharts-tooltip")))}move(mr,br,Er,Pr){let{followPointer:Dr,options:$r}=this,Ir=ed(!Dr&&!this.isHidden&&!$r.fixed&&$r.animation),zr=Dr||(this.len||0)>1,Kr={x:mr,y:br};zr?Kr.anchorX=Kr.anchorY=NaN:(Kr.anchorX=Er,Kr.anchorY=Pr),Ir.step=()=>this.drawTracker(),this.getLabel().animate(Kr,Ir)}refresh(mr,br){let{chart:Er,options:Pr,pointer:Dr,shared:$r}=this,Ir=Cm(mr),zr=Ir[0],Kr=Pr.format,eo=Pr.formatter||this.defaultFormatter,Zr=Er.styledMode,so=this.allowShared;if(!Pr.enabled||!zr.series)return;Uo.clearTimeout(this.hideTimer),this.allowShared=!(!ib(mr)&&mr.series&&mr.series.noSharedTooltip),so=so&&!this.allowShared,this.followPointer=!this.split&&zr.series.tooltipOptions.followPointer;let po=this.getAnchor(mr,br),go=po[0],_o=po[1];$r&&this.allowShared&&(Dr.applyInactiveState(Ir),Ir.forEach(Do=>Do.setState("hover")),zr.points=Ir),this.len=Ir.length;let vo=qp(Kr)?uf(Kr,zr,Er):eo.call(zr,this);zr.points=void 0;let yo=zr.series;if(this.distance=Kp(yo.tooltipOptions.distance,16),vo===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(vo,Ir);else{let Do=go,Mo=_o;if(br&&Dr.isDirectTouch&&(Do=br.chartX-Er.plotLeft,Mo=br.chartY-Er.plotTop),!(Er.polar||yo.options.clip===!1||Ir.some(Io=>Dr.isDirectTouch||Io.series.shouldShowTooltip(Do,Mo))))return void this.hide();{let Io=this.getLabel(so&&this.tt||{});(!Pr.style.width||Zr)&&Io.css({width:(this.outside?this.getPlayingField():Er.spacingBox).width+"px"}),Io.attr({class:this.getClassName(zr),text:vo&&vo.join?vo.join(""):vo}),this.outside&&Io.attr({x:kp(Io.x||0,0,this.getPlayingField().width-(Io.width||0)-1)}),Zr||Io.attr({stroke:Pr.borderColor||zr.color||yo.color||"#666666"}),this.updatePosition({plotX:go,plotY:_o,negative:zr.negative,ttBelow:zr.ttBelow,series:yo,h:po[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}jm(this,"refresh")}renderSplit(mr,br){let Er=this,{chart:Pr,chart:{chartWidth:Dr,chartHeight:$r,plotHeight:Ir,plotLeft:zr,plotTop:Kr,scrollablePixelsY:eo=0,scrollablePixelsX:Zr,styledMode:so},distance:po,options:go,options:{fixed:_o,position:vo,positioner:yo},pointer:Do}=Er,{scrollLeft:Mo=0,scrollTop:Io=0}=Pr.scrollablePlotArea?.scrollingContainer||{},Yo=Er.outside&&typeof Zr!="number"?nb.documentElement.getBoundingClientRect():{left:Mo,right:Mo+Dr},Xo=Er.getLabel(),qo=this.renderer||Pr.renderer,Wo=!!Pr.xAxis[0]?.opposite,{left:xl,top:vl}=Do.getChartPosition(),yl=yo||_o,Fl=Kr+Io,Zl=0,Jl=Ir-eo,Ll=function(yc,xc,mu,Wc=[0,0],Bu=!0){let cu,zl;if(mu.isHeader)zl=Wo?0:Jl,cu=kp(Wc[0]-yc/2,Yo.left,Yo.right-yc-(Er.outside?xl:0));else if(_o&&mu){let rh=Er.getFixedPosition(yc,xc,mu);cu=rh.x,zl=rh.y-Fl}else zl=Wc[1]-Fl,cu=kp(cu=Bu?Wc[0]-yc-po:Wc[0]+po,Bu?cu:Yo.left,Yo.right);return{x:cu,y:zl}};qp(mr)&&(mr=[!1,mr]);let Gl=mr.slice(0,br.length+1).reduce(function(yc,xc,mu){if(xc!==!1&&xc!==""){let Wc=br[mu-1]||{isHeader:!0,plotX:br[0].plotX,plotY:Ir,series:{}},Bu=Wc.isHeader,cu=Bu?Er:Wc.series,zl=cu.tt=(function(qc,bd,mf){let gf=qc,{isHeader:Eg,series:_d}=bd,xf=_d.tooltipOptions||go;if(!gf){let Sg={padding:xf.padding,r:xf.borderRadius};so||(Sg.fill=xf.backgroundColor,Sg["stroke-width"]=xf.borderWidth??(_o&&!Eg?0:1)),gf=qo.label("",0,0,xf[Eg?"headerShape":"shape"]||(_o&&!Eg?"rect":"callout"),void 0,void 0,xf.useHTML).addClass(Er.getClassName(bd,!0,Eg)).attr(Sg).add(Xo)}return gf.isActive=!0,gf.attr({text:mf}),so||gf.css(xf.style).attr({stroke:xf.borderColor||bd.color||_d.color||"#333333"}),gf})(cu.tt,Wc,xc.toString()),rh=zl.getBBox(),qu=rh.width+zl.strokeWidth();Bu&&(Zl=rh.height,Jl+=Zl,Wo&&(Fl-=Zl));let{anchorX:od,anchorY:Gm}=(function(qc){let bd,mf,{isHeader:gf,plotX:Eg=0,plotY:_d=0,series:xf}=qc;if(gf)bd=Math.max(zr+Eg,zr),mf=Kr+Ir/2;else{let{xAxis:Sg,yAxis:qv}=xf;bd=Sg.pos+kp(Eg,-po,Sg.len+po),xf.shouldShowTooltip(0,qv.pos-Kr+_d,{ignoreX:!0})&&(mf=qv.pos+_d)}return{anchorX:bd=kp(bd,Yo.left-po,Yo.right+po),anchorY:mf}})(Wc);if(typeof Gm=="number"){let qc=rh.height+1,bd=(yo||Ll).call(Er,qu,qc,Wc,[od,Gm]);yc.push({align:yl?0:void 0,anchorX:od,anchorY:Gm,boxWidth:qu,point:Wc,rank:Kp(bd.rank,+!!Bu),size:qc,target:bd.y,tt:zl,x:bd.x})}else zl.isActive=!1}return yc},[]);!yl&&Gl.some(yc=>{let{outside:xc}=Er,mu=(xc?xl:0)+yc.anchorX;return mu<Yo.left&&mu+yc.boxWidth<Yo.right||mu<xl-Yo.left+yc.boxWidth&&Yo.right-mu>mu})&&(Gl=Gl.map(yc=>{let{x:xc,y:mu}=Ll.call(this,yc.boxWidth,yc.size,yc.point,[yc.anchorX,yc.anchorY],!1);return Ig(yc,{target:mu,x:xc})})),Er.cleanSplit(),Mh(Gl,Jl);let Ql={left:xl,right:xl};Gl.forEach(function(yc){let{x:xc,boxWidth:mu,isHeader:Wc}=yc;!Wc&&(Er.outside&&xl+xc<Ql.left&&(Ql.left=xl+xc),!Wc&&Er.outside&&Ql.left+mu>Ql.right&&(Ql.right=xl+xc))}),Gl.forEach(function(yc){let{x:xc,anchorX:mu,anchorY:Wc,pos:Bu,point:{isHeader:cu}}=yc,zl={visibility:Bu===void 0?"hidden":"inherit",x:xc,y:(Bu||0)+Fl+(_o&&vo.y||0),anchorX:mu,anchorY:Wc};if(Er.outside&&xc<mu){let rh=xl-Ql.left;rh>0&&(cu||(zl.x=xc+rh,zl.anchorX=mu+rh),cu&&(zl.x=(Ql.right-Ql.left)/2,zl.anchorX=mu+rh))}yc.tt.attr(zl)});let{container:Hc,outside:Tc,renderer:ad}=Er;if(Tc&&Hc&&ad){let{width:yc,height:xc,x:mu,y:Wc}=Xo.getBBox();ad.setSize(yc+mu,xc+Wc,!1),Hc.style.left=Ql.left+"px",Hc.style.top=vl+"px"}Kb&&Xo.attr({opacity:Xo.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let mr=this.chart,br=this.label,Er=this.shared?mr.hoverPoints:mr.hoverPoint;if(!br||!Er)return;let Pr={x:0,y:0,width:0,height:0},Dr=this.getAnchor(Er),$r=br.getBBox();Dr[0]+=mr.plotLeft-(br.translateX||0),Dr[1]+=mr.plotTop-(br.translateY||0),Pr.x=Math.min(0,Dr[0]),Pr.y=Math.min(0,Dr[1]),Pr.width=Dr[0]<0?Math.max(Math.abs(Dr[0]),$r.width-Dr[0]):Math.max(Math.abs(Dr[0]),$r.width),Pr.height=Dr[1]<0?Math.max(Math.abs(Dr[1]),$r.height-Math.abs(Dr[1])):Math.max(Math.abs(Dr[1]),$r.height),this.tracker?this.tracker.attr(Pr):(this.tracker=br.renderer.rect(Pr).addClass("highcharts-tracker").add(br),mr.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(mr){return mr.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(mr,br){let Er=mr.series,Pr=Er.tooltipOptions,Dr=Er.xAxis,$r=Dr?.dateTime,Ir={isFooter:br,point:mr},zr=Pr.xDateFormat||"",Kr=Pr[br?"footerFormat":"headerFormat"];return jm(this,"headerFormatter",Ir,function(eo){if($r&&!zr&&Zb(mr.key)&&(zr=$r.getXDateFormat(mr.key,Pr.dateTimeLabelFormats)),$r&&zr){if(Af(zr)){let Zr=zr;qb[0]=so=>Er.chart.time.dateFormat(Zr,so),zr="%0"}(mr.tooltipDateKeys||["key"]).forEach(Zr=>{Kr=Kr.replace(RegExp("point\\."+Zr+"([ \\)}])"),`(point.${Zr}:${zr})$1`)})}Er.chart.styledMode&&(Kr=this.styledModeFormat(Kr)),eo.text=uf(Kr,mr,this.chart)}),Ir.text||""}update(mr){this.destroy(),this.init(this.chart,fv(!0,this.options,mr))}updatePosition(mr){let{chart:br,container:Er,distance:Pr,options:Dr,pointer:$r,renderer:Ir}=this,{height:zr=0,width:Kr=0}=this.getLabel(),{fixed:eo,positioner:Zr}=Dr,{left:so,top:po,scaleX:go,scaleY:_o}=$r.getChartPosition(),vo=(Zr||eo&&this.getFixedPosition||this.getPosition).call(this,Kr,zr,mr),yo=Fr.doc,Do=(mr.plotX||0)+br.plotLeft,Mo=(mr.plotY||0)+br.plotTop,Io;if(Ir&&Er){if(Zr||eo){let{scrollLeft:Yo=0,scrollTop:Xo=0}=br.scrollablePlotArea?.scrollingContainer||{};vo.x+=Yo+so-Pr,vo.y+=Xo+po-Pr}Io=(Dr.borderWidth||0)+2*Pr+2,Ir.setSize(kp(Kr+Io,0,yo.documentElement.clientWidth)-1,zr+Io,!1),(go!==1||_o!==1)&&($g(Er,{transform:`scale(${go}, ${_o})`}),Do*=go,Mo*=_o),Do+=so-vo.x,Mo+=po-vo.y}this.move(Math.round(vo.x),Math.round(vo.y||0),Do,Mo)}}(function(Ur){Ur.compose=function(mr){rb(tb,"Core.Tooltip")&&Xf(mr,"afterInit",function(){let br=this.chart;br.options.tooltip&&(br.tooltip=new Ur(br,br.options.tooltip,this))})}})(sg||(sg={}));let xx=sg,{animObject:sb}=Gc,{defaultOptions:hy}=uc,{format:qf}=Ro,{addEvent:Ap,crisp:ab,erase:pv,extend:Zp,fireEvent:Td,getNestedProperty:Fg,isArray:Kf,isFunction:Pd,isNumber:Qp,isObject:Zf,merge:dy,pick:Ih,syncTimeout:Tp,removeEvent:yx,uniqueKey:km}=Uo;class Dd{animateBeforeDestroy(){let mr=this,br={x:mr.startXPos,opacity:0},Er=mr.getGraphicalProps();Er.singular.forEach(function(Pr){mr[Pr]=mr[Pr].animate(Pr==="dataLabel"?{x:mr[Pr].startXPos,y:mr[Pr].startYPos,opacity:0}:br)}),Er.plural.forEach(function(Pr){mr[Pr].forEach(function(Dr){Dr.element&&Dr.animate(Zp({x:mr.startXPos},Dr.startYPos?{x:Dr.startXPos,y:Dr.startYPos}:{}))})})}applyOptions(mr,br){let Er=this.series,Pr=Er.options.pointValKey||Er.pointValKey;return Zp(this,mr=Dd.prototype.optionsToObject.call(this,mr)),this.options=this.options?Zp(this.options,mr):mr,mr.group&&delete this.group,mr.dataLabels&&delete this.dataLabels,Pr&&(this.y=Dd.prototype.getNestedProperty.call(this,Pr)),this.selected&&(this.state="select"),"name"in this&&br===void 0&&Er.xAxis&&Er.xAxis.hasNames&&(this.x=Er.xAxis.nameToX(this)),this.x===void 0&&Er?this.x=br??Er.autoIncrement():Qp(mr.x)&&Er.options.relativeXValue?this.x=Er.autoIncrement(mr.x):typeof this.x=="string"&&(br??(br=Er.chart.time.parse(this.x)),Qp(br)&&(this.x=br)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let mr=this,br=mr.series,Er=br.chart,Pr=br.options.dataSorting,Dr=Er.hoverPoints,$r=sb(mr.series.chart.renderer.globalAnimation),Ir=()=>{for(let zr in(mr.graphic||mr.graphics||mr.dataLabel||mr.dataLabels)&&(yx(mr),mr.destroyElements()),mr)delete mr[zr]};mr.legendItem&&Er.legend.destroyItem(mr),Dr&&(mr.setState(),pv(Dr,mr),Dr.length||(Er.hoverPoints=null)),mr===Er.hoverPoint&&mr.onMouseOut(),Pr?.enabled?(this.animateBeforeDestroy(),Tp(Ir,$r.duration)):Ir(),Er.pointCount--}this.destroyed=!0}destroyElements(mr){let br=this,Er=br.getGraphicalProps(mr);Er.singular.forEach(function(Pr){br[Pr]=br[Pr].destroy()}),Er.plural.forEach(function(Pr){br[Pr].forEach(function(Dr){Dr?.element&&Dr.destroy()}),delete br[Pr]})}firePointEvent(mr,br,Er){let Pr=this,Dr=this.series.options;Pr.manageEvent(mr),mr==="click"&&Dr.allowPointSelect&&(Er=function($r){!Pr.destroyed&&Pr.select&&Pr.select(null,$r.ctrlKey||$r.metaKey||$r.shiftKey)}),Td(Pr,mr,br,Er)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(mr){let br,Er,Pr=this,Dr=[],$r={singular:[],plural:[]};for((mr=mr||{graphic:1,dataLabel:1}).graphic&&Dr.push("graphic","connector"),mr.dataLabel&&Dr.push("dataLabel","dataLabelPath","dataLabelUpper"),Er=Dr.length;Er--;)Pr[br=Dr[Er]]&&$r.singular.push(br);return["graphic","dataLabel"].forEach(function(Ir){let zr=Ir+"s";mr[Ir]&&Pr[zr]&&$r.plural.push(zr)}),$r}getNestedProperty(mr){if(mr)return mr.indexOf("custom.")===0?Fg(mr,this.options):this[mr]}getZone(){let mr=this.series,br=mr.zones,Er=mr.zoneAxis||"y",Pr,Dr=0;for(Pr=br[0];this[Er]>=Pr.value;)Pr=br[++Dr];return this.nonZonedColor||(this.nonZonedColor=this.color),Pr?.color&&!this.options.color?this.color=Pr.color:this.color=this.nonZonedColor,Pr}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(mr,br,Er){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=mr,this.applyOptions(br,Er),this.id??(this.id=km()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=mr.options.nullInteraction),mr.chart.pointCount++,Td(this,"afterInit")}isValid(){return(Qp(this.x)||this.x instanceof Date)&&Qp(this.y)}optionsToObject(mr){let br=this.series,Er=br.options.keys,Pr=Er||br.pointArrayMap||["y"],Dr=Pr.length,$r={},Ir,zr=0,Kr=0;if(Qp(mr)||mr===null)$r[Pr[0]]=mr;else if(Kf(mr))for(!Er&&mr.length>Dr&&((Ir=typeof mr[0])=="string"?br.xAxis?.dateTime?$r.x=br.chart.time.parse(mr[0]):$r.name=mr[0]:Ir==="number"&&($r.x=mr[0]),zr++);Kr<Dr;)Er&&mr[zr]===void 0||(Pr[Kr].indexOf(".")>0?Dd.prototype.setNestedProperty($r,mr[zr],Pr[Kr]):$r[Pr[Kr]]=mr[zr]),zr++,Kr++;else typeof mr=="object"&&($r=mr,mr.dataLabels&&(br.hasDataLabels=()=>!0),mr.marker&&(br._hasPointMarkers=!0));return $r}pos(mr,br=this.plotY){if(!this.destroyed){let{plotX:Er,series:Pr}=this,{chart:Dr,xAxis:$r,yAxis:Ir}=Pr,zr=0,Kr=0;if(Qp(Er)&&Qp(br))return mr&&(zr=$r?$r.pos:Dr.plotLeft,Kr=Ir?Ir.pos:Dr.plotTop),Dr.inverted&&$r&&Ir?[Ir.len-br+Kr,$r.len-Er+zr]:[Er+zr,br+Kr]}}resolveColor(){let mr=this.series,br=mr.chart.options.chart,Er=mr.chart.styledMode,Pr,Dr,$r=br.colorCount,Ir;delete this.nonZonedColor,mr.options.colorByPoint?(Er||(Pr=(Dr=mr.options.colors||mr.chart.options.colors)[mr.colorCounter],$r=Dr.length),Ir=mr.colorCounter,mr.colorCounter++,mr.colorCounter===$r&&(mr.colorCounter=0)):(Er||(Pr=mr.color),Ir=mr.colorIndex),this.colorIndex=Ih(this.options.colorIndex,Ir),this.color=Ih(this.options.color,Pr)}setNestedProperty(mr,br,Er){return Er.split(".").reduce(function(Pr,Dr,$r,Ir){let zr=Ir.length-1===$r;return Pr[Dr]=zr?br:Zf(Pr[Dr],!0)?Pr[Dr]:{},Pr[Dr]},mr),mr}shouldDraw(){return!this.isNull}tooltipFormatter(mr){let{chart:br,pointArrayMap:Er=["y"],tooltipOptions:Pr}=this.series,{valueDecimals:Dr="",valuePrefix:$r="",valueSuffix:Ir=""}=Pr;return br.styledMode&&(mr=br.tooltip?.styledModeFormat(mr)||mr),Er.forEach(zr=>{zr="{point."+zr,($r||Ir)&&(mr=mr.replace(RegExp(zr+"}","g"),$r+zr+"}"+Ir)),mr=mr.replace(RegExp(zr+"}","g"),zr+":,."+Dr+"f}")}),qf(mr,this,br)}update(mr,br,Er,Pr){let Dr,$r=this,Ir=$r.series,zr=$r.graphic,Kr=Ir.chart,eo=Ir.options;function Zr(){$r.applyOptions(mr);let so=zr&&$r.hasMockGraphic,po=$r.y===null?!so:so;zr&&po&&($r.graphic=zr.destroy(),delete $r.hasMockGraphic),Zf(mr,!0)&&(zr?.element&&mr&&mr.marker&&mr.marker.symbol!==void 0&&($r.graphic=zr.destroy()),mr?.dataLabels&&$r.dataLabel&&($r.dataLabel=$r.dataLabel.destroy())),Dr=$r.index;let go={};for(let _o of Ir.dataColumnKeys())go[_o]=$r[_o];Ir.dataTable.setRow(go,Dr),eo.data[Dr]=Zf(eo.data[Dr],!0)||Zf(mr,!0)?$r.options:Ih(mr,eo.data[Dr]),Ir.isDirty=Ir.isDirtyData=!0,!Ir.fixedBox&&Ir.hasCartesianSeries&&(Kr.isDirtyBox=!0),eo.legendType==="point"&&(Kr.isDirtyLegend=!0),br&&Kr.redraw(Er)}br=Ih(br,!0),Pr===!1?Zr():$r.firePointEvent("update",{options:mr},Zr)}remove(mr,br){this.series.removePoint(this.series.data.indexOf(this),mr,br)}select(mr,br){let Er=this,Pr=Er.series,Dr=Pr.chart;mr=Ih(mr,!Er.selected),this.selectedStaging=mr,Er.firePointEvent(mr?"select":"unselect",{accumulate:br},function(){Er.selected=Er.options.selected=mr,Pr.options.data[Pr.data.indexOf(Er)]=Er.options,Er.setState(mr&&"select"),br||Dr.getSelectedPoints().forEach(function($r){let Ir=$r.series;$r.selected&&$r!==Er&&($r.selected=$r.options.selected=!1,Ir.options.data[Ir.data.indexOf($r)]=$r.options,$r.setState(Dr.hoverPoints&&Ir.options.inactiveOtherPoints?"inactive":""),$r.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(mr){let{inverted:br,pointer:Er}=this.series.chart;Er&&(mr=mr?Er.normalize(mr):Er.getChartCoordinatesFromPoint(this,br),Er.runPointActions(mr,this))}onMouseOut(){let mr=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(mr.hoverPoints||[]).forEach(function(br){br.setState()}),mr.hoverPoints=mr.hoverPoint=null}manageEvent(mr){let br=dy(this.series.options.point,this.options),Er=br.events?.[mr];Pd(Er)&&(!this.hcEvents?.[mr]||this.hcEvents?.[mr]?.map(Pr=>Pr.fn).indexOf(Er)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=Ap(this,mr,Er),this.hcEvents&&(this.hcEvents[mr].userEvent=!0)):this.importedUserEvent&&!Er&&this.hcEvents?.[mr]&&this.hcEvents?.[mr].userEvent&&(yx(this,mr),delete this.hcEvents[mr],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(mr,br){let Er=this.series,Pr=this.state,Dr=Er.options.states[mr||"normal"]||{},$r=hy.plotOptions[Er.type].marker&&Er.options.marker,Ir=$r&&$r.enabled===!1,zr=$r?.states?.[mr||"normal"]||{},Kr=zr.enabled===!1,eo=this.marker||{},Zr=Er.chart,so=$r&&Er.markerAttribs,po=Er.halo,go,_o,vo,yo=Er.stateMarkerGraphic,Do;if((mr=mr||"")===this.state&&!br||this.selected&&mr!=="select"||Dr.enabled===!1||mr&&(Kr||Ir&&zr.enabled===!1)||mr&&eo.states&&eo.states[mr]&&eo.states[mr].enabled===!1)return;if(this.state=mr,so&&(go=Er.markerAttribs(this,mr)),this.graphic&&!this.hasMockGraphic){if(Pr&&this.graphic.removeClass("highcharts-point-"+Pr),mr&&this.graphic.addClass("highcharts-point-"+mr),!Zr.styledMode){_o=Er.pointAttribs(this,mr),vo=Ih(Zr.options.chart.animation,Dr.animation);let Xo=_o.opacity;Er.options.inactiveOtherPoints&&Qp(Xo)&&(this.dataLabels||[]).forEach(function(qo){qo&&!qo.hasClass("highcharts-data-label-hidden")&&(qo.animate({opacity:Xo},vo),qo.connector&&qo.connector.animate({opacity:Xo},vo))}),this.graphic.animate(_o,vo)}go&&this.graphic.animate(go,Ih(Zr.options.chart.animation,zr.animation,$r.animation)),yo&&yo.hide()}else mr&&zr&&(Do=eo.symbol||Er.symbol,yo&&yo.currentSymbol!==Do&&(yo=yo.destroy()),go&&(yo?yo[br?"animate":"attr"]({x:go.x,y:go.y}):Do&&(Er.stateMarkerGraphic=yo=Zr.renderer.symbol(Do,go.x,go.y,go.width,go.height,dy($r,zr)).add(Er.markerGroup),yo.currentSymbol=Do)),!Zr.styledMode&&yo&&this.state!=="inactive"&&yo.attr(Er.pointAttribs(this,mr))),yo&&(yo[mr&&this.isInside?"show":"hide"](),yo.element.point=this,yo.addClass(this.getClassName(),!0));let Mo=Dr.halo,Io=this.graphic||yo,Yo=Io?.visibility||"inherit";Mo?.size&&Io&&Yo!=="hidden"&&!this.isCluster?(po||(Er.halo=po=Zr.renderer.path().add(Io.parentGroup)),po.show()[br?"animate":"attr"]({d:this.haloPath(Mo.size)}),po.attr({class:"highcharts-halo highcharts-color-"+Ih(this.colorIndex,Er.colorIndex)+(this.className?" "+this.className:""),visibility:Yo,zIndex:-1}),po.point=this,Zr.styledMode||po.attr(Zp({fill:this.color||Er.color,"fill-opacity":Mo.opacity},_u.filterUserAttributes(Mo.attributes||{})))):po?.point?.haloPath&&!po.point.destroyed&&po.animate({d:po.point.haloPath(0)},null,po.hide),Td(this,"afterSetState",{state:mr})}haloPath(mr){let br=this.pos();return br?this.series.chart.renderer.symbols.circle(ab(br[0],1)-mr,br[1]-mr,2*mr,2*mr):[]}}let Tf=Dd,{parse:fy}=Ul,{charts:Rh,composed:ag,isTouchDevice:Bg}=Fr,{addEvent:Eh,attr:py,css:Qf,extend:Pf,find:my,fireEvent:xh,isNumber:Am,isObject:md,objectEach:Df,offset:Tm,pick:Wd,pushUnique:ob,splat:hf}=Uo;class Ru{applyInactiveState(mr=[]){let br=[];for(let Er of(mr.forEach(Pr=>{let Dr=Pr.series;br.push(Dr),Dr.linkedParent&&br.push(Dr.linkedParent),Dr.linkedSeries&&br.push.apply(br,Dr.linkedSeries),Dr.navigatorSeries&&br.push(Dr.navigatorSeries),Dr.boosted&&Dr.markerGroup&&br.push.apply(br,this.chart.series.filter($r=>$r.markerGroup===Dr.markerGroup))}),this.chart.series)){let Pr=Er.options;Pr.states?.inactive?.enabled!==!1&&(br.indexOf(Er)===-1?Er.setState("inactive",!0):Pr.inactiveOtherPoints&&Er.setAllPointsToState("inactive"))}}destroy(){let mr=this;this.eventsToUnbind.forEach(br=>br()),this.eventsToUnbind=[],!Fr.chartCount&&(Ru.unbindDocumentMouseUp.forEach(br=>br.unbind()),Ru.unbindDocumentMouseUp.length=0,Ru.unbindDocumentTouchEnd&&(Ru.unbindDocumentTouchEnd=Ru.unbindDocumentTouchEnd())),clearInterval(mr.tooltipTimeout),Df(mr,function(br,Er){mr[Er]=void 0})}getSelectionMarkerAttrs(mr,br){let Er={args:{chartX:mr,chartY:br},attrs:{},shapeType:"rect"};return xh(this,"getSelectionMarkerAttrs",Er,Pr=>{let Dr,{chart:$r,zoomHor:Ir,zoomVert:zr}=this,{mouseDownX:Kr=0,mouseDownY:eo=0}=$r,Zr=Pr.attrs;Zr.x=$r.plotLeft,Zr.y=$r.plotTop,Zr.width=Ir?1:$r.plotWidth,Zr.height=zr?1:$r.plotHeight,Ir&&(Zr.width=Math.max(1,Math.abs(Dr=mr-Kr)),Zr.x=(Dr>0?0:Dr)+Kr),zr&&(Zr.height=Math.max(1,Math.abs(Dr=br-eo)),Zr.y=(Dr>0?0:Dr)+eo)}),Er}drag(mr){let{chart:br}=this,{mouseDownX:Er=0,mouseDownY:Pr=0}=br,{panning:Dr,panKey:$r,selectionMarkerFill:Ir}=br.options.chart,zr=br.plotLeft,Kr=br.plotTop,eo=br.plotWidth,Zr=br.plotHeight,so=md(Dr)?Dr.enabled:Dr,po=$r&&mr[`${$r}Key`],go=mr.chartX,_o=mr.chartY,vo,yo=this.selectionMarker;if((!yo||!yo.touch)&&(go<zr?go=zr:go>zr+eo&&(go=zr+eo),_o<Kr?_o=Kr:_o>Kr+Zr&&(_o=Kr+Zr),this.hasDragged=Math.sqrt(Math.pow(Er-go,2)+Math.pow(Pr-_o,2)),this.hasDragged>10)){vo=br.isInsidePlot(Er-zr,Pr-Kr,{visiblePlotOnly:!0});let{shapeType:Do,attrs:Mo}=this.getSelectionMarkerAttrs(go,_o);this.hasZoom&&vo&&!po&&!yo&&(this.selectionMarker=yo=br.renderer[Do](),yo.attr({class:"highcharts-selection-marker",zIndex:7}).add(),br.styledMode||yo.attr({fill:Ir||fy("#334eff").setOpacity(.25).get()})),yo&&yo.attr(Mo),vo&&!yo&&so&&br.pan(mr,Dr)}}dragStart(mr){let br=this.chart;br.mouseIsDown=mr.type,br.cancelClick=!1,br.mouseDownX=mr.chartX,br.mouseDownY=mr.chartY}getSelectionBox(mr){let br={args:{marker:mr},result:mr.getBBox()};return xh(this,"getSelectionBox",br),br.result}drop(mr){let br,{chart:Er,selectionMarker:Pr}=this;for(let Dr of Er.axes)Dr.isPanning&&(Dr.isPanning=!1,(Dr.options.startOnTick||Dr.options.endOnTick||Dr.series.some($r=>$r.boosted))&&(Dr.forceRedraw=!0,Dr.setExtremes(Dr.userMin,Dr.userMax,!1),br=!0));if(br&&Er.redraw(),Pr&&mr){if(this.hasDragged){let Dr=this.getSelectionBox(Pr);Er.transform({axes:Er.axes.filter($r=>$r.zoomEnabled&&($r.coll==="xAxis"&&this.zoomX||$r.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:mr,xAxis:[],yAxis:[],...Dr},from:Dr})}Am(Er.index)&&(this.selectionMarker=Pr.destroy())}Er&&Am(Er.index)&&(Qf(Er.container,{cursor:Er._cursor}),Er.cancelClick=this.hasDragged>10,Er.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(mr,br,Er){let Pr;return mr.forEach(function(Dr){let $r=!(Dr.noSharedTooltip&&br)&&0>Dr.options.findNearestPointBy.indexOf("y"),Ir=Dr.searchPoint(Er,$r);md(Ir,!0)&&Ir.series&&(!md(Pr,!0)||(function(zr,Kr){let eo=zr.distX-Kr.distX,Zr=zr.dist-Kr.dist,so=Kr.series.group?.zIndex-zr.series.group?.zIndex;return eo!==0&&br?eo:Zr!==0?Zr:so!==0?so:zr.series.index>Kr.series.index?-1:1})(Pr,Ir)>0)&&(Pr=Ir)}),Pr}getChartCoordinatesFromPoint(mr,br){let{xAxis:Er,yAxis:Pr}=mr.series,Dr=mr.shapeArgs;if(Er&&Pr){let $r=mr.clientX??mr.plotX??0,Ir=mr.plotY||0;return mr.isNode&&Dr&&Am(Dr.x)&&Am(Dr.y)&&($r=Dr.x,Ir=Dr.y),br?{chartX:Pr.len+Pr.pos-Ir,chartY:Er.len+Er.pos-$r}:{chartX:$r+Er.pos,chartY:Ir+Pr.pos}}if(Dr?.x&&Dr.y)return{chartX:Dr.x,chartY:Dr.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:mr}=this.chart,br=Tm(mr);this.chartPosition={left:br.left,top:br.top,scaleX:1,scaleY:1};let{offsetHeight:Er,offsetWidth:Pr}=mr;return Pr>2&&Er>2&&(this.chartPosition.scaleX=br.width/Pr,this.chartPosition.scaleY=br.height/Er),this.chartPosition}getCoordinates(mr){let br={xAxis:[],yAxis:[]};for(let Er of this.chart.axes)br[Er.isXAxis?"xAxis":"yAxis"].push({axis:Er,value:Er.toValue(mr[Er.horiz?"chartX":"chartY"])});return br}getHoverData(mr,br,Er,Pr,Dr,$r){let Ir=[],zr=function(po){return po.visible&&!(!Dr&&po.directTouch)&&Wd(po.options.enableMouseTracking,!0)},Kr=br,eo,Zr={chartX:$r?$r.chartX:void 0,chartY:$r?$r.chartY:void 0,shared:Dr};xh(this,"beforeGetHoverData",Zr),eo=Kr&&!Kr.stickyTracking?[Kr]:Er.filter(po=>po.stickyTracking&&(Zr.filter||zr)(po));let so=Pr&&mr||!$r?mr:this.findNearestKDPoint(eo,Dr,$r);return Kr=so?.series,so&&(Dr&&!Kr.noSharedTooltip?(eo=Er.filter(function(po){return Zr.filter?Zr.filter(po):zr(po)&&!po.noSharedTooltip})).forEach(function(po){let go=po.options?.nullInteraction,_o=my(po.points,function(vo){return vo.x===so.x&&(!vo.isNull||!!go)});md(_o)&&(po.boosted&&po.boost&&(_o=po.boost.getPoint(_o)),Ir.push(_o))}):Ir.push(so)),xh(this,"afterGetHoverData",Zr={hoverPoint:so}),{hoverPoint:Zr.hoverPoint,hoverSeries:Kr,hoverPoints:Ir}}getPointFromEvent(mr){let br=mr.target,Er;for(;br&&!Er;)Er=br.point,br=br.parentNode;return Er}onTrackerMouseOut(mr){let br=this.chart,Er=mr.relatedTarget,Pr=br.hoverSeries;this.isDirectTouch=!1,!Pr||!Er||Pr.stickyTracking||this.inClass(Er,"highcharts-tooltip")||this.inClass(Er,"highcharts-series-"+Pr.index)&&this.inClass(Er,"highcharts-tracker")||Pr.onMouseOut()}inClass(mr,br){let Er=mr,Pr;for(;Er;){if(Pr=py(Er,"class")){if(Pr.indexOf(br)!==-1)return!0;if(Pr.indexOf("highcharts-container")!==-1)return!1}Er=Er.parentElement}}constructor(mr,br){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=br,this.chart=mr,this.runChartClick=!!br.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),xh(this,"afterInit")}normalize(mr,br){let Er=mr.touches,Pr=Er?Er.length?Er.item(0):Wd(Er.changedTouches,mr.changedTouches)[0]:mr;br||(br=this.getChartPosition());let Dr=Pr.pageX-br.left,$r=Pr.pageY-br.top;return Pf(mr,{chartX:Math.round(Dr/=br.scaleX),chartY:Math.round($r/=br.scaleY)})}onContainerClick(mr){let br=this.chart,Er=br.hoverPoint,Pr=this.normalize(mr),Dr=br.plotLeft,$r=br.plotTop;!br.cancelClick&&(Er&&this.inClass(Pr.target,"highcharts-tracker")?(xh(Er.series,"click",Pf(Pr,{point:Er})),br.hoverPoint&&Er.firePointEvent("click",Pr)):(Pf(Pr,this.getCoordinates(Pr)),br.isInsidePlot(Pr.chartX-Dr,Pr.chartY-$r,{visiblePlotOnly:!0})&&xh(br,"click",Pr)))}onContainerMouseDown(mr){let br=(1&(mr.buttons||mr.button))==1;mr=this.normalize(mr),Fr.isFirefox&&mr.button!==0&&this.onContainerMouseMove(mr),(mr.button===void 0||br)&&(this.zoomOption(mr),br&&mr.preventDefault?.(),this.dragStart(mr))}onContainerMouseLeave(mr){let{pointer:br}=Rh[Wd(Ru.hoverChartIndex,-1)]||{};mr=this.normalize(mr),this.onContainerMouseMove(mr),br&&!this.inClass(mr.relatedTarget,"highcharts-tooltip")&&(br.reset(),br.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(mr){let br=this.chart,Er=br.tooltip,Pr=this.normalize(mr);this.setHoverChartIndex(mr),(br.mouseIsDown==="mousedown"||this.touchSelect(Pr))&&this.drag(Pr),!br.exporting?.openMenu&&(this.inClass(Pr.target,"highcharts-tracker")||br.isInsidePlot(Pr.chartX-br.plotLeft,Pr.chartY-br.plotTop,{visiblePlotOnly:!0}))&&!Er?.shouldStickOnContact(Pr)&&(this.inClass(Pr.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(Pr))}onDocumentTouchEnd(mr){this.onDocumentMouseUp(mr)}onContainerTouchMove(mr){this.touchSelect(mr)?this.onContainerMouseMove(mr):this.touch(mr)}onContainerTouchStart(mr){this.touchSelect(mr)?this.onContainerMouseDown(mr):(this.zoomOption(mr),this.touch(mr,!0))}onDocumentMouseMove(mr){let br=this.chart,Er=br.tooltip,Pr=this.chartPosition,Dr=this.normalize(mr,Pr);!Pr||br.isInsidePlot(Dr.chartX-br.plotLeft,Dr.chartY-br.plotTop,{visiblePlotOnly:!0})||Er?.shouldStickOnContact(Dr)||Dr.target!==br.container.ownerDocument&&this.inClass(Dr.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(mr){mr?.touches&&this.hasPinchMoved&&mr?.preventDefault?.(),Rh[Wd(Ru.hoverChartIndex,-1)]?.pointer?.drop(mr)}pinch(mr){let br=this,{chart:Er,hasZoom:Pr,lastTouches:Dr}=br,$r=[].map.call(mr.touches||[],Zr=>br.normalize(Zr)),Ir=$r.length,zr=Ir===1&&(br.inClass(mr.target,"highcharts-tracker")&&Er.runTrackerClick||br.runChartClick),Kr=Er.tooltip,eo=Ir===1&&Wd(Kr?.options.followTouchMove,!0);Ir>1?br.initiated=!0:eo&&(br.initiated=!1),Pr&&br.initiated&&!zr&&mr.cancelable!==!1&&mr.preventDefault(),mr.type==="touchstart"?(br.pinchDown=$r,br.res=!0,Er.mouseDownX=mr.chartX):eo?this.runPointActions(br.normalize(mr)):Dr&&(xh(Er,"touchpan",{originalEvent:mr,touches:$r},()=>{let Zr=so=>{let po=so[0],go=so[1]||po;return{x:po.chartX,y:po.chartY,width:go.chartX-po.chartX,height:go.chartY-po.chartY}};Er.transform({axes:Er.axes.filter(so=>so.zoomEnabled&&(this.zoomHor&&so.horiz||this.zoomVert&&!so.horiz)),to:Zr($r),from:Zr(Dr),trigger:mr.type})}),br.res&&(br.res=!1,this.reset(!1,0))),br.lastTouches=$r}reset(mr,br){let Er=this.chart,Pr=Er.hoverSeries,Dr=Er.hoverPoint,$r=Er.hoverPoints,Ir=Er.tooltip,zr=Ir?.shared?$r:Dr;mr&&zr&&hf(zr).forEach(function(Kr){Kr.series.isCartesian&&Kr.plotX===void 0&&(mr=!1)}),mr?Ir&&zr&&hf(zr).length&&(Ir.refresh(zr),Ir.shared&&$r?$r.forEach(function(Kr){Kr.setState(Kr.state,!0),Kr.series.isCartesian&&(Kr.series.xAxis.crosshair&&Kr.series.xAxis.drawCrosshair(null,Kr),Kr.series.yAxis.crosshair&&Kr.series.yAxis.drawCrosshair(null,Kr))}):Dr&&(Dr.setState(Dr.state,!0),Er.axes.forEach(function(Kr){Kr.crosshair&&Dr.series[Kr.coll]===Kr&&Kr.drawCrosshair(null,Dr)}))):(Dr&&Dr.onMouseOut(),$r&&$r.forEach(function(Kr){Kr.setState()}),Pr&&Pr.onMouseOut(),Ir&&Ir.hide(br),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),Er.axes.forEach(function(Kr){Kr.hideCrosshair()}),Er.hoverPoints=Er.hoverPoint=void 0)}runPointActions(mr,br,Er){let Pr=this.chart,Dr=Pr.series,$r=Pr.tooltip?.options.enabled?Pr.tooltip:void 0,Ir=!!$r&&$r.shared,zr=br||Pr.hoverPoint,Kr=zr?.series||Pr.hoverSeries,eo=(!mr||mr.type!=="touchmove")&&(!!br||Kr?.directTouch&&this.isDirectTouch),Zr=this.getHoverData(zr,Kr,Dr,eo,Ir,mr);zr=Zr.hoverPoint,Kr=Zr.hoverSeries;let so=Zr.hoverPoints,po=Kr?.tooltipOptions.followPointer&&!Kr.tooltipOptions.split,go=Ir&&Kr&&!Kr.noSharedTooltip;if(zr&&(Er||zr!==Pr.hoverPoint||$r?.isHidden)){if((Pr.hoverPoints||[]).forEach(function(_o){so.indexOf(_o)===-1&&_o.setState()}),Pr.hoverSeries!==Kr&&Kr.onMouseOver(),this.applyInactiveState(so),(so||[]).forEach(function(_o){_o.setState("hover")}),Pr.hoverPoint&&Pr.hoverPoint.firePointEvent("mouseOut"),!zr.series)return;Pr.hoverPoints=so,Pr.hoverPoint=zr,zr.firePointEvent("mouseOver",void 0,()=>{$r&&zr&&$r.refresh(go?so:zr,mr)})}else if(po&&$r&&!$r.isHidden){let _o=$r.getAnchor([{}],mr);Pr.isInsidePlot(_o[0],_o[1],{visiblePlotOnly:!0})&&$r.updatePosition({plotX:_o[0],plotY:_o[1]})}this.unDocMouseMove||(this.unDocMouseMove=Eh(Pr.container.ownerDocument,"mousemove",_o=>Rh[Ru.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(_o)),this.eventsToUnbind.push(this.unDocMouseMove)),Pr.axes.forEach(function(_o){let vo,yo=_o.crosshair?.snap??!0;yo&&((vo=Pr.hoverPoint)&&vo.series[_o.coll]===_o||(vo=my(so,Do=>Do.series?.[_o.coll]===_o))),vo||!yo?_o.drawCrosshair(mr,vo):_o.hideCrosshair()})}setDOMEvents(){let mr=this.chart.container,br=mr.ownerDocument;mr.onmousedown=this.onContainerMouseDown.bind(this),mr.onmousemove=this.onContainerMouseMove.bind(this),mr.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Eh(mr,"mouseenter",this.onContainerMouseEnter.bind(this)),Eh(mr,"mouseleave",this.onContainerMouseLeave.bind(this))),Ru.unbindDocumentMouseUp.some(Pr=>Pr.doc===br)||Ru.unbindDocumentMouseUp.push({doc:br,unbind:Eh(br,"mouseup",this.onDocumentMouseUp.bind(this))});let Er=this.chart.renderTo.parentElement;for(;Er&&Er.tagName!=="BODY";)this.eventsToUnbind.push(Eh(Er,"scroll",()=>{delete this.chartPosition})),Er=Er.parentElement;this.eventsToUnbind.push(Eh(mr,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Eh(mr,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Ru.unbindDocumentTouchEnd||(Ru.unbindDocumentTouchEnd=Eh(br,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Eh(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Bg)return;let mr=this.pointerCaptureEventsToUnbind,br=this.chart,Er=br.container,Pr=Wd(br.options.tooltip?.followTouchMove,!0)&&br.series.some(Dr=>Dr.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&Pr?(mr.push(Eh(Er,"pointerdown",Dr=>{Dr.target?.hasPointerCapture(Dr.pointerId)&&Dr.target?.releasePointerCapture(Dr.pointerId)}),Eh(Er,"pointermove",Dr=>{br.pointer?.getPointFromEvent(Dr)?.onMouseOver(Dr)})),br.styledMode||Qf(Er,{"touch-action":"none"}),Er.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!Pr&&(mr.forEach(Dr=>Dr()),mr.length=0,br.styledMode||Qf(Er,{"touch-action":Wd(br.options.chart.style?.["touch-action"],"manipulation")}),Er.className=Er.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(mr){let br=this.chart,Er=Fr.charts[Wd(Ru.hoverChartIndex,-1)];if(Er&&Er!==br){let Pr={relatedTarget:br.container};mr&&!mr?.relatedTarget&&Object.assign({},mr,Pr),Er.pointer?.onContainerMouseLeave(mr||Pr)}Er?.mouseIsDown||(Ru.hoverChartIndex=br.index)}touch(mr,br){let Er,{chart:Pr,pinchDown:Dr=[]}=this;this.setHoverChartIndex(),(mr=this.normalize(mr)).touches.length===1?Pr.isInsidePlot(mr.chartX-Pr.plotLeft,mr.chartY-Pr.plotTop,{visiblePlotOnly:!0})&&!Pr.exporting?.openMenu?(br&&this.runPointActions(mr),mr.type==="touchmove"&&(this.hasPinchMoved=Er=!!Dr[0]&&Math.pow(Dr[0].chartX-mr.chartX,2)+Math.pow(Dr[0].chartY-mr.chartY,2)>=16),Wd(Er,!0)&&this.pinch(mr)):br&&this.reset():mr.touches.length===2&&this.pinch(mr)}touchSelect(mr){return!!(this.chart.zooming.singleTouch&&mr.touches&&mr.touches.length===1)}zoomOption(mr){let br=this.chart,Er=br.inverted,Pr=br.zooming.type||"",Dr,$r;/touch/.test(mr.type)&&(Pr=Wd(br.zooming.pinchType,Pr)),this.zoomX=Dr=/x/.test(Pr),this.zoomY=$r=/y/.test(Pr),this.zoomHor=Dr&&!Er||$r&&Er,this.zoomVert=$r&&!Er||Dr&&Er,this.hasZoom=Dr||$r}}Ru.unbindDocumentMouseUp=[],(function(Ur){Ur.compose=function(mr){ob(ag,"Core.Pointer")&&Eh(mr,"beforeRender",function(){this.pointer=new Ur(this,this.options)})}})(Ru||(Ru={}));let Sh=Ru;(function(Ur){Ur.setLength=function(mr,br,Er){return Array.isArray(mr)?(mr.length=br,mr):mr[Er?"subarray":"slice"](0,br)},Ur.splice=function(mr,br,Er,Pr,Dr=[]){if(Array.isArray(mr))return Array.isArray(Dr)||(Dr=Array.from(Dr)),{removed:mr.splice(br,Er,...Dr),array:mr};let $r=Object.getPrototypeOf(mr).constructor,Ir=mr[Pr?"subarray":"slice"](br,br+Er),zr=new $r(mr.length-Er+Dr.length);return zr.set(mr.subarray(0,br),0),zr.set(Dr,br),zr.set(mr.subarray(br+Er),br+Dr.length),{removed:Ir,array:zr}}})(dr||(dr={}));let{setLength:gy,splice:Gd}=dr,{fireEvent:Oc,objectEach:Cu,uniqueKey:eh}=Uo,Pm=class{constructor(Ur={}){this.autoId=!Ur.id,this.columns={},this.id=Ur.id||eh(),this.modified=this,this.rowCount=0,this.versionTag=eh();let mr=0;Cu(Ur.columns||{},(br,Er)=>{this.columns[Er]=br.slice(),mr=Math.max(mr,br.length)}),this.applyRowCount(mr)}applyRowCount(Ur){this.rowCount=Ur,Cu(this.columns,(mr,br)=>{mr.length!==Ur&&(this.columns[br]=gy(mr,Ur))})}deleteRows(Ur,mr=1){if(mr>0&&Ur<this.rowCount){let br=0;Cu(this.columns,(Er,Pr)=>{this.columns[Pr]=Gd(Er,Ur,mr).array,br=Er.length}),this.rowCount=br}Oc(this,"afterDeleteRows",{rowIndex:Ur,rowCount:mr}),this.versionTag=eh()}getColumn(Ur,mr){return this.columns[Ur]}getColumns(Ur,mr){return(Ur||Object.keys(this.columns)).reduce((br,Er)=>(br[Er]=this.columns[Er],br),{})}getRow(Ur,mr){return(mr||Object.keys(this.columns)).map(br=>this.columns[br]?.[Ur])}setColumn(Ur,mr=[],br=0,Er){this.setColumns({[Ur]:mr},br,Er)}setColumns(Ur,mr,br){let Er=this.rowCount;Cu(Ur,(Pr,Dr)=>{this.columns[Dr]=Pr.slice(),Er=Pr.length}),this.applyRowCount(Er),br?.silent||(Oc(this,"afterSetColumns"),this.versionTag=eh())}setRow(Ur,mr=this.rowCount,br,Er){let{columns:Pr}=this,Dr=br?this.rowCount+1:mr+1;Cu(Ur,($r,Ir)=>{let zr=Pr[Ir]||Er?.addColumns!==!1&&Array(Dr);zr&&(br?zr=Gd(zr,mr,0,!0,[$r]).array:zr[mr]=$r,Pr[Ir]=zr)}),Dr>this.rowCount&&this.applyRowCount(Dr),Er?.silent||(Oc(this,"afterSetRows"),this.versionTag=eh())}},{extend:zg,merge:og,pick:vx}=Uo;(function(Ur){function mr(br,Er,Pr){let Dr=this.legendItem=this.legendItem||{},{chart:$r,options:Ir}=this,{baseline:zr=0,symbolWidth:Kr,symbolHeight:eo}=br,Zr=this.symbol||"circle",so=eo/2,po=$r.renderer,go=Dr.group,_o=zr-Math.round((br.fontMetrics?.b||eo)*(Pr?.4:.3)),vo={},yo,Do=Ir.marker,Mo=0;if($r.styledMode||(vo["stroke-width"]=Math.min(Ir.lineWidth||0,24),Ir.dashStyle?vo.dashstyle=Ir.dashStyle:Ir.linecap!=="square"&&(vo["stroke-linecap"]="round")),Dr.line=po.path().addClass("highcharts-graph").attr(vo).add(go),Pr&&(Dr.area=po.path().addClass("highcharts-area").add(go)),vo["stroke-linecap"]&&(Mo=Math.min(Dr.line.strokeWidth(),Kr)/2),Kr){let Io=[["M",Mo,_o],["L",Kr-Mo,_o]];Dr.line.attr({d:Io}),Dr.area?.attr({d:[...Io,["L",Kr-Mo,zr],["L",Mo,zr]]})}if(Do&&Do.enabled!==!1&&Kr){let Io=Math.min(vx(Do.radius,so),so);Zr.indexOf("url")===0&&(Do=og(Do,{width:eo,height:eo}),Io=0),Dr.symbol=yo=po.symbol(Zr,Kr/2-Io,_o-Io,2*Io,2*Io,zg({context:"legend"},Do)).addClass("highcharts-point").add(go),yo.isMarker=!0}}Ur.areaMarker=function(br,Er){mr.call(this,br,Er,!0)},Ur.lineMarker=mr,Ur.rectangle=function(br,Er){let Pr=Er.legendItem||{},Dr=br.options,$r=br.symbolHeight,Ir=Dr.squareSymbol,zr=Ir?$r:br.symbolWidth;Pr.symbol=this.chart.renderer.rect(Ir?(br.symbolWidth-$r)/2:0,br.baseline-$r+1,zr,$r,vx(br.options.symbolRadius,$r/2)).addClass("highcharts-point").attr({zIndex:3}).add(Pr.group)}})(fr||(fr={}));let lg=fr,{defaultOptions:Jp}=uc,{extend:Qb,extendClass:yh,merge:xy}=Uo;(function(Ur){function mr(br,Er){let Pr=Jp.plotOptions||{},Dr=Er.defaultOptions,$r=Er.prototype;return $r.type=br,$r.pointClass||($r.pointClass=Tf),!Ur.seriesTypes[br]&&(Dr&&(Pr[br]=Dr),Ur.seriesTypes[br]=Er,!0)}Ur.seriesTypes=Fr.seriesTypes,Ur.registerSeriesType=mr,Ur.seriesType=function(br,Er,Pr,Dr,$r){let Ir=Jp.plotOptions||{};if(Er=Er||"",Ir[br]=xy(Ir[Er],Pr),delete Ur.seriesTypes[br],mr(br,yh(Ur.seriesTypes[Er]||gd,Dr)),Ur.seriesTypes[br].prototype.type=br,$r){class zr extends Tf{}Qb(zr.prototype,$r),Ur.seriesTypes[br].prototype.pointClass=zr}return Ur.seriesTypes[br]}})(gr||(gr={}));let nh=gr,{animObject:yy,setAnimation:bx}=Gc,{defaultOptions:vy}=uc,{registerEventOptions:by}=vp,{svg:_y,win:mv}=Fr,{seriesTypes:Ch}=nh,{format:kh}=Ro,{arrayMax:Dm,arrayMin:cg,clamp:ug,correctFloat:wy,crisp:Jf,defined:sc,destroyObjectProperties:gv,diffObjects:xv,erase:hg,error:Hg,extend:dg,find:lb,fireEvent:au,getClosestDistance:cb,getNestedProperty:fg,insertItem:_x,isArray:yv,isNumber:Ah,isString:Vd,merge:df,objectEach:pg,pick:ih,removeEvent:wx,syncTimeout:Ey}=Uo;class Ud{constructor(){this.zoneAxis="y"}init(mr,br){let Er;au(this,"init",{options:br}),this.dataTable??(this.dataTable=new Pm);let Pr=mr.series;this.eventsToUnbind=[],this.chart=mr,this.options=this.setOptions(br);let Dr=this.options,$r=Dr.visible!==!1;this.linkedSeries=[],this.bindAxes(),dg(this,{name:Dr.name,state:"",visible:$r,selected:Dr.selected===!0}),by(this,Dr),(Dr.events?.click||Dr.point?.events?.click||Dr.allowPointSelect)&&(mr.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(mr.hasCartesianSeries=!0),Pr.length&&(Er=Pr[Pr.length-1]),this._i=ih(Er?._i,-1)+1,this.opacity=this.options.opacity,mr.orderItems("series",_x(this,Pr)),Dr.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(Dr.data,!1),au(this,"afterInit")}is(mr){return Ch[mr]&&this instanceof Ch[mr]}bindAxes(){let mr,br=this,Er=br.options,Pr=br.chart;au(this,"bindAxes",null,function(){(br.axisTypes||[]).forEach(function(Dr){(Pr[Dr]||[]).forEach(function($r){mr=$r.options,(ih(Er[Dr],0)===$r.index||Er[Dr]!==void 0&&Er[Dr]===mr.id)&&(_x(br,$r.series),br[Dr]=$r,$r.isDirty=!0)}),br[Dr]||br.optionalAxis===Dr||Hg(18,!0,Pr)})}),au(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(mr,br){let Er=mr.marker,Pr=br.marker||{};return Er&&(Pr.enabled&&!Er.enabled||Pr.symbol!==Er.symbol||Pr.height!==Er.height||Pr.width!==Er.width)}autoIncrement(mr){let br,Er=this.options,{pointIntervalUnit:Pr,relativeXValue:Dr}=this.options,$r=this.chart.time,Ir=this.xIncrement??$r.parse(Er.pointStart)??0;if(this.pointInterval=br=ih(this.pointInterval,Er.pointInterval,1),Dr&&Ah(mr)&&(br*=mr),Pr){let zr=$r.toParts(Ir);Pr==="day"?zr[2]+=br:Pr==="month"?zr[1]+=br:Pr==="year"&&(zr[0]+=br),br=$r.makeTime.apply($r,zr)-Ir}return Dr&&Ah(mr)?Ir+br:(this.xIncrement=Ir+br,Ir)}setDataSortingOptions(){let mr=this.options;dg(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),sc(mr.pointRange)||(mr.pointRange=1)}setOptions(mr){let br,Er=this.chart,Pr=Er.options.plotOptions,Dr=Er.userOptions||{},$r=df(mr),Ir=Er.styledMode,zr={plotOptions:Pr,userOptions:$r};au(this,"setOptions",zr);let Kr=zr.plotOptions[this.type],eo=Dr.plotOptions||{},Zr=eo.series||{},so=vy.plotOptions[this.type]||{},po=eo[this.type]||{};Kr.dataLabels=this.mergeArrays(so.dataLabels,Kr.dataLabels),this.userOptions=zr.userOptions;let go=df(Kr,Pr.series,po,$r);this.tooltipOptions=df(vy.tooltip,vy.plotOptions.series?.tooltip,so?.tooltip,Er.userOptions.tooltip,eo.series?.tooltip,po.tooltip,$r.tooltip),this.stickyTracking=ih($r.stickyTracking,po.stickyTracking,Zr.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||go.stickyTracking),Kr.marker===null&&delete go.marker,this.zoneAxis=go.zoneAxis||"y";let _o=this.zones=(go.zones||[]).map(vo=>({...vo}));return(go.negativeColor||go.negativeFillColor)&&!go.zones&&(br={value:go[this.zoneAxis+"Threshold"]||go.threshold||0,className:"highcharts-negative"},Ir||(br.color=go.negativeColor,br.fillColor=go.negativeFillColor),_o.push(br)),_o.length&&sc(_o[_o.length-1].value)&&_o.push(Ir?{}:{color:this.color,fillColor:this.fillColor}),au(this,"afterSetOptions",{options:go}),go}getName(){return this.options.name??kh(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(mr,br,Er){let Pr,Dr,$r=this.chart,Ir=`${mr}Index`,zr=`${mr}Counter`,Kr=Er?.length||$r.options.chart.colorCount;!br&&(sc(Dr=ih(mr==="color"?this.options.colorIndex:void 0,this[Ir]))?Pr=Dr:($r.series.length||($r[zr]=0),Pr=$r[zr]%Kr,$r[zr]+=1),Er&&(br=Er[Pr])),Pr!==void 0&&(this[Ir]=Pr),this[mr]=br}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||vy.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let mr=this.options.marker;this.getCyclic("symbol",mr.symbol,this.chart.options.symbols)}getColumn(mr,br){return(br?this.dataTable.modified:this.dataTable).getColumn(mr,!0)||[]}findPointIndex(mr,br){let Er,Pr,Dr,{id:$r,x:Ir}=mr,zr=this.points,Kr=this.options.dataSorting,eo=this.cropStart||0;if($r){let Zr=this.chart.get($r);Zr instanceof Tf&&(Er=Zr)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let Zr=so=>!so.touched&&so.index===mr.index;if(Kr?.matchByName?Zr=so=>!so.touched&&so.name===mr.name:this.options.relativeXValue&&(Zr=so=>!so.touched&&so.options.x===mr.x),!(Er=lb(zr,Zr)))return}return Er&&(Dr=Er?.index)!==void 0&&(Pr=!0),Dr===void 0&&Ah(Ir)&&(Dr=this.getColumn("x").indexOf(Ir,br)),Dr!==-1&&Dr!==void 0&&this.cropped&&(Dr=Dr>=eo?Dr-eo:Dr),!Pr&&Ah(Dr)&&zr[Dr]?.touched&&(Dr=void 0),Dr}updateData(mr,br){let{options:Er,requireSorting:Pr}=this,Dr=Er.dataSorting,$r=this.points,Ir=[],zr=mr.length===$r.length,Kr,eo,Zr,so,po=!0;if(this.xIncrement=null,mr.forEach((_o,vo)=>{let yo,Do=sc(_o)&&this.pointClass.prototype.optionsToObject.call({series:this},_o)||{},{id:Mo,x:Io}=Do;Mo||Ah(Io)?((yo=this.findPointIndex(Do,so))===-1||yo===void 0?Ir.push(_o):$r[yo]&&_o!==Er.data?.[yo]?($r[yo].update(_o,!1,void 0,!1),$r[yo].touched=!0,Pr&&(so=yo+1)):$r[yo]&&($r[yo].touched=!0),(!zr||vo!==yo||Dr?.enabled||this.hasDerivedData)&&(Kr=!0)):Ir.push(_o)},this),Kr)for(eo=$r.length;eo--;)(Zr=$r[eo])&&!Zr.touched&&Zr.remove?.(!1,br);else zr&&!Dr?.enabled?(mr.forEach((_o,vo)=>{_o===$r[vo].y||$r[vo].destroyed||$r[vo].update(_o,!1,void 0,!1)}),Ir.length=0):po=!1;if($r.forEach(_o=>{_o&&(_o.touched=!1)}),!po)return!1;Ir.forEach(_o=>{this.addPoint(_o,!1,void 0,void 0,!1)},this);let go=this.getColumn("x");return this.xIncrement===null&&go.length&&(this.xIncrement=Dm(go),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(mr,br=!0,Er,Pr){let Dr=this.points,$r=Dr?.length||0,Ir=this.options,zr=this.chart,Kr=Ir.dataSorting,eo=this.xAxis,Zr=Ir.turboThreshold,so=this.dataTable,po=this.dataColumnKeys(),go=this.pointValKey||"y",_o=(this.pointArrayMap||[]).length,vo=Ir.keys,yo,Do,Mo=0,Io=1,Yo;zr.options.chart.allowMutatingData||(Ir.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Yo=df(!0,mr));let Xo=(mr=Yo||mr||[]).length;if(Kr?.enabled&&(mr=this.sortData(mr)),zr.options.chart.allowMutatingData&&Pr!==!1&&Xo&&$r&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(Do=this.updateData(mr,Er)),!Do){this.xIncrement=null,this.colorCounter=0;let qo=Zr&&!Ir.relativeXValue&&Xo>Zr;if(qo){let Wo=this.getFirstValidPoint(mr),xl=this.getFirstValidPoint(mr,Xo-1,-1),vl=yl=>!!(yv(yl)&&(vo||Ah(yl[0])));if(Ah(Wo)&&Ah(xl)){let yl=[],Fl=[];for(let Zl of mr)yl.push(this.autoIncrement()),Fl.push(Zl);so.setColumns({x:yl,[go]:Fl})}else if(vl(Wo)&&vl(xl))if(_o){let yl=+(Wo.length===_o),Fl=Array(po.length).fill(0).map(()=>[]);for(let Zl of mr){yl&&Fl[0].push(this.autoIncrement());for(let Jl=yl;Jl<=_o;Jl++)Fl[Jl]?.push(Zl[Jl-yl])}so.setColumns(po.reduce((Zl,Jl,Ll)=>(Zl[Jl]=Fl[Ll],Zl),{}))}else{vo&&(Mo=vo.indexOf("x"),Io=vo.indexOf("y"),Mo=Mo>=0?Mo:0,Io=Io>=0?Io:1),Wo.length===1&&(Io=0);let yl=[],Fl=[];if(Mo===Io)for(let Zl of mr)yl.push(this.autoIncrement()),Fl.push(Zl[Io]);else for(let Zl of mr)yl.push(Zl[Mo]),Fl.push(Zl[Io]);so.setColumns({x:yl,[go]:Fl})}else qo=!1}if(!qo){let Wo=po.reduce((xl,vl)=>(xl[vl]=[],xl),{});for(yo=0;yo<Xo;yo++){let xl=this.pointClass.prototype.applyOptions.apply({series:this},[mr[yo]]);for(let vl of po)Wo[vl][yo]=xl[vl]}so.setColumns(Wo)}for(Vd(this.getColumn("y")[0])&&Hg(14,!0,zr),this.data=[],this.options.data=this.userOptions.data=mr,yo=$r;yo--;)Dr[yo]?.destroy();eo&&(eo.minRange=eo.userMinRange),this.isDirty=zr.isDirtyBox=!0,this.isDirtyData=!!Dr,Er=!1}Ir.legendType==="point"&&(this.processData(),this.generatePoints()),br&&zr.redraw(Er)}sortData(mr){let br=this,Er=br.options.dataSorting.sortKey||"y",Pr=function(Dr,$r){return sc($r)&&Dr.pointClass.prototype.optionsToObject.call({series:Dr},$r)||{}};return mr.forEach(function(Dr,$r){mr[$r]=Pr(br,Dr),mr[$r].index=$r},this),mr.concat().sort((Dr,$r)=>{let Ir=fg(Er,Dr),zr=fg(Er,$r);return zr<Ir?-1:+(zr>Ir)}).forEach(function(Dr,$r){Dr.x=$r},this),br.linkedSeries&&br.linkedSeries.forEach(function(Dr){let $r=Dr.options,Ir=$r.data;!$r.dataSorting?.enabled&&Ir&&(Ir.forEach(function(zr,Kr){Ir[Kr]=Pr(Dr,zr),mr[Kr]&&(Ir[Kr].x=mr[Kr].x,Ir[Kr].index=Kr)}),Dr.setData(Ir,!1))}),mr}getProcessedData(mr){let br=this,{dataTable:Er,isCartesian:Pr,options:Dr,xAxis:$r}=br,Ir=Dr.cropThreshold,zr=mr||br.getExtremesFromAll,Kr=$r?.logarithmic,eo=Er.rowCount,Zr,so,po=0,go,_o,vo,yo=br.getColumn("x"),Do=Er,Mo=!1;return $r&&(_o=(go=$r.getExtremes()).min,vo=go.max,Mo=!!($r.categories&&!$r.names.length),Pr&&br.sorted&&!zr&&(!Ir||eo>Ir||br.forceCrop)&&(yo[eo-1]<_o||yo[0]>vo?Do=new Pm:br.getColumn(br.pointValKey||"y").length&&(yo[0]<_o||yo[eo-1]>vo)&&(Do=(Zr=this.cropData(Er,_o,vo)).modified,po=Zr.start,so=!0))),yo=Do.getColumn("x")||[],{modified:Do,cropped:so,cropStart:po,closestPointRange:cb([Kr?yo.map(Kr.log2lin):yo],()=>br.requireSorting&&!Mo&&Hg(15,!1,br.chart))}}processData(mr){let br=this.xAxis,Er=this.dataTable;if(this.isCartesian&&!this.isDirty&&!br.isDirty&&!this.yAxis.isDirty&&!mr)return!1;let Pr=this.getProcessedData();Er.modified=Pr.modified,this.cropped=Pr.cropped,this.cropStart=Pr.cropStart,this.closestPointRange=this.basePointRange=Pr.closestPointRange,au(this,"afterProcessData")}cropData(mr,br,Er){let Pr=mr.getColumn("x",!0)||[],Dr=Pr.length,$r={},Ir,zr,Kr=0,eo=Dr;for(Ir=0;Ir<Dr;Ir++)if(Pr[Ir]>=br){Kr=Math.max(0,Ir-1);break}for(zr=Ir;zr<Dr;zr++)if(Pr[zr]>Er){eo=zr+1;break}for(let Zr of this.dataColumnKeys()){let so=mr.getColumn(Zr,!0);so&&($r[Zr]=so.slice(Kr,eo))}return{modified:new Pm({columns:$r}),start:Kr,end:eo}}generatePoints(){let mr=this.options,br=this.processedData||mr.data,Er=this.dataTable.modified,Pr=this.getColumn("x",!0),Dr=this.pointClass,$r=Er.rowCount,Ir=this.cropStart||0,zr=this.hasGroupedData,Kr=mr.keys,eo=[],Zr=mr.dataGrouping?.groupAll?Ir:0,so=this.xAxis?.categories,po=this.pointArrayMap||["y"],go=this.dataColumnKeys(),_o,vo,yo,Do,Mo=this.data,Io;if(!Mo&&!zr){let Yo=[];Yo.length=br?.length||0,Mo=this.data=Yo}for(Kr&&zr&&(this.options.keys=!1),Do=0;Do<$r;Do++)vo=Ir+Do,zr?((yo=new Dr(this,Er.getRow(Do,go)||[])).dataGroup=this.groupMap[Zr+Do],yo.dataGroup?.options&&(yo.options=yo.dataGroup.options,dg(yo,yo.dataGroup.options),delete yo.dataLabels)):(yo=Mo[vo],Io=br?br[vo]:Er.getRow(Do,po),yo||Io===void 0||(Mo[vo]=yo=new Dr(this,Io,Pr[Do]))),yo&&(yo.index=zr?Zr+Do:vo,eo[Do]=yo,yo.category=so?.[yo.x]??yo.x,yo.key=yo.name??yo.category);if(this.options.keys=Kr,Mo&&($r!==(_o=Mo.length)||zr))for(Do=0;Do<_o;Do++)Do!==Ir||zr||(Do+=$r),Mo[Do]&&(Mo[Do].destroyElements(),Mo[Do].plotX=void 0);this.data=Mo,this.points=eo,au(this,"afterGeneratePoints")}getXExtremes(mr){return{min:cg(mr),max:Dm(mr)}}getExtremes(mr,br){let{xAxis:Er,yAxis:Pr}=this,Dr=br||this.getExtremesFromAll||this.options.getExtremesFromAll,$r=Dr&&this.cropped?this.dataTable:this.dataTable.modified,Ir=$r.rowCount,zr=mr||this.stackedYData,Kr=zr?[zr]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(Yo=>$r.getColumn(Yo,!0)||[])||[],eo=this.getColumn("x",!0),Zr=[],so=this.requireSorting&&!this.is("column")?1:0,po=!!Pr&&Pr.positiveValuesOnly,go=Dr||this.cropped||!Er,_o,vo,yo,Do=0,Mo=0;for(Er&&(Do=(_o=Er.getExtremes()).min,Mo=_o.max),yo=0;yo<Ir;yo++)if(vo=eo[yo],go||(eo[yo+so]||vo)>=Do&&(eo[yo-so]||vo)<=Mo)for(let Yo of Kr){let Xo=Yo[yo];Ah(Xo)&&(Xo>0||!po)&&Zr.push(Xo)}let Io={activeYData:Zr,dataMin:cg(Zr),dataMax:Dm(Zr)};return au(this,"afterGetExtremes",{dataExtremes:Io}),Io}applyExtremes(){let mr=this.getExtremes();return this.dataMin=mr.dataMin,this.dataMax=mr.dataMax,mr}getFirstValidPoint(mr,br=0,Er=1){let Pr=mr.length,Dr=br;for(;Dr>=0&&Dr<Pr;){if(sc(mr[Dr]))return mr[Dr];Dr+=Er}}translate(){this.generatePoints();let mr=this.options,br=mr.stacking,Er=this.xAxis,Pr=this.enabledDataSorting,Dr=this.yAxis,$r=this.points,Ir=$r.length,zr=this.pointPlacementToXValue(),Kr=!!zr,eo=mr.threshold,Zr=mr.startFromThreshold?eo:0,so=mr?.nullInteraction&&Dr.len,po,go,_o,vo,yo=Number.MAX_VALUE;function Do(Mo){return ug(Mo,-1e9,1e9)}for(po=0;po<Ir;po++){let Mo,Io=$r[po],Yo=Io.x,Xo,qo,Wo=Io.y,xl=Io.low,vl=br&&Dr.stacking?.stacks[(this.negStacks&&Wo<(Zr?0:eo)?"-":"")+this.stackKey];Io.plotX=Ah(go=Er.translate(Yo,!1,!1,!1,!0,zr))?wy(Do(go)):void 0,br&&this.visible&&vl&&vl[Yo]&&(vo=this.getStackIndicator(vo,Yo,this.index),!Io.isNull&&vo.key&&(qo=(Xo=vl[Yo]).points[vo.key]),Xo&&yv(qo)&&(xl=qo[0],Wo=qo[1],xl===Zr&&vo.key===vl[Yo].base&&(xl=ih(Ah(eo)?eo:Dr.min)),Dr.positiveValuesOnly&&sc(xl)&&xl<=0&&(xl=void 0),Io.total=Io.stackTotal=ih(Xo.total),Io.percentage=sc(Io.y)&&Xo.total?Io.y/Xo.total*100:void 0,Io.stackY=Wo,this.irregularWidths||Xo.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Io.yBottom=sc(xl)?Do(Dr.translate(xl,!1,!0,!1,!0)):void 0,this.dataModify&&(Wo=this.dataModify.modifyValue(Wo,po)),Ah(Wo)&&Io.plotX!==void 0?Mo=Ah(Mo=Dr.translate(Wo,!1,!0,!1,!0))?Do(Mo):void 0:!Ah(Wo)&&so&&(Mo=so),Io.plotY=Mo,Io.isInside=this.isPointInside(Io),Io.clientX=Kr?wy(Er.translate(Yo,!1,!1,!1,!0,zr)):go,Io.negative=(Io.y||0)<(eo||0),Io.isNull||Io.visible===!1||(_o!==void 0&&(yo=Math.min(yo,Math.abs(go-_o))),_o=go),Io.zone=this.zones.length?Io.getZone():void 0,!Io.graphic&&this.group&&Pr&&(Io.isNew=!0)}this.closestPointRangePx=yo,au(this,"afterTranslate")}getValidPoints(mr,br,Er){let Pr=this.chart;return(mr||this.points||[]).filter(function(Dr){let{plotX:$r,plotY:Ir}=Dr;return(!!Er||!Dr.isNull&&!!Ah(Ir))&&(!br||!!Pr.isInsidePlot($r,Ir,{inverted:Pr.inverted}))&&Dr.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:mr,group:br,markerGroup:Er}=this,Pr=mr.sharedClips,Dr=mr.renderer,$r=mr.getClipBox(this),Ir=this.getSharedClipKey(),zr=Pr[Ir];zr?zr.animate($r):Pr[Ir]=zr=Dr.clipRect($r),br&&br.clip(this.options.clip===!1?void 0:zr),Er&&Er.clip()}animate(mr){let{chart:br,group:Er,markerGroup:Pr}=this,Dr=br.inverted,$r=yy(this.options.animation),Ir=[this.getSharedClipKey(),$r.duration,$r.easing,$r.defer].join(","),zr=br.sharedClips[Ir],Kr=br.sharedClips[Ir+"m"];if(mr&&Er){let eo=br.getClipBox(this);if(zr)zr.attr("height",eo.height);else{eo.width=0,Dr&&(eo.x=br.plotHeight),zr=br.renderer.clipRect(eo),br.sharedClips[Ir]=zr;let Zr={x:-99,y:-99,width:Dr?br.plotWidth+199:99,height:Dr?99:br.plotHeight+199};Kr=br.renderer.clipRect(Zr),br.sharedClips[Ir+"m"]=Kr}Er.clip(zr),Pr?.clip(Kr)}else if(zr&&!zr.hasClass("highcharts-animating")){let eo=br.getClipBox(this),Zr=$r.step;(Pr?.element.childNodes.length||br.series.length>1)&&($r.step=function(so,po){Zr&&Zr.apply(po,arguments),po.prop==="width"&&Kr?.element&&Kr.attr(Dr?"height":"width",so+99)}),zr.addClass("highcharts-animating").animate(eo,$r)}}afterAnimate(){this.setClip(),pg(this.chart.sharedClips,(mr,br,Er)=>{mr&&!this.chart.container.querySelector(`[clip-path="url(#${mr.id})"]`)&&(mr.destroy(),delete Er[br])}),this.finishedAnimating=!0,au(this,"afterAnimate")}drawPoints(mr=this.points){let br,Er,Pr,Dr,$r,Ir,zr,Kr=this.chart,eo=Kr.styledMode,{colorAxis:Zr,options:so}=this,po=so.marker,go=so.nullInteraction,_o=this[this.specialGroup||"markerGroup"],vo=this.xAxis,yo=ih(po.enabled,!vo||!!vo.isRadial||null,this.closestPointRangePx>=po.enabledThreshold*po.radius);if(po.enabled!==!1||this._hasPointMarkers)for(br=0;br<mr.length;br++){Dr=(Pr=(Er=mr[br]).graphic)?"animate":"attr",$r=Er.marker||{},Ir=!!Er.marker;let Do=Er.isNull;if((yo&&!sc($r.enabled)||$r.enabled)&&(!Do||go)&&Er.visible!==!1){let Mo=ih($r.symbol,this.symbol,"rect");zr=this.markerAttribs(Er,Er.selected&&"select"),this.enabledDataSorting&&(Er.startXPos=vo.reversed?-(zr.width||0):vo.width);let Io=Er.isInside!==!1;if(!Pr&&Io&&((zr.width||0)>0||Er.hasImage)&&(Er.graphic=Pr=Kr.renderer.symbol(Mo,zr.x,zr.y,zr.width,zr.height,Ir?$r:po).add(_o),this.enabledDataSorting&&Kr.hasRendered&&(Pr.attr({x:Er.startXPos}),Dr="animate")),Pr&&Dr==="animate"&&Pr[Io?"show":"hide"](Io).animate(zr),Pr){let Yo=this.pointAttribs(Er,eo||!Er.selected?void 0:"select");eo?Zr&&Pr.css({fill:Yo.fill}):Pr[Dr](Yo)}Pr&&Pr.addClass(Er.getClassName(),!0)}else Pr&&(Er.graphic=Pr.destroy())}}markerAttribs(mr,br){let Er=this.options,Pr=Er.marker,Dr=mr.marker||{},$r=Dr.symbol||Pr.symbol,Ir={},zr,Kr,eo=ih(Dr.radius,Pr?.radius);br&&(zr=Pr.states[br],Kr=Dr.states&&Dr.states[br],eo=ih(Kr?.radius,zr?.radius,eo&&eo+(zr?.radiusPlus||0))),mr.hasImage=$r&&$r.indexOf("url")===0,mr.hasImage&&(eo=0);let Zr=mr.pos();return Ah(eo)&&Zr&&(Er.crisp&&(Zr[0]=Jf(Zr[0],mr.hasImage?0:$r==="rect"?Pr?.lineWidth||0:1)),Ir.x=Zr[0]-eo,Ir.y=Zr[1]-eo),eo&&(Ir.width=Ir.height=2*eo),Ir}pointAttribs(mr,br){let Er=this.options,Pr=Er.marker,Dr=mr?.options,$r=Dr?.marker||{},Ir=Dr?.color,zr=mr?.color,Kr=mr?.zone?.color,eo,Zr,so=this.color,po,go,_o=ih($r.lineWidth,Pr.lineWidth),vo=mr?.isNull&&Er.nullInteraction?0:1;return so=Ir||Kr||zr||so,po=$r.fillColor||Pr.fillColor||so,go=$r.lineColor||Pr.lineColor||so,br=br||"normal",eo=Pr.states[br]||{},_o=ih((Zr=$r.states&&$r.states[br]||{}).lineWidth,eo.lineWidth,_o+ih(Zr.lineWidthPlus,eo.lineWidthPlus,0)),po=Zr.fillColor||eo.fillColor||po,go=Zr.lineColor||eo.lineColor||go,{stroke:go,"stroke-width":_o,fill:po,opacity:vo=ih(Zr.opacity,eo.opacity,vo)}}destroy(mr){let br,Er,Pr=this,Dr=Pr.chart,$r=/AppleWebKit\/533/.test(mv.navigator.userAgent),Ir=Pr.data||[];for(au(Pr,"destroy",{keepEventsForUpdate:mr}),this.removeEvents(mr),(Pr.axisTypes||[]).forEach(function(zr){Er=Pr[zr],Er?.series&&(hg(Er.series,Pr),Er.isDirty=Er.forceRedraw=!0)}),Pr.legendItem&&Pr.chart.legend.destroyItem(Pr),br=Ir.length;br--;)Ir[br]?.destroy?.();for(let zr of Pr.zones)gv(zr,void 0,!0);Uo.clearTimeout(Pr.animationTimeout),pg(Pr,function(zr,Kr){zr instanceof nf&&!zr.survive&&zr[$r&&Kr==="group"?"hide":"destroy"]()}),Dr.hoverSeries===Pr&&(Dr.hoverSeries=void 0),hg(Dr.series,Pr),Dr.orderItems("series"),pg(Pr,function(zr,Kr){mr&&Kr==="hcEvents"||delete Pr[Kr]})}applyZones(){let{area:mr,chart:br,graph:Er,zones:Pr,points:Dr,xAxis:$r,yAxis:Ir,zoneAxis:zr}=this,{inverted:Kr,renderer:eo}=br,Zr=this[`${zr}Axis`],{isXAxis:so,len:po=0,minPointOffset:go=0}=Zr||{},_o=(Er?.strokeWidth()||0)/2+1,vo=(yo,Do=0,Mo=0)=>{Kr&&(Mo=po-Mo);let{translated:Io=0,lineClip:Yo}=yo,Xo=Mo-Io;Yo?.push(["L",Do,Math.abs(Xo)<_o?Mo-_o*(Xo<=0?-1:1):Io])};if(Pr.length&&(Er||mr)&&Zr&&Ah(Zr.min)){let yo=Zr.getExtremes().max+go,Do=Yo=>{Yo.forEach((Xo,qo)=>{(Xo[0]==="M"||Xo[0]==="L")&&(Yo[qo]=[Xo[0],so?po-Xo[1]:Xo[1],so?Xo[2]:po-Xo[2]])})};if(Pr.forEach(Yo=>{Yo.lineClip=[],Yo.translated=ug(Zr.toPixels(ih(Yo.value,yo),!0)||0,0,po)}),Er&&!this.showLine&&Er.hide(),mr&&mr.hide(),zr==="y"&&Dr.length<$r.len)for(let Yo of Dr){let{plotX:Xo,plotY:qo,zone:Wo}=Yo,xl=Wo&&Pr[Pr.indexOf(Wo)-1];Wo&&vo(Wo,Xo,qo),xl&&vo(xl,Xo,qo)}let Mo=[],Io=Zr.toPixels(Zr.getExtremes().min-go,!0);Pr.forEach(Yo=>{let Xo=Yo.lineClip||[],qo=Math.round(Yo.translated||0);$r.reversed&&Xo.reverse();let{clip:Wo,simpleClip:xl}=Yo,vl=0,yl=0,Fl=$r.len,Zl=Ir.len;so?(vl=qo,Fl=Io):(yl=qo,Zl=Io);let Jl=[["M",vl,yl],["L",Fl,yl],["L",Fl,Zl],["L",vl,Zl],["Z"]],Ll=[Jl[0],...Xo,Jl[1],Jl[2],...Mo,Jl[3],Jl[4]];Mo=Xo.reverse(),Io=qo,Kr&&(Do(Ll),mr&&Do(Jl)),Wo?(Wo.animate({d:Ll}),xl?.animate({d:Jl})):(Wo=Yo.clip=eo.path(Ll),mr&&(xl=Yo.simpleClip=eo.path(Jl))),Er&&Yo.graph?.clip(Wo),mr&&Yo.area?.clip(xl)})}else this.visible&&(Er&&Er.show(),mr&&mr.show())}plotGroup(mr,br,Er,Pr,Dr){let $r=this[mr],Ir=!$r,zr={visibility:Er,zIndex:Pr||.1};return sc(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(zr.opacity=this.opacity),$r||(this[mr]=$r=this.chart.renderer.g().add(Dr)),$r.addClass("highcharts-"+br+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(sc(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+($r.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),$r.attr(zr)[Ir?"attr":"animate"](this.getPlotBox(br)),$r}getPlotBox(mr){let br=this.xAxis,Er=this.yAxis,Pr=this.chart,Dr=Pr.inverted&&!Pr.polar&&br&&this.invertible&&mr==="series";Pr.inverted&&(br=Er,Er=this.xAxis);let $r={scale:1,translateX:br?br.left:Pr.plotLeft,translateY:Er?Er.top:Pr.plotTop,name:mr};au(this,"getPlotBox",$r);let{scale:Ir,translateX:zr,translateY:Kr}=$r;return{translateX:zr,translateY:Kr,rotation:90*!!Dr,rotationOriginX:Dr?Ir*(br.len-Er.len)/2:0,rotationOriginY:Dr?Ir*(br.len+Er.len)/2:0,scaleX:Dr?-Ir:Ir,scaleY:Ir}}removeEvents(mr){let{eventsToUnbind:br}=this;mr||wx(this),br.length&&(br.forEach(Er=>{Er()}),br.length=0)}render(){let mr=this,{chart:br,options:Er,hasRendered:Pr}=mr,Dr=yy(Er.animation),$r=mr.visible?"inherit":"hidden",Ir=Er.zIndex,zr=br.seriesGroup,Kr=mr.finishedAnimating?0:Dr.duration;au(this,"render"),mr.plotGroup("group","series",$r,Ir,zr),mr.markerGroup=mr.plotGroup("markerGroup","markers",$r,Ir,zr),Er.clip!==!1&&mr.setClip(),Kr&&mr.animate?.(!0),mr.drawGraph&&(mr.drawGraph(),mr.applyZones()),mr.visible&&mr.drawPoints(),mr.drawDataLabels?.(),mr.redrawPoints?.(),Er.enableMouseTracking&&mr.drawTracker?.(),Kr&&mr.animate?.(),Pr||(Kr&&Dr.defer&&(Kr+=Dr.defer),mr.animationTimeout=Ey(()=>{mr.afterAnimate()},Kr||0)),mr.isDirty=!1,mr.hasRendered=!0,au(mr,"afterRender")}redraw(){let mr=this.isDirty||this.isDirtyData;this.translate(),this.render(),mr&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(mr,br){let{xAxis:Er,yAxis:Pr}=this,Dr=this.chart.inverted;return this.searchKDTree({clientX:Dr?Er.len-mr.chartY+Er.pos:mr.chartX-Er.pos,plotY:Dr?Pr.len-mr.chartX+Pr.pos:mr.chartY-Pr.pos},br,mr)}buildKDTree(mr){this.buildingKdTree=!0;let br=this,Er=br.options,Pr=Er.findNearestPointBy.indexOf("y")>-1?2:1;delete br.kdTree,Ey(function(){br.kdTree=(function Dr($r,Ir,zr){let Kr,eo,Zr=$r?.length;if(Zr)return Kr=br.kdAxisArray[Ir%zr],$r.sort((so,po)=>(so[Kr]||0)-(po[Kr]||0)),{point:$r[eo=Math.floor(Zr/2)],left:Dr($r.slice(0,eo),Ir+1,zr),right:Dr($r.slice(eo+1),Ir+1,zr)}})(br.getValidPoints(void 0,!br.directTouch,Er?.nullInteraction),Pr,Pr),br.buildingKdTree=!1},Er.kdNow||mr?.type==="touchstart"?0:1)}searchKDTree(mr,br,Er,Pr,Dr){let $r=this,[Ir,zr]=this.kdAxisArray,Kr=br?"distX":"dist",eo=($r.options.findNearestPointBy||"").indexOf("y")>-1?2:1,Zr=!!$r.isBubble,so=Pr||((go,_o,vo)=>{let yo=go[vo]||0,Do=_o[vo]||0;return[yo===Do&&go.index>_o.index||yo<Do?go:_o,!1]}),po=Dr||((go,_o)=>go<_o);if(this.kdTree||this.buildingKdTree||this.buildKDTree(Er),this.kdTree)return(function go(_o,vo,yo,Do){let Mo=vo.point,Io=$r.kdAxisArray[yo%Do],Yo=Mo,Xo=!1;(function(vl,yl){let Fl=vl[Ir],Zl=yl[Ir],Jl=sc(Fl)&&sc(Zl)?Fl-Zl:null,Ll=vl[zr],Gl=yl[zr],Ql=sc(Ll)&&sc(Gl)?Ll-Gl:0,Hc=Zr&&yl.marker?.radius||0;yl.dist=Math.sqrt((Jl&&Jl*Jl||0)+Ql*Ql)-Hc,yl.distX=sc(Jl)?Math.abs(Jl)-Hc:Number.MAX_VALUE})(_o,Mo);let qo=(_o[Io]||0)-(Mo[Io]||0)+(Zr&&Mo.marker?.radius||0),Wo=qo<0?"left":"right",xl=qo<0?"right":"left";return vo[Wo]&&([Yo,Xo]=so(Mo,go(_o,vo[Wo],yo+1,Do),Kr)),vo[xl]&&po(Math.sqrt(qo*qo),Yo[Kr],Xo)&&(Yo=so(Yo,go(_o,vo[xl],yo+1,Do),Kr)[0]),Yo})(mr,this.kdTree,eo,eo)}pointPlacementToXValue(){let{options:mr,xAxis:br}=this,Er=mr.pointPlacement;return Er==="between"&&(Er=br.reversed?-.5:.5),Ah(Er)?Er*(mr.pointRange||br.pointRange):0}isPointInside(mr){let{chart:br,xAxis:Er,yAxis:Pr}=this,{plotX:Dr=-1,plotY:$r=-1}=mr;return $r>=0&&$r<=(Pr?Pr.len:br.plotHeight)&&Dr>=0&&Dr<=(Er?Er.len:br.plotWidth)}drawTracker(){let mr=this,br=mr.options,Er=br.trackByArea,Pr=[].concat((Er?mr.areaPath:mr.graphPath)||[]),Dr=mr.chart,$r=Dr.pointer,Ir=Dr.renderer,zr=Dr.options.tooltip?.snap||0,Kr=()=>{br.enableMouseTracking&&Dr.hoverSeries!==mr&&mr.onMouseOver()},eo="rgba(192,192,192,"+(_y?1e-4:.002)+")",Zr=mr.tracker;Zr?Zr.attr({d:Pr}):mr.graph&&(mr.tracker=Zr=Ir.path(Pr).attr({visibility:mr.visible?"inherit":"hidden",zIndex:2}).addClass(Er?"highcharts-tracker-area":"highcharts-tracker-line").add(mr.group),Dr.styledMode||Zr.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:eo,fill:Er?eo:"none","stroke-width":mr.graph.strokeWidth()+(Er?0:2*zr)}),[mr.tracker,mr.markerGroup,mr.dataLabelsGroup].forEach(so=>{so&&(so.addClass("highcharts-tracker").on("mouseover",Kr).on("mouseout",po=>{$r?.onTrackerMouseOut(po)}),br.cursor&&!Dr.styledMode&&so.css({cursor:br.cursor}),so.on("touchstart",Kr))})),au(this,"afterDrawTracker")}addPoint(mr,br,Er,Pr,Dr){let $r,Ir,zr=this.options,{chart:Kr,data:eo,dataTable:Zr,xAxis:so}=this,po=so?.hasNames&&so.names,go=zr.data,_o=this.getColumn("x");br=ih(br,!0);let vo={series:this};this.pointClass.prototype.applyOptions.apply(vo,[mr]);let yo=vo.x;if(Ir=_o.length,this.requireSorting&&yo<_o[Ir-1])for($r=!0;Ir&&_o[Ir-1]>yo;)Ir--;Zr.setRow(vo,Ir,!0,{addColumns:!1}),po&&vo.name&&(po[yo]=vo.name),go?.splice(Ir,0,mr),($r||this.processedData)&&(this.data.splice(Ir,0,null),this.processData()),zr.legendType==="point"&&this.generatePoints(),Er&&(eo[0]&&eo[0].remove?eo[0].remove(!1):([eo,go].filter(sc).forEach(Do=>{Do.shift()}),Zr.deleteRows(0))),Dr!==!1&&au(this,"addPoint",{point:vo}),this.isDirty=!0,this.isDirtyData=!0,br&&Kr.redraw(Pr)}removePoint(mr,br,Er){let Pr=this,{chart:Dr,data:$r,points:Ir,dataTable:zr}=Pr,Kr=$r[mr],eo=function(){[Ir?.length===$r.length?Ir:void 0,$r,Pr.options.data].filter(sc).forEach(Zr=>{Zr.splice(mr,1)}),zr.deleteRows(mr),Kr?.destroy(),Pr.isDirty=!0,Pr.isDirtyData=!0,br&&Dr.redraw()};bx(Er,Dr),br=ih(br,!0),Kr?Kr.firePointEvent("remove",null,eo):eo()}remove(mr,br,Er,Pr){let Dr=this,$r=Dr.chart;function Ir(){Dr.destroy(Pr),$r.isDirtyLegend=$r.isDirtyBox=!0,$r.linkSeries(Pr),ih(mr,!0)&&$r.redraw(br)}Er!==!1?au(Dr,"remove",null,Ir):Ir()}update(mr,br){au(this,"update",{options:mr=xv(mr,this.userOptions)});let Er=this,Pr=Er.chart,Dr=Er.userOptions,$r=Er.initialType||Er.type,Ir=Pr.options.plotOptions,zr=Ch[$r].prototype,Kr=Er.finishedAnimating&&{animation:!1},eo={},Zr,so,po=Ud.keepProps.slice(),go=mr.type||Dr.type||Pr.options.chart.type,_o=!(this.hasDerivedData||go&&go!==this.type||mr.keys!==void 0||mr.pointStart!==void 0||mr.pointInterval!==void 0||mr.relativeXValue!==void 0||mr.joinBy||mr.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(yo=>Er.hasOptionChanged(yo)));go=go||$r,_o?(po.push.apply(po,Ud.keepPropsForPoints),mr.visible!==!1&&po.push("area","graph"),Er.parallelArrays.forEach(function(yo){po.push(yo+"Data")}),mr.data&&(mr.dataSorting&&dg(Er.options.dataSorting,mr.dataSorting),this.setData(mr.data,!1))):this.dataTable.modified=this.dataTable,mr=df(Dr,{index:Dr.index===void 0?Er.index:Dr.index,pointStart:Ir?.series?.pointStart??Dr.pointStart??Er.getColumn("x")[0]},!_o&&{data:Er.options.data},mr,Kr),_o&&mr.data&&(mr.data=Er.options.data),(po=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(po)).forEach(function(yo){po[yo]=Er[yo],delete Er[yo]});let vo=!1;if(Ch[go]){if(vo=go!==Er.type,Er.remove(!1,!1,!1,!0),vo)if(Pr.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(Er,Ch[go].prototype);else{let yo=Object.hasOwnProperty.call(Er,"hcEvents")&&Er.hcEvents;for(so in zr)Er[so]=void 0;dg(Er,Ch[go].prototype),yo?Er.hcEvents=yo:delete Er.hcEvents}}else Hg(17,!0,Pr,{missingModuleFor:go});if(po.forEach(function(yo){Er[yo]=po[yo]}),Er.init(Pr,mr),_o&&this.points)for(let yo of((Zr=Er.options).visible===!1?(eo.graphic=1,eo.dataLabel=1):(this.hasMarkerChanged(Zr,Dr)&&(eo.graphic=1),Er.hasDataLabels?.()||(eo.dataLabel=1)),this.points))yo?.series&&(yo.resolveColor(),Object.keys(eo).length&&yo.destroyElements(eo),Zr.showInLegend===!1&&yo.legendItem&&Pr.legend.destroyItem(yo));Er.initialType=$r,Pr.linkSeries(),Pr.setSortedData(),vo&&Er.linkedSeries.length&&(Er.isDirtyData=!0),au(this,"afterUpdate"),ih(br,!0)&&Pr.redraw(!!_o&&void 0)}setName(mr){this.name=this.options.name=this.userOptions.name=mr,this.chart.isDirtyLegend=!0}hasOptionChanged(mr){let br=this.chart,Er=this.options[mr],Pr=br.options.plotOptions,Dr=this.userOptions[mr],$r=ih(Pr?.[this.type]?.[mr],Pr?.series?.[mr]);return Dr&&!sc($r)?Er!==Dr:Er!==ih($r,Er)}onMouseOver(){let mr=this.chart,br=mr.hoverSeries;mr.pointer?.setHoverChartIndex(),br&&br!==this&&br.onMouseOut(),this.options.events.mouseOver&&au(this,"mouseOver"),this.setState("hover"),mr.hoverSeries=this}onMouseOut(){let mr=this.options,br=this.chart,Er=br.tooltip,Pr=br.hoverPoint;br.hoverSeries=null,Pr&&Pr.onMouseOut(),this&&mr.events.mouseOut&&au(this,"mouseOut"),Er&&!this.stickyTracking&&(!Er.shared||this.noSharedTooltip)&&Er.hide(),br.series.forEach(function(Dr){Dr.setState("",!0)})}setState(mr,br){let Er=this,Pr=Er.options,Dr=Er.graph,$r=Pr.inactiveOtherPoints,Ir=Pr.states,zr=ih(Ir[mr||"normal"]&&Ir[mr||"normal"].animation,Er.chart.options.chart.animation),Kr=Pr.lineWidth,eo=Pr.opacity;if(mr=mr||"",Er.state!==mr&&([Er.group,Er.markerGroup,Er.dataLabelsGroup].forEach(function(Zr){Zr&&(Er.state&&Zr.removeClass("highcharts-series-"+Er.state),mr&&Zr.addClass("highcharts-series-"+mr))}),Er.state=mr,!Er.chart.styledMode)){if(Ir[mr]&&Ir[mr].enabled===!1)return;if(mr&&(Kr=Ir[mr].lineWidth||Kr+(Ir[mr].lineWidthPlus||0),eo=ih(Ir[mr].opacity,eo)),Dr&&!Dr.dashstyle&&Ah(Kr))for(let Zr of[Dr,...this.zones.map(so=>so.graph)])Zr?.animate({"stroke-width":Kr},zr);$r||[Er.group,Er.markerGroup,Er.dataLabelsGroup,Er.labelBySeries].forEach(function(Zr){Zr&&Zr.animate({opacity:eo},zr)})}br&&$r&&Er.points&&Er.setAllPointsToState(mr||void 0)}setAllPointsToState(mr){this.points.forEach(function(br){br.setState&&br.setState(mr)})}setVisible(mr,br){let Er=this,Pr=Er.chart,Dr=Pr.options.chart.ignoreHiddenSeries,$r=Er.visible;Er.visible=mr=Er.options.visible=Er.userOptions.visible=mr===void 0?!$r:mr;let Ir=mr?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(zr=>{Er[zr]?.[Ir]()}),(Pr.hoverSeries===Er||Pr.hoverPoint?.series===Er)&&Er.onMouseOut(),Er.legendItem&&Pr.legend.colorizeItem(Er,mr),Er.isDirty=!0,Er.options.stacking&&Pr.series.forEach(zr=>{zr.options.stacking&&zr.visible&&(zr.isDirty=!0)}),Er.linkedSeries.forEach(zr=>{zr.setVisible(mr,!1)}),Dr&&(Pr.isDirtyBox=!0),au(Er,Ir),br!==!1&&Pr.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(mr){this.selected=mr=this.options.selected=mr===void 0?!this.selected:mr,this.checkbox&&(this.checkbox.checked=mr),au(this,mr?"select":"unselect")}shouldShowTooltip(mr,br,Er={}){return Er.series=this,Er.visiblePlotOnly=!0,this.chart.isInsidePlot(mr,br,Er)}drawLegendSymbol(mr,br){lg[this.options.legendSymbol||"rectangle"]?.call(this,mr,br)}}Ud.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:Ur}=this.series.chart;return typeof this.y!="number"?"":Ur(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Ud.types=nh.seriesTypes,Ud.registerType=nh.registerSeriesType,Ud.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Ud.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],dg(Ud.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Tf,requireSorting:!0,sorted:!0}),nh.series=Ud;let gd=Ud,{animObject:vv,setAnimation:Sy}=Gc,{registerEventOptions:Yd}=vp,{composed:ub,marginNames:Mf}=Fr,{distribute:Ex}=wc,{format:bv}=Ro,{addEvent:Mm,createElement:Jb,css:hb,defined:jy,discardElement:_v,find:wv,fireEvent:Pp,isNumber:Sx,merge:em,pick:ch,pushUnique:Nf,relativeLength:db,stableSort:fb,syncTimeout:Ry}=Uo;class Dp{constructor(mr,br){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=mr,this.setOptions(br),br.enabled&&(this.render(),Yd(this,br),Mm(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Mm(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(mr){let br=ch(mr.padding,8);this.options=mr,this.chart.styledMode||(this.itemStyle=mr.itemStyle,this.itemHiddenStyle=em(this.itemStyle,mr.itemHiddenStyle)),this.itemMarginTop=mr.itemMarginTop,this.itemMarginBottom=mr.itemMarginBottom,this.padding=br,this.initialItemY=br-5,this.symbolWidth=ch(mr.symbolWidth,16),this.pages=[],this.proximate=mr.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(mr,br){let Er=this.chart;this.setOptions(em(!0,this.options,mr)),"events"in this.options&&Yd(this,this.options),this.destroy(),Er.isDirtyLegend=Er.isDirtyBox=!0,ch(br,!0)&&Er.redraw(),Pp(this,"afterUpdate",{redraw:br})}colorizeItem(mr,br){let Er=mr.color,{area:Pr,group:Dr,label:$r,line:Ir,symbol:zr}=mr.legendItem||{};if((mr instanceof gd||mr instanceof Tf)&&(mr.color=mr.options?.legendSymbolColor||Er),Dr?.[br?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:Kr={}}=this,eo=Kr.color,{fillColor:Zr,fillOpacity:so,lineColor:po,marker:go}=mr.options,_o=vo=>(!br&&(vo.fill&&(vo.fill=eo),vo.stroke&&(vo.stroke=eo)),vo);$r?.css(em(br?this.itemStyle:Kr)),Ir?.attr(_o({stroke:po||mr.color})),zr&&zr.attr(_o(go&&zr.isMarker?mr.pointAttribs():{fill:mr.color})),Pr?.attr(_o({fill:Zr||mr.color,"fill-opacity":Zr?1:so??.75}))}mr.color=Er,Pp(this,"afterColorizeItem",{item:mr,visible:br})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(mr){let{group:br,x:Er=0,y:Pr=0}=mr.legendItem||{},Dr=this.options,$r=Dr.symbolPadding,Ir=!Dr.rtl,zr=mr.checkbox;if(br?.element){let Kr={translateX:Ir?Er:this.legendWidth-Er-2*$r-4,translateY:Pr};br[jy(br.translateY)?"animate":"attr"](Kr,void 0,()=>{Pp(this,"afterPositionItem",{item:mr})})}zr&&(zr.x=Er,zr.y=Pr)}destroyItem(mr){let br=mr.legendItem||{};for(let Er of["group","label","line","symbol"])br[Er]&&(br[Er]=br[Er].destroy());mr.checkbox=_v(mr.checkbox),mr.legendItem=void 0}destroy(){for(let mr of this.getAllItems())this.destroyItem(mr);for(let mr of["clipRect","up","down","pager","nav","box","title","group"])this[mr]&&(this[mr]=this[mr].destroy());this.display=null}positionCheckboxes(){let mr,br=this.group?.alignAttr,Er=this.clipHeight||this.legendHeight,Pr=this.titleHeight;br&&(mr=br.translateY,this.allItems.forEach(function(Dr){let $r,Ir=Dr.checkbox;Ir&&($r=mr+Pr+Ir.y+(this.scrollOffset||0)+3,hb(Ir,{left:br.translateX+Dr.checkboxOffset+Ir.x-20+"px",top:$r+"px",display:this.proximate||$r>mr-6&&$r<mr+Er-6?"":"none"}))},this))}renderTitle(){let mr=this.options,br=this.padding,Er=mr.title,Pr,Dr=0;Er.text&&(this.title||(this.title=this.chart.renderer.label(Er.text,br-3,br-4,void 0,void 0,void 0,mr.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(Er.style),this.title.add(this.group)),Er.width||this.title.css({width:this.maxLegendWidth+"px"}),Dr=(Pr=this.title.getBBox()).height,this.offsetWidth=Pr.width,this.contentGroup.attr({translateY:Dr})),this.titleHeight=Dr}setText(mr){let br=this.options;mr.legendItem.label.attr({text:br.labelFormat?bv(br.labelFormat,mr,this.chart):br.labelFormatter.call(mr)})}renderItem(mr){let br=mr.legendItem=mr.legendItem||{},Er=this.chart,Pr=Er.renderer,Dr=this.options,$r=Dr.layout==="horizontal",Ir=this.symbolWidth,zr=Dr.symbolPadding||0,Kr=this.itemStyle,eo=this.itemHiddenStyle,Zr=$r?ch(Dr.itemDistance,20):0,so=!Dr.rtl,po=!mr.series,go=!po&&mr.series.drawLegendSymbol?mr.series:mr,_o=go.options,vo=!!this.createCheckboxForItem&&_o&&_o.showCheckbox,yo=Dr.useHTML,Do=mr.options.className,Mo=br.label,Io=Ir+zr+Zr+20*!!vo;!Mo&&(br.group=Pr.g("legend-item").addClass("highcharts-"+go.type+"-series highcharts-color-"+mr.colorIndex+(Do?" "+Do:"")+(po?" highcharts-series-"+mr.index:"")).attr({zIndex:1}).add(this.scrollGroup),br.label=Mo=Pr.text("",so?Ir+zr:-zr,this.baseline||0,yo),Er.styledMode||Mo.css(em(mr.visible?Kr:eo)),Mo.attr({align:so?"left":"right",zIndex:2}).add(br.group),!this.baseline&&(this.fontMetrics=Pr.fontMetrics(Mo),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,Mo.attr("y",this.baseline),this.symbolHeight=ch(Dr.symbolHeight,this.fontMetrics.f),Dr.squareSymbol&&(this.symbolWidth=ch(Dr.symbolWidth,Math.max(this.symbolHeight,16)),Io=this.symbolWidth+zr+Zr+20*!!vo,so&&Mo.attr("x",this.symbolWidth+zr))),go.drawLegendSymbol(this,mr),this.setItemEvents&&this.setItemEvents(mr,Mo,yo)),vo&&!mr.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(mr),this.colorizeItem(mr,mr.visible),(Er.styledMode||!Kr.width)&&Mo.css({width:(Dr.itemWidth||this.widthOption||Er.spacingBox.width)-Io+"px"}),this.setText(mr);let Yo=Mo.getBBox(),Xo=this.fontMetrics?.h||0;mr.itemWidth=mr.checkboxOffset=Dr.itemWidth||br.labelWidth||Yo.width+Io,this.maxItemWidth=Math.max(this.maxItemWidth,mr.itemWidth),this.totalItemWidth+=mr.itemWidth,this.itemHeight=mr.itemHeight=Math.round(br.labelHeight||(Yo.height>1.5*Xo?Yo.height:Xo))}layoutItem(mr){let br=this.options,Er=this.padding,Pr=br.layout==="horizontal",Dr=mr.itemHeight,$r=this.itemMarginBottom,Ir=this.itemMarginTop,zr=Pr?ch(br.itemDistance,20):0,Kr=this.maxLegendWidth,eo=br.alignColumns&&this.totalItemWidth>Kr?this.maxItemWidth:mr.itemWidth,Zr=mr.legendItem||{};Pr&&this.itemX-Er+eo>Kr&&(this.itemX=Er,this.lastLineHeight&&(this.itemY+=Ir+this.lastLineHeight+$r),this.lastLineHeight=0),this.lastItemY=Ir+this.itemY+$r,this.lastLineHeight=Math.max(Dr,this.lastLineHeight),Zr.x=this.itemX,Zr.y=this.itemY,Pr?this.itemX+=eo:(this.itemY+=Ir+Dr+$r,this.lastLineHeight=Dr),this.offsetWidth=this.widthOption||Math.max((Pr?this.itemX-Er-(mr.checkbox?0:zr):eo)+Er,this.offsetWidth)}getAllItems(){let mr=[];return this.chart.series.forEach(function(br){let Er=br?.options;br&&ch(Er.showInLegend,!jy(Er.linkedTo)&&void 0,!0)&&(mr=mr.concat(br.legendItem?.labels||(Er.legendType==="point"?br.data:br)))}),Pp(this,"afterGetAllItems",{allItems:mr}),mr}getAlignment(){let mr=this.options;return this.proximate?mr.align.charAt(0)+"tv":mr.floating?"":mr.align.charAt(0)+mr.verticalAlign.charAt(0)+mr.layout.charAt(0)}adjustMargins(mr,br){let Er=this.chart,Pr=this.options,Dr=this.getAlignment();Dr&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(($r,Ir)=>{$r.test(Dr)&&!jy(mr[Ir])&&(Er[Mf[Ir]]=Math.max(Er[Mf[Ir]],Er.legend[(Ir+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][Ir]*Pr[Ir%2?"x":"y"]+(Pr.margin??12)+br[Ir]+(Er.titleOffset[Ir]||0)))})}proximatePositions(){let mr,br=this.chart,Er=[],Pr=this.options.align==="left";for(let Dr of(this.allItems.forEach(function($r){let Ir,zr,Kr=Pr,eo,Zr;$r.yAxis&&($r.xAxis.options.reversed&&(Kr=!Kr),$r.points&&(Ir=wv(Kr?$r.points:$r.points.slice(0).reverse(),function(so){return Sx(so.plotY)})),zr=this.itemMarginTop+$r.legendItem.label.getBBox().height+this.itemMarginBottom,Zr=$r.yAxis.top-br.plotTop,eo=$r.visible?(Ir?Ir.plotY:$r.yAxis.height)+(Zr-.3*zr):Zr+$r.yAxis.height,Er.push({target:eo,size:zr,item:$r}))},this),Ex(Er,br.plotHeight)))mr=Dr.item.legendItem||{},Sx(Dr.pos)&&(mr.y=br.plotTop-br.spacing[0]+Dr.pos)}render(){let mr=this.chart,br=mr.renderer,Er=this.options,Pr=this.padding,Dr=this.getAllItems(),$r,Ir,zr,Kr=this.group,eo,Zr=this.box;this.itemX=Pr,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=db(Er.width,mr.spacingBox.width-Pr),eo=mr.spacingBox.width-2*Pr-Er.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(eo/=2),this.maxLegendWidth=this.widthOption||eo,Kr||(this.group=Kr=br.g("legend").addClass(Er.className||"").attr({zIndex:7}).add(),this.contentGroup=br.g().attr({zIndex:1}).add(Kr),this.scrollGroup=br.g().add(this.contentGroup)),this.renderTitle(),fb(Dr,(so,po)=>(so.options?.legendIndex||0)-(po.options?.legendIndex||0)),Er.reversed&&Dr.reverse(),this.allItems=Dr,this.display=$r=!!Dr.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,Dr.forEach(this.renderItem,this),Dr.forEach(this.layoutItem,this),Ir=(this.widthOption||this.offsetWidth)+Pr,zr=this.lastItemY+this.lastLineHeight+this.titleHeight,zr=this.handleOverflow(zr)+Pr,Zr||(this.box=Zr=br.rect().addClass("highcharts-legend-box").attr({r:Er.borderRadius}).add(Kr)),mr.styledMode||Zr.attr({stroke:Er.borderColor,"stroke-width":Er.borderWidth||0,fill:Er.backgroundColor||"none"}).shadow(Er.shadow),Ir>0&&zr>0&&Zr[Zr.placed?"animate":"attr"](Zr.crisp.call({},{x:0,y:0,width:Ir,height:zr},Zr.strokeWidth())),Kr[$r?"show":"hide"](),mr.styledMode&&Kr.getStyle("display")==="none"&&(Ir=zr=0),this.legendWidth=Ir,this.legendHeight=zr,$r&&this.align(),this.proximate||this.positionItems(),Pp(this,"afterRender")}align(mr=this.chart.spacingBox){let br=this.chart,Er=this.options,Pr=mr.y;/(lth|ct|rth)/.test(this.getAlignment())&&br.titleOffset[0]>0?Pr+=br.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&br.titleOffset[2]>0&&(Pr-=br.titleOffset[2]),Pr!==mr.y&&(mr=em(mr,{y:Pr})),br.hasRendered||(this.group.placed=!1),this.group.align(em(Er,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":Er.verticalAlign}),!0,mr)}handleOverflow(mr){let br=this,Er=this.chart,Pr=Er.renderer,Dr=this.options,$r=Dr.y,Ir=Dr.verticalAlign==="top",zr=this.padding,Kr=Dr.maxHeight,eo=Dr.navigation,Zr=ch(eo.animation,!0),so=eo.arrowSize||12,po=this.pages,go=this.allItems,_o=function(Wo){typeof Wo=="number"?qo.attr({height:Wo}):qo&&(br.clipRect=qo.destroy(),br.contentGroup.clip()),br.contentGroup.div&&(br.contentGroup.div.style.clip=Wo?"rect("+zr+"px,9999px,"+(zr+Wo)+"px,0)":"auto")},vo=function(Wo){return br[Wo]=Pr.circle(0,0,1.3*so).translate(so/2,so/2).add(Xo),Er.styledMode||br[Wo].attr("fill","rgba(0,0,0,0.0001)"),br[Wo]},yo,Do,Mo,Io,Yo=Er.spacingBox.height+(Ir?-$r:$r)-zr,Xo=this.nav,qo=this.clipRect;return Dr.layout!=="horizontal"||Dr.verticalAlign==="middle"||Dr.floating||(Yo/=2),Kr&&(Yo=Math.min(Yo,Kr)),po.length=0,mr&&Yo>0&&mr>Yo&&eo.enabled!==!1?(this.clipHeight=yo=Math.max(Yo-20-this.titleHeight-zr,0),this.currentPage=ch(this.currentPage,1),this.fullHeight=mr,go.forEach((Wo,xl)=>{let vl=(Mo=Wo.legendItem||{}).y||0,yl=Math.round(Mo.label.getBBox().height),Fl=po.length;(!Fl||vl-po[Fl-1]>yo&&(Do||vl)!==po[Fl-1])&&(po.push(Do||vl),Fl++),Mo.pageIx=Fl-1,Do&&Io&&(Io.pageIx=Fl-1),xl===go.length-1&&vl+yl-po[Fl-1]>yo&&vl>po[Fl-1]&&(po.push(vl),Mo.pageIx=Fl),vl!==Do&&(Do=vl),Io=Mo}),qo||(qo=br.clipRect=Pr.clipRect(0,zr-2,9999,0),br.contentGroup.clip(qo)),_o(yo),Xo||(this.nav=Xo=Pr.g().attr({zIndex:1}).add(this.group),this.up=Pr.symbol("triangle",0,0,so,so).add(Xo),vo("upTracker").on("click",function(){br.scroll(-1,Zr)}),this.pager=Pr.text("",15,10).addClass("highcharts-legend-navigation"),!Er.styledMode&&eo.style&&this.pager.css(eo.style),this.pager.add(Xo),this.down=Pr.symbol("triangle-down",0,0,so,so).add(Xo),vo("downTracker").on("click",function(){br.scroll(1,Zr)})),br.scroll(0),mr=Yo):Xo&&(_o(),this.nav=Xo.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),mr}scroll(mr,br){let Er=this.chart,Pr=this.pages,Dr=Pr.length,$r=this.clipHeight,Ir=this.options.navigation,zr=this.pager,Kr=this.padding,eo=this.currentPage+mr;eo>Dr&&(eo=Dr),eo>0&&(br!==void 0&&Sy(br,Er),this.nav.attr({translateX:Kr,translateY:$r+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(Zr){Zr.attr({class:eo===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),zr.attr({text:eo+"/"+Dr}),[this.down,this.downTracker].forEach(function(Zr){Zr.attr({x:18+this.pager.getBBox().width,class:eo===Dr?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),Er.styledMode||(this.up.attr({fill:eo===1?Ir.inactiveColor:Ir.activeColor}),this.upTracker.css({cursor:eo===1?"default":"pointer"}),this.down.attr({fill:eo===Dr?Ir.inactiveColor:Ir.activeColor}),this.downTracker.css({cursor:eo===Dr?"default":"pointer"})),this.scrollOffset=-Pr[eo-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=eo,this.positionCheckboxes(),Ry(()=>{Pp(this,"afterScroll",{currentPage:eo})},vv(ch(br,Er.renderer.globalAnimation,!0)).duration))}setItemEvents(mr,br,Er){let Pr=this,Dr=mr.legendItem||{},$r=Pr.chart.renderer.boxWrapper,Ir=mr instanceof Tf,zr=mr instanceof gd,Kr="highcharts-legend-"+(Ir?"point":"series")+"-active",eo=Pr.chart.styledMode,Zr=Er?[br,Dr.symbol]:[Dr.group],so=po=>{Pr.allItems.forEach(go=>{mr!==go&&[go].concat(go.linkedSeries||[]).forEach(_o=>{_o.setState(po,!Ir)})})};for(let po of Zr)po&&po.on("mouseover",function(){mr.visible&&so("inactive"),mr.setState("hover"),mr.visible&&$r.addClass(Kr),eo||br.css(Pr.options.itemHoverStyle)}).on("mouseout",function(){Pr.chart.styledMode||br.css(em(mr.visible?Pr.itemStyle:Pr.itemHiddenStyle)),so(""),$r.removeClass(Kr),mr.setState()}).on("click",function(go){let _o=function(){mr.setVisible&&mr.setVisible(),so(mr.visible?"inactive":"")};$r.removeClass(Kr),Pp(Pr,"itemClick",{browserEvent:go,legendItem:mr},_o),Ir?mr.firePointEvent("legendItemClick",{browserEvent:go}):zr&&Pp(mr,"legendItemClick",{browserEvent:go})})}createCheckboxForItem(mr){mr.checkbox=Jb("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:mr.selected,defaultChecked:mr.selected},this.options.itemCheckboxStyle,this.chart.container),Mm(mr.checkbox,"click",function(br){let Er=br.target;Pp(mr.series||mr,"checkboxClick",{checked:Er.checked,item:mr},function(){mr.select()})})}}(function(Ur){Ur.compose=function(mr){Nf(ub,"Core.Legend")&&Mm(mr,"beforeMargins",function(){this.legend=new Ur(this,this.options.legend)})}})(Dp||(Dp={}));let Cy=Dp,{animate:jx,animObject:Ev,setAnimation:Rx}=Gc,{defaultOptions:tm}=uc,{numberFormat:Cx}=Ro,{registerEventOptions:pb}=vp,{charts:nm,doc:Mp,marginNames:mg,svg:Ax,win:Wg}=Fr,{seriesTypes:Gg}=nh,{addEvent:Np,attr:Sv,createElement:Vg,css:Md,defined:ep,diffObjects:Ug,discardElement:mb,erase:jv,error:nd,extend:Op,find:Tx,fireEvent:ru,getAlignFactor:Px,getStyle:Ay,isArray:Rv,isNumber:Nd,isObject:Ty,isString:Yg,merge:Xd,objectEach:uh,pick:ou,pInt:gc,relativeLength:Xg,removeEvent:Dx,splat:tp,syncTimeout:Mx,uniqueKey:Py}=Uo;class Of{static chart(mr,br,Er){return new Of(mr,br,Er)}constructor(mr,br,Er){this.sharedClips={};let Pr=[...arguments];(Yg(mr)||mr.nodeName)&&(this.renderTo=Pr.shift()),this.init(Pr[0],Pr[1])}setZoomOptions(){let mr=this.options.chart,br=mr.zooming;this.zooming={...br,type:ou(mr.zoomType,br.type),key:ou(mr.zoomKey,br.key),pinchType:ou(mr.pinchType,br.pinchType),singleTouch:ou(mr.zoomBySingleTouch,br.singleTouch,!1),resetButton:Xd(br.resetButton,mr.resetZoomButton)}}init(mr,br){ru(this,"init",{args:arguments},function(){let Er=Xd(tm,mr),Pr=Er.chart,Dr=this.renderTo||Pr.renderTo;this.userOptions=Op({},mr),(this.renderTo=Yg(Dr)?Mp.getElementById(Dr):Dr)||nd(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=br,this.isResizing=0,this.options=Er,this.axes=[],this.series=[],this.locale=Er.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new al(Op(Er.time||{},{locale:this.locale}),Er.lang),Er.time=this.time.options,this.numberFormatter=(Pr.numberFormatter||Cx).bind(this),this.styledMode=Pr.styledMode,this.hasCartesianSeries=Pr.showAxes,this.index=nm.length,nm.push(this),Fr.chartCount++,pb(this,Pr),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),ru(this,"afterInit"),this.firstRender()})}initSeries(mr){let br=this.options.chart,Er=mr.type||br.type,Pr=Gg[Er];Pr||nd(17,!0,this,{missingModuleFor:Er});let Dr=new Pr;return typeof Dr.init=="function"&&Dr.init(this,mr),Dr}setSortedData(){this.getSeriesOrderByLinks().forEach(function(mr){mr.points||mr.data||!mr.enabledDataSorting||mr.setData(mr.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(mr,br){return mr.linkedSeries.length||br.linkedSeries.length?br.linkedSeries.length-mr.linkedSeries.length:0})}orderItems(mr,br=0){let Er=this[mr],Pr=this.options[mr]=tp(this.options[mr]).slice(),Dr=this.userOptions[mr]=this.userOptions[mr]?tp(this.userOptions[mr]).slice():[];if(this.hasRendered&&(Pr.splice(br),Dr.splice(br)),Er)for(let $r=br,Ir=Er.length;$r<Ir;++$r){let zr=Er[$r];zr&&(zr.index=$r,zr instanceof gd&&(zr.name=zr.getName()),zr.options.isInternal||(Pr[$r]=zr.options,Dr[$r]=zr.userOptions))}}getClipBox(mr,br){let Er=this.inverted,{xAxis:Pr,yAxis:Dr}=mr||{},{x:$r,y:Ir,width:zr,height:Kr}=Xd(this.clipBox);return mr&&(Pr&&Pr.len!==this.plotSizeX&&(zr=Pr.len),Dr&&Dr.len!==this.plotSizeY&&(Kr=Dr.len),Er&&!mr.invertible&&([zr,Kr]=[Kr,zr])),br&&($r+=(Er?Dr:Pr)?.pos??this.plotLeft,Ir+=(Er?Pr:Dr)?.pos??this.plotTop),{x:$r,y:Ir,width:zr,height:Kr}}isInsidePlot(mr,br,Er={}){let{inverted:Pr,plotBox:Dr,plotLeft:$r,plotTop:Ir,scrollablePlotBox:zr}=this,{scrollLeft:Kr=0,scrollTop:eo=0}=Er.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},Zr=Er.series,so=Er.visiblePlotOnly&&zr||Dr,po=Er.inverted?br:mr,go=Er.inverted?mr:br,_o={x:po,y:go,isInsidePlot:!0,options:Er};if(!Er.ignoreX){let vo=Zr&&(Pr&&!this.polar?Zr.yAxis:Zr.xAxis)||{pos:$r,len:1/0},yo=Er.paneCoordinates?vo.pos+po:$r+po;yo>=Math.max(Kr+$r,vo.pos)&&yo<=Math.min(Kr+$r+so.width,vo.pos+vo.len)||(_o.isInsidePlot=!1)}if(!Er.ignoreY&&_o.isInsidePlot){let vo=!Pr&&Er.axis&&!Er.axis.isXAxis&&Er.axis||Zr&&(Pr?Zr.xAxis:Zr.yAxis)||{pos:Ir,len:1/0},yo=Er.paneCoordinates?vo.pos+go:Ir+go;yo>=Math.max(eo+Ir,vo.pos)&&yo<=Math.min(eo+Ir+so.height,vo.pos+vo.len)||(_o.isInsidePlot=!1)}return ru(this,"afterIsInsidePlot",_o),_o.isInsidePlot}redraw(mr){ru(this,"beforeRedraw");let br=this.hasCartesianSeries?this.axes:this.colorAxis||[],Er=this.series,Pr=this.pointer,Dr=this.legend,$r=this.userOptions.legend,Ir=this.renderer,zr=Ir.isHidden(),Kr=[],eo,Zr,so,po=this.isDirtyBox,go=this.isDirtyLegend,_o;for(Ir.rootFontSize=Ir.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Rx(!!this.hasRendered&&mr,this),zr&&this.temporaryDisplay(),this.layOutTitles(!1),so=Er.length;so--;)if(((_o=Er[so]).options.stacking||_o.options.centerInCategory)&&(Zr=!0,_o.isDirty)){eo=!0;break}if(eo)for(so=Er.length;so--;)(_o=Er[so]).options.stacking&&(_o.isDirty=!0);Er.forEach(function(vo){vo.isDirty&&(vo.options.legendType==="point"?(typeof vo.updateTotals=="function"&&vo.updateTotals(),go=!0):$r&&($r.labelFormatter||$r.labelFormat)&&(go=!0)),vo.isDirtyData&&ru(vo,"updatedData")}),go&&Dr&&Dr.options.enabled&&(Dr.render(),this.isDirtyLegend=!1),Zr&&this.getStacks(),br.forEach(function(vo){vo.updateNames(),vo.setScale()}),this.getMargins(),br.forEach(function(vo){vo.isDirty&&(po=!0)}),br.forEach(function(vo){let yo=vo.min+","+vo.max;vo.extKey!==yo&&(vo.extKey=yo,Kr.push(function(){ru(vo,"afterSetExtremes",Op(vo.eventArgs,vo.getExtremes())),delete vo.eventArgs})),(po||Zr)&&vo.redraw()}),po&&this.drawChartBox(),ru(this,"predraw"),Er.forEach(function(vo){(po||vo.isDirty)&&vo.visible&&vo.redraw(),vo.isDirtyData=!1}),Pr&&Pr.reset(!0),Ir.draw(),ru(this,"redraw"),ru(this,"render"),zr&&this.temporaryDisplay(!0),Kr.forEach(function(vo){vo.call()})}get(mr){let br=this.series;function Er(Dr){return Dr.id===mr||Dr.options&&Dr.options.id===mr}let Pr=Tx(this.axes,Er)||Tx(this.series,Er);for(let Dr=0;!Pr&&Dr<br.length;Dr++)Pr=Tx(br[Dr].points||[],Er);return Pr}createAxes(){let mr=this.userOptions;for(let br of(ru(this,"createAxes"),["xAxis","yAxis"]))for(let Er of mr[br]=tp(mr[br]||{}))new Tu(this,Er,br);ru(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((mr,br)=>(br.getPointsCollection().forEach(Er=>{ou(Er.selectedStaging,Er.selected)&&mr.push(Er)}),mr),[])}getSelectedSeries(){return this.series.filter(mr=>mr.selected)}setTitle(mr,br,Er){this.applyDescription("title",mr),this.applyDescription("subtitle",br),this.applyDescription("caption",void 0),this.layOutTitles(Er)}applyDescription(mr,br){let Er=this,Pr=this.options[mr]=Xd(this.options[mr],br),Dr=this[mr];Dr&&br&&(this[mr]=Dr=Dr.destroy()),Pr&&!Dr&&((Dr=this.renderer.text(Pr.text,0,0,Pr.useHTML).attr({align:Pr.align,class:"highcharts-"+mr,zIndex:Pr.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function($r,Ir){Er.applyDescription(mr,$r),Er.layOutTitles(Ir)},this.styledMode||Dr.css(Op(mr==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},Pr.style)),Dr.textPxLength=Dr.getBBox().width,Dr.css({whiteSpace:Pr.style?.whiteSpace}),this[mr]=Dr)}layOutTitles(mr=!0){let br=[0,0,0],{options:Er,renderer:Pr,spacingBox:Dr}=this;["title","subtitle","caption"].forEach(Ir=>{let zr=this[Ir],Kr=this.options[Ir],eo=Xd(Dr),Zr=zr?.textPxLength||0;if(zr&&Kr){ru(this,"layOutTitle",{alignTo:eo,key:Ir,textPxLength:Zr});let so=Pr.fontMetrics(zr),po=so.b,go=so.h,_o=Kr.verticalAlign||"top",vo=_o==="top",yo=vo&&Kr.minScale||1,Do=Ir==="title"?vo?-3:0:vo?br[0]+2:0,Mo=Math.min(eo.width/Zr,1),Io=Math.max(yo,Mo),Yo=Xd({y:_o==="bottom"?po:Do+po},{align:Ir==="title"?Mo<yo?"left":"center":this.title?.alignValue},Kr),Xo=(Kr.width||(Mo>yo?this.chartWidth:eo.width)/Io)+"px";zr.alignValue!==Yo.align&&(zr.placed=!1);let qo=Math.round(zr.css({width:Xo}).getBBox(Kr.useHTML).height);if(Yo.height=qo,zr.align(Yo,!1,eo).attr({align:Yo.align,scaleX:Io,scaleY:Io,"transform-origin":`${eo.x+Zr*Io*Px(Yo.align)} ${go}`}),!Kr.floating){let Wo=qo*(qo<1.2*go?1:Io);_o==="top"?br[0]=Math.ceil(br[0]+Wo):_o==="bottom"&&(br[2]=Math.ceil(br[2]+Wo))}}},this),br[0]&&(Er.title?.verticalAlign||"top")==="top"&&(br[0]+=Er.title?.margin||0),br[2]&&Er.caption?.verticalAlign==="bottom"&&(br[2]+=Er.caption?.margin||0);let $r=!this.titleOffset||this.titleOffset.join(",")!==br.join(",");this.titleOffset=br,ru(this,"afterLayOutTitles"),!this.isDirtyBox&&$r&&(this.isDirtyBox=this.isDirtyLegend=$r,this.hasRendered&&mr&&this.isDirtyBox&&this.redraw())}getContainerBox(){let mr=[].map.call(this.renderTo.children,Er=>{if(Er!==this.container){let Pr=Er.style.display;return Er.style.display="none",[Er,Pr]}}),br={width:Ay(this.renderTo,"width",!0)||0,height:Ay(this.renderTo,"height",!0)||0};return mr.filter(Boolean).forEach(([Er,Pr])=>{Er.style.display=Pr}),br}getChartSize(){let mr=this.options.chart,br=mr.width,Er=mr.height,Pr=this.getContainerBox(),Dr=Pr.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,br||Pr.width||600),this.chartHeight=Math.max(0,Xg(Er,this.chartWidth)||(Dr?400:Pr.height)),this.containerBox=Pr}temporaryDisplay(mr){let br=this.renderTo,Er;if(mr)for(;br?.style;)br.hcOrigStyle&&(Md(br,br.hcOrigStyle),delete br.hcOrigStyle),br.hcOrigDetached&&(Mp.body.removeChild(br),br.hcOrigDetached=!1),br=br.parentNode;else for(;br?.style&&(Mp.body.contains(br)||br.parentNode||(br.hcOrigDetached=!0,Mp.body.appendChild(br)),(Ay(br,"display",!1)==="none"||br.hcOricDetached)&&(br.hcOrigStyle={display:br.style.display,height:br.style.height,overflow:br.style.overflow},Er={display:"block",overflow:"hidden"},br!==this.renderTo&&(Er.height=0),Md(br,Er),br.offsetWidth||br.style.setProperty("display","block","important")),(br=br.parentNode)!==Mp.body););}setClassName(mr){this.container.className="highcharts-container "+(mr||"")}getContainer(){let mr,br=this.options,Er=br.chart,Pr="data-highcharts-chart",Dr=Py(),$r=this.renderTo,Ir=gc(Sv($r,Pr));Nd(Ir)&&nm[Ir]&&nm[Ir].hasRendered&&nm[Ir].destroy(),Sv($r,Pr,this.index),$r.innerHTML=_u.emptyHTML,Er.skipClone||$r.offsetWidth||this.temporaryDisplay(),this.getChartSize();let zr=this.chartHeight,Kr=this.chartWidth;Md($r,{overflow:"hidden"}),this.styledMode||(mr=Op({position:"relative",overflow:"hidden",width:Kr+"px",height:zr+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},Er.style||{}));let eo=Vg("div",{id:Dr},mr,$r);this.container=eo,this.getChartSize(),Kr!==this.chartWidth&&(Kr=this.chartWidth,this.styledMode||Md(eo,{width:ou(Er.style?.width,Kr+"px")})),this.containerBox=this.getContainerBox(),this._cursor=eo.style.cursor;let Zr=Er.renderer||!Ax?No.getRendererType(Er.renderer):Mg;if(this.renderer=new Zr(eo,Kr,zr,void 0,Er.forExport,br.exporting?.allowHTML,this.styledMode),Rx(void 0,this),this.setClassName(Er.className),this.styledMode)for(let so in br.defs)this.renderer.definition(br.defs[so]);else this.renderer.setStyle(Er.style);this.renderer.chartIndex=this.index,ru(this,"afterGetContainer")}getMargins(mr){let{spacing:br,margin:Er,titleOffset:Pr}=this;this.resetMargins(),Pr[0]&&!ep(Er[0])&&(this.plotTop=Math.max(this.plotTop,Pr[0]+br[0])),Pr[2]&&!ep(Er[2])&&(this.marginBottom=Math.max(this.marginBottom,Pr[2]+br[2])),this.legend?.display&&this.legend.adjustMargins(Er,br),ru(this,"getMargins"),mr||this.getAxisMargins()}getAxisMargins(){let mr=this,br=mr.axisOffset=[0,0,0,0],Er=mr.colorAxis,Pr=mr.margin,Dr=$r=>{$r.forEach(Ir=>{Ir.visible&&Ir.getOffset()})};mr.hasCartesianSeries?Dr(mr.axes):Er?.length&&Dr(Er),mg.forEach(($r,Ir)=>{ep(Pr[Ir])||(mr[$r]+=br[Ir])}),mr.setChartSize()}getOptions(){return Ug(this.userOptions,tm)}reflow(mr){let br=this,Er=br.containerBox,Pr=br.getContainerBox();delete br.pointer?.chartPosition,!br.exporting?.isPrinting&&!br.isResizing&&Er&&Pr.width&&((Pr.width!==Er.width||Pr.height!==Er.height)&&(Uo.clearTimeout(br.reflowTimeout),br.reflowTimeout=Mx(function(){br.container&&br.setSize(void 0,void 0,!1)},100*!!mr)),br.containerBox=Pr)}setReflow(){let mr=this,br=Er=>{mr.options?.chart.reflow&&mr.hasLoaded&&mr.reflow(Er)};if(typeof ResizeObserver=="function")new ResizeObserver(br).observe(mr.renderTo);else{let Er=Np(Wg,"resize",br);Np(this,"destroy",Er)}}setSize(mr,br,Er){let Pr=this,Dr=Pr.renderer;Pr.isResizing+=1,Rx(Er,Pr);let $r=Dr.globalAnimation;Pr.oldChartHeight=Pr.chartHeight,Pr.oldChartWidth=Pr.chartWidth,mr!==void 0&&(Pr.options.chart.width=mr),br!==void 0&&(Pr.options.chart.height=br),Pr.getChartSize();let{chartWidth:Ir,chartHeight:zr,scrollablePixelsX:Kr=0,scrollablePixelsY:eo=0}=Pr;(Pr.isDirtyBox||Ir!==Pr.oldChartWidth||zr!==Pr.oldChartHeight)&&(Pr.styledMode||($r?jx:Md)(Pr.container,{width:`${Ir+Kr}px`,height:`${zr+eo}px`},$r),Pr.setChartSize(!0),Dr.setSize(Ir,zr,$r),Pr.axes.forEach(function(Zr){Zr.isDirty=!0,Zr.setScale()}),Pr.isDirtyLegend=!0,Pr.isDirtyBox=!0,Pr.layOutTitles(),Pr.getMargins(),Pr.redraw($r),Pr.oldChartHeight=void 0,ru(Pr,"resize"),setTimeout(()=>{Pr&&ru(Pr,"endResize")},Ev($r).duration)),Pr.isResizing-=1}setChartSize(mr){let br,Er,Pr,Dr,{chartHeight:$r,chartWidth:Ir,inverted:zr,spacing:Kr,renderer:eo}=this,Zr=this.clipOffset,so=Math[zr?"floor":"round"];this.plotLeft=br=Math.round(this.plotLeft),this.plotTop=Er=Math.round(this.plotTop),this.plotWidth=Pr=Math.max(0,Math.round(Ir-br-(this.marginRight??0))),this.plotHeight=Dr=Math.max(0,Math.round($r-Er-(this.marginBottom??0))),this.plotSizeX=zr?Dr:Pr,this.plotSizeY=zr?Pr:Dr,this.spacingBox=eo.spacingBox={x:Kr[3],y:Kr[0],width:Ir-Kr[3]-Kr[1],height:$r-Kr[0]-Kr[2]},this.plotBox=eo.plotBox={x:br,y:Er,width:Pr,height:Dr},Zr&&(this.clipBox={x:so(Zr[3]),y:so(Zr[0]),width:so(this.plotSizeX-Zr[1]-Zr[3]),height:so(this.plotSizeY-Zr[0]-Zr[2])}),mr||(this.axes.forEach(function(po){po.setAxisSize(),po.setAxisTranslation()}),eo.alignElements()),ru(this,"afterSetChartSize",{skipAxes:mr})}resetMargins(){ru(this,"resetMargins");let mr=this,br=mr.options.chart,Er=br.plotBorderWidth||0,Pr=Math.round(Er)/2;["margin","spacing"].forEach(Dr=>{let $r=br[Dr],Ir=Ty($r)?$r:[$r,$r,$r,$r];["Top","Right","Bottom","Left"].forEach((zr,Kr)=>{mr[Dr][Kr]=br[`${Dr}${zr}`]??Ir[Kr]})}),mg.forEach((Dr,$r)=>{mr[Dr]=mr.margin[$r]??mr.spacing[$r]}),mr.axisOffset=[0,0,0,0],mr.clipOffset=[Pr,Pr,Pr,Pr],mr.plotBorderWidth=Er}drawChartBox(){let mr=this.options.chart,br=this.renderer,Er=this.chartWidth,Pr=this.chartHeight,Dr=this.styledMode,$r=this.plotBGImage,Ir=mr.backgroundColor,zr=mr.plotBackgroundColor,Kr=mr.plotBackgroundImage,eo=this.plotLeft,Zr=this.plotTop,so=this.plotWidth,po=this.plotHeight,go=this.plotBox,_o=this.clipRect,vo=this.clipBox,yo=this.chartBackground,Do=this.plotBackground,Mo=this.plotBorder,Io,Yo,Xo,qo="animate";yo||(this.chartBackground=yo=br.rect().addClass("highcharts-background").add(),qo="attr"),Dr?Io=Yo=yo.strokeWidth():(Yo=(Io=mr.borderWidth||0)+8*!!mr.shadow,Xo={fill:Ir||"none"},(Io||yo["stroke-width"])&&(Xo.stroke=mr.borderColor,Xo["stroke-width"]=Io),yo.attr(Xo).shadow(mr.shadow)),yo[qo]({x:Yo/2,y:Yo/2,width:Er-Yo-Io%2,height:Pr-Yo-Io%2,r:mr.borderRadius}),qo="animate",Do||(qo="attr",this.plotBackground=Do=br.rect().addClass("highcharts-plot-background").add()),Do[qo](go),!Dr&&(Do.attr({fill:zr||"none"}).shadow(mr.plotShadow),Kr&&($r?(Kr!==$r.attr("href")&&$r.attr("href",Kr),$r.animate(go)):this.plotBGImage=br.image(Kr,eo,Zr,so,po).add())),_o?_o.animate({width:vo.width,height:vo.height}):this.clipRect=br.clipRect(vo),qo="animate",Mo||(qo="attr",this.plotBorder=Mo=br.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Dr||Mo.attr({stroke:mr.plotBorderColor,"stroke-width":mr.plotBorderWidth||0,fill:"none"}),Mo[qo](Mo.crisp(go,-Mo.strokeWidth())),this.isDirtyBox=!1,ru(this,"afterDrawChartBox")}propFromSeries(){let mr,br,Er,Pr=this,Dr=Pr.options.chart,$r=Pr.options.series;["inverted","angular","polar"].forEach(function(Ir){for(br=Gg[Dr.type],Er=Dr[Ir]||br&&br.prototype[Ir],mr=$r?.length;!Er&&mr--;)(br=Gg[$r[mr].type])&&br.prototype[Ir]&&(Er=!0);Pr[Ir]=Er})}linkSeries(mr){let br=this,Er=br.series;Er.forEach(function(Pr){Pr.linkedSeries.length=0}),Er.forEach(function(Pr){let{linkedTo:Dr}=Pr.options;if(Yg(Dr)){let $r;($r=Dr===":previous"?br.series[Pr.index-1]:br.get(Dr))&&$r.linkedParent!==Pr&&($r.linkedSeries.push(Pr),Pr.linkedParent=$r,$r.enabledDataSorting&&Pr.setDataSortingOptions(),Pr.visible=ou(Pr.options.visible,$r.options.visible,Pr.visible))}}),ru(this,"afterLinkSeries",{isUpdating:mr})}renderSeries(){this.series.forEach(function(mr){mr.translate(),mr.render()})}render(){let mr=this.axes,br=this.colorAxis,Er=this.renderer,Pr=this.options.chart.axisLayoutRuns||2,Dr=eo=>{eo.forEach(Zr=>{Zr.visible&&Zr.render()})},$r=0,Ir=!0,zr,Kr=0;for(let eo of(this.setTitle(),ru(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),mr)){let{options:Zr}=eo,{labels:so}=Zr;if(this.hasCartesianSeries&&eo.horiz&&eo.visible&&so.enabled&&eo.series.length&&eo.coll!=="colorAxis"&&!this.polar){$r=Zr.tickLength,eo.createGroups();let po=new Oh(eo,0,"",!0),go=po.createLabel("x",so);if(po.destroy(),go&&ou(so.reserveSpace,!Nd(Zr.crossing))&&($r=go.getBBox().height+so.distance+Math.max(Zr.offset||0,0)),$r){go?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-$r,0);(Ir||zr||Pr>1)&&Kr<Pr;){let eo=this.plotWidth,Zr=this.plotHeight;for(let so of mr)Kr===0?so.setScale():(so.horiz&&Ir||!so.horiz&&zr)&&so.setTickInterval(!0);Kr===0?this.getAxisMargins():this.getMargins(),Ir=eo/this.plotWidth>(Kr?1:1.1),zr=Zr/this.plotHeight>(Kr?1:1.05),Kr++}this.drawChartBox(),this.hasCartesianSeries?Dr(mr):br?.length&&Dr(br),this.seriesGroup||(this.seriesGroup=Er.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=Er.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(mr){let br=this,Er=Xd(!0,this.options.credits,mr);Er.enabled&&!this.credits&&(this.credits=this.renderer.text(Er.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){Er.href&&(Wg.location.href=Er.href)}).attr({align:Er.position.align,zIndex:8}),br.styledMode||this.credits.css(Er.style),this.credits.add().align(Er.position),this.credits.update=function(Pr){br.credits=br.credits.destroy(),br.addCredits(Pr)})}destroy(){let mr,br=this,Er=br.axes,Pr=br.series,Dr=br.container,$r=Dr?.parentNode;for(ru(br,"destroy"),br.renderer.forExport?jv(nm,br):nm[br.index]=void 0,Fr.chartCount--,br.renderTo.removeAttribute("data-highcharts-chart"),Dx(br),mr=Er.length;mr--;)Er[mr]=Er[mr].destroy();for(this.scroller?.destroy?.(),mr=Pr.length;mr--;)Pr[mr]=Pr[mr].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(Ir=>{br[Ir]=br[Ir]?.destroy?.()}),Dr&&(Dr.innerHTML=_u.emptyHTML,Dx(Dr),$r&&mb(Dr)),uh(br,function(Ir,zr){delete br[zr]})}firstRender(){let mr=this,br=mr.options;mr.getContainer(),mr.resetMargins(),mr.setChartSize(),mr.propFromSeries(),mr.createAxes();let Er=Rv(br.series)?br.series:[];br.series=[],Er.forEach(function(Pr){mr.initSeries(Pr)}),mr.linkSeries(),mr.setSortedData(),ru(mr,"beforeRender"),mr.render(),mr.pointer?.getChartPosition(),mr.renderer.imgCount||mr.hasLoaded||mr.onload(),mr.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(mr){mr&&this.index!==void 0&&mr.apply(this,[this])},this),ru(this,"load"),ru(this,"render"),ep(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:mr,title:br}=this;mr&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(br?.element.textContent||"").replace(/</g,"&lt;")}),mr.accessibility&&mr.accessibility.enabled===!1||nd('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(mr,br,Er){let Pr,Dr=this;return mr&&(br=ou(br,!0),ru(Dr,"addSeries",{options:mr},function(){Pr=Dr.initSeries(mr),Dr.isDirtyLegend=!0,Dr.linkSeries(),Pr.enabledDataSorting&&Pr.setData(mr.data,!1),ru(Dr,"afterAddSeries",{series:Pr}),br&&Dr.redraw(Er)})),Pr}addAxis(mr,br,Er,Pr){return this.createAxis(br?"xAxis":"yAxis",{axis:mr,redraw:Er,animation:Pr})}addColorAxis(mr,br,Er){return this.createAxis("colorAxis",{axis:mr,redraw:br,animation:Er})}createAxis(mr,br){let Er=new Tu(this,br.axis,mr);return ou(br.redraw,!0)&&this.redraw(br.animation),Er}showLoading(mr){let br=this,Er=br.options,Pr=Er.loading,Dr=function(){$r&&Md($r,{left:br.plotLeft+"px",top:br.plotTop+"px",width:br.plotWidth+"px",height:br.plotHeight+"px"})},$r=br.loadingDiv,Ir=br.loadingSpan;$r||(br.loadingDiv=$r=Vg("div",{className:"highcharts-loading highcharts-loading-hidden"},null,br.container)),Ir||(br.loadingSpan=Ir=Vg("span",{className:"highcharts-loading-inner"},null,$r),Np(br,"redraw",Dr)),$r.className="highcharts-loading",_u.setElementHTML(Ir,ou(mr,Er.lang.loading,"")),!br.styledMode&&(Md($r,Op(Pr.style,{zIndex:10})),Md(Ir,Pr.labelStyle),br.loadingShown||(Md($r,{opacity:0,display:""}),jx($r,{opacity:Pr.style.opacity||.5},{duration:Pr.showDuration||0}))),br.loadingShown=!0,Dr()}hideLoading(){let mr=this.options,br=this.loadingDiv;br&&(br.className="highcharts-loading highcharts-loading-hidden",this.styledMode||jx(br,{opacity:0},{duration:mr.loading.hideDuration||100,complete:function(){Md(br,{display:"none"})}})),this.loadingShown=!1}update(mr,br,Er,Pr){let Dr,$r,Ir,zr=this,Kr={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},eo=mr.isResponsiveOptions,Zr=[];ru(zr,"update",{options:mr}),eo||zr.setResponsive(!1,!0),mr=Ug(mr,zr.options),zr.userOptions=Xd(zr.userOptions,mr);let so=mr.chart;so&&(Xd(!0,zr.options.chart,so),this.setZoomOptions(),"className"in so&&zr.setClassName(so.className),("inverted"in so||"polar"in so||"type"in so)&&(zr.propFromSeries(),Dr=!0),"alignTicks"in so&&(Dr=!0),"events"in so&&pb(this,so),uh(so,function(_o,vo){zr.propsRequireUpdateSeries.indexOf("chart."+vo)!==-1&&($r=!0),zr.propsRequireDirtyBox.indexOf(vo)!==-1&&(zr.isDirtyBox=!0),zr.propsRequireReflow.indexOf(vo)!==-1&&(zr.isDirtyBox=!0,eo||(Ir=!0))}),!zr.styledMode&&so.style&&zr.renderer.setStyle(zr.options.chart.style||{})),!zr.styledMode&&mr.colors&&(this.options.colors=mr.colors),uh(mr,function(_o,vo){zr[vo]&&typeof zr[vo].update=="function"?zr[vo].update(_o,!1):typeof zr[Kr[vo]]=="function"?zr[Kr[vo]](_o):vo!=="colors"&&zr.collectionsWithUpdate.indexOf(vo)===-1&&Xd(!0,zr.options[vo],mr[vo]),vo!=="chart"&&zr.propsRequireUpdateSeries.indexOf(vo)!==-1&&($r=!0)}),this.collectionsWithUpdate.forEach(function(_o){mr[_o]&&(tp(mr[_o]).forEach(function(vo,yo){let Do,Mo=ep(vo.id);Mo&&(Do=zr.get(vo.id)),!Do&&zr[_o]&&(Do=zr[_o][ou(vo.index,yo)])&&(Mo&&ep(Do.options.id)||Do.options.isInternal)&&(Do=void 0),Do&&Do.coll===_o&&(Do.update(vo,!1),Er&&(Do.touched=!0)),!Do&&Er&&zr.collectionsWithInit[_o]&&(zr.collectionsWithInit[_o][0].apply(zr,[vo].concat(zr.collectionsWithInit[_o][1]||[]).concat([!1])).touched=!0)}),Er&&zr[_o].forEach(function(vo){vo.touched||vo.options.isInternal?delete vo.touched:Zr.push(vo)}))}),Zr.forEach(function(_o){_o.chart&&_o.remove&&_o.remove(!1)}),Dr&&zr.axes.forEach(function(_o){_o.update({},!1)}),$r&&zr.getSeriesOrderByLinks().forEach(function(_o){_o.chart&&_o.update({},!1)},this);let po=so?.width,go=so&&(Yg(so.height)?Xg(so.height,po||zr.chartWidth):so.height);Ir||Nd(po)&&po!==zr.chartWidth||Nd(go)&&go!==zr.chartHeight?zr.setSize(po,go,Pr):ou(br,!0)&&zr.redraw(Pr),ru(zr,"afterUpdate",{options:mr,redraw:br,animation:Pr})}setSubtitle(mr,br){this.applyDescription("subtitle",mr),this.layOutTitles(br)}setCaption(mr,br){this.applyDescription("caption",mr),this.layOutTitles(br)}showResetZoom(){let mr=this,br=tm.lang,Er=mr.zooming.resetButton,Pr=Er.theme,Dr=Er.relativeTo==="chart"||Er.relativeTo==="spacingBox"?null:"plotBox";function $r(){mr.zoomOut()}ru(this,"beforeShowResetZoom",null,function(){mr.resetZoomButton=mr.renderer.button(br.resetZoom,null,null,$r,Pr).attr({align:Er.position.align,title:br.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Er.position,!1,Dr)}),ru(this,"afterShowResetZoom")}zoomOut(){ru(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(mr,br){let Er=this,Pr=typeof br=="object"?br:{enabled:br,type:"x"},Dr=Pr.type,$r=Dr&&Er[{x:"xAxis",xy:"axes",y:"yAxis"}[Dr]].filter(zr=>zr.options.panningEnabled&&!zr.options.isInternal),Ir=Er.options.chart;Ir?.panning&&(Ir.panning=Pr),ru(this,"pan",{originalEvent:mr},()=>{Er.transform({axes:$r,event:mr,to:{x:mr.chartX-(Er.mouseDownX||0),y:mr.chartY-(Er.mouseDownY||0)},trigger:"pan"}),Md(Er.container,{cursor:"move"})})}transform(mr){let{axes:br=this.axes,event:Er,from:Pr={},reset:Dr,selection:$r,to:Ir={},trigger:zr}=mr,{inverted:Kr,time:eo}=this;this.hoverPoints?.forEach(go=>go.setState()),ru(this,"transform",mr);let Zr=mr.hasZoomed||!1,so,po;for(let go of br){let{horiz:_o,len:vo,minPointOffset:yo=0,options:Do,reversed:Mo}=go,Io=_o?"width":"height",Yo=_o?"x":"y",Xo=ou(Ir[Io],go.len),qo=ou(Pr[Io],go.len),Wo=10>Math.abs(Xo)?1:Xo/qo,xl=(Pr[Yo]||0)+qo/2-go.pos,vl=xl-((Ir[Yo]??go.pos)+Xo/2-go.pos)/Wo,yl=Mo&&!Kr||!Mo&&Kr?-1:1;if(!Dr&&(xl<0||xl>go.len))continue;let Fl=go.chart.polar||go.isOrdinal?0:yo*yl||0,Zl=go.toValue(vl,!0),Jl=go.toValue(vl+vo/Wo,!0),Ll=Zl+Fl,Gl=Jl-Fl,Ql=go.allExtremes;if($r&&$r[go.coll].push({axis:go,min:Math.min(Zl,Jl),max:Math.max(Zl,Jl)}),Ll>Gl&&([Ll,Gl]=[Gl,Ll]),Wo===1&&!Dr&&go.coll==="yAxis"&&!Ql){for(let bd of go.series){let mf=bd.getExtremes(bd.getProcessedData(!0).modified.getColumn("y")||[],!0);Ql??(Ql={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Nd(mf.dataMin)&&Nd(mf.dataMax)&&(Ql.dataMin=Math.min(mf.dataMin,Ql.dataMin),Ql.dataMax=Math.max(mf.dataMax,Ql.dataMax))}go.allExtremes=Ql}let{dataMin:Hc,dataMax:Tc,min:ad,max:yc}=Op(go.getExtremes(),Ql||{}),xc=eo.parse(Do.min),mu=eo.parse(Do.max),Wc=Hc??xc,Bu=Tc??mu,cu=Gl-Ll,zl=go.categories?0:Math.min(cu,Bu-Wc),rh=Wc-zl*(ep(xc)?0:Do.minPadding),qu=Bu+zl*(ep(mu)?0:Do.maxPadding),od=go.allowZoomOutside||Wo===1||zr!=="zoom"&&Wo>1,Gm=Math.min(xc??rh,rh,od?ad:rh),qc=Math.max(mu??qu,qu,od?yc:qu);(!go.isOrdinal||Wo!==1||Dr)&&(Ll<Gm&&(Ll=Gm,Wo>=1&&(Gl=Ll+cu)),Gl>qc&&(Gl=qc,Wo>=1&&(Ll=Gl-cu)),(Dr||go.series.length&&(Ll!==ad||Gl!==yc)&&Ll>=Gm&&Gl<=qc)&&($r?$r[go.coll].push({axis:go,min:Ll,max:Gl}):(go.isPanning=zr!=="zoom",go.isPanning&&(po=!0),go.setExtremes(Dr?void 0:Ll,Dr?void 0:Gl,!1,!1,{move:vl,trigger:zr,scale:Wo}),!Dr&&(Ll>Gm||Gl<qc)&&zr!=="mousewheel"&&(so=!0)),Zr=!0),this.hasCartesianSeries||Dr||zr==="mousewheel"||(so=!0),Er&&(this[_o?"mouseDownX":"mouseDownY"]=Er[_o?"chartX":"chartY"]))}return Zr&&($r?ru(this,"selection",$r,()=>{delete mr.selection,mr.trigger="zoom",this.transform(mr)}):(!so||po||this.resetZoomButton?!so&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(zr==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),Zr}}Op(Of.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Of.prototype.addAxis,[!0]],yAxis:[Of.prototype.addAxis,[!1]],series:[Of.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:id}=Gc,{composed:e0}=Fr,{addEvent:np,createElement:gg,css:Dy,defined:Nx,erase:gb,merge:My,pushUnique:Ny}=Uo;function ip(){let Ur=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!Ur&&(this.scrollablePlotArea=Ur=new im(this)),Ur?.applyFixed()}function rd(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class im{static compose(mr,br,Er){Ny(e0,this.compose)&&(np(mr,"afterInit",rd),np(br,"afterSetChartSize",Pr=>this.afterSetSize(Pr.target,Pr)),np(br,"render",ip),np(Er,"show",rd))}static afterSetSize(mr,br){let Er,Pr,Dr,{minWidth:$r,minHeight:Ir}=mr.options.chart.scrollablePlotArea||{},{clipBox:zr,plotBox:Kr,inverted:eo,renderer:Zr}=mr;if(!Zr.forExport)if($r?(mr.scrollablePixelsX=Er=Math.max(0,$r-mr.chartWidth),Er&&(mr.scrollablePlotBox=My(mr.plotBox),Kr.width=mr.plotWidth+=Er,zr[eo?"height":"width"]+=Er,Dr=!0)):Ir&&(mr.scrollablePixelsY=Pr=Math.max(0,Ir-mr.chartHeight),Nx(Pr)&&(mr.scrollablePlotBox=My(mr.plotBox),Kr.height=mr.plotHeight+=Pr,zr[eo?"width":"height"]+=Pr,Dr=!1)),Nx(Dr)){if(!br.skipAxes)for(let so of mr.axes)(so.horiz===Dr||mr.hasParallelCoordinates&&so.coll==="yAxis")&&(so.setAxisSize(),so.setAxisTranslation())}else delete mr.scrollablePlotBox}constructor(mr){let br,Er=mr.options.chart,Pr=No.getRendererType(),Dr=Er.scrollablePlotArea||{},$r=this.moveFixedElements.bind(this),Ir={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};mr.scrollablePixelsX&&(Ir.overflowX="auto"),mr.scrollablePixelsY&&(Ir.overflowY="auto"),this.chart=mr;let zr=this.parentDiv=gg("div",{className:"highcharts-scrolling-parent"},{position:"relative"},mr.renderTo),Kr=this.scrollingContainer=gg("div",{className:"highcharts-scrolling"},Ir,zr),eo=this.innerContainer=gg("div",{className:"highcharts-inner-container"},void 0,Kr),Zr=this.fixedDiv=gg("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(Er.style?.zIndex||0)+2,top:0},void 0,!0),so=this.fixedRenderer=new Pr(Zr,mr.chartWidth,mr.chartHeight,Er.style);this.mask=so.path().attr({fill:Er.backgroundColor||"#fff","fill-opacity":Dr.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),Kr.parentNode.insertBefore(Zr,Kr),Dy(mr.renderTo,{overflow:"visible"}),np(mr,"afterShowResetZoom",$r),np(mr,"afterApplyDrilldown",$r),np(mr,"afterLayOutTitles",$r),np(Kr,"scroll",()=>{let{pointer:po,hoverPoint:go}=mr;po&&(delete po.chartPosition,go&&(br=go),po.runPointActions(void 0,br,!0))}),eo.appendChild(mr.container)}applyFixed(){let{chart:mr,fixedRenderer:br,isDirty:Er,scrollingContainer:Pr}=this,{axisOffset:Dr,chartWidth:$r,chartHeight:Ir,container:zr,plotHeight:Kr,plotLeft:eo,plotTop:Zr,plotWidth:so,scrollablePixelsX:po=0,scrollablePixelsY:go=0}=mr,{scrollPositionX:_o=0,scrollPositionY:vo=0}=mr.options.chart.scrollablePlotArea||{},yo=$r+po,Do=Ir+go;br.setSize($r,Ir),(Er??!0)&&(this.isDirty=!1,this.moveFixedElements()),id(mr.container),Dy(zr,{width:`${yo}px`,height:`${Do}px`}),mr.renderer.boxWrapper.attr({width:yo,height:Do,viewBox:[0,0,yo,Do].join(" ")}),mr.chartBackground?.attr({width:yo,height:Do}),Dy(Pr,{width:`${$r}px`,height:`${Ir}px`}),Nx(Er)||(Pr.scrollLeft=po*_o,Pr.scrollTop=go*vo);let Mo=Zr-Dr[0]-1,Io=eo-Dr[3]-1,Yo=Zr+Kr+Dr[2]+1,Xo=eo+so+Dr[1]+1,qo=eo+so-po,Wo=Zr+Kr-go,xl=[["M",0,0]];po?xl=[["M",0,Mo],["L",eo-1,Mo],["L",eo-1,Yo],["L",0,Yo],["Z"],["M",qo,Mo],["L",$r,Mo],["L",$r,Yo],["L",qo,Yo],["Z"]]:go&&(xl=[["M",Io,0],["L",Io,Zr-1],["L",Xo,Zr-1],["L",Xo,0],["Z"],["M",Io,Wo],["L",Io,Ir],["L",Xo,Ir],["L",Xo,Wo],["Z"]]),mr.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:xl})}moveFixedElements(){let mr,{container:br,inverted:Er,scrollablePixelsX:Pr,scrollablePixelsY:Dr}=this.chart,$r=this.fixedRenderer,Ir=im.fixedSelectors;if(Pr&&!Er?mr=".highcharts-yaxis":Pr&&Er||Dr&&!Er?mr=".highcharts-xaxis":Dr&&Er&&(mr=".highcharts-yaxis"),mr&&!(this.chart.hasParallelCoordinates&&mr===".highcharts-yaxis"))for(let zr of[`${mr}:not(.highcharts-radial-axis)`,`${mr}-labels:not(.highcharts-radial-axis-labels)`])Ny(Ir,zr);else for(let zr of[".highcharts-xaxis",".highcharts-yaxis"])for(let Kr of[`${zr}:not(.highcharts-radial-axis)`,`${zr}-labels:not(.highcharts-radial-axis-labels)`])gb(Ir,Kr);for(let zr of Ir)[].forEach.call(br.querySelectorAll(zr),Kr=>{(Kr.namespaceURI===$r.SVG_NS?$r.box:$r.box.parentNode).appendChild(Kr),Kr.style.pointerEvents="auto"})}}im.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Oy}=Ro,{series:Ox}=nh,{destroyObjectProperties:xb,fireEvent:Ly,getAlignFactor:Nm,isNumber:Lf,pick:Om}=Uo,yb=class{constructor(Ur,mr,br,Er,Pr){let Dr=Ur.chart.inverted,$r=Ur.reversed;this.axis=Ur;let Ir=this.isNegative=!!br!=!!$r;this.options=mr=mr||{},this.x=Er,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=Pr,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:mr.align||(Dr?Ir?"left":"right":"center"),verticalAlign:mr.verticalAlign||(Dr?"middle":Ir?"bottom":"top"),y:mr.y,x:mr.x},this.textAlign=mr.textAlign||(Dr?Ir?"right":"left":"center")}destroy(){xb(this,this.axis)}render(Ur){let mr=this.axis.chart,br=this.options,Er=br.format,Pr=Er?Oy(Er,this,mr):br.formatter.call(this);if(this.label)this.label.attr({text:Pr,visibility:"hidden"});else{this.label=mr.renderer.label(Pr,null,void 0,br.shape,void 0,void 0,br.useHTML,!1,"stack-labels");let Dr={r:br.borderRadius||0,text:Pr,padding:Om(br.padding,5),visibility:"hidden"};mr.styledMode||(Dr.fill=br.backgroundColor,Dr.stroke=br.borderColor,Dr["stroke-width"]=br.borderWidth,this.label.css(br.style||{})),this.label.attr(Dr),this.label.added||this.label.add(Ur)}this.label.labelrank=mr.plotSizeY,Ly(this,"afterRender")}setOffset(Ur,mr,br,Er,Pr,Dr){let{alignOptions:$r,axis:Ir,label:zr,options:Kr,textAlign:eo}=this,Zr=Ir.chart,so=this.getStackBox({xOffset:Ur,width:mr,boxBottom:br,boxTop:Er,defaultX:Pr,xAxis:Dr}),{verticalAlign:po}=$r;if(zr&&so){let go=zr.getBBox(void 0,0),_o=zr.padding,vo=Om(Kr.overflow,"justify")==="justify",yo;$r.x=Kr.x||0,$r.y=Kr.y||0;let{x:Do,y:Mo}=this.adjustStackPosition({labelBox:go,verticalAlign:po,textAlign:eo});so.x-=Do,so.y-=Mo,zr.align($r,!1,so),(yo=Zr.isInsidePlot(zr.alignAttr.x+$r.x+Do,zr.alignAttr.y+$r.y+Mo))||(vo=!1),vo&&Ox.prototype.justifyDataLabel.call(Ir,zr,$r,zr.alignAttr,go,so),zr.attr({x:zr.alignAttr.x,y:zr.alignAttr.y,rotation:Kr.rotation,rotationOriginX:go.width*Nm(Kr.textAlign||"center"),rotationOriginY:go.height/2}),Om(!vo&&Kr.crop,!0)&&(yo=Lf(zr.x)&&Lf(zr.y)&&Zr.isInsidePlot(zr.x-_o+(zr.width||0),zr.y)&&Zr.isInsidePlot(zr.x+_o,zr.y)),zr[yo?"show":"hide"]()}Ly(this,"afterSetOffset",{xOffset:Ur,width:mr})}adjustStackPosition({labelBox:Ur,verticalAlign:mr,textAlign:br}){return{x:Ur.width/2+Ur.width/2*(2*Nm(br)-1),y:Ur.height/2*2*(1-Nm(mr))}}getStackBox(Ur){let mr=this.axis,br=mr.chart,{boxTop:Er,defaultX:Pr,xOffset:Dr,width:$r,boxBottom:Ir}=Ur,zr=mr.stacking.usePercentage?100:Om(Er,this.total,0),Kr=mr.toPixels(zr),eo=Ur.xAxis||br.xAxis[0],Zr=Om(Pr,eo.translate(this.x))+Dr,so=Math.abs(Kr-mr.toPixels(Ir||Lf(mr.min)&&mr.logarithmic&&mr.logarithmic.lin2log(mr.min)||0)),po=br.inverted,go=this.isNegative;return po?{x:(go?Kr:Kr-so)-br.plotLeft,y:eo.height-Zr-$r+eo.top-br.plotTop,width:so,height:$r}:{x:Zr+eo.transB-br.plotLeft,y:(go?Kr-so:Kr)-br.plotTop,width:$r,height:so}}},{getDeferredAnimation:vb}=Gc,{series:{prototype:rm}}=nh,{addEvent:$y,correctFloat:xg,defined:qg,destroyObjectProperties:Lx,fireEvent:Yu,isNumber:Iy,objectEach:rp,pick:Kg}=Uo;function Zg(){let Ur=this.inverted;this.axes.forEach(mr=>{mr.stacking?.stacks&&mr.hasVisibleSeries&&(mr.stacking.oldStacks=mr.stacking.stacks)}),this.series.forEach(mr=>{let br=mr.xAxis?.options||{};mr.options.stacking&&mr.reserveSpace()&&(mr.stackKey=[mr.type,Kg(mr.options.stack,""),Ur?br.top:br.left,Ur?br.height:br.width].join(","))})}function sm(){let Ur=this.stacking;if(Ur){let mr=Ur.stacks;rp(mr,(br,Er)=>{Lx(br),delete mr[Er]}),Ur.stackTotalGroup?.destroy()}}function $x(){this.stacking||(this.stacking=new _b(this))}function Cv(Ur,mr,br,Er){return!qg(Ur)||Ur.x!==mr||Er&&Ur.stackKey!==Er?Ur={x:mr,index:0,key:Er,stackKey:Er}:Ur.index++,Ur.key=[br,mr,Ur.index].join(","),Ur}function qd(){let Ur,mr=this,br=mr.yAxis,Er=mr.stackKey||"",Pr=br.stacking.stacks,Dr=mr.getColumn("x",!0),$r=mr.options.stacking,Ir=mr[$r+"Stacker"];Ir&&[Er,"-"+Er].forEach(zr=>{let Kr=Dr.length,eo,Zr,so;for(;Kr--;)eo=Dr[Kr],Ur=mr.getStackIndicator(Ur,eo,mr.index,zr),Zr=Pr[zr]?.[eo],(so=Zr?.points[Ur.key||""])&&Ir.call(mr,so,Zr,Kr)})}function xd(Ur,mr,br){let Er=mr.total?100/mr.total:0;Ur[0]=xg(Ur[0]*Er),Ur[1]=xg(Ur[1]*Er),this.stackedYData[br]=Ur[1]}function bb(Ur){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?rm.setStackedPoints.call(this,Ur,"group"):Ur.stacking.resetStacks())}function Fy(Ur,mr){let br,Er,Pr,Dr,$r,Ir,zr,Kr=mr||this.options.stacking;if(!Kr||!this.reserveSpace()||({group:"xAxis"}[Kr]||"yAxis")!==Ur.coll)return;let eo=this.getColumn("x",!0),Zr=this.getColumn(this.pointValKey||"y",!0),so=[],po=Zr.length,go=this.options,_o=go.threshold||0,vo=go.startFromThreshold?_o:0,yo=go.stack,Do=mr?`${this.type},${Kr}`:this.stackKey||"",Mo="-"+Do,Io=this.negStacks,Yo=Ur.stacking,Xo=Yo.stacks,qo=Yo.oldStacks;for(Yo.stacksTouched+=1,zr=0;zr<po;zr++){let Wo=eo[zr]||0,xl=Zr[zr],vl=Iy(xl)&&xl||0;Ir=(br=this.getStackIndicator(br,Wo,this.index)).key||"",Xo[$r=(Er=Io&&vl<(vo?0:_o))?Mo:Do]||(Xo[$r]={}),Xo[$r][Wo]||(qo[$r]?.[Wo]?(Xo[$r][Wo]=qo[$r][Wo],Xo[$r][Wo].total=null):Xo[$r][Wo]=new yb(Ur,Ur.options.stackLabels,!!Er,Wo,yo)),Pr=Xo[$r][Wo],xl!==null?(Pr.points[Ir]=Pr.points[this.index]=[Kg(Pr.cumulative,vo)],qg(Pr.cumulative)||(Pr.base=Ir),Pr.touched=Yo.stacksTouched,br.index>0&&this.singleStacks===!1&&(Pr.points[Ir][0]=Pr.points[this.index+","+Wo+",0"][0])):(delete Pr.points[Ir],delete Pr.points[this.index]);let yl=Pr.total||0;Kr==="percent"?(Dr=Er?Do:Mo,yl=Io&&Xo[Dr]?.[Wo]?(Dr=Xo[Dr][Wo]).total=Math.max(Dr.total||0,yl)+Math.abs(vl):xg(yl+Math.abs(vl))):Kr==="group"?Iy(xl)&&yl++:yl=xg(yl+vl),Kr==="group"?Pr.cumulative=(yl||1)-1:Pr.cumulative=xg(Kg(Pr.cumulative,vo)+vl),Pr.total=yl,xl!==null&&(Pr.points[Ir].push(Pr.cumulative),so[zr]=Pr.cumulative,Pr.hasValidPoints=!0)}Kr==="percent"&&(Yo.usePercentage=!0),Kr!=="group"&&(this.stackedYData=so),Yo.oldStacks={}}class _b{constructor(mr){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=mr}buildStacks(){let mr,br,Er=this.axis,Pr=Er.series,Dr=Er.coll==="xAxis",$r=Er.options.reversedStacks,Ir=Pr.length;for(this.resetStacks(),this.usePercentage=!1,br=Ir;br--;)mr=Pr[$r?br:Ir-br-1],Dr&&mr.setGroupedPoints(Er),mr.setStackedPoints(Er);if(!Dr)for(br=0;br<Ir;br++)Pr[br].modifyStacks();Yu(Er,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,rp(this.stacks,mr=>{rp(mr,br=>{br.cumulative=br.total})}))}resetStacks(){rp(this.stacks,mr=>{rp(mr,(br,Er)=>{Iy(br.touched)&&br.touched<this.stacksTouched?(br.destroy(),delete mr[Er]):(br.total=null,br.cumulative=null)})})}renderStackTotals(){let mr=this.axis,br=mr.chart,Er=br.renderer,Pr=this.stacks,Dr=vb(br,mr.options.stackLabels?.animation||!1),$r=this.stackTotalGroup=this.stackTotalGroup||Er.g("stack-labels").attr({zIndex:6,opacity:0}).add();$r.translate(br.plotLeft,br.plotTop),rp(Pr,Ir=>{rp(Ir,zr=>{zr.render($r)})}),$r.animate({opacity:1},Dr)}}(yr||(yr={})).compose=function(Ur,mr,br){let Er=mr.prototype,Pr=br.prototype;Er.getStacks||($y(Ur,"init",$x),$y(Ur,"destroy",sm),Er.getStacks=Zg,Pr.getStackIndicator=Cv,Pr.modifyStacks=qd,Pr.percentStacker=xd,Pr.setGroupedPoints=bb,Pr.setStackedPoints=Fy)};let kv=yr,{defined:Av,merge:Ix,isObject:wb}=Uo;class Lp extends gd{drawGraph(){let mr=this.options,br=(this.gappedPath||this.getGraphPath).call(this),Er=this.chart.styledMode;[this,...this.zones].forEach((Pr,Dr)=>{let $r,Ir=Pr.graph,zr=Ir?"animate":"attr",Kr=Pr.dashStyle||mr.dashStyle;Ir?(Ir.endX=this.preventGraphAnimation?null:br.xMap,Ir.animate({d:br})):br.length&&(Pr.graph=Ir=this.chart.renderer.path(br).addClass("highcharts-graph"+(Dr?` highcharts-zone-graph-${Dr-1} `:" ")+(Dr&&Pr.className||"")).attr({zIndex:1}).add(this.group)),Ir&&!Er&&($r={stroke:!Dr&&mr.lineColor||Pr.color||this.color||"#cccccc","stroke-width":mr.lineWidth||0,fill:this.fillGraph&&this.color||"none"},Kr?$r.dashstyle=Kr:mr.linecap!=="square"&&($r["stroke-linecap"]=$r["stroke-linejoin"]="round"),Ir[zr]($r).shadow(mr.shadow&&Ix({filterUnits:"userSpaceOnUse"},wb(mr.shadow)?mr.shadow:{}))),Ir&&(Ir.startX=br.xMap,Ir.isArea=br.isArea)})}getGraphPath(mr,br,Er){let Pr=this,Dr=Pr.options,$r=[],Ir=[],zr,Kr=Dr.step,eo=(mr=mr||Pr.points).reversed;return eo&&mr.reverse(),(Kr={right:1,center:2}[Kr]||Kr&&3)&&eo&&(Kr=4-Kr),(mr=this.getValidPoints(mr,!1,Dr.nullInteraction||!(Dr.connectNulls&&!br&&!Er))).forEach(function(Zr,so){let po,go=Zr.plotX,_o=Zr.plotY,vo=mr[so-1],yo=Zr.isNull||typeof _o!="number";(Zr.leftCliff||vo?.rightCliff)&&!Er&&(zr=!0),yo&&!Av(br)&&so>0?zr=!Dr.connectNulls:yo&&!br?zr=!0:(so===0||zr?po=[["M",Zr.plotX,Zr.plotY]]:Pr.getPointSpline?po=[Pr.getPointSpline(mr,Zr,so)]:Kr?(po=Kr===1?[["L",vo.plotX,_o]]:Kr===2?[["L",(vo.plotX+go)/2,vo.plotY],["L",(vo.plotX+go)/2,_o]]:[["L",go,vo.plotY]]).push(["L",go,_o]):po=[["L",go,_o]],Ir.push(Zr.x),Kr&&(Ir.push(Zr.x),Kr===2&&Ir.push(Zr.x)),$r.push.apply($r,po),zr=!1)}),$r.xMap=Ir,Pr.graphPath=$r,$r}}Lp.defaultOptions=Ix(gd.defaultOptions,{legendSymbol:"lineMarker"}),nh.registerSeriesType("line",Lp);let{seriesTypes:{line:jh}}=nh,{extend:Tv,merge:Eb,objectEach:Xh,pick:By}=Uo;class Fx extends jh{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:mr,options:br}=this;[this,...this.zones].forEach((Er,Pr)=>{let Dr={},$r=Er.fillColor||br.fillColor,Ir=Er.area,zr=Ir?"animate":"attr";Ir?(Ir.endX=this.preventGraphAnimation?null:mr.xMap,Ir.animate({d:mr})):(Dr.zIndex=0,(Ir=Er.area=this.chart.renderer.path(mr).addClass("highcharts-area"+(Pr?` highcharts-zone-area-${Pr-1} `:" ")+(Pr&&Er.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(Dr.fill=$r||Er.color||this.color,Dr["fill-opacity"]=$r?1:br.fillOpacity??.75,Ir.css({pointerEvents:this.stickyTracking?"none":"auto"})),Ir[zr](Dr),Ir.startX=mr.xMap,Ir.shiftUnit=br.step?2:1})}getGraphPath(mr){let br,Er,Pr,Dr=jh.prototype.getGraphPath,$r=this.options,Ir=$r.stacking,zr=this.yAxis,Kr=[],eo=[],Zr=this.index,so=zr.stacking.stacks[this.stackKey],po=$r.threshold,go=Math.round(zr.getThreshold($r.threshold)),_o=By($r.connectNulls,Ir==="percent"),vo=function(Xo,qo,Wo){let xl=mr[Xo],vl=Ir&&so[xl.x].points[Zr],yl=xl[Wo+"Null"]||0,Fl=xl[Wo+"Cliff"]||0,Zl,Jl,Ll=!0;Fl||yl?(Zl=(yl?vl[0]:vl[1])+Fl,Jl=vl[0]+Fl,Ll=!!yl):!Ir&&mr[qo]&&mr[qo].isNull&&(Zl=Jl=po),Zl!==void 0&&(eo.push({plotX:br,plotY:Zl===null?go:zr.getThreshold(Zl),isNull:Ll,isCliff:!0}),Kr.push({plotX:br,plotY:Jl===null?go:zr.getThreshold(Jl),doCurve:!1}))};mr=mr||this.points,Ir&&(mr=this.getStackPoints(mr));for(let Xo=0,qo=mr.length;Xo<qo;++Xo)Ir||(mr[Xo].leftCliff=mr[Xo].rightCliff=mr[Xo].leftNull=mr[Xo].rightNull=void 0),Er=mr[Xo].isNull,br=By(mr[Xo].rectPlotX,mr[Xo].plotX),Pr=Ir?By(mr[Xo].yBottom,go):go,(!Er||_o)&&(_o||vo(Xo,Xo-1,"left"),Er&&!Ir&&_o||(eo.push(mr[Xo]),Kr.push({x:Xo,plotX:br,plotY:Pr})),_o||vo(Xo,Xo+1,"right"));let yo=Dr.call(this,eo,!0,!0);Kr.reversed=!0;let Do=Dr.call(this,Kr,!0,!0),Mo=Do[0];Mo&&Mo[0]==="M"&&(Do[0]=["L",Mo[1],Mo[2]]);let Io=yo.concat(Do);Io.length&&Io.push(["Z"]);let Yo=Dr.call(this,eo,!1,_o);return this.chart.series.length>1&&Ir&&eo.some(Xo=>Xo.isCliff)&&(Io.hasStackedCliffs=Yo.hasStackedCliffs=!0),Io.xMap=yo.xMap,this.areaPath=Io,Yo}getStackPoints(mr){let br=this,Er=[],Pr=[],Dr=this.xAxis,$r=this.yAxis,Ir=$r.stacking.stacks[this.stackKey],zr={},Kr=$r.series,eo=Kr.length,Zr=$r.options.reversedStacks?1:-1,so=Kr.indexOf(br);if(mr=mr||this.points,this.options.stacking){for(let go=0;go<mr.length;go++)mr[go].leftNull=mr[go].rightNull=void 0,zr[mr[go].x]=mr[go];Xh(Ir,function(go,_o){go.total!==null&&Pr.push(_o)}),Pr.sort(function(go,_o){return go-_o});let po=Kr.map(go=>go.visible);Pr.forEach(function(go,_o){let vo=0,yo,Do;if(zr[go]&&!zr[go].isNull)Er.push(zr[go]),[-1,1].forEach(function(Mo){let Io=Mo===1?"rightNull":"leftNull",Yo=Ir[Pr[_o+Mo]],Xo=0;if(Yo){let qo=so;for(;qo>=0&&qo<eo;){let Wo=Kr[qo].index;!(yo=Yo.points[Wo])&&(Wo===br.index?zr[go][Io]=!0:po[qo]&&(Do=Ir[go].points[Wo])&&(Xo-=Do[1]-Do[0])),qo+=Zr}}zr[go][Mo===1?"rightCliff":"leftCliff"]=Xo});else{let Mo=so;for(;Mo>=0&&Mo<eo;){let Io=Kr[Mo].index;if(yo=Ir[go].points[Io]){vo=yo[1];break}Mo+=Zr}vo=By(vo,0),vo=$r.translate(vo,0,1,0,1),Er.push({isNull:!0,plotX:Dr.translate(go,0,0,0,1),x:go,plotY:vo,yBottom:vo})}})}return Er}}Fx.defaultOptions=Eb(jh.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Tv(Fx.prototype,{singleStacks:!1}),nh.registerSeriesType("area",Fx);let{line:zy}=nh.seriesTypes,{merge:hh,pick:sd}=Uo;class sp extends zy{getPointSpline(mr,br,Er){let Pr,Dr,$r,Ir,zr=br.plotX||0,Kr=br.plotY||0,eo=mr[Er-1],Zr=mr[Er+1];function so(go){return go&&!go.isNull&&go.doCurve!==!1&&!br.isCliff}if(so(eo)&&so(Zr)){let go=eo.plotX||0,_o=eo.plotY||0,vo=Zr.plotX||0,yo=Zr.plotY||0,Do=0;Pr=(1.5*zr+go)/2.5,Dr=(1.5*Kr+_o)/2.5,$r=(1.5*zr+vo)/2.5,Ir=(1.5*Kr+yo)/2.5,$r!==Pr&&(Do=(Ir-Dr)*($r-zr)/($r-Pr)+Kr-Ir),Dr+=Do,Ir+=Do,Dr>_o&&Dr>Kr?(Dr=Math.max(_o,Kr),Ir=2*Kr-Dr):Dr<_o&&Dr<Kr&&(Dr=Math.min(_o,Kr),Ir=2*Kr-Dr),Ir>yo&&Ir>Kr?(Ir=Math.max(yo,Kr),Dr=2*Kr-Ir):Ir<yo&&Ir<Kr&&(Ir=Math.min(yo,Kr),Dr=2*Kr-Ir),br.rightContX=$r,br.rightContY=Ir,br.controlPoints={low:[Pr,Dr],high:[$r,Ir]}}let po=["C",sd(eo.rightContX,eo.plotX,0),sd(eo.rightContY,eo.plotY,0),sd(Pr,zr,0),sd(Dr,Kr,0),zr,Kr];return eo.rightContX=eo.rightContY=void 0,po}}sp.defaultOptions=hh(zy.defaultOptions),nh.registerSeriesType("spline",sp);let Pv=sp,{area:Dv,area:{prototype:Hy}}=nh.seriesTypes,{extend:n0,merge:Wy}=Uo;class yd extends Pv{}yd.defaultOptions=Wy(Pv.defaultOptions,Dv.defaultOptions),n0(yd.prototype,{getGraphPath:Hy.getGraphPath,getStackPoints:Hy.getStackPoints,drawGraph:Hy.drawGraph}),nh.registerSeriesType("areaspline",yd);let{animObject:ap}=Gc,{parse:Sb}=Ul,{noop:dh}=Fr,{clamp:Bx,crisp:$f,defined:Lm,extend:op,fireEvent:Gy,isArray:Vy,isNumber:Kd,merge:Uy,pick:If,objectEach:zx}=Uo;class $m extends gd{animate(mr){let br,Er,Pr=this,Dr=this.yAxis,$r=Dr.pos,Ir=Dr.reversed,zr=Pr.options,{clipOffset:Kr,inverted:eo}=this.chart,Zr={},so=eo?"translateX":"translateY";mr&&Kr?(Zr.scaleY=.001,Er=Bx(Dr.toPixels(zr.threshold||0),$r,$r+Dr.len),eo?Zr.translateX=(Er+=Ir?-Math.floor(Kr[0]):Math.ceil(Kr[2]))-Dr.len:Zr.translateY=Er+=Ir?Math.ceil(Kr[0]):-Math.floor(Kr[2]),Pr.clipBox&&Pr.setClip(),Pr.group.attr(Zr)):(br=Number(Pr.group.attr(so)),Pr.group.animate({scaleY:1},op(ap(Pr.options.animation),{step:function(po,go){Pr.group&&(Zr[so]=br+go.pos*($r-br),Pr.group.attr(Zr))}})))}init(mr,br){super.init.apply(this,arguments);let Er=this;(mr=Er.chart).hasRendered&&mr.series.forEach(function(Pr){Pr.type===Er.type&&(Pr.isDirty=!0)})}getColumnMetrics(){let mr=this,br=mr.options,Er=mr.xAxis,Pr=mr.yAxis,Dr=Er.options.reversedStacks,$r=Er.reversed&&!Dr||!Er.reversed&&Dr,Ir={},zr,Kr=0;br.grouping===!1?Kr=1:mr.chart.series.forEach(function(_o){let vo,yo=_o.yAxis,Do=_o.options;_o.type===mr.type&&_o.reserveSpace()&&Pr.len===yo.len&&Pr.pos===yo.pos&&(Do.stacking&&Do.stacking!=="group"?(Ir[zr=_o.stackKey]===void 0&&(Ir[zr]=Kr++),vo=Ir[zr]):Do.grouping!==!1&&(vo=Kr++),_o.columnIndex=vo)});let eo=Math.min(Math.abs(Er.transA)*(!Er.brokenAxis?.hasBreaks&&Er.ordinal?.slope||br.pointRange||Er.closestPointRange||Er.tickInterval||1),Er.len),Zr=eo*br.groupPadding,so=(eo-2*Zr)/(Kr||1),po=Math.min(br.maxPointWidth||Er.len,If(br.pointWidth,so*(1-2*br.pointPadding))),go=(mr.columnIndex||0)+ +!!$r;return mr.columnMetrics={width:po,offset:(so-po)/2+(Zr+go*so-eo/2)*($r?-1:1),paddedWidth:so,columnCount:Kr},mr.columnMetrics}crispCol(mr,br,Er,Pr){let Dr=this.borderWidth,$r=this.chart.inverted;return Pr=$f(br+Pr,Dr,$r)-(br=$f(br,Dr,$r)),this.options.crisp&&(Er=$f(mr+Er,Dr)-(mr=$f(mr,Dr))),{x:mr,y:br,width:Er,height:Pr}}adjustForMissingColumns(mr,br,Er,Pr){if(!Er.isNull&&Pr.columnCount>1){let Dr=this.xAxis.series.filter(Kr=>Kr.visible).map(Kr=>Kr.index),$r=0,Ir=0;zx(this.xAxis.stacking?.stacks,Kr=>{let eo=typeof Er.x=="number"?Kr[Er.x.toString()]?.points:void 0,Zr=eo?.[this.index],so={};if(eo&&Vy(Zr)){let po=this.index,go=Object.keys(eo).filter(_o=>!_o.match(",")&&eo[_o]&&eo[_o].length>1).map(parseFloat).filter(_o=>Dr.indexOf(_o)!==-1).filter(_o=>{let vo=this.chart.series[_o].options,yo=vo.stacking&&vo.stack;if(Lm(yo)){if(Kd(so[yo]))return po===_o&&(po=so[yo]),!1;so[yo]=_o}return!0}).sort((_o,vo)=>vo-_o);$r=go.indexOf(po),Ir=go.length}}),$r=this.xAxis.reversed?Ir-1-$r:$r;let zr=(Ir-1)*Pr.paddedWidth+br;mr=(Er.plotX||0)+zr/2-br-$r*Pr.paddedWidth}return mr}translate(){let mr=this,br=mr.chart,Er=mr.options,Pr=mr.dense=mr.closestPointRange*mr.xAxis.transA<2,Dr=mr.borderWidth=If(Er.borderWidth,+!Pr),$r=mr.xAxis,Ir=mr.yAxis,zr=Er.threshold,Kr=If(Er.minPointLength,5),eo=mr.getColumnMetrics(),Zr=eo.width,so=mr.pointXOffset=eo.offset,po=mr.dataMin,go=mr.dataMax,_o=mr.translatedThreshold=Ir.getThreshold(zr),vo=mr.barW=Math.max(Zr,1+2*Dr);Er.pointPadding&&Er.crisp&&(vo=Math.ceil(vo)),gd.prototype.translate.apply(mr),mr.points.forEach(function(yo){let Do=If(yo.yBottom,_o),Mo=999+Math.abs(Do),Io=yo.plotX||0,Yo=Bx(yo.plotY,-Mo,Ir.len+Mo),Xo,qo=Math.min(Yo,Do),Wo=Math.max(Yo,Do)-qo,xl=Zr,vl=Io+so,yl=vo;Kr&&Math.abs(Wo)<Kr&&(Wo=Kr,Xo=!Ir.reversed&&!yo.negative||Ir.reversed&&yo.negative,Kd(zr)&&Kd(go)&&yo.y===zr&&go<=zr&&(Ir.min||0)<zr&&(po!==go||(Ir.max||0)<=zr)&&(Xo=!Xo,yo.negative=!yo.negative),qo=Math.abs(qo-_o)>Kr?Do-Kr:_o-(Xo?Kr:0)),Lm(yo.options.pointWidth)&&(vl-=Math.round(((xl=yl=Math.ceil(yo.options.pointWidth))-Zr)/2)),Er.centerInCategory&&(vl=mr.adjustForMissingColumns(vl,xl,yo,eo)),yo.barX=vl,yo.pointWidth=xl,yo.tooltipPos=br.inverted?[Bx(Ir.len+Ir.pos-br.plotLeft-Yo,Ir.pos-br.plotLeft,Ir.len+Ir.pos-br.plotLeft),$r.len+$r.pos-br.plotTop-vl-yl/2,Wo]:[$r.left-br.plotLeft+vl+yl/2,Bx(Yo+Ir.pos-br.plotTop,Ir.pos-br.plotTop,Ir.len+Ir.pos-br.plotTop),Wo],yo.shapeType=mr.pointClass.prototype.shapeType||"roundedRect",yo.shapeArgs=mr.crispCol(vl,qo,yl,yo.isNull?0:Wo)}),Gy(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(mr,br){let Er=this.options,Pr=this.pointAttrToOptions||{},Dr=Pr.stroke||"borderColor",$r=Pr["stroke-width"]||"borderWidth",Ir,zr,Kr,eo=mr&&mr.color||this.color,Zr=mr&&mr[Dr]||Er[Dr]||eo,so=mr&&mr.options.dashStyle||Er.dashStyle,po=mr&&mr[$r]||Er[$r]||this[$r]||0,go=mr?.isNull&&Er.nullInteraction?0:mr?.opacity??Er.opacity??1;mr&&this.zones.length&&(zr=mr.getZone(),eo=mr.options.color||zr&&(zr.color||mr.nonZonedColor)||this.color,zr&&(Zr=zr.borderColor||Zr,so=zr.dashStyle||so,po=zr.borderWidth||po)),br&&mr&&(Kr=(Ir=Uy(Er.states[br],mr.options.states&&mr.options.states[br]||{})).brightness,eo=Ir.color||Kr!==void 0&&Sb(eo).brighten(Ir.brightness).get()||eo,Zr=Ir[Dr]||Zr,po=Ir[$r]||po,so=Ir.dashStyle||so,go=If(Ir.opacity,go));let _o={fill:eo,stroke:Zr,"stroke-width":po,opacity:go};return so&&(_o.dashstyle=so),_o}drawPoints(mr=this.points){let br,Er=this,Pr=this.chart,Dr=Er.options,$r=Dr.nullInteraction,Ir=Pr.renderer,zr=Dr.animationLimit||250;mr.forEach(function(Kr){let eo=Kr.plotY,Zr=Kr.graphic,so=!!Zr,po=Zr&&Pr.pointCount<zr?"animate":"attr";Kd(eo)&&(Kr.y!==null||$r)?(br=Kr.shapeArgs,Zr&&Kr.hasNewShapeType()&&(Zr=Zr.destroy()),Er.enabledDataSorting&&(Kr.startXPos=Er.xAxis.reversed?-(br&&br.width||0):Er.xAxis.width),!Zr&&(Kr.graphic=Zr=Ir[Kr.shapeType](br).add(Kr.group||Er.group),Zr&&Er.enabledDataSorting&&Pr.hasRendered&&Pr.pointCount<zr&&(Zr.attr({x:Kr.startXPos}),so=!0,po="animate")),Zr&&so&&Zr[po](Uy(br)),Pr.styledMode||Zr[po](Er.pointAttribs(Kr,Kr.selected&&"select")).shadow(Kr.allowShadow!==!1&&Dr.shadow),Zr&&(Zr.addClass(Kr.getClassName(),!0),Zr.attr({visibility:Kr.visible?"inherit":"hidden"}))):Zr&&(Kr.graphic=Zr.destroy())})}drawTracker(mr=this.points){let br,Er=this,Pr=Er.chart,Dr=Pr.pointer,$r=function(Ir){Dr?.normalize(Ir);let zr=Dr?.getPointFromEvent(Ir);Dr&&zr&&Er.options.enableMouseTracking&&(Pr.isInsidePlot(Ir.chartX-Pr.plotLeft,Ir.chartY-Pr.plotTop,{visiblePlotOnly:!0})||Dr?.inClass(Ir.target,"highcharts-data-label"))&&(Dr.isDirectTouch=!0,zr.onMouseOver(Ir))};mr.forEach(function(Ir){br=Vy(Ir.dataLabels)?Ir.dataLabels:Ir.dataLabel?[Ir.dataLabel]:[],Ir.graphic&&(Ir.graphic.element.point=Ir),br.forEach(function(zr){(zr.div||zr.element).point=Ir})}),Er._hasTracking||(Er.trackerGroups.forEach(function(Ir){Er[Ir]&&(Er[Ir].addClass("highcharts-tracker").on("mouseover",$r).on("mouseout",function(zr){Dr?.onTrackerMouseOut(zr)}).on("touchstart",$r),!Pr.styledMode&&Er.options.cursor&&Er[Ir].css({cursor:Er.options.cursor}))}),Er._hasTracking=!0),Gy(this,"afterDrawTracker")}remove(){let mr=this,br=mr.chart;br.hasRendered&&br.series.forEach(function(Er){Er.type===mr.type&&(Er.isDirty=!0)}),gd.prototype.remove.apply(mr,arguments)}}$m.defaultOptions=Uy(gd.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),op($m.prototype,{directTouch:!0,getSymbol:dh,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),nh.registerSeriesType("column",$m);let am=$m,{getDeferredAnimation:jb}=Gc,{format:Rb}=Ro,{defined:lp,extend:Mv,fireEvent:Qg,getAlignFactor:Nv,isArray:Im,isString:Hx,merge:pu,objectEach:Xu,pick:Uc,pInt:lu,splat:Nu}=Uo;(function(Ur){function mr(){return zr(this).some(eo=>eo?.enabled)}function br(eo,Zr,so,po,go){let{chart:_o,enabledDataSorting:vo}=this,yo=this.isCartesian&&_o.inverted,Do=eo.plotX,Mo=eo.plotY,Io=so.rotation||0,Yo=lp(Do)&&lp(Mo)&&_o.isInsidePlot(Do,Math.round(Mo),{inverted:yo,paneCoordinates:!0,series:this}),Xo=Io===0&&Uc(so.overflow,vo?"none":"justify")==="justify",qo=this.visible&&eo.visible!==!1&&lp(Do)&&(eo.series.forceDL||vo&&!Xo||Yo||Uc(so.inside,!!this.options.stacking)&&po&&_o.isInsidePlot(Do,yo?po.x+1:po.y+po.height-1,{inverted:yo,paneCoordinates:!0,series:this})),Wo=eo.pos();if(qo&&Wo){var xl;let vl=Zr.getBBox(),yl=Zr.getBBox(void 0,0);if(po=Mv({x:Wo[0],y:Math.round(Wo[1]),width:0,height:0},po||{}),so.alignTo==="plotEdges"&&this.isCartesian&&(po[yo?"x":"y"]=0,po[yo?"width":"height"]=this.yAxis?.len||0),Mv(so,{width:vl.width,height:vl.height}),xl=po,vo&&this.xAxis&&!Xo&&this.setDataLabelStartPos(eo,Zr,go,Yo,xl),Zr.align(pu(so,{width:yl.width,height:yl.height}),!1,po,!1),Zr.alignAttr.x+=Nv(so.align)*(yl.width-vl.width),Zr.alignAttr.y+=Nv(so.verticalAlign)*(yl.height-vl.height),Zr[Zr.placed?"animate":"attr"]({"text-align":Zr.alignAttr["text-align"]||"center",x:Zr.alignAttr.x+(vl.width-yl.width)/2,y:Zr.alignAttr.y+(vl.height-yl.height)/2,rotationOriginX:(Zr.width||0)/2,rotationOriginY:(Zr.height||0)/2}),Xo&&po.height>=0)this.justifyDataLabel(Zr,so,Zr.alignAttr,vl,po,go);else if(Uc(so.crop,!0)){let{x:Fl,y:Zl}=Zr.alignAttr;qo=_o.isInsidePlot(Fl,Zl,{paneCoordinates:!0,series:this})&&_o.isInsidePlot(Fl+vl.width-1,Zl+vl.height-1,{paneCoordinates:!0,series:this})}so.shape&&!Io&&Zr[go?"attr":"animate"]({anchorX:Wo[0],anchorY:Wo[1]})}go&&vo&&(Zr.placed=!1),qo||vo&&!Xo?(Zr.show(),Zr.placed=!0):(Zr.hide(),Zr.placed=!1)}function Er(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function Pr(eo){let Zr=this.hasRendered||0,so=this.initDataLabelsGroup().attr({opacity:+Zr});return!Zr&&so&&(this.visible&&so.show(),this.options.animation?so.animate({opacity:1},eo):so.attr({opacity:1})),so}function Dr(eo){let Zr;eo=eo||this.points;let so=this,po=so.chart,go=so.options,_o=po.renderer,{backgroundColor:vo,plotBackgroundColor:yo}=po.options.chart,Do=_o.getContrast(Hx(yo)&&yo||Hx(vo)&&vo||"#000000"),Mo=zr(so),{animation:Io,defer:Yo}=Mo[0],Xo=Yo?jb(po,Io,so):{defer:0,duration:0};Qg(this,"drawDataLabels"),so.hasDataLabels?.()&&(Zr=this.initDataLabels(Xo),eo.forEach(qo=>{let Wo=qo.dataLabels||[],xl=qo.color||so.color;Nu(Ir(Mo,qo.dlOptions||qo.options?.dataLabels)).forEach((yl,Fl)=>{let Zl=yl.enabled&&(qo.visible||qo.dataLabelOnHidden)&&(!qo.isNull||qo.dataLabelOnNull)&&(function(Bu,cu){let zl=cu.filter;if(zl){let rh=zl.operator,qu=Bu[zl.property],od=zl.value;return rh===">"&&qu>od||rh==="<"&&qu<od||rh===">="&&qu>=od||rh==="<="&&qu<=od||rh==="=="&&qu==od||rh==="==="&&qu===od||rh==="!="&&qu!=od||rh==="!=="&&qu!==od||!1}return!0})(qo,yl),{backgroundColor:Jl,borderColor:Ll,distance:Gl,style:Ql={}}=yl,Hc,Tc,ad,yc={},xc=Wo[Fl],mu=!xc,Wc;Zl&&(Tc=lp(Hc=Uc(yl[qo.formatPrefix+"Format"],yl.format))?Rb(Hc,qo,po):(yl[qo.formatPrefix+"Formatter"]||yl.formatter).call(qo,yl),ad=yl.rotation,!po.styledMode&&(Ql.color=Uc(yl.color,Ql.color,Hx(so.color)?so.color:void 0,"#000000"),Ql.color==="contrast"?(Jl!=="none"&&(Wc=Jl),qo.contrastColor=_o.getContrast(Wc!=="auto"&&Hx(Wc)&&Wc||(Hx(xl)?xl:"")),Ql.color=Wc||!lp(Gl)&&yl.inside||0>lu(Gl||0)||go.stacking?qo.contrastColor:Do):delete qo.contrastColor,go.cursor&&(Ql.cursor=go.cursor)),yc={r:yl.borderRadius||0,rotation:ad,padding:yl.padding,zIndex:1},po.styledMode||(yc.fill=Jl==="auto"?qo.color:Jl,yc.stroke=Ll==="auto"?qo.color:Ll,yc["stroke-width"]=yl.borderWidth),Xu(yc,(Bu,cu)=>{Bu===void 0&&delete yc[cu]})),!xc||Zl&&lp(Tc)&&!!(xc.div||xc.text?.foreignObject)==!!yl.useHTML&&(xc.rotation&&yl.rotation||xc.rotation===yl.rotation)||(xc=void 0,mu=!0),Zl&&lp(Tc)&&Tc!==""&&(xc?yc.text=Tc:(xc=_o.label(Tc,0,0,yl.shape,void 0,void 0,yl.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+qo.colorIndex+" "+(yl.className||"")+(yl.useHTML?" highcharts-tracker":"")),xc&&(xc.options=yl,xc.attr(yc),po.styledMode?Ql.width&&xc.css({width:Ql.width,textOverflow:Ql.textOverflow,whiteSpace:Ql.whiteSpace}):xc.css(Ql).shadow(yl.shadow),Qg(xc,"beforeAddingDataLabel",{labelOptions:yl,point:qo}),xc.added||xc.add(Zr),so.alignDataLabel(qo,xc,yl,void 0,mu),xc.isActive=!0,Wo[Fl]&&Wo[Fl]!==xc&&Wo[Fl].destroy(),Wo[Fl]=xc))});let vl=Wo.length;for(;vl--;)Wo[vl]?.isActive?Wo[vl].isActive=!1:(Wo[vl]?.destroy(),Wo.splice(vl,1));qo.dataLabel=Wo[0],qo.dataLabels=Wo})),Qg(this,"afterDrawDataLabels")}function $r(eo,Zr,so,po,go,_o){let vo=this.chart,yo=Zr.align,Do=Zr.verticalAlign,Mo=eo.box?0:eo.padding||0,Io=vo.inverted?this.yAxis:this.xAxis,Yo=Io?Io.left-vo.plotLeft:0,Xo=vo.inverted?this.xAxis:this.yAxis,qo=Xo?Xo.top-vo.plotTop:0,{x:Wo=0,y:xl=0}=Zr,vl,yl;return(vl=(so.x||0)+Mo+Yo)<0&&(yo==="right"&&Wo>=0?(Zr.align="left",Zr.inside=!0):Wo-=vl,yl=!0),(vl=(so.x||0)+po.width-Mo+Yo)>vo.plotWidth&&(yo==="left"&&Wo<=0?(Zr.align="right",Zr.inside=!0):Wo+=vo.plotWidth-vl,yl=!0),(vl=so.y+Mo+qo)<0&&(Do==="bottom"&&xl>=0?(Zr.verticalAlign="top",Zr.inside=!0):xl-=vl,yl=!0),(vl=(so.y||0)+po.height-Mo+qo)>vo.plotHeight&&(Do==="top"&&xl<=0?(Zr.verticalAlign="bottom",Zr.inside=!0):xl+=vo.plotHeight-vl,yl=!0),yl&&(Zr.x=Wo,Zr.y=xl,eo.placed=!_o,eo.align(Zr,void 0,go)),yl}function Ir(eo,Zr){let so=[],po;if(Im(eo)&&!Im(Zr))so=eo.map(function(go){return pu(go,Zr)});else if(Im(Zr)&&!Im(eo))so=Zr.map(function(go){return pu(eo,go)});else if(Im(eo)||Im(Zr)){if(Im(eo)&&Im(Zr))for(po=Math.max(eo.length,Zr.length);po--;)so[po]=pu(eo[po],Zr[po])}else so=pu(eo,Zr);return so}function zr(eo){let Zr=eo.chart.options.plotOptions;return Nu(Ir(Ir(Zr?.series?.dataLabels,Zr?.[eo.type]?.dataLabels),eo.options.dataLabels))}function Kr(eo,Zr,so,po,go){let _o=this.chart,vo=_o.inverted,yo=this.xAxis,Do=yo.reversed,Mo=((vo?Zr.height:Zr.width)||0)/2,Io=eo.pointWidth,Yo=Io?Io/2:0;Zr.startXPos=vo?go.x:Do?-Mo-Yo:yo.width-Mo+Yo,Zr.startYPos=vo?Do?this.yAxis.height-Mo+Yo:-Mo-Yo:go.y,po?Zr.visibility==="hidden"&&(Zr.show(),Zr.attr({opacity:0}).animate({opacity:1})):Zr.attr({opacity:1}).animate({opacity:0},void 0,Zr.hide),_o.hasRendered&&(so&&Zr.attr({x:Zr.startXPos,y:Zr.startYPos}),Zr.placed=!0)}Ur.compose=function(eo){let Zr=eo.prototype;Zr.initDataLabels||(Zr.initDataLabels=Pr,Zr.initDataLabelsGroup=Er,Zr.alignDataLabel=br,Zr.drawDataLabels=Dr,Zr.justifyDataLabel=$r,Zr.mergeArrays=Ir,Zr.setDataLabelStartPos=Kr,Zr.hasDataLabels=mr)}})(vr||(vr={}));let vd=vr,{composed:Fm}=Fr,{series:yg}=nh,{merge:Ov,pushUnique:cp}=Uo;(function(Ur){function mr(br,Er,Pr,Dr,$r){let{chart:Ir,options:zr}=this,Kr=Ir.inverted,eo=this.xAxis?.len||Ir.plotSizeX||0,Zr=this.yAxis?.len||Ir.plotSizeY||0,so=br.dlBox||br.shapeArgs,po=br.below??(br.plotY||0)>(this.translatedThreshold??Zr),go=Pr.inside??!!zr.stacking;if(so){if(Dr=Ov(so),Pr.overflow!=="allow"||Pr.crop!==!1||zr.clip!==!1){Dr.y<0&&(Dr.height+=Dr.y,Dr.y=0);let _o=Dr.y+Dr.height-Zr;_o>0&&_o<Dr.height-1&&(Dr.height-=_o)}Kr&&(Dr={x:Zr-Dr.y-Dr.height,y:eo-Dr.x-Dr.width,width:Dr.height,height:Dr.width}),go||(Kr?(Dr.x+=po?0:Dr.width,Dr.width=0):(Dr.y+=po?Dr.height:0,Dr.height=0))}Pr.align??(Pr.align=!Kr||go?"center":po?"right":"left"),Pr.verticalAlign??(Pr.verticalAlign=Kr||go?"middle":po?"top":"bottom"),yg.prototype.alignDataLabel.call(this,br,Er,Pr,Dr,$r),Pr.inside&&br.contrastColor&&Er.css({color:br.contrastColor})}Ur.compose=function(br){vd.compose(yg),cp(Fm,"ColumnDataLabel")&&(br.prototype.alignDataLabel=mr)}})(jr||(jr={}));let vh=jr,{extend:Bm,merge:vg}=Uo;class Wx extends am{}Wx.defaultOptions=vg(am.defaultOptions,{}),Bm(Wx.prototype,{inverted:!0}),nh.registerSeriesType("bar",Wx);let{column:ff,line:bg}=nh.seriesTypes,{addEvent:Gx,extend:Zd,merge:Lv}=Uo;class zm extends bg{applyJitter(){let mr=this,br=this.options.jitter,Er=this.points.length;br&&this.points.forEach(function(Pr,Dr){["x","y"].forEach(function($r,Ir){if(br[$r]&&!Pr.isNull){let zr=`plot${$r.toUpperCase()}`,Kr=mr[`${$r}Axis`],eo=br[$r]*Kr.transA;if(Kr&&!Kr.logarithmic){let Zr=Math.max(0,(Pr[zr]||0)-eo),so=Math.min(Kr.len,(Pr[zr]||0)+eo);Pr[zr]=Zr+(so-Zr)*(function(po){let go=1e4*Math.sin(po);return go-Math.floor(go)})(Dr+Ir*Er),$r==="x"&&(Pr.clientX=Pr.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}zm.defaultOptions=Lv(bg.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Zd(zm.prototype,{drawTracker:ff.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Gx(zm,"afterTranslate",function(){this.applyJitter()}),nh.registerSeriesType("scatter",zm);let{deg2rad:$v}=Fr,{fireEvent:_g,isNumber:Jg,pick:up,relativeLength:Fh}=Uo;(function(Ur){Ur.getCenter=function(){let mr=this.options,br=this.chart,Er=2*(mr.slicedOffset||0),Pr=br.plotWidth-2*Er,Dr=br.plotHeight-2*Er,$r=mr.center,Ir=Math.min(Pr,Dr),zr=mr.thickness,Kr,eo=mr.size,Zr=mr.innerSize||0,so,po;typeof eo=="string"&&(eo=parseFloat(eo)),typeof Zr=="string"&&(Zr=parseFloat(Zr));let go=[up($r?.[0],"50%"),up($r?.[1],"50%"),up(eo&&eo<0?void 0:mr.size,"100%"),up(Zr&&Zr<0?void 0:mr.innerSize||0,"0%")];for(!br.angular||this instanceof gd||(go[3]=0),so=0;so<4;++so)po=go[so],Kr=so<2||so===2&&/%$/.test(po),go[so]=Fh(po,[Pr,Dr,Ir,go[2]][so])+(Kr?Er:0);return go[3]>go[2]&&(go[3]=go[2]),Jg(zr)&&2*zr<go[2]&&zr>0&&(go[3]=go[2]-2*zr),_g(this,"afterGetCenter",{positions:go}),go},Ur.getStartAndEndRadians=function(mr,br){let Er=Jg(mr)?mr:0,Pr=Jg(br)&&br>Er&&br-Er<360?br:Er+360;return{start:$v*(Er+-90),end:$v*(Pr+-90)}}})(Sr||(Sr={}));let om=Sr,{setAnimation:ex}=Gc,{addEvent:$p,defined:Iv,extend:Fv,isNumber:Cb,pick:Vx,relativeLength:Bv}=Uo;class Qd extends Tf{getConnectorPath(mr){let br=mr.dataLabelPosition,Er=mr.options||{},Pr=Er.connectorShape,Dr=this.connectorShapes[Pr]||Pr;return br&&Dr.call(this,{...br.computed,alignment:br.alignment},br.connectorPosition,Er)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(mr){let br=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(br.x,br.y,br.r+mr,br.r+mr,{innerR:br.r-1,start:br.start,end:br.end,borderRadius:br.borderRadius})}constructor(mr,br,Er){super(mr,br,Er),this.half=0,this.name??(this.name=mr.chart.options.lang.pieSliceName);let Pr=Dr=>{this.slice(Dr.type==="select")};$p(this,"select",Pr),$p(this,"unselect",Pr)}isValid(){return Cb(this.y)&&this.y>=0}setVisible(mr,br=!0){mr!==this.visible&&this.update({visible:mr??!this.visible},br,void 0,!1)}slice(mr,br,Er){let Pr=this.series;ex(Er,Pr.chart),br=Vx(br,!0),this.sliced=this.options.sliced=mr=Iv(mr)?mr:!this.sliced,Pr.options.data[Pr.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Fv(Qd.prototype,{connectorShapes:{fixedOffset:function(Ur,mr,br){let Er=mr.breakAt,Pr=mr.touchingSliceAt,Dr=br.softConnector?["C",Ur.x+(Ur.alignment==="left"?-5:5),Ur.y,2*Er.x-Pr.x,2*Er.y-Pr.y,Er.x,Er.y]:["L",Er.x,Er.y];return[["M",Ur.x,Ur.y],Dr,["L",Pr.x,Pr.y]]},straight:function(Ur,mr){let br=mr.touchingSliceAt;return[["M",Ur.x,Ur.y],["L",br.x,br.y]]},crookedLine:function(Ur,mr,br){let{angle:Er=this.angle||0,breakAt:Pr,touchingSliceAt:Dr}=mr,{series:$r}=this,[Ir,zr,Kr]=$r.center,eo=Kr/2,{plotLeft:Zr,plotWidth:so}=$r.chart,po=Ur.alignment==="left",{x:go,y:_o}=Ur,vo=Pr.x;if(br.crookDistance){let Do=Bv(br.crookDistance,1);vo=po?Ir+eo+(so+Zr-Ir-eo)*(1-Do):Zr+(Ir-eo)*Do}else vo=Ir+(zr-_o)*Math.tan(Er-Math.PI/2);let yo=[["M",go,_o]];return(po?vo<=go&&vo>=Pr.x:vo>=go&&vo<=Pr.x)&&yo.push(["L",vo,_o]),yo.push(["L",Pr.x,Pr.y],["L",Dr.x,Dr.y]),yo}}});let{getStartAndEndRadians:kb}=om,{noop:Od}=Fr,{clamp:Ab,extend:Tb,fireEvent:zv,merge:hp,pick:Yy}=Uo;class Ux extends gd{animate(mr){let br=this,Er=br.points,Pr=br.startAngleRad;mr||Er.forEach(function(Dr){let $r=Dr.graphic,Ir=Dr.shapeArgs;$r&&Ir&&($r.attr({r:Yy(Dr.startR,br.center&&br.center[3]/2),start:Pr,end:Pr}),$r.animate({r:Ir.r,start:Ir.start,end:Ir.end},br.options.animation))})}drawEmpty(){let mr,br,Er=this.startAngleRad,Pr=this.endAngleRad,Dr=this.options;this.total===0&&this.center?(mr=this.center[0],br=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(mr,br,this.center[1]/2,0,Er,Pr).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:wf.arc(mr,br,this.center[2]/2,0,{start:Er,end:Pr,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":Dr.borderWidth,fill:Dr.fillColor||"none",stroke:Dr.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let mr=this.chart.renderer;this.points.forEach(function(br){br.graphic&&br.hasNewShapeType()&&(br.graphic=br.graphic.destroy()),br.graphic||(br.graphic=mr[br.shapeType](br.shapeArgs).add(br.series.group),br.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(mr,br,Er,Pr){let Dr=this.center,$r=this.radii?this.radii[Er.index]||0:Dr[2]/2,Ir=Pr.dataLabelPosition,zr=Ir?.distance||0,Kr=Math.asin(Ab((mr-Dr[1])/($r+zr),-1,1));return Dr[0]+Math.cos(Kr)*($r+zr)*(br?-1:1)+(zr>0?(br?-1:1)*(Pr.padding||0):0)}hasData(){return this.points.some(mr=>mr.visible)}redrawPoints(){let mr,br,Er,Pr,Dr=this,$r=Dr.chart;this.drawEmpty(),Dr.group&&!$r.styledMode&&Dr.group.shadow(Dr.options.shadow),Dr.points.forEach(function(Ir){let zr={};br=Ir.graphic,!Ir.isNull&&br?(Pr=Ir.shapeArgs,mr=Ir.getTranslate(),$r.styledMode||(Er=Dr.pointAttribs(Ir,Ir.selected&&"select")),Ir.delayedRendering?(br.setRadialReference(Dr.center).attr(Pr).attr(mr),$r.styledMode||br.attr(Er).attr({"stroke-linejoin":"round"}),Ir.delayedRendering=!1):(br.setRadialReference(Dr.center),$r.styledMode||hp(!0,zr,Er),hp(!0,zr,Pr,mr),br.animate(zr)),br.attr({visibility:Ir.visible?"inherit":"hidden"}),br.addClass(Ir.getClassName(),!0)):br&&(Ir.graphic=br.destroy())})}sortByAngle(mr,br){mr.sort(function(Er,Pr){return Er.angle!==void 0&&(Pr.angle-Er.angle)*br})}translate(mr){zv(this,"translate"),this.generatePoints();let br=this.options,Er=br.slicedOffset,Pr=kb(br.startAngle,br.endAngle),Dr=this.startAngleRad=Pr.start,$r=(this.endAngleRad=Pr.end)-Dr,Ir=this.points,zr=br.ignoreHiddenPoint,Kr=Ir.length,eo,Zr,so,po,go,_o,vo,yo=0;for(mr||(this.center=mr=this.getCenter()),_o=0;_o<Kr;_o++){vo=Ir[_o],eo=Dr+yo*$r,vo.isValid()&&(!zr||vo.visible)&&(yo+=vo.percentage/100),Zr=Dr+yo*$r;let Do={x:mr[0],y:mr[1],r:mr[2]/2,innerR:mr[3]/2,start:Math.round(1e3*eo)/1e3,end:Math.round(1e3*Zr)/1e3};vo.shapeType="arc",vo.shapeArgs=Do,(so=(Zr+eo)/2)>1.5*Math.PI?so-=2*Math.PI:so<-Math.PI/2&&(so+=2*Math.PI),vo.slicedTranslation={translateX:Math.round(Math.cos(so)*Er),translateY:Math.round(Math.sin(so)*Er)},po=Math.cos(so)*mr[2]/2,go=Math.sin(so)*mr[2]/2,vo.tooltipPos=[mr[0]+.7*po,mr[1]+.7*go],vo.half=+(so<-Math.PI/2||so>Math.PI/2),vo.angle=so}zv(this,"afterTranslate")}updateTotals(){let mr=this.points,br=mr.length,Er=this.options.ignoreHiddenPoint,Pr,Dr,$r=0;for(Pr=0;Pr<br;Pr++)(Dr=mr[Pr]).isValid()&&(!Er||Dr.visible)&&($r+=Dr.y);for(Pr=0,this.total=$r;Pr<br;Pr++)(Dr=mr[Pr]).percentage=$r>0&&(Dr.visible||!Er)?Dr.y/$r*100:0,Dr.total=$r}}Ux.defaultOptions=hp(gd.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Tb(Ux.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:am.prototype.drawTracker,getCenter:om.getCenter,getSymbol:Od,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:am.prototype.pointAttribs,pointClass:Qd,requireSorting:!1,searchPoint:Od,trackerGroups:["group","dataLabelsGroup"]}),nh.registerSeriesType("pie",Ux);let{composed:tx,noop:Pb}=Fr,{distribute:Yx}=wc,{series:Hv}=nh,{arrayMax:Db,clamp:Xx,defined:Xy,isNumber:i0,pick:r0,pushUnique:s0,relativeLength:Wv}=Uo;(function(Ur){let mr={radialDistributionY:function($r,Ir){return(Ir.dataLabelPosition?.top||0)+$r.distributeBox.pos},radialDistributionX:function($r,Ir,zr,Kr,eo){let Zr=eo.dataLabelPosition;return $r.getX(zr<(Zr?.top||0)+2||zr>(Zr?.bottom||0)-2?Kr:zr,Ir.half,Ir,eo)},justify:function($r,Ir,zr,Kr){return Kr[0]+($r.half?-1:1)*(zr+(Ir.dataLabelPosition?.distance||0))},alignToPlotEdges:function($r,Ir,zr,Kr){let eo=$r.getBBox().width;return Ir?eo+Kr:zr-eo-Kr},alignToConnectors:function($r,Ir,zr,Kr){let eo=0,Zr;return $r.forEach(function(so){(Zr=so.dataLabel.getBBox().width)>eo&&(eo=Zr)}),Ir?eo+Kr:zr-eo-Kr}};function br($r,Ir){let zr=Math.PI/2,{start:Kr=0,end:eo=0}=$r.shapeArgs||{},Zr=$r.angle||0;Ir>0&&Kr<zr&&eo>zr&&Zr>zr/2&&Zr<1.5*zr&&(Zr=Zr<=zr?Math.max(zr/2,(Kr+zr)/2):Math.min(1.5*zr,(zr+eo)/2));let{center:so,options:po}=this,go=so[2]/2,_o=Math.cos(Zr),vo=Math.sin(Zr),yo=so[0]+_o*go,Do=so[1]+vo*go,Mo=Math.min((po.slicedOffset||0)+(po.borderWidth||0),Ir/5);return{natural:{x:yo+_o*Ir,y:Do+vo*Ir},computed:{},alignment:Ir<0?"center":$r.half?"right":"left",connectorPosition:{angle:Zr,breakAt:{x:yo+_o*Mo,y:Do+vo*Mo},touchingSliceAt:{x:yo,y:Do}},distance:Ir}}function Er(){let $r=this,Ir=$r.points,zr=$r.chart,Kr=zr.plotWidth,eo=zr.plotHeight,Zr=zr.plotLeft,so=Math.round(zr.chartWidth/3),po=$r.center,go=po[2]/2,_o=po[1],vo=[[],[]],yo=[0,0,0,0],Do=$r.dataLabelPositioners,Mo,Io,Yo,Xo=0;$r.visible&&$r.hasDataLabels?.()&&(Ir.forEach(qo=>{(qo.dataLabels||[]).forEach(Wo=>{Wo.shortened&&(Wo.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Wo.shortened=!1)})}),Hv.prototype.drawDataLabels.apply($r),Ir.forEach(qo=>{(qo.dataLabels||[]).forEach((Wo,xl)=>{let vl=po[2]/2,yl=Wo.options,Fl=Wv(yl?.distance||0,vl);xl===0&&vo[qo.half].push(qo),!Xy(yl?.style?.width)&&Wo.getBBox().width>so&&(Wo.css({width:Math.round(.7*so)+"px"}),Wo.shortened=!0),Wo.dataLabelPosition=this.getDataLabelPosition(qo,Fl),Xo=Math.max(Xo,Fl)})}),vo.forEach((qo,Wo)=>{let xl=qo.length,vl=[],yl,Fl,Zl=0,Jl;xl&&($r.sortByAngle(qo,Wo-.5),Xo>0&&(yl=Math.max(0,_o-go-Xo),Fl=Math.min(_o+go+Xo,zr.plotHeight),qo.forEach(Ll=>{(Ll.dataLabels||[]).forEach(Gl=>{let Ql=Gl.dataLabelPosition;Ql&&Ql.distance>0&&(Ql.top=Math.max(0,_o-go-Ql.distance),Ql.bottom=Math.min(_o+go+Ql.distance,zr.plotHeight),Zl=Gl.getBBox().height||21,Gl.lineHeight=zr.renderer.fontMetrics(Gl.text||Gl).h+2*Gl.padding,Ll.distributeBox={target:(Gl.dataLabelPosition?.natural.y||0)-Ql.top+Gl.lineHeight/2,size:Zl,rank:Ll.y},vl.push(Ll.distributeBox))})}),Yx(vl,Jl=Fl+Zl-yl,Jl/5)),qo.forEach(Ll=>{(Ll.dataLabels||[]).forEach(Gl=>{let Ql=Gl.options||{},Hc=Ll.distributeBox,Tc=Gl.dataLabelPosition,ad=Tc?.natural.y||0,yc=Ql.connectorPadding||0,xc=Gl.lineHeight||21,mu=(xc-Gl.getBBox().height)/2,Wc=0,Bu=ad,cu="inherit";if(Tc){if(vl&&Xy(Hc)&&Tc.distance>0&&(Hc.pos===void 0?cu="hidden":(Yo=Hc.size,Bu=Do.radialDistributionY(Ll,Gl))),Ql.justify)Wc=Do.justify(Ll,Gl,go,po);else switch(Ql.alignTo){case"connectors":Wc=Do.alignToConnectors(qo,Wo,Kr,Zr);break;case"plotEdges":Wc=Do.alignToPlotEdges(Gl,Wo,Kr,Zr);break;default:Wc=Do.radialDistributionX($r,Ll,Bu-mu,ad,Gl)}if(Tc.attribs={visibility:cu,align:Tc.alignment},Tc.posAttribs={x:Wc+(Ql.x||0)+({left:yc,right:-yc}[Tc.alignment]||0),y:Bu+(Ql.y||0)-xc/2},Tc.computed.x=Wc,Tc.computed.y=Bu-mu,r0(Ql.crop,!0)){let zl;Wc-(Io=Gl.getBBox().width)<yc&&Wo===1?(zl=Math.round(Io-Wc+yc),yo[3]=Math.max(zl,yo[3])):Wc+Io>Kr-yc&&Wo===0&&(zl=Math.round(Wc+Io-Kr+yc),yo[1]=Math.max(zl,yo[1])),Bu-Yo/2<0?yo[0]=Math.max(Math.round(-Bu+Yo/2),yo[0]):Bu+Yo/2>eo&&(yo[2]=Math.max(Math.round(Bu+Yo/2-eo),yo[2])),Tc.sideOverflow=zl}}})}))}),(Db(yo)===0||this.verifyDataLabelOverflow(yo))&&(this.placeDataLabels(),this.points.forEach(qo=>{(qo.dataLabels||[]).forEach(Wo=>{let{connectorColor:xl,connectorWidth:vl=1}=Wo.options||{},yl=Wo.dataLabelPosition;if(i0(vl)){let Fl;Mo=Wo.connector,yl&&yl.distance>0?(Fl=!Mo,Mo||(Wo.connector=Mo=zr.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+qo.colorIndex+(qo.className?" "+qo.className:"")).add($r.dataLabelsGroup)),zr.styledMode||Mo.attr({"stroke-width":vl,stroke:xl||qo.color||"#666666"}),Mo[Fl?"attr":"animate"]({d:qo.getConnectorPath(Wo)}),Mo.attr({visibility:yl.attribs?.visibility})):Mo&&(Wo.connector=Mo.destroy())}})})))}function Pr(){this.points.forEach($r=>{($r.dataLabels||[]).forEach(Ir=>{let zr=Ir.dataLabelPosition;zr?(zr.sideOverflow&&(Ir.css({width:Math.max(Ir.getBBox().width-zr.sideOverflow,0)+"px",textOverflow:Ir.options?.style?.textOverflow||"ellipsis"}),Ir.shortened=!0),Ir.attr(zr.attribs),Ir[Ir.moved?"animate":"attr"](zr.posAttribs),Ir.moved=!0):Ir&&Ir.attr({y:-9999})}),delete $r.distributeBox},this)}function Dr($r){let Ir=this.center,zr=this.options,Kr=zr.center,eo=zr.minSize||80,Zr=eo,so=zr.size!==null;return!so&&(Kr[0]!==null?Zr=Math.max(Ir[2]-Math.max($r[1],$r[3]),eo):(Zr=Math.max(Ir[2]-$r[1]-$r[3],eo),Ir[0]+=($r[3]-$r[1])/2),Kr[1]!==null?Zr=Xx(Zr,eo,Ir[2]-Math.max($r[0],$r[2])):(Zr=Xx(Zr,eo,Ir[2]-$r[0]-$r[2]),Ir[1]+=($r[0]-$r[2])/2),Zr<Ir[2]?(Ir[2]=Zr,Ir[3]=Math.min(zr.thickness?Math.max(0,Zr-2*zr.thickness):Math.max(0,Wv(zr.innerSize||0,Zr)),Zr),this.translate(Ir),this.drawDataLabels&&this.drawDataLabels()):so=!0),so}Ur.compose=function($r){if(vd.compose(Hv),s0(tx,"PieDataLabel")){let Ir=$r.prototype;Ir.dataLabelPositioners=mr,Ir.alignDataLabel=Pb,Ir.drawDataLabels=Er,Ir.getDataLabelPosition=br,Ir.placeDataLabels=Pr,Ir.verifyDataLabelOverflow=Dr}}})(Tr||(Tr={}));let Mb=Tr;(function(Ur){Ur.getCenterOfPoints=function(mr){let br=mr.reduce((Er,Pr)=>(Er.x+=Pr.x,Er.y+=Pr.y,Er),{x:0,y:0});return{x:br.x/mr.length,y:br.y/mr.length}},Ur.getDistanceBetweenPoints=function(mr,br){return Math.sqrt(Math.pow(br.x-mr.x,2)+Math.pow(br.y-mr.y,2))},Ur.getAngleBetweenPoints=function(mr,br){return Math.atan2(br.x-mr.x,br.y-mr.y)},Ur.pointInPolygon=function({x:mr,y:br},Er){let Pr=Er.length,Dr,$r,Ir=!1;for(Dr=0,$r=Pr-1;Dr<Pr;$r=Dr++){let[zr,Kr]=Er[Dr],[eo,Zr]=Er[$r];Kr>br!=Zr>br&&mr<(eo-zr)*(br-Kr)/(Zr-Kr)+zr&&(Ir=!Ir)}return Ir}})(Lr||(Lr={}));let{pointInPolygon:nx}=Lr,{addEvent:qy,getAlignFactor:qx,fireEvent:Gv,objectEach:Ky,pick:Vv}=Uo;function Zy(Ur){let mr=Ur.length,br=(eo,Zr)=>!(Zr.x>=eo.x+eo.width||Zr.x+Zr.width<=eo.x||Zr.y>=eo.y+eo.height||Zr.y+Zr.height<=eo.y),Er=(eo,Zr)=>{for(let so of eo)if(nx({x:so[0],y:so[1]},Zr))return!0;return!1},Pr,Dr,$r,Ir,zr,Kr=!1;for(let eo=0;eo<mr;eo++)(Pr=Ur[eo])&&(Pr.oldOpacity=Pr.opacity,Pr.newOpacity=1,Pr.absoluteBox=(function(Zr){if(Zr&&(!Zr.alignAttr||Zr.placed)){let so=Zr.box?0:Zr.padding||0,po=Zr.alignAttr||{x:Zr.attr("x"),y:Zr.attr("y")},{height:go,polygon:_o,width:vo}=Zr.getBBox(),yo=qx(Zr.alignValue)*vo;return Zr.width=vo,Zr.height=go,{x:po.x+(Zr.parentGroup?.translateX||0)+so-yo,y:po.y+(Zr.parentGroup?.translateY||0)+so,width:vo-2*so,height:go-2*so,polygon:_o}}})(Pr));Ur.sort((eo,Zr)=>(Zr.labelrank||0)-(eo.labelrank||0));for(let eo=0;eo<mr;++eo){Ir=(Dr=Ur[eo])&&Dr.absoluteBox;let Zr=Ir?.polygon;for(let so=eo+1;so<mr;++so){zr=($r=Ur[so])&&$r.absoluteBox;let po=!1;if(Ir&&zr&&Dr!==$r&&Dr.newOpacity!==0&&$r.newOpacity!==0&&Dr.visibility!=="hidden"&&$r.visibility!=="hidden"){let go=zr.polygon;if(Zr&&go&&Zr!==go?Er(Zr,go)&&(po=!0):br(Ir,zr)&&(po=!0),po){let _o=Dr.labelrank<$r.labelrank?Dr:$r,vo=_o.text;_o.newOpacity=0,vo?.element.querySelector("textPath")&&vo.hide()}}}}for(let eo of Ur)Qy(eo,this)&&(Kr=!0);Kr&&Gv(this,"afterHideAllOverlappingLabels")}function Qy(Ur,mr){let br,Er=!1;return Ur&&(br=Ur.newOpacity,Ur.oldOpacity!==br&&(Ur.hasClass("highcharts-data-label")?(Ur[br?"removeClass":"addClass"]("highcharts-data-label-hidden"),Er=!0,Ur[Ur.isOld?"animate":"attr"]({opacity:br},void 0,function(){mr.styledMode||Ur.css({pointerEvents:br?"auto":"none"})}),Gv(mr,"afterHideOverlappingLabel")):Ur.attr({opacity:br})),Ur.isOld=!0),Er}function Kx(){let Ur=this,mr=[];for(let br of Ur.labelCollectors||[])mr=mr.concat(br());for(let br of Ur.yAxis||[])br.stacking&&br.options.stackLabels&&!br.options.stackLabels.allowOverlap&&Ky(br.stacking.stacks,Er=>{Ky(Er,Pr=>{Pr.label&&mr.push(Pr.label)})});for(let br of Ur.series||[])if(br.visible&&br.hasDataLabels?.()){let Er=Pr=>{for(let Dr of Pr)Dr.visible&&(Dr.dataLabels||[]).forEach($r=>{let Ir=$r.options||{};$r.labelrank=Vv(Ir.labelrank,Dr.labelrank,Dr.shapeArgs?.height),Ir.allowOverlap??Number(Ir.distance)>0?($r.oldOpacity=$r.opacity,$r.newOpacity=1,Qy($r,Ur)):mr.push($r)})};Er(br.nodes||[]),Er(br.points)}this.hideOverlappingLabels(mr)}let Jy={compose:function(Ur){let mr=Ur.prototype;mr.hideOverlappingLabels||(mr.hideOverlappingLabels=Zy,qy(Ur,"render",Kx))}},{defaultOptions:Uv}=uc,{noop:Ou}=Fr,{addEvent:ev,extend:a0,isObject:ix,merge:tv,relativeLength:Yv}=Uo,o0={radius:0,scope:"stack",where:void 0},wg=Ou,Hm=Ou;function Xv(Ur,mr,br,Er,Pr={}){let Dr=wg(Ur,mr,br,Er,Pr),{brStart:$r=!0,brEnd:Ir=!0,innerR:zr=0,r:Kr=br,start:eo=0,end:Zr=0}=Pr;if(Pr.open||!Pr.borderRadius)return Dr;let so=Zr-eo,po=Math.sin(so/2),go=Math.max(Math.min(Yv(Pr.borderRadius||0,Kr-zr),(Kr-zr)/2,Kr*po/(1+po)),0),_o=Math.min(go,so/Math.PI*2*zr),vo=Dr.length-1;for(;vo--;)($r||vo!==0&&vo!==3)&&(Ir||vo!==1&&vo!==2)&&(function(yo,Do,Mo){let Io,Yo,Xo,qo=yo[Do],Wo=yo[Do+1];if(Wo[0]==="Z"&&(Wo=yo[0]),(qo[0]==="M"||qo[0]==="L")&&Wo[0]==="A"?(Io=qo,Yo=Wo,Xo=!0):qo[0]==="A"&&(Wo[0]==="M"||Wo[0]==="L")&&(Io=Wo,Yo=qo),Io&&Yo&&Yo.params){let xl=Yo[1],vl=Yo[5],yl=Yo.params,{start:Fl,end:Zl,cx:Jl,cy:Ll}=yl,Gl=vl?xl-Mo:xl+Mo,Ql=Gl?Math.asin(Mo/Gl):0,Hc=vl?Ql:-Ql,Tc=Math.cos(Ql)*Gl;Xo?(yl.start=Fl+Hc,Io[1]=Jl+Tc*Math.cos(Fl),Io[2]=Ll+Tc*Math.sin(Fl),yo.splice(Do+1,0,["A",Mo,Mo,0,0,1,Jl+xl*Math.cos(yl.start),Ll+xl*Math.sin(yl.start)])):(yl.end=Zl-Hc,Yo[6]=Jl+xl*Math.cos(yl.end),Yo[7]=Ll+xl*Math.sin(yl.end),yo.splice(Do+1,0,["A",Mo,Mo,0,0,1,Jl+Tc*Math.cos(Zl),Ll+Tc*Math.sin(Zl)])),Yo[4]=Math.abs(yl.end-yl.start)<Math.PI?0:1}})(Dr,vo,vo>1?_o:go);return Dr}function nv(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:Ur,yAxis:mr}=this,br=Ur.stacking==="percent",Er=Uv.plotOptions?.[this.type]?.borderRadius,Pr=Zx(Ur.borderRadius,ix(Er)?Er:{}),Dr=mr.options.reversed;for(let $r of this.points){let{shapeArgs:Ir}=$r;if($r.shapeType==="roundedRect"&&Ir){let{width:zr=0,height:Kr=0,y:eo=0}=Ir,Zr=eo,so=Kr;if(Pr.scope==="stack"&&$r.stackTotal){let vo=mr.translate(br?100:$r.stackTotal,!1,!0,!1,!0),yo=mr.translate(Ur.threshold||0,!1,!0,!1,!0),Do=this.crispCol(0,Math.min(vo,yo),0,Math.abs(vo-yo));Zr=Do.y,so=Do.height}let po=($r.negative?-1:1)*(Dr?-1:1)==-1,go=Pr.where;!go&&this.is("waterfall")&&Math.abs(($r.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(go="all"),go||(go="end");let _o=Math.min(Yv(Pr.radius,zr),zr/2,go==="all"?Kr/2:1/0)||0;go==="end"&&(po&&(Zr-=_o),so+=_o),a0(Ir,{brBoxHeight:so,brBoxY:Zr,r:_o})}}}}function Zx(Ur,mr){return ix(Ur)||(Ur={radius:Ur||0}),tv(o0,mr,Ur)}function Wm(){let Ur=Zx(this.options.borderRadius);for(let mr of this.points){let br=mr.shapeArgs;br&&(br.borderRadius=Yv(Ur.radius,(br.r||0)-(br.innerR||0)))}}function Ip(Ur,mr,br,Er,Pr={}){let Dr=Hm(Ur,mr,br,Er,Pr),{r:$r=0,brBoxHeight:Ir=Er,brBoxY:zr=mr}=Pr,Kr=mr-zr,eo=zr+Ir-(mr+Er),Zr=Kr-$r>-.1?0:$r,so=eo-$r>-.1?0:$r,po=Math.max(Zr&&Kr,0),go=Math.max(so&&eo,0),_o=[Ur+Zr,mr],vo=[Ur+br-Zr,mr],yo=[Ur+br,mr+Zr],Do=[Ur+br,mr+Er-so],Mo=[Ur+br-so,mr+Er],Io=[Ur+so,mr+Er],Yo=[Ur,mr+Er-so],Xo=[Ur,mr+Zr],qo=(Wo,xl)=>Math.sqrt(Math.pow(Wo,2)-Math.pow(xl,2));if(po){let Wo=qo(Zr,Zr-po);_o[0]-=Wo,vo[0]+=Wo,yo[1]=Xo[1]=mr+Zr-po}if(Er<Zr-po){let Wo=qo(Zr,Zr-po-Er);yo[0]=Do[0]=Ur+br-Zr+Wo,Mo[0]=Math.min(yo[0],Mo[0]),Io[0]=Math.max(Do[0],Io[0]),Yo[0]=Xo[0]=Ur+Zr-Wo,yo[1]=Xo[1]=mr+Er}if(go){let Wo=qo(so,so-go);Mo[0]+=Wo,Io[0]-=Wo,Do[1]=Yo[1]=mr+Er-so+go}if(Er<so-go){let Wo=qo(so,so-go-Er);yo[0]=Do[0]=Ur+br-so+Wo,vo[0]=Math.min(yo[0],vo[0]),_o[0]=Math.max(Do[0],_o[0]),Yo[0]=Xo[0]=Ur+so-Wo,Do[1]=Yo[1]=mr}return Dr.length=0,Dr.push(["M",..._o],["L",...vo],["A",Zr,Zr,0,0,1,...yo],["L",...Do],["A",so,so,0,0,1,...Mo],["L",...Io],["A",so,so,0,0,1,...Yo],["L",...Xo],["A",Zr,Zr,0,0,1,..._o],["Z"]),Dr}let{diffObjects:Qx,extend:l0,find:Nb,merge:Ob,pick:Jx,uniqueKey:Lb}=Uo;(function(Ur){function mr(Er,Pr){let Dr=Er.condition;(Dr.callback||function(){return this.chartWidth<=Jx(Dr.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Jx(Dr.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Jx(Dr.minWidth,0)&&this.chartHeight>=Jx(Dr.minHeight,0)}).call(this)&&Pr.push(Er._id)}function br(Er,Pr){let Dr=this.options.responsive,$r=this.currentResponsive,Ir=[],zr;!Pr&&Dr&&Dr.rules&&Dr.rules.forEach(Zr=>{Zr._id===void 0&&(Zr._id=Lb()),this.matchResponsiveRule(Zr,Ir)},this);let Kr=Ob(...Ir.map(Zr=>Nb(Dr?.rules||[],so=>so._id===Zr)).map(Zr=>Zr?.chartOptions));Kr.isResponsiveOptions=!0,Ir=Ir.toString()||void 0;let eo=$r?.ruleIds;Ir!==eo&&($r&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update($r.undoOptions,Er,!0),this.updatingResponsive=!1),Ir?((zr=Qx(Kr,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:Ir,mergedOptions:Kr,undoOptions:zr},this.updatingResponsive||this.update(Kr,Er,!0)):this.currentResponsive=void 0)}Ur.compose=function(Er){let Pr=Er.prototype;return Pr.matchResponsiveRule||l0(Pr,{matchResponsiveRule:mr,setResponsive:br}),Er}})(Mr||(Mr={}));let c0=Mr;Fr.AST=_u,Fr.Axis=Tu,Fr.Chart=Of,Fr.Color=Ul,Fr.DataLabel=vd,Fr.DataTableCore=Pm,Fr.Fx=Pl,Fr.HTMLElement=mc,Fr.Legend=Cy,Fr.LegendSymbol=lg,Fr.OverlappingDataLabels=Fr.OverlappingDataLabels||Jy,Fr.PlotLineOrBand=Cp,Fr.Point=Tf,Fr.Pointer=Sh,Fr.RendererRegistry=No,Fr.Series=gd,Fr.SeriesRegistry=nh,Fr.StackItem=yb,Fr.SVGElement=nf,Fr.SVGRenderer=Mg,Fr.Templating=Ro,Fr.Tick=Oh,Fr.Time=al,Fr.Tooltip=xx,Fr.animate=Gc.animate,Fr.animObject=Gc.animObject,Fr.chart=Of.chart,Fr.color=Ul.parse,Fr.dateFormat=Ro.dateFormat,Fr.defaultOptions=uc.defaultOptions,Fr.distribute=wc.distribute,Fr.format=Ro.format,Fr.getDeferredAnimation=Gc.getDeferredAnimation,Fr.getOptions=uc.getOptions,Fr.numberFormat=Ro.numberFormat,Fr.seriesType=nh.seriesType,Fr.setAnimation=Gc.setAnimation,Fr.setOptions=uc.setOptions,Fr.stop=Gc.stop,Fr.time=uc.defaultTime,Fr.timers=Pl.timers,{compose:function(Ur,mr,br){let Er=Ur.types.pie;if(!mr.symbolCustomAttribs.includes("borderRadius")){let Pr=br.prototype.symbols;ev(Ur,"afterColumnTranslate",nv,{order:9}),ev(Er,"afterTranslate",Wm),mr.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),wg=Pr.arc,Hm=Pr.roundedRect,Pr.arc=Xv,Pr.roundedRect=Ip}},optionsToObject:Zx}.compose(Fr.Series,Fr.SVGElement,Fr.SVGRenderer),vh.compose(Fr.Series.types.column),vd.compose(Fr.Series),Ep.compose(Fr.Axis),mc.compose(Fr.SVGRenderer),Cy.compose(Fr.Chart),Em.compose(Fr.Axis),Jy.compose(Fr.Chart),Mb.compose(Fr.Series.types.pie),Cp.compose(Fr.Chart,Fr.Axis),Sh.compose(Fr.Chart),c0.compose(Fr.Chart),im.compose(Fr.Axis,Fr.Chart,Fr.Series),kv.compose(Fr.Axis,Fr.Chart,Fr.Series),xx.compose(Fr.Pointer),Uo.extend(Fr,Uo);let pf=Fr;return Or.default})())})(highcharts$1)),highcharts$1.exports}var highchartsExports=requireHighcharts();const Highcharts=getDefaultExportFromCjs(highchartsExports);var highchartsReact_min$1={exports:{}},highchartsReact_min=highchartsReact_min$1.exports,hasRequiredHighchartsReact_min;function requireHighchartsReact_min(){return hasRequiredHighchartsReact_min||(hasRequiredHighchartsReact_min=1,(function(tr,Hn){(function(er,nr){tr.exports=nr(requireReact())})(typeof self<"u"?self:highchartsReact_min,function(er){return(function(nr){function ir(sr){if(rr[sr])return rr[sr].exports;var ar=rr[sr]={i:sr,l:!1,exports:{}};return nr[sr].call(ar.exports,ar,ar.exports,ir),ar.l=!0,ar.exports}var rr={};return ir.m=nr,ir.c=rr,ir.d=function(sr,ar,or){ir.o(sr,ar)||Object.defineProperty(sr,ar,{configurable:!1,enumerable:!0,get:or})},ir.n=function(sr){var ar=sr&&sr.__esModule?function(){return sr.default}:function(){return sr};return ir.d(ar,"a",ar),ar},ir.o=function(sr,ar){return Object.prototype.hasOwnProperty.call(sr,ar)},ir.p="",ir(ir.s=0)})([function(nr,ir,rr){function sr(){return sr=Object.assign?Object.assign.bind():function(Sr){for(var Tr=1;Tr<arguments.length;Tr++){var Lr=arguments[Tr];for(var Mr in Lr)Object.prototype.hasOwnProperty.call(Lr,Mr)&&(Sr[Mr]=Lr[Mr])}return Sr},sr.apply(this,arguments)}function ar(Sr){return ur(Sr)||cr(Sr)||lr(Sr)||or()}function or(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lr(Sr,Tr){if(Sr){if(typeof Sr=="string")return dr(Sr,Tr);var Lr=Object.prototype.toString.call(Sr).slice(8,-1);return Lr==="Object"&&Sr.constructor&&(Lr=Sr.constructor.name),Lr==="Map"||Lr==="Set"?Array.from(Sr):Lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr)?dr(Sr,Tr):void 0}}function cr(Sr){if(typeof Symbol<"u"&&Sr[Symbol.iterator]!=null||Sr["@@iterator"]!=null)return Array.from(Sr)}function ur(Sr){if(Array.isArray(Sr))return dr(Sr)}function dr(Sr,Tr){(Tr==null||Tr>Sr.length)&&(Tr=Sr.length);for(var Lr=0,Mr=new Array(Tr);Lr<Tr;Lr++)Mr[Lr]=Sr[Lr];return Mr}function fr(Sr){"@babel/helpers - typeof";return(fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tr){return typeof Tr}:function(Tr){return Tr&&typeof Symbol=="function"&&Tr.constructor===Symbol&&Tr!==Symbol.prototype?"symbol":typeof Tr})(Sr)}Object.defineProperty(ir,"__esModule",{value:!0}),rr.d(ir,"HighchartsReact",function(){return jr});var gr=rr(1),yr=rr.n(gr),vr=typeof window<"u"?gr.useLayoutEffect:gr.useEffect,jr=Object(gr.memo)(Object(gr.forwardRef)(function(Sr,Tr){var Lr=Object(gr.useRef)(),Mr=Object(gr.useRef)(),Nr=Object(gr.useRef)(Sr.constructorType),Or=Object(gr.useRef)(Sr.highcharts);return vr(function(){function Fr(){var qr=Sr.highcharts||(typeof window>"u"?"undefined":fr(window))==="object"&&window.Highcharts,Hr=Sr.constructorType||"chart";qr?qr[Hr]?Sr.options?Mr.current=qr[Hr](Lr.current,Sr.options,Sr.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(Mr.current){if(Sr.allowChartUpdate!==!1)if(Sr.constructorType!==Nr.current||Sr.highcharts!==Or.current)Nr.current=Sr.constructorType,Or.current=Sr.highcharts,Fr();else if(!Sr.immutable&&Mr.current){var Gr;(Gr=Mr.current).update.apply(Gr,[Sr.options].concat(ar(Sr.updateArgs||[!0,!0])))}else Fr()}else Fr()},[Sr.options,Sr.allowChartUpdate,Sr.updateArgs,Sr.containerProps,Sr.highcharts,Sr.constructorType]),vr(function(){return function(){Mr.current&&(Mr.current.destroy(),Mr.current=null)}},[]),Object(gr.useImperativeHandle)(Tr,function(){return{get chart(){return Mr.current},container:Lr}},[]),yr.a.createElement("div",sr({},Sr.containerProps,{ref:Lr}))}));ir.default=jr},function(nr,ir){nr.exports=er}])})})(highchartsReact_min$1)),highchartsReact_min$1.exports}var highchartsReact_minExports=requireHighchartsReact_min();const HighchartsReact=getDefaultExportFromCjs(highchartsReact_minExports);function GlobalShark1DayChart({rawData:tr,isMini:Hn=!0}){const er=reactExports.useMemo(()=>{if(!tr||tr.length===0)return{};const nr=tr.map(sr=>({x:new Date(sr.x).getTime(),y:sr.y})),rr=nr[0].y;return{chart:{type:"area",width:Hn?170:null,height:Hn?120:null,backgroundColor:Hn?"transparent":"#FFFFFF",margin:Hn?[0,0,0,0]:void 0,spacing:Hn?[0,0,0,0]:[10,10,15,10]},title:{text:""},credits:{enabled:!1},legend:{enabled:!1},xAxis:{visible:!Hn,type:"datetime",labels:{format:"{value:%H:%M}",style:{color:"#999"}},lineWidth:0,tickWidth:0},yAxis:{visible:!Hn,title:{text:null},gridLineColor:"#eee",gridLineDashStyle:"Dashed",softMin:rr-.5,softMax:rr+.5,plotLines:[{value:rr,color:"#666",width:1,dashStyle:"ShortDot",zIndex:5,label:{text:`Ref: ${rr}`,align:"right",style:{color:"#666",fontSize:"10px"}}}]},tooltip:{enabled:!Hn},plotOptions:{area:{marker:{enabled:!1},lineWidth:2,states:{hover:{enabled:!0}}}},series:[{name:"Gi",data:nr,threshold:rr,color:"rgba(34, 197, 94, 0.7)",lineColor:"#16a34a",negativeColor:"rgba(239, 68, 68, 0.7)",negativeFillColor:"rgba(239, 68, 68, 0.7)"}]}},[tr]);return jsxRuntimeExports.jsx("div",{style:{border:Hn?"1px solid #e5e7eb":"",borderRadius:Hn?"12px":"0px",width:Hn?"170px":"100%",height:Hn?"120px":"100%",overflow:Hn?"hidden":"none"},children:jsxRuntimeExports.jsx(HighchartsReact,{highcharts:Highcharts,options:er})})}function ModalFullChartShark1Day({setIsShowFullChart:tr,chartSelect:Hn,navigate:er,setChartSelect:nr}){const ir=useLocation();return jsxRuntimeExports.jsxs("div",{className:"modal-overlay",onClick:rr=>{rr.target===rr.currentTarget&&(tr(!1),nr(null),er(ir.pathname))},children:[jsxRuntimeExports.jsx("div",{className:"modal-close",onClick:()=>{tr(!1),nr(null),er(ir.pathname)},children:"X"}),jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"80vh"},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center",marginBottom:"40px"},children:Hn?.name}),jsxRuntimeExports.jsx(GlobalShark1DayChart,{rawData:Hn?.data,isMini:!1})]})]})}function GlobalShark1Day({data:tr=[],zoomable:Hn=!1}){const[er]=useSearchParams(),nr=er.get("name"),[ir,rr]=reactExports.useState(!1),[sr,ar]=reactExports.useState(null),or=useNavigate(),lr=useLocation();reactExports.useEffect(()=>{if(nr&&tr.length>0){const ur=tr.find(dr=>dr.name===nr);ur&&(ar(ur),rr(!0))}},[nr,tr]);const cr=ur=>(ur?new Date(ur):new Date).toLocaleString("vi-VN",{timeZone:"Asia/Ho_Chi_Minh",hour:"2-digit",minute:"2-digit",second:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"});return jsxRuntimeExports.jsxs("div",{style:{width:"100%",minHeight:"100vh",marginTop:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#08F405",fontWeight:600,marginBottom:20,textAlign:"center"},children:"Theo di ETF mi nht trong ngy"}),jsxRuntimeExports.jsx("div",{style:{minHeight:480,width:"100%",display:"flex",gap:20,flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"},children:tr.length>0?tr.map((ur,dr)=>{const fr=Array.isArray(ur?.data)?ur.data:[];return jsxRuntimeExports.jsxs("div",{style:{width:"calc(50% - 20px)",marginBottom:30,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{Hn&&(rr(!0),or({pathname:lr.pathname,search:`?name=${ur?.name}`}))},children:[jsxRuntimeExports.jsx("p",{style:{fontSize:12,color:"#fff",marginBottom:8},children:ur?.name}),jsxRuntimeExports.jsx(GlobalShark1DayChart,{rawData:fr}),jsxRuntimeExports.jsx("div",{style:{fontSize:11,color:"#08F405",marginTop:10,fontWeight:"bold",border:"1px solid rgba(8, 244, 5, 0.4)",padding:"4px 10px",borderRadius:"4px",display:"inline-block"},children:cr(ur?.date)})]},dr)}):jsxRuntimeExports.jsx("div",{style:{color:"#fff",textAlign:"center"},children:"ang ti d liu..."})}),ir&&sr&&jsxRuntimeExports.jsx(ModalFullChartShark1Day,{setIsShowFullChart:rr,chartSelect:sr,setChartSelect:ar,navigate:or})]})}function createJustETFSocket(tr,Hn,er){const nr=`wss://api.mobile.stock-data-subscriptions.justetf.com/?subscription=trend&parameters=isins:${tr}/currency:EUR/language:en`;let ir=new WebSocket(nr);return er&&er("Connecting..."),ir.onopen=()=>{er&&er("Connected")},ir.onmessage=rr=>{try{const sr=JSON.parse(rr.data);Hn&&Hn(sr)}catch{Hn&&Hn(rr.data)}},ir.onerror=rr=>{console.error("WebSocket error:",rr),er&&er("Error")},ir.onclose=()=>{er&&er("Closed")},()=>{ir.close()}}const DEFAULT_HEADERS={Accept:"application/json, text/plain, */*","User-Agent":"Mozilla/5.0"};async function fetchPerformanceChart(tr){const Hn=`https://www.justetf.com/api/etfs/${tr}/performance-chart?locale=en&currency=EUR&valuesType=MARKET_VALUE&reduceData=false&includeDividends=false&features=DIVIDENDS&period=D1`;try{console.log("[fetchPerformanceChart] Requesting URL:",Hn);const er=await fetch(Hn,{method:"GET",headers:DEFAULT_HEADERS});if(console.log("[fetchPerformanceChart] Response status:",er.status,er.statusText),!er.ok){const ir=await er.text().catch(()=>"");throw console.error("[fetchPerformanceChart] Server error:",er.status,ir.substring(0,200)),new Error("HTTP "+er.status)}const nr=await er.json();return console.log("[fetchPerformanceChart] Success, data received:",nr?"yes":"no"),nr}catch(er){return console.error("[fetchPerformanceChart] Error:",er.message),null}}const getChangeColor=tr=>{const er=Math.min(Math.abs(tr)/2,1);return tr<0?`rgb(${180+er*75}, ${80-er*80}, ${80-er*80})`:`rgb(${80-er*80}, ${180+er*75}, ${80-er*80})`},ETFSingleRow=({slug:tr,name:Hn,nameColorClass:er,price:nr,changeAbsolute:ir,changePercent:rr})=>jsxRuntimeExports.jsxs("div",{className:"etf-row",children:[jsxRuntimeExports.jsx(Link,{to:`/EtfSharkDetail/${tr}`,className:`etf-name ${er}`,children:Hn}),jsxRuntimeExports.jsxs("div",{className:"etf-data",children:[jsxRuntimeExports.jsxs("div",{className:"data-box price-box",children:["EUR ",nr]}),jsxRuntimeExports.jsxs("div",{className:"data-box change-box",style:{backgroundColor:getChangeColor(ir)},children:[ir," | ",rr]})]})]}),DataEUR=()=>{const[tr,Hn]=reactExports.useState(""),[er,nr]=reactExports.useState({}),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState(!0),dr=["IE000UL6CLP7","IE00B6R52036","IE00B3CNHG25","IE00B7KMNP07","IE00BQQP9F84","IE00BNTVVR89","LU0259322260","IE00BQQP9G91","IE00BDFBTQ78"],fr=["Global X Silver Miners UCITS ETF","IShares Gold Producers UCITS ETF","L&G Gold Mining UCITS ETF","UBS Solactive Global Pure Gold Miners UCITS ETF USD","VanEck Gold Miners UCITS ETF","HANetf AuAg ESG Gold Mining UCITS ETF","Market Access NYSE Arca Gold Bugs UCITS ETF","VanEck Junior Gold Miners UCITS","VanEck S&P Global Mining UCITS ETF A"];return reactExports.useEffect(()=>{const gr=dr.map((yr,vr)=>createJustETFSocket(yr,jr=>nr(Sr=>({...Sr,[fr[vr]]:{prc:jr.dtdPrc.raw,amt:jr.dtdAmt.raw,ask:jr?.ask?.raw}})),jr=>Hn(jr)));return()=>{gr.forEach(yr=>yr())}},[]),reactExports.useEffect(()=>{(async()=>{const yr=[];for(let vr=0;vr<dr.length;vr++)try{const jr=await fetchPerformanceChart(dr[vr]);yr.push(jr.latestQuote.localized)}catch(jr){console.error("Error fetching chart for",dr[vr],jr),yr.push("46.13")}ar(yr),ur(!1)})()},[]),reactExports.useEffect(()=>{(()=>{console.log("chart",sr)})()},[sr]),reactExports.useEffect(()=>{const gr=Object.entries(er).map(([yr,vr])=>({name:yr,nameColorClass:"",price:vr.ask,changeAbsolute:vr.amt,changePercent:vr.prc}));rr(gr)},[er]),jsxRuntimeExports.jsxs("div",{className:"dark-background",children:[ir.length===0&&jsxRuntimeExports.jsx("div",{children:"Loading..."}),ir.map((gr,yr)=>jsxRuntimeExports.jsx(ETFSingleRow,{name:gr.name,nameColorClass:gr.nameColorClass,price:gr?.price,changeAbsolute:gr.changeAbsolute,changePercent:gr.changePercent,slug:formatSlug(gr.name)},yr))]})};function formatSlug(tr){return tr.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/&/g,"and").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-")}function OpinionComponent(){const{day:tr,month:Hn,year:er}=useParams(),[nr,ir]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{let or=new Date,lr=null,cr=0;for(;!lr&&cr<7;){const jr=String(or.getDate()).padStart(2,"0"),Sr=String(or.getMonth()+1).padStart(2,"0"),Tr=or.getFullYear(),Lr=`${jr}_${Sr}_${Tr}`;try{const Nr=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Lr}`)).json();Nr?.data&&Nr.data.length>0?lr=Nr.data:or.setDate(or.getDate()-1)}catch{or.setDate(or.getDate()-1)}cr++}if(!lr)return;const fr=lr.reduce((jr,Sr)=>{const Tr=Lr=>{const[Mr,Nr]=Lr.split(" "),[Or,Fr,Gr]=Mr.split("/");return new Date(`${Gr}-${Fr}-${Or}T${Nr||"00:00"}`)};return Tr(Sr.modified_time)>Tr(jr.modified_time)?Sr:jr}).link.split("/").pop().replace(".json","").split("_"),gr=getVang247FileUrl(parseInt(fr[0]),parseInt(fr[1]),parseInt(fr[2]),parseInt(fr[3]||0),parseInt(fr[4]||0)),vr=(await fetchVang247SingleFile(gr))?.data?.phan_tich?.chiso_barchart;vr&&ir(vr)}catch(or){console.error("Li tng th:",or)}})()},[tr,Hn,er]);const rr=nr?.averages?.filter(ar=>ar).map(ar=>{const or=ar.split("Volume:")[0].trim(),lr=ar.split("Volume:")[1]||"",cr=lr.split("Average:")[0]?.trim(),ur=lr.split("Average:")[1]?.trim();return{name:or,volume:cr,signal:ur}}),sr=({value:ar,label:or})=>{const lr=ar&&!isNaN(ar)?ar:0,dr=(180-lr/100*180)*(Math.PI/180),fr=80,gr=100,yr=100,vr=gr+fr*Math.cos(dr),jr=yr-fr*Math.sin(dr);return jsxRuntimeExports.jsxs("div",{className:"arc-wrapper",style:{textAlign:"center"},children:[jsxRuntimeExports.jsxs("svg",{width:"180",height:"110",viewBox:"0 0 200 120",children:[jsxRuntimeExports.jsx("path",{d:"M20 100 A80 80 0 0 1 180 100",stroke:"#383838",strokeWidth:"20",fill:"none",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:`M20 100 A80 80 0 0 1 ${vr} ${jr}`,stroke:"#0f9d58",strokeWidth:"20",fill:"none",strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("h2",{style:{color:"#eab308",fontSize:"28px",margin:"10px 0 5px 0",fontWeight:"bold"},children:lr}),jsxRuntimeExports.jsx("p",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold",margin:0,letterSpacing:"1px"},children:or.toUpperCase()})]})};return jsxRuntimeExports.jsxs("div",{className:"barchart-container",children:[jsxRuntimeExports.jsx("h2",{className:"title",style:{color:"#eab308"},children:"Overall Average:"}),jsxRuntimeExports.jsxs("div",{className:"contain-below",children:[jsxRuntimeExports.jsxs("div",{className:"gauge-grid",style:{display:"flex",gap:"30px",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("div",{className:"gauge-block",children:[jsxRuntimeExports.jsx("p",{className:"gauge-title",style:{color:"#fff",marginBottom:"15px"},children:"Current Strength"}),jsxRuntimeExports.jsx(sr,{value:nr?.gia_tri_current_strength,label:"STRENGTH"})]}),jsxRuntimeExports.jsxs("div",{className:"gauge-block",children:[jsxRuntimeExports.jsx("p",{className:"gauge-title",style:{color:"#fff",marginBottom:"15px"},children:"Current Direction"}),jsxRuntimeExports.jsx(sr,{value:nr?.gia_tri_current_direction,label:"DIRECTION"})]})]}),jsxRuntimeExports.jsxs("div",{className:"opinion-card",children:[jsxRuntimeExports.jsx("div",{className:"opinion-header",children:"Barchart Opinion"}),jsxRuntimeExports.jsxs("table",{className:"opinion-table",style:{width:"100%"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{style:{textAlign:"left"},children:"INDICATOR"}),jsxRuntimeExports.jsx("th",{style:{textAlign:"center"},children:"Opinion"}),jsxRuntimeExports.jsx("th",{style:{textAlign:"right"},children:"Volume"})]})}),jsxRuntimeExports.jsx("tbody",{children:rr?.map((ar,or)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{textAlign:"left"},children:ar.name}),jsxRuntimeExports.jsx("td",{style:{textAlign:"center"},children:ar.signal}),jsxRuntimeExports.jsx("td",{style:{textAlign:"right"},children:ar.volume})]},or))})]}),jsxRuntimeExports.jsxs("div",{className:"opinion-footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px"},children:[jsxRuntimeExports.jsxs("h4",{style:{margin:0},children:["20-Day Average Volume: ",jsxRuntimeExports.jsx("span",{style:{color:"#eab308"},children:nr?.gia_tri_20_day_average_volume?.toLocaleString("en-US")})]}),jsxRuntimeExports.jsxs("p",{style:{margin:0,color:"#10b981",fontWeight:"bold",fontSize:"16px"},children:["Average: ",nr?.overall?.percent," ",nr?.overall?.signal]})]})]})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend);const SGEChart=()=>{const[tr,Hn]=reactExports.useState(()=>{const co=new Date;return{year:co.getFullYear(),month:co.getMonth()+1}}),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(null),[dr,fr]=reactExports.useState(null),[gr,yr]=reactExports.useState("CNY"),[vr,jr]=reactExports.useState(0),[Sr,Tr]=reactExports.useState(!0),[Lr,Mr]=reactExports.useState(!1),[Nr,Or]=reactExports.useState({gold:null,silver:null,date:null}),[Fr,Gr]=reactExports.useState({gold:null,silver:null}),qr=reactExports.useRef(),Hr=31.1034768,Yr=(co,no)=>{if(!co||co.length===0)return 0;let mo=0,Eo=0;return co.forEach(bo=>{const Po=Number(bo.close_price)||Number(bo.open_price);Po>0&&(mo+=Po,Eo++)}),Eo>0?mo/Eo:0};reactExports.useEffect(()=>{fetch(`https://api_gold.thinkdiff.us/shanghai_gold_exchange/${tr.year}/${tr.month}`).then(co=>co.json()).then(co=>{if(co.status==="success"&&Array.isArray(co.tong_toanbo)){rr(co.tong_toanbo),lr(null);const no=co.tong_toanbo.filter(mo=>Number(mo.tong_vang)>0||Number(mo.tong_bac)>0||Number(mo.tongkhac)>0);if(no.length>0){const mo=no[no.length-1],Eo=Yr(mo.vang),bo=Yr(mo.bac);Or({gold:Eo,silver:bo,date:mo.ngay})}else Or({gold:null,silver:null,date:null});nr({labels:no.map(mo=>{const Eo=mo.ngay.split("-");return`${Eo[2]}/${Eo[1]}`}),datasets:[{label:"Vng (CNY)",data:no.map(mo=>Number(mo.tong_vang)||0),backgroundColor:"#f1c40f",yAxisID:"y"},{label:"Bc (CNY)",data:no.map(mo=>Number(mo.tong_bac)||0),backgroundColor:"#bdc3c7",yAxisID:"y"},{label:"Khc (CNY)",data:no.map(mo=>Number(mo.tongkhac)||0),backgroundColor:"#2ecc71",yAxisID:"y1"}]})}})},[tr]);const ro=async()=>{const co=await fetchBlackMarketExchangeRates();if(!co)return;const no=co.find(Eo=>Eo.code==="CNY"),mo=co.find(Eo=>Eo.code==="USD");no&&ur(no.sell),mo&&fr(mo.sell)};reactExports.useEffect(()=>{ro()},[]);const io=co=>{const{current:no}=qr;if(!no)return;const mo=getElementAtEvent(no,co);if(mo.length>0){const{index:Eo,datasetIndex:bo}=mo[0],Po=no.data.labels[Eo],wo=ir.find(To=>{const Fo=To.ngay.split("-");return`${Fo[2]}/${Fo[1]}`===Po});if(wo){let To=[];bo===0?To=wo.vang||[]:bo===1?To=wo.bac||[]:bo===2&&(To=wo.kim_loai_khac||[]),lr({date:wo.ngay,contracts:To}),jr(bo)}}},fo=co=>{if(!co)return 0;if(gr==="CNY")return co;if(gr==="VND"){if(!cr)return 0;let no=co*cr;return vr===0&&(no*=37.5),no}return gr==="USD"?!cr||!dr?0:co*cr/dr:0},ao=(co,no,mo)=>no===0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[co," ",jsxRuntimeExports.jsx("br",{})," ",mo?"(Ounce)":"(Gi / Lng)"]}):no===1?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[co," ",jsxRuntimeExports.jsx("br",{})," ",mo?"(Ounce)":"(Gi / Kg)"]}):co,Jr=(co,no)=>{if(!co)return 0;let mo=co;return no===0?mo=co*Hr:no===1&&(mo=co*Hr/1e3),Sr?cr&&dr?mo*cr/dr:0:gr==="CNY"?mo:gr==="VND"?cr?mo*cr:0:gr==="USD"?cr&&dr?mo*cr/dr:0:mo},uo={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff"}}},scales:{x:{ticks:{color:"#94a3b8"}},y:{position:"left",ticks:{color:"#f1c40f"}},y1:{position:"right",ticks:{color:"#2ecc71"},grid:{display:!1}}}},oo=(co,no)=>{if(!co||!cr||!dr)return 0;const Eo=co*cr/dr;return no==="gold"?Eo*Hr:Eo/1e3*Hr};return jsxRuntimeExports.jsxs("div",{style:{background:"#05111d",color:"#fff",padding:"20px",minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Hn(co=>co.month===1?{year:co.year-1,month:12}:{year:co.year,month:co.month-1}),style:btnStyle$2,children:" Trc"}),jsxRuntimeExports.jsxs("h2",{style:{color:"#f1c40f"},children:["LNG GIAO DCH VNG-BC SN SHANGHAI GOLD EXCHANGE ",tr.month,"/",tr.year]}),jsxRuntimeExports.jsx("button",{onClick:()=>Hn(co=>co.month===12?{year:co.year+1,month:1}:{year:co.year,month:co.month+1}),style:btnStyle$2,children:"Sau "})]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",padding:"10px"},children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{fontSize:"24px",color:"#94a3b8",marginBottom:"5px"},children:["Gi ng ca trung bnh ngy ",jsxRuntimeExports.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:Nr.date?Nr.date.split("-").reverse().join("/"):"..."})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",textAlign:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("span",{style:{color:"#f1c40f",fontWeight:"bold",fontSize:"20px"},children:["Vng: ",oo(Nr.gold,"gold").toLocaleString(void 0,{maximumFractionDigits:2})," ",jsxRuntimeExports.jsx("span",{style:{fontSize:"14px"},children:"$/Ounce"})]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("span",{style:{color:"#bdc3c7",fontWeight:"bold",fontSize:"20px"},children:["Bc: ",oo(Nr.silver,"silver").toLocaleString(void 0,{maximumFractionDigits:2})," ",jsxRuntimeExports.jsx("span",{style:{fontSize:"14px"},children:"$/Ounce"})]})})]})]})]}),jsxRuntimeExports.jsx("div",{style:{height:"400px",background:"#101929",padding:"20px",borderRadius:"8px",marginBottom:"30px",position:"relative"},children:er&&jsxRuntimeExports.jsx(Bar$1,{ref:qr,data:er,options:uo,onClick:io})}),or&&jsxRuntimeExports.jsxs("div",{style:{background:"#101929",padding:"20px",borderRadius:"8px",border:"1px solid #1e293b"},children:[jsxRuntimeExports.jsxs("h3",{style:{color:"#3498db"},children:["Chi tit ngy:"," ",jsxRuntimeExports.jsx("span",{style:{color:"red"},children:or.date.split("-").reverse().join("/")})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginBottom:"10px"},children:[Sr?jsxRuntimeExports.jsx("button",{onClick:()=>yr("USD"),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:gr==="USD"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer"},children:"USD"},"USD"):["CNY","VND","USD"].map(co=>jsxRuntimeExports.jsx("button",{onClick:()=>yr(co),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:gr===co?"#3498db":"#1e293b",color:"#fff",cursor:"pointer"},children:co},co)),jsxRuntimeExports.jsx("button",{onClick:()=>{Tr(!Sr),Sr||yr("USD")},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:Sr?"#10b981":"#1e293b",color:"#fff",cursor:"pointer"},children:Sr?"1 Ounce":"Gc"})]}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"900px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#172a45",color:"#94a3b8"},children:[jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"Hp ng"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"Hng"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"Khi lng"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:ao("Gi m ca",vr,Sr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:ao("Gi ng ca",vr,Sr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:ao("Gi chnh lch",vr,Sr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"T l phn trm"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:ao("Gi cao nht",vr,Sr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:ao("Gi thp nht",vr,Sr)}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:"S lng hp ng"}),jsxRuntimeExports.jsx("th",{style:thStyle$1,children:ao("Gi TB",vr,Sr)}),jsxRuntimeExports.jsxs("th",{style:thStyle$1,children:["Thnh tin",jsxRuntimeExports.jsx("button",{onClick:()=>Mr(!Lr),style:{marginLeft:8,padding:"2px 6px",fontSize:12,cursor:"pointer"},children:Lr?"USD":"T USD"})]})]})}),jsxRuntimeExports.jsx("tbody",{children:or.contracts.map((co,no)=>jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[jsxRuntimeExports.jsx("td",{style:{...tdStyle$1,color:"#fff"},children:co.Contract}),jsxRuntimeExports.jsx("td",{style:{...tdStyle$1,color:(co.Direction||"")==="Long to Short"?"#e74c3c":(co.Direction||"")==="Short to Long"?"#2ecc71":"#94a3b8"},children:co.Direction===""?"":co.Direction}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:Number(co.volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:co.open_price?(Sr?Jr(Number(co.open_price),vr):fo(Number(co.open_price))).toLocaleString(void 0,{maximumFractionDigits:gr==="USD"?2:0})+` ${Sr?"USD":gr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:co.close_price?(Sr?Jr(Number(co.close_price),vr):fo(Number(co.close_price))).toLocaleString(void 0,{maximumFractionDigits:gr==="USD"?2:0})+` ${Sr?"USD":gr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:co.change_price?(Sr?Jr(Number(co.change_price),vr):fo(Number(co.change_price))).toLocaleString(void 0,{maximumFractionDigits:gr==="USD"?2:0})+` ${Sr?"USD":gr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:co.change_pct?`${Number(co.change_pct).toFixed(2)}%`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:co.high_price?(Sr?Jr(Number(co.high_price),vr):fo(Number(co.high_price))).toLocaleString(void 0,{maximumFractionDigits:gr==="USD"?2:0})+` ${Sr?"USD":gr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:co.low_price?(Sr?Jr(Number(co.low_price),vr):fo(Number(co.low_price))).toLocaleString(void 0,{maximumFractionDigits:gr==="USD"?2:0})+` ${Sr?"USD":gr}`:""}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:Number(co.open_interest||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle$1,children:co.high_price&&co.low_price?(()=>{const mo=(Number(co.high_price)+Number(co.low_price))/2;return(Sr?Jr(mo,vr):fo(mo)).toLocaleString(void 0,{maximumFractionDigits:gr==="USD"?2:0})+` ${Sr?"USD":gr}`})():""}),jsxRuntimeExports.jsx("td",{style:{...tdStyle$1,color:"#f1c40f",fontWeight:"bold"},children:co.tong_tien_cny?(()=>{const mo=Sr?Jr(Number(co.tong_tien_cny),vr):fo(Number(co.tong_tien_cny));return!Lr||mo<555675726e-2?mo.toLocaleString(void 0,{maximumFractionDigits:2})+` ${Sr?"USD":gr}`:(mo/1e9).toLocaleString(void 0,{minimumFractionDigits:mo>=1e9?2:4,maximumFractionDigits:mo>=1e9?2:4})+` T ${Sr?"USD":gr}`})():""})]},no))})]})})]})]})},btnStyle$2={padding:"8px 16px",background:"#172a45",color:"#fff",border:"1px solid #3498db",borderRadius:"4px",cursor:"pointer"},thStyle$1={padding:"12px",textAlign:"left",borderBottom:"1px solid #1e293b"},tdStyle$1={padding:"10px",borderBottom:"1px solid #1e293b"},API_DATA_GLOBAL_SHARK=["https://api_gold.thinkdiff.us/global_x_silver_miners","https://api_gold.thinkdiff.us/UBS_Solactive_Global_Pure_Gold_Miners","https://api_gold.thinkdiff.us/VanEck_Gold_Miners_UCITS_ETF","https://api_gold.thinkdiff.us/VanEck_Junior_Gold_Miners_UCITS","https://api_gold.thinkdiff.us/LG_Gold_Mining_UCITS_ETF","https://api_gold.thinkdiff.us/iShares_Gold_Producers_UCITS","https://api_gold.thinkdiff.us/global_x_silver_miners_etf","https://api_gold.thinkdiff.us/HANetf_AuAg_ESG_Gold_Mining_UCITS","https://api_gold.thinkdiff.us/Market_Access_NYSE_Arca_Gold_Bugs_UCITS","https://api_gold.thinkdiff.us/VanEck_SP_Global_Mining_UCITS_ETF_A"],API_DATA_GLOBAL_SHARK_1DAY=["https://api_gold.thinkdiff.us/global_x_silver_miners_1day","https://api_gold.thinkdiff.us/VanEck_SP_Global_Mining_UCITS_ETF_A_1day","https://api_gold.thinkdiff.us/UBS_Solactive_Global_Pure_Gold_Miners_1day","https://api_gold.thinkdiff.us/VanEck_Gold_Miners_UCITS_ETF_1day","https://api_gold.thinkdiff.us/VanEck_Junior_Gold_Miners_UCITS_1day","https://api_gold.thinkdiff.us/LG_Gold_Mining_UCITS_ETF_1day","https://api_gold.thinkdiff.us/iShares_Gold_Producers_UCITS_1day","https://api_gold.thinkdiff.us/HANetf_AuAg_ESG_Gold_Mining_UCITS_1day","https://api_gold.thinkdiff.us/Market_Access_NYSE_Arca_Gold_Bugs_UCITS_1day"],extractNameFromURL=tr=>{const Hn=tr.split("/");return Hn[Hn.length-1]};async function fetchSharkData(tr){let Hn=null;return tr==="DAY"&&(Hn=(await Promise.all(API_DATA_GLOBAL_SHARK_1DAY.map(ir=>fetch(ir).then(rr=>{if(!rr.ok)throw new Error(`HTTP Error ${rr.status}`);return rr.json()}).catch(rr=>(console.warn(`Li khi gi link: ${ir}`,rr),null))))).filter(ir=>ir!==null)),tr==="ALL"&&(Hn=await Promise.all(API_DATA_GLOBAL_SHARK.map(nr=>fetch(nr).then(ir=>ir.json())))),Hn.map((nr,ir)=>{const sr=[...nr?.data?.series||[]].sort((or,lr)=>new Date(or.date)-new Date(lr.date)),ar=sr.at(-1)?.date;return{name:extractNameFromURL(API_DATA_GLOBAL_SHARK[ir]),data:sr.map(or=>({x:new Date(or.date).getTime()+420*60*1e3,y:Number(or.value.raw)})),date:ar}})}const formatCurrencyInteger=tr=>tr==null?"N/A":new Intl.NumberFormat("vi-VN",{minimumFractionDigits:0,maximumFractionDigits:0}).format(tr),AnimatedPrice=({value:tr})=>{const[Hn,er]=reactExports.useState("00");if(reactExports.useEffect(()=>{const ir=setInterval(()=>{const rr=Math.floor(Math.random()*100).toString().padStart(2,"0");er(rr)},2e3);return()=>clearInterval(ir)},[]),tr==null)return jsxRuntimeExports.jsx("span",{children:"N/A"});const nr=formatCurrencyInteger(tr);return jsxRuntimeExports.jsxs("span",{children:[nr,",",Hn]})},GlobalComparisonPage=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState("VNG"),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(""),[or,lr]=reactExports.useState([]),cr=gr=>({USA:"us",VIETNAM:"vn",ENGLAND:"gb",RUSSIAN:"ru","SOUTH KOREA":"kr",UAE:"ae",TRUNGQUOC:"cn",INDIA:"in",JAPAN:"jp"})[gr.toUpperCase()]||"un";reactExports.useEffect(()=>{(async()=>{try{const yr=await axios.get("https://api_gold.thinkdiff.us/tygia_chogia_vn");Array.isArray(yr?.data?.data?.data)&&lr(yr.data.data.data)}catch(yr){console.error("Error fetching black market rates:",yr)}})()},[]);const ur=async()=>{rr(!0);try{const gr=await axios.get("https://api_gold.thinkdiff.us/all_day_save_price");if(!gr.data?.data?.length)throw new Error("No day data");const yr=gr.data.data[gr.data.data.length-1].dirname,vr=await axios.get(`https://api_gold.thinkdiff.us/all_json_1_day/${yr}`);if(!vr.data?.data?.length)throw new Error("No file data");const Sr=vr.data.data[vr.data.data.length-1].link.split("/vang247_xyz/")[1],Lr=(await axios.get(`https://api_gold.thinkdiff.us/view_full_data_json/${Sr}`)).data?.data||{},Mr=Lr.list_server||[];if(Mr.length>0){let qr=Mr[0]?.data?.data?.fetched_at||Mr[0]?.items?.[0]?.fetched_at||"";if(qr){const Hr=qr.includes("T")?qr.split("T")[0]:qr.split(" ")[0];if(Hr.includes("-")&&Hr.indexOf("-")===4){const[Yr,ro,io]=Hr.split("-");ar(`${io}-${ro}-${Yr}`)}else ar(Hr.replace(/\//g,"-"))}}let Nr=26447;const Fr=(Lr.chogia_vn?.data||[]).find(qr=>qr.code==="USD");Fr&&(Nr=Fr.sell);let Gr=[];Array.isArray(Mr)&&Mr.forEach(qr=>{const Hr=qr.quoc_gia||"",Yr=qr.items||qr.data?.data?.items;Array.isArray(Yr)&&Yr.forEach(ro=>{const io=(ro.name||qr.name||"").toUpperCase(),fo=(ro.purity||"").toLowerCase(),ao=ro.TYPE==="VANG",Jr=ro.TYPE==="BAC";let uo=!1;if(ao&&(fo==="9999"||fo==="24k")&&(uo=!0),Jr&&fo==="1kg_bac_999"&&(uo=!0),!!uo){if(Hr.toLowerCase()==="vietnam"||io.includes("PH QU")||io.includes("BTMC")){if(ao&&io.includes("BTMC")||Jr&&io.includes("PH QU")){const oo=dr(Hr,io,ao?"VNG":"BC",ro,qr,Nr);oo&&Gr.push(oo)}}else if(Hr!==""){const oo=dr(Hr,io,ao?"VNG":"BC",ro,qr,Nr);oo&&Gr.push(oo)}}})}),Hn(Gr),rr(!1)}catch(gr){console.error("Li ti API:",gr),rr(!1)}},dr=(gr,yr,vr,jr,Sr,Tr)=>{const Lr=jr.sell?Number(jr.sell):0,Mr=Tr||26447;if(!Lr)return null;let Nr=37.5;vr==="BC"&&(Nr=1e3);const Or=Lr/Nr*31.1034768/Mr;return{country:gr.toUpperCase(),name:jr.product||yr,type:vr,price:Or}};reactExports.useEffect(()=>{ur()},[]);const fr=reactExports.useMemo(()=>tr.filter(gr=>gr&&gr.type===er).sort((gr,yr)=>yr.price-gr.price),[tr,er]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:containerStyle$1,children:[jsxRuntimeExports.jsx("h2",{style:titleStyle,children:"Bo Co Gi Vng Bc ca cc Quc Gia"}),jsxRuntimeExports.jsxs("div",{style:timeBox,children:["Cp nht lc: ",jsxRuntimeExports.jsx("span",{style:{color:"#f1c40f"},children:sr||"---"})]}),jsxRuntimeExports.jsxs("div",{style:tabContainer,children:[jsxRuntimeExports.jsx("button",{style:er==="VNG"?activeGoldTab:inactiveTab,onClick:()=>nr("VNG"),children:" VNG"}),jsxRuntimeExports.jsx("button",{style:er==="BC"?activeSilverTab:inactiveTab,onClick:()=>nr("BC"),children:" BC"})]}),ir?jsxRuntimeExports.jsx("div",{style:msgStyle,children:"ang ti d liu an ton..."}):jsxRuntimeExports.jsx("div",{style:gridStyle,children:fr.map((gr,yr)=>jsxRuntimeExports.jsxs("div",{style:cardStyle$1(gr.type),children:[jsxRuntimeExports.jsxs("div",{style:headerRow,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx("img",{src:`https://flagcdn.com/w40/${cr(gr.country)}.png`,style:flagStyle,alt:"flag"}),jsxRuntimeExports.jsx("span",{style:countryNameStyle,children:gr.country})]}),jsxRuntimeExports.jsx("div",{style:typeTag(gr.type),children:gr.type})]}),jsxRuntimeExports.jsx("div",{style:brandStyle,children:gr.name}),jsxRuntimeExports.jsxs("div",{style:priceRow,children:[jsxRuntimeExports.jsx("span",{style:labelStyle,children:"Quy i:"}),jsxRuntimeExports.jsx("span",{style:priceValue(gr.type),children:gr.price>0?gr.price.toLocaleString(void 0,{maximumFractionDigits:2}):"---"}),jsxRuntimeExports.jsx("span",{style:unitStyle,children:"USD/oz"})]})]},yr))})]}),jsxRuntimeExports.jsxs("div",{className:"black-market-wrapper",children:[jsxRuntimeExports.jsx("h2",{className:"black-market-title",children:"T Gi Ngoi T Ch en"}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{className:"black-market-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"M"}),jsxRuntimeExports.jsx("th",{children:"Tn"}),jsxRuntimeExports.jsx("th",{children:"Mua"}),jsxRuntimeExports.jsx("th",{children:"Bn"})]})}),jsxRuntimeExports.jsx("tbody",{children:or.map((gr,yr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"currency-code-cell",children:[jsxRuntimeExports.jsx("img",{src:`https://vang247.xyz/icon_tygia/${gr.code?.toLowerCase()}.png`,className:"currency-flag",alt:gr.code,onError:vr=>vr.target.style.display="none"}),gr.code]}),jsxRuntimeExports.jsx("td",{children:gr.name}),jsxRuntimeExports.jsx("td",{className:"price-buy",children:jsxRuntimeExports.jsx(AnimatedPrice,{value:gr.buy})}),jsxRuntimeExports.jsx("td",{className:"price-sell",children:jsxRuntimeExports.jsx(AnimatedPrice,{value:gr.sell})})]},yr))})]})})]})]})},containerStyle$1={backgroundColor:"#0a0a0a",minHeight:"100vh",padding:"20px"},titleStyle={color:"#f1c40f",textAlign:"center",marginBottom:"5px",fontSize:"22px",fontWeight:"bold"},timeBox={color:"#888",textAlign:"center",marginBottom:"30px",fontSize:"14px"},tabContainer={display:"flex",justifyContent:"center",gap:"15px",marginBottom:"40px"},inactiveTab={backgroundColor:"#1a1a1a",color:"#666",border:"1px solid #333",padding:"10px 30px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},activeGoldTab={...inactiveTab,backgroundColor:"#f1c40f",color:"#000",border:"1px solid #f1c40f"},activeSilverTab={...inactiveTab,backgroundColor:"#bdc3c7",color:"#000",border:"1px solid #bdc3c7"},gridStyle={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px",maxWidth:"1200px",margin:"0 auto"},cardStyle$1=tr=>({backgroundColor:"#161616",border:"1px solid #333",borderRadius:"12px",padding:"20px",borderTop:`4px solid ${tr==="VNG"?"#f1c40f":"#bdc3c7"}`}),headerRow={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},flagStyle={width:"22px"},countryNameStyle={color:"#888",fontSize:"11px",fontWeight:"bold"},typeTag=tr=>({color:tr==="VNG"?"#f1c40f":"#bdc3c7",fontSize:"10px",fontWeight:"bold"}),brandStyle={color:"#efefef",fontSize:"12px",marginBottom:"20px",minHeight:"35px"},priceRow={borderTop:"1px solid #222",paddingTop:"15px",display:"flex",alignItems:"baseline",gap:"8px"},labelStyle={color:"#666",fontSize:"12px"},priceValue=tr=>({color:tr==="VNG"?"#f1c40f":"#bdc3c7",fontSize:"24px",fontWeight:"bold"}),unitStyle={color:"#444",fontSize:"11px"},msgStyle={color:"white",textAlign:"center",marginTop:"50px"},SLVStats=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0);if(reactExports.useEffect(()=>{let rr=!0;return(async()=>{try{const ar=await fetch("https://api_gold.thinkdiff.us/SLV_von_vao");if(!ar.ok)throw new Error(ar.status);const or=await ar.json(),lr=or?.slv_chartexchange_info_cophieu?.[0]||or?.slv_stats?.[0]||or?.slv_overview?.[0]||null;rr&&Hn(lr)}catch(ar){console.error("SLV Stats fetch error:",ar)}finally{rr&&nr(!1)}})(),()=>rr=!1},[]),er)return jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"Loading SLV stats"});if(!tr)return null;const ir=rr=>rr?.toLocaleString(void 0,{maximumFractionDigits:2});return jsxRuntimeExports.jsxs("div",{className:"slv-stats-card",children:[jsxRuntimeExports.jsxs("div",{className:"slv-stats-header",children:["SLV Stats",jsxRuntimeExports.jsxs("div",{className:"slv-stats-timestamp",children:["Cp nht mi nht: ",tr.time_insert]})]}),jsxRuntimeExports.jsxs("div",{className:"slv-stats-grid",children:[jsxRuntimeExports.jsx(Stat,{label:"Market Cap",value:`${ir(tr.market_cap)}`}),jsxRuntimeExports.jsx(Stat,{label:"Shares Out",value:ir(tr.shares_out)}),jsxRuntimeExports.jsx(Stat,{label:"On / Off Exchange",value:`${tr.On_Off_Exchange}% / ${100-tr.On_Off_Exchange}%`}),jsxRuntimeExports.jsx(Stat,{label:"Avg Vol (10 Day)",value:ir(tr.avg_vol_10_day)}),jsxRuntimeExports.jsx(Stat,{label:"Avg Vol (30 Day)",value:ir(tr.avg_vol_30_day)}),jsxRuntimeExports.jsx(Stat,{label:"6 Month Beta",value:tr["6_Month_Beta"]}),jsxRuntimeExports.jsx(Stat,{label:"1 Year Beta",value:tr["1_Year_Beta"]}),jsxRuntimeExports.jsx(Stat,{label:"2 Year Beta",value:tr["2_Year_Beta"]}),jsxRuntimeExports.jsx(Stat,{label:"3 Year Beta",value:tr["3_Year_Beta"]}),jsxRuntimeExports.jsx(Stat,{label:"52 Week Low",value:tr["52_Week_Low"]}),jsxRuntimeExports.jsx(Stat,{label:"52 Week High",value:tr["52_Week_High"]}),jsxRuntimeExports.jsx(Stat,{label:"SMA50",value:tr.SMA50}),jsxRuntimeExports.jsx(Stat,{label:"SMA200",value:tr.SMA200})]}),jsxRuntimeExports.jsxs("div",{className:"slv-returns",children:[jsxRuntimeExports.jsx(Return,{label:"1 Week",value:tr["1_Week"]}),jsxRuntimeExports.jsx(Return,{label:"1 Month",value:tr["1_Month"]}),jsxRuntimeExports.jsx(Return,{label:"3 Month",value:tr["3_Month"]}),jsxRuntimeExports.jsx(Return,{label:"6 Month",value:tr["6_Month"]}),jsxRuntimeExports.jsx(Return,{label:"1 Year",value:tr["1Year"]}),jsxRuntimeExports.jsx(Return,{label:"2 Year",value:tr["2Year"]}),jsxRuntimeExports.jsx(Return,{label:"5 Year",value:tr["5Year"]})]})]})},Stat=({label:tr,value:Hn})=>jsxRuntimeExports.jsxs("div",{className:"slv-stat",children:[jsxRuntimeExports.jsx("span",{children:tr}),jsxRuntimeExports.jsx("strong",{children:Hn})]}),Return=({label:tr,value:Hn})=>{const er=Hn>=0;return jsxRuntimeExports.jsxs("div",{className:`slv-return ${er?"up":"down"}`,children:[jsxRuntimeExports.jsx("span",{children:tr}),jsxRuntimeExports.jsxs("strong",{children:[er?"+":"",Hn,"%"]})]})},SLVDarkPoolTable=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(1),sr=10,[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState("");reactExports.useEffect(()=>{let fr=!0;return(async()=>{try{const yr=await fetch("https://api_gold.thinkdiff.us/SLV_von_vao");if(!yr.ok)throw new Error(yr.status);const jr=(await yr.json())?.slv_dark_pool_levels||[];if(!fr)return;Hn(jr),jr.length>0&&cr(jr[0].created_at)}catch(yr){console.error("SLV Dark Pool fetch error:",yr)}finally{fr&&nr(!1)}})(),()=>fr=!1},[]);const ur=Math.ceil(tr.length/sr),dr=tr.slice((ir-1)*sr,ir*sr);return er?jsxRuntimeExports.jsx("div",{className:"dp-loading",children:"Loading Dark Pool"}):tr.length?jsxRuntimeExports.jsxs("div",{className:"darkpool-card",children:[jsxRuntimeExports.jsx("div",{className:"darkpool-header",children:jsxRuntimeExports.jsx("div",{className:"darkpool-title",children:"SLV Dark Pool Levels"})}),jsxRuntimeExports.jsxs("table",{className:"darkpool-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Level"}),jsxRuntimeExports.jsx("th",{children:"Traders"}),jsxRuntimeExports.jsx("th",{children:"Volume"}),jsxRuntimeExports.jsx("th",{children:"Premium"})]})}),jsxRuntimeExports.jsx("tbody",{children:dr.map((fr,gr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"dp-level-cell",children:[jsxRuntimeExports.jsx("div",{className:"dp-price",children:fr.price_level?.toFixed(2)}),jsxRuntimeExports.jsx("div",{className:"dp-time",children:fr.created_at})]}),jsxRuntimeExports.jsx("td",{children:fr.trade_count?.toLocaleString()}),jsxRuntimeExports.jsx("td",{children:fr.volume?.toLocaleString()}),jsxRuntimeExports.jsxs("td",{children:["$",fr.premium?.toLocaleString(void 0,{maximumFractionDigits:0})]})]},gr))})]}),jsxRuntimeExports.jsxs("div",{className:"dp-pagination",children:[jsxRuntimeExports.jsx("button",{disabled:ir===1,onClick:()=>{const fr=ir-1;rr(fr),or(fr)},children:""}),jsxRuntimeExports.jsx("input",{type:"number",min:1,max:ur,value:ar,onChange:fr=>or(fr.target.value),onKeyDown:fr=>{if(fr.key==="Enter"){let gr=Number(ar);gr<1&&(gr=1),gr>ur&&(gr=ur),rr(gr),or(gr)}},className:"dp-page-input"}),jsxRuntimeExports.jsxs("span",{children:["/ ",ur]}),jsxRuntimeExports.jsx("button",{disabled:ir===ur,onClick:()=>{const fr=ir+1;rr(fr),or(fr)},children:""})]})]}):null};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const btnStyle$1={padding:"8px 16px",background:"#172a45",color:"#fff",border:"1px solid #3498db",borderRadius:"4px",cursor:"pointer"},thStyle={padding:"12px",textAlign:"left",borderBottom:"1px solid #1e293b"},tdStyle={padding:"10px",borderBottom:"1px solid #1e293b"};function ReportComexChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState("USD"),[dr,fr]=reactExports.useState(0),[gr,yr]=reactExports.useState(!0),[vr,jr]=reactExports.useState(!1),[Sr,Tr]=reactExports.useState("all"),[Lr,Mr]=reactExports.useState(!1),Nr=reactExports.useRef(),[Or,Fr]=reactExports.useState(()=>{const Jr=new Date;return{month:Jr.getMonth()+1,year:Jr.getFullYear()}}),Gr=Jr=>{Hn(null),rr(null),Fr(uo=>{let oo=uo.month+Jr,co=uo.year;return oo>12?(oo=1,co+=1):oo<1&&(oo=12,co-=1),{month:oo,year:co}})},qr=async()=>{const Jr=await fetchBlackMarketExchangeRates();if(!Jr)return;const uo=Jr.find(co=>co.code==="CNY"),oo=Jr.find(co=>co.code==="USD");uo&&ar(uo.sell),oo&&lr(oo.sell)};reactExports.useEffect(()=>{ir&&qr()},[ir]),reactExports.useEffect(()=>{Mr(!0),fetch(`https://api_gold.thinkdiff.us/cme_report_theo_thang/${Or.month}/${Or.year}`).then(Jr=>Jr.json()).then(Jr=>{Jr.status==="success"?(Hn(Jr.ketqua),nr(Jr.ketqua)):(Hn([]),nr([]))}).catch(Jr=>{console.error("Li:",Jr),Hn([]),nr([])}).finally(()=>Mr(!1))},[Or.month,Or.year]);const Hr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff"}},title:{display:!1,text:"Bo Co Lng Mua Bn Sn Comex"}},scales:{x:{stacked:!0,ticks:{color:"#94a3b8"}},y:{stacked:!0,ticks:{color:"#f1c40f"}}}},Yr=Jr=>{const{current:uo}=Nr;if(!uo)return;const oo=getElementAtEvent(uo,Jr);if(oo.length>0){const{index:co,datasetIndex:no}=oo[0],mo=uo.data.labels[co],Eo=er.find(bo=>{if(!bo?.day)return!1;const[,Po,wo]=bo.day.split("-");return`${wo}/${Po}`===mo});if(Eo){let bo=[];Sr==="hop_dong_tuong_lai"?no===0?(bo=Eo.vang||[],fr(0)):no===1?(bo=Eo.bac||[],fr(1)):no===2?(bo=Eo.bach_kim||[],fr(2)):no===3?(bo=Eo.dong||[],fr(3)):(bo=Eo.palladium||[],fr(4)):no<=1?(bo=Eo.vang||[],fr(0)):no<=3?(bo=Eo.bac||[],fr(1)):no<=5?(bo=Eo.bach_kim||[],fr(2)):no<=7?(bo=Eo.dong||[],fr(3)):(bo=Eo.palladium||[],fr(4)),rr({date:Eo.day,contracts:bo})}}},ro=Jr=>({0:"VNG",1:"BC",2:"BCH KIM",3:"NG",4:"PALLADIUM"})[Jr]||"KIM LOI",io=(Jr,uo,oo)=>{if(!Jr||!Array.isArray(Jr))return 0;let co=Jr;oo==="hop_dong_tuong_lai"&&(co=Jr.filter(mo=>mo.contract_type_vi==="hop_dong_tuong_lai"));const no=co.find(mo=>mo.contract_type_vi===uo);return no&&Number(no.total_volume)||0},ao={labels:tr?.map(Jr=>{if(!Jr?.day)return"";const[,uo,oo]=Jr.day.split("-");return`${oo}/${uo}`}),datasets:Sr==="hop_dong_tuong_lai"?[{label:"Vng",data:tr?.map(Jr=>io(Jr?.vang,"hop_dong_tuong_lai",Sr)),backgroundColor:"#FCB100",stack:"Stack 0"},{label:"Bc",data:tr?.map(Jr=>io(Jr?.bac,"hop_dong_tuong_lai",Sr)),backgroundColor:"#9CA3AF",stack:"Stack 1"},{label:"Bch kim",data:tr?.map(Jr=>io(Jr?.bach_kim,"hop_dong_tuong_lai",Sr)),backgroundColor:"#1c89f6ff",stack:"Stack 2"},{label:"ng",data:tr?.map(Jr=>io(Jr?.dong,"hop_dong_tuong_lai",Sr)),backgroundColor:"#FC7A00",stack:"Stack 3"},{label:"Palladium",data:tr?.map(Jr=>io(Jr?.palladium,"hop_dong_tuong_lai",Sr)),backgroundColor:"#7C8792",stack:"Stack 4"}]:[{label:"Vng mua",data:tr?.map(Jr=>io(Jr?.vang,"tang_gia",Sr)),backgroundColor:"#FCB100",stack:"Stack 0"},{label:"Vng bn",data:tr?.map(Jr=>io(Jr?.vang,"giam_gia",Sr)),backgroundColor:"#F0C256",stack:"Stack 0"},{label:"Bc mua",data:tr?.map(Jr=>io(Jr?.bac,"tang_gia",Sr)),backgroundColor:"#9CA3AF",stack:"Stack 1"},{label:"Bc bn",data:tr?.map(Jr=>io(Jr?.bac,"giam_gia",Sr)),backgroundColor:"#E5E7EB",stack:"Stack 1"},{label:"Bch kim mua",data:tr?.map(Jr=>io(Jr?.bach_kim,"tang_gia",Sr)),backgroundColor:"#1c89f6ff",stack:"Stack 2"},{label:"Bch kim bn",data:tr?.map(Jr=>io(Jr?.bach_kim,"giam_gia",Sr)),backgroundColor:"#7cbbfaff",stack:"Stack 2"},{label:"ng mua",data:tr?.map(Jr=>io(Jr?.dong,"tang_gia",Sr)),backgroundColor:"#FC7A00",stack:"Stack 3"},{label:"ng bn",data:tr?.map(Jr=>io(Jr?.dong,"giam_gia",Sr)),backgroundColor:"#F5AB67",stack:"Stack 3"},{label:"Palladium mua",data:tr?.map(Jr=>io(Jr?.palladium,"tang_gia",Sr)),backgroundColor:"#7C8792",stack:"Stack 4"},{label:"Palladium bn",data:tr?.map(Jr=>io(Jr?.palladium,"giam_gia",Sr)),backgroundColor:"#E6EBEF",stack:"Stack 4"}]};return jsxRuntimeExports.jsxs("div",{style:{background:"#05111d",color:"#fff",padding:"20px",minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Gr(-1),style:btnStyle$1,children:" Trc"}),jsxRuntimeExports.jsxs("h2",{style:{color:"#f1c40f"},children:["BO CO LNG MUA BN SN COMEX - THNG ",Or.month,"/",Or.year]}),jsxRuntimeExports.jsx("button",{onClick:()=>Gr(1),style:btnStyle$1,children:"Sau "})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Tr("all"),style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #334155",background:Sr==="all"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer",fontSize:"14px"},children:"Tt c"}),jsxRuntimeExports.jsx("button",{onClick:()=>Tr("hop_dong_tuong_lai"),style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #334155",background:Sr==="hop_dong_tuong_lai"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer",fontSize:"14px"},children:"Hp ng tng lai"})]}),jsxRuntimeExports.jsx("div",{style:{height:"400px",background:"#101929",padding:"20px",borderRadius:"8px",marginBottom:"30px"},children:Lr?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginTop:"50px",color:"#fff"},children:"ang ti d liu..."}):!tr||tr.length===0?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginTop:"50px",color:"#fff"},children:"Khng c d liu cho thng ny"}):jsxRuntimeExports.jsx(Bar$1,{ref:Nr,data:ao,options:Hr,onClick:Yr})}),ir&&jsxRuntimeExports.jsxs("div",{style:{background:"#101929",padding:"20px",borderRadius:"8px",border:"1px solid #1e293b"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[jsxRuntimeExports.jsxs("h3",{style:{color:"#3498db",margin:0},children:["Chi tit ngy:"," ",jsxRuntimeExports.jsx("span",{style:{color:"red"},children:ir.date.split("-").reverse().join("/")})]}),jsxRuntimeExports.jsx("div",{style:{background:dr===0?"#f1c40f":dr===1?"#bdc3c7":dr===2?"#3498db":dr===3?"#e67e22":"#9b59b6",color:"#000",padding:"6px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"bold"},children:ro(dr)})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px"},children:jsxRuntimeExports.jsx("p",{style:{color:"#94a3b8",margin:0,fontSize:"14px"},children:"D liu bo co khi lng giao dch t sn COMEX"})}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"900px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#172a45",color:"#94a3b8"},children:[jsxRuntimeExports.jsx("th",{style:thStyle,children:"Loi hp ng"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Khi lng in t"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Khi lng sn"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Khi lng ngoi sn"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Tng khi lng"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Li sut m"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Thay i OI"}),jsxRuntimeExports.jsx("th",{style:thStyle,children:"Ngy bo co"})]})}),jsxRuntimeExports.jsx("tbody",{children:ir.contracts.map((Jr,uo)=>jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[jsxRuntimeExports.jsx("td",{style:{...tdStyle,color:"#fff"},children:Jr.contract_type_vi==="hop_dong_tuong_lai"?"Hp ng tng lai":Jr.contract_type_vi==="quyen_chon"?"Quyn chn":Jr.contract_type_vi==="tang_gia"?"Tng gi (Call)":Jr.contract_type_vi==="giam_gia"?"Gim gi (Put)":Jr.contract_type_vi||""}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Number(Jr.electronic_volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Number(Jr.floor_volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Number(Jr.off_floor_volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{...tdStyle,color:"#f1c40f",fontWeight:"bold"},children:Number(Jr.total_volume||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Number(Jr.open_interest||0).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{...tdStyle,color:(Jr.oi_change||0)>0?"#2ecc71":(Jr.oi_change||0)<0?"#e74c3c":"#94a3b8"},children:Jr.oi_change?(Jr.oi_change>0?"+":"")+Number(Jr.oi_change).toLocaleString():"0"}),jsxRuntimeExports.jsx("td",{style:tdStyle,children:Jr.report_date?new Date(Jr.report_date).toLocaleDateString("vi-VN"):""})]},uo))})]})})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend);const API$1={gold:"https://api_gold.thinkdiff.us/lbma_gold_price",silver:"https://api_gold.thinkdiff.us/lbma_silver_price"},LBMAPrice=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState("all"),[ir,rr]=reactExports.useState("month"),[sr,ar]=reactExports.useState("silver");reactExports.useEffect(()=>{(async()=>{const Or=(await(await fetch(API$1[sr])).json()).data||[];Or.sort((Fr,Gr)=>new Date(Fr.date)-new Date(Gr.date)),Hn(Or)})()},[sr]);const or=(Lr,Mr)=>Mr===0||Mr==null?null:(Lr-Mr)/Mr*100,lr=React.useMemo(()=>{if(!tr||tr.length<2)return{};const Lr=[...tr].sort((Fr,Gr)=>Number(Fr.time)-Number(Gr.time)),Mr=Lr.length-1,Nr=Lr[Mr].value,Or=Fr=>{const Gr=Mr-Fr;if(Gr<0)return null;const qr=Lr[Gr].value;return or(Nr,qr)};return{day5:Or(5),month1:Or(30),month6:Or(180)}},[tr]),cr=React.useMemo(()=>{if(!tr||tr.length===0)return null;const Lr=tr[tr.length-1].time,Mr=new Date(Lr),Nr=String(Mr.getDate()).padStart(2,"0"),Or=String(Mr.getMonth()+1).padStart(2,"0"),Fr=Mr.getFullYear(),Gr=String(Mr.getHours()).padStart(2,"0"),qr=String(Mr.getMinutes()).padStart(2,"0"),Hr=String(Mr.getSeconds()).padStart(2,"0");return`${Nr}/${Or}/${Fr} ${Gr}:${qr}:${Hr}`},[tr]),ur=Lr=>{const Mr=new Date(Lr),Nr=String(Mr.getDate()).padStart(2,"0"),Or=String(Mr.getMonth()+1).padStart(2,"0"),Fr=String(Mr.getFullYear()).padStart(2,"0"),Gr=String(Mr.getHours()).padStart(2,"0"),qr=String(Mr.getMinutes()).padStart(2,"0");return`${Nr}/${Or}/${Fr} ${Gr}:${qr}`},dr=Lr=>new Date(Number(Lr)).getFullYear(),fr=reactExports.useMemo(()=>{if(!tr.length)return["all"];const Lr=[...new Set(tr.map(Mr=>dr(Mr.time)))];return Lr.sort((Mr,Nr)=>Nr-Mr),["all",...Lr]},[tr]),gr=Lr=>Lr.length?Math.max(...Lr.map(Mr=>Number(Mr.time))):null,yr=reactExports.useMemo(()=>{if(!tr.length)return[];const Lr=gr(tr);if(!Lr)return tr;const Mr=new Date(Lr);if(ir==="week"){const Nr=new Date(Mr);return Nr.setDate(Nr.getDate()-7),tr.filter(Or=>Number(Or.time)>=Nr.getTime())}if(ir==="month"){const Nr=new Date(Mr);return Nr.setMonth(Nr.getMonth()-1),tr.filter(Or=>Number(Or.time)>=Nr.getTime())}if(ir==="year_rolling"){const Nr=gr(tr);if(!Nr)return tr;const Or=new Date(Nr),Fr=new Date(Or);return Fr.setFullYear(Fr.getFullYear()-1),tr.filter(Gr=>Number(Gr.time)>=Fr.getTime()&&Number(Gr.time)<=Or.getTime())}return ir==="year_fixed"&&er!=="all"?tr.filter(Nr=>dr(Nr.time)===Number(er)):tr},[tr,er,ir]);reactExports.useEffect(()=>{ir==="year_fixed"&&fr.length>1&&er==="all"&&nr(String(fr[1]))},[fr,ir]);const vr=reactExports.useMemo(()=>{if(!yr.length)return{};const Lr=yr.map(Mr=>Mr.value);return{max:Math.max(...Lr),min:Math.min(...Lr),current:Lr[Lr.length-1]}},[yr]),jr=sr==="gold",Sr={labels:yr.map(Lr=>ur(Lr.time)),datasets:[{label:jr?"Gold Price (USD)":"Silver Price (USD)",data:yr.map(Lr=>Lr.value),borderColor:jr?"rgba(212,175,55,1)":"rgba(192,192,192,1)",backgroundColor:jr?"rgba(212,175,55,0.7)":"rgba(192,192,192,0.7)",pointBackgroundColor:jr?"rgba(212,175,55,1)":"rgba(192,192,192,1)",pointRadius:2,pointHoverRadius:5,tension:.3,fill:!0}]},Tr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"}},scales:{y:{title:{display:!0,text:"USD"},beginAtZero:!0,min:0}}};return jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsxs("div",{className:"comex-inventory-header header-row",children:[jsxRuntimeExports.jsxs("div",{className:"header-left",children:[jsxRuntimeExports.jsx("h2",{children:"LBMA Gold & Silver Prices"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Biu  gi Vng & Bc LBMA London (USD)"})]}),cr&&jsxRuntimeExports.jsxs("div",{className:"header-right",children:[jsxRuntimeExports.jsx("label",{className:"last-updated-label",children:" D liu cp nht ln cui: "}),jsxRuntimeExports.jsx("span",{className:"last-updated",children:cr})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-tab-navigation",children:[jsxRuntimeExports.jsx("button",{className:`tab-button ${sr==="gold"?"active":""}`,onClick:()=>ar("gold"),children:"LBMA Gold"}),jsxRuntimeExports.jsx("button",{className:`tab-button ${sr==="silver"?"active":""}`,onClick:()=>ar("silver"),children:"LBMA Silver"})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"Tng quan"}),jsxRuntimeExports.jsxs("div",{className:"percentage-grid",children:[jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi cao nht"}),jsxRuntimeExports.jsxs("span",{className:"percentage-value3",children:[vr.max?.toLocaleString()," USD"]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi thp nht"}),jsxRuntimeExports.jsxs("span",{className:"percentage-value3",children:[vr.min?.toLocaleString()," USD"]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi hin ti"}),jsxRuntimeExports.jsxs("span",{className:"percentage-value3",style:{color:"#1bb553"},children:[vr.current?.toLocaleString()," USD"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i"}),jsxRuntimeExports.jsx("div",{className:"percentage-grid",children:[["Trong 5 ngy",lr.day5],["Trong 1 thng",lr.month1],["Trong 6 thng",lr.month6]].map(([Lr,Mr])=>typeof Mr=="number"&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:Lr}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Mr>=0?"positive":"negative"}`,children:[Mr>=0?"+":"",Mr.toFixed(2),"%"]})]},Lr))})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Khong thi gian"}),jsxRuntimeExports.jsxs("div",{className:"time-filter-buttons",children:[jsxRuntimeExports.jsx("button",{className:ir==="all"?"active":"",onClick:()=>rr("all"),children:"Tt c"}),jsxRuntimeExports.jsx("button",{className:ir==="week"?"active":"",onClick:()=>rr("week"),children:"7 ngy"}),jsxRuntimeExports.jsx("button",{className:ir==="month"?"active":"",onClick:()=>rr("month"),children:"1 thng"}),jsxRuntimeExports.jsx("button",{className:ir==="year_rolling"?"active":"",onClick:()=>{rr("year_rolling"),nr("all")},children:"1 nm"}),jsxRuntimeExports.jsx("button",{className:ir==="year_fixed"?"active":"",onClick:()=>{rr("year_fixed"),fr.length>1&&nr(String(fr[1]))},children:"Chn nm"})]}),ir==="year_fixed"&&jsxRuntimeExports.jsx("select",{value:er,onChange:Lr=>nr(Lr.target.value),className:"lbma-year-select",children:fr.filter(Lr=>Lr!=="all").map(Lr=>jsxRuntimeExports.jsx("option",{value:Lr,children:Lr},Lr))})]})]}),jsxRuntimeExports.jsx("div",{className:"comex-right-column",children:jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:jsxRuntimeExports.jsx(Line,{data:Sr,options:Tr})})})]})]})},API_COMEX_GOLD="https://api_gold.thinkdiff.us/comex_gold_data",API_COMEX_SILVER="https://api_gold.thinkdiff.us/comex_silver_data",getApiUrl=tr=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?tr.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):tr,fetchComexGoldData=async()=>{try{const tr=getApiUrl(API_COMEX_GOLD),Hn=await fetch(tr);if(!Hn.ok)throw new Error(`HTTP error! status: ${Hn.status}`);return await Hn.json()}catch(tr){throw console.error("Error fetching COMEX Gold data:",tr),tr}},fetchComexSilverData=async()=>{try{const tr=getApiUrl(API_COMEX_SILVER),Hn=await fetch(tr);if(!Hn.ok)throw new Error(`HTTP error! status: ${Hn.status}`);return await Hn.json()}catch(tr){throw console.error("Error fetching COMEX Silver data:",tr),tr}},fetchComexInventoryData=async()=>{try{const[tr,Hn]=await Promise.all([fetchComexGoldData(),fetchComexSilverData()]);return{goldData:tr,silverData:Hn}}catch(tr){throw console.error("Error fetching COMEX Inventory data:",tr),tr}};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend,index,LogarithmicScale);function ComexInventoryChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("silver"),[cr,ur]=reactExports.useState("30"),[dr,fr]=reactExports.useState("line"),[gr,yr]=reactExports.useState(!1),[vr,jr]=reactExports.useState("oz"),Sr=(Hr,Yr)=>!Yr||Yr===0?null:(Hr-Yr)/Yr*100,Tr=(Hr,Yr)=>{if(Yr==null)return null;const ro=Hr-Yr;return Lr(ro)},Lr=Hr=>vr==="oz"?Hr:vr==="moz"?Hr/1e6:vr==="ton"?Hr/32150.75:Hr,Mr=Hr=>{const Yr=Lr(Hr);return vr==="moz"?Yr.toFixed(2)+" Triu OZ":vr==="oz"?Yr.toLocaleString()+" OZ":vr==="ton"?Yr.toFixed(2)+" Tn":Yr.toLocaleString()};reactExports.useEffect(()=>{(async()=>{try{rr(!0),ar(null);const Yr=await fetchComexInventoryData(),ro=Yr.goldData?.data||Yr.goldData,io=Yr.silverData?.data||Yr.silverData;ro&&Array.isArray(ro)&&Hn(ro),io&&Array.isArray(io)&&nr(io),!ro&&!io&&ar("Khng c d liu COMEX Inventory t API")}catch(Yr){console.error("Error in fetchData:",Yr),ar("Li khi ti d liu: "+Yr.message)}finally{rr(!1)}})()},[]);const Nr=reactExports.useMemo(()=>{const Hr=or==="gold"?tr:er;if(!Hr||!Array.isArray(Hr)||Hr.length===0)return{labels:[],datasets:[],percentageChanges:{}};const Yr=[...Hr].sort((no,mo)=>{const Eo=new Date(no.date||no.dt),bo=new Date(mo.date||mo.dt);return Eo-bo});let ro=Yr;if(cr!=="all"){const no=parseInt(cr);if(Yr.length>0){const mo=Math.min(no,Yr.length);ro=Yr.slice(-mo)}}const io={};if(Yr.length>0){const no=Yr[Yr.length-1]?.value||Yr[Yr.length-1]?.amount||0;if(Yr.length>=2){const mo=Yr[Yr.length-2]?.value||Yr[Yr.length-2]?.amount||0;io.day1=vr==="ton"?Tr(no,mo):Sr(no,mo)}if(Yr.length>=3){const mo=Yr[Yr.length-3]?.value||Yr[Yr.length-3]?.amount||0;io.day2=vr==="ton"?Tr(no,mo):Sr(no,mo)}if(Yr.length>=4){const mo=Yr[Yr.length-4]?.value||Yr[Yr.length-4]?.amount||0;io.day3=vr==="ton"?Tr(no,mo):Sr(no,mo)}if(Yr.length>=8){const mo=Yr[Yr.length-8]?.value||Yr[Yr.length-8]?.amount||0;io.week1=vr==="ton"?Tr(no,mo):Sr(no,mo)}if(Yr.length>=31){const mo=Yr[Yr.length-31]?.value||Yr[Yr.length-31]?.amount||0;io.month1=vr==="ton"?Tr(no,mo):Sr(no,mo)}if(Yr.length>=181){const mo=Yr[Yr.length-181]?.value||Yr[Yr.length-181]?.amount||0;io.month6=vr==="ton"?Tr(no,mo):Sr(no,mo)}}const fo=ro.map((no,mo)=>{const Eo=new Date(no.date||no.dt),bo=String(Eo.getDate()).padStart(2,"0"),Po=String(Eo.getMonth()+1).padStart(2,"0"),wo=Eo.getFullYear();return cr==="all"?mo%2===0?`${wo}`:"":cr==="365"?mo%4===0?`${Po}/${wo}`:"":`${bo}/${Po}`}),ao=ro.map(no=>{const mo=no.value||no.amount||no.inventory||0;return typeof mo=="number"?mo:parseFloat(mo)||0}),Jr=Math.max(...ao),uo=Math.min(...ao);let oo=[];dr==="line"?oo=[{type:"line",label:or==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:ao,borderColor:"#2563eb",backgroundColor:"tranparent",fill:!1,tension:0,pointRadius:0,pointBackgroundColor:or==="gold"?"#FDB913":"#9CA3AF",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:6,borderWidth:2}]:dr==="column"?oo=[{type:"bar",label:or==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:ao,backgroundColor:or==="gold"?"#FDB913":"#9CA3AF",borderColor:"#fff",borderWidth:0,barThickness:"flex"}]:dr==="stackedBar"?oo=[{type:"bar",label:"Inventory",data:ao,backgroundColor:or==="gold"?"#FDB913":"#9CA3AF",borderColor:or==="gold"?"#FDB913":"#9CA3AF",borderWidth:0,barThickness:"flex",stack:"stack1"}]:dr==="scatter"&&(oo=[{type:"scatter",label:or==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:ro.map((no,mo)=>({x:mo,y:ao[mo]})),backgroundColor:or==="gold"?"#FDB913":"#9CA3AF",pointRadius:5,pointHoverRadius:7,showLine:!1}]);let co=null;if(Yr.length>0){const no=Yr[Yr.length-1];co=new Date(no.date||no.dt)}return{labels:fo,datasets:oo,filteredData:ro,minValue:uo,maxValue:Jr,percentageChanges:io,latestUpdateDate:co}},[tr,er,or,cr,dr,vr]),Or={responsive:!0,maintainAspectRatio:!1,indexAxis:void 0,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#9CA3AF",font:{size:12,weight:"500"},padding:15,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#fff",bodyColor:"#E0E7FF",borderColor:"#3B82F6",borderWidth:1,padding:12,titleFont:{size:14,weight:"600"},bodyFont:{size:13},callbacks:{title:Hr=>{const Yr=Hr[0].dataIndex;if(Nr.filteredData&&Nr.filteredData[Yr]){const ro=Nr.filteredData[Yr],io=new Date(ro.date||ro.dt),fo=String(io.getDate()).padStart(2,"0"),ao=String(io.getMonth()+1).padStart(2,"0"),Jr=io.getFullYear();return`${fo}/${ao}/${Jr}`}return""},label:Hr=>{const Yr=Hr.parsed.y;return`${or==="gold"?"Gold":"Silver"} Inventory: ${Yr.toLocaleString()} OZ`},afterLabel:Hr=>{let io=`value: ${(Hr.parsed.y/32150.75).toFixed(2)} Tn`;const fo=Hr.dataIndex;if(Nr.filteredData&&Nr.filteredData[fo]){const ao=Nr.filteredData[fo],Jr=Object.entries(ao).filter(([uo])=>uo!=="date"&&uo!=="dt"&&uo!=="value"&&uo!=="amount").map(([uo,oo])=>`${uo}: ${oo}`).join(`
`);Jr&&(io+=`
`+Jr)}return io}}}},scales:{y:{type:"logarithmic",stacked:dr==="stackedBar",beginAtZero:!1,grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#9CA3AF",font:{size:11},callback:Hr=>Hr>=1e6?(Hr/1e6).toFixed(0)+"M":Hr.toLocaleString()},title:{display:!0,text:"OZ",color:"#9CA3AF",font:{size:12}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:"#9CA3AF",font:{size:11},maxRotation:45,minRotation:0}}}},Fr=Hr=>{ur(Hr)},Gr=Hr=>{lr(Hr)},qr=Hr=>{fr(Hr)};return ir?jsxRuntimeExports.jsx("div",{className:"comex-inventory-container",children:jsxRuntimeExports.jsx("div",{className:"loading-spinner",children:jsxRuntimeExports.jsx("p",{children:"ang ti d liu COMEX Inventory..."})})}):sr?jsxRuntimeExports.jsx("div",{className:"comex-inventory-container",children:jsxRuntimeExports.jsx("div",{className:"error-message",children:jsxRuntimeExports.jsx("p",{children:sr})})}):jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsx("div",{className:"comex-inventory-header",children:jsxRuntimeExports.jsxs(Link,{to:"/comex-inventory",className:"comex-header-link",children:[jsxRuntimeExports.jsx("h2",{children:"COMEX Gold & Silver Inventory"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Theo di lng d tr vng v bc trn sn COMEX"})]})}),jsxRuntimeExports.jsxs("div",{className:"comex-tab-navigation",children:[jsxRuntimeExports.jsxs("button",{className:`tab-button ${or==="gold"?"active":""}`,onClick:()=>Gr("gold"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon gold-icon",children:""}),"COMEX Gold"]}),jsxRuntimeExports.jsxs("button",{className:`tab-button ${or==="silver"?"active":""}`,onClick:()=>Gr("silver"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon silver-icon",children:""}),"COMEX Silver"]}),Nr.latestUpdateDate&&jsxRuntimeExports.jsxs("div",{className:"latest-update-date",children:["Cp nht mi nht: ",Nr.latestUpdateDate.getDate(),"/",Nr.latestUpdateDate.getMonth()+1,"/",Nr.latestUpdateDate.getFullYear()]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-unit-converter",children:[jsxRuntimeExports.jsx("span",{className:"unit-label",children:"n v:"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${vr==="oz"?"active":""}`,onClick:()=>jr("oz"),children:"OZ"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${vr==="moz"?"active":""}`,onClick:()=>jr("moz"),children:"MOZ"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${vr==="ton"?"active":""}`,onClick:()=>jr("ton"),children:"Tn"})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[Nr.filteredData&&Nr.filteredData.length>0&&jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi tr cao nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Mr(Nr.maxValue)})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi tr thp nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Mr(Nr.minValue)})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi tr hin ti:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Mr(Nr.filteredData[Nr.filteredData.length-1]?.value||0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i"}),jsxRuntimeExports.jsxs("div",{className:"percentage-grid",children:[Nr.percentageChanges.day1!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 1 Ngy"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Nr.percentageChanges.day1>=0?"positive":"negative"}`,children:[Nr.percentageChanges.day1>=0?"+":"",vr==="ton"?`${Nr.percentageChanges.day1.toFixed(2)} Tn`:`${Nr.percentageChanges.day1.toFixed(2)}%`]})]}),Nr.percentageChanges.day2!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 2 Ngy"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Nr.percentageChanges.day2>=0?"positive":"negative"}`,children:[Nr.percentageChanges.day2>=0?"+":"",vr==="ton"?`${Nr.percentageChanges.day2.toFixed(2)} Tn`:`${Nr.percentageChanges.day2.toFixed(2)}%`]})]}),Nr.percentageChanges.day3!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 3 Ngy"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Nr.percentageChanges.day3>=0?"positive":"negative"}`,children:[Nr.percentageChanges.day3>=0?"+":"",vr==="ton"?`${Nr.percentageChanges.day3.toFixed(2)} Tn`:`${Nr.percentageChanges.day3.toFixed(2)}%`]})]}),Nr.percentageChanges.week1!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 1 Tun"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Nr.percentageChanges.week1>=0?"positive":"negative"}`,children:[Nr.percentageChanges.week1>=0?"+":"",vr==="ton"?`${Nr.percentageChanges.week1.toFixed(2)} Tn`:`${Nr.percentageChanges.week1.toFixed(2)}%`]})]}),Nr.percentageChanges.month1!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 1 Thng"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Nr.percentageChanges.month1>=0?"positive":"negative"}`,children:[Nr.percentageChanges.month1>=0?"+":"",vr==="ton"?`${Nr.percentageChanges.month1.toFixed(2)} Tn`:`${Nr.percentageChanges.month1.toFixed(2)}%`]})]}),Nr.percentageChanges.month6!==null&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Trong 6 Thng"}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Nr.percentageChanges.month6>=0?"positive":"negative"}`,children:[Nr.percentageChanges.month6>=0?"+":"",vr==="ton"?`${Nr.percentageChanges.month6.toFixed(2)} Tn`:`${Nr.percentageChanges.month6.toFixed(2)}%`]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-right-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-time-range",children:[["7","30","90","365","all"].map(Hr=>jsxRuntimeExports.jsxs("button",{className:`time-range-btn ${cr===Hr?"active":""}`,onClick:()=>Fr(Hr),children:[Hr==="7"&&"7 ngy",Hr==="30"&&"30 ngy",Hr==="90"&&"90 ngy",Hr==="365"&&"1 nm",Hr==="all"&&"Tt c"]},Hr)),jsxRuntimeExports.jsxs("div",{className:"comex-chart-type-dropdown",children:[jsxRuntimeExports.jsxs("button",{className:"chart-type-trigger",onClick:()=>yr(!gr),children:[jsxRuntimeExports.jsxs("span",{className:"chart-type-icon",children:[dr==="line"&&"",dr==="column"&&"",dr==="stackedBar"&&"",dr==="scatter"&&""]}),jsxRuntimeExports.jsxs("span",{className:"chart-type-label",children:[dr==="line"&&"Line Chart",dr==="column"&&"Column",dr==="stackedBar"&&"Stacked Bar",dr==="scatter"&&"Scatter"]}),jsxRuntimeExports.jsx("span",{className:"dropdown-arrow",children:""})]}),gr&&jsxRuntimeExports.jsxs("div",{className:"chart-type-menu",children:[jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${dr==="line"?"active":""}`,onClick:()=>{qr("line"),yr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Line Chart"]}),jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${dr==="column"?"active":""}`,onClick:()=>{qr("column"),yr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Column"]}),jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${dr==="stackedBar"?"active":""}`,onClick:()=>{qr("stackedBar"),yr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Stacked Bar"]}),jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${dr==="scatter"?"active":""}`,onClick:()=>{qr("scatter"),yr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Scatter"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:Nr.datasets.length>0?jsxRuntimeExports.jsx(Chart,{type:"line",data:Nr,options:Or}):jsxRuntimeExports.jsx("div",{className:"no-data",children:jsxRuntimeExports.jsxs("p",{children:["Khng c d liu cho ",or==="gold"?"vng":"bc"]})})})]})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_title,plugin_tooltip,plugin_legend,index);const containerStyle={background:"#0f172a",color:"#333",padding:"20px",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",minHeight:"100vh"},cardStyle={background:"rgba(30, 41, 59, 0.23)",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0)",marginBottom:"24px",color:"#f9fbfc"},tableHeaderStyle={padding:"16px",textAlign:"left",borderBottom:"1px solid #343638",color:"#ffffff",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},tableCellStyle={padding:"16px",borderBottom:"1px solid #606775",fontSize:"14px",fontWeight:"500",color:"#ffffff"},btnStyle={padding:"8px 16px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",transition:"background 0.2s"};function CFTC_Chart(){const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(!1),sr=reactExports.useRef(),[ar,or]=reactExports.useState(()=>{const yr=new Date;return{month:yr.getMonth()+1,year:yr.getFullYear()}});reactExports.useEffect(()=>{rr(!0);const yr=[];for(let jr=0;jr<1;jr++){let Sr=ar.month-jr,Tr=ar.year;Sr<=0&&(Sr+=12,Tr-=1),yr.push({month:Sr,year:Tr})}const vr=yr.map(jr=>`https://api_gold.thinkdiff.us/cftc_tuonglai_thang/${jr.month}/${jr.year}`);console.log(`[Fetch] ang gi API cho thng ${ar.month}/${ar.year}`),Promise.all(vr.map(jr=>fetch(jr).then(Sr=>Sr.json()))).then(jr=>{let Sr=[];jr.forEach(Lr=>{Lr.status==="success"&&Array.isArray(Lr.ketqua)&&(Sr=Sr.concat(Lr.ketqua))});const Tr=Sr.sort((Lr,Mr)=>new Date(Lr.day)-new Date(Mr.day));Hn(Tr),nr(null)}).catch(jr=>console.error("Error:",jr)).finally(()=>rr(!1))},[ar.month,ar.year]);const lr=yr=>{or(vr=>{let jr=vr.month+yr,Sr=vr.year;return jr>12?(jr=1,Sr+=1):jr<1&&(jr=12,Sr-=1),{month:jr,year:Sr}})},cr=(yr,vr)=>{const jr=yr?.find(Sr=>Sr.position_type===vr);return jr?jr.positions:0},ur=yr=>{const{current:vr}=sr;if(!vr)return;const jr=getElementAtEvent(vr,yr);if(jr.length>0){const{index:Sr}=jr[0],Tr=tr[Sr];if(Tr){const Lr=[...(Tr.vang||[]).map(Fr=>({...Fr,commodity:"Vng"})),...(Tr.bac||[]).map(Fr=>({...Fr,commodity:"Bc"}))],Mr=["Vng","Bc"],Nr=[cr(Tr.vang,"Long"),cr(Tr.bac,"Long")],Or=[cr(Tr.vang,"Short"),cr(Tr.bac,"Short")];nr({date:Tr.day,tableData:Lr,chartData:{labels:Mr,long:Nr,short:Or}})}}},fr={labels:tr.map(yr=>{const vr=new Date(yr.day);return`${vr.getDate()}/${vr.getMonth()+1}`}),datasets:[{label:"Tng Hp ng Vng",data:tr.map(yr=>cr(yr.vang,"Long")+cr(yr.vang,"Short")),backgroundColor:"#fbbf24",borderRadius:4},{label:"Tng Hp ng Bc",data:tr.map(yr=>cr(yr.bac,"Long")+cr(yr.bac,"Short")),backgroundColor:"#94a3b8",borderRadius:4}]},gr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"#e5e7eb",borderWidth:1,padding:10,displayColors:!1,callbacks:{label:yr=>`${yr.parsed.y.toLocaleString()} Hp ng`}}},scales:{y:{beginAtZero:!0,grid:{color:"#f3f4f6",borderDash:[5,5]},ticks:{color:"#9ca3af"}},x:{grid:{display:!1},ticks:{color:"#4b5563",font:{weight:"bold"}}}},elements:{line:{tension:.4},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#fff"}}};return jsxRuntimeExports.jsxs("div",{style:containerStyle,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>lr(-1),style:btnStyle,children:" Thng trc"}),jsxRuntimeExports.jsxs("h2",{style:{margin:0,color:"#fcfdfd"},children:["LNG LU TR CA CFTC VNG BC - Thng ",ar.month,"/",ar.year]}),jsxRuntimeExports.jsx("button",{onClick:()=>lr(1),style:btnStyle,children:"Thng sau "})]}),jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsx("h3",{style:{margin:"0 0 16px 0",color:"#f5f5f5"},children:"Lch s giao dch"}),jsxRuntimeExports.jsx("div",{style:{height:"300px"},children:jsxRuntimeExports.jsx(Bar$1,{ref:sr,data:fr,options:{maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},onClick:ur})})]}),er&&jsxRuntimeExports.jsxs("div",{className:"detail-section",children:[jsxRuntimeExports.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:jsxRuntimeExports.jsxs("span",{style:{background:"#dbeafe",color:"#1e40af",padding:"6px 16px",borderRadius:"20px",fontWeight:"bold",fontSize:"14px"},children:["D liu ngy: ",er.date]})}),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsx("h4",{style:{margin:"0 0 12px 0",color:"#3b82f6",fontSize:"16px"},children:"V th Mua (Long)"}),jsxRuntimeExports.jsx("div",{style:{height:"250px"},children:jsxRuntimeExports.jsx(Line,{data:{labels:er.chartData.labels,datasets:[{data:er.chartData.long,borderColor:"#3b82f6",backgroundColor:yr=>{const jr=yr.chart.ctx.createLinearGradient(0,0,0,250);return jr.addColorStop(0,"rgba(59, 130, 246, 0.4)"),jr.addColorStop(1,"rgba(59, 130, 246, 0.0)"),jr},fill:!0,pointBorderColor:"#3b82f6"}]},options:gr})})]}),jsxRuntimeExports.jsxs("div",{style:cardStyle,children:[jsxRuntimeExports.jsx("h4",{style:{margin:"0 0 12px 0",color:"#6366f1",fontSize:"16px"},children:"V th Bn (Short)"}),jsxRuntimeExports.jsx("div",{style:{height:"250px"},children:jsxRuntimeExports.jsx(Line,{data:{labels:er.chartData.labels,datasets:[{data:er.chartData.short,borderColor:"#6366f1",backgroundColor:yr=>{const jr=yr.chart.ctx.createLinearGradient(0,0,0,250);return jr.addColorStop(0,"rgba(99, 102, 241, 0.4)"),jr.addColorStop(1,"rgba(99, 102, 241, 0.0)"),jr},fill:!0,pointBorderColor:"#6366f1"}]},options:gr})})]})]}),jsxRuntimeExports.jsxs("div",{style:{...cardStyle,padding:"0",overflow:"hidden"},children:[jsxRuntimeExports.jsx("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",background:"#1c1f22"},children:jsxRuntimeExports.jsx("h4",{style:{margin:0,color:"#dadde3"},children:"Bng chi tit s liu"})}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{background:"#1a1b1d"},children:[jsxRuntimeExports.jsx("th",{style:tableHeaderStyle,children:"Hng ha"}),jsxRuntimeExports.jsx("th",{style:tableHeaderStyle,children:"Loi V th"}),jsxRuntimeExports.jsx("th",{style:{...tableHeaderStyle,textAlign:"right"},children:"S lng"}),jsxRuntimeExports.jsx("th",{style:{...tableHeaderStyle,textAlign:"right"},children:"Thay i"}),jsxRuntimeExports.jsx("th",{style:{...tableHeaderStyle,textAlign:"right"},children:"K trc"})]})}),jsxRuntimeExports.jsx("tbody",{children:er.tableData.map((yr,vr)=>jsxRuntimeExports.jsxs("tr",{style:{":hover":{background:"#f9fafb"}},children:[jsxRuntimeExports.jsx("td",{style:{...tableCellStyle,color:yr.commodity==="Vng"?"#e3a155":"#c6d0de",fontWeight:"bold"},children:yr.commodity}),jsxRuntimeExports.jsx("td",{style:tableCellStyle,children:yr.position_type==="Long"?jsxRuntimeExports.jsx("span",{style:{color:"#2563eb",background:"#dbeafe",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:"MUA"}):yr.position_type==="Short"?jsxRuntimeExports.jsx("span",{style:{color:"#dc2626",background:"#fee2e2",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:"BN"}):"RNG"}),jsxRuntimeExports.jsx("td",{style:{...tableCellStyle,textAlign:"right",fontWeight:"bold"},children:Number(yr.positions).toLocaleString()}),jsxRuntimeExports.jsxs("td",{style:{...tableCellStyle,textAlign:"right",color:yr.change_val>0?"#16a34a":yr.change_val<0?"#dc2626":"#9ca3af"},children:[yr.change_val>0?"+":"",Number(yr.change_val).toLocaleString()]}),jsxRuntimeExports.jsx("td",{style:{...tableCellStyle,textAlign:"right",color:"#6b7280"},children:Number(yr.positions_prev).toLocaleString()})]},vr))})]})})]})]})]})}Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_tooltip,plugin_legend,index);const SHFEChart=()=>{const tr=useNavigate(),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState(null),[rr,sr]=reactExports.useState([]),[ar,or]=reactExports.useState([]),[lr,cr]=reactExports.useState("1M"),ur=(Gr,qr)=>{const Hr=new Date(Gr);return qr==="1W"||qr==="1M"?`${Hr.getDate()}/${Hr.getMonth()+1}`:qr==="1Y"?`${Hr.getMonth()+1}/${Hr.getFullYear()}`:typeof qr=="number"?`Thg ${Hr.getMonth()+1}`:Hr.getFullYear().toString()},dr=Gr=>{if(!rr.length)return;const qr=[...rr].sort((ro,io)=>ro.time-io.time),Hr=new Date(qr[qr.length-1].time);let Yr=[];if(Gr==="ALL")Yr=qr;else if(Gr==="1W"){const ro=new Date(Hr);ro.setDate(ro.getDate()-7),Yr=qr.filter(io=>new Date(io.time)>=ro)}else if(Gr==="1M"){const ro=new Date(Hr);ro.setMonth(ro.getMonth()-1),Yr=qr.filter(io=>new Date(io.time)>=ro)}else if(Gr==="1Y"){const ro=new Date(Hr);ro.setFullYear(ro.getFullYear()-1),Yr=qr.filter(io=>new Date(io.time)>=ro)}else typeof Gr=="number"&&(Yr=qr.filter(ro=>new Date(ro.time).getFullYear()===Gr));cr(Gr),or(Yr)};reactExports.useEffect(()=>{(async()=>{er(!0),ir(null);try{let qr=new Date,Hr=null,Yr=0;const ro=7;for(;!Hr&&Yr<ro;){const bo=String(qr.getDate()).padStart(2,"0"),Po=String(qr.getMonth()+1).padStart(2,"0"),wo=qr.getFullYear(),To=`${bo}_${Po}_${wo}`;try{const Fo=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${To}`);if(Fo.ok){const Co=await Fo.json();if(Co&&Array.isArray(Co.data)&&Co.data.length>0){Hr=Co;break}}}catch{console.warn(`Ngy ${To} khng c d liu hoc li kt ni.`)}qr.setDate(qr.getDate()-1),Yr++}if(!Hr)throw new Error("Khng tm thy d liu trong 7 ngy gn nht.");const fo=Hr.data.reduce((bo,Po)=>{const wo=new Date(bo.modified_time.split("/").reverse().join("-"));return new Date(Po.modified_time.split("/").reverse().join("-"))>wo?Po:bo}).link.split("/").pop().replace(".json",""),[ao,Jr,uo,oo,co]=fo.split("_").map(bo=>parseInt(bo,10)),no=getVang247FileUrl(ao,Jr,uo,oo,co);if(!no)throw new Error("URL file khng hp l");const Eo=(await fetchVang247SingleFile(no)).data?.bieudo?.[4]?.data;if(!Eo||!Eo.length)throw new Error("File SHFE khng c d liu biu ");sr(Eo)}catch(qr){ir(qr.message||"Li khi ti d liu")}finally{er(!1)}})()},[]),reactExports.useEffect(()=>{rr.length&&dr("1M")},[rr]);const fr=reactExports.useMemo(()=>{const Gr=rr.map(qr=>new Date(qr.time).getFullYear());return[...new Set(Gr)].sort((qr,Hr)=>qr-Hr)},[rr]),gr=reactExports.useMemo(()=>ar.length?{labels:ar.map(Gr=>ur(Gr.time,lr)),datasets:[{label:"SHFE",data:ar.map(Gr=>Gr.usd),borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",fill:!0,tension:.4,pointRadius:0}]}:null,[ar,lr]),yr=Gr=>{if(!Gr||!Gr.length)return null;const qr=Gr[Gr.length-1];return{usd:qr.usd,time:qr.time}},vr=reactExports.useMemo(()=>yr(ar),[ar]);function jr(){const Gr=new Date;return new Date(Gr.getFullYear(),Gr.getMonth()+1,0).getDate()}const Sr=jr(),Tr=[{label:"1 ngy",days:1},{label:"2 ngy",days:2},{label:"3 ngy",days:3},{label:"1 tun",days:7},{label:"1 thng",days:Sr},{label:"6 thng",days:Sr*6}],Lr=(Gr,qr)=>{if(!Gr||!Gr.length)return null;const Hr=new Date(qr);Hr.setHours(0,0,0,0);const Yr=Gr.filter(ro=>{const io=new Date(ro.time);return io.setHours(0,0,0,0),io.getTime()===Hr.getTime()});return Yr.length?Yr[Yr.length-1]:null},Mr=reactExports.useMemo(()=>{if(!rr.length)return[];const Gr=[...rr].sort((ro,io)=>ro.time-io.time),qr=Gr[Gr.length-1],Hr=new Date(qr.time),Yr=Lr(Gr,Hr);return Yr?Tr.map(ro=>{const io=new Date(Hr);io.setDate(io.getDate()-ro.days);const fo=Lr(Gr,io);if(!fo)return null;const ao=Yr.usd-fo.usd,Jr=ao/fo.usd*100;return{label:ro.label,diff:ao,percent:Jr,fromUsd:fo.usd,toUsd:Yr.usd}}).filter(Boolean):[]},[rr]),Nr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{callbacks:{title:Gr=>{const qr=ar[Gr[0].dataIndex];return new Date(qr.time).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})},label:Gr=>{const qr=ar[Gr.dataIndex],Hr=qr.value;return[`Gi: ${qr.usd.toFixed(2)} USD`,`Value: ${Hr}`]}}}},scales:{y:{ticks:{callback:Gr=>`$${Gr}`,color:"#f59e0b"},title:{display:!0,text:"USD",color:"#f59e0b"},beginAtZero:!0,min:0},x:{ticks:{color:"#fff"}}}};if(Hn)return jsxRuntimeExports.jsx("div",{children:"ang ti SHFE..."});if(nr)return jsxRuntimeExports.jsxs("div",{children:["Li: ",nr]});if(!gr)return jsxRuntimeExports.jsx("div",{children:"Khng c d liu"});const Or=window.innerWidth<768,Fr=window.innerWidth<=480;return jsxRuntimeExports.jsxs("div",{style:{width:"100%",padding:Fr?2:Or?8:16,boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center",marginBottom:Fr?4:Or?16:30,cursor:"pointer",fontSize:Fr?"10px":Or?"16px":"24px",margin:Fr?"2px 0":Or?"12px 0":"0 0 30px 0"},onClick:()=>tr("/chart/XOJ26"),children:"SHFE Silver Apr '26 (XOJ26) - Giao Dch Bc Tng Lai 26-Thng 4-2026"}),jsxRuntimeExports.jsx("div",{style:{background:"rgba(15, 23, 42, 0.55)",borderRadius:Fr?6:Or?12:18,padding:Fr?2:Or?12:24,border:"1px solid rgba(245, 158, 11, 0.15)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.35)"},children:jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:Or?"1fr":"1fr 1fr",gap:Fr?2:Or?16:28,marginTop:Fr?2:Or?12:20,position:"relative"},children:[!Or&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:"50%",width:1,background:"linear-gradient(to bottom, transparent, rgba(245, 158, 11, 0.25), transparent)",transform:"translateX(-50%)",pointerEvents:"none"}}),jsxRuntimeExports.jsx("div",{style:{background:"transparent"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[vr&&jsxRuntimeExports.jsxs("div",{style:{width:"100%",padding:Fr?4:Or?12:16,background:"linear-gradient(135deg, rgba(45, 45, 10, 0.55), rgba(15, 23, 42, 0.55))",border:"1px solid rgba(245, 158, 11, 0.35)",borderRadius:Fr?4:Or?10:14,marginBottom:Fr?4:Or?12:16,display:"flex",flexDirection:"column",alignItems:"center",gap:Fr?2:6,boxShadow:"inset 0 0 0 1px rgba(255, 255, 255, 0.03)"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:Fr?8:Or?12:15,fontWeight:500,color:"#9ca3af",textAlign:"center"},children:"Gi USD cui ngy"}),jsxRuntimeExports.jsxs("div",{style:{fontSize:Fr?12:Or?20:26,fontWeight:800,color:"#f59e0b",letterSpacing:"0.5px",textShadow:"0 0 14px rgba(245, 158, 11, 0.45)"},children:[vr.usd.toFixed(2)," ",jsxRuntimeExports.jsx("span",{style:{fontSize:Fr?8:Or?12:16,fontWeight:500,color:"#9ca3af",marginLeft:4},children:"USD"})]}),jsxRuntimeExports.jsx("div",{style:{fontSize:Fr?7:Or?11:15,color:"#9ca3af",opacity:.9,textAlign:"center"},children:new Date(vr.time).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})})]}),jsxRuntimeExports.jsxs("div",{style:{width:"100%"},children:[jsxRuntimeExports.jsx("label",{style:{color:"#fff3b0",fontSize:Fr?9:Or?14:18,fontWeight:600,margin:Fr?"2px 0":Or?"8px 0":"14px 0",display:"block",textAlign:"center"},children:"T l thay i"}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:Fr?"repeat(2, 1fr)":Or?"repeat(auto-fit, minmax(100px, 1fr))":"repeat(auto-fit, minmax(140px, 1fr))",gap:Fr?3:Or?10:14,width:"100%",padding:Fr?4:Or?12:18,background:"rgba(30, 41, 59, 0.45)",border:"1px solid rgba(245, 158, 11, 0.25)",borderRadius:Fr?4:Or?10:14},children:Mr.map(Gr=>{const qr=Gr.percent>=0;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:Fr?"3px 4px":Or?"10px 8px":"14px 12px",background:"rgba(15, 23, 42, 0.45)",borderRadius:Fr?4:Or?8:12,border:"1px solid rgba(245, 158, 11, 0.25)",transition:"all 0.25s ease",cursor:"pointer"},onMouseEnter:Hr=>{Hr.currentTarget.style.transform="translateY(-2px)",Hr.currentTarget.style.borderColor="rgba(245, 158, 11, 0.6)"},onMouseLeave:Hr=>{Hr.currentTarget.style.transform="translateY(0)",Hr.currentTarget.style.borderColor="rgba(245, 158, 11, 0.25)"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:Fr?6:Or?10:12,color:"#9ca3af",marginBottom:Fr?1:Or?4:6},children:Gr.label}),jsxRuntimeExports.jsxs("div",{style:{fontSize:Fr?8:Or?14:18,fontWeight:700,color:qr?"#22c55e":"#ef4444"},children:[Gr.percent.toFixed(2)," %"]})]},Gr.label)})})]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:Fr?2:Or?6:8,marginTop:Fr?4:Or?12:20,marginBottom:Fr?2:Or?8:12,flexWrap:"wrap",justifyContent:"center",width:"100%"},children:["1W","1M","1Y","ALL"].map(Gr=>jsxRuntimeExports.jsx("button",{onClick:()=>dr(Gr),style:{padding:Fr?"3px 5px":Or?"6px 10px":"8px 15px",margin:Fr?"1px":Or?"3px":"5px",borderRadius:"8px",border:"none",cursor:"pointer",background:lr===Gr?"#f59e0b":"#494A50",color:lr===Gr?"#000":"#FFF",fontWeight:lr===Gr?"bold":"normal",fontSize:Fr?"7px":Or?"12px":"14px",transition:"all 0.3s ease"},children:Gr},Gr))}),fr.length>0&&jsxRuntimeExports.jsxs("div",{style:{width:"100%",padding:Fr?"0 2px":Or?"0 8px":"0 12px",textAlign:"center",marginTop:Fr?2:Or?8:12},children:[jsxRuntimeExports.jsx("input",{type:"range",min:Math.min(...fr),max:Math.max(...fr),value:typeof lr=="number"?lr:fr[0],onChange:Gr=>dr(Number(Gr.target.value)),style:{width:"100%"}}),jsxRuntimeExports.jsxs("div",{style:{marginTop:Fr?2:Or?4:8,fontWeight:"bold",color:"#f59e0b",fontSize:Fr?"8px":Or?"12px":"14px"},children:["Nm: ",lr]})]})]})}),jsxRuntimeExports.jsx("div",{style:{background:"transparent"},children:jsxRuntimeExports.jsx("div",{style:{height:Fr?"120px":Or?"300px":"520px",width:"100%",padding:Fr?2:Or?10:20},children:jsxRuntimeExports.jsx(Line,{data:gr,options:Nr})})})]})})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_tooltip,plugin_legend,TimeScale);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend,index,plugin$1,annotation);const FomoGoldSilverChart=()=>{const[tr,Hn]=reactExports.useState("silver"),[er,nr]=reactExports.useState("30d"),[ir,rr]=reactExports.useState(!1),[sr,ar]=reactExports.useState("line"),[or,lr]=reactExports.useState({labels:[],datasets:[]}),[cr,ur]=reactExports.useState({labels:[],datasets:[]}),[dr,fr]=reactExports.useState({high:0,low:0,current:0}),[gr,yr]=reactExports.useState({day1:0,day2:0,day3:0,week1:0,month1:0,month6:0}),[vr,jr]=reactExports.useState(!0),[Sr,Tr]=reactExports.useState({gold:[],silver:[]}),Lr=reactExports.useRef(null),Mr=reactExports.useRef(null),Nr=Hr=>{try{return format$1(new Date(Hr),"dd/MM")}catch{return Hr}};reactExports.useEffect(()=>{(async()=>{try{jr(!0);const ro=(await axios.get("https://api_gold.thinkdiff.us/FOMO_history_vang_bac")).data;Tr({silver:ro.chi_so_fomo_bac||[],gold:ro.chi_so_fomo_vang||[]}),jr(!1)}catch(Yr){console.error("Error fetching data:",Yr),jr(!1)}})()},[]),reactExports.useEffect(()=>{const Hr=tr==="silver"?Sr.silver:Sr.gold;if(!Hr||Hr.length===0){lr({labels:[],datasets:[]}),ur({labels:[],datasets:[]});return}const Yr=[...Hr].sort((Co,Go)=>new Date(Co.datatime)-new Date(Go.datatime)),ro=tr==="silver"?"fomo_bac":"fomo_vang",io=tr==="silver"?"gia_bac_kitco":"gia_vang_kitco",fo=Yr.map(Co=>typeof Co[ro]=="number"?Co[ro]:0),ao=Yr[Yr.length-1],Jr=new Date(ao.datatime).getTime(),uo=ao[ro]||0;fr({high:Math.max(...fo),low:Math.min(...fo),current:uo});const oo=Co=>{const Go=Jr-Co*24*60*60*1e3;return Yr.reduce((Lo,Uo)=>{const $o=new Date(Lo.datatime).getTime(),il=new Date(Uo.datatime).getTime();return Math.abs(il-Go)<Math.abs($o-Go)?Uo:Lo})[ro]||0},co=Co=>{const Go=oo(Co);return!Go||Go===0?0:(uo-Go)/Go*100};yr({day1:co(1),day2:co(2),day3:co(3),week1:co(7),month1:co(30),month6:co(180)});const no=new Date;let mo;switch(er){case"7d":mo=subDays(no,7);break;case"30d":mo=subDays(no,30);break;case"90d":mo=subDays(no,90);break;case"1y":mo=subDays(no,365);break;default:mo=null}const Eo=mo?Yr.filter(Co=>isAfter(new Date(Co.datatime),mo)):Yr,bo=Eo.map(Co=>Nr(Co.datatime)),Po=Eo.map(Co=>Co[ro]||0),wo=Eo.map(Co=>Co[io]||0),To=Lr.current?.canvas;let Fo=null;To&&(Fo=To.getContext("2d").createLinearGradient(0,0,0,400),Fo.addColorStop(0,"rgba(59, 130, 246, 0.5)"),Fo.addColorStop(1,"rgba(59, 130, 246, 0.0)")),lr({labels:bo,datasets:[{type:sr,label:tr==="silver"?"Ch s FOMO Bc":"Ch s FOMO Vng",data:Po,borderColor:Co=>{const Go=Co.parsed?Co.parsed.y:null;if(sr==="line"){const el=Co.chart,{ctx:Lo,chartArea:Uo}=el;if(!Uo)return"#3b82f6";const $o=el.scales.y,il=Lo.createLinearGradient(0,Uo.bottom,0,Uo.top),pl=$o.getPixelForValue(80),ml=(Uo.bottom-pl)/(Uo.bottom-Uo.top);return ml<=0?"#3b82f6":ml>=1?"#ef4444":(il.addColorStop(0,"#3b82f6"),il.addColorStop(ml,"#3b82f6"),il.addColorStop(ml,"#ef4444"),il.addColorStop(1,"#ef4444"),il)}return Go>=80?"#ef4444":"#3b82f6"},backgroundColor:Co=>{const Go=Co.parsed?Co.parsed.y:null;return sr==="bar"?Go>=80?"rgba(239, 68, 68, 0.7)":"rgba(59, 130, 246, 0.7)":Fo||"rgba(59,130,246,0.2)"},borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6,pointHitRadius:10}]}),ur({labels:bo,datasets:[{type:sr,label:tr==="silver"?"Gi Bc (USD/oz)":"Gi Vng (USD/oz)",data:wo,borderColor:"#06b6d4",backgroundColor:"rgba(6, 182, 212, 0.2)",borderWidth:2,pointRadius:0,pointHoverRadius:6,fill:!0,tension:.4}]})},[tr,er,Sr,sr]),reactExports.useEffect(()=>{const Hr=setTimeout(()=>{Lr.current?.resetZoom(),Mr.current?.resetZoom()},0);return()=>clearTimeout(Hr)},[or,cr]);const Or={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#e0e7ff",bodyColor:"#cbd5e1",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1},zoom:er!=="7d"?{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy"},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}:void 0},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af",maxTicksLimit:8}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af"},position:"right",beginAtZero:!0,min:0}},interaction:{mode:"nearest",axis:"x",intersect:!1}},Fr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},annotation:{annotations:{line80:{type:"line",yMin:80,yMax:80,borderColor:"rgba(239, 68, 68, 0.8)",borderWidth:2,borderDash:[6,6],label:{display:!0,content:"Qu mc mua",position:"end",backgroundColor:"rgba(239, 68, 68, 0.8)",font:{size:10}}}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#e0e7ff",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,callbacks:{labelTextColor:Hr=>{const Yr=Hr.parsed.y;return Yr>=80?"#ef4444":Yr<=20?"#22c55e":"#e5e7eb"},label:Hr=>{const Yr=Hr.parsed.y;let ro=Yr>=80?"(Qu mua)":Yr<=20?"(Qu bn)":"";return`Ch s FOMO: ${Yr.toFixed(1)}% ${ro}`}}},zoom:er!=="7d"?{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy"},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}:void 0},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af",maxTicksLimit:8}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af"},position:"right",min:0,max:130,grace:"5%"}},interaction:{mode:"nearest",axis:"x",intersect:!0}},Gr=Hr=>{ar(Hr)},qr=(Hr,Yr)=>{const ro=typeof Yr=="number"?Yr:0;return jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("div",{className:"percentage-label",children:Hr}),jsxRuntimeExports.jsxs("div",{className:`percentage-value ${ro>=0?"positive":"negative"}`,children:[ro>0?"+":"",ro.toFixed(2),"%"]})]})};return jsxRuntimeExports.jsxs("div",{className:"fomo-inventory-container",children:[jsxRuntimeExports.jsx(Link,{to:"/fomo-vang-bac",children:jsxRuntimeExports.jsxs("div",{className:"fomo-inventory-header",children:[jsxRuntimeExports.jsx("h2",{children:"Theo di Th trng Vng & Bc"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Ch s FOMO v Gi th gii (USD) theo thi gian thc"})]})}),jsxRuntimeExports.jsxs("div",{className:"fomo-tab-navigation",children:[jsxRuntimeExports.jsxs("button",{className:`tab-button ${tr==="gold"?"active":""}`,onClick:()=>Hn("gold"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon",children:""})," Vng (Gold)"]}),jsxRuntimeExports.jsxs("button",{className:`tab-button ${tr==="silver"?"active":""}`,onClick:()=>Hn("silver"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon",children:""})," Bc (Silver)"]})]}),jsxRuntimeExports.jsxs("div",{className:"fomo-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"fomo-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"fomo-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"FOMO Cao nht"}),jsxRuntimeExports.jsxs("span",{className:"summary-value",children:[dr.high.toFixed(2)," ",jsxRuntimeExports.jsx("span",{className:"unit-badge",children:"im"})]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"FOMO Thp nht"}),jsxRuntimeExports.jsxs("span",{className:"summary-value",children:[dr.low.toFixed(2)," ",jsxRuntimeExports.jsx("span",{className:"unit-badge",children:"im"})]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",style:{borderLeftColor:"#22c55e"},children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"FOMO Hin ti"}),jsxRuntimeExports.jsxs("span",{className:"summary-value",style:{color:dr.current>=80?"#ef4444":"#22c55e"},children:[dr.current.toFixed(2)," ",jsxRuntimeExports.jsx("span",{className:"unit-badge",children:"im"})]})]}),jsxRuntimeExports.jsxs("h3",{children:[tr==="silver"?"Bc":"Vng"," nguyn liu chnh quc t ",(dr?.current/10).toFixed(2)," triu"]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i FOMO"}),jsxRuntimeExports.jsxs("div",{className:"percentage-grid",children:[qr("Trong 1 ngy",gr.day1),qr("Trong 2 ngy",gr.day2),qr("Trong 3 ngy",gr.day3),qr("Trong 1 tun",gr.week1),qr("Trong 1 thng",gr.month1),qr("Trong 6 thng",gr.month6)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"fomo-right-column",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[jsxRuntimeExports.jsxs("div",{className:"latest-update-date",style:{margin:0,left:0,fontSize:"14px"},children:["Cp nht: ",or&&or?.labels.at(-1),"/",new Date().getFullYear()]}),jsxRuntimeExports.jsx("div",{className:"fomo-time-range",children:["7d","30d","90d","1y","all"].map(Hr=>jsxRuntimeExports.jsx("button",{className:`time-range-btn ${er===Hr?"active":""}`,onClick:()=>nr(Hr),children:Hr==="all"?"Tt c":Hr.toUpperCase()},Hr))})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs("h3",{style:{color:"#e0e7ff",fontSize:"18px",marginBottom:"10px"},children:["Biu  Ch s FOMO ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{fontSize:"10px",color:"lightcoral"},children:"Ln chut  zoom"})]}),jsxRuntimeExports.jsxs("div",{className:"fomo-chart-type-dropdown",children:[jsxRuntimeExports.jsxs("button",{className:"chart-type-trigger",onClick:()=>rr(!ir),children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:sr==="line"?"":""}),jsxRuntimeExports.jsx("span",{className:"chart-type-label",children:sr==="line"?"Line Chart":"Column"}),jsxRuntimeExports.jsx("span",{className:"dropdown-arrow",children:""})]}),ir&&jsxRuntimeExports.jsxs("div",{className:"chart-type-menu",children:[jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${sr==="line"?"active":""}`,onClick:()=>{Gr("line"),rr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Line Chart"]}),jsxRuntimeExports.jsxs("div",{className:`chart-type-option ${sr==="bar"?"active":""}`,onClick:()=>{Gr("bar"),rr(!1)},children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:""})," Column"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"fomo-chart-wrapper",style:{minHeight:"450px"},children:vr?jsxRuntimeExports.jsx("div",{children:"ang ti d liu..."}):or.datasets.length>0?jsxRuntimeExports.jsx(Chart,{ref:Lr,type:sr,data:or,options:Fr}):jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu FOMO"})}),jsxRuntimeExports.jsxs("h3",{style:{color:"#e0e7ff",fontSize:"18px",marginTop:"30px",marginBottom:"10px"},children:["Biu  Gi ",tr==="silver"?"Bc":"Vng"," (USD/oz)"]}),jsxRuntimeExports.jsx("div",{className:"fomo-chart-wrapper",style:{minHeight:"450px"},children:vr?jsxRuntimeExports.jsx("div",{children:"ang ti d liu..."}):cr.datasets.length>0?jsxRuntimeExports.jsx(Chart,{ref:Mr,type:sr,data:cr,options:Or}):jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu gi USD"})})]})]})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_tooltip,plugin_legend);const APIS={turnover:{url:"https://api_gold.thinkdiff.us/Volume_Shanghai_Future_Exchange",title:"Biu  China Turnover",subtitle:"Khi lng giao dch Bc - Thng Hi (SHFE)",label:"China Silver Turnover (SHFE)",unit:"Hp ng"},warehouse:{url:"https://api_gold.thinkdiff.us/Warehouse_Shanghai_Future_Exchange",title:"Biu  Tn Kho SHFE",subtitle:"Tn kho Bc - Kho lu tr Sn K hn Thng Hi (SHFE)",label:"China Silver Warehouse (SHFE)",unit:"Tn"}},ChinaSilverTurnover=()=>{const[tr,Hn]=reactExports.useState("warehouse"),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState("all");reactExports.useEffect(()=>{(async()=>{try{const Mr=await(await fetch(APIS[tr].url)).json(),Nr=Object.keys(Mr)[0],Or=Mr[Nr]||[];nr(Or)}catch(Lr){console.error("API error:",Lr)}})()},[tr]);const[sr,ar]=reactExports.useState(window.innerWidth<=768);reactExports.useEffect(()=>{const Tr=()=>{ar(window.innerWidth<=768)};return window.addEventListener("resize",Tr),()=>window.removeEventListener("resize",Tr)},[]);const or=reactExports.useMemo(()=>{if(!er.length)return null;const Tr=er.map(Yr=>Number(Yr.volume)),Lr=er[0],Mr=er.length>1?er[1]:null,Nr=Math.min(...Tr),Or=Math.max(...Tr),Fr=er.find(Yr=>Number(Yr.volume)===Nr),Gr=er.find(Yr=>Number(Yr.volume)===Or),qr=er[0].trade_date,Hr=er[er.length-1].trade_date;return{current:Lr,yesterday:Mr,minItem:Fr,maxItem:Gr,fromDate:Hr,toDate:qr}},[er]),lr=reactExports.useMemo(()=>{if(!er.length)return null;const Tr=er[0].trade_date,Lr=new Date(Tr),Nr=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][Lr.getDay()],Or=String(Lr.getDate()).padStart(2,"0"),Fr=String(Lr.getMonth()+1).padStart(2,"0"),Gr=Lr.getFullYear(),qr=String(Lr.getHours()).padStart(2,"0"),Hr=String(Lr.getMinutes()).padStart(2,"0"),Yr=String(Lr.getSeconds()).padStart(2,"0");return`${Nr}, ${Or}/${Fr}/${Gr} ${qr}:${Hr}:${Yr}`},[er]),cr=Tr=>Tr==null||isNaN(Tr)?"-":`${Number(Tr).toLocaleString()} ${APIS[tr].unit}`,ur=reactExports.useMemo(()=>{if(!er.length||ir==="all")return er;const Tr=new Date(er[0].trade_date),Mr={"7d":7,"1m":30}[ir];return Mr?er.filter(Nr=>{const Or=new Date(Nr.trade_date);return(Tr-Or)/(1e3*60*60*24)<=Mr}):er},[er,ir]),dr=Tr=>{const Lr=new Date(Tr),Nr=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][Lr.getDay()],Or=String(Lr.getDate()).padStart(2,"0"),Fr=String(Lr.getMonth()+1).padStart(2,"0"),Gr=Lr.getFullYear(),qr=String(Lr.getHours()).padStart(2,"0"),Hr=String(Lr.getMinutes()).padStart(2,"0");return`${Nr}, ${Or}/${Fr}/${Gr} ${qr}:${Hr}`},fr=reactExports.useMemo(()=>{const Tr=[...ur].sort((Lr,Mr)=>new Date(Lr.trade_date)-new Date(Mr.trade_date));return{labels:Tr.map(Lr=>dr(Lr.trade_date)),datasets:[{label:APIS[tr].label,data:Tr.map(Lr=>Number(Lr.volume)),borderColor:"rgba(192,192,192,1)",backgroundColor:"rgba(192,192,192,0.4)",pointRadius:2,tension:.3,fill:!0}]}},[ur,tr]),gr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:Tr=>`${Tr.dataset.label}: ${cr(Tr.raw)}`}}},scales:{x:{ticks:{autoSkip:!0,maxRotation:0}},y:{title:{display:!0,text:"Volume"},ticks:{callback:Tr=>(Tr*1e3).toLocaleString()}}}},yr=reactExports.useMemo(()=>{if(!er.length)return null;const Tr=Lr=>{if(er.length<=Lr)return null;const Mr=Number(er[0].volume),Nr=Number(er[Lr].volume);return Nr?(Mr-Nr)/Nr*100:null};return{day1:Tr(1),day2:Tr(2),day3:Tr(3),week1:Tr(7)}},[er]),vr=tr==="turnover",jr=vr?"hp ng":"tn",Sr=vr?"S hp ng":"Khi lng";return jsxRuntimeExports.jsxs("div",{className:"turnoverchinasilver-container",children:[jsxRuntimeExports.jsx("h2",{className:"turnoverchinasilver-title",children:APIS[tr].title}),jsxRuntimeExports.jsx("div",{className:"turnoverchinasilver-card",children:jsxRuntimeExports.jsxs("div",{className:`turnoverchinasilver-grid ${sr?"mobile":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"turnoverchinasilver-left",children:[jsxRuntimeExports.jsx("p",{className:"turnoverchinasilver-subtitle",children:APIS[tr].subtitle}),jsxRuntimeExports.jsxs("div",{className:"turnoverchinasilver-button-group",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Hn("turnover"),className:`turnoverchinasilver-btn ${tr==="turnover"?"active":""}`,children:"Turnover"}),jsxRuntimeExports.jsx("button",{onClick:()=>Hn("warehouse"),className:`turnoverchinasilver-btn ${tr==="warehouse"?"active":""}`,children:"Warehouse"})]}),lr&&jsxRuntimeExports.jsxs("div",{className:"turnoverchinasilver-update-box",children:[jsxRuntimeExports.jsx("span",{children:"D liu cp nht ln cui"}),jsxRuntimeExports.jsx("strong",{children:lr})]}),yr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h3",{className:"turnoverchinasilver-change-title",children:["T l thay i ",Sr]}),jsxRuntimeExports.jsx("div",{className:"turnoverchinasilver-change-grid",children:[{key:"day1",label:"1 ngy",value:yr.day1},{key:"day2",label:"2 ngy",value:yr.day2},{key:"day3",label:"3 ngy",value:yr.day3},{key:"week1",label:"1 tun",value:yr.week1}].map(Tr=>jsxRuntimeExports.jsxs("div",{className:"turnoverchinasilver-change-card",children:[jsxRuntimeExports.jsxs("span",{children:[Tr.label,": "]}),jsxRuntimeExports.jsxs("strong",{className:Tr.value>=0?"turnoverchinasilver-positive":"turnoverchinasilver-negative",children:[Tr.value>0?"+":"",Tr.value.toFixed(2)," %"]})]},Tr.key))}),jsxRuntimeExports.jsx("div",{className:"turnoverchinasilver-button-group",children:[{label:"7 ngy",value:"7d"},{label:"1 thng",value:"1m"},{label:"Tt c",value:"all"}].map(Tr=>jsxRuntimeExports.jsx("button",{onClick:()=>rr(Tr.value),className:`turnoverchinasilver-btn light ${ir===Tr.value?"turnoverchinasilver-active-green":""}`,children:Tr.label},Tr.value))})]})]}),jsxRuntimeExports.jsx("div",{className:"turnoverchinasilver-right",children:er.length?jsxRuntimeExports.jsx(Line,{data:fr,options:gr}):jsxRuntimeExports.jsx("p",{className:"turnoverchinasilver-loading",children:"Loading data..."})})]})}),or&&!sr&&jsxRuntimeExports.jsx("div",{className:"turnoverchinasilver-summary-table",children:jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Ch tiu"}),jsxRuntimeExports.jsxs("th",{children:["Gi tr (",jr,")"]}),jsxRuntimeExports.jsx("th",{children:"Ngy giao dch"}),jsxRuntimeExports.jsx("th",{children:"Khong thi gian"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[Sr," hin ti"]}),jsxRuntimeExports.jsxs("td",{children:[Number(or.current.volume).toLocaleString()," ",jr]}),jsxRuntimeExports.jsx("td",{children:dr(or.current.trade_date)}),jsxRuntimeExports.jsxs("td",{rowSpan:4,children:[dr(or.fromDate)," "," ",dr(or.toDate)]})]}),or.yesterday&&jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[Sr," hm qua"]}),jsxRuntimeExports.jsxs("td",{children:[Number(or.yesterday.volume).toLocaleString()," ",jr]}),jsxRuntimeExports.jsx("td",{children:dr(or.yesterday.trade_date)})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[Sr," Thp nht (Min)"]}),jsxRuntimeExports.jsxs("td",{children:[Number(or.minItem.volume).toLocaleString()," ",jr]}),jsxRuntimeExports.jsx("td",{children:dr(or.minItem.trade_date)})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[Sr," Cao nht (Max)"]}),jsxRuntimeExports.jsxs("td",{children:[Number(or.maxItem.volume).toLocaleString()," ",jr]}),jsxRuntimeExports.jsx("td",{children:dr(or.maxItem.trade_date)})]})]})]})})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_tooltip,plugin_legend,index);const RANGE_DAYS={"1d":1,"1w":7,"1m":30,"3m":90},MCXHistory=()=>{const[tr,Hn]=reactExports.useState({gold:[],silver:[]}),[er,nr]=reactExports.useState("1d"),[ir,rr]=reactExports.useState("silver"),[sr,ar]=reactExports.useState(1),[or,lr]=reactExports.useState(!1),cr=window.innerWidth<768,ur=ir==="gold"?"#FFD700":"#C0C0C0",dr=reactExports.useCallback(async()=>{lr(!0);try{const Lr=await(await fetch("https://api_gold.thinkdiff.us/groww_mcx_today_price_india")).json();ar(Number(Lr.tygia_INR_USD)||1),Hn({gold:(Lr?.data?.gold||[]).filter(Mr=>Mr.date),silver:(Lr?.data?.silver||[]).filter(Mr=>Mr.date)})}catch(Tr){console.error(Tr)}finally{setTimeout(()=>lr(!1),600)}},[]);reactExports.useEffect(()=>{dr()},[dr]);const fr=reactExports.useMemo(()=>{const Tr=tr[ir]||[],Lr=new Map;return Tr.forEach(Mr=>{Mr.date&&Lr.set(Mr.date,Mr)}),Array.from(Lr.values()).sort((Mr,Nr)=>new Date(Mr.date)-new Date(Nr.date))},[tr,ir]),gr=reactExports.useMemo(()=>{if(fr.length===0)return null;const Tr=fr[fr.length-1];return{date:Tr.date,price:(Number(Tr.close)*sr).toLocaleString(void 0,{minimumFractionDigits:2})}},[fr,sr]),yr=reactExports.useMemo(()=>{if(!fr.length)return[];const Tr=new Date(fr[fr.length-1].date);return fr.filter(Lr=>(Tr-new Date(Lr.date))/864e5<=RANGE_DAYS[er])},[fr,er]),vr=reactExports.useMemo(()=>{if(fr.length<2)return null;const Tr=Number(fr[fr.length-1].close)*sr,Lr=Mr=>{const Nr=Number(fr[fr.length-(Mr+1)]?.close)*sr;return Nr?(Tr-Nr)/Nr*100:0};return{d1:Lr(1),d2:Lr(2),d3:Lr(3),w1:Lr(7)}},[fr,sr]),jr={labels:yr.map(Tr=>{const Lr=new Date(Tr.date);return`${Lr.getDate()}/${Lr.getMonth()+1}`}),datasets:[{data:yr.map(Tr=>Number(Tr.close)*sr),borderColor:ur,backgroundColor:ir==="gold"?"rgba(255, 215, 0, 0.1)":"rgba(192, 192, 192, 0.1)",fill:!0,tension:.4,pointRadius:0,pointHitRadius:20,borderWidth:2}]},Sr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(15, 23, 42, 0.9)",callbacks:{title:Tr=>{const Lr=yr[Tr[0].dataIndex];return Lr?new Date(Lr.date).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}):""},label:Tr=>` Gi: ${Tr.parsed.y.toLocaleString(void 0,{minimumFractionDigits:2})}`}}},scales:{x:{ticks:{font:{size:cr?8:10},color:"#94a3b8"},grid:{display:!1}},y:{position:"right",ticks:{font:{size:cr?8:10},color:"#94a3b8"},grid:{color:"rgba(255,255,255,0.05)"}}}};return jsxRuntimeExports.jsxs("div",{className:"mcx-full-container",children:[jsxRuntimeExports.jsxs("div",{className:"mcx-header-full",children:[jsxRuntimeExports.jsxs("div",{className:"mcx-title-box",style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0},children:"Gi MCX n "}),jsxRuntimeExports.jsxs("div",{className:"mcx-tabs",style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx("button",{className:ir==="gold"?"active":"",onClick:()=>rr("gold"),children:"Gold"}),jsxRuntimeExports.jsx("button",{className:ir==="silver"?"active":"",onClick:()=>rr("silver"),children:"Silver"}),gr&&jsxRuntimeExports.jsxs("span",{style:{fontSize:cr?"10px":"12px",color:"#fff",marginLeft:"8px",whiteSpace:"nowrap"},children:["Cp nht: ",jsxRuntimeExports.jsx("span",{style:{color:"#1bb553"},children:new Date(gr.date).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})}),jsxRuntimeExports.jsxs("span",{style:{marginLeft:"10px",color:ur,fontWeight:"bold"},children:["Gi: ",gr.price,"$"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mcx-range-tabs",style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx("button",{className:`mcx-reload-btn ${or?"loading":""}`,onClick:dr,disabled:or,style:{fontSize:cr?"10px":"12px",padding:"0 12px",height:"32px",backgroundColor:"transparent",color:"#94a3b8",border:"1px solid #334155",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:or?"ang ti...":"Reload D liu"}),["1d","1w","1m","3m"].map(Tr=>jsxRuntimeExports.jsx("button",{className:er===Tr?"active":"",onClick:()=>nr(Tr),children:Tr.toUpperCase()},Tr))]})]}),jsxRuntimeExports.jsxs("div",{className:"mcx-main-layout-full",children:[jsxRuntimeExports.jsxs("div",{className:"mcx-stats-grid",children:[jsxRuntimeExports.jsx("p",{className:"grid-label",children:"THAY I"}),jsxRuntimeExports.jsx("div",{className:"stats-2x2",children:vr&&[{label:"1 Ngy",val:vr.d1},{label:"2 Ngy",val:vr.d2},{label:"3 Ngy",val:vr.d3},{label:"1 Tun",val:vr.w1}].map((Tr,Lr)=>jsxRuntimeExports.jsxs("div",{className:`stat-card-v2 ${Tr.val>=0?"positive":"negative"}`,children:[jsxRuntimeExports.jsx("span",{className:"s-label",children:Tr.label}),jsxRuntimeExports.jsxs("span",{className:"s-value",children:[Tr.val>=0?"+":"",Tr.val.toFixed(2),"%"]})]},Lr))})]}),jsxRuntimeExports.jsx("div",{className:"mcx-chart-full-width",children:jsxRuntimeExports.jsx("div",{className:"chart-wrapper",children:jsxRuntimeExports.jsx(Line,{data:jr,options:Sr})})})]})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend);function SGEPriceHistoryChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState("gold"),[ir,rr]=reactExports.useState("30"),[sr,ar]=reactExports.useState("line"),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!0),[dr,fr]=reactExports.useState(null),[gr,yr]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{ur(!0);const Fr=await(await fetch("https://api_gold.thinkdiff.us/SGE_SILVER_GOLD_HISTORY")).json(),Gr=er==="gold"?Fr.list_item_json_vang:Fr.list_item_json_bac;if(Array.isArray(Gr)&&Gr.length>0){const qr=Gr.reduce((Yr,ro)=>new Date(ro.ngay_giao_dich)>new Date(Yr.ngay_giao_dich)?ro:Yr),Hr=new Date(qr.ngay_giao_dich);yr(Hr.toLocaleDateString("vi-VN"))}Hn(Fr)}catch(Or){console.error(Or),fr("Khng ti c d liu SGE")}finally{ur(!1)}})()},[]);const vr=reactExports.useMemo(()=>{if(!tr)return[];const Nr=er==="gold"?tr.list_item_json_vang:tr.list_item_json_bac;return Array.isArray(Nr)?[...Nr].sort((Or,Fr)=>new Date(Or.ngay_giao_dich)-new Date(Fr.ngay_giao_dich)):[]},[tr,er]),jr=reactExports.useMemo(()=>{if(ir==="all")return vr;const Nr=parseInt(ir,10);return vr.slice(-Nr)},[vr,ir]);reactExports.useMemo(()=>{const Nr=jr.map(Fr=>{const Gr=new Date(Fr.ngay_giao_dich);return`${Gr.getDate()}/${Gr.getMonth()+1}/${Gr.getFullYear()}`}),Or=sr==="column";return{labels:Nr,datasets:[{label:"Gi sng",data:jr.map(Fr=>Number(Fr.gia_sang)),borderColor:"#10b981",backgroundColor:Or?"rgba(16, 185, 129, 0.6)":"rgba(16, 185, 129, 0.25)",tension:.3,pointRadius:0,borderWidth:Or?0:2,fill:!Or},{label:"Gi chiu",data:jr.map(Fr=>Number(Fr.gia_chieu)),borderColor:"#f59e0b",backgroundColor:Or?"rgba(245, 158, 11, 0.6)":"rgba(245, 158, 11, 0.25)",tension:.3,pointRadius:0,borderWidth:Or?0:2,fill:!Or}]}},[jr,sr]);const Sr=reactExports.useMemo(()=>{const Nr=jr.map(Fr=>{const Gr=new Date(Fr.ngay_giao_dich);return`${Gr.getDate()}/${Gr.getMonth()+1}/${Gr.getFullYear()}`}),Or=sr==="column";return{labels:Nr,datasets:[{label:"USD sng / ounce",data:jr.map(Fr=>Number(Fr.usd_1ounce_sang)),borderColor:"#3b82f6",backgroundColor:Or?"rgba(59, 130, 246, 0.6)":"rgba(59, 130, 246, 0.25)",tension:.3,pointRadius:0,borderWidth:Or?0:2,fill:!Or},{label:"USD chiu / ounce",data:jr.map(Fr=>Number(Fr.usd_1ounce_chieu)),borderColor:"#ef4444",backgroundColor:Or?"rgba(239, 68, 68, 0.6)":"rgba(239, 68, 68, 0.25)",tension:.3,pointRadius:0,borderWidth:Or?0:2,fill:!Or}]}},[jr,sr]),Tr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:Nr=>`${Nr.dataset.label}: ${Nr.parsed.y.toLocaleString()}`}}},scales:{y:{ticks:{callback:Nr=>Nr.toLocaleString()},beginAtZero:!0,min:0}}},Lr=reactExports.useMemo(()=>{if(!vr||vr.length===0)return null;const Nr=vr.map(qr=>({date:new Date(qr.ngay_giao_dich).getTime(),price:Number(qr.gia_chieu)})).filter(qr=>Number.isFinite(qr.price)).sort((qr,Hr)=>qr.date-Hr.date);if(Nr.length===0)return null;const Or=Nr[Nr.length-1],Fr=qr=>{const Hr=Or.date-qr*24*60*60*1e3;for(let Yr=Nr.length-2;Yr>=0;Yr--)if(Nr[Yr].date<=Hr)return Nr[Yr];return null},Gr=qr=>{const Hr=Fr(qr);return!Hr||Hr.price===0?0:(Or.price-Hr.price)/Hr.price*100};return{maxValue:Math.max(...Nr.map(qr=>qr.price)),minValue:Math.min(...Nr.map(qr=>qr.price)),currentValue:Or.price,percentageChanges:{day1:Gr(1),day2:Gr(2),day3:Gr(3),day7:Gr(7),month1:Gr(30),month6:Gr(180)}}},[vr]),Mr=[{label:"7D",value:"7"},{label:"30D",value:"30"},{label:"90D",value:"90"},{label:"1Y",value:"365"},{label:"Tt c",value:"all"}];return cr?jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."}):dr?jsxRuntimeExports.jsx("p",{children:dr}):jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsxs("div",{className:"comex-inventory-header header-row ",children:[jsxRuntimeExports.jsxs("div",{className:"header-left",children:[jsxRuntimeExports.jsx("h2",{children:"SGE Gold & Silver Price"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Lch s gi vng & bc SGE"})]}),gr&&jsxRuntimeExports.jsxs("div",{className:"header-right",children:[jsxRuntimeExports.jsx("label",{className:"last-updated-label",children:"Cp nht ln cui:"}),jsxRuntimeExports.jsx("span",{className:"last-updated",children:gr})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-tab-navigation",children:[jsxRuntimeExports.jsxs("button",{className:`tab-button ${er==="gold"?"active":""}`,onClick:()=>nr("gold"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon gold-icon",children:""}),"SGE Gold"]}),jsxRuntimeExports.jsxs("button",{className:`tab-button ${er==="silver"?"active":""}`,onClick:()=>nr("silver"),children:[jsxRuntimeExports.jsx("span",{className:"tab-icon silver-icon",children:""}),"SGE Silver"]})]}),Lr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"comex-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi cao nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Lr.maxValue.toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi thp nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Lr.minValue.toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",style:{color:"#22c55e"},children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Gi hin ti:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",style:{color:"#22c55e"},children:Lr.currentValue.toLocaleString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i gi"}),jsxRuntimeExports.jsx("div",{className:"percentage-grid",children:[{key:"day1",label:"Trong 1 ngy"},{key:"day2",label:"Trong 2 ngy"},{key:"day3",label:"Trong 3 ngy"},{key:"day7",label:"Trong 1 tun"},{key:"month1",label:"Trong 1 thng"},{key:"month6",label:"Trong 6 thng"}].map(Nr=>{const Or=Lr.percentageChanges[Nr.key];return jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:Nr.label}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Or>=0?"positive":"negative"}`,children:[Or>=0?"+":"-",Or.toFixed(2),"%"]})]},Nr.key)})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-right-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-time-range",children:[Mr.map(({label:Nr,value:Or})=>jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===Or?"active":""}`,onClick:()=>rr(Or),children:Nr},Or)),jsxRuntimeExports.jsxs("div",{className:"comex-chart-type-dropdown",children:[jsxRuntimeExports.jsxs("button",{className:"chart-type-trigger",onClick:()=>lr(!or),children:[jsxRuntimeExports.jsx("span",{className:"chart-type-icon",children:sr==="line"?"":""}),jsxRuntimeExports.jsx("span",{className:"chart-type-label",children:sr==="line"?"Line Chart":"Column"}),jsxRuntimeExports.jsx("span",{className:"dropdown-arrow",children:""})]}),or&&jsxRuntimeExports.jsxs("div",{className:"chart-type-menu",children:[jsxRuntimeExports.jsx("div",{className:`chart-type-option ${sr==="line"?"active":""}`,onClick:()=>{ar("line"),lr(!1)},children:" Line Chart"}),jsxRuntimeExports.jsx("div",{className:`chart-type-option ${sr==="column"?"active":""}`,onClick:()=>{ar("column"),lr(!1)},children:" Column"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:jr.length>0?jsxRuntimeExports.jsxs("div",{className:"chart-block",children:[jsxRuntimeExports.jsx("h3",{children:" USD / Ounce (Sng / Chiu)"}),jsxRuntimeExports.jsx(Chart,{type:sr==="line"?"line":"bar",data:Sr,options:Tr})]}):jsxRuntimeExports.jsx("div",{className:"no-data",children:"Khng c d liu"})})]})]})]})}function size(tr){var Hn=tr.width,er=tr.height;if(Hn<0)throw new Error("Negative width is not allowed for Size");if(er<0)throw new Error("Negative height is not allowed for Size");return{width:Hn,height:er}}function equalSizes(tr,Hn){return tr.width===Hn.width&&tr.height===Hn.height}var Observable=(function(){function tr(Hn){var er=this;this._resolutionListener=function(){return er._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=Hn,this._installResolutionListener()}return tr.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(tr.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),tr.prototype.subscribe=function(Hn){var er=this,nr={next:Hn};return this._observers.push(nr),{unsubscribe:function(){er._observers=er._observers.filter(function(ir){return ir!==nr})}}},tr.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var Hn=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(Hn,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},tr.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},tr.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},tr.prototype._onResolutionChanged=function(){var Hn=this;this._observers.forEach(function(er){return er.next(Hn._window.devicePixelRatio)}),this._reinstallResolutionListener()},tr})();function createObservable(tr){return new Observable(tr)}var DevicePixelContentBoxBinding=(function(){function tr(Hn,er,nr){var ir;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=Hn,this._canvasElementClientSize=size({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=er??(function(rr){return rr}),this._allowResizeObserver=(ir=nr?.allowResizeObserver)!==null&&ir!==void 0?ir:!0,this._chooseAndInitObserver()}return tr.prototype.dispose=function(){var Hn,er;if(this._canvasElement===null)throw new Error("Object is disposed");(Hn=this._canvasElementResizeObserver)===null||Hn===void 0||Hn.disconnect(),this._canvasElementResizeObserver=null,(er=this._devicePixelRatioObservable)===null||er===void 0||er.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(tr.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(tr.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(tr.prototype,"bitmapSize",{get:function(){return size({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),tr.prototype.resizeCanvasElement=function(Hn){this._canvasElementClientSize=size(Hn),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},tr.prototype.subscribeBitmapSizeChanged=function(Hn){this._bitmapSizeChangedListeners.push(Hn)},tr.prototype.unsubscribeBitmapSizeChanged=function(Hn){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(er){return er!==Hn})},Object.defineProperty(tr.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),tr.prototype.subscribeSuggestedBitmapSizeChanged=function(Hn){this._suggestedBitmapSizeChangedListeners.push(Hn)},tr.prototype.unsubscribeSuggestedBitmapSizeChanged=function(Hn){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(er){return er!==Hn})},tr.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var Hn=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(Hn),this._emitSuggestedBitmapSizeChanged(Hn,this._suggestedBitmapSize)}},tr.prototype._resizeBitmap=function(Hn){var er=this.bitmapSize;equalSizes(er,Hn)||(this.canvasElement.width=Hn.width,this.canvasElement.height=Hn.height,this._emitBitmapSizeChanged(er,Hn))},tr.prototype._emitBitmapSizeChanged=function(Hn,er){var nr=this;this._bitmapSizeChangedListeners.forEach(function(ir){return ir.call(nr,Hn,er)})},tr.prototype._suggestNewBitmapSize=function(Hn){var er=this._suggestedBitmapSize,nr=size(this._transformBitmapSize(Hn,this._canvasElementClientSize)),ir=equalSizes(this.bitmapSize,nr)?null:nr;er===null&&ir===null||er!==null&&ir!==null&&equalSizes(er,ir)||(this._suggestedBitmapSize=ir,this._emitSuggestedBitmapSizeChanged(er,ir))},tr.prototype._emitSuggestedBitmapSizeChanged=function(Hn,er){var nr=this;this._suggestedBitmapSizeChangedListeners.forEach(function(ir){return ir.call(nr,Hn,er)})},tr.prototype._chooseAndInitObserver=function(){var Hn=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}isDevicePixelContentBoxSupported().then(function(er){return er?Hn._initResizeObserver():Hn._initDevicePixelRatioObservable()})},tr.prototype._initDevicePixelRatioObservable=function(){var Hn=this;if(this._canvasElement!==null){var er=canvasElementWindow(this._canvasElement);if(er===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=createObservable(er),this._devicePixelRatioObservable.subscribe(function(){return Hn._invalidateBitmapSize()}),this._invalidateBitmapSize()}},tr.prototype._invalidateBitmapSize=function(){var Hn,er;if(this._canvasElement!==null){var nr=canvasElementWindow(this._canvasElement);if(nr!==null){var ir=(er=(Hn=this._devicePixelRatioObservable)===null||Hn===void 0?void 0:Hn.value)!==null&&er!==void 0?er:nr.devicePixelRatio,rr=this._canvasElement.getClientRects(),sr=rr[0]!==void 0?predictedBitmapSize(rr[0],ir):size({width:this._canvasElementClientSize.width*ir,height:this._canvasElementClientSize.height*ir});this._suggestNewBitmapSize(sr)}}},tr.prototype._initResizeObserver=function(){var Hn=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(er){var nr=er.find(function(sr){return sr.target===Hn._canvasElement});if(!(!nr||!nr.devicePixelContentBoxSize||!nr.devicePixelContentBoxSize[0])){var ir=nr.devicePixelContentBoxSize[0],rr=size({width:ir.inlineSize,height:ir.blockSize});Hn._suggestNewBitmapSize(rr)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},tr})();function bindTo(tr,Hn){return new DevicePixelContentBoxBinding(tr,Hn.transform,Hn.options)}function canvasElementWindow(tr){return tr.ownerDocument.defaultView}function isDevicePixelContentBoxSupported(){return new Promise(function(tr){var Hn=new ResizeObserver(function(er){tr(er.every(function(nr){return"devicePixelContentBoxSize"in nr})),Hn.disconnect()});Hn.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function predictedBitmapSize(tr,Hn){return size({width:Math.round(tr.left*Hn+tr.width*Hn)-Math.round(tr.left*Hn),height:Math.round(tr.top*Hn+tr.height*Hn)-Math.round(tr.top*Hn)})}var CanvasRenderingTarget2D=(function(){function tr(Hn,er,nr){if(er.width===0||er.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=er,nr.width===0||nr.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=nr,this._context=Hn}return tr.prototype.useMediaCoordinateSpace=function(Hn){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),Hn({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},tr.prototype.useBitmapCoordinateSpace=function(Hn){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),Hn({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(tr.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(tr.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),tr})();function tryCreateCanvasRenderingTarget2D(tr,Hn){var er=tr.canvasElementClientSize;if(er.width===0||er.height===0)return null;var nr=tr.bitmapSize;if(nr.width===0||nr.height===0)return null;var ir=tr.canvasElement.getContext("2d",Hn);return ir===null?null:new CanvasRenderingTarget2D(ir,er,nr)}const e={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var r,h;function a(tr,Hn){const er={0:[],1:[tr.lineWidth,tr.lineWidth],2:[2*tr.lineWidth,2*tr.lineWidth],3:[6*tr.lineWidth,6*tr.lineWidth],4:[tr.lineWidth,4*tr.lineWidth]}[Hn];tr.setLineDash(er)}function l(tr,Hn,er,nr){tr.beginPath();const ir=tr.lineWidth%2?.5:0;tr.moveTo(er,Hn+ir),tr.lineTo(nr,Hn+ir),tr.stroke()}function o(tr,Hn){if(!tr)throw new Error("Assertion failed"+(Hn?": "+Hn:""))}function _(tr){if(tr===void 0)throw new Error("Value is undefined");return tr}function u(tr){if(tr===null)throw new Error("Value is null");return tr}function c(tr){return u(_(tr))}(function(tr){tr[tr.Simple=0]="Simple",tr[tr.WithSteps=1]="WithSteps",tr[tr.Curved=2]="Curved"})(r||(r={})),(function(tr){tr[tr.Solid=0]="Solid",tr[tr.Dotted=1]="Dotted",tr[tr.Dashed=2]="Dashed",tr[tr.LargeDashed=3]="LargeDashed",tr[tr.SparseDotted=4]="SparseDotted"})(h||(h={}));class d{constructor(){this.t=[]}i(Hn,er,nr){const ir={h:Hn,l:er,o:nr===!0};this.t.push(ir)}_(Hn){const er=this.t.findIndex((nr=>Hn===nr.h));er>-1&&this.t.splice(er,1)}u(Hn){this.t=this.t.filter((er=>er.l!==Hn))}p(Hn,er,nr){const ir=[...this.t];this.t=this.t.filter((rr=>!rr.o)),ir.forEach((rr=>rr.h(Hn,er,nr)))}v(){return this.t.length>0}m(){this.t=[]}}function f(tr,...Hn){for(const er of Hn)for(const nr in er)er[nr]!==void 0&&Object.prototype.hasOwnProperty.call(er,nr)&&!["__proto__","constructor","prototype"].includes(nr)&&(typeof er[nr]!="object"||tr[nr]===void 0||Array.isArray(er[nr])?tr[nr]=er[nr]:f(tr[nr],er[nr]));return tr}function p(tr){return typeof tr=="number"&&isFinite(tr)}function v(tr){return typeof tr=="number"&&tr%1==0}function m(tr){return typeof tr=="string"}function w(tr){return typeof tr=="boolean"}function g(tr){const Hn=tr;if(!Hn||typeof Hn!="object")return Hn;let er,nr,ir;for(nr in er=Array.isArray(Hn)?[]:{},Hn)Hn.hasOwnProperty(nr)&&(ir=Hn[nr],er[nr]=ir&&typeof ir=="object"?g(ir):ir);return er}function M(tr){return tr!==null}function b(tr){return tr===null?void 0:tr}const S="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function x(tr,Hn,er){return Hn===void 0&&(Hn=S),`${er=er!==void 0?`${er} `:""}${tr}px ${Hn}`}class C{constructor(Hn){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=Hn}N(){const Hn=this.M,er=this.F(),nr=this.W();return Hn.P===er&&Hn.T===nr||(Hn.P=er,Hn.T=nr,Hn.k=x(er,nr),Hn.A=2.5/12*er,Hn.V=Hn.A,Hn.B=er/12*Hn.C,Hn.I=er/12*Hn.C,Hn.L=0),Hn.R=this.H(),Hn.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function P(tr){return tr<0?0:tr>255?255:Math.round(tr)||0}function y(tr){return .199*tr[0]+.687*tr[1]+.114*tr[2]}class k{constructor(Hn,er){this.q=new Map,this.Y=Hn,er&&(this.q=er)}j(Hn,er){if(Hn==="transparent")return Hn;const nr=this.K(Hn),ir=nr[3];return`rgba(${nr[0]}, ${nr[1]}, ${nr[2]}, ${er*ir})`}X(Hn){const er=this.K(Hn);return{Z:`rgb(${er[0]}, ${er[1]}, ${er[2]})`,G:y(er)>160?"black":"white"}}J(Hn){return y(this.K(Hn))}tt(Hn,er,nr){const[ir,rr,sr,ar]=this.K(Hn),[or,lr,cr,ur]=this.K(er),dr=[P(ir+nr*(or-ir)),P(rr+nr*(lr-rr)),P(sr+nr*(cr-sr)),(fr=ar+nr*(ur-ar),fr<=0||fr>1?Math.min(Math.max(fr,0),1):Math.round(1e4*fr)/1e4)];var fr;return`rgba(${dr[0]}, ${dr[1]}, ${dr[2]}, ${dr[3]})`}K(Hn){const er=this.q.get(Hn);if(er)return er;const nr=(function(sr){const ar=document.createElement("div");ar.style.display="none",document.body.appendChild(ar),ar.style.color=sr;const or=window.getComputedStyle(ar).color;return document.body.removeChild(ar),or})(Hn),ir=nr.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!ir){if(this.Y.length)for(const sr of this.Y){const ar=sr(Hn);if(ar)return this.q.set(Hn,ar),ar}throw new Error(`Failed to parse color: ${Hn}`)}const rr=[parseInt(ir[1],10),parseInt(ir[2],10),parseInt(ir[3],10),ir[4]?parseFloat(ir[4]):1];return this.q.set(Hn,rr),rr}}class T{constructor(){this.it=[]}st(Hn){this.it=Hn}nt(Hn,er,nr){this.it.forEach((ir=>{ir.nt(Hn,er,nr)}))}}class R{nt(Hn,er,nr){Hn.useBitmapCoordinateSpace((ir=>this.et(ir,er,nr)))}}class D extends R{constructor(){super(...arguments),this.rt=null}ht(Hn){this.rt=Hn}et({context:Hn,horizontalPixelRatio:er,verticalPixelRatio:nr}){if(this.rt===null||this.rt.lt===null)return;const ir=this.rt.lt,rr=this.rt,sr=Math.max(1,Math.floor(er))%2/2,ar=or=>{Hn.beginPath();for(let lr=ir.to-1;lr>=ir.from;--lr){const cr=rr.ot[lr],ur=Math.round(cr._t*er)+sr,dr=cr.ut*nr,fr=or*nr+sr;Hn.moveTo(ur,dr),Hn.arc(ur,dr,fr,0,2*Math.PI)}Hn.fill()};rr.ct>0&&(Hn.fillStyle=rr.dt,ar(rr.ft+rr.ct)),Hn.fillStyle=rr.vt,ar(rr.ft)}}function V(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const B={from:0,to:1};class I{constructor(Hn,er,nr){this.Mt=new T,this.bt=[],this.St=[],this.xt=!0,this.O=Hn,this.Ct=er,this.Pt=nr,this.Mt.st(this.bt)}yt(Hn){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const Hn=this.Pt.Dt();Hn.length!==this.bt.length&&(this.St=Hn.map(V),this.bt=this.St.map((er=>{const nr=new D;return nr.ht(er),nr})),this.Mt.st(this.bt))}Rt(){const Hn=this.Ct.N().mode===2||!this.Ct.Vt(),er=this.Pt.Bt(),nr=this.Ct.It(),ir=this.O.Et();this.kt(),er.forEach(((rr,sr)=>{const ar=this.St[sr],or=rr.At(nr),lr=rr.zt();!Hn&&or!==null&&rr.Vt()&&lr!==null?(ar.vt=or.Lt,ar.ft=or.ft,ar.ct=or.Ot,ar.ot[0].gt=or.gt,ar.ot[0].ut=rr.Ft().Nt(or.gt,lr.Wt),ar.dt=or.Ht??this.O.Ut(ar.ot[0].ut/rr.Ft().$t()),ar.ot[0].wt=nr,ar.ot[0]._t=ir.qt(nr),ar.lt=B):ar.lt=null}))}}class E extends R{constructor(Hn){super(),this.Yt=Hn}et({context:Hn,bitmapSize:er,horizontalPixelRatio:nr,verticalPixelRatio:ir}){if(this.Yt===null)return;const rr=this.Yt.jt.Vt,sr=this.Yt.Kt.Vt;if(!rr&&!sr)return;const ar=Math.round(this.Yt._t*nr),or=Math.round(this.Yt.ut*ir);Hn.lineCap="butt",rr&&ar>=0&&(Hn.lineWidth=Math.floor(this.Yt.jt.ct*nr),Hn.strokeStyle=this.Yt.jt.R,Hn.fillStyle=this.Yt.jt.R,a(Hn,this.Yt.jt.Xt),(function(lr,cr,ur,dr){lr.beginPath();const fr=lr.lineWidth%2?.5:0;lr.moveTo(cr+fr,ur),lr.lineTo(cr+fr,dr),lr.stroke()})(Hn,ar,0,er.height)),sr&&or>=0&&(Hn.lineWidth=Math.floor(this.Yt.Kt.ct*ir),Hn.strokeStyle=this.Yt.Kt.R,Hn.fillStyle=this.Yt.Kt.R,a(Hn,this.Yt.Kt.Xt),l(Hn,or,0,er.width))}}class A{constructor(Hn,er){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new E(this.Zt),this.Jt=Hn,this.Pt=er}yt(){this.xt=!0}Tt(Hn){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const Hn=this.Jt.Vt(),er=this.Pt.Qt().N().crosshair,nr=this.Zt;if(er.mode===2)return nr.Kt.Vt=!1,void(nr.jt.Vt=!1);nr.Kt.Vt=Hn&&this.Jt.ti(this.Pt),nr.jt.Vt=Hn&&this.Jt.ii(),nr.Kt.ct=er.horzLine.width,nr.Kt.Xt=er.horzLine.style,nr.Kt.R=er.horzLine.color,nr.jt.ct=er.vertLine.width,nr.jt.Xt=er.vertLine.style,nr.jt.R=er.vertLine.color,nr._t=this.Jt.si(),nr.ut=this.Jt.ni()}}function z(tr,Hn,er,nr,ir,rr){tr.fillRect(Hn+rr,er,nr-2*rr,rr),tr.fillRect(Hn+rr,er+ir-rr,nr-2*rr,rr),tr.fillRect(Hn,er,rr,ir),tr.fillRect(Hn+nr-rr,er,rr,ir)}function L$1(tr,Hn,er,nr,ir,rr){tr.save(),tr.globalCompositeOperation="copy",tr.fillStyle=rr,tr.fillRect(Hn,er,nr,ir),tr.restore()}function O(tr,Hn,er,nr,ir,rr){tr.beginPath(),tr.roundRect?tr.roundRect(Hn,er,nr,ir,rr):(tr.lineTo(Hn+nr-rr[1],er),rr[1]!==0&&tr.arcTo(Hn+nr,er,Hn+nr,er+rr[1],rr[1]),tr.lineTo(Hn+nr,er+ir-rr[2]),rr[2]!==0&&tr.arcTo(Hn+nr,er+ir,Hn+nr-rr[2],er+ir,rr[2]),tr.lineTo(Hn+rr[3],er+ir),rr[3]!==0&&tr.arcTo(Hn,er+ir,Hn,er+ir-rr[3],rr[3]),tr.lineTo(Hn,er+rr[0]),rr[0]!==0&&tr.arcTo(Hn,er,Hn+rr[0],er,rr[0]))}function N(tr,Hn,er,nr,ir,rr,sr=0,ar=[0,0,0,0],or=""){if(tr.save(),!sr||!or||or===rr)return O(tr,Hn,er,nr,ir,ar),tr.fillStyle=rr,tr.fill(),void tr.restore();const lr=sr/2;var cr;O(tr,Hn+lr,er+lr,nr-sr,ir-sr,(cr=-lr,ar.map((ur=>ur===0?ur:ur+cr)))),rr!=="transparent"&&(tr.fillStyle=rr,tr.fill()),or!=="transparent"&&(tr.lineWidth=sr,tr.strokeStyle=or,tr.closePath(),tr.stroke()),tr.restore()}function F(tr,Hn,er,nr,ir,rr,sr){tr.save(),tr.globalCompositeOperation="copy";const ar=tr.createLinearGradient(0,0,0,ir);ar.addColorStop(0,rr),ar.addColorStop(1,sr),tr.fillStyle=ar,tr.fillRect(Hn,er,nr,ir),tr.restore()}class W{constructor(Hn,er){this.ht(Hn,er)}ht(Hn,er){this.Yt=Hn,this.ei=er}$t(Hn,er){return this.Yt.Vt?Hn.P+Hn.A+Hn.V:0}nt(Hn,er,nr,ir){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const rr=this.Yt.R,sr=this.ei.Z,ar=Hn.useBitmapCoordinateSpace((or=>{const lr=or.context;lr.font=er.k;const cr=this.hi(or,er,nr,ir),ur=cr.ai;return cr.li?N(lr,ur.oi,ur._i,ur.ui,ur.ci,sr,ur.di,[ur.ft,0,0,ur.ft],sr):N(lr,ur.fi,ur._i,ur.ui,ur.ci,sr,ur.di,[0,ur.ft,ur.ft,0],sr),this.Yt.pi&&(lr.fillStyle=rr,lr.fillRect(ur.fi,ur.mi,ur.wi-ur.fi,ur.gi)),this.Yt.Mi&&(lr.fillStyle=er.D,lr.fillRect(cr.li?ur.bi-ur.di:0,ur._i,ur.di,ur.Si-ur._i)),cr}));Hn.useMediaCoordinateSpace((({context:or})=>{const lr=ar.xi;or.font=er.k,or.textAlign=ar.li?"right":"left",or.textBaseline="middle",or.fillStyle=rr,or.fillText(this.Yt.ri,lr.Ci,(lr._i+lr.Si)/2+lr.Pi)}))}hi(Hn,er,nr,ir){const{context:rr,bitmapSize:sr,mediaSize:ar,horizontalPixelRatio:or,verticalPixelRatio:lr}=Hn,cr=this.Yt.pi||!this.Yt.yi?er.C:0,ur=this.Yt.ki?er.S:0,dr=er.A+this.ei.Ti,fr=er.V+this.ei.Ri,gr=er.B,yr=er.I,vr=this.Yt.ri,jr=er.P,Sr=nr.Di(rr,vr),Tr=Math.ceil(nr.Vi(rr,vr)),Lr=jr+dr+fr,Mr=er.S+gr+yr+Tr+cr,Nr=Math.max(1,Math.floor(lr));let Or=Math.round(Lr*lr);Or%2!=Nr%2&&(Or+=1);const Fr=ur>0?Math.max(1,Math.floor(ur*or)):0,Gr=Math.round(Mr*or),qr=Math.round(cr*or),Hr=this.ei.Bi??this.ei.Ii,Yr=Math.round(Hr*lr)-Math.floor(.5*lr),ro=Math.floor(Yr+Nr/2-Or/2),io=ro+Or,fo=ir==="right",ao=fo?ar.width-ur:ur,Jr=fo?sr.width-Fr:Fr;let uo,oo,co;return fo?(uo=Jr-Gr,oo=Jr-qr,co=ao-cr-gr-ur):(uo=Jr+Gr,oo=Jr+qr,co=ao+cr+gr),{li:fo,ai:{_i:ro,mi:Yr,Si:io,ui:Gr,ci:Or,ft:2*or,di:Fr,oi:uo,fi:Jr,wi:oo,gi:Nr,bi:sr.width},xi:{_i:ro/lr,Si:io/lr,Ci:co,Pi:Sr}}}}class H{constructor(Hn){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(Hn||W)(this.Ai,this.Ei),this.Oi=new(Hn||W)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(Hn,er=!1){return Math.max(this.Li.$t(Hn,er),this.Oi.$t(Hn,er))}Fi(){return this.Ei.Bi||0}Wi(Hn){this.Ei.Bi=Hn}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(Hn){return this.Ni(),this.Ai.pi=this.Ai.pi&&Hn.N().ticksVisible,this.zi.pi=this.zi.pi&&Hn.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class U extends H{constructor(Hn,er,nr){super(),this.Jt=Hn,this.Yi=er,this.ji=nr}qi(Hn,er,nr){if(Hn.Vt=!1,this.Jt.N().mode===2)return;const ir=this.Jt.N().horzLine;if(!ir.labelVisible)return;const rr=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||rr===null)return;const sr=this.Yi.Xi().X(ir.labelBackgroundColor);nr.Z=sr.Z,Hn.R=sr.G;const ar=2/12*this.Yi.P();nr.Ti=ar,nr.Ri=ar;const or=this.ji(this.Yi);nr.Ii=or.Ii,Hn.ri=this.Yi.Zi(or.gt,rr),Hn.Vt=!0}}const $=/[1-9]/g;class q{constructor(){this.Yt=null}ht(Hn){this.Yt=Hn}nt(Hn,er){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const nr=Hn.useMediaCoordinateSpace((({context:dr})=>(dr.font=er.k,Math.round(er.Gi.Vi(dr,u(this.Yt).ri,$)))));if(nr<=0)return;const ir=er.Ji,rr=nr+2*ir,sr=rr/2,ar=this.Yt.Qi;let or=this.Yt.Ii,lr=Math.floor(or-sr)+.5;lr<0?(or+=Math.abs(0-lr),lr=Math.floor(or-sr)+.5):lr+rr>ar&&(or-=Math.abs(ar-(lr+rr)),lr=Math.floor(or-sr)+.5);const cr=lr+rr,ur=Math.ceil(0+er.S+er.C+er.A+er.P+er.V);Hn.useBitmapCoordinateSpace((({context:dr,horizontalPixelRatio:fr,verticalPixelRatio:gr})=>{const yr=u(this.Yt);dr.fillStyle=yr.Z;const vr=Math.round(lr*fr),jr=Math.round(0*gr),Sr=Math.round(cr*fr),Tr=Math.round(ur*gr),Lr=Math.round(2*fr);if(dr.beginPath(),dr.moveTo(vr,jr),dr.lineTo(vr,Tr-Lr),dr.arcTo(vr,Tr,vr+Lr,Tr,Lr),dr.lineTo(Sr-Lr,Tr),dr.arcTo(Sr,Tr,Sr,Tr-Lr,Lr),dr.lineTo(Sr,jr),dr.fill(),yr.pi){const Mr=Math.round(yr.Ii*fr),Nr=jr,Or=Math.round((Nr+er.C)*gr);dr.fillStyle=yr.R;const Fr=Math.max(1,Math.floor(fr)),Gr=Math.floor(.5*fr);dr.fillRect(Mr-Gr,Nr,Fr,Or-Nr)}})),Hn.useMediaCoordinateSpace((({context:dr})=>{const fr=u(this.Yt),gr=0+er.S+er.C+er.A+er.P/2;dr.font=er.k,dr.textAlign="left",dr.textBaseline="middle",dr.fillStyle=fr.R;const yr=er.Gi.Di(dr,"Apr0");dr.translate(lr+ir,gr+yr),dr.fillText(fr.ri,0,0)}))}}class Y{constructor(Hn,er,nr){this.xt=!0,this.Gt=new q,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=Hn,this.ts=er,this.ji=nr}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const Hn=this.Zt;if(Hn.Vt=!1,this.Ct.N().mode===2)return;const er=this.Ct.N().vertLine;if(!er.labelVisible)return;const nr=this.ts.Et();if(nr.Ki())return;Hn.Qi=nr.Qi();const ir=this.ji();if(ir===null)return;Hn.Ii=ir.Ii;const rr=nr.ss(this.Ct.It());Hn.ri=nr.ns(u(rr)),Hn.Vt=!0;const sr=this.ts.Xi().X(er.labelBackgroundColor);Hn.Z=sr.Z,Hn.R=sr.G,Hn.pi=nr.N().ticksVisible}}let j$1=class{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(Hn){this.rs=Hn}Ft(){return this.es}_s(Hn){this.es=Hn}us(Hn){return[]}cs(){return[]}Vt(){return!0}};var K;(function(tr){tr[tr.Normal=0]="Normal",tr[tr.Magnet=1]="Magnet",tr[tr.Hidden=2]="Hidden",tr[tr.MagnetOHLC=3]="MagnetOHLC"})(K||(K={}));class X extends j$1{constructor(Hn,er){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=Hn,this.Ps=er,this.ys=((ir,rr)=>sr=>{const ar=rr(),or=ir();if(sr===u(this.Pt).ks())return{gt:or,Ii:ar};{const lr=u(sr.zt());return{gt:sr.Ts(ar,lr),Ii:ar}}})((()=>this.ds),(()=>this.Ss));const nr=((ir,rr)=>()=>{const sr=this.ts.Et().Rs(ir()),ar=rr();return sr&&Number.isFinite(ar)?{wt:sr,Ii:ar}:null})((()=>this.fs),(()=>this.si()));this.Ds=new Y(this,Hn,nr)}N(){return this.Ps}Vs(Hn,er){this.xs=Hn,this.Cs=er}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(Hn,er,nr){this.ws||(this.ws=!0),this.ps=!0,this.zs(Hn,er,nr)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(Hn){let er=this.gs.get(Hn);er||(er=new A(this,Hn),this.gs.set(Hn,er));let nr=this.Ms.get(Hn);return nr||(nr=new I(this.ts,this,Hn),this.Ms.set(Hn,nr)),[er,nr]}ti(Hn){return Hn===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(Hn,er){this.ps&&this.Pt===Hn||this.vs.clear();const nr=[];return this.Pt===Hn&&nr.push(this.Hs(this.vs,er,this.ys)),nr}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach((Hn=>{this.gs.get(Hn)?.yt(),this.Ms.get(Hn)?.yt()})),this.vs.forEach((Hn=>Hn.yt())),this.Ds.yt()}qs(Hn){return Hn&&!Hn.ks().Ki()?Hn.ks():null}zs(Hn,er,nr){this.Ys(Hn,er,nr)&&this.Ns()}Ys(Hn,er,nr){const ir=this.bs,rr=this.Ss,sr=this.ds,ar=this.fs,or=this.Pt,lr=this.qs(nr);this.fs=Hn,this.bs=isNaN(Hn)?NaN:this.ts.Et().qt(Hn),this.Pt=nr;const cr=lr!==null?lr.zt():null;return lr!==null&&cr!==null?(this.ds=er,this.Ss=lr.Nt(er,cr)):(this.ds=NaN,this.Ss=NaN),ir!==this.bs||rr!==this.Ss||ar!==this.fs||sr!==this.ds||or!==this.Pt}Os(){const Hn=this.ts.js().map((nr=>nr.Xs().Ks())).filter(M),er=Hn.length===0?null:Math.max(...Hn);this.fs=er!==null?er:NaN}Hs(Hn,er,nr){let ir=Hn.get(er);return ir===void 0&&(ir=new U(this,er,nr),Hn.set(er,ir)),ir}}function Z(tr){return tr==="left"||tr==="right"}class G{constructor(Hn){this.Zs=new Map,this.Gs=[],this.Js=Hn}Qs(Hn,er){const nr=(function(ir,rr){return ir===void 0?rr:{tn:Math.max(ir.tn,rr.tn),sn:ir.sn||rr.sn}})(this.Zs.get(Hn),er);this.Zs.set(Hn,nr)}nn(){return this.Js}en(Hn){const er=this.Zs.get(Hn);return er===void 0?{tn:this.Js}:{tn:Math.max(this.Js,er.tn),sn:er.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(Hn){this.hn(),this.Gs=[{an:1,Wt:Hn}]}_n(Hn){this.un(),this.Gs.push({an:5,Wt:Hn})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(Hn){this.hn(),this.Gs.push({an:2,Wt:Hn})}fn(Hn){this.hn(),this.Gs.push({an:3,Wt:Hn})}pn(){return this.Gs}vn(Hn){for(const er of Hn.Gs)this.mn(er);this.Js=Math.max(this.Js,Hn.Js),Hn.Zs.forEach(((er,nr)=>{this.Qs(nr,er)}))}static wn(){return new G(2)}static gn(){return new G(3)}mn(Hn){switch(Hn.an){case 0:this.rn();break;case 1:this.ln(Hn.Wt);break;case 2:this.dn(Hn.Wt);break;case 3:this.fn(Hn.Wt);break;case 4:this.cn();break;case 5:this._n(Hn.Wt);break;case 6:this.un()}}un(){const Hn=this.Gs.findIndex((er=>er.an===5));Hn!==-1&&this.Gs.splice(Hn,1)}}class J{formatTickmarks(Hn){return Hn.map((er=>this.format(er)))}}const Q=".";function tt(tr,Hn){if(!p(tr))return"n/a";if(!v(Hn))throw new TypeError("invalid length");if(Hn<0||Hn>16)throw new TypeError("invalid length");return Hn===0?tr.toString():("0000000000000000"+tr.toString()).slice(-Hn)}class it extends J{constructor(Hn,er){if(super(),er||(er=1),p(Hn)&&v(Hn)||(Hn=100),Hn<0)throw new TypeError("invalid base");this.Yi=Hn,this.Mn=er,this.bn()}format(Hn){const er=Hn<0?"":"";return Hn=Math.abs(Hn),er+this.Sn(Hn)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let Hn=this.Yi;for(;Hn>1;)Hn/=10,this.xn++}}Sn(Hn){const er=this.Yi/this.Mn;let nr=Math.floor(Hn),ir="";const rr=this.xn!==void 0?this.xn:NaN;if(er>1){let sr=+(Math.round(Hn*er)-nr*er).toFixed(this.xn);sr>=er&&(sr-=er,nr+=1),ir=Q+tt(+sr.toFixed(this.xn)*this.Mn,rr)}else nr=Math.round(nr*er)/er,rr>0&&(ir=Q+tt(0,rr));return nr.toFixed(0)+ir}}class st extends it{constructor(Hn=100){super(Hn)}format(Hn){return`${super.format(Hn)}%`}}class nt extends J{constructor(Hn){super(),this.Cn=Hn}format(Hn){let er="";return Hn<0&&(er="-",Hn=-Hn),Hn<995?er+this.Pn(Hn):Hn<999995?er+this.Pn(Hn/1e3)+"K":Hn<999999995?(Hn=1e3*Math.round(Hn/1e3),er+this.Pn(Hn/1e6)+"M"):(Hn=1e6*Math.round(Hn/1e6),er+this.Pn(Hn/1e9)+"B")}Pn(Hn){let er;const nr=Math.pow(10,this.Cn);return er=(Hn=Math.round(Hn*nr)/nr)>=1e-15&&Hn<1?Hn.toFixed(this.Cn).replace(/\.?0+$/,""):String(Hn),er.replace(/(\.[1-9]*)0+$/,((ir,rr)=>rr))}}const et=/[2-9]/g;class rt{constructor(Hn=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=Hn}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(Hn,er,nr){return this.In(Hn,er,nr).width}Di(Hn,er,nr){const ir=this.In(Hn,er,nr);return((ir.actualBoundingBoxAscent||0)-(ir.actualBoundingBoxDescent||0))/2}In(Hn,er,nr){const ir=nr||et,rr=String(er).replace(ir,"0");if(this.Dn.has(rr))return _(this.Dn.get(rr)).En;if(this.yn===this.Vn){const ar=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(ar),this.Tn++,this.yn--}Hn.save(),Hn.textBaseline="middle";const sr=Hn.measureText(rr);return Hn.restore(),sr.width===0&&er.length||(this.Dn.set(rr,{En:sr,An:this.kn}),this.Rn[this.kn]=rr,this.yn++,this.kn++),sr}}class ht{constructor(Hn){this.zn=null,this.M=null,this.Ln="right",this.On=Hn}Nn(Hn,er,nr){this.zn=Hn,this.M=er,this.Ln=nr}nt(Hn){this.M!==null&&this.zn!==null&&this.zn.nt(Hn,this.M,this.On,this.Ln)}}class at{constructor(Hn,er,nr){this.Fn=Hn,this.On=new rt(50),this.Wn=er,this.O=nr,this.F=-1,this.Gt=new ht(this.On)}Tt(){const Hn=this.O.Hn(this.Wn);if(Hn===null)return null;const er=Hn.Un(this.Wn)?Hn.$n():this.Wn.Ft();if(er===null)return null;const nr=Hn.qn(er);if(nr==="overlay")return null;const ir=this.O.Yn();return ir.P!==this.F&&(this.F=ir.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),ir,nr),this.Gt}}class lt extends R{constructor(){super(...arguments),this.Yt=null}ht(Hn){this.Yt=Hn}jn(Hn,er){if(!this.Yt?.Vt)return null;const{ut:nr,ct:ir,Kn:rr}=this.Yt;return er>=nr-ir-7&&er<=nr+ir+7?{Xn:this.Yt,Kn:rr}:null}et({context:Hn,bitmapSize:er,horizontalPixelRatio:nr,verticalPixelRatio:ir}){if(this.Yt===null||this.Yt.Vt===!1)return;const rr=Math.round(this.Yt.ut*ir);rr<0||rr>er.height||(Hn.lineCap="butt",Hn.strokeStyle=this.Yt.R,Hn.lineWidth=Math.floor(this.Yt.ct*nr),a(Hn,this.Yt.Xt),l(Hn,rr,0,er.width))}}class ot{constructor(Hn){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new lt,this.xt=!0,this.Jn=Hn,this.Qn=Hn.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class _t extends ot{constructor(Hn){super(Hn)}te(){this.Zn.Vt=!1;const Hn=this.Jn.Ft(),er=Hn.ie().ie;if(er!==2&&er!==3)return;const nr=this.Jn.N();if(!nr.baseLineVisible||!this.Jn.Vt())return;const ir=this.Jn.zt();ir!==null&&(this.Zn.Vt=!0,this.Zn.ut=Hn.Nt(ir.Wt,ir.Wt),this.Zn.R=nr.baseLineColor,this.Zn.ct=nr.baseLineWidth,this.Zn.Xt=nr.baseLineStyle)}}class ut extends R{constructor(){super(...arguments),this.Yt=null}ht(Hn){this.Yt=Hn}se(){return this.Yt}et({context:Hn,horizontalPixelRatio:er,verticalPixelRatio:nr}){const ir=this.Yt;if(ir===null)return;const rr=Math.max(1,Math.floor(er)),sr=rr%2/2,ar=Math.round(ir.ne.x*er)+sr,or=ir.ne.y*nr;Hn.fillStyle=ir.ee,Hn.beginPath();const lr=Math.max(2,1.5*ir.re)*er;Hn.arc(ar,or,lr,0,2*Math.PI,!1),Hn.fill(),Hn.fillStyle=ir.he,Hn.beginPath(),Hn.arc(ar,or,ir.ft*er,0,2*Math.PI,!1),Hn.fill(),Hn.lineWidth=rr,Hn.strokeStyle=ir.ae,Hn.beginPath(),Hn.arc(ar,or,ir.ft*er+rr/2,0,2*Math.PI,!1),Hn.stroke()}}const ct=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class dt{constructor(Hn){this.Gt=new ut,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=Hn}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const Hn=performance.now(),er=this.we-Hn;if(er>0)return void(er<650&&(this.we+=2600));this.me=Hn,this.we=Hn+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const Hn=this.ge.Qt().Et(),er=Hn.Pe(),nr=this.ge.zt();if(er===null||nr===null)return;const ir=this.ge.ye(!0);if(ir.ke||!er.Te(ir.Re))return;const rr={x:Hn.qt(ir.Re),y:this.ge.Ft().Nt(ir.gt,nr.Wt)},sr=ir.R,ar=this.ge.N().lineWidth,or=this.De(this.Ve(),sr);this.Gt.ht({ee:sr,re:ar,he:or.he,ae:or.ae,ft:or.ft,ne:rr})}Ce(){const Hn=this.Gt.se();if(Hn!==null){const er=this.De(this.Ve(),Hn.ee);Hn.he=er.he,Hn.ae=er.ae,Hn.ft=er.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(Hn,er,nr,ir){const rr=nr+(ir-nr)*er;return this.ge.Qt().Xi().j(Hn,rr)}De(Hn,er){const nr=Hn%2600/2600;let ir;for(const lr of ct)if(nr>=lr.le&&nr<=lr.oe){ir=lr;break}o(ir!==void 0,"Last price animation internal logic error");const rr=(nr-ir.le)/(ir.oe-ir.le);return{he:this.Be(er,rr,ir.ce,ir.de),ae:this.Be(er,rr,ir.fe,ir.pe),ft:(sr=rr,ar=ir._e,or=ir.ue,ar+(or-ar)*sr)};var sr,ar,or}}class ft extends ot{constructor(Hn){super(Hn)}te(){const Hn=this.Zn;Hn.Vt=!1;const er=this.Jn.N();if(!er.priceLineVisible||!this.Jn.Vt())return;const nr=this.Jn.ye(er.priceLineSource===0);nr.ke||(Hn.Vt=!0,Hn.ut=nr.Ii,Hn.R=this.Jn.Ie(nr.R),Hn.ct=er.priceLineWidth,Hn.Xt=er.priceLineStyle)}}class pt extends H{constructor(Hn){super(),this.Jt=Hn}qi(Hn,er,nr){Hn.Vt=!1,er.Vt=!1;const ir=this.Jt;if(!ir.Vt())return;const rr=ir.N(),sr=rr.lastValueVisible,ar=ir.Ee()!=="",or=rr.seriesLastValueMode===0,lr=ir.ye(!1);if(lr.ke)return;sr&&(Hn.ri=this.Ae(lr,sr,or),Hn.Vt=Hn.ri.length!==0),(ar||or)&&(er.ri=this.ze(lr,sr,ar,or),er.Vt=er.ri.length>0);const cr=ir.Ie(lr.R),ur=this.Jt.Qt().Xi().X(cr);nr.Z=ur.Z,nr.Ii=lr.Ii,er.Ht=ir.Qt().Ut(lr.Ii/ir.Ft().$t()),Hn.Ht=cr,Hn.R=ur.G,er.R=ur.G}ze(Hn,er,nr,ir){let rr="";const sr=this.Jt.Ee();return nr&&sr.length!==0&&(rr+=`${sr} `),er&&ir&&(rr+=this.Jt.Ft().Le()?Hn.Oe:Hn.Ne),rr.trim()}Ae(Hn,er,nr){return er?nr?this.Jt.Ft().Le()?Hn.Ne:Hn.Oe:Hn.ri:""}}function vt(tr,Hn,er,nr){const ir=Number.isFinite(Hn),rr=Number.isFinite(er);return ir&&rr?tr(Hn,er):ir||rr?ir?Hn:er:nr}class mt{constructor(Hn,er){this.Fe=Hn,this.We=er}He(Hn){return Hn!==null&&this.Fe===Hn.Fe&&this.We===Hn.We}Ue(){return new mt(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(Hn){return Hn===null?this:new mt(vt(Math.min,this.$e(),Hn.$e(),-1/0),vt(Math.max,this.qe(),Hn.qe(),1/0))}je(Hn){if(!p(Hn)||this.We-this.Fe===0)return;const er=.5*(this.We+this.Fe);let nr=this.We-er,ir=this.Fe-er;nr*=Hn,ir*=Hn,this.We=er+nr,this.Fe=er+ir}Ke(Hn){p(Hn)&&(this.We+=Hn,this.Fe+=Hn)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(Hn){return Hn===null?null:new mt(Hn.minValue,Hn.maxValue)}}class wt{constructor(Hn,er){this.Ge=Hn,this.Je=er||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(Hn){return Hn===null?null:new wt(mt.Ze(Hn.priceRange),Hn.margins)}}class gt extends ot{constructor(Hn,er){super(Hn),this.ir=er}te(){const Hn=this.Zn;Hn.Vt=!1;const er=this.ir.N();if(!this.Jn.Vt()||!er.lineVisible)return;const nr=this.ir.sr();nr!==null&&(Hn.Vt=!0,Hn.ut=nr,Hn.R=er.color,Hn.ct=er.lineWidth,Hn.Xt=er.lineStyle,Hn.Kn=this.ir.N().id)}}class Mt extends H{constructor(Hn,er){super(),this.ge=Hn,this.ir=er}qi(Hn,er,nr){Hn.Vt=!1,er.Vt=!1;const ir=this.ir.N(),rr=ir.axisLabelVisible,sr=ir.title!=="",ar=this.ge;if(!rr||!ar.Vt())return;const or=this.ir.sr();if(or===null)return;sr&&(er.ri=ir.title,er.Vt=!0),er.Ht=ar.Qt().Ut(or/ar.Ft().$t()),Hn.ri=this.nr(ir.price),Hn.Vt=!0;const lr=this.ge.Qt().Xi().X(ir.axisLabelColor||ir.color);nr.Z=lr.Z;const cr=ir.axisLabelTextColor||lr.G;Hn.R=cr,er.R=cr,nr.Ii=or}nr(Hn){const er=this.ge.zt();return er===null?"":this.ge.Ft().Zi(Hn,er.Wt)}}class bt{constructor(Hn,er){this.ge=Hn,this.Ps=er,this.er=new gt(Hn,this),this.Fn=new Mt(Hn,this),this.rr=new at(this.Fn,Hn,Hn.Qt())}hr(Hn){f(this.Ps,Hn),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const Hn=this.ge,er=Hn.Ft();if(Hn.Qt().Et().Ki()||er.Ki())return null;const nr=Hn.zt();return nr===null?null:er.Nt(this.Ps.price,nr.Wt)}}class St extends j$1{constructor(Hn){super(),this.ts=Hn}Qt(){return this.ts}}const xt={Bar:(tr,Hn,er,nr)=>{const ir=Hn.upColor,rr=Hn.downColor,sr=u(tr(er,nr)),ar=c(sr.Wt[0])<=c(sr.Wt[3]);return{cr:sr.R??(ar?ir:rr)}},Candlestick:(tr,Hn,er,nr)=>{const ir=Hn.upColor,rr=Hn.downColor,sr=Hn.borderUpColor,ar=Hn.borderDownColor,or=Hn.wickUpColor,lr=Hn.wickDownColor,cr=u(tr(er,nr)),ur=c(cr.Wt[0])<=c(cr.Wt[3]);return{cr:cr.R??(ur?ir:rr),dr:cr.Ht??(ur?sr:ar),pr:cr.vr??(ur?or:lr)}},Custom:(tr,Hn,er,nr)=>({cr:u(tr(er,nr)).R??Hn.color}),Area:(tr,Hn,er,nr)=>{const ir=u(tr(er,nr));return{cr:ir.vt??Hn.lineColor,vt:ir.vt??Hn.lineColor,mr:ir.mr??Hn.topColor,wr:ir.wr??Hn.bottomColor}},Baseline:(tr,Hn,er,nr)=>{const ir=u(tr(er,nr));return{cr:ir.Wt[3]>=Hn.baseValue.price?Hn.topLineColor:Hn.bottomLineColor,gr:ir.gr??Hn.topLineColor,Mr:ir.Mr??Hn.bottomLineColor,br:ir.br??Hn.topFillColor1,Sr:ir.Sr??Hn.topFillColor2,Cr:ir.Cr??Hn.bottomFillColor1,Pr:ir.Pr??Hn.bottomFillColor2}},Line:(tr,Hn,er,nr)=>{const ir=u(tr(er,nr));return{cr:ir.R??Hn.color,vt:ir.R??Hn.color}},Histogram:(tr,Hn,er,nr)=>({cr:u(tr(er,nr)).R??Hn.color})};class Ct{constructor(Hn){this.yr=(er,nr)=>nr!==void 0?nr.Wt:this.ge.Xs().kr(er),this.ge=Hn,this.Tr=xt[Hn.Rr()]}Dr(Hn,er){return this.Tr(this.yr,this.ge.N(),Hn,er)}}function Pt(tr,Hn,er,nr,ir=0,rr=Hn.length){let sr=rr-ir;for(;0<sr;){const ar=sr>>1,or=ir+ar;nr(Hn[or],er)===tr?(ir=or+1,sr-=ar+1):sr=ar}return ir}const yt=Pt.bind(null,!0),kt=Pt.bind(null,!1);var Tt;(function(tr){tr[tr.NearestLeft=-1]="NearestLeft",tr[tr.None=0]="None",tr[tr.NearestRight=1]="NearestRight"})(Tt||(Tt={}));const Rt=30;class Dt{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(Hn){return this.Nr(Hn,0)!==null}kr(Hn){return this.Fr(Hn)}Fr(Hn,er=0){const nr=this.Nr(Hn,er);return nr===null?null:{...this.Wr(nr),Re:this.Or(nr)}}Hr(){return this.Vr}Ur(Hn,er,nr){if(this.Ki())return null;let ir=null;for(const rr of nr)ir=Vt(ir,this.$r(Hn,er,rr));return ir}ht(Hn){this.Ir.clear(),this.Br.clear(),this.Vr=Hn,this.Er=Hn.map((er=>er.Re))}qr(){return this.Er}Or(Hn){return this.Vr[Hn].Re}Wr(Hn){return this.Vr[Hn]}Nr(Hn,er){const nr=this.Yr(Hn);if(nr===null&&er!==0)switch(er){case-1:return this.jr(Hn);case 1:return this.Kr(Hn);default:throw new TypeError("Unknown search mode")}return nr}jr(Hn){let er=this.Xr(Hn);return er>0&&(er-=1),er!==this.Vr.length&&this.Or(er)<Hn?er:null}Kr(Hn){const er=this.Zr(Hn);return er!==this.Vr.length&&Hn<this.Or(er)?er:null}Yr(Hn){const er=this.Xr(Hn);return er===this.Vr.length||Hn<this.Vr[er].Re?null:er}Xr(Hn){return yt(this.Vr,Hn,((er,nr)=>er.Re<nr))}Zr(Hn){return kt(this.Vr,Hn,((er,nr)=>er.Re>nr))}Gr(Hn,er,nr){let ir=null;for(let rr=Hn;rr<er;rr++){const sr=this.Vr[rr].Wt[nr];Number.isNaN(sr)||(ir===null?ir={Jr:sr,Qr:sr}:(sr<ir.Jr&&(ir.Jr=sr),sr>ir.Qr&&(ir.Qr=sr)))}return ir}$r(Hn,er,nr){if(this.Ki())return null;let ir=null;const rr=u(this.Lr()),sr=u(this.Ks()),ar=Math.max(Hn,rr),or=Math.min(er,sr),lr=Math.ceil(ar/Rt)*Rt,cr=Math.max(lr,Math.floor(or/Rt)*Rt);{const dr=this.Xr(ar),fr=this.Zr(Math.min(or,lr,er));ir=Vt(ir,this.Gr(dr,fr,nr))}let ur=this.Br.get(nr);ur===void 0&&(ur=new Map,this.Br.set(nr,ur));for(let dr=Math.max(lr+1,ar);dr<cr;dr+=Rt){const fr=Math.floor(dr/Rt);let gr=ur.get(fr);if(gr===void 0){const yr=this.Xr(fr*Rt),vr=this.Zr((fr+1)*Rt-1);gr=this.Gr(yr,vr,nr),ur.set(fr,gr)}ir=Vt(ir,gr)}{const dr=this.Xr(cr),fr=this.Zr(or);ir=Vt(ir,this.Gr(dr,fr,nr))}return ir}}function Vt(tr,Hn){return tr===null?Hn:Hn===null?tr:{Jr:Math.min(tr.Jr,Hn.Jr),Qr:Math.max(tr.Qr,Hn.Qr)}}const Bt={setLineStyle:a};class It{constructor(Hn){this.th=Hn}nt(Hn,er,nr){this.th.draw(Hn,Bt)}ih(Hn,er,nr){this.th.drawBackground?.(Hn,Bt)}}class Et{constructor(Hn){this.Dn=null,this.sh=Hn}Tt(){const Hn=this.sh.renderer();if(Hn===null)return null;if(this.Dn?.nh===Hn)return this.Dn.eh;const er=new It(Hn);return this.Dn={nh:Hn,eh:er},er}rh(){return this.sh.zOrder?.()??"normal"}}class At{constructor(Hn){this.hh=null,this.ah=Hn}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){const Hn=this.ah.paneViews?.()??[];if(this.hh?.nh===Hn)return this.hh.eh;const er=Hn.map((nr=>new Et(nr)));return this.hh={nh:Hn,eh:er},er}jn(Hn,er){return this.ah.hitTest?.(Hn,er)??null}}let zt=class extends At{us(){return[]}};class Lt{constructor(Hn){this.th=Hn}nt(Hn,er,nr){this.th.draw(Hn,Bt)}ih(Hn,er,nr){this.th.drawBackground?.(Hn,Bt)}}class Ot{constructor(Hn){this.Dn=null,this.sh=Hn}Tt(){const Hn=this.sh.renderer();if(Hn===null)return null;if(this.Dn?.nh===Hn)return this.Dn.eh;const er=new Lt(Hn);return this.Dn={nh:Hn,eh:er},er}rh(){return this.sh.zOrder?.()??"normal"}}function Nt(tr){return{ri:tr.text(),Ii:tr.coordinate(),Bi:tr.fixedCoordinate?.(),R:tr.textColor(),Z:tr.backColor(),Vt:tr.visible?.()??!0,pi:tr.tickVisible?.()??!0}}class Ft{constructor(Hn,er){this.Gt=new q,this._h=Hn,this.uh=er}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Nt(this._h)}),this.Gt}}class Wt extends H{constructor(Hn,er){super(),this._h=Hn,this.Yi=er}qi(Hn,er,nr){const ir=Nt(this._h);nr.Z=ir.Z,Hn.R=ir.R;const rr=2/12*this.Yi.P();nr.Ti=rr,nr.Ri=rr,nr.Ii=ir.Ii,nr.Bi=ir.Bi,Hn.ri=ir.ri,Hn.Vt=ir.Vt,Hn.pi=ir.pi}}class Ht extends At{constructor(Hn,er){super(Hn),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=er}cs(){const Hn=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===Hn)return this.dh.eh;const er=this.ge.Qt().Et(),nr=Hn.map((ir=>new Ft(ir,er)));return this.dh={nh:Hn,eh:nr},nr}Ws(){const Hn=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===Hn)return this.fh.eh;const er=this.ge.Ft(),nr=Hn.map((ir=>new Wt(ir,er)));return this.fh={nh:Hn,eh:nr},nr}wh(){const Hn=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===Hn)return this.ph.eh;const er=Hn.map((nr=>new Ot(nr)));return this.ph={nh:Hn,eh:er},er}gh(){const Hn=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===Hn)return this.mh.eh;const er=Hn.map((nr=>new Ot(nr)));return this.mh={nh:Hn,eh:er},er}Mh(Hn,er){return this.ah.autoscaleInfo?.(Hn,er)??null}}function Ut(tr,Hn,er,nr){tr.forEach((ir=>{Hn(ir).forEach((rr=>{rr.rh()===er&&nr.push(rr)}))}))}function $t(tr){return tr.Fs()}function qt(tr){return tr.wh()}function Yt(tr){return tr.gh()}const jt=["Area","Line","Baseline"];class Kt extends St{constructor(Hn,er,nr,ir,rr){super(Hn),this.Yt=new Dt,this.er=new ft(this),this.bh=[],this.Sh=new _t(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=nr,this.kh=er;const sr=new pt(this);this.vs=[sr],this.rr=new at(sr,this,Hn),jt.includes(this.kh)&&(this.xh=new dt(this)),this.Th(),this.sh=ir(this,this.Qt(),rr)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(Hn){return this.Ps.priceLineColor||Hn}ye(Hn){const er={ke:!0},nr=this.Ft();if(this.Qt().Et().Ki()||nr.Ki()||this.Yt.Ki())return er;const ir=this.Qt().Et().Pe(),rr=this.zt();if(ir===null||rr===null)return er;let sr,ar;if(Hn){const ur=this.Yt.Ar();if(ur===null)return er;sr=ur,ar=ur.Re}else{const ur=this.Yt.Fr(ir.bi(),-1);if(ur===null||(sr=this.Yt.kr(ur.Re),sr===null))return er;ar=ur.Re}const or=sr.Wt[3],lr=this.Rh().Dr(ar,{Wt:sr}),cr=nr.Nt(or,rr.Wt);return{ke:!1,gt:or,ri:nr.Zi(or,rr.Wt),Oe:nr.Dh(or),Ne:nr.Vh(or,rr.Wt),R:lr.cr,Ii:cr,Re:ar}}Rh(){return this.Ch!==null||(this.Ch=new Ct(this)),this.Ch}N(){return this.Ps}hr(Hn){const er=Hn.priceScaleId;er!==void 0&&er!==this.Ps.priceScaleId&&this.Qt().Bh(this,er),f(this.Ps,Hn),Hn.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(Hn,er){this.Yt.ht(Hn),this.sh.yt("data"),this.xh!==null&&(er&&er.zh?this.xh.be():Hn.length===0&&this.xh.Me());const nr=this.Qt().Hn(this);this.Qt().Lh(nr),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(Hn){const er=new bt(this,Hn);return this.bh.push(er),this.Qt().Eh(this),er}Nh(Hn){const er=this.bh.indexOf(Hn);er!==-1&&this.bh.splice(er,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const Hn=this.Wh();return Hn===null?null:{Wt:Hn.Wt[3],Hh:Hn.wt}}Wh(){const Hn=this.Qt().Et().Pe();if(Hn===null)return null;const er=Hn.Uh();return this.Yt.Fr(er,1)}Xs(){return this.Yt}$h(Hn){const er=this.Yt.kr(Hn);return er===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:er.Wt[0],Yh:er.Wt[1],jh:er.Wt[2],Kh:er.Wt[3]}:er.Wt[3]}Xh(Hn){const er=[];Ut(this.yh,$t,"top",er);const nr=this.xh;return nr!==null&&nr.Vt()&&(this.Ph===null&&nr.xe()&&(this.Ph=setTimeout((()=>{this.Ph=null,this.Qt().Zh()}),0)),nr.Se(),er.unshift(nr)),er}Fs(){const Hn=[];this.Gh()||Hn.push(this.Sh),Hn.push(this.sh,this.er);const er=this.bh.map((nr=>nr.lr()));return Hn.push(...er),Ut(this.yh,$t,"normal",Hn),Hn}Jh(){return this.Qh($t,"bottom")}ta(Hn){return this.Qh(qt,Hn)}ia(Hn){return this.Qh(Yt,Hn)}sa(Hn,er){return this.yh.map((nr=>nr.jn(Hn,er))).filter((nr=>nr!==null))}us(){return[this.rr,...this.bh.map((Hn=>Hn._r()))]}Ws(Hn,er){if(er!==this.es&&!this.Gh())return[];const nr=[...this.vs];for(const ir of this.bh)nr.push(ir.ur());return this.yh.forEach((ir=>{nr.push(...ir.Ws())})),nr}cs(){const Hn=[];return this.yh.forEach((er=>{Hn.push(...er.cs())})),Hn}Mh(Hn,er){if(this.Ps.autoscaleInfoProvider!==void 0){const nr=this.Ps.autoscaleInfoProvider((()=>{const ir=this.na(Hn,er);return ir===null?null:ir.Xe()}));return wt.Ze(nr)}return this.na(Hn,er)}nh(){const Hn=this.Ps.priceFormat;return Hn.base??1/Hn.minMove}ea(){return this.ra}Ns(){this.sh.yt();for(const Hn of this.vs)Hn.yt();for(const Hn of this.bh)Hn.yt();this.er.yt(),this.Sh.yt(),this.xh?.yt(),this.yh.forEach((Hn=>Hn.Ns()))}Ft(){return u(super.Ft())}At(Hn){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const er=this.Yt.kr(Hn);return er===null?null:{gt:er.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(Hn)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(Hn){this.yh.push(new Ht(Hn,this))}ua(Hn){this.yh=this.yh.filter((er=>er.oh()!==Hn))}ca(){if(this.kh==="Custom")return Hn=>this.sh.da(Hn)}fa(){if(this.kh==="Custom")return Hn=>this.sh.pa(Hn)}va(){return this.Yt.qr()}Gh(){return!Z(this.Ft().ma())}na(Hn,er){if(!v(Hn)||!v(er)||this.Yt.Ki())return null;const nr=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],ir=this.Yt.Ur(Hn,er,nr);let rr=ir!==null?new mt(ir.Jr,ir.Qr):null,sr=null;if(this.Rr()==="Histogram"){const ar=this.Ps.base,or=new mt(ar,ar);rr=rr!==null?rr.vn(or):or}return this.yh.forEach((ar=>{const or=ar.Mh(Hn,er);if(or?.priceRange){const lr=new mt(or.priceRange.minValue,or.priceRange.maxValue);rr=rr!==null?rr.vn(lr):lr}or?.margins&&(sr=or.margins)})),new wt(rr,sr)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const Hn=this.Ps.crosshairMarkerBorderColor;if(Hn.length!==0)return Hn}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(Hn){switch(this.kh){case"Line":case"Area":case"Baseline":{const er=this.Ps.crosshairMarkerBackgroundColor;if(er.length!==0)return er}}return this.Rh().Dr(Hn).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const Hn=this.Ps.priceFormat.formatter;this.ra={format:Hn,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(er=>er.map(Hn))};break}case"volume":this.ra=new nt(this.Ps.priceFormat.precision);break;case"percent":this.ra=new st(this.Ps.priceFormat.precision);break;default:{const Hn=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new it(Hn,this.Ps.priceFormat.minMove*Hn)}}this.es!==null&&this.es.wa()}Qh(Hn,er){const nr=[];return Ut(this.yh,Hn,er,nr),nr}}const Xt=[3],Zt=[0,1,2,3];class Gt{constructor(Hn){this.Ps=Hn}ga(Hn,er,nr){let ir=Hn;if(this.Ps.mode===0)return ir;const rr=nr.ks(),sr=rr.zt();if(sr===null)return ir;const ar=rr.Nt(Hn,sr),or=nr.Ma().filter((cr=>cr instanceof Kt)).reduce(((cr,ur)=>{if(nr.Un(ur)||!ur.Vt())return cr;const dr=ur.Ft(),fr=ur.Xs();if(dr.Ki()||!fr.Te(er))return cr;const gr=fr.kr(er);if(gr===null)return cr;const yr=c(ur.zt()),vr=this.Ps.mode===3?Zt:Xt;return cr.concat(vr.map((jr=>dr.Nt(gr.Wt[jr],yr.Wt))))}),[]);if(or.length===0)return ir;or.sort(((cr,ur)=>Math.abs(cr-ar)-Math.abs(ur-ar)));const lr=or[0];return ir=rr.Ts(lr,sr),ir}}function Jt(tr,Hn,er){return Math.min(Math.max(tr,Hn),er)}function Qt(tr,Hn,er){return Hn-tr<=er}class ii extends R{constructor(){super(...arguments),this.Yt=null}ht(Hn){this.Yt=Hn}et({context:Hn,bitmapSize:er,horizontalPixelRatio:nr,verticalPixelRatio:ir}){if(this.Yt===null)return;const rr=Math.max(1,Math.floor(nr));Hn.lineWidth=rr,(function(sr,ar){sr.save(),sr.lineWidth%2&&sr.translate(.5,.5),ar(),sr.restore()})(Hn,(()=>{const sr=u(this.Yt);if(sr.ba){Hn.strokeStyle=sr.Sa,a(Hn,sr.xa),Hn.beginPath();for(const ar of sr.Ca){const or=Math.round(ar.Pa*nr);Hn.moveTo(or,-rr),Hn.lineTo(or,er.height+rr)}Hn.stroke()}if(sr.ya){Hn.strokeStyle=sr.ka,a(Hn,sr.Ta),Hn.beginPath();for(const ar of sr.Ra){const or=Math.round(ar.Pa*ir);Hn.moveTo(-rr,or),Hn.lineTo(er.width+rr,or)}Hn.stroke()}}))}}class si{constructor(Hn){this.Gt=new ii,this.xt=!0,this.Pt=Hn}yt(){this.xt=!0}Tt(){if(this.xt){const Hn=this.Pt.Qt().N().grid,er={ya:Hn.horzLines.visible,ba:Hn.vertLines.visible,ka:Hn.horzLines.color,Sa:Hn.vertLines.color,Ta:Hn.horzLines.style,xa:Hn.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map((nr=>({Pa:nr.coord})))};this.Gt.ht(er),this.xt=!1}return this.Gt}}class ni{constructor(Hn){this.sh=new si(Hn)}lr(){return this.sh}}const ei={Va:4,Ba:1e-4};function ri(tr,Hn){const er=100*(tr-Hn)/Hn;return Hn<0?-er:er}function hi(tr,Hn){const er=ri(tr.$e(),Hn),nr=ri(tr.qe(),Hn);return new mt(er,nr)}function ai(tr,Hn){const er=100*(tr-Hn)/Hn+100;return Hn<0?-er:er}function li(tr,Hn){const er=ai(tr.$e(),Hn),nr=ai(tr.qe(),Hn);return new mt(er,nr)}function oi(tr,Hn){const er=Math.abs(tr);if(er<1e-15)return 0;const nr=Math.log10(er+Hn.Ba)+Hn.Va;return tr<0?-nr:nr}function _i(tr,Hn){const er=Math.abs(tr);if(er<1e-15)return 0;const nr=Math.pow(10,er-Hn.Va)-Hn.Ba;return tr<0?-nr:nr}function ui(tr,Hn){if(tr===null)return null;const er=oi(tr.$e(),Hn),nr=oi(tr.qe(),Hn);return new mt(er,nr)}function ci(tr,Hn){if(tr===null)return null;const er=_i(tr.$e(),Hn),nr=_i(tr.qe(),Hn);return new mt(er,nr)}function di(tr){if(tr===null)return ei;const Hn=Math.abs(tr.qe()-tr.$e());if(Hn>=1||Hn<1e-15)return ei;const er=Math.ceil(Math.abs(Math.log10(Hn))),nr=ei.Va+er;return{Va:nr,Ba:1/Math.pow(10,nr)}}class fi{constructor(Hn,er){if(this.Ia=Hn,this.Ea=er,(function(nr){if(nr<0)return!1;if(nr>1e18)return!0;for(let ir=nr;ir>1;ir/=10)if(ir%10!=0)return!1;return!0})(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let nr=this.Ia;nr!==1;){if(nr%2==0)this.Aa.push(2),nr/=2;else{if(nr%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),nr/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(Hn,er,nr){const ir=this.Ia===0?0:1/this.Ia;let rr=Math.pow(10,Math.max(0,Math.ceil(Math.log10(Hn-er)))),sr=0,ar=this.Ea[0];for(;;){const ur=Qt(rr,ir,1e-14)&&rr>ir+1e-14,dr=Qt(rr,nr*ar,1e-14),fr=Qt(rr,1,1e-14);if(!(ur&&dr&&fr))break;rr/=ar,ar=this.Ea[++sr%this.Ea.length]}if(rr<=ir+1e-14&&(rr=ir),rr=Math.max(1,rr),this.Aa.length>0&&(or=rr,lr=1,cr=1e-14,Math.abs(or-lr)<cr))for(sr=0,ar=this.Aa[0];Qt(rr,nr*ar,1e-14)&&rr>ir+1e-14;)rr/=ar,ar=this.Aa[++sr%this.Aa.length];var or,lr,cr;return rr}}class pi{constructor(Hn,er,nr,ir){this.La=[],this.Yi=Hn,this.Ia=er,this.Oa=nr,this.Na=ir}za(Hn,er){if(Hn<er)throw new Error("high < low");const nr=this.Yi.$t(),ir=(Hn-er)*this.Fa()/nr,rr=new fi(this.Ia,[2,2.5,2]),sr=new fi(this.Ia,[2,2,2.5]),ar=new fi(this.Ia,[2.5,2,2]),or=[];return or.push(rr.za(Hn,er,ir),sr.za(Hn,er,ir),ar.za(Hn,er,ir)),(function(lr){if(lr.length<1)throw Error("array is empty");let cr=lr[0];for(let ur=1;ur<lr.length;++ur)lr[ur]<cr&&(cr=lr[ur]);return cr})(or)}Wa(){const Hn=this.Yi,er=Hn.zt();if(er===null)return void(this.La=[]);const nr=Hn.$t(),ir=this.Oa(nr-1,er),rr=this.Oa(0,er),sr=this.Yi.N().entireTextOnly?this.Ha()/2:0,ar=sr,or=nr-1-sr,lr=Math.max(ir,rr),cr=Math.min(ir,rr);if(lr===cr)return void(this.La=[]);const ur=this.za(lr,cr);if(this.Ua(er,ur,lr,cr,ar,or),Hn.$a()&&this.qa(ur,cr,lr)){const gr=this.Yi.Ya();this.ja(er,ur,ar,or,gr,2*gr)}const dr=this.La.map((gr=>gr.Ka)),fr=this.Yi.Xa(dr);for(let gr=0;gr<this.La.length;gr++)this.La[gr].Za=fr[gr]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(Hn,er,nr,ir,rr,sr){const ar=this.La,or=this.Yi;let lr=nr%er;lr+=lr<0?er:0;const cr=nr>=ir?1:-1;let ur=null,dr=0;for(let fr=nr-lr;fr>ir;fr-=er){const gr=this.Na(fr,Hn,!0);ur!==null&&Math.abs(gr-ur)<this.Fa()||gr<rr||gr>sr||(dr<ar.length?(ar[dr].Pa=gr,ar[dr].Za=or.Ga(fr),ar[dr].Ka=fr):ar.push({Pa:gr,Za:or.Ga(fr),Ka:fr}),dr++,ur=gr,or.Ja()&&(er=this.za(fr*cr,ir)))}ar.length=dr}ja(Hn,er,nr,ir,rr,sr){const ar=this.La,or=this.Qa(Hn,nr,rr,sr),lr=this.Qa(Hn,ir,-sr,-rr),cr=this.Na(0,Hn,!0)-this.Na(er,Hn,!0);ar.length>0&&ar[0].Pa-or.Pa<cr/2&&ar.shift(),ar.length>0&&lr.Pa-ar[ar.length-1].Pa<cr/2&&ar.pop(),ar.unshift(or),ar.push(lr)}Qa(Hn,er,nr,ir){const rr=(nr+ir)/2,sr=this.Oa(er+nr,Hn),ar=this.Oa(er+ir,Hn),or=Math.min(sr,ar),lr=Math.max(sr,ar),cr=Math.max(.1,this.za(lr,or)),ur=this.Oa(er+rr,Hn),dr=ur-ur%cr,fr=this.Na(dr,Hn,!0);return{Za:this.Yi.Ga(dr),Pa:fr,Ka:dr}}qa(Hn,er,nr){let ir=c(this.Yi.Qe());return this.Yi.Ja()&&(ir=ci(ir,this.Yi.tl())),ir.$e()-er<Hn&&nr-ir.qe()<Hn}}function vi$1(tr){return tr.slice().sort(((Hn,er)=>u(Hn.hs())-u(er.hs())))}var mi;(function(tr){tr[tr.Normal=0]="Normal",tr[tr.Logarithmic=1]="Logarithmic",tr[tr.Percentage=2]="Percentage",tr[tr.IndexedTo100=3]="IndexedTo100"})(mi||(mi={}));const wi=new st,gi=new it(100,1);class Mi{constructor(Hn,er,nr,ir,rr){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new d,this.ul=new d,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=gi,this.wl=di(null),this.gl=Hn,this.Ps=er,this.Ml=nr,this.bl=ir,this.Sl=rr,this.xl=new pi(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(Hn){if(f(this.Ps,Hn),this.wa(),Hn.mode!==void 0&&this.yl({ie:Hn.mode}),Hn.scaleMargins!==void 0){const er=_(Hn.scaleMargins.top),nr=_(Hn.scaleMargins.bottom);if(er<0||er>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${er}`);if(nr<0||nr>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${nr}`);if(er+nr>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${er+nr}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(Hn){const er=this.ie();let nr=null;Hn.sn!==void 0&&(this.Ps.autoScale=Hn.sn),Hn.ie!==void 0&&(this.Ps.mode=Hn.ie,Hn.ie!==2&&Hn.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),er.ie===1&&Hn.ie!==er.ie&&((function(rr,sr){if(rr===null)return!1;const ar=_i(rr.$e(),sr),or=_i(rr.qe(),sr);return isFinite(ar)&&isFinite(or)})(this.Ge,this.wl)?(nr=ci(this.Ge,this.wl),nr!==null&&this.Bl(nr)):this.Ps.autoScale=!0),Hn.ie===1&&Hn.ie!==er.ie&&(nr=ui(this.Ge,this.wl),nr!==null&&this.Bl(nr));const ir=er.ie!==this.Ps.mode;ir&&(er.ie===2||this.Le())&&this.wa(),ir&&(er.ie===3||this.Dl())&&this.wa(),Hn.Vl!==void 0&&er.Vl!==Hn.Vl&&(this.Ps.invertScale=Hn.Vl,this.Il()),this.ul.p(er,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(Hn){this.il!==Hn&&(this.il=Hn,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const Hn=this.$t()-this.Ll()-this.Ol();return this.sl=Hn,Hn}Qe(){return this.Nl(),this.Ge}Bl(Hn,er){const nr=this.Ge;(er||nr===null&&Hn!==null||nr!==null&&!nr.He(Hn))&&(this.pl=null,this.Ge=Hn)}Fl(Hn){this.Bl(Hn),this.Wl(Hn!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(Hn){return this.Vl()?Hn:this.$t()-1-Hn}Nt(Hn,er){return this.Le()?Hn=ri(Hn,er):this.Dl()&&(Hn=ai(Hn,er)),this.Pl(Hn,er)}Ul(Hn,er,nr){this.Nl();const ir=this.Ol(),rr=u(this.Qe()),sr=rr.$e(),ar=rr.qe(),or=this.zl()-1,lr=this.Vl(),cr=or/(ar-sr),ur=nr===void 0?0:nr.from,dr=nr===void 0?Hn.length:nr.to,fr=this.$l();for(let gr=ur;gr<dr;gr++){const yr=Hn[gr],vr=yr.gt;if(isNaN(vr))continue;let jr=vr;fr!==null&&(jr=fr(yr.gt,er));const Sr=ir+cr*(jr-sr),Tr=lr?Sr:this.il-1-Sr;yr.ut=Tr}}ql(Hn,er,nr){this.Nl();const ir=this.Ol(),rr=u(this.Qe()),sr=rr.$e(),ar=rr.qe(),or=this.zl()-1,lr=this.Vl(),cr=or/(ar-sr),ur=nr===void 0?0:nr.from,dr=nr===void 0?Hn.length:nr.to,fr=this.$l();for(let gr=ur;gr<dr;gr++){const yr=Hn[gr];let vr=yr.qh,jr=yr.Yh,Sr=yr.jh,Tr=yr.Kh;fr!==null&&(vr=fr(yr.qh,er),jr=fr(yr.Yh,er),Sr=fr(yr.jh,er),Tr=fr(yr.Kh,er));let Lr=ir+cr*(vr-sr),Mr=lr?Lr:this.il-1-Lr;yr.Yl=Mr,Lr=ir+cr*(jr-sr),Mr=lr?Lr:this.il-1-Lr,yr.jl=Mr,Lr=ir+cr*(Sr-sr),Mr=lr?Lr:this.il-1-Lr,yr.Kl=Mr,Lr=ir+cr*(Tr-sr),Mr=lr?Lr:this.il-1-Lr,yr.Xl=Mr}}Ts(Hn,er){const nr=this.Cl(Hn,er);return this.Zl(nr,er)}Zl(Hn,er){let nr=Hn;return this.Le()?nr=(function(ir,rr){return rr<0&&(ir=-ir),ir/100*rr+rr})(nr,er):this.Dl()&&(nr=(function(ir,rr){return ir-=100,rr<0&&(ir=-ir),ir/100*rr+rr})(nr,er)),nr}Ma(){return this.cl}Dt(){return this.fl||(this.fl=vi$1(this.cl)),this.fl}Gl(Hn){this.cl.indexOf(Hn)===-1&&(this.cl.push(Hn),this.wa(),this.Jl())}Ql(Hn){const er=this.cl.indexOf(Hn);if(er===-1)throw new Error("source is not attached to scale");this.cl.splice(er,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let Hn=null;for(const er of this.cl){const nr=er.zt();nr!==null&&(Hn===null||nr.Hh<Hn.Hh)&&(Hn=nr)}return Hn===null?null:Hn.Wt}Vl(){return this.Ps.invertScale}Da(){const Hn=this.zt()===null;if(this.pl!==null&&(Hn||this.pl.io===Hn))return this.pl.Da;this.xl.Wa();const er=this.xl.Da();return this.pl={Da:er,io:Hn},this._l.p(),er}so(){return this._l}no(Hn){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-Hn,this.nl=u(this.Qe()).Ue()))}eo(Hn){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(Hn=this.il-Hn)<0&&(Hn=0);let er=(this.vl+.2*(this.il-1))/(Hn+.2*(this.il-1));const nr=u(this.nl).Ue();er=Math.max(er,.1),nr.je(er),this.Bl(nr)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(Hn){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=Hn,this.nl=u(this.Qe()).Ue()))}ao(Hn){if(this.Tl()||this.ml===null)return;const er=u(this.Qe()).Ye()/(this.zl()-1);let nr=Hn-this.ml;this.Vl()&&(nr*=-1);const ir=nr*er,rr=u(this.nl).Ue();rr.Ke(ir),this.Bl(rr,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(Hn,er){switch(this.Ps.mode){case 2:return this.oo(ri(Hn,er));case 3:return this.ea().format(ai(Hn,er));default:return this.nr(Hn)}}Ga(Hn){switch(this.Ps.mode){case 2:return this.oo(Hn);case 3:return this.ea().format(Hn);default:return this.nr(Hn)}}Xa(Hn){switch(this.Ps.mode){case 2:return this._o(Hn);case 3:return this.ea().formatTickmarks(Hn);default:return this.uo(Hn)}}Dh(Hn){return this.nr(Hn,u(this.dl).ea())}Vh(Hn,er){return Hn=ri(Hn,er),this.oo(Hn,wi)}co(){return this.cl}do(Hn){this.el={hl:Hn,rl:!1}}Ns(){this.cl.forEach((Hn=>Hn.Ns()))}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let Hn=1/0;this.dl=null;for(const nr of this.cl)nr.hs()<Hn&&(Hn=nr.hs(),this.dl=nr);let er=100;this.dl!==null&&(er=Math.round(this.dl.nh())),this.ra=gi,this.Le()?(this.ra=wi,er=100):this.Dl()?(this.ra=new it(100,1),er=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new pi(this,er,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(Hn){this.al=Hn}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(Hn,er){if(this.Nl(),this.Ki())return 0;Hn=this.Ja()&&Hn?oi(Hn,this.wl):Hn;const nr=u(this.Qe()),ir=this.Ol()+(this.zl()-1)*(Hn-nr.$e())/nr.Ye();return this.Hl(ir)}Cl(Hn,er){if(this.Nl(),this.Ki())return 0;const nr=this.Hl(Hn),ir=u(this.Qe()),rr=ir.$e()+ir.Ye()*((nr-this.Ol())/(this.zl()-1));return this.Ja()?_i(rr,this.wl):rr}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const Hn=this.el.hl;if(Hn===null)return;let er=null;const nr=this.co();let ir=0,rr=0;for(const or of nr){if(!or.Vt())continue;const lr=or.zt();if(lr===null)continue;const cr=or.Mh(Hn.Uh(),Hn.bi());let ur=cr&&cr.Qe();if(ur!==null){switch(this.Ps.mode){case 1:ur=ui(ur,this.wl);break;case 2:ur=hi(ur,lr.Wt);break;case 3:ur=li(ur,lr.Wt)}if(er=er===null?ur:er.vn(u(ur)),cr!==null){const dr=cr.tr();dr!==null&&(ir=Math.max(ir,dr.above),rr=Math.max(rr,dr.below))}}}if(this.$a()&&(ir=Math.max(ir,this.Ya()),rr=Math.max(rr,this.Ya())),ir===this.ll&&rr===this.ol||(this.ll=ir,this.ol=rr,this.pl=null,this.kl()),er!==null){if(er.$e()===er.qe()){const or=5*this.fo();this.Ja()&&(er=ci(er,this.wl)),er=new mt(er.$e()-or,er.qe()+or),this.Ja()&&(er=ui(er,this.wl))}if(this.Ja()){const or=ci(er,this.wl),lr=di(or);if(sr=lr,ar=this.wl,sr.Va!==ar.Va||sr.Ba!==ar.Ba){const cr=this.nl!==null?ci(this.nl,this.wl):null;this.wl=lr,er=ui(or,lr),cr!==null&&(this.nl=ui(cr,lr))}}this.Bl(er)}else this.Ge===null&&(this.Bl(new mt(-.5,.5)),this.wl=di(null));var sr,ar}$l(){return this.Le()?ri:this.Dl()?ai:this.Ja()?Hn=>oi(Hn,this.wl):null}vo(Hn,er,nr){return er===void 0?(nr===void 0&&(nr=this.ea()),nr.format(Hn)):er(Hn)}mo(Hn,er,nr){return er===void 0?(nr===void 0&&(nr=this.ea()),nr.formatTickmarks(Hn)):er(Hn)}nr(Hn,er){return this.vo(Hn,this.bl.priceFormatter,er)}uo(Hn,er){const nr=this.bl.priceFormatter;return this.mo(Hn,this.bl.tickmarksPriceFormatter??(nr?ir=>ir.map(nr):void 0),er)}oo(Hn,er){return this.vo(Hn,this.bl.percentageFormatter,er)}_o(Hn,er){const nr=this.bl.percentageFormatter;return this.mo(Hn,this.bl.tickmarksPercentageFormatter??(nr?ir=>ir.map(nr):void 0),er)}}function bi(tr){return tr instanceof Kt}class Si{constructor(Hn,er){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new d,this.yh=[],this.uh=Hn,this.ts=er,this.Co=new ni(this);const nr=er.N();this.Po=this.yo("left",nr.leftPriceScale),this.ko=this.yo("right",nr.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(nr)}Ro(Hn){if(Hn.leftPriceScale&&this.Po.hr(Hn.leftPriceScale),Hn.rightPriceScale&&this.ko.hr(Hn.rightPriceScale),Hn.localization&&(this.Po.wa(),this.ko.wa()),Hn.overlayPriceScales){const er=Array.from(this.wo.values());for(const nr of er){const ir=u(nr[0].Ft());ir.hr(Hn.overlayPriceScales),Hn.localization&&ir.wa()}}}Do(Hn){switch(Hn){case"left":return this.Po;case"right":return this.ko}return this.wo.has(Hn)?_(this.wo.get(Hn))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach((Hn=>{Hn.m&&Hn.m()})),this.yh=this.yh.filter((Hn=>{const er=Hn.oh();return er.detached&&er.detached(),!1})),this.xo.p()}Bo(){return this.bo}Io(Hn){this.bo=Hn}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(Hn){this.Mo=Hn,this.Ao()}Al(Hn){this.il=Hn,this.Po.Al(Hn),this.ko.Al(Hn),this.cl.forEach((er=>{if(this.Un(er)){const nr=er.Ft();nr!==null&&nr.Al(Hn)}})),this.Ao()}zo(Hn){this.So=Hn}Lo(){return this.So}Oo(){return this.cl.filter(bi)}Ma(){return this.cl}Un(Hn){const er=Hn.Ft();return er===null||this.Po!==er&&this.ko!==er}Gl(Hn,er,nr){this.No(Hn,er,nr?Hn.hs():this.cl.length)}Ql(Hn,er){const nr=this.cl.indexOf(Hn);o(nr!==-1,"removeDataSource: invalid data source"),this.cl.splice(nr,1),er||this.cl.forEach(((sr,ar)=>sr.ls(ar)));const ir=u(Hn.Ft()).ma();if(this.wo.has(ir)){const sr=_(this.wo.get(ir)),ar=sr.indexOf(Hn);ar!==-1&&(sr.splice(ar,1),sr.length===0&&this.wo.delete(ir))}const rr=Hn.Ft();rr&&rr.Ma().indexOf(Hn)>=0&&(rr.Ql(Hn),this.Fo(rr)),this.fl=null}qn(Hn){return Hn===this.Po?"left":Hn===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(Hn,er){Hn.no(er)}$o(Hn,er){Hn.eo(er),this.Ao()}qo(Hn){Hn.ro()}Yo(Hn,er){Hn.ho(er)}jo(Hn,er){Hn.ao(er),this.Ao()}Ko(Hn){Hn.lo()}Ao(){this.cl.forEach((Hn=>{Hn.Ns()}))}ks(){let Hn=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?Hn=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?Hn=this.Po:this.cl.length!==0&&(Hn=this.cl[0].Ft()),Hn===null&&(Hn=this.ko),Hn}$n(){let Hn=null;return this.ts.N().rightPriceScale.visible?Hn=this.ko:this.ts.N().leftPriceScale.visible&&(Hn=this.Po),Hn}Fo(Hn){Hn!==null&&Hn.Tl()&&this.Xo(Hn)}Zo(Hn){const er=this.uh.Pe();Hn.yl({sn:!0}),er!==null&&Hn.do(er),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach((Hn=>{this.Un(Hn)&&this.Fo(Hn.Ft())})),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=vi$1(this.cl)),this.fl}Qo(Hn,er){er=Jt(er,0,this.cl.length-1);const nr=this.cl.indexOf(Hn);o(nr!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(nr,1),this.cl.splice(er,0,Hn),this.cl.forEach(((ir,rr)=>ir.ls(rr))),this.fl=null;for(const ir of[this.Po,this.ko])ir.Jl(),ir.wa();this.ts.ar()}Bt(){return this.Dt().filter(bi)}t_(){return this.xo}i_(){return this.Co}_a(Hn){this.yh.push(new zt(Hn))}ua(Hn){this.yh=this.yh.filter((er=>er.oh()!==Hn)),Hn.detached&&Hn.detached(),this.ts.ar()}s_(){return this.yh}sa(Hn,er){return this.yh.map((nr=>nr.jn(Hn,er))).filter((nr=>nr!==null))}Xo(Hn){const er=Hn.co();if(er&&er.length>0&&!this.uh.Ki()){const nr=this.uh.Pe();nr!==null&&Hn.do(nr)}Hn.Ns()}No(Hn,er,nr){let ir=this.Do(er);if(ir===null&&(ir=this.yo(er,this.ts.N().overlayPriceScales)),this.cl.splice(nr,0,Hn),!Z(er)){const rr=this.wo.get(er)||[];rr.push(Hn),this.wo.set(er,rr)}Hn.ls(nr),ir.Gl(Hn),Hn._s(ir),this.Fo(ir),this.fl=null}To(Hn,er,nr){er.ie!==nr.ie&&this.Xo(Hn)}yo(Hn,er){const nr={visible:!0,autoScale:!0,...g(er)},ir=new Mi(Hn,nr,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return ir.Al(this.$t()),ir}}function xi(tr){return{n_:tr.n_,e_:{Kn:tr.r_.externalId},h_:tr.r_.cursorStyle}}function Ci(tr,Hn,er,nr){for(const ir of tr){const rr=ir.Tt(nr);if(rr!==null&&rr.jn){const sr=rr.jn(Hn,er);if(sr!==null)return{a_:ir,e_:sr}}}return null}function Pi(tr){return tr.Fs!==void 0}function yi(tr,Hn,er){const nr=[tr,...tr.Dt()],ir=(function(rr,sr,ar){let or,lr;for(const dr of rr){const fr=dr.sa?.(sr,ar)??[];for(const gr of fr)cr=gr.zOrder,ur=or?.zOrder,(!ur||cr==="top"&&ur!=="top"||cr==="normal"&&ur==="bottom")&&(or=gr,lr=dr)}var cr,ur;return or&&lr?{r_:or,n_:lr}:null})(nr,Hn,er);if(ir?.r_.zOrder==="top")return xi(ir);for(const rr of nr){if(ir&&ir.n_===rr&&ir.r_.zOrder!=="bottom"&&!ir.r_.isBackground)return xi(ir);if(Pi(rr)){const sr=Ci(rr.Fs(tr),Hn,er,tr);if(sr!==null)return{n_:rr,a_:sr.a_,e_:sr.e_}}if(ir&&ir.n_===rr&&ir.r_.zOrder!=="bottom"&&ir.r_.isBackground)return xi(ir)}return ir?.r_?xi(ir):null}class ki{constructor(Hn,er,nr=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=Hn,this.o_=er,this.Vn=nr}__(Hn){const er=Hn.time,nr=this.o_.cacheKey(er),ir=this.Dn.get(nr);if(ir!==void 0)return ir.u_;if(this.yn===this.Vn){const sr=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(_(sr)),this.Tn++,this.yn--}const rr=this.l_(Hn);return this.Dn.set(nr,{u_:rr,An:this.kn}),this.Rn.set(this.kn,nr),this.yn++,this.kn++,rr}}class Ti{constructor(Hn,er){o(Hn<=er,"right should be >= left"),this.c_=Hn,this.d_=er}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(Hn){return this.c_<=Hn&&Hn<=this.d_}He(Hn){return this.c_===Hn.Uh()&&this.d_===Hn.bi()}}function Ri(tr,Hn){return tr===null||Hn===null?tr===Hn:tr.He(Hn)}class Di{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(Hn){this.v_=Hn,this.Dn=null}w_(Hn,er){this.g_(er),this.Dn=null;for(let nr=er;nr<Hn.length;++nr){const ir=Hn[nr];let rr=this.p_.get(ir.timeWeight);rr===void 0&&(rr=[],this.p_.set(ir.timeWeight,rr)),rr.push({index:nr,time:ir.time,weight:ir.timeWeight,originalTime:ir.originalTime})}}M_(Hn,er,nr,ir,rr){const sr=Math.ceil(er/Hn);return this.Dn!==null&&this.Dn.b_===sr&&rr===this.Dn.S_&&nr===this.Dn.x_||(this.Dn={S_:rr,x_:nr,Da:this.C_(sr,nr,ir),b_:sr}),this.Dn.Da}g_(Hn){if(Hn===0)return void this.p_.clear();const er=[];this.p_.forEach(((nr,ir)=>{Hn<=nr[0].index?er.push(ir):nr.splice(yt(nr,Hn,(rr=>rr.index<Hn)),1/0)}));for(const nr of er)this.p_.delete(nr)}C_(Hn,er,nr){let ir=[];const rr=sr=>!er||nr.has(sr.index);for(const sr of Array.from(this.p_.keys()).sort(((ar,or)=>or-ar))){if(!this.p_.get(sr))continue;const ar=ir;ir=[];const or=ar.length;let lr=0;const cr=_(this.p_.get(sr)),ur=cr.length;let dr=1/0,fr=-1/0;for(let gr=0;gr<ur;gr++){const yr=cr[gr],vr=yr.index;for(;lr<or;){const jr=ar[lr],Sr=jr.index;if(!(Sr<vr&&rr(jr))){dr=Sr;break}lr++,ir.push(jr),fr=Sr,dr=1/0}if(dr-vr>=Hn&&vr-fr>=Hn&&rr(yr))ir.push(yr),fr=vr;else if(this.v_)return ar}for(;lr<or;lr++)rr(ar[lr])&&ir.push(ar[lr])}return ir}}class Vi{constructor(Hn){this.P_=Hn}y_(){return this.P_===null?null:new Ti(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new Vi(null)}}function Bi(tr,Hn){return tr.weight>Hn.weight?tr:Hn}class Ii{constructor(Hn,er,nr,ir){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new Di,this.B_=new Map,this.I_=Vi.T_(),this.E_=!0,this.A_=new d,this.z_=new d,this.L_=new d,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=er,this.bl=nr,this.U_=er.rightOffset,this.q_=er.barSpacing,this.ts=Hn,this.Y_(er),this.o_=ir,this.j_(),this.V_.m_(er.uniformDistribution),this.K_()}N(){return this.Ps}X_(Hn){f(this.bl,Hn),this.Z_(),this.j_()}hr(Hn,er){f(this.Ps,Hn),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),Hn.barSpacing!==void 0&&this.ts.dn(Hn.barSpacing),Hn.rightOffset!==void 0&&this.ts.fn(Hn.rightOffset),this.Y_(Hn),Hn.minBarSpacing===void 0&&Hn.maxBarSpacing===void 0||this.ts.dn(Hn.barSpacing??this.q_),Hn.ignoreWhitespaceIndices!==void 0&&Hn.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(Hn){return this.D_[Hn]?.time??null}ss(Hn){return this.D_[Hn]??null}Q_(Hn,er){if(this.D_.length<1)return null;if(this.o_.key(Hn)>this.o_.key(this.D_[this.D_.length-1].time))return er?this.D_.length-1:null;const nr=yt(this.D_,this.o_.key(Hn),((ir,rr)=>this.o_.key(ir.time)<rr));return this.o_.key(Hn)<this.o_.key(this.D_[nr].time)?er?nr:null:nr}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const Hn=this.Pe();if(Hn===null)return null;const er={from:Hn.Uh(),to:Hn.bi()};return this.eu(er)}eu(Hn){const er=Math.round(Hn.from),nr=Math.round(Hn.to),ir=u(this.ru()),rr=u(this.hu());return{from:u(this.ss(Math.max(ir,er))),to:u(this.ss(Math.min(rr,nr)))}}au(Hn){return{from:u(this.Q_(Hn.from,!0)),to:u(this.Q_(Hn.to,!0))}}Qi(){return this.Mo}Eo(Hn){if(!isFinite(Hn)||Hn<=0||this.Mo===Hn)return;const er=this.su(),nr=this.Mo;if(this.Mo=Hn,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&nr!==0){const ir=this.q_*Hn/nr;this.q_=ir}if(this.Ps.fixLeftEdge&&er!==null&&er.Uh()<=0){const ir=nr-Hn;this.U_-=Math.round(ir/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(Hn){if(this.Ki()||!v(Hn))return 0;const er=this._u()+this.U_-Hn;return this.Mo-(er+.5)*this.q_-1}uu(Hn,er){const nr=this._u(),ir=er===void 0?0:er.from,rr=er===void 0?Hn.length:er.to;for(let sr=ir;sr<rr;sr++){const ar=Hn[sr].wt,or=nr+this.U_-ar,lr=this.Mo-(or+.5)*this.q_-1;Hn[sr]._t=lr}}cu(Hn,er){const nr=Math.ceil(this.du(Hn));return er&&this.Ps.ignoreWhitespaceIndices&&!this.fu(nr)?this.pu(nr):nr}fn(Hn){this.E_=!0,this.U_=Hn,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(Hn){const er=this.q_;if(this.wu(Hn),this.Ps.rightOffsetPixels!==void 0&&er!==0){const nr=this.U_*er/this.q_;this.U_=nr}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const Hn=this.q_,er=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),nr=Math.round(er/Hn),ir=u(this.Pe()),rr=Math.max(ir.Uh(),ir.Uh()-nr),sr=Math.max(ir.bi(),ir.bi()-nr),ar=this.V_.M_(Hn,er,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),or=this.ru()+nr,lr=this.hu()-nr,cr=this.Mu(),ur=this.Ps.fixLeftEdge||cr,dr=this.Ps.fixRightEdge||cr;let fr=0;for(const gr of ar){if(!(rr<=gr.index&&gr.index<=sr))continue;let yr;fr<this.H_.length?(yr=this.H_[fr],yr.coord=this.qt(gr.index),yr.label=this.bu(gr),yr.weight=gr.weight):(yr={needAlignCoordinate:!1,coord:this.qt(gr.index),label:this.bu(gr),weight:gr.weight},this.H_.push(yr)),this.q_>er/2&&!cr?yr.needAlignCoordinate=!1:yr.needAlignCoordinate=ur&&gr.index<=or||dr&&gr.index>=lr,fr++}return this.H_.length=fr,this.N_=this.H_,this.H_}Su(){let Hn;this.E_=!0,this.dn(this.Ps.barSpacing),Hn=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(Hn)}xu(Hn){this.E_=!0,this.R_=Hn,this.ou(),this.G_()}Cu(Hn,er){const nr=this.du(Hn),ir=this.mu(),rr=ir+er*(ir/10);this.dn(rr),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(nr-this.du(Hn)))}no(Hn){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=Hn,this.Pu()))}eo(Hn){if(this.O_===null)return;const er=Jt(this.Mo-Hn,0,this.Mo),nr=Jt(this.Mo-u(this.vl),0,this.Mo);er!==0&&nr!==0&&this.dn(this.O_.mu*er/nr)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(Hn){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=Hn,this.Pu()))}ao(Hn){if(this.ml===null)return;const er=(this.ml-Hn)/this.mu();this.U_=u(this.O_).gu+er,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(Hn,er=400){if(!isFinite(Hn))throw new RangeError("offset is required and must be finite number");if(!isFinite(er)||er<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const nr=this.U_,ir=performance.now();this.ts._n({Ru:rr=>(rr-ir)/er>=1,Du:rr=>{const sr=(rr-ir)/er;return sr>=1?Hn:nr+(Hn-nr)*sr}})}yt(Hn,er){this.E_=!0,this.D_=Hn,this.V_.w_(Hn,er),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(Hn,er){const nr=Hn.f_(),ir=er&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-ir)/nr),this.U_=Hn.bi()-this._u(),er&&(this.U_=ir?ir/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const Hn=this.ru(),er=this.hu();Hn!==null&&er!==null&&this.Eu(new Ti(Hn,er),!0)}zu(Hn){const er=new Ti(Hn.from,Hn.to);this.Eu(er)}ns(Hn){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(Hn.originalTime):this.o_.formatHorzItem(Hn.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const Hn=this.ts.js();for(const er of Hn)for(const nr of er.va())this.F_.set(nr,!0);this.W_++}Mu(){const Hn=this.ts.N().handleScroll,er=this.ts.N().handleScale;return!(Hn.horzTouchDrag||Hn.mouseWheel||Hn.pressedMouseMove||Hn.vertTouchDrag||er.axisDoubleClickReset.time||er.axisPressedMouseMove.time||er.mouseWheel||er.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(Hn){return(this.Mo-1-Hn)/this.q_}du(Hn){const er=this.Lu(Hn),nr=this._u()+this.U_-er;return Math.round(1e6*nr)/1e6}wu(Hn){const er=this.q_;this.q_=Hn,this.lu(),er!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(Vi.T_());const Hn=this._u(),er=this.Mo/this.q_,nr=this.U_+Hn,ir=new Ti(nr-er+1,nr);this.Nu(new Vi(ir))}lu(){const Hn=Jt(this.q_,this.Fu(),this.Wu());this.q_!==Hn&&(this.q_=Hn,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const Hn=this.Hu();Hn!==null&&this.U_<Hn&&(this.U_=Hn,this.E_=!0);const er=this.Uu();this.U_>er&&(this.U_=er,this.E_=!0)}Hu(){const Hn=this.ru(),er=this.R_;return Hn===null||er===null?null:Hn-er-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(Hn){let er=this.B_.get(Hn.weight);return er===void 0&&(er=new ki((nr=>this.$u(nr)),this.o_),this.B_.set(Hn.weight,er)),er.__(Hn)}$u(Hn){return this.o_.formatTickmark(Hn,this.bl)}Nu(Hn){const er=this.I_;this.I_=Hn,Ri(er.y_(),this.I_.y_())||this.A_.p(),Ri(er.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const Hn=this.ru();if(Hn===null)return;const er=this.Pe();if(er===null)return;const nr=er.Uh()-Hn;if(nr<0){const ir=this.U_-nr-1;this.fn(ir)}this.lu()}J_(){this.ou(),this.lu()}fu(Hn){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(Hn)||!1}pu(Hn){const er=(function*(ir){const rr=Math.round(ir),sr=rr<ir;let ar=1;for(;;)sr?(yield rr+ar,yield rr-ar):(yield rr-ar,yield rr+ar),ar++})(Hn),nr=this.hu();for(;nr;){const ir=er.next().value;if(this.F_.get(ir))return ir;if(ir<0||ir>nr)break}return Hn}Y_(Hn){if(Hn.rightOffsetPixels!==void 0){const er=Hn.rightOffsetPixels/(Hn.barSpacing||this.q_);this.ts.fn(er)}}}var Ei,Ai,zi,Li,Oi;(function(tr){tr[tr.OnTouchEnd=0]="OnTouchEnd",tr[tr.OnNextTap=1]="OnNextTap"})(Ei||(Ei={}));class Ni{constructor(Hn,er,nr){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new d,this.Xu=new d,this.Zu=null,this.Gu=Hn,this.Ps=er,this.o_=nr,this.Sl=new k(this.Ps.layout.colorParsers),this.Ju=new C(this),this.uh=new Ii(this,er.timeScale,this.Ps.localization,nr),this.Ct=new X(this,er.crosshair),this.Qu=new Gt(er.crosshair),er.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(G.gn())}ar(){this.rc(G.wn())}Zh(){this.rc(new G(1))}Eh(Hn){const er=this.hc(Hn);this.rc(er)}ac(){return this.ju}lc(Hn){if(this.ju?.n_===Hn?.n_&&this.ju?.e_?.Kn===Hn?.e_?.Kn)return;const er=this.ju;this.ju=Hn,er!==null&&this.Eh(er.n_),Hn!==null&&Hn.n_!==er?.n_&&this.Eh(Hn.n_)}N(){return this.Ps}hr(Hn){f(this.Ps,Hn),this.qu.forEach((er=>er.Ro(Hn))),Hn.timeScale!==void 0&&this.uh.hr(Hn.timeScale),Hn.localization!==void 0&&this.uh.X_(Hn.localization),(Hn.leftPriceScale||Hn.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(Hn,er,nr=0){const ir=this.qu[nr];if(ir===void 0)return;if(Hn==="left")return f(this.Ps,{leftPriceScale:er}),ir.Ro({leftPriceScale:er}),this.Ku.p(),void this.Ih();if(Hn==="right")return f(this.Ps,{rightPriceScale:er}),ir.Ro({rightPriceScale:er}),this.Ku.p(),void this.Ih();const rr=this._c(Hn,nr);rr!==null&&(rr.Ft.hr(er),this.Ku.p())}_c(Hn,er){const nr=this.qu[er];if(nr===void 0)return null;const ir=nr.Do(Hn);return ir!==null?{Us:nr,Ft:ir}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(Hn,er){Hn.Al(er),this.vu()}Eo(Hn){this.Mo=Hn,this.uh.Eo(this.Mo),this.qu.forEach((er=>er.Eo(Hn))),this.vu()}fc(Hn){this.qu.length!==1&&(o(Hn>=0&&Hn<this.qu.length,"Invalid pane index"),this.qu.splice(Hn,1),this.Ih())}vc(Hn,er){if(this.qu.length<2)return;o(Hn>=0&&Hn<this.qu.length,"Invalid pane index");const nr=this.qu[Hn],ir=this.qu.reduce(((ur,dr)=>ur+dr.Bo()),0),rr=this.qu.reduce(((ur,dr)=>ur+dr.$t()),0),sr=rr-30*(this.qu.length-1);er=Math.min(sr,Math.max(30,er));const ar=ir/rr,or=nr.$t();nr.Io(er*ar);let lr=er-or,cr=this.qu.length-1;for(const ur of this.qu)if(ur!==nr){const dr=Math.min(sr,Math.max(30,ur.$t()-lr/cr));lr-=ur.$t()-dr,cr-=1;const fr=dr*ar;ur.Io(fr)}this.Ih()}mc(Hn,er){o(Hn>=0&&Hn<this.qu.length&&er>=0&&er<this.qu.length,"Invalid pane index");const nr=this.qu[Hn],ir=this.qu[er];this.qu[Hn]=ir,this.qu[er]=nr,this.Ih()}wc(Hn,er){if(o(Hn>=0&&Hn<this.qu.length&&er>=0&&er<this.qu.length,"Invalid pane index"),Hn===er)return;const[nr]=this.qu.splice(Hn,1);this.qu.splice(er,0,nr),this.Ih()}Uo(Hn,er,nr){Hn.Uo(er,nr)}$o(Hn,er,nr){Hn.$o(er,nr),this.Ah(),this.rc(this.gc(Hn,2))}qo(Hn,er){Hn.qo(er),this.rc(this.gc(Hn,2))}Yo(Hn,er,nr){er.Tl()||Hn.Yo(er,nr)}jo(Hn,er,nr){er.Tl()||(Hn.jo(er,nr),this.Ah(),this.rc(this.gc(Hn,2)))}Ko(Hn,er){er.Tl()||(Hn.Ko(er),this.rc(this.gc(Hn,2)))}Zo(Hn,er){Hn.Zo(er),this.rc(this.gc(Hn,2))}Mc(Hn){this.uh.no(Hn)}bc(Hn,er){const nr=this.Et();if(nr.Ki()||er===0)return;const ir=nr.Qi();Hn=Math.max(1,Math.min(Hn,ir)),nr.Cu(Hn,er),this.vu()}Sc(Hn){this.xc(0),this.Cc(Hn),this.Pc()}yc(Hn){this.uh.eo(Hn),this.vu()}kc(){this.uh.ro(),this.ar()}xc(Hn){this.uh.ho(Hn)}Cc(Hn){this.uh.ao(Hn),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(Hn,er,nr,ir,rr){this.Ct.Vs(Hn,er);let sr=NaN,ar=this.uh.cu(Hn,!0);const or=this.uh.Pe();or!==null&&(ar=Math.min(Math.max(or.Uh(),ar),or.bi()));const lr=ir.ks(),cr=lr.zt();if(cr!==null&&(sr=lr.Ts(er,cr)),sr=this.Qu.ga(sr,ar,ir),this.Ct.As(ar,sr,ir),this.Zh(),!rr){const ur=yi(ir,Hn,er);this.lc(ur&&{n_:ur.n_,e_:ur.e_,h_:ur.h_||null}),this.Xu.p(this.Ct.It(),{x:Hn,y:er},nr)}}Rc(Hn,er,nr){const ir=nr.ks(),rr=ir.zt(),sr=ir.Nt(Hn,u(rr)),ar=this.uh.Q_(er,!0),or=this.uh.qt(u(ar));this.Tc(or,sr,null,nr,!0)}Dc(Hn){this.uc().Ls(),this.Zh(),Hn||this.Xu.p(null,null,null)}Ah(){const Hn=this.Ct.Us();if(Hn!==null){const er=this.Ct.Is(),nr=this.Ct.Es();this.Tc(er,nr,null,Hn)}this.Ct.Ns()}Vc(Hn,er,nr){const ir=this.uh.Rs(0);er!==void 0&&nr!==void 0&&this.uh.yt(er,nr);const rr=this.uh.Rs(0),sr=this.uh._u(),ar=this.uh.Pe();if(ar!==null&&ir!==null&&rr!==null){const or=ar.Te(sr),lr=this.o_.key(ir)>this.o_.key(rr),cr=Hn!==null&&Hn>sr&&!lr,ur=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,dr=or&&(nr!==void 0||ur)&&this.uh.N().shiftVisibleRangeOnNewBar;if(cr&&!dr){const fr=Hn-sr;this.uh.fn(this.uh.gu()-fr)}}this.uh.xu(Hn)}Lh(Hn){Hn!==null&&Hn.Jo()}Hn(Hn){if((function(nr){return nr instanceof Si})(Hn))return Hn;const er=this.qu.find((nr=>nr.Dt().includes(Hn)));return er===void 0?null:er}vu(){this.qu.forEach((Hn=>Hn.Jo())),this.Ah()}m(){this.qu.forEach((Hn=>Hn.m())),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(Hn,er){const nr=this.tc(er);this.Ec(Hn,nr),this.Yu.push(Hn),this.Yu.length===1?this.Ih():this.ar()}Ac(Hn){const er=this.Hn(Hn),nr=this.Yu.indexOf(Hn);o(nr!==-1,"Series not found");const ir=u(er);this.Yu.splice(nr,1),ir.Ql(Hn),Hn.m&&Hn.m(),this.uh.K_(),this.zc(ir)}Bh(Hn,er){const nr=u(this.Hn(Hn));nr.Ql(Hn,!0),nr.Gl(Hn,er,!0)}Au(){const Hn=G.wn();Hn.rn(),this.rc(Hn)}Lc(Hn){const er=G.wn();er.ln(Hn),this.rc(er)}cn(){const Hn=G.wn();Hn.cn(),this.rc(Hn)}dn(Hn){const er=G.wn();er.dn(Hn),this.rc(er)}fn(Hn){const er=G.wn();er.fn(Hn),this.rc(er)}_n(Hn){const er=G.wn();er._n(Hn),this.rc(er)}hn(){const Hn=G.wn();Hn.hn(),this.rc(Hn)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(Hn,er){if(o(er>=0,"Index should be greater or equal to 0"),er===this.Fc(Hn))return;const nr=u(this.Hn(Hn));nr.Ql(Hn);const ir=this.tc(er);this.Ec(Hn,ir),nr.Ma().length===0&&this.zc(nr),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(Hn){const er=this.ec,nr=this.sc;if(er===nr)return er;if(Hn=Math.max(0,Math.min(100,Math.round(100*Hn))),this.Zu===null||this.Zu.mr!==nr||this.Zu.wr!==er)this.Zu={mr:nr,wr:er,Hc:new Map};else{const rr=this.Zu.Hc.get(Hn);if(rr!==void 0)return rr}const ir=this.Sl.tt(nr,er,Hn/100);return this.Zu.Hc.set(Hn,ir),ir}Uc(Hn){return this.qu.indexOf(Hn)}Xi(){return this.Sl}$c(){return this.qc()}qc(Hn){const er=new Si(this.uh,this);this.qu.push(er);const nr=Hn??this.qu.length-1,ir=G.gn();return ir.Qs(nr,{tn:0,sn:!0}),this.rc(ir),er}tc(Hn){return o(Hn>=0,"Index should be greater or equal to 0"),(Hn=Math.min(this.qu.length,Hn))<this.qu.length?this.qu[Hn]:this.qc(Hn)}Fc(Hn){return this.qu.findIndex((er=>er.Oo().includes(Hn)))}gc(Hn,er){const nr=new G(er);if(Hn!==null){const ir=this.qu.indexOf(Hn);nr.Qs(ir,{tn:er})}return nr}hc(Hn,er){return er===void 0&&(er=2),this.gc(this.Hn(Hn),er)}rc(Hn){this.Gu&&this.Gu(Hn),this.qu.forEach((er=>er.i_().lr().yt()))}Ec(Hn,er){const nr=Hn.N().priceScaleId,ir=nr!==void 0?nr:this.Oc();er.Gl(Hn,ir),Z(ir)||Hn.hr(Hn.N())}nc(Hn){const er=this.Ps.layout;return er.background.type==="gradient"?Hn===0?er.background.topColor:er.background.bottomColor:er.background.color}zc(Hn){!Hn.Lo()&&Hn.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(Hn),1)}}function Fi(tr){if(tr>=1)return 0;let Hn=0;for(;Hn<8;Hn++){const er=Math.round(tr);if(Math.abs(er-tr)<1e-8)return Hn;tr*=10}return Hn}function Wi(tr){return!p(tr)&&!m(tr)}function Hi(tr){return p(tr)}(function(tr){tr[tr.Disabled=0]="Disabled",tr[tr.Continuous=1]="Continuous",tr[tr.OnDataUpdate=2]="OnDataUpdate"})(Ai||(Ai={})),(function(tr){tr[tr.LastBar=0]="LastBar",tr[tr.LastVisible=1]="LastVisible"})(zi||(zi={})),(function(tr){tr.Solid="solid",tr.VerticalGradient="gradient"})(Li||(Li={})),(function(tr){tr[tr.Year=0]="Year",tr[tr.Month=1]="Month",tr[tr.DayOfMonth=2]="DayOfMonth",tr[tr.Time=3]="Time",tr[tr.TimeWithSeconds=4]="TimeWithSeconds"})(Oi||(Oi={}));const Ui=tr=>tr.getUTCFullYear();function $i(tr,Hn,er){return Hn.replace(/yyyy/g,(nr=>tt(Ui(nr),4))(tr)).replace(/yy/g,(nr=>tt(Ui(nr)%100,2))(tr)).replace(/MMMM/g,((nr,ir)=>new Date(nr.getUTCFullYear(),nr.getUTCMonth(),1).toLocaleString(ir,{month:"long"}))(tr,er)).replace(/MMM/g,((nr,ir)=>new Date(nr.getUTCFullYear(),nr.getUTCMonth(),1).toLocaleString(ir,{month:"short"}))(tr,er)).replace(/MM/g,(nr=>tt((ir=>ir.getUTCMonth()+1)(nr),2))(tr)).replace(/dd/g,(nr=>tt((ir=>ir.getUTCDate())(nr),2))(tr))}class qi{constructor(Hn="yyyy-MM-dd",er="default"){this.Yc=Hn,this.jc=er}__(Hn){return $i(Hn,this.Yc,this.jc)}}class Yi{constructor(Hn){this.Kc=Hn||"%h:%m:%s"}__(Hn){return this.Kc.replace("%h",tt(Hn.getUTCHours(),2)).replace("%m",tt(Hn.getUTCMinutes(),2)).replace("%s",tt(Hn.getUTCSeconds(),2))}}const ji={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class Ki{constructor(Hn={}){const er={...ji,...Hn};this.Qc=new qi(er.Xc,er.Jc),this.td=new Yi(er.Zc),this.sd=er.Gc}__(Hn){return`${this.Qc.__(Hn)}${this.sd}${this.td.__(Hn)}`}}function Xi(tr){return 60*tr*60*1e3}function Zi(tr){return 60*tr*1e3}const Gi=[{nd:(Ji=1,1e3*Ji),ed:10},{nd:Zi(1),ed:20},{nd:Zi(5),ed:21},{nd:Zi(30),ed:22},{nd:Xi(1),ed:30},{nd:Xi(3),ed:31},{nd:Xi(6),ed:32},{nd:Xi(12),ed:33}];var Ji;function Qi(tr,Hn){if(tr.getUTCFullYear()!==Hn.getUTCFullYear())return 70;if(tr.getUTCMonth()!==Hn.getUTCMonth())return 60;if(tr.getUTCDate()!==Hn.getUTCDate())return 50;for(let er=Gi.length-1;er>=0;--er)if(Math.floor(Hn.getTime()/Gi[er].nd)!==Math.floor(tr.getTime()/Gi[er].nd))return Gi[er].ed;return 0}function ts(tr){let Hn=tr;if(m(tr)&&(Hn=ss(tr)),!Wi(Hn))throw new Error("time must be of type BusinessDay");const er=new Date(Date.UTC(Hn.year,Hn.month-1,Hn.day,0,0,0,0));return{rd:Math.round(er.getTime()/1e3),hd:Hn}}function is(tr){if(!Hi(tr))throw new Error("time must be of type isUTCTimestamp");return{rd:tr}}function ss(tr){const Hn=new Date(tr);if(isNaN(Hn.getTime()))throw new Error(`Invalid date string=${tr}, expected format=yyyy-mm-dd`);return{day:Hn.getUTCDate(),month:Hn.getUTCMonth()+1,year:Hn.getUTCFullYear()}}function ns(tr){m(tr.time)&&(tr.time=ss(tr.time))}class es{options(){return this.Ps}setOptions(Hn){this.Ps=Hn,this.updateFormatter(Hn.localization)}preprocessData(Hn){Array.isArray(Hn)?(function(er){er.forEach(ns)})(Hn):ns(Hn)}createConverterToInternalObj(Hn){return u((function(er){return er.length===0?null:Wi(er[0].time)||m(er[0].time)?ts:is})(Hn))}key(Hn){return typeof Hn=="object"&&"rd"in Hn?Hn.rd:this.key(this.convertHorzItemToInternal(Hn))}cacheKey(Hn){const er=Hn;return er.hd===void 0?new Date(1e3*er.rd).getTime():new Date(Date.UTC(er.hd.year,er.hd.month-1,er.hd.day)).getTime()}convertHorzItemToInternal(Hn){return Hi(er=Hn)?is(er):Wi(er)?ts(er):ts(ss(er));var er}updateFormatter(Hn){if(!this.Ps)return;const er=Hn.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new Ki({Xc:er,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:Hn.locale}):this.ad=new qi(er,Hn.locale)}formatHorzItem(Hn){const er=Hn;return this.ad.__(new Date(1e3*er.rd))}formatTickmark(Hn,er){const nr=(function(rr,sr,ar){switch(rr){case 0:case 10:return sr?ar?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return sr?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(Hn.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),ir=this.Ps.timeScale;if(ir.tickMarkFormatter!==void 0){const rr=ir.tickMarkFormatter(Hn.originalTime,nr,er.locale);if(rr!==null)return rr}return(function(rr,sr,ar){const or={};switch(sr){case 0:or.year="numeric";break;case 1:or.month="short";break;case 2:or.day="numeric";break;case 3:or.hour12=!1,or.hour="2-digit",or.minute="2-digit";break;case 4:or.hour12=!1,or.hour="2-digit",or.minute="2-digit",or.second="2-digit"}const lr=rr.hd===void 0?new Date(1e3*rr.rd):new Date(Date.UTC(rr.hd.year,rr.hd.month-1,rr.hd.day));return new Date(lr.getUTCFullYear(),lr.getUTCMonth(),lr.getUTCDate(),lr.getUTCHours(),lr.getUTCMinutes(),lr.getUTCSeconds(),lr.getUTCMilliseconds()).toLocaleString(ar,or)})(Hn.time,nr,er.locale)}maxTickMarkWeight(Hn){let er=Hn.reduce(Bi,Hn[0]).weight;return er>30&&er<50&&(er=30),er}fillWeightsForPoints(Hn,er){(function(nr,ir=0){if(nr.length===0)return;let rr=ir===0?null:nr[ir-1].time.rd,sr=rr!==null?new Date(1e3*rr):null,ar=0;for(let or=ir;or<nr.length;++or){const lr=nr[or],cr=new Date(1e3*lr.time.rd);sr!==null&&(lr.timeWeight=Qi(cr,sr)),ar+=lr.time.rd-(rr||lr.time.rd),rr=lr.time.rd,sr=cr}if(ir===0&&nr.length>1){const or=Math.ceil(ar/(nr.length-1)),lr=new Date(1e3*(nr[0].time.rd-or));nr[0].timeWeight=Qi(new Date(1e3*nr[0].time.rd),lr)}})(Hn,er)}static ld(Hn){return f({localization:{dateFormat:"dd MMM 'yy"}},Hn??{})}}const rs=typeof window<"u";function hs(){return!!rs&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function as(){return!!rs&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function ls(tr){return tr+tr%2}function os(tr){rs&&window.chrome!==void 0&&tr.addEventListener("mousedown",(Hn=>{if(Hn.button===1)return Hn.preventDefault(),!1}))}class _s{constructor(Hn,er,nr){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!as(),this.Ld=ir=>{this.Od(ir)},this.Nd=ir=>{if(this.Fd(ir)){const rr=this.Wd(ir);if(++this.dd,this.fd&&this.dd>1){const{Hd:sr}=this.Ud(ds(ir),this.pd);sr<30&&!this.Sd&&this.$d(rr,this.Yd.qd),this.jd()}}else{const rr=this.Wd(ir);if(++this.od,this._d&&this.od>1){const{Hd:sr}=this.Ud(ds(ir),this.ud);sr<5&&!this.bd&&this.Kd(rr,this.Yd.Xd),this.Zd()}}},this.Gd=Hn,this.Yd=er,this.Ps=nr,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(Hn){this.yd&&this.yd();const er=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",er)},this.Gd.addEventListener("mousemove",er),this.Fd(Hn))return;const nr=this.Wd(Hn);this.Kd(nr,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(Hn){if(this.Id||this.gd!==null||this.Fd(Hn))return;const er=this.Wd(Hn);this.Kd(er,this.Yd.nf),this.zd=!0}ef(Hn){const er=ps(Hn.changedTouches,u(this.Ad));if(er===null||(this.Ed=fs(Hn),this.Rd!==null)||this.Bd)return;this.Vd=!0;const nr=this.Ud(ds(er),u(this.gd)),{rf:ir,hf:rr,Hd:sr}=nr;if(this.Md||!(sr<5)){if(!this.Md){const ar=.5*ir,or=rr>=ar&&!this.Ps.af(),lr=ar>rr&&!this.Ps.lf();or||lr||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const ar=this.Wd(Hn,er);this.$d(ar,this.Yd._f),cs(Hn)}}}uf(Hn){if(Hn.button!==0)return;const er=this.Ud(ds(Hn),u(this.wd)),{Hd:nr}=er;if(nr>=5&&(this.bd=!0,this.Zd()),this.bd){const ir=this.Wd(Hn);this.Kd(ir,this.Yd.cf)}}Ud(Hn,er){const nr=Math.abs(er._t-Hn._t),ir=Math.abs(er.ut-Hn.ut);return{rf:nr,hf:ir,Hd:nr+ir}}df(Hn){let er=ps(Hn.changedTouches,u(this.Ad));if(er===null&&Hn.touches.length===0&&(er=Hn.changedTouches[0]),er===null)return;this.Ad=null,this.Ed=fs(Hn),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const nr=this.Wd(Hn,er);if(this.$d(nr,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:ir}=this.Ud(ds(er),this.pd);ir<30&&!this.Sd&&this.$d(nr,this.Yd.qd),this.jd()}else this.Sd||(this.$d(nr,this.Yd.pf),this.Yd.pf&&cs(Hn));this.dd===0&&cs(Hn),Hn.touches.length===0&&this.md&&(this.md=!1,cs(Hn))}Od(Hn){if(Hn.button!==0)return;const er=this.Wd(Hn);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),hs()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(Hn))if(this.Kd(er,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:nr}=this.Ud(ds(Hn),this.ud);nr<5&&!this.bd&&this.Kd(er,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(er,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(Hn){if(this.Ad!==null)return;const er=Hn.changedTouches[0];this.Ad=er.identifier,this.Ed=fs(Hn);const nr=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=ds(er),this.Td&&(this.Td(),this.Td=null);{const rr=this.ef.bind(this),sr=this.df.bind(this);this.Td=()=>{nr.removeEventListener("touchmove",rr),nr.removeEventListener("touchend",sr)},nr.addEventListener("touchmove",rr,{passive:!1}),nr.addEventListener("touchend",sr,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,Hn),240)}const ir=this.Wd(Hn,er);this.$d(ir,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=ds(er))}bf(Hn){if(Hn.button!==0)return;const er=this.Gd.ownerDocument.documentElement;hs()&&er.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=ds(Hn),this.kd&&(this.kd(),this.kd=null);{const ir=this.uf.bind(this),rr=this.Od.bind(this);this.kd=()=>{er.removeEventListener("mousemove",ir),er.removeEventListener("mouseup",rr)},er.addEventListener("mousemove",ir),er.addEventListener("mouseup",rr)}if(this.Id=!0,this.Fd(Hn))return;const nr=this.Wd(Hn);this.Kd(nr,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=ds(Hn))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const Hn=this.Gd.ownerDocument,er=nr=>{this.Yd.xf&&(nr.composed&&this.Gd.contains(nr.composedPath()[0])||nr.target&&this.Gd.contains(nr.target)||this.Yd.xf())};this.Cd=()=>{Hn.removeEventListener("touchstart",er)},this.xd=()=>{Hn.removeEventListener("mousedown",er)},Hn.addEventListener("mousedown",er),Hn.addEventListener("touchstart",er,{passive:!0})}as()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),os(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",(()=>{}),{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",(Hn=>this.Rf(Hn.touches)),{passive:!0}),this.Gd.addEventListener("touchmove",(Hn=>{if(Hn.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const er=us(Hn.touches[0],Hn.touches[1])/this.Dd;this.Yd.kf(this.Rd,er),cs(Hn)}}),{passive:!1}),this.Gd.addEventListener("touchend",(Hn=>{this.Rf(Hn.touches)})))}Rf(Hn){Hn.length===1&&(this.Vd=!1),Hn.length!==2||this.Vd||this.md?this.Df():this.Vf(Hn)}Vf(Hn){const er=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(Hn[0].clientX-er.left+(Hn[1].clientX-er.left))/2,ut:(Hn[0].clientY-er.top+(Hn[1].clientY-er.top))/2},this.Dd=us(Hn[0],Hn[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(Hn){if(this.yd&&this.yd(),this.Fd(Hn)||!this.zd)return;const er=this.Wd(Hn);this.Kd(er,this.Yd.Bf),this.zd=!as()}gf(Hn){const er=ps(Hn.touches,u(this.Ad));if(er===null)return;const nr=this.Wd(Hn,er);this.$d(nr,this.Yd.If),this.Sd=!0,this.md=!0}Fd(Hn){return Hn.sourceCapabilities&&Hn.sourceCapabilities.firesTouchEvents!==void 0?Hn.sourceCapabilities.firesTouchEvents:fs(Hn)<this.Ed+500}$d(Hn,er){er&&er.call(this.Yd,Hn)}Kd(Hn,er){er&&er.call(this.Yd,Hn)}Wd(Hn,er){const nr=er||Hn,ir=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:nr.clientX,clientY:nr.clientY,pageX:nr.pageX,pageY:nr.pageY,screenX:nr.screenX,screenY:nr.screenY,localX:nr.clientX-ir.left,localY:nr.clientY-ir.top,ctrlKey:Hn.ctrlKey,altKey:Hn.altKey,shiftKey:Hn.shiftKey,metaKey:Hn.metaKey,Ef:!Hn.type.startsWith("mouse")&&Hn.type!=="contextmenu"&&Hn.type!=="click",Af:Hn.type,zf:nr.target,a_:Hn.view,Lf:()=>{Hn.type!=="touchstart"&&cs(Hn)}}}}function us(tr,Hn){const er=tr.clientX-Hn.clientX,nr=tr.clientY-Hn.clientY;return Math.sqrt(er*er+nr*nr)}function cs(tr){tr.cancelable&&tr.preventDefault()}function ds(tr){return{_t:tr.pageX,ut:tr.pageY}}function fs(tr){return tr.timeStamp||performance.now()}function ps(tr,Hn){for(let er=0;er<tr.length;++er)if(tr[er].identifier===Hn)return tr[er];return null}class vs{constructor(Hn,er,nr){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=Hn,this.Uf=Hn.$f()[er],this.qf=Hn.$f()[nr],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return size({width:this.Uf.Gf().width,height:1})}Jf(){return size({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(Hn,er,nr){const ir=this.Jf();Hn.fillStyle=this.Hf.N().layout.panes.separatorColor,Hn.fillRect(er,nr,ir.width,ir.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const Hn=document.createElement("div"),er=Hn.style;er.position="fixed",er.display="none",er.zIndex="49",er.top="0",er.left="0",er.width="100%",er.height="100%",er.cursor="row-resize",this.jf.appendChild(Hn);const nr=document.createElement("div"),ir=nr.style;ir.position="absolute",ir.zIndex="50",ir.top="-4px",ir.height="9px",ir.width="100%",ir.backgroundColor="",ir.cursor="row-resize",this.jf.appendChild(nr);const rr={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new _s(nr,rr,{af:()=>!1,lf:()=>!0}),this.Of={ip:nr,tp:Hn}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(Hn){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(Hn){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(Hn){if(this.Of===null)return;const er=this.Uf.ap().Bo()+this.qf.ap().Bo(),nr=er/(this.Uf.Gf().height+this.qf.Gf().height),ir=30*nr;er<=2*ir||(this.Wf={lp:Hn.pageY,op:this.Uf.ap().Bo(),_p:er-ir,up:er,cp:nr,dp:ir},this.Of.tp.style.display="block")}rp(Hn){const er=this.Wf;if(er===null)return;const nr=(Hn.pageY-er.lp)*er.cp,ir=Jt(er.op+nr,er.dp,er._p);this.Uf.ap().Io(ir),this.qf.ap().Io(er.up-ir),this.Hf.Qt().Ih()}hp(Hn){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function ms(tr,Hn){return tr.fp-Hn.fp}function ws(tr,Hn,er){const nr=(tr.fp-Hn.fp)/(tr.wt-Hn.wt);return Math.sign(nr)*Math.min(Math.abs(nr),er)}class gs{constructor(Hn,er,nr,ir){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=Hn,this.xp=er,this.Cp=nr,this.Mn=ir}Pp(Hn,er){if(this.pp!==null){if(this.pp.wt===er)return void(this.pp.fp=Hn);if(Math.abs(this.pp.fp-Hn)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:er,fp:Hn}}le(Hn,er){if(this.pp===null||this.vp===null||er-this.pp.wt>50)return;let nr=0;const ir=ws(this.pp,this.vp,this.xp),rr=ms(this.pp,this.vp),sr=[ir],ar=[rr];if(nr+=rr,this.mp!==null){const lr=ws(this.vp,this.mp,this.xp);if(Math.sign(lr)===Math.sign(ir)){const cr=ms(this.vp,this.mp);if(sr.push(lr),ar.push(cr),nr+=cr,this.wp!==null){const ur=ws(this.mp,this.wp,this.xp);if(Math.sign(ur)===Math.sign(ir)){const dr=ms(this.mp,this.wp);sr.push(ur),ar.push(dr),nr+=dr}}}}let or=0;for(let lr=0;lr<sr.length;++lr)or+=ar[lr]/nr*sr[lr];Math.abs(or)<this.Sp||(this.gp={fp:Hn,wt:er},this.bp=or,this.Mp=(function(lr,cr){const ur=Math.log(cr);return Math.log(1*ur/-lr)/ur})(Math.abs(or),this.Cp))}Du(Hn){const er=u(this.gp),nr=Hn-er.wt;return er.fp+this.bp*(Math.pow(this.Cp,nr)-1)/Math.log(this.Cp)}Ru(Hn){return this.gp===null||this.yp(Hn)===this.Mp}yp(Hn){const er=Hn-u(this.gp).wt;return Math.min(er,this.Mp)}}class Ms{constructor(Hn,er){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=Hn,this.Vp=er,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const Hn=new URL(location.href);return Hn.hostname?"&utm_source="+Hn.hostname+Hn.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function bs(tr,Hn){const er=u(tr.ownerDocument).createElement("canvas");tr.appendChild(er);const nr=bindTo(er,{options:{allowResizeObserver:!0},transform:(ir,rr)=>({width:Math.max(ir.width,rr.width),height:Math.max(ir.height,rr.height)})});return nr.resizeCanvasElement(Hn),nr}function Ss(tr){tr.width=1,tr.height=1,tr.getContext("2d")?.clearRect(0,0,1,1)}function xs(tr,Hn,er,nr){tr.ih&&tr.ih(Hn,er,nr)}function Cs(tr,Hn,er,nr){tr.nt(Hn,er,nr)}function Ps(tr,Hn,er,nr){const ir=tr(er,nr);for(const rr of ir){const sr=rr.Tt(nr);sr!==null&&Hn(sr)}}function ys(tr,Hn){return er=>(function(nr){return nr.Ft!==void 0})(er)?(er.Ft()?.ma()??"")!==Hn?[]:er.ta?.(tr)??[]:[]}function ks(tr,Hn,er,nr){if(!tr.length)return;let ir=0;const rr=tr[0].$t(nr,!0);let sr=Hn===1?er/2-(tr[0].Fi()-rr/2):tr[0].Fi()-rr/2-er/2;sr=Math.max(0,sr);for(let ar=1;ar<tr.length;ar++){const or=tr[ar],lr=tr[ar-1],cr=lr.$t(nr,!1),ur=or.Fi(),dr=lr.Fi();if(Hn===1?ur>dr-cr:ur<dr+cr){const fr=dr-cr*Hn;or.Wi(fr);const gr=fr-Hn*cr/2;if((Hn===1?gr<0:gr>er)&&sr>0){const yr=Hn===1?-1-gr:gr-er,vr=Math.min(yr,sr);for(let jr=ir;jr<tr.length;jr++)tr[jr].Wi(tr[jr].Fi()+Hn*vr);sr-=vr}}else ir=ar,sr=Hn===1?dr-cr-ur:ur-(dr+cr)}}class Ts{constructor(Hn,er,nr,ir){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new rt(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=Hn,this.Ps=er,this.Ml=er.layout,this.Ju=nr,this.jp=ir==="left",this.Kp=ys("normal",ir),this.Xp=ys("top",ir),this.Zp=ys("bottom",ir),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=bs(this.jf,size({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const rr=this.Gp.canvasElement;rr.style.position="absolute",rr.style.zIndex="1",rr.style.left="0",rr.style.top="0",this.Jp=bs(this.jf,size({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const sr=this.Jp.canvasElement;sr.style.position="absolute",sr.style.zIndex="2",sr.style.left="0",sr.style.top="0";const ar={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new _s(this.Jp.canvasElement,ar,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Ss(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Ss(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const Hn=this.Ju.N();return this.Wp!==Hn.k&&(this.Fp.Bn(),this.Wp=Hn.k),Hn}nv(){if(this.Yi===null)return 0;let Hn=0;const er=this.sv(),nr=u(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));nr.save();const ir=this.Yi.Da();nr.font=this.ev(),ir.length>0&&(Hn=Math.max(this.Fp.Vi(nr,ir[0].Za),this.Fp.Vi(nr,ir[ir.length-1].Za)));const rr=this.rv();for(let lr=rr.length;lr--;){const cr=this.Fp.Vi(nr,rr[lr].ri());cr>Hn&&(Hn=cr)}const sr=this.Yi.zt();if(sr!==null&&this.Op!==null&&(ar=this.Ps.crosshair).mode!==2&&ar.horzLine.visible&&ar.horzLine.labelVisible){const lr=this.Yi.Ts(1,sr),cr=this.Yi.Ts(this.Op.height-2,sr);Hn=Math.max(Hn,this.Fp.Vi(nr,this.Yi.Zi(Math.floor(Math.min(lr,cr))+.11111111111111,sr)),this.Fp.Vi(nr,this.Yi.Zi(Math.ceil(Math.max(lr,cr))-.11111111111111,sr)))}var ar;nr.restore();const or=Hn||34;return ls(Math.ceil(er.S+er.C+er.B+er.I+5+or))}hv(Hn){this.Op!==null&&equalSizes(this.Op,Hn)||(this.Op=Hn,this.Up=!0,this.Gp.resizeCanvasElement(Hn),this.Jp.resizeCanvasElement(Hn),this.Up=!1,this.jf.style.width=`${Hn.width}px`,this.jf.style.height=`${Hn.height}px`)}av(){return u(this.Op).width}_s(Hn){this.Yi!==Hn&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=Hn,Hn.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const Hn=this.Pt.ap();this.Pt.qp().Qt().Zo(Hn,u(this.Ft()))}lv(Hn){if(this.Op===null)return;const er={colorSpace:this.Pt.qp().N().layout.colorSpace};if(Hn!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const ir=tryCreateCanvasRenderingTarget2D(this.Gp,er);ir!==null&&(ir.useBitmapCoordinateSpace((rr=>{this._v(rr),this.uv(rr)})),this.Pt.cv(ir,this.Zp),this.dv(ir),this.Pt.cv(ir,this.Kp),this.fv(ir))}this.Jp.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Jp,er);nr!==null&&(nr.useBitmapCoordinateSpace((({context:ir,bitmapSize:rr})=>{ir.clearRect(0,0,rr.width,rr.height)})),this.pv(nr),this.Pt.cv(nr,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(Hn,er,nr,ir){const rr=this.Jf();if(rr.width>0&&rr.height>0&&(Hn.drawImage(this.Gp.canvasElement,er,nr),ir)){const sr=this.Jp.canvasElement;Hn.drawImage(sr,er,nr)}}yt(){this.Yi?.Da()}ep(Hn){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const er=this.Pt.qp().Qt(),nr=this.Pt.ap();this.Np=!0,er.Uo(nr,this.Yi,Hn.localY)}rp(Hn){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const er=this.Pt.qp().Qt(),nr=this.Pt.ap(),ir=this.Yi;er.$o(nr,ir,Hn.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const Hn=this.Pt.qp().Qt(),er=this.Pt.ap(),nr=this.Yi;this.Np&&(this.Np=!1,Hn.qo(er,nr))}hp(Hn){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const er=this.Pt.qp().Qt(),nr=this.Pt.ap();this.Np=!1,er.qo(nr,this.Yi)}tv(Hn){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(Hn){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(Hn){this.vv(0)}rv(){const Hn=[],er=this.Yi===null?void 0:this.Yi;return(nr=>{for(let ir=0;ir<nr.length;++ir){const rr=nr[ir].Ws(this.Pt.ap(),er);for(let sr=0;sr<rr.length;sr++)Hn.push(rr[sr])}})(this.Pt.ap().Dt()),Hn}_v({context:Hn,bitmapSize:er}){const{width:nr,height:ir}=er,rr=this.Pt.ap().Qt(),sr=rr.$(),ar=rr.Wc();sr===ar?L$1(Hn,0,0,nr,ir,sr):F(Hn,0,0,nr,ir,sr,ar)}uv({context:Hn,bitmapSize:er,horizontalPixelRatio:nr}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;Hn.fillStyle=this.Yi.N().borderColor;const ir=Math.max(1,Math.floor(this.sv().S*nr));let rr;rr=this.jp?er.width-ir:0,Hn.fillRect(rr,0,ir,er.height)}dv(Hn){if(this.Op===null||this.Yi===null)return;const er=this.Yi.Da(),nr=this.Yi.N(),ir=this.sv(),rr=this.jp?this.Op.width-ir.C:0;nr.borderVisible&&nr.ticksVisible&&Hn.useBitmapCoordinateSpace((({context:sr,horizontalPixelRatio:ar,verticalPixelRatio:or})=>{sr.fillStyle=nr.borderColor;const lr=Math.max(1,Math.floor(or)),cr=Math.floor(.5*or),ur=Math.round(ir.C*ar);sr.beginPath();for(const dr of er)sr.rect(Math.floor(rr*ar),Math.round(dr.Pa*or)-cr,ur,lr);sr.fill()})),Hn.useMediaCoordinateSpace((({context:sr})=>{sr.font=this.ev(),sr.fillStyle=nr.textColor??this.Ml.textColor,sr.textAlign=this.jp?"right":"left",sr.textBaseline="middle";const ar=this.jp?Math.round(rr-ir.B):Math.round(rr+ir.C+ir.B),or=er.map((lr=>this.Fp.Di(sr,lr.Za)));for(let lr=er.length;lr--;){const cr=er[lr];sr.fillText(cr.Za,ar,cr.Pa+or[lr])}}))}ov(){if(this.Op===null||this.Yi===null)return;let Hn=this.Op.height/2;const er=[],nr=this.Yi.Dt().slice(),ir=this.Pt.ap(),rr=this.sv();this.Yi===ir.$n()&&this.Pt.ap().Dt().forEach((or=>{ir.Un(or)&&nr.push(or)}));const sr=this.Yi.Ma()[0],ar=this.Yi;nr.forEach((or=>{const lr=or.Ws(ir,ar);lr.forEach((cr=>{cr.Wi(null),cr.Hi()&&er.push(cr)})),sr===or&&lr.length>0&&(Hn=lr[0].Ii())})),er.forEach((or=>or.Wi(or.Ii()))),this.Yi.N().alignLabels&&this.mv(er,rr,Hn)}mv(Hn,er,nr){if(this.Op===null)return;const ir=Hn.filter((sr=>sr.Ii()<=nr)),rr=Hn.filter((sr=>sr.Ii()>nr));ir.sort(((sr,ar)=>ar.Ii()-sr.Ii())),ir.length&&rr.length&&rr.push(ir[0]),rr.sort(((sr,ar)=>sr.Ii()-ar.Ii()));for(const sr of Hn){const ar=Math.floor(sr.$t(er)/2),or=sr.Ii();or>-ar&&or<ar&&sr.Wi(ar),or>this.Op.height-ar&&or<this.Op.height+ar&&sr.Wi(this.Op.height-ar)}ks(ir,1,this.Op.height,er),ks(rr,-1,this.Op.height,er)}fv(Hn){if(this.Op===null)return;const er=this.rv(),nr=this.sv(),ir=this.jp?"right":"left";er.forEach((rr=>{rr.Ui()&&rr.Tt(u(this.Yi)).nt(Hn,nr,this.Fp,ir)}))}pv(Hn){if(this.Op===null||this.Yi===null)return;const er=this.Pt.qp().Qt(),nr=[],ir=this.Pt.ap(),rr=er.uc().Ws(ir,this.Yi);rr.length&&nr.push(rr);const sr=this.sv(),ar=this.jp?"right":"left";nr.forEach((or=>{or.forEach((lr=>{lr.Tt(u(this.Yi)).nt(Hn,sr,this.Fp,ar)}))}))}vv(Hn){this.jf.style.cursor=Hn===1?"ns-resize":"default"}_l(){const Hn=this.nv();this.Hp<Hn&&this.Pt.qp().Qt().Ih(),this.Hp=Hn}ev(){return x(this.Ml.fontSize,this.Ml.fontFamily)}}function Rs(tr,Hn){return tr.Jh?.(Hn)??[]}function Ds(tr,Hn){return tr.Fs?.(Hn)??[]}function Vs(tr,Hn){return tr.us?.(Hn)??[]}function Bs(tr,Hn){return tr.Xh?.(Hn)??[]}class Is{constructor(Hn,er){this.Op=size({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new d,this.Cv=new d,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=Hn,this.Vv=er,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const nr=document.createElement("div");nr.style.width="100%",nr.style.height="100%",nr.style.position="relative",nr.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(nr),this.Gp=bs(nr,size({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const ir=this.Gp.canvasElement;ir.style.position="absolute",ir.style.zIndex="1",ir.style.left="0",ir.style.top="0",this.Jp=bs(nr,size({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const rr=this.Jp.canvasElement;rr.style.position="absolute",rr.style.zIndex="2",rr.style.left="0",rr.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new _s(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Ss(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Ss(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return u(this.Vv)}Lv(Hn){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=Hn,this.Vv!==null&&this.Vv.t_().i(Is.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new Ms(this.Iv,this.Vp),this.Mv.yt()):(this.Mv?.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const Hn=this.Vv.Wo();this.wv._s(u(Hn))}if(this.gv!==null){const Hn=this.Vv.Ho();this.gv._s(u(Hn))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(Hn){this.Vv&&this.Vv.Io(Hn)}sf(Hn){if(!this.Vv)return;this.Fv();const er=Hn.localX,nr=Hn.localY;this.Wv(er,nr,Hn)}Sf(Hn){this.Fv(),this.Hv(),this.Wv(Hn.localX,Hn.localY,Hn)}nf(Hn){if(!this.Vv)return;this.Fv();const er=Hn.localX,nr=Hn.localY;this.Wv(er,nr,Hn)}mf(Hn){this.Vv!==null&&(this.Fv(),this.Uv(Hn))}Xd(Hn){this.Vv!==null&&this.$v(this.Cv,Hn)}qd(Hn){this.Xd(Hn)}cf(Hn){this.Fv(),this.qv(Hn),this.Wv(Hn.localX,Hn.localY,Hn)}vf(Hn){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(Hn))}pf(Hn){this.Vv!==null&&this.Uv(Hn)}If(Hn){if(this.yv=!0,this.kv===null){const er={x:Hn.localX,y:Hn.localY};this.jv(er,er,Hn)}}Bf(Hn){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(Hn,er){if(!this.Vp.N().handleScale.pinch)return;const nr=5*(er-this.Pv);this.Pv=er,this.ts().bc(Hn._t,nr)}Mf(Hn){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const er=this.ts().uc();this.kv!==null&&er.Vt()&&(this.Rv={x:er.si(),y:er.ni()},this.kv={x:Hn.localX,y:Hn.localY})}_f(Hn){if(this.Vv===null)return;const er=Hn.localX,nr=Hn.localY;if(this.kv===null)this.qv(Hn);else{this.Tv=!1;const ir=u(this.Rv),rr=ir.x+(er-this.kv.x),sr=ir.y+(nr-this.kv.y);this.Wv(rr,sr,Hn)}}ff(Hn){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(Hn)}jn(Hn,er){const nr=this.Vv;return nr===null?null:yi(nr,Hn,er)}Jv(Hn,er){u(er==="left"?this.wv:this.gv).hv(size({width:Hn,height:this.Op.height}))}Gf(){return this.Op}hv(Hn){equalSizes(this.Op,Hn)||(this.Op=Hn,this.Up=!0,this.Gp.resizeCanvasElement(Hn),this.Jp.resizeCanvasElement(Hn),this.Up=!1,this.Iv.style.width=Hn.width+"px",this.Iv.style.height=Hn.height+"px")}Qv(){const Hn=u(this.Vv);Hn.Fo(Hn.Wo()),Hn.Fo(Hn.Ho());for(const er of Hn.Ma())if(Hn.Un(er)){const nr=er.Ft();nr!==null&&Hn.Fo(nr),er.Ns()}for(const er of Hn.s_())er.Ns()}Jf(){return this.Gp.bitmapSize}Qf(Hn,er,nr,ir){const rr=this.Jf();if(rr.width>0&&rr.height>0&&(Hn.drawImage(this.Gp.canvasElement,er,nr),ir)){const sr=this.Jp.canvasElement;Hn!==null&&Hn.drawImage(sr,er,nr)}}lv(Hn){if(Hn===0||this.Vv===null)return;Hn>1&&this.Qv(),this.wv!==null&&this.wv.lv(Hn),this.gv!==null&&this.gv.lv(Hn);const er={colorSpace:this.Vp.N().layout.colorSpace};if(Hn!==1){this.Gp.applySuggestedBitmapSize();const ir=tryCreateCanvasRenderingTarget2D(this.Gp,er);ir!==null&&(ir.useBitmapCoordinateSpace((rr=>{this._v(rr)})),this.Vv&&(this.tm(ir,Rs),this.im(ir),this.tm(ir,Ds),this.tm(ir,Vs)))}this.Jp.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Jp,er);nr!==null&&(nr.useBitmapCoordinateSpace((({context:ir,bitmapSize:rr})=>{ir.clearRect(0,0,rr.width,rr.height)})),this.sm(nr),this.tm(nr,Bs),this.tm(nr,Vs))}nm(){return this.wv}rm(){return this.gv}cv(Hn,er){this.tm(Hn,er)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(Hn){this.$v(this.xv,Hn)}$v(Hn,er){const nr=er.localX,ir=er.localY;Hn.v()&&Hn.p(this.ts().Et().cu(nr),{x:nr,y:ir},er)}_v({context:Hn,bitmapSize:er}){const{width:nr,height:ir}=er,rr=this.ts(),sr=rr.$(),ar=rr.Wc();sr===ar?L$1(Hn,0,0,nr,ir,ar):F(Hn,0,0,nr,ir,sr,ar)}im(Hn){const er=u(this.Vv),nr=er.i_().lr().Tt(er);nr!==null&&nr.nt(Hn,!1)}sm(Hn){this.hm(Hn,Ds,Cs,this.ts().uc())}tm(Hn,er){const nr=u(this.Vv),ir=nr.Dt(),rr=nr.s_();for(const sr of rr)this.hm(Hn,er,xs,sr);for(const sr of ir)this.hm(Hn,er,xs,sr);for(const sr of rr)this.hm(Hn,er,Cs,sr);for(const sr of ir)this.hm(Hn,er,Cs,sr)}hm(Hn,er,nr,ir){const rr=u(this.Vv),sr=rr.Qt().ac(),ar=sr!==null&&sr.n_===ir,or=sr!==null&&ar&&sr.e_!==void 0?sr.e_.Xn:void 0;Ps(er,(lr=>nr(lr,Hn,ar,or)),ir,rr)}Ov(){if(this.Vv===null)return;const Hn=this.Vp,er=this.Vv.Wo().N().visible,nr=this.Vv.Ho().N().visible;er||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),nr||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const ir=Hn.Qt().Bc();er&&this.wv===null&&(this.wv=new Ts(this,Hn.N(),ir,"left"),this.Ev.appendChild(this.wv.Zf())),nr&&this.gv===null&&(this.gv=new Ts(this,Hn.N(),ir,"right"),this.Av.appendChild(this.gv.Zf()))}am(Hn){return Hn.Ef&&this.yv||this.kv!==null}lm(Hn){return Math.max(0,Math.min(Hn,this.Op.width-1))}om(Hn){return Math.max(0,Math.min(Hn,this.Op.height-1))}Wv(Hn,er,nr){this.ts().Tc(this.lm(Hn),this.om(er),nr,u(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(Hn,er,nr){this.kv=Hn,this.Tv=!1,this.Wv(er.x,er.y,nr);const ir=this.ts().uc();this.Rv={x:ir.si(),y:ir.ni()}}ts(){return this.Vp.Qt()}Yv(Hn){if(!this.Sv)return;const er=this.ts(),nr=this.ap();if(er.Ko(nr,nr.ks()),this.bv=null,this.Sv=!1,er.Pc(),this.Dv!==null){const ir=performance.now(),rr=er.Et();this.Dv.le(rr.gu(),ir),this.Dv.Ru(ir)||er._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)u(document.activeElement).blur();else{const Hn=document.getSelection();Hn!==null&&Hn.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(Hn){if(this.Vv===null)return;const er=this.ts(),nr=er.Et();if(nr.Ki())return;const ir=this.Vp.N(),rr=ir.handleScroll,sr=ir.kineticScroll;if((!rr.pressedMouseMove||Hn.Ef)&&(!rr.horzTouchDrag&&!rr.vertTouchDrag||!Hn.Ef))return;const ar=this.Vv.ks(),or=performance.now();if(this.bv!==null||this.am(Hn)||(this.bv={x:Hn.clientX,y:Hn.clientY,rd:or,_m:Hn.localX,um:Hn.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==Hn.clientX||this.bv.y!==Hn.clientY)){if(Hn.Ef&&sr.touch||!Hn.Ef&&sr.mouse){const lr=nr.mu();this.Dv=new gs(.2/lr,7/lr,.997,15/lr),this.Dv.Pp(nr.gu(),this.bv.rd)}else this.Dv=null;ar.Ki()||er.Yo(this.Vv,ar,Hn.localY),er.xc(Hn.localX),this.Sv=!0}this.Sv&&(ar.Ki()||er.jo(this.Vv,ar,Hn.localY),er.Cc(Hn.localX),this.Dv!==null&&this.Dv.Pp(nr.gu(),or))}}class Es{constructor(Hn,er,nr,ir,rr){this.xt=!0,this.Op=size({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=Hn==="left",this.Ju=nr.Bc,this.Ps=er,this.dm=ir,this.fm=rr,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=bs(this.jf,size({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Ss(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(Hn){equalSizes(this.Op,Hn)||(this.Op=Hn,this.Gp.resizeCanvasElement(Hn),this.jf.style.width=`${Hn.width}px`,this.jf.style.height=`${Hn.height}px`,this.xt=!0)}lv(Hn){if(Hn<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const er=tryCreateCanvasRenderingTarget2D(this.Gp,{colorSpace:this.Ps.layout.colorSpace});er!==null&&er.useBitmapCoordinateSpace((nr=>{this._v(nr),this.uv(nr)}))}Jf(){return this.Gp.bitmapSize}Qf(Hn,er,nr){const ir=this.Jf();ir.width>0&&ir.height>0&&Hn.drawImage(this.Gp.canvasElement,er,nr)}uv({context:Hn,bitmapSize:er,horizontalPixelRatio:nr,verticalPixelRatio:ir}){if(!this.dm())return;Hn.fillStyle=this.Ps.timeScale.borderColor;const rr=Math.floor(this.Ju.N().S*nr),sr=Math.floor(this.Ju.N().S*ir),ar=this.jp?er.width-rr:0;Hn.fillRect(ar,0,rr,sr)}_v({context:Hn,bitmapSize:er}){L$1(Hn,0,0,er.width,er.height,this.fm())}}function As(tr){return Hn=>Hn.ia?.(tr)??[]}const zs=As("normal"),Ls=As("top"),Os=As("bottom");class Ns{constructor(Hn,er){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=size({width:0,height:0}),this.gm=new d,this.Fp=new rt(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=Hn,this.o_=er,this.Ps=Hn.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=bs(this.Sm,size({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const nr=this.Gp.canvasElement;nr.style.position="absolute",nr.style.zIndex="1",nr.style.left="0",nr.style.top="0",this.Jp=bs(this.Sm,size({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const ir=this.Jp.canvasElement;ir.style.position="absolute",ir.style.zIndex="2",ir.style.left="0",ir.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new _s(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Ss(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Ss(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(Hn){if(this.wm)return;this.wm=!0;const er=this.Vp.Qt();!er.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&er.Mc(Hn.localX)}Mf(Hn){this.Sf(Hn)}xf(){const Hn=this.Vp.Qt();!Hn.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&Hn.kc())}cf(Hn){const er=this.Vp.Qt();!er.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&er.yc(Hn.localX)}_f(Hn){this.cf(Hn)}vf(){this.wm=!1;const Hn=this.Vp.Qt();Hn.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||Hn.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(Hn,er,nr){equalSizes(this.Op,Hn)||(this.Op=Hn,this.Up=!0,this.Gp.resizeCanvasElement(Hn),this.Jp.resizeCanvasElement(Hn),this.Up=!1,this.jf.style.width=`${Hn.width}px`,this.jf.style.height=`${Hn.height}px`,this.gm.p(Hn)),this.pm!==null&&this.pm.hv(size({width:er,height:Hn.height})),this.vm!==null&&this.vm.hv(size({width:nr,height:Hn.height}))}Tm(){const Hn=this.Rm();return Math.ceil(Hn.S+Hn.C+Hn.P+Hn.A+Hn.V+Hn.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(Hn,er,nr,ir){const rr=this.Jf();if(rr.width>0&&rr.height>0&&(Hn.drawImage(this.Gp.canvasElement,er,nr),ir)){const sr=this.Jp.canvasElement;Hn.drawImage(sr,er,nr)}}lv(Hn){if(Hn===0)return;const er={colorSpace:this.Ps.colorSpace};if(Hn!==1){this.Gp.applySuggestedBitmapSize();const ir=tryCreateCanvasRenderingTarget2D(this.Gp,er);ir!==null&&(ir.useBitmapCoordinateSpace((rr=>{this._v(rr),this.uv(rr),this.Vm(ir,Os)})),this.dv(ir),this.Vm(ir,zs)),this.pm!==null&&this.pm.lv(Hn),this.vm!==null&&this.vm.lv(Hn)}this.Jp.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Jp,er);nr!==null&&(nr.useBitmapCoordinateSpace((({context:ir,bitmapSize:rr})=>{ir.clearRect(0,0,rr.width,rr.height)})),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],nr),this.Vm(nr,Ls))}Vm(Hn,er){const nr=this.Vp.Qt().js();for(const ir of nr)Ps(er,(rr=>xs(rr,Hn,!1,void 0)),ir,void 0);for(const ir of nr)Ps(er,(rr=>Cs(rr,Hn,!1,void 0)),ir,void 0)}_v({context:Hn,bitmapSize:er}){L$1(Hn,0,0,er.width,er.height,this.Vp.Qt().Wc())}uv({context:Hn,bitmapSize:er,verticalPixelRatio:nr}){if(this.Vp.N().timeScale.borderVisible){Hn.fillStyle=this.Im();const ir=Math.max(1,Math.floor(this.Rm().S*nr));Hn.fillRect(0,0,er.width,ir)}}dv(Hn){const er=this.Vp.Qt().Et(),nr=er.Da();if(!nr||nr.length===0)return;const ir=this.o_.maxTickMarkWeight(nr),rr=this.Rm(),sr=er.N();sr.borderVisible&&sr.ticksVisible&&Hn.useBitmapCoordinateSpace((({context:ar,horizontalPixelRatio:or,verticalPixelRatio:lr})=>{ar.strokeStyle=this.Im(),ar.fillStyle=this.Im();const cr=Math.max(1,Math.floor(or)),ur=Math.floor(.5*or);ar.beginPath();const dr=Math.round(rr.C*lr);for(let fr=nr.length;fr--;){const gr=Math.round(nr[fr].coord*or);ar.rect(gr-ur,0,cr,dr)}ar.fill()})),Hn.useMediaCoordinateSpace((({context:ar})=>{const or=rr.S+rr.C+rr.A+rr.P/2;ar.textAlign="center",ar.textBaseline="middle",ar.fillStyle=this.H(),ar.font=this.ev();for(const lr of nr)if(lr.weight<ir){const cr=lr.needAlignCoordinate?this.Em(ar,lr.coord,lr.label):lr.coord;ar.fillText(lr.label,cr,or)}this.Vp.N().timeScale.allowBoldLabels&&(ar.font=this.Am());for(const lr of nr)if(lr.weight>=ir){const cr=lr.needAlignCoordinate?this.Em(ar,lr.coord,lr.label):lr.coord;ar.fillText(lr.label,cr,or)}}))}Em(Hn,er,nr){const ir=this.Fp.Vi(Hn,nr),rr=ir/2,sr=Math.floor(er-rr)+.5;return sr<0?er+=Math.abs(0-sr):sr+ir>this.Op.width&&(er-=Math.abs(this.Op.width-(sr+ir))),er}Bm(Hn,er){const nr=this.Rm();for(const ir of Hn)for(const rr of ir.cs())rr.Tt().nt(er,nr)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return x(this.F(),this.Ps.fontFamily)}Am(){return x(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new rt,Dm:0});const Hn=this.M,er=this.ev();if(Hn.k!==er){const nr=this.F();Hn.P=nr,Hn.k=er,Hn.A=3*nr/12,Hn.V=3*nr/12,Hn.Ji=9*nr/12,Hn.L=0,Hn.Dm=4*nr/12,Hn.Gi.Bn()}return this.M}vv(Hn){this.jf.style.cursor=Hn===1?"ew-resize":"default"}xm(){const Hn=this.Vp.Qt(),er=Hn.N();er.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),er.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const nr={Bc:this.Vp.Qt().Bc()},ir=()=>er.leftPriceScale.borderVisible&&Hn.Et().N().borderVisible,rr=()=>Hn.Wc();er.leftPriceScale.visible&&this.pm===null&&(this.pm=new Es("left",er,nr,ir,rr),this.Mm.appendChild(this.pm.Zf())),er.rightPriceScale.visible&&this.vm===null&&(this.vm=new Es("right",er,nr,ir,rr),this.bm.appendChild(this.vm.Zf()))}}const Fs=!!rs&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((tr=>tr.brand.includes("Chromium")))&&!!rs&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class Ws{constructor(Hn,er,nr){var ir;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new d,this.Cv=new d,this.Xu=new d,this.Um=null,this.$m=null,this.Dp=Hn,this.Ps=er,this.o_=nr,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(ir=this.kp).style.userSelect="none",ir.style.webkitUserSelect="none",ir.style.msUserSelect="none",ir.style.MozUserSelect="none",ir.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),Hs(this.Ps)&&this.Km(!0),this.ts=new Ni(this.Gu.bind(this),this.Ps,nr),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new Ns(this,this.o_),this.qm.appendChild(this.Zm.Zf());const rr=er.autoSize&&this.Gm();let sr=this.Ps.width,ar=this.Ps.height;if(rr||sr===0||ar===0){const or=Hn.getBoundingClientRect();sr=sr||or.width,ar=ar||or.height}this.Jm(sr,ar),this.Qm(),Hn.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const Hn of this.zm)this.qm.removeChild(Hn.Zf()),Hn.Xv().u(this),Hn.Zv().u(this),Hn.m();this.zm=[];for(const Hn of this.Lm)this.sw(Hn);this.Lm=[],u(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(Hn,er,nr=!1){if(this.il===er&&this.Mo===Hn)return;const ir=(function(ar){const or=Math.floor(ar.width),lr=Math.floor(ar.height);return size({width:or-or%2,height:lr-lr%2})})(size({width:Hn,height:er}));this.il=ir.height,this.Mo=ir.width;const rr=this.il+"px",sr=this.Mo+"px";u(this.kp).style.height=rr,u(this.kp).style.width=sr,this.qm.style.height=rr,this.qm.style.width=sr,nr?this.ew(G.gn(),performance.now()):this.ts.Ih()}lv(Hn){Hn===void 0&&(Hn=G.gn());for(let er=0;er<this.zm.length;er++)this.zm[er].lv(Hn.en(er).tn);this.Ps.timeScale.visible&&this.Zm.lv(Hn.nn())}hr(Hn){const er=Hs(this.Ps);this.ts.hr(Hn);const nr=Hs(this.Ps);nr!==er&&this.Km(nr),Hn.layout?.panes&&this.rw(),this.tw(),this.hw(Hn)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(Hn=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const er=this.lw(null),nr=document.createElement("canvas");nr.width=er.width,nr.height=er.height;const ir=u(nr.getContext("2d"));return this.lw(ir,Hn),nr}ow(Hn){return Hn==="left"&&!this._w()||Hn==="right"&&!this.uw()||this.zm.length===0?0:u(Hn==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(Hn){this.$m=Hn,this.$m?this.ip().style.setProperty("cursor",Hn):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(Hn){return _(this.zm[Hn]).Gf()}rw(){this.Lm.forEach((Hn=>{Hn.yt()}))}hw(Hn){(Hn.autoSize!==void 0||!this.Um||Hn.width===void 0&&Hn.height===void 0)&&(Hn.autoSize&&!this.Um&&this.Gm(),Hn.autoSize===!1&&this.Um!==null&&this.nw(),Hn.autoSize||Hn.width===void 0&&Hn.height===void 0||this.Jm(Hn.width||this.Mo,Hn.height||this.il))}lw(Hn,er){let nr=0,ir=0;const rr=this.zm[0],sr=(or,lr)=>{let cr=0;for(let ur=0;ur<this.zm.length;ur++){const dr=this.zm[ur],fr=u(or==="left"?dr.nm():dr.rm()),gr=fr.Jf();if(Hn!==null&&fr.Qf(Hn,lr,cr,er),cr+=gr.height,ur<this.zm.length-1){const yr=this.Lm[ur],vr=yr.Jf();Hn!==null&&yr.Qf(Hn,lr,cr),cr+=vr.height}}};this._w()&&(sr("left",0),nr+=u(rr.nm()).Jf().width);for(let or=0;or<this.zm.length;or++){const lr=this.zm[or],cr=lr.Jf();if(Hn!==null&&lr.Qf(Hn,nr,ir,er),ir+=cr.height,or<this.zm.length-1){const ur=this.Lm[or],dr=ur.Jf();Hn!==null&&ur.Qf(Hn,nr,ir),ir+=dr.height}}nr+=rr.Jf().width,this.uw()&&(sr("right",nr),nr+=u(rr.rm()).Jf().width);const ar=(or,lr,cr)=>{u(or==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(u(Hn),lr,cr)};if(this.Ps.timeScale.visible){const or=this.Zm.Jf();if(Hn!==null){let lr=0;this._w()&&(ar("left",lr,ir),lr=u(rr.nm()).Jf().width),this.Zm.Qf(Hn,lr,ir,er),lr+=or.width,this.uw()&&ar("right",lr,ir)}ir+=or.height}return size({width:nr,height:ir})}mw(){let Hn=0,er=0,nr=0;for(const vr of this.zm)this._w()&&(er=Math.max(er,u(vr.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(nr=Math.max(nr,u(vr.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),Hn+=vr.Bo();er=ls(er),nr=ls(nr);const ir=this.Mo,rr=this.il,sr=Math.max(ir-er-nr,0),ar=1*this.Lm.length,or=this.Ps.timeScale.visible;let lr=or?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var cr;lr=(cr=lr)+cr%2;const ur=ar+lr,dr=rr<ur?0:rr-ur,fr=dr/Hn;let gr=0;const yr=window.devicePixelRatio||1;for(let vr=0;vr<this.zm.length;++vr){const jr=this.zm[vr];jr.Lv(this.ts.$s()[vr]);let Sr=0,Tr=0;Tr=vr===this.zm.length-1?Math.ceil((dr-gr)*yr)/yr:Math.round(jr.Bo()*fr*yr)/yr,Sr=Math.max(Tr,2),gr+=Sr,jr.hv(size({width:sr,height:Sr})),this._w()&&jr.Jv(er,"left"),this.uw()&&jr.Jv(nr,"right"),jr.ap()&&this.ts.dc(jr.ap(),Sr)}this.Zm.km(size({width:or?sr:0,height:lr}),or?er:0,or?nr:0),this.ts.Eo(sr),this.Nm!==er&&(this.Nm=er),this.Fm!==nr&&(this.Fm=nr)}Km(Hn){Hn?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(Hn){switch(Hn.deltaMode){case Hn.DOM_DELTA_PAGE:return 120;case Hn.DOM_DELTA_LINE:return 32}return Fs?1/window.devicePixelRatio:1}jm(Hn){if(!(Hn.deltaX!==0&&this.Ps.handleScroll.mouseWheel||Hn.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const er=this.ww(Hn),nr=er*Hn.deltaX/100,ir=-er*Hn.deltaY/100;if(Hn.cancelable&&Hn.preventDefault(),ir!==0&&this.Ps.handleScale.mouseWheel){const rr=Math.sign(ir)*Math.min(1,Math.abs(ir)),sr=Hn.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(sr,rr)}nr!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*nr)}ew(Hn,er){const nr=Hn.nn();nr===3&&this.gw(),nr!==3&&nr!==2||(this.Mw(Hn),this.bw(Hn,er),this.Zm.yt(),this.zm.forEach((ir=>{ir.Nv()})),this.Wm?.nn()===3&&(this.Wm.vn(Hn),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,er),Hn=this.Wm,this.Wm=null)),this.lv(Hn)}bw(Hn,er){for(const nr of Hn.pn())this.mn(nr,er)}Mw(Hn){const er=this.ts.$s();for(let nr=0;nr<er.length;nr++)Hn.en(nr).sn&&er[nr].Go()}mn(Hn,er){const nr=this.ts.Et();switch(Hn.an){case 0:nr.Au();break;case 1:nr.zu(Hn.Wt);break;case 2:nr.dn(Hn.Wt);break;case 3:nr.fn(Hn.Wt);break;case 4:nr.Su();break;case 5:Hn.Wt.Ru(er)||nr.fn(Hn.Wt.Du(er))}}Gu(Hn){this.Wm!==null?this.Wm.vn(Hn):this.Wm=Hn,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame((er=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const nr=this.Wm;this.Wm=null,this.ew(nr,er);for(const ir of nr.pn())if(ir.an===5&&!ir.Wt.Ru(er)){this.Qt()._n(ir.Wt);break}}})))}gw(){this.Qm()}sw(Hn){this.qm.removeChild(Hn.Zf()),Hn.m()}Qm(){const Hn=this.ts.$s(),er=Hn.length,nr=this.zm.length;for(let ir=er;ir<nr;ir++){const rr=_(this.zm.pop());this.qm.removeChild(rr.Zf()),rr.Xv().u(this),rr.Zv().u(this),rr.m();const sr=this.Lm.pop();sr!==void 0&&this.sw(sr)}for(let ir=nr;ir<er;ir++){const rr=new Is(this,Hn[ir]);if(rr.Xv().i(this.Sw.bind(this,rr),this),rr.Zv().i(this.xw.bind(this,rr),this),this.zm.push(rr),ir>0){const sr=new vs(this,ir-1,ir);this.Lm.push(sr),this.qm.insertBefore(sr.Zf(),this.Zm.Zf())}this.qm.insertBefore(rr.Zf(),this.Zm.Zf())}for(let ir=0;ir<er;ir++){const rr=Hn[ir],sr=this.zm[ir];sr.ap()!==rr?sr.Lv(rr):sr.zv()}this.tw(),this.mw()}Cw(Hn,er,nr,ir){const rr=new Map;Hn!==null&&this.ts.js().forEach((ur=>{const dr=ur.Xs().Fr(Hn);dr!==null&&rr.set(ur,dr)}));let sr;if(Hn!==null){const ur=this.ts.Et().ss(Hn)?.originalTime;ur!==void 0&&(sr=ur)}const ar=this.Qt().ac(),or=ar!==null&&ar.n_ instanceof Kt?ar.n_:void 0,lr=ar!==null&&ar.e_!==void 0?ar.e_.Kn:void 0,cr=this.Pw(ir);return{yw:sr,Re:Hn??void 0,kw:er??void 0,Tw:cr!==-1?cr:void 0,Rw:or,Dw:rr,Vw:lr,Bw:nr??void 0}}Pw(Hn){let er=-1;if(Hn)er=this.zm.indexOf(Hn);else{const nr=this.Qt().uc().Us();nr!==null&&(er=this.Qt().$s().indexOf(nr))}return er}Sw(Hn,er,nr,ir){this.xv.p((()=>this.Cw(er,nr,ir,Hn)))}xw(Hn,er,nr,ir){this.Cv.p((()=>this.Cw(er,nr,ir,Hn)))}Xm(Hn,er,nr){this.dw(this.Qt().ac()?.h_??null),this.Xu.p((()=>this.Cw(Hn,er,nr)))}tw(){const Hn=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=Hn}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver((Hn=>{const er=Hn[Hn.length-1];er&&this.Jm(er.contentRect.width,er.contentRect.height)})),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function Hs(tr){return!!(tr.handleScroll.mouseWheel||tr.handleScale.mouseWheel)}function Us(tr){return tr.open===void 0&&tr.value===void 0}function $s(tr){return(function(Hn){return Hn.open!==void 0})(tr)||(function(Hn){return Hn.value!==void 0})(tr)}function qs(tr,Hn,er,nr){const ir=er.value,rr={Re:Hn,wt:tr,Wt:[ir,ir,ir,ir],yw:nr};return er.color!==void 0&&(rr.R=er.color),rr}function Ys(tr,Hn,er,nr){const ir=er.value,rr={Re:Hn,wt:tr,Wt:[ir,ir,ir,ir],yw:nr};return er.lineColor!==void 0&&(rr.vt=er.lineColor),er.topColor!==void 0&&(rr.mr=er.topColor),er.bottomColor!==void 0&&(rr.wr=er.bottomColor),rr}function js(tr,Hn,er,nr){const ir=er.value,rr={Re:Hn,wt:tr,Wt:[ir,ir,ir,ir],yw:nr};return er.topLineColor!==void 0&&(rr.gr=er.topLineColor),er.bottomLineColor!==void 0&&(rr.Mr=er.bottomLineColor),er.topFillColor1!==void 0&&(rr.br=er.topFillColor1),er.topFillColor2!==void 0&&(rr.Sr=er.topFillColor2),er.bottomFillColor1!==void 0&&(rr.Cr=er.bottomFillColor1),er.bottomFillColor2!==void 0&&(rr.Pr=er.bottomFillColor2),rr}function Ks(tr,Hn,er,nr){const ir={Re:Hn,wt:tr,Wt:[er.open,er.high,er.low,er.close],yw:nr};return er.color!==void 0&&(ir.R=er.color),ir}function Xs(tr,Hn,er,nr){const ir={Re:Hn,wt:tr,Wt:[er.open,er.high,er.low,er.close],yw:nr};return er.color!==void 0&&(ir.R=er.color),er.borderColor!==void 0&&(ir.Ht=er.borderColor),er.wickColor!==void 0&&(ir.vr=er.wickColor),ir}function Zs(tr,Hn,er,nr,ir){const rr=_(ir)(er),sr=Math.max(...rr),ar=Math.min(...rr),or=rr[rr.length-1],lr=[or,sr,ar,or],{time:cr,color:ur,...dr}=er;return{Re:Hn,wt:tr,Wt:lr,yw:nr,se:dr,R:ur}}function Gs(tr){return tr.Wt!==void 0}function Js(tr,Hn){return Hn.customValues!==void 0&&(tr.Iw=Hn.customValues),tr}function Qs(tr){return(Hn,er,nr,ir,rr,sr)=>(function(ar,or){return or?or(ar):Us(ar)})(nr,sr)?Js({wt:Hn,Re:er,yw:ir},nr):Js(tr(Hn,er,nr,ir,rr),nr)}function tn(tr){return{Candlestick:Qs(Xs),Bar:Qs(Ks),Area:Qs(Ys),Baseline:Qs(js),Histogram:Qs(qs),Line:Qs(qs),Custom:Qs(Zs)}[tr]}function sn(tr){return{Re:0,Ew:new Map,Hh:tr}}function nn(tr,Hn){if(tr!==void 0&&tr.length!==0)return{Aw:Hn.key(tr[0].wt),zw:Hn.key(tr[tr.length-1].wt)}}function en(tr){let Hn;return tr.forEach((er=>{Hn===void 0&&(Hn=er.yw)})),_(Hn)}class rn{constructor(Hn){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=Hn}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(Hn,er){let nr=this.Lw.size!==0,ir=!1;const rr=this.Ow.get(Hn);if(rr!==void 0)if(this.Ow.size===1)nr=!1,ir=!0,this.Lw.clear();else for(const or of this.Fw)or.pointData.Ew.delete(Hn)&&(ir=!0);let sr=[];if(er.length!==0){const or=er.map((fr=>fr.time)),lr=this.o_.createConverterToInternalObj(er),cr=tn(Hn.Rr()),ur=Hn.ca(),dr=Hn.fa();sr=er.map(((fr,gr)=>{const yr=lr(fr.time),vr=this.o_.key(yr);let jr=this.Lw.get(vr);jr===void 0&&(jr=sn(yr),this.Lw.set(vr,jr),ir=!0);const Sr=cr(yr,jr.Re,fr,or[gr],ur,dr);return jr.Ew.set(Hn,Sr),Sr}))}nr&&this.Hw(),this.Uw(Hn,sr);let ar=-1;if(ir){const or=[];this.Lw.forEach((lr=>{or.push({timeWeight:0,time:lr.Hh,pointData:lr,originalTime:en(lr.Ew)})})),or.sort(((lr,cr)=>this.o_.key(lr.time)-this.o_.key(cr.time))),ar=this.$w(or)}return this.qw(Hn,ar,(function(or,lr,cr){const ur=nn(or,cr),dr=nn(lr,cr);if(ur!==void 0&&dr!==void 0)return{Yw:!1,zh:ur.zw>=dr.zw&&ur.Aw>=dr.Aw}})(this.Ow.get(Hn),rr,this.o_))}Ac(Hn){return this.Ww(Hn,[])}jw(Hn,er,nr){const ir=er;(function(vr){vr.yw===void 0&&(vr.yw=vr.time)})(ir),this.o_.preprocessData(er);const rr=this.o_.createConverterToInternalObj([er])(er.time),sr=this.Nw.get(Hn);if(!nr&&sr!==void 0&&this.o_.key(rr)<this.o_.key(sr))throw new Error(`Cannot update oldest data, last time=${sr}, new time=${rr}`);let ar=this.Lw.get(this.o_.key(rr));if(nr&&ar===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const or=ar===void 0;ar===void 0&&(ar=sn(rr),this.Lw.set(this.o_.key(rr),ar));const lr=tn(Hn.Rr()),cr=Hn.ca(),ur=Hn.fa(),dr=lr(rr,ar.Re,er,ir.yw,cr,ur);ar.Ew.set(Hn,dr),nr?this.Kw(Hn,dr,ar.Re):this.Xw(Hn,dr);const fr={zh:Gs(dr),Yw:nr};if(!or)return this.qw(Hn,-1,fr);const gr={timeWeight:0,time:ar.Hh,pointData:ar,originalTime:en(ar.Ew)},yr=yt(this.Fw,this.o_.key(gr.time),((vr,jr)=>this.o_.key(vr.time)<jr));this.Fw.splice(yr,0,gr);for(let vr=yr;vr<this.Fw.length;++vr)hn(this.Fw[vr].pointData,vr);return this.o_.fillWeightsForPoints(this.Fw,yr),this.qw(Hn,yr,fr)}Zw(Hn,er){const nr=this.Ow.get(Hn);if(nr===void 0||er<=0)return[[],this.Gw()];er=Math.min(er,nr.length);const ir=nr.splice(-er).reverse();nr.length===0?this.Nw.delete(Hn):this.Nw.set(Hn,nr[nr.length-1].wt);for(const rr of ir){const sr=this.Lw.get(this.o_.key(rr.wt));if(sr&&(sr.Ew.delete(Hn),sr.Ew.size===0)){this.Lw.delete(this.o_.key(sr.Hh)),this.Fw.splice(sr.Re,1);for(let ar=sr.Re;ar<this.Fw.length;++ar)hn(this.Fw[ar].pointData,ar)}}return[ir,this.qw(Hn,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(Hn,er){let nr=this.Ow.get(Hn);nr===void 0&&(nr=[],this.Ow.set(Hn,nr));const ir=nr.length!==0?nr[nr.length-1]:null;ir===null||this.o_.key(er.wt)>this.o_.key(ir.wt)?Gs(er)&&nr.push(er):Gs(er)?nr[nr.length-1]=er:nr.splice(-1,1),this.Nw.set(Hn,er.wt)}Kw(Hn,er,nr){const ir=this.Ow.get(Hn);if(ir===void 0)return;const rr=yt(ir,nr,((sr,ar)=>sr.Re<ar));Gs(er)?ir[rr]=er:ir.splice(rr,1)}Uw(Hn,er){er.length!==0?(this.Ow.set(Hn,er.filter(Gs)),this.Nw.set(Hn,er[er.length-1].wt)):(this.Ow.delete(Hn),this.Nw.delete(Hn))}Hw(){for(const Hn of this.Fw)Hn.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(Hn.time))}$w(Hn){let er=-1;for(let nr=0;nr<this.Fw.length&&nr<Hn.length;++nr){const ir=this.Fw[nr],rr=Hn[nr];if(this.o_.key(ir.time)!==this.o_.key(rr.time)){er=nr;break}rr.timeWeight=ir.timeWeight,hn(rr.pointData,nr)}if(er===-1&&this.Fw.length!==Hn.length&&(er=Math.min(this.Fw.length,Hn.length)),er===-1)return-1;for(let nr=er;nr<Hn.length;++nr)hn(Hn[nr].pointData,nr);return this.o_.fillWeightsForPoints(Hn,er),this.Fw=Hn,er}Jw(){if(this.Ow.size===0)return null;let Hn=0;return this.Ow.forEach((er=>{er.length!==0&&(Hn=Math.max(Hn,er[er.length-1].Re))})),Hn}qw(Hn,er,nr){const ir=this.Gw();if(er!==-1)this.Ow.forEach(((rr,sr)=>{ir.Oo.set(sr,{se:rr,Qw:sr===Hn?nr:void 0})})),this.Ow.has(Hn)||ir.Oo.set(Hn,{se:[],Qw:nr}),ir.Et.tg=this.Fw,ir.Et.ig=er;else{const rr=this.Ow.get(Hn);ir.Oo.set(Hn,{se:rr||[],Qw:nr})}return ir}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function hn(tr,Hn){tr.Re=Hn,tr.Ew.forEach((er=>{er.Re=Hn}))}function an(tr,Hn){return tr.wt<Hn}function ln(tr,Hn){return Hn<tr.wt}function on(tr,Hn,er){const nr=Hn.Uh(),ir=Hn.bi(),rr=yt(tr,nr,an),sr=kt(tr,ir,ln);if(!er)return{from:rr,to:sr};let ar=rr,or=sr;return rr>0&&rr<tr.length&&tr[rr].wt>=nr&&(ar=rr-1),sr>0&&sr<tr.length&&tr[sr-1].wt<=ir&&(or=sr+1),{from:ar,to:or}}class _n{constructor(Hn,er,nr){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=Hn,this.Qn=er,this.ag=nr}yt(Hn){this.sg=!0,Hn==="data"&&(this.ng=!0),Hn==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map((Hn=>({...Hn,...this.Jn.Rh().Dr(Hn.wt)})))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const Hn=this.Jn.Ft(),er=this.Qn.Et();if(this.ug(),er.Ki()||Hn.Ki())return;const nr=er.Pe();if(nr===null||this.Jn.Xs().zr()===0)return;const ir=this.Jn.zt();ir!==null&&(this.hg=on(this.rg,nr,this.ag),this.fg(Hn,er,ir.Wt),this.pg())}}class un{constructor(Hn,er){this.vg=Hn,this.Yi=er}nt(Hn,er,nr){this.vg.draw(Hn,this.Yi,er,nr)}}class cn extends _n{constructor(Hn,er,nr){super(Hn,er,!1),this.sh=nr,this.og=new un(this.sh.renderer(),(ir=>{const rr=Hn.zt();return rr===null?null:Hn.Ft().Nt(ir,rr.Wt)}))}da(Hn){return this.sh.priceValueBuilder(Hn)}pa(Hn){return this.sh.isWhitespace(Hn)}cg(){const Hn=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((er=>({wt:er.Re,_t:NaN,...Hn.Dr(er.Re),mg:er.se})))}fg(Hn,er){er.uu(this.rg,b(this.hg))}pg(){this.sh.update({bars:this.rg.map(dn),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function dn(tr){return{x:tr._t,time:tr.wt,originalData:tr.mg,barColor:tr.cr}}const fn={color:"#2196f3"},pn=(tr,Hn,er)=>{const nr=c(er);return new cn(tr,Hn,nr)};function vn(tr){const Hn={value:tr.Wt[3],time:tr.yw};return tr.Iw!==void 0&&(Hn.customValues=tr.Iw),Hn}function mn(tr){const Hn=vn(tr);return tr.R!==void 0&&(Hn.color=tr.R),Hn}function wn(tr){const Hn=vn(tr);return tr.vt!==void 0&&(Hn.lineColor=tr.vt),tr.mr!==void 0&&(Hn.topColor=tr.mr),tr.wr!==void 0&&(Hn.bottomColor=tr.wr),Hn}function gn(tr){const Hn=vn(tr);return tr.gr!==void 0&&(Hn.topLineColor=tr.gr),tr.Mr!==void 0&&(Hn.bottomLineColor=tr.Mr),tr.br!==void 0&&(Hn.topFillColor1=tr.br),tr.Sr!==void 0&&(Hn.topFillColor2=tr.Sr),tr.Cr!==void 0&&(Hn.bottomFillColor1=tr.Cr),tr.Pr!==void 0&&(Hn.bottomFillColor2=tr.Pr),Hn}function Mn(tr){const Hn={open:tr.Wt[0],high:tr.Wt[1],low:tr.Wt[2],close:tr.Wt[3],time:tr.yw};return tr.Iw!==void 0&&(Hn.customValues=tr.Iw),Hn}function bn(tr){const Hn=Mn(tr);return tr.R!==void 0&&(Hn.color=tr.R),Hn}function Sn(tr){const Hn=Mn(tr),{R:er,Ht:nr,vr:ir}=tr;return er!==void 0&&(Hn.color=er),nr!==void 0&&(Hn.borderColor=nr),ir!==void 0&&(Hn.wickColor=ir),Hn}function xn(tr){return{Area:wn,Line:mn,Baseline:gn,Histogram:mn,Bar:bn,Candlestick:Sn,Custom:Cn}[tr]}function Cn(tr){const Hn=tr.yw;return{...tr.se,time:Hn}}const Pn={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},yn={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},kn={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:S,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Tn={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},Rn={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Dn(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:kn,crosshair:Pn,grid:yn,overlayPriceScales:{...Tn},leftPriceScale:{...Tn,visible:!1},rightPriceScale:{...Tn,visible:!0},timeScale:Rn,localization:{locale:rs?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Vn{constructor(Hn,er,nr){this.Hf=Hn,this.wg=er,this.gg=nr??0}applyOptions(Hn){this.Hf.Qt().oc(this.wg,Hn,this.gg)}options(){return this.Yi().N()}width(){return Z(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(Hn){this.setAutoScale(!1),this.Yi().Fl(new mt(Hn.from,Hn.to))}getVisibleRange(){let Hn,er,nr=this.Yi().Qe();if(nr===null)return null;if(this.Yi().Ja()){const ir=this.Yi().fo(),rr=Fi(ir);nr=ci(nr,this.Yi().tl()),Hn=Number((Math.round(nr.$e()/ir)*ir).toFixed(rr)),er=Number((Math.round(nr.qe()/ir)*ir).toFixed(rr))}else Hn=nr.$e(),er=nr.qe();return{from:Hn,to:er}}setAutoScale(Hn){this.applyOptions({autoScale:Hn})}Yi(){return u(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class Bn{constructor(Hn,er,nr,ir){this.Hf=Hn,this.Pt=nr,this.Mg=er,this.bg=ir}getHeight(){return this.Pt.$t()}setHeight(Hn){const er=this.Hf.Qt(),nr=er.Uc(this.Pt);er.vc(nr,Hn)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(Hn){this.Pt.Io(Hn),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(Hn){const er=this.paneIndex();er!==Hn&&(o(Hn>=0&&Hn<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(er,Hn))}getSeries(){return this.Pt.Oo().map((Hn=>this.Mg(Hn)))??[]}getHTMLElement(){const Hn=this.Hf.$f();return Hn&&Hn.length!==0&&Hn[this.paneIndex()]?Hn[this.paneIndex()].Zf():null}attachPrimitive(Hn){this.Pt._a(Hn),Hn.attached&&Hn.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(Hn){this.Pt.ua(Hn)}priceScale(Hn){if(this.Pt.Do(Hn)===null)throw new Error(`Cannot find price scale with id: ${Hn}`);return new Vn(this.Hf,Hn,this.paneIndex())}setPreserveEmptyPane(Hn){this.Pt.zo(Hn)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(Hn,er={},nr=0){return this.bg.addCustomSeries(Hn,er,nr)}addSeries(Hn,er={}){return this.bg.addSeries(Hn,er,this.paneIndex())}}const In={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class En{constructor(Hn){this.ir=Hn}applyOptions(Hn){this.ir.hr(Hn)}options(){return this.ir.N()}Sg(){return this.ir}}class An{constructor(Hn,er,nr,ir,rr,sr){this.xg=new d,this.Jn=Hn,this.Cg=er,this.Pg=nr,this.o_=rr,this.bg=ir,this.yg=sr}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(Hn){const er=this.Jn.zt();return er===null?null:this.Jn.Ft().Nt(Hn,er.Wt)}coordinateToPrice(Hn){const er=this.Jn.zt();return er===null?null:this.Jn.Ft().Ts(Hn,er.Wt)}barsInLogicalRange(Hn){if(Hn===null)return null;const er=new Vi(new Ti(Hn.from,Hn.to)).y_(),nr=this.Jn.Xs();if(nr.Ki())return null;const ir=nr.Fr(er.Uh(),1),rr=nr.Fr(er.bi(),-1),sr=u(nr.Lr()),ar=u(nr.Ks());if(ir!==null&&rr!==null&&ir.Re>rr.Re)return{barsBefore:Hn.from-sr,barsAfter:ar-Hn.to};const or={barsBefore:ir===null||ir.Re===sr?Hn.from-sr:ir.Re-sr,barsAfter:rr===null||rr.Re===ar?ar-Hn.to:ar-rr.Re};return ir!==null&&rr!==null&&(or.from=ir.yw,or.to=rr.yw),or}setData(Hn){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,Hn),this.Tg("full")}update(Hn,er=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,Hn,er),this.Tg("update")}pop(Hn=1){const er=this.Cg.Dg(this.Jn,Hn);er.length!==0&&this.Tg("update");const nr=xn(this.seriesType());return er.map((ir=>nr(ir)))}dataByIndex(Hn,er){const nr=this.Jn.Xs().Fr(Hn,er);return nr===null?null:xn(this.seriesType())(nr)}data(){const Hn=xn(this.seriesType());return this.Jn.Xs().Hr().map((er=>Hn(er)))}subscribeDataChanged(Hn){this.xg.i(Hn)}unsubscribeDataChanged(Hn){this.xg._(Hn)}applyOptions(Hn){this.Jn.hr(Hn)}options(){return g(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(Hn){const er=f(g(In),Hn),nr=this.Jn.Oh(er);return new En(nr)}removePriceLine(Hn){this.Jn.Nh(Hn.Sg())}priceLines(){return this.Jn.Fh().map((Hn=>new En(Hn)))}seriesType(){return this.Jn.Rr()}lastValueData(Hn){const er=this.Jn.ye(Hn);return er.ke?{noData:!0}:{noData:!1,price:er.gt,color:er.R}}attachPrimitive(Hn){this.Jn._a(Hn),Hn.attached&&Hn.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(Hn){this.Jn.ua(Hn),Hn.detached&&Hn.detached(),this.Jn.Qt().Ih()}getPane(){const Hn=this.Jn,er=u(this.Jn.Qt().Hn(Hn));return this.yg(er)}moveToPane(Hn){this.Jn.Qt().Nc(this.Jn,Hn)}seriesOrder(){const Hn=this.Jn.Qt().Hn(this.Jn);return Hn===null?-1:Hn.Oo().indexOf(this.Jn)}setSeriesOrder(Hn){const er=this.Jn.Qt().Hn(this.Jn);er!==null&&er.Qo(this.Jn,Hn)}Tg(Hn){this.xg.v()&&this.xg.p(Hn)}}class zn{constructor(Hn,er,nr){this.Vg=new d,this.z_=new d,this.gm=new d,this.ts=Hn,this.uh=Hn.Et(),this.Zm=er,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=nr}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(Hn,er){er?this.uh.Tu(Hn,1e3):this.ts.fn(Hn)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const Hn=this.uh.nu();return Hn===null?null:{from:Hn.from.originalTime,to:Hn.to.originalTime}}setVisibleRange(Hn){const er={from:this.o_.convertHorzItemToInternal(Hn.from),to:this.o_.convertHorzItemToInternal(Hn.to)},nr=this.uh.au(er);this.ts.Lc(nr)}getVisibleLogicalRange(){const Hn=this.uh.su();return Hn===null?null:{from:Hn.Uh(),to:Hn.bi()}}setVisibleLogicalRange(Hn){o(Hn.from<=Hn.to,"The from index cannot be after the to index."),this.ts.Lc(Hn)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(Hn){const er=this.ts.Et();return er.Ki()?null:er.qt(Hn)}coordinateToLogical(Hn){return this.uh.Ki()?null:this.uh.cu(Hn)}timeToIndex(Hn,er){const nr=this.o_.convertHorzItemToInternal(Hn);return this.uh.Q_(nr,er)}timeToCoordinate(Hn){const er=this.timeToIndex(Hn,!1);return er===null?null:this.uh.qt(er)}coordinateToTime(Hn){const er=this.ts.Et(),nr=er.cu(Hn),ir=er.ss(nr);return ir===null?null:ir.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(Hn){this.Vg.i(Hn)}unsubscribeVisibleTimeRangeChange(Hn){this.Vg._(Hn)}subscribeVisibleLogicalRangeChange(Hn){this.z_.i(Hn)}unsubscribeVisibleLogicalRangeChange(Hn){this.z_._(Hn)}subscribeSizeChange(Hn){this.gm.i(Hn)}unsubscribeSizeChange(Hn){this.gm._(Hn)}applyOptions(Hn){this.uh.hr(Hn)}options(){return{...g(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(Hn){this.gm.p(Hn.width,Hn.height)}}function Ln(tr){return(function(Hn){if(w(Hn.handleScale)){const nr=Hn.handleScale;Hn.handleScale={axisDoubleClickReset:{time:nr,price:nr},axisPressedMouseMove:{time:nr,price:nr},mouseWheel:nr,pinch:nr}}else if(Hn.handleScale!==void 0){const{axisPressedMouseMove:nr,axisDoubleClickReset:ir}=Hn.handleScale;w(nr)&&(Hn.handleScale.axisPressedMouseMove={time:nr,price:nr}),w(ir)&&(Hn.handleScale.axisDoubleClickReset={time:ir,price:ir})}const er=Hn.handleScroll;w(er)&&(Hn.handleScroll={horzTouchDrag:er,vertTouchDrag:er,mouseWheel:er,pressedMouseMove:er})})(tr),tr}class On{constructor(Hn,er,nr){this.Ag=new Map,this.zg=new Map,this.Lg=new d,this.Og=new d,this.Ng=new d,this.qu=new WeakMap,this.Fg=new rn(er);const ir=nr===void 0?g(Dn()):f(g(Dn()),Ln(nr));this.Wg=er,this.Hf=new Ws(Hn,ir,er),this.Hf.Xv().i((sr=>{this.Lg.v()&&this.Lg.p(this.Hg(sr()))}),this),this.Hf.Zv().i((sr=>{this.Og.v()&&this.Og.p(this.Hg(sr()))}),this),this.Hf.cc().i((sr=>{this.Ng.v()&&this.Ng.p(this.Hg(sr()))}),this);const rr=this.Hf.Qt();this.Ug=new zn(rr,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(Hn,er,nr){this.autoSizeActive()||this.Hf.Jm(Hn,er,nr)}addCustomSeries(Hn,er={},nr=0){const ir=(rr=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...fn,...rr.defaultOptions()},$g:pn,qg:rr}))(c(Hn));return this.Yg(ir,er,nr)}addSeries(Hn,er={},nr=0){return this.Yg(Hn,er,nr)}removeSeries(Hn){const er=_(this.Ag.get(Hn)),nr=this.Fg.Ac(er);this.Hf.Qt().Ac(er),this.jg(nr),this.Ag.delete(Hn),this.zg.delete(er)}kg(Hn,er){this.jg(this.Fg.Ww(Hn,er))}Rg(Hn,er,nr){this.jg(this.Fg.jw(Hn,er,nr))}Dg(Hn,er){const[nr,ir]=this.Fg.Zw(Hn,er);return nr.length!==0&&this.jg(ir),nr}subscribeClick(Hn){this.Lg.i(Hn)}unsubscribeClick(Hn){this.Lg._(Hn)}subscribeCrosshairMove(Hn){this.Ng.i(Hn)}unsubscribeCrosshairMove(Hn){this.Ng._(Hn)}subscribeDblClick(Hn){this.Og.i(Hn)}unsubscribeDblClick(Hn){this.Og._(Hn)}priceScale(Hn,er=0){return new Vn(this.Hf,Hn,er)}timeScale(){return this.Ug}applyOptions(Hn){this.Hf.hr(Ln(Hn))}options(){return this.Hf.N()}takeScreenshot(Hn=!1,er=!1){let nr,ir;try{er||(nr=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),ir=this.Hf.aw(Hn)}finally{er||nr===void 0||this.Hf.Qt().hr({crosshair:{mode:nr}})}return ir}addPane(Hn=!1){const er=this.Hf.Qt().$c();return er.zo(Hn),this.Kg(er)}removePane(Hn){this.Hf.Qt().fc(Hn)}swapPanes(Hn,er){this.Hf.Qt().mc(Hn,er)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map((Hn=>this.Kg(Hn)))}paneSize(Hn=0){const er=this.Hf.pw(Hn);return{height:er.height,width:er.width}}setCrosshairPosition(Hn,er,nr){const ir=this.Ag.get(nr);if(ir===void 0)return;const rr=this.Hf.Qt().Hn(ir);rr!==null&&this.Hf.Qt().Rc(Hn,er,rr)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(Hn,er={},nr=0){o(Hn.$g!==void 0),(function(or){if(or===void 0||or.type==="custom")return;const lr=or;lr.minMove!==void 0&&lr.precision===void 0&&(lr.precision=Fi(lr.minMove))})(er.priceFormat),Hn.type==="Candlestick"&&(function(or){or.borderColor!==void 0&&(or.borderUpColor=or.borderColor,or.borderDownColor=or.borderColor),or.wickColor!==void 0&&(or.wickUpColor=or.wickColor,or.wickDownColor=or.wickColor)})(er);const ir=f(g(e),g(Hn.defaultOptions),er),rr=Hn.$g,sr=new Kt(this.Hf.Qt(),Hn.type,ir,rr,Hn.qg);this.Hf.Qt().Ic(sr,nr);const ar=new An(sr,this,this,this,this.Wg,(or=>this.Kg(or)));return this.Ag.set(ar,sr),this.zg.set(sr,ar),ar}jg(Hn){const er=this.Hf.Qt();er.Vc(Hn.Et._u,Hn.Et.tg,Hn.Et.ig),Hn.Oo.forEach(((nr,ir)=>ir.ht(nr.se,nr.Qw))),er.Et().K_(),er.vu()}Xg(Hn){return _(this.zg.get(Hn))}Hg(Hn){const er=new Map;Hn.Dw.forEach(((ir,rr)=>{const sr=rr.Rr(),ar=xn(sr)(ir);if(sr!=="Custom")o($s(ar));else{const or=rr.fa();o(!or||or(ar)===!1)}er.set(this.Xg(rr),ar)}));const nr=Hn.Rw!==void 0&&this.zg.has(Hn.Rw)?this.Xg(Hn.Rw):void 0;return{time:Hn.yw,logical:Hn.Re,point:Hn.kw,paneIndex:Hn.Tw,hoveredSeries:nr,hoveredObjectId:Hn.Vw,seriesData:er,sourceEvent:Hn.Bw}}Kg(Hn){let er=this.qu.get(Hn);return er||(er=new Bn(this.Hf,(nr=>this.Xg(nr)),Hn,this),this.qu.set(Hn,er)),er}}function Nn(tr){if(m(tr)){const Hn=document.getElementById(tr);return o(Hn!==null,`Cannot find element in DOM with id=${tr}`),Hn}return tr}function Fn(tr,Hn,er){const nr=Nn(tr),ir=new On(nr,Hn,er);return Hn.setOptions(ir.options()),ir}function Wn(tr,Hn){return Fn(tr,new es,es.ld(Hn))}class Un extends _n{constructor(Hn,er){super(Hn,er,!0)}fg(Hn,er,nr){er.uu(this.rg,b(this.hg)),Hn.Ul(this.rg,nr,b(this.hg))}Zg(Hn,er){return{wt:Hn,gt:er,_t:NaN,ut:NaN}}cg(){const Hn=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((er=>{const nr=er.Wt[3];return this.Gg(er.Re,nr,Hn)}))}}function $n(tr,Hn,er,nr,ir,rr,sr){if(Hn.length===0||nr.from>=Hn.length||nr.to<=0)return;const{context:ar,horizontalPixelRatio:or,verticalPixelRatio:lr}=tr,cr=Hn[nr.from];let ur=rr(tr,cr),dr=cr;if(nr.to-nr.from<2){const fr=ir/2;ar.beginPath();const gr={_t:cr._t-fr,ut:cr.ut},yr={_t:cr._t+fr,ut:cr.ut};ar.moveTo(gr._t*or,gr.ut*lr),ar.lineTo(yr._t*or,yr.ut*lr),sr(tr,ur,gr,yr)}else{const fr=(yr,vr)=>{sr(tr,ur,dr,vr),ar.beginPath(),ur=yr,dr=vr};let gr=dr;ar.beginPath(),ar.moveTo(cr._t*or,cr.ut*lr);for(let yr=nr.from+1;yr<nr.to;++yr){gr=Hn[yr];const vr=rr(tr,gr);switch(er){case 0:ar.lineTo(gr._t*or,gr.ut*lr);break;case 1:ar.lineTo(gr._t*or,Hn[yr-1].ut*lr),vr!==ur&&(fr(vr,gr),ar.lineTo(gr._t*or,Hn[yr-1].ut*lr)),ar.lineTo(gr._t*or,gr.ut*lr);break;case 2:{const[jr,Sr]=Kn(Hn,yr-1,yr);ar.bezierCurveTo(jr._t*or,jr.ut*lr,Sr._t*or,Sr.ut*lr,gr._t*or,gr.ut*lr);break}}er!==1&&vr!==ur&&(fr(vr,gr),ar.moveTo(gr._t*or,gr.ut*lr))}(dr!==gr||dr===gr&&er===1)&&sr(tr,ur,dr,gr)}}const qn=6;function Yn(tr,Hn){return{_t:tr._t-Hn._t,ut:tr.ut-Hn.ut}}function jn(tr,Hn){return{_t:tr._t/Hn,ut:tr.ut/Hn}}function Kn(tr,Hn,er){const nr=Math.max(0,Hn-1),ir=Math.min(tr.length-1,er+1);var rr,sr;return[(rr=tr[Hn],sr=jn(Yn(tr[er],tr[nr]),qn),{_t:rr._t+sr._t,ut:rr.ut+sr.ut}),Yn(tr[er],jn(Yn(tr[ir],tr[Hn]),qn))]}function Xn(tr,Hn){const er=tr.context;er.strokeStyle=Hn,er.stroke()}class Zn extends R{constructor(){super(...arguments),this.rt=null}ht(Hn){this.rt=Hn}et(Hn){if(this.rt===null)return;const{ot:er,lt:nr,Jg:ir,Qg:rr,ct:sr,Xt:ar,tM:or}=this.rt;if(nr===null)return;const lr=Hn.context;lr.lineCap="butt",lr.lineWidth=sr*Hn.verticalPixelRatio,a(lr,ar),lr.lineJoin="round";const cr=this.iM.bind(this);rr!==void 0&&$n(Hn,er,rr,nr,ir,cr,Xn),or&&(function(ur,dr,fr,gr,yr){if(gr.to-gr.from<=0)return;const{horizontalPixelRatio:vr,verticalPixelRatio:jr,context:Sr}=ur;let Tr=null;const Lr=Math.max(1,Math.floor(vr))%2/2,Mr=fr*jr+Lr;for(let Nr=gr.to-1;Nr>=gr.from;--Nr){const Or=dr[Nr];if(Or){const Fr=yr(ur,Or);Fr!==Tr&&(Sr.beginPath(),Tr!==null&&Sr.fill(),Sr.fillStyle=Fr,Tr=Fr);const Gr=Math.round(Or._t*vr)+Lr,qr=Or.ut*jr;Sr.moveTo(Gr,qr),Sr.arc(Gr,qr,Mr,0,2*Math.PI)}}Sr.fill()})(Hn,er,or,nr,cr)}}class Gn extends Zn{iM(Hn,er){return er.vt}}class Jn extends Un{constructor(){super(...arguments),this.og=new Gn}Gg(Hn,er,nr){return{...this.Zg(Hn,er),...nr.Dr(Hn)}}pg(){const Hn=this.Jn.N(),er={ot:this.rg,Xt:Hn.lineStyle,Qg:Hn.lineVisible?Hn.lineType:void 0,ct:Hn.lineWidth,tM:Hn.pointMarkersVisible?Hn.pointMarkersRadius||Hn.lineWidth/2+2:void 0,lt:this.hg,Jg:this.Qn.Et().mu()};this.og.ht(er)}}const Qn={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$g:(tr,Hn)=>new Jn(tr,Hn)};function oe(tr,Hn,er,nr,ir){const{context:rr,horizontalPixelRatio:sr,verticalPixelRatio:ar}=Hn;rr.lineTo(ir._t*sr,tr*ar),rr.lineTo(nr._t*sr,tr*ar),rr.closePath(),rr.fillStyle=er,rr.fill()}class _e extends R{constructor(){super(...arguments),this.rt=null}ht(Hn){this.rt=Hn}et(Hn){if(this.rt===null)return;const{ot:er,lt:nr,Jg:ir,ct:rr,Xt:sr,Qg:ar}=this.rt,or=this.rt.lM??(this.rt.oM?0:Hn.mediaSize.height);if(nr===null)return;const lr=Hn.context;lr.lineCap="butt",lr.lineJoin="round",lr.lineWidth=rr,a(lr,sr),lr.lineWidth=1,$n(Hn,er,ar,nr,ir,this._M.bind(this),oe.bind(null,or))}}class ue{uM(Hn,er){const nr=this.cM,{dM:ir,fM:rr,pM:sr,vM:ar,lM:or,mM:lr,wM:cr}=er;if(this.gM===void 0||nr===void 0||nr.dM!==ir||nr.fM!==rr||nr.pM!==sr||nr.vM!==ar||nr.lM!==or||nr.mM!==lr||nr.wM!==cr){const{verticalPixelRatio:ur}=Hn,dr=or||lr>0?ur:1,fr=lr*dr,gr=cr===Hn.bitmapSize.height?cr:cr*dr,yr=(or??0)*dr,vr=Hn.context.createLinearGradient(0,fr,0,gr);if(vr.addColorStop(0,ir),or!=null){const jr=Jt((yr-fr)/(gr-fr),0,1);vr.addColorStop(jr,rr),vr.addColorStop(jr,sr)}vr.addColorStop(1,ar),this.gM=vr,this.cM=er}return this.gM}}class ve extends _e{constructor(){super(...arguments),this.MM=new ue}_M(Hn,er){return this.MM.uM(Hn,{dM:er.mr,fM:"",pM:"",vM:er.wr,mM:this.rt?.mM??0,wM:Hn.bitmapSize.height})}}class me extends Un{constructor(Hn,er){super(Hn,er),this.og=new T,this.CM=new ve,this.PM=new Gn,this.og.st([this.CM,this.PM])}Gg(Hn,er,nr){return{...this.Zg(Hn,er),...nr.Dr(Hn)}}pg(){const Hn=this.Jn.N();if(this.hg===null||this.rg.length===0)return;let er;if(Hn.relativeGradient){er=this.rg[this.hg.from].ut;for(let nr=this.hg.from;nr<this.hg.to;nr++){const ir=this.rg[nr];ir.ut<er&&(er=ir.ut)}}this.CM.ht({Qg:Hn.lineType,ot:this.rg,Xt:Hn.lineStyle,ct:Hn.lineWidth,lM:null,mM:er,oM:Hn.invertFilledArea,lt:this.hg,Jg:this.Qn.Et().mu()}),this.PM.ht({Qg:Hn.lineVisible?Hn.lineType:void 0,ot:this.rg,Xt:Hn.lineStyle,ct:Hn.lineWidth,lt:this.hg,Jg:this.Qn.Et().mu(),tM:Hn.pointMarkersVisible?Hn.pointMarkersRadius||Hn.lineWidth/2+2:void 0})}}const we={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$g:(tr,Hn)=>new me(tr,Hn)};class Me extends _n{constructor(Hn,er){super(Hn,er,!1)}fg(Hn,er,nr){er.uu(this.rg,b(this.hg)),Hn.ql(this.rg,nr,b(this.hg))}VM(Hn,er,nr){return{wt:Hn,qh:er.Wt[0],Yh:er.Wt[1],jh:er.Wt[2],Kh:er.Wt[3],_t:NaN,Yl:NaN,jl:NaN,Kl:NaN,Xl:NaN}}cg(){const Hn=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((er=>this.Gg(er.Re,er,Hn)))}}class xe extends R{constructor(){super(...arguments),this.Yt=null,this.yM=0}ht(Hn){this.Yt=Hn}et(Hn){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;const{horizontalPixelRatio:er}=Hn;this.yM=(function(rr,sr){if(rr>=2.5&&rr<=4)return Math.floor(3*sr);const ar=1-.2*Math.atan(Math.max(4,rr)-4)/(.5*Math.PI),or=Math.floor(rr*ar*sr),lr=Math.floor(rr*sr),cr=Math.min(or,lr);return Math.max(Math.floor(sr),cr)})(this.Yt.mu,er),this.yM>=2&&Math.floor(er)%2!=this.yM%2&&this.yM--;const nr=this.Yt.Xs;this.Yt.BM&&this.IM(Hn,nr,this.Yt.lt),this.Yt.Mi&&this.uv(Hn,nr,this.Yt.lt);const ir=this.EM(er);(!this.Yt.Mi||this.yM>2*ir)&&this.AM(Hn,nr,this.Yt.lt)}IM(Hn,er,nr){if(this.Yt===null)return;const{context:ir,horizontalPixelRatio:rr,verticalPixelRatio:sr}=Hn;let ar="",or=Math.min(Math.floor(rr),Math.floor(this.Yt.mu*rr));or=Math.max(Math.floor(rr),Math.min(or,this.yM));const lr=Math.floor(.5*or);let cr=null;for(let ur=nr.from;ur<nr.to;ur++){const dr=er[ur];dr.pr!==ar&&(ir.fillStyle=dr.pr,ar=dr.pr);const fr=Math.round(Math.min(dr.Yl,dr.Xl)*sr),gr=Math.round(Math.max(dr.Yl,dr.Xl)*sr),yr=Math.round(dr.jl*sr),vr=Math.round(dr.Kl*sr);let jr=Math.round(rr*dr._t)-lr;const Sr=jr+or-1;cr!==null&&(jr=Math.max(cr+1,jr),jr=Math.min(jr,Sr));const Tr=Sr-jr+1;ir.fillRect(jr,yr,Tr,fr-yr),ir.fillRect(jr,gr+1,Tr,vr-gr),cr=Sr}}EM(Hn){let er=Math.floor(1*Hn);this.yM<=2*er&&(er=Math.floor(.5*(this.yM-1)));const nr=Math.max(Math.floor(Hn),er);return this.yM<=2*nr?Math.max(Math.floor(Hn),Math.floor(1*Hn)):nr}uv(Hn,er,nr){if(this.Yt===null)return;const{context:ir,horizontalPixelRatio:rr,verticalPixelRatio:sr}=Hn;let ar="";const or=this.EM(rr);let lr=null;for(let cr=nr.from;cr<nr.to;cr++){const ur=er[cr];ur.dr!==ar&&(ir.fillStyle=ur.dr,ar=ur.dr);let dr=Math.round(ur._t*rr)-Math.floor(.5*this.yM);const fr=dr+this.yM-1,gr=Math.round(Math.min(ur.Yl,ur.Xl)*sr),yr=Math.round(Math.max(ur.Yl,ur.Xl)*sr);if(lr!==null&&(dr=Math.max(lr+1,dr),dr=Math.min(dr,fr)),this.Yt.mu*rr>2*or)z(ir,dr,gr,fr-dr+1,yr-gr+1,or);else{const vr=fr-dr+1;ir.fillRect(dr,gr,vr,yr-gr+1)}lr=fr}}AM(Hn,er,nr){if(this.Yt===null)return;const{context:ir,horizontalPixelRatio:rr,verticalPixelRatio:sr}=Hn;let ar="";const or=this.EM(rr);for(let lr=nr.from;lr<nr.to;lr++){const cr=er[lr];let ur=Math.round(Math.min(cr.Yl,cr.Xl)*sr),dr=Math.round(Math.max(cr.Yl,cr.Xl)*sr),fr=Math.round(cr._t*rr)-Math.floor(.5*this.yM),gr=fr+this.yM-1;if(cr.cr!==ar){const yr=cr.cr;ir.fillStyle=yr,ar=yr}this.Yt.Mi&&(fr+=or,ur+=or,gr-=or,dr-=or),ur>dr||ir.fillRect(fr,ur,gr-fr+1,dr-ur+1)}}}class Ce extends Me{constructor(){super(...arguments),this.og=new xe}Gg(Hn,er,nr){return{...this.VM(Hn,er,nr),...nr.Dr(Hn)}}pg(){const Hn=this.Jn.N();this.og.ht({Xs:this.rg,mu:this.Qn.Et().mu(),BM:Hn.wickVisible,Mi:Hn.borderVisible,lt:this.hg})}}const Pe={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},$g:(tr,Hn)=>new Ce(tr,Hn)};class ye extends R{constructor(){super(...arguments),this.Yt=null,this.zM=[]}ht(Hn){this.Yt=Hn,this.zM=[]}et({context:Hn,horizontalPixelRatio:er,verticalPixelRatio:nr}){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return;this.zM.length||this.LM(er);const ir=Math.max(1,Math.floor(nr)),rr=Math.round(this.Yt.OM*nr)-Math.floor(ir/2),sr=rr+ir;for(let ar=this.Yt.lt.from;ar<this.Yt.lt.to;ar++){const or=this.Yt.ot[ar],lr=this.zM[ar-this.Yt.lt.from],cr=Math.round(or.ut*nr);let ur,dr;Hn.fillStyle=or.cr,cr<=rr?(ur=cr,dr=sr):(ur=rr,dr=cr-Math.floor(ir/2)+ir),Hn.fillRect(lr.Uh,ur,lr.bi-lr.Uh+1,dr-ur)}}LM(Hn){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return void(this.zM=[]);const er=Math.ceil(this.Yt.mu*Hn)<=1?0:Math.max(1,Math.floor(Hn)),nr=Math.round(this.Yt.mu*Hn)-er;this.zM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let rr=this.Yt.lt.from;rr<this.Yt.lt.to;rr++){const sr=this.Yt.ot[rr],ar=Math.round(sr._t*Hn);let or,lr;if(nr%2){const cr=(nr-1)/2;or=ar-cr,lr=ar+cr}else{const cr=nr/2;or=ar-cr,lr=ar+cr-1}this.zM[rr-this.Yt.lt.from]={Uh:or,bi:lr,NM:ar,ne:sr._t*Hn,wt:sr.wt}}for(let rr=this.Yt.lt.from+1;rr<this.Yt.lt.to;rr++){const sr=this.zM[rr-this.Yt.lt.from],ar=this.zM[rr-this.Yt.lt.from-1];sr.wt===ar.wt+1&&sr.Uh-ar.bi!==er+1&&(ar.NM>ar.ne?ar.bi=sr.Uh-er-1:sr.Uh=ar.bi+er+1)}let ir=Math.ceil(this.Yt.mu*Hn);for(let rr=this.Yt.lt.from;rr<this.Yt.lt.to;rr++){const sr=this.zM[rr-this.Yt.lt.from];sr.bi<sr.Uh&&(sr.bi=sr.Uh);const ar=sr.bi-sr.Uh+1;ir=Math.min(ar,ir)}if(er>0&&ir<4)for(let rr=this.Yt.lt.from;rr<this.Yt.lt.to;rr++){const sr=this.zM[rr-this.Yt.lt.from];sr.bi-sr.Uh+1>ir&&(sr.NM>sr.ne?sr.bi-=1:sr.Uh+=1)}}}class ke extends Un{constructor(){super(...arguments),this.og=new ye}Gg(Hn,er,nr){return{...this.Zg(Hn,er),...nr.Dr(Hn)}}pg(){const Hn={ot:this.rg,mu:this.Qn.Et().mu(),lt:this.hg,OM:this.Jn.Ft().Nt(this.Jn.N().base,u(this.Jn.zt()).Wt)};this.og.ht(Hn)}}const Te={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},$g:(tr,Hn)=>new ke(tr,Hn)};({...e});const SLVTradingChart=()=>{const tr=reactExports.useRef(),Hn=reactExports.useRef();reactExports.useRef(),reactExports.useRef();const[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState("market"),[sr,ar]=reactExports.useState("1M"),[or,lr]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{const gr=((await axios.get("https://api_gold.thinkdiff.us/SLV_von_vao")).data.slv_market_data_daily||[]).filter(yr=>yr.trade_date&&yr.close_price!=null).sort((yr,vr)=>new Date(yr.trade_date)-new Date(vr.trade_date)).map(yr=>({time:yr.trade_date,open:Number(yr.open_price),high:Number(yr.high_price),low:Number(yr.low_price),close:Number(yr.close_price),volume:Number(yr.volume),color:Number(yr.close_price)>=Number(yr.open_price)?"#26a69a":"#ef5350"}));nr(gr),lr(!1)}catch{lr(!1)}})()},[]);const cr=reactExports.useMemo(()=>{if(!er.length)return[];if(sr==="ALL")return er;const ur=new Date(er[er.length-1].time);let dr=new Date(ur);return sr==="1W"?dr.setDate(ur.getDate()-7):sr==="1M"?dr.setMonth(ur.getMonth()-1):sr==="3M"?dr.setMonth(ur.getMonth()-3):sr==="1Y"&&dr.setFullYear(ur.getFullYear()-1),er.filter(fr=>new Date(fr.time)>=dr)},[er,sr]);return reactExports.useEffect(()=>{if(!tr.current||cr.length===0||ir!=="market")return;const ur=window.innerWidth<=768,dr=Wn(tr.current,{width:tr.current.clientWidth,height:tr.current.clientHeight,layout:{background:{color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},timeScale:{borderColor:"#2a2e39",timeVisible:!0,barSpacing:ur?8:12,minBarSpacing:5},rightPriceScale:{borderColor:"#2a2e39",autoScale:!0,scaleMargins:{top:.1,bottom:ur?.3:.25}}}),fr=dr.addSeries(Pe,{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),gr=dr.addSeries(Te,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:ur?.94:.9,bottom:0}});fr.setData(cr),gr.setData(cr.map(vr=>({time:vr.time,value:vr.volume,color:vr.color}))),dr.timeScale().fitContent(),Hn.current=dr;const yr=()=>{if(Hn.current&&tr.current){const vr=window.innerWidth<=768;Hn.current.applyOptions({width:tr.current.clientWidth,height:tr.current.clientHeight,rightPriceScale:{scaleMargins:{top:.1,bottom:vr?.3:.25}}}),gr.applyOptions({scaleMargins:{top:vr?.94:.9,bottom:0}})}};return window.addEventListener("resize",yr),()=>{window.removeEventListener("resize",yr),dr.remove()}},[cr,ir]),or?jsxRuntimeExports.jsx("div",{style:{height:"100vh",background:"#131722"}}):jsxRuntimeExports.jsxs("div",{style:{background:"#131722",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden",color:"#d1d4dc"},children:[jsxRuntimeExports.jsx("style",{children:`
        .slv-header { display: flex; justify-content: space-between; padding: 10px 15px; background: #1c202b; border-bottom: 1px solid #2a2e39; flex-shrink: 0; }
        .tab-item { color: #787b86; cursor: pointer; font-weight: bold; font-size: 13px; padding-bottom: 5px; border-bottom: 2px solid transparent; margin-right: 20px; }
        .tab-item.active { color: #fff; border-bottom: 2px solid #2962ff; }
        .slv-btns { display: flex; gap: 5px; flex-wrap: wrap; justify-content: flex-end; max-width: 70%; }
        .slv-btns button { background: #2a2e39; color: #b2b5be; border: none; padding: 5px 10px; cursor: pointer; font-weight: bold; font-size: 10px; border-radius: 2px; white-space: nowrap; }
        .slv-btns button.active { background: #2962ff; color: white; }
        .data-table-container { height: 100%; overflow-y: auto; background: #131722; padding: 0 10px; overflow-x: auto; }
        .slv-table { width: 100%; border-collapse: collapse; font-size: 13px; text-align: right; min-width: 600px; }
        .slv-table th { position: sticky; top: 0; background: #1c202b; color: #787b86; padding: 12px; font-weight: normal; border-bottom: 1px solid #2a2e39; z-index: 10; }
        .slv-table td { padding: 10px; border-bottom: 1px solid #1e222d; }
        .text-up { color: #26a69a; }
        .text-down { color: #ef5350; }

        @media (max-width: 768px) {
          .slv-table { font-size: 11px; min-width: 500px; }
          .slv-table td, .slv-table th { padding: 8px 5px; }
          .slv-header { flex-direction: column; gap: 8px; align-items: flex-start; padding: 8px 12px; }
          .slv-btns { max-width: 100%; justify-content: flex-start; }
          .tab-item { margin-right: 15px; font-size: 12px; }
        }
      `}),jsxRuntimeExports.jsxs("div",{className:"slv-header",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{className:`tab-item ${ir==="market"?"active":""}`,onClick:()=>rr("market"),children:"MARKET CHART"}),jsxRuntimeExports.jsx("div",{className:`tab-item ${ir==="darkpool"?"active":""}`,onClick:()=>rr("darkpool"),children:"PRICE & VOLUME"})]}),ir==="market"&&jsxRuntimeExports.jsxs("div",{className:"slv-btns",children:[jsxRuntimeExports.jsx("button",{className:sr==="1W"?"active":"",onClick:()=>ar("1W"),children:"1 TUN"}),jsxRuntimeExports.jsx("button",{className:sr==="1M"?"active":"",onClick:()=>ar("1M"),children:"1 THNG"}),jsxRuntimeExports.jsx("button",{className:sr==="3M"?"active":"",onClick:()=>ar("3M"),children:"3 THNG"}),jsxRuntimeExports.jsx("button",{className:sr==="1Y"?"active":"",onClick:()=>ar("1Y"),children:"1 NM"}),jsxRuntimeExports.jsx("button",{className:sr==="ALL"?"active":"",onClick:()=>ar("ALL"),children:"TT C"})]})]}),jsxRuntimeExports.jsx("div",{className:"chart-box-container",style:{flexGrow:1,position:"relative",overflow:"hidden"},children:ir==="market"?jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",height:"100%"}}):jsxRuntimeExports.jsx("div",{className:"data-table-container",children:jsxRuntimeExports.jsxs("table",{className:"slv-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{style:{textAlign:"left"},children:"Date (EST)"}),jsxRuntimeExports.jsx("th",{children:"Open"}),jsxRuntimeExports.jsx("th",{children:"High"}),jsxRuntimeExports.jsx("th",{children:"Low"}),jsxRuntimeExports.jsx("th",{children:"Close"}),jsxRuntimeExports.jsx("th",{children:"Change"}),jsxRuntimeExports.jsx("th",{children:"Volume"})]})}),jsxRuntimeExports.jsx("tbody",{children:[...er].reverse().map((ur,dr)=>{const fr=ur.close>=ur.open,gr=(ur.close-ur.open).toFixed(2);return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{textAlign:"left"},children:ur.time}),jsxRuntimeExports.jsx("td",{children:ur.open.toFixed(2)}),jsxRuntimeExports.jsx("td",{children:ur.high.toFixed(2)}),jsxRuntimeExports.jsx("td",{children:ur.low.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:fr?"text-up":"text-down",children:ur.close.toFixed(2)}),jsxRuntimeExports.jsx("td",{className:fr?"text-up":"text-down",children:fr?`+${gr}`:gr}),jsxRuntimeExports.jsx("td",{children:ur.volume.toLocaleString()})]},dr)})})]})})})]})},API_URL$4="https://api_gold.thinkdiff.us/compare_shanghai_comex_silver";function formatPercent(tr){return(tr>0?"+":"")+Number(tr).toFixed(2)+"%"}function CompareShanghaiComex({apiUrl:tr=API_URL$4,height:Hn=450}){const er=useNavigate(),[nr,ir]=reactExports.useState("silver"),[rr,sr]=reactExports.useState("1 Tun"),[ar,or]=reactExports.useState(!0),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState([]),[fr,gr]=reactExports.useState([]),[yr,vr]=reactExports.useState([]),[jr,Sr]=reactExports.useState([]),[Tr,Lr]=reactExports.useState([]),Mr=reactExports.useRef(),Nr=reactExports.useRef();reactExports.useEffect(()=>{let fo=!0;async function ao(){try{or(!0);const uo=await(await fetch(tr)).json(),oo=nr.includes("gold")?"gold":"silver",no=(uo?.data?.[oo]?.data||[]).slice().sort((bo,Po)=>new Date(bo.date)-new Date(Po.date));if(!fo)return;Sr(no);const mo=new Date;let Eo=[...no];if(rr!=="ALL"){const bo=new Date;rr==="1 Tun"?bo.setDate(mo.getDate()-7):rr==="1 Thng"?bo.setMonth(mo.getMonth()-1):rr==="1 Nm"&&bo.setFullYear(mo.getFullYear()-1),Eo=no.filter(Po=>new Date(Po.date)>=bo)}if(Lr(Eo),nr.includes("premium")){const bo=Eo.map(Po=>({time:Po.date,value:Number(Po.premium||Po.shanghai-Po.western)}));vr(bo),dr([]),gr([])}else{const bo=Eo.map(wo=>({time:wo.date,value:Number(wo.shanghai)})),Po=Eo.map(wo=>({time:wo.date,value:Number(wo.western)}));dr(bo),gr(Po),vr([])}}catch(Jr){cr(Jr?.message||"Error fetching data")}finally{or(!1)}}return ao(),()=>{fo=!1}},[tr,nr,rr]),reactExports.useEffect(()=>{if(!Mr.current||ar)return;const fo=Wn(Mr.current,{width:Mr.current.clientWidth,height:300,layout:{background:{color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},timeScale:{borderColor:"#2a2e39",timeVisible:!0},rightPriceScale:{borderColor:"#2a2e39",autoScale:!0,scaleMargins:{top:.1,bottom:.1}}});if(Nr.current=fo,nr.includes("premium")){const Jr=nr==="gold_premium"?"#c9b458":"#b5b7b9";fo.addSeries(we,{lineColor:Jr,topColor:`${Jr}44`,bottomColor:`${Jr}00`,lineWidth:2}).setData(yr)}else{const Jr=fo.addSeries(Qn,{color:"#e04646",lineWidth:2}),uo=fo.addSeries(Qn,{color:"#3b8be6",lineWidth:2});Jr.setData(ur),uo.setData(fr)}fo.timeScale().fitContent();const ao=()=>fo.applyOptions({width:Mr.current.clientWidth});return window.addEventListener("resize",ao),()=>{window.removeEventListener("resize",ao),fo.remove()}},[ar,nr,ur,fr,yr]);const{latest:Or,avgPremium:Fr,avgPremiumPercent:Gr,maxPremium:qr,minPremium:Hr}=reactExports.useMemo(()=>{if(!jr.length)return{latest:null,avgPremium:0,avgPremiumPercent:0,maxPremium:0,minPremium:0};const fo=jr[jr.length-1];let ao=0,Jr=0,uo=-1/0,oo=1/0;for(const co of jr){const no=Number(co.premium||co.shanghai-co.western);ao+=no,Jr+=Number(co.premiumPercent||0),no>uo&&(uo=no),no<oo&&(oo=no)}return{latest:fo,avgPremium:ao/jr.length,avgPremiumPercent:Jr/jr.length,maxPremium:uo,minPremium:oo}},[jr]),Yr=fo=>{if(!fo||fo.length<2)return 0;const ao=fo[0].value;return(fo[fo.length-1].value-ao)/Math.abs(ao||1)*100},ro=Yr(ur),io=Yr(fr);return jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__tabs",children:[jsxRuntimeExports.jsx("button",{className:`tab-btn ${nr==="gold"?"active":""}`,onClick:()=>ir("gold"),children:"Gold"}),jsxRuntimeExports.jsx("button",{className:`tab-btn ${nr==="silver"?"active":""}`,onClick:()=>ir("silver"),children:"Silver"}),jsxRuntimeExports.jsx("button",{className:`tab-btn premium-gold-btn ${nr==="gold_premium"?"active":""}`,onClick:()=>ir("gold_premium"),children:"Chnh Vng"}),jsxRuntimeExports.jsx("button",{className:`tab-btn premium-silver-btn ${nr==="silver_premium"?"active":""}`,onClick:()=>ir("silver_premium"),children:"Chnh Bc"})]}),jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__stats-row",children:[jsxRuntimeExports.jsxs("div",{className:"stat-card highlight",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Shanghai Spot"}),jsxRuntimeExports.jsx("div",{className:"stat-value",children:Or?`$${Number(Or.shanghai).toFixed(2)}`:""}),jsxRuntimeExports.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card highlight",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Western Spot"}),jsxRuntimeExports.jsx("div",{className:"stat-value",children:Or?`$${Number(Or.western).toFixed(2)}`:""}),jsxRuntimeExports.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card premium",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Premium"}),jsxRuntimeExports.jsx("div",{className:"stat-value",children:Or?`${Number(Or.premium||Or.shanghai-Or.western)>0?"+":""}$${Number(Or.premium||Or.shanghai-Or.western).toFixed(2)}`:""}),jsxRuntimeExports.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card premium",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Premium %"}),jsxRuntimeExports.jsx("div",{className:"stat-value",children:Or?`${(Or.premiumPercent||0)>0?"+":""}${Number(Or.premiumPercent||0).toFixed(2)}%`:""}),jsxRuntimeExports.jsx("div",{className:"stat-sub",children:"vs Western spot"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card small",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Avg Premium (1Y)"}),jsxRuntimeExports.jsxs("div",{className:"stat-value",children:["$",Fr.toFixed(2)," ",jsxRuntimeExports.jsxs("span",{className:"muted",children:["(",Gr.toFixed(2),"%)"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card small",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Max Premium"}),jsxRuntimeExports.jsxs("div",{className:"stat-value",children:["$",qr.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card small",children:[jsxRuntimeExports.jsx("div",{className:"stat-title",children:"Min Premium"}),jsxRuntimeExports.jsxs("div",{className:"stat-value",children:["$",Hr.toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__header",children:[jsxRuntimeExports.jsx("div",{className:"compare-shanghai-comex__title",onClick:()=>er("/shanghaichart"),style:{cursor:"pointer"},children:nr.includes("premium")?`Chnh lch ${nr.includes("gold")?"Vng":"Bc"} (Shanghai - Western)`:`Shanghai vs Western ${nr.toUpperCase()}  Spot`}),!nr.includes("premium")&&jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__legend",children:[jsxRuntimeExports.jsxs("div",{className:"legend-item",children:[jsxRuntimeExports.jsx("span",{className:"dot dot-sh"}),jsxRuntimeExports.jsx("span",{className:"legend-label",children:"Shanghai Spot"}),jsxRuntimeExports.jsx("span",{className:"legend-value",children:formatPercent(ro)})]}),jsxRuntimeExports.jsxs("div",{className:"legend-item",children:[jsxRuntimeExports.jsx("span",{className:"dot dot-w"}),jsxRuntimeExports.jsx("span",{className:"legend-label",children:"Western Spot"}),jsxRuntimeExports.jsx("span",{className:"legend-value",children:formatPercent(io)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"compare-shanghai-comex__chart-container",children:[ar?jsxRuntimeExports.jsx("div",{className:"loading-overlay",children:"Loading data..."}):jsxRuntimeExports.jsx("div",{ref:Mr,style:{width:"100%",height:"300px"}}),jsxRuntimeExports.jsx("div",{className:"timeframe-selector",children:["1 Tun","1 Thng","1 Nm","ALL"].map(fo=>jsxRuntimeExports.jsx("button",{className:`tf-btn ${rr===fo?"active":""}`,onClick:()=>sr(fo),children:fo},fo))})]})]})}const OrderFlowAnalysis=()=>{const{type:tr,day:Hn,month:er,year:nr}=useParams();useNavigate();const ir=reactExports.useRef(!0),[rr,sr]=reactExports.useState([]),[ar,or]=reactExports.useState([]),[lr,cr]=reactExports.useState(!0),[ur,dr]=reactExports.useState(""),[fr,gr]=reactExports.useState(1),[yr,vr]=reactExports.useState(window.innerWidth<768),[jr,Sr]=reactExports.useState([]);reactExports.useEffect(()=>{const Jr=()=>vr(window.innerWidth<768);return window.addEventListener("resize",Jr),()=>window.removeEventListener("resize",Jr)},[]);const[Tr,Lr]=reactExports.useState("silver"),Mr=Tr==="gold"?"#FFD700":"#C0C0C0",Nr=new Date,[Or,Fr]=reactExports.useState(()=>Hn&&er&&nr?new Date(nr,er-1,Hn):Nr);reactExports.useEffect(()=>{logUserInfo("Trang OrderFlow Map Index")},[]);const Gr=Jr=>{const uo=String(Jr.getDate()).padStart(2,"0"),oo=String(Jr.getMonth()+1).padStart(2,"0");return`${uo}_${oo}_${Jr.getFullYear()}`},qr=Jr=>{const uo=String(Jr.getDate()).padStart(2,"0"),oo=String(Jr.getMonth()+1).padStart(2,"0");return`${uo}/${oo}`};reactExports.useEffect(()=>{if(!Hn&&ir.current)Fr(Nr);else if(Hn&&er&&nr){const Jr=new Date(nr,er-1,Hn);Gr(Jr)!==Gr(Or)&&Fr(Jr)}ir.current=!1},[Hn,er,nr,tr]),reactExports.useEffect(()=>{cr(!0),(async()=>{try{const uo=[];for(let To=6;To>=0;To--){const Fo=new Date(Or);Fo.setDate(Fo.getDate()-To),uo.push(Fo)}const oo=uo.map(To=>axios.get(`https://api_gold.thinkdiff.us/tile_mua_ban_check_giao_dich/${Gr(To)}`).catch(()=>null)),co=await Promise.all(oo);let no=new Set,mo=[];co.forEach((To,Fo)=>{const Co=To?.data?.tile_mua_ban_check_giao_dich;Fo===6&&Co?.time_update&&dr(Co.time_update);const Go=Tr==="gold"?Co?.list_tongtien_ban_gold:Co?.list_tongtien_ban,el=Tr==="gold"?Co?.list_tongtien_mua_gold:Co?.list_tongtien_mua;mo.push({dateObj:uo[Fo],listBan:Go||[],listMua:el||[]}),Go&&Go.forEach(Lo=>{const Uo=Number(Lo.gia),$o=Number(Lo.so_luong)||0;Uo>0&&$o>0&&no.add(Uo)})});const Eo=Array.from(no).sort((To,Fo)=>To-Fo);Sr(Eo);let bo=[],Po=[],wo=0;mo.forEach((To,Fo)=>{const Co=qr(To.dateObj),{listBan:Go,listMua:el}=To,Lo={x:Fo,date:Co,low:0,high:0,range:[0,0]};if(Go.length===0){Po.push(Lo);return}let Uo=1/0,$o=-1/0;Go.forEach((il,pl)=>{const ml=Number(il.gia),Wl=Number(il?.so_luong)||0,Xl=Number(el?.[pl]?.so_luong)||0;if(Wl+Xl>0){Xl>wo&&(wo=Xl),Wl>wo&&(wo=Wl);const Tl=Eo.indexOf(ml);Tl!==-1&&(Tl<Uo&&(Uo=Tl),Tl>$o&&($o=Tl),bo.push({x:Fo,y:Tl,displayPrice:ml,buy:Xl,sell:Wl,date:Co}))}}),Uo!==1/0?Po.push({...Lo,range:[Uo,$o]}):Po.push(Lo)}),gr(wo>0?wo:1),sr(bo),or(Po),cr(!1)}catch{cr(!1)}})()},[Or,Tr]);const Hr=Jr=>{const uo=new Date(Or);uo.setDate(uo.getDate()+Jr),Fr(uo)},Yr=Jr=>{const{cx:uo,cy:oo,payload:co}=Jr,{buy:no,sell:mo}=co,Eo=yr?12:20,bo=yr?25:65,Po=bo*3.5,wo=Eo+4,To=no>0?no/fr*bo:0,Fo=mo>0?mo/fr*bo:0,Co=no+mo,Go=Co>0?Math.round(no/Co*100):0,el=Co>0?Math.round(mo/Co*100):0,Lo=yr?9:11;return jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("rect",{x:uo-Po/2,y:oo-wo/2,width:Po,height:wo,fill:"transparent"}),no>0&&mo>0&&jsxRuntimeExports.jsx("rect",{x:uo-To,y:oo-Eo/2,width:To,height:Eo,fill:"#00e676",opacity:.9,rx:3,style:{pointerEvents:"none"}}),no>0&&mo>0&&jsxRuntimeExports.jsxs("text",{x:uo-To-4,y:oo+Lo/3,textAnchor:"end",fill:"#00e676",fontSize:Lo,fontWeight:"bold",style:{pointerEvents:"none"},children:[Go,"%"]}),no>0&&mo>0&&jsxRuntimeExports.jsx("rect",{x:uo,y:oo-Eo/2,width:Fo,height:Eo,fill:"#ff1744",opacity:.9,rx:3,style:{pointerEvents:"none"}}),no>0&&mo>0&&jsxRuntimeExports.jsxs("text",{x:uo+Fo+4,y:oo+Lo/3,textAnchor:"start",fill:"#ff1744",fontSize:Lo,fontWeight:"bold",style:{pointerEvents:"none"},children:[el,"%"]}),jsxRuntimeExports.jsx("line",{x1:uo,y1:oo-Eo/2,x2:uo,y2:oo+Eo/2,stroke:"#444",strokeWidth:1,style:{pointerEvents:"none"}})]})},ro=Jr=>{const{x:uo,y:oo,width:co,height:no}=Jr;return jsxRuntimeExports.jsx("rect",{x:uo-10,y:oo,width:co+20,height:no,fill:"#222",opacity:.4,rx:4,style:{pointerEvents:"none"}})},io={backgroundColor:"#0E0E0E",padding:yr?"8px":"10px",borderRadius:"6px",width:"100%",margin:"auto",overflowX:"auto",overflowY:"hidden"},fo={display:"flex",justifyContent:yr?"space-around":"space-between",marginBottom:yr?"8px":"10px",alignItems:"center",gap:yr?"8px":"12px",flexWrap:yr?"wrap":"nowrap",minWidth:0},ao={width:yr?"calc(100vw - 20px)":"100%",minWidth:yr?"100%":"auto",height:Tr=="silver"?yr?"400px":"550px":yr?"280px":"330px",overflowX:yr?"auto":"visible",overflowY:"hidden",WebkitOverflowScrolling:"touch"};return jsxRuntimeExports.jsxs("div",{style:io,children:[jsxRuntimeExports.jsxs("div",{style:fo,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:yr?"3px":"5px",flex:yr?"0 0 auto":"1"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Lr("gold"),style:tabBtn$1(Tr==="gold","#FFD700",yr),children:"GOLD"}),jsxRuntimeExports.jsx("button",{onClick:()=>Lr("silver"),style:tabBtn$1(Tr==="silver","#C0C0C0",yr),children:"SILVER"})]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",flex:yr?"0 0 auto":"1",minWidth:0},children:[jsxRuntimeExports.jsx("h3",{style:{cursor:"pointer",margin:"0",fontSize:yr?"12px":"16px"},children:"Sn mua bn check giao dch"}),jsxRuntimeExports.jsx("div",{style:{color:Mr,fontSize:yr?"9px":"11px",fontFamily:"monospace"},children:ur&&`Update: ${ur}`})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:yr?"3px":"5px",background:"#1a1a1a",padding:yr?"3px 8px":"4px 10px",borderRadius:"20px",flex:yr?"0 0 auto":"1"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Hr(-1),style:navBtn$1,children:""}),jsxRuntimeExports.jsx("span",{style:{fontSize:yr?"10px":"12px",fontWeight:"bold",color:Mr,whiteSpace:"nowrap"},children:Gr(Or).replaceAll("_","/")}),jsxRuntimeExports.jsx("button",{onClick:()=>Hr(1),style:navBtn$1,children:""})]})]}),jsxRuntimeExports.jsx("div",{style:ao,children:jsxRuntimeExports.jsx("div",{style:{width:yr?"1200px":"100%",height:"100%"},children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(ComposedChart,{margin:{top:10,right:yr?20:10,bottom:0,left:yr?50:0},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#222",vertical:!1}),jsxRuntimeExports.jsx(XAxis,{dataKey:"x",type:"number",domain:["dataMin","dataMax"],tickCount:yr?5:7,interval:0,tickFormatter:Jr=>ar[Jr]?.date||"",tick:{fill:"#888",fontSize:yr?8:10,fontWeight:"bold"},axisLine:{stroke:"#333"},tickLine:!1,padding:{left:yr?50:200,right:yr?20:80}}),jsxRuntimeExports.jsx(YAxis,{dataKey:"y",type:"number",domain:[0,jr.length>0?jr.length-1:"auto"],tickCount:jr.length>20?15:jr.length,tickFormatter:Jr=>jr[Jr]||"",interval:0,tick:{fill:Mr,fontSize:yr?8:10},axisLine:!1,tickLine:!1,width:yr?40:50,padding:{top:20,bottom:20},allowDataOverflow:!0}),jsxRuntimeExports.jsx(Bar,{data:ar,dataKey:"range",barSize:yr?40:80,shape:jsxRuntimeExports.jsx(ro,{}),isAnimationActive:!1}),jsxRuntimeExports.jsx(Scatter,{data:rr,shape:jsxRuntimeExports.jsx(Yr,{}),isAnimationActive:!1})]})})})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:yr?"10px":"20px",marginTop:"8px",fontSize:yr?"9px":"10px",color:"#666",flexWrap:"wrap"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[jsxRuntimeExports.jsx("span",{style:{width:"10px",height:"10px",background:"#222",opacity:.5}})," ",jsxRuntimeExports.jsx("span",{style:{whiteSpace:"nowrap"},children:"Range Ngy"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[jsxRuntimeExports.jsx("span",{style:{width:"8px",height:"8px",background:"#00e676"}})," ",jsxRuntimeExports.jsx("span",{style:{whiteSpace:"nowrap"},children:"Buy Vol & %"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[jsxRuntimeExports.jsx("span",{style:{width:"8px",height:"8px",background:"#ff1744"}})," ",jsxRuntimeExports.jsx("span",{style:{whiteSpace:"nowrap"},children:"Sell Vol & %"})]})]})]})},tabBtn$1=(tr,Hn,er)=>({background:tr?Hn:"#1a1a1a",border:"none",padding:er?"4px 8px":"6px 15px",color:tr?"#000":"#888",cursor:"pointer",fontWeight:"bold",borderRadius:"4px",fontSize:er?"10px":"11px",whiteSpace:"nowrap"}),navBtn$1={background:"none",border:"none",color:"#fff",cursor:"pointer",fontSize:"12px",padding:"0 4px",lineHeight:"1"};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend,index,LogarithmicScale);function PSLVInventoryChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState("30"),[or,lr]=reactExports.useState("line"),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState("oz"),gr=(Lr,Mr)=>!Mr||Mr===0?null:(Lr-Mr)/Mr*100,yr=(Lr,Mr)=>Mr==null?null:vr(Lr-Mr),vr=Lr=>dr==="moz"?Lr/1e6:dr==="ton"?Lr/32150.75:Lr,jr=Lr=>{const Mr=vr(Lr);return dr==="moz"?Mr.toFixed(2)+" Triu OZ":dr==="ton"?Mr.toFixed(2)+" Tn":Mr.toLocaleString()+" OZ"};reactExports.useEffect(()=>{(async()=>{try{nr(!0);const Nr=await(await fetch("https://api_gold.thinkdiff.us/pslv_so_luong_bac")).json();Nr.status==="success"&&Nr.pslv_so_luong_bac?Hn(Nr.pslv_so_luong_bac):rr("Cu trc d liu API khng ng.")}catch(Mr){rr("Li kt ni API: "+Mr.message)}finally{nr(!1)}})()},[]);const Sr=reactExports.useMemo(()=>{if(!tr||!tr.data_all)return null;const Lr=[...tr.data_all].sort((Hr,Yr)=>new Date(Hr[1])-new Date(Yr[1]));let Mr=Lr;if(sr!=="all"){const Hr=parseInt(sr);Mr=Lr.slice(-Hr)}const Nr=Mr.map(Hr=>{const Yr=new Date(Hr[1]);return sr==="all"||sr==="365"?`${Yr.getMonth()+1}/${Yr.getFullYear()}`:`${Yr.getDate()}/${Yr.getMonth()+1}`}),Or=Mr.map(Hr=>Hr[2]),Fr=Or[Or.length-1],Gr=Hr=>{if(Lr.length<Hr)return null;const Yr=Lr[Lr.length-Hr][2];return dr==="ton"?yr(Fr,Yr):gr(Fr,Yr)},qr={day1:Gr(2),day3:Gr(4),week1:Gr(8),month1:Gr(31)};return{labels:Nr,datasets:[{label:"S lng Bc (PSLV)",data:Or,borderColor:"#3b82f6",backgroundColor:or==="line"?"transparent":"#94a3b8",borderWidth:2,pointRadius:sr==="all"?0:2,tension:.1,fill:or==="stackedBar"}],changes:qr,currentVal:Fr,maxVal:Math.max(...Or),minVal:Math.min(...Or),latestDate:tr.data_sample_end[1]}},[tr,sr,or,dr]),Tr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#0f172a",callbacks:{label:Lr=>`S lng: ${Lr.parsed.y.toLocaleString()} OZ`}}},scales:{y:{type:"logarithmic",grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"#9ca3af"}},x:{grid:{display:!1},ticks:{color:"#9ca3af",maxRotation:0}}}};return er?jsxRuntimeExports.jsx("div",{className:"loading-spinner",children:"ang ti d liu PSLV..."}):ir?jsxRuntimeExports.jsx("div",{className:"error-message",children:ir}):jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsx("div",{className:"comex-inventory-header",children:jsxRuntimeExports.jsxs(Link,{to:"/pslv_silver",className:"comex-header-link",children:[jsxRuntimeExports.jsx("h2",{children:"PSLV Silver Inventory"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Sprott Physical Silver Trust - S lng bc lu kho"})]})}),jsxRuntimeExports.jsx("div",{className:"comex-tab-navigation",children:jsxRuntimeExports.jsxs("div",{className:"latest-update-date",children:["Cp nht: ",Sr.latestDate]})}),jsxRuntimeExports.jsxs("div",{className:"comex-unit-converter",children:[jsxRuntimeExports.jsx("span",{className:"unit-label",children:"n v:"}),["oz","moz","ton"].map(Lr=>jsxRuntimeExports.jsx("button",{className:`unit-btn ${dr===Lr?"active":""}`,onClick:()=>fr(Lr),children:Lr.toUpperCase()},Lr))]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Hin ti:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:jr(Sr.currentVal)})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:"Cao nht:"}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:jr(Sr.maxVal)})]})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i"}),jsxRuntimeExports.jsx("div",{className:"percentage-grid",children:Object.entries(Sr.changes).map(([Lr,Mr])=>jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:Lr.replace("day","Ngy ").replace("week1","1 Tun").replace("month1","1 Thng")}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Mr>=0?"positive":"negative"}`,children:[Mr>=0?"+":"",Mr?.toFixed(2),dr==="ton"?" T":"%"]})]},Lr))})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-right-column",children:[jsxRuntimeExports.jsxs("div",{className:"comex-time-range",children:[["30","90","365","all"].map(Lr=>jsxRuntimeExports.jsx("button",{className:`time-range-btn ${sr===Lr?"active":""}`,onClick:()=>ar(Lr),children:Lr==="all"?"Tt c":`${Lr} ngy`},Lr)),jsxRuntimeExports.jsxs("div",{className:"comex-chart-type-dropdown",children:[jsxRuntimeExports.jsxs("button",{className:"chart-type-trigger",onClick:()=>ur(!cr),children:[or.toUpperCase()," "]}),cr&&jsxRuntimeExports.jsx("div",{className:"chart-type-menu",children:["line","column","stackedBar"].map(Lr=>jsxRuntimeExports.jsx("div",{className:"chart-type-option",onClick:()=>{lr(Lr),ur(!1)},children:Lr},Lr))})]})]}),jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:jsxRuntimeExports.jsx(Chart,{type:or==="column"?"bar":"line",data:Sr,options:Tr})})]})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,PointElement,LineElement,plugin_tooltip,plugin_legend);const API="https://api_gold.thinkdiff.us/CVOL_SIVL_COMEX",SilverCVOLStatus=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!1),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState("day"),or=reactExports.useRef(new Audio("audio_tingting_CVOL.mp3")),lr=reactExports.useRef(0),cr=async()=>{nr(!0);try{const vr=(await(await fetch(API)).json()).data||[];if(vr.sort((jr,Sr)=>new Date(jr.transactTime)-new Date(Sr.transactTime)),Hn(vr),vr.length>0){const jr=vr[vr.length-1],Sr=parseFloat(jr.cvolPrice||0),Tr=new Date(jr.transactTime).getTime(),Lr=Date.now();if(Sr>100){let Mr=localStorage.getItem("cvol_wave_start_time");Mr||(Mr=Tr,localStorage.setItem("cvol_wave_start_time",Mr));const Nr=(Lr-Number(Mr))/6e4,Or=(Lr-Tr)/6e4;if(Nr<=30&&Or<=30){const Fr=(Lr-lr.current)/6e4;(lr.current===0||Fr>=5)&&(rr({value:Sr.toFixed(1),title:"Sp c bin ng mnh",note:"CVOL Silver vt ngng 100",startTime:dr(Number(Mr)),marketTime:dr(jr.transactTime)}),or.current.play().catch(()=>console.log("Yu cu tng tc  pht nhc")),lr.current=Lr,setTimeout(()=>rr(null),1e4))}else console.log("Ht hn 30 pht ca t bin ng hoc d liu qu c.")}else localStorage.removeItem("cvol_wave_start_time"),lr.current=0}}catch(gr){console.error("Li fetch data:",gr)}finally{nr(!1)}};reactExports.useEffect(()=>{cr();const gr=setInterval(cr,3e4);return()=>clearInterval(gr)},[]);const ur=reactExports.useMemo(()=>{if(sr==="all")return tr;const gr=new Date;let yr=new Date;return sr==="day"&&yr.setDate(gr.getDate()-1),sr==="week"&&yr.setDate(gr.getDate()-7),sr==="month"&&yr.setMonth(gr.getMonth()-1),tr.filter(vr=>new Date(vr.transactTime)>=yr)},[tr,sr]),dr=gr=>{const yr=new Date(gr);return`${String(yr.getDate()).padStart(2,"0")}/${String(yr.getMonth()+1).padStart(2,"0")} ${String(yr.getHours()).padStart(2,"0")}:${String(yr.getMinutes()).padStart(2,"0")}`},fr=reactExports.useMemo(()=>{if(!ur.length)return{};const gr=ur[ur.length-1],yr=ur[ur.length-2],vr=ur.map(Sr=>Number(Sr.gia_bac_hien_tai)).filter(Sr=>Sr>0),jr=ur.map(Sr=>parseFloat(Sr.cvolPrice)).filter(Sr=>!isNaN(Sr));return{maxPrice:vr.length?Math.max(...vr):0,minPrice:vr.length?Math.min(...vr):0,maxCVOL:jr.length?Math.max(...jr):0,minCVOL:jr.length?Math.min(...jr):0,currentPrice:gr?.gia_bac_hien_tai||0,currentCVOL:parseFloat(gr?.cvolPrice||0),currentVol:gr?.volume_gia||0,lastUpdated:gr?dr(gr.transactTime):"",priceColor:gr?.gia_bac_hien_tai>=yr?.gia_bac_hien_tai?"#1bb553":"#ef4444",cvolColor:parseFloat(gr?.cvolPrice)>100?"#ef4444":"#1bb553"}},[ur]);return jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",style:{backgroundColor:"#0f172a",color:"#fff",padding:"20px"},children:[jsxRuntimeExports.jsx("style",{children:`
        .cvol-noti {
          position: fixed; top: 100px; right: 12px; padding: 12px 16px;
          border-radius: 8px; color: white; font-weight: bold;
          font-family: sans-serif; z-index: 9999;
          box-shadow: 0 5px 15px rgba(0,0,0,0.6);
          animation: slideIn 0.3s ease-out;
          display: flex; flex-direction: column; gap: 4px; min-width: 300px;
          background: linear-gradient(135deg, #800000, #ff4d4d); border-left: 4px solid #ffffff;
        }
        .noti-title { font-size: 18px; line-height: 1.2; }
        .noti-note { font-size: 13px; font-weight: normal; opacity: 0.9; }
        .noti-footer { font-size: 11px; font-weight: normal; color: #ffd700; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 5px; margin-top: 5px; display: flex; justify-content: space-between; }
        .noti-close { position: absolute; top: 8px; right: 8px; cursor: pointer; font-size: 16px; }
        @keyframes slideIn { from { transform: translateX(110%); } to { transform: translateX(0); } }
      `}),ir&&jsxRuntimeExports.jsxs("div",{className:"cvol-noti",children:[jsxRuntimeExports.jsxs("div",{className:"noti-title",children:[ir.value," - ",ir.title]}),jsxRuntimeExports.jsx("div",{className:"noti-note",children:ir.note}),jsxRuntimeExports.jsx("div",{className:"noti-footer",children:jsxRuntimeExports.jsxs("span",{children:["Bt u t: ",ir.startTime]})}),jsxRuntimeExports.jsx("div",{className:"noti-close",onClick:()=>rr(null),children:""})]}),jsxRuntimeExports.jsxs("div",{className:"header-row",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{style:{margin:0},children:"Silver CVOL Index"}),jsxRuntimeExports.jsxs("p",{style:{color:"#fff",fontSize:"14px",marginTop:"5px"},children:["Cp nht: ",jsxRuntimeExports.jsx("span",{style:{color:"#1bb553"},children:fr.lastUpdated})]})]}),jsxRuntimeExports.jsxs("div",{className:"controls",style:{display:"flex",gap:"10px",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{className:"filter-buttons",children:["day","week","month","all"].map(gr=>jsxRuntimeExports.jsx("button",{onClick:()=>ar(gr),style:{padding:"5px 12px",marginRight:"5px",backgroundColor:sr===gr?"#1bb553":"#334155",border:"none",color:"white",cursor:"pointer",borderRadius:"4px"},children:gr==="day"?"Ngy":gr==="week"?"Tun":gr==="month"?"Thng":"Tt c"},gr))}),jsxRuntimeExports.jsx("button",{onClick:cr,style:{padding:"5px 15px",cursor:"pointer",borderRadius:"4px",backgroundColor:"#ef4444",color:"#fff",border:"none"},children:"Lm mi"})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",style:{display:"flex",gap:"20px"},children:[jsxRuntimeExports.jsx("div",{className:"comex-left-column",style:{flex:"1"},children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#1e293b",padding:"20px",borderRadius:"12px",textAlign:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{borderBottom:"1px solid #334155",paddingBottom:"10px",marginTop:0},children:"Tng quan"}),jsxRuntimeExports.jsxs("div",{style:{margin:"25px 0",position:"relative",display:"inline-block"},children:[jsxRuntimeExports.jsxs("div",{style:{width:"110px",height:"110px",borderRadius:"50%",border:`6px solid ${fr.cvolColor}`,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:`0 0 10px ${fr.cvolColor}44`},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"12px",color:"#888"},children:"CVOL"}),jsxRuntimeExports.jsx("span",{style:{fontSize:"24px",fontWeight:"bold",color:fr.cvolColor},children:fr.currentCVOL?.toFixed(1)})]}),fr.currentCVOL>100&&jsxRuntimeExports.jsx("div",{style:{color:"#ef4444",fontSize:"11px",marginTop:"10px",fontWeight:"bold"},children:"Sp c bin ng mnh"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",textAlign:"left",marginTop:"10px",padding:"0 5px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#888",fontSize:"12px"},children:"Gi hin ti"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"18px",color:fr.priceColor,fontWeight:"bold"},children:Number(fr.currentPrice).toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"right"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#888",fontSize:"12px"},children:"Volume"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"18px",fontWeight:"bold"},children:Number(fr.currentVol).toLocaleString()})]})]}),jsxRuntimeExports.jsx("hr",{style:{border:"0.5px solid #334155",margin:"15px 0"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",fontSize:"12px",color:"#ccc",textAlign:"left"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs("span",{children:["Gi cao nht:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{style:{color:"#fff"},children:fr.maxPrice?.toFixed(2)})]}),jsxRuntimeExports.jsxs("span",{style:{textAlign:"right"},children:["Gi thp nht:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{style:{color:"#fff"},children:fr.minPrice?.toFixed(2)})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px dashed #334155",paddingTop:"8px"},children:[jsxRuntimeExports.jsxs("span",{children:["CVOL cao nht:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{style:{color:"#3498db"},children:fr.maxCVOL?.toFixed(2)})]}),jsxRuntimeExports.jsxs("span",{style:{textAlign:"right"},children:["CVOL thp nht:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{style:{color:"#3498db"},children:fr.minCVOL?.toFixed(2)})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"comex-right-column",style:{flex:"3",backgroundColor:"#1e293b",padding:"15px",borderRadius:"12px"},children:jsxRuntimeExports.jsx("div",{style:{height:"450px"},children:jsxRuntimeExports.jsx(Bar$1,{data:{labels:ur.map(gr=>dr(gr.transactTime)),datasets:[{type:"bar",label:"Silver CVOL",data:ur.map(gr=>parseFloat(gr.cvolPrice)),backgroundColor:"rgba(31, 119, 180, 0.7)",yAxisID:"y"},{type:"bar",label:"Volume",data:ur.map(gr=>gr.volume_gia),backgroundColor:"rgba(255, 0, 0, 0.5)",yAxisID:"y1",hidden:!0},{type:"line",label:"Gi bc hin ti",data:ur.map(gr=>gr.gia_bac_hien_tai),borderColor:"#1bb553",borderWidth:2,tension:.3,pointRadius:0,yAxisID:"y2"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left"},y1:{position:"right",grid:{display:!1}},y2:{display:!1}}}})})})]})]})};Chart$1.register(LinearScale,CategoryScale,BarElement,PointElement,LineElement,plugin_legend,plugin_tooltip,LineController,BarController);function SilverVolume({type:tr,labels:Hn,data:er}){const nr=useNavigate(),{volData:ir,oiData:rr}=reactExports.useMemo(()=>({volData:er.map(or=>or.vol),oiData:er.map(or=>or.oi)}),[er]),sr={labels:Hn,datasets:[{type:"line",label:"Volume",borderColor:tr==="silverOption"?"#000000":"#3cc8ff",borderWidth:2,pointRadius:0,pointHoverRadius:5,fill:!1,data:ir,yAxisID:"y"},{type:"bar",label:"Open Interest",backgroundColor:tr==="silverOption"?"#3cc8ff":"#1236aa",data:rr,yAxisID:"y1",borderRadius:4}]},ar={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{tooltip:{callbacks:{label:function(or){let lr=or.dataset.label||"";return lr&&(lr+=": "),or.parsed.y!==null&&(lr+=new Intl.NumberFormat("en-US").format(or.parsed.y)),lr}}},legend:{display:!0,labels:{color:"#C0C0C0"}}},scales:{y:{type:"linear",position:"left",title:{display:!0,text:"VOL",color:"#C0C0C0"},ticks:{color:"#C0C0C0"}},y1:{type:"linear",position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"OI",color:"#C0C0C0"},ticks:{color:"#C0C0C0"}},x:{ticks:{color:"#C0C0C0",autoSkip:!0,minRotation:90,maxRotation:90}}}};return jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#C0C0C0",padding:"0 25px",cursor:"pointer",fontSize:"18px"},onClick:()=>nr("/volume-comex"),children:`Silver ${tr==="silverOption"?"Option":"Future"} Comex - Volume & Open Interest`}),jsxRuntimeExports.jsx("div",{style:{height:"250px",width:"100%",padding:"0 10px"},children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:sr,options:ar})})]})}function VolumeComexPage(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{const or=await(await fetch("https://api_gold.thinkdiff.us/volume_comex_silver")).json();if(!or||or?.data.length===0)return;const lr=[],cr=[],ur=[];or?.data?.forEach(dr=>{!dr.date||dr.oi_option===null||dr.optionVolume_option===null||dr.futureOi===null||dr.futureVolume===null||(lr.push(dr.date),cr.push({oi:dr.oi_option,vol:dr.optionVolume_option}),ur.push({oi:dr.futureOi,vol:dr.futureVolume}))}),Hn(lr),nr(cr),rr(ur)}catch(ar){console.error("Li khi fetch d liu:",ar)}})()},[]),jsxRuntimeExports.jsxs("div",{children:[tr&&er&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(SilverVolume,{type:"silverOption",labels:tr,data:er})}),tr&&ir&&jsxRuntimeExports.jsx("div",{style:{marginTop:"45px"},children:jsxRuntimeExports.jsx(SilverVolume,{type:"silverFuture",labels:tr,data:ir})})]})}const HomePage=({setNewsInAPI:tr})=>{const Hn=useNavigate(),er=useParams(),nr=useLocation(),ir=!!er.symbol,[rr,sr]=reactExports.useState([]),[ar,or]=reactExports.useState([]),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState(null),[fr,gr]=reactExports.useState(!1),yr=reactExports.useRef(new Audio("/co_du_lieu_moi.mp3")),vr=reactExports.useRef(""),[jr,Sr]=reactExports.useState({sortBy:"reputation",sortOrder:"desc",distanceKm:"20"}),[Tr,Lr]=reactExports.useState(!0);reactExports.useEffect(()=>{const co=setTimeout(()=>Lr(!1),0);return()=>clearTimeout(co)},[]);const Mr=co=>{const no=(Nr.region||"").toString(),mo=(Nr.type||"").toString();return co?`skipUpdate:${no}:${mo}:${co.day}:${co.month}:${co.year}:${co.hour}:${co.minute}`:`skipUpdate:${no}:${mo}`},Nr=reactExports.useMemo(()=>({day:er.day,month:er.month,year:er.year,hour:er.hour,minute:er.minute,region:er.region||"Vietnam",type:er.type||"gold"}),[er]);reactExports.useMemo(()=>Nr.type,[Nr.type]);const{loading:Or,error:Fr,displayedPrices:Gr,loadingProgress:qr,availableCountries:Hr,fomo:Yr,news:ro}=UseGoldOneDayPrices(Nr);reactExports.useEffect(()=>{if(!er.day||!er.month||!er.year)return;const co=async()=>{try{let mo=null;const Eo=new Date;for(let pl=0;pl<10;pl++){const ml=new Date(Eo);ml.setDate(ml.getDate()-pl);const Wl=String(ml.getDate()).padStart(2,"0"),Xl=String(ml.getMonth()+1).padStart(2,"0"),ac=ml.getFullYear();try{const Tl=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Wl}_${Xl}_${ac}`);if(!Tl.ok)continue;const Ol=await Tl.json();if(Ol.status==="success"&&Ol.data?.length){mo=Ol.data;break}}catch{continue}}if(!mo)return;const bo=mo[mo.length-1],[Po,wo]=bo.modified_time.split(" "),[To,Fo,Co]=Po.split("/").map(Number),[Go,el]=wo.split(":").map(Number),Lo=new Date(Co,Fo-1,To,Go,el).getTime(),Uo=er.hour?Number(er.hour):0,$o=er.minute?Number(er.minute):0,il=new Date(Number(er.year),Number(er.month)-1,Number(er.day),Uo,$o).getTime();if(Lo>il){const pl=`${To}-${Fo}-${Co}-${Go}-${el}`;dr({day:To,month:Fo,year:Co,hour:Go,minute:el});const ml=Mr({day:Number(er.day),month:Number(er.month),year:Number(er.year),hour:Uo,minute:$o}),Wl=Number(localStorage.getItem(ml)||0);Wl&&Wl>0||(vr.current!==pl&&(yr.current.play().catch(Xl=>console.log("Yu cu tng tc ngi dng")),vr.current=pl),cr(!0))}else cr(!1),vr.current=""}catch(mo){console.log("Li check update:",mo)}};co();const no=setInterval(co,2e4);return()=>clearInterval(no)},[er.day,er.month,er.year,er.hour,er.minute]);const io=()=>{cr(!1),Hn(`/vietnam/gold/${ur?.day}/${ur?.month}/${ur?.year}/${ur?.hour}/${ur?.minute}`)},fo=()=>{try{const co=er.hour?Number(er.hour):0,no=er.minute?Number(er.minute):0,mo=Mr({day:Number(er.day),month:Number(er.month),year:Number(er.year),hour:co,minute:no}),Eo=new Date(Number(er.year),Number(er.month)-1,Number(er.day),co,no).getTime();localStorage.setItem(mo,String(Eo))}catch(co){console.warn("Could not persist skipUpdate:",co)}cr(!1)},ao={PRICE:"price",ANALYSIS:"analysis",GLOBAL:"global"},[Jr,uo]=reactExports.useState(ao.PRICE);reactExports.useEffect(()=>{const no=new URLSearchParams(nr.search).get("view");if(no&&Object.values(ao).includes(no)){uo(no);return}const mo=[ao.PRICE,ao.ANALYSIS,ao.GLOBAL],Eo=localStorage.getItem("home:lastView"),bo=Eo?mo.filter(wo=>wo!==Eo):mo,Po=bo[Math.floor(Math.random()*bo.length)];uo(Po),localStorage.setItem("home:lastView",Po)},[nr.search]),reactExports.useEffect(()=>{if(ir)return;if(!(er.day&&er.month&&er.year)&&Gr?.latestDate){const no=Gr.latestDate;Hn(`/${Nr.region}/${Nr.type}/${no.day}/${no.month}/${no.year}/${no.hour}/${no.minute}`,{replace:!0})}},[Gr,Hn,ir,er,Nr]),reactExports.useEffect(()=>{!ir&&ro&&tr(ro)},[ro,ir,tr]);const oo=reactExports.useCallback(co=>{ir||Hn(`/${co.region}/${co.type}/${co.day}/${co.month}/${co.year}/${co.hour}/${co.minute}`,{replace:!0})},[Hn,ir]);return reactExports.useEffect(()=>{fetchSharkData("ALL").then(sr).catch(()=>{}),fetchSharkData("DAY").then(or).catch(()=>{}),logUserInfo("HomePage")},[]),reactExports.useEffect(()=>{Tr||localStorage.setItem("home:lastView",Jr)},[Jr,Tr]),reactExports.useEffect(()=>{const no=new URLSearchParams(nr.search).get("vendor");if(!no)return;const mo=setTimeout(()=>{const Eo=document.querySelectorAll("[data-vendor]");for(const bo of Eo)if(bo.dataset.vendor===no){try{bo.scrollIntoView({behavior:"smooth",block:"center"})}catch{bo.scrollIntoView()}break}},150);return()=>clearTimeout(mo)},[nr.search]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UpdateDataModal,{isVisible:lr,latestData:ur,onConfirm:io,onCancel:fo}),jsxRuntimeExports.jsx("main",{className:"main-content",children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx(GoldNotification,{}),jsxRuntimeExports.jsx(SilverNotification,{}),jsxRuntimeExports.jsx(MultiChartViewer,{symbol:er.symbol}),jsxRuntimeExports.jsx(OrderFlowAnalysis,{}),jsxRuntimeExports.jsx(BlackMarketExchangeRateSection,{}),Jr===ao.PRICE&&jsxRuntimeExports.jsx(GoldPriceDashboard,{loading:Or,error:Fr,displayedPrices:Gr,filterOptions:Nr,onFilterChange:oo,loadingProgress:qr,availableCountries:Hr,showAnalysis:Jr===ao.ANALYSIS,onToggleAnalysis:()=>{uo(ao.ANALYSIS)},exchangeRateUSD:Yr?.ty_gia_usd}),(Jr===ao.ANALYSIS||Jr===ao.GLOBAL)&&jsxRuntimeExports.jsx(FilterBar,{filterOptions:Nr,onFilterChange:oo,uiFilter:jr,setUiFilter:Sr,availableCountries:Hr,showAnalysis:Jr===ao.ANALYSIS||Jr===ao.GLOBAL,onToggleAnalysis:()=>{Jr===ao.ANALYSIS?uo(ao.PRICE):uo(ao.ANALYSIS)}}),Jr===ao.ANALYSIS&&jsxRuntimeExports.jsx(GoldSilverSummary,{}),Jr===ao.GLOBAL&&jsxRuntimeExports.jsx(GlobalComparisonPage,{}),jsxRuntimeExports.jsx(FearGreedIndex$1,{}),jsxRuntimeExports.jsx(OpinionComponent,{}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(VolumeComexPage,{})}),jsxRuntimeExports.jsx("section",{style:{width:"100%",minHeight:560,marginTop:40},children:jsxRuntimeExports.jsx(SGEChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(SHFEChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(ComexInventoryChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(PSLVInventoryChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(FomoGoldSilverChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(SGEPriceHistoryChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(ChinaSilverTurnover,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(MCXHistory,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(SilverCVOLStatus,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(LBMAPrice,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(GoldChart,{})}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(SilverChart,{})}),jsxRuntimeExports.jsx("div",{className:"compare-shanghai",children:jsxRuntimeExports.jsx(CompareShanghaiComex,{})}),rr?.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h2",{className:"title-shark-global",onClick:()=>Hn("/DetailSharkGlobal"),children:"Thng k mua bn ETF C Mp"}),jsxRuntimeExports.jsxs("div",{className:"dashboard-container",onClick:()=>Hn("/SharkGlobalChart"),children:[jsxRuntimeExports.jsx("div",{className:"dashboard-item",children:jsxRuntimeExports.jsx(GlobalShark1Day,{data:ar})}),jsxRuntimeExports.jsx("div",{className:"dashboard-item",children:jsxRuntimeExports.jsx(DataEUR,{})}),jsxRuntimeExports.jsx("div",{className:"dashboard-item",children:jsxRuntimeExports.jsx(GlobalShark,{data:rr,zoomable:!1,time:"1Y"})})]})]}),jsxRuntimeExports.jsx(EconomicCalendar,{})]})}),jsxRuntimeExports.jsx(NewsNotification,{newsInAPI:ro})]})},copyProperty=(tr,Hn,er,nr)=>{if(er==="length"||er==="prototype"||er==="arguments"||er==="caller")return;const ir=Object.getOwnPropertyDescriptor(tr,er),rr=Object.getOwnPropertyDescriptor(Hn,er);!canCopyProperty(ir,rr)&&nr||Object.defineProperty(tr,er,rr)},canCopyProperty=function(tr,Hn){return tr===void 0||tr.configurable||tr.writable===Hn.writable&&tr.enumerable===Hn.enumerable&&tr.configurable===Hn.configurable&&(tr.writable||tr.value===Hn.value)},changePrototype=(tr,Hn)=>{const er=Object.getPrototypeOf(Hn);er!==Object.getPrototypeOf(tr)&&Object.setPrototypeOf(tr,er)},wrappedToString=(tr,Hn)=>`/* Wrapped ${tr}*/
${Hn}`,toStringDescriptor=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),toStringName=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),changeToString=(tr,Hn,er)=>{const nr=er===""?"":`with ${er.trim()}() `,ir=wrappedToString.bind(null,nr,Hn.toString());Object.defineProperty(ir,"name",toStringName);const{writable:rr,enumerable:sr,configurable:ar}=toStringDescriptor;Object.defineProperty(tr,"toString",{value:ir,writable:rr,enumerable:sr,configurable:ar})};function mimicFunction(tr,Hn,{ignoreNonConfigurable:er=!1}={}){const{name:nr}=tr;for(const ir of Reflect.ownKeys(Hn))copyProperty(tr,Hn,ir,er);return changePrototype(tr,Hn),changeToString(tr,Hn,nr),tr}const maxTimeoutValue=2147483647,cacheStore=new WeakMap,cacheTimerStore=new WeakMap,cacheKeyStore=new WeakMap;function getValidCacheItem(tr,Hn){const er=tr.get(Hn);if(er){if(er.maxAge<=Date.now()){tr.delete(Hn);return}return er}}function memoize(tr,{cacheKey:Hn,cache:er=new Map,maxAge:nr}={}){if(nr===0)return tr;if(typeof nr=="number"&&Number.isFinite(nr)){if(nr>maxTimeoutValue)throw new TypeError(`The \`maxAge\` option cannot exceed ${maxTimeoutValue}.`);if(nr<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const ir=function(...rr){const sr=Hn?Hn(rr):rr[0],ar=getValidCacheItem(er,sr);if(ar)return ar.data;const or=tr.apply(this,rr),lr=typeof nr=="function"?nr(...rr):nr;if(lr!==void 0&&lr!==Number.POSITIVE_INFINITY){if(!Number.isFinite(lr))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(lr<=0)return or;if(lr>maxTimeoutValue)throw new TypeError(`The \`maxAge\` function result cannot exceed ${maxTimeoutValue}.`)}if(er.set(sr,{data:or,maxAge:lr===void 0||lr===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+lr}),lr!==void 0&&lr!==Number.POSITIVE_INFINITY){const cr=setTimeout(()=>{er.delete(sr),cacheTimerStore.get(ir)?.delete(cr)},lr);cr.unref?.();const ur=cacheTimerStore.get(ir)??new Set;ur.add(cr),cacheTimerStore.set(ir,ur)}return or};return mimicFunction(ir,tr,{ignoreNonConfigurable:!0}),cacheStore.set(ir,er),cacheKeyStore.set(ir,Hn??(rr=>rr[0])),ir}function isString(tr){return typeof tr=="string"}function isUnique(tr,Hn,er){return er.indexOf(tr)===Hn}function isAllLowerCase(tr){return tr.toLowerCase()===tr}function fixCommas(tr){return tr.indexOf(",")===-1?tr:tr.split(",")}function normalizeLocale(tr){if(!tr)return tr;if(tr==="C"||tr==="posix"||tr==="POSIX")return"en-US";if(tr.indexOf(".")!==-1){var Hn=tr.split(".")[0],er=Hn===void 0?"":Hn;return normalizeLocale(er)}if(tr.indexOf("@")!==-1){var nr=tr.split("@")[0],er=nr===void 0?"":nr;return normalizeLocale(er)}if(tr.indexOf("-")===-1||!isAllLowerCase(tr))return tr;var ir=tr.split("-"),rr=ir[0],sr=ir[1],ar=sr===void 0?"":sr;return"".concat(rr,"-").concat(ar.toUpperCase())}function getUserLocalesInternal(tr){var Hn=tr===void 0?{}:tr,er=Hn.useFallbackLocale,nr=er===void 0?!0:er,ir=Hn.fallbackLocale,rr=ir===void 0?"en-US":ir,sr=[];if(typeof navigator<"u"){for(var ar=navigator.languages||[],or=[],lr=0,cr=ar;lr<cr.length;lr++){var ur=cr[lr];or=or.concat(fixCommas(ur))}var dr=navigator.language,fr=dr&&fixCommas(dr);sr=sr.concat(or,fr)}return nr&&sr.push(rr),sr.filter(isString).map(normalizeLocale).filter(isUnique)}var getUserLocales=memoize(getUserLocalesInternal,{cacheKey:JSON.stringify});function getUserLocaleInternal(tr){return getUserLocales(tr)[0]||null}var getUserLocale=memoize(getUserLocaleInternal,{cacheKey:JSON.stringify});function makeGetEdgeOfNeighbor(tr,Hn,er){return function(ir,rr=er){const sr=tr(ir)+rr;return Hn(sr)}}function makeGetEnd(tr){return function(er){return new Date(tr(er).getTime()-1)}}function makeGetRange(tr,Hn){return function(nr){return[tr(nr),Hn(nr)]}}function getYear(tr){if(tr instanceof Date)return tr.getFullYear();if(typeof tr=="number")return tr;const Hn=Number.parseInt(tr,10);if(typeof tr=="string"&&!Number.isNaN(Hn))return Hn;throw new Error(`Failed to get year from date: ${tr}.`)}function getMonth(tr){if(tr instanceof Date)return tr.getMonth();throw new Error(`Failed to get month from date: ${tr}.`)}function getDate(tr){if(tr instanceof Date)return tr.getDate();throw new Error(`Failed to get year from date: ${tr}.`)}function getCenturyStart(tr){const Hn=getYear(tr),er=Hn+(-Hn+1)%100,nr=new Date;return nr.setFullYear(er,0,1),nr.setHours(0,0,0,0),nr}const getPreviousCenturyStart=makeGetEdgeOfNeighbor(getYear,getCenturyStart,-100),getNextCenturyStart=makeGetEdgeOfNeighbor(getYear,getCenturyStart,100),getCenturyEnd=makeGetEnd(getNextCenturyStart),getPreviousCenturyEnd=makeGetEdgeOfNeighbor(getYear,getCenturyEnd,-100),getCenturyRange=makeGetRange(getCenturyStart,getCenturyEnd);function getDecadeStart(tr){const Hn=getYear(tr),er=Hn+(-Hn+1)%10,nr=new Date;return nr.setFullYear(er,0,1),nr.setHours(0,0,0,0),nr}const getPreviousDecadeStart=makeGetEdgeOfNeighbor(getYear,getDecadeStart,-10),getNextDecadeStart=makeGetEdgeOfNeighbor(getYear,getDecadeStart,10),getDecadeEnd=makeGetEnd(getNextDecadeStart),getPreviousDecadeEnd=makeGetEdgeOfNeighbor(getYear,getDecadeEnd,-10),getDecadeRange=makeGetRange(getDecadeStart,getDecadeEnd);function getYearStart(tr){const Hn=getYear(tr),er=new Date;return er.setFullYear(Hn,0,1),er.setHours(0,0,0,0),er}const getPreviousYearStart=makeGetEdgeOfNeighbor(getYear,getYearStart,-1),getNextYearStart=makeGetEdgeOfNeighbor(getYear,getYearStart,1),getYearEnd=makeGetEnd(getNextYearStart),getPreviousYearEnd=makeGetEdgeOfNeighbor(getYear,getYearEnd,-1),getYearRange=makeGetRange(getYearStart,getYearEnd);function makeGetEdgeOfNeighborMonth(tr,Hn){return function(nr,ir=Hn){const rr=getYear(nr),sr=getMonth(nr)+ir,ar=new Date;return ar.setFullYear(rr,sr,1),ar.setHours(0,0,0,0),tr(ar)}}function getMonthStart(tr){const Hn=getYear(tr),er=getMonth(tr),nr=new Date;return nr.setFullYear(Hn,er,1),nr.setHours(0,0,0,0),nr}const getPreviousMonthStart=makeGetEdgeOfNeighborMonth(getMonthStart,-1),getNextMonthStart=makeGetEdgeOfNeighborMonth(getMonthStart,1),getMonthEnd=makeGetEnd(getNextMonthStart),getPreviousMonthEnd=makeGetEdgeOfNeighborMonth(getMonthEnd,-1),getMonthRange=makeGetRange(getMonthStart,getMonthEnd);function makeGetEdgeOfNeighborDay(tr,Hn){return function(nr,ir=Hn){const rr=getYear(nr),sr=getMonth(nr),ar=getDate(nr)+ir,or=new Date;return or.setFullYear(rr,sr,ar),or.setHours(0,0,0,0),tr(or)}}function getDayStart(tr){const Hn=getYear(tr),er=getMonth(tr),nr=getDate(tr),ir=new Date;return ir.setFullYear(Hn,er,nr),ir.setHours(0,0,0,0),ir}const getNextDayStart=makeGetEdgeOfNeighborDay(getDayStart,1),getDayEnd=makeGetEnd(getNextDayStart),getDayRange=makeGetRange(getDayStart,getDayEnd);function getDaysInMonth(tr){return getDate(getMonthEnd(tr))}var CALENDAR_TYPES={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},CALENDAR_TYPE_LOCALES={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},WEEKDAYS=[0,1,2,3,4,5,6],formatterCache=new Map;function getFormatter(tr){return function(er,nr){var ir=er||getUserLocale();formatterCache.has(ir)||formatterCache.set(ir,new Map);var rr=formatterCache.get(ir);return rr.has(tr)||rr.set(tr,new Intl.DateTimeFormat(ir||void 0,tr).format),rr.get(tr)(nr)}}function toSafeHour(tr){var Hn=new Date(tr);return new Date(Hn.setHours(12))}function getSafeFormatter(tr){return function(Hn,er){return getFormatter(tr)(Hn,toSafeHour(er))}}var formatDayOptions={day:"numeric"},formatLongDateOptions={day:"numeric",month:"long",year:"numeric"},formatMonthOptions={month:"long"},formatMonthYearOptions={month:"long",year:"numeric"},formatShortWeekdayOptions={weekday:"short"},formatWeekdayOptions={weekday:"long"},formatYearOptions={year:"numeric"},formatDay=getSafeFormatter(formatDayOptions),formatLongDate=getSafeFormatter(formatLongDateOptions),formatMonth=getSafeFormatter(formatMonthOptions),formatMonthYear=getSafeFormatter(formatMonthYearOptions),formatShortWeekday=getSafeFormatter(formatShortWeekdayOptions),formatWeekday=getSafeFormatter(formatWeekdayOptions),formatYear=getSafeFormatter(formatYearOptions),SUNDAY=WEEKDAYS[0],FRIDAY=WEEKDAYS[5],SATURDAY=WEEKDAYS[6];function getDayOfWeek(tr,Hn){Hn===void 0&&(Hn=CALENDAR_TYPES.ISO_8601);var er=tr.getDay();switch(Hn){case CALENDAR_TYPES.ISO_8601:return(er+6)%7;case CALENDAR_TYPES.ISLAMIC:return(er+1)%7;case CALENDAR_TYPES.HEBREW:case CALENDAR_TYPES.GREGORY:return er;default:throw new Error("Unsupported calendar type.")}}function getBeginOfCenturyYear(tr){var Hn=getCenturyStart(tr);return getYear(Hn)}function getBeginOfDecadeYear(tr){var Hn=getDecadeStart(tr);return getYear(Hn)}function getBeginOfWeek(tr,Hn){Hn===void 0&&(Hn=CALENDAR_TYPES.ISO_8601);var er=getYear(tr),nr=getMonth(tr),ir=tr.getDate()-getDayOfWeek(tr,Hn);return new Date(er,nr,ir)}function getWeekNumber(tr,Hn){Hn===void 0&&(Hn=CALENDAR_TYPES.ISO_8601);var er=Hn===CALENDAR_TYPES.GREGORY?CALENDAR_TYPES.GREGORY:CALENDAR_TYPES.ISO_8601,nr=getBeginOfWeek(tr,Hn),ir=getYear(tr)+1,rr,sr;do rr=new Date(ir,0,er===CALENDAR_TYPES.ISO_8601?4:1),sr=getBeginOfWeek(rr,Hn),ir-=1;while(tr<sr);return Math.round((nr.getTime()-sr.getTime())/(864e5*7))+1}function getBegin(tr,Hn){switch(tr){case"century":return getCenturyStart(Hn);case"decade":return getDecadeStart(Hn);case"year":return getYearStart(Hn);case"month":return getMonthStart(Hn);case"day":return getDayStart(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getBeginPrevious(tr,Hn){switch(tr){case"century":return getPreviousCenturyStart(Hn);case"decade":return getPreviousDecadeStart(Hn);case"year":return getPreviousYearStart(Hn);case"month":return getPreviousMonthStart(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getBeginNext(tr,Hn){switch(tr){case"century":return getNextCenturyStart(Hn);case"decade":return getNextDecadeStart(Hn);case"year":return getNextYearStart(Hn);case"month":return getNextMonthStart(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getBeginPrevious2(tr,Hn){switch(tr){case"decade":return getPreviousDecadeStart(Hn,-100);case"year":return getPreviousYearStart(Hn,-10);case"month":return getPreviousMonthStart(Hn,-12);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getBeginNext2(tr,Hn){switch(tr){case"decade":return getNextDecadeStart(Hn,100);case"year":return getNextYearStart(Hn,10);case"month":return getNextMonthStart(Hn,12);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getEnd(tr,Hn){switch(tr){case"century":return getCenturyEnd(Hn);case"decade":return getDecadeEnd(Hn);case"year":return getYearEnd(Hn);case"month":return getMonthEnd(Hn);case"day":return getDayEnd(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getEndPrevious(tr,Hn){switch(tr){case"century":return getPreviousCenturyEnd(Hn);case"decade":return getPreviousDecadeEnd(Hn);case"year":return getPreviousYearEnd(Hn);case"month":return getPreviousMonthEnd(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getEndPrevious2(tr,Hn){switch(tr){case"decade":return getPreviousDecadeEnd(Hn,-100);case"year":return getPreviousYearEnd(Hn,-10);case"month":return getPreviousMonthEnd(Hn,-12);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getRange(tr,Hn){switch(tr){case"century":return getCenturyRange(Hn);case"decade":return getDecadeRange(Hn);case"year":return getYearRange(Hn);case"month":return getMonthRange(Hn);case"day":return getDayRange(Hn);default:throw new Error("Invalid rangeType: ".concat(tr))}}function getValueRange(tr,Hn,er){var nr=[Hn,er].sort(function(ir,rr){return ir.getTime()-rr.getTime()});return[getBegin(tr,nr[0]),getEnd(tr,nr[1])]}function toYearLabel(tr,Hn,er){return er.map(function(nr){return(Hn||formatYear)(tr,nr)}).join("  ")}function getCenturyLabel(tr,Hn,er){return toYearLabel(tr,Hn,getCenturyRange(er))}function getDecadeLabel(tr,Hn,er){return toYearLabel(tr,Hn,getDecadeRange(er))}function isCurrentDayOfWeek(tr){return tr.getDay()===new Date().getDay()}function isWeekend(tr,Hn){Hn===void 0&&(Hn=CALENDAR_TYPES.ISO_8601);var er=tr.getDay();switch(Hn){case CALENDAR_TYPES.ISLAMIC:case CALENDAR_TYPES.HEBREW:return er===FRIDAY||er===SATURDAY;case CALENDAR_TYPES.ISO_8601:case CALENDAR_TYPES.GREGORY:return er===SATURDAY||er===SUNDAY;default:throw new Error("Unsupported calendar type.")}}var className$6="react-calendar__navigation";function Navigation(tr){var Hn=tr.activeStartDate,er=tr.drillUp,nr=tr.formatMonthYear,ir=nr===void 0?formatMonthYear:nr,rr=tr.formatYear,sr=rr===void 0?formatYear:rr,ar=tr.locale,or=tr.maxDate,lr=tr.minDate,cr=tr.navigationAriaLabel,ur=cr===void 0?"":cr,dr=tr.navigationAriaLive,fr=tr.navigationLabel,gr=tr.next2AriaLabel,yr=gr===void 0?"":gr,vr=tr.next2Label,jr=vr===void 0?"":vr,Sr=tr.nextAriaLabel,Tr=Sr===void 0?"":Sr,Lr=tr.nextLabel,Mr=Lr===void 0?"":Lr,Nr=tr.prev2AriaLabel,Or=Nr===void 0?"":Nr,Fr=tr.prev2Label,Gr=Fr===void 0?"":Fr,qr=tr.prevAriaLabel,Hr=qr===void 0?"":qr,Yr=tr.prevLabel,ro=Yr===void 0?"":Yr,io=tr.setActiveStartDate,fo=tr.showDoubleView,ao=tr.view,Jr=tr.views,uo=Jr.indexOf(ao)>0,oo=ao!=="century",co=getBeginPrevious(ao,Hn),no=oo?getBeginPrevious2(ao,Hn):void 0,mo=getBeginNext(ao,Hn),Eo=oo?getBeginNext2(ao,Hn):void 0,bo=(function(){if(co.getFullYear()<0)return!0;var $o=getEndPrevious(ao,Hn);return lr&&lr>=$o})(),Po=oo&&(function(){if(no.getFullYear()<0)return!0;var $o=getEndPrevious2(ao,Hn);return lr&&lr>=$o})(),wo=or&&or<mo,To=oo&&or&&or<Eo;function Fo(){io(co,"prev")}function Co(){io(no,"prev2")}function Go(){io(mo,"next")}function el(){io(Eo,"next2")}function Lo($o){var il=(function(){switch(ao){case"century":return getCenturyLabel(ar,sr,$o);case"decade":return getDecadeLabel(ar,sr,$o);case"year":return sr(ar,$o);case"month":return ir(ar,$o);default:throw new Error("Invalid view: ".concat(ao,"."))}})();return fr?fr({date:$o,label:il,locale:ar||getUserLocale()||void 0,view:ao}):il}function Uo(){var $o="".concat(className$6,"__label");return jsxRuntimeExports.jsxs("button",{"aria-label":ur,"aria-live":dr,className:$o,disabled:!uo,onClick:er,style:{flexGrow:1},type:"button",children:[jsxRuntimeExports.jsx("span",{className:"".concat($o,"__labelText ").concat($o,"__labelText--from"),children:Lo(Hn)}),fo?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"".concat($o,"__divider"),children:"  "}),jsxRuntimeExports.jsx("span",{className:"".concat($o,"__labelText ").concat($o,"__labelText--to"),children:Lo(mo)})]}):null]})}return jsxRuntimeExports.jsxs("div",{className:className$6,children:[Gr!==null&&oo?jsxRuntimeExports.jsx("button",{"aria-label":Or,className:"".concat(className$6,"__arrow ").concat(className$6,"__prev2-button"),disabled:Po,onClick:Co,type:"button",children:Gr}):null,ro!==null&&jsxRuntimeExports.jsx("button",{"aria-label":Hr,className:"".concat(className$6,"__arrow ").concat(className$6,"__prev-button"),disabled:bo,onClick:Fo,type:"button",children:ro}),Uo(),Mr!==null&&jsxRuntimeExports.jsx("button",{"aria-label":Tr,className:"".concat(className$6,"__arrow ").concat(className$6,"__next-button"),disabled:wo,onClick:Go,type:"button",children:Mr}),jr!==null&&oo?jsxRuntimeExports.jsx("button",{"aria-label":yr,className:"".concat(className$6,"__arrow ").concat(className$6,"__next2-button"),disabled:To,onClick:el,type:"button",children:jr}):null]})}var __assign$e=function(){return __assign$e=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$e.apply(this,arguments)},__rest$a=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function toPercent(tr){return"".concat(tr,"%")}function Flex(tr){var Hn=tr.children,er=tr.className,nr=tr.count,ir=tr.direction,rr=tr.offset,sr=tr.style,ar=tr.wrap,or=__rest$a(tr,["children","className","count","direction","offset","style","wrap"]);return jsxRuntimeExports.jsx("div",__assign$e({className:er,style:__assign$e({display:"flex",flexDirection:ir,flexWrap:ar?"wrap":"nowrap"},sr)},or,{children:reactExports.Children.map(Hn,function(lr,cr){var ur=rr&&cr===0?toPercent(100*rr/nr):null;return reactExports.cloneElement(lr,__assign$e(__assign$e({},lr.props),{style:{flexBasis:toPercent(100/nr),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:ur,marginInlineStart:ur,marginInlineEnd:0}}))})}))}function between(tr,Hn,er){return Hn&&Hn>tr?Hn:er&&er<tr?er:tr}function isValueWithinRange(tr,Hn){return Hn[0]<=tr&&Hn[1]>=tr}function isRangeWithinRange(tr,Hn){return tr[0]<=Hn[0]&&tr[1]>=Hn[1]}function doRangesOverlap(tr,Hn){return isValueWithinRange(tr[0],Hn)||isValueWithinRange(tr[1],Hn)}function getRangeClassNames(tr,Hn,er){var nr=doRangesOverlap(Hn,tr),ir=[];if(nr){ir.push(er);var rr=isValueWithinRange(tr[0],Hn),sr=isValueWithinRange(tr[1],Hn);rr&&ir.push("".concat(er,"Start")),sr&&ir.push("".concat(er,"End")),rr&&sr&&ir.push("".concat(er,"BothEnds"))}return ir}function isCompleteValue(tr){return Array.isArray(tr)?tr[0]!==null&&tr[1]!==null:tr!==null}function getTileClasses(tr){if(!tr)throw new Error("args is required");var Hn=tr.value,er=tr.date,nr=tr.hover,ir="react-calendar__tile",rr=[ir];if(!er)return rr;var sr=new Date,ar=(function(){if(Array.isArray(er))return er;var fr=tr.dateType;if(!fr)throw new Error("dateType is required when date is not an array of two dates");return getRange(fr,er)})();if(isValueWithinRange(sr,ar)&&rr.push("".concat(ir,"--now")),!Hn||!isCompleteValue(Hn))return rr;var or=(function(){if(Array.isArray(Hn))return Hn;var fr=tr.valueType;if(!fr)throw new Error("valueType is required when value is not an array of two dates");return getRange(fr,Hn)})();isRangeWithinRange(or,ar)?rr.push("".concat(ir,"--active")):doRangesOverlap(or,ar)&&rr.push("".concat(ir,"--hasActive"));var lr=getRangeClassNames(or,ar,"".concat(ir,"--range"));rr.push.apply(rr,lr);var cr=Array.isArray(Hn)?Hn:[Hn];if(nr&&cr.length===1){var ur=nr>or[0]?[or[0],nr]:[nr,or[0]],dr=getRangeClassNames(ur,ar,"".concat(ir,"--hover"));rr.push.apply(rr,dr)}return rr}function TileGroup(tr){for(var Hn=tr.className,er=tr.count,nr=er===void 0?3:er,ir=tr.dateTransform,rr=tr.dateType,sr=tr.end,ar=tr.hover,or=tr.offset,lr=tr.renderTile,cr=tr.start,ur=tr.step,dr=ur===void 0?1:ur,fr=tr.value,gr=tr.valueType,yr=[],vr=cr;vr<=sr;vr+=dr){var jr=ir(vr);yr.push(lr({classes:getTileClasses({date:jr,dateType:rr,hover:ar,value:fr,valueType:gr}),date:jr}))}return jsxRuntimeExports.jsx(Flex,{className:Hn,count:nr,offset:or,wrap:!0,children:yr})}function Tile(tr){var Hn=tr.activeStartDate,er=tr.children,nr=tr.classes,ir=tr.date,rr=tr.formatAbbr,sr=tr.locale,ar=tr.maxDate,or=tr.maxDateTransform,lr=tr.minDate,cr=tr.minDateTransform,ur=tr.onClick,dr=tr.onMouseOver,fr=tr.style,gr=tr.tileClassName,yr=tr.tileContent,vr=tr.tileDisabled,jr=tr.view,Sr=reactExports.useMemo(function(){var Lr={activeStartDate:Hn,date:ir,view:jr};return typeof gr=="function"?gr(Lr):gr},[Hn,ir,gr,jr]),Tr=reactExports.useMemo(function(){var Lr={activeStartDate:Hn,date:ir,view:jr};return typeof yr=="function"?yr(Lr):yr},[Hn,ir,yr,jr]);return jsxRuntimeExports.jsxs("button",{className:clsx(nr,Sr),disabled:lr&&cr(lr)>ir||ar&&or(ar)<ir||vr?.({activeStartDate:Hn,date:ir,view:jr}),onClick:ur?function(Lr){return ur(ir,Lr)}:void 0,onFocus:dr?function(){return dr(ir)}:void 0,onMouseOver:dr?function(){return dr(ir)}:void 0,style:fr,type:"button",children:[rr?jsxRuntimeExports.jsx("abbr",{"aria-label":rr(sr,ir),children:er}):er,Tr]})}var __assign$d=function(){return __assign$d=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$d.apply(this,arguments)},__rest$9=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},className$5="react-calendar__century-view__decades__decade";function Decade(tr){var Hn=tr.classes,er=Hn===void 0?[]:Hn,nr=tr.currentCentury,ir=tr.formatYear,rr=ir===void 0?formatYear:ir,sr=__rest$9(tr,["classes","currentCentury","formatYear"]),ar=sr.date,or=sr.locale,lr=[];return er&&lr.push.apply(lr,er),lr.push(className$5),getCenturyStart(ar).getFullYear()!==nr&&lr.push("".concat(className$5,"--neighboringCentury")),jsxRuntimeExports.jsx(Tile,__assign$d({},sr,{classes:lr,maxDateTransform:getDecadeEnd,minDateTransform:getDecadeStart,view:"century",children:getDecadeLabel(or,rr,ar)}))}var __assign$c=function(){return __assign$c=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$c.apply(this,arguments)},__rest$8=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function Decades(tr){var Hn=tr.activeStartDate,er=tr.hover,nr=tr.showNeighboringCentury,ir=tr.value,rr=tr.valueType,sr=__rest$8(tr,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),ar=getBeginOfCenturyYear(Hn),or=ar+(nr?119:99);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__century-view__decades",dateTransform:getDecadeStart,dateType:"decade",end:or,hover:er,renderTile:function(lr){var cr=lr.date,ur=__rest$8(lr,["date"]);return jsxRuntimeExports.jsx(Decade,__assign$c({},sr,ur,{activeStartDate:Hn,currentCentury:ar,date:cr}),cr.getTime())},start:ar,step:10,value:ir,valueType:rr})}var __assign$b=function(){return __assign$b=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$b.apply(this,arguments)};function CenturyView(tr){function Hn(){return jsxRuntimeExports.jsx(Decades,__assign$b({},tr))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__century-view",children:Hn()})}var __assign$a=function(){return __assign$a=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$a.apply(this,arguments)},__rest$7=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},className$4="react-calendar__decade-view__years__year";function Year(tr){var Hn=tr.classes,er=Hn===void 0?[]:Hn,nr=tr.currentDecade,ir=tr.formatYear,rr=ir===void 0?formatYear:ir,sr=__rest$7(tr,["classes","currentDecade","formatYear"]),ar=sr.date,or=sr.locale,lr=[];return er&&lr.push.apply(lr,er),lr.push(className$4),getDecadeStart(ar).getFullYear()!==nr&&lr.push("".concat(className$4,"--neighboringDecade")),jsxRuntimeExports.jsx(Tile,__assign$a({},sr,{classes:lr,maxDateTransform:getYearEnd,minDateTransform:getYearStart,view:"decade",children:rr(or,ar)}))}var __assign$9=function(){return __assign$9=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$9.apply(this,arguments)},__rest$6=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function Years(tr){var Hn=tr.activeStartDate,er=tr.hover,nr=tr.showNeighboringDecade,ir=tr.value,rr=tr.valueType,sr=__rest$6(tr,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),ar=getBeginOfDecadeYear(Hn),or=ar+(nr?11:9);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__decade-view__years",dateTransform:getYearStart,dateType:"year",end:or,hover:er,renderTile:function(lr){var cr=lr.date,ur=__rest$6(lr,["date"]);return jsxRuntimeExports.jsx(Year,__assign$9({},sr,ur,{activeStartDate:Hn,currentDecade:ar,date:cr}),cr.getTime())},start:ar,value:ir,valueType:rr})}var __assign$8=function(){return __assign$8=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$8.apply(this,arguments)};function DecadeView(tr){function Hn(){return jsxRuntimeExports.jsx(Years,__assign$8({},tr))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__decade-view",children:Hn()})}var __assign$7=function(){return __assign$7=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$7.apply(this,arguments)},__rest$5=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},__spreadArray=function(tr,Hn,er){if(er||arguments.length===2)for(var nr=0,ir=Hn.length,rr;nr<ir;nr++)(rr||!(nr in Hn))&&(rr||(rr=Array.prototype.slice.call(Hn,0,nr)),rr[nr]=Hn[nr]);return tr.concat(rr||Array.prototype.slice.call(Hn))},className$3="react-calendar__year-view__months__month";function Month(tr){var Hn=tr.classes,er=Hn===void 0?[]:Hn,nr=tr.formatMonth,ir=nr===void 0?formatMonth:nr,rr=tr.formatMonthYear,sr=rr===void 0?formatMonthYear:rr,ar=__rest$5(tr,["classes","formatMonth","formatMonthYear"]),or=ar.date,lr=ar.locale;return jsxRuntimeExports.jsx(Tile,__assign$7({},ar,{classes:__spreadArray(__spreadArray([],er,!0),[className$3],!1),formatAbbr:sr,maxDateTransform:getMonthEnd,minDateTransform:getMonthStart,view:"year",children:ir(lr,or)}))}var __assign$6=function(){return __assign$6=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$6.apply(this,arguments)},__rest$4=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function Months(tr){var Hn=tr.activeStartDate,er=tr.hover,nr=tr.value,ir=tr.valueType,rr=__rest$4(tr,["activeStartDate","hover","value","valueType"]),sr=0,ar=11,or=getYear(Hn);return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__year-view__months",dateTransform:function(lr){var cr=new Date;return cr.setFullYear(or,lr,1),getMonthStart(cr)},dateType:"month",end:ar,hover:er,renderTile:function(lr){var cr=lr.date,ur=__rest$4(lr,["date"]);return jsxRuntimeExports.jsx(Month,__assign$6({},rr,ur,{activeStartDate:Hn,date:cr}),cr.getTime())},start:sr,value:nr,valueType:ir})}var __assign$5=function(){return __assign$5=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$5.apply(this,arguments)};function YearView(tr){function Hn(){return jsxRuntimeExports.jsx(Months,__assign$5({},tr))}return jsxRuntimeExports.jsx("div",{className:"react-calendar__year-view",children:Hn()})}var __assign$4=function(){return __assign$4=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$4.apply(this,arguments)},__rest$3=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},className$2="react-calendar__month-view__days__day";function Day(tr){var Hn=tr.calendarType,er=tr.classes,nr=er===void 0?[]:er,ir=tr.currentMonthIndex,rr=tr.formatDay,sr=rr===void 0?formatDay:rr,ar=tr.formatLongDate,or=ar===void 0?formatLongDate:ar,lr=__rest$3(tr,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),cr=lr.date,ur=lr.locale,dr=[];return nr&&dr.push.apply(dr,nr),dr.push(className$2),isWeekend(cr,Hn)&&dr.push("".concat(className$2,"--weekend")),cr.getMonth()!==ir&&dr.push("".concat(className$2,"--neighboringMonth")),jsxRuntimeExports.jsx(Tile,__assign$4({},lr,{classes:dr,formatAbbr:or,maxDateTransform:getDayEnd,minDateTransform:getDayStart,view:"month",children:sr(ur,cr)}))}var __assign$3=function(){return __assign$3=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$3.apply(this,arguments)},__rest$2=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function Days(tr){var Hn=tr.activeStartDate,er=tr.calendarType,nr=tr.hover,ir=tr.showFixedNumberOfWeeks,rr=tr.showNeighboringMonth,sr=tr.value,ar=tr.valueType,or=__rest$2(tr,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),lr=getYear(Hn),cr=getMonth(Hn),ur=ir||rr,dr=getDayOfWeek(Hn,er),fr=ur?0:dr,gr=(ur?-dr:0)+1,yr=(function(){if(ir)return gr+42-1;var vr=getDaysInMonth(Hn);if(rr){var jr=new Date;jr.setFullYear(lr,cr,vr),jr.setHours(0,0,0,0);var Sr=7-getDayOfWeek(jr,er)-1;return vr+Sr}return vr})();return jsxRuntimeExports.jsx(TileGroup,{className:"react-calendar__month-view__days",count:7,dateTransform:function(vr){var jr=new Date;return jr.setFullYear(lr,cr,vr),getDayStart(jr)},dateType:"day",hover:nr,end:yr,renderTile:function(vr){var jr=vr.date,Sr=__rest$2(vr,["date"]);return jsxRuntimeExports.jsx(Day,__assign$3({},or,Sr,{activeStartDate:Hn,calendarType:er,currentMonthIndex:cr,date:jr}),jr.getTime())},offset:fr,start:gr,value:sr,valueType:ar})}var className$1="react-calendar__month-view__weekdays",weekdayClassName="".concat(className$1,"__weekday");function Weekdays(tr){for(var Hn=tr.calendarType,er=tr.formatShortWeekday,nr=er===void 0?formatShortWeekday:er,ir=tr.formatWeekday,rr=ir===void 0?formatWeekday:ir,sr=tr.locale,ar=tr.onMouseLeave,or=new Date,lr=getMonthStart(or),cr=getYear(lr),ur=getMonth(lr),dr=[],fr=1;fr<=7;fr+=1){var gr=new Date(cr,ur,fr-getDayOfWeek(lr,Hn)),yr=rr(sr,gr);dr.push(jsxRuntimeExports.jsx("div",{className:clsx(weekdayClassName,isCurrentDayOfWeek(gr)&&"".concat(weekdayClassName,"--current"),isWeekend(gr,Hn)&&"".concat(weekdayClassName,"--weekend")),children:jsxRuntimeExports.jsx("abbr",{"aria-label":yr,title:yr,children:nr(sr,gr).replace(".","")})},fr))}return jsxRuntimeExports.jsx(Flex,{className:className$1,count:7,onFocus:ar,onMouseOver:ar,children:dr})}var __assign$2=function(){return __assign$2=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$2.apply(this,arguments)},__rest$1=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er},className="react-calendar__tile";function WeekNumber(tr){var Hn=tr.onClickWeekNumber,er=tr.weekNumber,nr=jsxRuntimeExports.jsx("span",{children:er});if(Hn){var ir=tr.date,rr=tr.onClickWeekNumber,sr=tr.weekNumber,ar=__rest$1(tr,["date","onClickWeekNumber","weekNumber"]);return jsxRuntimeExports.jsx("button",__assign$2({},ar,{className,onClick:function(or){return rr(sr,ir,or)},type:"button",children:nr}))}else{tr.date,tr.onClickWeekNumber,tr.weekNumber;var ar=__rest$1(tr,["date","onClickWeekNumber","weekNumber"]);return jsxRuntimeExports.jsx("div",__assign$2({},ar,{className,children:nr}))}}function WeekNumbers(tr){var Hn=tr.activeStartDate,er=tr.calendarType,nr=tr.onClickWeekNumber,ir=tr.onMouseLeave,rr=tr.showFixedNumberOfWeeks,sr=(function(){if(rr)return 6;var lr=getDaysInMonth(Hn),cr=getDayOfWeek(Hn,er),ur=lr-(7-cr);return 1+Math.ceil(ur/7)})(),ar=(function(){for(var lr=getYear(Hn),cr=getMonth(Hn),ur=getDate(Hn),dr=[],fr=0;fr<sr;fr+=1)dr.push(getBeginOfWeek(new Date(lr,cr,ur+fr*7),er));return dr})(),or=ar.map(function(lr){return getWeekNumber(lr,er)});return jsxRuntimeExports.jsx(Flex,{className:"react-calendar__month-view__weekNumbers",count:sr,direction:"column",onFocus:ir,onMouseOver:ir,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:or.map(function(lr,cr){var ur=ar[cr];if(!ur)throw new Error("date is not defined");return jsxRuntimeExports.jsx(WeekNumber,{date:ur,onClickWeekNumber:nr,weekNumber:lr},lr)})})}var __assign$1=function(){return __assign$1=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign$1.apply(this,arguments)},__rest=function(tr,Hn){var er={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&Hn.indexOf(nr)<0&&(er[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)Hn.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(er[nr[ir]]=tr[nr[ir]]);return er};function getCalendarTypeFromLocale(tr){if(tr)for(var Hn=0,er=Object.entries(CALENDAR_TYPE_LOCALES);Hn<er.length;Hn++){var nr=er[Hn],ir=nr[0],rr=nr[1];if(rr.includes(tr))return ir}return CALENDAR_TYPES.ISO_8601}function MonthView(tr){var Hn=tr.activeStartDate,er=tr.locale,nr=tr.onMouseLeave,ir=tr.showFixedNumberOfWeeks,rr=tr.calendarType,sr=rr===void 0?getCalendarTypeFromLocale(er):rr,ar=tr.formatShortWeekday,or=tr.formatWeekday,lr=tr.onClickWeekNumber,cr=tr.showWeekNumbers,ur=__rest(tr,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function dr(){return jsxRuntimeExports.jsx(Weekdays,{calendarType:sr,formatShortWeekday:ar,formatWeekday:or,locale:er,onMouseLeave:nr})}function fr(){return cr?jsxRuntimeExports.jsx(WeekNumbers,{activeStartDate:Hn,calendarType:sr,onClickWeekNumber:lr,onMouseLeave:nr,showFixedNumberOfWeeks:ir}):null}function gr(){return jsxRuntimeExports.jsx(Days,__assign$1({calendarType:sr},ur))}var yr="react-calendar__month-view";return jsxRuntimeExports.jsx("div",{className:clsx(yr,cr?"".concat(yr,"--weekNumbers"):""),children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[fr(),jsxRuntimeExports.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[dr(),gr()]})]})})}var __assign=function(){return __assign=Object.assign||function(tr){for(var Hn,er=1,nr=arguments.length;er<nr;er++){Hn=arguments[er];for(var ir in Hn)Object.prototype.hasOwnProperty.call(Hn,ir)&&(tr[ir]=Hn[ir])}return tr},__assign.apply(this,arguments)},baseClassName="react-calendar",allViews=["century","decade","year","month"],allValueTypes=["decade","year","month","day"],defaultMinDate=new Date;defaultMinDate.setFullYear(1,0,1);defaultMinDate.setHours(0,0,0,0);var defaultMaxDate=new Date(864e13);function toDate(tr){return tr instanceof Date?tr:new Date(tr)}function getLimitedViews(tr,Hn){return allViews.slice(allViews.indexOf(tr),allViews.indexOf(Hn)+1)}function isViewAllowed(tr,Hn,er){var nr=getLimitedViews(Hn,er);return nr.indexOf(tr)!==-1}function getView(tr,Hn,er){return tr&&isViewAllowed(tr,Hn,er)?tr:er}function getValueType(tr){var Hn=allViews.indexOf(tr);return allValueTypes[Hn]}function getValue(tr,Hn){var er=Array.isArray(tr)?tr[Hn]:tr;if(!er)return null;var nr=toDate(er);if(Number.isNaN(nr.getTime()))throw new Error("Invalid date: ".concat(tr));return nr}function getDetailValue(tr,Hn){var er=tr.value,nr=tr.minDate,ir=tr.maxDate,rr=tr.maxDetail,sr=getValue(er,Hn);if(!sr)return null;var ar=getValueType(rr),or=(function(){switch(Hn){case 0:return getBegin(ar,sr);case 1:return getEnd(ar,sr);default:throw new Error("Invalid index value: ".concat(Hn))}})();return between(or,nr,ir)}var getDetailValueFrom=function(tr){return getDetailValue(tr,0)},getDetailValueTo=function(tr){return getDetailValue(tr,1)},getDetailValueArray=function(tr){return[getDetailValueFrom,getDetailValueTo].map(function(Hn){return Hn(tr)})};function getActiveStartDate(tr){var Hn=tr.maxDate,er=tr.maxDetail,nr=tr.minDate,ir=tr.minDetail,rr=tr.value,sr=tr.view,ar=getView(sr,ir,er),or=getDetailValueFrom({value:rr,minDate:nr,maxDate:Hn,maxDetail:er})||new Date;return getBegin(ar,or)}function getInitialActiveStartDate(tr){var Hn=tr.activeStartDate,er=tr.defaultActiveStartDate,nr=tr.defaultValue,ir=tr.defaultView,rr=tr.maxDate,sr=tr.maxDetail,ar=tr.minDate,or=tr.minDetail,lr=tr.value,cr=tr.view,ur=getView(cr,or,sr),dr=Hn||er;return dr?getBegin(ur,dr):getActiveStartDate({maxDate:rr,maxDetail:sr,minDate:ar,minDetail:or,value:lr||nr,view:cr||ir})}function getIsSingleValue(tr){return tr&&(!Array.isArray(tr)||tr.length===1)}function areDatesEqual(tr,Hn){return tr instanceof Date&&Hn instanceof Date&&tr.getTime()===Hn.getTime()}var Calendar=reactExports.forwardRef(function tr(Hn,er){var nr=Hn.activeStartDate,ir=Hn.allowPartialRange,rr=Hn.calendarType,sr=Hn.className,ar=Hn.defaultActiveStartDate,or=Hn.defaultValue,lr=Hn.defaultView,cr=Hn.formatDay,ur=Hn.formatLongDate,dr=Hn.formatMonth,fr=Hn.formatMonthYear,gr=Hn.formatShortWeekday,yr=Hn.formatWeekday,vr=Hn.formatYear,jr=Hn.goToRangeStartOnSelect,Sr=jr===void 0?!0:jr,Tr=Hn.inputRef,Lr=Hn.locale,Mr=Hn.maxDate,Nr=Mr===void 0?defaultMaxDate:Mr,Or=Hn.maxDetail,Fr=Or===void 0?"month":Or,Gr=Hn.minDate,qr=Gr===void 0?defaultMinDate:Gr,Hr=Hn.minDetail,Yr=Hr===void 0?"century":Hr,ro=Hn.navigationAriaLabel,io=Hn.navigationAriaLive,fo=Hn.navigationLabel,ao=Hn.next2AriaLabel,Jr=Hn.next2Label,uo=Hn.nextAriaLabel,oo=Hn.nextLabel,co=Hn.onActiveStartDateChange,no=Hn.onChange,mo=Hn.onClickDay,Eo=Hn.onClickDecade,bo=Hn.onClickMonth,Po=Hn.onClickWeekNumber,wo=Hn.onClickYear,To=Hn.onDrillDown,Fo=Hn.onDrillUp,Co=Hn.onViewChange,Go=Hn.prev2AriaLabel,el=Hn.prev2Label,Lo=Hn.prevAriaLabel,Uo=Hn.prevLabel,$o=Hn.returnValue,il=$o===void 0?"start":$o,pl=Hn.selectRange,ml=Hn.showDoubleView,Wl=Hn.showFixedNumberOfWeeks,Xl=Hn.showNavigation,ac=Xl===void 0?!0:Xl,Tl=Hn.showNeighboringCentury,Ol=Hn.showNeighboringDecade,dc=Hn.showNeighboringMonth,oc=dc===void 0?!0:dc,vc=Hn.showWeekNumbers,Ic=Hn.tileClassName,Yc=Hn.tileContent,Rc=Hn.tileDisabled,El=Hn.value,Kl=Hn.view,ec=reactExports.useState(ar),Fc=ec[0],Hl=ec[1],al=reactExports.useState(null),sl=al[0],fl=al[1],$l=reactExports.useState(Array.isArray(or)?or.map(function(cc){return cc!==null?toDate(cc):null}):or!=null?toDate(or):null),Nl=$l[0],tc=$l[1],uc=reactExports.useState(lr),Kc=uc[0],bc=uc[1],Cc=nr||Fc||getInitialActiveStartDate({activeStartDate:nr,defaultActiveStartDate:ar,defaultValue:or,defaultView:lr,maxDate:Nr,maxDetail:Fr,minDate:qr,minDetail:Yr,value:El,view:Kl}),vu=(function(){var cc=(function(){return pl&&getIsSingleValue(Nl)?Nl:El!==void 0?El:Nl})();return cc?Array.isArray(cc)?cc.map(function(hu){return hu!==null?toDate(hu):null}):cc!==null?toDate(cc):null:null})(),Zc=getValueType(Fr),fc=getView(Kl||Kc,Yr,Fr),Bc=getLimitedViews(Yr,Fr),nc=pl?sl:null,Ul=Bc.indexOf(fc)<Bc.length-1,ah=Bc.indexOf(fc)>0,ol=reactExports.useCallback(function(cc){var hu=(function(){switch(il){case"start":return getDetailValueFrom;case"end":return getDetailValueTo;case"range":return getDetailValueArray;default:throw new Error("Invalid returnValue.")}})();return hu({maxDate:Nr,maxDetail:Fr,minDate:qr,value:cc})},[Nr,Fr,qr,il]),bl=reactExports.useCallback(function(cc,hu){Hl(cc);var du={action:hu,activeStartDate:cc,value:vu,view:fc};co&&!areDatesEqual(Cc,cc)&&co(du)},[Cc,co,vu,fc]),Bl=reactExports.useCallback(function(cc,hu){var du=(function(){switch(fc){case"century":return Eo;case"decade":return wo;case"year":return bo;case"month":return mo;default:throw new Error("Invalid view: ".concat(fc,"."))}})();du&&du(cc,hu)},[mo,Eo,bo,wo,fc]),Pl=reactExports.useCallback(function(cc,hu){if(Ul){Bl(cc,hu);var du=Bc[Bc.indexOf(fc)+1];if(!du)throw new Error("Attempted to drill down from the lowest view.");Hl(cc),bc(du);var Gc={action:"drillDown",activeStartDate:cc,value:vu,view:du};co&&!areDatesEqual(Cc,cc)&&co(Gc),Co&&fc!==du&&Co(Gc),To&&To(Gc)}},[Cc,Ul,co,Bl,To,Co,vu,fc,Bc]),Dl=reactExports.useCallback(function(){if(ah){var cc=Bc[Bc.indexOf(fc)-1];if(!cc)throw new Error("Attempted to drill up from the highest view.");var hu=getBegin(cc,Cc);Hl(hu),bc(cc);var du={action:"drillUp",activeStartDate:hu,value:vu,view:cc};co&&!areDatesEqual(Cc,hu)&&co(du),Co&&fc!==cc&&Co(du),Fo&&Fo(du)}},[Cc,ah,co,Fo,Co,vu,fc,Bc]),bu=reactExports.useCallback(function(cc,hu){var du=vu;Bl(cc,hu);var Gc=pl&&!getIsSingleValue(du),Iu;if(pl)if(Gc)Iu=getBegin(Zc,cc);else{if(!du)throw new Error("previousValue is required");if(Array.isArray(du))throw new Error("previousValue must not be an array");Iu=getValueRange(Zc,du,cc)}else Iu=ol(cc);var qh=!pl||Gc||Sr?getActiveStartDate({maxDate:Nr,maxDetail:Fr,minDate:qr,minDetail:Yr,value:Iu,view:fc}):null;hu.persist(),Hl(qh),tc(Iu);var Bh={action:"onChange",activeStartDate:qh,value:Iu,view:fc};if(co&&!areDatesEqual(Cc,qh)&&co(Bh),no)if(pl){var zh=getIsSingleValue(Iu);if(!zh)no(Iu||null,hu);else if(ir){if(Array.isArray(Iu))throw new Error("value must not be an array");no([Iu||null,null],hu)}}else no(Iu||null,hu)},[Cc,ir,ol,Sr,Nr,Fr,qr,Yr,co,no,Bl,pl,vu,Zc,fc]);function oh(cc){fl(cc)}function ku(){fl(null)}reactExports.useImperativeHandle(er,function(){return{activeStartDate:Cc,drillDown:Pl,drillUp:Dl,onChange:bu,setActiveStartDate:bl,value:vu,view:fc}},[Cc,Pl,Dl,bu,bl,vu,fc]);function Mc(cc){var hu=cc?getBeginNext(fc,Cc):getBegin(fc,Cc),du=Ul?Pl:bu,Gc={activeStartDate:hu,hover:nc,locale:Lr,maxDate:Nr,minDate:qr,onClick:du,onMouseOver:pl?oh:void 0,tileClassName:Ic,tileContent:Yc,tileDisabled:Rc,value:vu,valueType:Zc};switch(fc){case"century":return jsxRuntimeExports.jsx(CenturyView,__assign({formatYear:vr,showNeighboringCentury:Tl},Gc));case"decade":return jsxRuntimeExports.jsx(DecadeView,__assign({formatYear:vr,showNeighboringDecade:Ol},Gc));case"year":return jsxRuntimeExports.jsx(YearView,__assign({formatMonth:dr,formatMonthYear:fr},Gc));case"month":return jsxRuntimeExports.jsx(MonthView,__assign({calendarType:rr,formatDay:cr,formatLongDate:ur,formatShortWeekday:gr,formatWeekday:yr,onClickWeekNumber:Po,onMouseLeave:pl?ku:void 0,showFixedNumberOfWeeks:typeof Wl<"u"?Wl:ml,showNeighboringMonth:oc,showWeekNumbers:vc},Gc));default:throw new Error("Invalid view: ".concat(fc,"."))}}function eu(){return ac?jsxRuntimeExports.jsx(Navigation,{activeStartDate:Cc,drillUp:Dl,formatMonthYear:fr,formatYear:vr,locale:Lr,maxDate:Nr,minDate:qr,navigationAriaLabel:ro,navigationAriaLive:io,navigationLabel:fo,next2AriaLabel:ao,next2Label:Jr,nextAriaLabel:uo,nextLabel:oo,prev2AriaLabel:Go,prev2Label:el,prevAriaLabel:Lo,prevLabel:Uo,setActiveStartDate:bl,showDoubleView:ml,view:fc,views:Bc}):null}var Qc=Array.isArray(vu)?vu:[vu];return jsxRuntimeExports.jsxs("div",{className:clsx(baseClassName,pl&&Qc.length===1&&"".concat(baseClassName,"--selectRange"),ml&&"".concat(baseClassName,"--doubleView"),sr),ref:Tr,children:[eu(),jsxRuntimeExports.jsxs("div",{className:"".concat(baseClassName,"__viewContainer"),onBlur:pl?ku:void 0,onMouseLeave:pl?ku:void 0,children:[Mc(),ml?Mc(!0):null]})]})});const DatePickerWrapper=({selected:tr,onChange:Hn,maxDate:er,minDate:nr})=>{const[ir,rr]=reactExports.useState(!1),sr=reactExports.useRef(null),ar=or=>{Hn&&Hn(or),rr(!1)};return reactExports.useEffect(()=>{const or=lr=>{sr.current&&!sr.current.contains(lr.target)&&rr(!1)};return ir&&document.addEventListener("mousedown",or),()=>{document.removeEventListener("mousedown",or)}},[ir]),jsxRuntimeExports.jsxs("div",{className:"date-picker-wrapper",ref:sr,children:[jsxRuntimeExports.jsx("button",{type:"button",className:"date-picker-input",onClick:()=>rr(!ir),children:tr?tr.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"Chn ngy"}),ir&&jsxRuntimeExports.jsx("div",{className:"calendar-popup",children:jsxRuntimeExports.jsx(Calendar,{onChange:ar,value:tr,maxDate:er,minDate:nr,className:"exchange-rate-calendar"})})]})},ExchangeRateTable=({exchangeRates:tr,previousRates:Hn})=>{if(!tr||Object.keys(tr).length===0)return jsxRuntimeExports.jsx("div",{className:"exchange-rate-table-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu t gi cho ngy ny"})});const er=(rr,sr)=>{if(!Hn||!Hn[rr])return{buyChange:null,sellChange:null};const ar=Hn[rr],or=sr.buy!==null&&ar.buy!==null?sr.buy-ar.buy:null,lr=sr.sell!==null&&ar.sell!==null?sr.sell-ar.sell:null;return{buyChange:or,sellChange:lr}},nr=rr=>rr==null?null:rr>0?jsxRuntimeExports.jsx("span",{className:"change-icon up",children:""}):rr<0?jsxRuntimeExports.jsx("span",{className:"change-icon down",children:""}):jsxRuntimeExports.jsx("span",{className:"change-icon neutral",children:""}),ir=Object.keys(tr).sort((rr,sr)=>rr==="USD"?-1:sr==="USD"?1:rr==="USD_TUDO"?-1:sr==="USD_TUDO"?1:rr.localeCompare(sr));return jsxRuntimeExports.jsxs("div",{className:"exchange-rate-table-card",children:[jsxRuntimeExports.jsx("div",{className:"table-header",children:jsxRuntimeExports.jsx("h2",{className:"table-title",children:"T Gi Ngoi T"})}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"exchange-rate-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"M NT & Quc K"}),jsxRuntimeExports.jsx("th",{children:"Tn Ngoi T"}),jsxRuntimeExports.jsx("th",{children:"Mua Vo"}),jsxRuntimeExports.jsx("th",{children:"Bn Ra"}),jsxRuntimeExports.jsx("th",{children:"Thay i"})]})}),jsxRuntimeExports.jsx("tbody",{children:ir.map(rr=>{const sr=tr[rr],{buyChange:ar,sellChange:or}=er(rr,sr),lr=or;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"currency-code-cell",children:jsxRuntimeExports.jsxs("div",{className:"currency-flag-wrapper",children:[getCurrencyFlag(rr,24),jsxRuntimeExports.jsx("span",{className:"currency-code",children:rr})]})}),jsxRuntimeExports.jsx("td",{className:"currency-name",children:getCurrencyName(rr)}),jsxRuntimeExports.jsx("td",{className:"price-buy",children:sr.buy!==null?formatCurrency$1(sr.buy):"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-sell",children:sr.sell!==null?formatCurrency$1(sr.sell):"N/A"}),jsxRuntimeExports.jsx("td",{className:"price-change",children:lr!=null?jsxRuntimeExports.jsxs("div",{className:"change-wrapper",children:[nr(lr),jsxRuntimeExports.jsx("span",{className:`change-value ${lr>0?"up":lr<0?"down":"neutral"}`,children:formatCurrency$1(Math.abs(lr))})]}):jsxRuntimeExports.jsx("span",{className:"change-na",children:"-"})})]},rr)})})]})})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index);const ExchangeRateChart=({data:tr,selectedCurrency:Hn="USD"})=>{const[er,nr]=reactExports.useState(Hn),[ir,rr]=reactExports.useState(30),sr=reactExports.useMemo(()=>{const cr=filterDataByDateRange(tr,ir);return!cr||Object.keys(cr).length===0?tr||{}:cr},[tr,ir]),ar=reactExports.useMemo(()=>{if(!sr||Object.keys(sr).length===0){if(!tr||Object.keys(tr).length===0)return null;const gr=Object.keys(tr).sort(),yr=gr.map(Sr=>{const[Tr,Lr,Mr]=Sr.split("-");return`${Mr}/${Lr}/${Tr}`}),vr=gr.map(Sr=>{const Tr=tr[Sr]?.[er];return Tr?.buy!==null&&Tr?.buy!==void 0?Tr.buy:null}),jr=gr.map(Sr=>{const Tr=tr[Sr]?.[er];return Tr?.sell!==null&&Tr?.sell!==void 0?Tr.sell:null});return{labels:yr,datasets:[{label:"Mua vo",data:vr,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Bn ra",data:jr,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]}}const cr=Object.keys(sr).sort(),ur=cr.map(gr=>{const[yr,vr,jr]=gr.split("-");return`${jr}/${vr}/${yr}`}),dr=cr.map(gr=>{const yr=sr[gr]?.[er];return yr?.buy!==null&&yr?.buy!==void 0?yr.buy:null}),fr=cr.map(gr=>{const yr=sr[gr]?.[er];return yr?.sell!==null&&yr?.sell!==void 0?yr.sell:null});return{labels:ur,datasets:[{label:"Mua Vo",data:dr,borderColor:"#00C26F",backgroundColor:gr=>{const vr=gr.chart.ctx.createLinearGradient(0,0,0,300);return vr.addColorStop(0,"rgba(0, 194, 111, 0.3)"),vr.addColorStop(1,"rgba(0, 194, 111, 0)"),vr},borderWidth:2,fill:!0,tension:.4,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:"#00C26F",pointBorderColor:"#1E293B",pointBorderWidth:2},{label:"Bn Ra",data:fr,borderColor:"#FF4D4D",backgroundColor:gr=>{const vr=gr.chart.ctx.createLinearGradient(0,0,0,300);return vr.addColorStop(0,"rgba(255, 77, 77, 0.3)"),vr.addColorStop(1,"rgba(255, 77, 77, 0)"),vr},borderWidth:2,fill:!0,tension:.4,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:"#FF4D4D",pointBorderColor:"#1E293B",pointBorderWidth:2}]}},[sr,er]),or=reactExports.useMemo(()=>{if(!tr||Object.keys(tr).length===0)return[];const cr=new Set;return Object.values(tr).forEach(ur=>{Object.keys(ur).forEach(dr=>cr.add(dr))}),Array.from(cr).sort()},[tr]),lr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:"#f8fafc",font:{size:12,weight:600},padding:15,usePointStyle:!0}},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!0,callbacks:{title:cr=>{const ur=cr[0].dataIndex,fr=Object.keys(sr).sort()[ur],[gr,yr,vr]=fr.split("-");return`Ngy: ${vr}/${yr}/${gr}`},label:cr=>{const ur=cr.parsed.y;return ur===null?`${cr.dataset.label}: N/A`:`${cr.dataset.label}: ${formatCurrency$1(ur)} VN`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",callback:cr=>formatCurrency$1(cr)}}},interaction:{intersect:!1,mode:"index"}};return ar?jsxRuntimeExports.jsxs("div",{className:"exchange-rate-chart-card",children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:"Biu  Lch S T Gi"}),jsxRuntimeExports.jsxs("div",{className:"chart-controls",children:[jsxRuntimeExports.jsx("select",{className:"currency-select",value:er,onChange:cr=>nr(cr.target.value),children:or.map(cr=>jsxRuntimeExports.jsxs("option",{value:cr,children:[cr," - ",getCurrencyName(cr)]},cr))}),jsxRuntimeExports.jsxs("div",{className:"time-range-buttons",children:[jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===7?"active":""}`,onClick:()=>rr(7),children:"7 ngy"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===30?"active":""}`,onClick:()=>rr(30),children:"30 ngy"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===90?"active":""}`,onClick:()=>rr(90),children:"3 thng"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365?"active":""}`,onClick:()=>rr(365),children:"1 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*2?"active":""}`,onClick:()=>rr(365*2),children:"2 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*3?"active":""}`,onClick:()=>rr(365*3),children:"3 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*4?"active":""}`,onClick:()=>rr(365*4),children:"4 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*5?"active":""}`,onClick:()=>rr(365*5),children:"5 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*10?"active":""}`,onClick:()=>rr(365*10),children:"10 nm"}),jsxRuntimeExports.jsx("button",{className:`time-range-btn ${ir===365*100?"active":""}`,onClick:()=>rr(365*100),children:"Tt c"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"chart-container",children:jsxRuntimeExports.jsx(Line,{data:ar,options:lr})})]}):jsxRuntimeExports.jsxs("div",{className:"exchange-rate-chart-card",children:[jsxRuntimeExports.jsx("div",{className:"chart-header",children:jsxRuntimeExports.jsx("h3",{className:"chart-title",children:"Biu  Lch S T Gi"})}),jsxRuntimeExports.jsx("div",{className:"chart-container",children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"2rem"},children:"ang ti d liu..."})})]})},USDHighlightBox=({usdRate:tr,previousUsdRate:Hn})=>{if(!tr)return jsxRuntimeExports.jsxs("div",{className:"usd-highlight-box",children:[jsxRuntimeExports.jsx("div",{className:"usd-box-header",children:jsxRuntimeExports.jsx("h3",{children:"Gi USD T Do"})}),jsxRuntimeExports.jsx("div",{className:"usd-box-content",children:jsxRuntimeExports.jsx("p",{className:"no-data",children:"Khng c d liu"})})]});const er=Hn?calculatePriceChange(tr,Hn):{sellChange:null,sellPercent:null},nr=er.sellChange,ir=er.sellPercent,rr=()=>{if(nr==null)return null;const sr=nr>0,ar=nr<0;return jsxRuntimeExports.jsxs("div",{className:`change-display ${sr?"up":ar?"down":"neutral"}`,children:[jsxRuntimeExports.jsx("span",{className:"change-icon",children:sr?"":ar?"":""}),jsxRuntimeExports.jsx("span",{className:"change-value",children:formatCurrency$1(Math.abs(nr))}),ir!==null&&jsxRuntimeExports.jsxs("span",{className:"change-percent",children:["(",ir,"%)"]})]})};return jsxRuntimeExports.jsxs("div",{className:"usd-highlight-box",children:[jsxRuntimeExports.jsx("div",{className:"usd-box-header",children:jsxRuntimeExports.jsx("h3",{children:"Gi USD T Do"})}),jsxRuntimeExports.jsxs("div",{className:"usd-box-content",children:[jsxRuntimeExports.jsxs("div",{className:"usd-price-row",children:[jsxRuntimeExports.jsx("div",{className:"price-label",children:"Mua Vo:"}),jsxRuntimeExports.jsx("div",{className:"price-value",children:tr.buy!==null?formatCurrency$1(tr.buy):"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"usd-price-row",children:[jsxRuntimeExports.jsx("div",{className:"price-label",children:"Bn Ra:"}),jsxRuntimeExports.jsx("div",{className:"price-value",children:tr.sell!==null?formatCurrency$1(tr.sell):"N/A"}),rr()]})]})]})},RecentDatesList=({data:tr,count:Hn=7})=>{const er=getRecentDates(tr,Hn);if(er.length===0)return null;const nr=ir=>{const[rr,sr,ar]=ir.split("-");return`${ar}/${sr}/${rr}`};return jsxRuntimeExports.jsxs("div",{className:"recent-dates-list",children:[jsxRuntimeExports.jsx("h3",{className:"recent-dates-title",children:"Lch S Tra Cu"}),jsxRuntimeExports.jsx("div",{className:"recent-dates-items",children:er.map(ir=>{const rr=formatDateForUrl(ir);return jsxRuntimeExports.jsx(Link,{to:`/ty-gia/${rr}`,className:"recent-date-item",children:nr(ir)},ir)})})]})},ExchangeRatePage=()=>{const tr=useNavigate(),Hn=useLocation(),er=useParams(),{processedData:nr,loading:ir,error:rr,getRateByDate:sr,getLatestDate:ar,getPreviousRate:or}=useExchangeRate();reactExports.useEffect(()=>{if(!Hn.pathname.startsWith("/ty-gia")){tr("/ty-gia",{replace:!0});return}},[Hn.pathname,tr]),reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh ExchangeRatePage.jsx"))()},[]);const lr=reactExports.useMemo(()=>{if(er.date){const Nr=parseDateFromUrl(er.date),Or=parse(Nr,"yyyy-MM-dd",new Date);return isValid(Or)?Or:new Date}return new Date},[er.date]),[cr,ur]=reactExports.useState(lr);reactExports.useEffect(()=>{ur(lr)},[lr]);const dr=reactExports.useMemo(()=>format$1(cr,"yyyy-MM-dd"),[cr]),fr=reactExports.useMemo(()=>ar(),[ar]),gr=reactExports.useMemo(()=>sr(dr),[dr,sr]),yr=reactExports.useMemo(()=>gr!==null&&Object.keys(gr).length>0,[gr]),vr=reactExports.useMemo(()=>yr?or(dr):null,[dr,yr,or]),jr=reactExports.useMemo(()=>yr&&(gr?.USD_TUDO||gr?.USD)||null,[gr,yr]),Sr=reactExports.useMemo(()=>yr&&(vr?.USD_TUDO||vr?.USD)||null,[vr,yr]),Tr=Nr=>{if(!Nr)return;ur(Nr);const Or=formatDateForUrl(format$1(Nr,"yyyy-MM-dd"));tr(`/ty-gia/${Or}`,{replace:!1})},Lr=new Date,Mr=reactExports.useMemo(()=>{if(!nr||Object.keys(nr).length===0)return null;const Nr=Object.keys(nr).sort();return Nr.length===0?null:parse(Nr[0],"yyyy-MM-dd",new Date)},[nr]);return ir?jsxRuntimeExports.jsx("div",{className:"exchange-rate-page",children:jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu t gi..."})]})}):rr?jsxRuntimeExports.jsx("div",{className:"exchange-rate-page",children:jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",rr]}),jsxRuntimeExports.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]})}):jsxRuntimeExports.jsxs("div",{className:"exchange-rate-page",children:[jsxRuntimeExports.jsx("div",{className:"page-header",children:jsxRuntimeExports.jsx("h1",{className:"page-title",children:"T Gi Ngoi T"})}),jsxRuntimeExports.jsx("div",{className:"date-filter-section",children:jsxRuntimeExports.jsxs("div",{className:"date-picker-container",children:[jsxRuntimeExports.jsx("label",{className:"date-picker-label",children:"Chn ngy:"}),jsxRuntimeExports.jsx(DatePickerWrapper,{selected:cr,onChange:Tr,maxDate:Lr,minDate:Mr})]})}),!yr&&fr&&jsxRuntimeExports.jsxs("div",{className:"no-data-notification",children:[jsxRuntimeExports.jsxs("p",{className:"no-data-message",children:[" D liu ngy ",jsxRuntimeExports.jsx("strong",{children:format$1(cr,"dd/MM/yyyy")})," khng c."]}),jsxRuntimeExports.jsxs("p",{className:"latest-data-info",children:["D liu ch c n ngy ",jsxRuntimeExports.jsx("strong",{children:format$1(parse(fr,"yyyy-MM-dd",new Date),"dd/MM/yyyy")}),"."]}),jsxRuntimeExports.jsx("button",{className:"go-to-latest-btn",onClick:()=>{const Nr=parse(fr,"yyyy-MM-dd",new Date);Tr(Nr)},children:"Chuyn n ngy c d liu mi nht"})]}),yr&&jsxRuntimeExports.jsxs("div",{className:"main-content-grid",children:[jsxRuntimeExports.jsx("div",{className:"table-section",children:jsxRuntimeExports.jsx(ExchangeRateTable,{exchangeRates:gr,previousRates:vr})}),jsxRuntimeExports.jsxs("div",{className:"chart-section",children:[jsxRuntimeExports.jsx(USDHighlightBox,{usdRate:jr,previousUsdRate:Sr}),jsxRuntimeExports.jsx(ExchangeRateChart,{data:nr,selectedCurrency:"USD"})]})]}),jsxRuntimeExports.jsx(RecentDatesList,{data:nr,count:7})]})},useGoldPrices=tr=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState(!0),[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState({loaded:0,total:0});reactExports.useEffect(()=>{let dr=!1;return(async()=>{try{ir(!0),er([]),sr(null),or({loaded:0,total:20}),await fetchGoldPricesIncremental((gr,yr,vr)=>{dr||(or({loaded:yr,total:vr}),er(jr=>{const Sr=gr.site||gr.name;return jr.find(Lr=>(Lr.site||Lr.name)===Sr)?jr:[...jr,gr]}))}),dr||sr(null)}catch(gr){dr||(console.error("Error loading gold prices:",gr),sr("Khng th ti d liu gi vng. Vui lng th li sau."))}finally{dr||ir(!1)}})(),()=>{dr=!0}},[]);const lr=reactExports.useMemo(()=>{let dr=Hn;tr.region&&(tr.region==="vietnam"?dr=Hn.filter(Sr=>Sr.quoc_gia==="Vietnam"||Sr.quoc_gia==="Vit Nam"||!Sr.quoc_gia):tr.region==="international"&&(dr=Hn.filter(Sr=>Sr.quoc_gia&&Sr.quoc_gia!=="Vietnam"&&Sr.quoc_gia!=="Vit Nam")));let fr=dr;tr.country&&tr.country!=="all"&&(fr=dr.filter(Sr=>Sr.quoc_gia===tr.country));const gr=fr.map(Sr=>({...Sr,items:Sr.items.filter(Tr=>{const Lr=Tr.TYPE?.toUpperCase();return tr.type==="gold"?Lr==="VANG"||Lr==="GOLD":tr.type==="silver"?Lr==="BAC"||Lr==="SILVER":!0})})).filter(Sr=>Sr.items.length>0),yr=Sr=>{const Tr=tr.type==="silver"?"1KG_BAC_999":"9999";return Sr.items.find(Lr=>Lr.purity===Tr)||null};if(!tr.sortBy)return gr;const vr=tr.sortOrder==="asc"?1:-1;return[...gr].sort((Sr,Tr)=>{if(tr.sortBy==="reputation"){const Fr=Number(Sr.do_uy_tin??0),Gr=Number(Tr.do_uy_tin??0);return Fr-Gr}if(tr.sortBy==="spread"){const Fr=yr(Sr),Gr=yr(Tr);if(!Fr&&!Gr)return 0;if(!Fr)return 1;if(!Gr)return-1;const qr=(Fr.sell??0)-(Fr.buy??0),Hr=(Gr.sell??0)-(Gr.buy??0);return(qr-Hr)*vr}const Lr=yr(Sr),Mr=yr(Tr);if(!Lr&&!Mr)return 0;if(!Lr)return 1;if(!Mr)return-1;const Nr=tr.sortBy==="buyPrice"?Lr.buy:Lr.sell,Or=tr.sortBy==="buyPrice"?Mr.buy:Mr.sell;return Nr==null&&Or==null?0:Nr==null?1:Or==null?-1:(Nr-Or)*vr})},[Hn,tr]),cr=reactExports.useMemo(()=>getLatestUpdateTime(Hn),[Hn]),ur=reactExports.useMemo(()=>{const dr=new Set;return Hn.forEach(fr=>{fr.quoc_gia&&dr.add(fr.quoc_gia)}),Array.from(dr).sort()},[Hn]);return{loading:nr,error:rr,displayedPrices:lr,lastUpdated:cr,loadingProgress:ar,availableCountries:ur}},XauxagDetail=()=>jsxRuntimeExports.jsxs("div",{className:"article-container",children:[jsxRuntimeExports.jsx("button",{className:"back-btn",onClick:()=>window.history.back(),children:" Quay li"}),jsxRuntimeExports.jsx("h1",{className:"article-title",children:" T l Vng / Bc (GoldSilver Ratio)"}),jsxRuntimeExports.jsx("p",{className:"article-lead",children:"T l vng/bc l mt thc o quan trng trong u t kim loi qu. N cho thy cn bao nhiu ounce bc  mua 1 ounce vng."}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{children:" Tm quan trng ca t l"}),jsxRuntimeExports.jsxs("p",{children:["Trong lch s, t l vng/bc dao ng ch yu trong khong",jsxRuntimeExports.jsx("span",{className:"stat-highlight",children:" 50:1  80:1"}),". Khi t l i qu xa vng ny, th trng thng phn nh s nh gi lch gia vng v bc."]}),jsxRuntimeExports.jsxs("div",{className:"info-box",children:[jsxRuntimeExports.jsx("b",{children:" Ngng quan trng:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"stat-highlight",children:"T l > 90:1"}),"  Vng b nh gi qu cao hoc bc r."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"stat-highlight",children:"T l < 50:1"}),"  Bc t hoc vng r."]})]})]}),jsxRuntimeExports.jsx("blockquote",{className:"quote",children:" Khi t l qu cao: thng bn vng / mua bc.  Khi t l qu thp: thng mua vng."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{children:" T l hin ti & tm l th trng"}),jsxRuntimeExports.jsxs("p",{children:["Tnh n thng 5 nm 2025, t l t",jsxRuntimeExports.jsx("span",{className:"stat-highlight",children:" 99.7"}),", cao hn khong 30% so vi trung bnh 12 thng trc ( tng chm 73)."]}),jsxRuntimeExports.jsxs("p",{children:["Mt ng lc chnh y t l tng l chnh sch thu quan leo thang ca M i vi nhiu cng quc, trong mt s trng hp vt qu ",jsxRuntimeExports.jsx("b",{children:"100%"}),". iu ny khin vng tr thnh ni tr n, tng t bin t u 2024  t nh lch s vo 4/2025."]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{children:" V sao bc tng chm hn vng?"}),jsxRuntimeExports.jsxs("div",{className:"card-grid",children:[jsxRuntimeExports.jsx(ApplicationCard,{title:" Kim loi cng nghip",content:"Bc c s dng nhiu trong in t, pin, PV  khin n b nhn nhn thin v kim loi cng nghip hn l ti sn tr n."}),jsxRuntimeExports.jsx(ApplicationCard,{title:" Lu tr kh",content:"1kg vng c th ct gn, nhng bc tng ng phi dng kt ngn hng."}),jsxRuntimeExports.jsx(ApplicationCard,{title:" Bin ng mnh",content:"Bc c th tng/gim nhiu % ch trong vi tun  khng hp vi nh u t an ton."})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{children:" Hiu sut lch s 5 nm"}),jsxRuntimeExports.jsx(FactorCard,{number:"11/08/2020  68.47",title:"Sau nh COVID",color:"green",content:"Bc tng mnh cui 2020 trong khi vng chng  thu hp t l."}),jsxRuntimeExports.jsx(FactorCard,{number:"01/02/2021  63.13",title:"Mc thp nht 5 nm",color:"green",content:"Vng suy yu, bc phc hi  t l chm y."}),jsxRuntimeExports.jsx(FactorCard,{number:"0809/2022  ~95.8",title:"nh trung k",color:"red",content:"Bc lao dc nhanh hn vng  t l tng."}),jsxRuntimeExports.jsx(FactorCard,{number:"29/05/2024  73.07",title:"Ln gim him",color:"blue",content:"Mt trong nhng vng cn bng nht ca th trng."})]})]}),ApplicationCard=({title:tr,content:Hn})=>jsxRuntimeExports.jsxs("div",{className:"app-card",children:[jsxRuntimeExports.jsx("h4",{children:tr}),jsxRuntimeExports.jsx("p",{children:Hn})]}),FactorCard=({number:tr,title:Hn,content:er,color:nr})=>jsxRuntimeExports.jsxs("div",{className:`factor-card ${nr}`,children:[jsxRuntimeExports.jsx("div",{className:"factor-number",children:tr}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{children:Hn}),jsxRuntimeExports.jsx("p",{children:er})]})]});Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin$1);function SPDRGold(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),sr=useParams(),{day:ar,month:or,year:lr,hour:cr,minute:ur}=sr;return reactExports.useEffect(()=>{(async()=>{try{const fr=getVang247FileUrl(ar,or,lr,cr,ur);if(!fr){console.warn("SPDRGold: invalid parameters for getVang247FileUrl",{day:ar,month:or,year:lr,hour:cr,minute:ur});return}const gr=await fetch(fr);if(!gr.ok){console.warn("SPDRGold: fetch returned non-ok status",gr.status);return}const yr=await gr.json();if(yr.status==="success"){const vr=yr?.data?.bieudo?.[3]?.data||[];vr[0]?.status===1&&Hn(vr[0]),vr[1]?.status===1&&nr(vr[1]),vr[3]?.status===1&&vr[2]?.status===1&&rr({dataMonth:vr[3],dataWeek:vr[2]})}}catch(fr){console.error("SPDRGold load error",fr)}})(),(async()=>await logUserInfo("Mn hnh SPDR.jsx"))()},[]),jsxRuntimeExports.jsxs("div",{children:[tr&&jsxRuntimeExports.jsx(GoldChart,{dataGoldTrust:tr,urlParams:sr}),er&&jsxRuntimeExports.jsx(SilverChart,{dataSilverTrust:er,urlParams:sr})]})}const widgetUrls={"Ch s kinh t":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/interest-rate&s=fdtr","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/gdp-growth&s=gdp+cqoq","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/crude-oil-stocks-change&s=unitedstacruoilstoch","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/api-crude-oil-stock-change&s=apicrudeoil","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/crude-oil-rigs&s=usoilrigs"],"Ch s lm pht":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/inflation-cpi&s=cpi+yoy","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/core-inflation-rate&s=usacorecpirate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/inflation-rate-mom&s=unitedstainfratmom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstapropricha&ref=/united-states/producer-prices-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/core-producer-prices-yoy&s=usacppy","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/producer-price-inflation-mom&s=usappim","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/pce-price-index-annual-change&s=usappiac","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usacppiac&ref=/united-states/core-pce-price-index-annual-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usacppim&ref=/united-states/core-pce-price-index-mom"],"Sn xut":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstamanpmi&ref=/united-states/manufacturing-pmi","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=napmpmi&ref=/united-states/business-confidence","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaindpromom&ref=/united-states/industrial-production-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usampmom&ref=/united-states/manufacturing-production-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstacaputi&ref=/united-states/capacity-utilization"],"Vic lm v ngi lao ng":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaadpempcha&ref=/united-states/adp-employment-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstajoboff&ref=/united-states/job-offers","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=nfp+tch&ref=/united-states/non-farm-payrolls","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usurtot&ref=/united-states/unemployment-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=ijcusa&ref=/united-states/jobless-claims","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstalabforparra&ref=/united-states/labor-force-participation-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaavehouear&ref=/united-states/average-hourly-earnings","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaahey&ref=/united-states/average-hourly-earnings-yoy"],"Ngi tiu dng v khch hng":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaperinc&ref=/united-states/personal-income","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabanlenrat&ref=/united-states/bank-lending-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstapersav&ref=/united-states/personal-savings","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usamce&ref=/united-states/michigan-consumer-expectations","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaperspe&ref=/united-states/personal-spending","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=concconf&ref=/united-states/consumer-confidence"],"Nhp khu v xut khu":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=tbextot&ref=/united-states/exports","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=tbimtot&ref=/united-states/imports","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=ustbtot&ref=/united-states/balance-of-trade","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaepm&ref=/united-states/export-prices-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaipm&ref=/united-states/import-prices-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=rstamom&ref=/united-states/retail-sales","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabusinv&ref=/united-states/business-inventories"],"Bt ng sn v thu nh":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabuiper&ref=/united-states/building-permits","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstahousta&ref=/united-states/housing-starts","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstanewhomsal&ref=/united-states/new-home-sales"]},economicIndicatorsGrouped={"Ch s kinh t":["Li Sut Tch Ly","GDP - S Liu Thc T c Cng B","Tr Lng Du Th EIA","D Tr Du Th API","S Gin Khoan Du Th"],"Ch s lm pht":["CPI - Lm Pht Tiu Dng Theo Nm","CPI Li - Lm Pht Tiu Dng Li Theo Nm","CPI - Lm Pht Tiu Dng Theo Thng","PPI - Lm Pht Gi Sn Xut Theo Nm","PPI Li - Lm Pht Gi Sn Xut Li Theo Nm","PPI - Lm Pht Gi Sn Xut Theo Thng","PCE - Lm Pht Chi Tiu C Nhn Theo Nm","PCE Li - Lm Pht Chi Tiu C Nhn Li Theo Nm","PCE Li - Lm Pht Chi Tiu C Nhn Li Theo Thng"],"Sn xut":["PMI - Ch S Qun L Thu Mua Sn Xut","Ch S PMI Sn Xut ca ISM","Sn Xut Cng Nghip Theo Thng","Sn Lng Sn Xut Theo Thng","Hiu Sut S Dng Cng Sut"],"Vic lm v ngi lao ng":["Thay i Vic Lm Phi Nng Nghip ADP","C Hi Vic Lm ca JOLTs","NonFarm","T L Tht Nghip"," Ngh Tr Cp Tht Nghip Ln u","T L Tham Gia Ngi Lao ng","Thu Nhp Trung Bnh Theo Gi (Theo Thng)","Thu Nhp Trung Bnh Theo Gi (Theo Nm)"],"Ngi tiu dng v khch hng":["Thu Nhp C Nhn","Li Sut i Vay","Tit Kim C Nhn","K Vng Tiu Dng Michigan","Tiu Xi C Nhn","Tm L Tiu Dng Michigan"],"Nhp khu v xut khu":["Xut Khu","Nhp Khu","Cn Cn Thng Mi","Gi Xut Khu","Gi Nhp Khu","Doanh S Bn L Theo Thng","Hng Tn Kho Kinh Doanh"],"Bt ng sn v thu nh":["Giy Php Xy Dng","Lng Nh Khi Cng Xy Dng","Doanh S Bn Nh Mi"]};function TradingEconomicsWidgets(){return reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh TradingEconomicsWidgets.jsx"))()},[]),jsxRuntimeExports.jsxs("div",{className:"te-widget-container",children:[jsxRuntimeExports.jsx("h1",{style:{fontSize:"60px",marginBottom:"60px",marginTop:"40px",fontWeight:"bold",color:"#ffc107"},children:"Ch s kinh t"}),Object.entries(widgetUrls).map(([tr,Hn],er)=>jsxRuntimeExports.jsxs("div",{children:[er!==0&&jsxRuntimeExports.jsx("h1",{style:{marginTop:"50px",color:"red",fontWeight:"bold"},children:tr}),jsxRuntimeExports.jsx("div",{className:"contain-widget",children:Hn.map((nr,ir)=>jsxRuntimeExports.jsxs("div",{className:"widget-item",children:[jsxRuntimeExports.jsx("h3",{children:economicIndicatorsGrouped[tr][ir]}),jsxRuntimeExports.jsx("iframe",{src:nr,title:`TE Widget ${ir}`,allowTransparency:"true",loading:"lazy",scrolling:"no"})]},ir))})]}))]})}function useRequireLocation(){const[tr,Hn]=reactExports.useState(null);return reactExports.useEffect(()=>{navigator.geolocation.getCurrentPosition(()=>{Hn(!0)},async()=>{try{const er=await navigator.permissions.query({name:"geolocation"});er.state==="denied"?Hn(!1):er.state==="granted"?Hn(!0):Hn(!1)}catch{Hn(!1)}})},[]),tr}const TimeRangeFilter=({activeRange:tr,onRangeChange:Hn})=>{const er=[{value:"1W",label:"1 Tun"},{value:"1M",label:"1 Thng"},{value:"6M",label:"6 Thng"},{value:"1Y",label:"1 Nm"},{value:"ALL",label:"Tt c"}];return jsxRuntimeExports.jsxs("div",{className:"time-range-filter",children:[jsxRuntimeExports.jsx("div",{className:"filter-label",children:"Khong thi gian:"}),jsxRuntimeExports.jsx("div",{className:"filter-buttons",children:er.map(nr=>jsxRuntimeExports.jsx("button",{className:`filter-btn ${tr===nr.value?"active":""}`,onClick:()=>Hn(nr.value),"aria-label":`Xem d liu ${nr.label}`,children:nr.value},nr.value))})]})};Chart$1.register(...registerables);const API_BASE_URL$1="https://api_gold.thinkdiff.us/",GOLD_API_MAP$1={kim_khanh_viet_hung_da_nang:"history_KIM_KHANH_VIET_HUNG_DA_NANG",kim_tung_an_giang:"history_KIM_TUNG_AN_GIANG",quoc_bao_bien_hoa_dong_nai:"history_QUOC_BAO_BIEN_HOA_DONGNAI",quoc_bao_lam_bien_hoa:"history_QUOC_BAO_LAM_BIEN_HOA",kim_hung_phat:"history_KIM_HUNG_PHAT",lap_duc_tan_phu_hcm:"history_LAP_DUC_TANPHU_HCM",kim_ngoc_lam_dong:"history_KIMNGOC_LAMDONG",kim_thuy_go_cong_tien_giang:"history_KIMTHUY_GO_CONG_TIEN_GIANG",kim_yen_binh_chanh_hcm:"history_KIM_YEN_BINH_CHANH_HCM",kim_phat_thoi_an_nha_be:"history_KIMPHAT_THOIAN_NHABE",luc_ngoc_thanh_bien_hoa:"history_LUC_NGOC_THANH_BIENHOA",phuoc_thanh_can_duoc_long_an:"history_PHUOCTHANH_CANDUOC_LONGAN",kim_phat_hiep_thanh_quan_12_hcm:"history_KIM_PHAT_HIEPTHANH_QUAN12",kim_phat_nha_be_hcm:"history_KIM_PHAT_NHA_BE_HCM",kim_hanh_thu_duc_hcm:"history_KIMHANH_THUDUC_HCM",quoc_bao_son_bien_hoa:"history_QUOCBAO_SON_BIENHOA",minh_thanh_ben_luc_long_an:"history_MINHTHANH_BENLUC_LONGAN",my_ngoc_long_thanh_long_an:"history_MYNGOC_LONGTHANH_LONGAN",kim_ton_long_khanh_dong_nai:"history_KIMTON_LONGKHANH_DONGNAI",yen_hien_nghia_hung_nam_dinh:"history_YENHIEN_NGHIAHUNG_NAMDINH",xuan_mui_ninh_binh:"history_XUAN_MUI_NINH_BINH",hai_sen_dien_bien:"history_HAISEN_DIENBIEN",thanh_xuan_dong_anh_hn:"history_THANHXUAN_DONGANH_HN",da_phuc_son_tay_hn:"history_DAPHUC_SONTAY_HN",nha_huong_hai_phong:"history_NHAHUONG_HAIPHONG",hjc_quang_ninh:"history_HJC_QUANGNINH",kim_chung_le_hoan_thanh_hoa:"history_KIMCHUNG_LEHOAN_THANHHOA",hoa_tung_quang_ngai:"history_HOATUNG_QUANGNGAI",quy_tung_thai_nguyen:"history_QUY_TUNG_THAINGUYEN",kim_lien_quang_yen_quang_ninh:"history_KIM_LIEN_QUANG_YEN_QUANG_NINH",trung_sinh_thai_nguyen:"history_TRUNGSINH_THAINGUYEN",huong_yen_hai_duong:"history_HUONGYEN_HAIDUONG",kim_khanh_ha_nam:"history_KIMKHANH_HANAM",hai_hong_hai_phong:"history_HAIHONG_HAIPHONG",quang_hanh_hai_phong:"history_QUANGHANH_HAIPHONG",son_ha_bac_ninh:"history_SONHA_BACNINH",lu_huong_dong_hung_thai_binh:"history_LU_HUONG_DONG_HUNG_THAI_BINH",anh_minh_ho_tung_mau_hn:"history_ANHMINH_HOTUNGMAU_HN",huong_chi_bac_giang:"history_HUONGCHI_BACGIANG",nhat_ha_hai_phong:"history_NHAHA_HAIPHONG",phi_doan_ha_dong_hn:"history_PHIDOAN_HADONG",dai_nghia_nam_dinh:"history_DAINGHIA_NAMDINH",tien_ngoc_tu_son_bac_ninh:"history_TIENNGOC_TUSON_BACNINH",phuc_thanh_nam_dinh:"history_PHUCTHANH_NAMDINH",phuc_thanh_long_bien:"history_PHUCTHANH_LONGBIEN",hoan_hue_lao_cai:"history_HOANHUE_LAOCAI",gia_vang_mi_hong_sjc_tu_do_goldenfund_sjc_tu_do:"history_MIHONG_HCM",vang_doji:"history_DOJI",chow_tai_fook:"history_CHOW_TAI_FOOK",chow_tai_seng:"history_CHOW_TAI_SENG",lukfook_jewellery:"history_LukFook_Jewellery",chow_sang_sang:"history_Chow_Sang_Sang",vang_bac_huong_diu_bac_ninh:"history_HUONGDIU_BACNINH",huy_thanh_doi_can_hn:"history_HUYTHANH_DOICAN_HN",vang_nguyen_lieu_nam_dinh:"history_NGUYENLIEU_NAMDINH",malabargoldanddiamonds:"history_malabargoldanddiamonds",tokuriki_kanda_co_jp:"history_tokuriki_kanda_co_jp",tanaka_co_jp:"history_tanaka_co_jp",ishifuku:"history_ishifuku_JP",kim_tin_cao_bang:"history_KIMTIN_CAOBANG",bao_tin_manh_hai:"history_BAO_TIN_MANH_HAI",phu_quy_vang:"history_PHUQUY_VANG",anekalogam:"history_Anekalogam",aurum24_russian:"history_aurum24_russian",orient_singapore:"history_Orient_SINGAPORE",goldheart:"history_Goldheart_SINGAPORE",gvs_trading_dubai:"history_GVS_Trading_DUBAI",kanz_jewels_dubai:"history_Kanz_Jewels_DUBAI",igold:"history_IGOLD",lam_ngoc_thanh_bien_hoa:"history_LAMNGOCTHANH_BIENHOA",vang_ancarat:"history_VANG_ANCARAT",bao_tin_lan_vy_cau_giay_hn:"history_BAO_TIN_LAN_VY_CAU_GIAY_HN",kim_ngan_phuc_ha_noi:"history_KIM_NGAN_PHUC_HA_NOI",chien_minh_cau_giay_hn:"history_CHIEN_MINH_CAU_GIAY_HN",kim_chau_an_giang:"history_KIM_CHAU_AN_GIANG",vang_kim_hoan_camau:"history_VANG_KIM_HOAN_CAMAU",vang_pnj:"history_VANG_PNJ",phu_tai_long_bien_hn:"history_PHU_TAI_LONG_BIEN_HN",ngoc_tham_dong_thap:"history_NGOC_THAM_DONG_THAP",vang_btmc:"history_VANG_BTMC",sacombank_sbj_gold:"history_SACOMBANK_GOLD",huong_chi_bac_ninh:"history_HUONGCHI_BACGIANG","kim_hoa-phan_thiet-binh_thuan":"history_KIM_HOA_PHAN_THIET_BINH_THUAN",tu_minh_vinh_long:"history_HONG_LINH_VINH_LONG",hong_linh_vinh_long:"history_HONG_LINH_VINH_LONG","hong_nga-cao_lanh-dong_thap":"history_HONG_NGA_CA_LANH_DONG_THAP","kim_bao_tri-tan_phu-hcm":"history_KIM_BAO_TRI_TAN_PHU_HCM","kim_chau_2-an_giang":"history_KIM_CHAU_2_AN_GIANG","trong_nghia-quan_10-hcm":"history_TRONG_NGHIA_QUAN_10_HCM","kim_hoang_ngoan-long_khanh-dong":"history_KIM_HOANG_NGOAN_LONG_KHAN_DONG_NAI","kim_uyen-long_khanh-dong_nai":"history_KIM_UYEN_LONG_KHANH_DONG_NAI","kim_loan-quan_6-hcm":"history_KIM_LOAN_QUAN_6_HCM","kim_anh_tuan-long_khanh-dong_nai":"history_KIM_ANH_TUAN_Long_Khanh_Dong_Nai","kieu_ngoc-ha_tinh":"history_KIEU_NGOC_HA_TINH","ngoc_ha-quang_binh":"history_NGOC_HA_QUANG_BINH","kim_viet-tam_ky-quang_nam":"history_KIM_VIET_TAM_KY_QUANG_NAM","kim_thach_bich-nha_trang":"history_KIM_THACH_BICH_NHA_TRANG","kim_khanh_viet_hung-lien_chieu-da_nang":"history_KIM_KHANH_VIET_HUNG_LIEN_CHIEU_DA_NANG","my_long-quy_nhon":"history_MY_LONG_QUY_NHON","ngoc_thien-binh_dinh":"history_NGOC_THIEN_BINH_DINH",hoakimnguyen:"history_hoakimnguyen","hoa_kim_nguyen-da_nang":"history_HOA_KIM_NGUYEN_DA_NANG","nghia_tin-tam_ky-quang_nam":"history_NGHIA_TIN_TAM_KY_QUANG_NAM","kim_thu-ca_mau":"history_KIM_THU_CA_MAU","ngoc_hai-nhj-my_tho-tien_giang":"history_NGOC_HAI_NHJ_MY_THO_TIEN_GIANG",sinh_dien_bac_ninh:"history_SINH_DIEN_BAC_NINH","kim_thanh_h-binh_tan-hcm":"history_KIM_THANH_HBINH_TAN_HCM","mao_thiet-thai_binh":"history_MAOTHIET_THAIBINH","vietagold-me_tri-ntl-hn":"history_VIETAGOLD_ME_TRI",bullionbypost:"history_bullionbypost",korea_gold_exchange:"history_Korea_Gold_Exchange","thanh_lien-hai phong":"history_Thanh_Lien_HAI_PHONG",kim_chau_hai_hau_nam_inh:"history_Kim_Chau_Hai_Hau_Nam_Dinh","candere.com":"history_candere_com"},formatCurrency=tr=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(tr),formatDate$1=tr=>tr?new Date(tr).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"";function findApiForVendor(tr){if(!tr)return null;const Hn=tr.toLowerCase().trim();if(GOLD_API_MAP$1[Hn])return API_BASE_URL$1+GOLD_API_MAP$1[Hn];const er=Hn.replace(/[^a-z0-9]/g,""),nr=Object.keys(GOLD_API_MAP$1).find(ir=>{const rr=ir.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"");return rr.includes(er)||er.includes(rr)});return nr?API_BASE_URL$1+GOLD_API_MAP$1[nr]:null}const calculateDistance=(tr,Hn,er,nr)=>{const rr=cr=>cr*Math.PI/180,sr=rr(er-tr),ar=rr(nr-Hn),or=Math.sin(sr/2)*Math.sin(sr/2)+Math.cos(rr(tr))*Math.cos(rr(er))*Math.sin(ar/2)*Math.sin(ar/2);return 6371*(2*Math.atan2(Math.sqrt(or),Math.sqrt(1-or)))},GrowthTable=({title:tr,data:Hn})=>!Hn||Hn.length===0?null:jsxRuntimeExports.jsxs("div",{className:"gold-container",style:{marginTop:"20px"},children:[jsxRuntimeExports.jsx("h2",{className:"gold-header",children:tr}),jsxRuntimeExports.jsx("div",{className:"table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"gold-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Tun"}),jsxRuntimeExports.jsx("th",{children:"Ngy bt u"}),jsxRuntimeExports.jsx("th",{children:"Gi mua u"}),jsxRuntimeExports.jsx("th",{children:"Ngy kt thc"}),jsxRuntimeExports.jsx("th",{children:"Gi mua cui"}),jsxRuntimeExports.jsx("th",{className:"text-right",children:"Li nhun"}),jsxRuntimeExports.jsx("th",{className:"text-right",children:"Tng trng"})]})}),jsxRuntimeExports.jsx("tbody",{children:Hn.map((er,nr)=>{const ir=!!er.cuoituan,rr=ir?er.dautuan:er.cuoi,sr=ir?er.cuoituan:er.dau,ar=ir?er.tilephantram_1tuan:er.tilephantram_all,or=er.loinhuan>=0?"#16a34a":"#dc2626";return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"font-bold",children:["Tun ",nr+1]}),jsxRuntimeExports.jsx("td",{children:formatDate$1(rr?.datetime)}),jsxRuntimeExports.jsx("td",{children:formatCurrency(rr?.buy)}),jsxRuntimeExports.jsx("td",{children:formatDate$1(sr?.datetime)}),jsxRuntimeExports.jsx("td",{children:formatCurrency(sr?.buy)}),jsxRuntimeExports.jsx("td",{style:{color:or,fontWeight:"bold",textAlign:"left"},children:formatCurrency(er.loinhuan)}),jsxRuntimeExports.jsxs("td",{style:{color:or,fontWeight:"bold",textAlign:"left",paddingLeft:"40px"},children:[ar?ar.toFixed(2):0,"%"]})]},nr)})})]})})]}),GoldDetail=()=>{const{vendorName:tr}=useParams(),Hn=useNavigate(),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(!0),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(""),[dr,fr]=reactExports.useState(null),[gr,yr]=reactExports.useState(""),[vr,jr]=reactExports.useState(null),[Sr,Tr]=reactExports.useState(null),[Lr,Mr]=reactExports.useState("ALL"),[Nr,Or]=reactExports.useState("VANG");reactExports.useEffect(()=>{(async()=>{ar(!0),lr(null);try{let ro=new Date,io=null;for(;!io;){const To=String(ro.getDate()).padStart(2,"0"),Fo=String(ro.getMonth()+1).padStart(2,"0"),Co=ro.getFullYear(),Go=`${To}_${Fo}_${Co}`;try{const Lo=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Go}`)).json();if(Lo&&Lo.data&&Lo.data.length>0){io=Lo;break}else ro.setDate(ro.getDate()-1)}catch(el){console.warn(`Khng th fetch d liu ngy ${Go}:`,el),ro.setDate(ro.getDate()-1)}}const ao=io.data.reduce((To,Fo)=>{const Co=new Date(To.modified_time.split("/").reverse().join("-"));return new Date(Fo.modified_time.split("/").reverse().join("-"))>Co?Fo:To},io.data[0]).link.match(/\/([^\/]+)\.json$/)[1],[Jr,uo,oo,co,no]=ao.split("_").map(To=>parseInt(To,10)),mo=getVang247FileUrl(Jr,uo,oo,co,no);if(!mo)throw new Error("Invalid parameters when building Vang247 file URL in GoldDetail");const bo=(await fetchVang247SingleFile(mo)).data?.list_server;if(!Array.isArray(bo))throw new Error("list_server khng phi mng");const Po=To=>To?To.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""):"",wo=bo.find(To=>Po(To.name)===Po(tr)||Po(To.name).includes(Po(tr)));if(!wo)console.warn("Khng tm thy khp. Danh sch server:",bo.map(To=>To.name)),lr(`Khng tm thy d liu cho "${tr}"`);else{const To=wo.maps;let Fo=null;if(Array.isArray(To)&&To.length>0){const el=await new Promise(Lo=>{navigator.geolocation.getCurrentPosition(Uo=>Lo({lat:Uo.coords.latitude,long:Uo.coords.longitude}),()=>Lo(null),{enableHighAccuracy:!0})});if(el){const Lo=To.map(Uo=>calculateDistance(el.lat,el.long,Uo.lat,Uo.long));Fo=Math.min(...Lo)}}const Co={...wo,items:wo.data?.data?.items||[],fetched_at:wo.data?.data?.fetched_at||wo.data?.data?.timestamp||null,distance:Fo!==null?Fo.toFixed(2):null};rr(Array.isArray(To)&&To.length>0?To:[]),nr(Co);const Go=findApiForVendor(convertToKey(tr));if(yr(Go),Go){const Lo=await(await fetch(Go)).json();fr(Lo),Lo?.data_bac?.tangtruong?.length&&Tr(Lo.data_bac.tangtruong),Lo?.data_vang?.tangtruong?.length&&jr(Lo.data_vang.tangtruong)}}}catch(ro){console.error("Li khi fetch vendor:",ro),lr(ro.message||" xy ra li khi ti d liu")}finally{ar(!1)}})()},[tr]),reactExports.useEffect(()=>{(async()=>{if(!(!Array.isArray(ir)||ir.length===0))try{const ro=[];for(let io of ir){const ao=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${io.lat}&lon=${io.long}&format=json`)).json();ro.push({lat:io.lat,long:io.long,address:ao.display_name})}ur(ro)}catch(ro){console.error("Li ly a ch:",ro)}})()},[ir]),reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh GoldDetail.jsx"))()},[]);const Fr=reactExports.useMemo(()=>{let Yr=null;if(Nr==="VANG"&&(Yr=dr?.data_vang?.data),Nr==="BAC"&&(Yr=dr?.data_bac?.data),!Yr||Yr.length===0)return[];const ro=new Map;return Yr.forEach(io=>{if(!io?.datetime)return;const fo=io.datetime.split(" ")[0];ro.has(fo)||ro.set(fo,{time:fo,buy:Number(io.buy),sell:Number(io.sell)})}),[...ro.values()].sort((io,fo)=>new Date(io.time)-new Date(fo.time))},[dr,Nr]),qr=((Yr,ro)=>{if(ro==="ALL")return Yr;if(!Yr||Yr.length===0)return[];const io=new Date;let fo;switch(ro){case"1W":fo=new Date(io),fo.setDate(io.getDate()-7);break;case"1M":fo=new Date(io),fo.setMonth(io.getMonth()-1);break;case"6M":fo=new Date(io),fo.setMonth(io.getMonth()-6);break;case"1Y":fo=new Date(io),fo.setFullYear(io.getFullYear()-1);break;default:return Yr}return Yr.filter(ao=>new Date(ao.time)>=fo)})(Fr,Lr),Hr=reactExports.useMemo(()=>{if(!qr||qr.length===0)return{labels:[],datasets:[]};const Yr=qr.map(io=>io.time),ro=[{label:"Gi mua",data:qr.map(io=>io.buy),borderColor:"#0066ff",tension:.3},{label:"Gi bn",data:qr.map(io=>io.sell),borderColor:"#ff0000",tension:.3}];return{labels:Yr,datasets:ro}},[qr]);return sr?jsxRuntimeExports.jsx("div",{children:"ang ti d liu..."}):or?jsxRuntimeExports.jsx("div",{children:or}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("a",{href:"#",className:"back-button",onClick:Yr=>{Yr.preventDefault(),Hn(-1)},children:[jsxRuntimeExports.jsx("span",{className:"icon",children:""})," Quay li"]}),jsxRuntimeExports.jsxs("div",{className:"price-address-wrapper",children:[jsxRuntimeExports.jsx("div",{className:"max_with",children:jsxRuntimeExports.jsx(PriceTable,{vendorData:er})}),jsxRuntimeExports.jsxs("div",{className:"address-list",children:[jsxRuntimeExports.jsx("strong",{style:{display:"block",marginBottom:"8px"},children:"Danh sch a ch:"}),Array.isArray(cr)&&cr.length>0?cr.map((Yr,ro)=>jsxRuntimeExports.jsx("div",{className:"address-item",style:{padding:"8px 4px",borderBottom:ro!==cr.length-1?"1px dashed #ccc":"none"},children:jsxRuntimeExports.jsxs("a",{href:`https://www.google.com/maps/search/${Yr.lat},+${Yr.long}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"white",display:"block"},children:[ro+1,". ",Yr.address]})},ro)):jsxRuntimeExports.jsx("div",{style:{color:"white",fontStyle:"italic"},children:"ang ly a ch"})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{width:"90%",maxWidth:"1200px",margin:"30px auto"},children:[jsxRuntimeExports.jsx("h3",{children:"Lch s gi vng"}),gr&&jsxRuntimeExports.jsxs("p",{style:{fontSize:12,color:"#666"},children:["Ngun: ",gr]}),jsxRuntimeExports.jsxs("div",{style:{margin:"10px 0"},children:[jsxRuntimeExports.jsx("button",{className:`btn-type ${Nr==="VANG"?"btn-active":""}`,onClick:()=>Or("VANG"),children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`btn-type ${Nr==="BAC"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>Or("BAC"),children:"Bc"})]}),jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:Lr,onRangeChange:Mr}),jsxRuntimeExports.jsx(Line,{data:Hr}),jsxRuntimeExports.jsx(GrowthTable,{title:"Bng Tng Trng Gi Vng",data:vr}),jsxRuntimeExports.jsx(GrowthTable,{title:"Bng Tng Trng Gi Bc",data:Sr})]}),jsxRuntimeExports.jsx("div",{style:{height:"300px",width:"80%",marginTop:"20px",margin:"auto"},children:ir&&ir.length>0?jsxRuntimeExports.jsxs(MapContainer,{center:[ir[0].lat,ir[0].long],zoom:16,style:{height:"300px",width:"100%"},children:[jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri"}),jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",attribution:"Transportation data  Esri",opacity:.6}),ir.map((Yr,ro)=>jsxRuntimeExports.jsx(Marker,{position:[Yr.lat,Yr.long],children:jsxRuntimeExports.jsxs(Popup,{children:["a im ",ro+1," ",jsxRuntimeExports.jsx("br",{}),er.name," - ",er.quoc_gia,jsxRuntimeExports.jsx(PriceTable,{vendorData:er})]})},ro))]}):jsxRuntimeExports.jsx("p",{children:"Khng c d liu bn "})})]})};function CardNews({data:tr,setIsShowModal:Hn,setNewsSelect:er,currentPage:nr=1,translateState:ir,setTranslateState:rr}){const[sr,ar]=reactExports.useState(!1),{isTranslated:or,translatedText:lr}=ir,cr=reactExports.useRef(null),[ur,dr]=reactExports.useState(!1),[fr]=useSearchParams(),gr=useNavigate(),yr="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg";if(!tr)return null;const vr=async Yr=>{if(Yr.stopPropagation(),or){rr({isTranslated:!1,translatedText:""});return}if(lr){rr({isTranslated:!0,translatedText:lr});return}ar(!0);try{const ro=tr?.content_text||tr?.content_text_vi||"",io=document.createElement("div");io.innerHTML=ro;const fo=io.innerText||io.textContent||"";if(!fo.trim())return;const uo=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(fo)}`)).json())[0].map(oo=>oo[0]).join("");rr({isTranslated:!0,translatedText:uo})}catch(ro){console.error(ro)}finally{ar(!1)}},jr=Yr=>{if(!Yr&&Yr!==0)return null;if(typeof Yr!="string")return Yr&&typeof Yr=="object"&&(Yr.url||Yr.src)||null;const ro=Yr.trim();if(!ro)return null;if(ro.startsWith("data:image/")||/^https?:\/\//i.test(ro))return ro;const io=ro.replace(/\s+/g,"");return io.startsWith("iVBOR")?`data:image/png;base64,${io}`:io.startsWith("/9")?`data:image/jpeg;base64,${io}`:ro},Tr=(Array.isArray(tr?.images)?tr.images:typeof tr?.images=="string"?[tr.images]:[]).map(Yr=>jr(Yr)).filter(Boolean),Lr=tr?.content_text||tr?.content_text_vi||"",Mr=document.createElement("div");Mr.innerHTML=Lr;const Nr=Mr.innerText||Mr.textContent||"",Or=or?lr:Nr,Gr=Or.length>200?`${Or.substring(0,200)}...`:Or,qr=()=>{const Yr={...tr,isTranslatedFromCard:or,translatedTextFromCard:lr};er&&er(Yr),Hn&&Hn(!0);const ro=nr||fr.get("page")||1,io=new URLSearchParams;io.set("page",ro),io.set("idPost",tr.post_db_id),gr(`?${io.toString()}`)},Hr=async()=>{const Yr=nr||fr.get("page")||1,io=`${window.location.href.split("?")[0]}?page=${Yr}&idPost=${tr.post_db_id}`,fo=tr?.name_group||"Tin tc",ao=Gr;if(navigator.share)try{await navigator.share({title:fo,text:ao,url:io})}catch(Jr){console.error("Li chia s:",Jr)}else navigator.clipboard.writeText(io).then(()=>{alert(" sao chp lin kt!")}).catch(Jr=>{console.error("Li sao chp:",Jr)})};return jsxRuntimeExports.jsxs("div",{className:"post-card",children:[jsxRuntimeExports.jsxs("div",{className:"post-header",children:[jsxRuntimeExports.jsx("img",{src:tr?.avatar_group||yr,alt:"User Avatar",className:"user-avatar"}),jsxRuntimeExports.jsxs("div",{className:"user-info",children:[jsxRuntimeExports.jsx("h3",{className:"user-name",children:tr?.name_group}),jsxRuntimeExports.jsxs("span",{className:"post-date",children:[jsxRuntimeExports.jsx(LuClock,{size:14,className:"icon-small"})," ",tr?.PostTime||""]})]}),jsxRuntimeExports.jsxs("button",{onClick:vr,disabled:sr,className:"translate-btn",style:{marginLeft:"auto",padding:"4px 12px",fontSize:"12px",cursor:sr?"not-allowed":"pointer",borderRadius:"20px",border:"1px solid #1877f2",background:or?"#1877f2":"#fff",color:or?"#fff":"#1877f2",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px"},children:[jsxRuntimeExports.jsx(LuLanguages,{size:14}),sr?"...":or?"Gc":"Dch VN"]})]}),jsxRuntimeExports.jsxs("div",{className:"post-content",children:[jsxRuntimeExports.jsx("div",{ref:cr,className:"post-content-text",onClick:qr,dangerouslySetInnerHTML:{__html:or?lr:tr?.content_text||tr?.content_text_vi||""}}),jsxRuntimeExports.jsx("div",{className:`see-more-wrapper ${ur?"show":""}`,children:jsxRuntimeExports.jsx("span",{className:"see-more",onClick:qr,children:"Xem thm"})})]}),jsxRuntimeExports.jsx("div",{className:"post-media",onClick:qr,children:Tr.length>0&&jsxRuntimeExports.jsx("img",{src:Tr[0],className:"post-card-image",alt:"news"})}),jsxRuntimeExports.jsxs("div",{className:"post-footer",children:[jsxRuntimeExports.jsx("div",{className:"post-stats",children:jsxRuntimeExports.jsxs("div",{className:"stat-item",children:[jsxRuntimeExports.jsx(FaEye,{size:18}),jsxRuntimeExports.jsx("span",{children:tr?.so_lan_view||"0"})]})}),jsxRuntimeExports.jsxs("div",{className:"post-actions",children:[jsxRuntimeExports.jsxs("button",{className:"action-btn",onClick:qr,children:[jsxRuntimeExports.jsx(FaRegComment,{size:18})," ",jsxRuntimeExports.jsx("span",{children:"Bnh lun"})]}),jsxRuntimeExports.jsxs("button",{className:"action-btn",onClick:Hr,children:[jsxRuntimeExports.jsx(FaShare,{size:18})," Chia s"]})]})]})]})}function IoMdClose(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(tr)}function IoMdExpand(tr){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.795 396.8H320V448h128V320h-51.205zM396.8 115.205V192H448V64H320v51.205zM115.205 115.2H192V64H64v128h51.205zM115.2 396.795V320H64v128h128v-51.205z"},child:[]}]})(tr)}function LightboxModal({isOpen:tr,onClose:Hn,imageSrc:er,newsSelect:nr,comments:ir=[],lat:rr,long:sr}){const[ar,or]=reactExports.useState(ir),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(!1),fr=reactExports.useRef(null),[gr,yr]=reactExports.useState(nr?.isTranslatedFromCard||!1),[vr,jr]=reactExports.useState(nr?.translatedTextFromCard||""),[Sr,Tr]=reactExports.useState(!1);if(reactExports.useEffect(()=>{or(ir)},[ir]),reactExports.useEffect(()=>{yr(nr?.isTranslatedFromCard||!1),jr(nr?.translatedTextFromCard||"")},[nr]),reactExports.useEffect(()=>{fr.current?.scrollIntoView({behavior:"smooth"})},[ar]),!tr)return null;const Lr=async()=>{if(gr){yr(!1);return}if(vr){yr(!0);return}Tr(!0);try{const Or=nr?.content_text||nr?.content_text_vi||"",Fr=document.createElement("div");Fr.innerHTML=Or;const Gr=Fr.innerText||Fr.textContent||"";if(!Gr.trim())return;const Hr=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Gr)}`)).json();if(Hr&&Hr[0]){const Yr=Hr[0].map(ro=>ro[0]).join("");jr(Yr),yr(!0)}}catch(Or){console.error("Li dch Lightbox:",Or)}finally{Tr(!1)}},Mr=async()=>{if(nr?.post_db_id)try{const Or=`https://api_gold.thinkdiff.us/view_detail_comment_post/${nr.post_db_id}`,Gr=await(await fetch(Or)).json();Gr?.data&&or(Gr.data)}catch(Or){console.warn("Error fetching comments:",Or)}},Nr=async()=>{if(!lr.trim())return;const Or=rr!=null&&sr!=null?{lat:rr,long:sr}:{lat:0,long:0},Fr=new FormData;Fr.append("maps",JSON.stringify(Or)),Fr.append("content",lr),Fr.append("idPost",nr?.post_db_id);try{dr(!0),(await(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:Fr})).json())?.status==="success"&&(cr(""),await Mr())}catch(Gr){console.error("API Error:",Gr)}finally{dr(!1)}};return jsxRuntimeExports.jsxs("div",{className:"lightbox-overlay",onClick:Hn,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[jsxRuntimeExports.jsxs("div",{className:"lightbox-content",onClick:Or=>Or.stopPropagation(),style:{display:"flex",width:"95%",height:"90%",background:"#111",borderRadius:"12px",overflow:"hidden"},children:[jsxRuntimeExports.jsx("div",{style:{flex:2,display:"flex",justifyContent:"center",alignItems:"center",background:"#000",borderRight:"1px solid #222"},children:jsxRuntimeExports.jsx("img",{src:er,alt:"Post",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),jsxRuntimeExports.jsxs("div",{style:{flex:1,minWidth:"350px",display:"flex",flexDirection:"column",background:"#111"},children:[jsxRuntimeExports.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px"},children:nr?.name_group}),jsxRuntimeExports.jsx("small",{style:{color:"#888"},children:nr?.PostTime})]}),jsxRuntimeExports.jsxs("button",{onClick:Lr,disabled:Sr,style:{padding:"5px 10px",borderRadius:"15px",border:"1px solid #1877f2",background:gr?"#1877f2":"transparent",color:gr?"#fff":"#1877f2",fontSize:"12px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[jsxRuntimeExports.jsx(LuLanguages,{size:14})," ",Sr?"...":gr?"Gc":"Dch VN"]})]}),jsxRuntimeExports.jsxs("div",{style:{flexGrow:1,overflowY:"auto",padding:"16px"},children:[jsxRuntimeExports.jsx("div",{style:{color:"#eee",fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:gr?vr:nr?.content_text_vi||nr?.content_text||""}}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"24px"},children:[jsxRuntimeExports.jsx("strong",{style:{color:"#fff",display:"block",marginBottom:"12px",borderTop:"1px solid #222",paddingTop:"12px"},children:"Bnh lun"}),ar.map((Or,Fr)=>jsxRuntimeExports.jsxs("div",{style:{marginBottom:"12px",display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#333",flexShrink:0}}),jsxRuntimeExports.jsxs("div",{style:{background:"#222",padding:"8px 12px",borderRadius:"12px",flexGrow:1},children:[jsxRuntimeExports.jsxs("p",{style:{margin:0,fontSize:"13px",fontWeight:"bold",color:"#aaa"},children:["Ngi dng ",Fr+1]}),jsxRuntimeExports.jsx("p",{style:{margin:"4px 0 0",fontSize:"14px",color:"#fff"},children:Or.contentVI||Or.content})]})]},Or.id||Fr)),jsxRuntimeExports.jsx("div",{ref:fr})]})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"16px",borderTop:"1px solid #222",display:"flex",gap:"10px",alignItems:"center"},children:[jsxRuntimeExports.jsx("textarea",{value:lr,onChange:Or=>cr(Or.target.value),placeholder:"Vit bnh lun...",style:{flexGrow:1,padding:"10px 15px",borderRadius:"20px",border:"1px solid #333",background:"#1a1a1a",color:"#fff",outline:"none",resize:"none",height:"40px",fontSize:"14px"}}),jsxRuntimeExports.jsx("button",{onClick:Nr,disabled:!lr.trim()||ur,style:{background:"transparent",color:lr.trim()?"#0a84ff":"#555",border:"none",cursor:"pointer",fontSize:"20px",display:"flex"},children:ur?"...":jsxRuntimeExports.jsx(IoSend,{})})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:Hn,style:{position:"absolute",top:"20px",right:"20px",background:"rgba(0,0,0,0.5)",color:"#fff",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsx(IoMdClose,{size:24})})]})}function ModalNews({setIsShowModal:tr,newsSelect:Hn,translateState:er,setTranslateState:nr}){const ir="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg",[rr,sr]=reactExports.useState(!1),[ar,or]=reactExports.useState(""),[lr,cr]=reactExports.useState(!1),[ur,dr]=reactExports.useState([]),[fr,gr]=reactExports.useState(!1),[yr,vr]=reactExports.useState({}),[jr,Sr]=reactExports.useState({}),[Tr,Lr]=reactExports.useState(!1),{isTranslated:Mr,translatedText:Nr}=er,[Or,Fr]=reactExports.useState(""),[Gr,qr]=reactExports.useState(!1),[Hr,Yr]=reactExports.useState(!1),ro=reactExports.useRef(null),io=useNavigate();useLocation();const[fo]=useSearchParams(),ao=async(Co,Go)=>{if(yr[Co]){vr(el=>({...el,[Co]:el[Co].isTranslated?{...el[Co],isTranslated:!1}:{...el[Co],isTranslated:!0}}));return}Sr(el=>({...el,[Co]:!0}));try{const el=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Go)}`);if(!el.ok)throw new Error("Gii hn API hoc li kt ni");const Lo=await el.json();if(Lo&&Lo[0]){const Uo=Lo[0].map($o=>$o[0]).join("");Fr(Uo),vr($o=>({...$o,[Co]:{originalText:Go,translatedText:Uo,isTranslated:!0}}))}}catch(el){console.error("Li dch bnh lun:",el)}finally{Sr(el=>({...el,[Co]:!1}))}},Jr=async()=>{if(Nr){nr({isTranslated:!0,translatedText:Nr}),Fr(Nr);return}gr(!0);try{const Co=Hn?.content||Hn?.content_text_vi||"",Go=document.createElement("div");Go.innerHTML=Co;const el=Go.innerText||Go.textContent||"";if(!el.trim())return;const $o=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(el)}`)).json())[0].map(il=>il[0]).join("");nr({isTranslated:!0,translatedText:$o}),Fr($o)}catch(Co){console.error("Li t ng dch:",Co)}finally{gr(!1)}};reactExports.useEffect(()=>{Hn?.post_db_id&&(uo(),Mr||Jr())},[Hn?.post_db_id]);const uo=async()=>{if(Hn?.post_db_id)try{const Go=await(await fetch(`https://api_gold.thinkdiff.us/view_detail_comment_post/${Hn.post_db_id}`)).json();Go?.data&&dr(Go.data)}catch{Hn?.list_comment&&dr(Hn.list_comment)}};function oo(){const[Co,Go]=reactExports.useState({lat:null,long:null});return reactExports.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(el=>{Go({lat:el.coords.latitude,long:el.coords.longitude})},el=>{console.error("Li ly v tr:",el),Go({lat:null,long:null})}):console.error("Trnh duyt khng h tr geolocation")},[]),Co}const{lat:co,long:no}=oo(),mo=async()=>{if(!ar.trim()||lr)return;const Co={lat:co||0,long:no||0},Go=new FormData;Go.append("content",ar),Go.append("idPost",Hn?.post_db_id),Go.append("browser_info","Chrome Web"),Go.append("maps",JSON.stringify(Co));try{cr(!0),(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:Go})).ok&&(or(""),setTimeout(uo,1e3))}catch(el){console.error(el)}finally{cr(!1)}},Eo=()=>{tr(!1);const Co=fo.get("page")||1;io(`?page=${Co}`,{replace:!0}),Fo()},bo=async()=>{const Co=fo.get("page")||1,el=`${window.location.href.split("?")[0]}?page=${Co}&idPost=${Hn.post_db_id}`,Lo=Hn?.name_group||"Tin tc",Uo=Mr?Nr:Hn?.content||Hn?.content_text_vi||"";if(navigator.share)try{await navigator.share({title:Lo,text:Uo,url:el})}catch($o){console.error("Li chia s:",$o)}else navigator.clipboard.writeText(el).then(()=>{alert(" sao chp lin kt!")}).catch($o=>{console.error("Li sao chp:",$o)})},Po=Array.isArray(ur)?ur.filter((Co,Go,el)=>el.findIndex(Lo=>Lo.id===Co.id)===Go):[],wo=async Co=>{if(!Co||Co.length===0)return;const Go={};Co.forEach((Lo,Uo)=>{const $o=Lo.id||Uo;yr[$o]||(Go[$o]=!0)}),Sr(Lo=>({...Lo,...Go}));const el={};await Promise.all(Co.map(async(Lo,Uo)=>{const $o=Lo.id||Uo;if(yr[$o])return;const il=Lo.contentVI||Lo.content||"";if(il.trim())try{const pl=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(il)}`);if(!pl.ok)return;const ml=await pl.json();if(ml&&ml[0]){const Wl=ml[0].map(Xl=>Xl[0]).join("");el[$o]={originalText:il,translatedText:Wl,isTranslated:!0}}}catch(pl){console.error(`Li dch comment ${$o}:`,pl)}})),vr(Lo=>({...Lo,...el})),Sr(Lo=>{const Uo={...Lo};return Object.keys(Go).forEach($o=>Uo[$o]=!1),Uo})};reactExports.useEffect(()=>{if(ur&&ur.length>0){const Co=ur.filter((Go,el,Lo)=>Lo.findIndex(Uo=>Uo.id===Go.id)===el);wo(Co)}},[ur]),reactExports.useEffect(()=>{const Co=Mr?Nr:Hn?.content||Hn?.content_text_vi||"";if(Co){const Go=document.createElement("div");Go.innerHTML=Co;const el=Go.innerText||Go.textContent||"";Fr(el)}},[Mr,Nr,Hn]);const To=()=>{const Co=window.speechSynthesis;if(Hr){Co.resume(),Yr(!1),qr(!0);return}if(Gr&&!Hr){Co.pause(),Yr(!0);return}if(!Or)return;Co.cancel();const Go=new SpeechSynthesisUtterance(Or);Go.lang="vi-VN",Go.rate=1.1,Go.onstart=()=>{qr(!0),Yr(!1)},Go.onend=()=>{qr(!1),Yr(!1)},Go.onerror=()=>{qr(!1),Yr(!1)},ro.current=Go,Co.speak(Go)},Fo=()=>{window.speechSynthesis.cancel(),qr(!1),Yr(!1)};return jsxRuntimeExports.jsxs("div",{className:"overlay-modal-news",onClick:Co=>Co.target===Co.currentTarget&&Eo(),children:[jsxRuntimeExports.jsxs("div",{className:`modal ${rr?"modal-zoom":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h3",{style:{flex:1,textAlign:"center",marginLeft:"24px"},children:"Bi vit chi tit"}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[Or&&jsxRuntimeExports.jsx("div",{style:{display:"flex",alignItems:"center",gap:"15px",width:"100%",padding:"10px"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[jsxRuntimeExports.jsx("button",{onClick:To,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:Gr&&!Hr?"#f0ad4e":"#0275d8",color:"white",border:"none",borderRadius:"4px",whiteSpace:"nowrap",fontSize:"14px"},children:Hr?"":Gr?"":""}),jsxRuntimeExports.jsx("button",{onClick:Fo,disabled:!Gr&&!Hr,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:"#d9534f",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",opacity:!Gr&&!Hr?.5:1,whiteSpace:"nowrap"},children:"Stop"})]})}),jsxRuntimeExports.jsx("button",{className:"modal-icon-btn",onClick:()=>sr(Co=>!Co),title:rr?"Thu nh":"Phng to",children:jsxRuntimeExports.jsx(IoMdExpand,{})}),jsxRuntimeExports.jsx("button",{className:"modal-icon-btn",onClick:Eo,title:"ng",children:jsxRuntimeExports.jsx(IoMdClose,{})})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-content-news",children:[jsxRuntimeExports.jsxs("div",{className:"post-card",children:[jsxRuntimeExports.jsxs("div",{className:"post-header",style:{display:"flex",alignItems:"center",gap:"10px"},children:[jsxRuntimeExports.jsx("img",{src:Hn?.avatar_group||ir,className:"user-avatar",style:{borderRadius:"50%"},alt:"avt"}),jsxRuntimeExports.jsxs("div",{className:"user-info",style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("h3",{onClick:()=>window.open(Hn?.link_group),style:{cursor:"pointer",margin:0},children:Hn?.name_group}),jsxRuntimeExports.jsxs("span",{className:"post-date",style:{display:"flex",alignItems:"center",gap:"4px"},children:[jsxRuntimeExports.jsx(LuClock,{})," ",Hn?.PostTime]})]}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"auto"},children:jsxRuntimeExports.jsxs("button",{onClick:Jr,disabled:fr,className:`translate-btn ${Mr?"active":""}`,style:{display:"flex",alignItems:"center",gap:"6px"},children:[jsxRuntimeExports.jsx(LuLanguages,{size:14}),fr?"...":Mr?"Xem gc":"Dch VN"]})})]}),jsxRuntimeExports.jsx("div",{className:"post-content",style:{marginTop:"15px"},children:jsxRuntimeExports.jsx("div",{style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:Mr?Nr:Hn?.content||Hn?.content_text_vi||""}})}),Hn?.images?.length>0&&jsxRuntimeExports.jsx("img",{src:Hn.images[0],style:{width:"100%",borderRadius:"8px",marginTop:"12px",cursor:"pointer"},onClick:()=>Lr(!0),alt:"post"}),jsxRuntimeExports.jsxs("div",{className:"post-footer",children:[jsxRuntimeExports.jsxs("div",{className:"post-stats",children:[jsxRuntimeExports.jsx(FaEye,{})," ",Hn?.so_lan_view||0]}),jsxRuntimeExports.jsxs("div",{className:"post-actions",children:[jsxRuntimeExports.jsxs("button",{className:"action-btn",children:[jsxRuntimeExports.jsx(FaRegComment$1,{})," ",Po.length," Bnh lun"]}),jsxRuntimeExports.jsxs("button",{className:"action-btn",onClick:bo,children:[jsxRuntimeExports.jsx(FaShare,{})," Chia s"]})]})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",padding:"16px",alignItems:"center"},children:[jsxRuntimeExports.jsx("img",{src:ir,className:"user-avatar",style:{marginRight:"10px"},alt:"me"}),jsxRuntimeExports.jsxs("div",{style:{flexGrow:1,background:"#111",border:"1px solid #333",borderRadius:"20px",display:"flex",alignItems:"center",padding:"0 15px"},children:[jsxRuntimeExports.jsx("textarea",{placeholder:"Vit bnh lun...",style:{flexGrow:1,height:"40px",padding:"10px 0",color:"#eee",resize:"none",fontSize:"14px",outline:"none",background:"transparent",border:"none"},value:ar,onChange:Co=>or(Co.target.value)}),lr?jsxRuntimeExports.jsx("div",{className:"comment-loading-spinner"}):jsxRuntimeExports.jsx(IoSend,{onClick:mo,style:{cursor:"pointer",color:ar.trim()?"#0084ff":"#555"}})]})]}),jsxRuntimeExports.jsx("div",{style:{padding:"0 16px 16px"},children:Po.map((Co,Go)=>{const el=Co.id||Go,Lo=Co.contentVI||Co.content||"",Uo=yr[el],$o=jr[el];return jsxRuntimeExports.jsxs("div",{style:{marginTop:"15px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsx("img",{src:ir,className:"user-avatar",style:{width:"30px",height:"30px",marginRight:"10px",borderRadius:"50%"},alt:"u"}),jsxRuntimeExports.jsxs("div",{style:{background:"#333",borderRadius:"12px",padding:"8px 12px",flex:1},children:[jsxRuntimeExports.jsxs("h5",{style:{margin:0,fontSize:"12px",color:"#aaa"},children:["Ngi dng ",Go+1]}),jsxRuntimeExports.jsx("div",{style:{fontSize:"14px",color:"#fff"},children:Uo?.isTranslated?Uo.translatedText:Lo})]})]}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"40px",marginTop:"5px"},children:jsxRuntimeExports.jsx("button",{onClick:()=>ao(el,Lo),disabled:$o,style:{background:"none",border:"none",color:"#65676b",fontSize:"12px",cursor:$o?"not-allowed":"pointer",padding:"2px 0",fontWeight:"500"},children:$o?"ang dch...":Uo?.isTranslated?"Xem bn gc":"Dch on ny"})})]},Go)})})]})]}),jsxRuntimeExports.jsx(LightboxModal,{isOpen:Tr,onClose:()=>Lr(!1),imageSrc:Hn?.images?.[0],newsSelect:Hn,comments:Po})]})}function LastestNews(){const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(null),[cr,ur]=reactExports.useState(1),[dr,fr]=reactExports.useState(1),[gr,yr]=reactExports.useState(!1),[vr,jr]=reactExports.useState({}),[Sr]=useSearchParams(),Tr=useNavigate(),Lr=Sr.get("idPost"),Mr=Sr.get("page"),Nr=async()=>{await navigator.geolocation.getCurrentPosition(async Hr=>{const Yr=Hr.coords.latitude,ro=Hr.coords.longitude;rr(Yr),ar(ro)},Hr=>{console.error("Geolocation Error:",Hr),alert("Khng ly c v tr ngi dng")})},Or=async(Hr=1)=>{yr(!0);try{const Yr=`https://api_gold.thinkdiff.us/tintuc_moi_nhat${Hr>1?`?page=${Hr}`:""}`;console.log("Fetching page:",Hr,"URL:",Yr);const io=await(await fetch(Yr)).json();if(console.log("Response status:",io.status,"Items count:",io?.data?.items?.length),io.status==="success"){const fo=io?.data?.items;if(!fo||fo.length===0)if(console.log("Empty page detected for page:",Hr),Hr>1){fr(Hr-1),ur(Hr-1);return}else nr([]),fr(1),ur(1);else console.log("Setting news with",fo.length,"items for page",Hr),nr(fo),ur(Hr),io?.data?.total_pages?fr(io.data.total_pages):io?.data?.totalPages?fr(io.data.totalPages):fr(10)}}catch(Yr){console.error("Fetch news error:",Yr)}finally{yr(!1)}};reactExports.useEffect(()=>{(async()=>{await Nr();const Yr=Mr?parseInt(Mr):1;await Or(Yr)})(),(async()=>await logUserInfo("Mn hnh ExchangeRatePage.jsx"))()},[Mr]),reactExports.useEffect(()=>{window.scrollTo(0,0)},[cr]),reactExports.useEffect(()=>{cr>dr&&dr>0&&(console.log("Current page",cr,"exceeds totalPages",dr,"- redirecting to",dr),Tr(`?page=${dr}`,{replace:!0}))},[cr,dr,Tr]);const Fr=()=>{const Hr=Math.max(1,cr-1);Hr!==cr&&Tr(`?page=${Hr}`)},Gr=()=>{const Hr=Math.min(dr,cr+1);Hr!==cr&&Tr(`?page=${Hr}`)};reactExports.useEffect(()=>{if(!Lr||!er)return;const Hr=er.find(Yr=>String(Yr.post_db_id)===String(Lr));Hr&&(lr(Hr),Hn(!0))},[Lr,er]);const qr=er&&er.length>0&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",marginTop:"30px",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{onClick:Fr,disabled:cr===1,style:{padding:"10px 15px",backgroundColor:cr===1?"#ccc":"#d4af37",color:cr===1?"#999":"#000",border:"none",borderRadius:"4px",cursor:cr===1?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:" Trang trc"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:jsxRuntimeExports.jsxs("span",{style:{color:"#666",fontWeight:"bold"},children:["Trang ",cr," / ",dr]})}),jsxRuntimeExports.jsx("button",{onClick:Gr,disabled:cr>=dr,style:{padding:"10px 15px",backgroundColor:cr>=dr?"#ccc":"#d4af37",color:cr>=dr?"#999":"#000",border:"none",borderRadius:"4px",cursor:cr>=dr?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:"Trang sau "})]});return jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx("div",{className:"containt-lastestnews",children:jsxRuntimeExports.jsxs("div",{children:[qr,(er===null||gr)&&jsxRuntimeExports.jsxs("div",{className:"loading-container",style:{maxWidth:"1000px",margin:"auto",marginTop:"20px"},children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti ..."})]}),jsxRuntimeExports.jsx("div",{className:"news-grid",children:er&&er.length>0&&er.map((Hr,Yr)=>jsxRuntimeExports.jsx(CardNews,{data:Hr,setIsShowModal:Hn,currentPage:cr,translateState:vr[Hr.post_db_id]||{isTranslated:!1,translatedText:""},setTranslateState:ro=>jr(io=>({...io,[Hr.post_db_id]:ro}))},`card-news-${Hr?.user_id}-${Yr}`))}),er&&er.length===0&&jsxRuntimeExports.jsx("p",{style:{color:"#ccc",textAlign:"center",marginTop:"20px"},children:"Khng c bi vit no!"}),qr]})}),tr&&jsxRuntimeExports.jsx(ModalNews,{setIsShowModal:Hn,newsSelect:or,translateState:vr[or?.post_db_id]||{isTranslated:!1,translatedText:""},setTranslateState:Hr=>jr(Yr=>({...Yr,[or.post_db_id]:Hr})),lat:ir,long:sr,fetchNews:Or})]})}const IGSentimentPage=()=>jsxRuntimeExports.jsxs("div",{className:"ig-page",children:[jsxRuntimeExports.jsxs("header",{className:"ig-page-header",children:[jsxRuntimeExports.jsx("h1",{children:"IG Sentiment  Full View"}),jsxRuntimeExports.jsx("p",{children:"Xem chi tit sentiment v biu  IG (Silver)."})]}),jsxRuntimeExports.jsx("section",{className:"ig-page-content",children:jsxRuntimeExports.jsx("div",{className:"ig-overview",children:jsxRuntimeExports.jsx(IGSentiment,{})})})]}),SharkGlobalChart=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState([]),ir=useNavigate();return reactExports.useEffect(()=>{(async()=>await fetchSharkData("ALL").then(rr=>{Hn(rr)}))(),(async()=>await fetchSharkData("DAY").then(rr=>{nr(rr)}))(),(async()=>await logUserInfo("Mn hnh SharkGlobalChart.jsx"))()},[]),jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>ir("/"),children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"rgba(0,0,0,1)",padding:20,borderRadius:8,width:"95%",height:"90%",position:"relative",overflow:"auto"},onClick:rr=>rr.stopPropagation(),children:[jsxRuntimeExports.jsx("h2",{style:{cursor:"pointer",fontWeight:"bold",color:"#ffd700",textAlign:"center",marginBottom:10,marginTop:30},children:"Thng K Lng Mua Bn Ca 9 ETF C Mp Vng - Bc"}),jsxRuntimeExports.jsx("button",{onClick:()=>ir("/"),style:{position:"absolute",top:10,right:10,padding:"4px 10px",borderRadius:4,background:"#ff3b30",color:"#fff",border:"none",cursor:"pointer"},children:"Close"}),jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"80%",display:"flex"},children:[jsxRuntimeExports.jsx(GlobalShark1Day,{data:er,zoomable:!0}),jsxRuntimeExports.jsx(DataEUR,{}),jsxRuntimeExports.jsx(GlobalShark,{data:tr,zoomable:!0,time:"1Y"})]})]})})},DetailSharkGlobal=()=>{const tr=useNavigate();return reactExports.useEffect(()=>{(async()=>await logUserInfo("Mn hnh DetailSharkGlobal.jsx"))()},[]),jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>tr("/"),children:jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"rgba(0,0,0,0.95)",padding:30,borderRadius:12,width:"95%",height:"90%",position:"relative",overflowY:"auto",boxShadow:"0 0 20px rgba(255, 215, 0, 0.5)"},onClick:Hn=>Hn.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{onClick:()=>tr("/"),style:{position:"absolute",top:20,right:20,padding:"6px 12px",borderRadius:6,background:"#ff3b30",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Close"}),jsxRuntimeExports.jsx("h2",{style:{color:"#ffd700",marginBottom:20,textAlign:"center",fontSize:28},children:"Global X Silver Miners UCITS ETF"}),jsxRuntimeExports.jsxs("div",{style:{color:"#f5f5f5",fontSize:18,lineHeight:1.8},children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Gii thiu:"})," Global X Silver Miners UCITS ETF l mt qu ETF cung cp cho nh u t quyn tip cn cc cng ty khai thc bc trn ton cu. Qu ny giao dch nh c phiu v cho php u t a dng thay v mua tng c phiu ring l."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"ETF l g:"})," ETF (Qu Giao dch hon i danh mc) l qu nm gi mt r ti sn nh c phiu, tri phiu, hng ha v c giao dch trn sn chng khon nh c phiu."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Mc tiu:"})," Tp trung vo cc cng ty c hot ng chnh trong ngnh khai thc bc."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Li ch:"})," u t vo ETF ny gip a dng ha danh mc v gim ri ro so vi u t vo tng cng ty ring l."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Cch giao dch:"})," Mua v bn chng ch qu trn sn chng khon trong thi gian giao dch, ging nh c phiu."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Thng s biu :"})," Theo di ch s Solactive Global Silver Miners, m phng hiu sut ton b cc thnh phn, c tc tch ly v ti u t. T l chi ph tng th (TER): 0,65%/nm."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Qu hin ti:"})," 882 triu Euro ti sn c qun l, ra mt 04/05/2022 ti Ireland."]})]})]})})},parseIpLocation$1=tr=>{try{if(!tr||typeof tr!="string")return{isp:"Unknown",country_name:"Unknown",region_name:"Unknown"};let Hn=tr.replace(/'/g,'"').replace(/None/g,"null");const er=JSON.parse(Hn);return{isp:er.isp||"Unknown",country_name:er.country_name||"Unknown",region_name:er.region_name||"Unknown"}}catch(Hn){return console.error("Error parsing IP location:",Hn),{isp:"Unknown",country_name:"Unknown",region_name:"Unknown"}}},detectiPhoneModel$1=(tr,Hn)=>{const[er,nr]=[Math.min(tr,Hn),Math.max(tr,Hn)],ir=[{name:"iPhone 17",width:393,height:852},{name:"iPhone Air",width:414,height:896},{name:"iPhone 17 Pro",width:393,height:852},{name:"iPhone 17 Pro Max",width:430,height:932},{name:"iPhone 16 Pro Max",width:430,height:932},{name:"iPhone 16 Pro",width:393,height:852},{name:"iPhone 16 Plus",width:414,height:896},{name:"iPhone 16",width:393,height:852},{name:"iPhone 15 Pro Max",width:430,height:932},{name:"iPhone 15 Pro",width:393,height:852},{name:"iPhone 15 Plus",width:414,height:896},{name:"iPhone 15",width:393,height:852},{name:"iPhone 14 Pro Max",width:430,height:932},{name:"iPhone 14 Pro",width:393,height:852},{name:"iPhone 14 Plus",width:414,height:896},{name:"iPhone 14",width:390,height:844},{name:"iPhone SE 3",width:375,height:667},{name:"iPhone 13 Pro Max",width:428,height:926},{name:"iPhone 13 Pro",width:390,height:844},{name:"iPhone 13",width:390,height:844},{name:"iPhone 13 Mini",width:375,height:812},{name:"iPhone 12 Pro Max",width:428,height:926},{name:"iPhone 12 Pro",width:390,height:844},{name:"iPhone 12",width:390,height:844},{name:"iPhone 12 Mini",width:375,height:812},{name:"iPhone SE 2",width:375,height:667},{name:"iPhone 11 Pro Max",width:414,height:896},{name:"iPhone 11 Pro",width:375,height:812},{name:"iPhone 11",width:414,height:896},{name:"iPhone Xs Max",width:414,height:896},{name:"iPhone Xs",width:375,height:812},{name:"iPhone Xr",width:414,height:896},{name:"iPhone X",width:375,height:812},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone 8",width:375,height:667},{name:"iPhone 7 Plus",width:414,height:736},{name:"iPhone 7",width:375,height:667},{name:"iPhone SE 1",width:320,height:568},{name:"iPhone 6s Plus",width:414,height:736},{name:"iPhone 6s",width:375,height:667},{name:"iPhone 6 Plus",width:414,height:736},{name:"iPhone 6",width:375,height:667},{name:"iPhone 5c",width:320,height:568},{name:"iPhone 5s",width:320,height:568},{name:"iPhone 5",width:320,height:568},{name:"iPhone 4s",width:320,height:480},{name:"iPhone 4",width:320,height:480},{name:"iPhone 3Gs",width:320,height:480},{name:"iPhone 3G",width:320,height:480},{name:"iPhone 2G",width:320,height:480}],rr=Math.round(er),sr=Math.round(nr);for(const ar of ir){const or=Math.min(ar.width,ar.height),lr=Math.max(ar.width,ar.height);if(Math.abs(rr-or)<=5&&Math.abs(sr-lr)<=5)return ar.name}return"iPhone (Unknown Model)"},getDetailedDeviceInfo=tr=>{const Hn=tr.toLowerCase();let er=" Desktop";Hn.includes("iphone")?er=" iPhone":Hn.includes("ipad")?er=" iPad":Hn.includes("android")&&Hn.includes("mobile")?er=" Android Phone":Hn.includes("android")&&(er=" Android Tablet");let nr="";if(Hn.includes("iphone")||Hn.includes("ipad")){const rr=Hn.match(/os (\d+)_(\d+)_?(\d*)/);nr=rr?`iOS ${rr[1]}.${rr[2]}${rr[3]?"."+rr[3]:""}`:"iOS"}else if(Hn.includes("android")){const rr=Hn.match(/android (\d+\.?\d*\.?\d*)/);nr=rr?`Android ${rr[1]}`:"Android"}else if(Hn.includes("windows"))nr="Windows";else if(Hn.includes("mac os x")){const rr=Hn.match(/mac os x (\d+)_(\d+)_?(\d*)/);nr=rr?`macOS ${rr[1]}.${rr[2]}${rr[3]?"."+rr[3]:""}`:"macOS"}let ir="Unknown";return Hn.includes("gsa/")?ir="Google App":Hn.includes("crios")?ir="Chrome iOS":Hn.includes("fxios")?ir="Firefox iOS":Hn.includes("edg")?ir="Edge":Hn.includes("chrome")?ir="Chrome":Hn.includes("safari")&&Hn.includes("version")?ir="Safari":Hn.includes("firefox")&&(ir="Firefox"),{deviceType:er,osVersion:nr,browser:ir}};function AccessModal({data:tr,setIsShowModal:Hn}){return jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:er=>{er.target===er.currentTarget&&Hn(!1)},children:jsxRuntimeExports.jsxs("div",{className:"modal-box",children:[jsxRuntimeExports.jsx("div",{className:"modal-close",onClick:()=>Hn(!1),children:""}),tr.map(er=>{const nr=getDetailedDeviceInfo(er?.user_agent||""),ir=parseInt(er?.width)||0,rr=parseInt(er?.height)||0;let sr="Unknown";/iPhone/i.test(er?.user_agent)&&ir&&rr&&(sr=detectiPhoneModel$1(ir,rr));const ar=parseIpLocation$1(er?.diachi_iplocation||"");return jsxRuntimeExports.jsxs("div",{className:"log-item",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"IP:"})," ",er?.ip_location]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Thit b:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#3b82f6"},children:nr.deviceType})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"H iu hnh:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#10b981"},children:nr.osVersion})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Trnh duyt:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#f59e0b"},children:nr.browser})]}),sr!=="Unknown"&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Model iPhone:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#f59e0b"},children:sr})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"ISP:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#8b5cf6"},children:ar.isp})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Tn quc gia:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#8b5cf6"},children:ar.country_name})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Tn vng:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#8b5cf6"},children:ar.region_name})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Kch thc mn hnh:"})," ",er?.width,"x",er?.height]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"a ch:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#06EF06"},children:er?.diachi_chi_tiet})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Mn hnh:"})," ",er?.widget_activate]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Thi gian:"})," ",new Date(er.time_access).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Tc nhn:"})," ",er?.user_agent]}),jsxRuntimeExports.jsx("a",{href:er.linkmap,target:"_blank",className:"map-link",children:"Xem trn Google Maps"})]},er?.id)})]})})}const getDeviceInfo$1=tr=>{const Hn=tr.toLowerCase();let er=" Desktop";Hn.includes("iphone")||Hn.includes("android")&&Hn.includes("mobile")?er=" Mobile":(Hn.includes("ipad")||Hn.includes("tablet"))&&(er=" Tablet");let nr="Unknown";if(Hn.includes("iphone")||Hn.includes("ipad")){const ir=Hn.match(/os (\d+)_(\d+)/);nr=ir?`iOS ${ir[1]}.${ir[2]}`:"iOS"}else if(Hn.includes("android")){const ir=Hn.match(/android (\d+\.?\d*)/);nr=ir?`Android ${ir[1]}`:"Android"}else Hn.includes("windows")?nr="Windows":Hn.includes("mac os x")?nr="macOS":Hn.includes("linux")&&(nr="Linux");return`${er} - ${nr}`},parseIpLocation=tr=>{try{if(!tr||typeof tr!="string")return{isp:"Unknown",country_name:"Unknown",region_name:"Unknown"};let Hn=tr.replace(/'/g,'"').replace(/None/g,"null");const er=JSON.parse(Hn);return{isp:er.isp||"Unknown",country_name:er.country_name||"Unknown",region_name:er.region_name||"Unknown"}}catch(Hn){return console.error("Error parsing IP location:",Hn),{isp:"Unknown",country_name:"Unknown",region_name:"Unknown"}}},detectiPhoneModel=(tr,Hn)=>{const[er,nr]=[Math.min(tr,Hn),Math.max(tr,Hn)],ir=[{name:"iPhone 17",width:393,height:852},{name:"iPhone Air",width:414,height:896},{name:"iPhone 17 Pro",width:393,height:852},{name:"iPhone 17 Pro Max",width:430,height:932},{name:"iPhone 16 Pro Max",width:430,height:932},{name:"iPhone 16 Pro",width:393,height:852},{name:"iPhone 16 Plus",width:414,height:896},{name:"iPhone 16",width:393,height:852},{name:"iPhone 15 Pro Max",width:430,height:932},{name:"iPhone 15 Pro",width:393,height:852},{name:"iPhone 15 Plus",width:414,height:896},{name:"iPhone 15",width:393,height:852},{name:"iPhone 14 Pro Max",width:430,height:932},{name:"iPhone 14 Pro",width:393,height:852},{name:"iPhone 14 Plus",width:414,height:896},{name:"iPhone 14",width:390,height:844},{name:"iPhone SE 3",width:375,height:667},{name:"iPhone 13 Pro Max",width:428,height:926},{name:"iPhone 13 Pro",width:390,height:844},{name:"iPhone 13",width:390,height:844},{name:"iPhone 13 Mini",width:375,height:812},{name:"iPhone 12 Pro Max",width:428,height:926},{name:"iPhone 12 Pro",width:390,height:844},{name:"iPhone 12",width:390,height:844},{name:"iPhone 12 Mini",width:375,height:812},{name:"iPhone SE 2",width:375,height:667},{name:"iPhone 11 Pro Max",width:414,height:896},{name:"iPhone 11 Pro",width:375,height:812},{name:"iPhone 11",width:414,height:896},{name:"iPhone Xs Max",width:414,height:896},{name:"iPhone Xs",width:375,height:812},{name:"iPhone Xr",width:414,height:896},{name:"iPhone X",width:375,height:812},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone 8",width:375,height:667},{name:"iPhone 7 Plus",width:414,height:736},{name:"iPhone 7",width:375,height:667},{name:"iPhone SE 1",width:320,height:568},{name:"iPhone 6s Plus",width:414,height:736},{name:"iPhone 6s",width:375,height:667},{name:"iPhone 6 Plus",width:414,height:736},{name:"iPhone 6",width:375,height:667},{name:"iPhone 5c",width:320,height:568},{name:"iPhone 5s",width:320,height:568},{name:"iPhone 5",width:320,height:568},{name:"iPhone 4s",width:320,height:480},{name:"iPhone 4",width:320,height:480},{name:"iPhone 3Gs",width:320,height:480},{name:"iPhone 3G",width:320,height:480},{name:"iPhone 2G",width:320,height:480}],rr=Math.round(er),sr=Math.round(nr);for(const ar of ir){const or=Math.min(ar.width,ar.height),lr=Math.max(ar.width,ar.height);if(Math.abs(rr-or)<=5&&Math.abs(sr-lr)<=5)return ar.name}return"iPhone (Unknown Model)"};function TypeList({data:tr}){const[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"log-container",children:[tr&&tr.map((rr,sr)=>{const ar=rr?.ten.split("___")[0],or=rr?.danhsach[0]?.user_agent||"",lr=parseInt(rr?.danhsach[0]?.width)||0,cr=parseInt(rr?.danhsach[0]?.height)||0;let ur="Unknown";/iPhone/i.test(or)&&lr&&cr&&(ur=detectiPhoneModel(lr,cr));const dr=parseIpLocation(rr?.danhsach[0]?.diachi_iplocation||"");return jsxRuntimeExports.jsxs("div",{className:"log-box",onClick:()=>{er(!0),ir(rr?.danhsach)},children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"IP:"})," ",ar]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"a ch:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#06EF06"},children:rr?.diachi})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"ISP:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#8b5cf6"},children:dr.isp})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Tn quc gia:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#8b5cf6"},children:dr.country_name})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Tn vng:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#8b5cf6"},children:dr.region_name})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Thit b:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#3b82f6"},children:getDeviceInfo$1(or)})]}),ur!=="Unknown"&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Model iPhone:"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#f59e0b"},children:ur})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Ln gn nht:"})," ",new Date(rr?.danhsach[0].time_access).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"S ln truy cp:"})," ",rr?.solan]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Kch thc mn hnh:"})," ",rr?.danhsach[0].width,"x",rr?.danhsach[0].height]})]},`${ar}-${sr}`)}),tr&&tr.length===0&&jsxRuntimeExports.jsx("h3",{style:{marginTop:"30px"},children:"Khng c lt truy cp"})]}),Hn&&jsxRuntimeExports.jsx(AccessModal,{data:nr,setIsShowModal:er})]})}const icon=new L$4.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/684/684908.png",iconSize:[32,32]}),getDeviceInfo=tr=>{const Hn=tr.toLowerCase();let er=" Desktop";Hn.includes("iphone")||Hn.includes("android")&&Hn.includes("mobile")?er=" Mobile":(Hn.includes("ipad")||Hn.includes("tablet"))&&(er=" Tablet");let nr="Unknown";if(Hn.includes("iphone")||Hn.includes("ipad")){const ir=Hn.match(/os (\d+)_(\d+)/);nr=ir?`iOS ${ir[1]}.${ir[2]}`:"iOS"}else if(Hn.includes("android")){const ir=Hn.match(/android (\d+\.?\d*)/);nr=ir?`Android ${ir[1]}`:"Android"}else Hn.includes("windows")?nr="Windows":Hn.includes("mac os x")?nr="macOS":Hn.includes("linux")&&(nr="Linux");return`${er} - ${nr}`};function TypeMap({data:tr}){const Hn=tr.map(er=>er?.danhsach[0]);return jsxRuntimeExports.jsx("div",{style:{padding:"20px"},children:jsxRuntimeExports.jsxs(MapContainer,{center:[21.03,105.85],zoom:11,style:{height:"500px",width:"100%",borderRadius:"12px"},children:[jsxRuntimeExports.jsx(TileLayer,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Hn&&Hn.map(er=>{const nr=JSON.parse(er.maps);return jsxRuntimeExports.jsx(Marker,{position:[nr.lat,nr.long],icon,children:jsxRuntimeExports.jsxs(Popup,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"IP:"})," ",er.ip_location]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Thit b:"})," ",getDeviceInfo(er?.user_agent)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"a ch:"})," ",er?.diachi_chi_tiet]}),jsxRuntimeExports.jsx("a",{href:er.linkmap,target:"_blank",className:"map-link",children:"Xem trn Google Maps"})]})},er.id)})]})})}function UsersAccess(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!1),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState({}),or=useParams(),lr=useNavigate(),cr=new Date().toISOString().slice(0,10),ur=or.date??cr;reactExports.useEffect(()=>{(async()=>{try{const vr=await(await fetch("https://api_gold.thinkdiff.us/all_day_history_access")).json();if(vr.status==="success"){const jr={},Sr=vr.data.map(Lr=>{const Mr=Lr.link.split("/").pop().replace(".json",""),[Nr,Or,Fr]=Mr.split("_"),Gr=`${Fr}-${Or}-${Nr}`;return jr[Gr]=Mr,Gr});ar(jr);const Tr=Sr.sort();rr(Tr),!Sr.includes(ur)&&Sr.length>0&&lr(`/luong-truy-cap/${Tr[Tr.length-1]}`)}}catch(yr){console.error("Error fetching day list:",yr)}})()},[]),reactExports.useEffect(()=>{const gr=async()=>{const yr=sr[ur];if(!yr){Hn([]);return}try{const jr=await(await fetch(`https://api_gold.thinkdiff.us/get_account_access/${yr}`)).json();jr.status==="success"||jr.data?.status==="success"?Hn(jr.data.tonghop??[]):Hn([]),await logUserInfo("User access with date "+ur)}catch(vr){console.error("Error fetching access data:",vr),Hn([])}};ir.length>0&&gr()},[ur,sr,ir]);const dr=gr=>{lr(`/luong-truy-cap/${gr.target.value}`)},fr=sr.hasOwnProperty(ur);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsxs("h3",{style:{textAlign:"center",padding:"20px 0"},children:["S thit b truy cp ngy ",ur," (",tr?.length||0,")"]}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"1rem",right:"6.5rem"},children:jsxRuntimeExports.jsx("input",{type:"date",value:ur,onChange:dr,style:{padding:"8px",borderRadius:"8px",border:"1px solid #ccc",width:"135px"}})}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"1rem",right:"2rem",width:"4rem",height:"2.5rem",backgroundColor:"#3b82f6",borderRadius:"9999px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>nr(!er),children:er?jsxRuntimeExports.jsx(FaThList,{color:"white"}):jsxRuntimeExports.jsx(FaMapMarkedAlt,{color:"white"})})]}),tr===null&&ir.length===0&&jsxRuntimeExports.jsx("p",{style:{textAlign:"center",color:"#666"},children:"ang ti danh sch ngy truy cp..."}),ir.length>0&&!fr&&jsxRuntimeExports.jsxs("p",{style:{textAlign:"center",color:"red",fontWeight:"bold"},children:["Ngy ",ur," khng c d liu truy cp trong h thng. Vui lng chn ngy khc."]}),fr&&tr===null&&jsxRuntimeExports.jsxs("p",{style:{textAlign:"center",color:"#666"},children:["ang ti d liu truy cp chi tit cho ngy ",ur,"..."]}),fr&&tr!==null&&tr.length===0&&jsxRuntimeExports.jsxs("p",{style:{textAlign:"center",color:"orange",fontWeight:"bold"},children:["Khng c lng truy cp no c ghi nhn vo ngy ",ur,"."]}),fr&&tr!==null&&tr.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!er&&jsxRuntimeExports.jsx(TypeList,{data:tr}),er&&jsxRuntimeExports.jsx(TypeMap,{data:tr})]})]})}Chart$1.register(CategoryScale,LinearScale,LineElement,PointElement,plugin_tooltip,plugin_legend,plugin_title,plugin$1);const API_BASE_URL="https://api_gold.thinkdiff.us/",GOLD_API_MAP={kim_khanh_viet_hung_da_nang:"history_KIM_KHANH_VIET_HUNG_DA_NANG",kim_tung_an_giang:"history_KIM_TUNG_AN_GIANG",quoc_bao_bien_hoa_dong_nai:"history_QUOC_BAO_BIEN_HOA_DONGNAI",quoc_bao_lam_bien_hoa:"history_QUOC_BAO_LAM_BIEN_HOA",kim_hung_phat:"history_KIM_HUNG_PHAT",lap_duc_tan_phu_hcm:"history_LAP_DUC_TANPHU_HCM",kim_ngoc_lam_dong:"history_KIMNGOC_LAMDONG",kim_thuy_go_cong_tien_giang:"history_KIMTHUY_GO_CONG_TIEN_GIANG",kim_yen_binh_chanh_hcm:"history_KIM_YEN_BINH_CHANH_HCM",kim_phat_thoi_an_nha_be:"history_KIMPHAT_THOIAN_NHABE",luc_ngoc_thanh_bien_hoa:"history_LUC_NGOC_THANH_BIENHOA",phuoc_thanh_can_duoc_long_an:"history_PHUOCTHANH_CANDUOC_LONGAN",kim_phat_hiep_thanh_quan_12_hcm:"history_KIM_PHAT_HIEPTHANH_QUAN12",kim_phat_nha_be_hcm:"history_KIM_PHAT_NHA_BE_HCM",kim_hanh_thu_duc_hcm:"history_KIMHANH_THUDUC_HCM",quoc_bao_son_bien_hoa:"history_QUOCBAO_SON_BIENHOA",minh_thanh_ben_luc_long_an:"history_MINHTHANH_BENLUC_LONGAN",my_ngoc_long_thanh_long_an:"history_MYNGOC_LONGTHANH_LONGAN",kim_ton_long_khanh_dong_nai:"history_KIMTON_LONGKHANH_DONGNAI",yen_hien_nghia_hung_nam_dinh:"history_YENHIEN_NGHIAHUNG_NAMDINH",xuan_mui_ninh_binh:"history_XUAN_MUI_NINH_BINH",hai_sen_dien_bien:"history_HAISEN_DIENBIEN",thanh_xuan_dong_anh_hn:"history_THANHXUAN_DONGANH_HN",da_phuc_son_tay_hn:"history_DAPHUC_SONTAY_HN",nha_huong_hai_phong:"history_NHAHUONG_HAIPHONG",hjc_quang_ninh:"history_HJC_QUANGNINH",kim_chung_le_hoan_thanh_hoa:"history_KIMCHUNG_LEHOAN_THANHHOA",hoa_tung_quang_ngai:"history_HOATUNG_QUANGNGAI",quy_tung_thai_nguyen:"history_QUY_TUNG_THAINGUYEN",kim_lien_quang_yen_quang_ninh:"history_KIM_LIEN_QUANG_YEN_QUANG_NINH",trung_sinh_thai_nguyen:"history_TRUNGSINH_THAINGUYEN",huong_yen_hai_duong:"history_HUONGYEN_HAIDUONG",kim_khanh_ha_nam:"history_KIMKHANH_HANAM",hai_hong_hai_phong:"history_HAIHONG_HAIPHONG",quang_hanh_hai_phong:"history_QUANGHANH_HAIPHONG",son_ha_bac_ninh:"history_SONHA_BACNINH",lu_huong_dong_hung_thai_binh:"history_LU_HUONG_DONG_HUNG_THAI_BINH",anh_minh_ho_tung_mau_hn:"history_ANHMINH_HOTUNGMAU_HN",huong_chi_bac_giang:"history_HUONGCHI_BACGIANG",nhat_ha_hai_phong:"history_NHAHA_HAIPHONG",phi_doan_ha_dong_hn:"history_PHIDOAN_HADONG",dai_nghia_nam_dinh:"history_DAINGHIA_NAMDINH",tien_ngoc_tu_son_bac_ninh:"history_TIENNGOC_TUSON_BACNINH",phuc_thanh_nam_dinh:"history_PHUCTHANH_NAMDINH",phuc_thanh_long_bien:"history_PHUCTHANH_LONGBIEN",hoan_hue_lao_cai:"history_HOANHUE_LAOCAI",gia_vang_mi_hong_sjc_tu_do_goldenfund_sjc_tu_do:"history_MIHONG_HCM",vang_doji:"history_DOJI",chow_tai_fook:"history_CHOW_TAI_FOOK",chow_tai_seng:"history_CHOW_TAI_SENG",lukfook_jewellery:"history_LukFook_Jewellery",chow_sang_sang:"history_Chow_Sang_Sang",vang_bac_huong_diu_bac_ninh:"history_HUONGDIU_BACNINH",huy_thanh_doi_can_hn:"history_HUYTHANH_DOICAN_HN",vang_nguyen_lieu_nam_dinh:"history_NGUYENLIEU_NAMDINH",malabargoldanddiamonds:"history_malabargoldanddiamonds",tokuriki_kanda_co_jp:"history_tokuriki_kanda_co_jp",tanaka_co_jp:"history_tanaka_co_jp",ishifuku:"history_ishifuku_JP",kim_tin_cao_bang:"history_KIMTIN_CAOBANG",bao_tin_manh_hai:"history_BAO_TIN_MANH_HAI",phu_quy_vang:"history_PHUQUY_VANG",anekalogam:"history_Anekalogam",aurum24_russian:"history_aurum24_russian",orient_singapore:"history_Orient_SINGAPORE",goldheart:"history_Goldheart_SINGAPORE",gvs_trading_dubai:"history_GVS_Trading_DUBAI",kanz_jewels_dubai:"history_Kanz_Jewels_DUBAI",igold:"history_IGOLD",lam_ngoc_thanh_bien_hoa:"history_LAMNGOCTHANH_BIENHOA",vang_ancarat:"history_VANG_ANCARAT",bao_tin_lan_vy_cau_giay_hn:"history_BAO_TIN_LAN_VY_CAU_GIAY_HN",kim_ngan_phuc_ha_noi:"history_KIM_NGAN_PHUC_HA_NOI",chien_minh_cau_giay_hn:"history_CHIEN_MINH_CAU_GIAY_HN",kim_chau_an_giang:"history_KIM_CHAU_AN_GIANG",vang_kim_hoan_camau:"history_VANG_KIM_HOAN_CAMAU",vang_pnj:"history_VANG_PNJ",phu_tai_long_bien_hn:"history_PHU_TAI_LONG_BIEN_HN",ngoc_tham_dong_thap:"history_NGOC_THAM_DONG_THAP",vang_btmc:"history_VANG_BTMC",sacombank_sbj_gold:"history_SACOMBANK_GOLD",huong_chi_bac_ninh:"history_HUONGCHI_BACGIANG","kim_hoa-phan_thiet-binh_thuan":"history_KIM_HOA_PHAN_THIET_BINH_THUAN",tu_minh_vinh_long:"history_HONG_LINH_VINH_LONG",hong_linh_vinh_long:"history_HONG_LINH_VINH_LONG","hong_nga-cao_lanh-dong_thap":"history_HONG_NGA_CA_LANH_DONG_THAP","kim_bao_tri-tan_phu-hcm":"history_KIM_BAO_TRI_TAN_PHU_HCM","kim_chau_2-an_giang":"history_KIM_CHAU_2_AN_GIANG","trong_nghia-quan_10-hcm":"history_TRONG_NGHIA_QUAN_10_HCM","kim_hoang_ngoan-long_khanh-dong":"history_KIM_HOANG_NGOAN_LONG_KHAN_DONG_NAI","kim_uyen-long_khanh-dong_nai":"history_KIM_UYEN_LONG_KHANH_DONG_NAI","kim_loan-quan_6-hcm":"history_KIM_LOAN_QUAN_6_HCM","kim_anh_tuan-long_khanh-dong_nai":"history_KIM_ANH_TUAN_Long_Khanh_Dong_Nai","kieu_ngoc-ha_tinh":"history_KIEU_NGOC_HA_TINH","ngoc_ha-quang_binh":"history_NGOC_HA_QUANG_BINH","kim_viet-tam_ky-quang_nam":"history_KIM_VIET_TAM_KY_QUANG_NAM","kim_thach_bich-nha_trang":"history_KIM_THACH_BICH_NHA_TRANG","kim_khanh_viet_hung-lien_chieu-da_nang":"history_KIM_KHANH_VIET_HUNG_LIEN_CHIEU_DA_NANG","my_long-quy_nhon":"history_MY_LONG_QUY_NHON","ngoc_thien-binh_dinh":"history_NGOC_THIEN_BINH_DINH",hoakimnguyen:"history_hoakimnguyen","hoa_kim_nguyen-da_nang":"history_HOA_KIM_NGUYEN_DA_NANG","nghia_tin-tam_ky-quang_nam":"history_NGHIA_TIN_TAM_KY_QUANG_NAM","kim_thu-ca_mau":"history_KIM_THU_CA_MAU","ngoc_hai-nhj-my_tho-tien_giang":"history_NGOC_HAI_NHJ_MY_THO_TIEN_GIANG",sinh_dien_bac_ninh:"history_SINH_DIEN_BAC_NINH","kim_thanh_h-binh_tan-hcm":"history_KIM_THANH_HBINH_TAN_HCM","mao_thiet-thai_binh":"history_MAOTHIET_THAIBINH","vietagold-me_tri-ntl-hn":"history_VIETAGOLD_ME_TRI",bullionbypost:"history_bullionbypost",korea_gold_exchange:"history_Korea_Gold_Exchange","thanh_lien-hai phong":"history_Thanh_Lien_HAI_PHONG",kim_chau_hai_hau_nam_inh:"history_Kim_Chau_Hai_Hau_Nam_Dinh","candere.com":"history_candere_com"},chartColors=["#FF5733","#33FF57","#3357FF","#FF33A1","#A133FF","#33FFA1","#FFA133","#33A1FF","#A1FF33","#FF3333","#FF6F91","#FFC75F","#F9F871","#0089BA","#845EC2","#4B4453","#C34A36","#00C9A7","#2C73D2","#FF8066","#AA96DA","#FCBAD3","#FFFFD2","#A8E6CF","#FDFFAB","#FFAAA5","#FFD3B6","#D291BC","#FEC8D8","#C7CEEA","#4D8076","#BEBBBB","#FFB5E8","#B28DFF","#AFF8DB","#85E3FF","#ACE7FF","#D5AAFF","#FFABAB","#FFDAAB","#FFB3BA","#FFDFBA","#FFFFBA","#BAFFC9","#BAE1FF","#D7BAFF","#FFC4E1","#C4FFF9","#F5A623","#7ED321","#BD10E0","#50E3C2","#4A90E2","#D0021B","#F8E71C","#9013FE","#B8E986","#417505","#8B572A","#F5A623","#29A7E5","#E5295A","#29E5C3","#E5D129","#9B29E5","#E529D6","#29E578","#E56329","#29C8E5","#E55C29","#FF7F50","#6495ED","#40E0D0","#FF1493","#7FFF00","#00FA9A","#FFD700","#00CED1","#1E90FF","#DC143C"],getGoldApiUrl=tr=>!tr||tr.length===0?[]:tr.map(Hn=>{const er=Hn.toLowerCase().trim();if(GOLD_API_MAP[er])return API_BASE_URL+GOLD_API_MAP[er];const nr=er.replace(/[^a-z0-9]/g,""),ir=Object.keys(GOLD_API_MAP).find(rr=>{const sr=rr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"");return sr.includes(nr)||nr.includes(sr)});return ir?API_BASE_URL+GOLD_API_MAP[ir]:null}).filter(Hn=>Hn!==null);function ComparisonChart(){const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!1),[ir]=useSearchParams(),rr=ir.get("data"),sr=rr?rr.split("|"):[],[ar,or]=reactExports.useState("buy"),[lr,cr]=reactExports.useState("VANG");reactExports.useEffect(()=>{if(!sr||sr.length===0){Hn([]);return}(async()=>{nr(!0);const gr=getGoldApiUrl(sr);if(gr.length===0){nr(!1);return}try{const yr=gr.map(Sr=>fetch(Sr).then(Tr=>Tr.json())),jr=(await Promise.all(yr)).filter(Sr=>Sr&&Sr.status==="success").map(Sr=>Sr);Hn(jr)}catch(yr){console.error("Li khi ti d liu:",yr)}finally{nr(!1)}})()},[rr]);const ur=reactExports.useMemo(()=>{if(!tr||tr.length===0)return{labels:[],datasets:[]};const fr=lr==="VANG"?"data_vang":"data_bac",gr=tr.filter(jr=>{const Sr=jr?.[fr]?.data;return Array.isArray(Sr)&&Sr.length>0});if(gr.length===0)return{labels:[],datasets:[]};const yr=[...gr[0][fr].data].reverse().map(jr=>jr.datetime),vr=gr.map((jr,Sr)=>{const Tr=[...jr[fr].data].reverse();return{label:Tr[0]?.product||`Sn phm ${Sr+1}`,data:Tr.map(Lr=>Lr[ar]),borderColor:chartColors[Sr%chartColors.length],backgroundColor:chartColors[Sr%chartColors.length],tension:.2,pointRadius:2,type:"line"}});return{labels:yr,datasets:vr}},[tr,ar,lr]),dr={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{title:{display:!0,text:ar==="buy"?"Gi Mua Vo (VND)":"Gi Bn Ra (VND)"},ticks:{callback:function(fr){return new Intl.NumberFormat("vi-VN",{notation:"compact"}).format(fr)}}},x:{title:{display:!0,text:"Thi gian"},ticks:{maxTicksLimit:10}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(fr){let gr=fr.dataset.label||"";return gr&&(gr+=": "),fr.parsed.y!==null&&(gr+=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(fr.parsed.y)),gr}}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}}};return console.log("check dataChart: ",tr),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{style:{marginLeft:"40px",marginTop:"20px"},children:[jsxRuntimeExports.jsx("button",{className:`btn-type ${lr==="VANG"?"btn-active":""}`,onClick:()=>{lr!=="VANG"&&cr("VANG")},children:"So snh vng"}),jsxRuntimeExports.jsx("button",{className:`btn-type ${lr==="BAC"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>{lr!=="BAC"&&cr("BAC")},children:"So snh bc"})]}),jsxRuntimeExports.jsxs("div",{className:"modal-box",style:{height:"90vh",width:"95%",padding:"20px",borderRadius:"8px",display:"flex",flexDirection:"column",margin:"auto",marginTop:"10px"},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center",marginBottom:"10px"},children:"So snh gi lch s cc nh vng"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",marginBottom:"15px",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>or("buy"),style:{padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",backgroundColor:ar==="buy"?"#2ecc71":"#ecf0f1",color:ar==="buy"?"white":"#7f8c8d",transition:"all 0.3s"},children:"Mua Vo"}),jsxRuntimeExports.jsx("button",{onClick:()=>or("sell"),style:{padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",backgroundColor:ar==="sell"?"#e74c3c":"#ecf0f1",color:ar==="sell"?"white":"#7f8c8d",transition:"all 0.3s"},children:"Bn Ra"})]}),jsxRuntimeExports.jsx("div",{style:{flex:1,position:"relative",minHeight:0},children:er?jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:"ang ti d liu..."}):!tr||tr.length>0?jsxRuntimeExports.jsx(Chart,{type:"line",data:ur,options:dr},`${sr.join(",")}-${ar}`):jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:"Khng tm thy d liu ph hp"})})]}),!er&&tr&&tr.length>0&&jsxRuntimeExports.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid #eee",padding:"20px"},children:[jsxRuntimeExports.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:" Hiu qu u t vng"}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{textAlign:"left"},children:[jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"Nh vng"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy bt u"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi u (VN)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy kt thc"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi cui (VN)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Li nhun"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"% Tng trng"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((fr,gr)=>{const yr=fr?.data_vang?.tangtruong||[],vr=yr.length;return jsxRuntimeExports.jsx(React.Fragment,{children:yr.map((jr,Sr)=>{const Tr=Sr===vr-1,Lr=Tr?jr?.cuoi:jr?.cuoituan,Mr=Tr?jr?.dau:jr?.dautuan,Nr=Tr?jr?.tilephantram_all:jr?.tilephantram_1tuan;return jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[Sr===0&&jsxRuntimeExports.jsx("td",{rowSpan:vr,style:{padding:"12px 10px",fontWeight:"bold",verticalAlign:"middle",color:chartColors[gr%chartColors.length],borderRight:"1px solid #f0f0f0"},children:yr[0]?.cuoituan?.product||yr[0]?.cuoi?.product}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Mr?.datetime?.split(" ")[0]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Mr?.buy?.toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Lr?.datetime?.split(" ")[0]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Lr?.buy?.toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right",color:jr?.loinhuan>=0?"#27ae60":"#e74c3c",fontWeight:"500"},children:jr?.loinhuan>0?`+${jr.loinhuan.toLocaleString()}`:jr?.loinhuan?.toLocaleString()}),jsxRuntimeExports.jsxs("td",{style:{padding:"10px",textAlign:"right",color:Nr>=0?"#27ae60":"#e74c3c",fontWeight:"bold"},children:[Nr?.toFixed(2),"%"]})]},`${gr}-${Sr}`)})},gr)})})]})}),jsxRuntimeExports.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px",marginTop:"80px",color:"#bdc3c7"},children:" Hiu qu u t bc"}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{textAlign:"left"},children:[jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"Nh vng"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy bt u"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi u (VN)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy kt thc"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi cui (VN)"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Li nhun"}),jsxRuntimeExports.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"% Tng trng"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((fr,gr)=>{const yr=fr?.data_bac?.tangtruong||[],vr=yr.length;return jsxRuntimeExports.jsx(React.Fragment,{children:yr.map((jr,Sr)=>{const Tr=Sr===vr-1,Lr=Tr?jr?.cuoi:jr?.cuoituan,Mr=Tr?jr?.dau:jr?.dautuan,Nr=Tr?jr?.tilephantram_all:jr?.tilephantram_1tuan;return jsxRuntimeExports.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[Sr===0&&jsxRuntimeExports.jsx("td",{rowSpan:vr,style:{padding:"12px 10px",fontWeight:"bold",verticalAlign:"middle",color:chartColors[gr%chartColors.length],borderRight:"1px solid #f0f0f0"},children:yr[0]?.cuoituan?.product||yr[0]?.cuoi?.product}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Mr?.datetime?.split(" ")[0]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Mr?.buy?.toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Lr?.datetime?.split(" ")[0]}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right"},children:Lr?.buy?.toLocaleString()}),jsxRuntimeExports.jsx("td",{style:{padding:"10px",textAlign:"right",color:jr?.loinhuan>=0?"#27ae60":"#e74c3c",fontWeight:"500"},children:jr?.loinhuan>0?`+${jr.loinhuan.toLocaleString()}`:jr?.loinhuan?.toLocaleString()}),jsxRuntimeExports.jsxs("td",{style:{padding:"10px",textAlign:"right",color:Nr>=0?"#27ae60":"#e74c3c",fontWeight:"bold"},children:[Nr?.toFixed(2),"%"]})]},`${gr}-${Sr}`)})},gr)})})]})}),jsxRuntimeExports.jsx("p",{style:{fontSize:"12px",color:"#7f8c8d",marginTop:"10px",fontStyle:"italic"},children:"* Li nhun tnh trn chnh lch gia gi Mua vo hin ti so vi gi Bn ra ca nh vng ti thi im qu kh."})]})]})}function ComparisonHouseGold(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ComparisonChart,{})})}function ComparisonSellChart(){useNavigate();const tr=useParams(),[Hn,er]=reactExports.useState(null),nr=reactExports.useMemo(()=>({day:tr.day?Number(tr.day):null,month:tr.month?Number(tr.month):null,year:tr.year?Number(tr.year):null,hour:tr.hour?Number(tr.hour):null,minute:tr.minute?Number(tr.minute):null,region:tr.region||"Vietnam",type:tr.type||"gold",level:tr.level||"3"}),[tr]),{loading:ir,error:rr,displayedPrices:sr,loadingProgress:ar}=UseGoldOneDayPrices(nr);if(ir&&sr.length===0)return jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti d liu gi vng..."}),ar.total>0&&jsxRuntimeExports.jsxs("p",{className:"loading-progress",children:[" ti ",ar.loaded,"/",ar.total," ngun"]})]});if(rr)return jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",rr]}),jsxRuntimeExports.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]});const or=sr.filter(lr=>lr.do_uy_tin==nr.level).map(lr=>{const cr=lr.items.find(ur=>ur.purity==="9999"||ur.purity==="1KG_BAC_999");return cr?{...cr,difference:cr.sell-cr.buy,nameVendor:lr.name,level:lr.do_uy_tin}:null}).filter(Boolean).sort((lr,cr)=>lr.sell-cr.sell);return console.log("filteredItems: ",or),jsxRuntimeExports.jsx("div",{className:"modal-overlay-",children:jsxRuntimeExports.jsxs("div",{className:"modal-content-c",children:[jsxRuntimeExports.jsx("div",{className:"modal-header",children:jsxRuntimeExports.jsxs("h2",{children:["Biu  so snh gi ",nr.type=="gold"?"vng":"bc"," vi  uy tn ",nr.level,"  "]})}),or.length>0?jsxRuntimeExports.jsx("div",{className:"chart-wrapper",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:450,children:jsxRuntimeExports.jsxs(BarChart,{data:or,margin:{top:20,right:20,bottom:40,left:20},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"nameVendor",angle:-45,textAnchor:"end",interval:0,height:100,padding:{left:20,right:20},tick:{fontSize:12,fill:"#ddd"}}),jsxRuntimeExports.jsx(YAxis,{tickFormatter:lr=>lr.toLocaleString(),tick:{fontSize:12,fill:"#ddd"}}),jsxRuntimeExports.jsx(Tooltip,{formatter:lr=>lr.toLocaleString()}),jsxRuntimeExports.jsx(Bar,{dataKey:"sell",barSize:40,barCategoryGap:"15%",fill:"#ae5f0fff"}),jsxRuntimeExports.jsx(Bar,{dataKey:"buy",barSize:40,barCategoryGap:"15%",fill:"#12631cff"}),jsxRuntimeExports.jsx(Bar,{dataKey:"difference",barSize:40,barCategoryGap:"15%",fill:"#d32b05ff",onClick:(lr,cr)=>{er(!0)}})]})})}):jsxRuntimeExports.jsxs("p",{children:["khng c d liu ",nr.type=="gold"?"vng":"bc"," 9999 "]}),Hn&&jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"bb",children:[jsxRuntimeExports.jsxs("h2",{children:[" chch lch gi ",nr.type=="gold"?"vng":"bc"," vi  uy tn ",nr.level,"  "]}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>er(!1),children:""})]}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:450,children:jsxRuntimeExports.jsxs(BarChart,{data:or,margin:{top:20,right:20,bottom:40,left:20},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"nameVendor",angle:-45,textAnchor:"end",interval:0,height:100,padding:{left:20,right:20},tick:{fontSize:12,fill:"#ddd"}}),jsxRuntimeExports.jsx(YAxis,{tickFormatter:lr=>lr.toLocaleString(),tick:{fontSize:12,fill:"#ddd"}}),jsxRuntimeExports.jsx(Tooltip,{formatter:lr=>lr.toLocaleString()}),jsxRuntimeExports.jsx(Bar,{dataKey:"difference",barSize:40,barCategoryGap:"15%",fill:"#d32b05ff"})]})})]})]})})}const formatLineMaterialData=(tr,Hn="buy")=>!tr||tr.length===0?[]:[...tr].sort((nr,ir)=>nr.id_time-ir.id_time).map(nr=>({x:new Date(Number(nr.id_time)),y:Hn==="buy"?nr.buy||0:nr.sell||0})),formatLineMaterialDataXY=tr=>{if(!tr||tr.length===0)return[];const er=[...tr].sort((nr,ir)=>parseDateToTimestamp(nr.x)-parseDateToTimestamp(ir.x)).map(nr=>({x:parseDateToTimestamp(nr.x),y:nr.y}));return console.log("formatLineMaterialDataXY result:",er.slice(0,2)),er},formatLineMaterialDateData=(tr,Hn="buy")=>{if(!tr||tr.length===0)return[];const er=rr=>{if(!rr)return new Date;if(typeof rr=="string"&&rr.includes("/")){const sr=rr.split("/");if(sr.length===3){const ar=parseInt(sr[0],10),or=parseInt(sr[1],10)-1,lr=parseInt(sr[2],10);return new Date(lr,or,ar)}}return new Date(rr)};return tr.filter(rr=>rr&&rr.id_time).sort((rr,sr)=>er(rr.id_time)-er(sr.id_time)).map(rr=>{const sr=rr[Hn]??0;return{x:er(rr.id_time).getTime(),y:sr}})};function parseDateToTimestamp(tr){if(!tr)return NaN;const Hn=/^(\d{2})\/(\d{2})\/(\d{4})$/,er=/^(\d{4})-(\d{2})-(\d{2})$/;let nr;if(nr=tr.match(Hn)){const[,ir,rr,sr]=nr.map(Number);return Date.UTC(sr,rr-1,ir)}else if(nr=tr.match(er)){const[ir,rr,sr]=tr.split("-").map(Number);return Date.UTC(ir,rr-1,sr)}else return NaN}const API_ENDPOINT="https://api_gold.thinkdiff.us/history_sjc_nguyenlieu_USD_SILVER_GOLDENFUN",API_ENDPOINT_MATERIAL="https://api_gold.thinkdiff.us/history_lich_su_vang_nguyen_lieu_kimtin_tu_2009",API_ENDPOINT_HISTORY_GOONUS="https://api_gold.thinkdiff.us/history_goonus",API_ENDPOINT_HISTORY_BAC_PHUQUY="https://api_gold.thinkdiff.us/history_bac_phuquy",API_ENDPOINT_HISTORY_PHUQUY_GOLD="https://api_gold.thinkdiff.us/phuquy_gold_history",API_ENDPOINT_HISTORY_HANQUOC="https://api_gold.thinkdiff.us/korea_gold_history",API_ENDPOINT_HISTORY_VANG_SAC="https://api_gold.thinkdiff.us/sacombank_vang_history",API_ENDPOINT_HISTORY_BAC_SAC="https://api_gold.thinkdiff.us/sacombank_bac_history",API_ENDPOINT_HISTORY_SJC_GOLD="https://api_gold.thinkdiff.us/sacombank_vang_history",API_ENDPOINT_HISTORY_SJC_SILVER="https://api_gold.thinkdiff.us/sacombank_bac_history",fetchCandlestickData=async()=>{try{const tr=await fetch(API_ENDPOINT),Hn=await fetch(API_ENDPOINT_MATERIAL),er=await fetch(API_ENDPOINT_HISTORY_GOONUS),nr=await fetch(API_ENDPOINT_HISTORY_SJC_GOLD),ir=await fetch(API_ENDPOINT_HISTORY_SJC_SILVER),rr=await fetch(API_ENDPOINT_HISTORY_BAC_PHUQUY),sr=await fetch(API_ENDPOINT_HISTORY_PHUQUY_GOLD),ar=await fetch(API_ENDPOINT_HISTORY_HANQUOC),or=await fetch(API_ENDPOINT_HISTORY_VANG_SAC),lr=await fetch(API_ENDPOINT_HISTORY_BAC_SAC);if(!tr.ok)throw new Error(`HTTP error! status: ${tr.status}`);const cr=await tr.json();if(!Hn.ok)throw new Error(`HTTP error! status: ${Hn.status}`);const ur=await Hn.json();if(!er.ok)throw new Error(`HTTP error! status: ${er.status}`);const dr=await er.json();if(!rr.ok)throw new Error(`HTTP error! status: ${rr.status}`);const fr=await rr.json();if(!sr.ok)throw new Error(`HTTP error! status: ${sr.status}`);const gr=await sr.json();if(!ar.ok)throw new Error(`HTTP error! status: ${ar.status}`);if(!nr.ok)throw new Error(`HTTP error! status: ${nr.status}`);const yr=await nr.json();if(!ir.ok)throw new Error(`HTTP error! status: ${ir.status}`);const vr=await ir.json();console.log("Raw dataHistorySJC_GOLD:",yr?.data?.slice(0,2)),console.log("Raw dataHistorySJC_SILVER:",vr?.data?.slice(0,2));const jr=yr.data.map((ol,bl)=>{let Bl=null;return ol.data&&Array.isArray(ol.data)&&ol.data[1]&&ol.data[1].buy!==void 0?Bl=ol.data[1].buy:ol.buy!==void 0&&(Bl=ol.buy),{x:ol?.date,y:Bl}}),Sr=vr.data.map((ol,bl)=>({x:ol.date,y:ol.buy}));if(console.log("Formatted materialHistorySJC_GOLD:",jr.slice(0,2)),console.log("Formatted materialHistorySJC_SILVER:",Sr.slice(0,2)),!lr.ok)throw new Error(`HTTP error! status: ${lr.status}`);if(!or.ok)throw new Error(`HTTP error! status: ${or.status}`);const Tr=await or.json(),Lr=await lr.json(),Mr=await ar.json(),Nr=cr.SJC||[],Or=cr.vang_nguyenlieu||[],Fr=cr.tygia_usd||[],Gr=ur.lich_su_gia_nguyen_lieu_vietnam||[],qr=dr.btmc||[],Hr=dr.btmh||[],Yr=dr.doji||[],ro=dr.mihong||[],io=dr.ngoctham||[],fo=dr.pnj||[],ao=dr.vang_phuquy||[],Jr=fr.list_phuquy||[],uo=gr.map(ol=>ol.nhan_tron_phu_quy_9999?{id_time:ol.update_time,...JSON.parse(ol.nhan_tron_phu_quy_9999)}:null),oo=gr.map(ol=>ol.vang_mieng_sjc?{id_time:ol.update_time,...JSON.parse(ol.vang_mieng_sjc)}:null),co=gr.map(ol=>ol.vang_trang_suc_98?{id_time:ol.update_time,...JSON.parse(ol.vang_trang_suc_98)}:null),no=gr.map(ol=>ol.vang_trang_suc_99?{id_time:ol.update_time,...JSON.parse(ol.vang_trang_suc_99)}:null),mo=gr.map(ol=>ol.vang_trang_suc_999?{id_time:ol.update_time,...JSON.parse(ol.vang_trang_suc_999)}:null),Eo=gr.map(ol=>ol.vang_trang_suc_9999?{id_time:ol.update_time,...JSON.parse(ol.vang_trang_suc_9999)}:null),bo=(ol,bl="buy")=>{const Dl=ol.filter(bu=>{const oh=bu[bl],ku=oh>=2e7&&oh<=5e8;return ku||console.log(`Outlier removed - ${bl}: ${oh} (outside range [20000000, 500000000])`),ku});return console.log(`Outlier filter - Before: ${ol.length}, After: ${Dl.length}`),Dl},Po="1 VNG M NGH P V";let wo=[];if(console.log("Vng Sac - Data structure:",{hasData:!!Tr?.data,isArray:Array.isArray(Tr?.data),firstItem:Tr?.data?.[0]}),Tr?.data&&Array.isArray(Tr?.data)&&Tr?.data.length>0&&!Tr?.data[0]?.data){let ol=Tr.data.map(bl=>{const Bl=bl.buy!==void 0&&bl.buy!==null?bl.buy:0,Pl=bl.sell!==void 0&&bl.sell!==null?bl.sell:0;return{id_time:bl.date||new Date().toISOString().split("T")[0],buy:Bl,sell:Pl}}).filter(bl=>bl.id_time&&bl.buy>0&&bl.sell>0);wo=bo(ol,"buy"),console.log("Vng Sac (Simple) - After outlier removal:",wo.slice(0,3),"Total items:",wo.length)}else Tr?.data&&Array.isArray(Tr?.data)&&Tr?.data.length>0&&Tr?.data[0]?.data&&Array.isArray(Tr?.data[0].data)?(wo=Tr.data.flatMap(ol=>ol.data&&Array.isArray(ol.data)?ol.data.filter(bl=>bl.name===Po).map(bl=>{const Bl=bl.buy!==void 0&&bl.buy!==null?bl.buy:bl.buy_price!==void 0&&bl.buy_price!==null?bl.buy_price:0,Pl=bl.sell!==void 0&&bl.sell!==null?bl.sell:bl.sell_price!==void 0&&bl.sell_price!==null?bl.sell_price:0;return{id_time:bl.date||bl.id_time||ol.date||new Date().toISOString().split("T")[0],buy:Bl,sell:Pl}}):[]).filter(ol=>ol.buy>0&&ol.sell>0),console.log("Vng Sac (Nested) - First 3 items after parse:",wo.slice(0,3))):Array.isArray(Tr)?wo=Tr.map(ol=>({id_time:ol.date||ol.id_time||ol.update_time,buy:ol.buy!==void 0&&ol.buy!==null?ol.buy:ol.buy_price!==void 0&&ol.buy_price!==null?ol.buy_price:0,sell:ol.sell!==void 0&&ol.sell!==null?ol.sell:ol.sell_price!==void 0&&ol.sell_price!==null?ol.sell_price:0})).filter(ol=>ol.id_time&&ol.buy>0&&ol.sell>0):Tr.data&&Array.isArray(Tr.data)&&(wo=Tr.data.map(ol=>({id_time:ol.date||ol.id_time||ol.update_time,buy:ol.buy!==void 0&&ol.buy!==null?ol.buy:ol.buy_price!==void 0&&ol.buy_price!==null?ol.buy_price:0,sell:ol.sell!==void 0&&ol.sell!==null?ol.sell:ol.sell_price!==void 0&&ol.sell_price!==null?ol.sell_price:0})).filter(ol=>ol.id_time&&ol.buy>0&&ol.sell>0));let To=[];To=(Array.isArray(Lr)?Lr:Lr&&Lr.data||[]).map(ol=>{if(!ol)return null;const bl=ol.date||ol.id_time||ol.crawled_at||ol.update_time,Bl=ol.buy!==void 0&&ol.buy!==null?ol.buy:ol.buy_price!==void 0&&ol.buy_price!==null?ol.buy_price:0,Pl=ol.sell!==void 0&&ol.sell!==null?ol.sell:ol.sell_price!==void 0&&ol.sell_price!==null?ol.sell_price:0;return bl&&(Bl>0||Pl>0)?{id_time:bl,buy:Bl,sell:Pl}:null}).filter(Boolean),console.log("Vng Hn Quc - Sample record:",Mr.data?.records?.[0]),console.log("Vng Hn Quc - gold_pure structure:",Mr.data?.records?.[0]?.gold_pure);const Co=Mr.data.records.filter(ol=>{if(!ol||!ol.date_key||!ol.gold_pure)return!1;const bl=new Date(ol.date_key).getFullYear();return bl>=2009&&!isNaN(bl)}).map(ol=>{const bl=ol.gold_pure?.buy_vnd||ol.gold_pure?.buy||0,Bl=ol.gold_pure?.sell_vnd||ol.gold_pure?.sell||0;return ol===Mr.data.records.filter(Pl=>Pl?.gold_pure)[0]&&console.log("Vng Hn Quc - First item parsed:",{date_key:ol.date_key,buy_vnd:ol.gold_pure?.buy_vnd,sell_vnd:ol.gold_pure?.sell_vnd,buy:ol.gold_pure?.buy,sell:ol.gold_pure?.sell,parsed_buy:bl,parsed_sell:Bl,full_gold_pure:ol.gold_pure}),{id_time:ol.date_key,buy:bl,sell:Bl}}).filter(ol=>ol.buy>0&&ol.sell>0);console.log("Vng Hn Quc - First 3 items after parse:",Co.slice(0,3));const Go=formatCandlestickData(Nr),el=formatCandlestickData(Or),Lo=formatCandlestickData(Fr),Uo=formatLineMaterialData(Gr,"buy"),$o=formatLineMaterialData(Gr,"sell"),il=formatLineMaterialData(qr,"buy"),pl=formatLineMaterialData(qr,"sell"),ml=formatLineMaterialData(Hr,"buy"),Wl=formatLineMaterialData(Hr,"sell"),Xl=formatLineMaterialData(Yr,"buy"),ac=formatLineMaterialData(Yr,"sell"),Tl=formatLineMaterialData(ro,"buy"),Ol=formatLineMaterialData(ro,"sell"),dc=formatLineMaterialData(io,"buy"),oc=formatLineMaterialData(io,"sell"),vc=formatLineMaterialData(fo,"buy"),Ic=formatLineMaterialData(fo,"sell"),Yc=formatLineMaterialData(ao,"buy"),Rc=formatLineMaterialData(ao,"sell"),El=formatLineMaterialDateData(Jr,"buy"),Kl=formatLineMaterialDateData(Jr,"sell"),ec=formatLineMaterialDateData(uo,"mua"),Fc=formatLineMaterialDateData(uo,"ban"),Hl=formatLineMaterialDateData(oo,"mua"),al=formatLineMaterialDateData(oo,"ban"),sl=formatLineMaterialDateData(no,"mua"),fl=formatLineMaterialDateData(no,"ban"),$l=formatLineMaterialDateData(mo,"mua"),Nl=formatLineMaterialDateData(mo,"ban"),tc=formatLineMaterialDateData(Eo,"mua"),uc=formatLineMaterialDateData(Eo,"ban"),Kc=formatLineMaterialDateData(co,"mua"),bc=formatLineMaterialDateData(co,"ban"),Cc=formatLineMaterialDateData(Co,"buy"),vu=formatLineMaterialDateData(Co,"sell"),Zc=formatLineMaterialDateData(To,"buy"),fc=formatLineMaterialDateData(To,"sell");Cc.length>0&&(console.log("Vng Hn Quc - After format (first 3):",Cc.slice(0,3)),console.log("Vng Hn Quc - Max buy:",Math.max(...Cc.map(ol=>ol.y))),console.log("Vng Hn Quc - Min buy:",Math.min(...Cc.map(ol=>ol.y))));const Bc=formatLineMaterialDateData(wo,"buy"),nc=formatLineMaterialDateData(wo,"sell");Bc.length>0&&(console.log("Vng Sac - After format (first 3):",Bc.slice(0,3)),console.log("Vng Sac - Max buy:",Math.max(...Bc.map(ol=>ol.y))),console.log("Vng Sac - Min buy:",Math.min(...Bc.map(ol=>ol.y))));const Ul=formatLineMaterialDataXY(jr),ah=formatLineMaterialDataXY(Sr);return{sjcData:Go,nguyenLieuData:el,usdData:Lo,buyDataMaterial:Uo,sellDataMaterial:$o,buyDataHistoryGooonusBTMC:il,sellDataHistoryGooonusBTMC:pl,buyDataHistoryGooonusBTMH:ml,sellDataHistoryGooonusBTMH:Wl,buyDataHistoryGooonusDOJI:Xl,sellDataHistoryGooonusDOJI:ac,buyDataHistoryGooonusMIHONG:Tl,sellDataHistoryGooonusMIHONG:Ol,buyDataHistoryGooonusNGOCTHAM:dc,sellDataHistoryGooonusNGOCTHAM:oc,buyDataHistoryGooonusPNJ:vc,sellDataHistoryGooonusPNJ:Ic,buyDataHistoryGooonusVANGPHUQUY:Yc,sellDataHistoryGooonusVANGPHUQUY:Rc,buyDataHistoryGooonusBacPhuQuy:El,sellDataHistoryGooonusBacPhuQuy:Kl,buyDataHistoryGooonusNhanTronPhuQuy9999:ec,sellDataHistoryGooonusNhanTronPhuQuy9999:Fc,buyDataHistoryGooonusVangMiengSjc:Hl,sellDataHistoryGooonusVangMiengSjc:al,buyDataHistoryGooonusVangTrangSuc99:sl,sellDataHistoryGooonusVangTrangSuc99:fl,buyDataHistoryGooonusVangTrangSuc999:$l,sellDataHistoryGooonusVangTrangSuc999:Nl,buyDataHistoryGooonusVangTrangSuc9999:tc,sellDataHistoryGooonusVangTrangSuc9999:uc,buyDataHistoryGooonusVangTrangSuc98:Kc,sellDataHistoryGooonusVangTrangSuc98:bc,buySJC_GOLD:Ul,buySJC_SILVER:ah,buyDataHistoryGooonusVangHanQuoc:Cc,sellDataHistoryGooonusVangHanQuoc:vu,buyDataHistoryGooonusVangSac:Bc,sellDataHistoryGooonusVangSac:nc,buyDataHistoryGooonusBacSac:Zc,sellDataHistoryGooonusBacSac:fc}}catch(tr){throw console.error("Error fetching candlestick data:",tr),tr}},calculateStartDate=tr=>{const Hn=new Date,er=new Date(Hn);switch(tr){case"1W":er.setDate(er.getDate()-7);break;case"1M":er.setMonth(er.getMonth()-1);break;case"6M":er.setMonth(er.getMonth()-6);break;case"1Y":er.setFullYear(er.getFullYear()-1);break;case"ALL":return null;default:er.setFullYear(er.getFullYear()-1)}return er},filterDataByTimeRange=(tr,Hn)=>{if(!Array.isArray(tr)||Hn==="ALL")return tr;const er=calculateStartDate(Hn);if(!er)return tr;const nr=er.getTime();return tr.filter(ir=>Number(ir.x)>=nr)};function getBarBounds(tr,Hn){const{x:er,y:nr,base:ir,width:rr,height:sr}=tr.getProps(["x","low","high","width","height"],Hn);let ar,or,lr,cr,ur;return tr.horizontal?(ur=sr/2,ar=Math.min(er,ir),or=Math.max(er,ir),lr=nr-ur,cr=nr+ur):(ur=rr/2,ar=er-ur,or=er+ur,lr=Math.min(nr,ir),cr=Math.max(nr,ir)),{left:ar,top:lr,right:or,bottom:cr}}function inRange(tr,Hn,er,nr){const ir=Hn===null,rr=er===null,sr=!tr||ir&&rr?!1:getBarBounds(tr,nr);return sr&&(ir||Hn>=sr.left&&Hn<=sr.right)&&(rr||er>=sr.top&&er<=sr.bottom)}class FinancialElement extends BarElement{static defaults={backgroundColors:{up:"rgba(75, 192, 192, 0.5)",down:"rgba(255, 99, 132, 0.5)",unchanged:"rgba(201, 203, 207, 0.5)"},borderColors:{up:"rgb(75, 192, 192)",down:"rgb(255, 99, 132)",unchanged:"rgb(201, 203, 207)"}};height(){return this.base-this.y}inRange(Hn,er,nr){return inRange(this,Hn,er,nr)}inXRange(Hn,er){return inRange(this,Hn,null,er)}inYRange(Hn,er){return inRange(this,null,Hn,er)}getRange(Hn){return Hn==="x"?this.width/2:this.height/2}getCenterPoint(Hn){const{x:er,low:nr,high:ir}=this.getProps(["x","low","high"],Hn);return{x:er,y:(ir+nr)/2}}tooltipPosition(Hn){const{x:er,open:nr,close:ir}=this.getProps(["x","open","close"],Hn);return{x:er,y:(nr+ir)/2}}}const defaults=Chart$1.defaults;class OhlcElement extends FinancialElement{static id="ohlc";static defaults={...FinancialElement.defaults,lineWidth:2,armLength:null,armLengthRatio:.8};draw(Hn){const er=this,{x:nr,open:ir,high:rr,low:sr,close:ar}=er,or=valueOrDefault(er.armLengthRatio,defaults.elements.ohlc.armLengthRatio);let lr=valueOrDefault(er.armLength,defaults.elements.ohlc.armLength);lr===null&&(lr=er.width*or*.5),ar<ir?Hn.strokeStyle=valueOrDefault(er.options.borderColors?er.options.borderColors.up:void 0,defaults.elements.ohlc.borderColors.up):ar>ir?Hn.strokeStyle=valueOrDefault(er.options.borderColors?er.options.borderColors.down:void 0,defaults.elements.ohlc.borderColors.down):Hn.strokeStyle=valueOrDefault(er.options.borderColors?er.options.borderColors.unchanged:void 0,defaults.elements.ohlc.borderColors.unchanged),Hn.lineWidth=valueOrDefault(er.lineWidth,defaults.elements.ohlc.lineWidth),Hn.beginPath(),Hn.moveTo(nr,rr),Hn.lineTo(nr,sr),Hn.moveTo(nr-lr,ir),Hn.lineTo(nr,ir),Hn.moveTo(nr+lr,ar),Hn.lineTo(nr,ar),Hn.stroke()}}class FinancialController extends BarController{static overrides={label:"",parsing:!1,hover:{mode:"label"},animations:{numbers:{type:"number",properties:["x","y","base","width","open","high","low","close"]}},scales:{x:{type:"timeseries",offset:!0,ticks:{major:{enabled:!0},source:"data",maxRotation:0,autoSkip:!0,autoSkipPadding:75,sampleSize:100}},y:{type:"linear"}},plugins:{tooltip:{intersect:!1,mode:"index",callbacks:{label(Hn){const er=Hn.parsed;if(!isNullOrUndef(er.y))return defaults$4.plugins.tooltip.callbacks.label(Hn);const{o:nr,h:ir,l:rr,c:sr}=er;return`O: ${nr}  H: ${ir}  L: ${rr}  C: ${sr}`}}}}};getLabelAndValue(Hn){const er=this,nr=er.getParsed(Hn),ir=er._cachedMeta.iScale.axis,{o:rr,h:sr,l:ar,c:or}=nr,lr=`O: ${rr}  H: ${sr}  L: ${ar}  C: ${or}`;return{label:`${er._cachedMeta.iScale.getLabelForValue(nr[ir])}`,value:lr}}getUserBounds(Hn){const{min:er,max:nr,minDefined:ir,maxDefined:rr}=Hn.getUserBounds();return{min:ir?er:Number.NEGATIVE_INFINITY,max:rr?nr:Number.POSITIVE_INFINITY}}getMinMax(Hn){const er=this._cachedMeta,nr=er._parsed,ir=er.iScale.axis,rr=this._getOtherScale(Hn),{min:sr,max:ar}=this.getUserBounds(rr);if(nr.length<2)return{min:0,max:1};if(Hn===er.iScale)return{min:nr[0][ir],max:nr[nr.length-1][ir]};const or=nr.filter(({x:ur})=>ur>=sr&&ur<ar);let lr=Number.POSITIVE_INFINITY,cr=Number.NEGATIVE_INFINITY;for(let ur=0;ur<or.length;ur++){const dr=or[ur];lr=Math.min(lr,dr.l),cr=Math.max(cr,dr.h)}return{min:lr,max:cr}}calculateElementProperties(Hn,er,nr,ir){const rr=this,sr=rr._cachedMeta.vScale,ar=sr.getBasePixel(),or=rr._calculateBarIndexPixels(Hn,er,ir),lr=rr.chart.data.datasets[rr.index].data[Hn],cr=sr.getPixelForValue(lr.o),ur=sr.getPixelForValue(lr.h),dr=sr.getPixelForValue(lr.l),fr=sr.getPixelForValue(lr.c);return{base:nr?ar:dr,x:or.center,y:(dr+ur)/2,width:or.size,open:cr,high:ur,low:dr,close:fr}}draw(){const Hn=this,er=Hn.chart,nr=Hn._cachedMeta.data;clipArea(er.ctx,er.chartArea);for(let ir=0;ir<nr.length;++ir)nr[ir].draw(Hn._ctx);unclipArea(er.ctx)}}class OhlcController extends FinancialController{static id="ohlc";static defaults={...FinancialController.defaults,dataElementType:OhlcElement.id,datasets:{barPercentage:1,categoryPercentage:1}};updateElements(Hn,er,nr,ir){const rr=ir==="reset",sr=this._getRuler(),{sharedOptions:ar,includeOptions:or}=this._getSharedOptions(er,ir);for(let lr=er;lr<er+nr;lr++){const cr=ar||this.resolveDataElementOptions(lr,ir),ur=this.calculateElementProperties(lr,sr,rr,cr);or&&(ur.options=cr),this.updateElement(Hn[lr],lr,ur,ir)}}}class CandlestickElement extends FinancialElement{static id="candlestick";static defaults={...FinancialElement.defaults,borderWidth:1};draw(Hn){const er=this,{x:nr,open:ir,high:rr,low:sr,close:ar}=er;let or=er.options.borderColors;typeof or=="string"&&(or={up:or,down:or,unchanged:or});let lr;ar<ir?(lr=valueOrDefault(or?or.up:void 0,defaults$4.elements.candlestick.borderColors.up),Hn.fillStyle=valueOrDefault(er.options.backgroundColors?er.options.backgroundColors.up:void 0,defaults$4.elements.candlestick.backgroundColors.up)):ar>ir?(lr=valueOrDefault(or?or.down:void 0,defaults$4.elements.candlestick.borderColors.down),Hn.fillStyle=valueOrDefault(er.options.backgroundColors?er.options.backgroundColors.down:void 0,defaults$4.elements.candlestick.backgroundColors.down)):(lr=valueOrDefault(or?or.unchanged:void 0,defaults$4.elements.candlestick.borderColors.unchanged),Hn.fillStyle=valueOrDefault(er.backgroundColors?er.backgroundColors.unchanged:void 0,defaults$4.elements.candlestick.backgroundColors.unchanged)),Hn.lineWidth=valueOrDefault(er.options.borderWidth,defaults$4.elements.candlestick.borderWidth),Hn.strokeStyle=lr,Hn.beginPath(),Hn.moveTo(nr,rr),Hn.lineTo(nr,Math.min(ir,ar)),Hn.moveTo(nr,sr),Hn.lineTo(nr,Math.max(ir,ar)),Hn.stroke(),Hn.fillRect(nr-er.width/2,ar,er.width,ir-ar),Hn.strokeRect(nr-er.width/2,ar,er.width,ir-ar),Hn.closePath()}}class CandlestickController extends FinancialController{static id="candlestick";static defaults={...FinancialController.defaults,dataElementType:CandlestickElement.id};static defaultRoutes=BarController.defaultRoutes;updateElements(Hn,er,nr,ir){const rr=ir==="reset",sr=this._getRuler(),{sharedOptions:ar,includeOptions:or}=this._getSharedOptions(er,ir);for(let lr=er;lr<er+nr;lr++){const cr=ar||this.resolveDataElementOptions(lr,ir),ur=this.calculateElementProperties(lr,sr,rr,cr);or&&(ur.options=cr),this.updateElement(Hn[lr],lr,ur,ir)}}}Chart$1.register(TimeScale,LinearScale,CandlestickController,CandlestickElement,plugin_title,plugin_tooltip,plugin_legend);const SingleCandlestickChart=({data:tr,title:Hn,timeRange:er,setTimeRange:nr})=>{const[ir,rr]=reactExports.useState(!1);if(!tr||tr.length===0)return jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:Hn}),jsxRuntimeExports.jsx("div",{className:"chart-empty",children:jsxRuntimeExports.jsx("p",{children:"Khng c d liu"})})]});const sr={datasets:[{label:Hn,data:tr,borderColor:"#64748B",backgroundColor:"rgba(100, 116, 139, 0.1)",color:{up:"#22C55E",down:"#EF4444",unchanged:"#64748B"},borderWidth:1}]},ar={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#F1F5F9",borderColor:"#FACC15",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:or=>{const lr=or.raw;if(!lr)return[];const{o:cr,h:ur,l:dr,c:fr}=lr;return[`Open: ${cr?.toLocaleString()||0}`,`High: ${ur?.toLocaleString()||0}`,`Low: ${dr?.toLocaleString()||0}`,`Close: ${fr?.toLocaleString()||0}`]}}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#64748B",font:{size:11,family:"Inter, sans-serif"}}},y:{grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#64748B",font:{size:11,family:"Inter, sans-serif"},callback:or=>or.toLocaleString()}}},onClick:()=>rr(!0)};return jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",style:{cursor:"pointer"},onClick:()=>{rr(!0)},children:Hn}),jsxRuntimeExports.jsx("div",{className:"chart-container",children:jsxRuntimeExports.jsx(Chart,{type:"candlestick",data:sr,options:ar})}),ir&&jsxRuntimeExports.jsx("div",{className:"contain-popup-candle",children:jsxRuntimeExports.jsxs("div",{className:"chart-popup",children:[jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:er,onRangeChange:nr}),jsxRuntimeExports.jsx("h3",{className:"chart-title-popup",children:Hn}),jsxRuntimeExports.jsx("div",{className:"chart-popup-content",style:{pointerEvents:"initial"},children:jsxRuntimeExports.jsx(Chart,{type:"candlestick",data:sr,options:ar})}),jsxRuntimeExports.jsx("button",{className:"close-btn-candle",onClick:()=>rr(!1),children:"ng"})]})})]})};Chart$1.register(TimeScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,plugin$1);const DoubleLineChart=({buyData:tr,sellData:Hn,title:er,isZoom:nr})=>{er&&(er.includes("Vng Sac")||er.includes("Hn Quc"))&&console.log(`DoubleLineChart [${er}]:`,{buyData_first3:tr?.slice(0,3),sellData_first3:Hn?.slice(0,3),buyData_length:tr?.length,sellData_length:Hn?.length,buyData_max:tr?.length>0?Math.max(...tr.map(sr=>sr.y)):0,sellData_max:Hn?.length>0?Math.max(...Hn.map(sr=>sr.y)):0});const ir={datasets:[{label:"Buy",data:tr,borderColor:"#22C55E",fill:!1,tension:.3},{label:"Sell",data:Hn,borderColor:"#EF4444",fill:!1,tension:.3}]},rr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:sr=>{const ar=sr.parsed.y;return er&&(er.includes("Vng Sac")||er.includes("Hn Quc"))&&console.log(`Tooltip [${er}]:`,{label:sr.dataset.label,parsed_y:ar,raw_data:sr.raw}),`${sr.dataset.label}: ${ar.toLocaleString()}`}}},zoom:{zoom:{wheel:{enabled:nr},pinch:{enabled:nr},mode:"x"},pan:{enabled:nr,mode:"x"}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},ticks:{color:"#64748B"},grid:{color:"rgba(148, 163, 184, 0.1)"}},y:{ticks:{color:"#64748B",callback:sr=>(er&&(er.includes("Vng Sac")||er.includes("Hn Quc"))&&console.log(`Y-axis tick [${er}]:`,sr),sr.toLocaleString())},grid:{color:"rgba(148, 163, 184, 0.1)"},beginAtZero:!1}}};return jsxRuntimeExports.jsxs("div",{className:"chart-wrapper",style:{height:"400px"},children:[jsxRuntimeExports.jsx("h3",{children:er}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx(Chart,{type:"line",data:ir,options:rr})})]})},ChartDetailPage=()=>{const{chartKey:tr}=useParams(),Hn=useNavigate(),[er,nr]=reactExports.useState({}),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("ALL");reactExports.useEffect(()=>{(async()=>{try{rr(!0);const dr=await fetchCandlestickData();nr(dr),ar(null)}catch(dr){console.error("Error loading chart data:",dr),ar("Khng th ti d liu biu . Vui lng th li sau.")}finally{rr(!1)}})()},[]);const cr=reactExports.useMemo(()=>{if(!er||Object.keys(er).length===0)return null;let ur=[],dr="",fr=!1;switch(tr){case"sjc":ur=filterDataByTimeRange(er.sjcData||[],or),dr="SJC T do";break;case"nguyenLieu":ur=filterDataByTimeRange(er.nguyenLieuData||[],or),dr="Vng Nguyn liu";break;case"usd":ur=filterDataByTimeRange(er.usdData||[],or),dr="T gi USD/VND";break;case"DataMaterial":ur={buy:filterDataByTimeRange(er.buyDataMaterial||[],or),sell:filterDataByTimeRange(er.sellDataMaterial||[],or)},dr="Lch s vng km tn t nm 2009",fr=!0;break;case"DataHistoryGooonusBTMC":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusBTMC||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusBTMC||[],or)},dr="History 1 Nm BTMC",fr=!0;break;case"DataHistoryGooonusBTMH":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusBTMH||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusBTMH||[],or)},dr="History 1 Nm BTMH",fr=!0;break;case"DataHistoryGooonusDOJI":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusDOJI||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusDOJI||[],or)},dr="History 1 Nm DOJI",fr=!0;break;case"DataHistoryGooonusMIHONG":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusMIHONG||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusMIHONG||[],or)},dr="History 1 Nm MIHONG",fr=!0;break;case"DataHistoryGooonusNGOCTHAM":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusNGOCTHAM||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusNGOCTHAM||[],or)},dr="History 1 Nm NGOCTHAM",fr=!0;break;case"DataHistoryGooonusPNJ":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusPNJ||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusPNJ||[],or)},dr="History 1 Nm PNJ",fr=!0;break;case"DataHistoryGooonusVANGPHUQUY":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusVANGPHUQUY||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusVANGPHUQUY||[],or)},dr="History 1 Nm VANGPHUQUY",fr=!0;break;case"DataHistoryGooonusBacPhuQuy":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusBacPhuQuy||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusBacPhuQuy||[],or)},dr="History Bac Phu Quy",fr=!0;break;case"DataHistoryGooonusVangHanQuoc":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusVangHanQuoc||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusVangHanQuoc||[],or)},dr="History Vng koreagoldx.co.kr",fr=!0;break;case"DataHistoryGooonusVangSac":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusVangSac||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusVangSac||[],or)},dr="History Vng SACOMBANK SBJ",fr=!0;break;case"DataHistoryGooonusBacSac":ur={buy:filterDataByTimeRange(er.buyDataHistoryGooonusBacSac||[],or),sell:filterDataByTimeRange(er.sellDataHistoryGooonusBacSac||[],or)},dr="History Bc SACOMBANK",fr=!0;break;default:return null}return{data:ur,title:dr,isDoubleLine:fr}},[er,or,tr]);return ir?jsxRuntimeExports.jsx("div",{className:"chart-detail-page",children:jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti biu ..."})]})}):sr||!cr?jsxRuntimeExports.jsx("div",{className:"chart-detail-page",children:jsxRuntimeExports.jsxs("div",{className:"error-container",children:[jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",sr||"Biu  khng tn ti"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Hn(-1),children:"Quay li"})]})}):jsxRuntimeExports.jsxs("div",{className:"chart-detail-page",style:{padding:"20px"},children:[jsxRuntimeExports.jsxs("div",{className:"section-header",children:[jsxRuntimeExports.jsxs("h2",{className:"section-title",children:[" ",cr.title]}),jsxRuntimeExports.jsx("button",{onClick:()=>Hn(-1),style:{marginBottom:"20px",padding:"8px 16px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},children:"Quay li"})]}),jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:or,onRangeChange:lr}),jsxRuntimeExports.jsx("div",{style:{marginTop:"20px"},children:cr.isDoubleLine?jsxRuntimeExports.jsx(DoubleLineChart,{buyData:cr.data.buy,sellData:cr.data.sell,title:cr.title,isZoom:!0}):jsxRuntimeExports.jsx(SingleCandlestickChart,{data:cr.data,title:cr.title,timeRange:or,setTimeRange:lr})})]})},ETF_MAP={"vaneck-sandp-global-mining-ucits-etf-a":{name:"VanEck S&P Global Mining UCITS ETF A",slug:"vaneck-sandp-global-mining-ucits-etf-a",description:["Qu ETF VanEck S&P Global Mining UCITS ETF A hng n mc tiu theo di ch s S&P Global Mining. Ch s ny theo di cc cng ty khai thc v kim loi ln nht trn ton th gii, bao gm c vng, bc, ng, st v cc kim loi qu khc.","T l chi ph qun l (TER) ca qu ETF ny l 0,50% mi nm. VanEck S&P Global Mining UCITS ETF A l qu ETF a dng trong ngnh khai thc ton cu. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck S&P Global Mining UCITS ETF A l mt qu ETF c quy m ln vi tng ti sn qun l khong 3.456 triu Euro. Qu c ra mt vo ngy 8 thng 11 nm 2007 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"S&P Global Mining"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, a dng"},{key:"Quy m qu",value:"3.456 triu EUR"},{key:"T l chi ph tng cng",value:"0,50% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"26,78%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 8 thng 11 nm 2007"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:54.23,totalHoldings:89},topHoldings:[{name:"Tp on BHP",weight:8.9},{name:"Rio Tinto",weight:7.45},{name:"Vale SA",weight:6.78},{name:"Tp on Newmont",weight:5.67},{name:"Cng ty Khai thc M Barrick",weight:4.89},{name:"Glencore",weight:4.56},{name:"Cng ty Khai thc M Agnico Eagle",weight:4.23},{name:"Freeport-McMoRan",weight:3.89},{name:"Anglo American",weight:3.67},{name:"Teck Resources",weight:4.19}],countries:[{name:"c",weight:28.45},{name:"Canada",weight:24.67},{name:"Hoa K",weight:18.9},{name:"Brazil",weight:12.34},{name:"Khc",weight:15.64}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:78.9},{name:"Nng lng",weight:12.34},{name:"Khc",weight:8.76}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1789,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:98.45},{key:"1m",label:"1 thng",value:6.78},{key:"3m",label:"3 thng",value:16.89},{key:"6m",label:"6 thng",value:38.9},{key:"1y",label:"1 nm",value:89.67},{key:"3y",label:"3 nm",value:145.23},{key:"5y",label:"5 nm",value:123.45},{key:"max",label:"K t khi thnh lp (MAX)",value:67.89},{key:"2024",label:"2024",value:14.56},{key:"2023",label:"2023",value:3.45},{key:"2022",label:"2022",value:-9.78},{key:"2021",label:"2021",value:1.23}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[6.5,-1.8,7.2,-2.9,4.8,7.4,-.3,16.2,18.9,-6.1,12.8,2.4],2024:[-10.2,-10.8,16.1,9.1,8.8,-9.6,5.7,-8.3,5.4,11.5,-3.9,-9.9],2023:[3.8,-12.2,10.6,-5.4,-7.4,-6.3,4.1,-3.9,-8.5,-1.3,9.2,1.9],2022:[1.7,-2.4,4.1,-2.9,1.3,-3.9,2.4,-4.7,1.5,2.8,-2.1,2.4],2021:[1.4,-2.7,3.5,-2.3,1.9,-3.4,1,-4.2,2.3,2.4,-1.5,1.7]}},scale:{min:-20,max:20,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:26.78,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:23.45,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:24.67,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.35,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.32,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.67,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-19.78,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-27.89,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-41.23,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-72.45,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}},"global-x-silver-miners-ucits-etf":{name:"Global X Silver Miners UCITS ETF",slug:"global-x-silver-miners-ucits-etf",description:["Qu ETF Global X Silver Miners UCITS USD Accumulating hng n mc tiu theo di ch s Solactive Global Silver Miners. Ch s Solactive Global Silver Miners theo di cc cng ty trn ton th gii tham gia vo hot ng thm d, khai thc v/hoc tinh ch bc.","T l chi ph tng cng ( TER ) ca ETF ny l 0,65% mi nm . Global X Silver Miners UCITS ETF USD Accumulating l ETF duy nht theo di ch s Solactive Global Silver Miners. ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton (mua tt c cc thnh phn ca ch s). C tc trong ETF c tch ly v ti u t vo ETF.","Qu ETF Global X Silver Miners UCITS USD Accumulating l mt qu ETF rt ln vi tng ti sn qun l ln n 1.008 triu Euro . Qu ETF ny c ra mt vo ngy 4 thng 5 nm 2022 v c tr s ti Ireland ."],basics:[{key:"Mc lc",value:"Cng ty khai thc bc ton cu Solactive"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"1.014 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"38,09%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 4 thng 5 nm 2022"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Global X"}],holdings:{summary:{top10Weight:74.88,totalHoldings:32},topHoldings:[{name:"Tp on Pan American Silver",weight:12.01},{name:"Cng ty Khai thc M Coeur",weight:11.13},{name:"Cng ty Kim loi Qu Wheaton",weight:10.96},{name:"Tp on Industrias Peoles",weight:7.64},{name:"Cng ty Khai thc M Hecla",weight:7.61},{name:"Cng ty Km Hn Quc",weight:6.45},{name:"Cng ty First Majestic Silver",weight:5.64},{name:"Cng ty Fresnillo",weight:5.19},{name:"Cng ty Khai thc M SSR",weight:4.56},{name:"Cng ty Minas Buenaventura SAA",weight:3.69}],countries:[{name:"Canada",weight:38.62},{name:"Hoa K",weight:23.37},{name:"Mexico",weight:12.83},{name:"Hn Quc",weight:6.45},{name:"Khc",weight:18.73}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:83.34},{name:"Khc",weight:16.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:131.33},{key:"1m",label:"1 thng",value:21.57},{key:"3m",label:"3 thng",value:29.27},{key:"6m",label:"6 thng",value:68.17},{key:"1y",label:"1 nm",value:114.94},{key:"3y",label:"3 nm",value:169.82},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:135.11},{key:"2024",label:"2024",value:20.57},{key:"2023",label:"2023",value:-3.34},{key:"2022",label:"2022",value:null},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[8.1,-1,9.1,-2.1,6.5,9.1,1.1,20.8,23.4,-4.9,16.5,3.8],2024:[-9.2,-9.8,19.1,12.1,11.6,-8.6,7.6,-7.3,7.3,14.2,-2.9,-8.9],2023:[5.4,-10.8,12.4,-4.4,-6.4,-5.3,5.7,-2.9,-7.5,-.3,10.9,2.9],2022:[0,0,0,0,-6.9,-12.5,3.8,-7.6,-4.6,2.2,8.5,3.8]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:38.75,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:34.38,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.63,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.28,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-22.73,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-31.16,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-32.1,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-global-x-silver.jpg"}}},"market-access-nyse-arca-gold-bugs-ucits-etf":{name:"Market Access NYSE Arca Gold Bugs UCITS ETF",slug:"market-access-nyse-arca-gold-bugs-ucits-etf",description:["Qu ETF Market Access NYSE Arca Gold Bugs UCITS hng n mc tiu theo di ch s NYSE Arca Gold BUGS. Ch s ny theo di cc cng ty khai thc vng khng thc hin phng nga ri ro gi vng trong tng lai, tp trung vo nhng cng ty c tim nng tng trng cao nht khi gi vng tng.","T l chi ph qun l (TER) ca qu ETF ny l 0,65% mi nm. Market Access NYSE Arca Gold Bugs UCITS ETF l qu ETF chuyn bit theo di cc cng ty khai thc vng 'khng phng nga ri ro'. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c tch ly v ti u t.","Qu ETF Market Access NYSE Arca Gold Bugs UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 892 triu Euro. Qu c ra mt vo ngy 28 thng 4 nm 2008 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"NYSE Arca Gold BUGS"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"892 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"35,67%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 28 thng 4 nm 2008"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Market Access"}],holdings:{summary:{top10Weight:73.45,totalHoldings:28},topHoldings:[{name:"Tp on Newmont",weight:15.23},{name:"Cng ty Khai thc M Barrick",weight:12.67},{name:"Cng ty Khai thc M Agnico Eagle",weight:10.45},{name:"Franco-Nevada",weight:8.89},{name:"Cng ty Gold Fields",weight:7.23},{name:"Anglogold Ashanti",weight:6.78},{name:"Cng ty Kinross Gold",weight:5.34},{name:"Cng ty Ti nguyn Sao Bc",weight:3.67},{name:"Cng ty Alamos Gold",weight:2.89},{name:"Cng ty B2Gold",weight:.3}],countries:[{name:"Canada",weight:48.9},{name:"Hoa K",weight:22.67},{name:"c",weight:14.78},{name:"Nam Phi",weight:8.45},{name:"Khc",weight:5.2}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:95.67},{name:"Khc",weight:4.33}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:128.9},{key:"1m",label:"1 thng",value:12.78},{key:"3m",label:"3 thng",value:28.45},{key:"6m",label:"6 thng",value:62.34},{key:"1y",label:"1 nm",value:123.67},{key:"3y",label:"3 nm",value:201.45},{key:"5y",label:"5 nm",value:178.9},{key:"max",label:"K t khi thnh lp (MAX)",value:67.89},{key:"2024",label:"2024",value:23.45},{key:"2023",label:"2023",value:9.78},{key:"2022",label:"2022",value:-3.45},{key:"2021",label:"2021",value:.67}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[9.8,-.2,10.5,-.8,7.9,10.8,2.1,22.8,26.7,-3.2,18.9,5.3],2024:[-7.8,-8.4,20.8,13.8,13.3,-7.2,9.1,-5.9,8.8,16.5,-1.5,-7.5],2023:[6.9,-9.4,14.1,-2.9,-4.9,-3.8,6.5,-1.5,-6.1,1,12.4,4.4],2022:[2.7,-1.4,5.1,-1.8,2.3,-2.9,3.4,-3.7,2.5,3.8,-1.1,2.9],2021:[2.4,-1.7,4.5,-1.3,2.9,-2.4,1.9,-3.2,3.3,3.4,-.5,2.3]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:35.67,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:31.23,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:32.45,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.47,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.78,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.98,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-13.45,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-19.78,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-32.67,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-81.23,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/z7284465822618_c08e61ba2a0f4605080528caa7c46c54.jpg"}}},"ubs-solactive-global-pure-gold-miners-ucits-etf-usd":{name:"UBS Solactive Global Pure Gold Miners UCITS ETF USD",slug:"ubs-solactive-global-pure-gold-miners-ucits-etf-usd",description:["Qu ETF UBS Solactive Global Pure Gold Miners UCITS USD hng n mc tiu theo di ch s Solactive Global Pure Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht chuyn v hot ng khai thc vng thun ty trn ton th gii.","T l chi ph qun l (TER) ca qu ETF ny l 0,28% mi nm. UBS Solactive Global Pure Gold Miners UCITS ETF USD l mt trong nhng qu ETF c chi ph thp nht theo di ch s vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp ti u ha. C tc trong qu ETF c phn phi hng qu.","Qu ETF UBS Solactive Global Pure Gold Miners UCITS USD l mt qu ETF c quy m ln vi tng ti sn qun l khong 2.156 triu Euro. Qu c ra mt vo ngy 18 thng 1 nm 2018 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"Solactive Global Pure Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"2.156 triu EUR"},{key:"T l chi ph tng cng",value:"0,28% mi nm"},{key:"Sao chp",value:"Ti u ha (Sao chp mt phn)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"31,22%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 18 thng 1 nm 2018"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"UBS"}],holdings:{summary:{top10Weight:68.92,totalHoldings:45},topHoldings:[{name:"Tp on Newmont",weight:12.45},{name:"Cng ty Khai thc M Barrick",weight:10.78},{name:"Cng ty Khai thc M Agnico Eagle",weight:9.34},{name:"Cng ty Kim loi Qu Wheaton",weight:7.89},{name:"Franco-Nevada",weight:6.78},{name:"Cng ty Gold Fields",weight:5.92},{name:"Anglogold Ashanti",weight:5.23},{name:"Cng ty Kinross Gold",weight:4.89},{name:"Tp on Khai thc M Zijin",weight:3.12},{name:"Cng ty Ti nguyn Sao Bc",weight:2.52}],countries:[{name:"Canada",weight:43.78},{name:"Hoa K",weight:18.45},{name:"c",weight:12.67},{name:"Trung Quc",weight:7.23},{name:"Khc",weight:17.87}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:89.45},{name:"Khc",weight:10.55}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"UBS",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"UBS",rating:5,orderFee:"0,90",etfSavingsPlans:1245,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:122.78},{key:"1m",label:"1 thng",value:10.45},{key:"3m",label:"3 thng",value:24.67},{key:"6m",label:"6 thng",value:55.89},{key:"1y",label:"1 nm",value:115.23},{key:"3y",label:"3 nm",value:189.45},{key:"5y",label:"5 nm",value:156.78},{key:"max",label:"K t khi thnh lp (MAX)",value:98.34},{key:"2024",label:"2024",value:19.78},{key:"2023",label:"2023",value:7.45},{key:"2022",label:"2022",value:-5.67},{key:"2021",label:"2021",value:-1.23}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[8.5,-.7,9.3,-1.5,6.8,9.5,1.3,20.2,23.8,-4.2,16.8,4.1],2024:[-8.6,-9.2,19.4,12.4,11.9,-8,7.9,-6.7,7.6,14.5,-2.3,-8.3],2023:[5.7,-10.2,12.7,-3.8,-5.8,-4.7,5.7,-2.3,-6.9,.2,11.2,3.2],2022:[0,0,0,0,0,0,0,0,0,0,0,0],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:31.22,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:27.45,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:28.67,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.69,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.58,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.78,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-15.89,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-22.45,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-36.78,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-68.45,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/xagxauvolume.jpg"}}},"landg-gold-mining-ucits-etf":{name:"L&G Gold Mining UCITS ETF",slug:"landg-gold-mining-ucits-etf",description:["Qu ETF L&G Gold Mining UCITS hng n mc tiu theo di ch s Solactive Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht tham gia vo hot ng thm d, khai thc v sn xut vng trn ton th gii.","T l chi ph qun l (TER) ca qu ETF ny l 0,65% mi nm. L&G Gold Mining UCITS ETF l mt trong nhng qu ETF theo di ch s Solactive Gold Miners. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton cc thnh phn ch s. C tc trong qu ETF c tch ly v ti u t.","Qu ETF L&G Gold Mining UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 1.245 triu Euro. Qu c ra mt vo ngy 10 thng 6 nm 2020 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"Solactive Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"1.245 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"29,84%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 10 thng 6 nm 2020"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Legal & General"}],holdings:{summary:{top10Weight:65.45,totalHoldings:58},topHoldings:[{name:"Tp on Newmont",weight:11.25},{name:"Cng ty Khai thc M Barrick",weight:9.87},{name:"Cng ty Khai thc M Agnico Eagle",weight:8.92},{name:"Cng ty Kim loi Qu Wheaton",weight:7.15},{name:"Franco-Nevada",weight:6.33},{name:"Cng ty Gold Fields",weight:5.78},{name:"Anglogold Ashanti",weight:4.89},{name:"Cng ty Kinross Gold",weight:4.67},{name:"Tp on Khai thc M Zijin",weight:3.45},{name:"Cng ty Ti nguyn Sao Bc",weight:3.14}],countries:[{name:"Canada",weight:42.15},{name:"Hoa K",weight:16.78},{name:"c",weight:11.23},{name:"Trung Quc",weight:6.89},{name:"Khc",weight:22.95}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:76.34},{name:"Khc",weight:23.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:118.45},{key:"1m",label:"1 thng",value:8.76},{key:"3m",label:"3 thng",value:21.89},{key:"6m",label:"6 thng",value:51.23},{key:"1y",label:"1 nm",value:109.67},{key:"3y",label:"3 nm",value:176.89},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:125.34},{key:"2024",label:"2024",value:17.89},{key:"2023",label:"2023",value:5.67},{key:"2022",label:"2022",value:-8.45},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.8,-.9,8.7,-1.8,6.2,8.9,1,19.5,22.1,-4.6,15.2,3.5],2024:[-8.9,-9.5,18.8,11.8,11.3,-8.3,7.3,-7,7,13.9,-2.6,-8.6],2023:[5.1,-10.5,12.1,-4.1,-6.1,-5,5.4,-2.6,-7.2,-.1,10.6,2.6],2022:[0,0,0,0,0,0,-6.6,-12.2,3.5,-7.3,-4.3,2],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:29.84,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:26.12,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.67,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.48,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-17.45,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-24.78,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-28.67,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares-loi-nhuan-theo-thang.jpg"}}},"ishares-gold-producers-ucits-etf":{name:"iShares Gold Producers UCITS ETF",slug:"ishares-gold-producers-ucits-etf",description:["Qu ETF iShares Gold Producers UCITS hng n mc tiu theo di ch s S&P Commodity Producers Gold. Ch s S&P Commodity Producers Gold theo di cc cng ty nim yt ln nht tham gia vo hot ng thm d v sn xut vng v cc sn phm lin quan trn ton th gii.","T l chi ph qun l ( TER ) ca qu ETF ny l 0,55% mi nm . Qu iShares Gold Producers UCITS ETF l qu ETF duy nht theo di ch s S&P Commodity Producers Gold. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton (mua tt c cc thnh phn ca ch s). C tc trong qu ETF c tch ly v ti u t vo chnh qu.","Qu ETF iShares Gold Producers UCITS l mt qu ETF rt ln vi tng ti sn qun l ln ti 3.624 triu Euro . Qu c ra mt vo ngy 16 thng 9 nm 2011 v c tr s ti Ireland"],basics:[{key:"Mc lc",value:"Vng ca S&P Commodity Producers"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"3.624 triu EUR"},{key:"T l chi ph tng cng",value:"0,55% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"30,59%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 16 thng 9 nm 2011"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"iShares"}],holdings:{summary:{top10Weight:63.22,totalHoldings:64},topHoldings:[{name:"Cng ty Khai thc M Agnico Eagle",weight:10.15},{name:"Tp on Newmont",weight:10.02},{name:"Cng ty Khai thc M Barrick",weight:8.75},{name:"Cng ty Kim loi Qu Wheaton",weight:6.9},{name:"Franco-Nevada",weight:5.65},{name:"Cng ty Gold Fields",weight:5.38},{name:"Anglogold Ashanti",weight:4.53},{name:"Cng ty Kinross Gold",weight:4.5},{name:"Tp on Khai thc M Zijin",weight:3.88},{name:"Cng ty Ti nguyn Sao Bc",weight:3.46}],countries:[{name:"Canada",weight:41.4},{name:"Hoa K",weight:15.4},{name:"c",weight:10.36},{name:"Trung Quc",weight:5.71},{name:"Khc",weight:27.13}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:74.81},{name:"Khc",weight:25.19}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"ING",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,00",etfSavingsPlans:2969,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:120.07},{key:"1m",label:"1 thng",value:9.92},{key:"3m",label:"3 thng",value:23.22},{key:"6m",label:"6 thng",value:53.94},{key:"1y",label:"1 nm",value:111.82},{key:"3y",label:"3 nm",value:184.14},{key:"5y",label:"5 nm",value:149.92},{key:"max",label:"K t khi thnh lp (MAX)",value:78.89},{key:"2024",label:"2024",value:18.63},{key:"2023",label:"2023",value:6.8},{key:"2022",label:"2022",value:-6.89},{key:"2021",label:"2021",value:-2.02}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{}},scale:{min:-40,max:45,unit:"%"}},risk:{title:"Tng quan v ri ro",overview:[{key:"volatility_1y",label:"Bin ng trong 1 nm",value:30.59,unit:"%"},{key:"volatility_3y",label:"Bin ng trong 3 nm",value:26.87,unit:"%"},{key:"volatility_5y",label:"Bin ng trong 5 nm",value:27.43,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn mi ri ro trong 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn mi ri ro trong 3 nm",value:1.55,unit:""},{key:"return_risk_5y",label:"Li nhun trn mi ri ro trong 5 nm",value:.73,unit:""},{key:"max_drawdown_1y",label:"Mc rt tin ti a 1 nm",value:-16.18,unit:"%"},{key:"max_drawdown_3y",label:"Thi hn rt tin ti a 3 nm",value:-23.69,unit:"%"},{key:"max_drawdown_5y",label:"Thi hn rt tin ti a 5 nm",value:-38.42,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-74.83,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares.jpg"}}},"vaneck-gold-miners-ucits-etf":{name:"VanEck Gold Miners UCITS ETF",slug:"vaneck-gold-miners-ucits-etf",description:["Qu ETF VanEck Gold Miners UCITS hng n mc tiu theo di ch s NYSE Arca Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht tham gia vo hot ng khai thc vng trn ton th gii, bao gm c cc cng ty khai thc vng v cc cng ty lin quan n ngnh vng.","T l chi ph qun l (TER) ca qu ETF ny l 0,53% mi nm. VanEck Gold Miners UCITS ETF l mt trong nhng qu ETF lu i nht theo di ngnh khai thc vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck Gold Miners UCITS l mt qu ETF c quy m ln vi tng ti sn qun l khong 4.567 triu Euro. Qu c ra mt vo ngy 15 thng 12 nm 2006 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"NYSE Arca Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"4.567 triu EUR"},{key:"T l chi ph tng cng",value:"0,53% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"32,45%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 15 thng 12 nm 2006"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:71.23,totalHoldings:52},topHoldings:[{name:"Tp on Newmont",weight:13.78},{name:"Cng ty Khai thc M Barrick",weight:11.45},{name:"Cng ty Khai thc M Agnico Eagle",weight:9.89},{name:"Cng ty Kim loi Qu Wheaton",weight:8.23},{name:"Franco-Nevada",weight:7.12},{name:"Cng ty Gold Fields",weight:6.34},{name:"Anglogold Ashanti",weight:5.67},{name:"Cng ty Kinross Gold",weight:4.98},{name:"Tp on Khai thc M Zijin",weight:2.89},{name:"Cng ty Ti nguyn Sao Bc",weight:.88}],countries:[{name:"Canada",weight:45.67},{name:"Hoa K",weight:20.34},{name:"c",weight:13.45},{name:"Trung Quc",weight:8.12},{name:"Khc",weight:12.42}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:92.34},{name:"Khc",weight:7.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1567,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:125.67},{key:"1m",label:"1 thng",value:11.23},{key:"3m",label:"3 thng",value:26.45},{key:"6m",label:"6 thng",value:58.78},{key:"1y",label:"1 nm",value:118.9},{key:"3y",label:"3 nm",value:195.67},{key:"5y",label:"5 nm",value:167.89},{key:"max",label:"K t khi thnh lp (MAX)",value:89.45},{key:"2024",label:"2024",value:21.34},{key:"2023",label:"2023",value:8.67},{key:"2022",label:"2022",value:-4.23},{key:"2021",label:"2021",value:-.89}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[9.1,-.5,9.8,-1.2,7.3,10.1,1.6,21.5,25.2,-3.8,17.9,4.7],2024:[-8.2,-8.8,20.1,13.1,12.6,-7.6,8.5,-6.3,8.2,15.8,-1.9,-7.9],2023:[6.3,-9.8,13.4,-3.4,-5.4,-4.3,6.1,-1.9,-6.5,.6,11.8,3.8],2022:[2.1,-1.8,4.5,-2.3,1.7,-3.4,2.8,-4.1,1.9,3.2,-1.5,2.4],2021:[1.8,-2.1,3.9,-1.7,2.3,-2.8,1.4,-3.6,2.7,2.8,-.9,1.7]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:32.45,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:28.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:29.89,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.68,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.89,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-14.67,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-21.23,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-34.56,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-78.9,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/gia-cat-loi-phan-tich-bac-ngay-10-06-gia-bac-cham-dinh-ky-luc.jpg"}}},"vaneck-junior-gold-miners-ucits":{name:"VanEck Junior Gold Miners UCITS",slug:"vaneck-junior-gold-miners-ucits",description:["Qu ETF VanEck Junior Gold Miners UCITS hng n mc tiu theo di ch s MVIS Global Junior Gold Miners. Ch s ny theo di cc cng ty khai thc vng quy m nh v va trn ton th gii, tp trung vo nhng cng ty c tim nng tng trng cao nhng cng c ri ro cao hn.","T l chi ph qun l (TER) ca qu ETF ny l 0,56% mi nm. VanEck Junior Gold Miners UCITS l qu ETF chuyn bit theo di cc cng ty khai thc vng quy m nh. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck Junior Gold Miners UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 678 triu Euro. Qu c ra mt vo ngy 22 thng 9 nm 2009 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"MVIS Global Junior Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, Quy m nh"},{key:"Quy m qu",value:"678 triu EUR"},{key:"T l chi ph tng cng",value:"0,56% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"42,34%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 22 thng 9 nm 2009"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:58.67,totalHoldings:78},topHoldings:[{name:"Cng ty B2Gold",weight:8.45},{name:"Cng ty Alamos Gold",weight:7.89},{name:"Cng ty Yamana Gold",weight:6.78},{name:"Cng ty Eldorado Gold",weight:5.67},{name:"Cng ty Centerra Gold",weight:5.23},{name:"Cng ty New Gold",weight:4.89},{name:"Cng ty Torex Gold Resources",weight:4.56},{name:"Cng ty Iamgold",weight:4.23},{name:"Cng ty Endeavour Mining",weight:3.89},{name:"Cng ty Kirkland Lake Gold",weight:7.08}],countries:[{name:"Canada",weight:52.34},{name:"c",weight:18.67},{name:"Hoa K",weight:12.45},{name:"Nam Phi",weight:7.89},{name:"Khc",weight:8.65}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:94.56},{name:"Khc",weight:5.44}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1234,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:145.67},{key:"1m",label:"1 thng",value:15.89},{key:"3m",label:"3 thng",value:35.23},{key:"6m",label:"6 thng",value:78.45},{key:"1y",label:"1 nm",value:142.34},{key:"3y",label:"3 nm",value:234.56},{key:"5y",label:"5 nm",value:198.78},{key:"max",label:"K t khi thnh lp (MAX)",value:45.67},{key:"2024",label:"2024",value:28.9},{key:"2023",label:"2023",value:12.45},{key:"2022",label:"2022",value:-1.23},{key:"2021",label:"2021",value:2.34}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[11.2,.8,12.1,.5,9.4,12.8,3.2,25.6,29.8,-2.1,21.4,6.7],2024:[-6.8,-7.4,22.4,15.4,14.9,-6.2,10.7,-4.9,10.4,18.2,-.5,-6.5],2023:[8.2,-8.4,15.8,-1.9,-3.9,-2.8,7.5,-.5,-5.1,2,13.8,5.4],2022:[3.7,-.4,6.1,-.8,3.3,-1.9,4.4,-2.7,3.5,4.8,.9,3.9],2021:[3.4,-.7,5.5,-.3,3.9,-1.4,2.9,-2.2,4.3,4.4,1.5,3.3]}},scale:{min:-30,max:30,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:42.34,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:38.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:39.89,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.36,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.89,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:1.12,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-11.23,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-17.89,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-29.45,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-86.78,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}},"hanetf-auag-esg-gold-mining-ucits-etf":{name:"HANetf AuAg ESG Gold Mining UCITS ETF",slug:"hanetf-auag-esg-gold-mining-ucits-etf",description:["Qu ETF HANetf AuAg ESG Gold Mining UCITS hng n mc tiu theo di ch s AuAg ESG Gold Mining. Ch s ny theo di cc cng ty khai thc vng p ng cc tiu chun ESG (Mi trng, X hi v Qun tr) nghim ngt, tp trung vo u t bn vng trong ngnh khai thc vng.","T l chi ph qun l (TER) ca qu ETF ny l 0,75% mi nm. HANetf AuAg ESG Gold Mining UCITS ETF l qu ETF u tin tp trung vo u t ESG trong ngnh khai thc vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp ti u ha. C tc trong qu ETF c tch ly v ti u t.","Qu ETF HANetf AuAg ESG Gold Mining UCITS l mt qu ETF c quy m nh vi tng ti sn qun l khong 234 triu Euro. Qu c ra mt vo ngy 12 thng 3 nm 2021 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"AuAg ESG Gold Mining"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, ESG"},{key:"Quy m qu",value:"234 triu EUR"},{key:"T l chi ph tng cng",value:"0,75% mi nm"},{key:"Sao chp",value:"Ti u ha (Sao chp mt phn)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"C (ESG)"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"28,90%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 12 thng 3 nm 2021"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"HANetf"}],holdings:{summary:{top10Weight:69.78,totalHoldings:35},topHoldings:[{name:"Tp on Newmont",weight:14.56},{name:"Cng ty Khai thc M Agnico Eagle",weight:11.23},{name:"Cng ty Khai thc M Barrick",weight:9.78},{name:"Franco-Nevada",weight:8.45},{name:"Cng ty Gold Fields",weight:7.12},{name:"Anglogold Ashanti",weight:6.34},{name:"Cng ty Kinross Gold",weight:5.67},{name:"Cng ty Ti nguyn Sao Bc",weight:3.89},{name:"Cng ty Alamos Gold",weight:2.74},{name:"Cng ty Yamana Gold",weight:0}],countries:[{name:"Canada",weight:46.78},{name:"Hoa K",weight:19.45},{name:"c",weight:15.67},{name:"Nam Phi",weight:9.23},{name:"Khc",weight:8.87}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:87.45},{name:"Khc",weight:12.55}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"HANetf",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"HANetf",rating:4.5,orderFee:"1,20",etfSavingsPlans:567,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:115.23},{key:"1m",label:"1 thng",value:8.45},{key:"3m",label:"3 thng",value:20.67},{key:"6m",label:"6 thng",value:48.9},{key:"1y",label:"1 nm",value:105.78},{key:"3y",label:"3 nm",value:167.45},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:89.67},{key:"2024",label:"2024",value:16.78},{key:"2023",label:"2023",value:4.56},{key:"2022",label:"2022",value:-7.89},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.2,-1.1,8.4,-2.3,5.8,8.6,.7,18.9,21.5,-5.2,14.8,3.1],2024:[-9.5,-10.1,17.9,10.8,10.5,-8.9,6.7,-7.6,6.4,13.2,-3.2,-9.2],2023:[4.8,-11.2,11.6,-4.7,-6.7,-5.6,5.1,-3.2,-7.8,-.6,10.2,2.3],2022:[0,0,0,-7.2,-12.8,3.2,-8.1,-4.9,1.7,8.1,3.4,0],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:28.9,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:25.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.42,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-18.9,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-26.45,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-31.78,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}}},ETF_MAP_ENGLISH={"global-x-silver-miners-ucits-etf":{name:"Global X Silver Miners UCITS ETF",slug:"global-x-silver-miners-ucits-etf",description:["The Global X Silver Miners UCITS ETF USD Accumulating aims to track the performance of the Solactive Global Silver Miners Index. The Solactive Global Silver Miners Index tracks companies worldwide engaged in silver exploration, mining and/or refining.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. Global X Silver Miners UCITS ETF USD Accumulating is the only ETF tracking the Solactive Global Silver Miners Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The Global X Silver Miners UCITS ETF USD Accumulating is a very large ETF with assets under management of 1,008 million Euro. The ETF was launched on May 4, 2022 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Global Silver Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"1,014 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"38.09%"},{key:"Inception / Listing Date",value:"May 4, 2022"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Global X"}],holdings:{summary:{top10Weight:74.88,totalHoldings:32},topHoldings:[{name:"Pan American Silver Corp",weight:12.01},{name:"Coeur Mining Inc",weight:11.13},{name:"Wheaton Precious Metals Corp",weight:10.96},{name:"Industrias Penoles SAB de CV",weight:7.64},{name:"Hecla Mining Co",weight:7.61},{name:"Korea Zinc Co Ltd",weight:6.45},{name:"First Majestic Silver Corp",weight:5.64},{name:"Fresnillo Plc",weight:5.19},{name:"SSR Mining Inc",weight:4.56},{name:"Compania de Minas Buenaventura SAA",weight:3.69}],countries:[{name:"Canada",weight:38.62},{name:"United States",weight:23.37},{name:"Mexico",weight:12.83},{name:"South Korea",weight:6.45},{name:"Other",weight:18.73}],sectors:[{name:"Basic Materials",weight:83.34},{name:"Other",weight:16.66}],asOfDate:"2025-10-30"}},"ishares-gold-producers-ucits-etf":{name:"iShares Gold Producers UCITS ETF",slug:"ishares-gold-producers-ucits-etf",description:["The iShares Gold Producers UCITS ETF aims to track the performance of the S&P Commodity Producers Gold Index. The S&P Commodity Producers Gold Index tracks the largest listed companies engaged in gold exploration and production and related products worldwide.","The Total Expense Ratio (TER) of this ETF is 0.55% per annum. The iShares Gold Producers UCITS ETF is the only ETF tracking the S&P Commodity Producers Gold Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The iShares Gold Producers UCITS ETF is a very large ETF with assets under management of 3,624 million Euro. The fund was launched on September 16, 2011 and is domiciled in Ireland."],basics:[{key:"Index",value:"S&P Commodity Producers Gold"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"3,624 million EUR"},{key:"Total Expense Ratio",value:"0.55% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"30.59%"},{key:"Inception / Listing Date",value:"September 16, 2011"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"iShares"}],holdings:{summary:{top10Weight:63.22,totalHoldings:64},topHoldings:[{name:"Agnico Eagle Mines Limited",weight:10.15},{name:"Newmont Corporation",weight:10.02},{name:"Barrick Gold Corporation",weight:8.75},{name:"Wheaton Precious Metals Corp",weight:6.9},{name:"Franco-Nevada Corporation",weight:5.65},{name:"Gold Fields Limited",weight:5.38},{name:"AngloGold Ashanti Limited",weight:4.53},{name:"Kinross Gold Corporation",weight:4.5},{name:"Zijin Mining Group Co Ltd",weight:3.88},{name:"Northern Star Resources Ltd",weight:3.46}],countries:[{name:"Canada",weight:41.4},{name:"United States",weight:15.4},{name:"Australia",weight:10.36},{name:"China",weight:5.71},{name:"Other",weight:27.13}],sectors:[{name:"Basic Materials",weight:74.81},{name:"Other",weight:25.19}],asOfDate:"2025-10-30"}},"landg-gold-mining-ucits-etf":{name:"L&G Gold Mining UCITS ETF",slug:"landg-gold-mining-ucits-etf",description:["The L&G Gold Mining UCITS ETF aims to track the performance of the Solactive Gold Miners Index. This index tracks the largest listed companies engaged in gold exploration, mining and production worldwide.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. L&G Gold Mining UCITS ETF is one of the ETFs tracking the Solactive Gold Miners Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The L&G Gold Mining UCITS ETF is a medium-sized ETF with assets under management of approximately 1,245 million Euro. The fund was launched on June 10, 2020 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"1,245 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"29.84%"},{key:"Inception / Listing Date",value:"June 10, 2020"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Legal & General"}],holdings:{summary:{top10Weight:65.45,totalHoldings:58},topHoldings:[{name:"Newmont Corporation",weight:11.25},{name:"Barrick Gold Corporation",weight:9.87},{name:"Agnico Eagle Mines Limited",weight:8.92},{name:"Wheaton Precious Metals Corp",weight:7.15},{name:"Franco-Nevada Corporation",weight:6.33},{name:"Gold Fields Limited",weight:5.78},{name:"AngloGold Ashanti Limited",weight:4.89},{name:"Kinross Gold Corporation",weight:4.67},{name:"Zijin Mining Group Co Ltd",weight:3.45},{name:"Northern Star Resources Ltd",weight:3.14}],countries:[{name:"Canada",weight:42.15},{name:"United States",weight:16.78},{name:"Australia",weight:11.23},{name:"China",weight:6.89},{name:"Other",weight:22.95}],sectors:[{name:"Basic Materials",weight:76.34},{name:"Other",weight:23.66}],asOfDate:"2025-10-30"}},"ubs-solactive-global-pure-gold-miners-ucits-etf-usd":{name:"UBS Solactive Global Pure Gold Miners UCITS ETF USD",slug:"ubs-solactive-global-pure-gold-miners-ucits-etf-usd",description:["The UBS Solactive Global Pure Gold Miners UCITS ETF USD aims to track the performance of the Solactive Global Pure Gold Miners Index. This index tracks the largest listed companies specializing in pure gold mining operations worldwide.","The Total Expense Ratio (TER) of this ETF is 0.28% per annum. UBS Solactive Global Pure Gold Miners UCITS ETF USD is one of the lowest-cost ETFs tracking gold indices. This ETF replicates the performance of the underlying index through optimized sampling. Dividends in the ETF are distributed quarterly.","The UBS Solactive Global Pure Gold Miners UCITS ETF USD is a large ETF with assets under management of approximately 2,156 million Euro. The fund was launched on January 18, 2018 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Global Pure Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"2,156 million EUR"},{key:"Total Expense Ratio",value:"0.28% per annum"},{key:"Replication",value:"Optimized (Partial Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"31.22%"},{key:"Inception / Listing Date",value:"January 18, 2018"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"UBS"}],holdings:{summary:{top10Weight:68.92,totalHoldings:45},topHoldings:[{name:"Newmont Corporation",weight:12.45},{name:"Barrick Gold Corporation",weight:10.78},{name:"Agnico Eagle Mines Limited",weight:9.34},{name:"Wheaton Precious Metals Corp",weight:7.89},{name:"Franco-Nevada Corporation",weight:6.78},{name:"Gold Fields Limited",weight:5.92},{name:"AngloGold Ashanti Limited",weight:5.23},{name:"Kinross Gold Corporation",weight:4.89},{name:"Zijin Mining Group Co Ltd",weight:3.12},{name:"Northern Star Resources Ltd",weight:2.52}],countries:[{name:"Canada",weight:43.78},{name:"United States",weight:18.45},{name:"Australia",weight:12.67},{name:"China",weight:7.23},{name:"Other",weight:17.87}],sectors:[{name:"Basic Materials",weight:89.45},{name:"Other",weight:10.55}],asOfDate:"2025-10-30"}},"vaneck-gold-miners-ucits-etf":{name:"VanEck Gold Miners UCITS ETF",slug:"vaneck-gold-miners-ucits-etf",description:["The VanEck Gold Miners UCITS ETF aims to track the performance of the NYSE Arca Gold Miners Index. This index tracks the largest listed companies engaged in gold mining operations worldwide, including gold mining companies and gold-related companies.","The Total Expense Ratio (TER) of this ETF is 0.53% per annum. VanEck Gold Miners UCITS ETF is one of the oldest ETFs tracking the gold mining sector. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck Gold Miners UCITS ETF is a large ETF with assets under management of approximately 4,567 million Euro. The fund was launched on December 15, 2006 and is domiciled in Ireland."],basics:[{key:"Index",value:"NYSE Arca Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"4,567 million EUR"},{key:"Total Expense Ratio",value:"0.53% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"32.45%"},{key:"Inception / Listing Date",value:"December 15, 2006"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:71.23,totalHoldings:52},topHoldings:[{name:"Newmont Corporation",weight:13.78},{name:"Barrick Gold Corporation",weight:11.45},{name:"Agnico Eagle Mines Limited",weight:9.89},{name:"Wheaton Precious Metals Corp",weight:8.23},{name:"Franco-Nevada Corporation",weight:7.12},{name:"Gold Fields Limited",weight:6.34},{name:"AngloGold Ashanti Limited",weight:5.67},{name:"Kinross Gold Corporation",weight:4.98},{name:"Zijin Mining Group Co Ltd",weight:2.89},{name:"Northern Star Resources Ltd",weight:.88}],countries:[{name:"Canada",weight:45.67},{name:"United States",weight:20.34},{name:"Australia",weight:13.45},{name:"China",weight:8.12},{name:"Other",weight:12.42}],sectors:[{name:"Basic Materials",weight:92.34},{name:"Other",weight:7.66}],asOfDate:"2025-10-30"}},"market-access-nyse-arca-gold-bugs-ucits-etf":{name:"Market Access NYSE Arca Gold Bugs UCITS ETF",slug:"market-access-nyse-arca-gold-bugs-ucits-etf",description:["The Market Access NYSE Arca Gold Bugs UCITS ETF aims to track the performance of the NYSE Arca Gold BUGS Index. This index tracks gold mining companies that do not hedge their gold price exposure beyond 1.5 years, focusing on companies with the highest potential for growth when gold prices rise.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. Market Access NYSE Arca Gold Bugs UCITS ETF is a specialized ETF tracking 'unhedged' gold mining companies. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The Market Access NYSE Arca Gold Bugs UCITS ETF is a medium-sized ETF with assets under management of approximately 892 million Euro. The fund was launched on April 28, 2008 and is domiciled in Ireland."],basics:[{key:"Index",value:"NYSE Arca Gold BUGS"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"892 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"35.67%"},{key:"Inception / Listing Date",value:"April 28, 2008"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Market Access"}],holdings:{summary:{top10Weight:73.45,totalHoldings:28},topHoldings:[{name:"Newmont Corporation",weight:15.23},{name:"Barrick Gold Corporation",weight:12.67},{name:"Agnico Eagle Mines Limited",weight:10.45},{name:"Franco-Nevada Corporation",weight:8.89},{name:"Gold Fields Limited",weight:7.23},{name:"AngloGold Ashanti Limited",weight:6.78},{name:"Kinross Gold Corporation",weight:5.34},{name:"Northern Star Resources Ltd",weight:3.67},{name:"Alamos Gold Inc",weight:2.89},{name:"B2Gold Corp",weight:.3}],countries:[{name:"Canada",weight:48.9},{name:"United States",weight:22.67},{name:"Australia",weight:14.78},{name:"South Africa",weight:8.45},{name:"Other",weight:5.2}],sectors:[{name:"Basic Materials",weight:95.67},{name:"Other",weight:4.33}],asOfDate:"2025-10-30"}},"hanetf-auag-esg-gold-mining-ucits-etf":{name:"HANetf AuAg ESG Gold Mining UCITS ETF",slug:"hanetf-auag-esg-gold-mining-ucits-etf",description:["The HANetf AuAg ESG Gold Mining UCITS ETF aims to track the performance of the AuAg ESG Gold Mining Index. This index tracks gold mining companies that meet strict ESG (Environmental, Social and Governance) standards, focusing on sustainable investment in the gold mining sector.","The Total Expense Ratio (TER) of this ETF is 0.75% per annum. HANetf AuAg ESG Gold Mining UCITS ETF is the first ETF focusing on ESG investment in the gold mining sector. This ETF replicates the performance of the underlying index through optimized sampling. Dividends in the ETF are accumulated and reinvested.","The HANetf AuAg ESG Gold Mining UCITS ETF is a small ETF with assets under management of approximately 234 million Euro. The fund was launched on March 12, 2021 and is domiciled in Ireland."],basics:[{key:"Index",value:"AuAg ESG Gold Mining"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, ESG"},{key:"Fund Size",value:"234 million EUR"},{key:"Total Expense Ratio",value:"0.75% per annum"},{key:"Replication",value:"Optimized (Partial Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"Yes (ESG)"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"28.90%"},{key:"Inception / Listing Date",value:"March 12, 2021"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"HANetf"}],holdings:{summary:{top10Weight:69.78,totalHoldings:35},topHoldings:[{name:"Newmont Corporation",weight:14.56},{name:"Agnico Eagle Mines Limited",weight:11.23},{name:"Barrick Gold Corporation",weight:9.78},{name:"Franco-Nevada Corporation",weight:8.45},{name:"Gold Fields Limited",weight:7.12},{name:"AngloGold Ashanti Limited",weight:6.34},{name:"Kinross Gold Corporation",weight:5.67},{name:"Northern Star Resources Ltd",weight:3.89},{name:"Alamos Gold Inc",weight:2.74},{name:"Yamana Gold Inc",weight:0}],countries:[{name:"Canada",weight:46.78},{name:"United States",weight:19.45},{name:"Australia",weight:15.67},{name:"South Africa",weight:9.23},{name:"Other",weight:8.87}],sectors:[{name:"Basic Materials",weight:87.45},{name:"Other",weight:12.55}],asOfDate:"2025-10-30"}},"vaneck-junior-gold-miners-ucits":{name:"VanEck Junior Gold Miners UCITS",slug:"vaneck-junior-gold-miners-ucits",description:["The VanEck Junior Gold Miners UCITS ETF aims to track the performance of the MVIS Global Junior Gold Miners Index. This index tracks small and medium-sized gold mining companies worldwide, focusing on companies with high growth potential but also higher risk.","The Total Expense Ratio (TER) of this ETF is 0.56% per annum. VanEck Junior Gold Miners UCITS is a specialized ETF tracking small-cap gold mining companies. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck Junior Gold Miners UCITS ETF is a medium-sized ETF with assets under management of approximately 678 million Euro. The fund was launched on September 22, 2009 and is domiciled in Ireland."],basics:[{key:"Index",value:"MVIS Global Junior Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, Small Cap"},{key:"Fund Size",value:"678 million EUR"},{key:"Total Expense Ratio",value:"0.56% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"42.34%"},{key:"Inception / Listing Date",value:"September 22, 2009"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:58.67,totalHoldings:78},topHoldings:[{name:"B2Gold Corp",weight:8.45},{name:"Alamos Gold Inc",weight:7.89},{name:"Yamana Gold Inc",weight:6.78},{name:"Eldorado Gold Corporation",weight:5.67},{name:"Centerra Gold Inc",weight:5.23},{name:"New Gold Inc",weight:4.89},{name:"Torex Gold Resources Inc",weight:4.56},{name:"Iamgold Corporation",weight:4.23},{name:"Endeavour Mining Corporation",weight:3.89},{name:"Kirkland Lake Gold Ltd",weight:7.08}],countries:[{name:"Canada",weight:52.34},{name:"Australia",weight:18.67},{name:"United States",weight:12.45},{name:"South Africa",weight:7.89},{name:"Other",weight:8.65}],sectors:[{name:"Basic Materials",weight:94.56},{name:"Other",weight:5.44}],asOfDate:"2025-10-30"}},"vaneck-sandp-global-mining-ucits-etf-a":{name:"VanEck S&P Global Mining UCITS ETF A",slug:"vaneck-sandp-global-mining-ucits-etf-a",description:["The VanEck S&P Global Mining UCITS ETF A aims to track the performance of the S&P Global Mining Index. This index tracks the largest mining and metals companies worldwide, including gold, silver, copper, iron and other precious metals.","The Total Expense Ratio (TER) of this ETF is 0.50% per annum. VanEck S&P Global Mining UCITS ETF A is a diversified ETF in the global mining sector. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck S&P Global Mining UCITS ETF A is a large ETF with assets under management of approximately 3,456 million Euro. The fund was launched on November 8, 2007 and is domiciled in Ireland."],basics:[{key:"Index",value:"S&P Global Mining"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, Diversified"},{key:"Fund Size",value:"3,456 million EUR"},{key:"Total Expense Ratio",value:"0.50% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"26.78%"},{key:"Inception / Listing Date",value:"November 8, 2007"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:54.23,totalHoldings:89},topHoldings:[{name:"BHP Group Limited",weight:8.9},{name:"Rio Tinto Plc",weight:7.45},{name:"Vale SA",weight:6.78},{name:"Newmont Corporation",weight:5.67},{name:"Barrick Gold Corporation",weight:4.89},{name:"Glencore Plc",weight:4.56},{name:"Agnico Eagle Mines Limited",weight:4.23},{name:"Freeport-McMoRan Inc",weight:3.89},{name:"Anglo American Plc",weight:3.67},{name:"Teck Resources Limited",weight:4.19}],countries:[{name:"Australia",weight:28.45},{name:"Canada",weight:24.67},{name:"United States",weight:18.9},{name:"Brazil",weight:12.34},{name:"Other",weight:15.64}],sectors:[{name:"Basic Materials",weight:78.9},{name:"Energy",weight:12.34},{name:"Other",weight:8.76}],asOfDate:"2025-10-30"}}},commonETFSections={offers:{description:"Here you can find information about available savings plans for the ETF. You can use the table to compare all available savings plans with the selected savings rate.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"flatex",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:"Conditions apply"}]},orderFees:{description:"Here you can find information about different brokers that allow you to trade the ETF. Select your desired trading volume to compare the trading fees of each broker.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0.99",etfSavingsPlans:2968,actionLabel:"View Offer",note:"Conditions apply"},{name:"Trade Republic",rating:5,orderFee:"1.00",etfSavingsPlans:2640,actionLabel:"View Offer",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0.00",etfSavingsPlans:1881,actionLabel:"View Offer",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0.00",etfSavingsPlans:1617,actionLabel:"View Offer",note:"Conditions apply"},{name:"Traders Place",rating:5,orderFee:"0.00",etfSavingsPlans:1523,actionLabel:"View Offer",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"Year to date",value:118.45},{key:"1m",label:"1 month",value:8.76},{key:"3m",label:"3 months",value:21.89},{key:"6m",label:"6 months",value:51.23},{key:"1y",label:"1 year",value:109.67},{key:"3y",label:"3 years",value:176.89},{key:"5y",label:"5 years",value:null},{key:"max",label:"Since inception (MAX)",value:125.34},{key:"2024",label:"2024",value:17.89},{key:"2023",label:"2023",value:5.67},{key:"2022",label:"2022",value:-8.45},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.8,-.9,8.7,-1.8,6.2,8.9,1,19.5,22.1,-4.6,15.2,3.5],2024:[-8.9,-9.5,18.8,11.8,11.3,-8.3,7.3,-7,7,13.9,-2.6,-8.6],2023:[5.1,-10.5,12.1,-4.1,-6.1,-5,5.4,-2.6,-7.2,-.1,10.6,2.6],2022:[0,0,0,0,0,0,-6.6,-12.2,3.5,-7.3,-4.3,2],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Risk Overview",overview:[{key:"volatility_1y",label:"1 Year Volatility",value:29.84,unit:"%"},{key:"volatility_3y",label:"3 Year Volatility",value:26.12,unit:"%"},{key:"volatility_5y",label:"5 Year Volatility",value:null,unit:"%"},{key:"return_risk_1y",label:"Return to Risk 1 Year",value:3.67,unit:""},{key:"return_risk_3y",label:"Return to Risk 3 Years",value:1.48,unit:""},{key:"return_risk_5y",label:"Return to Risk 5 Years",value:null,unit:""},{key:"max_drawdown_1y",label:"Maximum Drawdown 1 Year",value:-17.45,unit:"%"},{key:"max_drawdown_3y",label:"Maximum Drawdown 3 Years",value:-24.78,unit:"%"},{key:"max_drawdown_5y",label:"Maximum Drawdown 5 Years",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Maximum Drawdown Since Inception",value:-28.67,unit:"%"}],rollingVolatility:{title:"Rolling 1 Year Volatility",period:"1 year",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares-loi-nhuan-theo-thang.jpg"}}};Object.keys(ETF_MAP_ENGLISH).forEach(tr=>{ETF_MAP_ENGLISH[tr].offers||(ETF_MAP_ENGLISH[tr].offers=commonETFSections.offers),ETF_MAP_ENGLISH[tr].orderFees||(ETF_MAP_ENGLISH[tr].orderFees=commonETFSections.orderFees),ETF_MAP_ENGLISH[tr].performance||(ETF_MAP_ENGLISH[tr].performance=commonETFSections.performance),ETF_MAP_ENGLISH[tr].risk||(ETF_MAP_ENGLISH[tr].risk=commonETFSections.risk)});const cache=new Map,MAX_CACHE_SIZE=200,translateText=async(tr,Hn="en",er="vi")=>{if(!tr||typeof tr!="string")return tr;const nr=tr.slice(0,4500),ir=`${Hn}_${er}_${nr}`;if(cache.has(ir))return cache.get(ir);const rr=[()=>translateWithGoogleAPI1(nr,Hn,er),()=>translateWithGoogleAPI2(nr,Hn,er),()=>translateWithMyMemory(nr,Hn,er),()=>quickTranslateCommon(nr)];for(const sr of rr)try{const ar=await sr();if(ar&&ar!==nr){if(cache.size>=MAX_CACHE_SIZE){const or=cache.keys().next().value;cache.delete(or)}return cache.set(ir,ar),ar}}catch(ar){console.warn("Translation method failed:",ar.message);continue}return nr};async function translateWithGoogleAPI1(tr,Hn,er){const nr=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${Hn}&tl=${er}&dt=t&q=${encodeURIComponent(tr)}`);if(!nr.ok)throw new Error("Google API 1 failed");return(await nr.json())[0]?.map(rr=>rr[0]).join("")||tr}async function translateWithGoogleAPI2(tr,Hn,er){const nr=await fetch(`https://clients5.google.com/translate_a/t?client=dict-chrome-ex&sl=${Hn}&tl=${er}&q=${encodeURIComponent(tr)}`);if(!nr.ok)throw new Error("Google API 2 failed");return(await nr.json())[0]||tr}async function translateWithMyMemory(tr,Hn,er){const nr=await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(tr)}&langpair=${Hn}|${er}`);if(!nr.ok)throw new Error("MyMemory API failed");return(await nr.json()).responseData?.translatedText||tr}function quickTranslateCommon(tr){const Hn={Corporation:"Tp on",Corp:"Cng ty",Inc:"Cng ty",Limited:"Cng ty",Ltd:"Cng ty",Plc:"Cng ty",Group:"Tp on",Mining:"Khai thc M",Gold:"Vng",Silver:"Bc",Resources:"Ti nguyn","Precious Metals":"Kim loi Qu",Mines:"M",Eagle:"i bng","United States":"Hoa K",Canada:"Canada",Australia:"c",China:"Trung Quc","South Africa":"Nam Phi",Mexico:"Mexico",Brazil:"Brazil","South Korea":"Hn Quc",Other:"Khc","Basic Materials":"Ngnh Khai thc & Kim loi",Materials:"Vt liu",Energy:"Nng lng",Index:"Ch s","Investment Focus":"Trng tm u t","Fund Size":"Quy m qu","Total Expense Ratio":"T l chi ph tng cng",Replication:"Sao chp","Legal Structure":"Cu trc php l","Strategy Risk":"Ri ro chin lc",Sustainability:"Tnh bn vng","Fund Currency":"Tin t ca qu","Currency Risk":"Ri ro tin t",Volatility:"Bin ng",Inception:"Thnh lp","Listing Date":"Ngy nim yt","Distribution Policy":"Chnh sch phn phi","Distribution Frequency":"Tn sut phn b","Fund Domicile":"Ni t tr s qu","Fund Provider":"Nh cung cp qu","Year to date":"T u nm n nay","Since inception":"K t khi thnh lp","Risk Overview":"Tng quan ri ro",Rolling:"Lin tip","Maximum Drawdown":"Mc st gim ti a","Return to Risk":"Li nhun trn ri ro","View Offer":"Xem u i","Conditions apply":"C iu kin p dng","per annum":"mi nm",Physical:"Vt l","Full Replication":"Sao chp hon ton","Partial Replication":"Sao chp mt phn",Optimized:"Ti u ha",Accumulating:"Tch ly",Distributing:"Phn phi",Quarterly:"Hng qu","Long Only":"Ch di hn","Currency not hedged":"Tin t khng c phng nga ri ro",Ireland:"Ireland",No:"KHNG",Yes:"C"};let er=tr;for(const[nr,ir]of Object.entries(Hn)){const rr=new RegExp(`\\b${nr}\\b`,"gi");er=er.replace(rr,ir)}return er!==tr?er:null}const etfTranslationCache=new Map,translateETFData=async tr=>{if(!tr)return tr;const Hn=`etf_${tr.slug}`;if(etfTranslationCache.has(Hn))return etfTranslationCache.get(Hn);try{const er={...tr};if(console.log("ang dch ETF:",tr.name),tr.description&&Array.isArray(tr.description)){console.log("ang dch description..."),er.description=[];for(let nr=0;nr<tr.description.length;nr++)try{const ir=await translateText(tr.description[nr],"en","vi");er.description.push(ir),await new Promise(rr=>setTimeout(rr,100))}catch(ir){console.warn(`Li dch description ${nr}:`,ir),er.description.push(tr.description[nr])}}if(tr.basics&&Array.isArray(tr.basics)){console.log("ang dch basics..."),er.basics=[];for(let nr=0;nr<tr.basics.length;nr++)try{const ir=tr.basics[nr],rr=await translateText(ir.key,"en","vi");await new Promise(ar=>setTimeout(ar,50));const sr=await translateText(ir.value,"en","vi");await new Promise(ar=>setTimeout(ar,50)),er.basics.push({key:rr,value:sr})}catch(ir){console.warn(`Li dch basic ${nr}:`,ir),er.basics.push(tr.basics[nr])}}if(tr.holdings){if(console.log("ang dch holdings..."),er.holdings={...tr.holdings},tr.holdings.topHoldings){er.holdings.topHoldings=[];for(let nr=0;nr<tr.holdings.topHoldings.length;nr++)try{const ir=tr.holdings.topHoldings[nr],rr=await translateText(ir.name,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.holdings.topHoldings.push({...ir,name:rr})}catch(ir){console.warn(`Li dch holding ${nr}:`,ir),er.holdings.topHoldings.push(tr.holdings.topHoldings[nr])}}if(tr.holdings.countries){er.holdings.countries=[];for(let nr=0;nr<tr.holdings.countries.length;nr++)try{const ir=tr.holdings.countries[nr],rr=await translateText(ir.name,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.holdings.countries.push({...ir,name:rr})}catch(ir){console.warn(`Li dch country ${nr}:`,ir),er.holdings.countries.push(tr.holdings.countries[nr])}}if(tr.holdings.sectors){er.holdings.sectors=[];for(let nr=0;nr<tr.holdings.sectors.length;nr++)try{const ir=tr.holdings.sectors[nr],rr=await translateText(ir.name,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.holdings.sectors.push({...ir,name:rr})}catch(ir){console.warn(`Li dch sector ${nr}:`,ir),er.holdings.sectors.push(tr.holdings.sectors[nr])}}}if(tr.performance&&tr.performance.summary){console.log("ang dch performance..."),er.performance={...tr.performance},er.performance.summary=[];for(let nr=0;nr<tr.performance.summary.length;nr++)try{const ir=tr.performance.summary[nr],rr=await translateText(ir.label,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.performance.summary.push({...ir,label:rr})}catch(ir){console.warn(`Li dch performance ${nr}:`,ir),er.performance.summary.push(tr.performance.summary[nr])}}if(tr.risk){console.log("ang dch risk..."),er.risk={...tr.risk};try{er.risk.title=await translateText(tr.risk.title,"en","vi"),await new Promise(nr=>setTimeout(nr,50))}catch(nr){console.warn("Li dch risk title:",nr)}if(tr.risk.overview){er.risk.overview=[];for(let nr=0;nr<tr.risk.overview.length;nr++)try{const ir=tr.risk.overview[nr],rr=await translateText(ir.label,"en","vi");await new Promise(sr=>setTimeout(sr,50)),er.risk.overview.push({...ir,label:rr})}catch(ir){console.warn(`Li dch risk overview ${nr}:`,ir),er.risk.overview.push(tr.risk.overview[nr])}}if(tr.risk.rollingVolatility)try{er.risk.rollingVolatility={...tr.risk.rollingVolatility,title:await translateText(tr.risk.rollingVolatility.title,"en","vi")}}catch(nr){console.warn("Li dch rolling volatility:",nr),er.risk.rollingVolatility=tr.risk.rollingVolatility}}return console.log("Hon thnh dch ETF:",tr.name),etfTranslationCache.set(Hn,er),er}catch(er){return console.error("Error translating ETF data:",er),quickTranslateETFData(tr)}};function quickTranslateETFData(tr){console.log("S dng quick translate cho:",tr.name);const Hn={...tr};return tr.basics&&(Hn.basics=tr.basics.map(er=>({key:quickTranslateETF(er.key),value:quickTranslateETF(er.value)}))),tr.holdings&&(Hn.holdings={...tr.holdings},tr.holdings.topHoldings&&(Hn.holdings.topHoldings=tr.holdings.topHoldings.map(er=>({...er,name:quickTranslateETF(er.name)}))),tr.holdings.countries&&(Hn.holdings.countries=tr.holdings.countries.map(er=>({...er,name:quickTranslateETF(er.name)}))),tr.holdings.sectors&&(Hn.holdings.sectors=tr.holdings.sectors.map(er=>({...er,name:quickTranslateETF(er.name)})))),Hn}const quickTranslateETF=tr=>{const Hn={Corporation:"Tp on",Corp:"Cng ty",Inc:"Cng ty",Limited:"Cng ty",Ltd:"Cng ty",Plc:"Cng ty",Group:"Tp on",Mining:"Khai thc M",Gold:"Vng",Silver:"Bc",Resources:"Ti nguyn","Precious Metals":"Kim loi Qu",Mines:"M",Eagle:"i bng","United States":"Hoa K",Canada:"Canada",Australia:"c",China:"Trung Quc","South Africa":"Nam Phi",Mexico:"Mexico",Brazil:"Brazil","South Korea":"Hn Quc",Other:"Khc","Basic Materials":"Ngnh Khai thc & Kim loi",Materials:"Vt liu",Energy:"Nng lng",Index:"Ch s","Investment Focus":"Trng tm u t","Fund Size":"Quy m qu","Total Expense Ratio":"T l chi ph tng cng",Replication:"Sao chp","Legal Structure":"Cu trc php l","Strategy Risk":"Ri ro chin lc",Sustainability:"Tnh bn vng","Fund Currency":"Tin t ca qu","Currency Risk":"Ri ro tin t",Volatility:"Bin ng",Inception:"Thnh lp","Listing Date":"Ngy nim yt","Distribution Policy":"Chnh sch phn phi","Distribution Frequency":"Tn sut phn b","Fund Domicile":"Ni t tr s qu","Fund Provider":"Nh cung cp qu","Year to date":"T u nm n nay","Since inception":"K t khi thnh lp","Risk Overview":"Tng quan ri ro",Rolling:"Lin tip","Maximum Drawdown":"Mc st gim ti a","Return to Risk":"Li nhun trn ri ro","View Offer":"Xem u i","Conditions apply":"C iu kin p dng","per annum":"mi nm",Physical:"Vt l","Full Replication":"Sao chp hon ton","Partial Replication":"Sao chp mt phn",Optimized:"Ti u ha",Accumulating:"Tch ly",Distributing:"Phn phi",Quarterly:"Hng qu","Long Only":"Ch di hn","Currency not hedged":"Tin t khng c phng nga ri ro",Ireland:"Ireland",No:"KHNG",Yes:"C"};let er=tr;for(const[nr,ir]of Object.entries(Hn)){const rr=new RegExp(`\\b${nr}\\b`,"gi");er=er.replace(rr,ir)}return er},ProgressBar=({value:tr})=>jsxRuntimeExports.jsx("div",{className:"progress-bar",children:jsxRuntimeExports.jsx("div",{className:"progress-fill",style:{width:`${tr}%`}})});function EtfSharkDetail(){const{etfSlug:tr}=useParams(),[Hn,er]=reactExports.useState(null),[nr,ir]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{let sr=ETF_MAP[tr],ar=!1;if(sr||(sr=ETF_MAP_ENGLISH[tr],ar=!0),!sr){ir(!1);return}try{if(ar){const or=await translateETFData(sr);er(or)}else er(sr)}catch(or){console.error("Error translating ETF data:",or);const lr={...sr,name:quickTranslateETF(sr.name)};er(lr)}finally{ir(!1)}})()},[tr]),nr?jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",color:"#fff"},children:jsxRuntimeExports.jsx("div",{children:"ang dch thng tin ETF..."})}):Hn?jsxRuntimeExports.jsxs("div",{className:"etf-detail",children:[jsxRuntimeExports.jsx("h1",{className:"section-title",children:Hn?.name}),jsxRuntimeExports.jsx("p",{}),jsxRuntimeExports.jsxs("div",{className:"description",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"M t"}),Hn?.description?.map((rr,sr)=>jsxRuntimeExports.jsx("p",{children:rr},sr))]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"Nhng iu c bn"}),jsxRuntimeExports.jsx("table",{className:"basics-table",children:jsxRuntimeExports.jsx("tbody",{children:Hn.basics?.map((rr,sr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"label",children:rr.key}),jsxRuntimeExports.jsx("td",{className:"value",children:rr.value})]},sr))})})]}),jsxRuntimeExports.jsx(HoldingsSection,{holdings:Hn.holdings}),jsxRuntimeExports.jsx(OffersSection,{offers:Hn.offers}),jsxRuntimeExports.jsx(OrderFeesSection,{orderFees:Hn.orderFees}),jsxRuntimeExports.jsx(PerformanceSection,{performance:Hn.performance}),jsxRuntimeExports.jsx(RiskSection,{risk:Hn.risk})]}):jsxRuntimeExports.jsx("div",{children:"ETF khng tm thy"})}function HoldingsSection({holdings:tr}){return jsxRuntimeExports.jsxs("div",{className:"holdings-section",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"Cng ty nm gi"}),jsxRuntimeExports.jsx("p",{className:"section-subtitle",children:"Di y l thng tin v thnh phn ca qu Global X Silver Miners UCITS ETF USD Accumulating."}),jsxRuntimeExports.jsxs("div",{className:"holdings-grid",children:[jsxRuntimeExports.jsxs("div",{className:"holdings-left",children:[jsxRuntimeExports.jsx("h3",{children:"Top 10 Holdings"}),jsxRuntimeExports.jsxs("div",{className:"summary-box",children:[jsxRuntimeExports.jsxs("span",{children:["T trng ca 10 khon u t hng u trn ",tr.summary.totalHoldings]}),jsxRuntimeExports.jsxs("span",{className:"summary-value",children:[tr.summary.top10Weight,"%"]}),jsxRuntimeExports.jsx(ProgressBar,{value:tr.summary.top10Weight})]}),tr.topHoldings.map(Hn=>jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("span",{className:"row-name",children:Hn.name}),jsxRuntimeExports.jsxs("span",{className:"row-value",children:[Hn.weight,"%"]}),jsxRuntimeExports.jsx(ProgressBar,{value:Hn.weight})]},Hn.name))]}),jsxRuntimeExports.jsxs("div",{className:"holdings-right",children:[jsxRuntimeExports.jsxs("div",{className:"block",children:[jsxRuntimeExports.jsx("h3",{children:"Cc quc gia"}),tr.countries.map(Hn=>jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("span",{className:"row-name",children:Hn.name}),jsxRuntimeExports.jsxs("span",{className:"row-value",children:[Hn.weight,"%"]}),jsxRuntimeExports.jsx(ProgressBar,{value:Hn.weight})]},Hn.name))]}),jsxRuntimeExports.jsxs("div",{className:"block",children:[jsxRuntimeExports.jsx("h3",{children:"Cc lnh vc"}),tr.sectors.map(Hn=>jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx("span",{className:"row-name",children:Hn.name}),jsxRuntimeExports.jsxs("span",{className:"row-value",children:[Hn.weight,"%"]}),jsxRuntimeExports.jsx(ProgressBar,{value:Hn.weight})]},Hn.name))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"asof",children:["Tnh n ngy ",new Date(tr.asOfDate).toLocaleDateString("vi-VN")]})]})}const RatingStars=({value:tr})=>{const Hn=Math.floor(tr),er=tr%1!==0;return jsxRuntimeExports.jsxs("div",{className:"stars",children:[[...Array(Hn)].map((nr,ir)=>jsxRuntimeExports.jsx("span",{children:""},ir)),er&&jsxRuntimeExports.jsx("span",{children:""})]})};function OffersSection({offers:tr}){return jsxRuntimeExports.jsxs("div",{className:"offers-section",children:[jsxRuntimeExports.jsx("h2",{className:"offers-title",children:"Chng trnh tit kim ETF cung cp"}),jsxRuntimeExports.jsx("p",{className:"offers-desc",children:tr.description}),jsxRuntimeExports.jsxs("div",{className:"offers-filter",children:[jsxRuntimeExports.jsx("span",{children:"Chn s tin bn mun tit kim:"}),jsxRuntimeExports.jsx("select",{defaultValue:tr.defaultMonthlyAmount,children:jsxRuntimeExports.jsxs("option",{value:tr.defaultMonthlyAmount,children:[tr.defaultMonthlyAmount," ",tr.currency]})})]}),jsxRuntimeExports.jsxs("table",{className:"offers-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Mi gii"}),jsxRuntimeExports.jsx("th",{children:"Xp hng"}),jsxRuntimeExports.jsx("th",{children:"Ph thc hin"}),jsxRuntimeExports.jsx("th",{children:"Ph ti khon"}),jsxRuntimeExports.jsx("th",{})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.providers.map(Hn=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"provider",children:Hn.name}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(RatingStars,{value:Hn.rating})}),jsxRuntimeExports.jsx("td",{children:Hn.executionFee}),jsxRuntimeExports.jsxs("td",{children:[Hn.accountFee,Hn.note&&jsxRuntimeExports.jsx("span",{className:"note",children:" "})]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"offer-btn",children:Hn.actionLabel})})]},Hn.name))})]})]})}function OrderFeesSection({orderFees:tr}){return jsxRuntimeExports.jsxs("div",{className:"offers-section",children:[jsxRuntimeExports.jsx("h2",{className:"offers-title",children:"Ph giao dch ETF theo nh mi gii"}),jsxRuntimeExports.jsx("p",{className:"offers-desc",children:tr.description}),jsxRuntimeExports.jsxs("div",{className:"offers-filter",children:[jsxRuntimeExports.jsx("span",{children:"Chn khi lng giao dch:"}),jsxRuntimeExports.jsx("select",{defaultValue:tr.defaultOrderVolume,children:jsxRuntimeExports.jsxs("option",{value:tr.defaultOrderVolume,children:[tr.defaultOrderVolume," ",tr.currency]})})]}),jsxRuntimeExports.jsxs("table",{className:"offers-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Mi gii"}),jsxRuntimeExports.jsx("th",{children:"Xp hng"}),jsxRuntimeExports.jsx("th",{children:"Ph giao dch"}),jsxRuntimeExports.jsx("th",{children:"S ETF tit kim"}),jsxRuntimeExports.jsx("th",{})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.providers.map(Hn=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"provider",children:Hn.name}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(RatingStars,{value:Hn.rating})}),jsxRuntimeExports.jsx("td",{children:Hn.orderFee}),jsxRuntimeExports.jsxs("td",{children:[Hn.etfSavingsPlans.toLocaleString("vi-VN"),Hn.note&&jsxRuntimeExports.jsx("span",{className:"note",children:" "})]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"offer-btn",children:Hn.actionLabel})})]},Hn.name))})]})]})}function PerformanceSection({performance:tr}){const{summary:Hn,heatmap:er,currency:nr}=tr;return jsxRuntimeExports.jsxs("div",{className:"performance-section",children:[jsxRuntimeExports.jsx("h2",{className:"section-title-performance",children:"Hiu sut"}),jsxRuntimeExports.jsxs("div",{className:"performance-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"performance-left",children:[jsxRuntimeExports.jsx("h3",{children:"Tng quan v chnh sch hon tr"}),jsxRuntimeExports.jsx("div",{className:"performance-table",children:Hn.map(ir=>jsxRuntimeExports.jsxs("div",{className:"perf-row",children:[jsxRuntimeExports.jsx("span",{className:"perf-label",children:ir.label}),jsxRuntimeExports.jsx("span",{className:`perf-value ${ir.value==null?"neutral":ir.value>=0?"positive":"negative"}`,children:ir.value==null?"-":`${ir.value.toFixed(2)}%`})]},ir.key))})]}),jsxRuntimeExports.jsxs("div",{className:"performance-right",children:[jsxRuntimeExports.jsx("h3",{className:"section-title",children:"Li nhun hng thng c th hin trn bn  nhit"}),jsxRuntimeExports.jsxs("div",{className:"heatmap",children:[jsxRuntimeExports.jsxs("div",{className:"heatmap-header",children:[jsxRuntimeExports.jsx("span",{}),er.months.map(ir=>jsxRuntimeExports.jsx("span",{children:ir},ir))]}),Object.entries(er.data).map(([ir,rr])=>jsxRuntimeExports.jsxs("div",{className:"heatmap-row",children:[jsxRuntimeExports.jsx("span",{className:"heatmap-year",children:ir}),rr.map((sr,ar)=>jsxRuntimeExports.jsx("span",{className:`heatmap-cell ${getHeatClass(sr)}`,children:sr>0?`+${sr}`:sr},ar))]},ir))]})]})]})]})}function getHeatClass(tr){return tr>=20?"heat-very-positive":tr>=10?"heat-positive":tr>0?"heat-light-positive":tr===0?"heat-neutral":tr>-5?"heat-light-negative":tr>-10?"heat-negative":"heat-very-negative"}function RiskSection({risk:tr}){const{overview:Hn,rollingVolatility:er}=tr;return jsxRuntimeExports.jsxs("div",{className:"risk-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"risk-left",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:tr.title}),tr.overview.map(nr=>jsxRuntimeExports.jsxs("div",{className:"risk-row",children:[jsxRuntimeExports.jsx("span",{children:nr.label}),jsxRuntimeExports.jsx("span",{className:nr.value<0?"negative":"",children:nr.value==null?"-":`${nr.value}${nr.unit}`})]},nr.key))]}),jsxRuntimeExports.jsxs("div",{className:"risk-right",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:er.title}),jsxRuntimeExports.jsx("div",{className:"volatility-chart",children:jsxRuntimeExports.jsx("img",{src:er.chartUrl,alt:"Volatility Chart"})})]})]})}const SingleCandlestickChartWithPopup=({data:tr,title:Hn,timeRange:er,setTimeRange:nr,chartKey:ir,initialIsOpen:rr=!1})=>{const[sr,ar]=reactExports.useState(rr),[or,lr]=useSearchParams(),[cr,ur]=reactExports.useState(er);reactExports.useEffect(()=>{const gr=or.get("chart");gr===ir?ar(!0):gr!==ir&&sr&&ar(!1)},[or,ir]);const dr=()=>{ar(!1),or.get("chart")===ir&&(or.delete("chart"),lr(or))},fr=reactExports.useMemo(()=>filterDataByTimeRange(tr,cr),[tr,cr]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:`/chart-detail/${ir}`,style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("div",{style:{cursor:"pointer"},children:jsxRuntimeExports.jsx(SingleCandlestickChart,{data:tr,title:Hn,timeRange:er,setTimeRange:nr})})}),sr&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center"},onClick:dr,children:jsxRuntimeExports.jsxs("div",{style:{width:"97%",maxWidth:"2000px",height:"90%",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px"},onClick:gr=>gr.stopPropagation(),children:[jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:cr,onRangeChange:ur}),jsxRuntimeExports.jsx(SingleCandlestickChart,{data:fr,title:Hn,timeRange:cr,setTimeRange:ur}),jsxRuntimeExports.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:gr=>{gr.stopPropagation(),dr()},children:"ng"})]})})]})},ChartWithPopup=({allData:tr,buyData:Hn,sellData:er,keyIndex:nr,title:ir,time:rr,initialIsOpen:sr=!1})=>{const[ar,or]=reactExports.useState(sr),[lr,cr]=useSearchParams();useNavigate();const[ur,dr]=reactExports.useState(rr),[fr,gr]=reactExports.useState(nr),[yr,vr]=reactExports.useState(ir),jr=tr[`buy${fr}`]||[],Sr=tr[`sell${fr}`]||[];reactExports.useEffect(()=>{lr.get("chart")===nr&&!ar&&or(!0)},[lr,nr]);const Tr=()=>{or(!1),lr.get("chart")===nr&&(lr.delete("chart"),cr(lr))},Lr=reactExports.useMemo(()=>filterDataByTimeRange(Hn,ur),[Hn,ur]),Mr=reactExports.useMemo(()=>filterDataByTimeRange(er,ur),[er,ur]),Nr=reactExports.useMemo(()=>filterDataByTimeRange(jr,ur),[jr,ur]),Or=reactExports.useMemo(()=>filterDataByTimeRange(Sr,ur),[Sr,ur]),Fr={DataHistoryGooonusVANGPHUQUY:"History 1 Nm VANGPHUQUY",DatatoryGooonusNhanTronPhuQuy9999:"Nhn trn ph qu 9999",DataHistoryGooonusVangMiengSjc:"Vng ming SJC",DataHistoryGooonusVangTrangSuc98:"Vng trang sc 98",DataHistoryGooonusVangTrangSuc99:"Vng trang sc 99",DataHistoryGooonusVangTrangSuc999:"Vng trang sc 999",DataHistoryGooonusVangTrangSuc9999:"Vng trang sc 9999",DataHistoryGooonusVangHanQuoc:"Vng Hn Quc",DataHistoryGooonusVangSac:"Vng Sac",DataHistoryGooonusBacSac:"Bc Sac"};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:`/chart-detail/${nr}`,style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("div",{style:{cursor:"pointer"},children:jsxRuntimeExports.jsx(DoubleLineChart,{buyData:Lr,sellData:Mr,title:ir,isZoom:ar})})}),ar&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center"},onClick:Tr,children:jsxRuntimeExports.jsxs("div",{style:{width:"97%",maxWidth:"2000px",height:"90%",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px"},onClick:Gr=>Gr.stopPropagation(),children:[jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:ur,onRangeChange:dr}),nr==="DataHistoryGooonusVANGPHUQUY"&&jsxRuntimeExports.jsxs("select",{class:"custom-select",value:fr,onChange:Gr=>{const qr=Gr.target.value;gr(qr),vr(Fr[qr])},children:[jsxRuntimeExports.jsx("option",{value:"DataMatDataHistoryGooonusVANGPHUQUYerial",children:"History 1 Nm VANGPHUQUY"},"DataHistoryGooonusVANGPHUQUY"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusNhanTronPhuQuy9999",children:"Nhn trn ph qu 9999"},"DataHistoryGooonusNhanTronPhuQuy9999"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangMiengSjc",children:"Vng ming SJC"},"DataHistoryGooonusVangMiengSjc"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangTrangSuc98",children:"Vng trang sc 98"},"DataHistoryGooonusVangTrangSuc98"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangTrangSuc99",children:"Vng trang sc 99"},"DataHistoryGooonusVangTrangSuc99"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangTrangSuc999",children:"Vng trang sc 999"},"DataHistoryGooonusVangTrangSuc999"),jsxRuntimeExports.jsx("option",{value:"DataHistoryGooonusVangTrangSuc9999",children:"Vng trang sc 9999"},"DataHistoryGooonusVangTrangSuc9999")]}),jsxRuntimeExports.jsx(DoubleLineChart,{buyData:Nr,sellData:Or,title:yr,isZoom:ar}),jsxRuntimeExports.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:Tr,children:"ng"})]})})]})},CandlestickCharts=()=>{const[tr,Hn]=reactExports.useState("gold"),[er,nr]=reactExports.useState({sjcData:[],nguyenLieuData:[],usdData:[],buyDataMaterial:[],sellDataMaterial:[],buyDataHistoryGooonusBTMC:[],sellDataHistoryGooonusBTMC:[],buyDataHistoryGooonusBTMH:[],sellDataHistoryGooonusBTMH:[],buyDataHistoryGooonusDOJI:[],sellDataHistoryGooonusDOJI:[],buyDataHistoryGooonusMIHONG:[],sellDataHistoryGooonusMIHONG:[],buyDataHistoryGooonusNGOCTHAM:[],sellDataHistoryGooonusNGOCTHAM:[],buyDataHistoryGooonusPNJ:[],sellDataHistoryGooonusPNJ:[],buyDataHistoryGooonusVANGPHUQUY:[],sellDataHistoryGooonusVANGPHUQUY:[],buyDataHistoryGooonusBacPhuQuy:[],sellDataHistoryGooonusBacPhuQuy:[],buyDataHistoryGooonusNhanTronPhuQuy9999:[],sellDataHistoryGooonusNhanTronPhuQuy9999:[],buyDataHistoryGooonusVangMiengSjc:[],sellDataHistoryGooonusVangMiengSjc:[],buyDataHistoryGooonusVangTrangSuc99:[],sellDataHistoryGooonusVangTrangSuc99:[],buyDataHistoryGooonusVangTrangSuc999:[],sellDataHistoryGooonusVangTrangSuc999:[],buyDataHistoryGooonusVangTrangSuc9999:[],sellDataHistoryGooonusVangTrangSuc9999:[],buyDataHistoryGooonusVangTrangSuc98:[],sellDataHistoryGooonusVangTrangSuc98:[],buyDataHistoryGooonusVangHanQuoc:[],sellDataHistoryGooonusVangHanQuoc:[],buyDataHistoryGooonusVangSac:[],sellDataHistoryGooonusVangSac:[],buyDataHistoryGooonusBacSac:[],sellDataHistoryGooonusBacSac:[]}),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("ALL"),[cr]=useSearchParams(),ur=cr.get("chart");reactExports.useEffect(()=>{(async()=>{try{rr(!0);const yr=await fetchCandlestickData();nr(yr),ar(null)}catch(yr){console.error("Error loading candlestick data:",yr),ar("Khng th ti d liu biu . Vui lng th li sau.")}finally{rr(!1)}})()},[]);const dr=reactExports.useMemo(()=>er.sjcData?{sjcData:filterDataByTimeRange(er.sjcData,or),nguyenLieuData:filterDataByTimeRange(er.nguyenLieuData,or),usdData:filterDataByTimeRange(er.usdData,or),buyDataMaterial:filterDataByTimeRange(er.buyDataMaterial,or),sellDataMaterial:filterDataByTimeRange(er.sellDataMaterial,or),buyDataHistoryGooonusBTMC:filterDataByTimeRange(er.buyDataHistoryGooonusBTMC,or),sellDataHistoryGooonusBTMC:filterDataByTimeRange(er.sellDataHistoryGooonusBTMC,or),buyDataHistoryGooonusBTMH:filterDataByTimeRange(er.buyDataHistoryGooonusBTMH,or),sellDataHistoryGooonusBTMH:filterDataByTimeRange(er.sellDataHistoryGooonusBTMH,or),buyDataHistoryGooonusDOJI:filterDataByTimeRange(er.buyDataHistoryGooonusDOJI,or),sellDataHistoryGooonusDOJI:filterDataByTimeRange(er.sellDataHistoryGooonusDOJI,or),buyDataHistoryGooonusMIHONG:filterDataByTimeRange(er.buyDataHistoryGooonusMIHONG,or),sellDataHistoryGooonusMIHONG:filterDataByTimeRange(er.sellDataHistoryGooonusMIHONG,or),buyDataHistoryGooonusNGOCTHAM:filterDataByTimeRange(er.buyDataHistoryGooonusNGOCTHAM,or),sellDataHistoryGooonusNGOCTHAM:filterDataByTimeRange(er.sellDataHistoryGooonusNGOCTHAM,or),buyDataHistoryGooonusPNJ:filterDataByTimeRange(er.buyDataHistoryGooonusPNJ,or),sellDataHistoryGooonusPNJ:filterDataByTimeRange(er.sellDataHistoryGooonusPNJ,or),buyDataHistoryGooonusVANGPHUQUY:filterDataByTimeRange(er.buyDataHistoryGooonusVANGPHUQUY,or),sellDataHistoryGooonusVANGPHUQUY:filterDataByTimeRange(er.sellDataHistoryGooonusVANGPHUQUY,or),buyDataHistoryGooonusBacPhuQuy:filterDataByTimeRange(er.buyDataHistoryGooonusBacPhuQuy,or),sellDataHistoryGooonusBacPhuQuy:filterDataByTimeRange(er.sellDataHistoryGooonusBacPhuQuy,or),buyDataHistoryGooonusNhanTronPhuQuy9999:filterDataByTimeRange(er.buyDataHistoryGooonusNhanTronPhuQuy9999,or),sellDataHistoryGooonusNhanTronPhuQuy9999:filterDataByTimeRange(er.sellDataHistoryGooonusNhanTronPhuQuy9999,or),buyDataHistoryGooonusVangMiengSjc:filterDataByTimeRange(er.buyDataHistoryGooonusVangMiengSjc,or),sellDataHistoryGooonusVangMiengSjc:filterDataByTimeRange(er.sellDataHistoryGooonusVangMiengSjc,or),buyDataHistoryGooonusVangTrangSuc99:filterDataByTimeRange(er.buyDataHistoryGooonusVangTrangSuc99,or),sellDataHistoryGooonusVangTrangSuc99:filterDataByTimeRange(er.sellDataHistoryGooonusVangTrangSuc99,or),buyDataHistoryGooonusVangTrangSuc999:filterDataByTimeRange(er.buyDataHistoryGooonusVangTrangSuc999,or),sellDataHistoryGooonusVangTrangSuc999:filterDataByTimeRange(er.sellDataHistoryGooonusVangTrangSuc999,or),buyDataHistoryGooonusVangTrangSuc9999:filterDataByTimeRange(er.buyDataHistoryGooonusVangTrangSuc9999,or),sellDataHistoryGooonusVangTrangSuc9999:filterDataByTimeRange(er.sellDataHistoryGooonusVangTrangSuc9999,or),buyDataHistoryGooonusVangTrangSuc98:filterDataByTimeRange(er.buyDataHistoryGooonusVangTrangSuc98,or),sellDataHistoryGooonusVangTrangSuc98:filterDataByTimeRange(er.sellDataHistoryGooonusVangTrangSuc98,or),buyDataHistoryGooonusVangHanQuoc:filterDataByTimeRange(er.buyDataHistoryGooonusVangHanQuoc,or),sellDataHistoryGooonusVangHanQuoc:filterDataByTimeRange(er.sellDataHistoryGooonusVangHanQuoc,or),buyDataHistoryGooonusVangSac:filterDataByTimeRange(er.buyDataHistoryGooonusVangSac,or),sellDataHistoryGooonusVangSac:filterDataByTimeRange(er.sellDataHistoryGooonusVangSac,or),buyDataHistoryGooonusBacSac:filterDataByTimeRange(er.buyDataHistoryGooonusBacSac,or),sellDataHistoryGooonusBacSac:filterDataByTimeRange(er.sellDataHistoryGooonusBacSac,or)}:{sjcData:[],nguyenLieuData:[],usdData:[],buyDataMaterial:[],sellDateMaterial:[],buyDataHistoryGooonusBTMC:[],sellDataHistoryGooonusBTMC:[],buyDataHistoryGooonusBTMH:[],sellDataHistoryGooonusBTMH:[],buyDataHistoryGooonusDOJI:[],sellDataHistoryGooonusDOJI:[],buyDataHistoryGooonusMIHONG:[],sellDataHistoryGooonusMIHONG:[],buyDataHistoryGooonusNGOCTHAM:[],sellDataHistoryGooonusNGOCTHAM:[],buyDataHistoryGooonusPNJ:[],sellDataHistoryGooonusPNJ:[],buyDataHistoryGooonusVANGPHUQUY:[],sellDataHistoryGooonusVANGPHUQUY:[],buyDataHistoryGooonusBacPhuQuy:[],sellDataHistoryGooonusBacPhuQuy:[],buyDataHistoryGooonusNhanTronPhuQuy9999:[],sellDataHistoryGooonusNhanTronPhuQuy9999:[],buyDataHistoryGooonusVangMiengSjc:[],sellDataHistoryGooonusVangMiengSjc:[],buyDataHistoryGooonusVangTrangSuc99:[],sellDataHistoryGooonusVangTrangSuc99:[],buyDataHistoryGooonusVangTrangSuc999:[],sellDataHistoryGooonusVangTrangSuc999:[],buyDataHistoryGooonusVangTrangSuc9999:[],sellDataHistoryGooonusVangTrangSuc9999:[],buyDataHistoryGooonusVangTrangSuc98:[],sellDataHistoryGooonusVangTrangSuc98:[],buyDataHistoryGooonusVangHanQuoc:[],sellDataHistoryGooonusVangHanQuoc:[],buyDataHistoryGooonusVangSac:[],sellDataHistoryGooonusVangSac:[],buyDataHistoryGooonusBacSac:[],sellDataHistoryGooonusBacSac:[]},[er,or]);if(ir)return jsxRuntimeExports.jsx("div",{className:"candlestick-section",children:jsxRuntimeExports.jsxs("div",{className:"loading-container",children:[jsxRuntimeExports.jsx("div",{className:"spinner"}),jsxRuntimeExports.jsx("p",{children:"ang ti biu  lch s gi..."})]})});if(sr)return jsxRuntimeExports.jsx("div",{className:"candlestick-section",children:jsxRuntimeExports.jsx("div",{className:"error-container",children:jsxRuntimeExports.jsxs("p",{className:"error-message",children:[" ",sr]})})});const fr=[{type:"gold",key:"DataMaterial",title:"Lch s vng km tn t nm 2009"},{type:"gold",key:"DataHistoryGooonusBTMC",title:"History 1 Nm BTMC"},{type:"gold",key:"DataHistoryGooonusBTMH",title:"History 1 Nm BTMH"},{type:"gold",key:"DataHistoryGooonusDOJI",title:"History 1 Nm DOJI"},{type:"gold",key:"DataHistoryGooonusMIHONG",title:"History 1 Nm MIHONG"},{type:"gold",key:"DataHistoryGooonusNGOCTHAM",title:"History 1 Nm NGOCTHAM"},{type:"gold",key:"DataHistoryGooonusPNJ",title:"History 1 Nm PNJ"},{type:"silver",key:"DataHistoryGooonusBacPhuQuy",title:"History Bac Phu Quy"},{type:"gold",key:"DataHistoryGooonusVANGPHUQUY",title:"History 1 Nm VANGPHUQUY"},{type:"gold",key:"DataHistoryGooonusVangHanQuoc",title:"History Vng koreagoldx.co.kr"},{type:"gold",key:"DataHistoryGooonusVangSac",title:"History Vng SACOMBANK SBJ"},{type:"gold",key:"DataHistoryGooonusBacSac",title:"History Bc SACOMBANK"}];return console.log("Vang Han Quoc buyData:",dr.buyDataHistoryGooonusVangHanQuoc),console.log("Vang Han Quoc sellData:",dr.sellDataHistoryGooonusVangHanQuoc),jsxRuntimeExports.jsxs("div",{className:"candlestick-section",children:[jsxRuntimeExports.jsxs("div",{className:"section-header",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" BIU  LCH S GI"}),jsxRuntimeExports.jsx("p",{className:"section-subtitle",children:"Biu  nn (Candlestick) hin th lch s bin ng gi"})]}),jsxRuntimeExports.jsxs("div",{style:{margin:"10px 0"},children:[jsxRuntimeExports.jsx("button",{className:`btn-type ${tr==="gold"?"btn-active":""}`,onClick:()=>Hn("gold"),children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`btn-type ${tr==="silver"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>Hn("silver"),children:"Bc"})]}),jsxRuntimeExports.jsx(TimeRangeFilter,{activeRange:or,onRangeChange:lr}),jsxRuntimeExports.jsxs("div",{className:"charts-grid",children:[jsxRuntimeExports.jsx(SingleCandlestickChartWithPopup,{data:dr.sjcData,title:"SJC T do",timeRange:or,setTimeRange:lr,chartKey:"sjc",initialIsOpen:ur==="sjc"}),jsxRuntimeExports.jsx(SingleCandlestickChartWithPopup,{data:dr.nguyenLieuData,title:"Vng Nguyn liu",timeRange:or,setTimeRange:lr,chartKey:"nguyenLieu",initialIsOpen:ur==="nguyenLieu"}),jsxRuntimeExports.jsx(SingleCandlestickChartWithPopup,{data:dr.usdData,title:"T gi USD/VND",timeRange:or,setTimeRange:lr,chartKey:"usd",initialIsOpen:ur==="usd"}),fr.filter(gr=>gr.type===tr).map(gr=>jsxRuntimeExports.jsx(ChartWithPopup,{allData:dr,buyData:dr[`buy${gr.key}`],sellData:dr[`sell${gr.key}`],keyIndex:gr.key,title:gr.title,time:or,initialIsOpen:ur===gr.key},gr.key))]})]})},WalletAccountsList=()=>{const tr=useNavigate(),{username:Hn}=useParams(),[er,nr]=useSearchParams(),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!1),[dr,fr]=reactExports.useState(null),[gr,yr]=reactExports.useState(""),[vr,jr]=reactExports.useState(!1),[Sr,Tr]=reactExports.useState(""),[Lr,Mr]=reactExports.useState(()=>{const Hr=er.get("page");return Hr?parseInt(Hr,10):1}),Nr=6;reactExports.useEffect(()=>{logUserInfo("Trang Danh sch v - WalletAccountsList.jsx")},[]),reactExports.useEffect(()=>{(async()=>{lr(!0);try{const Yr=localStorage.getItem("accountInfo");Yr&&ar(JSON.parse(Yr));const ro=new Date,io=ro.getDate(),fo=ro.getMonth()+1,ao=ro.getFullYear(),Jr=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${io}_${fo}_${ao}`);if(!Jr.ok)throw new Error("Khng gi c API ly IP");const uo=await Jr.json();if(uo.status!=="success"||!uo.ip_location)throw new Error("Khng c ip_location trong API");const oo=uo.ip_location;console.log(" User IP:",oo);const co=`https://api_gold.thinkdiff.us/api/vi/find_by_iplocation/${oo}`;console.log("Fetching wallets:",co);const no=await fetch(co);if(!no.ok)throw new Error(`API Error: ${no.status}`);const mo=await no.json();console.log("=== API Response ===",mo);let Eo=[];Array.isArray(mo)?Eo=mo:mo?.data&&Array.isArray(mo.data)?Eo=mo.data:typeof mo=="object"&&(Eo=Object.values(mo).filter(To=>typeof To=="object"&&To?.email));const bo=Eo.map(To=>{let Fo=To.id_thongke_taikhoan;if(Fo||(Fo=To.username||To.vi||To.tai_khoan||To.account_name||To.name||null),!Fo){const el=To.id_taikhoan||To.id;el&&(Fo=`wallet_${el}`)}const Co=`transactions_${Fo}`,Go=JSON.parse(localStorage.getItem(Co))||[];return{...To,username:String(Fo).trim(),email:To.email||To.dia_chi_email||"",id_taikhoan:To.id_taikhoan||To.id||"",id_thongke_taikhoan:To.id_thongke_taikhoan||To.id_thongke||"",password:To.password||"",timecreate:To.timecreate||To.created_at||new Date().toISOString(),transactions:Go}}),Po=new Set,wo=bo.filter(To=>Po.has(To.username)?!1:(Po.add(To.username),!0));if(wo.sort((To,Fo)=>new Date(Fo.timecreate)-new Date(To.timecreate)),rr(wo),Mr(1),console.log(" Wallets loaded:",wo),Hn){const To=wo.find(Fo=>Fo.username===Hn);To&&setTimeout(()=>{Fr(To)},100)}}catch(Yr){console.error(" Li load danh sch v:",Yr),rr([])}finally{lr(!1)}})()},[Hn]);const Or=Hr=>{let Yr=0,ro=0,io=0;return Hr.transactions.forEach(fo=>{Yr+=fo.tong_tien||0,fo.loai_san_pham==="VANG"?ro+=fo.soluong||0:fo.loai_san_pham==="BAC"&&(io+=fo.soluong||0)}),{totalMoneySpent:Yr,vangQuantity:ro,bacQuantity:io,totalTransactions:Hr.transactions.length}},Fr=Hr=>{fr(Hr),yr(""),Tr(""),ur(!0)},Gr=async()=>{if(!gr.trim()){alert(" Vui lng nhp mt khu");return}try{jr(!0);const Hr={...dr,username:dr.username,password:gr,loginTime:new Date().toISOString()};localStorage.setItem("accountInfo",JSON.stringify(Hr)),console.log(" ng nhp v thnh cng:",dr.username),ur(!1),tr(`/vi/${dr.username}`)}catch(Hr){console.error("Li ng nhp:",Hr),alert(`Li: ${Hr.message}`)}finally{jr(!1)}},qr=async()=>{if(!gr.trim()){Tr(" Vui lng nhp mt khu");return}try{jr(!0),Tr(""),console.log(`ang ng nhp trc tip cho v: ${Hn}`);const Hr=`https://api_gold.thinkdiff.us/api/vi/${Hn}?password=${encodeURIComponent(gr)}`,Yr=await fetch(Hr,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Yr.ok){Yr.status===401?Tr(" Mt khu khng chnh xc"):Tr(` Li API: ${Yr.status}`),jr(!1);return}const ro=await Yr.json();if(ro.status!=="success"&&ro.error){Tr(` ${ro.error}`),jr(!1);return}const io={username:Hn,password:gr,...ro,loginTime:new Date().toISOString(),source:"api"};localStorage.setItem("accountInfo",JSON.stringify(io)),console.log(" ng nhp thnh cng t API:",io),tr(`/vi/${Hn}`)}catch(Hr){console.error("Li ng nhp:",Hr),Tr(` Li: ${Hr.message}`),jr(!1)}};return or?jsxRuntimeExports.jsx("div",{className:"wallet-accounts-container",children:jsxRuntimeExports.jsx("div",{className:"wallet-accounts-card",children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center",padding:"30px"},children:" ang ti danh sch v..."})})}):Hn?jsxRuntimeExports.jsx("div",{style:{minHeight:"100vh"},children:jsxRuntimeExports.jsxs("div",{className:"password-modal-overlay",children:[jsxRuntimeExports.jsxs("div",{className:"password-modal",onClick:Hr=>Hr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"password-modal-header",children:[jsxRuntimeExports.jsx("h3",{children:" Nhp mt khu  ng nhp"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>tr("/"),children:""})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-body",children:[jsxRuntimeExports.jsxs("p",{className:"wallet-name",children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hn})]}),Sr&&jsxRuntimeExports.jsx("div",{className:"error-message",style:{background:"#fee",color:"#c33",padding:"12px 15px",borderRadius:"6px",marginBottom:"15px",borderLeft:"4px solid #c33",fontSize:"14px",wordBreak:"break-word"},children:Sr}),jsxRuntimeExports.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:gr,onChange:Hr=>{yr(Hr.target.value),Tr("")},onKeyDown:Hr=>{Hr.key==="Enter"&&!vr&&qr()},disabled:vr,autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"cancel-btn",onClick:()=>tr("/"),disabled:vr,children:"Hy"}),jsxRuntimeExports.jsx("button",{className:"confirm-btn",onClick:qr,disabled:vr,children:vr?" ang ng nhp...":" ng nhp"})]})]}),jsxRuntimeExports.jsx("style",{children:`
                            .password-modal-overlay {
                                position: fixed;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: rgba(0, 0, 0, 0.6);
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                z-index: 1000;
                            }

                            .password-modal {
                                background: white;
                                border-radius: 12px;
                                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                                max-width: 400px;
                                width: 90%;
                                overflow: hidden;
                                animation: slideUp 0.3s ease;
                            }

                            @keyframes slideUp {
                                from {
                                    opacity: 0;
                                    transform: translateY(20px);
                                }
                                to {
                                    opacity: 1;
                                    transform: translateY(0);
                                }
                            }

                            .password-modal-header {
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                color: white;
                                padding: 20px;
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                            }

                            .password-modal-header h3 {
                                margin: 0;
                                font-size: 18px;
                            }

                            .close-btn {
                                background: none;
                                border: none;
                                color: white;
                                font-size: 24px;
                                cursor: pointer;
                                padding: 0;
                                width: 30px;
                                height: 30px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                transition: all 0.2s;
                            }

                            .close-btn:hover {
                                transform: scale(1.2);
                            }

                            .password-modal-body {
                                padding: 30px;
                            }

                            .wallet-name {
                                margin: 0 0 20px 0;
                                color: #666;
                                font-size: 14px;
                            }

                            .wallet-name strong {
                                color: #333;
                                font-weight: 600;
                            }

                            .password-input {
                                width: 100%;
                                padding: 12px 15px;
                                border: 2px solid #e0e0e0;
                                border-radius: 8px;
                                font-size: 16px;
                                transition: all 0.3s;
                                box-sizing: border-box;
                                font-family: inherit;
                            }

                            .password-input:focus {
                                outline: none;
                                border-color: #667eea;
                                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                            }

                            .password-input:disabled {
                                background: #f5f5f5;
                                cursor: not-allowed;
                            }

                            .password-modal-footer {
                                padding: 20px;
                                display: flex;
                                gap: 10px;
                                background: #f9f9f9;
                                border-top: 1px solid #e0e0e0;
                            }

                            .cancel-btn,
                            .confirm-btn {
                                flex: 1;
                                padding: 12px;
                                border: none;
                                border-radius: 8px;
                                font-size: 14px;
                                font-weight: 600;
                                cursor: pointer;
                                transition: all 0.3s;
                            }

                            .cancel-btn {
                                background: #e0e0e0;
                                color: #333;
                            }

                            .cancel-btn:hover:not(:disabled) {
                                background: #d0d0d0;
                            }

                            .confirm-btn {
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                color: white;
                            }

                            .confirm-btn:hover:not(:disabled) {
                                transform: translateY(-2px);
                                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                            }

                            .cancel-btn:disabled,
                            .confirm-btn:disabled {
                                opacity: 0.6;
                                cursor: not-allowed;
                            }
                        `})]})}):jsxRuntimeExports.jsxs("div",{className:"wallet-accounts-container",children:[jsxRuntimeExports.jsxs("div",{className:"wallet-accounts-card",children:[jsxRuntimeExports.jsx("h2",{children:" Danh sch cc v ca ti"}),jsxRuntimeExports.jsxs("div",{className:"wallet-top-actions",children:[jsxRuntimeExports.jsx("button",{className:"nav-btn left",onClick:()=>tr("/dang-ky-tai-khoan"),children:" Quay li"}),jsxRuntimeExports.jsx("button",{className:"nav-btn right",onClick:()=>tr("/wallet-buy"),children:"V "})]}),ir.length===0?jsxRuntimeExports.jsx("p",{className:"no-transactions",children:"Bn cha to v no"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"wallets-grid",children:ir.slice((Lr-1)*Nr,Lr*Nr).map((Hr,Yr)=>{Or(Hr);const ro=sr?.username===Hr.username;return jsxRuntimeExports.jsxs("div",{className:`wallet-card-item ${ro?"active":""}`,children:[jsxRuntimeExports.jsx("div",{className:"wallet-header",children:jsxRuntimeExports.jsxs("h3",{children:[" ",Hr.username]})}),jsxRuntimeExports.jsx("div",{className:"wallet-email",children:jsxRuntimeExports.jsxs("small",{children:[" ",Hr.email]})}),ro&&jsxRuntimeExports.jsx("div",{className:"active-badge",children:" ang s dng"}),!ro&&jsxRuntimeExports.jsx("button",{className:"login-wallet-btn",onClick:()=>Fr(Hr),children:" ng nhp v ny"}),ro&&jsxRuntimeExports.jsx("div",{className:"active-wallet-actions",children:jsxRuntimeExports.jsx("button",{className:"detail-btn",onClick:()=>tr(`/vi/${sr.username}`),children:" Xem chi tit li/l"})})]},Hr.username||Yr)})}),Math.ceil(ir.length/Nr)>1&&jsxRuntimeExports.jsxs("div",{className:"pagination-container",children:[jsxRuntimeExports.jsx("button",{className:"pagination-btn",onClick:()=>{const Hr=Math.max(1,Lr-1);Mr(Hr),nr({page:Hr})},disabled:Lr===1,children:" Trang trc"}),jsxRuntimeExports.jsx("div",{className:"pagination-numbers",children:Array.from({length:Math.ceil(ir.length/Nr)},(Hr,Yr)=>Yr+1).map(Hr=>jsxRuntimeExports.jsx("button",{className:`pagination-number ${Lr===Hr?"active":""}`,onClick:()=>{Mr(Hr),nr({page:Hr})},children:Hr},Hr))}),jsxRuntimeExports.jsx("button",{className:"pagination-btn",onClick:()=>{const Hr=Math.min(Math.ceil(ir.length/Nr),Lr+1);Mr(Hr),nr({page:Hr})},disabled:Lr===Math.ceil(ir.length/Nr),children:"Trang sau "})]})]})]}),cr&&jsxRuntimeExports.jsxs("div",{className:"password-modal-overlay",onClick:()=>ur(!1),children:[jsxRuntimeExports.jsxs("div",{className:"password-modal",onClick:Hr=>Hr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"password-modal-header",children:[jsxRuntimeExports.jsx("h3",{className:"abc",children:" Nhp mt khu  ng nhp"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>ur(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-body",children:[jsxRuntimeExports.jsxs("p",{className:"wallet-name",children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:dr?.username})]}),jsxRuntimeExports.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:gr,onChange:Hr=>yr(Hr.target.value),onKeyDown:Hr=>{Hr.key==="Enter"&&Gr()},disabled:vr,autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"cancel-btn",onClick:()=>ur(!1),disabled:vr,children:"Hy"}),jsxRuntimeExports.jsx("button",{className:"confirm-btn",onClick:Gr,disabled:vr,children:vr?" ang ng nhp...":" ng nhp"})]})]}),jsxRuntimeExports.jsx("style",{children:`
                        .password-modal-overlay {
                            position: fixed;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background: rgba(0, 0, 0, 0.6);
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            z-index: 1000;
                        }

                        .password-modal {
                            background: white;
                            border-radius: 12px;
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                            max-width: 400px;
                            width: 90%;
                            overflow: hidden;
                            animation: slideUp 0.3s ease;
                        }

                        @keyframes slideUp {
                            from {
                                opacity: 0;
                                transform: translateY(20px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }

                        .password-modal-header {
                            background: #FFD700;
                            color: white;
                            padding: 20px;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        }
                        .abc{
                            color: black;
                            margin: 0;
                            font-size: 18px;
                        }

                        .close-btn {
                            background: none;
                            border: none;
                            color: white;
                            font-size: 24px;
                            cursor: pointer;
                            padding: 0;
                            width: 30px;
                            height: 30px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            transition: all 0.2s;
                        }

                        .close-btn:hover {
                            transform: scale(1.2);
                        }

                        .password-modal-body {
                            padding: 30px;
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                        }

                        .wallet-name {
                            margin: 0 0 20px 0;
                            color: lightgreen;
                            font-size: 14px;
                        }

                        .wallet-name strong {
                            color: #FFD700;
                            font-weight: 600;
                        }

                        .password-input {
                            width: 100%;
                            padding: 12px 15px;
                            border: 2px solid #81d6d3;
                            border-radius: 8px;
                            font-size: 16px;
                            transition: all 0.3s;
                            box-sizing: border-box;
                            font-family: inherit;
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                            color: #FFD700;

                        }

                        .password-input:focus {
                            outline: none;
                            border-color: #FFD700;
                            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                        }

                        .password-input:disabled {
                            background: #f5f5f5;
                            cursor: not-allowed;
                        }

                        .password-modal-footer {
                            padding: 20px;
                            display: flex;
                            gap: 10px;
                            background: #FFD700;
                            border-top: 1px solid #e0e0e0;
                        }

                        .cancel-btn,
                        .confirm-btn {
                            flex: 1;
                            padding: 12px;
                            border: none;
                            border-radius: 8px;
                            font-size: 14px;
                            font-weight: 600;
                            cursor: pointer;
                            transition: all 0.3s;
                        }

                        .cancel-btn {
                            background: #e0e0e0;
                            color: #333;
                        }

                        .cancel-btn:hover:not(:disabled) {
                            background: #d0d0d0;
                        }

                        .confirm-btn {
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                            color: white;
                        }

                        .confirm-btn:hover:not(:disabled) {
                            transform: translateY(-2px);
                            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                        }

                        .cancel-btn:disabled,
                        .confirm-btn:disabled {
                            opacity: 0.6;
                            cursor: not-allowed;
                        }
                    `})]})]})},WalletRegistration=()=>{const tr=useNavigate(),[Hn,er]=reactExports.useState({email:"",username:"",password:"",confirmPassword:""}),[nr,ir]=reactExports.useState({}),[rr,sr]=reactExports.useState(!1),[ar,or]=reactExports.useState(!1),[lr,cr]=reactExports.useState(null),ur=reactExports.useRef(null),dr=reactExports.useRef(null),[fr,gr]=reactExports.useState(null),[yr,vr]=reactExports.useState([]),[jr,Sr]=reactExports.useState(!1),[Tr,Lr]=reactExports.useState(!1),[Mr,Nr]=reactExports.useState(!1),[Or,Fr]=reactExports.useState(!1),[Gr,qr]=reactExports.useState(null),[Hr,Yr]=reactExports.useState(""),[ro,io]=reactExports.useState(""),[fo,ao]=reactExports.useState(!1);reactExports.useEffect(()=>{logUserInfo("Trang ng k v - WalletRegistration.jsx")},[]),reactExports.useEffect(()=>((async()=>{try{const wo=new Date,To=wo.getDate(),Fo=wo.getMonth()+1,Co=wo.getFullYear(),el=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${To}_${Fo}_${Co}`)).json();el.status==="success"&&el.ip_location?cr(el.ip_location):cr(null)}catch(wo){console.error("Khng ly c IP:",wo),cr(null)}})(),()=>{ur.current&&clearTimeout(ur.current),dr.current&&clearTimeout(dr.current)}),[]);const Jr=async()=>{if(!lr){vr([]),Sr(!1),Lr(!1);return}Nr(!0);try{const wo=await(await fetch(`https://api_gold.thinkdiff.us/api/vi/find_by_iplocation/${lr}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();(wo.status==="ok"||wo.status==="success")&&wo.data&&Array.isArray(wo.data)?(vr(wo.data),Sr(!0),Lr(!0)):(vr([]),Sr(!1),Lr(!1))}catch(Po){console.error("Li tm kim v:",Po),vr([]),Sr(!1),Lr(!1)}finally{Nr(!1)}},uo=Po=>{qr(Po),Yr(""),io(""),Fr(!0),Lr(!1)},oo=async()=>{if(!Hr.trim()){io("Vui lng nhp mt khu");return}ao(!0);try{const Po=new FormData;if(Po.append("id_taikhoan",Gr.id_thongke_taikhoan),Po.append("password",Hr),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:Po})).ok){const To={email:Gr.email,username:Gr.id_thongke_taikhoan,id_taikhoan:Gr.id_thongke_taikhoan,id_thongke_taikhoan:Gr.id_thongke_taikhoan,password:Hr,ip_address:lr};localStorage.setItem("accountInfo",JSON.stringify(To)),Fr(!1),tr(`/vi/${Gr.id_thongke_taikhoan}`)}else io("Mt khu khng chnh xc")}catch{io("C li xy ra, vui lng th li")}finally{ao(!1)}};reactExports.useEffect(()=>(lr&&Jr(),()=>{ur.current&&clearTimeout(ur.current),dr.current&&clearTimeout(dr.current)}),[lr]);const co=Po=>{if(!Po)return{strength:0,label:"Cha nhp",color:"#ccc"};let wo=0;Po.length>=8&&wo++,/[A-Z]/.test(Po)&&wo++,/[a-z]/.test(Po)&&wo++,/\d/.test(Po)&&wo++,/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(Po)&&wo++;let To="Yu",Fo="#e74c3c";return wo>=4?(To="Rt mnh",Fo="#27ae60"):wo>=3?(To="Mnh",Fo="#f39c12"):wo>=2&&(To="Trung bnh",Fo="#e67e22"),{strength:wo,label:To,color:Fo}},no=Po=>{const{name:wo,value:To}=Po.target;er(Fo=>({...Fo,[wo]:To})),nr[wo]&&ir(Fo=>({...Fo,[wo]:""}))},mo=()=>{const Po={};return Hn.email.trim()||(Po.email="Email l bt buc"),Hn.username.trim()||(Po.username="ID thng k ti khon l bt buc"),Hn.password||(Po.password="Mt khu l bt buc"),Hn.password!==Hn.confirmPassword&&(Po.confirmPassword="Mt khu xc nhn khng khp"),ir(Po),Object.keys(Po).length===0},Eo=async Po=>{if(Po.preventDefault(),!!mo()){or(!0);try{const wo=new FormData;wo.append("email",Hn.email),wo.append("id_taikhoan",Hn.username),wo.append("id_thongke_taikhoan",Hn.username),wo.append("password",Hn.password),wo.append("password_vi",Hn.password),fr&&wo.append("location",JSON.stringify(fr));const Fo=await(await fetch("https://api_gold.thinkdiff.us/api/vi/taotaikhoan",{method:"POST",body:wo})).json();Fo.status==="success"?(sr(!0),setTimeout(()=>tr("/wallet-buy"),1e3)):ir({submit:Fo.message||"ng k tht bi"})}catch{ir({submit:"C li xy ra, vui lng th li sau"})}finally{or(!1)}}},bo=localStorage.getItem("accountInfo");return jsxRuntimeExports.jsxs("div",{className:"account-registration-container",children:[jsxRuntimeExports.jsxs("div",{className:"registration-layout-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"registration-left-section",children:[jsxRuntimeExports.jsx("h1",{className:"registration-title",children:"ng k v"}),rr&&jsxRuntimeExports.jsx("div",{className:"success-message",children:" ng k ti khon thnh cng!"}),nr.submit&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:[" ",nr.submit]}),jsxRuntimeExports.jsxs("form",{onSubmit:Eo,className:"registration-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:Hn.email,onChange:no,className:`form-input ${nr.email?"input-error":""}`,disabled:ar}),nr.email&&jsxRuntimeExports.jsx("span",{className:"error-text",children:nr.email})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"username",className:"form-label",children:["Tn ti khon ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",id:"username",name:"username",value:Hn.username,onChange:no,className:`form-input ${nr.username?"input-error":""}`,disabled:ar}),nr.username&&jsxRuntimeExports.jsx("span",{className:"error-text",children:nr.username})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"password",className:"form-label",children:["Mt khu ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"password",id:"password",name:"password",value:Hn.password,onChange:no,className:`form-input ${nr.password?"input-error":""}`,disabled:ar}),Hn.password&&jsxRuntimeExports.jsxs("div",{className:"password-strength-container",children:[jsxRuntimeExports.jsx("div",{className:"strength-bar",children:jsxRuntimeExports.jsx("div",{className:"strength-fill",style:{width:`${co(Hn.password).strength/5*100}%`,backgroundColor:co(Hn.password).color}})}),jsxRuntimeExports.jsxs("span",{className:"strength-label",style:{color:co(Hn.password).color},children:[" mnh: ",co(Hn.password).label]})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"confirmPassword",className:"form-label",children:["Xc nhn mt khu ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:Hn.confirmPassword,onChange:no,className:`form-input ${nr.confirmPassword?"input-error":""}`,disabled:ar}),nr.confirmPassword&&jsxRuntimeExports.jsx("span",{className:"error-text",children:nr.confirmPassword})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"submit-btn",disabled:ar,children:ar?"ang x l...":"ng k v"})]}),bo&&jsxRuntimeExports.jsx("div",{style:{marginTop:"20px"},children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>tr("/danh-sach-vi"),className:"view-wallet-list-btn",children:" Xem danh sch v"})})]}),jsxRuntimeExports.jsxs("div",{className:"registration-right-section",children:[jsxRuntimeExports.jsx("h1",{className:"wallet-list-title",children:"Danh sch v"}),jsxRuntimeExports.jsxs("div",{className:"wallet-search-section",children:[yr.length>0&&jsxRuntimeExports.jsxs("div",{className:"wallet-dropdown",children:[jsxRuntimeExports.jsx("p",{className:"wallet-dropdown-title",children:"Ti khon ca bn:"}),yr.map((Po,wo)=>jsxRuntimeExports.jsxs("div",{className:"wallet-item",onClick:()=>uo(Po),children:[jsxRuntimeExports.jsxs("div",{className:"wallet-item-name",children:[" ",Po.id_thongke_taikhoan]}),jsxRuntimeExports.jsxs("div",{className:"wallet-item-email",children:[" ",Po.email]}),jsxRuntimeExports.jsxs("div",{className:"wallet-item-date",children:[" ",new Date(Po.timecreate).toLocaleDateString("vi-VN")]})]},wo))]}),!Mr&&yr.length===0&&jsxRuntimeExports.jsx("p",{className:"wallet-no-data",children:"Khng c v no cho IP ny"}),Mr&&jsxRuntimeExports.jsx("p",{className:"wallet-loading",children:" ang ti danh sch v..."})]})]})]}),Or&&jsxRuntimeExports.jsx("div",{className:"password-modal-overlay",onClick:()=>Fr(!1),children:jsxRuntimeExports.jsxs("div",{className:"password-modal",onClick:Po=>Po.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"password-modal-header",children:[jsxRuntimeExports.jsx("h3",{children:" Nhp mt khu"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>Fr(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-body",children:[jsxRuntimeExports.jsxs("p",{className:"wallet-name",children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Gr?.id_thongke_taikhoan})]}),jsxRuntimeExports.jsx("p",{className:"wallet-email",children:Gr?.email}),jsxRuntimeExports.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:Hr,onChange:Po=>Yr(Po.target.value),onKeyPress:Po=>{Po.key==="Enter"&&oo()},disabled:fo,autoFocus:!0}),ro&&jsxRuntimeExports.jsx("p",{className:"password-error",children:ro})]}),jsxRuntimeExports.jsxs("div",{className:"password-modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"cancel-btn",onClick:()=>Fr(!1),disabled:fo,children:"Hy"}),jsxRuntimeExports.jsx("button",{className:"confirm-btn",onClick:oo,disabled:fo,children:fo?" ang x l...":" ng nhp"})]}),jsxRuntimeExports.jsx("style",{children:`
              .password-modal-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.6);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
              }

              .password-modal {
                background: white;
                border-radius: 12px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                max-width: 400px;
                width: 90%;
                overflow: hidden;
                animation: slideUp 0.3s ease;
              }

              @keyframes slideUp {
                from {
                  opacity: 0;
                  transform: translateY(20px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .password-modal-header {
                background: linear-gradient(135deg, #FFD700 0%, #FFD700 100%);
                color: white;
                padding: 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
              }

              .password-modal-header h3 {
                margin: 0;
                font-size: 18px;
                color: green !important;
              }

              .close-btn {
                background: none;
                border: none;
                color: white;
                font-size: 24px;
                cursor: pointer;
                padding: 0;
                width: 30px;
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s;
              }

              .close-btn:hover {
                transform: scale(1.2);
              }

              .password-modal-body {
                padding: 30px;
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
              }

              .wallet-name {
                margin: 0 0 8px 0;
                color: #FFD700;
                font-size: 14px;
              }

              .wallet-name strong {
                color: #FFD700;
                font-weight: 600;
              }

              .wallet-email {
                margin: 0 0 20px 0;
                color: lightcoral;
                font-size: 12px;
              }

              .password-input {
                width: 100%;
                padding: 12px 15px;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                font-size: 16px;
                transition: all 0.3s;
                box-sizing: border-box;
                font-family: inherit;
                margin-bottom: 10px;
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
              }

              .password-input:focus {
                outline: none;
                border-color: #667eea;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                color: #FFD700;
              }

              .password-input:disabled {
                background: #f5f5f5;
                cursor: not-allowed;
              }

              .password-error {
                color: #e74c3c;
                font-size: 13px;
                margin: 0;
                text-align: center;
              }

              .password-modal-footer {
                padding: 20px;
                display: flex;
                gap: 10px;
                background: linear-gradient(135deg, #FFD700 0%, #FFD700 100%);
                border-top: 1px solid #e0e0e0;
              }

              .cancel-btn,
              .confirm-btn {
                flex: 1;
                padding: 12px;
                border: none;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s;
              }

              .cancel-btn {
                background: #e0e0e0;
                color: #333;
              }

              .cancel-btn:hover:not(:disabled) {
                background: #d0d0d0;
              }

              .confirm-btn {
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                color: #ffd700 ;
              }

              .confirm-btn:hover:not(:disabled) {
                transform: translateY(-2px);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
              }

              .cancel-btn:disabled,
              .confirm-btn:disabled {
                opacity: 0.6;
                cursor: not-allowed;
              }
            `})]})})]})},Wallet=()=>{const tr=useNavigate(),[Hn,er]=reactExports.useState(null),[nr,ir]=reactExports.useState([]),[rr,sr]=reactExports.useState([]),[ar,or]=reactExports.useState("20"),[lr,cr]=reactExports.useState([]),[ur,dr]=reactExports.useState(null),[fr,gr]=reactExports.useState(!1),[yr,vr]=reactExports.useState(ar),[jr,Sr]=reactExports.useState(""),[Tr,Lr]=reactExports.useState([]),[Mr,Nr]=reactExports.useState(!1),[Or,Fr]=reactExports.useState(""),[Gr,qr]=reactExports.useState(""),[Hr,Yr]=reactExports.useState(null),[ro,io]=reactExports.useState(!1),[fo,ao]=reactExports.useState(""),[Jr,uo]=reactExports.useState(!1),[oo,co]=reactExports.useState(""),[no,mo]=reactExports.useState(!1),[Eo,bo]=reactExports.useState(""),[Po,wo]=reactExports.useState(""),[To,Fo]=reactExports.useState(""),[Co,Go]=reactExports.useState([]),[el,Lo]=reactExports.useState(!1),[Uo,$o]=reactExports.useState(!1),il=reactExports.useRef(null),pl=()=>new Date().toISOString().split("T")[0],[ml,Wl]=reactExports.useState({id_chungloai:"",loai:"VANG",soluong:1,ngaymua:pl(),gia_mua:""}),Xl=El=>El*Math.PI/180,ac=(El,Kl,ec,Fc)=>{const al=Xl(ec-El),sl=Xl(Fc-Kl),fl=Math.sin(al/2)*Math.sin(al/2)+Math.cos(Xl(El))*Math.cos(Xl(ec))*Math.sin(sl/2)*Math.sin(sl/2);return 6371*(2*Math.atan2(Math.sqrt(fl),Math.sqrt(1-fl)))},Tl=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(El=>{dr({lat:El.coords.latitude,long:El.coords.longitude})},El=>{console.warn("Khng ly c v tr:",El.message),dr(null)},{enableHighAccuracy:!0,timeout:5e3})};reactExports.useEffect(()=>{if(!ur||!ar||nr.length===0){cr(nr);return}const El=Number(ar),Kl=nr.filter(ec=>{if(!ec.vitri_location)return!1;try{const Fc=JSON.parse(ec.vitri_location);return Array.isArray(Fc)?Fc.some(Hl=>ac(ur.lat,ur.long,Hl.lat,Hl.long)<=El):!1}catch{return!1}});cr(Kl)},[ar,nr,ur]),reactExports.useEffect(()=>{const El=localStorage.getItem("accountInfo");if(!El){tr("/dang-ky-tai-khoan");return}er(JSON.parse(El)),logUserInfo("Trang Mua vng - Wallet.jsx"),Tl()},[tr]),reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/list_nha_vang").then(El=>El.json()).then(El=>{let Kl=Array.isArray(El)?El:Array.isArray(El.data)?El.data:[];const ec={};Kl.forEach(Hl=>{const al=Hl.name_nhavang,sl=Number(Hl.gia_hien_tai)||0;(!ec[al]||sl>ec[al].gia_hien_tai)&&(ec[al]=Hl)});const Fc=Object.values(ec);ir(Fc)}).catch(()=>ir([]))},[]),reactExports.useEffect(()=>{if(yr==="ALL"||!ur||nr.length===0){Lr(nr);return}const El=Number(yr),Kl=nr.filter(ec=>{if(!ec.vitri_location)return!1;try{const Fc=JSON.parse(ec.vitri_location);return Array.isArray(Fc)?Fc.some(Hl=>ac(ur.lat,ur.long,Number(Hl.lat),Number(Hl.long))<=El):!1}catch{return!1}});Lr(Kl)},[yr,nr,ur]),reactExports.useEffect(()=>{if(!Hn)return;const El=`transactions_${Hn.username}`,Kl=localStorage.getItem(El);sr(Kl?JSON.parse(Kl):[])},[Hn]);const Ol=El=>{const{name:Kl,value:ec}=El.target;(Kl==="soluong"||Kl==="gia_mua")&&ec!==""&&!/^\d+$/.test(ec)||(Wl(Fc=>({...Fc,[Kl]:ec})),Kl==="id_chungloai"&&co(""))},dc=El=>{const Kl=El.target.value;if(Fo(Kl),il.current&&clearTimeout(il.current),!Kl.trim()){Go([]),$o(!1);return}Lo(!0),il.current=setTimeout(async()=>{try{const Fc=await(await fetch(`https://api_gold.thinkdiff.us/api/vi/find/${Kl}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();(Fc.status==="ok"||Fc.status==="success")&&Fc.data&&Array.isArray(Fc.data)?(Go(Fc.data),$o(!0)):(Go([]),$o(!1))}catch(ec){console.error("Li tm kim ti khon:",ec),Go([]),$o(!1)}finally{Lo(!1)}},500)},oc=El=>{Yr(El),Nr(!0),Fr(""),qr("")},vc=async()=>{if(qr(""),!Or.trim()){qr("Vui lng nhp mt khu");return}io(!0);try{const El=new FormData;if(El.append("id_taikhoan",Hr.id_thongke_taikhoan),El.append("password",Or),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:El})).ok){const ec={email:Hr.email,username:Hr.id_thongke_taikhoan,id_taikhoan:Hr.id_thongke_taikhoan,id_thongke_taikhoan:Hr.id_thongke_taikhoan,password:Or,ip_address:Hn?.ip_address||""};er(ec),localStorage.setItem("accountInfo",JSON.stringify(ec)),Fo(""),Go([]),$o(!1),Nr(!1),Yr(null),Fr("")}else qr("Mt khu khng chnh xc")}catch{qr("C li xy ra, vui lng th li")}finally{io(!1)}},Ic=El=>{if(El.preventDefault(),ao(""),uo(!1),!ml.id_chungloai){co(" Vui lng chn nh vng");return}const Kl=Number(ml.soluong);if(isNaN(Kl)||Kl<=0||!ml.gia_mua){ao("Vui lng nhp y  thng tin hp l");return}bo(""),wo(""),mo(!0)},Yc=async()=>{if(!Eo.trim()){wo("Vui lng nhp mt khu");return}io(!0);try{const El=new FormData;if(El.append("id_taikhoan",Hn.id_thongke_taikhoan),El.append("password",Eo),!(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:El})).ok){wo("Mt khu khng chnh xc"),io(!1);return}er(ec=>({...ec,password:Eo})),mo(!1),Rc()}catch{wo("C li xy ra, vui lng th li")}finally{io(!1)}},Rc=async()=>{io(!0),ao("");try{const El=new FormData;El.append("email",Hn.email),El.append("id_taikhoan",Hn.username),El.append("id_thongke_taikhoan",Hn.id_thongke_taikhoan),El.append("password",Hn.password),El.append("id_chungloai",ml.id_chungloai),El.append("loai",ml.loai),El.append("soluong",Number(ml.soluong)),El.append("ngaymua",ml.ngaymua),El.append("gia_mua",Number(ml.gia_mua)),El.append("location",Hn.location||'{"lat":0,"long":0}'),El.append("ip_address",Hn.ip_address);const Kl=await fetch("https://api_gold.thinkdiff.us/api/vi/mua",{method:"POST",body:El}),ec=await Kl.json();if(!Kl.ok)throw new Error(ec.message||"Mua tht bi");const Fc={...ec,vi_id:Date.now()},Hl=`transactions_${Hn.username}`,al=JSON.parse(localStorage.getItem(Hl))||[],sl=[Fc,...al];localStorage.setItem(Hl,JSON.stringify(sl)),sr(sl),uo(!0),Wl({id_chungloai:"",loai:"VANG",soluong:1,ngaymua:pl(),gia_mua:""})}catch(El){ao(El.message)}finally{io(!1)}};return Hn?jsxRuntimeExports.jsxs("div",{className:"wallet-container",children:[jsxRuntimeExports.jsxs("div",{className:"wallet-card",children:[jsxRuntimeExports.jsx("h1",{children:" Mua vng / bc"}),jsxRuntimeExports.jsxs("div",{className:"search-account-section",style:{marginBottom:"30px",paddingBottom:"20px",borderBottom:"2px solid #f0f0f0"},children:[jsxRuntimeExports.jsx("h3",{style:{marginBottom:"15px",color:"#FFD700"},children:" Tm kim ti khon khc"}),jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Nhp email hoc tn ti khon",value:To,onChange:dc,style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box",marginBottom:"10px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)",color:"yellow"}}),el&&jsxRuntimeExports.jsx("p",{style:{fontSize:"13px",color:"#666",marginTop:"5px"},children:" ang tm kim..."}),Uo&&Co.length>0&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"linear-gradient(135deg, #d6d632 0%, #FFD700 100%)",border:"1px solid #ddd",borderRadius:"8px",maxHeight:"300px",overflowY:"auto",zIndex:100,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginTop:"5px"},children:Co.map((El,Kl)=>jsxRuntimeExports.jsxs("div",{onClick:()=>oc(El),style:{padding:"12px",borderBottom:Kl<Co.length-1?"1px solid #f0f0f0":"none",cursor:"pointer",transition:"background-color 0.2s",backgroundColor:"#1e293b "},children:[jsxRuntimeExports.jsxs("div",{style:{fontWeight:"600",color:"#ffd700",marginBottom:"3px"},children:[" ",El.id_thongke_taikhoan]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"12px",color:"lightcoral"},children:[" ",El.email]})]},Kl))}),Uo&&Co.length===0&&To&&!el&&jsxRuntimeExports.jsx("p",{style:{fontSize:"13px",color:"#e74c3c",marginTop:"5px"},children:" Khng tm thy ti khon"})]})]}),Hn&&jsxRuntimeExports.jsxs("div",{style:{padding:"15px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #FFD700",borderRight:"4px solid #FFD700"},children:[jsxRuntimeExports.jsx("p",{style:{margin:"0 0 5px 0",color:"#FFD700",fontSize:"15px"},children:jsxRuntimeExports.jsx("strong",{children:" V hin ti:"})}),jsxRuntimeExports.jsxs("p",{style:{margin:"0",color:"lightgreen",fontSize:"15px",fontWeight:"500"},children:[" ",Hn.username]})]}),jsxRuntimeExports.jsx("h2",{style:{marginTop:"30px",marginBottom:"20px",color:"#FFD700"},children:" Chi tit giao dch"}),jsxRuntimeExports.jsxs("form",{onSubmit:Ic,className:"wallet-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" Khong cch & Nh vng"}),jsxRuntimeExports.jsx("div",{onClick:()=>{vr(ar),Sr(ml.id_chungloai),gr(!0)},style:{padding:"12px",border:"2px solid #FFD700",borderRadius:"8px",cursor:"pointer",background:"#1a1a1a",color:"#FFD700"},children:ml.id_chungloai?` ${ml.id_chungloai}  ${ar==="ALL"?"Th gii":`${ar} km`}`:" Chn khong cch & nh vng"}),oo&&jsxRuntimeExports.jsx("p",{className:"error-text",children:oo})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" Loi sn phm"}),jsxRuntimeExports.jsxs("select",{name:"loai",value:ml.loai,onChange:Ol,children:[jsxRuntimeExports.jsx("option",{value:"VANG",children:"VNG"}),jsxRuntimeExports.jsx("option",{value:"BAC",children:"BC"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" S lng (ch)"}),jsxRuntimeExports.jsx("input",{type:"text",name:"soluong",value:ml.soluong,onChange:Ol,placeholder:"Nhp s lng"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" Ngy mua"}),jsxRuntimeExports.jsx("input",{type:"date",name:"ngaymua",value:ml.ngaymua,onChange:Ol,className:"date-input",onClick:El=>{El.target.showPicker?.()},onKeyDown:El=>El.preventDefault()})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" Gi mua (VND)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"gia_mua",value:ml.gia_mua,onChange:Ol,placeholder:"Nhp gi mua",min:"0"})]}),fo&&jsxRuntimeExports.jsxs("p",{className:"error-text",children:[" ",fo]}),Jr&&jsxRuntimeExports.jsx("p",{className:"success-text",children:" Mua thnh cng"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"purchase-btn",disabled:ro,children:ro?" ang x l...":" Mua ngay"})]}),jsxRuntimeExports.jsxs("div",{className:"button-group",children:[jsxRuntimeExports.jsx("a",{href:`/#/vi/${Hn?.username}`,className:"back-btn-custom",children:" Quay li"}),jsxRuntimeExports.jsx("a",{href:"/#/dang-ky-tai-khoan",className:"signup-btn-custom",children:"ng k v mi "})]})]}),Mr&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{Nr(!1),Yr(null),Fr(""),qr("")},children:jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:El=>El.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Xc nhn chuyn ti khon"}),jsxRuntimeExports.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0},onClick:()=>{Nr(!1),Yr(null),Fr(""),qr("")},children:""})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hr?.id_thongke_taikhoan})]}),jsxRuntimeExports.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:Or,onChange:El=>Fr(El.target.value),onKeyPress:El=>{El.key==="Enter"&&vc()},disabled:ro,autoFocus:!0}),Gr&&jsxRuntimeExports.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Gr})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>{Nr(!1),Yr(null),Fr(""),qr("")},disabled:ro,children:"ng"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:ro?.6:1},onClick:vc,disabled:ro,children:ro?" ang x l...":" Xc nhn"})]})]})}),no&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{mo(!1),bo(""),wo("")},children:jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:El=>El.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Xc nhn mua"}),jsxRuntimeExports.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0},onClick:()=>{mo(!1),bo(""),wo("")},children:""})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hn?.username})]}),jsxRuntimeExports.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:Eo,onChange:El=>bo(El.target.value),onKeyDown:El=>{El.key==="Enter"&&Yc()},disabled:ro,autoFocus:!0}),Po&&jsxRuntimeExports.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Po})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>{mo(!1),bo(""),wo("")},disabled:ro,children:"ng"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:ro?.6:1},onClick:Yc,disabled:ro,children:ro?" ang x l...":" Xc nhn"})]})]})}),fr&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>gr(!1),children:jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",width:"90%",maxWidth:"450px",overflow:"hidden"},onClick:El=>El.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{style:{padding:"20px",fontWeight:"600",color:"#333"},children:" Lc theo khong cch"}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",background:"#1a1a1a"},children:[jsxRuntimeExports.jsx("label",{style:{color:"#FFD700",fontSize:"14px"},children:"Khong cch"}),jsxRuntimeExports.jsxs("select",{value:yr,onChange:El=>vr(El.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"2px solid #FFD700",borderRadius:"8px",color:"#FFD700"},children:[jsxRuntimeExports.jsx("option",{value:"ALL",children:"Th gii"}),jsxRuntimeExports.jsx("option",{value:"10",children:"10 km"}),jsxRuntimeExports.jsx("option",{value:"20",children:"20 km"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30 km"}),jsxRuntimeExports.jsx("option",{value:"40",children:"40 km"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50 km"}),jsxRuntimeExports.jsx("option",{value:"100",children:"100 km"})]}),jsxRuntimeExports.jsx("label",{style:{color:"#FFD700",fontSize:"14px"},children:"Nh vng trong phm vi"}),jsxRuntimeExports.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:Tr.map(El=>jsxRuntimeExports.jsxs("div",{onClick:()=>Sr(El.name_nhavang),style:{padding:"10px",marginBottom:"8px",borderRadius:"6px",cursor:"pointer",background:jr===El.name_nhavang?"#FFD700":"#2a2a2a",color:jr===El.name_nhavang?"#333":"#FFD700"},children:[" ",El.name_nhavang]},El.id))})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"15px",display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"gray",color:"#FFD700",transition:"all 0.3s"},onClick:()=>gr(!1),children:"ng"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s"},onClick:()=>{or(yr),Wl(El=>({...El,id_chungloai:jr})),co(""),gr(!1)},children:" p dng"})]})]})})]}):null},ProfitLossDetail=()=>{const tr=useNavigate(),{username:Hn}=useParams(),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState(0),[or,lr]=reactExports.useState(0),[cr,ur]=reactExports.useState(!0),[dr,fr]=reactExports.useState(""),[gr,yr]=reactExports.useState(1),vr=10,jr={padding:"6px 10px",border:"1.5px solid #FFD700",borderRadius:"6px",background:"none",color:"#FFD700",fontSize:"13px",fontWeight:600,cursor:"pointer",transition:"all 0.25s ease"},Sr=oo=>(oo=oo.toLowerCase(),oo.includes("windows nt")?"Windows":oo.includes("mac os x")&&!oo.includes("iphone")?"MacOS":oo.includes("iphone")||oo.includes("ipad")?"iOS":oo.includes("android")?"Android":oo.includes("linux")?"Linux":"Unknown"),Tr=oo=>(oo=oo.toLowerCase(),oo.includes("edg")?"Edge":oo.includes("chrome")?"Chrome":oo.includes("safari")&&!oo.includes("chrome")?"Safari":oo.includes("firefox")?"Firefox":oo.includes("opera")||oo.includes("opr")?"Opera":"Unknown"),[Lr,Mr]=reactExports.useState(!1),[Nr,Or]=reactExports.useState(""),[Fr,Gr]=reactExports.useState(""),[qr,Hr]=reactExports.useState(!1);reactExports.useEffect(()=>{try{const oo=navigator.userAgent,co=Sr(oo),no=Tr(oo);logUserInfo("Trang thng tin v - ProfitLossDetail.jsx",{os:co,browser:no})}catch(oo){console.error(" logUserInfo error:",oo)}},[]),reactExports.useEffect(()=>{(async()=>{try{ur(!0),fr(""),rr([]),ar(0);const co=localStorage.getItem("accountInfo");if(!co){if(Hn){Mr(!0),ur(!1);return}tr("/dang-ky-tai-khoan");return}const no=JSON.parse(co);if(Hn&&no.username!==Hn){console.warn(`Username mismatch: URL=${Hn}, localStorage=${no.username}`),Mr(!0),ur(!1);return}if(nr(no),!no.password){fr(" Li: Mt khu khng c lu. Vui lng ng nhp li."),ur(!1);return}await Yr(no)}catch{fr("C li xy ra khi ti d liu"),ur(!1)}})()},[tr,Hn]);const Yr=async oo=>{try{console.log(" Thng tin ti khon:",{username:oo.username,id_thongke_taikhoan:oo.id_thongke_taikhoan,hasPassword:!!oo.password,passwordLength:oo.password?.length||0});const co=new FormData;co.append("id_taikhoan",oo.id_thongke_taikhoan||oo.username),co.append("password",oo.password);const no=await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:co});if(!no.ok){no.status===401?fr(" Xc thc khng hp l. Vui lng ng nhp li."):fr(`Li API: ${no.status} ${no.statusText}`),ur(!1);return}const mo=await no.json();if(mo.status==="success"&&mo.data){const Eo=[...mo.data].sort((To,Fo)=>{const Co=Number(To.vi_id)||0;return(Number(Fo.vi_id)||0)-Co}),bo={},Po=[];Eo.forEach(To=>{const Fo=`${To.chung_loai}_${To.ngay_mua}_${To.loai}`,Co=Number(To.gia_hien_tai)||0;(!bo[Fo]||Co>bo[Fo])&&(bo[Fo]=Co)}),Eo.forEach(To=>{const Fo=`${To.chung_loai}_${To.ngay_mua}_${To.loai}`,Co=Number(To.gia_hien_tai)||0;bo[Fo]===Co&&(Po.push(To),delete bo[Fo])}),rr(Po),ar(mo.tong_loi_nhuan||0);const wo=Po.reduce((To,Fo)=>To+Number(Fo.gia_mua)*Number(Fo.soluong),0);lr(wo)}else fr(mo.message||mo.error||"Khng th ly d liu")}catch{fr("C li xy ra khi ti d liu")}finally{ur(!1)}},ro=async()=>{if(!Nr.trim()){Gr("Vui lng nhp mt khu");return}Hr(!0);try{const oo=new FormData;if(oo.append("id_taikhoan",Hn),oo.append("password",Nr),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:oo})).ok){const no={email:"",username:Hn,id_taikhoan:Hn,id_thongke_taikhoan:Hn,password:Nr,ip_address:""};localStorage.setItem("accountInfo",JSON.stringify(no)),nr(no),Mr(!1),Or(""),Gr(""),await Yr(no)}else Gr("Mt khu khng chnh xc")}catch{Gr("C li xy ra, vui lng th li")}finally{Hr(!1)}},io=oo=>Number(oo).toLocaleString("vi-VN"),fo=oo=>oo>0?"green":oo<0?"red":"gray",ao=oo=>oo>0?"LI":oo<0?"L":"HA VN";if(cr)return jsxRuntimeExports.jsx("div",{className:"profit-loss-container",children:jsxRuntimeExports.jsx("div",{className:"profit-loss-card",children:jsxRuntimeExports.jsx("p",{style:{textAlign:"center",padding:30,color:"white"},children:" ang ti d liu..."})})});const Jr=Math.ceil(ir.length/vr),uo=ir.slice((gr-1)*vr,gr*vr);return jsxRuntimeExports.jsxs("div",{className:"profit-loss-container",children:[jsxRuntimeExports.jsxs("div",{className:"profit-loss-card",children:[jsxRuntimeExports.jsxs("div",{className:"profit-loss-header",children:[jsxRuntimeExports.jsxs("div",{className:"header-top",children:[jsxRuntimeExports.jsx("div",{className:"header-left",children:jsxRuntimeExports.jsx("button",{className:"back-btn",onClick:()=>tr("/danh-sach-vi"),children:" Quay li"})}),jsxRuntimeExports.jsx("div",{className:"header-center",children:jsxRuntimeExports.jsx("h1",{children:" Chi tit li l"})}),jsxRuntimeExports.jsxs("div",{className:"header-right",children:["  ",jsxRuntimeExports.jsx("button",{className:"action-btn",onClick:()=>tr("/wallet-buy"),children:"Thm v Vng / Bc "})]})]}),jsxRuntimeExports.jsx("div",{className:"account-info",children:jsxRuntimeExports.jsxs("span",{children:[" ",er?.username]})})]}),dr&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:[jsxRuntimeExports.jsxs("p",{children:[" ",dr]}),dr.includes("Xc thc")&&jsxRuntimeExports.jsx("button",{className:"retry-login-btn",onClick:()=>tr(`/danh-sach-vi/${Hn}`),style:{marginTop:"12px",padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s"},onMouseEnter:oo=>{oo.target.style.background="#764ba2",oo.target.style.transform="translateY(-2px)"},onMouseLeave:oo=>{oo.target.style.background="#667eea",oo.target.style.transform="translateY(0)"},children:" ng nhp li"})]}),jsxRuntimeExports.jsxs("div",{className:"total-profit-section",children:[jsxRuntimeExports.jsxs("div",{className:`total-profit-box ${sr>0?"profit":sr<0?"loss":"neutral"}`,children:[jsxRuntimeExports.jsx("h3",{children:" Tng li nhun"}),jsxRuntimeExports.jsxs("p",{className:"total-value",children:[io(sr)," VND"]}),jsxRuntimeExports.jsx("span",{className:"status-label",children:ao(sr)})]}),jsxRuntimeExports.jsxs("div",{className:"total-profit-box invested",children:[jsxRuntimeExports.jsx("h3",{children:" Tng tin u t"}),jsxRuntimeExports.jsxs("p",{className:"total-value",children:[io(or)," VND"]})]})]}),uo.length===0?jsxRuntimeExports.jsx("p",{className:"no-data",children:"Khng c giao dch no"}):jsxRuntimeExports.jsxs("div",{className:"profit-loss-table-wrapper",children:[jsxRuntimeExports.jsxs("table",{className:"profit-loss-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:" Nh vng"}),jsxRuntimeExports.jsx("th",{children:" ID V"}),jsxRuntimeExports.jsx("th",{children:" Gi mua"}),jsxRuntimeExports.jsx("th",{children:" Gi hin ti"}),jsxRuntimeExports.jsx("th",{children:" S lng"}),jsxRuntimeExports.jsx("th",{children:" Loi"}),jsxRuntimeExports.jsx("th",{children:" Ngy mua"}),jsxRuntimeExports.jsx("th",{children:" Li/L (1 n v)"}),jsxRuntimeExports.jsx("th",{children:" Tng li/l"}),jsxRuntimeExports.jsx("th",{children:" Trng thi"}),jsxRuntimeExports.jsx("th",{children:" Sa"})]})}),jsxRuntimeExports.jsx("tbody",{children:uo.map((oo,co)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("strong",{children:oo.chung_loai})}),jsxRuntimeExports.jsx("td",{children:oo.vi_id??"null"}),jsxRuntimeExports.jsxs("td",{children:[io(oo.gia_mua)," VND"]}),jsxRuntimeExports.jsx("td",{children:oo.gia_hien_tai>0?io(oo.gia_hien_tai)+" VND":"N/A"}),jsxRuntimeExports.jsx("td",{children:oo.soluong}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("span",{className:`type-badge ${oo.loai.toLowerCase()}`,children:oo.loai})}),jsxRuntimeExports.jsx("td",{children:new Date(oo.ngay_mua).toLocaleDateString("vi-VN")}),jsxRuntimeExports.jsxs("td",{className:`${fo(oo.lai_lo_1_don_vi)}-text`,children:[io(oo.lai_lo_1_don_vi)," VND"]}),jsxRuntimeExports.jsx("td",{className:`${fo(oo.tong_lai_lo)}-text`,children:jsxRuntimeExports.jsxs("strong",{children:[io(oo.tong_lai_lo)," VND"]})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("span",{className:`status-badge ${fo(oo.tong_lai_lo)}`,children:ao(oo.tong_lai_lo)})}),jsxRuntimeExports.jsx("td",{children:oo.vi_id?jsxRuntimeExports.jsx("button",{className:"action-btn",onClick:()=>{tr(`/vi/${er?.username||Hn}/sua?vi_id=${oo.vi_id}`,{state:{id_chungloai:oo.chung_loai,loai_san_pham:oo.loai,gia_mua:oo.gia_mua,soluong:oo.soluong,ngaymua:oo.ngay_mua}})},children:"Sa"}):jsxRuntimeExports.jsx("span",{style:{color:"#aaa"},children:"N/A"})})]},co))})]}),jsxRuntimeExports.jsxs("div",{className:"pagination",style:{marginTop:"20px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",flexWrap:"wrap",paddingBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{style:jr,onClick:()=>yr(oo=>oo-1),onMouseEnter:oo=>{oo.target.style.background="#FFD700",oo.target.style.color="#000"},onMouseLeave:oo=>{oo.target.style.background="none",oo.target.style.color="#FFD700"},disabled:gr===1,children:" Trc"}),[...Array(Jr)].map((oo,co)=>{const no=co+1;return jsxRuntimeExports.jsx("button",{onClick:()=>yr(no),style:{fontWeight:gr===no?"bold":"normal",background:gr===no?"#FFD700":"#333",color:gr===no?"#000":"#fff",borderRadius:"6px",padding:"6px 10px",border:"none",cursor:"pointer"},children:no},no)}),jsxRuntimeExports.jsx("button",{style:jr,onClick:()=>yr(oo=>oo+1),onMouseEnter:oo=>{oo.target.style.background="#FFD700",oo.target.style.color="#000"},onMouseLeave:oo=>{oo.target.style.background="none",oo.target.style.color="#FFD700"},disabled:gr===Jr,children:"Sau "})]})]})]}),Lr&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>Mr(!1),children:jsxRuntimeExports.jsxs("div",{className:"modal-content",style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:oo=>oo.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Nhp mt khu"}),jsxRuntimeExports.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0,textAlign:"right"},onClick:()=>Mr(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"30px",background:"#1a1a1a"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hn})]}),jsxRuntimeExports.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:Nr,onChange:oo=>Or(oo.target.value),onKeyPress:oo=>{oo.key==="Enter"&&ro()},disabled:qr,autoFocus:!0}),Fr&&jsxRuntimeExports.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Fr})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>Mr(!1),disabled:qr,children:"Hy"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s",opacity:qr?.6:1},onClick:ro,disabled:qr,children:qr?" ang x l...":" Xc nhn"})]})]})})]})},normalizeDate=tr=>{if(!tr)return"";const Hn=new Date(tr);return isNaN(Hn.getTime())?"":Hn.toISOString().slice(0,10)},EditWallet=()=>{const tr=useNavigate(),{username:Hn}=useParams(),[er]=useSearchParams(),ir=useLocation().state||{},[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState([]),[lr,cr]=reactExports.useState(null),[ur,dr]=reactExports.useState(!1),[fr,gr]=reactExports.useState({vi_id:er.get("vi_id")||"",id_chungloai:ir.id_chungloai||"",gia_mua:ir.gia_mua||"",soluong:ir.soluong||"",loai_san_pham:ir.loai_san_pham||"VANG",ngaymua:normalizeDate(ir.ngaymua),khoang_cach:ir.khoang_cach||20}),[yr,vr]=reactExports.useState(String(fr.khoang_cach||20)),[jr,Sr]=reactExports.useState(fr.id_chungloai||""),[Tr,Lr]=reactExports.useState([]),Mr=(wo,To,Fo,Co)=>{const el=(Fo-wo)*Math.PI/180,Lo=(Co-To)*Math.PI/180,Uo=Math.sin(el/2)*Math.sin(el/2)+Math.cos(wo*Math.PI/180)*Math.cos(Fo*Math.PI/180)*Math.sin(Lo/2)*Math.sin(Lo/2);return 6371*(2*Math.atan2(Math.sqrt(Uo),Math.sqrt(1-Uo)))};reactExports.useEffect(()=>{if(yr==="ALL"||!lr||ar.length===0){Lr(ar);return}const wo=Number(yr),To=ar.filter(Fo=>{if(!Fo.vitri_location)return!1;try{const Co=JSON.parse(Fo.vitri_location);return Array.isArray(Co)?Co.some(Go=>Mr(lr.lat,lr.long,Number(Go.lat),Number(Go.long))<=wo):!1}catch{return!1}});Lr(To)},[yr,ar,lr]);const Nr=ir.id_chungloai||"";reactExports.useEffect(()=>{logUserInfo("Trang Chnh sa v - EditWallet.jsx")},[]),reactExports.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(wo=>{cr({lat:wo.coords.latitude,long:wo.coords.longitude})},()=>cr(null),{enableHighAccuracy:!0,timeout:5e3})},[]);const[Or,Fr]=reactExports.useState(!1),[Gr,qr]=reactExports.useState(""),[Hr,Yr]=reactExports.useState(""),[ro,io]=reactExports.useState(!1),[fo,ao]=reactExports.useState(!1),[Jr,uo]=reactExports.useState(""),[oo,co]=reactExports.useState("");reactExports.useEffect(()=>{const wo=localStorage.getItem("accountInfo");wo&&sr(JSON.parse(wo))},[]),reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/list_nha_vang").then(wo=>wo.json()).then(wo=>{const To=Array.isArray(wo)?wo:wo.data||[];or(To)})},[]);const no=ar.find(wo=>wo.name_nhavang===Nr)?.name_nhavang||Nr,mo=wo=>{const{name:To,value:Fo}=wo.target;gr(Co=>({...Co,[To]:Fo}))},Eo=()=>fr.id_chungloai?!fr.soluong||Number(fr.soluong)<=0?"S lng khng hp l":!fr.gia_mua||Number(fr.gia_mua)<=0?"Gi mua khng hp l":fr.ngaymua?null:"Vui lng chn ngy mua":"Vui lng chn nh vng",bo=wo=>{wo.preventDefault();const To=Eo();if(To){uo(To);return}Fr(!0)},Po=async()=>{if(!Gr){Yr("Vui lng nhp mt khu");return}io(!0),Yr("");try{const wo=new FormData;wo.append("vi_id",fr.vi_id),wo.append("id_taikhoan",rr.id_thongke_taikhoan),wo.append("password",Gr),wo.append("soluong",fr.soluong),wo.append("gia_mua",fr.gia_mua),wo.append("id_chungloai",fr.id_chungloai),wo.append("loai_san_pham",fr.loai_san_pham),wo.append("ngaymua",fr.ngaymua),wo.append("location",rr.location||'{"lat":0,"long":0}');const To=await fetch(`https://api_gold.thinkdiff.us/api/vi/sua/${fr.vi_id}`,{method:"POST",body:wo}),Fo=await To.json();if(!To.ok||Fo.status==="error"){Yr(Fo.message||"Mt khu khng ng");return}co(" Cp nht v thnh cng"),Fr(!1),setTimeout(()=>tr(`/vi/${Hn}`),800)}catch{Yr("Li kt ni server")}finally{io(!1)}};return jsxRuntimeExports.jsxs("div",{className:"gold-page",children:[jsxRuntimeExports.jsxs("div",{className:"gold-card",children:[jsxRuntimeExports.jsxs("h1",{children:[" Chnh sa V - ",no]}),jsxRuntimeExports.jsxs("form",{onSubmit:bo,className:"gold-form",children:[jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"ID V"}),jsxRuntimeExports.jsx("input",{value:fr.vi_id,disabled:!0})]}),jsxRuntimeExports.jsx("div",{className:"gold-field",children:jsxRuntimeExports.jsx("label",{children:"Khong cch v Nh vng"})}),jsxRuntimeExports.jsx("div",{onClick:()=>{vr(String(fr.khoang_cach||20)),Sr(fr.id_chungloai),dr(!0)},style:{padding:"12px",border:"2px solid #FFD700",borderRadius:"8px",cursor:"pointer",background:"#1a1a1a",color:"#FFD700"},children:fr.id_chungloai?` ${fr.id_chungloai}  ${fr.khoang_cach==="ALL"?"Th gii":`${fr.khoang_cach} km`}`:" Chn khong cch & nh vng"}),fr.id_chungloai!==Nr&&jsxRuntimeExports.jsx("div",{className:"gold-warning",children:" Bn ang thay i nh vng ca v"}),jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"S lng"}),jsxRuntimeExports.jsx("input",{type:"number",name:"soluong",value:fr.soluong,onChange:mo})]}),jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"Loi sn phm"}),jsxRuntimeExports.jsxs("select",{name:"loai_san_pham",value:fr.loai_san_pham,onChange:mo,children:[jsxRuntimeExports.jsx("option",{value:"VANG",children:"Vng"}),jsxRuntimeExports.jsx("option",{value:"BAC",children:"Bc"})]})]}),jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"Gi mua"}),jsxRuntimeExports.jsx("input",{type:"number",name:"gia_mua",value:fr.gia_mua,onChange:mo})]}),jsxRuntimeExports.jsxs("div",{className:"gold-field",children:[jsxRuntimeExports.jsx("label",{children:"Ngy mua"}),jsxRuntimeExports.jsx("input",{type:"date",name:"ngaymua",value:fr.ngaymua,onChange:mo,onClick:wo=>{wo.target.showPicker?.()},onKeyDown:wo=>wo.preventDefault()})]}),Jr&&jsxRuntimeExports.jsxs("div",{className:"gold-error",children:[" ",Jr]}),oo&&jsxRuntimeExports.jsx("div",{className:"gold-success",children:oo}),jsxRuntimeExports.jsxs("div",{className:"gold-actions",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>tr(-1),children:"Hy"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:fo,children:"Xc nhn chnh sa"})]})]})]}),Or&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>Fr(!1),children:jsxRuntimeExports.jsxs("div",{className:"modal-content",style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:wo=>wo.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Nhp mt khu xc nhn sa"}),jsxRuntimeExports.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0,textAlign:"right"},onClick:()=>Fr(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",jsxRuntimeExports.jsx("strong",{children:Hn})]}),jsxRuntimeExports.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:Gr,onChange:wo=>qr(wo.target.value),onKeyPress:wo=>{wo.key==="Enter"&&Po()},disabled:ro,autoFocus:!0}),Hr&&jsxRuntimeExports.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Hr})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>Fr(!1),disabled:ro,children:"Hy"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:ro?.6:1},onClick:Po,disabled:ro,children:ro?" ang x l...":" Xc nhn"})]})]})}),ur&&jsxRuntimeExports.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:wo=>{wo.target===wo.currentTarget&&dr(!1)},children:jsxRuntimeExports.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",width:"90%",maxWidth:"450px",overflow:"hidden"},onClick:wo=>wo.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{style:{padding:"20px",fontWeight:600},children:" Khong cch & Nh vng"}),jsxRuntimeExports.jsxs("div",{style:{padding:"20px",background:"#1a1a1a",maxHeight:"300px",overflowY:"auto",marginTop:"8px"},children:[jsxRuntimeExports.jsx("label",{style:{color:"#FFD700"},children:"Khong cch"}),jsxRuntimeExports.jsxs("select",{value:yr,onChange:wo=>vr(wo.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"2px solid #FFD700",borderRadius:"8px",color:"#FFD700",background:"#000"},children:[jsxRuntimeExports.jsx("option",{value:"ALL",children:"Th gii"}),jsxRuntimeExports.jsx("option",{value:"10",children:"10 km"}),jsxRuntimeExports.jsx("option",{value:"20",children:"20 km"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30 km"}),jsxRuntimeExports.jsx("option",{value:"40",children:"40 km"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50 km"}),jsxRuntimeExports.jsx("option",{value:"100",children:"100 km"})]}),Tr.map(wo=>jsxRuntimeExports.jsxs("div",{onClick:()=>Sr(wo.name_nhavang),style:{padding:"10px",borderRadius:"8px",marginBottom:"8px",cursor:"pointer",fontWeight:600,background:jr===wo.name_nhavang?"#FFD700":"#2a2a2a",color:jr===wo.name_nhavang?"#333":"#FFD700"},children:[" ",wo.name_nhavang]},wo.id))]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",padding:"15px",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"gray",color:"#FFD700",transition:"all 0.3s"},onClick:()=>dr(!1),children:"Hy"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s"},onClick:()=>{gr(wo=>({...wo,khoang_cach:yr,id_chungloai:jr})),dr(!1)},children:"p dng"})]})]})})]})};function ReportComex(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ReportComexChart,{})})}const ReportTable=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]),[sr,ar]=reactExports.useState([]);if(reactExports.useEffect(()=>{(async()=>{Hn(!0),nr(null);try{let ur=new Date,dr=null;for(;!dr;){const Fr=String(ur.getDate()).padStart(2,"0"),Gr=String(ur.getMonth()+1).padStart(2,"0"),qr=ur.getFullYear(),Hr=`${Fr}_${Gr}_${qr}`;try{const ro=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Hr}`)).json();if(ro&&Array.isArray(ro.data)&&ro.data.length>0){dr=ro;break}else ur.setDate(ur.getDate()-1)}catch(Yr){console.warn(`Khng th fetch d liu ngy ${Hr}:`,Yr),ur.setDate(ur.getDate()-1)}}if(!dr)throw new Error("Khng tm thy file d liu");const gr=dr.data.reduce((Fr,Gr)=>{const qr=new Date(Fr.modified_time.split("/").reverse().join("-"));return new Date(Gr.modified_time.split("/").reverse().join("-"))>qr?Gr:Fr}).link.split("/").pop().replace(".json",""),[yr,vr,jr,Sr,Tr]=gr.split("_").map(Fr=>parseInt(Fr,10)),Lr=getVang247FileUrl(yr,vr,jr,Sr,Tr);if(!Lr)throw new Error("Invalid parameters when building Vang247 file URL");const Mr=await fetchVang247SingleFile(Lr),Nr=Mr.data?.data_xau_shfe||[],Or=Mr.data?.data_xag_shfe||[];rr(Nr),ar(Or)}catch(ur){nr(ur.message||"Li khi ti d liu")}finally{Hn(!1)}})()},[]),tr)return jsxRuntimeExports.jsx("div",{children:"ang ti..."});if(er)return jsxRuntimeExports.jsxs("div",{children:["Li: ",er]});const or={width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch",marginBottom:"20px",border:"1px solid #444",borderRadius:"4px"},lr={borderCollapse:"collapse",width:"100%",minWidth:"1200px",fontSize:"14px"};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{style:{padding:"10px"},children:[jsxRuntimeExports.jsx("h2",{children:"Bo co Sn Thng Hi Tng Lai (SHFE)"}),jsxRuntimeExports.jsx("h3",{children:"D liu Vng (XAU SHFE)"}),ir.length===0?jsxRuntimeExports.jsx("div",{children:"Khng c d liu"}):jsxRuntimeExports.jsx("div",{style:or,children:jsxRuntimeExports.jsxs("table",{className:"styled-table",border:"1",cellPadding:"8",style:lr,children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("th",{colSpan:"13",children:["Cp nht lc: ",jsxRuntimeExports.jsx("span",{style:{color:"#00ff00"},children:ir[0]?new Date(ir[0].crawl_time).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"---"})]})}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Hp ng"}),jsxRuntimeExports.jsx("th",{children:"Gi mua/gi bn"}),jsxRuntimeExports.jsx("th",{children:"Chnh lch"}),jsxRuntimeExports.jsx("th",{children:"Gi gn nht"}),jsxRuntimeExports.jsx("th",{children:"Gii hn gim"}),jsxRuntimeExports.jsx("th",{children:"Gii hn tng"}),jsxRuntimeExports.jsx("th",{children:"Gi thp nht"}),jsxRuntimeExports.jsx("th",{children:"S hp ng m"}),jsxRuntimeExports.jsx("th",{children:"Gi thanh ton trc"}),jsxRuntimeExports.jsx("th",{children:jsxRuntimeExports.jsx("span",{style:{color:"red"},children:"Gi thanh ton"})}),jsxRuntimeExports.jsx("th",{children:"M sn phm"}),jsxRuntimeExports.jsx("th",{children:"Gi tr giao dch"}),jsxRuntimeExports.jsx("th",{children:"Khi lng"})]})]}),jsxRuntimeExports.jsx("tbody",{children:ir.map((cr,ur)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:cr.contract||"---"}),jsxRuntimeExports.jsx("td",{children:cr.bid_ask||"---"}),jsxRuntimeExports.jsx("td",{children:cr.change?Number(cr.change).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.last_price?Number(cr.last_price).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.limit_down?Number(cr.limit_down).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.limit_up?Number(cr.limit_up).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.lowest?Number(cr.lowest).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.open_interest?Number(cr.open_interest).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.prev_settlement?Number(cr.prev_settlement).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.settlement?Number(cr.settlement).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.symbol||"---"}),jsxRuntimeExports.jsx("td",{children:cr.turnover?Number(cr.turnover).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.volume?Number(cr.volume).toLocaleString():"---"})]},ur))})]})}),jsxRuntimeExports.jsx("h3",{children:"D liu Bc (XAG SHFE)"}),sr.length===0?jsxRuntimeExports.jsx("div",{children:"Khng c d liu"}):jsxRuntimeExports.jsx("div",{style:or,children:jsxRuntimeExports.jsxs("table",{className:"styled-table",border:"1",cellPadding:"8",style:lr,children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("th",{colSpan:"13",children:["Cp nht lc: ",jsxRuntimeExports.jsx("span",{style:{color:"#00ff00"},children:sr[0]?new Date(sr[0].crawl_time).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"N/A"})]})}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Hp ng"}),jsxRuntimeExports.jsx("th",{children:"Gi mua/gi bn"}),jsxRuntimeExports.jsx("th",{children:"Chnh lch"}),jsxRuntimeExports.jsx("th",{children:"Gi gn nht"}),jsxRuntimeExports.jsx("th",{children:"Gii hn gim"}),jsxRuntimeExports.jsx("th",{children:"Gii hn tng"}),jsxRuntimeExports.jsx("th",{children:"Gi thp nht"}),jsxRuntimeExports.jsx("th",{children:"S hp ng m"}),jsxRuntimeExports.jsx("th",{children:"Gi thanh ton trc"}),jsxRuntimeExports.jsx("th",{children:jsxRuntimeExports.jsx("span",{style:{color:"red"},children:"Gi thanh ton"})}),jsxRuntimeExports.jsx("th",{children:"M sn phm"}),jsxRuntimeExports.jsx("th",{children:"Gi tr giao dch"}),jsxRuntimeExports.jsx("th",{children:"Khi lng"})]})]}),jsxRuntimeExports.jsx("tbody",{children:sr.map((cr,ur)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:cr.contract||"---"}),jsxRuntimeExports.jsx("td",{children:cr.bid_ask||"---"}),jsxRuntimeExports.jsx("td",{children:cr.change?Number(cr.change).toLocaleString(void 0,{maximumFractionDigits:1}):"---"}),jsxRuntimeExports.jsx("td",{children:cr.last_price?(Number(cr.last_price)/1e3).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.limit_down?(Number(cr.limit_down)/1e3).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.limit_up?(Number(cr.limit_up)/1e3).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.lowest?(Number(cr.lowest)/1e3).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.open_interest?Number(cr.open_interest).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.prev_settlement?(Number(cr.prev_settlement)/1e3).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.settlement?(Number(cr.settlement)/1e3).toFixed(2):"---"}),jsxRuntimeExports.jsx("td",{children:cr.symbol||"---"}),jsxRuntimeExports.jsx("td",{children:cr.turnover?(Number(cr.turnover)/1e3).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:cr.volume?Number(cr.volume).toLocaleString():"---"})]},ur))})]})})]})})},SHFEReport=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState([]);if(reactExports.useEffect(()=>{(async()=>{Hn(!0),nr(null);try{const dr=await fetch("https://api_gold.thinkdiff.us/shfe_luong_luutru");if(!dr.ok)throw new Error("Khng th ti d liu");const fr=await dr.json(),gr=fr.data||fr.chi_so_fomo_vang||[];rr(gr)}catch(dr){nr(dr.message||"Li khi ti d liu")}finally{Hn(!1)}})()},[]),tr)return jsxRuntimeExports.jsx("div",{children:"ang ti..."});if(er)return jsxRuntimeExports.jsxs("div",{children:["Li: ",er]});const sr=ir.filter(ur=>ur.commodity==="GOLD"),ar=ir.filter(ur=>ur.commodity==="SILVER"),or={width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch",marginBottom:"30px",border:"1px solid #444",borderRadius:"4px"},lr={borderCollapse:"collapse",width:"100%",minWidth:"1200px",fontSize:"14px"},cr=(ur,dr)=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{children:dr}),ur.length===0?jsxRuntimeExports.jsx("div",{children:"Khng c d liu"}):jsxRuntimeExports.jsx("div",{style:or,children:jsxRuntimeExports.jsxs("table",{className:"styled-table",border:"1",cellPadding:"5",style:lr,children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("th",{colSpan:"6",children:["Cp nht lc:"," ",jsxRuntimeExports.jsx("span",{style:{color:"#00ff00"},children:new Date(ur[0].report_date).toLocaleString("vi-VN",{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]})}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Mc thay i"}),jsxRuntimeExports.jsx("th",{children:"Hng ha"}),jsxRuntimeExports.jsx("th",{children:"Lng lu kho"}),jsxRuntimeExports.jsx("th",{children:"Khu vc"}),jsxRuntimeExports.jsx("th",{children:"Kho lu tr"}),jsxRuntimeExports.jsx("th",{children:"Thi gian"})]})]}),jsxRuntimeExports.jsx("tbody",{style:{textAlign:"center"},children:ur.map((fr,gr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:fr.change_val??"---"}),jsxRuntimeExports.jsx("td",{children:fr.commodity??"---"}),jsxRuntimeExports.jsx("td",{children:fr.on_warrant?Number(fr.on_warrant).toLocaleString():"---"}),jsxRuntimeExports.jsx("td",{children:fr.region??"---"}),jsxRuntimeExports.jsx("td",{children:fr.warehouse??"---"}),jsxRuntimeExports.jsx("td",{children:fr.report_date?new Date(fr.report_date).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"---"})]},gr))})]})})]});return jsxRuntimeExports.jsxs("div",{style:{padding:"10px"},children:[jsxRuntimeExports.jsx("h2",{children:"Lng lu tr SHFE"}),cr(sr,"D liu Vng (GOLD SHFE)"),cr(ar,"D liu Bc (SILVER SHFE)")]})};function ComexInventoryPage(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ComexInventoryChart,{})})}const formatDistanceLocale={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},formatDistance=(tr,Hn,er)=>{let nr;const ir=formatDistanceLocale[tr];return typeof ir=="string"?nr=ir:Hn===1?nr=ir.one:nr=ir.other.replace("{{count}}",String(Hn)),er?.addSuffix?er.comparison&&er.comparison>0?nr+" na":nr+" trc":nr},dateFormats={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},timeFormats={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},formatRelative=(tr,Hn,er,nr)=>formatRelativeLocale[tr],eraValues={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},formattingQuarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},monthValues={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},formattingMonthValues={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},dayValues={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},dayPeriodValues={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},formattingDayPeriodValues={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},ordinalNumber=(tr,Hn)=>{const er=Number(tr),nr=Hn?.unit;if(nr==="quarter")switch(er){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(nr==="day")switch(er){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(nr==="week")return er===1?"th nht":"th "+er;if(nr==="dayOfYear")return er===1?"u tin":"th "+er}return String(er)},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",formattingValues:formattingQuarterValues,defaultFormattingWidth:"wide",argumentCallback:tr=>tr-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide",formattingValues:formattingMonthValues,defaultFormattingWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},parseEraPatterns={any:[/^t/i,/^s/i]},matchQuarterPatterns={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},parseQuarterPatterns={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},matchMonthPatterns={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},parseMonthPatterns={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},matchDayPatterns={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},parseDayPatterns={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},matchDayPeriodPatterns={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},parseDayPeriodPatterns={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:tr=>parseInt(tr,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:tr=>tr+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"wide"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"wide"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},vi={code:"vi",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:1}};Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,TimeScale,index,plugin$1);const API_URL$3="https://api_gold.thinkdiff.us/load_GLD_co_phieu";function formatDateTime$2(tr){const Hn=new Date(tr),er=nr=>String(nr).padStart(2,"0");return`${er(Hn.getDate())}/${er(Hn.getMonth()+1)}/${Hn.getFullYear()} ${er(Hn.getHours())}:${er(Hn.getMinutes())}`}function getMinDateByRange$1(tr,Hn){if(!Hn?.length||tr==="ALL")return null;const er=new Date(Math.max(...Hn.map(nr=>+nr)));switch(tr){case"7D":return new Date(er.getTime()-10080*60*1e3);case"30D":return new Date(er.getTime()-720*60*60*1e3);case"90D":return new Date(er.getTime()-2160*60*60*1e3);case"1Y":return new Date(er.getFullYear()-1,er.getMonth(),er.getDate());default:return null}}function buildRangeCaption$1(tr){if(!tr?.length)return"";const Hn=er=>er.toLocaleDateString("vi-VN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return`${Hn(tr[0])} - ${Hn(tr[tr.length-1])}`}function formatDateOnly$1(tr){return tr.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function getLatestTimestampFromPayload$1(tr){if(!tr)return null;const Hn=[];return tr.stock_prices?.forEach(er=>{er.record_time&&Hn.push(new Date(er.record_time).getTime())}),tr.stock_volumes?.forEach(er=>{er.record_time&&Hn.push(new Date(er.record_time).getTime())}),tr.options_flow?.forEach(er=>{er.trade_time&&Hn.push(new Date(er.trade_time).getTime())}),Hn.length?new Date(Math.max(...Hn)):null}function ShareChartGold({onlyMain:tr=!1,onlyExtra:Hn=!1}){const[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("7D"),[cr,ur]=reactExports.useState("30D"),[dr,fr]=reactExports.useState(!1),gr=useNavigate();reactExports.useEffect(()=>{let Or=!1;async function Fr(){try{nr(!0);const Gr=await fetch(API_URL$3);if(!Gr.ok)throw new Error(`HTTP ${Gr.status}`);const qr=await Gr.json();Or||ar(qr?.data?.data||null)}catch(Gr){Or||rr(Gr.message)}finally{Or||nr(!1)}}return Fr(),()=>{Or=!0}},[]);const yr={"7D":"7 ngy","30D":"30 ngy","90D":"90 ngy","1Y":"1 nm",ALL:"Tt c"},vr=reactExports.useMemo(()=>{const Or=sr?.stock_prices||[];if(!Or.length)return null;const Fr=Or.map(ro=>new Date(ro.record_time)),Gr=getMinDateByRange$1(or,Fr),qr=Gr?Or.filter(ro=>new Date(ro.record_time)>=Gr):Or,Hr=qr.map(ro=>new Date(ro.record_time)),Yr=qr.map(ro=>ro.close);return{data:{labels:Hr,datasets:[{type:"line",data:Yr,fill:!0,borderColor:"#3fb27f",backgroundColor:"rgba(63,178,127,0.25)",tension:.3,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",adapters:{date:{locale:vi}},time:{unit:"day"},ticks:{display:!1},grid:{display:!1}},y:{grid:{drawBorder:!1},beginAtZero:!0,min:0}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:ro=>new Date(ro[0].parsed.x).toLocaleString("vi-VN"),label:ro=>{const io=ro.dataIndex,fo=ro.raw,ao=qr[io]?.high;return ao!=null?[`Close: ${fo.toFixed(2)}`,`High: ${ao.toFixed(2)}`]:`Close: ${fo.toFixed(2)}`}}}}},range:buildRangeCaption$1(Hr)}},[sr,or]),jr=(Or,Fr)=>Fr==null||Fr===0?null:(Or-Fr)/Fr*100,Sr=reactExports.useMemo(()=>{const Or=sr?.stock_prices;if(!Or||Or.length<2)return{};const Fr=Or.length-1,Gr=Or[Fr]?.close,qr=Hr=>{const Yr=Fr-Hr;return Yr>=0?Or[Yr]?.close:null};return{day1:jr(Gr,qr(1)),day2:jr(Gr,qr(2)),day3:jr(Gr,qr(3)),day4:jr(Gr,qr(4)),week1:jr(Gr,qr(7)),month1:jr(Gr,qr(30))}},[sr]),Tr=reactExports.useMemo(()=>{const Or=sr?.stock_volumes||[];if(!Or.length)return null;const Fr=Or.filter(Hr=>Hr.record_time.includes("T09:30:00")),Gr=Fr.map(Hr=>({x:Hr.record_time,y:Hr.volume})),qr=Fr.map(Hr=>Hr.color==="GREEN"?"#26a69a":"#ef5350");return{data:{labels:Gr.map(Hr=>Hr.x),datasets:[{type:"bar",label:"Volume",data:Gr.map(Hr=>Hr.y),backgroundColor:qr,borderRadius:3,barPercentage:.9,categoryPercentage:.9}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"category",grid:{display:!1},ticks:{callback:function(Hr,Yr){const ro=this.getLabelForValue(Hr),[io,fo,ao]=ro.split("T")[0].split("-");return`${Number(ao)}/${Number(fo)}`}}},y:{grid:{drawBorder:!1},ticks:{callback:Hr=>Hr>=1e6?`${(Hr/1e6).toFixed(1)}M`:Hr>=1e3?`${(Hr/1e3).toFixed(0)}k`:Hr}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:()=>"",label:function(Hr){return`${(Hr.parsed.y/1e6).toFixed(3)}M`},afterLabel:function(Hr){const Yr=Hr.label,[ro,io]=Yr.split("T"),[fo,ao,Jr]=ro.split("-"),[uo,oo]=io.split(":"),co=new Date(`${fo}-${ao}-${Jr}`).toLocaleString("en-US",{month:"short"});return[`${Number(Jr)} ${co}, ${fo}`,`${uo}:${oo}`]}},labelFont:{size:16,weight:"bold"}},zoom:{pan:{enabled:!0,mode:"x",threshold:5},zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"x"},limits:{x:{min:"original",max:"original",minRange:1440*60*1e3}}}}}}},[sr,cr]),Lr=reactExports.useMemo(()=>(sr?.options_flow||[]).slice().sort((Or,Fr)=>new Date(Fr.trade_time)-new Date(Or.trade_time)),[sr]),Mr=dr?Lr:Lr.slice(0,7),Nr=reactExports.useMemo(()=>getLatestTimestampFromPayload$1(sr),[sr]);return er?jsxRuntimeExports.jsx("p",{style:{padding:24},children:"ang ti d liu GLD"}):ir?jsxRuntimeExports.jsx("p",{style:{color:"tomato"},children:ir}):jsxRuntimeExports.jsxs("div",{className:`sharechart ${Hn?"sharechart-extra":""}`,children:[!Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"sc-header-title sc-header-link",onClick:()=>gr("/spdr-shares"),style:{cursor:"pointer",textAlign:"center"},children:"SPDR Gold Shares (GLD)"}),Nr&&jsxRuntimeExports.jsxs("div",{className:"sc-header-sub",children:["D liu cp nht ln cui ca ton b d liu GLD:"," ",jsxRuntimeExports.jsx("span",{style:{textAlign:"center",fontSize:"16px",color:"#FFD700",marginTop:"4px",fontWeight:"700"},children:formatDateOnly$1(Nr)})]}),Object.keys(Sr).length>0&&!Hn&&jsxRuntimeExports.jsxs("div",{className:"sc-toolbar",children:[jsxRuntimeExports.jsx("label",{className:"sc-label",children:"T l thay i:"}),jsxRuntimeExports.jsx("div",{className:"sc-percentager-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"},{key:"month1",label:"1 thng"}].map(({key:Or,label:Fr})=>Sr[Or]!=null&&jsxRuntimeExports.jsxs("div",{className:`sc-percent-item ${Sr[Or]>=0?"up":"down"}`,children:[jsxRuntimeExports.jsxs("span",{className:"label",children:["Trong ",Fr]}),jsxRuntimeExports.jsxs("span",{className:"value",children:[Sr[Or]>=0?"+":"",Sr[Or].toFixed(2),"%"]})]},Or))})]})]}),!Hn&&jsxRuntimeExports.jsx("div",{className:"sc-timebar",children:["7D","30D","90D","1Y","ALL"].map(Or=>jsxRuntimeExports.jsx("button",{className:`sc-time-btn ${or===Or?"active":""}`,onClick:()=>lr(Or),children:yr[Or]},Or))}),!Hn&&jsxRuntimeExports.jsx("section",{className:"sc-section",children:jsxRuntimeExports.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--price",children:vr&&jsxRuntimeExports.jsx(Chart,{data:vr.data,options:vr.options})})}),!tr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"sc-header",children:jsxRuntimeExports.jsx("div",{className:"sc-header-title2",children:"Market Volume Chart (GLD)"})}),jsxRuntimeExports.jsxs("section",{className:"sc-section",children:[jsxRuntimeExports.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--volume",children:Tr&&jsxRuntimeExports.jsx(Chart,{data:Tr.data,options:Tr.options})}),jsxRuntimeExports.jsx("div",{className:"sc-caption",children:Tr?.range})]}),jsxRuntimeExports.jsx("div",{className:"sc-header",children:jsxRuntimeExports.jsx("div",{className:"sc-header-title3",children:"Option Flow (GLD)"})}),jsxRuntimeExports.jsxs("section",{className:"sc-section",children:[jsxRuntimeExports.jsxs("div",{className:"sc-section-header",children:[jsxRuntimeExports.jsx("h3",{className:"sc-section-title",children:dr?"Tt c":"7 bn ghi gn nht"}),jsxRuntimeExports.jsx("button",{onClick:()=>fr(Or=>!Or),children:dr?"n bt":"Hin tt c"})]}),jsxRuntimeExports.jsx("div",{className:"sc-table-scroll",children:jsxRuntimeExports.jsxs("table",{className:"sc-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date & Time"}),jsxRuntimeExports.jsx("th",{children:"Expiration"}),jsxRuntimeExports.jsx("th",{children:"Strike"}),jsxRuntimeExports.jsx("th",{children:"Type"}),jsxRuntimeExports.jsx("th",{children:"Size"}),jsxRuntimeExports.jsx("th",{children:"Open Interest"})]})}),jsxRuntimeExports.jsx("tbody",{children:Mr.map(Or=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:formatDateTime$2(Or.trade_time)}),jsxRuntimeExports.jsx("td",{children:formatDateTime$2(Or.expiration_date).split(" ")[0]}),jsxRuntimeExports.jsx("td",{children:Or.strike_price}),jsxRuntimeExports.jsx("td",{style:{color:Or.contract_type==="CALL"?"#26a69a":"#ef5350"},children:Or.contract_type}),jsxRuntimeExports.jsx("td",{children:Or.trade_size}),jsxRuntimeExports.jsx("td",{children:Or.open_interest})]},Or.id))})]})})]})]})]})}Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,TimeScale,index,plugin$1);const API_URL$2="https://api_gold.thinkdiff.us/load_SLV_co_phieu";function formatDateTime$1(tr){const Hn=new Date(tr),er=nr=>String(nr).padStart(2,"0");return`${er(Hn.getDate())}/${er(Hn.getMonth()+1)}/${Hn.getFullYear()} ${er(Hn.getHours())}:${er(Hn.getMinutes())}`}function getMinDateByRange(tr,Hn){if(!Hn?.length||tr==="ALL")return null;const er=new Date(Math.max(...Hn.map(nr=>+nr)));switch(tr){case"7D":return new Date(er.getTime()-10080*60*1e3);case"30D":return new Date(er.getTime()-720*60*60*1e3);case"90D":return new Date(er.getTime()-2160*60*60*1e3);case"1Y":return new Date(er.getFullYear()-1,er.getMonth(),er.getDate());default:return null}}function buildRangeCaption(tr){if(!tr?.length)return"";const Hn=er=>er.toLocaleString("vi-VN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return`${Hn(tr[0])} - ${Hn(tr[tr.length-1])}`}function formatDateOnly(tr){return tr.toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function getLatestTimestampFromPayload(tr){if(!tr)return null;const Hn=[];return tr.stock_prices?.forEach(er=>{er.record_time&&Hn.push(new Date(er.record_time).getTime())}),tr.stock_volumes?.forEach(er=>{er.record_time&&Hn.push(new Date(er.record_time).getTime())}),tr.options_flow?.forEach(er=>{er.trade_time&&Hn.push(new Date(er.trade_time).getTime())}),Hn.length?new Date(Math.max(...Hn)):null}function ShareChartSilver({onlyMain:tr=!1,onlyExtra:Hn=!1}){const[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState("7D"),[cr,ur]=reactExports.useState("30D"),[dr,fr]=reactExports.useState(!1),gr=useNavigate();reactExports.useEffect(()=>{let Or=!1;async function Fr(){try{nr(!0);const Gr=await fetch(API_URL$2);if(!Gr.ok)throw new Error(`HTTP ${Gr.status}`);const qr=await Gr.json();Or||ar(qr?.data?.data||null)}catch(Gr){Or||rr(Gr.message)}finally{Or||nr(!1)}}return Fr(),()=>{Or=!0}},[]);const yr={"7D":"7 ngy","30D":"30 ngy","90D":"90 ngy","1Y":"1 nm",ALL:"Tt c"},vr=reactExports.useMemo(()=>{const Or=sr?.stock_prices||[];if(!Or.length)return null;const Fr=Or.map(ro=>new Date(ro.record_time)),Gr=getMinDateByRange(or,Fr),qr=Gr?Or.filter(ro=>new Date(ro.record_time)>=Gr):Or,Hr=qr.map(ro=>new Date(ro.record_time)),Yr=qr.map(ro=>ro.close);return{data:{labels:Hr,datasets:[{type:"line",data:Yr,fill:!0,borderColor:"#3fb27f",backgroundColor:"rgba(63,178,127,0.25)",tension:.3,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",adapters:{date:{locale:vi}},time:{unit:"day"},ticks:{display:!1},grid:{display:!1}},y:{grid:{drawBorder:!1},beginAtZero:!0,min:0}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:ro=>new Date(ro[0].parsed.x).toLocaleString("vi-VN"),label:ro=>{const io=ro.dataIndex,fo=ro.raw,ao=qr[io]?.high;return ao!=null?[`Close: ${fo.toFixed(2)}`,`High: ${ao.toFixed(2)}`]:`Close: ${fo.toFixed(2)}`}}}}},range:buildRangeCaption(Hr)}},[sr,or]),jr=(Or,Fr)=>Fr==null||Fr===0?null:(Or-Fr)/Fr*100,Sr=reactExports.useMemo(()=>{const Or=sr?.stock_prices;if(!Or||Or.length<2)return{};const Fr=Yr=>Or[Yr]?.close??null,Gr=Or.length-1,qr=Fr(Gr),Hr=Yr=>{const ro=Gr-Yr;return ro>=0?Fr(ro):null};return{day1:jr(qr,Hr(1)),day2:jr(qr,Hr(2)),day3:jr(qr,Hr(3)),day4:jr(qr,Hr(4)),week1:jr(qr,Hr(7)),month1:jr(qr,Hr(30))}},[sr]),Tr=reactExports.useMemo(()=>{const Or=sr?.stock_volumes||[];if(!Or.length)return null;const Fr=Or.filter(Hr=>Hr.record_time.includes("T09:30:00")),Gr=Fr.map(Hr=>({x:Hr.record_time,y:Hr.volume})),qr=Fr.map(Hr=>Hr.color==="GREEN"?"#26a69a":"#ef5350");return{data:{labels:Gr.map(Hr=>Hr.x),datasets:[{type:"bar",label:"Volume",data:Gr.map(Hr=>Hr.y),backgroundColor:qr,borderRadius:3,barPercentage:.9,categoryPercentage:.9}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"category",grid:{display:!1},ticks:{callback:function(Hr,Yr){const ro=this.getLabelForValue(Hr),[io,fo,ao]=ro.split("T")[0].split("-");return`${Number(ao)}/${Number(fo)}`}}},y:{grid:{drawBorder:!1},ticks:{callback:Hr=>Hr>=1e6?`${(Hr/1e6).toFixed(1)}M`:Hr>=1e3?`${(Hr/1e3).toFixed(0)}k`:Hr}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:()=>"",label:function(Hr){return`${(Hr.parsed.y/1e6).toFixed(3)}M`},afterLabel:function(Hr){const Yr=Hr.label,[ro,io]=Yr.split("T"),[fo,ao,Jr]=ro.split("-"),[uo,oo]=io.split(":"),co=new Date(`${fo}-${ao}-${Jr}`).toLocaleString("en-US",{month:"short"});return[`${Number(Jr)} ${co}, ${fo}`,`${uo}:${oo}`]}},labelFont:{size:16,weight:"bold"}},zoom:{pan:{enabled:!0,mode:"x",threshold:5},zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"x"},limits:{x:{min:"original",max:"original",minRange:1440*60*1e3}}}}}}},[sr,cr]),Lr=reactExports.useMemo(()=>(sr?.options_flow||[]).slice().sort((Or,Fr)=>new Date(Fr.trade_time)-new Date(Or.trade_time)),[sr]),Mr=dr?Lr:Lr.slice(0,7),Nr=reactExports.useMemo(()=>getLatestTimestampFromPayload(sr),[sr]);return er?jsxRuntimeExports.jsx("p",{style:{padding:24},children:"ang ti d liu SLV..."}):ir?jsxRuntimeExports.jsx("p",{style:{color:"tomato"},children:ir}):jsxRuntimeExports.jsxs("div",{className:"sharechart",children:[!Hn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"sc-header-title7 sc-header-link",onClick:()=>gr("/spdr-shares"),style:{cursor:"pointer",textAlign:"center"},children:"SPDR Silver Shares (SLV)"}),Nr&&jsxRuntimeExports.jsxs("div",{className:"sc-header-sub",children:["D liu cp nht ln cui:",jsxRuntimeExports.jsx("span",{style:{display:"block",textAlign:"center",fontSize:"16px",color:"#FFD700",marginTop:"4px",fontWeight:"700"},children:formatDateOnly(Nr)})]}),Object.keys(Sr).length>0&&jsxRuntimeExports.jsxs("div",{className:"sc-toolbar",children:[jsxRuntimeExports.jsx("label",{className:"sc-label",children:"T l thay i:"}),jsxRuntimeExports.jsx("div",{className:"sc-percentager-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"},{key:"month1",label:"1 thng"}].map(({key:Or,label:Fr})=>Sr[Or]!=null&&jsxRuntimeExports.jsxs("div",{className:`sc-percent-item ${Sr[Or]>=0?"up":"down"}`,children:[jsxRuntimeExports.jsxs("span",{className:"label",children:["Trong ",Fr]}),jsxRuntimeExports.jsxs("span",{className:"value",children:[Sr[Or]>=0?"+":"",Sr[Or].toFixed(2),"%"]})]},Or))})]})]}),!Hn&&jsxRuntimeExports.jsx("div",{className:"sc-timebar",children:["7D","30D","90D","1Y","ALL"].map(Or=>jsxRuntimeExports.jsx("button",{className:`sc-time-btn ${or===Or?"active":""}`,onClick:()=>lr(Or),children:yr[Or]},Or))}),!Hn&&jsxRuntimeExports.jsx("section",{className:"sc-section",children:jsxRuntimeExports.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--price",children:vr&&jsxRuntimeExports.jsx(Chart,{data:vr.data,options:vr.options})})}),!tr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"sc-header",children:jsxRuntimeExports.jsx("div",{className:"sc-header-title8",children:"Market Volume Chart Silver"})}),jsxRuntimeExports.jsxs("section",{className:"sc-section",children:[jsxRuntimeExports.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--volume",children:Tr&&jsxRuntimeExports.jsx(Chart,{data:Tr.data,options:Tr.options})}),jsxRuntimeExports.jsx("div",{className:"sc-caption",children:Tr?.range})]}),jsxRuntimeExports.jsx("div",{className:"sc-header",children:jsxRuntimeExports.jsx("div",{className:"sc-header-title9",children:"Option Flow (Silver)"})}),jsxRuntimeExports.jsxs("section",{className:"sc-section",children:[jsxRuntimeExports.jsxs("div",{className:"sc-section-header",children:[jsxRuntimeExports.jsx("h3",{className:"sc-section-title",children:dr?"Tt c":"7 bn ghi gn nht"}),jsxRuntimeExports.jsx("button",{onClick:()=>fr(Or=>!Or),children:dr?"n bt":"Hin tt c"})]}),jsxRuntimeExports.jsx("div",{className:"sc-table-scroll",children:jsxRuntimeExports.jsxs("table",{className:"sc-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date & Time"}),jsxRuntimeExports.jsx("th",{children:"Expiration"}),jsxRuntimeExports.jsx("th",{children:"Strike"}),jsxRuntimeExports.jsx("th",{children:"Type"}),jsxRuntimeExports.jsx("th",{children:"Size"}),jsxRuntimeExports.jsx("th",{children:"Open Interest"})]})}),jsxRuntimeExports.jsx("tbody",{children:Mr.map(Or=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:formatDateTime$1(Or.trade_time)}),jsxRuntimeExports.jsx("td",{children:formatDateTime$1(Or.expiration_date).split(" ")[0]}),jsxRuntimeExports.jsx("td",{children:Or.strike_price}),jsxRuntimeExports.jsx("td",{style:{color:Or.contract_type==="CALL"?"#26a69a":"#ef5350"},children:Or.contract_type}),jsxRuntimeExports.jsx("td",{children:Or.trade_size}),jsxRuntimeExports.jsx("td",{children:Or.open_interest})]},Or.id))})]})})]})]})]})}const ShareChartMetalPage=()=>{const[tr,Hn]=reactExports.useState("silver");return jsxRuntimeExports.jsxs("div",{className:"metal-tabs",style:{paddingBottom:60},children:[jsxRuntimeExports.jsxs("div",{className:"metal-tabs-header",children:[jsxRuntimeExports.jsx("button",{className:tr==="gold"?"active":"",onClick:()=>Hn("gold"),children:" Gold"}),jsxRuntimeExports.jsx("button",{className:tr==="silver"?"active":"",onClick:()=>Hn("silver"),children:" Silver"})]}),jsxRuntimeExports.jsxs("div",{className:"metal-tabs-content",children:[tr==="gold"&&jsxRuntimeExports.jsx(ShareChartGold,{}),tr==="silver"&&jsxRuntimeExports.jsx(ShareChartSilver,{})]})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_tooltip,plugin_legend);const LBMAReservesChart=()=>{const[tr,Hn]=reactExports.useState(24),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState("oz"),[sr,ar]=reactExports.useState("gold");reactExports.useEffect(()=>{(async()=>{const Fr=(await(await fetch("https://api_gold.thinkdiff.us/lbma_vault_all")).json()).data;Fr.sort((Gr,qr)=>new Date(Gr.date)-new Date(qr.date)),nr(Fr)})()},[]);const or=(Mr,Nr)=>!Nr||Nr===0?null:(Mr-Nr)/Nr*100,lr=React.useMemo(()=>{if(!er||er.length===0)return[];const Mr=[...er].sort((Fr,Gr)=>new Date(Fr.date)-new Date(Gr.date));if(tr==="all")return Mr;const Nr=new Date(Mr[Mr.length-1].date),Or=new Date(Nr);return Or.setMonth(Or.getMonth()-Number(tr)),Mr.filter(Fr=>new Date(Fr.date)>=Or)},[er,tr]),cr=React.useMemo(()=>{if(!er||er.length<2)return{};const Mr=qr=>sr==="gold"?qr.gold_oz_000:qr.silver_oz_000,Nr=[...er].sort((qr,Hr)=>new Date(qr.date)-new Date(Hr.date)),Or=Nr.length-1,Fr=Mr(Nr[Or]),Gr=qr=>{const Hr=Or-qr;return Hr<0?null:or(Fr,Mr(Nr[Hr]))};return{day1:Gr(1),day2:Gr(2),day3:Gr(3),week1:Gr(7),month1:Gr(30),month6:Gr(180)}},[er,sr]),ur=React.useMemo(()=>{if(!er||er.length===0)return null;const Mr=er[er.length-1].date,Nr=new Date(Mr),Or=String(Nr.getDate()).padStart(2,"0"),Fr=String(Nr.getMonth()+1).padStart(2,"0"),Gr=Nr.getFullYear();return`${Or}/${Fr}/${Gr}`},[er]),dr=lr.map(Mr=>Mr.date),fr=Mr=>ir==="tonnes"?Mr/31.1035:Mr,gr=Mr=>ir==="tonnes"?Mr/31.1035:Mr,yr=Mr=>sr==="gold"?fr(Mr.gold_oz_000):gr(Mr.silver_oz_000),vr=React.useMemo(()=>{if(!lr||lr.length===0)return{max:null,min:null,current:null};const Mr=lr.map(yr);return{max:Math.max(...Mr),min:Math.min(...Mr),current:Mr[Mr.length-1]}},[lr,sr,ir]),jr=Mr=>Mr==null?"--":ir==="tonnes"?Mr.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" Tn":Mr.toLocaleString()+" OZ",Sr={labels:dr,datasets:[{label:ir==="tonnes"?"Gold (tonnes)":"Gold (oz)",data:lr.map(Mr=>fr(Mr.gold_oz_000)),backgroundColor:"rgba(212, 175, 55, 0.7)"}]},Tr={labels:dr,datasets:[{label:ir==="tonnes"?"Silver (tonnes)":"Silver (oz)",data:lr.map(Mr=>gr(Mr.silver_oz_000)),backgroundColor:"rgba(191, 193, 194, 0.7)"}]};if(!Sr||!Tr)return jsxRuntimeExports.jsx("div",{children:"Loading"});const Lr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{x:{ticks:{autoSkip:!0,maxTicksLimit:Math.min(lr.length||0,31)}},y:{title:{display:!0,text:ir==="tonnes"?"Tn":"OZ"}}}};return jsxRuntimeExports.jsxs("div",{className:"comex-inventory-container",children:[jsxRuntimeExports.jsxs("div",{className:"comex-inventory-header header-row",children:[jsxRuntimeExports.jsxs("div",{className:"header-left",children:[jsxRuntimeExports.jsx("h2",{children:"LBMA Gold & Silver Vault Reserves"}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:"Biu  Lng Lu Tr D Tr Vng & Bc ti Sn LBMA London"})]}),ur&&jsxRuntimeExports.jsxs("div",{className:"header-right",children:[jsxRuntimeExports.jsx("label",{className:"last-updated-label",children:" D liu cp nht ln cui: "}),jsxRuntimeExports.jsx("span",{className:"last-updated",children:ur})]})]}),jsxRuntimeExports.jsxs("div",{className:"comex-tab-navigation",children:[jsxRuntimeExports.jsx("button",{className:`tab-button ${sr==="gold"?"active":""}`,onClick:()=>ar("gold"),children:"LBMA Gold"}),jsxRuntimeExports.jsx("button",{className:`tab-button ${sr==="silver"?"active":""}`,onClick:()=>ar("silver"),children:"LBMA Silver"})]}),jsxRuntimeExports.jsxs("div",{className:"comex-unit-converter",children:[jsxRuntimeExports.jsx("span",{className:"unit-label",children:"n v:"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${ir==="oz"?"active":""}`,onClick:()=>rr("oz"),children:"OZ"}),jsxRuntimeExports.jsx("button",{className:`unit-btn ${ir==="tonnes"?"active":""}`,onClick:()=>rr("tonnes"),children:"Tn"})]}),jsxRuntimeExports.jsxs("div",{className:"comex-desktop-layout",children:[jsxRuntimeExports.jsxs("div",{className:"comex-left-column",children:[jsxRuntimeExports.jsxs("div",{className:"percentage-changes-container",children:[jsxRuntimeExports.jsx("h3",{children:"T l thay i"}),jsxRuntimeExports.jsx("div",{className:"percentage-grid",children:[["Trong 1 ngy",cr.day1],["Trong 2 ngy",cr.day2],["Trong 3 ngy",cr.day3],["Trong 1 tun",cr.week1],["Trong 1 thng",cr.month1],["Trong 6 thng",cr.month6]].map(([Mr,Nr])=>typeof Nr=="number"&&jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:Mr}),jsxRuntimeExports.jsxs("span",{className:`percentage-value ${Nr>=0?"positive":"negative"}`,children:[Nr>=0?"+":"",Nr.toFixed(2),"%"]})]},Mr))})]}),jsxRuntimeExports.jsx("div",{className:"percentage-changes-container",children:jsxRuntimeExports.jsxs("div",{className:"percentage-grid",children:[jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi tr cao nht"}),jsxRuntimeExports.jsx("span",{className:"percentage-value3",children:jr(vr.max)})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi tr thp nht"}),jsxRuntimeExports.jsx("span",{className:"percentage-value3",children:jr(vr.min)})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Gi tr hin ti"}),jsxRuntimeExports.jsx("span",{className:"percentage-value3",children:jr(vr.current)})]}),jsxRuntimeExports.jsxs("div",{className:"percentage-item",children:[jsxRuntimeExports.jsx("span",{className:"percentage-label",children:"Khong thi gian"}),jsxRuntimeExports.jsxs("div",{className:"lbma-range-buttons",children:[jsxRuntimeExports.jsx("button",{className:`range-btn ${tr==="all"?"active":""}`,onClick:()=>Hn("all"),children:"All"}),jsxRuntimeExports.jsx("button",{className:`range-btn ${tr===24?"active":""}`,onClick:()=>Hn(24),children:"24 thng"}),jsxRuntimeExports.jsx("button",{className:`range-btn ${tr===36?"active":""}`,onClick:()=>Hn(36),children:"36 thng"}),jsxRuntimeExports.jsx("button",{className:`range-btn ${tr===48?"active":""}`,onClick:()=>Hn(48),children:"48 thng"})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"comex-right-column",children:jsxRuntimeExports.jsx("div",{className:"comex-chart-wrapper",children:sr==="gold"?jsxRuntimeExports.jsx(Bar$1,{data:Sr,options:Lr}):jsxRuntimeExports.jsx(Bar$1,{data:Tr,options:Lr})})})]})]})};function LBMAReserves(){return jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(LBMAReservesChart,{})})}Chart$1.register(CategoryScale,LinearScale,BarElement,LineElement,PointElement,plugin_tooltip,plugin_legend,BarController,LineController);const API_URL$1="https://api_gold.thinkdiff.us/final_gold_silver_report_api",WeeklyWeekChart=({weekData:tr,formatDate:Hn})=>{const er=[...tr.servers].sort((or,lr)=>lr.percent-or.percent),nr=er.map(or=>or.name),ir=er.map(or=>or.loinhuan),rr=er.map(or=>or.percent),sr={labels:nr,datasets:[{type:"bar",label:"Li nhun (VN)",data:ir,backgroundColor:ir.map(or=>or>0?"#05fa2e":or<0?"#fa0505":"#94a3b8"),yAxisID:"y"},{type:"line",label:"% li nhun",data:rr,borderColor:"#3b82f6",pointBackgroundColor:"#3b82f6",tension:.3,yAxisID:"y1"}]},ar=tr.servers[0];return jsxRuntimeExports.jsxs("div",{className:"server-chart",children:[jsxRuntimeExports.jsxs("h3",{className:"server-title",children:["Tun ",tr.weekIndex+1,ar&&jsxRuntimeExports.jsxs("span",{style:{fontWeight:400,fontSize:13},children:[" ","(",Hn(ar.dautuan)," -"," ",Hn(ar.cuoituan),")"]})]}),jsxRuntimeExports.jsx("div",{style:{height:380},children:jsxRuntimeExports.jsx(Chart,{type:"bar",data:sr,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{beginAtZero:!0},y1:{beginAtZero:!0,position:"right",grid:{drawOnChartArea:!1}}}}})})]})},WeeklyProfitChart=({type:tr})=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState(!1),[rr,sr]=reactExports.useState(null),[ar,or]=reactExports.useState(null),[lr,cr]=reactExports.useState("none"),ur=jr=>{if(!jr)return"";const Sr=new Date(jr);return`${String(Sr.getDate()).padStart(2,"0")}/${String(Sr.getMonth()+1).padStart(2,"0")}/${Sr.getFullYear()}`};reactExports.useEffect(()=>{(async()=>{try{ir(!0);const Sr=await fetch(API_URL$1);if(!Sr.ok)throw new Error("API error");const Lr=(await Sr.json())?.data?.tocdo_tang_truong?.results?.[tr]??[];er(Lr)}catch(Sr){sr(Sr.message)}finally{ir(!1)}})()},[tr]);const dr=jr=>jr.servers.length?Math.max(...jr.servers.map(Sr=>Sr.percent??0)):0,fr=jr=>{const Sr=jr.toFixed(2);return jr>0?`+${Sr}%`:`${Sr}%`},gr=reactExports.useMemo(()=>{if(!Hn.length)return[];const jr=Math.max(...Hn.map(Tr=>Tr.cac_tuan?.length??0)),Sr=[];for(let Tr=0;Tr<jr;Tr++){const Lr=Hn.map(Mr=>{const Nr=Mr.cac_tuan?.[Tr];return Nr?{name:Mr.name_server,loinhuan:Nr.loinhuan??0,percent:Number((Nr.tilephantram_1tuan??0).toFixed(2)),dautuan:Nr.dautuan?.datetime,cuoituan:Nr.cuoituan?.datetime}:null}).filter(Boolean);Sr.push({weekIndex:Tr,servers:Lr})}return Sr},[Hn]),yr=reactExports.useMemo(()=>{let jr=[...gr];return lr==="profit_desc"&&jr.sort((Sr,Tr)=>dr(Tr)-dr(Sr)),lr==="profit_asc"&&jr.sort((Sr,Tr)=>dr(Sr)-dr(Tr)),jr},[gr,lr]),vr=yr.slice(0,5);return nr?jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."}):rr?jsxRuntimeExports.jsx("p",{style:{color:"red"},children:rr}):Hn.length?jsxRuntimeExports.jsxs("div",{className:"servers-chart-list",children:[yr.length>0&&jsxRuntimeExports.jsxs("div",{className:"week-controls",children:[jsxRuntimeExports.jsxs("select",{value:ar??"",onChange:jr=>{const Sr=jr.target.value;or(Sr===""?null:Number(Sr))},className:"week-select",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Hin th 5 tun u --"}),yr.map((jr,Sr)=>{const Tr=jr.servers[0]??null;return jsxRuntimeExports.jsxs("option",{value:Sr,children:["Tun ",jr.weekIndex+1,Tr?` (${ur(Tr.dautuan)} - ${ur(Tr.cuoituan)})`:""," | Max: ",fr(dr(jr))]},jr.weekIndex)})]}),jsxRuntimeExports.jsxs("div",{className:"sort-buttons",children:[jsxRuntimeExports.jsx("button",{className:`sort-btn ${lr==="profit_desc"?"active":""}`,onClick:()=>{cr("profit_desc"),or(null)},children:" % Li nhun cao  thp"}),jsxRuntimeExports.jsx("button",{className:`sort-btn ${lr==="profit_asc"?"active":""}`,onClick:()=>{cr("profit_asc"),or(null)},children:" % Li nhun thp  cao"}),jsxRuntimeExports.jsx("button",{className:`sort-btn ${lr==="none"?"active":""}`,onClick:()=>{cr("none"),or(null)},children:" Th t gc"})]})]}),ar!==null&&yr[ar]&&jsxRuntimeExports.jsx(WeeklyWeekChart,{weekData:yr[ar],formatDate:ur}),ar===null&&vr.map(jr=>jsxRuntimeExports.jsx(WeeklyWeekChart,{weekData:jr,formatDate:ur},jr.weekIndex))]}):jsxRuntimeExports.jsx("p",{children:"Khng c d liu"})},WeeklyProfitPage=()=>{const[tr,Hn]=reactExports.useState("vang"),[er,nr]=reactExports.useState(null);return jsxRuntimeExports.jsx("div",{className:"weekly-chart-wrapper",children:jsxRuntimeExports.jsxs("div",{className:"weekly-chart-card",children:[jsxRuntimeExports.jsxs("h2",{style:{marginBottom:20,color:"#e5e7eb"},children:["Li nhun theo tun (",tr==="vang"?"Vng":"Bc",")"]}),jsxRuntimeExports.jsxs("div",{className:"chart-tabs",children:[jsxRuntimeExports.jsx("button",{className:`chart-tab-btn ${tr==="vang"?"active":""}`,onClick:()=>{Hn("vang"),nr(null)},children:"Vng"}),jsxRuntimeExports.jsx("button",{className:`chart-tab-btn ${tr==="bac"?"active":""}`,onClick:()=>{Hn("bac"),nr(null)},children:"Bc"})]}),jsxRuntimeExports.jsx(WeeklyProfitChart,{type:tr})]})})};function FOMOGoldSilver(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(FomoGoldSilverChart,{})})}const SOCKET_URL="wss://api-ui.hyperliquid.xyz/ws";function formatNumberShort(tr){if(tr==null)return"0";const Hn=Math.abs(tr);return Hn>=1e9?(tr/1e9).toFixed(2).replace(/\.0$/,"")+"B":Hn>=1e6?(tr/1e6).toFixed(2).replace(/\.0$/,"")+"M":Hn>=1e3?(tr/1e3).toFixed(2).replace(/\.0$/,"")+"K":tr.toString()}const OrderBook=({type:tr="SILVER"})=>{const[Hn,er]=reactExports.useState([]),[nr,ir]=reactExports.useState([]),[rr,sr]=reactExports.useState({val:0,percent:0}),[ar,or]=reactExports.useState(0),[lr,cr]=reactExports.useState(!1),ur=reactExports.useRef([]),[dr,fr]=reactExports.useState(!1),gr=reactExports.useRef(!1),yr=`xyz:${tr}`,vr=reactExports.useRef({bids:[],asks:[]});reactExports.useEffect(()=>{const Hr=setInterval(()=>{cr(!0),setTimeout(()=>{cr(!1)},5e3)},3e4);return()=>clearInterval(Hr)},[]),reactExports.useEffect(()=>{const Hr=new WebSocket(SOCKET_URL);Hr.onopen=()=>{const ro={method:"subscribe",subscription:{type:"l2Book",coin:yr,nSigFigs:null}};Hr.send(JSON.stringify(ro))},Hr.onmessage=ro=>{const fo=JSON.parse(ro.data).data;fo&&fo.levels&&(vr.current={bids:fo.levels[0],asks:fo.levels[1]},gr.current||(ur.current.push({coin:fo.coin,levels:fo.levels,time:fo.time||Date.now()}),ur.current.length>50&&ur.current.shift()))};const Yr=setInterval(()=>{Sr()},200);return()=>{Hr.close(),clearInterval(Yr)}},[yr]),reactExports.useEffect(()=>{const Hr=setInterval(()=>{or(Yr=>Yr+1)},1e3);return()=>clearInterval(Hr)},[]);function jr(Hr){const Yr=Math.floor(Hr/3600),ro=Math.floor(Hr%3600/60),io=Hr%60;return[Yr.toString().padStart(2,"0"),ro.toString().padStart(2,"0"),io.toString().padStart(2,"0")].join(":")}const Sr=()=>{const Hr=vr.current.bids,Yr=vr.current.asks;if(Hr.length===0||Yr.length===0)return;let ro=0;const io=Yr.slice(0,15).map(no=>{const mo=parseFloat(no.sz);return ro+=mo,{price:parseFloat(no.px),size:mo,total:ro}}).reverse();let fo=0;const ao=Hr.slice(0,15).map(no=>{const mo=parseFloat(no.sz);return fo+=mo,{price:parseFloat(no.px),size:mo,total:fo}}),Jr=parseFloat(Hr[0].px),uo=parseFloat(Yr[0].px),oo=uo-Jr,co=oo/uo*100;ir(io),er(ao),sr({val:oo,percent:co})},Tr=reactExports.useRef(0),Lr=reactExports.useRef(0),{maxTotal:Mr,buyPercent:Nr,sellPercent:Or,a:Fr,b:Gr}=reactExports.useMemo(()=>{const Hr=Hn.length>0?Hn[Hn.length-1].total:0,Yr=nr.length>0?nr[0].total:0;Tr.current=Tr.current+Hn.reduce((fo,ao)=>fo+(ao?.total||0),0),Lr.current=Lr.current+nr.reduce((fo,ao)=>fo+(ao?.total||0),0);const ro=Tr.current+Lr.current;let io=50;return ro>0&&(io=Tr.current/ro*100),{maxTotal:Math.max(Hr,Yr),buyPercent:io,sellPercent:100-io,a:Tr.current,b:Lr.current}},[Hn,nr]),qr=tr==="GOLD"?"Vng":"Bc";return jsxRuntimeExports.jsxs("div",{style:styles.container,onClick:()=>{fr(!0),gr.current=!0},children:[jsxRuntimeExports.jsx("style",{children:`
                @keyframes vanishIn {
                    0% { opacity: 0; transform: translate(-50%, 0) scale(2); filter: blur(10px); }
                    100% { opacity: 1; transform: translate(-50%, 0) scale(1); filter: blur(0); }
                }
                @media (max-width: 600px) {
                    .noti-gold { left: 30% !important; }
                    .noti-silver { left: 70% !important; }
                }
                `}),lr&&jsxRuntimeExports.jsx("div",{className:tr==="GOLD"?"noti-gold":"noti-silver",style:{...styles.notification,left:tr==="GOLD"?"45%":"55%",borderColor:Nr>50?"#3b82f6":"#ef4444"},children:jsxRuntimeExports.jsxs("div",{style:{fontWeight:"bold"},children:[qr,": ",Nr.toFixed(1),"%"]})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h2",{style:{margin:0,color:tr==="SILVER"?"#95a5a6":"#f1c40f"},children:tr}),jsxRuntimeExports.jsxs("span",{style:{fontSize:"11px",color:"#848E9C"},children:[" Thi Gian cng dn: ",jr(ar)]})]}),jsxRuntimeExports.jsxs("div",{style:styles.ratioContainer,children:[jsxRuntimeExports.jsxs("div",{style:styles.ratioLabel,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("span",{style:{color:"#3b82f6"},children:["Buy ",Nr.toFixed(1),"% "]}),jsxRuntimeExports.jsxs("span",{style:{color:"#3b82f6"},children:["Tng: ",formatNumberShort(Fr)]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("span",{style:{color:"#ef4444"},children:["Sell ",Or.toFixed(1),"% "]}),jsxRuntimeExports.jsxs("span",{style:{color:"#ef4444"},children:["Tng: ",formatNumberShort(Gr)]})]})]}),jsxRuntimeExports.jsxs("div",{style:styles.ratioBarBg,children:[jsxRuntimeExports.jsx("div",{style:{...styles.ratioFill,width:`${Nr}%`,backgroundColor:"#3b82f6"}}),jsxRuntimeExports.jsx("div",{style:{...styles.ratioFill,width:`${Or}%`,backgroundColor:"#ef4444"}})]})]}),jsxRuntimeExports.jsxs("div",{style:styles.header,children:[jsxRuntimeExports.jsx("div",{style:styles.colLeft,children:"Price"}),jsxRuntimeExports.jsxs("div",{style:styles.colRight,children:["Size (",tr,")"]}),jsxRuntimeExports.jsxs("div",{style:styles.colRight,children:["Total (",tr,")"]})]}),jsxRuntimeExports.jsx("div",{style:styles.listContainer,children:nr.map((Hr,Yr)=>jsxRuntimeExports.jsx(OrderRow,{item:Hr,maxTotal:Mr,type:"ask"},`ask-${Yr}`))}),jsxRuntimeExports.jsxs("div",{style:styles.spreadRow,children:[jsxRuntimeExports.jsx("span",{style:{color:"#888"},children:"Spread"}),jsxRuntimeExports.jsx("span",{style:{fontWeight:"bold"},children:rr.val.toFixed(2)}),jsxRuntimeExports.jsxs("span",{style:{color:"#888"},children:[rr.percent.toFixed(3),"%"]})]}),jsxRuntimeExports.jsx("div",{style:styles.listContainer,children:Hn.map((Hr,Yr)=>jsxRuntimeExports.jsx(OrderRow,{item:Hr,maxTotal:Mr,type:"bid"},`bid-${Yr}`))}),dr&&jsxRuntimeExports.jsx(DataOverlay,{data:ur.current,onClose:()=>{gr.current=!1,fr(!1)},type:tr})]})},OrderRow=({item:tr,maxTotal:Hn,type:er})=>{const nr=er==="ask",ir=nr?"#FF5353":"#00C076",rr=nr?"rgba(255, 83, 83, 0.15)":"rgba(0, 192, 118, 0.15)",sr=Hn>0?Math.min(tr.total/Hn*100,100):0;return jsxRuntimeExports.jsxs("div",{style:styles.row,children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:0,width:`${sr}%`,backgroundColor:rr,zIndex:0,transition:"width 0.2s ease-out"}}),jsxRuntimeExports.jsx("span",{style:{...styles.cellLeft,color:ir},children:tr.price.toFixed(2)}),jsxRuntimeExports.jsx("span",{style:styles.cellRight,children:tr.size.toLocaleString(void 0,{minimumFractionDigits:2})}),jsxRuntimeExports.jsx("span",{style:styles.cellRight,children:tr.total.toLocaleString(void 0,{minimumFractionDigits:2})})]})};function processLevels(tr,Hn=15){const[er,nr]=tr;let ir=0;const rr=er.slice(0,Hn).map(lr=>(ir+=Number(lr.sz),{price:Number(lr.px),size:Number(lr.sz),total:ir}));let sr=0;const ar=nr.slice(0,Hn).map(lr=>(sr+=Number(lr.sz),{price:Number(lr.px),size:Number(lr.sz),total:sr})).reverse(),or=Math.max(rr[rr.length-1]?.total||0,ar[0]?.total||0);return{bids:rr,asks:ar,maxTotal:or}}function formatDateTime(tr){const Hn=new Date(tr),er=Hn.getHours().toString().padStart(2,"0"),nr=Hn.getMinutes().toString().padStart(2,"0"),ir=Hn.getSeconds().toString().padStart(2,"0"),rr=Hn.getMilliseconds().toString().padStart(3,"0"),sr=Hn.getDate().toString().padStart(2,"0"),ar=(Hn.getMonth()+1).toString().padStart(2,"0"),or=Hn.getFullYear();return`${er}:${nr}:${ir}:${rr} ${sr}/${ar}/${or}`}const DataOverlay=({data:tr,onClose:Hn,type:er})=>jsxRuntimeExports.jsx("div",{style:overlayStyles.backdrop,onClick:Hn,children:jsxRuntimeExports.jsxs("div",{style:overlayStyles.panel,onClick:nr=>nr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{style:overlayStyles.header,children:[jsxRuntimeExports.jsxs("h2",{children:["History ",` ${er}`]}),jsxRuntimeExports.jsx("button",{style:overlayStyles.closeBtn,onClick:Hn,children:""})]}),jsxRuntimeExports.jsx("div",{style:overlayStyles.content,children:tr.map((nr,ir)=>{const{bids:rr,asks:sr,maxTotal:ar}=processLevels(nr.levels);return jsxRuntimeExports.jsxs("div",{style:overlayStyles.snapshot,children:[jsxRuntimeExports.jsx("div",{style:overlayStyles.time,children:formatDateTime(nr.time)}),jsxRuntimeExports.jsxs("div",{style:styles.header,children:[jsxRuntimeExports.jsx("div",{style:styles.colLeft,children:"Price"}),jsxRuntimeExports.jsxs("div",{style:styles.colRight,children:["Size (",er,")"]}),jsxRuntimeExports.jsxs("div",{style:styles.colRight,children:["Total (",er,")"]})]}),jsxRuntimeExports.jsx("div",{style:styles.listContainer,children:sr.map((or,lr)=>jsxRuntimeExports.jsx(OrderRow,{item:or,maxTotal:ar,type:"ask"},`ask-${ir}-${lr}`))}),jsxRuntimeExports.jsx("div",{style:styles.listContainer,children:rr.map((or,lr)=>jsxRuntimeExports.jsx(OrderRow,{item:or,maxTotal:ar,type:"bid"},`bid-${ir}-${lr}`))})]},ir)})})]})}),overlayStyles={backdrop:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.75)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center"},panel:{width:"90%",maxWidth:"800px",maxHeight:"90vh",backgroundColor:"#161A25",borderRadius:"6px",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",padding:"10px",borderBottom:"1px solid #2B3139",fontWeight:"bold"},content:{overflowY:"auto",padding:"10px"},snapshot:{marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #2B3139"},time:{fontSize:"11px",color:"#9CA3AF",marginBottom:"6px"},closeBtn:{background:"transparent",border:"none",color:"#fff",fontSize:"16px",cursor:"pointer"}},styles={container:{width:"520px",backgroundColor:"#161A25",color:"#F0F3FA",fontFamily:"Consolas, monospace",fontSize:"12px",padding:"8px",borderRadius:"4px",position:"relative"},notification:{position:"fixed",top:"20px",transform:"translateX(-50%)",width:"auto",minWidth:"100px",padding:"10px 15px",backgroundColor:"#1e232f",color:"#fff",borderRadius:"8px",borderLeft:"5px solid",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",zIndex:1e4,fontSize:"14px",textAlign:"center",animation:"vanishIn 0.5s ease-out forwards",whiteSpace:"nowrap"},ratioContainer:{marginBottom:"10px"},ratioLabel:{display:"flex",justifyContent:"space-between",marginBottom:"4px",fontSize:"11px",fontWeight:"bold"},ratioBarBg:{display:"flex",height:"6px",width:"100%",backgroundColor:"#2a2e39",borderRadius:"3px",overflow:"hidden"},ratioFill:{height:"100%",transition:"width 0.3s ease-in-out"},header:{display:"flex",color:"#848E9C",marginBottom:"8px",padding:"0 4px"},colLeft:{flex:1,textAlign:"left"},colRight:{flex:1,textAlign:"right"},listContainer:{display:"flex",flexDirection:"column"},row:{display:"flex",position:"relative",height:"20px",alignItems:"center",cursor:"pointer",padding:"0 4px",marginBottom:"1px"},cellLeft:{flex:1,textAlign:"left",zIndex:1,position:"relative"},cellRight:{flex:1,textAlign:"right",zIndex:1,position:"relative",color:"#EAECEF"},spreadRow:{display:"flex",justifyContent:"space-between",padding:"8px 4px",fontSize:"13px",borderTop:"1px solid #2B3139",borderBottom:"1px solid #2B3139",margin:"4px 0"}},OrderBookPage=()=>jsxRuntimeExports.jsxs("div",{className:"order-book-page",children:[jsxRuntimeExports.jsxs("div",{className:"order-book-header",children:[jsxRuntimeExports.jsx("h1",{children:"Order Book"}),jsxRuntimeExports.jsx("p",{className:"order-book-subtitle",children:"Phn tch s lnh giao dch vng v bc"})]}),jsxRuntimeExports.jsx("div",{className:"order-book-container",children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",gap:"20px"},children:[jsxRuntimeExports.jsx(OrderBook,{type:"GOLD"}),jsxRuntimeExports.jsx(OrderBook,{type:"SILVER"})]})})]}),TechnicalIndicatorsChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,gr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[vr,jr]=reactExports.useState(yr),Sr=nr==="XAU",Tr=Sr?"#FFD700":"#ffffff";reactExports.useEffect(()=>{const Nr=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Nr),()=>window.removeEventListener("resize",Nr)},[]);const Lr=Nr=>{if(!Nr)return"";const Or=Nr.split(" ");return Or.length>1?Or[1].substring(0,5):Nr},Mr=(Nr,Or)=>{if(Nr===0)return"Tt c";if(!Or||Or.length===0)return`K${Nr}`;const Fr=Math.ceil(Or.length/yr),Gr=(Nr-1)*Fr;let qr=Gr+Fr-1;return qr>=Or.length&&(qr=Or.length-1),Gr>=Or.length?"-":`${Lr(Or[Gr])}-${Lr(Or[qr])}`};return reactExports.useEffect(()=>{(async()=>{const Or=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Fr of Or)document.querySelector(`script[src="${Fr}"]`)||await new Promise(Gr=>{const qr=document.createElement("script");qr.src=Fr,qr.async=!1,qr.onload=Gr,document.head.appendChild(qr)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Fr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(qr=>qr.json());Fr.data&&Fr.data.total_page&&or(Fr.data.total_page);const Gr=(Fr.data.list_volume||[]).reverse();Gr.length>0&&cr(Gr[Gr.length-1].timestamp),gr(qr=>({...qr,[Sr?"gold_full":"silver_full"]:Gr,[Sr?"gold_categories":"silver_categories"]:Gr.map(Hr=>Hr.timestamp)})),jr(yr)}catch(Or){console.error(Or)}})()},[Hn,rr,nr,Sr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Nr=Sr?fr.gold_full:fr.silver_full,Or=Sr?fr.gold_categories:fr.silver_categories;if(!Nr.length)return;let Fr=[...Nr],Gr=[...Or];if(vr!==0){const oo=Math.ceil(Nr.length/yr),co=(vr-1)*oo,no=co+oo;Fr=Nr.slice(co,no),Gr=Or.slice(co,no)}const qr=[],Hr=[],Yr=[],ro=[],io=[],fo=[],ao=[],Jr=[];Fr.forEach((oo,co)=>{oo.atr_14!==null&&oo.atr_14!==void 0&&qr.push({x:co,y:oo.atr_14,timestamp:oo.timestamp});const no=oo.rsi_14||oo.rsi||0;Hr.push({x:co,y:no,timestamp:oo.timestamp}),oo.momentum_10!==null&&oo.momentum_10!==void 0&&Yr.push({x:co,y:oo.momentum_10,timestamp:oo.timestamp}),oo.roc_10!==null&&oo.roc_10!==void 0&&ro.push({x:co,y:oo.roc_10,timestamp:oo.timestamp}),oo.cci_20!==null&&oo.cci_20!==void 0&&io.push({x:co,y:oo.cci_20,timestamp:oo.timestamp}),oo.bb_bandwidth!==null&&oo.bb_bandwidth!==void 0&&fo.push({x:co,y:oo.bb_bandwidth,timestamp:oo.timestamp}),oo.bb_percent_b!==null&&oo.bb_percent_b!==void 0&&ao.push({x:co,y:oo.bb_percent_b,timestamp:oo.timestamp}),oo.log_return!==null&&oo.log_return!==void 0&&Jr.push({x:co,y:oo.log_return*100,timestamp:oo.timestamp})});const uo={chart:{height:ur?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:Gr,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"ATR 14",style:{color:"#00FF80"}},top:"0%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"RSI 14",style:{color:"#FFD700"}},top:"16%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FFD700",fontSize:"10px"}},min:0,max:100,plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:"Momentum and CCI",style:{color:"#FF69B4"}},top:"32%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FF69B4",fontSize:"10px"}}},{title:{text:"ROC (10) and Log Return (%)",style:{color:"#9B59B6"}},top:"48%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}},plotLines:[{value:0,color:"#666",width:1,dashStyle:"Dash"}]},{title:{text:"Volatility (BB)",style:{color:"#03A9F4"}},top:"64%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#03A9F4",fontSize:"10px"}},min:0}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"ATR (14)",data:qr,yAxis:0,type:"line",color:"#00FF80",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00FF80; font-size:13px;">ATR 14:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"RSI (14)",data:Hr,yAxis:1,type:"line",color:"#FFD700",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">RSI 14:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(2)}</b></div>`}}},{name:"Momentum (10)",data:Yr,yAxis:3,type:"line",color:"#FF69B4",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">Momentum</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"ROC (10) %",data:ro,yAxis:4,type:"line",color:"#9B59B6",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">ROC:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}%</b></div>`}}},{name:"CCI (20)",data:io,yAxis:3,type:"line",color:"#FFA500",lineWidth:1,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center">
        <b style="color:#FFA500">CCI</b><br/>
        <b>${this.y.toFixed(2)}</b>
      </div>`}}},{name:"BB Bandwidth",data:fo,yAxis:5,type:"line",color:"#FF9800",dashStyle:"ShortDot",lineWidth:1,marker:{enabled:!1}},{name:"BB %B",data:ao,yAxis:5,type:"line",color:"#03A9F4",dashStyle:"Dot",lineWidth:1,marker:{enabled:!1}},{name:"Log Return (%)",data:Jr,yAxis:4,type:"line",color:"#E91E63",lineWidth:1,marker:{enabled:!1}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(tr.current,uo)},[nr,fr,rr,vr,Hn,Sr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("a",{href:"/#/technical-indicators",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("span",{style:{color:Tr,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:lr||"..."})})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Nr=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Nr),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Nr?Nr==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Nr?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:Nr==="XAU"?"Vng (XAU)":"Bc (XAG)"},Nr))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Nr=>jsxRuntimeExports.jsx("button",{onClick:()=>jr(Nr),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:vr===Nr?"#333":"#111",color:vr===Nr?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Mr(Nr,Sr?fr.gold_categories:fr.silver_categories)},Nr))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Nr=>Nr+1),disabled:rr>=ar,style:navBtnStyle$3(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Nr=>Math.max(1,Nr-1)),disabled:rr===1,style:navBtnStyle$3(rr===1),children:" Sau "})]})]})},navBtnStyle$3=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),VolumeMomentumChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,gr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[vr,jr]=reactExports.useState(yr),Sr=nr==="XAU",Tr=Sr?"#FFD700":"#ffffff";reactExports.useEffect(()=>{const Nr=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Nr),()=>window.removeEventListener("resize",Nr)},[]);const Lr=Nr=>{if(!Nr)return"";const Or=Nr.split(" ");return Or.length>1?Or[1].substring(0,5):Nr},Mr=(Nr,Or)=>{if(Nr===0)return"Tt c";if(!Or||Or.length===0)return`K${Nr}`;const Fr=Math.ceil(Or.length/yr),Gr=(Nr-1)*Fr;let qr=Gr+Fr-1;return qr>=Or.length&&(qr=Or.length-1),Gr>=Or.length?"-":`${Lr(Or[Gr])}-${Lr(Or[qr])}`};return reactExports.useEffect(()=>{(async()=>{const Or=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Fr of Or)document.querySelector(`script[src="${Fr}"]`)||await new Promise(Gr=>{const qr=document.createElement("script");qr.src=Fr,qr.async=!1,qr.onload=Gr,document.head.appendChild(qr)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Fr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(qr=>qr.json());Fr.data&&Fr.data.total_page&&or(Fr.data.total_page);const Gr=(Fr.data.list_volume||[]).reverse();Gr.length>0&&cr(Gr[Gr.length-1].timestamp),gr(qr=>({...qr,[Sr?"gold_full":"silver_full"]:Gr,[Sr?"gold_categories":"silver_categories"]:Gr.map(Hr=>Hr.timestamp)})),jr(yr)}catch(Or){console.error(Or)}})()},[Hn,rr,nr,Sr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Nr=Sr?fr.gold_full:fr.silver_full,Or=Sr?fr.gold_categories:fr.silver_categories;if(!Nr.length)return;let Fr=[...Nr],Gr=[...Or];if(vr!==0){const ao=Math.ceil(Nr.length/yr),Jr=(vr-1)*ao,uo=Jr+ao;Fr=Nr.slice(Jr,uo),Gr=Or.slice(Jr,uo)}const qr=[],Hr=[],Yr=[],ro=[],io=[];Fr.forEach((ao,Jr)=>{if(ao.volume!==null&&ao.volume!==void 0){const uo=ao.close_price>ao.open_price?"#00b060":"#ff4648";qr.push({x:Jr,y:ao.volume,timestamp:ao.timestamp,color:uo})}ao.obv!==null&&ao.obv!==void 0&&Hr.push({x:Jr,y:ao.obv,timestamp:ao.timestamp}),ao.mfi_14!==null&&ao.mfi_14!==void 0&&Yr.push({x:Jr,y:ao.mfi_14,timestamp:ao.timestamp}),ao.elder_force!==null&&ao.elder_force!==void 0&&ro.push({x:Jr,y:ao.elder_force,timestamp:ao.timestamp}),ao.volume_change!==null&&ao.volume_change!==void 0&&io.push({x:Jr,y:ao.volume_change,timestamp:ao.timestamp})});const fo={chart:{height:ur?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:Gr,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Volume",style:{color:"#00FF80"}},height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"OBV",style:{color:"#FF69B4"}},top:"20%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FF69B4",fontSize:"10px"}}},{title:{text:"MFI (0-100)",style:{color:"#00E5FF"}},top:"40%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00E5FF",fontSize:"10px"}},min:0,max:100,plotLines:[{value:80,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:20,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:"Elder Force",style:{color:"#FFD700"}},top:"60%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FFD700",fontSize:"10px"}}},{title:{text:"Volume Change (%)",style:{color:"#9B59B6"}},top:"80%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"Volume",data:qr,yAxis:0,type:"column",borderWidth:0,tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:${this.color}; font-size:13px;">Volume:</b><br/><b style="color:${this.color}; font-size:12px;">${this.y.toLocaleString()}</b></div>`}}},{name:"OBV",data:Hr,yAxis:1,type:"line",color:"#FF69B4",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">OBV:</b><br/><b style="color:#ffffff; font-size:12px;">${Math.round(this.y).toLocaleString()}</b></div>`}}},{name:"MFI (14)",data:Yr,yAxis:2,type:"line",color:"#00E5FF",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00E5FF; font-size:13px;">MFI:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(2)}</b></div>`}}},{name:"Elder Force",data:ro,yAxis:3,type:"line",color:"#FFD700",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">Elder Force:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"Volume Change %",data:io,yAxis:4,type:"line",color:"#9B59B6",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">Vol Change:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}%</b></div>`}}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(tr.current,fo)},[nr,fr,rr,vr,Hn,Sr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("a",{href:"/#/volume-momentum",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("span",{style:{color:Tr,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:lr||"..."})})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Nr=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Nr),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Nr?Nr==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Nr?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:Nr==="XAU"?"Vng (XAU)":"Bc (XAG)"},Nr))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Nr=>jsxRuntimeExports.jsx("button",{onClick:()=>jr(Nr),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:vr===Nr?"#333":"#111",color:vr===Nr?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Mr(Nr,Sr?fr.gold_categories:fr.silver_categories)},Nr))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Nr=>Nr+1),disabled:rr>=ar,style:navBtnStyle$2(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Nr=>Math.max(1,Nr-1)),disabled:rr===1,style:navBtnStyle$2(rr===1),children:" Sau "})]})]})},navBtnStyle$2=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),MovingAveragesChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,gr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[vr,jr]=reactExports.useState(yr),Sr=nr==="XAU",Tr=Sr?"#FFD700":"#ffffff";reactExports.useEffect(()=>{const Nr=()=>dr(window.innerWidth<768);return window.addEventListener("resize",Nr),()=>window.removeEventListener("resize",Nr)},[]);const Lr=Nr=>{if(!Nr)return"";const Or=Nr.split(" ");return Or.length>1?Or[1].substring(0,5):Nr},Mr=(Nr,Or)=>{if(Nr===0)return"Tt c";if(!Or||Or.length===0)return`K${Nr}`;const Fr=Math.ceil(Or.length/yr),Gr=(Nr-1)*Fr;let qr=Gr+Fr-1;return qr>=Or.length&&(qr=Or.length-1),Gr>=Or.length?"-":`${Lr(Or[Gr])}-${Lr(Or[qr])}`};return reactExports.useEffect(()=>{(async()=>{const Or=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Fr of Or)document.querySelector(`script[src="${Fr}"]`)||await new Promise(Gr=>{const qr=document.createElement("script");qr.src=Fr,qr.async=!1,qr.onload=Gr,document.head.appendChild(qr)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Fr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(qr=>qr.json());Fr.data&&Fr.data.total_page&&or(Fr.data.total_page);const Gr=(Fr.data.list_volume||[]).reverse();Gr.length>0&&cr(Gr[Gr.length-1].timestamp),gr(qr=>({...qr,[Sr?"gold_full":"silver_full"]:Gr,[Sr?"gold_categories":"silver_categories"]:Gr.map(Hr=>Hr.timestamp)})),jr(yr)}catch(Or){console.error(Or)}})()},[Hn,rr,nr,Sr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const Nr=Sr?fr.gold_full:fr.silver_full,Or=Sr?fr.gold_categories:fr.silver_categories;if(!Nr.length)return;let Fr=[...Nr],Gr=[...Or];if(vr!==0){const Eo=Math.ceil(Nr.length/yr),bo=(vr-1)*Eo,Po=bo+Eo;Fr=Nr.slice(bo,Po),Gr=Or.slice(bo,Po)}const qr=[],Hr=[],Yr=[],ro=[],io=[],fo=[],ao=[],Jr=[],uo=[],oo=[],co=[],no=[];Fr.forEach((Eo,bo)=>{const Po=Eo.close_price;qr.push({x:bo,y:Po,timestamp:Eo.timestamp}),Eo.sma_20!==null&&Eo.sma_20!==void 0&&Hr.push({x:bo,y:Eo.sma_20,timestamp:Eo.timestamp}),Eo.sma_50!==null&&Eo.sma_50!==void 0&&ao.push({x:bo,y:Eo.sma_50,timestamp:Eo.timestamp}),Eo.ema_20!==null&&Eo.ema_20!==void 0&&Yr.push({x:bo,y:Eo.ema_20,timestamp:Eo.timestamp}),Eo.dema_20!==null&&Eo.dema_20!==void 0&&ro.push({x:bo,y:Eo.dema_20,timestamp:Eo.timestamp}),Eo.tema_20!==null&&Eo.tema_20!==void 0&&io.push({x:bo,y:Eo.tema_20,timestamp:Eo.timestamp}),Eo.wma_20!==null&&Eo.wma_20!==void 0&&fo.push({x:bo,y:Eo.wma_20,timestamp:Eo.timestamp}),Eo.ema_50!==null&&Eo.ema_50!==void 0&&Jr.push({x:bo,y:Eo.ema_50,timestamp:Eo.timestamp}),Eo.bb_upper!==null&&Eo.bb_lower!==null&&Eo.bb_upper!==void 0&&Eo.bb_lower!==void 0&&oo.push({x:bo,low:Eo.bb_lower,high:Eo.bb_upper,timestamp:Eo.timestamp});const wo=Eo.rsi_14!==null&&Eo.rsi_14!==void 0?Eo.rsi_14:Eo.rsi_pro_trungbinh||0;co.push({x:bo,y:wo,timestamp:Eo.timestamp}),Eo.vwap!==null&&Eo.vwap!==void 0&&uo.push({x:bo,y:Eo.vwap,timestamp:Eo.timestamp}),Eo.pct_return!==null&&Eo.pct_return!==void 0&&no.push({x:bo,y:Eo.pct_return*100,timestamp:Eo.timestamp})});const mo={chart:{height:ur?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:Gr,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Price & Moving Averages",style:{color:"#00FF80"}},height:"60%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"VWAP",style:{color:"#9B59B6"}},top:"62%",height:"25%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}}}],tooltip:{shared:!0,useHTML:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,headerFormat:'<div style="color: #FFD700; font-weight: bold; margin-bottom: 8px;">{point.key}</div>',pointFormat:'<div style="color: {series.color}; font-size: 12px;">{series.name}: <b>{point.y:.3f}</b></div>'},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"Bollinger Bands",data:oo,yAxis:0,type:"arearange",color:"rgba(0, 255, 128, 0.1)",fillColor:"rgba(0, 255, 128, 0.1)",lineWidth:ur?.5:1,lineColor:"#00FF80",zIndex:-1,enableMouseTracking:!1,marker:{enabled:!1},states:{hover:{enabled:!1}}},{name:"Close Price",data:qr,yAxis:0,type:"line",color:"#FFD700",lineWidth:ur?2:3,zIndex:5,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">Close Price:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"SMA (20)",data:Hr,yAxis:0,type:"line",color:"#00FF80",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00FF80; font-size:13px;">SMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"SMA (50)",data:ao,yAxis:0,type:"line",color:"#FF6B6B",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF6B6B; font-size:13px;">SMA (50):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"EMA (20)",data:Yr,yAxis:0,type:"line",color:"#00E5FF",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00E5FF; font-size:13px;">EMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"DEMA (20)",data:ro,yAxis:0,type:"line",color:"#FF69B4",lineWidth:1,marker:{enabled:!1},dashStyle:"ShortDash",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">DEMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"TEMA (20)",data:io,yAxis:0,type:"line",color:"#9B59B6",lineWidth:1,marker:{enabled:!1},dashStyle:"ShortDash",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">TEMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"WMA (20)",data:fo,yAxis:0,type:"line",color:"#FFA500",lineWidth:1,marker:{enabled:!1},dashStyle:"Dot",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFA500; font-size:13px;">WMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"EMA (50)",data:Jr,yAxis:0,type:"line",color:"#4ECDC4",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#4ECDC4; font-size:13px;">EMA (50):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"VWAP",data:uo,yAxis:1,type:"line",color:"#9B59B6",lineWidth:ur?1:2,marker:{enabled:!1},tooltip:{shared:!1,pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">VWAP:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"Return %",data:no,yAxis:1,type:"column",color:function(){return this.y>=0?"#00FF80":"#FF4648"},borderWidth:0,enableMouseTracking:!1}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(tr.current,mo)},[nr,fr,rr,vr,Hn,Sr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("a",{href:"/#/moving-averages",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx("span",{style:{color:Tr,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:lr||"..."})})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(Nr=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(Nr),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===Nr?Nr==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===Nr?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:Nr==="XAU"?"Vng (XAU)":"Bc (XAG)"},Nr))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(Nr=>jsxRuntimeExports.jsx("button",{onClick:()=>jr(Nr),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:vr===Nr?"#333":"#111",color:vr===Nr?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Mr(Nr,Sr?fr.gold_categories:fr.silver_categories)},Nr))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(Nr=>Nr+1),disabled:rr>=ar,style:navBtnStyle$1(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(Nr=>Math.max(1,Nr-1)),disabled:rr===1,style:navBtnStyle$1(rr===1),children:" Sau "})]})]})},navBtnStyle$1=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),CandlestickChart=()=>{const tr=reactExports.useRef(null),[Hn,er]=reactExports.useState(!1),[nr,ir]=reactExports.useState("XAG"),[rr,sr]=reactExports.useState(1),[ar,or]=reactExports.useState(1),[lr,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(window.innerWidth<768),[fr,gr]=reactExports.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),yr=ur?15:10,[vr,jr]=reactExports.useState(yr),[Sr,Tr]=reactExports.useState({open:0,high:0,low:0,close:0}),Lr=nr==="XAU",Mr=Lr?"#FFD700":"#ffffff",Nr="#00b060",Or="#ff4648";reactExports.useEffect(()=>{const qr=()=>dr(window.innerWidth<768);return window.addEventListener("resize",qr),()=>window.removeEventListener("resize",qr)},[]);const Fr=qr=>{if(!qr)return"";const Hr=qr.split(" ");return Hr.length>1?Hr[1].substring(0,5):qr},Gr=(qr,Hr)=>{if(qr===0)return"Tt c";if(!Hr||Hr.length===0)return`K${qr}`;const Yr=Math.ceil(Hr.length/yr),ro=(qr-1)*Yr;let io=ro+Yr-1;return io>=Hr.length&&(io=Hr.length-1),ro>=Hr.length?"-":`${Fr(Hr[ro])}-${Fr(Hr[io])}`};return reactExports.useEffect(()=>{(async()=>{const Hr=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Yr of Hr)document.querySelector(`script[src="${Yr}"]`)||await new Promise(ro=>{const io=document.createElement("script");io.src=Yr,io.async=!1,io.onload=ro,document.head.appendChild(io)});er(!0)})()},[]),reactExports.useEffect(()=>{Hn&&(async()=>{try{const Yr=await fetch(`https://api_gold.thinkdiff.us/volume_${nr==="XAU"?"xau_usd":"xag_usd"}?page=${rr}`).then(io=>io.json());Yr.data&&Yr.data.total_page&&or(Yr.data.total_page);const ro=(Yr.data.list_volume||[]).reverse();ro.length>0&&cr(ro[ro.length-1].timestamp),gr(io=>({...io,[Lr?"gold_full":"silver_full"]:ro,[Lr?"gold_categories":"silver_categories"]:ro.map(fo=>fo.timestamp)})),jr(yr)}catch(Hr){console.error(Hr)}})()},[Hn,rr,nr,Lr,yr]),reactExports.useEffect(()=>{if(!Hn||!window.Highcharts||!tr.current)return;const qr=Lr?fr.gold_full:fr.silver_full,Hr=Lr?fr.gold_categories:fr.silver_categories;if(!qr.length)return;let Yr=[...qr],ro=[...Hr];if(vr!==0){const ao=Math.ceil(qr.length/yr),Jr=(vr-1)*ao,uo=Jr+ao;Yr=qr.slice(Jr,uo),ro=Hr.slice(Jr,uo)}const io=[];if(Yr.forEach((ao,Jr)=>{ao.open_price!==null&&ao.high_price!==null&&ao.low_price!==null&&ao.close_price!==null&&io.push({x:Jr,open:ao.open_price,high:ao.high_price,low:ao.low_price,close:ao.close_price,timestamp:ao.timestamp})}),io.length>0){const ao=io[io.length-1];Tr({open:ao.open,high:ao.high,low:ao.low,close:ao.close})}const fo={chart:{height:ur?600:500,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:ro,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Gi",style:{color:"#00FF80"}},height:"70%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{candlestick:{color:Or,upColor:Nr,lineColor:Or,upLineColor:Nr,wickColor:"#888",groupPadding:ur?.05:.02,pointPadding:ur?.02:.01,lineWidth:ur?1:2},series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{type:"candlestick",name:"Gi (OHLC)",data:io,yAxis:0,tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                <b style="color:#FFD700; font-size:13px;">Gi:</b><br/>
                <b style="color:#00FF80; font-size:11px;">Open: ${this.open.toFixed(2)}</b><br/>
                <b style="color:#00E5FF; font-size:11px;">High: <b style="color:#fffff; font-size:11px;">${this.high.toFixed(2)}</b></b><br/>
                <b style="color:#FF69B4; font-size:11px;">Low: ${this.low.toFixed(2)}</b><br/>
                <b style="color:#FFD700; font-size:11px;">Close: ${this.close.toFixed(2)}</b>
              </div>`}}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(tr.current,fo)},[nr,fr,rr,vr,Hn,Lr,ur,yr]),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),jsxRuntimeExports.jsx("span",{style:{color:Mr,fontSize:"11px",fontWeight:"bold"},children:lr||"..."})]}),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #FFD700",borderRadius:"6px",padding:"12px",marginBottom:"10px",textAlign:"center"},children:[jsxRuntimeExports.jsx("div",{style:{color:"#FFD700",fontSize:"14px",fontWeight:"bold",marginBottom:"8px"},children:"Gi Mi Nht (OHLC)"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#00FF80",fontSize:"12px"},children:"Open: "}),jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:Sr.open.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#00E5FF",fontSize:"12px"},children:"High: "}),jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:Sr.high.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#FF69B4",fontSize:"12px"},children:"Low: "}),jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:Sr.low.toFixed(2)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{style:{color:"#FFD700",fontSize:"12px"},children:"Close: "}),jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:Sr.close.toFixed(2)})]})]})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(qr=>jsxRuntimeExports.jsx("button",{onClick:()=>ir(qr),style:{padding:"6px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:nr===qr?qr==="XAU"?"#FFD700":"#ffffff":"#111",color:nr===qr?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"11px"},children:qr==="XAU"?"Vng (XAU)":"Bc (XAG)"},qr))}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(yr+1).keys()].map(qr=>jsxRuntimeExports.jsx("button",{onClick:()=>jr(qr),style:{padding:ur?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:vr===qr?"#333":"#111",color:vr===qr?"#FFF":"#777",fontSize:ur?"8px":"10px",cursor:"pointer",flex:ur?"1 1 5.5%":"none",textAlign:"center"},children:Gr(qr,Lr?fr.gold_categories:fr.silver_categories)},qr))}),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"10px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(qr=>qr+1),disabled:rr>=ar,style:navBtnStyle(rr>=ar),children:" Trc "}),jsxRuntimeExports.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",rr," / ",ar]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(qr=>Math.max(1,qr-1)),disabled:rr===1,style:navBtnStyle(rr===1),children:" Sau "})]})]})},navBtnStyle=tr=>({padding:"6px 20px",backgroundColor:"#111",color:tr?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:tr?"default":"pointer"}),AllChartsPage=()=>{const[tr,Hn]=useSearchParams();useNavigate();const er=tr.get("charts")||"rsi",[nr,ir]=reactExports.useState(er);reactExports.useEffect(()=>{logUserInfo("Trang All Charts")},[]),reactExports.useEffect(()=>{ir(er)},[er]);const rr=[{id:"rsi",label:"RSI & Bollinger",icon:"",route:"/volumexagxau?charts=rsi"},{id:"technical",label:"Technical Indicators",icon:"",route:"/volumexagxau?charts=technical"},{id:"volume",label:"Volume & Momentum",icon:"",route:"/volumexagxau?charts=volume"},{id:"moving",label:"Moving Averages",icon:"",route:"/volumexagxau?charts=moving"}],sr=or=>{ir(or),Hn({charts:or})},ar=()=>{switch(nr){case"rsi":return jsxRuntimeExports.jsx(MyRsiChart,{});case"technical":return jsxRuntimeExports.jsx(TechnicalIndicatorsChart,{});case"volume":return jsxRuntimeExports.jsx(VolumeMomentumChart,{});case"moving":return jsxRuntimeExports.jsx(MovingAveragesChart,{});default:return jsxRuntimeExports.jsx(MyRsiChart,{})}};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",minHeight:"100vh",fontFamily:"sans-serif"},children:[jsxRuntimeExports.jsxs("div",{style:{borderBottom:"3px solid #FFD700",paddingBottom:"10px"},children:[jsxRuntimeExports.jsx("h3",{style:{textAlign:"center",color:"#FFD700",margin:"10px 0",fontSize:"16px"},children:"Biu  Gi XAU / XAG"}),jsxRuntimeExports.jsx(CandlestickChart,{})]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"10px",padding:"15px",backgroundColor:"#0a0a0a",borderBottom:"2px solid #222",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:rr.map(or=>jsxRuntimeExports.jsxs("button",{onClick:()=>sr(or.id),style:{padding:"10px 20px",borderRadius:"6px",border:nr===or.id?"2px solid #FFD700":"2px solid #333",backgroundColor:nr===or.id?"rgba(255, 215, 0, 0.1)":"#111",color:nr===or.id?"#FFD700":"#999",fontWeight:nr===or.id?"bold":"normal",cursor:"pointer",fontSize:"13px",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:lr=>{nr!==or.id&&(lr.target.style.borderColor="#FFD700",lr.target.style.color="#FFD700")},onMouseLeave:lr=>{nr!==or.id&&(lr.target.style.borderColor="#333",lr.target.style.color="#999")},children:[jsxRuntimeExports.jsx("span",{children:or.icon}),jsxRuntimeExports.jsx("span",{children:or.label})]},or.id))}),jsxRuntimeExports.jsx("div",{style:{padding:"0"},children:ar()})]})},CombinedXauXagChartPage=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(null),[ir,rr]=reactExports.useState(!0),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(0),[cr,ur]=reactExports.useState(0),[dr,fr]=reactExports.useState(0),[gr,yr]=reactExports.useState(!1),[vr,jr]=reactExports.useState(!1),[Sr,Tr]=reactExports.useState(0),[Lr,Mr]=reactExports.useState(null),Nr=reactExports.useRef([]),Or=reactExports.useRef([]);useNavigate();const Fr=100,Gr=3,qr=reactExports.useCallback(io=>{Mr(io)},[]);reactExports.useEffect(()=>{logUserInfo("Trang CombinedXauXagChart")},[]),reactExports.useEffect(()=>{let io=!1;return(async()=>{try{rr(!0);const ao=await fetchXauXagVolumeData(1),Jr=await fetchXauXagVolumeData(2),uo=await fetchXauXagVolumeData(3);if(io)return;Nr.current=[...ao.volumeXauRaw||[],...Jr.volumeXauRaw||[],...uo.volumeXauRaw||[]],Or.current=[...ao.volumeXagRaw||[],...Jr.volumeXagRaw||[],...uo.volumeXagRaw||[]];const oo=ao?.totalPages||0;Tr(oo),fr(3),yr(oo>3),lr(ao.volume_trungbinh?.xau||0),ur(ao.volume_trungbinh?.xag||0);const co=Nr.current.slice(0,Gr*Fr),no=Or.current.slice(0,Gr*Fr);Hn(formatCandlestickForApex(co)),nr(formatCandlestickForApex(no));const mo=[...Nr.current.map(Fo=>Fo.timestamp),...Or.current.map(Fo=>Fo.timestamp)],Eo=Math.min(...mo),bo=Math.max(...mo),Po=[...Nr.current].sort((Fo,Co)=>Co.timestamp-Fo.timestamp),wo=Math.max(0,Po.length-30),To=Po[wo]?.timestamp||Eo;setTimeout(()=>Mr({min:To,max:bo}),300)}catch(ao){console.error("Error fetching volume data:",ao),io||(Hn([]),nr([]),lr(0),ur(0),ar("Khng th ti d liu. Vui lng th li sau."))}finally{io||rr(!1)}})(),()=>{io=!0}},[]);const Hr=async()=>{if(vr||!gr)return;const io=dr+1,fo=Math.min(dr+3,Sr);jr(!0);try{await fetchXauXagVolumeDataMultiplePages(io,fo,(ao,Jr)=>{Nr.current=[...Nr.current,...Jr.volumeXauRaw],Or.current=[...Or.current,...Jr.volumeXagRaw];const uo=Array.from(new Map(Nr.current.map(co=>[co.timestamp,co])).values()),oo=Array.from(new Map(Or.current.map(co=>[co.timestamp,co])).values());Hn(formatCandlestickForApex(uo)),nr(formatCandlestickForApex(oo)),fr(ao),yr(ao<Sr)})}catch(ao){console.error("Error loading more pages:",ao)}finally{jr(!1)}},Yr=async()=>{if(!(vr||!gr)){jr(!0);try{await fetchXauXagVolumeDataMultiplePages(dr+1,Sr,(io,fo)=>{Nr.current=[...Nr.current,...fo.volumeXauRaw],Or.current=[...Or.current,...fo.volumeXagRaw];const ao=Array.from(new Map(Nr.current.map(uo=>[uo.timestamp,uo])).values()),Jr=Array.from(new Map(Or.current.map(uo=>[uo.timestamp,uo])).values());Hn(formatCandlestickForApex(ao)),nr(formatCandlestickForApex(Jr)),fr(io),yr(!1)})}catch(io){console.error("Error loading all pages:",io)}finally{jr(!1)}}},ro=reactExports.useCallback(async()=>{try{jr(!0);const io=await fetchXauXagVolumeData(1),fo=await fetchXauXagVolumeData(2),ao=await fetchXauXagVolumeData(3);Nr.current=[...io.volumeXauRaw||[],...fo.volumeXauRaw||[],...ao.volumeXauRaw||[]],Or.current=[...io.volumeXagRaw||[],...fo.volumeXagRaw||[],...ao.volumeXagRaw||[]];const Jr=[...Nr.current.map(mo=>mo.timestamp),...Or.current.map(mo=>mo.timestamp)],uo=Math.min(...Jr),oo=Math.max(...Jr);Hn(formatCandlestickForApex(Nr.current)),nr(formatCandlestickForApex(Or.current)),fr(3),yr(Sr>3);const co=Nr.current.slice().sort((mo,Eo)=>Eo.timestamp-mo.timestamp),no=co[Math.max(0,co.length-30)]?.timestamp||uo;Mr({min:no,max:oo})}catch(io){console.error("Error resetting to initial pages:",io)}finally{jr(!1)}},[Sr]);return ir?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px"},children:jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."})}):sr?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"40px",color:"red"},children:jsxRuntimeExports.jsx("p",{children:sr})}):jsxRuntimeExports.jsxs("div",{style:{padding:"20px",width:"100%"},children:[jsxRuntimeExports.jsx("h1",{style:{marginBottom:"20px",display:"inline-block",transition:"color 0.2s"},children:"Biu  Phn Tch Volume Giao Dch XAU (Vng) v XAG (Bc)"}),jsxRuntimeExports.jsxs("div",{style:{width:"100%"},children:[jsxRuntimeExports.jsx(VolumeXauXagChart,{dataXau:tr,dataXag:er,externalZoom:Lr,onZoom:qr,enableZoom:!0}),gr&&jsxRuntimeExports.jsxs("div",{className:"pagination-actions",children:[jsxRuntimeExports.jsx("button",{className:"action-button",onClick:Hr,disabled:vr,children:vr?"ang ti...":"Tip"}),jsxRuntimeExports.jsx("button",{className:"action-button",onClick:Yr,disabled:vr,children:vr?"ang ti...":"Tt c"})]}),jsxRuntimeExports.jsx("button",{className:"action-button single",onClick:ro,disabled:vr,children:"Hin ti"}),jsxRuntimeExports.jsx(VolumeComparisonChart,{dataXau:tr,dataXag:er,avgVolumeXau:or,avgVolumeXag:cr,externalZoom:Lr,onZoom:qr,enableZoom:!0}),jsxRuntimeExports.jsx(GrowthChart,{}),jsxRuntimeExports.jsx(XAGVolumeOnlyChart,{data:er})]})]})};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,plugin_legend,index);Chart$1.defaults.color="#94A3B8";Chart$1.defaults.borderColor="#334155";const TradeTable=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),sr="https://api_gold.thinkdiff.us/slv_short_long";reactExports.useEffect(()=>{const ur=async()=>{try{nr(!0);const fr=await axios.get(sr);Hn(fr.data),rr(null)}catch(fr){console.error("Li fetch API:",fr),rr("Khng th ti d liu. Vui lng kim tra Console (F12) xem c li CORS khng.")}finally{nr(!1)}};ur();const dr=setInterval(ur,3e5);return()=>clearInterval(dr)},[]);const ar=reactExports.useMemo(()=>{if(!tr||!tr.slv_availability_fintel)return null;const ur=[...tr.slv_availability_fintel].sort((dr,fr)=>new Date(dr.timestamp_utc)-new Date(fr.timestamp_utc));return{labels:ur.map(dr=>format$1(new Date(dr.timestamp_utc),"dd/MM HH:mm")),datasets:[{label:"Shares Available",data:ur.map(dr=>parseInt(dr.availability,10)),borderColor:"#60A5FA",backgroundColor:"rgba(96, 165, 250, 0.1)",fill:!0,tension:.4,pointRadius:3,pointBackgroundColor:"#1E293B",pointBorderColor:"#60A5FA",borderWidth:2}]}},[tr]),or=reactExports.useMemo(()=>{if(!tr||!tr.slv_borrow_fees_fintel)return null;const ur=[...tr.slv_borrow_fees_fintel].sort((dr,fr)=>new Date(dr.date)-new Date(fr.date));return{labels:ur.map(dr=>dr.date),datasets:[{label:"Latest Fee (%)",data:ur.map(dr=>parseFloat(dr.latest)),backgroundColor:"rgba(248, 113, 113, 0.7)",borderColor:"#F87171",borderWidth:1,borderRadius:4,order:2},{label:"Max Fee (%)",data:ur.map(dr=>parseFloat(dr.max)),type:"line",borderColor:"#FB923C",borderWidth:2,pointRadius:4,pointBackgroundColor:"#1E293B",pointBorderColor:"#FB923C",tension:.3,order:1}]}},[tr]),lr={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#F1F5F9"}},tooltip:{backgroundColor:"#0F172A",titleColor:"#F8FAFC",bodyColor:"#CBD5E1",borderColor:"#334155",borderWidth:1,padding:10,displayColors:!0}},scales:{x:{grid:{color:"#334155",drawBorder:!1},ticks:{color:"#94A3B8"}},y:{grid:{color:"#334155",borderDash:[5,5],drawBorder:!1},ticks:{color:"#94A3B8"}}}},cr=ur=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(ur);return er?jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"ang ti d liu Dark Mode..."}):ir?jsxRuntimeExports.jsx("div",{className:"slv-error",children:ir}):jsxRuntimeExports.jsx("div",{className:"slv-dashboard-scope",children:jsxRuntimeExports.jsx("div",{className:"slv-container",children:jsxRuntimeExports.jsxs("div",{className:"slv-wrapper",children:[jsxRuntimeExports.jsx("header",{className:"slv-header",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"SLV Market Intelligence"}),jsxRuntimeExports.jsx("p",{children:"Real-time Short Data & Dark Pool Flows (Dark Theme)"})]})}),jsxRuntimeExports.jsxs("div",{className:"slv-grid",children:[jsxRuntimeExports.jsxs("div",{className:"slv-card",children:[jsxRuntimeExports.jsxs("div",{className:"slv-card-title",children:[jsxRuntimeExports.jsx("span",{className:"slv-indicator blue"}),"Short Shares Availability"]}),jsxRuntimeExports.jsx("div",{className:"slv-chart-box",children:ar&&jsxRuntimeExports.jsx(Line,{data:ar,options:{...lr,scales:{...lr.scales,y:{...lr.scales.y,title:{display:!0,text:"Shares",color:"#64748B"}}}}})})]}),jsxRuntimeExports.jsxs("div",{className:"slv-card",children:[jsxRuntimeExports.jsxs("div",{className:"slv-card-title",children:[jsxRuntimeExports.jsx("span",{className:"slv-indicator orange"}),"Borrow Fee Rates"]}),jsxRuntimeExports.jsx("div",{className:"slv-chart-box",children:or&&jsxRuntimeExports.jsx(Bar$1,{data:or,options:{...lr,scales:{...lr.scales,y:{...lr.scales.y,title:{display:!0,text:"Rate (%)",color:"#64748B"}}}}})})]})]}),jsxRuntimeExports.jsx("div",{className:"slv-table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:jsxRuntimeExports.jsxs("table",{className:"slv-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Time"}),jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Symbol"}),jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Trade side"}),jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Side"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Contract"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Expiry"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"DTX"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Strike Price"})," ",jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Spot Price"}),"   ",jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Strike / Spot (%)"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Cond"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Event"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Trade"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Open Int"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"IVOL"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Premium Paid"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Premium Sigmas"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?.slv_dark_pool_levels?.slice(0,80).map((ur,dr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{className:"slv-left",children:[jsxRuntimeExports.jsx("span",{className:"slv-date",children:ur.date}),jsxRuntimeExports.jsx("span",{className:"slv-time",style:{marginLeft:"4px"},children:ur.time})]}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:"slv-date",children:ur.symbol})}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:ur.trade_side==="BUY"?"slv-text-green":"slv-text-red",children:ur.trade_side})}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:"slv-date",children:ur.side})}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:`slv-badge ${ur.contract==="CALL"?"slv-badge-call":"slv-badge-put"}`,children:ur.contract})}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.expiry}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.dte}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-bold",children:ur.strike_price}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.spot_price}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.strike_spot_pct}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.cond}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:ur.event}),jsxRuntimeExports.jsxs("td",{className:"slv-left",children:[jsxRuntimeExports.jsx("span",{className:"slv-left",children:ur.trade_type})," "]}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:"slv-left",children:ur.open_int})}),jsxRuntimeExports.jsx("td",{className:"slv-left",children:jsxRuntimeExports.jsx("span",{className:"slv-left",children:ur.ivol})}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-bold",children:cr(parseFloat(ur.premium_paid))}),jsxRuntimeExports.jsx("td",{className:"slv-left slv-bold",children:jsxRuntimeExports.jsx("span",{className:"slv-left",children:ur.premium_sigmas})})]},dr))})]})})})]})})})},SLVAvailabilityTable=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),sr="https://api_gold.thinkdiff.us/slv_short_long";reactExports.useEffect(()=>{const or=async()=>{try{nr(!0);const cr=await axios.get(sr);Hn(cr.data),rr(null)}catch(cr){console.error("Li fetch API:",cr),rr("Khng th ti d liu. Vui lng kim tra Console (F12) xem c li CORS khng.")}finally{nr(!1)}};or();const lr=setInterval(or,3e5);return()=>clearInterval(lr)},[]);const ar=or=>new Intl.NumberFormat("en-US").format(parseInt(or,10));return er?jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"ang ti d liu..."}):ir?jsxRuntimeExports.jsx("div",{className:"slv-error",children:ir}):jsxRuntimeExports.jsx("div",{className:"slv-availability-scope",children:jsxRuntimeExports.jsxs("div",{className:"slv-availability-container",children:[jsxRuntimeExports.jsx("header",{className:"slv-availability-header",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"US:SLV Short Shares Availability"}),jsxRuntimeExports.jsx("p",{children:"Real-time Short Shares Availability Data"})]})}),jsxRuntimeExports.jsx("div",{className:"slv-availability-table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:jsxRuntimeExports.jsxs("table",{className:"slv-availability-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Time Since Last Change"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Timestamp (UTC)"}),jsxRuntimeExports.jsx("th",{className:"slv-right",children:"US:SLV Short Shares Availability"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?.slv_availability_fintel?.map((or,lr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:or.time_since}),jsxRuntimeExports.jsx("td",{className:"slv-center slv-gray",children:or.timestamp_utc}),jsxRuntimeExports.jsx("td",{className:"slv-right slv-bold slv-number",children:ar(or.availability)})]},lr))})]})})})]})})},SLVVolumeCombinedTable=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),sr="https://api_gold.thinkdiff.us/slv_short_long";reactExports.useEffect(()=>{const or=async()=>{try{nr(!0);const cr=await axios.get(sr);Hn(cr.data),rr(null)}catch(cr){console.error("Fetch error:",cr),rr("Khng th ti d liu. Kim tra Console (F12)  xem li.")}finally{nr(!1)}};or();const lr=setInterval(or,3e5);return()=>clearInterval(lr)},[]);const ar=or=>{if(or==null||or==="")return or;const lr=parseInt(or,10);return Number.isNaN(lr)?or:new Intl.NumberFormat("en-US").format(lr)};return er?jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"ang ti d liu..."}):ir?jsxRuntimeExports.jsx("div",{className:"slv-error",children:ir}):jsxRuntimeExports.jsx("div",{className:"slv-volume-scope",children:jsxRuntimeExports.jsxs("div",{className:"slv-volume-container",children:[jsxRuntimeExports.jsx("header",{className:"slv-volume-header",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{children:"FINRA / Combined Short Volume"})})}),jsxRuntimeExports.jsx("div",{className:"slv-volume-table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:jsxRuntimeExports.jsxs("table",{className:"slv-volume-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"slv-left",children:"Market Date"}),jsxRuntimeExports.jsx("th",{className:"slv-right",children:"FINRA Short Volume"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?.slv_volume_combined_fintel?.map((or,lr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-left slv-gray",children:or.market_date}),jsxRuntimeExports.jsxs("td",{className:"slv-right slv-bold",children:[ar(or.finra_short_vol),or.psx_bx_vol==="+"?jsxRuntimeExports.jsx("span",{className:"slv-plus",children:" +"}):null]})]},lr))})]})})})]})})},SLVBorrowFeesTable=()=>{const[tr,Hn]=reactExports.useState(null),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null),sr="https://api_gold.thinkdiff.us/slv_short_long";return reactExports.useEffect(()=>{const ar=async()=>{try{nr(!0);const lr=await axios.get(sr);Hn(lr.data),rr(null)}catch(lr){console.error("Li fetch API:",lr),rr("Khng th ti d liu. Vui lng kim tra Console (F12) xem c li CORS khng.")}finally{nr(!1)}};ar();const or=setInterval(ar,3e5);return()=>clearInterval(or)},[]),er?jsxRuntimeExports.jsx("div",{className:"slv-loading",children:"ang ti d liu..."}):ir?jsxRuntimeExports.jsx("div",{className:"slv-error",children:ir}):jsxRuntimeExports.jsx("div",{className:"slv-borrow-fees-scope",children:jsxRuntimeExports.jsxs("div",{className:"slv-borrow-fees-container",children:[jsxRuntimeExports.jsx("header",{className:"slv-borrow-fees-header",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"SLV Borrow Fee Rates"}),jsxRuntimeExports.jsx("p",{children:"Daily Borrow Fee Statistics"})]})}),jsxRuntimeExports.jsx("div",{className:"slv-borrow-fees-table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:jsxRuntimeExports.jsxs("table",{className:"slv-borrow-fees-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Start"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Min"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Max"}),jsxRuntimeExports.jsx("th",{className:"slv-center",children:"Latest"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr?.slv_borrow_fees_fintel?.map((ar,or)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-center slv-gray",children:ar.date}),jsxRuntimeExports.jsx("td",{className:"slv-center",children:parseFloat(ar.start).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"slv-center",children:parseFloat(ar.min).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"slv-center",children:parseFloat(ar.max).toFixed(2)}),jsxRuntimeExports.jsx("td",{className:"slv-center slv-bold",children:parseFloat(ar.latest).toFixed(2)})]},or))})]})})})]})})};function SLVFailsToDeliverTable(){const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null);reactExports.useEffect(()=>{let lr=!0;return fetch("https://api_gold.thinkdiff.us/slv_short_long").then(cr=>{if(!cr.ok)throw new Error("Network response was not ok");return cr.json()}).then(cr=>{const ur=cr?.slv_fails_to_deliver_fintel||[];lr&&Hn(ur)}).catch(cr=>{lr&&rr(cr.message||String(cr))}).finally(()=>{lr&&nr(!1)}),()=>{lr=!1}},[]);const sr=lr=>{if(lr==null||lr==="")return"-";const cr=Number(String(lr).replace(/,/g,""));return Number.isNaN(cr)?lr:new Intl.NumberFormat().format(cr)},ar=lr=>{if(lr==null||lr==="")return"-";const cr=Number(String(lr).replace(/,/g,""));return Number.isNaN(cr)?lr:cr.toFixed(2)},or=lr=>{if(lr==null||lr==="")return"-";const cr=Number(String(lr).replace(/,/g,""));return Number.isNaN(cr)?lr:new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(cr)};return jsxRuntimeExports.jsx("div",{className:"slv-ftd",children:jsxRuntimeExports.jsxs("div",{className:"slv-ftd__container",children:[jsxRuntimeExports.jsx("div",{className:"slv-ftd__header",children:jsxRuntimeExports.jsx("h2",{className:"slv-ftd__title",children:"Fails To Deliver (Fintel)"})}),jsxRuntimeExports.jsx("div",{className:"slv-ftd__table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:er?jsxRuntimeExports.jsx("div",{className:"slv-ftd__loading",children:"Loading"}):ir?jsxRuntimeExports.jsx("div",{className:"slv-ftd__error",children:ir}):jsxRuntimeExports.jsxs("table",{className:"slv-ftd__table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date"}),jsxRuntimeExports.jsx("th",{children:"Price"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Value"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((lr,cr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-ftd__date",children:lr.date}),jsxRuntimeExports.jsx("td",{className:"slv-ftd__price",children:ar(lr.price)}),jsxRuntimeExports.jsx("td",{className:"slv-ftd__qty",children:sr(lr.quantity)}),jsxRuntimeExports.jsx("td",{className:"slv-ftd__value",children:or(lr.value_usd)})]},`${lr.date}-${lr.quantity||cr}`))})]})})})]})})}function SLVShortInterestTable(){const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState(!0),[ir,rr]=reactExports.useState(null);reactExports.useEffect(()=>{let or=!0;return fetch("https://api_gold.thinkdiff.us/slv_short_long").then(lr=>{if(!lr.ok)throw new Error("Network response was not ok");return lr.json()}).then(lr=>{const cr=lr?.slv_short_interest_fintel||[];or&&Hn(cr)}).catch(lr=>{or&&rr(lr.message||String(lr))}).finally(()=>{or&&nr(!1)}),()=>{or=!1}},[]);const sr=or=>{if(or==null||or==="")return"-";const lr=Number(String(or).replace(/,/g,""));return Number.isNaN(lr)?or:new Intl.NumberFormat().format(lr)},ar=(or,lr=2)=>{if(or==null||or==="")return"-";const cr=Number(String(or).replace(/,/g,""));return Number.isNaN(cr)?or:cr.toFixed(lr)};return jsxRuntimeExports.jsx("div",{className:"slv-si",children:jsxRuntimeExports.jsxs("div",{className:"slv-si__container",children:[jsxRuntimeExports.jsx("div",{className:"slv-si__header",children:jsxRuntimeExports.jsx("h2",{className:"slv-si__title",children:"Short Interest (Fintel)"})}),jsxRuntimeExports.jsx("div",{className:"slv-si__table-container",children:jsxRuntimeExports.jsx("div",{className:"slv-scroll-area",children:er?jsxRuntimeExports.jsx("div",{className:"slv-si__loading",children:"Loading"}):ir?jsxRuntimeExports.jsx("div",{className:"slv-si__error",children:ir}):jsxRuntimeExports.jsxs("table",{className:"slv-si__table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date"}),jsxRuntimeExports.jsx("th",{className:"slv-right",children:"Short Interest"}),jsxRuntimeExports.jsx("th",{className:"slv-right",children:"Days to Cover"})]})}),jsxRuntimeExports.jsx("tbody",{children:tr.map((or,lr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"slv-left",children:or.date}),jsxRuntimeExports.jsx("td",{className:"slv-right",children:sr(or.short_interest)}),jsxRuntimeExports.jsx("td",{className:"slv-right",children:ar(or.days_to_cover,2)})]},`${or.date}-${lr}`))})]})})})]})})}function TradeFlowPage(){return jsxRuntimeExports.jsxs("div",{className:"tradeflow-page",children:[jsxRuntimeExports.jsx(TradeTable,{apiUrl:"https://api_gold.thinkdiff.us/slv_short_long"}),jsxRuntimeExports.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:jsxRuntimeExports.jsx(ShareChartMetalPage,{})}),jsxRuntimeExports.jsx(SLVAvailabilityTable,{}),jsxRuntimeExports.jsx(SLVBorrowFeesTable,{}),jsxRuntimeExports.jsx(SLVVolumeCombinedTable,{}),jsxRuntimeExports.jsx(SLVFailsToDeliverTable,{}),jsxRuntimeExports.jsx(SLVShortInterestTable,{}),jsxRuntimeExports.jsxs("div",{className:"slv-section",children:[jsxRuntimeExports.jsx(SLVTradingChart,{}),jsxRuntimeExports.jsx(SLVStats,{}),jsxRuntimeExports.jsx(SLVDarkPoolTable,{})]})]})}const API_URL="https://ondemand.websol.barchart.com/getQuote.json",API_KEY="2d8b3b803594b13e02a7dc827f4a63f8",SYMBOLS={silver:"SIY00,SI*1,SI*2,SI*3,SI*4,SI*5,SI*6,SI*7,SI*8,SI*9,SI*10,SI*11,SI*12,SI*13,SI*14,SI*15,SI*16,SI*17,SI*18,SI*19,SI*20,SI*21,SI*22,SI*23,SI*24,SI*25,SI*26,SI*27,SI*28,SI*29,SI*30,SI*31,SI*32",gold:"GCY00,GC*1,GC*2,GC*3,GC*4,GC*5,GC*6,GC*7,GC*8,GC*9,GC*10,GC*11,GC*12,GC*13,GC*14"},FIELDS="open,high,low,lastPrice,settlement,netChange,percentChange,volume,previousClose,previousOpenInterest,tradeTimestamp",SilverFutures=()=>{const[tr,Hn]=reactExports.useState("gold"),[er,nr]=reactExports.useState([]),[ir,rr]=reactExports.useState(!1),[sr,ar]=reactExports.useState(null),[or,lr]=reactExports.useState(30);reactExports.useEffect(()=>{cr(tr)},[tr]);const cr=async ur=>{try{rr(!0),ar(null);const dr=new URLSearchParams({apikey:API_KEY,symbols:SYMBOLS[ur],fields:FIELDS}),gr=await(await fetch(API_URL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:dr})).json();if(gr.status?.code!==200)throw new Error(gr.status?.message||"API error");nr(gr.results||[])}catch(dr){console.error(dr),ar("Khng load c d liu")}finally{rr(!1)}};return reactExports.useEffect(()=>{lr(30),cr(tr);const ur=setInterval(()=>{lr(dr=>dr<=1?(cr(tr),30):dr-1)},1e3);return()=>clearInterval(ur)},[tr]),jsxRuntimeExports.jsxs("div",{style:{padding:16},children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center"},children:"Futures Chain - Gold & Silver"}),jsxRuntimeExports.jsxs("p",{style:{textAlign:"right",marginTop:8,fontSize:13},children:[" Cp nht sau ",jsxRuntimeExports.jsx("b",{children:or})," giy"]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:10},children:[jsxRuntimeExports.jsx(Tab,{label:" Gold",active:tr==="gold",onClick:()=>Hn("gold")}),jsxRuntimeExports.jsx(Tab,{label:" Silver",active:tr==="silver",onClick:()=>Hn("silver")})]}),ir&&jsxRuntimeExports.jsx("p",{style:{textAlign:"center"},children:"ang ti d liu"}),sr&&jsxRuntimeExports.jsx("p",{style:{color:"red",textAlign:"center"},children:sr}),!ir&&jsxRuntimeExports.jsx(FuturesTable,{data:er})]})},FuturesTable=({data:tr})=>jsxRuntimeExports.jsx("div",{style:{overflowX:"auto",marginTop:16},children:jsxRuntimeExports.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[jsxRuntimeExports.jsxs("thead",{children:[jsxRuntimeExports.jsxs("tr",{style:{background:"#000"},children:[jsxRuntimeExports.jsx("th",{style:th,colSpan:11,children:"Phin hin ti"}),jsxRuntimeExports.jsx("th",{style:th,colSpan:2,children:"Phin trc"})]}),jsxRuntimeExports.jsxs("tr",{style:{background:"#000"},children:[jsxRuntimeExports.jsx("th",{style:th,children:"M hp ng "}),jsxRuntimeExports.jsx("th",{style:th,children:"Ngy ht hn"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi M ca"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi Cao nht"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi Thp nht"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi hin ti"}),jsxRuntimeExports.jsx("th",{style:th,children:"Thi gian"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi thanh ton"}),jsxRuntimeExports.jsx("th",{style:th,children:"Thay i"}),jsxRuntimeExports.jsx("th",{style:th,children:"T l thay i"}),jsxRuntimeExports.jsx("th",{style:th,children:"Khi lng"}),jsxRuntimeExports.jsx("th",{style:th,children:"Gi trc "}),jsxRuntimeExports.jsx("th",{style:th,children:"Hp ng m"})]})]}),jsxRuntimeExports.jsx("tbody",{children:tr.map((Hn,er)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{...tdBold,color:er===0?"red":"inherit"},children:Hn.symbol}),jsxRuntimeExports.jsx("td",{style:tdBold,children:getContractMonth(er)}),jsxRuntimeExports.jsx("td",{style:td,children:fmt(Hn.open)}),jsxRuntimeExports.jsx("td",{style:td,children:fmt(Hn.high)}),jsxRuntimeExports.jsx("td",{style:td,children:fmt(Hn.low)}),jsxRuntimeExports.jsx("td",{style:{...td,fontWeight:"bold",color:er===0?"red":"inherit"},children:fmt(Hn.lastPrice)}),jsxRuntimeExports.jsx("td",{style:tdSmall,children:formatTime(Hn.serverTimestamp)}),jsxRuntimeExports.jsx("td",{style:td,children:Hn.settlement?fmt(Hn.settlement):"-"}),jsxRuntimeExports.jsxs("td",{style:{...td,color:Hn.netChange<0?"red":"green"},children:[Hn.netChange>0?"+":"",fmt(Hn.netChange)]}),jsxRuntimeExports.jsxs("td",{style:{...td,color:Hn.percentChange<0?"red":"green"},children:[Hn.percentChange>0?"+":"",Hn.percentChange?`${Hn.percentChange}%`:"-"]}),jsxRuntimeExports.jsx("td",{style:td,children:Hn.volume?.toLocaleString()??"-"}),jsxRuntimeExports.jsx("td",{style:td,children:fmt(Hn.previousClose)}),jsxRuntimeExports.jsx("td",{style:td,children:Hn.previousOpenInterest?Hn.previousOpenInterest.toLocaleString():"-"})]},Hn.symbol))})]})}),fmt=tr=>typeof tr=="number"?tr.toFixed(4):"-",formatTime=tr=>{if(!tr)return"-";const Hn=new Date(tr),er=Hn.toLocaleString("en-US",{weekday:"short"}),nr=String(Hn.getHours()).padStart(2,"0"),ir=String(Hn.getMinutes()).padStart(2,"0"),rr=String(Hn.getSeconds()).padStart(2,"0"),sr=String(Hn.getDate()).padStart(2,"0"),ar=String(Hn.getMonth()+1).padStart(2,"0"),or=Hn.getFullYear();return`${er} ${nr}:${ir}:${rr} ${sr}/${ar}/${or}`},Tab=({active:tr,label:Hn,onClick:er})=>jsxRuntimeExports.jsx("button",{onClick:er,style:{padding:"8px 16px",borderRadius:6,border:tr?"1px solid #ccc":"2px solid #333",background:tr?"#fff":"#333",color:tr?"#000":"#fff",cursor:"pointer"},children:Hn}),th={border:"1px solid #ccc",padding:6,fontSize:13,textAlign:"center"},td={border:"1px solid #ddd",padding:6,fontSize:13,textAlign:"center"},START_MONTH=1,START_YEAR=2026,getContractMonth=tr=>{if(tr===0)return"Cash";const Hn=START_MONTH+(tr-1),er=START_YEAR+Math.floor(Hn/12),nr=Hn%12;return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][nr]}'${String(er).slice(-2)}`},tdBold={...td,fontWeight:"bold"},tdSmall={...td,fontSize:12},CFTCandCOMEXChart=()=>jsxRuntimeExports.jsxs("div",{className:"cftc-comex-container",style:{padding:"20px",color:"white"},children:[jsxRuntimeExports.jsx("section",{style:{marginBottom:"50px",background:"#1e293b",padding:"20px",borderRadius:"8px"},children:jsxRuntimeExports.jsx("div",{style:{paddingTop:"25px"},children:jsxRuntimeExports.jsx(CFTC_Chart,{})})}),jsxRuntimeExports.jsx("section",{style:{background:"#1e293b",padding:"20px",borderRadius:"8px"},children:jsxRuntimeExports.jsx("div",{style:{paddingTop:"25px"},children:jsxRuntimeExports.jsx(ReportComexChart,{})})})]}),OrderFlowAnalysisPage=()=>{const{type:tr,day:Hn,month:er,year:nr}=useParams(),ir=useNavigate(),rr=reactExports.useRef(0),sr=reactExports.useRef(!0),[ar,or]=reactExports.useState({gold:[],silver:[]}),[lr,cr]=reactExports.useState(!0),[ur,dr]=reactExports.useState(""),[fr,gr]=reactExports.useState(window.innerWidth<768);reactExports.useEffect(()=>{const Yr=()=>gr(window.innerWidth<768);return window.addEventListener("resize",Yr),()=>window.removeEventListener("resize",Yr)},[]);const yr=tr||"silver",vr=yr==="gold"?"#FFD700":"#C0C0C0",jr=new Date,[Sr,Tr]=reactExports.useState(()=>Hn&&er&&nr?new Date(nr,er-1,Hn):jr);reactExports.useEffect(()=>{logUserInfo("Trang OrderFlowAnalysisPage Timeline")},[]);const Lr=(Yr,ro,io=!1)=>{const fo=ro.getDate(),ao=ro.getMonth()+1,Jr=ro.getFullYear();ir(`/orderflowanalysis/${Yr}/${fo}/${ao}/${Jr}`,{replace:io})},Mr=Yr=>{const ro=String(Yr.getDate()).padStart(2,"0"),io=String(Yr.getMonth()+1).padStart(2,"0");return`${ro}_${io}_${Yr.getFullYear()}`};reactExports.useEffect(()=>{if(!Hn&&sr.current)Tr(jr),Lr(yr,jr,!0);else if(Hn&&er&&nr){const Yr=new Date(nr,er-1,Hn);Mr(Yr)!==Mr(Sr)&&Tr(Yr)}sr.current=!1},[Hn,er,nr,tr]),reactExports.useEffect(()=>{cr(!0),(async()=>{try{const ro=await axios.get(`https://api_gold.thinkdiff.us/tile_mua_ban_check_giao_dich/${Mr(Sr)}`),io=oo=>{if(!oo||typeof oo!="object")return null;if(oo.hasOwnProperty("time_update"))return oo.time_update;for(let co in oo){let no=io(oo[co]);if(no)return no}return null},fo=io(ro.data),ao=ro?.data?.tile_mua_ban_check_giao_dich;if(!ao||ao.list_tongtien_ban?.length===0&&ao.list_tongtien_mua?.length===0)if(rr.current<7){rr.current+=1;const oo=new Date(Sr);oo.setDate(oo.getDate()-1),Tr(oo),Lr(yr,oo,!0);return}else{dr("Ht d liu 7 ngy."),or({gold:[],silver:[]}),cr(!1);return}rr.current=0,dr(fo||"");const Jr=(oo,co)=>{if(!oo)return[];const no=oo.map((Eo,bo)=>{const Po=Number(Eo?.so_luong)||0,wo=Number(co?.[bo]?.so_luong)||0,To=Po+wo;return{gia:Eo.gia,sell:Po,buy:-wo,sellQty:Po,buyQty:wo,sellPercent:To>0?(Po/To*100).toFixed(2):"0.00",buyPercent:To>0?(wo/To*100).toFixed(2):"0.00",total:To,isMaxSell:!1,isMaxBuy:!1}}).filter(Eo=>Eo.sell!==0||Eo.buy!==0),mo=no.reduce((Eo,bo)=>Eo+bo.total,0);return no.map(Eo=>({...Eo,percent:mo>0?(Eo.total/mo*100).toFixed(2):"0.00"}))},uo=oo=>{if(!oo||!oo.length)return[];const co=[...oo].sort((mo,Eo)=>Eo.sell-mo.sell)[0],no=[...oo].sort((mo,Eo)=>mo.buy-Eo.buy)[0];return oo.map(mo=>({...mo,isMaxSell:mo.sell>0&&mo.gia===co?.gia,isMaxBuy:mo.buy<0&&mo.gia===no?.gia}))};or({gold:uo(Jr(ao.list_tongtien_ban_gold,ao.list_tongtien_mua_gold)),silver:uo(Jr(ao.list_tongtien_ban,ao.list_tongtien_mua))}),cr(!1)}catch{if(rr.current<7){rr.current+=1;const io=new Date(Sr);io.setDate(io.getDate()-1),Tr(io),Lr(yr,io,!0)}else cr(!1),dr("Li kt ni.")}})()},[Sr]);const Nr=yr==="gold"?ar.gold:ar.silver,Or=Yr=>{rr.current=0,Lr(Yr,Sr)},Fr=Yr=>{rr.current=0;const ro=new Date(Sr);ro.setDate(ro.getDate()+Yr),Tr(ro),Lr(yr,ro)},Gr=Yr=>{const{x:ro,y:io,payload:fo}=Yr;return jsxRuntimeExports.jsx("g",{transform:`translate(${ro},${io})`,children:jsxRuntimeExports.jsx("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:"#ffffff",fontSize:fr?9:11,fontWeight:"bold",children:`${fo.value} USD`})})},qr=(Yr,ro)=>{const{x:io,y:fo,width:ao,index:Jr}=Yr,uo=Nr[Jr];if(!uo||(ro==="sell"?!uo.isMaxSell:!uo.isMaxBuy))return null;const oo=ro==="sell"?"#ff4d4d":"#09ff00";return jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:io+ao/2,y1:fo,x2:io+ao/2,y2:ro==="sell"?fo-15:fo+15,stroke:oo,strokeWidth:3}),jsxRuntimeExports.jsx("text",{x:io+ao/2,y:ro==="sell"?fo-25:fo+35,fill:oo,fontSize:fr?10:12,fontWeight:"bold",textAnchor:"middle",stroke:"#000",strokeWidth:.5,paintOrder:"stroke",children:ro==="sell"?"MAX SELL":"MAX BUY"})]})},Hr=(Yr,ro)=>{const{x:io,y:fo,width:ao,index:Jr}=Yr,uo=Nr[Jr];return uo?jsxRuntimeExports.jsx("text",{x:io+ao/2,y:ro==="sell"?fo-5:fo+15,fill:ro==="sell"?"#ff4d4d":"#09ff00",fontSize:fr?8:10,textAnchor:"middle",fontWeight:"bold",children:ro==="sell"?`${uo.sellPercent}%`:`${uo.buyPercent}%`}):null};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#050505",padding:fr?"8px":"15px",borderRadius:"12px",width:"98%",margin:"auto"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:fr?"column":"row",justifyContent:"space-between",marginBottom:"15px",alignItems:"center",gap:fr?"12px":"0"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:fr?"column":"row",gap:fr?"8px":"15px",alignItems:"center",width:fr?"100%":"auto"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"5px",width:fr?"100%":"auto",justifyContent:"center"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Or("gold"),style:tabBtn(yr==="gold","#FFD700",fr),children:"GOLD"}),jsxRuntimeExports.jsx("button",{onClick:()=>Or("silver"),style:tabBtn(yr==="silver","#C0C0C0",fr),children:"SILVER"})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"5px",justifyContent:"center"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#ffffff",fontSize:fr?"9px":"11px",fontWeight:"bold"},children:"Cp nht mi:"}),jsxRuntimeExports.jsx("span",{style:{color:vr,fontSize:fr?"10px":"12px",fontWeight:"bold",fontFamily:"monospace"},children:ur||(lr?"SCANNING...":"N/A")})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:fr?"8px":"15px",background:"#111",padding:fr?"4px 12px":"6px 20px",borderRadius:"30px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fr(-1),style:{...navBtn,fontSize:fr?"14px":"18px"},children:""}),jsxRuntimeExports.jsx("span",{style:{fontSize:fr?"12px":"14px",fontWeight:"bold",color:vr},children:Mr(Sr).replaceAll("_","/")}),jsxRuntimeExports.jsx("button",{onClick:()=>Fr(1),style:{...navBtn,fontSize:fr?"14px":"18px"},children:""})]})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:fr?"400px":"520px"},children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:Nr,stackOffset:"sign",margin:{top:80,bottom:50,left:10,right:10},barCategoryGap:"0%",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"0",stroke:"#111",vertical:!1}),jsxRuntimeExports.jsx(XAxis,{dataKey:"gia",tick:jsxRuntimeExports.jsx(Gr,{}),axisLine:{stroke:"#333"},tickLine:!1,interval:0}),jsxRuntimeExports.jsx(YAxis,{stroke:vr,fontSize:fr?9:11,tickFormatter:Yr=>Math.abs(Yr).toLocaleString(),axisLine:!1,tickLine:!1}),jsxRuntimeExports.jsx(Tooltip,{content:({active:Yr,payload:ro})=>{if(Yr&&ro&&ro.length){const io=ro[0].payload;return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#000",border:`1px solid ${vr}`,padding:"10px",borderRadius:"8px"},children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0 0 5px",fontSize:"12px",color:vr},children:["Gi: ",io.gia," USD"]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"12px",fontWeight:"bold"},children:[jsxRuntimeExports.jsxs("div",{style:{color:"#ff4d4d"},children:["Bn: ",io.sellQty.toLocaleString()," (",io.sellPercent,"%)"]}),jsxRuntimeExports.jsxs("div",{style:{color:"#09ff00"},children:["Mua: ",io.buyQty.toLocaleString()," (",io.buyPercent,"%)"]})]})]})}return null}}),jsxRuntimeExports.jsx(ReferenceLine,{y:0,stroke:"#333",strokeWidth:1}),jsxRuntimeExports.jsxs(Bar,{dataKey:"sell",stackId:"s",children:[Nr.map((Yr,ro)=>jsxRuntimeExports.jsx(Cell,{fill:"#ff4d4d"},ro)),jsxRuntimeExports.jsx(LabelList,{content:Yr=>qr(Yr,"sell")}),jsxRuntimeExports.jsx(LabelList,{content:Yr=>Hr(Yr,"sell")})]}),jsxRuntimeExports.jsxs(Bar,{dataKey:"buy",stackId:"s",children:[Nr.map((Yr,ro)=>jsxRuntimeExports.jsx(Cell,{fill:"#09ff00"},ro)),jsxRuntimeExports.jsx(LabelList,{content:Yr=>qr(Yr,"buy")}),jsxRuntimeExports.jsx(LabelList,{content:Yr=>Hr(Yr,"buy")})]})]})})})]})},tabBtn=(tr,Hn,er)=>({background:tr?Hn:"#111",border:"none",padding:er?"6px 12px":"8px 18px",color:tr?"#000":"#888",cursor:"pointer",fontWeight:"bold",borderRadius:"4px",fontSize:er?"10px":"12px",transition:"all 0.2s",flex:er?1:"none"}),navBtn={background:"none",border:"none",color:"#fff",cursor:"pointer"},NewsSidebar=()=>{const[tr,Hn]=reactExports.useState([]),[er,nr]=reactExports.useState({}),[ir,rr]=reactExports.useState({}),[sr,ar]=reactExports.useState([]),[or,lr]=reactExports.useState(""),[cr,ur]=reactExports.useState(!1),dr=useNavigate(),{day:fr}=useParams();reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/all_day_tin_tuc").then(Sr=>Sr.json()).then(Sr=>{if(Sr?.status==="success"&&Sr.data.length>0){ar(Sr.data);const Tr=Sr.data[Sr.data.length-1].dirname;fr?lr(fr):(lr(Tr),dr(`/bai-viet/${Tr}`,{replace:!0}))}})},[fr,dr]),reactExports.useEffect(()=>{or&&(Hn([]),nr({}),rr({}),window.speechSynthesis.cancel(),ur(!1),fetch(`https://api_gold.thinkdiff.us/liet_ke_tin_tuc_1ngay/${or}`).then(Sr=>Sr.json()).then(Sr=>{Sr?.status==="success"&&Hn(Sr.data)}))},[or]),reactExports.useEffect(()=>{tr.forEach(Sr=>{!Sr.link||ir[Sr.link]||fetch(Sr.link).then(Tr=>Tr.text()).then(Tr=>{let Lr=Tr.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<style[^>]*>.*?<\/style>/gi,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();rr(Nr=>({...Nr,[Sr.link]:Lr}));const Mr=Lr.length>160?Lr.slice(0,160)+"":Lr;nr(Nr=>({...Nr,[Sr.link]:Mr}))}).catch(()=>{nr(Tr=>({...Tr,[Sr.link]:" Khng th ti ni dung"}))})})},[tr,ir]);const gr=Sr=>{if(!Sr)return;(Sr.match(/[^.!?\n]+[.!?]?/g)?.map(Lr=>Lr.trim()).filter(Boolean)||[Sr]).forEach(Lr=>{const Mr=new SpeechSynthesisUtterance(Lr);Mr.lang="vi-VN",Mr.rate=1,window.speechSynthesis.speak(Mr)}),window.speechSynthesis.onend=()=>ur(!1),ur(!0)},yr=()=>{if(cr){window.speechSynthesis.cancel(),ur(!1);return}const Sr=tr.map(Tr=>ir[Tr.link]).filter(Boolean).join(". ");gr(Sr)},vr=sr[sr.length-1]?.dirname,jr=or===vr;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"latest-posts-container",children:[jsxRuntimeExports.jsxs("div",{className:"latest-posts-header posts-header",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[jsxRuntimeExports.jsx("h3",{className:"posts-title",children:jr?" BI VIT MI NHT":` BI VIT NGY ${or}`}),jsxRuntimeExports.jsx("button",{onClick:yr,title:cr?"Dng c":"c tt c bi vit",style:{background:"none",border:"none",cursor:"pointer",color:cr?"#ef4444":"#3b82f6"},children:cr?jsxRuntimeExports.jsx(IoVolumeHigh,{size:18}):jsxRuntimeExports.jsx(IoVolumeMute,{size:18})})]}),jsxRuntimeExports.jsx("select",{value:or,onChange:Sr=>{const Tr=Sr.target.value;lr(Tr),dr(`/bai-viet/${Tr}`)},className:"day-select",children:sr.map(Sr=>jsxRuntimeExports.jsx("option",{value:Sr.dirname,children:Sr.dirname},Sr.dirname))})]}),jsxRuntimeExports.jsxs("div",{className:"latest-posts-list",children:[tr.length===0&&jsxRuntimeExports.jsx("div",{children:" ang cp nht bi vit mi..."}),tr.map((Sr,Tr)=>jsxRuntimeExports.jsxs("div",{className:"latest-post-item",onClick:()=>{const Lr=Sr.link.replace("https://api_gold.thinkdiff.us/view_tintuc/","");dr(`/bai-viet/${Lr}`)},style:{cursor:"pointer",padding:"12px 0",borderBottom:"1px solid #e5e7eb"},children:[jsxRuntimeExports.jsx("div",{children:er[Sr.link]||" ang ti ni dung..."}),jsxRuntimeExports.jsx("small",{style:{color:"#888"},children:Sr.modified_time})]},Tr))]})]})})},ArticleDetail=()=>{const tr=useLocation(),Hn=useNavigate(),nr=`https://api_gold.thinkdiff.us/view_tintuc/${tr.pathname.replace("/bai-viet/","")}`,[ir,rr]=reactExports.useState(!1),[sr,ar]=reactExports.useState(""),or=reactExports.useRef(null);reactExports.useEffect(()=>{fetch(nr).then(cr=>cr.text()).then(cr=>{const ur=cr.replace(/<[^>]*>/g," ");ar(ur)}).catch(()=>{ar("")})},[nr]);const lr=()=>{if(ir){window.speechSynthesis.cancel(),rr(!1);return}if(!sr)return;const cr=new SpeechSynthesisUtterance(sr);cr.lang="vi-VN",cr.rate=1,cr.onend=()=>rr(!1),cr.onerror=()=>rr(!1),or.current=cr,window.speechSynthesis.speak(cr),rr(!0)};return reactExports.useEffect(()=>()=>{window.speechSynthesis.cancel()},[]),jsxRuntimeExports.jsxs("div",{style:{padding:10,position:"relative"},children:[jsxRuntimeExports.jsxs("div",{className:"article-header",children:[jsxRuntimeExports.jsx("h2",{children:" Bi vit chi tit"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"50px",alignItems:"center"},children:[jsxRuntimeExports.jsx("button",{onClick:lr,title:ir?"Dng c":"c bi vit",style:{background:"none",border:"none",cursor:"pointer",color:ir?"#ef4444":"#3b82f6"},children:ir?jsxRuntimeExports.jsx(IoVolumeHigh,{size:22}):jsxRuntimeExports.jsx(IoVolumeMute,{size:22})}),jsxRuntimeExports.jsx("button",{className:"article-close",onClick:()=>{window.speechSynthesis.cancel(),Hn(-1)},children:""})]})]}),jsxRuntimeExports.jsx("iframe",{src:nr,title:"Chi tit bi vit",className:"article-frame",style:{width:"100%",height:"100vh",border:"none"}})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);const formatDate=tr=>{if(!tr)return"-";try{return new Date(tr).toLocaleDateString("vi-VN")}catch{return"-"}},formatVND=tr=>typeof tr!="number"||isNaN(tr)?"0":Math.round(tr).toLocaleString("en-US"),formatVolume=tr=>typeof tr!="number"||isNaN(tr)?"0.000":parseFloat(tr).toFixed(3),ChartView=({goldData:tr,silverData:Hn})=>{const[er,nr]=reactExports.useState(!1);if(!tr&&!Hn)return null;const ir=fr=>(fr||[]).sort((gr,yr)=>new Date(yr.phantu_cuoituan?.timestamp).getTime()-new Date(gr.phantu_cuoituan?.timestamp).getTime()),rr=ir(tr),sr=ir(Hn),ar=Math.max(rr.length,sr.length),or=er?ar:Math.min(4,ar),lr=rr.slice(0,or),cr=sr.slice(0,or),ur=lr.length>=cr.length?lr:cr,dr=ur.map((fr,gr)=>{const yr=formatDate(fr?.phantu_dautuan?.timestamp),vr=formatDate(fr?.phantu_cuoituan?.timestamp);return`K ${ur.length-gr}: ${yr} - ${vr}`});return jsxRuntimeExports.jsxs("div",{className:"chart-container",children:[jsxRuntimeExports.jsxs("div",{className:"chart-header",children:[jsxRuntimeExports.jsx("h3",{className:"chart-title",children:"Biu  Tng trng Vng & Bc"}),jsxRuntimeExports.jsx("button",{className:`filter-btn ${er?"active":""}`,onClick:()=>nr(!er),children:er?"Thu gn":"Xem thm"})]}),jsxRuntimeExports.jsx("div",{className:"chart-wrapper",children:jsxRuntimeExports.jsx(Bar$1,{data:{labels:dr,datasets:[{label:"Vng",data:lr.map(fr=>fr.ti_le_tang_truong),backgroundColor:"#f1c40f",borderRadius:4},{label:"Bc",data:cr.map(fr=>fr.ti_le_tang_truong),backgroundColor:"#c0c0c0",borderRadius:4}]},plugins:[{id:"datalabels",afterDraw:fr=>{const gr=fr.ctx;gr.font="bold 11px Arial",gr.textAlign="center",fr.data.datasets.forEach((yr,vr)=>{fr.getDatasetMeta(vr).data.forEach((Sr,Tr)=>{const Lr=yr.data[Tr];Lr&&(gr.fillStyle=Lr>0?"#2ecc71":"#e74c3c",gr.fillText(Lr.toFixed(2)+"%",Sr.x,Lr>=0?Sr.y-6:Sr.y+15))})})}}],options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#fff"}},tooltip:{enabled:!1}}}})})]})},TableComponent=({title:tr,type:Hn,data:er})=>{const[nr,ir]=reactExports.useState(!1),[rr,sr]=reactExports.useState(!1);if(!er)return null;const ar=[...er].sort((lr,cr)=>new Date(cr.phantu_cuoituan?.timestamp).getTime()-new Date(lr.phantu_cuoituan?.timestamp).getTime()),or=rr?ar:ar.slice(0,4);return jsxRuntimeExports.jsxs("div",{className:"analysis-block",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("h2",{className:`analysis-title-${Hn==="au"?"gold":"silver"}`,children:tr}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{className:"filter-btn",onClick:()=>sr(!rr),children:rr?"Thu gn":"Xem thm"}),jsxRuntimeExports.jsx("button",{className:"filter-btn",onClick:()=>ir(!nr),children:nr?"n":"Chi tit gi"})]})]}),jsxRuntimeExports.jsxs("table",{className:"analysis-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Thi gian"}),jsxRuntimeExports.jsx("th",{children:"Li nhun (USD)"}),jsxRuntimeExports.jsx("th",{children:"T l tng"}),jsxRuntimeExports.jsx("th",{children:"Volume"}),nr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("th",{children:"Bn u"}),jsxRuntimeExports.jsx("th",{children:"Mua u"}),jsxRuntimeExports.jsx("th",{children:"Bn cui"}),jsxRuntimeExports.jsx("th",{children:"Mua cui"})]})]})}),jsxRuntimeExports.jsx("tbody",{children:or.map((lr,cr)=>{const ur=lr.phantu_cuoituan?.close_price-lr.phantu_dautuan?.open_price;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsxs("td",{children:[jsxRuntimeExports.jsxs("b",{children:["K ",or.length-cr]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("small",{children:[formatDate(lr.phantu_dautuan?.timestamp)," - ",formatDate(lr.phantu_cuoituan?.timestamp)]})]}),jsxRuntimeExports.jsxs("td",{className:ur>=0?"text-up":"text-down",children:[formatVND(ur)," $"]}),jsxRuntimeExports.jsxs("td",{style:{color:lr.ti_le_tang_truong>=0?"#2ecc71":"#e74c3c",fontWeight:"bold"},children:[lr.ti_le_tang_truong.toFixed(2),"%"]}),jsxRuntimeExports.jsx("td",{children:formatVolume(lr.volume_trungbinh)}),nr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("td",{children:formatVND(lr.phantu_dautuan?.open_price)}),jsxRuntimeExports.jsx("td",{children:formatVND(lr.phantu_dautuan?.close_price)}),jsxRuntimeExports.jsx("td",{children:formatVND(lr.phantu_cuoituan?.open_price)}),jsxRuntimeExports.jsx("td",{children:formatVND(lr.phantu_cuoituan?.close_price)})]})]},cr)})})]})]})},TableComparisonDataWeek=()=>{const[tr,Hn]=reactExports.useState("chart"),[er,nr]=reactExports.useState(null);return reactExports.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/tinh_tile_phat_trien_tung_ngay_tuan_thang").then(ir=>ir.json()).then(ir=>{const rr=ir.tinh_tile_phat_trien_tung_ngay_tuan_thang,sr=ar=>ar.map(or=>({ti_le_tang_truong:or.ti_le_tang_truong,volume_trungbinh:or.tong_volume,phantu_dautuan:{timestamp:or.time_dautien,open_price:or.open,close_price:or.close},phantu_cuoituan:{timestamp:or.time_dautien,open_price:or.open,close_price:or.close}}));nr({nhanxet_vang_tangtruong:sr(rr.data_vang_7ngay_trave),nhanxet_bac_tangtruong:sr(rr.data_bac_7ngay_trave)})})},[]),er?jsxRuntimeExports.jsxs("div",{style:{padding:"20px",backgroundColor:"#111827",minHeight:"100vh"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"#f1c40f",margin:0},children:" Phn tch Vng & Bc theo Route"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{className:`view-toggle-btn ${tr==="table"?"active":""}`,onClick:()=>Hn("table"),children:" Bng"}),jsxRuntimeExports.jsx("button",{className:`view-toggle-btn ${tr==="chart"?"active":""}`,onClick:()=>Hn("chart"),children:" Biu "})]})]}),tr==="chart"?jsxRuntimeExports.jsx(ChartView,{goldData:er.nhanxet_vang_tangtruong,silverData:er.nhanxet_bac_tangtruong}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TableComponent,{title:"Phn tch VNG",type:"au",data:er.nhanxet_vang_tangtruong}),jsxRuntimeExports.jsx(TableComponent,{title:"Phn tch BC",type:"ag",data:er.nhanxet_bac_tangtruong})]})]}):jsxRuntimeExports.jsx("div",{className:"no-data-message",children:jsxRuntimeExports.jsx("p",{children:"ang ti d liu..."})})},PredictionPage=()=>jsxRuntimeExports.jsx("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:jsxRuntimeExports.jsx(PredictionChart,{})}),ZaloNotification=()=>{const[tr,Hn]=reactExports.useState(!1),[er,nr]=reactExports.useState(!1);if(reactExports.useEffect(()=>{const rr=()=>{Hn(!0),nr(!1);const or=setTimeout(()=>{nr(!0),setTimeout(()=>Hn(!1),1e3)},4e3);return()=>clearTimeout(or)},sr=setTimeout(rr,5e3),ar=setInterval(rr,1800*1e3);return()=>{clearTimeout(sr),clearInterval(ar)}},[]),!tr)return null;const ir={overlay:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",color:"#333",padding:"24px",borderRadius:"20px",zIndex:1e4,textAlign:"center",boxShadow:"0 20px 50px rgba(0, 104, 255, 0.3)",transition:"opacity 1s ease-out, transform 0.5s ease-out",opacity:er?0:1,width:"300px",border:"1px solid #e1e8f0",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'},closeButton:{position:"absolute",top:"12px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#aaa",cursor:"pointer",lineHeight:"1",padding:"5px"},logoContainer:{width:"60px",height:"60px",backgroundColor:"#0068ff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 15px auto",boxShadow:"0 4px 12px rgba(0, 104, 255, 0.4)"},zLabel:{color:"white",fontSize:"20px",fontWeight:"bold",fontStyle:"italic"},title:{fontSize:"18px",fontWeight:"700",color:"#0068ff",marginBottom:"8px"},description:{fontSize:"14px",lineHeight:"1.5",color:"#555",marginBottom:"20px"},button:{backgroundColor:"#0068ff",color:"white",padding:"12px 24px",borderRadius:"30px",textDecoration:"none",fontWeight:"600",fontSize:"15px",display:"block",transition:"background-color 0.3s",boxShadow:"0 4px 15px rgba(0, 104, 255, 0.3)"}};return jsxRuntimeExports.jsxs("div",{style:ir.overlay,children:[jsxRuntimeExports.jsx("button",{style:ir.closeButton,onClick:()=>Hn(!1),title:"ng",children:""}),jsxRuntimeExports.jsx("div",{style:ir.logoContainer,children:jsxRuntimeExports.jsx("span",{style:ir.zLabel,children:"Zalo"})}),jsxRuntimeExports.jsx("div",{style:ir.title,children:"Tham gi nhm Zalo ca Team ti y"}),jsxRuntimeExports.jsx("div",{style:ir.description,children:"Phn tch th trng v h tr trc tip t i ng chuyn gia."}),jsxRuntimeExports.jsx("a",{href:"https://zalo.me/g/fziorf173",target:"_blank",rel:"noopener noreferrer",style:ir.button,onMouseOver:rr=>rr.target.style.backgroundColor="#0055d4",onMouseOut:rr=>rr.target.style.backgroundColor="#0068ff",children:"THAM GIA NHM ZALO"}),jsxRuntimeExports.jsx("div",{style:{marginTop:"12px",fontSize:"11px",color:"#aaa"},children:"Thng bo ny s t ng ng"})]})};function App(){const tr=useRequireLocation(),[Hn]=reactExports.useState({region:"vietnam",type:"gold",sortBy:null,sortOrder:"desc",country:"all"}),[er,nr]=reactExports.useState(null),{lastUpdated:ir}=useGoldPrices(Hn);return tr===null?jsxRuntimeExports.jsx("div",{children:"ang kim tra quyn v tr..."}):tr===!1?jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:30},children:[jsxRuntimeExports.jsx("h2",{children:" Bn phi bt quyn v tr  chng ti c th hin th cc nh vng gn bn "}),jsxRuntimeExports.jsx("p",{children:"Hy bt GPS / Location v ti li trang."}),jsxRuntimeExports.jsx("img",{src:"https://vang247.xyz/vang_247_maps.png",alt:"Bt v tr",className:"location-permission-image"})]}):jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs("div",{className:"app",children:[jsxRuntimeExports.jsx(Header,{lastUpdated:ir,newsInAPI:er}),jsxRuntimeExports.jsx(RealTimeTicker,{}),jsxRuntimeExports.jsx(ZaloNotification,{}),jsxRuntimeExports.jsx("main",{className:"main-content",children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/:region/:type",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/vang247/:day/:month/:year/:hour/:minute",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/:region/:type/:day/:month/:year/:hour/:minute",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/map-view/:region/:type/:day/:month/:year/:hour/:minute/:z/:lat/:lng",element:jsxRuntimeExports.jsx(MapView,{})}),jsxRuntimeExports.jsx(Route,{path:"/comparison-chart/:region/:type/:day/:month/:year/:hour/:minute/:level",element:jsxRuntimeExports.jsx(ComparisonSellChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/chart/:symbol",element:jsxRuntimeExports.jsx(HomePage,{setNewsInAPI:nr})}),jsxRuntimeExports.jsx(Route,{path:"/lich_kinh_te",element:jsxRuntimeExports.jsx(EconomicCalendar$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/calendar",element:jsxRuntimeExports.jsx(EconomicCalendar$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/ty-gia/:date",element:jsxRuntimeExports.jsx(ExchangeRatePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/ty-gia",element:jsxRuntimeExports.jsx(ExchangeRatePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/xauxagdetail",element:jsxRuntimeExports.jsx(XauxagDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/TradingEconomicsWidgets",element:jsxRuntimeExports.jsx(TradingEconomicsWidgets,{})}),jsxRuntimeExports.jsx(Route,{path:"/quy-dau-tu/:day/:month/:year/:hour/:minute",element:jsxRuntimeExports.jsx(SPDRGold,{})}),jsxRuntimeExports.jsx(Route,{path:"/SharkGlobalChart",element:jsxRuntimeExports.jsx(SharkGlobalChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/DetailSharkGlobal",element:jsxRuntimeExports.jsx(DetailSharkGlobal,{})}),jsxRuntimeExports.jsx(Route,{path:"/EtfSharkDetail/:etfSlug",element:jsxRuntimeExports.jsx(EtfSharkDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/so-sanh-quoc-gia",element:jsxRuntimeExports.jsx(GlobalComparisonPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/tin-tuc-moi-nhat",element:jsxRuntimeExports.jsx(LastestNews,{})}),jsxRuntimeExports.jsx(Route,{path:"/bai-viet/:day?",element:jsxRuntimeExports.jsx(NewsSidebar,{})}),jsxRuntimeExports.jsx(Route,{path:"/bai-viet/*",element:jsxRuntimeExports.jsx(ArticleDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/so-sanh-nha-vang",element:jsxRuntimeExports.jsx(ComparisonHouseGold,{})}),jsxRuntimeExports.jsx(Route,{path:"/luong-truy-cap",element:jsxRuntimeExports.jsx(UsersAccess,{})}),jsxRuntimeExports.jsx(Route,{path:"/luong-truy-cap/:date",element:jsxRuntimeExports.jsx(UsersAccess,{})}),jsxRuntimeExports.jsx(Route,{path:"/dang-ky-vi",element:jsxRuntimeExports.jsx(WalletRegistration,{})}),jsxRuntimeExports.jsx(Route,{path:"/danh-sach-vi",element:jsxRuntimeExports.jsx(WalletAccountsList,{})}),jsxRuntimeExports.jsx(Route,{path:"/danh-sach-vi/:username",element:jsxRuntimeExports.jsx(WalletAccountsList,{})}),jsxRuntimeExports.jsx(Route,{path:"/wallet-buy",element:jsxRuntimeExports.jsx(Wallet,{})}),jsxRuntimeExports.jsx(Route,{path:"/vi/:username",element:jsxRuntimeExports.jsx(ProfitLossDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/vi/:username/sua",element:jsxRuntimeExports.jsx(EditWallet,{})}),jsxRuntimeExports.jsx(Route,{path:"/dang-ky-tai-khoan",element:jsxRuntimeExports.jsx(WalletRegistration,{})}),jsxRuntimeExports.jsx(Route,{path:"/so-sanh-XAU-XAG",element:jsxRuntimeExports.jsx(MultiChartViewer,{showPopUpCompare:!0})}),jsxRuntimeExports.jsx(Route,{path:"/chart-detail/:chartKey",element:jsxRuntimeExports.jsx(ChartDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/shanghaichart",element:jsxRuntimeExports.jsx(CompareShanghaiComex,{})}),jsxRuntimeExports.jsx(Route,{path:"/lich-su-gia",element:jsxRuntimeExports.jsx(CandlestickCharts,{})}),jsxRuntimeExports.jsx(Route,{path:"/cftc_comexchart",element:jsxRuntimeExports.jsx(CFTCandCOMEXChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/lbma-reserves",element:jsxRuntimeExports.jsx(LBMAReserves,{})}),jsxRuntimeExports.jsx(Route,{path:"/spdr-shares",element:jsxRuntimeExports.jsx(ShareChartMetalPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/loi-nhuan-tuan",element:jsxRuntimeExports.jsx(WeeklyProfitPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/zsl",element:jsxRuntimeExports.jsx(ZslPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/zsl-comparison",element:jsxRuntimeExports.jsx(Navigate,{to:"/zsl",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/zsl-price",element:jsxRuntimeExports.jsx(Navigate,{to:"/zsl",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/fomo-vang-bac",element:jsxRuntimeExports.jsx(FOMOGoldSilver,{})}),jsxRuntimeExports.jsx(Route,{path:"/du-doan-30-ngay",element:jsxRuntimeExports.jsx(PredictionPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/ig-sentiment",element:jsxRuntimeExports.jsx(IGSentimentPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/order-book",element:jsxRuntimeExports.jsx(OrderBookPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/bao-cao-comex",element:jsxRuntimeExports.jsx(ReportComex,{})}),jsxRuntimeExports.jsx(Route,{path:"/bao-cao-san-thuong-hai-tuong-lai",element:jsxRuntimeExports.jsx(ReportTable,{})}),jsxRuntimeExports.jsx(Route,{path:"/bao-cao-luong-luu-tru",element:jsxRuntimeExports.jsx(SHFEReport,{})}),jsxRuntimeExports.jsx(Route,{path:"/chart/XOJ26",element:jsxRuntimeExports.jsx(SHFEChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/comex-inventory",element:jsxRuntimeExports.jsx(ComexInventoryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/luu-tru-comex",element:jsxRuntimeExports.jsx(ComexInventoryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau?charts=rsi",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau?charts=technical",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau?charts=volume",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/volumexagxau?charts=moving",element:jsxRuntimeExports.jsx(AllChartsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/xau-xag-chart",element:jsxRuntimeExports.jsx(CombinedXauXagChartPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/:vendorName",element:jsxRuntimeExports.jsx(GoldDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/slvchart",element:jsxRuntimeExports.jsx(SLVTradingChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/compareshanghaicomex",element:jsxRuntimeExports.jsx(CompareShanghaiComex,{})}),jsxRuntimeExports.jsx(Route,{path:"/futures-chain",element:jsxRuntimeExports.jsx(SilverFutures,{})}),jsxRuntimeExports.jsx(Route,{path:"/orderflowanalysis/:type/:day/:month/:year",element:jsxRuntimeExports.jsx(OrderFlowAnalysisPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/orderflowanalysis",element:jsxRuntimeExports.jsx(OrderFlowAnalysisPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/trade-flow",element:jsxRuntimeExports.jsx(TradeFlowPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/pslv_silver",element:jsxRuntimeExports.jsx(PSLVInventoryChart,{})}),jsxRuntimeExports.jsx(Route,{path:"/vangtheotuan",element:jsxRuntimeExports.jsx(TableComparisonDataWeek,{})}),jsxRuntimeExports.jsx(Route,{path:"/du-doan",element:jsxRuntimeExports.jsx(PredictionGauge,{})}),jsxRuntimeExports.jsx(Route,{path:"volume-comex",element:jsxRuntimeExports.jsx(VolumeComexPage,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx("div",{className:"p-10 text-center",children:"404 - Trang khng tn ti"})})]})})}),jsxRuntimeExports.jsx(Footer,{})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
