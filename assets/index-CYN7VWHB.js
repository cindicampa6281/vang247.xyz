function QK(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Al(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var KT={exports:{}},Z1={};var KR;function JK(){if(KR)return Z1;KR=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var o in r)o!=="key"&&(a[o]=r[o])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:s,ref:r!==void 0?r:null,props:a}}return Z1.Fragment=t,Z1.jsx=e,Z1.jsxs=e,Z1}var ZR;function tZ(){return ZR||(ZR=1,KT.exports=JK()),KT.exports}var u=tZ(),ZT={exports:{}},oi={};var QR;function eZ(){if(QR)return oi;QR=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),g=Symbol.iterator;function y(ot){return ot===null||typeof ot!="object"?null:(ot=g&&ot[g]||ot["@@iterator"],typeof ot=="function"?ot:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function A(ot,vt,St){this.props=ot,this.context=vt,this.refs=k,this.updater=St||x}A.prototype.isReactComponent={},A.prototype.setState=function(ot,vt){if(typeof ot!="object"&&typeof ot!="function"&&ot!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ot,vt,"setState")},A.prototype.forceUpdate=function(ot){this.updater.enqueueForceUpdate(this,ot,"forceUpdate")};function T(){}T.prototype=A.prototype;function R(ot,vt,St){this.props=ot,this.context=vt,this.refs=k,this.updater=St||x}var G=R.prototype=new T;G.constructor=R,w(G,A.prototype),G.isPureReactComponent=!0;var z=Array.isArray;function F(){}var H={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function J(ot,vt,St){var Pt=St.ref;return{$$typeof:n,type:ot,key:vt,ref:Pt!==void 0?Pt:null,props:St}}function nt(ot,vt){return J(ot.type,vt,ot.props)}function V(ot){return typeof ot=="object"&&ot!==null&&ot.$$typeof===n}function Z(ot){var vt={"=":"=0",":":"=2"};return"$"+ot.replace(/[=:]/g,function(St){return vt[St]})}var rt=/\/+/g;function lt(ot,vt){return typeof ot=="object"&&ot!==null&&ot.key!=null?Z(""+ot.key):vt.toString(36)}function mt(ot){switch(ot.status){case"fulfilled":return ot.value;case"rejected":throw ot.reason;default:switch(typeof ot.status=="string"?ot.then(F,F):(ot.status="pending",ot.then(function(vt){ot.status==="pending"&&(ot.status="fulfilled",ot.value=vt)},function(vt){ot.status==="pending"&&(ot.status="rejected",ot.reason=vt)})),ot.status){case"fulfilled":return ot.value;case"rejected":throw ot.reason}}throw ot}function ct(ot,vt,St,Pt,It){var Nt=typeof ot;(Nt==="undefined"||Nt==="boolean")&&(ot=null);var Et=!1;if(ot===null)Et=!0;else switch(Nt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(ot.$$typeof){case n:case t:Et=!0;break;case h:return Et=ot._init,ct(Et(ot._payload),vt,St,Pt,It)}}if(Et)return It=It(ot),Et=Pt===""?"."+lt(ot,0):Pt,z(It)?(St="",Et!=null&&(St=Et.replace(rt,"$&/")+"/"),ct(It,vt,St,"",function(ee){return ee})):It!=null&&(V(It)&&(It=nt(It,St+(It.key==null||ot&&ot.key===It.key?"":(""+It.key).replace(rt,"$&/")+"/")+Et)),vt.push(It)),1;Et=0;var Yt=Pt===""?".":Pt+":";if(z(ot))for(var Rt=0;Rt<ot.length;Rt++)Pt=ot[Rt],Nt=Yt+lt(Pt,Rt),Et+=ct(Pt,vt,St,Nt,It);else if(Rt=y(ot),typeof Rt=="function")for(ot=Rt.call(ot),Rt=0;!(Pt=ot.next()).done;)Pt=Pt.value,Nt=Yt+lt(Pt,Rt++),Et+=ct(Pt,vt,St,Nt,It);else if(Nt==="object"){if(typeof ot.then=="function")return ct(mt(ot),vt,St,Pt,It);throw vt=String(ot),Error("Objects are not valid as a React child (found: "+(vt==="[object Object]"?"object with keys {"+Object.keys(ot).join(", ")+"}":vt)+"). If you meant to render a collection of children, use an array instead.")}return Et}function st(ot,vt,St){if(ot==null)return ot;var Pt=[],It=0;return ct(ot,Pt,"","",function(Nt){return vt.call(St,Nt,It++)}),Pt}function xt(ot){if(ot._status===-1){var vt=ot._result;vt=vt(),vt.then(function(St){(ot._status===0||ot._status===-1)&&(ot._status=1,ot._result=St)},function(St){(ot._status===0||ot._status===-1)&&(ot._status=2,ot._result=St)}),ot._status===-1&&(ot._status=0,ot._result=vt)}if(ot._status===1)return ot._result.default;throw ot._result}var dt=typeof reportError=="function"?reportError:function(ot){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var vt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ot=="object"&&ot!==null&&typeof ot.message=="string"?String(ot.message):String(ot),error:ot});if(!window.dispatchEvent(vt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ot);return}console.error(ot)},ht={map:st,forEach:function(ot,vt,St){st(ot,function(){vt.apply(this,arguments)},St)},count:function(ot){var vt=0;return st(ot,function(){vt++}),vt},toArray:function(ot){return st(ot,function(vt){return vt})||[]},only:function(ot){if(!V(ot))throw Error("React.Children.only expected to receive a single React element child.");return ot}};return oi.Activity=d,oi.Children=ht,oi.Component=A,oi.Fragment=e,oi.Profiler=r,oi.PureComponent=R,oi.StrictMode=i,oi.Suspense=l,oi.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,oi.__COMPILER_RUNTIME={__proto__:null,c:function(ot){return H.H.useMemoCache(ot)}},oi.cache=function(ot){return function(){return ot.apply(null,arguments)}},oi.cacheSignal=function(){return null},oi.cloneElement=function(ot,vt,St){if(ot==null)throw Error("The argument must be a React element, but you passed "+ot+".");var Pt=w({},ot.props),It=ot.key;if(vt!=null)for(Nt in vt.key!==void 0&&(It=""+vt.key),vt)!Y.call(vt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&vt.ref===void 0||(Pt[Nt]=vt[Nt]);var Nt=arguments.length-2;if(Nt===1)Pt.children=St;else if(1<Nt){for(var Et=Array(Nt),Yt=0;Yt<Nt;Yt++)Et[Yt]=arguments[Yt+2];Pt.children=Et}return J(ot.type,It,Pt)},oi.createContext=function(ot){return ot={$$typeof:s,_currentValue:ot,_currentValue2:ot,_threadCount:0,Provider:null,Consumer:null},ot.Provider=ot,ot.Consumer={$$typeof:a,_context:ot},ot},oi.createElement=function(ot,vt,St){var Pt,It={},Nt=null;if(vt!=null)for(Pt in vt.key!==void 0&&(Nt=""+vt.key),vt)Y.call(vt,Pt)&&Pt!=="key"&&Pt!=="__self"&&Pt!=="__source"&&(It[Pt]=vt[Pt]);var Et=arguments.length-2;if(Et===1)It.children=St;else if(1<Et){for(var Yt=Array(Et),Rt=0;Rt<Et;Rt++)Yt[Rt]=arguments[Rt+2];It.children=Yt}if(ot&&ot.defaultProps)for(Pt in Et=ot.defaultProps,Et)It[Pt]===void 0&&(It[Pt]=Et[Pt]);return J(ot,Nt,It)},oi.createRef=function(){return{current:null}},oi.forwardRef=function(ot){return{$$typeof:o,render:ot}},oi.isValidElement=V,oi.lazy=function(ot){return{$$typeof:h,_payload:{_status:-1,_result:ot},_init:xt}},oi.memo=function(ot,vt){return{$$typeof:c,type:ot,compare:vt===void 0?null:vt}},oi.startTransition=function(ot){var vt=H.T,St={};H.T=St;try{var Pt=ot(),It=H.S;It!==null&&It(St,Pt),typeof Pt=="object"&&Pt!==null&&typeof Pt.then=="function"&&Pt.then(F,dt)}catch(Nt){dt(Nt)}finally{vt!==null&&St.types!==null&&(vt.types=St.types),H.T=vt}},oi.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},oi.use=function(ot){return H.H.use(ot)},oi.useActionState=function(ot,vt,St){return H.H.useActionState(ot,vt,St)},oi.useCallback=function(ot,vt){return H.H.useCallback(ot,vt)},oi.useContext=function(ot){return H.H.useContext(ot)},oi.useDebugValue=function(){},oi.useDeferredValue=function(ot,vt){return H.H.useDeferredValue(ot,vt)},oi.useEffect=function(ot,vt){return H.H.useEffect(ot,vt)},oi.useEffectEvent=function(ot){return H.H.useEffectEvent(ot)},oi.useId=function(){return H.H.useId()},oi.useImperativeHandle=function(ot,vt,St){return H.H.useImperativeHandle(ot,vt,St)},oi.useInsertionEffect=function(ot,vt){return H.H.useInsertionEffect(ot,vt)},oi.useLayoutEffect=function(ot,vt){return H.H.useLayoutEffect(ot,vt)},oi.useMemo=function(ot,vt){return H.H.useMemo(ot,vt)},oi.useOptimistic=function(ot,vt){return H.H.useOptimistic(ot,vt)},oi.useReducer=function(ot,vt,St){return H.H.useReducer(ot,vt,St)},oi.useRef=function(ot){return H.H.useRef(ot)},oi.useState=function(ot){return H.H.useState(ot)},oi.useSyncExternalStore=function(ot,vt,St){return H.H.useSyncExternalStore(ot,vt,St)},oi.useTransition=function(){return H.H.useTransition()},oi.version="19.2.0",oi}var JR;function $x(){return JR||(JR=1,ZT.exports=eZ()),ZT.exports}var N=$x();const mr=Al(N),nZ=QK({__proto__:null,default:mr},[N]);var QT={exports:{}},Q1={},JT={exports:{}},tM={};var tI;function iZ(){return tI||(tI=1,(function(n){function t(ct,st){var xt=ct.length;ct.push(st);t:for(;0<xt;){var dt=xt-1>>>1,ht=ct[dt];if(0<r(ht,st))ct[dt]=st,ct[xt]=ht,xt=dt;else break t}}function e(ct){return ct.length===0?null:ct[0]}function i(ct){if(ct.length===0)return null;var st=ct[0],xt=ct.pop();if(xt!==st){ct[0]=xt;t:for(var dt=0,ht=ct.length,ot=ht>>>1;dt<ot;){var vt=2*(dt+1)-1,St=ct[vt],Pt=vt+1,It=ct[Pt];if(0>r(St,xt))Pt<ht&&0>r(It,St)?(ct[dt]=It,ct[Pt]=xt,dt=Pt):(ct[dt]=St,ct[vt]=xt,dt=vt);else if(Pt<ht&&0>r(It,xt))ct[dt]=It,ct[Pt]=xt,dt=Pt;else break t}}return st}function r(ct,st){var xt=ct.sortIndex-st.sortIndex;return xt!==0?xt:ct.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,d=null,g=3,y=!1,x=!1,w=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function G(ct){for(var st=e(c);st!==null;){if(st.callback===null)i(c);else if(st.startTime<=ct)i(c),st.sortIndex=st.expirationTime,t(l,st);else break;st=e(c)}}function z(ct){if(w=!1,G(ct),!x)if(e(l)!==null)x=!0,F||(F=!0,Z());else{var st=e(c);st!==null&&mt(z,st.startTime-ct)}}var F=!1,H=-1,Y=5,J=-1;function nt(){return k?!0:!(n.unstable_now()-J<Y)}function V(){if(k=!1,F){var ct=n.unstable_now();J=ct;var st=!0;try{t:{x=!1,w&&(w=!1,T(H),H=-1),y=!0;var xt=g;try{e:{for(G(ct),d=e(l);d!==null&&!(d.expirationTime>ct&&nt());){var dt=d.callback;if(typeof dt=="function"){d.callback=null,g=d.priorityLevel;var ht=dt(d.expirationTime<=ct);if(ct=n.unstable_now(),typeof ht=="function"){d.callback=ht,G(ct),st=!0;break e}d===e(l)&&i(l),G(ct)}else i(l);d=e(l)}if(d!==null)st=!0;else{var ot=e(c);ot!==null&&mt(z,ot.startTime-ct),st=!1}}break t}finally{d=null,g=xt,y=!1}st=void 0}}finally{st?Z():F=!1}}}var Z;if(typeof R=="function")Z=function(){R(V)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,lt=rt.port2;rt.port1.onmessage=V,Z=function(){lt.postMessage(null)}}else Z=function(){A(V,0)};function mt(ct,st){H=A(function(){ct(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ct){ct.callback=null},n.unstable_forceFrameRate=function(ct){0>ct||125<ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ct?Math.floor(1e3/ct):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(ct){switch(g){case 1:case 2:case 3:var st=3;break;default:st=g}var xt=g;g=st;try{return ct()}finally{g=xt}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(ct,st){switch(ct){case 1:case 2:case 3:case 4:case 5:break;default:ct=3}var xt=g;g=ct;try{return st()}finally{g=xt}},n.unstable_scheduleCallback=function(ct,st,xt){var dt=n.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?dt+xt:dt):xt=dt,ct){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=xt+ht,ct={id:h++,callback:st,priorityLevel:ct,startTime:xt,expirationTime:ht,sortIndex:-1},xt>dt?(ct.sortIndex=xt,t(c,ct),e(l)===null&&ct===e(c)&&(w?(T(H),H=-1):w=!0,mt(z,xt-dt))):(ct.sortIndex=ht,t(l,ct),x||y||(x=!0,F||(F=!0,Z()))),ct},n.unstable_shouldYield=nt,n.unstable_wrapCallback=function(ct){var st=g;return function(){var xt=g;g=st;try{return ct.apply(this,arguments)}finally{g=xt}}}})(tM)),tM}var eI;function rZ(){return eI||(eI=1,JT.exports=iZ()),JT.exports}var eM={exports:{}},Xl={};var nI;function aZ(){if(nI)return Xl;nI=1;var n=$x();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(l,c,h){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:l,containerInfo:c,implementation:h}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Xl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xl.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(l,c,null,h)},Xl.flushSync=function(l){var c=s.T,h=i.p;try{if(s.T=null,i.p=2,l)return l()}finally{s.T=c,i.p=h,i.d.f()}},Xl.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},Xl.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Xl.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var h=c.as,d=o(h,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:g,fetchPriority:y}):h==="script"&&i.d.X(l,{crossOrigin:d,integrity:g,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Xl.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=o(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},Xl.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,d=o(h,c.crossOrigin);i.d.L(l,h,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Xl.preloadModule=function(l,c){if(typeof l=="string")if(c){var h=o(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},Xl.requestFormReset=function(l){i.d.r(l)},Xl.unstable_batchedUpdates=function(l,c){return l(c)},Xl.useFormState=function(l,c,h){return s.H.useFormState(l,c,h)},Xl.useFormStatus=function(){return s.H.useHostTransitionStatus()},Xl.version="19.2.0",Xl}var iI;function tW(){if(iI)return eM.exports;iI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),eM.exports=aZ(),eM.exports}var rI;function sZ(){if(rI)return Q1;rI=1;var n=rZ(),t=$x(),e=tW();function i(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function a(f){var p=f,_=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(_=p.return),f=p.return;while(f)}return p.tag===3?_:null}function s(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function o(f){if(f.tag===31){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function l(f){if(a(f)!==f)throw Error(i(188))}function c(f){var p=f.alternate;if(!p){if(p=a(f),p===null)throw Error(i(188));return p!==f?null:f}for(var _=f,P=p;;){var $=_.return;if($===null)break;var K=$.alternate;if(K===null){if(P=$.return,P!==null){_=P;continue}break}if($.child===K.child){for(K=$.child;K;){if(K===_)return l($),f;if(K===P)return l($),p;K=K.sibling}throw Error(i(188))}if(_.return!==P.return)_=$,P=K;else{for(var yt=!1,Mt=$.child;Mt;){if(Mt===_){yt=!0,_=$,P=K;break}if(Mt===P){yt=!0,P=$,_=K;break}Mt=Mt.sibling}if(!yt){for(Mt=K.child;Mt;){if(Mt===_){yt=!0,_=K,P=$;break}if(Mt===P){yt=!0,P=K,_=$;break}Mt=Mt.sibling}if(!yt)throw Error(i(189))}}if(_.alternate!==P)throw Error(i(190))}if(_.tag!==3)throw Error(i(188));return _.stateNode.current===_?f:p}function h(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=h(f),p!==null)return p;f=f.sibling}return null}var d=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function Z(f){return f===null||typeof f!="object"?null:(f=V&&f[V]||f["@@iterator"],typeof f=="function"?f:null)}var rt=Symbol.for("react.client.reference");function lt(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===rt?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case w:return"Fragment";case A:return"Profiler";case k:return"StrictMode";case z:return"Suspense";case F:return"SuspenseList";case J:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case x:return"Portal";case R:return f.displayName||"Context";case T:return(f._context.displayName||"Context")+".Consumer";case G:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case H:return p=f.displayName||null,p!==null?p:lt(f.type)||"Memo";case Y:p=f._payload,f=f._init;try{return lt(f(p))}catch{}}return null}var mt=Array.isArray,ct=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},dt=[],ht=-1;function ot(f){return{current:f}}function vt(f){0>ht||(f.current=dt[ht],dt[ht]=null,ht--)}function St(f,p){ht++,dt[ht]=f.current,f.current=p}var Pt=ot(null),It=ot(null),Nt=ot(null),Et=ot(null);function Yt(f,p){switch(St(Nt,p),St(It,f),St(Pt,null),p.nodeType){case 9:case 11:f=(f=p.documentElement)&&(f=f.namespaceURI)?Je(f):0;break;default:if(f=p.tagName,p=p.namespaceURI)p=Je(p),f=qn(p,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}vt(Pt),St(Pt,f)}function Rt(){vt(Pt),vt(It),vt(Nt)}function ee(f){f.memoizedState!==null&&St(Et,f);var p=Pt.current,_=qn(p,f.type);p!==_&&(St(It,f),St(Pt,_))}function fe(f){It.current===f&&(vt(Pt),vt(It)),Et.current===f&&(vt(Et),gy._currentValue=xt)}var Jt,ue;function Te(f){if(Jt===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);Jt=p&&p[1]||"",ue=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jt+f+ue}var qe=!1;function on(f,p){if(!f||qe)return"";qe=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var P={DetermineComponentFrameRoot:function(){try{if(p){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(de){var le=de}Reflect.construct(f,[],ke)}else{try{ke.call()}catch(de){le=de}f.call(ke.prototype)}}else{try{throw Error()}catch(de){le=de}(ke=f())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(de){if(de&&le&&typeof de.stack=="string")return[de.stack,le.stack]}return[null,null]}};P.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var $=Object.getOwnPropertyDescriptor(P.DetermineComponentFrameRoot,"name");$&&$.configurable&&Object.defineProperty(P.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=P.DetermineComponentFrameRoot(),yt=K[0],Mt=K[1];if(yt&&Mt){var Wt=yt.split(`
`),se=Mt.split(`
`);for($=P=0;P<Wt.length&&!Wt[P].includes("DetermineComponentFrameRoot");)P++;for(;$<se.length&&!se[$].includes("DetermineComponentFrameRoot");)$++;if(P===Wt.length||$===se.length)for(P=Wt.length-1,$=se.length-1;1<=P&&0<=$&&Wt[P]!==se[$];)$--;for(;1<=P&&0<=$;P--,$--)if(Wt[P]!==se[$]){if(P!==1||$!==1)do if(P--,$--,0>$||Wt[P]!==se[$]){var we=`
`+Wt[P].replace(" at new "," at ");return f.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",f.displayName)),we}while(1<=P&&0<=$);break}}}finally{qe=!1,Error.prepareStackTrace=_}return(_=f?f.displayName||f.name:"")?Te(_):""}function He(f,p){switch(f.tag){case 26:case 27:case 5:return Te(f.type);case 16:return Te("Lazy");case 13:return f.child!==p&&p!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return on(f.type,!1);case 11:return on(f.type.render,!1);case 1:return on(f.type,!0);case 31:return Te("Activity");default:return""}}function mi(f){try{var p="",_=null;do p+=He(f,_),_=f,f=f.return;while(f);return p}catch(P){return`
Error generating stack: `+P.message+`
`+P.stack}}var Si=Object.prototype.hasOwnProperty,li=n.unstable_scheduleCallback,Xe=n.unstable_cancelCallback,Ei=n.unstable_shouldYield,Ke=n.unstable_requestPaint,dn=n.unstable_now,Jn=n.unstable_getCurrentPriorityLevel,ki=n.unstable_ImmediatePriority,$n=n.unstable_UserBlockingPriority,ti=n.unstable_NormalPriority,be=n.unstable_LowPriority,cn=n.unstable_IdlePriority,tn=n.log,On=n.unstable_setDisableYieldValue,un=null,kn=null;function Dn(f){if(typeof tn=="function"&&On(f),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(un,f)}catch{}}var Bn=Math.clz32?Math.clz32:as,_r=Math.log,or=Math.LN2;function as(f){return f>>>=0,f===0?32:31-(_r(f)/or|0)|0}var tr=256,_a=262144,Cr=4194304;function ei(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function er(f,p,_){var P=f.pendingLanes;if(P===0)return 0;var $=0,K=f.suspendedLanes,yt=f.pingedLanes;f=f.warmLanes;var Mt=P&134217727;return Mt!==0?(P=Mt&~K,P!==0?$=ei(P):(yt&=Mt,yt!==0?$=ei(yt):_||(_=Mt&~f,_!==0&&($=ei(_))))):(Mt=P&~K,Mt!==0?$=ei(Mt):yt!==0?$=ei(yt):_||(_=P&~f,_!==0&&($=ei(_)))),$===0?0:p!==0&&p!==$&&(p&K)===0&&(K=$&-$,_=p&-p,K>=_||K===32&&(_&4194048)!==0)?p:$}function ji(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function vn(f,p){switch(f){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vn(){var f=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),f}function nn(f){for(var p=[],_=0;31>_;_++)p.push(f);return p}function We(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Kr(f,p,_,P,$,K){var yt=f.pendingLanes;f.pendingLanes=_,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=_,f.entangledLanes&=_,f.errorRecoveryDisabledLanes&=_,f.shellSuspendCounter=0;var Mt=f.entanglements,Wt=f.expirationTimes,se=f.hiddenUpdates;for(_=yt&~_;0<_;){var we=31-Bn(_),ke=1<<we;Mt[we]=0,Wt[we]=-1;var le=se[we];if(le!==null)for(se[we]=null,we=0;we<le.length;we++){var de=le[we];de!==null&&(de.lane&=-536870913)}_&=~ke}P!==0&&re(f,P,0),K!==0&&$===0&&f.tag!==0&&(f.suspendedLanes|=K&~(yt&~p))}function re(f,p,_){f.pendingLanes|=p,f.suspendedLanes&=~p;var P=31-Bn(p);f.entangledLanes|=p,f.entanglements[P]=f.entanglements[P]|1073741824|_&261930}function ve(f,p){var _=f.entangledLanes|=p;for(f=f.entanglements;_;){var P=31-Bn(_),$=1<<P;$&p|f[P]&p&&(f[P]|=p),_&=~$}}function ze(f,p){var _=p&-p;return _=(_&42)!==0?1:Pe(_),(_&(f.suspendedLanes|p))!==0?0:_}function Pe(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function Ee(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function Ui(){var f=st.p;return f!==0?f:(f=window.event,f===void 0?32:KS(f.type))}function Zr(f,p){var _=st.p;try{return st.p=f,p()}finally{st.p=_}}var nr=Math.random().toString(36).slice(2),Hn="__reactFiber$"+nr,yi="__reactProps$"+nr,ci="__reactContainer$"+nr,gn="__reactEvents$"+nr,Di="__reactListeners$"+nr,Oi="__reactHandles$"+nr,ni="__reactResources$"+nr,vr="__reactMarker$"+nr;function xs(f){delete f[Hn],delete f[yi],delete f[gn],delete f[Di],delete f[Oi]}function ss(f){var p=f[Hn];if(p)return p;for(var _=f.parentNode;_;){if(p=_[ci]||_[Hn]){if(_=p.alternate,p.child!==null||_!==null&&_.child!==null)for(f=Wv(f);f!==null;){if(_=f[Hn])return _;f=Wv(f)}return p}f=_,_=f.parentNode}return null}function os(f){if(f=f[Hn]||f[ci]){var p=f.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return f}return null}function Xn(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(i(33))}function Ar(f){var p=f[ni];return p||(p=f[ni]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function vi(f){f[vr]=!0}var ls=new Set,zs={};function la(f,p){Ka(f,p),Ka(f+"Capture",p)}function Ka(f,p){for(zs[f]=p,f=0;f<p.length;f++)ls.add(p[f])}var Sa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),io={},Yi={};function oc(f){return Si.call(Yi,f)?!0:Si.call(io,f)?!1:Sa.test(f)?Yi[f]=!0:(io[f]=!0,!1)}function Un(f,p,_){if(oc(p))if(_===null)f.removeAttribute(p);else{switch(typeof _){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var P=p.toLowerCase().slice(0,5);if(P!=="data-"&&P!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+_)}}function ii(f,p,_){if(_===null)f.removeAttribute(p);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+_)}}function Ba(f,p,_,P){if(P===null)f.removeAttribute(_);else{switch(typeof P){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(_);return}f.setAttributeNS(p,_,""+P)}}function ca(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ro(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Hc(f,p,_){var P=Object.getOwnPropertyDescriptor(f.constructor.prototype,p);if(!f.hasOwnProperty(p)&&typeof P<"u"&&typeof P.get=="function"&&typeof P.set=="function"){var $=P.get,K=P.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return $.call(this)},set:function(yt){_=""+yt,K.call(this,yt)}}),Object.defineProperty(f,p,{enumerable:P.enumerable}),{getValue:function(){return _},setValue:function(yt){_=""+yt},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function An(f){if(!f._valueTracker){var p=ro(f)?"checked":"value";f._valueTracker=Hc(f,p,""+f[p])}}function $i(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var _=p.getValue(),P="";return f&&(P=ro(f)?f.checked?"true":"false":f.value),f=P,f!==_?(p.setValue(f),!0):!1}function cs(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var ph=/[\n"\\]/g;function Vi(f){return f.replace(ph,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function lc(f,p,_,P,$,K,yt,Mt){f.name="",yt!=null&&typeof yt!="function"&&typeof yt!="symbol"&&typeof yt!="boolean"?f.type=yt:f.removeAttribute("type"),p!=null?yt==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+ca(p)):f.value!==""+ca(p)&&(f.value=""+ca(p)):yt!=="submit"&&yt!=="reset"||f.removeAttribute("value"),p!=null?Fs(f,yt,ca(p)):_!=null?Fs(f,yt,ca(_)):P!=null&&f.removeAttribute("value"),$==null&&K!=null&&(f.defaultChecked=!!K),$!=null&&(f.checked=$&&typeof $!="function"&&typeof $!="symbol"),Mt!=null&&typeof Mt!="function"&&typeof Mt!="symbol"&&typeof Mt!="boolean"?f.name=""+ca(Mt):f.removeAttribute("name")}function Qo(f,p,_,P,$,K,yt,Mt){if(K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(f.type=K),p!=null||_!=null){if(!(K!=="submit"&&K!=="reset"||p!=null)){An(f);return}_=_!=null?""+ca(_):"",p=p!=null?""+ca(p):_,Mt||p===f.value||(f.value=p),f.defaultValue=p}P=P??$,P=typeof P!="function"&&typeof P!="symbol"&&!!P,f.checked=Mt?f.checked:!!P,f.defaultChecked=!!P,yt!=null&&typeof yt!="function"&&typeof yt!="symbol"&&typeof yt!="boolean"&&(f.name=yt),An(f)}function Fs(f,p,_){p==="number"&&cs(f.ownerDocument)===f||f.defaultValue===""+_||(f.defaultValue=""+_)}function ir(f,p,_,P){if(f=f.options,p){p={};for(var $=0;$<_.length;$++)p["$"+_[$]]=!0;for(_=0;_<f.length;_++)$=p.hasOwnProperty("$"+f[_].value),f[_].selected!==$&&(f[_].selected=$),$&&P&&(f[_].defaultSelected=!0)}else{for(_=""+ca(_),p=null,$=0;$<f.length;$++){if(f[$].value===_){f[$].selected=!0,P&&(f[$].defaultSelected=!0);return}p!==null||f[$].disabled||(p=f[$])}p!==null&&(p.selected=!0)}}function At(f,p,_){if(p!=null&&(p=""+ca(p),p!==f.value&&(f.value=p),_==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=_!=null?""+ca(_):""}function Ot(f,p,_,P){if(p==null){if(P!=null){if(_!=null)throw Error(i(92));if(mt(P)){if(1<P.length)throw Error(i(93));P=P[0]}_=P}_==null&&(_=""),p=_}_=ca(p),f.defaultValue=_,P=f.textContent,P===_&&P!==""&&P!==null&&(f.value=P),An(f)}function Ft(f,p){if(p){var _=f.firstChild;if(_&&_===f.lastChild&&_.nodeType===3){_.nodeValue=p;return}}f.textContent=p}var oe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ne(f,p,_){var P=p.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?P?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":P?f.setProperty(p,_):typeof _!="number"||_===0||oe.has(p)?p==="float"?f.cssFloat=_:f[p]=(""+_).trim():f[p]=_+"px"}function Ge(f,p,_){if(p!=null&&typeof p!="object")throw Error(i(62));if(f=f.style,_!=null){for(var P in _)!_.hasOwnProperty(P)||p!=null&&p.hasOwnProperty(P)||(P.indexOf("--")===0?f.setProperty(P,""):P==="float"?f.cssFloat="":f[P]="");for(var $ in p)P=p[$],p.hasOwnProperty($)&&_[$]!==P&&Ne(f,$,P)}else for(var K in p)p.hasOwnProperty(K)&&Ne(f,K,p[K])}function Tn(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(f){return ua.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function zr(){}var cc=null;function xd(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Tl=null,Mn=null;function Jo(f){var p=os(f);if(p&&(f=p.stateNode)){var _=f[yi]||null;t:switch(f=p.stateNode,p.type){case"input":if(lc(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),p=_.name,_.type==="radio"&&p!=null){for(_=f;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+Vi(""+p)+'"][type="radio"]'),p=0;p<_.length;p++){var P=_[p];if(P!==f&&P.form===f.form){var $=P[yi]||null;if(!$)throw Error(i(90));lc(P,$.value,$.defaultValue,$.defaultValue,$.checked,$.defaultChecked,$.type,$.name)}}for(p=0;p<_.length;p++)P=_[p],P.form===f.form&&$i(P)}break t;case"textarea":At(f,_.value,_.defaultValue);break t;case"select":p=_.value,p!=null&&ir(f,!!_.multiple,p,!1)}}}var lr=!1;function bd(f,p,_){if(lr)return f(p,_);lr=!0;try{var P=f(p);return P}finally{if(lr=!1,(Tl!==null||Mn!==null)&&(Jm(),Tl&&(p=Tl,f=Mn,Mn=Tl=null,Jo(p),f)))for(p=0;p<f.length;p++)Jo(f[p])}}function uc(f,p){var _=f.stateNode;if(_===null)return null;var P=_[yi]||null;if(P===null)return null;_=P[p];t:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(f=f.type,P=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!P;break t;default:f=!1}if(f)return null;if(_&&typeof _!="function")throw Error(i(231,p,typeof _));return _}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=!1;if(Bs)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){mh=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{mh=!1}var Ml=null,tl=null,En=null;function xi(){if(En)return En;var f,p=tl,_=p.length,P,$="value"in Ml?Ml.value:Ml.textContent,K=$.length;for(f=0;f<_&&p[f]===$[f];f++);var yt=_-f;for(P=1;P<=yt&&p[_-P]===$[K-P];P++);return En=$.slice(f,1<P?1-P:void 0)}function yh(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function vh(){return!0}function cm(){return!1}function bs(f){function p(_,P,$,K,yt){this._reactName=_,this._targetInst=$,this.type=P,this.nativeEvent=K,this.target=yt,this.currentTarget=null;for(var Mt in f)f.hasOwnProperty(Mt)&&(_=f[Mt],this[Mt]=_?_(K):K[Mt]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?vh:cm,this.isPropagationStopped=cm,this}return d(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),p}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xh=bs(Nl),Ao=d({},Nl,{view:0,detail:0}),Gn=bs(Ao),ha,ws,_s,bh=d({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wh,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==_s&&(_s&&f.type==="mousemove"?(ha=f.screenX-_s.screenX,ws=f.screenY-_s.screenY):ws=ha=0,_s=f),ha)},movementY:function(f){return"movementY"in f?f.movementY:ws}}),wd=bs(bh),zi=d({},bh,{dataTransfer:0}),el=bs(zi),wf=d({},Ao,{relatedTarget:0}),_f=bs(wf),Og=d({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=bs(Og),um=d({},Nl,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Tr=bs(um),hm=d({},Nl,{data:0}),Ca=bs(hm),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=ao[f])?!!p[f]:!1}function wh(){return Eu}var xr=d({},Ao,{key:function(f){if(f.key){var p=hc[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=yh(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Lg[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wh,charCode:function(f){return f.type==="keypress"?yh(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?yh(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Pl=bs(xr),_d=d({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dm=bs(_d),_h=d({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wh}),Rg=bs(_h),fm=d({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=bs(fm),Sd=d({},bh,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),El=bs(Sd),Sh=d({},Nl,{newState:0,oldState:0}),ju=bs(Sh),so=[9,13,27,32],kd=Bs&&"CompositionEvent"in window,Wc=null;Bs&&"documentMode"in document&&(Wc=document.documentMode);var Sf=Bs&&"TextEvent"in window&&!Wc,jl=Bs&&(!kd||Wc&&8<Wc&&11>=Wc),Cd=" ",Ad=!1;function kf(f,p){switch(f){case"keyup":return so.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ig(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Du=!1;function Mr(f,p){switch(f){case"compositionend":return Ig(p);case"keypress":return p.which!==32?null:(Ad=!0,Cd);case"textInput":return f=p.data,f===Cd&&Ad?null:f;default:return null}}function Dl(f,p){if(Du)return f==="compositionend"||!kd&&kf(f,p)?(f=xi(),En=tl=Ml=null,Du=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return jl&&p.locale!=="ko"?null:p.data;default:return null}}var Uc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hs(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!Uc[f.type]:p==="textarea"}function zg(f,p,_,P){Tl?Mn?Mn.push(P):Mn=[P]:Tl=P,p=bt(p,"onChange"),0<p.length&&(_=new xh("onChange","change",null,_,P),f.push({event:_,listeners:p}))}var nl=null,Yc=null;function il(f){Q(f,0)}function Td(f){var p=Xn(f);if($i(p))return f}function rl(f,p){if(f==="change")return p}var Ou=!1;if(Bs){var us;if(Bs){var Ol="oninput"in document;if(!Ol){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),Ol=typeof Cf.oninput=="function"}us=Ol}else us=!1;Ou=us&&(!document.documentMode||9<document.documentMode)}function Lu(){nl&&(nl.detachEvent("onpropertychange",al),Yc=nl=null)}function al(f){if(f.propertyName==="value"&&Td(Yc)){var p=[];zg(p,Yc,f,xd(f)),bd(il,p)}}function To(f,p,_){f==="focusin"?(Lu(),nl=p,Yc=_,nl.attachEvent("onpropertychange",al)):f==="focusout"&&Lu()}function av(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Td(Yc)}function kh(f,p){if(f==="click")return Td(p)}function Af(f,p){if(f==="input"||f==="change")return Td(p)}function Gs(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Sr=typeof Object.is=="function"?Object.is:Gs;function Ru(f,p){if(Sr(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var _=Object.keys(f),P=Object.keys(p);if(_.length!==P.length)return!1;for(P=0;P<_.length;P++){var $=_[P];if(!Si.call(p,$)||!Sr(f[$],p[$]))return!1}return!0}function sl(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Md(f,p){var _=sl(f);f=0;for(var P;_;){if(_.nodeType===3){if(P=f+_.textContent.length,f<=p&&P>=p)return{node:_,offset:p-f};f=P}t:{for(;_;){if(_.nextSibling){_=_.nextSibling;break t}_=_.parentNode}_=void 0}_=sl(_)}}function Nd(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?Nd(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function Pd(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=cs(f.document);p instanceof f.HTMLIFrameElement;){try{var _=typeof p.contentWindow.location.href=="string"}catch{_=!1}if(_)f=p.contentWindow;else break;p=cs(f.document)}return p}function $c(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}var Mo=Bs&&"documentMode"in document&&11>=document.documentMode,Qt=null,xe=null,ce=null,Ue=!1;function wn(f,p,_){var P=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Ue||Qt==null||Qt!==cs(P)||(P=Qt,"selectionStart"in P&&$c(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),ce&&Ru(ce,P)||(ce=P,P=bt(xe,"onSelect"),0<P.length&&(p=new xh("onSelect","select",null,p,_),f.push({event:p,listeners:P}),p.target=Qt)))}function Ln(f,p){var _={};return _[f.toLowerCase()]=p.toLowerCase(),_["Webkit"+f]="webkit"+p,_["Moz"+f]="moz"+p,_}var Fr={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionrun:Ln("Transition","TransitionRun"),transitionstart:Ln("Transition","TransitionStart"),transitioncancel:Ln("Transition","TransitionCancel"),transitionend:Ln("Transition","TransitionEnd")},Xi={},Tf={};Bs&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function hs(f){if(Xi[f])return Xi[f];if(!Fr[f])return f;var p=Fr[f],_;for(_ in p)if(p.hasOwnProperty(_)&&_ in Tf)return Xi[f]=p[_];return f}var ds=hs("animationend"),Vc=hs("animationiteration"),Iu=hs("animationstart"),Ch=hs("transitionrun"),Xc=hs("transitionstart"),Ah=hs("transitioncancel"),Ci=hs("transitionend"),Fg=new Map,oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oo.push("scrollEnd");function Ss(f,p){Fg.set(f,p),la(p,[f])}var qc=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},No=[],Ws=0,fs=0;function Za(){for(var f=Ws,p=fs=Ws=0;p<f;){var _=No[p];No[p++]=null;var P=No[p];No[p++]=null;var $=No[p];No[p++]=null;var K=No[p];if(No[p++]=null,P!==null&&$!==null){var yt=P.pending;yt===null?$.next=$:($.next=yt.next,yt.next=$),P.pending=$}K!==0&&dc(_,$,K)}}function ol(f,p,_,P){No[Ws++]=f,No[Ws++]=p,No[Ws++]=_,No[Ws++]=P,fs|=P,f.lanes|=P,f=f.alternate,f!==null&&(f.lanes|=P)}function Ed(f,p,_,P){return ol(f,p,_,P),Th(f)}function lo(f,p){return ol(f,null,null,p),Th(f)}function dc(f,p,_){f.lanes|=_;var P=f.alternate;P!==null&&(P.lanes|=_);for(var $=!1,K=f.return;K!==null;)K.childLanes|=_,P=K.alternate,P!==null&&(P.childLanes|=_),K.tag===22&&(f=K.stateNode,f===null||f._visibility&1||($=!0)),f=K,K=K.return;return f.tag===3?(K=f.stateNode,$&&p!==null&&($=31-Bn(_),f=K.hiddenUpdates,P=f[$],P===null?f[$]=[p]:P.push(p),p.lane=_|536870912),K):null}function Th(f){if(50<gp)throw gp=0,Ov=null,Error(i(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var Ll={};function Bg(f,p,_,P){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(f,p,_,P){return new Bg(f,p,_,P)}function Po(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Nr(f,p){var _=f.alternate;return _===null?(_=Ha(f.tag,p,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=p,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&65011712,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,p=f.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_.refCleanup=f.refCleanup,_}function qi(f,p){f.flags&=65011714;var _=f.alternate;return _===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,p=_.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function jd(f,p,_,P,$,K){var yt=0;if(P=f,typeof f=="function")Po(f)&&(yt=1);else if(typeof f=="string")yt=HT(f,_,Pt.current)?26:f==="html"||f==="head"||f==="body"?27:5;else t:switch(f){case J:return f=Ha(31,_,p,$),f.elementType=J,f.lanes=K,f;case w:return Kc(_.children,$,K,p);case k:yt=8,$|=24;break;case A:return f=Ha(12,_,p,$|2),f.elementType=A,f.lanes=K,f;case z:return f=Ha(13,_,p,$),f.elementType=z,f.lanes=K,f;case F:return f=Ha(19,_,p,$),f.elementType=F,f.lanes=K,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case R:yt=10;break t;case T:yt=9;break t;case G:yt=11;break t;case H:yt=14;break t;case Y:yt=16,P=null;break t}yt=29,_=Error(i(130,f===null?"null":typeof f,"")),P=null}return p=Ha(yt,_,p,$),p.elementType=f,p.type=P,p.lanes=K,p}function Kc(f,p,_,P){return f=Ha(7,f,P,p),f.lanes=_,f}function fc(f,p,_){return f=Ha(6,f,null,p),f.lanes=_,f}function gc(f){var p=Ha(18,null,null,0);return p.stateNode=f,p}function cr(f,p,_){return p=Ha(4,f.children!==null?f.children:[],f.key,p),p.lanes=_,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}var v=new WeakMap;function M(f,p){if(typeof f=="object"&&f!==null){var _=v.get(f);return _!==void 0?_:(p={value:f,source:p,stack:mi(p)},v.set(f,p),p)}return{value:f,source:p,stack:mi(p)}}var W=[],et=0,ft=null,Ct=0,Bt=[],te=0,Zt=null,_e=1,Re="";function rn(f,p){W[et++]=Ct,W[et++]=ft,ft=f,Ct=p}function Yn(f,p,_){Bt[te++]=_e,Bt[te++]=Re,Bt[te++]=Zt,Zt=f;var P=_e;f=Re;var $=32-Bn(P)-1;P&=~(1<<$),_+=1;var K=32-Bn(p)+$;if(30<K){var yt=$-$%5;K=(P&(1<<yt)-1).toString(32),P>>=yt,$-=yt,_e=1<<32-Bn(p)+$|_<<$|P,Re=K+f}else _e=1<<K|_<<$|P,Re=f}function Qr(f){f.return!==null&&(rn(f,1),Yn(f,1,0))}function rr(f){for(;f===ft;)ft=W[--et],W[et]=null,Ct=W[--et],W[et]=null;for(;f===Zt;)Zt=Bt[--te],Bt[te]=null,Re=Bt[--te],Bt[te]=null,_e=Bt[--te],Bt[te]=null}function Qa(f,p){Bt[te++]=_e,Bt[te++]=Re,Bt[te++]=Zt,_e=p.id,Re=p.overflow,Zt=f}var Li=null,bi=null,ai=!1,Zc=null,co=!1,Mf=Error(i(519));function Qc(f){var p=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tu(M(p,f)),Mf}function Mh(f){var p=f.stateNode,_=f.type,P=f.memoizedProps;switch(p[Hn]=f,p[yi]=P,_){case"dialog":it("cancel",p),it("close",p);break;case"iframe":case"object":case"embed":it("load",p);break;case"video":case"audio":for(_=0;_<B.length;_++)it(B[_],p);break;case"source":it("error",p);break;case"img":case"image":case"link":it("error",p),it("load",p);break;case"details":it("toggle",p);break;case"input":it("invalid",p),Qo(p,P.value,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name,!0);break;case"select":it("invalid",p);break;case"textarea":it("invalid",p),Ot(p,P.value,P.defaultValue,P.children)}_=P.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||p.textContent===""+_||P.suppressHydrationWarning===!0||Vt(p.textContent,_)?(P.popover!=null&&(it("beforetoggle",p),it("toggle",p)),P.onScroll!=null&&it("scroll",p),P.onScrollEnd!=null&&it("scrollend",p),P.onClick!=null&&(p.onclick=zr),p=!0):p=!1,p||Qc(f,!0)}function Pr(f){for(Li=f.return;Li;)switch(Li.tag){case 5:case 31:case 13:co=!1;return;case 27:case 3:co=!0;return;default:Li=Li.return}}function Rl(f){if(f!==Li)return!1;if(!ai)return Pr(f),ai=!0,!1;var p=f.tag,_;if((_=p!==3&&p!==27)&&((_=p===5)&&(_=f.type,_=!(_!=="form"&&_!=="button")||In(f.type,f.memoizedProps)),_=!_),_&&bi&&Qc(f),Pr(f),p===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));bi=Qd(f)}else if(p===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));bi=Qd(f)}else p===27?(p=bi,Fe(f.type)?(f=pl,pl=null,bi=f):bi=p):bi=Li?Ks(f.stateNode.nextSibling):null;return!0}function Tt(){bi=Li=null,ai=!1}function Jc(){var f=Zc;return f!==null&&(Fo===null?Fo=f:Fo.push.apply(Fo,f),Zc=null),f}function tu(f){Zc===null?Zc=[f]:Zc.push(f)}var Ja=ot(null),Rn=null,Ga=null;function Nh(f,p,_){St(Ja,p._currentValue),p._currentValue=_}function zu(f){f._currentValue=Ja.current,vt(Ja)}function Fu(f,p,_){for(;f!==null;){var P=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,P!==null&&(P.childLanes|=p)):P!==null&&(P.childLanes&p)!==p&&(P.childLanes|=p),f===_)break;f=f.return}}function pm(f,p,_,P){var $=f.child;for($!==null&&($.return=f);$!==null;){var K=$.dependencies;if(K!==null){var yt=$.child;K=K.firstContext;t:for(;K!==null;){var Mt=K;K=$;for(var Wt=0;Wt<p.length;Wt++)if(Mt.context===p[Wt]){K.lanes|=_,Mt=K.alternate,Mt!==null&&(Mt.lanes|=_),Fu(K.return,_,f),P||(yt=null);break t}K=Mt.next}}else if($.tag===18){if(yt=$.return,yt===null)throw Error(i(341));yt.lanes|=_,K=yt.alternate,K!==null&&(K.lanes|=_),Fu(yt,_,f),yt=null}else yt=$.child;if(yt!==null)yt.return=$;else for(yt=$;yt!==null;){if(yt===f){yt=null;break}if($=yt.sibling,$!==null){$.return=yt.return,yt=$;break}yt=yt.return}$=yt}}function Nf(f,p,_,P){f=null;for(var $=p,K=!1;$!==null;){if(!K){if(($.flags&524288)!==0)K=!0;else if(($.flags&262144)!==0)break}if($.tag===10){var yt=$.alternate;if(yt===null)throw Error(i(387));if(yt=yt.memoizedProps,yt!==null){var Mt=$.type;Sr($.pendingProps.value,yt.value)||(f!==null?f.push(Mt):f=[Mt])}}else if($===Et.current){if(yt=$.alternate,yt===null)throw Error(i(387));yt.memoizedState.memoizedState!==$.memoizedState.memoizedState&&(f!==null?f.push(gy):f=[gy])}$=$.return}f!==null&&pm(p,f,_,P),p.flags|=262144}function mm(f){for(f=f.firstContext;f!==null;){if(!Sr(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function eu(f){Rn=f,Ga=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function ks(f){return s0(Rn,f)}function ll(f,p){return Rn===null&&eu(f),s0(f,p)}function s0(f,p){var _=p._currentValue;if(p={context:p,memoizedValue:_,next:null},Ga===null){if(f===null)throw Error(i(308));Ga=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else Ga=Ga.next=p;return _}var M1=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(_,P){f.push(P)}};this.abort=function(){p.aborted=!0,f.forEach(function(_){return _()})}},o0=n.unstable_scheduleCallback,N1=n.unstable_NormalPriority,Wa={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new M1,data:new Map,refCount:0}}function nu(f){f.refCount--,f.refCount===0&&o0(N1,function(){f.controller.abort()})}var Pf=null,sv=0,Ef=0,Ph=null;function Eh(f,p){if(Pf===null){var _=Pf=[];sv=0,Ef=dl(),Ph={status:"pending",value:void 0,then:function(P){_.push(P)}}}return sv++,p.then(l0,l0),p}function l0(){if(--sv===0&&Pf!==null){Ph!==null&&(Ph.status="fulfilled");var f=Pf;Pf=null,Ef=0,Ph=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function P1(f,p){var _=[],P={status:"pending",value:null,reason:null,then:function($){_.push($)}};return f.then(function(){P.status="fulfilled",P.value=p;for(var $=0;$<_.length;$++)(0,_[$])(p)},function($){for(P.status="rejected",P.reason=$,$=0;$<_.length;$++)(0,_[$])(void 0)}),P}var Il=ct.S;ct.S=function(f,p){Ev=dn(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&Eh(f,p),Il!==null&&Il(f,p)};var Bu=ot(null);function ov(){var f=Bu.current;return f!==null?f:jr.pooledCache}function Hu(f,p){p===null?St(Bu,Bu.current):St(Bu,p.pool)}function c0(){var f=ov();return f===null?null:{parent:Wa._currentValue,pool:f}}var jh=Error(i(460)),ym=Error(i(474)),Dd=Error(i(542)),Hg={then:function(){}};function u0(f){return f=f.status,f==="fulfilled"||f==="rejected"}function vm(f,p,_){switch(_=f[_],_===void 0?f.push(p):_!==p&&(p.then(zr,zr),p=_),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,lv(f),f;default:if(typeof p.status=="string")p.then(zr,zr);else{if(f=jr,f!==null&&100<f.shellSuspendCounter)throw Error(i(482));f=p,f.status="pending",f.then(function(P){if(p.status==="pending"){var $=p;$.status="fulfilled",$.value=P}},function(P){if(p.status==="pending"){var $=p;$.status="rejected",$.reason=P}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,lv(f),f}throw iu=p,jh}}function mc(f){try{var p=f._init;return p(f._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(iu=_,jh):_}}var iu=null;function h0(){if(iu===null)throw Error(i(459));var f=iu;return iu=null,f}function lv(f){if(f===jh||f===Dd)throw Error(i(483))}var Gu=null,uo=0;function jf(f){var p=uo;return uo+=1,Gu===null&&(Gu=[]),vm(Gu,f,p)}function yc(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function ho(f,p){throw p.$$typeof===g?Error(i(525)):(f=Object.prototype.toString.call(p),Error(i(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function Wu(f){function p(ne,Kt){if(f){var ae=ne.deletions;ae===null?(ne.deletions=[Kt],ne.flags|=16):ae.push(Kt)}}function _(ne,Kt){if(!f)return null;for(;Kt!==null;)p(ne,Kt),Kt=Kt.sibling;return null}function P(ne){for(var Kt=new Map;ne!==null;)ne.key!==null?Kt.set(ne.key,ne):Kt.set(ne.index,ne),ne=ne.sibling;return Kt}function $(ne,Kt){return ne=Nr(ne,Kt),ne.index=0,ne.sibling=null,ne}function K(ne,Kt,ae){return ne.index=ae,f?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<Kt?(ne.flags|=67108866,Kt):ae):(ne.flags|=67108866,Kt)):(ne.flags|=1048576,Kt)}function yt(ne){return f&&ne.alternate===null&&(ne.flags|=67108866),ne}function Mt(ne,Kt,ae,Se){return Kt===null||Kt.tag!==6?(Kt=fc(ae,ne.mode,Se),Kt.return=ne,Kt):(Kt=$(Kt,ae),Kt.return=ne,Kt)}function Wt(ne,Kt,ae,Se){var xn=ae.type;return xn===w?we(ne,Kt,ae.props.children,Se,ae.key):Kt!==null&&(Kt.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===Y&&mc(xn)===Kt.type)?(Kt=$(Kt,ae.props),yc(Kt,ae),Kt.return=ne,Kt):(Kt=jd(ae.type,ae.key,ae.props,null,ne.mode,Se),yc(Kt,ae),Kt.return=ne,Kt)}function se(ne,Kt,ae,Se){return Kt===null||Kt.tag!==4||Kt.stateNode.containerInfo!==ae.containerInfo||Kt.stateNode.implementation!==ae.implementation?(Kt=cr(ae,ne.mode,Se),Kt.return=ne,Kt):(Kt=$(Kt,ae.children||[]),Kt.return=ne,Kt)}function we(ne,Kt,ae,Se,xn){return Kt===null||Kt.tag!==7?(Kt=Kc(ae,ne.mode,Se,xn),Kt.return=ne,Kt):(Kt=$(Kt,ae),Kt.return=ne,Kt)}function ke(ne,Kt,ae){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint")return Kt=fc(""+Kt,ne.mode,ae),Kt.return=ne,Kt;if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case y:return ae=jd(Kt.type,Kt.key,Kt.props,null,ne.mode,ae),yc(ae,Kt),ae.return=ne,ae;case x:return Kt=cr(Kt,ne.mode,ae),Kt.return=ne,Kt;case Y:return Kt=mc(Kt),ke(ne,Kt,ae)}if(mt(Kt)||Z(Kt))return Kt=Kc(Kt,ne.mode,ae,null),Kt.return=ne,Kt;if(typeof Kt.then=="function")return ke(ne,jf(Kt),ae);if(Kt.$$typeof===R)return ke(ne,ll(ne,Kt),ae);ho(ne,Kt)}return null}function le(ne,Kt,ae,Se){var xn=Kt!==null?Kt.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return xn!==null?null:Mt(ne,Kt,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return ae.key===xn?Wt(ne,Kt,ae,Se):null;case x:return ae.key===xn?se(ne,Kt,ae,Se):null;case Y:return ae=mc(ae),le(ne,Kt,ae,Se)}if(mt(ae)||Z(ae))return xn!==null?null:we(ne,Kt,ae,Se,null);if(typeof ae.then=="function")return le(ne,Kt,jf(ae),Se);if(ae.$$typeof===R)return le(ne,Kt,ll(ne,ae),Se);ho(ne,ae)}return null}function de(ne,Kt,ae,Se,xn){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ne=ne.get(ae)||null,Mt(Kt,ne,""+Se,xn);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case y:return ne=ne.get(Se.key===null?ae:Se.key)||null,Wt(Kt,ne,Se,xn);case x:return ne=ne.get(Se.key===null?ae:Se.key)||null,se(Kt,ne,Se,xn);case Y:return Se=mc(Se),de(ne,Kt,ae,Se,xn)}if(mt(Se)||Z(Se))return ne=ne.get(ae)||null,we(Kt,ne,Se,xn,null);if(typeof Se.then=="function")return de(ne,Kt,ae,jf(Se),xn);if(Se.$$typeof===R)return de(ne,Kt,ae,ll(Kt,Se),xn);ho(Kt,Se)}return null}function an(ne,Kt,ae,Se){for(var xn=null,dr=null,fn=Kt,ui=Kt=0,Fi=null;fn!==null&&ui<ae.length;ui++){fn.index>ui?(Fi=fn,fn=null):Fi=fn.sibling;var fr=le(ne,fn,ae[ui],Se);if(fr===null){fn===null&&(fn=Fi);break}f&&fn&&fr.alternate===null&&p(ne,fn),Kt=K(fr,Kt,ui),dr===null?xn=fr:dr.sibling=fr,dr=fr,fn=Fi}if(ui===ae.length)return _(ne,fn),ai&&rn(ne,ui),xn;if(fn===null){for(;ui<ae.length;ui++)fn=ke(ne,ae[ui],Se),fn!==null&&(Kt=K(fn,Kt,ui),dr===null?xn=fn:dr.sibling=fn,dr=fn);return ai&&rn(ne,ui),xn}for(fn=P(fn);ui<ae.length;ui++)Fi=de(fn,ne,ui,ae[ui],Se),Fi!==null&&(f&&Fi.alternate!==null&&fn.delete(Fi.key===null?ui:Fi.key),Kt=K(Fi,Kt,ui),dr===null?xn=Fi:dr.sibling=Fi,dr=Fi);return f&&fn.forEach(function(ng){return p(ne,ng)}),ai&&rn(ne,ui),xn}function Nn(ne,Kt,ae,Se){if(ae==null)throw Error(i(151));for(var xn=null,dr=null,fn=Kt,ui=Kt=0,Fi=null,fr=ae.next();fn!==null&&!fr.done;ui++,fr=ae.next()){fn.index>ui?(Fi=fn,fn=null):Fi=fn.sibling;var ng=le(ne,fn,fr.value,Se);if(ng===null){fn===null&&(fn=Fi);break}f&&fn&&ng.alternate===null&&p(ne,fn),Kt=K(ng,Kt,ui),dr===null?xn=ng:dr.sibling=ng,dr=ng,fn=Fi}if(fr.done)return _(ne,fn),ai&&rn(ne,ui),xn;if(fn===null){for(;!fr.done;ui++,fr=ae.next())fr=ke(ne,fr.value,Se),fr!==null&&(Kt=K(fr,Kt,ui),dr===null?xn=fr:dr.sibling=fr,dr=fr);return ai&&rn(ne,ui),xn}for(fn=P(fn);!fr.done;ui++,fr=ae.next())fr=de(fn,ne,ui,fr.value,Se),fr!==null&&(f&&fr.alternate!==null&&fn.delete(fr.key===null?ui:fr.key),Kt=K(fr,Kt,ui),dr===null?xn=fr:dr.sibling=fr,dr=fr);return f&&fn.forEach(function(qT){return p(ne,qT)}),ai&&rn(ne,ui),xn}function Ur(ne,Kt,ae,Se){if(typeof ae=="object"&&ae!==null&&ae.type===w&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:t:{for(var xn=ae.key;Kt!==null;){if(Kt.key===xn){if(xn=ae.type,xn===w){if(Kt.tag===7){_(ne,Kt.sibling),Se=$(Kt,ae.props.children),Se.return=ne,ne=Se;break t}}else if(Kt.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===Y&&mc(xn)===Kt.type){_(ne,Kt.sibling),Se=$(Kt,ae.props),yc(Se,ae),Se.return=ne,ne=Se;break t}_(ne,Kt);break}else p(ne,Kt);Kt=Kt.sibling}ae.type===w?(Se=Kc(ae.props.children,ne.mode,Se,ae.key),Se.return=ne,ne=Se):(Se=jd(ae.type,ae.key,ae.props,null,ne.mode,Se),yc(Se,ae),Se.return=ne,ne=Se)}return yt(ne);case x:t:{for(xn=ae.key;Kt!==null;){if(Kt.key===xn)if(Kt.tag===4&&Kt.stateNode.containerInfo===ae.containerInfo&&Kt.stateNode.implementation===ae.implementation){_(ne,Kt.sibling),Se=$(Kt,ae.children||[]),Se.return=ne,ne=Se;break t}else{_(ne,Kt);break}else p(ne,Kt);Kt=Kt.sibling}Se=cr(ae,ne.mode,Se),Se.return=ne,ne=Se}return yt(ne);case Y:return ae=mc(ae),Ur(ne,Kt,ae,Se)}if(mt(ae))return an(ne,Kt,ae,Se);if(Z(ae)){if(xn=Z(ae),typeof xn!="function")throw Error(i(150));return ae=xn.call(ae),Nn(ne,Kt,ae,Se)}if(typeof ae.then=="function")return Ur(ne,Kt,jf(ae),Se);if(ae.$$typeof===R)return Ur(ne,Kt,ll(ne,ae),Se);ho(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Kt!==null&&Kt.tag===6?(_(ne,Kt.sibling),Se=$(Kt,ae),Se.return=ne,ne=Se):(_(ne,Kt),Se=fc(ae,ne.mode,Se),Se.return=ne,ne=Se),yt(ne)):_(ne,Kt)}return function(ne,Kt,ae,Se){try{uo=0;var xn=Ur(ne,Kt,ae,Se);return Gu=null,xn}catch(fn){if(fn===jh||fn===Dd)throw fn;var dr=Ha(29,fn,null,ne.mode);return dr.lanes=Se,dr.return=ne,dr}finally{}}}var vc=Wu(!0),xm=Wu(!1),ts=!1;function ru(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gg(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Dh(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function fo(f,p,_){var P=f.updateQueue;if(P===null)return null;if(P=P.shared,(Ri&2)!==0){var $=P.pending;return $===null?p.next=p:(p.next=$.next,$.next=p),P.pending=p,p=Th(f),dc(f,null,_),p}return ol(f,P,p,_),Th(f)}function zl(f,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194048)!==0)){var P=p.lanes;P&=f.pendingLanes,_|=P,p.lanes=_,ve(f,_)}}function bm(f,p){var _=f.updateQueue,P=f.alternate;if(P!==null&&(P=P.updateQueue,_===P)){var $=null,K=null;if(_=_.firstBaseUpdate,_!==null){do{var yt={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};K===null?$=K=yt:K=K.next=yt,_=_.next}while(_!==null);K===null?$=K=p:K=K.next=p}else $=K=p;_={baseState:P.baseState,firstBaseUpdate:$,lastBaseUpdate:K,shared:P.shared,callbacks:P.callbacks},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=p:f.next=p,_.lastBaseUpdate=p}var Ea=!1;function Od(){if(Ea){var f=Ph;if(f!==null)throw f}}function Df(f,p,_,P){Ea=!1;var $=f.updateQueue;ts=!1;var K=$.firstBaseUpdate,yt=$.lastBaseUpdate,Mt=$.shared.pending;if(Mt!==null){$.shared.pending=null;var Wt=Mt,se=Wt.next;Wt.next=null,yt===null?K=se:yt.next=se,yt=Wt;var we=f.alternate;we!==null&&(we=we.updateQueue,Mt=we.lastBaseUpdate,Mt!==yt&&(Mt===null?we.firstBaseUpdate=se:Mt.next=se,we.lastBaseUpdate=Wt))}if(K!==null){var ke=$.baseState;yt=0,we=se=Wt=null,Mt=K;do{var le=Mt.lane&-536870913,de=le!==Mt.lane;if(de?(Mi&le)===le:(P&le)===le){le!==0&&le===Ef&&(Ea=!0),we!==null&&(we=we.next={lane:0,tag:Mt.tag,payload:Mt.payload,callback:null,next:null});t:{var an=f,Nn=Mt;le=p;var Ur=_;switch(Nn.tag){case 1:if(an=Nn.payload,typeof an=="function"){ke=an.call(Ur,ke,le);break t}ke=an;break t;case 3:an.flags=an.flags&-65537|128;case 0:if(an=Nn.payload,le=typeof an=="function"?an.call(Ur,ke,le):an,le==null)break t;ke=d({},ke,le);break t;case 2:ts=!0}}le=Mt.callback,le!==null&&(f.flags|=64,de&&(f.flags|=8192),de=$.callbacks,de===null?$.callbacks=[le]:de.push(le))}else de={lane:le,tag:Mt.tag,payload:Mt.payload,callback:Mt.callback,next:null},we===null?(se=we=de,Wt=ke):we=we.next=de,yt|=le;if(Mt=Mt.next,Mt===null){if(Mt=$.shared.pending,Mt===null)break;de=Mt,Mt=de.next,de.next=null,$.lastBaseUpdate=de,$.shared.pending=null}}while(!0);we===null&&(Wt=ke),$.baseState=Wt,$.firstBaseUpdate=se,$.lastBaseUpdate=we,K===null&&($.shared.lanes=0),Yh|=yt,f.lanes=yt,f.memoizedState=ke}}function Aa(f,p){if(typeof f!="function")throw Error(i(191,f));f.call(p)}function wm(f,p){var _=f.callbacks;if(_!==null)for(f.callbacks=null,f=0;f<_.length;f++)Aa(_[f],p)}var xc=ot(null),Fl=ot(0);function _m(f,p){f=Pc,St(Fl,f),St(xc,p),Pc=f|p.baseLanes}function da(){St(Fl,Pc),St(xc,xc.current)}function Oh(){Pc=Fl.current,vt(xc),vt(Fl)}var Us=ot(null),Bl=null;function Lh(f){var p=f.alternate;St(Ta,Ta.current&1),St(Us,f),Bl===null&&(p===null||xc.current!==null||p.memoizedState!==null)&&(Bl=f)}function Eo(f){St(Ta,Ta.current),St(Us,f),Bl===null&&(Bl=f)}function d0(f){f.tag===22?(St(Ta,Ta.current),St(Us,f),Bl===null&&(Bl=f)):cl()}function cl(){St(Ta,Ta.current),St(Us,Us.current)}function Ki(f){vt(Us),Bl===f&&(Bl=null),vt(Ta)}var Ta=ot(0);function Sm(f){for(var p=f;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||fl(_)||gl(_)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var jo=0,Wn=null,Zi=null,Br=null,Rh=!1,Of=!1,Ld=!1,Wg=0,Rd=0,Uu=null,E1=0;function fa(){throw Error(i(321))}function km(f,p){if(p===null)return!1;for(var _=0;_<p.length&&_<f.length;_++)if(!Sr(f[_],p[_]))return!1;return!0}function Hr(f,p,_,P,$,K){return jo=K,Wn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,ct.H=f===null||f.memoizedState===null?vv:zf,Ld=!1,K=_(P,$),Ld=!1,Of&&(K=Ug(p,_,P,$)),Cm(f),K}function Cm(f){ct.H=lu;var p=Zi!==null&&Zi.next!==null;if(jo=0,Br=Zi=Wn=null,Rh=!1,Rd=0,Uu=null,p)throw Error(i(300));f===null||ta||(f=f.dependencies,f!==null&&mm(f)&&(ta=!0))}function Ug(f,p,_,P){Wn=f;var $=0;do{if(Of&&(Uu=null),Rd=0,Of=!1,25<=$)throw Error(i(301));if($+=1,Br=Zi=null,f.updateQueue!=null){var K=f.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}ct.H=go,K=p(_,P)}while(Of);return K}function Am(){var f=ct.H,p=f.useState()[0];return p=typeof p.then=="function"?Id(p):p,f=f.useState()[0],(Zi!==null?Zi.memoizedState:null)!==f&&(Wn.flags|=1024),p}function Tm(){var f=Wg!==0;return Wg=0,f}function Mm(f,p,_){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~_}function cv(f){if(Rh){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Rh=!1}jo=0,Br=Zi=Wn=null,Of=!1,Rd=Wg=0,Uu=null}function ja(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Wn.memoizedState=Br=f:Br=Br.next=f,Br}function Da(){if(Zi===null){var f=Wn.alternate;f=f!==null?f.memoizedState:null}else f=Zi.next;var p=Br===null?Wn.memoizedState:Br.next;if(p!==null)Br=p,Zi=f;else{if(f===null)throw Wn.alternate===null?Error(i(467)):Error(i(310));Zi=f,f={memoizedState:Zi.memoizedState,baseState:Zi.baseState,baseQueue:Zi.baseQueue,queue:Zi.queue,next:null},Br===null?Wn.memoizedState=Br=f:Br=Br.next=f}return Br}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Id(f){var p=Rd;return Rd+=1,Uu===null&&(Uu=[]),f=vm(Uu,f,p),p=Wn,(Br===null?p.memoizedState:Br.next)===null&&(p=p.alternate,ct.H=p===null||p.memoizedState===null?vv:zf),f}function zd(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Id(f);if(f.$$typeof===R)return ks(f)}throw Error(i(438,String(f)))}function Nm(f){var p=null,_=Wn.updateQueue;if(_!==null&&(p=_.memoCache),p==null){var P=Wn.alternate;P!==null&&(P=P.updateQueue,P!==null&&(P=P.memoCache,P!=null&&(p={data:P.data.map(function($){return $.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),_===null&&(_=Ih(),Wn.updateQueue=_),_.memoCache=p,_=p.data[p.index],_===void 0)for(_=p.data[p.index]=Array(f),P=0;P<f;P++)_[P]=nt;return p.index++,_}function bc(f,p){return typeof p=="function"?p(f):p}function hn(f){var p=Da();return uv(p,Zi,f)}function uv(f,p,_){var P=f.queue;if(P===null)throw Error(i(311));P.lastRenderedReducer=_;var $=f.baseQueue,K=P.pending;if(K!==null){if($!==null){var yt=$.next;$.next=K.next,K.next=yt}p.baseQueue=$=K,P.pending=null}if(K=f.baseState,$===null)f.memoizedState=K;else{p=$.next;var Mt=yt=null,Wt=null,se=p,we=!1;do{var ke=se.lane&-536870913;if(ke!==se.lane?(Mi&ke)===ke:(jo&ke)===ke){var le=se.revertLane;if(le===0)Wt!==null&&(Wt=Wt.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ke===Ef&&(we=!0);else if((jo&le)===le){se=se.next,le===Ef&&(we=!0);continue}else ke={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Wt===null?(Mt=Wt=ke,yt=K):Wt=Wt.next=ke,Wn.lanes|=le,Yh|=le;ke=se.action,Ld&&_(K,ke),K=se.hasEagerState?se.eagerState:_(K,ke)}else le={lane:ke,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Wt===null?(Mt=Wt=le,yt=K):Wt=Wt.next=le,Wn.lanes|=ke,Yh|=ke;se=se.next}while(se!==null&&se!==p);if(Wt===null?yt=K:Wt.next=Mt,!Sr(K,f.memoizedState)&&(ta=!0,we&&(_=Ph,_!==null)))throw _;f.memoizedState=K,f.baseState=yt,f.baseQueue=Wt,P.lastRenderedState=K}return $===null&&(P.lanes=0),[f.memoizedState,P.dispatch]}function hv(f){var p=Da(),_=p.queue;if(_===null)throw Error(i(311));_.lastRenderedReducer=f;var P=_.dispatch,$=_.pending,K=p.memoizedState;if($!==null){_.pending=null;var yt=$=$.next;do K=f(K,yt.action),yt=yt.next;while(yt!==$);Sr(K,p.memoizedState)||(ta=!0),p.memoizedState=K,p.baseQueue===null&&(p.baseState=K),_.lastRenderedState=K}return[K,P]}function Fd(f,p,_){var P=Wn,$=Da(),K=ai;if(K){if(_===void 0)throw Error(i(407));_=_()}else _=p();var yt=!Sr((Zi||$).memoizedState,_);if(yt&&($.memoizedState=_,ta=!0),$=$.queue,zh(f0.bind(null,P,$,f),[f]),$.getSnapshot!==p||yt||Br!==null&&Br.memoizedState.tag&1){if(P.flags|=2048,Lo(9,{destroy:void 0},Bd.bind(null,P,$,_,p),null),jr===null)throw Error(i(349));K||(jo&127)!==0||Lf(P,p,_)}return _}function Lf(f,p,_){f.flags|=16384,f={getSnapshot:p,value:_},p=Wn.updateQueue,p===null?(p=Ih(),Wn.updateQueue=p,p.stores=[f]):(_=p.stores,_===null?p.stores=[f]:_.push(f))}function Bd(f,p,_,P){p.value=_,p.getSnapshot=P,Ai(p)&&g0(f)}function f0(f,p,_){return _(function(){Ai(p)&&g0(f)})}function Ai(f){var p=f.getSnapshot;f=f.value;try{var _=p();return!Sr(f,_)}catch{return!0}}function g0(f){var p=lo(f,2);p!==null&&mo(p,f,2)}function Hd(f){var p=ja();if(typeof f=="function"){var _=f;if(f=_(),Ld){Dn(!0);try{_()}finally{Dn(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:f},p}function Yg(f,p,_,P){return f.baseState=_,uv(f,Zi,typeof P=="function"?P:bc)}function dv(f,p,_,P,$){if(Qg(f))throw Error(i(485));if(f=p.action,f!==null){var K={payload:$,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(yt){K.listeners.push(yt)}};ct.T!==null?_(!0):K.isTransition=!1,P(K),_=p.pending,_===null?(K.next=p.pending=K,Oa(p,K)):(K.next=_.next,p.pending=_.next=K)}}function Oa(f,p){var _=p.action,P=p.payload,$=f.state;if(p.isTransition){var K=ct.T,yt={};ct.T=yt;try{var Mt=_($,P),Wt=ct.S;Wt!==null&&Wt(yt,Mt),Do(f,p,Mt)}catch(se){Gd(f,p,se)}finally{K!==null&&yt.types!==null&&(K.types=yt.types),ct.T=K}}else try{K=_($,P),Do(f,p,K)}catch(se){Gd(f,p,se)}}function Do(f,p,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(P){ul(f,p,P)},function(P){return Gd(f,p,P)}):ul(f,p,_)}function ul(f,p,_){p.status="fulfilled",p.value=_,Gr(p),f.state=_,p=f.pending,p!==null&&(_=p.next,_===p?f.pending=null:(_=_.next,p.next=_,Oa(f,_)))}function Gd(f,p,_){var P=f.pending;if(f.pending=null,P!==null){P=P.next;do p.status="rejected",p.reason=_,Gr(p),p=p.next;while(p!==P)}f.action=null}function Gr(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function $g(f,p){return p}function Pm(f,p){if(ai){var _=jr.formState;if(_!==null){t:{var P=Wn;if(ai){if(bi){e:{for(var $=bi,K=co;$.nodeType!==8;){if(!K){$=null;break e}if($=Ks($.nextSibling),$===null){$=null;break e}}K=$.data,$=K==="F!"||K==="F"?$:null}if($){bi=Ks($.nextSibling),P=$.data==="F!";break t}}Qc(P)}P=!1}P&&(p=_[0])}}return _=ja(),_.memoizedState=_.baseState=p,P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:p},_.queue=P,_=Vu.bind(null,Wn,P),P.dispatch=_,P=Hd(!1),K=Wd.bind(null,Wn,!1,P.queue),P=ja(),$={state:p,dispatch:null,action:f,pending:null},P.queue=$,_=dv.bind(null,Wn,$,K,_),$.dispatch=_,P.memoizedState=f,[p,_,!1]}function Oo(f){var p=Da();return Ys(p,Zi,f)}function Ys(f,p,_){if(p=uv(f,p,$g)[0],f=hn(bc)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var P=Id(p)}catch(yt){throw yt===jh?Dd:yt}else P=p;p=Da();var $=p.queue,K=$.dispatch;return _!==p.memoizedState&&(Wn.flags|=2048,Lo(9,{destroy:void 0},fv.bind(null,$,_),null)),[P,K,f]}function fv(f,p){f.action=p}function Em(f){var p=Da(),_=Zi;if(_!==null)return Ys(p,_,f);Da(),p=p.memoizedState,_=Da();var P=_.queue.dispatch;return _.memoizedState=f,[p,P,!1]}function Lo(f,p,_,P){return f={tag:f,create:_,deps:P,inst:p,next:null},p=Wn.updateQueue,p===null&&(p=Ih(),Wn.updateQueue=p),_=p.lastEffect,_===null?p.lastEffect=f.next=f:(P=_.next,_.next=f,f.next=P,p.lastEffect=f),f}function p0(){return Da().memoizedState}function Hl(f,p,_,P){var $=ja();Wn.flags|=f,$.memoizedState=Lo(1|p,{destroy:void 0},_,P===void 0?null:P)}function Vg(f,p,_,P){var $=Da();P=P===void 0?null:P;var K=$.memoizedState.inst;Zi!==null&&P!==null&&km(P,Zi.memoizedState.deps)?$.memoizedState=Lo(p,K,_,P):(Wn.flags|=f,$.memoizedState=Lo(1|p,K,_,P))}function gv(f,p){Hl(8390656,8,f,p)}function zh(f,p){Vg(2048,8,f,p)}function j1(f){Wn.flags|=4;var p=Wn.updateQueue;if(p===null)p=Ih(),Wn.updateQueue=p,p.events=[f];else{var _=p.events;_===null?p.events=[f]:_.push(f)}}function m0(f){var p=Da().memoizedState;return j1({ref:p,nextImpl:f}),function(){if((Ri&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}function jm(f,p){return Vg(4,2,f,p)}function pv(f,p){return Vg(4,4,f,p)}function mv(f,p){if(typeof p=="function"){f=f();var _=p(f);return function(){typeof _=="function"?_():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function au(f,p,_){_=_!=null?_.concat([f]):null,Vg(4,4,mv.bind(null,p,f),_)}function Xg(){}function Yu(f,p){var _=Da();p=p===void 0?null:p;var P=_.memoizedState;return p!==null&&km(p,P[1])?P[0]:(_.memoizedState=[f,p],f)}function Jr(f,p){var _=Da();p=p===void 0?null:p;var P=_.memoizedState;if(p!==null&&km(p,P[1]))return P[0];if(P=f(),Ld){Dn(!0);try{f()}finally{Dn(!1)}}return _.memoizedState=[P,p],P}function Gl(f,p,_){return _===void 0||(jo&1073741824)!==0&&(Mi&261930)===0?f.memoizedState=p:(f.memoizedState=_,f=D0(),Wn.lanes|=f,Yh|=f,_)}function y0(f,p,_,P){return Sr(_,p)?_:xc.current!==null?(f=Gl(f,_,P),Sr(f,p)||(ta=!0),f):(jo&42)===0||(jo&1073741824)!==0&&(Mi&261930)===0?(ta=!0,f.memoizedState=_):(f=D0(),Wn.lanes|=f,Yh|=f,p)}function v0(f,p,_,P,$){var K=st.p;st.p=K!==0&&8>K?K:8;var yt=ct.T,Mt={};ct.T=Mt,Wd(f,!1,p,_);try{var Wt=$(),se=ct.S;if(se!==null&&se(Mt,Wt),Wt!==null&&typeof Wt=="object"&&typeof Wt.then=="function"){var we=P1(Wt,P);ou(f,p,we,Bo(f))}else ou(f,p,P,Bo(f))}catch(ke){ou(f,p,{then:function(){},status:"rejected",reason:ke},Bo())}finally{st.p=K,yt!==null&&Mt.types!==null&&(yt.types=Mt.types),ct.T=yt}}function Dm(){}function su(f,p,_,P){if(f.tag!==5)throw Error(i(476));var $=Om(f).queue;v0(f,$,p,xt,_===null?Dm:function(){return qg(f),_(P)})}function Om(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:xt},next:null};var _={};return p.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:_},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function qg(f){var p=Om(f);p.next===null&&(p=f.alternate.memoizedState),ou(f,p.next.queue,{},Bo())}function yv(){return ks(gy)}function Kg(){return Da().memoizedState}function $u(){return Da().memoizedState}function Zg(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var _=Bo();f=Dh(_);var P=fo(p,f,_);P!==null&&(mo(P,p,_),zl(P,p,_)),p={cache:pc()},f.payload=p;return}p=p.return}}function x0(f,p,_){var P=Bo();_={lane:P,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},Qg(f)?Rf(p,_):(_=Ed(f,p,_,P),_!==null&&(mo(_,f,P),If(_,p,P)))}function Vu(f,p,_){var P=Bo();ou(f,p,_,P)}function ou(f,p,_,P){var $={lane:P,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if(Qg(f))Rf(p,$);else{var K=f.alternate;if(f.lanes===0&&(K===null||K.lanes===0)&&(K=p.lastRenderedReducer,K!==null))try{var yt=p.lastRenderedState,Mt=K(yt,_);if($.hasEagerState=!0,$.eagerState=Mt,Sr(Mt,yt))return ol(f,p,$,0),jr===null&&Za(),!1}catch{}finally{}if(_=Ed(f,p,$,P),_!==null)return mo(_,f,P),If(_,p,P),!0}return!1}function Wd(f,p,_,P){if(P={lane:2,revertLane:dl(),gesture:null,action:P,hasEagerState:!1,eagerState:null,next:null},Qg(f)){if(p)throw Error(i(479))}else p=Ed(f,_,P,2),p!==null&&mo(p,f,2)}function Qg(f){var p=f.alternate;return f===Wn||p!==null&&p===Wn}function Rf(f,p){Of=Rh=!0;var _=f.pending;_===null?p.next=p:(p.next=_.next,_.next=p),f.pending=p}function If(f,p,_){if((_&4194048)!==0){var P=p.lanes;P&=f.pendingLanes,_|=P,p.lanes=_,ve(f,_)}}var lu={readContext:ks,use:zd,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useLayoutEffect:fa,useInsertionEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useSyncExternalStore:fa,useId:fa,useHostTransitionStatus:fa,useFormState:fa,useActionState:fa,useOptimistic:fa,useMemoCache:fa,useCacheRefresh:fa};lu.useEffectEvent=fa;var vv={readContext:ks,use:zd,useCallback:function(f,p){return ja().memoizedState=[f,p===void 0?null:p],f},useContext:ks,useEffect:gv,useImperativeHandle:function(f,p,_){_=_!=null?_.concat([f]):null,Hl(4194308,4,mv.bind(null,p,f),_)},useLayoutEffect:function(f,p){return Hl(4194308,4,f,p)},useInsertionEffect:function(f,p){Hl(4,2,f,p)},useMemo:function(f,p){var _=ja();p=p===void 0?null:p;var P=f();if(Ld){Dn(!0);try{f()}finally{Dn(!1)}}return _.memoizedState=[P,p],P},useReducer:function(f,p,_){var P=ja();if(_!==void 0){var $=_(p);if(Ld){Dn(!0);try{_(p)}finally{Dn(!1)}}}else $=p;return P.memoizedState=P.baseState=$,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:$},P.queue=f,f=f.dispatch=x0.bind(null,Wn,f),[P.memoizedState,f]},useRef:function(f){var p=ja();return f={current:f},p.memoizedState=f},useState:function(f){f=Hd(f);var p=f.queue,_=Vu.bind(null,Wn,p);return p.dispatch=_,[f.memoizedState,_]},useDebugValue:Xg,useDeferredValue:function(f,p){var _=ja();return Gl(_,f,p)},useTransition:function(){var f=Hd(!1);return f=v0.bind(null,Wn,f.queue,!0,!1),ja().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,_){var P=Wn,$=ja();if(ai){if(_===void 0)throw Error(i(407));_=_()}else{if(_=p(),jr===null)throw Error(i(349));(Mi&127)!==0||Lf(P,p,_)}$.memoizedState=_;var K={value:_,getSnapshot:p};return $.queue=K,gv(f0.bind(null,P,K,f),[f]),P.flags|=2048,Lo(9,{destroy:void 0},Bd.bind(null,P,K,_,p),null),_},useId:function(){var f=ja(),p=jr.identifierPrefix;if(ai){var _=Re,P=_e;_=(P&~(1<<32-Bn(P)-1)).toString(32)+_,p="_"+p+"R_"+_,_=Wg++,0<_&&(p+="H"+_.toString(32)),p+="_"}else _=E1++,p="_"+p+"r_"+_.toString(32)+"_";return f.memoizedState=p},useHostTransitionStatus:yv,useFormState:Pm,useActionState:Pm,useOptimistic:function(f){var p=ja();p.memoizedState=p.baseState=f;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=_,p=Wd.bind(null,Wn,!0,_),_.dispatch=p,[f,p]},useMemoCache:Nm,useCacheRefresh:function(){return ja().memoizedState=Zg.bind(null,Wn)},useEffectEvent:function(f){var p=ja(),_={impl:f};return p.memoizedState=_,function(){if((Ri&2)!==0)throw Error(i(440));return _.impl.apply(void 0,arguments)}}},zf={readContext:ks,use:zd,useCallback:Yu,useContext:ks,useEffect:zh,useImperativeHandle:au,useInsertionEffect:jm,useLayoutEffect:pv,useMemo:Jr,useReducer:hn,useRef:p0,useState:function(){return hn(bc)},useDebugValue:Xg,useDeferredValue:function(f,p){var _=Da();return y0(_,Zi.memoizedState,f,p)},useTransition:function(){var f=hn(bc)[0],p=Da().memoizedState;return[typeof f=="boolean"?f:Id(f),p]},useSyncExternalStore:Fd,useId:Kg,useHostTransitionStatus:yv,useFormState:Oo,useActionState:Oo,useOptimistic:function(f,p){var _=Da();return Yg(_,Zi,f,p)},useMemoCache:Nm,useCacheRefresh:$u};zf.useEffectEvent=m0;var go={readContext:ks,use:zd,useCallback:Yu,useContext:ks,useEffect:zh,useImperativeHandle:au,useInsertionEffect:jm,useLayoutEffect:pv,useMemo:Jr,useReducer:hv,useRef:p0,useState:function(){return hv(bc)},useDebugValue:Xg,useDeferredValue:function(f,p){var _=Da();return Zi===null?Gl(_,f,p):y0(_,Zi.memoizedState,f,p)},useTransition:function(){var f=hv(bc)[0],p=Da().memoizedState;return[typeof f=="boolean"?f:Id(f),p]},useSyncExternalStore:Fd,useId:Kg,useHostTransitionStatus:yv,useFormState:Em,useActionState:Em,useOptimistic:function(f,p){var _=Da();return Zi!==null?Yg(_,Zi,f,p):(_.baseState=f,[f,_.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:$u};go.useEffectEvent=m0;function wc(f,p,_,P){p=f.memoizedState,_=_(P,p),_=_==null?p:d({},p,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var Ff={enqueueSetState:function(f,p,_){f=f._reactInternals;var P=Bo(),$=Dh(P);$.payload=p,_!=null&&($.callback=_),p=fo(f,$,P),p!==null&&(mo(p,f,P),zl(p,f,P))},enqueueReplaceState:function(f,p,_){f=f._reactInternals;var P=Bo(),$=Dh(P);$.tag=1,$.payload=p,_!=null&&($.callback=_),p=fo(f,$,P),p!==null&&(mo(p,f,P),zl(p,f,P))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var _=Bo(),P=Dh(_);P.tag=2,p!=null&&(P.callback=p),p=fo(f,P,_),p!==null&&(mo(p,f,_),zl(p,f,_))}};function b0(f,p,_,P,$,K,yt){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(P,K,yt):p.prototype&&p.prototype.isPureReactComponent?!Ru(_,P)||!Ru($,K):!0}function xv(f,p,_,P){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,P),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,P),p.state!==f&&Ff.enqueueReplaceState(p,p.state,null)}function Cs(f,p){var _=p;if("ref"in p){_={};for(var P in p)P!=="ref"&&(_[P]=p[P])}if(f=f.defaultProps){_===p&&(_=d({},_));for(var $ in f)_[$]===void 0&&(_[$]=f[$])}return _}function cu(f){qc(f)}function Jg(f){console.error(f)}function wi(f){qc(f)}function tp(f,p){try{var _=f.onUncaughtError;_(p.value,{componentStack:p.stack})}catch(P){setTimeout(function(){throw P})}}function Lm(f,p,_){try{var P=f.onCaughtError;P(_.value,{componentStack:_.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch($){setTimeout(function(){throw $})}}function bv(f,p,_){return _=Dh(_),_.tag=3,_.payload={element:null},_.callback=function(){tp(f,p)},_}function po(f){return f=Dh(f),f.tag=3,f}function Rm(f,p,_,P){var $=_.type.getDerivedStateFromError;if(typeof $=="function"){var K=P.value;f.payload=function(){return $(K)},f.callback=function(){Lm(p,_,P)}}var yt=_.stateNode;yt!==null&&typeof yt.componentDidCatch=="function"&&(f.callback=function(){Lm(p,_,P),typeof $!="function"&&(Ec===null?Ec=new Set([this]):Ec.add(this));var Mt=P.stack;this.componentDidCatch(P.value,{componentStack:Mt!==null?Mt:""})})}function Bf(f,p,_,P,$){if(_.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){if(p=_.alternate,p!==null&&Nf(p,_,$,!0),_=Us.current,_!==null){switch(_.tag){case 31:case 13:return Bl===null?yp():_.alternate===null&&ya===0&&(ya=3),_.flags&=-257,_.flags|=65536,_.lanes=$,P===Hg?_.flags|=16384:(p=_.updateQueue,p===null?_.updateQueue=new Set([P]):p.add(P),sy(f,P,$)),!1;case 22:return _.flags|=65536,P===Hg?_.flags|=16384:(p=_.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([P])},_.updateQueue=p):(_=p.retryQueue,_===null?p.retryQueue=new Set([P]):_.add(P)),sy(f,P,$)),!1}throw Error(i(435,_.tag))}return sy(f,P,$),yp(),!1}if(ai)return p=Us.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=$,P!==Mf&&(f=Error(i(422),{cause:P}),tu(M(f,_)))):(P!==Mf&&(p=Error(i(423),{cause:P}),tu(M(p,_))),f=f.current.alternate,f.flags|=65536,$&=-$,f.lanes|=$,P=M(P,_),$=bv(f.stateNode,P,$),bm(f,$),ya!==4&&(ya=2)),!1;var K=Error(i(520),{cause:P});if(K=M(K,_),fp===null?fp=[K]:fp.push(K),ya!==4&&(ya=2),p===null)return!0;P=M(P,_),_=p;do{switch(_.tag){case 3:return _.flags|=65536,f=$&-$,_.lanes|=f,f=bv(_.stateNode,P,f),bm(_,f),!1;case 1:if(p=_.type,K=_.stateNode,(_.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ec===null||!Ec.has(K))))return _.flags|=65536,$&=-$,_.lanes|=$,$=po($),Rm($,f,_,P),bm(_,$),!1}_=_.return}while(_!==null);return!1}var Ro=Error(i(461)),ta=!1;function Ti(f,p,_,P){p.child=f===null?xm(p,null,_,P):vc(p,f.child,_,P)}function _n(f,p,_,P,$){_=_.render;var K=p.ref;if("ref"in P){var yt={};for(var Mt in P)Mt!=="ref"&&(yt[Mt]=P[Mt])}else yt=P;return eu(p),P=Hr(f,p,_,yt,K,$),Mt=Tm(),f!==null&&!ta?(Mm(f,p,$),Ul(f,p,$)):(ai&&Mt&&Qr(p),p.flags|=1,Ti(f,p,P,$),p.child)}function Hf(f,p,_,P,$){if(f===null){var K=_.type;return typeof K=="function"&&!Po(K)&&K.defaultProps===void 0&&_.compare===null?(p.tag=15,p.type=K,ep(f,p,K,P,$)):(f=jd(_.type,null,P,p,p.mode,$),f.ref=p.ref,f.return=p,p.child=f)}if(K=f.child,!Bh(f,$)){var yt=K.memoizedProps;if(_=_.compare,_=_!==null?_:Ru,_(yt,P)&&f.ref===p.ref)return Ul(f,p,$)}return p.flags|=1,f=Nr(K,P),f.ref=p.ref,f.return=p,p.child=f}function ep(f,p,_,P,$){if(f!==null){var K=f.memoizedProps;if(Ru(K,P)&&f.ref===p.ref)if(ta=!1,p.pendingProps=P=K,Bh(f,$))(f.flags&131072)!==0&&(ta=!0);else return p.lanes=f.lanes,Ul(f,p,$)}return Ud(f,p,_,P,$)}function _c(f,p,_,P){var $=P.children,K=f!==null?f.memoizedState:null;if(f===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),P.mode==="hidden"){if((p.flags&128)!==0){if(K=K!==null?K.baseLanes|_:_,f!==null){for(P=p.child=f.child,$=0;P!==null;)$=$|P.lanes|P.childLanes,P=P.sibling;P=$&~K}else P=0,p.child=null;return Im(f,p,K,_,P)}if((_&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&Hu(p,K!==null?K.cachePool:null),K!==null?_m(p,K):da(),d0(p);else return P=p.lanes=536870912,Im(f,p,K!==null?K.baseLanes|_:_,_,P)}else K!==null?(Hu(p,K.cachePool),_m(p,K),cl(),p.memoizedState=null):(f!==null&&Hu(p,null),da(),cl());return Ti(f,p,$,_),p.child}function np(f,p){return f!==null&&f.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function Im(f,p,_,P,$){var K=ov();return K=K===null?null:{parent:Wa._currentValue,pool:K},p.memoizedState={baseLanes:_,cachePool:K},f!==null&&Hu(p,null),da(),d0(p),f!==null&&Nf(f,p,P,!0),p.childLanes=$,null}function Wl(f,p){return p=Hm({mode:p.mode,children:p.children},f.mode),p.ref=f.ref,f.child=p,p.return=f,p}function As(f,p,_){return vc(p,f.child,null,_),f=Wl(p,p.pendingProps),f.flags|=2,Ki(p),p.memoizedState=null,f}function D1(f,p,_){var P=p.pendingProps,$=(p.flags&128)!==0;if(p.flags&=-129,f===null){if(ai){if(P.mode==="hidden")return f=Wl(p,P),p.lanes=536870912,np(null,f);if(Eo(p),(f=bi)?(f=qs(f,co),f=f!==null&&f.data==="&"?f:null,f!==null&&(p.memoizedState={dehydrated:f,treeContext:Zt!==null?{id:_e,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},_=gc(f),_.return=p,p.child=_,Li=p,bi=null)):f=null,f===null)throw Qc(p);return p.lanes=536870912,null}return Wl(p,P)}var K=f.memoizedState;if(K!==null){var yt=K.dehydrated;if(Eo(p),$)if(p.flags&256)p.flags&=-257,p=As(f,p,_);else if(p.memoizedState!==null)p.child=f.child,p.flags|=128,p=null;else throw Error(i(558));else if(ta||Nf(f,p,_,!1),$=(_&f.childLanes)!==0,ta||$){if(P=jr,P!==null&&(yt=ze(P,_),yt!==0&&yt!==K.retryLane))throw K.retryLane=yt,lo(f,yt),mo(P,f,yt),Ro;yp(),p=As(f,p,_)}else f=K.treeContext,bi=Ks(yt.nextSibling),Li=p,ai=!0,Zc=null,co=!1,f!==null&&Qa(p,f),p=Wl(p,P),p.flags|=4096;return p}return f=Nr(f.child,{mode:P.mode,children:P.children}),f.ref=p.ref,p.child=f,f.return=p,f}function Sc(f,p){var _=p.ref;if(_===null)f!==null&&f.ref!==null&&(p.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(i(284));(f===null||f.ref!==_)&&(p.flags|=4194816)}}function Ud(f,p,_,P,$){return eu(p),_=Hr(f,p,_,P,void 0,$),P=Tm(),f!==null&&!ta?(Mm(f,p,$),Ul(f,p,$)):(ai&&P&&Qr(p),p.flags|=1,Ti(f,p,_,$),p.child)}function zm(f,p,_,P,$,K){return eu(p),p.updateQueue=null,_=Ug(p,P,_,$),Cm(f),P=Tm(),f!==null&&!ta?(Mm(f,p,K),Ul(f,p,K)):(ai&&P&&Qr(p),p.flags|=1,Ti(f,p,_,K),p.child)}function ip(f,p,_,P,$){if(eu(p),p.stateNode===null){var K=Ll,yt=_.contextType;typeof yt=="object"&&yt!==null&&(K=ks(yt)),K=new _(P,K),p.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=Ff,p.stateNode=K,K._reactInternals=p,K=p.stateNode,K.props=P,K.state=p.memoizedState,K.refs={},ru(p),yt=_.contextType,K.context=typeof yt=="object"&&yt!==null?ks(yt):Ll,K.state=p.memoizedState,yt=_.getDerivedStateFromProps,typeof yt=="function"&&(wc(p,_,yt,P),K.state=p.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(yt=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),yt!==K.state&&Ff.enqueueReplaceState(K,K.state,null),Df(p,P,K,$),Od(),K.state=p.memoizedState),typeof K.componentDidMount=="function"&&(p.flags|=4194308),P=!0}else if(f===null){K=p.stateNode;var Mt=p.memoizedProps,Wt=Cs(_,Mt);K.props=Wt;var se=K.context,we=_.contextType;yt=Ll,typeof we=="object"&&we!==null&&(yt=ks(we));var ke=_.getDerivedStateFromProps;we=typeof ke=="function"||typeof K.getSnapshotBeforeUpdate=="function",Mt=p.pendingProps!==Mt,we||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Mt||se!==yt)&&xv(p,K,P,yt),ts=!1;var le=p.memoizedState;K.state=le,Df(p,P,K,$),Od(),se=p.memoizedState,Mt||le!==se||ts?(typeof ke=="function"&&(wc(p,_,ke,P),se=p.memoizedState),(Wt=ts||b0(p,_,Wt,P,le,se,yt))?(we||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(p.flags|=4194308)):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=P,p.memoizedState=se),K.props=P,K.state=se,K.context=yt,P=Wt):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),P=!1)}else{K=p.stateNode,Gg(f,p),yt=p.memoizedProps,we=Cs(_,yt),K.props=we,ke=p.pendingProps,le=K.context,se=_.contextType,Wt=Ll,typeof se=="object"&&se!==null&&(Wt=ks(se)),Mt=_.getDerivedStateFromProps,(se=typeof Mt=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(yt!==ke||le!==Wt)&&xv(p,K,P,Wt),ts=!1,le=p.memoizedState,K.state=le,Df(p,P,K,$),Od();var de=p.memoizedState;yt!==ke||le!==de||ts||f!==null&&f.dependencies!==null&&mm(f.dependencies)?(typeof Mt=="function"&&(wc(p,_,Mt,P),de=p.memoizedState),(we=ts||b0(p,_,we,P,le,de,Wt)||f!==null&&f.dependencies!==null&&mm(f.dependencies))?(se||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(P,de,Wt),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(P,de,Wt)),typeof K.componentDidUpdate=="function"&&(p.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof K.componentDidUpdate!="function"||yt===f.memoizedProps&&le===f.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||yt===f.memoizedProps&&le===f.memoizedState||(p.flags|=1024),p.memoizedProps=P,p.memoizedState=de),K.props=P,K.state=de,K.context=Wt,P=we):(typeof K.componentDidUpdate!="function"||yt===f.memoizedProps&&le===f.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||yt===f.memoizedProps&&le===f.memoizedState||(p.flags|=1024),P=!1)}return K=P,Sc(f,p),P=(p.flags&128)!==0,K||P?(K=p.stateNode,_=P&&typeof _.getDerivedStateFromError!="function"?null:K.render(),p.flags|=1,f!==null&&P?(p.child=vc(p,f.child,null,$),p.child=vc(p,null,_,$)):Ti(f,p,_,$),p.memoizedState=K.state,f=p.child):f=Ul(f,p,$),f}function w0(f,p,_,P){return Tt(),p.flags|=256,Ti(f,p,_,P),p.child}var Fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(f){return{baseLanes:f,cachePool:c0()}}function kc(f,p,_){return f=f!==null?f.childLanes&~_:0,p&&(f|=hl),f}function Ts(f,p,_){var P=p.pendingProps,$=!1,K=(p.flags&128)!==0,yt;if((yt=K)||(yt=f!==null&&f.memoizedState===null?!1:(Ta.current&2)!==0),yt&&($=!0,p.flags&=-129),yt=(p.flags&32)!==0,p.flags&=-33,f===null){if(ai){if($?Lh(p):cl(),(f=bi)?(f=qs(f,co),f=f!==null&&f.data!=="&"?f:null,f!==null&&(p.memoizedState={dehydrated:f,treeContext:Zt!==null?{id:_e,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},_=gc(f),_.return=p,p.child=_,Li=p,bi=null)):f=null,f===null)throw Qc(p);return gl(f)?p.lanes=32:p.lanes=536870912,null}var Mt=P.children;return P=P.fallback,$?(cl(),$=p.mode,Mt=Hm({mode:"hidden",children:Mt},$),P=Kc(P,$,_,null),Mt.return=p,P.return=p,Mt.sibling=P,p.child=Mt,P=p.child,P.memoizedState=Bm(_),P.childLanes=kc(f,yt,_),p.memoizedState=Fm,np(null,P)):(Lh(p),Xu(p,Mt))}var Wt=f.memoizedState;if(Wt!==null&&(Mt=Wt.dehydrated,Mt!==null)){if(K)p.flags&256?(Lh(p),p.flags&=-257,p=rp(f,p,_)):p.memoizedState!==null?(cl(),p.child=f.child,p.flags|=128,p=null):(cl(),Mt=P.fallback,$=p.mode,P=Hm({mode:"visible",children:P.children},$),Mt=Kc(Mt,$,_,null),Mt.flags|=2,P.return=p,Mt.return=p,P.sibling=Mt,p.child=P,vc(p,f.child,null,_),P=p.child,P.memoizedState=Bm(_),P.childLanes=kc(f,yt,_),p.memoizedState=Fm,p=np(null,P));else if(Lh(p),gl(Mt)){if(yt=Mt.nextSibling&&Mt.nextSibling.dataset,yt)var se=yt.dgst;yt=se,P=Error(i(419)),P.stack="",P.digest=yt,tu({value:P,source:null,stack:null}),p=rp(f,p,_)}else if(ta||Nf(f,p,_,!1),yt=(_&f.childLanes)!==0,ta||yt){if(yt=jr,yt!==null&&(P=ze(yt,_),P!==0&&P!==Wt.retryLane))throw Wt.retryLane=P,lo(f,P),mo(yt,f,P),Ro;fl(Mt)||yp(),p=rp(f,p,_)}else fl(Mt)?(p.flags|=192,p.child=f.child,p=null):(f=Wt.treeContext,bi=Ks(Mt.nextSibling),Li=p,ai=!0,Zc=null,co=!1,f!==null&&Qa(p,f),p=Xu(p,P.children),p.flags|=4096);return p}return $?(cl(),Mt=P.fallback,$=p.mode,Wt=f.child,se=Wt.sibling,P=Nr(Wt,{mode:"hidden",children:P.children}),P.subtreeFlags=Wt.subtreeFlags&65011712,se!==null?Mt=Nr(se,Mt):(Mt=Kc(Mt,$,_,null),Mt.flags|=2),Mt.return=p,P.return=p,P.sibling=Mt,p.child=P,np(null,P),P=p.child,Mt=f.child.memoizedState,Mt===null?Mt=Bm(_):($=Mt.cachePool,$!==null?(Wt=Wa._currentValue,$=$.parent!==Wt?{parent:Wt,pool:Wt}:$):$=c0(),Mt={baseLanes:Mt.baseLanes|_,cachePool:$}),P.memoizedState=Mt,P.childLanes=kc(f,yt,_),p.memoizedState=Fm,np(f.child,P)):(Lh(p),_=f.child,f=_.sibling,_=Nr(_,{mode:"visible",children:P.children}),_.return=p,_.sibling=null,f!==null&&(yt=p.deletions,yt===null?(p.deletions=[f],p.flags|=16):yt.push(f)),p.child=_,p.memoizedState=null,_)}function Xu(f,p){return p=Hm({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function Hm(f,p){return f=Ha(22,f,null,p),f.lanes=0,f}function rp(f,p,_){return vc(p,f.child,null,_),f=Xu(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function _0(f,p,_){f.lanes|=p;var P=f.alternate;P!==null&&(P.lanes|=p),Fu(f.return,p,_)}function Gm(f,p,_,P,$,K){var yt=f.memoizedState;yt===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:P,tail:_,tailMode:$,treeForkCount:K}:(yt.isBackwards=p,yt.rendering=null,yt.renderingStartTime=0,yt.last=P,yt.tail=_,yt.tailMode=$,yt.treeForkCount=K)}function Fh(f,p,_){var P=p.pendingProps,$=P.revealOrder,K=P.tail;P=P.children;var yt=Ta.current,Mt=(yt&2)!==0;if(Mt?(yt=yt&1|2,p.flags|=128):yt&=1,St(Ta,yt),Ti(f,p,P,_),P=ai?Ct:0,!Mt&&f!==null&&(f.flags&128)!==0)t:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&_0(f,_,p);else if(f.tag===19)_0(f,_,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break t;for(;f.sibling===null;){if(f.return===null||f.return===p)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}switch($){case"forwards":for(_=p.child,$=null;_!==null;)f=_.alternate,f!==null&&Sm(f)===null&&($=_),_=_.sibling;_=$,_===null?($=p.child,p.child=null):($=_.sibling,_.sibling=null),Gm(p,!1,$,_,K,P);break;case"backwards":case"unstable_legacy-backwards":for(_=null,$=p.child,p.child=null;$!==null;){if(f=$.alternate,f!==null&&Sm(f)===null){p.child=$;break}f=$.sibling,$.sibling=_,_=$,$=f}Gm(p,!0,_,null,K,P);break;case"together":Gm(p,!1,null,null,void 0,P);break;default:p.memoizedState=null}return p.child}function Ul(f,p,_){if(f!==null&&(p.dependencies=f.dependencies),Yh|=p.lanes,(_&p.childLanes)===0)if(f!==null){if(Nf(f,p,_,!1),(_&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(i(153));if(p.child!==null){for(f=p.child,_=Nr(f,f.pendingProps),p.child=_,_.return=p;f.sibling!==null;)f=f.sibling,_=_.sibling=Nr(f,f.pendingProps),_.return=p;_.sibling=null}return p.child}function Bh(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&mm(f)))}function S0(f,p,_){switch(p.tag){case 3:Yt(p,p.stateNode.containerInfo),Nh(p,Wa,f.memoizedState.cache),Tt();break;case 27:case 5:ee(p);break;case 4:Yt(p,p.stateNode.containerInfo);break;case 10:Nh(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,Eo(p),null;break;case 13:var P=p.memoizedState;if(P!==null)return P.dehydrated!==null?(Lh(p),p.flags|=128,null):(_&p.child.childLanes)!==0?Ts(f,p,_):(Lh(p),f=Ul(f,p,_),f!==null?f.sibling:null);Lh(p);break;case 19:var $=(f.flags&128)!==0;if(P=(_&p.childLanes)!==0,P||(Nf(f,p,_,!1),P=(_&p.childLanes)!==0),$){if(P)return Fh(f,p,_);p.flags|=128}if($=p.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),St(Ta,Ta.current),P)break;return null;case 22:return p.lanes=0,_c(f,p,_,p.pendingProps);case 24:Nh(p,Wa,f.memoizedState.cache)}return Ul(f,p,_)}function k0(f,p,_){if(f!==null)if(f.memoizedProps!==p.pendingProps)ta=!0;else{if(!Bh(f,_)&&(p.flags&128)===0)return ta=!1,S0(f,p,_);ta=(f.flags&131072)!==0}else ta=!1,ai&&(p.flags&1048576)!==0&&Yn(p,Ct,p.index);switch(p.lanes=0,p.tag){case 16:t:{var P=p.pendingProps;if(f=mc(p.elementType),p.type=f,typeof f=="function")Po(f)?(P=Cs(f,P),p.tag=1,p=ip(null,p,f,P,_)):(p.tag=0,p=Ud(null,p,f,P,_));else{if(f!=null){var $=f.$$typeof;if($===G){p.tag=11,p=_n(null,p,f,P,_);break t}else if($===H){p.tag=14,p=Hf(null,p,f,P,_);break t}}throw p=lt(f)||f,Error(i(306,p,""))}}return p;case 0:return Ud(f,p,p.type,p.pendingProps,_);case 1:return P=p.type,$=Cs(P,p.pendingProps),ip(f,p,P,$,_);case 3:t:{if(Yt(p,p.stateNode.containerInfo),f===null)throw Error(i(387));P=p.pendingProps;var K=p.memoizedState;$=K.element,Gg(f,p),Df(p,P,null,_);var yt=p.memoizedState;if(P=yt.cache,Nh(p,Wa,P),P!==K.cache&&pm(p,[Wa],_,!0),Od(),P=yt.element,K.isDehydrated)if(K={element:P,isDehydrated:!1,cache:yt.cache},p.updateQueue.baseState=K,p.memoizedState=K,p.flags&256){p=w0(f,p,P,_);break t}else if(P!==$){$=M(Error(i(424)),p),tu($),p=w0(f,p,P,_);break t}else{switch(f=p.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(bi=Ks(f.firstChild),Li=p,ai=!0,Zc=null,co=!0,_=xm(p,null,P,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(Tt(),P===$){p=Ul(f,p,_);break t}Ti(f,p,P,_)}p=p.child}return p;case 26:return Sc(f,p),f===null?(_=IS(p.type,null,p.pendingProps,null))?p.memoizedState=_:ai||(_=p.type,f=p.pendingProps,P=Be(Nt.current).createElement(_),P[Hn]=p,P[yi]=f,ye(P,_,f),vi(P),p.stateNode=P):p.memoizedState=IS(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return ee(p),f===null&&ai&&(P=p.stateNode=OS(p.type,p.pendingProps,Nt.current),Li=p,co=!0,$=bi,Fe(p.type)?(pl=$,bi=Ks(P.firstChild)):bi=$),Ti(f,p,p.pendingProps.children,_),Sc(f,p),f===null&&(p.flags|=4194304),p.child;case 5:return f===null&&ai&&(($=P=bi)&&(P=qh(P,p.type,p.pendingProps,co),P!==null?(p.stateNode=P,Li=p,bi=Ks(P.firstChild),co=!1,$=!0):$=!1),$||Qc(p)),ee(p),$=p.type,K=p.pendingProps,yt=f!==null?f.memoizedProps:null,P=K.children,In($,K)?P=null:yt!==null&&In($,yt)&&(p.flags|=32),p.memoizedState!==null&&($=Hr(f,p,Am,null,null,_),gy._currentValue=$),Sc(f,p),Ti(f,p,P,_),p.child;case 6:return f===null&&ai&&((f=_=bi)&&(_=si(_,p.pendingProps,co),_!==null?(p.stateNode=_,Li=p,bi=null,f=!0):f=!1),f||Qc(p)),null;case 13:return Ts(f,p,_);case 4:return Yt(p,p.stateNode.containerInfo),P=p.pendingProps,f===null?p.child=vc(p,null,P,_):Ti(f,p,P,_),p.child;case 11:return _n(f,p,p.type,p.pendingProps,_);case 7:return Ti(f,p,p.pendingProps,_),p.child;case 8:return Ti(f,p,p.pendingProps.children,_),p.child;case 12:return Ti(f,p,p.pendingProps.children,_),p.child;case 10:return P=p.pendingProps,Nh(p,p.type,P.value),Ti(f,p,P.children,_),p.child;case 9:return $=p.type._context,P=p.pendingProps.children,eu(p),$=ks($),P=P($),p.flags|=1,Ti(f,p,P,_),p.child;case 14:return Hf(f,p,p.type,p.pendingProps,_);case 15:return ep(f,p,p.type,p.pendingProps,_);case 19:return Fh(f,p,_);case 31:return D1(f,p,_);case 22:return _c(f,p,_,p.pendingProps);case 24:return eu(p),P=ks(Wa),f===null?($=ov(),$===null&&($=jr,K=pc(),$.pooledCache=K,K.refCount++,K!==null&&($.pooledCacheLanes|=_),$=K),p.memoizedState={parent:P,cache:$},ru(p),Nh(p,Wa,$)):((f.lanes&_)!==0&&(Gg(f,p),Df(p,null,null,_),Od()),$=f.memoizedState,K=p.memoizedState,$.parent!==P?($={parent:P,cache:P},p.memoizedState=$,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=$),Nh(p,Wa,P)):(P=K.cache,Nh(p,Wa,P),P!==$.cache&&pm(p,[Wa],_,!0))),Ti(f,p,p.pendingProps.children,_),p.child;case 29:throw p.pendingProps}throw Error(i(156,p.tag))}function qu(f){f.flags|=4}function Wm(f,p,_,P,$){if((p=(f.mode&32)!==0)&&(p=!1),p){if(f.flags|=16777216,($&335544128)===$)if(f.stateNode.complete)f.flags|=8192;else if(mp())f.flags|=8192;else throw iu=Hg,ym}else f.flags&=-16777217}function Yd(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!GS(p))if(mp())f.flags|=8192;else throw iu=Hg,ym}function Gf(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?Vn():536870912,f.lanes|=p,Xd|=p)}function ap(f,p){if(!ai)switch(f.tailMode){case"hidden":p=f.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var P=null;_!==null;)_.alternate!==null&&(P=_),_=_.sibling;P===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:P.sibling=null}}function Er(f){var p=f.alternate!==null&&f.alternate.child===f.child,_=0,P=0;if(p)for(var $=f.child;$!==null;)_|=$.lanes|$.childLanes,P|=$.subtreeFlags&65011712,P|=$.flags&65011712,$.return=f,$=$.sibling;else for($=f.child;$!==null;)_|=$.lanes|$.childLanes,P|=$.subtreeFlags,P|=$.flags,$.return=f,$=$.sibling;return f.subtreeFlags|=P,f.childLanes=_,p}function Um(f,p,_){var P=p.pendingProps;switch(rr(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(p),null;case 1:return Er(p),null;case 3:return _=p.stateNode,P=null,f!==null&&(P=f.memoizedState.cache),p.memoizedState.cache!==P&&(p.flags|=2048),zu(Wa),Rt(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(Rl(p)?qu(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Jc())),Er(p),null;case 26:var $=p.type,K=p.memoizedState;return f===null?(qu(p),K!==null?(Er(p),Yd(p,K)):(Er(p),Wm(p,$,null,P,_))):K?K!==f.memoizedState?(qu(p),Er(p),Yd(p,K)):(Er(p),p.flags&=-16777217):(f=f.memoizedProps,f!==P&&qu(p),Er(p),Wm(p,$,f,P,_)),null;case 27:if(fe(p),_=Nt.current,$=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==P&&qu(p);else{if(!P){if(p.stateNode===null)throw Error(i(166));return Er(p),null}f=Pt.current,Rl(p)?Mh(p):(f=OS($,P,_),p.stateNode=f,qu(p))}return Er(p),null;case 5:if(fe(p),$=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==P&&qu(p);else{if(!P){if(p.stateNode===null)throw Error(i(166));return Er(p),null}if(K=Pt.current,Rl(p))Mh(p);else{var yt=Be(Nt.current);switch(K){case 1:K=yt.createElementNS("http://www.w3.org/2000/svg",$);break;case 2:K=yt.createElementNS("http://www.w3.org/1998/Math/MathML",$);break;default:switch($){case"svg":K=yt.createElementNS("http://www.w3.org/2000/svg",$);break;case"math":K=yt.createElementNS("http://www.w3.org/1998/Math/MathML",$);break;case"script":K=yt.createElement("div"),K.innerHTML="<script><\/script>",K=K.removeChild(K.firstChild);break;case"select":K=typeof P.is=="string"?yt.createElement("select",{is:P.is}):yt.createElement("select"),P.multiple?K.multiple=!0:P.size&&(K.size=P.size);break;default:K=typeof P.is=="string"?yt.createElement($,{is:P.is}):yt.createElement($)}}K[Hn]=p,K[yi]=P;t:for(yt=p.child;yt!==null;){if(yt.tag===5||yt.tag===6)K.appendChild(yt.stateNode);else if(yt.tag!==4&&yt.tag!==27&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===p)break t;for(;yt.sibling===null;){if(yt.return===null||yt.return===p)break t;yt=yt.return}yt.sibling.return=yt.return,yt=yt.sibling}p.stateNode=K;t:switch(ye(K,$,P),$){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break t;case"img":P=!0;break t;default:P=!1}P&&qu(p)}}return Er(p),Wm(p,p.type,f===null?null:f.memoizedProps,p.pendingProps,_),null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==P&&qu(p);else{if(typeof P!="string"&&p.stateNode===null)throw Error(i(166));if(f=Nt.current,Rl(p)){if(f=p.stateNode,_=p.memoizedProps,P=null,$=Li,$!==null)switch($.tag){case 27:case 5:P=$.memoizedProps}f[Hn]=p,f=!!(f.nodeValue===_||P!==null&&P.suppressHydrationWarning===!0||Vt(f.nodeValue,_)),f||Qc(p,!0)}else f=Be(f).createTextNode(P),f[Hn]=p,p.stateNode=f}return Er(p),null;case 31:if(_=p.memoizedState,f===null||f.memoizedState!==null){if(P=Rl(p),_!==null){if(f===null){if(!P)throw Error(i(318));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(557));f[Hn]=p}else Tt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Er(p),f=!1}else _=Jc(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=_),f=!0;if(!f)return p.flags&256?(Ki(p),p):(Ki(p),null);if((p.flags&128)!==0)throw Error(i(558))}return Er(p),null;case 13:if(P=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if($=Rl(p),P!==null&&P.dehydrated!==null){if(f===null){if(!$)throw Error(i(318));if($=p.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(i(317));$[Hn]=p}else Tt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Er(p),$=!1}else $=Jc(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=$),$=!0;if(!$)return p.flags&256?(Ki(p),p):(Ki(p),null)}return Ki(p),(p.flags&128)!==0?(p.lanes=_,p):(_=P!==null,f=f!==null&&f.memoizedState!==null,_&&(P=p.child,$=null,P.alternate!==null&&P.alternate.memoizedState!==null&&P.alternate.memoizedState.cachePool!==null&&($=P.alternate.memoizedState.cachePool.pool),K=null,P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(K=P.memoizedState.cachePool.pool),K!==$&&(P.flags|=2048)),_!==f&&_&&(p.child.flags|=8192),Gf(p,p.updateQueue),Er(p),null);case 4:return Rt(),f===null&&gt(p.stateNode.containerInfo),Er(p),null;case 10:return zu(p.type),Er(p),null;case 19:if(vt(Ta),P=p.memoizedState,P===null)return Er(p),null;if($=(p.flags&128)!==0,K=P.rendering,K===null)if($)ap(P,!1);else{if(ya!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(K=Sm(f),K!==null){for(p.flags|=128,ap(P,!1),f=K.updateQueue,p.updateQueue=f,Gf(p,f),p.subtreeFlags=0,f=_,_=p.child;_!==null;)qi(_,f),_=_.sibling;return St(Ta,Ta.current&1|2),ai&&rn(p,P.treeForkCount),p.child}f=f.sibling}P.tail!==null&&dn()>qd&&(p.flags|=128,$=!0,ap(P,!1),p.lanes=4194304)}else{if(!$)if(f=Sm(K),f!==null){if(p.flags|=128,$=!0,f=f.updateQueue,p.updateQueue=f,Gf(p,f),ap(P,!0),P.tail===null&&P.tailMode==="hidden"&&!K.alternate&&!ai)return Er(p),null}else 2*dn()-P.renderingStartTime>qd&&_!==536870912&&(p.flags|=128,$=!0,ap(P,!1),p.lanes=4194304);P.isBackwards?(K.sibling=p.child,p.child=K):(f=P.last,f!==null?f.sibling=K:p.child=K,P.last=K)}return P.tail!==null?(f=P.tail,P.rendering=f,P.tail=f.sibling,P.renderingStartTime=dn(),f.sibling=null,_=Ta.current,St(Ta,$?_&1|2:_&1),ai&&rn(p,P.treeForkCount),f):(Er(p),null);case 22:case 23:return Ki(p),Oh(),P=p.memoizedState!==null,f!==null?f.memoizedState!==null!==P&&(p.flags|=8192):P&&(p.flags|=8192),P?(_&536870912)!==0&&(p.flags&128)===0&&(Er(p),p.subtreeFlags&6&&(p.flags|=8192)):Er(p),_=p.updateQueue,_!==null&&Gf(p,_.retryQueue),_=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),P=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(P=p.memoizedState.cachePool.pool),P!==_&&(p.flags|=2048),f!==null&&vt(Bu),null;case 24:return _=null,f!==null&&(_=f.memoizedState.cache),p.memoizedState.cache!==_&&(p.flags|=2048),zu(Wa),Er(p),null;case 25:return null;case 30:return null}throw Error(i(156,p.tag))}function Cc(f,p){switch(rr(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return zu(Wa),Rt(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return fe(p),null;case 31:if(p.memoizedState!==null){if(Ki(p),p.alternate===null)throw Error(i(340));Tt()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 13:if(Ki(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(i(340));Tt()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return vt(Ta),null;case 4:return Rt(),null;case 10:return zu(p.type),null;case 22:case 23:return Ki(p),Oh(),f!==null&&vt(Bu),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return zu(Wa),null;case 25:return null;default:return null}}function Wf(f,p){switch(rr(p),p.tag){case 3:zu(Wa),Rt();break;case 26:case 27:case 5:fe(p);break;case 4:Rt();break;case 31:p.memoizedState!==null&&Ki(p);break;case 13:Ki(p);break;case 19:vt(Ta);break;case 10:zu(p.type);break;case 22:case 23:Ki(p),Oh(),f!==null&&vt(Bu);break;case 24:zu(Wa)}}function Uf(f,p){try{var _=p.updateQueue,P=_!==null?_.lastEffect:null;if(P!==null){var $=P.next;_=$;do{if((_.tag&f)===f){P=void 0;var K=_.create,yt=_.inst;P=K(),yt.destroy=P}_=_.next}while(_!==$)}}catch(Mt){hr(p,p.return,Mt)}}function Ku(f,p,_){try{var P=p.updateQueue,$=P!==null?P.lastEffect:null;if($!==null){var K=$.next;P=K;do{if((P.tag&f)===f){var yt=P.inst,Mt=yt.destroy;if(Mt!==void 0){yt.destroy=void 0,$=p;var Wt=_,se=Mt;try{se()}catch(we){hr($,Wt,we)}}}P=P.next}while(P!==K)}}catch(we){hr(p,p.return,we)}}function sp(f){var p=f.updateQueue;if(p!==null){var _=f.stateNode;try{wm(p,_)}catch(P){hr(f,f.return,P)}}}function wv(f,p,_){_.props=Cs(f.type,f.memoizedProps),_.state=f.memoizedState;try{_.componentWillUnmount()}catch(P){hr(f,p,P)}}function Io(f,p){try{var _=f.ref;if(_!==null){switch(f.tag){case 26:case 27:case 5:var P=f.stateNode;break;case 30:P=f.stateNode;break;default:P=f.stateNode}typeof _=="function"?f.refCleanup=_(P):_.current=P}}catch($){hr(f,p,$)}}function $s(f,p){var _=f.ref,P=f.refCleanup;if(_!==null)if(typeof P=="function")try{P()}catch($){hr(f,p,$)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch($){hr(f,p,$)}else _.current=null}function C0(f){var p=f.type,_=f.memoizedProps,P=f.stateNode;try{t:switch(p){case"button":case"input":case"select":case"textarea":_.autoFocus&&P.focus();break t;case"img":_.src?P.src=_.src:_.srcSet&&(P.srcset=_.srcSet)}}catch($){hr(f,f.return,$)}}function Ym(f,p,_){try{var P=f.stateNode;me(P,f.type,_,p),P[yi]=p}catch($){hr(f,f.return,$)}}function A0(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Fe(f.type)||f.tag===4}function _v(f){t:for(;;){for(;f.sibling===null;){if(f.return===null||A0(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Fe(f.type)||f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Sv(f,p,_){var P=f.tag;if(P===5||P===6)f=f.stateNode,p?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(f,p):(p=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,p.appendChild(f),_=_._reactRootContainer,_!=null||p.onclick!==null||(p.onclick=zr));else if(P!==4&&(P===27&&Fe(f.type)&&(_=f.stateNode,p=null),f=f.child,f!==null))for(Sv(f,p,_),f=f.sibling;f!==null;)Sv(f,p,_),f=f.sibling}function op(f,p,_){var P=f.tag;if(P===5||P===6)f=f.stateNode,p?_.insertBefore(f,p):_.appendChild(f);else if(P!==4&&(P===27&&Fe(f.type)&&(_=f.stateNode),f=f.child,f!==null))for(op(f,p,_),f=f.sibling;f!==null;)op(f,p,_),f=f.sibling}function T0(f){var p=f.stateNode,_=f.memoizedProps;try{for(var P=f.type,$=p.attributes;$.length;)p.removeAttributeNode($[0]);ye(p,P,_),p[Hn]=f,p[yi]=_}catch(K){hr(f,f.return,K)}}var uu=!1,Ma=!1,kv=!1,M0=typeof WeakSet=="function"?WeakSet:Set,gs=null;function $m(f,p){if(f=f.containerInfo,en=X0,f=Pd(f),$c(f)){if("selectionStart"in f)var _={start:f.selectionStart,end:f.selectionEnd};else t:{_=(_=f.ownerDocument)&&_.defaultView||window;var P=_.getSelection&&_.getSelection();if(P&&P.rangeCount!==0){_=P.anchorNode;var $=P.anchorOffset,K=P.focusNode;P=P.focusOffset;try{_.nodeType,K.nodeType}catch{_=null;break t}var yt=0,Mt=-1,Wt=-1,se=0,we=0,ke=f,le=null;e:for(;;){for(var de;ke!==_||$!==0&&ke.nodeType!==3||(Mt=yt+$),ke!==K||P!==0&&ke.nodeType!==3||(Wt=yt+P),ke.nodeType===3&&(yt+=ke.nodeValue.length),(de=ke.firstChild)!==null;)le=ke,ke=de;for(;;){if(ke===f)break e;if(le===_&&++se===$&&(Mt=yt),le===K&&++we===P&&(Wt=yt),(de=ke.nextSibling)!==null)break;ke=le,le=ke.parentNode}ke=de}_=Mt===-1||Wt===-1?null:{start:Mt,end:Wt}}else _=null}_=_||{start:0,end:0}}else _=null;for(De={focusedElem:f,selectionRange:_},X0=!1,gs=p;gs!==null;)if(p=gs,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,gs=f;else for(;gs!==null;){switch(p=gs,K=p.alternate,f=p.flags,p.tag){case 0:if((f&4)!==0&&(f=p.updateQueue,f=f!==null?f.events:null,f!==null))for(_=0;_<f.length;_++)$=f[_],$.ref.impl=$.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&K!==null){f=void 0,_=p,$=K.memoizedProps,K=K.memoizedState,P=_.stateNode;try{var an=Cs(_.type,$);f=P.getSnapshotBeforeUpdate(an,K),P.__reactInternalSnapshotBeforeUpdate=f}catch(Nn){hr(_,_.return,Nn)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,_=f.nodeType,_===9)Ps(f);else if(_===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":Ps(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(i(163))}if(f=p.sibling,f!==null){f.return=p.return,gs=f;break}gs=p.return}}function lp(f,p,_){var P=_.flags;switch(_.tag){case 0:case 11:case 15:Yl(f,_),P&4&&Uf(5,_);break;case 1:if(Yl(f,_),P&4)if(f=_.stateNode,p===null)try{f.componentDidMount()}catch(yt){hr(_,_.return,yt)}else{var $=Cs(_.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate($,p,f.__reactInternalSnapshotBeforeUpdate)}catch(yt){hr(_,_.return,yt)}}P&64&&sp(_),P&512&&Io(_,_.return);break;case 3:if(Yl(f,_),P&64&&(f=_.updateQueue,f!==null)){if(p=null,_.child!==null)switch(_.child.tag){case 27:case 5:p=_.child.stateNode;break;case 1:p=_.child.stateNode}try{wm(f,p)}catch(yt){hr(_,_.return,yt)}}break;case 27:p===null&&P&4&&T0(_);case 26:case 5:Yl(f,_),p===null&&P&4&&C0(_),P&512&&Io(_,_.return);break;case 12:Yl(f,_);break;case 31:Yl(f,_),P&4&&Av(f,_);break;case 13:Yl(f,_),P&4&&Xm(f,_),P&64&&(f=_.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(_=oy.bind(null,_),Zd(f,_))));break;case 22:if(P=_.memoizedState!==null||uu,!P){p=p!==null&&p.memoizedState!==null||Ma,$=uu;var K=Ma;uu=P,(Ma=p)&&!K?Mc(f,_,(_.subtreeFlags&8772)!==0):Yl(f,_),uu=$,Ma=K}break;case 30:break;default:Yl(f,_)}}function Vm(f){var p=f.alternate;p!==null&&(f.alternate=null,Vm(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&xs(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var ea=null,Ms=!1;function Ac(f,p,_){for(_=_.child;_!==null;)Cv(f,p,_),_=_.sibling}function Cv(f,p,_){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(un,_)}catch{}switch(_.tag){case 26:Ma||$s(_,p),Ac(f,p,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Ma||$s(_,p);var P=ea,$=Ms;Fe(_.type)&&(ea=_.stateNode,Ms=!1),Ac(f,p,_),Uv(_.stateNode),ea=P,Ms=$;break;case 5:Ma||$s(_,p);case 6:if(P=ea,$=Ms,ea=null,Ac(f,p,_),ea=P,Ms=$,ea!==null)if(Ms)try{(ea.nodeType===9?ea.body:ea.nodeName==="HTML"?ea.ownerDocument.body:ea).removeChild(_.stateNode)}catch(K){hr(_,p,K)}else try{ea.removeChild(_.stateNode)}catch(K){hr(_,p,K)}break;case 18:ea!==null&&(Ms?(f=ea,Wr(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,_.stateNode),my(f)):Wr(ea,_.stateNode));break;case 4:P=ea,$=Ms,ea=_.stateNode.containerInfo,Ms=!0,Ac(f,p,_),ea=P,Ms=$;break;case 0:case 11:case 14:case 15:Ku(2,_,p),Ma||Ku(4,_,p),Ac(f,p,_);break;case 1:Ma||($s(_,p),P=_.stateNode,typeof P.componentWillUnmount=="function"&&wv(_,p,P)),Ac(f,p,_);break;case 21:Ac(f,p,_);break;case 22:Ma=(P=Ma)||_.memoizedState!==null,Ac(f,p,_),Ma=P;break;default:Ac(f,p,_)}}function Av(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{my(f)}catch(_){hr(p,p.return,_)}}}function Xm(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{my(f)}catch(_){hr(p,p.return,_)}}function O1(f){switch(f.tag){case 31:case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new M0),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new M0),p;default:throw Error(i(435,f.tag))}}function qm(f,p){var _=O1(f);p.forEach(function(P){if(!_.has(P)){_.add(P);var $=Hv.bind(null,f,P);P.then($,$)}})}function Vs(f,p){var _=p.deletions;if(_!==null)for(var P=0;P<_.length;P++){var $=_[P],K=f,yt=p,Mt=yt;t:for(;Mt!==null;){switch(Mt.tag){case 27:if(Fe(Mt.type)){ea=Mt.stateNode,Ms=!1;break t}break;case 5:ea=Mt.stateNode,Ms=!1;break t;case 3:case 4:ea=Mt.stateNode.containerInfo,Ms=!0;break t}Mt=Mt.return}if(ea===null)throw Error(i(160));Cv(K,yt,$),ea=null,Ms=!1,K=$.alternate,K!==null&&(K.return=null),$.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)N0(p,f),p=p.sibling}var Tc=null;function N0(f,p){var _=f.alternate,P=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Vs(p,f),na(f),P&4&&(Ku(3,f,f.return),Uf(3,f),Ku(5,f,f.return));break;case 1:Vs(p,f),na(f),P&512&&(Ma||_===null||$s(_,_.return)),P&64&&uu&&(f=f.updateQueue,f!==null&&(P=f.callbacks,P!==null&&(_=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=_===null?P:_.concat(P))));break;case 26:var $=Tc;if(Vs(p,f),na(f),P&512&&(Ma||_===null||$s(_,_.return)),P&4){var K=_!==null?_.memoizedState:null;if(P=f.memoizedState,_===null)if(P===null)if(f.stateNode===null){t:{P=f.type,_=f.memoizedProps,$=$.ownerDocument||$;e:switch(P){case"title":K=$.getElementsByTagName("title")[0],(!K||K[vr]||K[Hn]||K.namespaceURI==="http://www.w3.org/2000/svg"||K.hasAttribute("itemprop"))&&(K=$.createElement(P),$.head.insertBefore(K,$.querySelector("head > title"))),ye(K,P,_),K[Hn]=f,vi(K),P=K;break t;case"link":var yt=BS("link","href",$).get(P+(_.href||""));if(yt){for(var Mt=0;Mt<yt.length;Mt++)if(K=yt[Mt],K.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&K.getAttribute("rel")===(_.rel==null?null:_.rel)&&K.getAttribute("title")===(_.title==null?null:_.title)&&K.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){yt.splice(Mt,1);break e}}K=$.createElement(P),ye(K,P,_),$.head.appendChild(K);break;case"meta":if(yt=BS("meta","content",$).get(P+(_.content||""))){for(Mt=0;Mt<yt.length;Mt++)if(K=yt[Mt],K.getAttribute("content")===(_.content==null?null:""+_.content)&&K.getAttribute("name")===(_.name==null?null:_.name)&&K.getAttribute("property")===(_.property==null?null:_.property)&&K.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&K.getAttribute("charset")===(_.charSet==null?null:_.charSet)){yt.splice(Mt,1);break e}}K=$.createElement(P),ye(K,P,_),$.head.appendChild(K);break;default:throw Error(i(468,P))}K[Hn]=f,vi(K),P=K}f.stateNode=P}else HS($,f.type,f.stateNode);else f.stateNode=FS($,P,f.memoizedProps);else K!==P?(K===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):K.count--,P===null?HS($,f.type,f.stateNode):FS($,P,f.memoizedProps)):P===null&&f.stateNode!==null&&Ym(f,f.memoizedProps,_.memoizedProps)}break;case 27:Vs(p,f),na(f),P&512&&(Ma||_===null||$s(_,_.return)),_!==null&&P&4&&Ym(f,f.memoizedProps,_.memoizedProps);break;case 5:if(Vs(p,f),na(f),P&512&&(Ma||_===null||$s(_,_.return)),f.flags&32){$=f.stateNode;try{Ft($,"")}catch(an){hr(f,f.return,an)}}P&4&&f.stateNode!=null&&($=f.memoizedProps,Ym(f,$,_!==null?_.memoizedProps:$)),P&1024&&(kv=!0);break;case 6:if(Vs(p,f),na(f),P&4){if(f.stateNode===null)throw Error(i(162));P=f.memoizedProps,_=f.stateNode;try{_.nodeValue=P}catch(an){hr(f,f.return,an)}}break;case 3:if(Yv=null,$=Tc,Tc=G0(p.containerInfo),Vs(p,f),Tc=$,na(f),P&4&&_!==null&&_.memoizedState.isDehydrated)try{my(p.containerInfo)}catch(an){hr(f,f.return,an)}kv&&(kv=!1,cp(f));break;case 4:P=Tc,Tc=G0(f.stateNode.containerInfo),Vs(p,f),na(f),Tc=P;break;case 12:Vs(p,f),na(f);break;case 31:Vs(p,f),na(f),P&4&&(P=f.updateQueue,P!==null&&(f.updateQueue=null,qm(f,P)));break;case 13:Vs(p,f),na(f),f.child.flags&8192&&f.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&($h=dn()),P&4&&(P=f.updateQueue,P!==null&&(f.updateQueue=null,qm(f,P)));break;case 22:$=f.memoizedState!==null;var Wt=_!==null&&_.memoizedState!==null,se=uu,we=Ma;if(uu=se||$,Ma=we||Wt,Vs(p,f),Ma=we,uu=se,na(f),P&8192)t:for(p=f.stateNode,p._visibility=$?p._visibility&-2:p._visibility|1,$&&(_===null||Wt||uu||Ma||Hh(f)),_=null,p=f;;){if(p.tag===5||p.tag===26){if(_===null){Wt=_=p;try{if(K=Wt.stateNode,$)yt=K.style,typeof yt.setProperty=="function"?yt.setProperty("display","none","important"):yt.display="none";else{Mt=Wt.stateNode;var ke=Wt.memoizedProps.style,le=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;Mt.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(an){hr(Wt,Wt.return,an)}}}else if(p.tag===6){if(_===null){Wt=p;try{Wt.stateNode.nodeValue=$?"":Wt.memoizedProps}catch(an){hr(Wt,Wt.return,an)}}}else if(p.tag===18){if(_===null){Wt=p;try{var de=Wt.stateNode;$?Dr(de,!0):Dr(Wt.stateNode,!1)}catch(an){hr(Wt,Wt.return,an)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break t;for(;p.sibling===null;){if(p.return===null||p.return===f)break t;_===p&&(_=null),p=p.return}_===p&&(_=null),p.sibling.return=p.return,p=p.sibling}P&4&&(P=f.updateQueue,P!==null&&(_=P.retryQueue,_!==null&&(P.retryQueue=null,qm(f,_))));break;case 19:Vs(p,f),na(f),P&4&&(P=f.updateQueue,P!==null&&(f.updateQueue=null,qm(f,P)));break;case 30:break;case 21:break;default:Vs(p,f),na(f)}}function na(f){var p=f.flags;if(p&2){try{for(var _,P=f.return;P!==null;){if(A0(P)){_=P;break}P=P.return}if(_==null)throw Error(i(160));switch(_.tag){case 27:var $=_.stateNode,K=_v(f);op(f,K,$);break;case 5:var yt=_.stateNode;_.flags&32&&(Ft(yt,""),_.flags&=-33);var Mt=_v(f);op(f,Mt,yt);break;case 3:case 4:var Wt=_.stateNode.containerInfo,se=_v(f);Sv(f,se,Wt);break;default:throw Error(i(161))}}catch(we){hr(f,f.return,we)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function cp(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;cp(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function Yl(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)lp(f,p.alternate,p),p=p.sibling}function Hh(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:Ku(4,p,p.return),Hh(p);break;case 1:$s(p,p.return);var _=p.stateNode;typeof _.componentWillUnmount=="function"&&wv(p,p.return,_),Hh(p);break;case 27:Uv(p.stateNode);case 26:case 5:$s(p,p.return),Hh(p);break;case 22:p.memoizedState===null&&Hh(p);break;case 30:Hh(p);break;default:Hh(p)}f=f.sibling}}function Mc(f,p,_){for(_=_&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var P=p.alternate,$=f,K=p,yt=K.flags;switch(K.tag){case 0:case 11:case 15:Mc($,K,_),Uf(4,K);break;case 1:if(Mc($,K,_),P=K,$=P.stateNode,typeof $.componentDidMount=="function")try{$.componentDidMount()}catch(se){hr(P,P.return,se)}if(P=K,$=P.updateQueue,$!==null){var Mt=P.stateNode;try{var Wt=$.shared.hiddenCallbacks;if(Wt!==null)for($.shared.hiddenCallbacks=null,$=0;$<Wt.length;$++)Aa(Wt[$],Mt)}catch(se){hr(P,P.return,se)}}_&&yt&64&&sp(K),Io(K,K.return);break;case 27:T0(K);case 26:case 5:Mc($,K,_),_&&P===null&&yt&4&&C0(K),Io(K,K.return);break;case 12:Mc($,K,_);break;case 31:Mc($,K,_),_&&yt&4&&Av($,K);break;case 13:Mc($,K,_),_&&yt&4&&Xm($,K);break;case 22:K.memoizedState===null&&Mc($,K,_),Io(K,K.return);break;case 30:break;default:Mc($,K,_)}p=p.sibling}}function Km(f,p){var _=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==_&&(f!=null&&f.refCount++,_!=null&&nu(_))}function Zm(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&nu(f))}function zo(f,p,_,P){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Qm(f,p,_,P),p=p.sibling}function Qm(f,p,_,P){var $=p.flags;switch(p.tag){case 0:case 11:case 15:zo(f,p,_,P),$&2048&&Uf(9,p);break;case 1:zo(f,p,_,P);break;case 3:zo(f,p,_,P),$&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&nu(f)));break;case 12:if($&2048){zo(f,p,_,P),f=p.stateNode;try{var K=p.memoizedProps,yt=K.id,Mt=K.onPostCommit;typeof Mt=="function"&&Mt(yt,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Wt){hr(p,p.return,Wt)}}else zo(f,p,_,P);break;case 31:zo(f,p,_,P);break;case 13:zo(f,p,_,P);break;case 23:break;case 22:K=p.stateNode,yt=p.alternate,p.memoizedState!==null?K._visibility&2?zo(f,p,_,P):up(f,p):K._visibility&2?zo(f,p,_,P):(K._visibility|=2,$l(f,p,_,P,(p.subtreeFlags&10256)!==0||!1)),$&2048&&Km(yt,p);break;case 24:zo(f,p,_,P),$&2048&&Zm(p.alternate,p);break;default:zo(f,p,_,P)}}function $l(f,p,_,P,$){for($=$&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var K=f,yt=p,Mt=_,Wt=P,se=yt.flags;switch(yt.tag){case 0:case 11:case 15:$l(K,yt,Mt,Wt,$),Uf(8,yt);break;case 23:break;case 22:var we=yt.stateNode;yt.memoizedState!==null?we._visibility&2?$l(K,yt,Mt,Wt,$):up(K,yt):(we._visibility|=2,$l(K,yt,Mt,Wt,$)),$&&se&2048&&Km(yt.alternate,yt);break;case 24:$l(K,yt,Mt,Wt,$),$&&se&2048&&Zm(yt.alternate,yt);break;default:$l(K,yt,Mt,Wt,$)}p=p.sibling}}function up(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var _=f,P=p,$=P.flags;switch(P.tag){case 22:up(_,P),$&2048&&Km(P.alternate,P);break;case 24:up(_,P),$&2048&&Zm(P.alternate,P);break;default:up(_,P)}p=p.sibling}}var Gh=8192;function Zu(f,p,_){if(f.subtreeFlags&Gh)for(f=f.child;f!==null;)P0(f,p,_),f=f.sibling}function P0(f,p,_){switch(f.tag){case 26:Zu(f,p,_),f.flags&Gh&&f.memoizedState!==null&&fy(_,Tc,f.memoizedState,f.memoizedProps);break;case 5:Zu(f,p,_);break;case 3:case 4:var P=Tc;Tc=G0(f.stateNode.containerInfo),Zu(f,p,_),Tc=P;break;case 22:f.memoizedState===null&&(P=f.alternate,P!==null&&P.memoizedState!==null?(P=Gh,Gh=16777216,Zu(f,p,_),Gh=P):Zu(f,p,_));break;default:Zu(f,p,_)}}function E0(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function Nc(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var _=0;_<p.length;_++){var P=p[_];gs=P,Mv(P,f)}E0(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Tv(f),f=f.sibling}function Tv(f){switch(f.tag){case 0:case 11:case 15:Nc(f),f.flags&2048&&Ku(9,f,f.return);break;case 3:Nc(f);break;case 12:Nc(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&2&&(f.return===null||f.return.tag!==13)?(p._visibility&=-3,Yf(f)):Nc(f);break;default:Nc(f)}}function Yf(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var _=0;_<p.length;_++){var P=p[_];gs=P,Mv(P,f)}E0(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:Ku(8,p,p.return),Yf(p);break;case 22:_=p.stateNode,_._visibility&2&&(_._visibility&=-3,Yf(p));break;default:Yf(p)}f=f.sibling}}function Mv(f,p){for(;gs!==null;){var _=gs;switch(_.tag){case 0:case 11:case 15:Ku(8,_,p);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var P=_.memoizedState.cachePool.pool;P!=null&&P.refCount++}break;case 24:nu(_.memoizedState.cache)}if(P=_.child,P!==null)P.return=_,gs=P;else t:for(_=f;gs!==null;){P=gs;var $=P.sibling,K=P.return;if(Vm(P),P===_){gs=null;break t}if($!==null){$.return=K,gs=$;break t}gs=K}}}var Wh={getCacheForType:function(f){var p=ks(Wa),_=p.data.get(f);return _===void 0&&(_=f(),p.data.set(f,_)),_},cacheSignal:function(){return ks(Wa).controller.signal}},hp=typeof WeakMap=="function"?WeakMap:Map,Ri=0,jr=null,ri=null,Mi=0,ur=0,Xs=null,Uh=!1,$d=!1,Nv=!1,Pc=0,ya=0,Yh=0,Vd=0,dp=0,hl=0,Xd=0,fp=null,Fo=null,Pv=!1,$h=0,Ev=0,qd=1/0,$f=null,Ec=null,es=0,Qu=null,Vf=null,hu=0,jv=0,Dv=null,j0=null,gp=0,Ov=null;function Bo(){return(Ri&2)!==0&&Mi!==0?Mi&-Mi:ct.T!==null?dl():Ui()}function D0(){if(hl===0)if((Mi&536870912)===0||ai){var f=_a;_a<<=1,(_a&3932160)===0&&(_a=262144),hl=f}else hl=536870912;return f=Us.current,f!==null&&(f.flags|=32),hl}function mo(f,p,_){(f===jr&&(ur===2||ur===9)||f.cancelPendingCommit!==null)&&(Xf(f,0),jc(f,Mi,hl,!1)),We(f,_),((Ri&2)===0||f!==jr)&&(f===jr&&((Ri&2)===0&&(Vd|=_),ya===4&&jc(f,Mi,hl,!1)),du(f))}function O0(f,p,_){if((Ri&6)!==0)throw Error(i(327));var P=!_&&(p&127)===0&&(p&f.expiredLanes)===0||ji(f,p),$=P?R1(f,p):ty(f,p,!0),K=P;do{if($===0){$d&&!P&&jc(f,p,0,!1);break}else{if(_=f.current.alternate,K&&!Lv(_)){$=ty(f,p,!1),K=!1;continue}if($===2){if(K=p,f.errorRecoveryDisabledLanes&K)var yt=0;else yt=f.pendingLanes&-536870913,yt=yt!==0?yt:yt&536870912?536870912:0;if(yt!==0){p=yt;t:{var Mt=f;$=fp;var Wt=Mt.current.memoizedState.isDehydrated;if(Wt&&(Xf(Mt,yt).flags|=256),yt=ty(Mt,yt,!1),yt!==2){if(Nv&&!Wt){Mt.errorRecoveryDisabledLanes|=K,Vd|=K,$=4;break t}K=Fo,Fo=$,K!==null&&(Fo===null?Fo=K:Fo.push.apply(Fo,K))}$=yt}if(K=!1,$!==2)continue}}if($===1){Xf(f,0),jc(f,p,0,!0);break}t:{switch(P=f,K=$,K){case 0:case 1:throw Error(i(345));case 4:if((p&4194048)!==p)break;case 6:jc(P,p,hl,!Uh);break t;case 2:Fo=null;break;case 3:case 5:break;default:throw Error(i(329))}if((p&62914560)===p&&($=$h+300-dn(),10<$)){if(jc(P,p,hl,!Uh),er(P,0,!0)!==0)break t;hu=p,P.timeoutHandle=Sn(L0.bind(null,P,_,Fo,$f,Pv,p,hl,Vd,Xd,Uh,K,"Throttled",-0,0),$);break t}L0(P,_,Fo,$f,Pv,p,hl,Vd,Xd,Uh,K,null,-0,0)}}break}while(!0);du(f)}function L0(f,p,_,P,$,K,yt,Mt,Wt,se,we,ke,le,de){if(f.timeoutHandle=-1,ke=p.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zr},P0(p,K,ke);var an=(K&62914560)===K?$h-dn():(K&4194048)===K?Ev-dn():0;if(an=GT(ke,an),an!==null){hu=K,f.cancelPendingCommit=an(zv.bind(null,f,p,K,_,P,$,yt,Mt,Wt,we,ke,null,le,de)),jc(f,K,yt,!se);return}}zv(f,p,K,_,P,$,yt,Mt,Wt)}function Lv(f){for(var p=f;;){var _=p.tag;if((_===0||_===11||_===15)&&p.flags&16384&&(_=p.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var P=0;P<_.length;P++){var $=_[P],K=$.getSnapshot;$=$.value;try{if(!Sr(K(),$))return!1}catch{return!1}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function jc(f,p,_,P){p&=~dp,p&=~Vd,f.suspendedLanes|=p,f.pingedLanes&=~p,P&&(f.warmLanes|=p),P=f.expirationTimes;for(var $=p;0<$;){var K=31-Bn($),yt=1<<K;P[K]=-1,$&=~yt}_!==0&&re(f,_,p)}function Jm(){return(Ri&6)===0?(wp(0),!1):!0}function pp(){if(ri!==null){if(ur===0)var f=ri.return;else f=ri,Ga=Rn=null,cv(f),Gu=null,uo=0,f=ri;for(;f!==null;)Wf(f.alternate,f),f=f.return;ri=null}}function Xf(f,p){var _=f.timeoutHandle;_!==-1&&(f.timeoutHandle=-1,Ii(_)),_=f.cancelPendingCommit,_!==null&&(f.cancelPendingCommit=null,_()),hu=0,pp(),jr=f,ri=_=Nr(f.current,null),Mi=p,ur=0,Xs=null,Uh=!1,$d=ji(f,p),Nv=!1,Xd=hl=dp=Vd=Yh=ya=0,Fo=fp=null,Pv=!1,(p&8)!==0&&(p|=p&32);var P=f.entangledLanes;if(P!==0)for(f=f.entanglements,P&=p;0<P;){var $=31-Bn(P),K=1<<$;p|=f[$],P&=~K}return Pc=p,Za(),_}function R0(f,p){Wn=null,ct.H=lu,p===jh||p===Dd?(p=h0(),ur=3):p===ym?(p=h0(),ur=4):ur=p===Ro?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Xs=p,ri===null&&(ya=1,tp(f,M(p,f.current)))}function mp(){var f=Us.current;return f===null?!0:(Mi&4194048)===Mi?Bl===null:(Mi&62914560)===Mi||(Mi&536870912)!==0?f===Bl:!1}function Rv(){var f=ct.H;return ct.H=lu,f===null?lu:f}function I0(){var f=ct.A;return ct.A=Wh,f}function yp(){ya=4,Uh||(Mi&4194048)!==Mi&&Us.current!==null||($d=!0),(Yh&134217727)===0&&(Vd&134217727)===0||jr===null||jc(jr,Mi,hl,!1)}function ty(f,p,_){var P=Ri;Ri|=2;var $=Rv(),K=I0();(jr!==f||Mi!==p)&&($f=null,Xf(f,p)),p=!1;var yt=ya;t:do try{if(ur!==0&&ri!==null){var Mt=ri,Wt=Xs;switch(ur){case 8:pp(),yt=6;break t;case 3:case 2:case 9:case 6:Us.current===null&&(p=!0);var se=ur;if(ur=0,Xs=null,qf(f,Mt,Wt,se),_&&$d){yt=0;break t}break;default:se=ur,ur=0,Xs=null,qf(f,Mt,Wt,se)}}L1(),yt=ya;break}catch(we){R0(f,we)}while(!0);return p&&f.shellSuspendCounter++,Ga=Rn=null,Ri=P,ct.H=$,ct.A=K,ri===null&&(jr=null,Mi=0,Za()),yt}function L1(){for(;ri!==null;)Iv(ri)}function R1(f,p){var _=Ri;Ri|=2;var P=Rv(),$=I0();jr!==f||Mi!==p?($f=null,qd=dn()+500,Xf(f,p)):$d=ji(f,p);t:do try{if(ur!==0&&ri!==null){p=ri;var K=Xs;e:switch(ur){case 1:ur=0,Xs=null,qf(f,p,K,1);break;case 2:case 9:if(u0(K)){ur=0,Xs=null,z0(p);break}p=function(){ur!==2&&ur!==9||jr!==f||(ur=7),du(f)},K.then(p,p);break t;case 3:ur=7;break t;case 4:ur=5;break t;case 7:u0(K)?(ur=0,Xs=null,z0(p)):(ur=0,Xs=null,qf(f,p,K,7));break;case 5:var yt=null;switch(ri.tag){case 26:yt=ri.memoizedState;case 5:case 27:var Mt=ri;if(yt?GS(yt):Mt.stateNode.complete){ur=0,Xs=null;var Wt=Mt.sibling;if(Wt!==null)ri=Wt;else{var se=Mt.return;se!==null?(ri=se,ey(se)):ri=null}break e}}ur=0,Xs=null,qf(f,p,K,5);break;case 6:ur=0,Xs=null,qf(f,p,K,6);break;case 8:pp(),ya=6;break t;default:throw Error(i(462))}}I1();break}catch(we){R0(f,we)}while(!0);return Ga=Rn=null,ct.H=P,ct.A=$,Ri=_,ri!==null?0:(jr=null,Mi=0,Za(),ya)}function I1(){for(;ri!==null&&!Ei();)Iv(ri)}function Iv(f){var p=k0(f.alternate,f,Pc);f.memoizedProps=f.pendingProps,p===null?ey(f):ri=p}function z0(f){var p=f,_=p.alternate;switch(p.tag){case 15:case 0:p=zm(_,p,p.pendingProps,p.type,void 0,Mi);break;case 11:p=zm(_,p,p.pendingProps,p.type.render,p.ref,Mi);break;case 5:cv(p);default:Wf(_,p),p=ri=qi(p,Pc),p=k0(_,p,Pc)}f.memoizedProps=f.pendingProps,p===null?ey(f):ri=p}function qf(f,p,_,P){Ga=Rn=null,cv(p),Gu=null,uo=0;var $=p.return;try{if(Bf(f,$,p,_,Mi)){ya=1,tp(f,M(_,f.current)),ri=null;return}}catch(K){if($!==null)throw ri=$,K;ya=1,tp(f,M(_,f.current)),ri=null;return}p.flags&32768?(ai||P===1?f=!0:$d||(Mi&536870912)!==0?f=!1:(Uh=f=!0,(P===2||P===9||P===3||P===6)&&(P=Us.current,P!==null&&P.tag===13&&(P.flags|=16384))),vp(p,f)):ey(p)}function ey(f){var p=f;do{if((p.flags&32768)!==0){vp(p,Uh);return}f=p.return;var _=Um(p.alternate,p,Pc);if(_!==null){ri=_;return}if(p=p.sibling,p!==null){ri=p;return}ri=p=f}while(p!==null);ya===0&&(ya=5)}function vp(f,p){do{var _=Cc(f.alternate,f);if(_!==null){_.flags&=32767,ri=_;return}if(_=f.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!p&&(f=f.sibling,f!==null)){ri=f;return}ri=f=_}while(f!==null);ya=6,ri=null}function zv(f,p,_,P,$,K,yt,Mt,Wt){f.cancelPendingCommit=null;do xp();while(es!==0);if((Ri&6)!==0)throw Error(i(327));if(p!==null){if(p===f.current)throw Error(i(177));if(K=p.lanes|p.childLanes,K|=fs,Kr(f,_,K,yt,Mt,Wt),f===jr&&(ri=jr=null,Mi=0),Vf=p,Qu=f,hu=_,jv=K,Dv=$,j0=P,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,F1(ti,function(){return ay(),null})):(f.callbackNode=null,f.callbackPriority=0),P=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||P){P=ct.T,ct.T=null,$=st.p,st.p=2,yt=Ri,Ri|=4;try{$m(f,p,_)}finally{Ri=yt,st.p=$,ct.T=P}}es=1,ny(),Fv(),iy()}}function ny(){if(es===1){es=0;var f=Qu,p=Vf,_=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||_){_=ct.T,ct.T=null;var P=st.p;st.p=2;var $=Ri;Ri|=4;try{N0(p,f);var K=De,yt=Pd(f.containerInfo),Mt=K.focusedElem,Wt=K.selectionRange;if(yt!==Mt&&Mt&&Mt.ownerDocument&&Nd(Mt.ownerDocument.documentElement,Mt)){if(Wt!==null&&$c(Mt)){var se=Wt.start,we=Wt.end;if(we===void 0&&(we=se),"selectionStart"in Mt)Mt.selectionStart=se,Mt.selectionEnd=Math.min(we,Mt.value.length);else{var ke=Mt.ownerDocument||document,le=ke&&ke.defaultView||window;if(le.getSelection){var de=le.getSelection(),an=Mt.textContent.length,Nn=Math.min(Wt.start,an),Ur=Wt.end===void 0?Nn:Math.min(Wt.end,an);!de.extend&&Nn>Ur&&(yt=Ur,Ur=Nn,Nn=yt);var ne=Md(Mt,Nn),Kt=Md(Mt,Ur);if(ne&&Kt&&(de.rangeCount!==1||de.anchorNode!==ne.node||de.anchorOffset!==ne.offset||de.focusNode!==Kt.node||de.focusOffset!==Kt.offset)){var ae=ke.createRange();ae.setStart(ne.node,ne.offset),de.removeAllRanges(),Nn>Ur?(de.addRange(ae),de.extend(Kt.node,Kt.offset)):(ae.setEnd(Kt.node,Kt.offset),de.addRange(ae))}}}}for(ke=[],de=Mt;de=de.parentNode;)de.nodeType===1&&ke.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof Mt.focus=="function"&&Mt.focus(),Mt=0;Mt<ke.length;Mt++){var Se=ke[Mt];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}X0=!!en,De=en=null}finally{Ri=$,st.p=P,ct.T=_}}f.current=p,es=2}}function Fv(){if(es===2){es=0;var f=Qu,p=Vf,_=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||_){_=ct.T,ct.T=null;var P=st.p;st.p=2;var $=Ri;Ri|=4;try{lp(f,p.alternate,p)}finally{Ri=$,st.p=P,ct.T=_}}es=3}}function iy(){if(es===4||es===3){es=0,Ke();var f=Qu,p=Vf,_=hu,P=j0;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?es=5:(es=0,Vf=Qu=null,ry(f,f.pendingLanes));var $=f.pendingLanes;if($===0&&(Ec=null),Ee(_),p=p.stateNode,kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(un,p,void 0,(p.current.flags&128)===128)}catch{}if(P!==null){p=ct.T,$=st.p,st.p=2,ct.T=null;try{for(var K=f.onRecoverableError,yt=0;yt<P.length;yt++){var Mt=P[yt];K(Mt.value,{componentStack:Mt.stack})}}finally{ct.T=p,st.p=$}}(hu&3)!==0&&xp(),du(f),$=f.pendingLanes,(_&261930)!==0&&($&42)!==0?f===Ov?gp++:(gp=0,Ov=f):gp=0,wp(0)}}function ry(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,nu(p)))}function xp(){return ny(),Fv(),iy(),ay()}function ay(){if(es!==5)return!1;var f=Qu,p=jv;jv=0;var _=Ee(hu),P=ct.T,$=st.p;try{st.p=32>_?32:_,ct.T=null,_=Dv,Dv=null;var K=Qu,yt=hu;if(es=0,Vf=Qu=null,hu=0,(Ri&6)!==0)throw Error(i(331));var Mt=Ri;if(Ri|=4,Tv(K.current),Qm(K,K.current,yt,_),Ri=Mt,wp(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(un,K)}catch{}return!0}finally{st.p=$,ct.T=P,ry(f,p)}}function Bv(f,p,_){p=M(_,p),p=bv(f.stateNode,p,2),f=fo(f,p,2),f!==null&&(We(f,2),du(f))}function hr(f,p,_){if(f.tag===3)Bv(f,f,_);else for(;p!==null;){if(p.tag===3){Bv(p,f,_);break}else if(p.tag===1){var P=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(Ec===null||!Ec.has(P))){f=M(_,f),_=po(2),P=fo(p,_,2),P!==null&&(Rm(_,P,p,f),We(P,2),du(P));break}}p=p.return}}function sy(f,p,_){var P=f.pingCache;if(P===null){P=f.pingCache=new hp;var $=new Set;P.set(p,$)}else $=P.get(p),$===void 0&&($=new Set,P.set(p,$));$.has(_)||(Nv=!0,$.add(_),f=z1.bind(null,f,p,_),p.then(f,f))}function z1(f,p,_){var P=f.pingCache;P!==null&&P.delete(p),f.pingedLanes|=f.suspendedLanes&_,f.warmLanes&=~_,jr===f&&(Mi&_)===_&&(ya===4||ya===3&&(Mi&62914560)===Mi&&300>dn()-$h?(Ri&2)===0&&Xf(f,0):dp|=_,Xd===Mi&&(Xd=0)),du(f)}function Kf(f,p){p===0&&(p=Vn()),f=lo(f,p),f!==null&&(We(f,p),du(f))}function oy(f){var p=f.memoizedState,_=0;p!==null&&(_=p.retryLane),Kf(f,_)}function Hv(f,p){var _=0;switch(f.tag){case 31:case 13:var P=f.stateNode,$=f.memoizedState;$!==null&&(_=$.retryLane);break;case 19:P=f.stateNode;break;case 22:P=f.stateNode._retryCache;break;default:throw Error(i(314))}P!==null&&P.delete(p),Kf(f,_)}function F1(f,p){return li(f,p)}var Kd=null,Vh=null,Gv=!1,ly=!1,bp=!1,Xh=0;function du(f){f!==Vh&&f.next===null&&(Vh===null?Kd=Vh=f:Vh=Vh.next=f),ly=!0,Gv||(Gv=!0,H1())}function wp(f,p){if(!bp&&ly){bp=!0;do for(var _=!1,P=Kd;P!==null;){if(f!==0){var $=P.pendingLanes;if($===0)var K=0;else{var yt=P.suspendedLanes,Mt=P.pingedLanes;K=(1<<31-Bn(42|f)+1)-1,K&=$&~(yt&~Mt),K=K&201326741?K&201326741|1:K?K|2:0}K!==0&&(_=!0,H0(P,K))}else K=Mi,K=er(P,P===jr?K:0,P.cancelPendingCommit!==null||P.timeoutHandle!==-1),(K&3)===0||ji(P,K)||(_=!0,H0(P,K));P=P.next}while(_);bp=!1}}function B1(){F0()}function F0(){ly=Gv=!1;var f=0;Xh!==0&&Cn()&&(f=Xh);for(var p=dn(),_=null,P=Kd;P!==null;){var $=P.next,K=B0(P,p);K===0?(P.next=null,_===null?Kd=$:_.next=$,$===null&&(Vh=_)):(_=P,(f!==0||(K&3)!==0)&&(ly=!0)),P=$}es!==0&&es!==5||wp(f),Xh!==0&&(Xh=0)}function B0(f,p){for(var _=f.suspendedLanes,P=f.pingedLanes,$=f.expirationTimes,K=f.pendingLanes&-62914561;0<K;){var yt=31-Bn(K),Mt=1<<yt,Wt=$[yt];Wt===-1?((Mt&_)===0||(Mt&P)!==0)&&($[yt]=vn(Mt,p)):Wt<=p&&(f.expiredLanes|=Mt),K&=~Mt}if(p=jr,_=Mi,_=er(f,f===p?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),P=f.callbackNode,_===0||f===p&&(ur===2||ur===9)||f.cancelPendingCommit!==null)return P!==null&&P!==null&&Xe(P),f.callbackNode=null,f.callbackPriority=0;if((_&3)===0||ji(f,_)){if(p=_&-_,p===f.callbackPriority)return p;switch(P!==null&&Xe(P),Ee(_)){case 2:case 8:_=$n;break;case 32:_=ti;break;case 268435456:_=cn;break;default:_=ti}return P=_p.bind(null,f),_=li(_,P),f.callbackPriority=p,f.callbackNode=_,p}return P!==null&&P!==null&&Xe(P),f.callbackPriority=2,f.callbackNode=null,2}function _p(f,p){if(es!==0&&es!==5)return f.callbackNode=null,f.callbackPriority=0,null;var _=f.callbackNode;if(xp()&&f.callbackNode!==_)return null;var P=Mi;return P=er(f,f===jr?P:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),P===0?null:(O0(f,P,p),B0(f,dn()),f.callbackNode!=null&&f.callbackNode===_?_p.bind(null,f):null)}function H0(f,p){if(xp())return null;O0(f,p,!0)}function H1(){br(function(){(Ri&6)!==0?li(ki,B1):F0()})}function dl(){if(Xh===0){var f=Ef;f===0&&(f=tr,tr<<=1,(tr&261888)===0&&(tr=256)),Xh=f}return Xh}function q(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Ir(""+f)}function m(f,p){var _=p.ownerDocument.createElement("input");return _.name=p.name,_.value=p.value,f.id&&_.setAttribute("form",f.id),p.parentNode.insertBefore(_,p),f=new FormData(f),_.parentNode.removeChild(_),f}function b(f,p,_,P,$){if(p==="submit"&&_&&_.stateNode===$){var K=q(($[yi]||null).action),yt=P.submitter;yt&&(p=(p=yt[yi]||null)?q(p.formAction):yt.getAttribute("formAction"),p!==null&&(K=p,yt=null));var Mt=new xh("action","action",null,P,$);f.push({event:Mt,listeners:[{instance:null,listener:function(){if(P.defaultPrevented){if(Xh!==0){var Wt=yt?m($,yt):new FormData($);su(_,{pending:!0,data:Wt,method:$.method,action:K},null,Wt)}}else typeof K=="function"&&(Mt.preventDefault(),Wt=yt?m($,yt):new FormData($),su(_,{pending:!0,data:Wt,method:$.method,action:K},K,Wt))},currentTarget:$}]})}}for(var C=0;C<oo.length;C++){var D=oo[C],O=D.toLowerCase(),I=D[0].toUpperCase()+D.slice(1);Ss(O,"on"+I)}Ss(ds,"onAnimationEnd"),Ss(Vc,"onAnimationIteration"),Ss(Iu,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(Ch,"onTransitionRun"),Ss(Xc,"onTransitionStart"),Ss(Ah,"onTransitionCancel"),Ss(Ci,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var B="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(B));function Q(f,p){p=(p&4)!==0;for(var _=0;_<f.length;_++){var P=f[_],$=P.event;P=P.listeners;t:{var K=void 0;if(p)for(var yt=P.length-1;0<=yt;yt--){var Mt=P[yt],Wt=Mt.instance,se=Mt.currentTarget;if(Mt=Mt.listener,Wt!==K&&$.isPropagationStopped())break t;K=Mt,$.currentTarget=se;try{K($)}catch(we){qc(we)}$.currentTarget=null,K=Wt}else for(yt=0;yt<P.length;yt++){if(Mt=P[yt],Wt=Mt.instance,se=Mt.currentTarget,Mt=Mt.listener,Wt!==K&&$.isPropagationStopped())break t;K=Mt,$.currentTarget=se;try{K($)}catch(we){qc(we)}$.currentTarget=null,K=Wt}}}}function it(f,p){var _=p[gn];_===void 0&&(_=p[gn]=new Set);var P=f+"__bubble";_.has(P)||(pt(p,f,2,!1),_.add(P))}function tt(f,p,_){var P=0;p&&(P|=4),pt(_,f,P,p)}var at="_reactListening"+Math.random().toString(36).slice(2);function gt(f){if(!f[at]){f[at]=!0,ls.forEach(function(_){_!=="selectionchange"&&(U.has(_)||tt(_,!1,f),tt(_,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[at]||(p[at]=!0,tt("selectionchange",!1,p))}}function pt(f,p,_,P){switch(KS(p)){case 2:var $=UT;break;case 8:$=YT;break;default:$=$1}_=$.bind(null,p,_,f),$=void 0,!mh||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||($=!0),P?$!==void 0?f.addEventListener(p,_,{capture:!0,passive:$}):f.addEventListener(p,_,!0):$!==void 0?f.addEventListener(p,_,{passive:$}):f.addEventListener(p,_,!1)}function _t(f,p,_,P,$){var K=P;if((p&1)===0&&(p&2)===0&&P!==null)t:for(;;){if(P===null)return;var yt=P.tag;if(yt===3||yt===4){var Mt=P.stateNode.containerInfo;if(Mt===$)break;if(yt===4)for(yt=P.return;yt!==null;){var Wt=yt.tag;if((Wt===3||Wt===4)&&yt.stateNode.containerInfo===$)return;yt=yt.return}for(;Mt!==null;){if(yt=ss(Mt),yt===null)return;if(Wt=yt.tag,Wt===5||Wt===6||Wt===26||Wt===27){P=K=yt;continue t}Mt=Mt.parentNode}}P=P.return}bd(function(){var se=K,we=xd(_),ke=[];t:{var le=Fg.get(f);if(le!==void 0){var de=xh,an=f;switch(f){case"keypress":if(yh(_)===0)break t;case"keydown":case"keyup":de=Pl;break;case"focusin":an="focus",de=_f;break;case"focusout":an="blur",de=_f;break;case"beforeblur":case"afterblur":de=_f;break;case"click":if(_.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=el;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Rg;break;case ds:case Vc:case Iu:de=Gc;break;case Ci:de=gm;break;case"scroll":case"scrollend":de=Gn;break;case"wheel":de=El;break;case"copy":case"cut":case"paste":de=Tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=dm;break;case"toggle":case"beforetoggle":de=ju}var Nn=(p&4)!==0,Ur=!Nn&&(f==="scroll"||f==="scrollend"),ne=Nn?le!==null?le+"Capture":null:le;Nn=[];for(var Kt=se,ae;Kt!==null;){var Se=Kt;if(ae=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ae===null||ne===null||(Se=uc(Kt,ne),Se!=null&&Nn.push(wt(Kt,Se,ae))),Ur)break;Kt=Kt.return}0<Nn.length&&(le=new de(le,an,null,_,we),ke.push({event:le,listeners:Nn}))}}if((p&7)===0){t:{if(le=f==="mouseover"||f==="pointerover",de=f==="mouseout"||f==="pointerout",le&&_!==cc&&(an=_.relatedTarget||_.fromElement)&&(ss(an)||an[ci]))break t;if((de||le)&&(le=we.window===we?we:(le=we.ownerDocument)?le.defaultView||le.parentWindow:window,de?(an=_.relatedTarget||_.toElement,de=se,an=an?ss(an):null,an!==null&&(Ur=a(an),Nn=an.tag,an!==Ur||Nn!==5&&Nn!==27&&Nn!==6)&&(an=null)):(de=null,an=se),de!==an)){if(Nn=wd,Se="onMouseLeave",ne="onMouseEnter",Kt="mouse",(f==="pointerout"||f==="pointerover")&&(Nn=dm,Se="onPointerLeave",ne="onPointerEnter",Kt="pointer"),Ur=de==null?le:Xn(de),ae=an==null?le:Xn(an),le=new Nn(Se,Kt+"leave",de,_,we),le.target=Ur,le.relatedTarget=ae,Se=null,ss(we)===se&&(Nn=new Nn(ne,Kt+"enter",an,_,we),Nn.target=ae,Nn.relatedTarget=Ur,Se=Nn),Ur=Se,de&&an)e:{for(Nn=jt,ne=de,Kt=an,ae=0,Se=ne;Se;Se=Nn(Se))ae++;Se=0;for(var xn=Kt;xn;xn=Nn(xn))Se++;for(;0<ae-Se;)ne=Nn(ne),ae--;for(;0<Se-ae;)Kt=Nn(Kt),Se--;for(;ae--;){if(ne===Kt||Kt!==null&&ne===Kt.alternate){Nn=ne;break e}ne=Nn(ne),Kt=Nn(Kt)}Nn=null}else Nn=null;de!==null&&Dt(ke,le,de,Nn,!1),an!==null&&Ur!==null&&Dt(ke,Ur,an,Nn,!0)}}t:{if(le=se?Xn(se):window,de=le.nodeName&&le.nodeName.toLowerCase(),de==="select"||de==="input"&&le.type==="file")var dr=rl;else if(Hs(le))if(Ou)dr=Af;else{dr=av;var fn=To}else de=le.nodeName,!de||de.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&Tn(se.elementType)&&(dr=rl):dr=kh;if(dr&&(dr=dr(f,se))){zg(ke,dr,_,we);break t}fn&&fn(f,le,se),f==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&Fs(le,"number",le.value)}switch(fn=se?Xn(se):window,f){case"focusin":(Hs(fn)||fn.contentEditable==="true")&&(Qt=fn,xe=se,ce=null);break;case"focusout":ce=xe=Qt=null;break;case"mousedown":Ue=!0;break;case"contextmenu":case"mouseup":case"dragend":Ue=!1,wn(ke,_,we);break;case"selectionchange":if(Mo)break;case"keydown":case"keyup":wn(ke,_,we)}var ui;if(kd)t:{switch(f){case"compositionstart":var Fi="onCompositionStart";break t;case"compositionend":Fi="onCompositionEnd";break t;case"compositionupdate":Fi="onCompositionUpdate";break t}Fi=void 0}else Du?kf(f,_)&&(Fi="onCompositionEnd"):f==="keydown"&&_.keyCode===229&&(Fi="onCompositionStart");Fi&&(jl&&_.locale!=="ko"&&(Du||Fi!=="onCompositionStart"?Fi==="onCompositionEnd"&&Du&&(ui=xi()):(Ml=we,tl="value"in Ml?Ml.value:Ml.textContent,Du=!0)),fn=bt(se,Fi),0<fn.length&&(Fi=new Ca(Fi,f,null,_,we),ke.push({event:Fi,listeners:fn}),ui?Fi.data=ui:(ui=Ig(_),ui!==null&&(Fi.data=ui)))),(ui=Sf?Mr(f,_):Dl(f,_))&&(Fi=bt(se,"onBeforeInput"),0<Fi.length&&(fn=new Ca("onBeforeInput","beforeinput",null,_,we),ke.push({event:fn,listeners:Fi}),fn.data=ui)),b(ke,f,se,_,we)}Q(ke,p)})}function wt(f,p,_){return{instance:f,listener:p,currentTarget:_}}function bt(f,p){for(var _=p+"Capture",P=[];f!==null;){var $=f,K=$.stateNode;if($=$.tag,$!==5&&$!==26&&$!==27||K===null||($=uc(f,_),$!=null&&P.unshift(wt(f,$,K)),$=uc(f,p),$!=null&&P.push(wt(f,$,K))),f.tag===3)return P;f=f.return}return[]}function jt(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function Dt(f,p,_,P,$){for(var K=p._reactName,yt=[];_!==null&&_!==P;){var Mt=_,Wt=Mt.alternate,se=Mt.stateNode;if(Mt=Mt.tag,Wt!==null&&Wt===P)break;Mt!==5&&Mt!==26&&Mt!==27||se===null||(Wt=se,$?(se=uc(_,K),se!=null&&yt.unshift(wt(_,se,Wt))):$||(se=uc(_,K),se!=null&&yt.push(wt(_,se,Wt)))),_=_.return}yt.length!==0&&f.push({event:p,listeners:yt})}var zt=/\r\n?/g,Ut=/\u0000|\uFFFD/g;function $t(f){return(typeof f=="string"?f:""+f).replace(zt,`
`).replace(Ut,"")}function Vt(f,p){return p=$t(p),$t(f)===p}function Gt(f,p,_,P,$,K){switch(_){case"children":typeof P=="string"?p==="body"||p==="textarea"&&P===""||Ft(f,P):(typeof P=="number"||typeof P=="bigint")&&p!=="body"&&Ft(f,""+P);break;case"className":ii(f,"class",P);break;case"tabIndex":ii(f,"tabindex",P);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(f,_,P);break;case"style":Ge(f,P,K);break;case"data":if(p!=="object"){ii(f,"data",P);break}case"src":case"href":if(P===""&&(p!=="a"||_!=="href")){f.removeAttribute(_);break}if(P==null||typeof P=="function"||typeof P=="symbol"||typeof P=="boolean"){f.removeAttribute(_);break}P=Ir(""+P),f.setAttribute(_,P);break;case"action":case"formAction":if(typeof P=="function"){f.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof K=="function"&&(_==="formAction"?(p!=="input"&&Gt(f,p,"name",$.name,$,null),Gt(f,p,"formEncType",$.formEncType,$,null),Gt(f,p,"formMethod",$.formMethod,$,null),Gt(f,p,"formTarget",$.formTarget,$,null)):(Gt(f,p,"encType",$.encType,$,null),Gt(f,p,"method",$.method,$,null),Gt(f,p,"target",$.target,$,null)));if(P==null||typeof P=="symbol"||typeof P=="boolean"){f.removeAttribute(_);break}P=Ir(""+P),f.setAttribute(_,P);break;case"onClick":P!=null&&(f.onclick=zr);break;case"onScroll":P!=null&&it("scroll",f);break;case"onScrollEnd":P!=null&&it("scrollend",f);break;case"dangerouslySetInnerHTML":if(P!=null){if(typeof P!="object"||!("__html"in P))throw Error(i(61));if(_=P.__html,_!=null){if($.children!=null)throw Error(i(60));f.innerHTML=_}}break;case"multiple":f.multiple=P&&typeof P!="function"&&typeof P!="symbol";break;case"muted":f.muted=P&&typeof P!="function"&&typeof P!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(P==null||typeof P=="function"||typeof P=="boolean"||typeof P=="symbol"){f.removeAttribute("xlink:href");break}_=Ir(""+P),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":P!=null&&typeof P!="function"&&typeof P!="symbol"?f.setAttribute(_,""+P):f.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":P&&typeof P!="function"&&typeof P!="symbol"?f.setAttribute(_,""):f.removeAttribute(_);break;case"capture":case"download":P===!0?f.setAttribute(_,""):P!==!1&&P!=null&&typeof P!="function"&&typeof P!="symbol"?f.setAttribute(_,P):f.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":P!=null&&typeof P!="function"&&typeof P!="symbol"&&!isNaN(P)&&1<=P?f.setAttribute(_,P):f.removeAttribute(_);break;case"rowSpan":case"start":P==null||typeof P=="function"||typeof P=="symbol"||isNaN(P)?f.removeAttribute(_):f.setAttribute(_,P);break;case"popover":it("beforetoggle",f),it("toggle",f),Un(f,"popover",P);break;case"xlinkActuate":Ba(f,"http://www.w3.org/1999/xlink","xlink:actuate",P);break;case"xlinkArcrole":Ba(f,"http://www.w3.org/1999/xlink","xlink:arcrole",P);break;case"xlinkRole":Ba(f,"http://www.w3.org/1999/xlink","xlink:role",P);break;case"xlinkShow":Ba(f,"http://www.w3.org/1999/xlink","xlink:show",P);break;case"xlinkTitle":Ba(f,"http://www.w3.org/1999/xlink","xlink:title",P);break;case"xlinkType":Ba(f,"http://www.w3.org/1999/xlink","xlink:type",P);break;case"xmlBase":Ba(f,"http://www.w3.org/XML/1998/namespace","xml:base",P);break;case"xmlLang":Ba(f,"http://www.w3.org/XML/1998/namespace","xml:lang",P);break;case"xmlSpace":Ba(f,"http://www.w3.org/XML/1998/namespace","xml:space",P);break;case"is":Un(f,"is",P);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=Rr.get(_)||_,Un(f,_,P))}}function pe(f,p,_,P,$,K){switch(_){case"style":Ge(f,P,K);break;case"dangerouslySetInnerHTML":if(P!=null){if(typeof P!="object"||!("__html"in P))throw Error(i(61));if(_=P.__html,_!=null){if($.children!=null)throw Error(i(60));f.innerHTML=_}}break;case"children":typeof P=="string"?Ft(f,P):(typeof P=="number"||typeof P=="bigint")&&Ft(f,""+P);break;case"onScroll":P!=null&&it("scroll",f);break;case"onScrollEnd":P!=null&&it("scrollend",f);break;case"onClick":P!=null&&(f.onclick=zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(_))t:{if(_[0]==="o"&&_[1]==="n"&&($=_.endsWith("Capture"),p=_.slice(2,$?_.length-7:void 0),K=f[yi]||null,K=K!=null?K[_]:null,typeof K=="function"&&f.removeEventListener(p,K,$),typeof P=="function")){typeof K!="function"&&K!==null&&(_ in f?f[_]=null:f.hasAttribute(_)&&f.removeAttribute(_)),f.addEventListener(p,P,$);break t}_ in f?f[_]=P:P===!0?f.setAttribute(_,""):Un(f,_,P)}}}function ye(f,p,_){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",f),it("load",f);var P=!1,$=!1,K;for(K in _)if(_.hasOwnProperty(K)){var yt=_[K];if(yt!=null)switch(K){case"src":P=!0;break;case"srcSet":$=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,p));default:Gt(f,p,K,yt,_,null)}}$&&Gt(f,p,"srcSet",_.srcSet,_,null),P&&Gt(f,p,"src",_.src,_,null);return;case"input":it("invalid",f);var Mt=K=yt=$=null,Wt=null,se=null;for(P in _)if(_.hasOwnProperty(P)){var we=_[P];if(we!=null)switch(P){case"name":$=we;break;case"type":yt=we;break;case"checked":Wt=we;break;case"defaultChecked":se=we;break;case"value":K=we;break;case"defaultValue":Mt=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,p));break;default:Gt(f,p,P,we,_,null)}}Qo(f,K,Mt,Wt,se,yt,$,!1);return;case"select":it("invalid",f),P=yt=K=null;for($ in _)if(_.hasOwnProperty($)&&(Mt=_[$],Mt!=null))switch($){case"value":K=Mt;break;case"defaultValue":yt=Mt;break;case"multiple":P=Mt;default:Gt(f,p,$,Mt,_,null)}p=K,_=yt,f.multiple=!!P,p!=null?ir(f,!!P,p,!1):_!=null&&ir(f,!!P,_,!0);return;case"textarea":it("invalid",f),K=$=P=null;for(yt in _)if(_.hasOwnProperty(yt)&&(Mt=_[yt],Mt!=null))switch(yt){case"value":P=Mt;break;case"defaultValue":$=Mt;break;case"children":K=Mt;break;case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(i(91));break;default:Gt(f,p,yt,Mt,_,null)}Ot(f,P,$,K);return;case"option":for(Wt in _)if(_.hasOwnProperty(Wt)&&(P=_[Wt],P!=null))switch(Wt){case"selected":f.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Gt(f,p,Wt,P,_,null)}return;case"dialog":it("beforetoggle",f),it("toggle",f),it("cancel",f),it("close",f);break;case"iframe":case"object":it("load",f);break;case"video":case"audio":for(P=0;P<B.length;P++)it(B[P],f);break;case"image":it("error",f),it("load",f);break;case"details":it("toggle",f);break;case"embed":case"source":case"link":it("error",f),it("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in _)if(_.hasOwnProperty(se)&&(P=_[se],P!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,p));default:Gt(f,p,se,P,_,null)}return;default:if(Tn(p)){for(we in _)_.hasOwnProperty(we)&&(P=_[we],P!==void 0&&pe(f,p,we,P,_,void 0));return}}for(Mt in _)_.hasOwnProperty(Mt)&&(P=_[Mt],P!=null&&Gt(f,p,Mt,P,_,null))}function me(f,p,_,P){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var $=null,K=null,yt=null,Mt=null,Wt=null,se=null,we=null;for(de in _){var ke=_[de];if(_.hasOwnProperty(de)&&ke!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":Wt=ke;default:P.hasOwnProperty(de)||Gt(f,p,de,null,P,ke)}}for(var le in P){var de=P[le];if(ke=_[le],P.hasOwnProperty(le)&&(de!=null||ke!=null))switch(le){case"type":K=de;break;case"name":$=de;break;case"checked":se=de;break;case"defaultChecked":we=de;break;case"value":yt=de;break;case"defaultValue":Mt=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,p));break;default:de!==ke&&Gt(f,p,le,de,P,ke)}}lc(f,yt,Mt,Wt,se,we,K,$);return;case"select":de=yt=Mt=le=null;for(K in _)if(Wt=_[K],_.hasOwnProperty(K)&&Wt!=null)switch(K){case"value":break;case"multiple":de=Wt;default:P.hasOwnProperty(K)||Gt(f,p,K,null,P,Wt)}for($ in P)if(K=P[$],Wt=_[$],P.hasOwnProperty($)&&(K!=null||Wt!=null))switch($){case"value":le=K;break;case"defaultValue":Mt=K;break;case"multiple":yt=K;default:K!==Wt&&Gt(f,p,$,K,P,Wt)}p=Mt,_=yt,P=de,le!=null?ir(f,!!_,le,!1):!!P!=!!_&&(p!=null?ir(f,!!_,p,!0):ir(f,!!_,_?[]:"",!1));return;case"textarea":de=le=null;for(Mt in _)if($=_[Mt],_.hasOwnProperty(Mt)&&$!=null&&!P.hasOwnProperty(Mt))switch(Mt){case"value":break;case"children":break;default:Gt(f,p,Mt,null,P,$)}for(yt in P)if($=P[yt],K=_[yt],P.hasOwnProperty(yt)&&($!=null||K!=null))switch(yt){case"value":le=$;break;case"defaultValue":de=$;break;case"children":break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:$!==K&&Gt(f,p,yt,$,P,K)}At(f,le,de);return;case"option":for(var an in _)if(le=_[an],_.hasOwnProperty(an)&&le!=null&&!P.hasOwnProperty(an))switch(an){case"selected":f.selected=!1;break;default:Gt(f,p,an,null,P,le)}for(Wt in P)if(le=P[Wt],de=_[Wt],P.hasOwnProperty(Wt)&&le!==de&&(le!=null||de!=null))switch(Wt){case"selected":f.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Gt(f,p,Wt,le,P,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nn in _)le=_[Nn],_.hasOwnProperty(Nn)&&le!=null&&!P.hasOwnProperty(Nn)&&Gt(f,p,Nn,null,P,le);for(se in P)if(le=P[se],de=_[se],P.hasOwnProperty(se)&&le!==de&&(le!=null||de!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,p));break;default:Gt(f,p,se,le,P,de)}return;default:if(Tn(p)){for(var Ur in _)le=_[Ur],_.hasOwnProperty(Ur)&&le!==void 0&&!P.hasOwnProperty(Ur)&&pe(f,p,Ur,void 0,P,le);for(we in P)le=P[we],de=_[we],!P.hasOwnProperty(we)||le===de||le===void 0&&de===void 0||pe(f,p,we,le,P,de);return}}for(var ne in _)le=_[ne],_.hasOwnProperty(ne)&&le!=null&&!P.hasOwnProperty(ne)&&Gt(f,p,ne,null,P,le);for(ke in P)le=P[ke],de=_[ke],!P.hasOwnProperty(ke)||le===de||le==null&&de==null||Gt(f,p,ke,le,P,de)}function Ie(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ze(){if(typeof performance.getEntriesByType=="function"){for(var f=0,p=0,_=performance.getEntriesByType("resource"),P=0;P<_.length;P++){var $=_[P],K=$.transferSize,yt=$.initiatorType,Mt=$.duration;if(K&&Mt&&Ie(yt)){for(yt=0,Mt=$.responseEnd,P+=1;P<_.length;P++){var Wt=_[P],se=Wt.startTime;if(se>Mt)break;var we=Wt.transferSize,ke=Wt.initiatorType;we&&Ie(ke)&&(Wt=Wt.responseEnd,yt+=we*(Wt<Mt?1:(Mt-se)/(Wt-se)))}if(--P,p+=8*(K+yt)/($.duration/1e3),f++,10<f)break}}if(0<f)return p/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var en=null,De=null;function Be(f){return f.nodeType===9?f:f.ownerDocument}function Je(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qn(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function In(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Ns=null;function Cn(){var f=window.event;return f&&f.type==="popstate"?f===Ns?!1:(Ns=f,!0):(Ns=null,!1)}var Sn=typeof setTimeout=="function"?setTimeout:void 0,Ii=typeof clearTimeout=="function"?clearTimeout:void 0,Kn=typeof Promise=="function"?Promise:void 0,br=typeof queueMicrotask=="function"?queueMicrotask:typeof Kn<"u"?function(f){return Kn.resolve(null).then(f).catch(Ni)}:Sn;function Ni(f){setTimeout(function(){throw f})}function Fe(f){return f==="head"}function Wr(f,p){var _=p,P=0;do{var $=_.nextSibling;if(f.removeChild(_),$&&$.nodeType===8)if(_=$.data,_==="/$"||_==="/&"){if(P===0){f.removeChild($),my(p);return}P--}else if(_==="$"||_==="$?"||_==="$~"||_==="$!"||_==="&")P++;else if(_==="html")Uv(f.ownerDocument.documentElement);else if(_==="head"){_=f.ownerDocument.head,Uv(_);for(var K=_.firstChild;K;){var yt=K.nextSibling,Mt=K.nodeName;K[vr]||Mt==="SCRIPT"||Mt==="STYLE"||Mt==="LINK"&&K.rel.toLowerCase()==="stylesheet"||_.removeChild(K),K=yt}}else _==="body"&&Uv(f.ownerDocument.body);_=$}while(_);my(p)}function Dr(f,p){var _=f;f=0;do{var P=_.nextSibling;if(_.nodeType===1?p?(_._stashedDisplay=_.style.display,_.style.display="none"):(_.style.display=_._stashedDisplay||"",_.getAttribute("style")===""&&_.removeAttribute("style")):_.nodeType===3&&(p?(_._stashedText=_.nodeValue,_.nodeValue=""):_.nodeValue=_._stashedText||""),P&&P.nodeType===8)if(_=P.data,_==="/$"){if(f===0)break;f--}else _!=="$"&&_!=="$?"&&_!=="$~"&&_!=="$!"||f++;_=P}while(_)}function Ps(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var _=p;switch(p=p.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":Ps(_),xs(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}f.removeChild(_)}}function qh(f,p,_,P){for(;f.nodeType===1;){var $=_;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!P&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(P){if(!f[vr])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(K=f.getAttribute("rel"),K==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(K!==$.rel||f.getAttribute("href")!==($.href==null||$.href===""?null:$.href)||f.getAttribute("crossorigin")!==($.crossOrigin==null?null:$.crossOrigin)||f.getAttribute("title")!==($.title==null?null:$.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(K=f.getAttribute("src"),(K!==($.src==null?null:$.src)||f.getAttribute("type")!==($.type==null?null:$.type)||f.getAttribute("crossorigin")!==($.crossOrigin==null?null:$.crossOrigin))&&K&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var K=$.name==null?null:""+$.name;if($.type==="hidden"&&f.getAttribute("name")===K)return f}else return f;if(f=Ks(f.nextSibling),f===null)break}return null}function si(f,p,_){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!_||(f=Ks(f.nextSibling),f===null))return null;return f}function qs(f,p){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!p||(f=Ks(f.nextSibling),f===null))return null;return f}function fl(f){return f.data==="$?"||f.data==="$~"}function gl(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function Zd(f,p){var _=f.ownerDocument;if(f.data==="$~")f._reactRetry=p;else if(f.data!=="$?"||_.readyState!=="loading")p();else{var P=function(){p(),_.removeEventListener("DOMContentLoaded",P)};_.addEventListener("DOMContentLoaded",P),f._reactRetry=P}}function Ks(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return f}var pl=null;function Qd(f){f=f.nextSibling;for(var p=0;f;){if(f.nodeType===8){var _=f.data;if(_==="/$"||_==="/&"){if(p===0)return Ks(f.nextSibling);p--}else _!=="$"&&_!=="$!"&&_!=="$?"&&_!=="$~"&&_!=="&"||p++}f=f.nextSibling}return null}function Wv(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var _=f.data;if(_==="$"||_==="$!"||_==="$?"||_==="$~"||_==="&"){if(p===0)return f;p--}else _!=="/$"&&_!=="/&"||p++}f=f.previousSibling}return null}function OS(f,p,_){switch(p=Be(_),f){case"html":if(f=p.documentElement,!f)throw Error(i(452));return f;case"head":if(f=p.head,!f)throw Error(i(453));return f;case"body":if(f=p.body,!f)throw Error(i(454));return f;default:throw Error(i(451))}}function Uv(f){for(var p=f.attributes;p.length;)f.removeAttributeNode(p[0]);xs(f)}var fu=new Map,LS=new Set;function G0(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Jd=st.d;st.d={f:OT,r:LT,D:G1,C:RT,L:IT,m:zT,X:Vl,S:Zs,M:FT};function OT(){var f=Jd.f(),p=Jm();return f||p}function LT(f){var p=os(f);p!==null&&p.tag===5&&p.type==="form"?qg(p):Jd.r(f)}var Zf=typeof document>"u"?null:document;function RS(f,p,_){var P=Zf;if(P&&typeof p=="string"&&p){var $=Vi(p);$='link[rel="'+f+'"][href="'+$+'"]',typeof _=="string"&&($+='[crossorigin="'+_+'"]'),LS.has($)||(LS.add($),f={rel:f,crossOrigin:_,href:p},P.querySelector($)===null&&(p=P.createElement("link"),ye(p,"link",f),vi(p),P.head.appendChild(p)))}}function G1(f){Jd.D(f),RS("dns-prefetch",f,null)}function RT(f,p){Jd.C(f,p),RS("preconnect",f,p)}function IT(f,p,_){Jd.L(f,p,_);var P=Zf;if(P&&f&&p){var $='link[rel="preload"][as="'+Vi(p)+'"]';p==="image"&&_&&_.imageSrcSet?($+='[imagesrcset="'+Vi(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&($+='[imagesizes="'+Vi(_.imageSizes)+'"]')):$+='[href="'+Vi(f)+'"]';var K=$;switch(p){case"style":K=cy(f);break;case"script":K=hy(f)}fu.has(K)||(f=d({rel:"preload",href:p==="image"&&_&&_.imageSrcSet?void 0:f,as:p},_),fu.set(K,f),P.querySelector($)!==null||p==="style"&&P.querySelector(uy(K))||p==="script"&&P.querySelector(dy(K))||(p=P.createElement("link"),ye(p,"link",f),vi(p),P.head.appendChild(p)))}}function zT(f,p){Jd.m(f,p);var _=Zf;if(_&&f){var P=p&&typeof p.as=="string"?p.as:"script",$='link[rel="modulepreload"][as="'+Vi(P)+'"][href="'+Vi(f)+'"]',K=$;switch(P){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":K=hy(f)}if(!fu.has(K)&&(f=d({rel:"modulepreload",href:f},p),fu.set(K,f),_.querySelector($)===null)){switch(P){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(dy(K)))return}P=_.createElement("link"),ye(P,"link",f),vi(P),_.head.appendChild(P)}}}function Zs(f,p,_){Jd.S(f,p,_);var P=Zf;if(P&&f){var $=Ar(P).hoistableStyles,K=cy(f);p=p||"default";var yt=$.get(K);if(!yt){var Mt={loading:0,preload:null};if(yt=P.querySelector(uy(K)))Mt.loading=5;else{f=d({rel:"stylesheet",href:f,"data-precedence":p},_),(_=fu.get(K))&&W1(f,_);var Wt=yt=P.createElement("link");vi(Wt),ye(Wt,"link",f),Wt._p=new Promise(function(se,we){Wt.onload=se,Wt.onerror=we}),Wt.addEventListener("load",function(){Mt.loading|=1}),Wt.addEventListener("error",function(){Mt.loading|=2}),Mt.loading|=4,W0(yt,p,P)}yt={type:"stylesheet",instance:yt,count:1,state:Mt},$.set(K,yt)}}}function Vl(f,p){Jd.X(f,p);var _=Zf;if(_&&f){var P=Ar(_).hoistableScripts,$=hy(f),K=P.get($);K||(K=_.querySelector(dy($)),K||(f=d({src:f,async:!0},p),(p=fu.get($))&&U0(f,p),K=_.createElement("script"),vi(K),ye(K,"link",f),_.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},P.set($,K))}}function FT(f,p){Jd.M(f,p);var _=Zf;if(_&&f){var P=Ar(_).hoistableScripts,$=hy(f),K=P.get($);K||(K=_.querySelector(dy($)),K||(f=d({src:f,async:!0,type:"module"},p),(p=fu.get($))&&U0(f,p),K=_.createElement("script"),vi(K),ye(K,"link",f),_.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},P.set($,K))}}function IS(f,p,_,P){var $=($=Nt.current)?G0($):null;if(!$)throw Error(i(446));switch(f){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(p=cy(_.href),_=Ar($).hoistableStyles,P=_.get(p),P||(P={type:"style",instance:null,count:0,state:null},_.set(p,P)),P):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){f=cy(_.href);var K=Ar($).hoistableStyles,yt=K.get(f);if(yt||($=$.ownerDocument||$,yt={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},K.set(f,yt),(K=$.querySelector(uy(f)))&&!K._p&&(yt.instance=K,yt.state.loading=5),fu.has(f)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},fu.set(f,_),K||BT($,f,_,yt.state))),p&&P===null)throw Error(i(528,""));return yt}if(p&&P!==null)throw Error(i(529,""));return null;case"script":return p=_.async,_=_.src,typeof _=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=hy(_),_=Ar($).hoistableScripts,P=_.get(p),P||(P={type:"script",instance:null,count:0,state:null},_.set(p,P)),P):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,f))}}function cy(f){return'href="'+Vi(f)+'"'}function uy(f){return'link[rel="stylesheet"]['+f+"]"}function zS(f){return d({},f,{"data-precedence":f.precedence,precedence:null})}function BT(f,p,_,P){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?P.loading=1:(p=f.createElement("link"),P.preload=p,p.addEventListener("load",function(){return P.loading|=1}),p.addEventListener("error",function(){return P.loading|=2}),ye(p,"link",_),vi(p),f.head.appendChild(p))}function hy(f){return'[src="'+Vi(f)+'"]'}function dy(f){return"script[async]"+f}function FS(f,p,_){if(p.count++,p.instance===null)switch(p.type){case"style":var P=f.querySelector('style[data-href~="'+Vi(_.href)+'"]');if(P)return p.instance=P,vi(P),P;var $=d({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return P=(f.ownerDocument||f).createElement("style"),vi(P),ye(P,"style",$),W0(P,_.precedence,f),p.instance=P;case"stylesheet":$=cy(_.href);var K=f.querySelector(uy($));if(K)return p.state.loading|=4,p.instance=K,vi(K),K;P=zS(_),($=fu.get($))&&W1(P,$),K=(f.ownerDocument||f).createElement("link"),vi(K);var yt=K;return yt._p=new Promise(function(Mt,Wt){yt.onload=Mt,yt.onerror=Wt}),ye(K,"link",P),p.state.loading|=4,W0(K,_.precedence,f),p.instance=K;case"script":return K=hy(_.src),($=f.querySelector(dy(K)))?(p.instance=$,vi($),$):(P=_,($=fu.get(K))&&(P=d({},_),U0(P,$)),f=f.ownerDocument||f,$=f.createElement("script"),vi($),ye($,"link",P),f.head.appendChild($),p.instance=$);case"void":return null;default:throw Error(i(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(P=p.instance,p.state.loading|=4,W0(P,_.precedence,f));return p.instance}function W0(f,p,_){for(var P=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),$=P.length?P[P.length-1]:null,K=$,yt=0;yt<P.length;yt++){var Mt=P[yt];if(Mt.dataset.precedence===p)K=Mt;else if(K!==$)break}K?K.parentNode.insertBefore(f,K.nextSibling):(p=_.nodeType===9?_.head:_,p.insertBefore(f,p.firstChild))}function W1(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function U0(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var Yv=null;function BS(f,p,_){if(Yv===null){var P=new Map,$=Yv=new Map;$.set(_,P)}else $=Yv,P=$.get(_),P||(P=new Map,$.set(_,P));if(P.has(f))return P;for(P.set(f,null),_=_.getElementsByTagName(f),$=0;$<_.length;$++){var K=_[$];if(!(K[vr]||K[Hn]||f==="link"&&K.getAttribute("rel")==="stylesheet")&&K.namespaceURI!=="http://www.w3.org/2000/svg"){var yt=K.getAttribute(p)||"";yt=f+yt;var Mt=P.get(yt);Mt?Mt.push(K):P.set(yt,[K])}}return P}function HS(f,p,_){f=f.ownerDocument||f,f.head.insertBefore(_,p==="title"?f.querySelector("head > title"):null)}function HT(f,p,_){if(_===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function GS(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function fy(f,p,_,P){if(_.type==="stylesheet"&&(typeof P.media!="string"||matchMedia(P.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var $=cy(P.href),K=p.querySelector(uy($));if(K){p=K._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(f.count++,f=Y0.bind(f),p.then(f,f)),_.state.loading|=4,_.instance=K,vi(K);return}K=p.ownerDocument||p,P=zS(P),($=fu.get($))&&W1(P,$),K=K.createElement("link"),vi(K);var yt=K;yt._p=new Promise(function(Mt,Wt){yt.onload=Mt,yt.onerror=Wt}),ye(K,"link",P),_.instance=K}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(_,p),(p=_.state.preload)&&(_.state.loading&3)===0&&(f.count++,_=Y0.bind(f),p.addEventListener("load",_),p.addEventListener("error",_))}}var U1=0;function GT(f,p){return f.stylesheets&&f.count===0&&V0(f,f.stylesheets),0<f.count||0<f.imgCount?function(_){var P=setTimeout(function(){if(f.stylesheets&&V0(f,f.stylesheets),f.unsuspend){var K=f.unsuspend;f.unsuspend=null,K()}},6e4+p);0<f.imgBytes&&U1===0&&(U1=62500*Ze());var $=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&V0(f,f.stylesheets),f.unsuspend)){var K=f.unsuspend;f.unsuspend=null,K()}},(f.imgBytes>U1?50:800)+p);return f.unsuspend=_,function(){f.unsuspend=null,clearTimeout(P),clearTimeout($)}}:null}function Y0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)V0(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var $0=null;function V0(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,$0=new Map,p.forEach(WS,f),$0=null,Y0.call(f))}function WS(f,p){if(!(p.state.loading&4)){var _=$0.get(f);if(_)var P=_.get(null);else{_=new Map,$0.set(f,_);for(var $=f.querySelectorAll("link[data-precedence],style[data-precedence]"),K=0;K<$.length;K++){var yt=$[K];(yt.nodeName==="LINK"||yt.getAttribute("media")!=="not all")&&(_.set(yt.dataset.precedence,yt),P=yt)}P&&_.set(null,P)}$=p.instance,yt=$.getAttribute("data-precedence"),K=_.get(yt)||P,K===P&&_.set(null,$),_.set(yt,$),this.count++,P=Y0.bind(this),$.addEventListener("load",P),$.addEventListener("error",P),K?K.parentNode.insertBefore($,K.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore($,f.firstChild)),p.state.loading|=4}}var gy={$$typeof:R,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function WT(f,p,_,P,$,K,yt,Mt,Wt){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.hiddenUpdates=nn(null),this.identifierPrefix=P,this.onUncaughtError=$,this.onCaughtError=K,this.onRecoverableError=yt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Wt,this.incompleteTransitions=new Map}function US(f,p,_,P,$,K,yt,Mt,Wt,se,we,ke){return f=new WT(f,p,_,yt,Wt,se,we,ke,Mt),p=1,K===!0&&(p|=24),K=Ha(3,null,null,p),f.current=K,K.stateNode=f,p=pc(),p.refCount++,f.pooledCache=p,p.refCount++,K.memoizedState={element:P,isDehydrated:_,cache:p},ru(K),f}function YS(f){return f?(f=Ll,f):Ll}function $S(f,p,_,P,$,K){$=YS($),P.context===null?P.context=$:P.pendingContext=$,P=Dh(p),P.payload={element:_},K=K===void 0?null:K,K!==null&&(P.callback=K),_=fo(f,P,p),_!==null&&(mo(_,f,p),zl(_,f,p))}function VS(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<p?_:p}}function Y1(f,p){VS(f,p),(f=f.alternate)&&VS(f,p)}function XS(f){if(f.tag===13||f.tag===31){var p=lo(f,67108864);p!==null&&mo(p,f,67108864),Y1(f,67108864)}}function qS(f){if(f.tag===13||f.tag===31){var p=Bo();p=Pe(p);var _=lo(f,p);_!==null&&mo(_,f,p),Y1(f,p)}}var X0=!0;function UT(f,p,_,P){var $=ct.T;ct.T=null;var K=st.p;try{st.p=2,$1(f,p,_,P)}finally{st.p=K,ct.T=$}}function YT(f,p,_,P){var $=ct.T;ct.T=null;var K=st.p;try{st.p=8,$1(f,p,_,P)}finally{st.p=K,ct.T=$}}function $1(f,p,_,P){if(X0){var $=V1(P);if($===null)_t(f,p,P,q0,_),ZS(f,P);else if(QS($,f,p,_,P))P.stopPropagation();else if(ZS(f,P),p&4&&-1<$T.indexOf(f)){for(;$!==null;){var K=os($);if(K!==null)switch(K.tag){case 3:if(K=K.stateNode,K.current.memoizedState.isDehydrated){var yt=ei(K.pendingLanes);if(yt!==0){var Mt=K;for(Mt.pendingLanes|=2,Mt.entangledLanes|=2;yt;){var Wt=1<<31-Bn(yt);Mt.entanglements[1]|=Wt,yt&=~Wt}du(K),(Ri&6)===0&&(qd=dn()+500,wp(0))}}break;case 31:case 13:Mt=lo(K,2),Mt!==null&&mo(Mt,K,2),Jm(),Y1(K,2)}if(K=V1(P),K===null&&_t(f,p,P,q0,_),K===$)break;$=K}$!==null&&P.stopPropagation()}else _t(f,p,P,null,_)}}function V1(f){return f=xd(f),X1(f)}var q0=null;function X1(f){if(q0=null,f=ss(f),f!==null){var p=a(f);if(p===null)f=null;else{var _=p.tag;if(_===13){if(f=s(p),f!==null)return f;f=null}else if(_===31){if(f=o(p),f!==null)return f;f=null}else if(_===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return q0=f,null}function KS(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case ki:return 2;case $n:return 8;case ti:case be:return 32;case cn:return 268435456;default:return 32}default:return 32}}var q1=!1,Qf=null,Jf=null,tg=null,$v=new Map,Vv=new Map,eg=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZS(f,p){switch(f){case"focusin":case"focusout":Qf=null;break;case"dragenter":case"dragleave":Jf=null;break;case"mouseover":case"mouseout":tg=null;break;case"pointerover":case"pointerout":$v.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vv.delete(p.pointerId)}}function Sp(f,p,_,P,$,K){return f===null||f.nativeEvent!==K?(f={blockedOn:p,domEventName:_,eventSystemFlags:P,nativeEvent:K,targetContainers:[$]},p!==null&&(p=os(p),p!==null&&XS(p)),f):(f.eventSystemFlags|=P,p=f.targetContainers,$!==null&&p.indexOf($)===-1&&p.push($),f)}function QS(f,p,_,P,$){switch(p){case"focusin":return Qf=Sp(Qf,f,p,_,P,$),!0;case"dragenter":return Jf=Sp(Jf,f,p,_,P,$),!0;case"mouseover":return tg=Sp(tg,f,p,_,P,$),!0;case"pointerover":var K=$.pointerId;return $v.set(K,Sp($v.get(K)||null,f,p,_,P,$)),!0;case"gotpointercapture":return K=$.pointerId,Vv.set(K,Sp(Vv.get(K)||null,f,p,_,P,$)),!0}return!1}function K1(f){var p=ss(f.target);if(p!==null){var _=a(p);if(_!==null){if(p=_.tag,p===13){if(p=s(_),p!==null){f.blockedOn=p,Zr(f.priority,function(){qS(_)});return}}else if(p===31){if(p=o(_),p!==null){f.blockedOn=p,Zr(f.priority,function(){qS(_)});return}}else if(p===3&&_.stateNode.current.memoizedState.isDehydrated){f.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}f.blockedOn=null}function K0(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var _=V1(f.nativeEvent);if(_===null){_=f.nativeEvent;var P=new _.constructor(_.type,_);cc=P,_.target.dispatchEvent(P),cc=null}else return p=os(_),p!==null&&XS(p),f.blockedOn=_,!1;p.shift()}return!0}function JS(f,p,_){K0(f)&&_.delete(p)}function VT(){q1=!1,Qf!==null&&K0(Qf)&&(Qf=null),Jf!==null&&K0(Jf)&&(Jf=null),tg!==null&&K0(tg)&&(tg=null),$v.forEach(JS),Vv.forEach(JS)}function py(f,p){f.blockedOn===p&&(f.blockedOn=null,q1||(q1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,VT)))}var Z0=null;function tk(f){Z0!==f&&(Z0=f,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Z0===f&&(Z0=null);for(var p=0;p<f.length;p+=3){var _=f[p],P=f[p+1],$=f[p+2];if(typeof P!="function"){if(X1(P||_)===null)continue;break}var K=os(_);K!==null&&(f.splice(p,3),p-=3,su(K,{pending:!0,data:$,method:_.method,action:P},P,$))}}))}function my(f){function p(Wt){return py(Wt,f)}Qf!==null&&py(Qf,f),Jf!==null&&py(Jf,f),tg!==null&&py(tg,f),$v.forEach(p),Vv.forEach(p);for(var _=0;_<eg.length;_++){var P=eg[_];P.blockedOn===f&&(P.blockedOn=null)}for(;0<eg.length&&(_=eg[0],_.blockedOn===null);)K1(_),_.blockedOn===null&&eg.shift();if(_=(f.ownerDocument||f).$$reactFormReplay,_!=null)for(P=0;P<_.length;P+=3){var $=_[P],K=_[P+1],yt=$[yi]||null;if(typeof K=="function")yt||tk(_);else if(yt){var Mt=null;if(K&&K.hasAttribute("formAction")){if($=K,yt=K[yi]||null)Mt=yt.formAction;else if(X1($)!==null)continue}else Mt=yt.action;typeof Mt=="function"?_[P+1]=Mt:(_.splice(P,3),P-=3),tk(_)}}}function ml(){function f(K){K.canIntercept&&K.info==="react-transition"&&K.intercept({handler:function(){return new Promise(function(yt){return $=yt})},focusReset:"manual",scroll:"manual"})}function p(){$!==null&&($(),$=null),P||setTimeout(_,20)}function _(){if(!P&&!navigation.transition){var K=navigation.currentEntry;K&&K.url!=null&&navigation.navigate(K.url,{state:K.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var P=!1,$=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(_,100),function(){P=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),$!==null&&($(),$=null)}}}function Xv(f){this._internalRoot=f}Q0.prototype.render=Xv.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(i(409));var _=p.current,P=Bo();$S(_,P,f,p,null,null)},Q0.prototype.unmount=Xv.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;$S(f.current,2,null,f,null,null),Jm(),p[ci]=null}};function Q0(f){this._internalRoot=f}Q0.prototype.unstable_scheduleHydration=function(f){if(f){var p=Ui();f={blockedOn:null,target:f,priority:p};for(var _=0;_<eg.length&&p!==0&&p<eg[_].priority;_++);eg.splice(_,0,f),_===0&&K1(f)}};var ek=t.version;if(ek!=="19.2.0")throw Error(i(527,ek,"19.2.0"));st.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(i(188)):(f=Object.keys(f).join(","),Error(i(268,f)));return f=c(p),f=f!==null?h(f):null,f=f===null?null:f.stateNode,f};var XT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ct,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J0.isDisabled&&J0.supportsFiber)try{un=J0.inject(XT),kn=J0}catch{}}return Q1.createRoot=function(f,p){if(!r(f))throw Error(i(299));var _=!1,P="",$=cu,K=Jg,yt=wi;return p!=null&&(p.unstable_strictMode===!0&&(_=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onUncaughtError!==void 0&&($=p.onUncaughtError),p.onCaughtError!==void 0&&(K=p.onCaughtError),p.onRecoverableError!==void 0&&(yt=p.onRecoverableError)),p=US(f,1,!1,null,null,_,P,null,$,K,yt,ml),f[ci]=p.current,gt(f),new Xv(p)},Q1.hydrateRoot=function(f,p,_){if(!r(f))throw Error(i(299));var P=!1,$="",K=cu,yt=Jg,Mt=wi,Wt=null;return _!=null&&(_.unstable_strictMode===!0&&(P=!0),_.identifierPrefix!==void 0&&($=_.identifierPrefix),_.onUncaughtError!==void 0&&(K=_.onUncaughtError),_.onCaughtError!==void 0&&(yt=_.onCaughtError),_.onRecoverableError!==void 0&&(Mt=_.onRecoverableError),_.formState!==void 0&&(Wt=_.formState)),p=US(f,1,!0,p,_??null,P,$,Wt,K,yt,Mt,ml),p.context=YS(null),_=p.current,P=Bo(),P=Pe(P),$=Dh(P),$.callback=null,fo(_,$,P),_=P,p.current.lanes=_,We(p,_),du(p),f[ci]=p.current,gt(f),new Q0(p)},Q1.version="19.2.0",Q1}var aI;function oZ(){if(aI)return QT.exports;aI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),QT.exports=sZ(),QT.exports}var eW=oZ();const lZ=Al(eW);var sI="popstate";function cZ(n={}){function t(r,a){let{pathname:s="/",search:o="",hash:l=""}=Vx(r.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),sE("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(r,a){let s=r.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Jw(a))}function i(r,a){Au(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return hZ(t,e,i,n)}function Xa(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Au(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uZ(){return Math.random().toString(36).substring(2,10)}function oI(n,t){return{usr:n.state,key:n.key,idx:t}}function sE(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Vx(t):t,state:e,key:t&&t.key||i||uZ()}}function Jw({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Vx(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function hZ(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",l=null,c=h();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function h(){return(s.state||{idx:null}).idx}function d(){o="POP";let k=h(),A=k==null?null:k-c;c=k,l&&l({action:o,location:w.location,delta:A})}function g(k,A){o="PUSH";let T=sE(w.location,k,A);e&&e(T,k),c=h()+1;let R=oI(T,c),G=w.createHref(T);try{s.pushState(R,"",G)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(G)}a&&l&&l({action:o,location:w.location,delta:1})}function y(k,A){o="REPLACE";let T=sE(w.location,k,A);e&&e(T,k),c=h();let R=oI(T,c),G=w.createHref(T);s.replaceState(R,"",G),a&&l&&l({action:o,location:w.location,delta:0})}function x(k){return dZ(k)}let w={get action(){return o},get location(){return n(r,s)},listen(k){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(sI,d),l=k,()=>{r.removeEventListener(sI,d),l=null}},createHref(k){return t(r,k)},createURL:x,encodeLocation(k){let A=x(k);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:y,go(k){return s.go(k)}};return w}function dZ(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Xa(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Jw(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function nW(n,t,e="/"){return fZ(n,t,e,!1)}function fZ(n,t,e,i){let r=typeof t=="string"?Vx(t):t,a=Yp(r.pathname||"/",e);if(a==null)return null;let s=iW(n);gZ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=CZ(a);o=SZ(s[l],c,i)}return o}function iW(n,t=[],e=[],i="",r=!1){let a=(s,o,l=r,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&l)return;Xa(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let d=Gp([i,h.relativePath]),g=e.concat(h);s.children&&s.children.length>0&&(Xa(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),iW(s.children,t,g,d,l)),!(s.path==null&&!s.index)&&t.push({path:d,score:wZ(d,s.index),routesMeta:g})};return n.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let l of rW(s.path))a(s,o,!0,l)}),t}function rW(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=rW(i.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),r&&o.push(...s),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function gZ(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:_Z(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var pZ=/^:[\w-]+$/,mZ=3,yZ=2,vZ=1,xZ=10,bZ=-2,lI=n=>n==="*";function wZ(n,t){let e=n.split("/"),i=e.length;return e.some(lI)&&(i+=bZ),t&&(i+=yZ),e.filter(r=>!lI(r)).reduce((r,a)=>r+(pZ.test(a)?mZ:a===""?vZ:xZ),i)}function _Z(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function SZ(n,t,e=!1){let{routesMeta:i}=n,r={},a="/",s=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=OC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),g=l.route;if(!d&&c&&e&&!i[i.length-1].route.index&&(d=OC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:Gp([a,d.pathname]),pathnameBase:PZ(Gp([a,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(a=Gp([a,d.pathnameBase]))}return s}function OC(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=kZ(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:d},g)=>{if(h==="*"){let x=o[g]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[g];return d&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:n}}function kZ(n,t=!1,e=!0){Au(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function CZ(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Au(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Yp(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var AZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TZ=n=>AZ.test(n);function MZ(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Vx(n):n,a;if(e)if(TZ(e))a=e;else{if(e.includes("//")){let s=e;e=e.replace(/\/\/+/g,"/"),Au(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${e}`)}e.startsWith("/")?a=cI(e.substring(1),"/"):a=cI(e,t)}else a=t;return{pathname:a,search:EZ(i),hash:jZ(r)}}function cI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function nM(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NZ(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function jD(n){let t=NZ(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function DD(n,t,e,i=!1){let r;typeof n=="string"?r=Vx(n):(r={...n},Xa(!r.pathname||!r.pathname.includes("?"),nM("?","pathname","search",r)),Xa(!r.pathname||!r.pathname.includes("#"),nM("#","pathname","hash",r)),Xa(!r.search||!r.search.includes("#"),nM("#","search","hash",r)));let a=n===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=e;else{let d=t.length-1;if(!i&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),d-=1;r.pathname=g.join("/")}o=d>=0?t[d]:"/"}let l=MZ(r,o),c=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var Gp=n=>n.join("/").replace(/\/\/+/g,"/"),PZ=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),EZ=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jZ=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DZ(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aW=["POST","PUT","PATCH","DELETE"];new Set(aW);var OZ=["GET",...aW];new Set(OZ);var Jb=N.createContext(null);Jb.displayName="DataRouter";var dA=N.createContext(null);dA.displayName="DataRouterState";N.createContext(!1);var sW=N.createContext({isTransitioning:!1});sW.displayName="ViewTransition";var LZ=N.createContext(new Map);LZ.displayName="Fetchers";var RZ=N.createContext(null);RZ.displayName="Await";var pf=N.createContext(null);pf.displayName="Navigation";var O_=N.createContext(null);O_.displayName="Location";var mf=N.createContext({outlet:null,matches:[],isDataRoute:!1});mf.displayName="Route";var OD=N.createContext(null);OD.displayName="RouteError";function IZ(n,{relative:t}={}){Xa(t1(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=N.useContext(pf),{hash:r,pathname:a,search:s}=L_(n,{relative:t}),o=a;return e!=="/"&&(o=a==="/"?e:Gp([e,a])),i.createHref({pathname:o,search:s,hash:r})}function t1(){return N.useContext(O_)!=null}function no(){return Xa(t1(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(O_).location}var oW="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lW(n){N.useContext(pf).static||N.useLayoutEffect(n)}function Gi(){let{isDataRoute:n}=N.useContext(mf);return n?KZ():zZ()}function zZ(){Xa(t1(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Jb),{basename:t,navigator:e}=N.useContext(pf),{matches:i}=N.useContext(mf),{pathname:r}=no(),a=JSON.stringify(jD(i)),s=N.useRef(!1);return lW(()=>{s.current=!0}),N.useCallback((l,c={})=>{if(Au(s.current,oW),!s.current)return;if(typeof l=="number"){e.go(l);return}let h=DD(l,JSON.parse(a),r,c.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gp([t,h.pathname])),(c.replace?e.replace:e.push)(h,c.state,c)},[t,e,a,r,n])}N.createContext(null);function rc(){let{matches:n}=N.useContext(mf),t=n[n.length-1];return t?t.params:{}}function L_(n,{relative:t}={}){let{matches:e}=N.useContext(mf),{pathname:i}=no(),r=JSON.stringify(jD(e));return N.useMemo(()=>DD(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function FZ(n,t){return cW(n,t)}function cW(n,t,e,i,r){Xa(t1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(pf),{matches:s}=N.useContext(mf),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",d=o&&o.route;{let T=d&&d.path||"";uW(c,!d||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=no(),y;if(t){let T=typeof t=="string"?Vx(t):t;Xa(h==="/"||T.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=g;let x=y.pathname||"/",w=x;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let k=nW(n,{pathname:w});Au(d||k!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Au(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=UZ(k&&k.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Gp([h,a.encodeLocation?a.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Gp([h,a.encodeLocation?a.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),s,e,i,r);return t&&A?N.createElement(O_.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function BZ(){let n=qZ(),t=DZ(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),e?N.createElement("pre",{style:r},e):null,s)}var HZ=N.createElement(BZ,null),GZ=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?N.createElement(mf.Provider,{value:this.props.routeContext},N.createElement(OD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WZ({routeContext:n,match:t,children:e}){let i=N.useContext(Jb);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(mf.Provider,{value:n},e)}function UZ(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let a=n,s=e?.errors;if(s!=null){let h=a.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);Xa(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,l=-1;if(e)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=h),d.route.id){let{loaderData:g,errors:y}=e,x=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||x){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let c=e&&i?(h,d)=>{i(h,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:d})}:void 0;return a.reduceRight((h,d,g)=>{let y,x=!1,w=null,k=null;e&&(y=s&&d.route.id?s[d.route.id]:void 0,w=d.route.errorElement||HZ,o&&(l<0&&g===0?(uW("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,k=null):l===g&&(x=!0,k=d.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,g+1)),T=()=>{let R;return y?R=w:x?R=k:d.route.Component?R=N.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=h,N.createElement(WZ,{match:d,routeContext:{outlet:h,matches:A,isDataRoute:e!=null},children:R})};return e&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?N.createElement(GZ,{location:e.location,revalidation:e.revalidation,component:w,error:y,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:c}):T()},null)}function LD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YZ(n){let t=N.useContext(Jb);return Xa(t,LD(n)),t}function $Z(n){let t=N.useContext(dA);return Xa(t,LD(n)),t}function VZ(n){let t=N.useContext(mf);return Xa(t,LD(n)),t}function RD(n){let t=VZ(n),e=t.matches[t.matches.length-1];return Xa(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function XZ(){return RD("useRouteId")}function qZ(){let n=N.useContext(OD),t=$Z("useRouteError"),e=RD("useRouteError");return n!==void 0?n:t.errors?.[e]}function KZ(){let{router:n}=YZ("useNavigate"),t=RD("useNavigate"),e=N.useRef(!1);return lW(()=>{e.current=!0}),N.useCallback(async(r,a={})=>{Au(e.current,oW),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...a}))},[n,t])}var uI={};function uW(n,t,e){!t&&!uI[n]&&(uI[n]=!0,Au(!1,e))}N.memo(ZZ);function ZZ({routes:n,future:t,state:e,unstable_onError:i}){return cW(n,void 0,e,i,t)}function hI({to:n,replace:t,state:e,relative:i}){Xa(t1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=N.useContext(pf);Au(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(mf),{pathname:s}=no(),o=Gi(),l=DD(n,jD(a),s,i==="path"),c=JSON.stringify(l);return N.useEffect(()=>{o(JSON.parse(c),{replace:t,state:e,relative:i})},[o,c,i,t,e]),null}function mn(n){Xa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QZ({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:a=!1}){Xa(!t1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),o=N.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof e=="string"&&(e=Vx(e));let{pathname:l="/",search:c="",hash:h="",state:d=null,key:g="default"}=e,y=N.useMemo(()=>{let x=Yp(l,s);return x==null?null:{location:{pathname:x,search:c,hash:h,state:d,key:g},navigationType:i}},[s,l,c,h,d,g,i]);return Au(y!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:N.createElement(pf.Provider,{value:o},N.createElement(O_.Provider,{children:t,value:y}))}function JZ({children:n,location:t}){return FZ(oE(n),t)}function oE(n,t=[]){let e=[];return N.Children.forEach(n,(i,r)=>{if(!N.isValidElement(i))return;let a=[...t,r];if(i.type===N.Fragment){e.push.apply(e,oE(i.props.children,a));return}Xa(i.type===mn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xa(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=oE(i.props.children,a)),e.push(s)}),e}var dC="get",fC="application/x-www-form-urlencoded";function fA(n){return n!=null&&typeof n.tagName=="string"}function tQ(n){return fA(n)&&n.tagName.toLowerCase()==="button"}function eQ(n){return fA(n)&&n.tagName.toLowerCase()==="form"}function nQ(n){return fA(n)&&n.tagName.toLowerCase()==="input"}function iQ(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rQ(n,t){return n.button===0&&(!t||t==="_self")&&!iQ(n)}function lE(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,e)=>{let i=n[e];return t.concat(Array.isArray(i)?i.map(r=>[e,r]):[[e,i]])},[]))}function aQ(n,t){let e=lE(n);return t&&t.forEach((i,r)=>{e.has(r)||t.getAll(r).forEach(a=>{e.append(r,a)})}),e}var ik=null;function sQ(){if(ik===null)try{new FormData(document.createElement("form"),0),ik=!1}catch{ik=!0}return ik}var oQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iM(n){return n!=null&&!oQ.has(n)?(Au(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fC}"`),null):n}function lQ(n,t){let e,i,r,a,s;if(eQ(n)){let o=n.getAttribute("action");i=o?Yp(o,t):null,e=n.getAttribute("method")||dC,r=iM(n.getAttribute("enctype"))||fC,a=new FormData(n)}else if(tQ(n)||nQ(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?Yp(l,t):null,e=n.getAttribute("formmethod")||o.getAttribute("method")||dC,r=iM(n.getAttribute("formenctype"))||iM(o.getAttribute("enctype"))||fC,a=new FormData(o,n),!sQ()){let{name:c,type:h,value:d}=n;if(h==="image"){let g=c?`${c}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else c&&a.append(c,d)}}else{if(fA(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=dC,i=null,r=fC,s=n}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ID(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function cQ(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Yp(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function uQ(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hQ(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dQ(n,t,e){let i=await Promise.all(n.map(async r=>{let a=t.routes[r.route.id];if(a){let s=await uQ(a,e);return s.links?s.links():[]}return[]}));return mQ(i.flat(1).filter(hQ).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function dI(n,t,e,i,r,a){let s=(l,c)=>e[c]?l.route.id!==e[c].route.id:!0,o=(l,c)=>e[c].pathname!==l.pathname||e[c].route.path?.endsWith("*")&&e[c].params["*"]!==l.params["*"];return a==="assets"?t.filter((l,c)=>s(l,c)||o(l,c)):a==="data"?t.filter((l,c)=>{let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function fQ(n,t,{includeHydrateFallback:e}={}){return gQ(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function gQ(n){return[...new Set(n)]}function pQ(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function mQ(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let a=JSON.stringify(pQ(r));return e.has(a)||(e.add(a),i.push({key:a,link:r})),i},[])}function hW(){let n=N.useContext(Jb);return ID(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yQ(){let n=N.useContext(dA);return ID(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zD=N.createContext(void 0);zD.displayName="FrameworkContext";function dW(){let n=N.useContext(zD);return ID(n,"You must render this element inside a <HydratedRouter> element"),n}function vQ(n,t){let e=N.useContext(zD),[i,r]=N.useState(!1),[a,s]=N.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=t,g=N.useRef(null);N.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let w=A=>{A.forEach(T=>{s(T.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[n]),N.useEffect(()=>{if(i){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[i]);let y=()=>{r(!0)},x=()=>{r(!1),s(!1)};return e?n!=="intent"?[a,g,{}]:[a,g,{onFocus:J1(o,y),onBlur:J1(l,x),onMouseEnter:J1(c,y),onMouseLeave:J1(h,x),onTouchStart:J1(d,y)}]:[!1,g,{}]}function J1(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function xQ({page:n,...t}){let{router:e}=hW(),i=N.useMemo(()=>nW(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?N.createElement(wQ,{page:n,matches:i,...t}):null}function bQ(n){let{manifest:t,routeModules:e}=dW(),[i,r]=N.useState([]);return N.useEffect(()=>{let a=!1;return dQ(n,t,e).then(s=>{a||r(s)}),()=>{a=!0}},[n,t,e]),i}function wQ({page:n,matches:t,...e}){let i=no(),{manifest:r,routeModules:a}=dW(),{basename:s}=hW(),{loaderData:o,matches:l}=yQ(),c=N.useMemo(()=>dI(n,t,l,r,i,"data"),[n,t,l,r,i]),h=N.useMemo(()=>dI(n,t,l,r,i,"assets"),[n,t,l,r,i]),d=N.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,w=!1;if(t.forEach(A=>{let T=r.routes[A.route.id];!T||!T.hasLoader||(!c.some(R=>R.route.id===A.route.id)&&A.route.id in o&&a[A.route.id]?.shouldRevalidate||T.hasClientLoader?w=!0:x.add(A.route.id))}),x.size===0)return[];let k=cQ(n,s,"data");return w&&x.size>0&&k.searchParams.set("_routes",t.filter(A=>x.has(A.route.id)).map(A=>A.route.id).join(",")),[k.pathname+k.search]},[s,o,i,r,c,t,n,a]),g=N.useMemo(()=>fQ(h,r),[h,r]),y=bQ(h);return N.createElement(N.Fragment,null,d.map(x=>N.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),g.map(x=>N.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),y.map(({key:x,link:w})=>N.createElement("link",{key:x,nonce:e.nonce,...w})))}function _Q(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var fW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fW&&(window.__reactRouterVersion="7.9.6")}catch{}function SQ({basename:n,children:t,window:e}){let i=N.useRef();i.current==null&&(i.current=cZ({window:e,v5Compat:!0}));let r=i.current,[a,s]=N.useState({action:r.action,location:r.location}),o=N.useCallback(l=>{N.startTransition(()=>s(l))},[s]);return N.useLayoutEffect(()=>r.listen(o),[r,o]),N.createElement(QZ,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:r})}var gW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dd=N.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:h,viewTransition:d,...g},y){let{basename:x}=N.useContext(pf),w=typeof c=="string"&&gW.test(c),k,A=!1;if(typeof c=="string"&&w&&(k=c,fW))try{let J=new URL(window.location.href),nt=c.startsWith("//")?new URL(J.protocol+c):new URL(c),V=Yp(nt.pathname,x);nt.origin===J.origin&&V!=null?c=V+nt.search+nt.hash:A=!0}catch{Au(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=IZ(c,{relative:r}),[R,G,z]=vQ(i,g),F=AQ(c,{replace:s,state:o,target:l,preventScrollReset:h,relative:r,viewTransition:d});function H(J){t&&t(J),J.defaultPrevented||F(J)}let Y=N.createElement("a",{...g,...z,href:k||T,onClick:A||a?t:H,ref:_Q(y,G),target:l,"data-discover":!w&&e==="render"?"true":void 0});return R&&!w?N.createElement(N.Fragment,null,Y,N.createElement(xQ,{page:T})):Y});dd.displayName="Link";var Ho=N.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:o,children:l,...c},h){let d=L_(s,{relative:c.relative}),g=no(),y=N.useContext(dA),{navigator:x,basename:w}=N.useContext(pf),k=y!=null&&EQ(d)&&o===!0,A=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,T=g.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;e||(T=T.toLowerCase(),R=R?R.toLowerCase():null,A=A.toLowerCase()),R&&w&&(R=Yp(R,w)||R);const G=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let z=T===A||!r&&T.startsWith(A)&&T.charAt(G)==="/",F=R!=null&&(R===A||!r&&R.startsWith(A)&&R.charAt(A.length)==="/"),H={isActive:z,isPending:F,isTransitioning:k},Y=z?t:void 0,J;typeof i=="function"?J=i(H):J=[i,z?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let nt=typeof a=="function"?a(H):a;return N.createElement(dd,{...c,"aria-current":Y,className:J,ref:h,style:nt,to:s,viewTransition:o},typeof l=="function"?l(H):l)});Ho.displayName="NavLink";var kQ=N.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:a,method:s=dC,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...g},y)=>{let x=NQ(),w=PQ(o,{relative:c}),k=s.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&gW.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let G=R.nativeEvent.submitter,z=G?.getAttribute("formmethod")||s;x(G||R.currentTarget,{fetcherKey:t,method:z,navigate:e,replace:r,state:a,relative:c,preventScrollReset:h,viewTransition:d})};return N.createElement("form",{ref:y,method:k,action:w,onSubmit:i?l:T,...g,"data-discover":!A&&n==="render"?"true":void 0})});kQ.displayName="Form";function CQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pW(n){let t=N.useContext(Jb);return Xa(t,CQ(n)),t}function AQ(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let o=Gi(),l=no(),c=L_(n,{relative:a});return N.useCallback(h=>{if(rQ(h,t)){h.preventDefault();let d=e!==void 0?e:Jw(l)===Jw(c);o(n,{replace:d,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[l,o,c,e,i,t,n,r,a,s])}function yf(n){Au(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(lE(n)),e=N.useRef(!1),i=no(),r=N.useMemo(()=>aQ(i.search,e.current?null:t.current),[i.search]),a=Gi(),s=N.useCallback((o,l)=>{const c=lE(typeof o=="function"?o(new URLSearchParams(r)):o);e.current=!0,a("?"+c,l)},[a,r]);return[r,s]}var TQ=0,MQ=()=>`__${String(++TQ)}__`;function NQ(){let{router:n}=pW("useSubmit"),{basename:t}=N.useContext(pf),e=XZ();return N.useCallback(async(i,r={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=lQ(i,t);if(r.navigate===!1){let h=r.fetcherKey||MQ();await n.fetch(h,e,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function PQ(n,{relative:t}={}){let{basename:e}=N.useContext(pf),i=N.useContext(mf);Xa(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...L_(n||".",{relative:t})},s=no();if(n==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let h=o.toString();a.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:Gp([e,a.pathname])),Jw(a)}function EQ(n,{relative:t}={}){let e=N.useContext(sW);Xa(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pW("useViewTransitionState"),r=L_(n,{relative:t});if(!e.isTransitioning)return!1;let a=Yp(e.currentLocation.pathname,i)||e.currentLocation.pathname,s=Yp(e.nextLocation.pathname,i)||e.nextLocation.pathname;return OC(r.pathname,s)!=null||OC(r.pathname,a)!=null}var R_=tW();function I_(n){return n+.5|0}const My=(n,t,e)=>Math.max(Math.min(n,e),t);function Tw(n){return My(I_(n*2.55),0,255)}function Ry(n){return My(I_(n*255),0,255)}function Pp(n){return My(I_(n/2.55)/100,0,1)}function fI(n){return My(I_(n*100),0,100)}const Kh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cE=[..."0123456789ABCDEF"],jQ=n=>cE[n&15],DQ=n=>cE[(n&240)>>4]+cE[n&15],rk=n=>(n&240)>>4===(n&15),OQ=n=>rk(n.r)&&rk(n.g)&&rk(n.b)&&rk(n.a);function LQ(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Kh[n[1]]*17,g:255&Kh[n[2]]*17,b:255&Kh[n[3]]*17,a:t===5?Kh[n[4]]*17:255}:(t===7||t===9)&&(e={r:Kh[n[1]]<<4|Kh[n[2]],g:Kh[n[3]]<<4|Kh[n[4]],b:Kh[n[5]]<<4|Kh[n[6]],a:t===9?Kh[n[7]]<<4|Kh[n[8]]:255})),e}const RQ=(n,t)=>n<255?t(n):"";function IQ(n){var t=OQ(n)?jQ:DQ;return n?"#"+t(n.r)+t(n.g)+t(n.b)+RQ(n.a,t):void 0}const zQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mW(n,t,e){const i=t*Math.min(e,1-e),r=(a,s=(a+n/30)%12)=>e-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function FQ(n,t,e){const i=(r,a=(r+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function BQ(n,t,e){const i=mW(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function HQ(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function FD(n){const e=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(e,i,r),s=Math.min(e,i,r),o=(a+s)/2;let l,c,h;return a!==s&&(h=a-s,c=o>.5?h/(2-a-s):h/(a+s),l=HQ(e,i,r,h,a),l=l*60+.5),[l|0,c||0,o]}function BD(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Ry)}function HD(n,t,e){return BD(mW,n,t,e)}function GQ(n,t,e){return BD(BQ,n,t,e)}function WQ(n,t,e){return BD(FQ,n,t,e)}function yW(n){return(n%360+360)%360}function UQ(n){const t=zQ.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Tw(+t[5]):Ry(+t[5]));const r=yW(+t[2]),a=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?i=GQ(r,a,s):t[1]==="hsv"?i=WQ(r,a,s):i=HD(r,a,s),{r:i[0],g:i[1],b:i[2],a:e}}function YQ(n,t){var e=FD(n);e[0]=yW(e[0]+t),e=HD(e),n.r=e[0],n.g=e[1],n.b=e[2]}function $Q(n){if(!n)return;const t=FD(n),e=t[0],i=fI(t[1]),r=fI(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Pp(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const gI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pI={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VQ(){const n={},t=Object.keys(pI),e=Object.keys(gI);let i,r,a,s,o;for(i=0;i<t.length;i++){for(s=o=t[i],r=0;r<e.length;r++)a=e[r],o=o.replace(a,gI[a]);a=parseInt(pI[s],16),n[o]=[a>>16&255,a>>8&255,a&255]}return n}let ak;function XQ(n){ak||(ak=VQ(),ak.transparent=[0,0,0,0]);const t=ak[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const qQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function KQ(n){const t=qQ.exec(n);let e=255,i,r,a;if(t){if(t[7]!==i){const s=+t[7];e=t[8]?Tw(s):My(s*255,0,255)}return i=+t[1],r=+t[3],a=+t[5],i=255&(t[2]?Tw(i):My(i,0,255)),r=255&(t[4]?Tw(r):My(r,0,255)),a=255&(t[6]?Tw(a):My(a,0,255)),{r:i,g:r,b:a,a:e}}}function ZQ(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Pp(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const rM=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,tb=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function QQ(n,t,e){const i=tb(Pp(n.r)),r=tb(Pp(n.g)),a=tb(Pp(n.b));return{r:Ry(rM(i+e*(tb(Pp(t.r))-i))),g:Ry(rM(r+e*(tb(Pp(t.g))-r))),b:Ry(rM(a+e*(tb(Pp(t.b))-a))),a:n.a+e*(t.a-n.a)}}function sk(n,t,e){if(n){let i=FD(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=HD(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function vW(n,t){return n&&Object.assign(t||{},n)}function mI(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ry(n[3]))):(t=vW(n,{r:0,g:0,b:0,a:1}),t.a=Ry(t.a)),t}function JQ(n){return n.charAt(0)==="r"?KQ(n):UQ(n)}let xW=class uE{constructor(t){if(t instanceof uE)return t;const e=typeof t;let i;e==="object"?i=mI(t):e==="string"&&(i=LQ(t)||XQ(t)||JQ(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=vW(this._rgb);return t&&(t.a=Pp(t.a)),t}set rgb(t){this._rgb=mI(t)}rgbString(){return this._valid?ZQ(this._rgb):void 0}hexString(){return this._valid?IQ(this._rgb):void 0}hslString(){return this._valid?$Q(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let a;const s=e===a?.5:e,o=2*s-1,l=i.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-c,i.r=255&c*i.r+a*r.r+.5,i.g=255&c*i.g+a*r.g+.5,i.b=255&c*i.b+a*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=QQ(this._rgb,t._rgb,e)),this}clone(){return new uE(this.rgb)}alpha(t){return this._rgb.a=Ry(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=I_(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return sk(this._rgb,2,t),this}darken(t){return sk(this._rgb,2,-t),this}saturate(t){return sk(this._rgb,1,t),this}desaturate(t){return sk(this._rgb,1,-t),this}rotate(t){return YQ(this._rgb,t),this}};function Cp(){}const tJ=(()=>{let n=0;return()=>n++})();function di(n){return n==null}function Or(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function fi(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function $a(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function nh(n,t){return $a(n)?n:t}function sn(n,t){return typeof n>"u"?t:n}const eJ=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,bW=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Pn(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Bi(n,t,e,i){let r,a,s;if(Or(n))for(a=n.length,r=0;r<a;r++)t.call(e,n[r],r);else if(fi(n))for(s=Object.keys(n),a=s.length,r=0;r<a;r++)t.call(e,n[s[r]],s[r])}function LC(n,t){let e,i,r,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],a=t[e],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function RC(n){if(Or(n))return n.map(RC);if(fi(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=RC(n[e[r]]);return t}return n}function wW(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function nJ(n,t,e,i){if(!wW(n))return;const r=t[n],a=e[n];fi(r)&&fi(a)?Sg(r,a,i):t[n]=RC(a)}function Sg(n,t,e){const i=Or(t)?t:[t],r=i.length;if(!fi(n))return n;e=e||{};const a=e.merger||nJ;let s;for(let o=0;o<r;++o){if(s=i[o],!fi(s))continue;const l=Object.keys(s);for(let c=0,h=l.length;c<h;++c)a(l[c],n,s,e)}return n}function zw(n,t){return Sg(n,t,{merger:iJ})}function iJ(n,t,e){if(!wW(n))return;const i=t[n],r=e[n];fi(i)&&fi(r)?zw(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=RC(r))}const yI={"":n=>n,x:n=>n.x,y:n=>n.y};function rJ(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function aJ(n){const t=rJ(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Hy(n,t){return(yI[t]||(yI[t]=aJ(t)))(n)}function GD(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Tu=n=>typeof n<"u",Su=n=>typeof n=="function",vI=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function sJ(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const hi=Math.PI,ba=2*hi,oJ=ba+hi,IC=Number.POSITIVE_INFINITY,WD=hi/180,Ia=hi/2,sd=hi/4,zC=hi*2/3,Ny=Math.log10,ud=Math.sign;function xx(n,t,e){return Math.abs(n-t)<e}function xI(n){const t=Math.round(n);n=xx(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ny(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function lJ(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,a)=>r-a).pop(),t}function cJ(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Gy(n){return!cJ(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function uJ(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function _W(n,t,e){let i,r,a;for(i=0,r=n.length;i<r;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function to(n){return n*(hi/180)}function gA(n){return n*(180/hi)}function bI(n){if(!$a(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function FC(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*hi&&(a+=ba),{angle:a,distance:r}}function Pb(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function hJ(n,t){return(n-t+oJ)%ba-hi}function Ql(n){return(n%ba+ba)%ba}function t_(n,t,e,i){const r=Ql(n),a=Ql(t),s=Ql(e),o=Ql(a-r),l=Ql(s-r),c=Ql(r-a),h=Ql(r-s);return r===a||r===s||i&&a===s||o>l&&c<h}function Yo(n,t,e){return Math.max(t,Math.min(e,n))}function dJ(n){return Yo(n,-32768,32767)}function Op(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function UD(n,t,e){e=e||(s=>n[s]<t);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,e(a)?r=a:i=a;return{lo:r,hi:i}}const Lp=(n,t,e,i)=>UD(n,e,i?r=>{const a=n[r][t];return a<e||a===e&&n[r+1][t]===e}:r=>n[r][t]<e),fJ=(n,t,e)=>UD(n,e,i=>n[i][t]>=e);function gJ(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const SW=["push","pop","shift","splice","unshift"];function pJ(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),SW.forEach(e=>{const i="_onData"+GD(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const s=r.apply(this,a);return n._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...a)}),s}})})}function wI(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(SW.forEach(a=>{delete n[a]}),delete n._chartjs)}function kW(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const CW=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function AW(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,CW.call(window,()=>{i=!1,n.apply(t,e)}))}}function mJ(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const YD=n=>n==="start"?"left":n==="end"?"right":"center",Kl=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,yJ=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function TW(n,t,e){const i=t.length;let r=0,a=i;if(n._sorted){const{iScale:s,vScale:o,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=s.axis,{min:d,max:g,minDefined:y,maxDefined:x}=s.getUserBounds();if(y){if(r=Math.min(Lp(l,h,d).lo,e?i:Lp(t,h,s.getPixelForValue(d)).lo),c){const w=l.slice(0,r+1).reverse().findIndex(k=>!di(k[o.axis]));r-=Math.max(0,w)}r=Yo(r,0,i-1)}if(x){let w=Math.max(Lp(l,s.axis,g,!0).hi+1,e?0:Lp(t,h,s.getPixelForValue(g),!0).hi+1);if(c){const k=l.slice(w-1).findIndex(A=>!di(A[o.axis]));w+=Math.max(0,k)}a=Yo(w,r,i)-r}else a=i-r}return{start:r,count:a}}function MW(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),a}const ok=n=>n===0||n===1,_I=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ba/e)),SI=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ba/e)+1,Fw={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ia)+1,easeOutSine:n=>Math.sin(n*Ia),easeInOutSine:n=>-.5*(Math.cos(hi*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ok(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ok(n)?n:_I(n,.075,.3),easeOutElastic:n=>ok(n)?n:SI(n,.075,.3),easeInOutElastic(n){return ok(n)?n:n<.5?.5*_I(n*2,.1125,.45):.5+.5*SI(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Fw.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Fw.easeInBounce(n*2)*.5:Fw.easeOutBounce(n*2-1)*.5+.5};function $D(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function kI(n){return $D(n)?n:new xW(n)}function aM(n){return $D(n)?n:new xW(n).saturate(.5).darken(.1).hexString()}const vJ=["x","y","borderWidth","radius","tension"],xJ=["color","borderColor","backgroundColor"];function bJ(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:xJ},numbers:{type:"number",properties:vJ}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function wJ(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const CI=new Map;function _J(n,t){t=t||{};const e=n+JSON.stringify(t);let i=CI.get(e);return i||(i=new Intl.NumberFormat(n,t),CI.set(e,i)),i}function z_(n,t,e){return _J(t,e).format(n)}const NW={values(n){return Or(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,a=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),a=SJ(n,e)}const s=Ny(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),z_(n,i,l)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Ny(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?NW.numeric.call(this,n,t,e):""}};function SJ(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var pA={formatters:NW};function kJ(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Px=Object.create(null),hE=Object.create(null);function Bw(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function sM(n,t,e){return typeof t=="string"?Sg(Bw(n,t),e):Sg(Bw(n,""),t)}class CJ{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>aM(r.backgroundColor),this.hoverBorderColor=(i,r)=>aM(r.borderColor),this.hoverColor=(i,r)=>aM(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return sM(this,t,e)}get(t){return Bw(this,t)}describe(t,e){return sM(hE,t,e)}override(t,e){return sM(Px,t,e)}route(t,e,i,r){const a=Bw(this,t),s=Bw(this,i),o="_"+e;Object.defineProperties(a,{[o]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[o],c=s[r];return fi(l)?Object.assign({},c,l):sn(l,c)},set(l){this[o]=l}}})}apply(t){t.forEach(e=>e(this))}}var gr=new CJ({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bJ,wJ,kJ]);function AJ(n){return!n||di(n.size)||di(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function BC(n,t,e,i,r){let a=t[r];return a||(a=t[r]=n.measureText(r).width,e.push(r)),a>i&&(i=a),i}function TJ(n,t,e,i){i=i||{};let r=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let s=0;const o=e.length;let l,c,h,d,g;for(l=0;l<o;l++)if(d=e[l],d!=null&&!Or(d))s=BC(n,r,a,s,d);else if(Or(d))for(c=0,h=d.length;c<h;c++)g=d[c],g!=null&&!Or(g)&&(s=BC(n,r,a,s,g));n.restore();const y=a.length/2;if(y>e.length){for(l=0;l<y;l++)delete r[a[l]];a.splice(0,y)}return s}function qv(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function AI(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function dE(n,t,e,i){PW(n,t,e,i,null)}function PW(n,t,e,i,r){let a,s,o,l,c,h,d,g;const y=t.pointStyle,x=t.rotation,w=t.radius;let k=(x||0)*WD;if(y&&typeof y=="object"&&(a=y.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(k),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),y){default:r?n.ellipse(e,i,r/2,w,0,0,ba):n.arc(e,i,w,0,ba),n.closePath();break;case"triangle":h=r?r/2:w,n.moveTo(e+Math.sin(k)*h,i-Math.cos(k)*w),k+=zC,n.lineTo(e+Math.sin(k)*h,i-Math.cos(k)*w),k+=zC,n.lineTo(e+Math.sin(k)*h,i-Math.cos(k)*w),n.closePath();break;case"rectRounded":c=w*.516,l=w-c,s=Math.cos(k+sd)*l,d=Math.cos(k+sd)*(r?r/2-c:l),o=Math.sin(k+sd)*l,g=Math.sin(k+sd)*(r?r/2-c:l),n.arc(e-d,i-o,c,k-hi,k-Ia),n.arc(e+g,i-s,c,k-Ia,k),n.arc(e+d,i+o,c,k,k+Ia),n.arc(e-g,i+s,c,k+Ia,k+hi),n.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*w,h=r?r/2:l,n.rect(e-h,i-l,2*h,2*l);break}k+=sd;case"rectRot":d=Math.cos(k)*(r?r/2:w),s=Math.cos(k)*w,o=Math.sin(k)*w,g=Math.sin(k)*(r?r/2:w),n.moveTo(e-d,i-o),n.lineTo(e+g,i-s),n.lineTo(e+d,i+o),n.lineTo(e-g,i+s),n.closePath();break;case"crossRot":k+=sd;case"cross":d=Math.cos(k)*(r?r/2:w),s=Math.cos(k)*w,o=Math.sin(k)*w,g=Math.sin(k)*(r?r/2:w),n.moveTo(e-d,i-o),n.lineTo(e+d,i+o),n.moveTo(e+g,i-s),n.lineTo(e-g,i+s);break;case"star":d=Math.cos(k)*(r?r/2:w),s=Math.cos(k)*w,o=Math.sin(k)*w,g=Math.sin(k)*(r?r/2:w),n.moveTo(e-d,i-o),n.lineTo(e+d,i+o),n.moveTo(e+g,i-s),n.lineTo(e-g,i+s),k+=sd,d=Math.cos(k)*(r?r/2:w),s=Math.cos(k)*w,o=Math.sin(k)*w,g=Math.sin(k)*(r?r/2:w),n.moveTo(e-d,i-o),n.lineTo(e+d,i+o),n.moveTo(e+g,i-s),n.lineTo(e-g,i+s);break;case"line":s=r?r/2:Math.cos(k)*w,o=Math.sin(k)*w,n.moveTo(e-s,i-o),n.lineTo(e+s,i+o);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(k)*(r?r/2:w),i+Math.sin(k)*w);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function yg(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function e1(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function n1(n){n.restore()}function MJ(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function NJ(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function PJ(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),di(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function EJ(n,t,e,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=e-a.actualBoundingBoxAscent,c=e+a.actualBoundingBoxDescent,h=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(s,h),n.lineTo(o,h),n.stroke()}}function jJ(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ex(n,t,e,i,r,a={}){const s=Or(t)?t:[t],o=a.strokeWidth>0&&a.strokeColor!=="";let l,c;for(n.save(),n.font=r.string,PJ(n,a),l=0;l<s.length;++l)c=s[l],a.backdrop&&jJ(n,a.backdrop),o&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),di(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(c,e,i,a.maxWidth)),n.fillText(c,e,i,a.maxWidth),EJ(n,e,i,c,a),i+=Number(r.lineHeight);n.restore()}function Eb(n,t){const{x:e,y:i,w:r,h:a,radius:s}=t;n.arc(e+s.topLeft,i+s.topLeft,s.topLeft,1.5*hi,hi,!0),n.lineTo(e,i+a-s.bottomLeft),n.arc(e+s.bottomLeft,i+a-s.bottomLeft,s.bottomLeft,hi,Ia,!0),n.lineTo(e+r-s.bottomRight,i+a),n.arc(e+r-s.bottomRight,i+a-s.bottomRight,s.bottomRight,Ia,0,!0),n.lineTo(e+r,i+s.topRight),n.arc(e+r-s.topRight,i+s.topRight,s.topRight,0,-Ia,!0),n.lineTo(e+s.topLeft,i)}const DJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OJ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function LJ(n,t){const e=(""+n).match(DJ);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const RJ=n=>+n||0;function VD(n,t){const e={},i=fi(t),r=i?Object.keys(t):t,a=fi(n)?i?s=>sn(n[s],n[t[s]]):s=>n[s]:()=>n;for(const s of r)e[s]=RJ(a(s));return e}function EW(n){return VD(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Iy(n){return VD(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Is(n){const t=EW(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function is(n,t){n=n||{},t=t||gr.font;let e=sn(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=sn(n.style,t.style);i&&!(""+i).match(OJ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:sn(n.family,t.family),lineHeight:LJ(sn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:sn(n.weight,t.weight),string:""};return r.string=AJ(r),r}function La(n,t,e,i){let r,a,s;for(r=0,a=n.length;r<a;++r)if(s=n[r],s!==void 0&&(t!==void 0&&typeof s=="function"&&(s=s(t)),e!==void 0&&Or(s)&&(s=s[e%s.length]),s!==void 0))return s}function IJ(n,t,e){const{min:i,max:r}=n,a=bW(t,(r-i)/2),s=(o,l)=>e&&o===0?0:o+l;return{min:s(i,-Math.abs(a)),max:s(r,a)}}function Zy(n,t){return Object.assign(Object.create(n),t)}function XD(n,t=[""],e,i,r=()=>n[0]){const a=e||n;typeof i>"u"&&(i=LW("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:o=>XD([o,...n],t,a,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete n[0][l],!0},get(o,l){return DW(o,l,()=>YJ(l,t,n,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,l){return MI(o).includes(l)},ownKeys(o){return MI(o)},set(o,l,c){const h=o._storage||(o._storage=r());return o[l]=h[l]=c,delete o._keys,!0}})}function jb(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:jW(n,i),setContext:a=>jb(n,a,e,i),override:a=>jb(n.override(a),t,e,i)};return new Proxy(r,{deleteProperty(a,s){return delete a[s],delete n[s],!0},get(a,s,o){return DW(a,s,()=>FJ(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(a,s,o){return n[s]=o,delete a[s],!0}})}function jW(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Su(e)?e:()=>e,isIndexable:Su(i)?i:()=>i}}const zJ=(n,t)=>n?n+GD(t):t,qD=(n,t)=>fi(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function DW(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function FJ(n,t,e){const{_proxy:i,_context:r,_subProxy:a,_descriptors:s}=n;let o=i[t];return Su(o)&&s.isScriptable(t)&&(o=BJ(t,o,n,e)),Or(o)&&o.length&&(o=HJ(t,o,n,s.isIndexable)),qD(t,o)&&(o=jb(o,r,a&&a[t],s)),o}function BJ(n,t,e,i){const{_proxy:r,_context:a,_subProxy:s,_stack:o}=e;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let l=t(a,s||i);return o.delete(n),qD(n,l)&&(l=KD(r._scopes,r,n,l)),l}function HJ(n,t,e,i){const{_proxy:r,_context:a,_subProxy:s,_descriptors:o}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(fi(t[0])){const l=t,c=r._scopes.filter(h=>h!==l);t=[];for(const h of l){const d=KD(c,r,n,h);t.push(jb(d,a,s&&s[n],o))}}return t}function OW(n,t,e){return Su(n)?n(t,e):n}const GJ=(n,t)=>n===!0?t:typeof n=="string"?Hy(t,n):void 0;function WJ(n,t,e,i,r){for(const a of t){const s=GJ(e,a);if(s){n.add(s);const o=OW(s._fallback,e,r);if(typeof o<"u"&&o!==e&&o!==i)return o}else if(s===!1&&typeof i<"u"&&e!==i)return null}return!1}function KD(n,t,e,i){const r=t._rootScopes,a=OW(t._fallback,e,i),s=[...n,...r],o=new Set;o.add(i);let l=TI(o,s,e,a||e,i);return l===null||typeof a<"u"&&a!==e&&(l=TI(o,s,a,l,i),l===null)?!1:XD(Array.from(o),[""],r,a,()=>UJ(t,e,i))}function TI(n,t,e,i,r){for(;e;)e=WJ(n,t,e,i,r);return e}function UJ(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Or(r)&&fi(e)?e:r||{}}function YJ(n,t,e,i){let r;for(const a of t)if(r=LW(zJ(a,n),e),typeof r<"u")return qD(n,r)?KD(e,i,n,r):r}function LW(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function MI(n){let t=n._keys;return t||(t=n._keys=$J(n._scopes)),t}function $J(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function RW(n,t,e,i){const{iScale:r}=n,{key:a="r"}=this._parsing,s=new Array(i);let o,l,c,h;for(o=0,l=i;o<l;++o)c=o+e,h=t[c],s[o]={r:r.parse(Hy(h,a),c)};return s}const VJ=Number.EPSILON||1e-14,Db=(n,t)=>t<n.length&&!n[t].skip&&n[t],IW=n=>n==="x"?"y":"x";function XJ(n,t,e,i){const r=n.skip?t:n,a=t,s=e.skip?t:e,o=Pb(a,r),l=Pb(s,a);let c=o/(o+l),h=l/(o+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=i*c,g=i*h;return{previous:{x:a.x-d*(s.x-r.x),y:a.y-d*(s.y-r.y)},next:{x:a.x+g*(s.x-r.x),y:a.y+g*(s.y-r.y)}}}function qJ(n,t,e){const i=n.length;let r,a,s,o,l,c=Db(n,0);for(let h=0;h<i-1;++h)if(l=c,c=Db(n,h+1),!(!l||!c)){if(xx(t[h],0,VJ)){e[h]=e[h+1]=0;continue}r=e[h]/t[h],a=e[h+1]/t[h],o=Math.pow(r,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),e[h]=r*s*t[h],e[h+1]=a*s*t[h])}}function KJ(n,t,e="x"){const i=IW(e),r=n.length;let a,s,o,l=Db(n,0);for(let c=0;c<r;++c){if(s=o,o=l,l=Db(n,c+1),!o)continue;const h=o[e],d=o[i];s&&(a=(h-s[e])/3,o[`cp1${e}`]=h-a,o[`cp1${i}`]=d-a*t[c]),l&&(a=(l[e]-h)/3,o[`cp2${e}`]=h+a,o[`cp2${i}`]=d+a*t[c])}}function ZJ(n,t="x"){const e=IW(t),i=n.length,r=Array(i).fill(0),a=Array(i);let s,o,l,c=Db(n,0);for(s=0;s<i;++s)if(o=l,l=c,c=Db(n,s+1),!!l){if(c){const h=c[t]-l[t];r[s]=h!==0?(c[e]-l[e])/h:0}a[s]=o?c?ud(r[s-1])!==ud(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}qJ(n,r,a),KJ(n,a,t)}function lk(n,t,e){return Math.max(Math.min(n,e),t)}function QJ(n,t){let e,i,r,a,s,o=yg(n[0],t);for(e=0,i=n.length;e<i;++e)s=a,a=o,o=e<i-1&&yg(n[e+1],t),a&&(r=n[e],s&&(r.cp1x=lk(r.cp1x,t.left,t.right),r.cp1y=lk(r.cp1y,t.top,t.bottom)),o&&(r.cp2x=lk(r.cp2x,t.left,t.right),r.cp2y=lk(r.cp2y,t.top,t.bottom)))}function JJ(n,t,e,i,r){let a,s,o,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")ZJ(n,r);else{let c=i?n[n.length-1]:n[0];for(a=0,s=n.length;a<s;++a)o=n[a],l=XJ(c,o,n[Math.min(a+1,s-(i?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}t.capBezierPoints&&QJ(n,e)}function ZD(){return typeof window<"u"&&typeof document<"u"}function QD(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function HC(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const mA=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ttt(n,t){return mA(n).getPropertyValue(t)}const ett=["top","right","bottom","left"];function bx(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const a=ett[r];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ntt=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function itt(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:a}=i;let s=!1,o,l;if(ntt(r,a,n.target))o=r,l=a;else{const c=t.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:o,y:l,box:s}}function hg(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=mA(e),a=r.boxSizing==="border-box",s=bx(r,"padding"),o=bx(r,"border","width"),{x:l,y:c,box:h}=itt(n,e),d=s.left+(h&&o.left),g=s.top+(h&&o.top);let{width:y,height:x}=t;return a&&(y-=s.width+o.width,x-=s.height+o.height),{x:Math.round((l-d)/y*e.width/i),y:Math.round((c-g)/x*e.height/i)}}function rtt(n,t,e){let i,r;if(t===void 0||e===void 0){const a=n&&QD(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const s=a.getBoundingClientRect(),o=mA(a),l=bx(o,"border","width"),c=bx(o,"padding");t=s.width-c.width-l.width,e=s.height-c.height-l.height,i=HC(o.maxWidth,a,"clientWidth"),r=HC(o.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||IC,maxHeight:r||IC}}const Py=n=>Math.round(n*10)/10;function att(n,t,e,i){const r=mA(n),a=bx(r,"margin"),s=HC(r.maxWidth,n,"clientWidth")||IC,o=HC(r.maxHeight,n,"clientHeight")||IC,l=rtt(n,t,e);let{width:c,height:h}=l;if(r.boxSizing==="content-box"){const g=bx(r,"border","width"),y=bx(r,"padding");c-=y.width+g.width,h-=y.height+g.height}return c=Math.max(0,c-a.width),h=Math.max(0,i?c/i:h-a.height),c=Py(Math.min(c,s,l.maxWidth)),h=Py(Math.min(h,o,l.maxHeight)),c&&!h&&(h=Py(c/2)),(t!==void 0||e!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Py(Math.floor(h*i))),{width:c,height:h}}function NI(n,t,e){const i=t||1,r=Py(n.height*i),a=Py(n.width*i);n.height=Py(n.height),n.width=Py(n.width);const s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||s.height!==r||s.width!==a?(n.currentDevicePixelRatio=i,s.height=r,s.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const stt=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ZD()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function PI(n,t){const e=ttt(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ix(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function ott(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function ltt(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},s=ix(n,r,e),o=ix(r,a,e),l=ix(a,t,e),c=ix(s,o,e),h=ix(o,l,e);return ix(c,h,e)}const ctt=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},utt=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function _b(n,t,e){return n?ctt(t,e):utt()}function zW(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function FW(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function BW(n){return n==="angle"?{between:t_,compare:hJ,normalize:Ql}:{between:Op,compare:(t,e)=>t-e,normalize:t=>t}}function EI({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function htt(n,t,e){const{property:i,start:r,end:a}=e,{between:s,normalize:o}=BW(i),l=t.length;let{start:c,end:h,loop:d}=n,g,y;if(d){for(c+=l,h+=l,g=0,y=l;g<y&&s(o(t[c%l][i]),r,a);++g)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:d,style:n.style}}function HW(n,t,e){if(!e)return[n];const{property:i,start:r,end:a}=e,s=t.length,{compare:o,between:l,normalize:c}=BW(i),{start:h,end:d,loop:g,style:y}=htt(n,t,e),x=[];let w=!1,k=null,A,T,R;const G=()=>l(r,R,A)&&o(r,R)!==0,z=()=>o(a,A)===0||l(a,R,A),F=()=>w||G(),H=()=>!w||z();for(let Y=h,J=h;Y<=d;++Y)T=t[Y%s],!T.skip&&(A=c(T[i]),A!==R&&(w=l(A,r,a),k===null&&F()&&(k=o(A,r)===0?Y:J),k!==null&&H()&&(x.push(EI({start:k,end:Y,loop:g,count:s,style:y})),k=null),J=Y,R=A));return k!==null&&x.push(EI({start:k,end:d,loop:g,count:s,style:y})),x}function GW(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const a=HW(i[r],n.points,t);a.length&&e.push(...a)}return e}function dtt(n,t,e,i){let r=0,a=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(a+=r);a>r&&n[a%t].skip;)a--;return a%=t,{start:r,end:a}}function ftt(n,t,e,i){const r=n.length,a=[];let s=t,o=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%r];c.skip||c.stop?o.skip||(i=!1,a.push({start:t%r,end:(l-1)%r,loop:i}),t=s=c.stop?l:null):(s=l,o.skip&&(t=l)),o=c}return s!==null&&a.push({start:t%r,end:s%r,loop:i}),a}function gtt(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const a=!!n._loop,{start:s,end:o}=dtt(e,r,a,i);if(i===!0)return jI(n,[{start:s,end:o,loop:a}],e,t);const l=o<s?o+r:o,c=!!n._fullLoop&&s===0&&o===r-1;return jI(n,ftt(e,s,l,c),e,t)}function jI(n,t,e,i){return!i||!i.setContext||!e?t:ptt(n,t,e,i)}function ptt(n,t,e,i){const r=n._chart.getContext(),a=DI(n.options),{_datasetIndex:s,options:{spanGaps:o}}=n,l=e.length,c=[];let h=a,d=t[0].start,g=d;function y(x,w,k,A){const T=o?-1:1;if(x!==w){for(x+=l;e[x%l].skip;)x-=T;for(;e[w%l].skip;)w+=T;x%l!==w%l&&(c.push({start:x%l,end:w%l,loop:k,style:A}),h=A,d=w%l)}}for(const x of t){d=o?d:x.start;let w=e[d%l],k;for(g=d+1;g<=x.end;g++){const A=e[g%l];k=DI(i.setContext(Zy(r,{type:"segment",p0:w,p1:A,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:s}))),mtt(k,h)&&y(d,g-1,x.loop,h),w=A,h=k}d<g-1&&y(d,g-1,x.loop,h)}return c}function DI(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function mtt(n,t){if(!t)return!1;const e=[],i=function(r,a){return $D(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function ck(n,t,e){return n.options.clip?n[e]:t[e]}function ytt(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ck(e,t,"left"),right:ck(e,t,"right"),top:ck(i,t,"top"),bottom:ck(i,t,"bottom")}:t}function WW(n,t){const e=t._clip;if(e.disabled)return!1;const i=ytt(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class vtt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.listeners[r],s=e.duration;a.forEach(o=>o({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=CW.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let s=a.length-1,o=!1,l;for(;s>=0;--s)l=a[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),o=!0):(a[s]=a[a.length-1],a.pop());o&&(r.draw(),this._notify(r,i,t,"progress")),a.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Mp=new vtt;const OI="transparent",xtt={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=kI(n||OI),r=i.valid&&kI(t||OI);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class btt{constructor(t,e,i,r){const a=e[i];r=La([t.to,r,a,t.from]);const s=La([t.from,a,r]);this._active=!0,this._fn=t.fn||xtt[t.type||typeof s],this._easing=Fw[t.easing]||Fw.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,s=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=La([t.to,e,r,t.from]),this._from=La([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,a=this._from,s=this._loop,o=this._to;let l;if(this._active=a!==o&&(s||e<i),!this._active){this._target[r]=o,this._notify(!0);return}if(e<0){this._target[r]=a;return}l=e/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(a,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class JD{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!fi(t))return;const e=Object.keys(gr.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const a=t[r];if(!fi(a))return;const s={};for(const o of e)s[o]=a[o];(Or(a.properties)&&a.properties||[r]).forEach(o=>{(o===r||!i.has(o))&&i.set(o,s)})})}_animateOptions(t,e){const i=e.options,r=_tt(t,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&wtt(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,r=[],a=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,e));continue}const h=e[c];let d=a[c];const g=i.get(c);if(d)if(g&&d.active()){d.update(g,h,o);continue}else d.cancel();if(!g||!g.duration){t[c]=h;continue}a[c]=d=new btt(g,t,c,h),r.push(d)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Mp.add(this._chart,i),!0}}function wtt(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function _tt(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function LI(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:r,end:i?r:a}}function Stt(n,t,e){if(e===!1)return!1;const i=LI(n,e),r=LI(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function ktt(n){let t,e,i,r;return fi(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function UW(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)e.push(i[r].index);return e}function RI(n,t,e,i={}){const r=n.keys,a=i.mode==="single";let s,o,l,c;if(t===null)return;let h=!1;for(s=0,o=r.length;s<o;++s){if(l=+r[s],l===e){if(h=!0,i.all)continue;break}c=n.values[l],$a(c)&&(a||t===0||ud(t)===ud(c))&&(t+=c)}return!h&&!i.all?0:t}function Ctt(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",s=Object.keys(n),o=new Array(s.length);let l,c,h;for(l=0,c=s.length;l<c;++l)h=s[l],o[l]={[r]:h,[a]:n[h]};return o}function oM(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Att(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Ttt(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Mtt(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function II(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(e&&a>0||!e&&a<0)return r.index}return null}function zI(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:a,vScale:s,index:o}=i,l=a.axis,c=s.axis,h=Att(a,s,i),d=t.length;let g;for(let y=0;y<d;++y){const x=t[y],{[l]:w,[c]:k}=x,A=x._stacks||(x._stacks={});g=A[c]=Mtt(r,h,w),g[o]=k,g._top=II(g,s,!0,i.type),g._bottom=II(g,s,!1,i.type);const T=g._visualValues||(g._visualValues={});T[o]=k}}function lM(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Ntt(n,t){return Zy(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Ptt(n,t,e){return Zy(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function tw(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const a=r._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const cM=n=>n==="reset"||n==="none",FI=(n,t)=>t?n:Object.assign({},n),Ett=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:UW(e,!0),values:null};class Qy{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=oM(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&tw(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(d,g,y,x)=>d==="x"?g:d==="r"?x:y,a=e.xAxisID=sn(i.xAxisID,lM(t,"x")),s=e.yAxisID=sn(i.yAxisID,lM(t,"y")),o=e.rAxisID=sn(i.rAxisID,lM(t,"r")),l=e.indexAxis,c=e.iAxisID=r(l,a,s,o),h=e.vAxisID=r(l,s,a,o);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&wI(this._data,this),t._stacked&&tw(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(fi(e)){const r=this._cachedMeta;this._data=Ctt(e,r)}else if(i!==e){if(i){wI(i,this);const r=this._cachedMeta;tw(r),r._parsed=[]}e&&Object.isExtensible(e)&&pJ(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=e._stacked;e._stacked=oM(e.vScale,e),e.stack!==i.stack&&(r=!0,tw(e),e.stack=i.stack),this._resyncElements(t),(r||a!==e._stacked)&&(zI(this,e._parsed),e._stacked=oM(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:s}=i,o=a.axis;let l=t===0&&e===r.length?!0:i._sorted,c=t>0&&i._parsed[t-1],h,d,g;if(this._parsing===!1)i._parsed=r,i._sorted=!0,g=r;else{Or(r[t])?g=this.parseArrayData(i,r,t,e):fi(r[t])?g=this.parseObjectData(i,r,t,e):g=this.parsePrimitiveData(i,r,t,e);const y=()=>d[o]===null||c&&d[o]<c[o];for(h=0;h<e;++h)i._parsed[h+t]=d=g[h],l&&(y()&&(l=!1),c=d);i._sorted=l}s&&zI(this,g)}parsePrimitiveData(t,e,i,r){const{iScale:a,vScale:s}=t,o=a.axis,l=s.axis,c=a.getLabels(),h=a===s,d=new Array(r);let g,y,x;for(g=0,y=r;g<y;++g)x=g+i,d[g]={[o]:h||a.parse(c[x],x),[l]:s.parse(e[x],x)};return d}parseArrayData(t,e,i,r){const{xScale:a,yScale:s}=t,o=new Array(r);let l,c,h,d;for(l=0,c=r;l<c;++l)h=l+i,d=e[h],o[l]={x:a.parse(d[0],h),y:s.parse(d[1],h)};return o}parseObjectData(t,e,i,r){const{xScale:a,yScale:s}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let h,d,g,y;for(h=0,d=r;h<d;++h)g=h+i,y=e[g],c[h]={x:a.parse(Hy(y,o),g),y:s.parse(Hy(y,l),g)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,a=this._cachedMeta,s=e[t.axis],o={keys:UW(r,!0),values:e._stacks[t.axis]._visualValues};return RI(o,s,a.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const a=i[e.axis];let s=a===null?NaN:a;const o=r&&i._stacks[e.axis];r&&o&&(r.values=o,s=RI(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&t===i.iScale,s=r.length,o=this._getOtherScale(t),l=Ett(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=Ttt(o);let g,y;function x(){y=r[g];const w=y[o.axis];return!$a(y[t.axis])||h>w||d<w}for(g=0;g<s&&!(!x()&&(this.updateRangeFromParsed(c,t,y,l),a));++g);if(a){for(g=s-1;g>=0;--g)if(!x()){this.updateRangeFromParsed(c,t,y,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,a,s;for(r=0,a=e.length;r<a;++r)s=e[r][t.axis],$a(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=ktt(sn(this.options.clip,Stt(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],a=e.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,a,o,l),h=o;h<o+l;++h){const d=r[h];d.hidden||(d.active&&c?s.push(d):d.draw(t,a))}for(h=0;h<s.length;++h)s[h].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const s=this._cachedMeta.data[t];a=s.$context||(s.$context=Ptt(this.getContext(),t,s)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Ntt(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",a=this._cachedDataOpts,s=t+"-"+e,o=a[s],l=this.enableOptionSharing&&Tu(i);if(o)return FI(o,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),d=r?[`${t}Hover`,"hover",t,""]:[t,""],g=c.getOptionScopes(this.getDataset(),h),y=Object.keys(gr.elements[t]),x=()=>this.getContext(i,r,e),w=c.resolveNamedOptions(g,y,x,d);return w.$shared&&(w.$shared=l,a[s]=Object.freeze(FI(w,l))),w}_resolveAnimations(t,e,i){const r=this.chart,a=this._cachedDataOpts,s=`animation-${e}`,o=a[s];if(o)return o;let l;if(r.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,e),g=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(g,this.getContext(t,i,e))}const c=new JD(r,l&&l.animations);return l&&l._cacheable&&(a[s]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||cM(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,a=this.getSharedOptions(i),s=this.includeOptions(e,a)||a!==r;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:s}}updateElement(t,e,i,r){cM(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!cM(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const a=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=i.length,a=e.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,e,i=!0){const r=this._cachedMeta,a=r.data,s=t+e;let o;const l=c=>{for(c.length+=e,o=c.length-1;o>=s;o--)c[o]=c[o-e]};for(l(a),o=t;o<s;++o)a[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&tw(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function jtt(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,a=e.length;r<a;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=kW(i.sort((r,a)=>r-a))}return n._cache.$bar}function Dtt(n){const t=n.iScale,e=jtt(t,n.type);let i=t._length,r,a,s,o;const l=()=>{s===32767||s===-32768||(Tu(o)&&(i=Math.min(i,Math.abs(s-o)||i)),o=s)};for(r=0,a=e.length;r<a;++r)s=t.getPixelForValue(e[r]),l();for(o=void 0,r=0,a=t.ticks.length;r<a;++r)s=t.getPixelForTick(r),l();return i}function Ott(n,t,e,i){const r=e.barThickness;let a,s;return di(r)?(a=t.min*e.categoryPercentage,s=e.barPercentage):(a=r*i,s=1),{chunk:a/i,ratio:s,start:t.pixels[n]-a/2}}function Ltt(n,t,e,i){const r=t.pixels,a=r[n];let s=n>0?r[n-1]:null,o=n<r.length-1?r[n+1]:null;const l=e.categoryPercentage;s===null&&(s=a-(o===null?t.end-t.start:o-a)),o===null&&(o=a+a-s);const c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/i,ratio:e.barPercentage,start:c}}function Rtt(n,t,e,i){const r=e.parse(n[0],i),a=e.parse(n[1],i),s=Math.min(r,a),o=Math.max(r,a);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:s,max:o}}function YW(n,t,e,i){return Or(n)?Rtt(n,t,e,i):t[e.axis]=e.parse(n,i),t}function BI(n,t,e,i){const r=n.iScale,a=n.vScale,s=r.getLabels(),o=r===a,l=[];let c,h,d,g;for(c=e,h=e+i;c<h;++c)g=t[c],d={},d[r.axis]=o||r.parse(s[c],c),l.push(YW(g,d,a,c));return l}function uM(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Itt(n,t,e){return n!==0?ud(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function ztt(n){let t,e,i,r,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:e,end:i,reverse:t,top:r,bottom:a}}function Ftt(n,t,e,i){let r=t.borderSkipped;const a={};if(!r){n.borderSkipped=a;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:o,reverse:l,top:c,bottom:h}=ztt(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=c:(e._bottom||0)===i?r=h:(a[HI(h,s,o,l)]=!0,r=c)),a[HI(r,s,o,l)]=!0,n.borderSkipped=a}function HI(n,t,e,i){return i?(n=Btt(n,t,e),n=GI(n,e,t)):n=GI(n,t,e),n}function Btt(n,t,e){return n===t?e:n===e?t:n}function GI(n,t,e){return n==="start"?t:n==="end"?e:n}function Htt(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class F_ extends Qy{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return BI(t,e,i,r)}parseArrayData(t,e,i,r){return BI(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:a,vScale:s}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=a.axis==="x"?o:l,h=s.axis==="x"?o:l,d=[];let g,y,x,w;for(g=i,y=i+r;g<y;++g)w=e[g],x={},x[a.axis]=a.parse(Hy(w,c),g),d.push(YW(Hy(w,h),x,s,g));return d}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,a=this.getParsed(t),s=a._custom,o=uM(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const a=r==="reset",{index:s,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:g}=this._getSharedOptions(e,r);for(let y=e;y<e+i;y++){const x=this.getParsed(y),w=a||di(x[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),k=this._calculateBarIndexPixels(y,h),A=(x._stacks||{})[o.axis],T={horizontal:c,base:w.base,enableBorderRadius:!A||uM(x._custom)||s===A._top||s===A._bottom,x:c?w.head:k.center,y:c?k.center:w.head,height:c?k.size:Math.abs(w.size),width:c?Math.abs(w.size):k.size};g&&(T.options=d||this.resolveDataElementOptions(y,t[y].active?"active":r));const R=T.options||t[y].options;Ftt(T,R,A,s),Htt(T,R,h.ratio),this.updateElement(t[y],y,T,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),a=i.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(e),l=o&&o[i.axis],c=h=>{const d=h._parsed.find(y=>y[i.axis]===l),g=d&&d[h.vScale.axis];if(di(g)||isNaN(g))return!0};for(const h of r)if(!(e!==void 0&&c(h))&&((a===!1||s.indexOf(h.stack)===-1||a===void 0&&h.stack===void 0)&&s.push(h.stack),h.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[sn(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),a=e!==void 0?r.indexOf(e):-1;return a===-1?r.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let a,s;for(a=0,s=e.data.length;a<s;++a)r.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const o=t.barThickness;return{min:o||Dtt(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:a,minBarLength:s}}=this,o=a||0,l=this.getParsed(t),c=l._custom,h=uM(c);let d=l[e.axis],g=0,y=i?this.applyStack(e,l,i):d,x,w;y!==d&&(g=y-d,y=d),h&&(d=c.barStart,y=c.barEnd-c.barStart,d!==0&&ud(d)!==ud(c.barEnd)&&(g=0),g+=d);const k=!di(a)&&!h?a:g;let A=e.getPixelForValue(k);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(g+y):x=A,w=x-A,Math.abs(w)<s){w=Itt(w,e,o)*s,d===o&&(A-=w/2);const T=e.getPixelForDecimal(0),R=e.getPixelForDecimal(1),G=Math.min(T,R),z=Math.max(T,R);A=Math.max(Math.min(A,z),G),x=A+w,i&&!h&&(l._stacks[e.axis]._visualValues[r]=e.getValueForPixel(x)-e.getValueForPixel(A))}if(A===e.getPixelForValue(o)){const T=ud(w)*e.getLineWidthForValue(o)/2;A+=T,w-=T}return{size:w,base:A,head:x,center:x+w/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,a=r.skipNull,s=sn(r.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(e.grouped){const h=a?this._getStackCount(t):e.stackCount,d=r.barThickness==="flex"?Ltt(t,e,r,h*c):Ott(t,e,r,h*c),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(sn(g,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+y;o=d.start+d.chunk*x+d.chunk/2,l=Math.min(s,d.chunk*d.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(s,e.min*e.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let a=0;for(;a<r;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}class Gtt extends Qy{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const a=super.parsePrimitiveData(t,e,i,r);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+i).radius;return a}parseArrayData(t,e,i,r){const a=super.parseArrayData(t,e,i,r);for(let s=0;s<a.length;s++){const o=e[i+s];a[s]._custom=sn(o[2],this.resolveDataElementOptions(s+i).radius)}return a}parseObjectData(t,e,i,r){const a=super.parseObjectData(t,e,i,r);for(let s=0;s<a.length;s++){const o=e[i+s];a[s]._custom=sn(o&&o.r&&+o.r,this.resolveDataElementOptions(s+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:a}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),l=a.getLabelForValue(s.y),c=s._custom;return{label:i[t]||"",value:"("+o+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const a=r==="reset",{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,r),h=s.axis,d=o.axis;for(let g=e;g<e+i;g++){const y=t[g],x=!a&&this.getParsed(g),w={},k=w[h]=a?s.getPixelForDecimal(.5):s.getPixelForValue(x[h]),A=w[d]=a?o.getBasePixel():o.getPixelForValue(x[d]);w.skip=isNaN(k)||isNaN(A),c&&(w.options=l||this.resolveDataElementOptions(g,y.active?"active":r),a&&(w.options.radius=0)),this.updateElement(y,g,w,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const a=r.radius;return e!=="active"&&(r.radius=0),r.radius+=sn(i&&i._custom,a),r}}function Wtt(n,t,e){let i=1,r=1,a=0,s=0;if(t<ba){const o=n,l=o+t,c=Math.cos(o),h=Math.sin(o),d=Math.cos(l),g=Math.sin(l),y=(R,G,z)=>t_(R,o,l,!0)?1:Math.max(G,G*e,z,z*e),x=(R,G,z)=>t_(R,o,l,!0)?-1:Math.min(G,G*e,z,z*e),w=y(0,c,d),k=y(Ia,h,g),A=x(hi,c,d),T=x(hi+Ia,h,g);i=(w-A)/2,r=(k-T)/2,a=-(w+A)/2,s=-(k+T)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:s}}class yA extends Qy{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:a,useBorderRadius:s,borderRadius:o}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((l,c)=>{const d=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:r,pointStyle:i,borderRadius:s&&(o||d.borderRadius),index:c}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=l=>+i[l];if(fi(i[t])){const{key:l="value"}=this._parsing;a=c=>+Hy(i[c],l)}let s,o;for(s=t,o=t+e;s<o;++s)r._parsed[s]=a(s)}}_getRotation(){return to(this.options.rotation-90)}_getCircumference(){return to(this.options.circumference)}_getRotationExtents(){let t=ba,e=-ba;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),s=r._getCircumference();t=Math.min(t,a),e=Math.max(e,a+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,a=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-s)/2,0),l=Math.min(eJ(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:x,offsetY:w}=Wtt(d,h,l),k=(i.width-s)/g,A=(i.height-s)/y,T=Math.max(Math.min(k,A)/2,0),R=bW(this.options.radius,T),G=Math.max(R*l,0),z=(R-G)/this._getVisibleDatasetWeightTotal();this.offsetX=x*R,this.offsetY=w*R,r.total=this.calculateTotal(),this.outerRadius=R-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*c,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*a/ba)}updateElements(t,e,i,r){const a=r==="reset",s=this.chart,o=s.chartArea,c=s.options.animation,h=(o.left+o.right)/2,d=(o.top+o.bottom)/2,g=a&&c.animateScale,y=g?0:this.innerRadius,x=g?0:this.outerRadius,{sharedOptions:w,includeOptions:k}=this._getSharedOptions(e,r);let A=this._getRotation(),T;for(T=0;T<e;++T)A+=this._circumference(T,a);for(T=e;T<e+i;++T){const R=this._circumference(T,a),G=t[T],z={x:h+this.offsetX,y:d+this.offsetY,startAngle:A,endAngle:A+R,circumference:R,outerRadius:x,innerRadius:y};k&&(z.options=w||this.resolveDataElementOptions(T,G.active?"active":r)),A+=R,this.updateElement(G,T,z,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const a=t._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ba*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=z_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,a,s,o,l;if(!t){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){s=i.getDatasetMeta(r),t=s.data,o=s.controller;break}}if(!t)return 0;for(r=0,a=t.length;r<a;++r)l=o.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const a=this.resolveDataElementOptions(i);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(sn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class tO extends Qy{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:a}=e,s=this.chart._animationsDisabled;let{start:o,count:l}=TW(e,r,s);this._drawStart=o,this._drawCount=l,MW(e)&&(o=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:c},t),this.updateElements(r,o,l,t)}updateElements(t,e,i,r){const a=r==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,r),g=s.axis,y=o.axis,{spanGaps:x,segment:w}=this.options,k=Gy(x)?x:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||a||r==="none",T=e+i,R=t.length;let G=e>0&&this.getParsed(e-1);for(let z=0;z<R;++z){const F=t[z],H=A?F:{};if(z<e||z>=T){H.skip=!0;continue}const Y=this.getParsed(z),J=di(Y[y]),nt=H[g]=s.getPixelForValue(Y[g],z),V=H[y]=a||J?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,Y,l):Y[y],z);H.skip=isNaN(nt)||isNaN(V)||J,H.stop=z>0&&Math.abs(Y[g]-G[g])>k,w&&(H.parsed=Y,H.raw=c.data[z]),d&&(H.options=h||this.resolveDataElementOptions(z,F.active?"active":r)),A||this.updateElement(F,z,H,r),G=Y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class $W extends Qy{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((a,s)=>{const l=t.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=z_(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:a}}parseObjectData(t,e,i,r){return RW.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const a=this.getParsed(r).r;!isNaN(a)&&this.chart.getDataVisibility(r)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(r/2,0),s=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),o=(a-s)/t.getVisibleDatasetCount();this.outerRadius=a-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,r){const a=r==="reset",s=this.chart,l=s.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,d=c.yCenter,g=c.getIndexAngle(0)-.5*hi;let y=g,x;const w=360/this.countVisibleElements();for(x=0;x<e;++x)y+=this._computeAngle(x,r,w);for(x=e;x<e+i;x++){const k=t[x];let A=y,T=y+this._computeAngle(x,r,w),R=s.getDataVisibility(x)?c.getDistanceFromCenterForValue(this.getParsed(x).r):0;y=T,a&&(l.animateScale&&(R=0),l.animateRotate&&(A=T=g));const G={x:h,y:d,innerRadius:0,outerRadius:R,startAngle:A,endAngle:T,options:this.resolveDataElementOptions(x,k.active?"active":r)};this.updateElement(k,x,G,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?to(this.resolveDataElementOptions(t,e).angle||i):0}}class Utt extends yA{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Ytt extends Qy{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return RW.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],a=e.iScale.getLabels();if(i.points=r,t!=="resize"){const s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0);const o={_loop:!0,_fullLoop:a.length===r.length,options:s};this.updateElement(i,void 0,o,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const a=this._cachedMeta.rScale,s=r==="reset";for(let o=e;o<e+i;o++){const l=t[o],c=this.resolveDataElementOptions(o,l.active?"active":r),h=a.getPointPositionForValue(o,this.getParsed(o).r),d=s?a.xCenter:h.x,g=s?a.yCenter:h.y,y={x:d,y:g,angle:h.angle,skip:isNaN(d)||isNaN(g),options:c};this.updateElement(l,o,y,r)}}}class $tt extends Qy{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:a}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),l=a.getLabelForValue(s.y);return{label:i[t]||"",value:"("+o+", "+l+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:a,count:s}=TW(e,i,r);if(this._drawStart=a,this._drawCount=s,MW(e)&&(a=0,s=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=e;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,a,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const a=r==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,r),d=this.getSharedOptions(h),g=this.includeOptions(r,d),y=s.axis,x=o.axis,{spanGaps:w,segment:k}=this.options,A=Gy(w)?w:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||a||r==="none";let R=e>0&&this.getParsed(e-1);for(let G=e;G<e+i;++G){const z=t[G],F=this.getParsed(G),H=T?z:{},Y=di(F[x]),J=H[y]=s.getPixelForValue(F[y],G),nt=H[x]=a||Y?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,F,l):F[x],G);H.skip=isNaN(J)||isNaN(nt)||Y,H.stop=G>0&&Math.abs(F[y]-R[y])>A,k&&(H.parsed=F,H.raw=c.data[G]),g&&(H.options=d||this.resolveDataElementOptions(G,z.active?"active":r)),T||this.updateElement(z,G,H,r),R=F}this.updateSharedOptions(d,r,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let o=0;for(let l=e.length-1;l>=0;--l)o=Math.max(o,e[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const a=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,a,s)/2}}var Vtt=Object.freeze({__proto__:null,BarController:F_,BubbleController:Gtt,DoughnutController:yA,LineController:tO,PieController:Utt,PolarAreaController:$W,RadarController:Ytt,ScatterController:$tt});function Kv(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class eO{static override(t){Object.assign(eO.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Kv()}parse(){return Kv()}format(){return Kv()}add(){return Kv()}diff(){return Kv()}startOf(){return Kv()}endOf(){return Kv()}}var VW={_date:eO};function Xtt(n,t,e,i){const{controller:r,data:a,_sorted:s}=n,o=r._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&s&&a.length){const c=o._reversePixels?fJ:Lp;if(i){if(r._sharedOptions){const h=a[0],d=typeof h.getRange=="function"&&h.getRange(t);if(d){const g=c(a,t,e-d),y=c(a,t,e+d);return{lo:g.lo,hi:y.hi}}}}else{const h=c(a,t,e);if(l){const{vScale:d}=r._cachedMeta,{_parsed:g}=n,y=g.slice(0,h.lo+1).reverse().findIndex(w=>!di(w[d.axis]));h.lo-=Math.max(0,y);const x=g.slice(h.hi).findIndex(w=>!di(w[d.axis]));h.hi+=Math.max(0,x)}return h}}return{lo:0,hi:a.length-1}}function vA(n,t,e,i,r){const a=n.getSortedVisibleDatasetMetas(),s=e[t];for(let o=0,l=a.length;o<l;++o){const{index:c,data:h}=a[o],{lo:d,hi:g}=Xtt(a[o],t,s,r);for(let y=d;y<=g;++y){const x=h[y];x.skip||i(x,c,y)}}}function qtt(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const a=t?Math.abs(i.x-r.x):0,s=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function hM(n,t,e,i,r){const a=[];return!r&&!n.isPointInArea(t)||vA(n,e,t,function(o,l,c){!r&&!yg(o,n.chartArea,0)||o.inRange(t.x,t.y,i)&&a.push({element:o,datasetIndex:l,index:c})},!0),a}function Ktt(n,t,e,i){let r=[];function a(s,o,l){const{startAngle:c,endAngle:h}=s.getProps(["startAngle","endAngle"],i),{angle:d}=FC(s,{x:t.x,y:t.y});t_(d,c,h)&&r.push({element:s,datasetIndex:o,index:l})}return vA(n,e,t,a),r}function Ztt(n,t,e,i,r,a){let s=[];const o=qtt(e);let l=Number.POSITIVE_INFINITY;function c(h,d,g){const y=h.inRange(t.x,t.y,r);if(i&&!y)return;const x=h.getCenterPoint(r);if(!(!!a||n.isPointInArea(x))&&!y)return;const k=o(t,x);k<l?(s=[{element:h,datasetIndex:d,index:g}],l=k):k===l&&s.push({element:h,datasetIndex:d,index:g})}return vA(n,e,t,c),s}function dM(n,t,e,i,r,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?Ktt(n,t,e,r):Ztt(n,t,e,i,r,a)}function WI(n,t,e,i,r){const a=[],s=e==="x"?"inXRange":"inYRange";let o=!1;return vA(n,e,t,(l,c,h)=>{l[s]&&l[s](t[e],r)&&(a.push({element:l,datasetIndex:c,index:h}),o=o||l.inRange(t.x,t.y,r))}),i&&!o?[]:a}var Qtt={modes:{index(n,t,e,i){const r=hg(t,n),a=e.axis||"x",s=e.includeInvisible||!1,o=e.intersect?hM(n,r,a,i,s):dM(n,r,a,!1,i,s),l=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const h=o[0].index,d=c.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:h})}),l):[]},dataset(n,t,e,i){const r=hg(t,n),a=e.axis||"xy",s=e.includeInvisible||!1;let o=e.intersect?hM(n,r,a,i,s):dM(n,r,a,!1,i,s);if(o.length>0){const l=o[0].datasetIndex,c=n.getDatasetMeta(l).data;o=[];for(let h=0;h<c.length;++h)o.push({element:c[h],datasetIndex:l,index:h})}return o},point(n,t,e,i){const r=hg(t,n),a=e.axis||"xy",s=e.includeInvisible||!1;return hM(n,r,a,i,s)},nearest(n,t,e,i){const r=hg(t,n),a=e.axis||"xy",s=e.includeInvisible||!1;return dM(n,r,a,e.intersect,i,s)},x(n,t,e,i){const r=hg(t,n);return WI(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=hg(t,n);return WI(n,r,"y",e.intersect,i)}}};const XW=["left","top","right","bottom"];function ew(n,t){return n.filter(e=>e.pos===t)}function UI(n,t){return n.filter(e=>XW.indexOf(e.pos)===-1&&e.box.axis===t)}function nw(n,t){return n.sort((e,i)=>{const r=t?i:e,a=t?e:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function Jtt(n){const t=[];let e,i,r,a,s,o;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:a,options:{stack:s,stackWeight:o=1}}=r,t.push({index:e,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&a+s,stackWeight:o});return t}function tet(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:a}=e;if(!i||!XW.includes(r))continue;const s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return t}function eet(n,t){const e=tet(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,s,o;for(a=0,s=n.length;a<s;++a){o=n[a];const{fullSize:l}=o.box,c=e[o.stack],h=c&&o.stackWeight/c.weight;o.horizontal?(o.width=h?h*i:l&&t.availableWidth,o.height=r):(o.width=i,o.height=h?h*r:l&&t.availableHeight)}return e}function net(n){const t=Jtt(n),e=nw(t.filter(c=>c.box.fullSize),!0),i=nw(ew(t,"left"),!0),r=nw(ew(t,"right")),a=nw(ew(t,"top"),!0),s=nw(ew(t,"bottom")),o=UI(t,"x"),l=UI(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:ew(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:a.concat(s).concat(o)}}function YI(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function qW(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function iet(n,t,e,i){const{pos:r,box:a}=e,s=n.maxPadding;if(!fi(r)){e.size&&(n[r]-=e.size);const d=i[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?a.height:a.width),e.size=d.size/d.count,n[r]+=e.size}a.getPadding&&qW(s,a.getPadding());const o=Math.max(0,t.outerWidth-YI(s,n,"left","right")),l=Math.max(0,t.outerHeight-YI(s,n,"top","bottom")),c=o!==n.w,h=l!==n.h;return n.w=o,n.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function ret(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function aet(n,t){const e=t.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{a[s]=Math.max(t[s],e[s])}),a}return i(n?["left","right"]:["top","bottom"])}function Mw(n,t,e,i){const r=[];let a,s,o,l,c,h;for(a=0,s=n.length,c=0;a<s;++a){o=n[a],l=o.box,l.update(o.width||t.w,o.height||t.h,aet(o.horizontal,t));const{same:d,other:g}=iet(t,e,o,i);c|=d&&r.length,h=h||g,l.fullSize||r.push(o)}return c&&Mw(r,t,e,i)||h}function uk(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function $I(n,t,e,i){const r=e.padding;let{x:a,y:s}=t;for(const o of n){const l=o.box,c=i[o.stack]||{placed:0,weight:1},h=o.stackWeight/c.weight||1;if(o.horizontal){const d=t.w*h,g=c.size||l.height;Tu(c.start)&&(s=c.start),l.fullSize?uk(l,r.left,s,e.outerWidth-r.right-r.left,g):uk(l,t.left+c.placed,s,d,g),c.start=s,c.placed+=d,s=l.bottom}else{const d=t.h*h,g=c.size||l.width;Tu(c.start)&&(a=c.start),l.fullSize?uk(l,a,r.top,g,e.outerHeight-r.bottom-r.top):uk(l,a,t.top+c.placed,g,d),c.start=a,c.placed+=d,a=l.right}}t.x=a,t.y=s}var ec={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Is(n.options.layout.padding),a=Math.max(t-r.width,0),s=Math.max(e-r.height,0),o=net(n.boxes),l=o.vertical,c=o.horizontal;Bi(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const h=l.reduce((w,k)=>k.box.options&&k.box.options.display===!1?w:w+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/h,hBoxMaxHeight:s/2}),g=Object.assign({},r);qW(g,Is(i));const y=Object.assign({maxPadding:g,w:a,h:s,x:r.left,y:r.top},r),x=eet(l.concat(c),d);Mw(o.fullSize,y,d,x),Mw(l,y,d,x),Mw(c,y,d,x)&&Mw(l,y,d,x),ret(y),$I(o.leftAndTop,y,d,x),y.x+=y.w,y.y+=y.h,$I(o.rightAndBottom,y,d,x),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Bi(o.chartArea,w=>{const k=w.box;Object.assign(k,n.chartArea),k.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class KW{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class set extends KW{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const gC="$chartjs",oet={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},VI=n=>n===null||n==="";function cet(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[gC]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",VI(r)){const a=PI(n,"width");a!==void 0&&(n.width=a)}if(VI(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=PI(n,"height");a!==void 0&&(n.height=a)}return n}const ZW=stt?{passive:!0}:!1;function uet(n,t,e){n&&n.addEventListener(t,e,ZW)}function het(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ZW)}function det(n,t){const e=oet[n.type]||n.type,{x:i,y:r}=hg(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function GC(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function fet(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||GC(o.addedNodes,i),s=s&&!GC(o.removedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function get(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||GC(o.removedNodes,i),s=s&&!GC(o.addedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const e_=new Map;let XI=0;function QW(){const n=window.devicePixelRatio;n!==XI&&(XI=n,e_.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function pet(n,t){e_.size||window.addEventListener("resize",QW),e_.set(n,t)}function met(n){e_.delete(n),e_.size||window.removeEventListener("resize",QW)}function yet(n,t,e){const i=n.canvas,r=i&&QD(i);if(!r)return;const a=AW((o,l)=>{const c=r.clientWidth;e(o,l),c<r.clientWidth&&e()},window),s=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||a(c,h)});return s.observe(r),pet(n,a),s}function fM(n,t,e){e&&e.disconnect(),t==="resize"&&met(n)}function vet(n,t,e){const i=n.canvas,r=AW(a=>{n.ctx!==null&&e(det(a,n))},n);return uet(i,t,r),r}class xet extends KW{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(cet(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[gC])return!1;const i=e[gC].initial;["height","width"].forEach(a=>{const s=i[a];di(s)?e.removeAttribute(a):e.setAttribute(a,s)});const r=i.style||{};return Object.keys(r).forEach(a=>{e.style[a]=r[a]}),e.width=e.width,delete e[gC],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),s={attach:fet,detach:get,resize:yet}[e]||vet;r[e]=s(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:fM,detach:fM,resize:fM}[e]||het)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return att(t,e,i,r)}isAttached(t){const e=t&&QD(t);return!!(e&&e.isConnected)}}function bet(n){return!ZD()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?set:xet}let ac=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Gy(this.x)&&Gy(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}};function wet(n,t){const e=n.options.ticks,i=_et(n),r=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?Cet(t):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>r)return Aet(t,c,a,s/r),c;const h=ket(a,t,r);if(s>0){let d,g;const y=s>1?Math.round((l-o)/(s-1)):null;for(hk(t,c,h,di(y)?0:o-y,o),d=0,g=s-1;d<g;d++)hk(t,c,h,a[d],a[d+1]);return hk(t,c,h,l,di(y)?t.length:l+y),c}return hk(t,c,h),c}function _et(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function ket(n,t,e){const i=Tet(n),r=t.length/e;if(!i)return Math.max(r,1);const a=lJ(i);for(let s=0,o=a.length-1;s<o;s++){const l=a[s];if(l>r)return l}return Math.max(r,1)}function Cet(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Aet(n,t,e,i){let r=0,a=e[0],s;for(i=Math.ceil(i),s=0;s<n.length;s++)s===a&&(t.push(n[s]),r++,a=e[r*i])}function hk(n,t,e,i,r){const a=sn(i,0),s=Math.min(sn(r,n.length),n.length);let o=0,l,c,h;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),h=a;h<0;)o++,h=Math.round(a+o*e);for(c=Math.max(a,0);c<s;c++)c===h&&(t.push(n[c]),o++,h=Math.round(a+o*e))}function Tet(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const Met=n=>n==="left"?"right":n==="right"?"left":n,qI=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,KI=(n,t)=>Math.min(t||n,n);function ZI(n,t){const e=[],i=n.length/t,r=n.length;let a=0;for(;a<r;a+=i)e.push(n[Math.floor(a)]);return e}function Net(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),a=n._startPixel,s=n._endPixel,o=1e-6;let l=n.getPixelForTick(r),c;if(!(e&&(i===1?c=Math.max(l-a,s-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<a-o||l>s+o)))return l}function Pet(n,t){Bi(n,e=>{const i=e.gc,r=i.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[i[a]];i.splice(0,r)}})}function iw(n){return n.drawTicks?n.tickLength:0}function QI(n,t){if(!n.display)return 0;const e=is(n.font,t),i=Is(n.padding);return(Or(n.text)?n.text.length:1)*e.lineHeight+i.height}function Eet(n,t){return Zy(n,{scale:t,type:"scale"})}function jet(n,t,e){return Zy(n,{tick:e,index:t,type:"tick"})}function Det(n,t,e){let i=YD(n);return(e&&t!=="right"||!e&&t==="right")&&(i=Met(i)),i}function Oet(n,t,e,i){const{top:r,left:a,bottom:s,right:o,chart:l}=n,{chartArea:c,scales:h}=l;let d=0,g,y,x;const w=s-r,k=o-a;if(n.isHorizontal()){if(y=Kl(i,a,o),fi(e)){const A=Object.keys(e)[0],T=e[A];x=h[A].getPixelForValue(T)+w-t}else e==="center"?x=(c.bottom+c.top)/2+w-t:x=qI(n,e,t);g=o-a}else{if(fi(e)){const A=Object.keys(e)[0],T=e[A];y=h[A].getPixelForValue(T)-k+t}else e==="center"?y=(c.left+c.right)/2-k+t:y=qI(n,e,t);x=Kl(i,s,r),d=e==="left"?-Ia:Ia}return{titleX:y,titleY:x,maxWidth:g,rotation:d}}class Xx extends ac{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=nh(t,Number.POSITIVE_INFINITY),e=nh(e,Number.NEGATIVE_INFINITY),i=nh(i,Number.POSITIVE_INFINITY),r=nh(r,Number.NEGATIVE_INFINITY),{min:nh(t,i),max:nh(e,r),minDefined:$a(t),maxDefined:$a(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),s;if(r&&a)return{min:e,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)s=o[l].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),a||(i=Math.max(i,s.max));return e=a&&e>i?i:e,i=r&&e>i?e:i,{min:nh(e,nh(i,e)),max:nh(i,nh(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=IJ(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?ZI(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=wet(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pn(this.options.afterUpdate,[this])}beforeSetDimensions(){Pn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i],a.label=Pn(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Pn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=KI(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,a=e.maxRotation;let s=r,o,l,c;if(!this._isVisible()||!e.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),d=h.widest.width,g=h.highest.height,y=Yo(this.chart.width-d,0,this.maxWidth);o=t.offset?this.maxWidth/i:y/(i-1),d+6>o&&(o=y/(i-(t.offset?.5:1)),l=this.maxHeight-iw(t.grid)-e.padding-QI(t.title,this.chart.options.font),c=Math.sqrt(d*d+g*g),s=gA(Math.min(Math.asin(Yo((h.highest.height+6)/o,-1,1)),Math.asin(Yo(l/c,-1,1))-Math.asin(Yo(g/c,-1,1)))),s=Math.max(r,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){Pn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const l=QI(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=iw(a)+l):(t.height=this.maxHeight,t.width=iw(a)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:d,highest:g}=this._getLabelSizes(),y=i.padding*2,x=to(this.labelRotation),w=Math.cos(x),k=Math.sin(x);if(o){const A=i.mirror?0:k*d.width+w*g.height;t.height=Math.min(this.maxHeight,t.height+A+y)}else{const A=i.mirror?0:w*d.width+k*g.height;t.width=Math.min(this.maxWidth,t.width+A+y)}this._calculatePadding(c,h,k,w)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:a,padding:s},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;l?c?(g=r*t.width,y=i*e.height):(g=i*t.height,y=r*e.width):a==="start"?y=e.width:a==="end"?g=t.width:a!=="inner"&&(g=t.width/2,y=e.width/2),this.paddingLeft=Math.max((g-h+s)*this.width/(this.width-h),0),this.paddingRight=Math.max((y-d+s)*this.width/(this.width-d),0)}else{let h=e.height/2,d=t.height/2;a==="start"?(h=0,d=t.height):a==="end"&&(h=e.height,d=0),this.paddingTop=h+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)di(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=ZI(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:a}=this,s=[],o=[],l=Math.floor(e/KI(e,i));let c=0,h=0,d,g,y,x,w,k,A,T,R,G,z;for(d=0;d<e;d+=l){if(x=t[d].label,w=this._resolveTickFontOptions(d),r.font=k=w.string,A=a[k]=a[k]||{data:{},gc:[]},T=w.lineHeight,R=G=0,!di(x)&&!Or(x))R=BC(r,A.data,A.gc,R,x),G=T;else if(Or(x))for(g=0,y=x.length;g<y;++g)z=x[g],!di(z)&&!Or(z)&&(R=BC(r,A.data,A.gc,R,z),G+=T);s.push(R),o.push(G),c=Math.max(R,c),h=Math.max(G,h)}Pet(a,e);const F=s.indexOf(c),H=o.indexOf(h),Y=J=>({width:s[J]||0,height:o[J]||0});return{first:Y(0),last:Y(e-1),widest:Y(F),highest:Y(H),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return dJ(this._alignToPixels?qv(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=jet(this.getContext(),t,i))}return this.$context||(this.$context=Eet(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=to(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),a=this._getLabelSizes(),s=t.autoSkipPadding||0,o=a?a.widest.width+s:0,l=a?a.highest.height+s:0;return this.isHorizontal()?l*i>o*r?o/i:l/r:l*r<o*i?l/i:o/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:a,position:s,border:o}=r,l=a.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),g=iw(a),y=[],x=o.setContext(this.getContext()),w=x.display?x.width:0,k=w/2,A=function(ct){return qv(i,ct,w)};let T,R,G,z,F,H,Y,J,nt,V,Z,rt;if(s==="top")T=A(this.bottom),H=this.bottom-g,J=T-k,V=A(t.top)+k,rt=t.bottom;else if(s==="bottom")T=A(this.top),V=t.top,rt=A(t.bottom)-k,H=T+k,J=this.top+g;else if(s==="left")T=A(this.right),F=this.right-g,Y=T-k,nt=A(t.left)+k,Z=t.right;else if(s==="right")T=A(this.left),nt=t.left,Z=A(t.right)-k,F=T+k,Y=this.left+g;else if(e==="x"){if(s==="center")T=A((t.top+t.bottom)/2+.5);else if(fi(s)){const ct=Object.keys(s)[0],st=s[ct];T=A(this.chart.scales[ct].getPixelForValue(st))}V=t.top,rt=t.bottom,H=T+k,J=H+g}else if(e==="y"){if(s==="center")T=A((t.left+t.right)/2);else if(fi(s)){const ct=Object.keys(s)[0],st=s[ct];T=A(this.chart.scales[ct].getPixelForValue(st))}F=T-k,Y=F-g,nt=t.left,Z=t.right}const lt=sn(r.ticks.maxTicksLimit,d),mt=Math.max(1,Math.ceil(d/lt));for(R=0;R<d;R+=mt){const ct=this.getContext(R),st=a.setContext(ct),xt=o.setContext(ct),dt=st.lineWidth,ht=st.color,ot=xt.dash||[],vt=xt.dashOffset,St=st.tickWidth,Pt=st.tickColor,It=st.tickBorderDash||[],Nt=st.tickBorderDashOffset;G=Net(this,R,l),G!==void 0&&(z=qv(i,G,dt),c?F=Y=nt=Z=z:H=J=V=rt=z,y.push({tx1:F,ty1:H,tx2:Y,ty2:J,x1:nt,y1:V,x2:Z,y2:rt,width:dt,color:ht,borderDash:ot,borderDashOffset:vt,tickWidth:St,tickColor:Pt,tickBorderDash:It,tickBorderDashOffset:Nt}))}return this._ticksLength=d,this._borderValue=T,y}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:a}=i,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:h,mirror:d}=a,g=iw(i.grid),y=g+h,x=d?-h:y,w=-to(this.labelRotation),k=[];let A,T,R,G,z,F,H,Y,J,nt,V,Z,rt="middle";if(r==="top")F=this.bottom-x,H=this._getXAxisLabelAlignment();else if(r==="bottom")F=this.top+x,H=this._getXAxisLabelAlignment();else if(r==="left"){const mt=this._getYAxisLabelAlignment(g);H=mt.textAlign,z=mt.x}else if(r==="right"){const mt=this._getYAxisLabelAlignment(g);H=mt.textAlign,z=mt.x}else if(e==="x"){if(r==="center")F=(t.top+t.bottom)/2+y;else if(fi(r)){const mt=Object.keys(r)[0],ct=r[mt];F=this.chart.scales[mt].getPixelForValue(ct)+y}H=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")z=(t.left+t.right)/2-y;else if(fi(r)){const mt=Object.keys(r)[0],ct=r[mt];z=this.chart.scales[mt].getPixelForValue(ct)}H=this._getYAxisLabelAlignment(g).textAlign}e==="y"&&(l==="start"?rt="top":l==="end"&&(rt="bottom"));const lt=this._getLabelSizes();for(A=0,T=o.length;A<T;++A){R=o[A],G=R.label;const mt=a.setContext(this.getContext(A));Y=this.getPixelForTick(A)+a.labelOffset,J=this._resolveTickFontOptions(A),nt=J.lineHeight,V=Or(G)?G.length:1;const ct=V/2,st=mt.color,xt=mt.textStrokeColor,dt=mt.textStrokeWidth;let ht=H;s?(z=Y,H==="inner"&&(A===T-1?ht=this.options.reverse?"left":"right":A===0?ht=this.options.reverse?"right":"left":ht="center"),r==="top"?c==="near"||w!==0?Z=-V*nt+nt/2:c==="center"?Z=-lt.highest.height/2-ct*nt+nt:Z=-lt.highest.height+nt/2:c==="near"||w!==0?Z=nt/2:c==="center"?Z=lt.highest.height/2-ct*nt:Z=lt.highest.height-V*nt,d&&(Z*=-1),w!==0&&!mt.showLabelBackdrop&&(z+=nt/2*Math.sin(w))):(F=Y,Z=(1-V)*nt/2);let ot;if(mt.showLabelBackdrop){const vt=Is(mt.backdropPadding),St=lt.heights[A],Pt=lt.widths[A];let It=Z-vt.top,Nt=0-vt.left;switch(rt){case"middle":It-=St/2;break;case"bottom":It-=St;break}switch(H){case"center":Nt-=Pt/2;break;case"right":Nt-=Pt;break;case"inner":A===T-1?Nt-=Pt:A>0&&(Nt-=Pt/2);break}ot={left:Nt,top:It,width:Pt+vt.width,height:St+vt.height,color:mt.backdropColor}}k.push({label:G,font:J,textOffset:Z,options:{rotation:w,color:st,strokeColor:xt,strokeWidth:dt,textAlign:ht,textBaseline:rt,translation:[z,F],backdrop:ot}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-to(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,s=this._getLabelSizes(),o=t+a,l=s.widest.width;let c,h;return e==="left"?r?(h=this.right+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-o,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?r?(h=this.left+a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+o,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:a,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,a,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,s;const o=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(a=0,s=r.length;a<s;++a){const l=r[a];e.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),s=i.display?a.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,d,g;this.isHorizontal()?(c=qv(t,this.left,s)-s/2,h=qv(t,this.right,o)+o/2,d=g=l):(d=qv(t,this.top,s)-s/2,g=qv(t,this.bottom,o)+o/2,c=h=l),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(c,d),e.lineTo(h,g),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&e1(i,r);const a=this.getLabelItems(t);for(const s of a){const o=s.options,l=s.font,c=s.label,h=s.textOffset;Ex(i,c,0,h,l,o)}r&&n1(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const a=is(i.font),s=Is(i.padding),o=i.align;let l=a.lineHeight/2;e==="bottom"||e==="center"||fi(e)?(l+=s.bottom,Or(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=s.top;const{titleX:c,titleY:h,maxWidth:d,rotation:g}=Oet(this,l,e,o);Ex(t,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:g,textAlign:Det(o,e,r),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=sn(t.grid&&t.grid.z,-1),r=sn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Xx.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,s;for(a=0,s=e.length;a<s;++a){const o=e[a];o[i]===this.id&&(!t||o.type===t)&&r.push(o)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return is(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class dk{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Iet(e)&&(i=this.register(e));const r=this.items,a=t.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,Let(t,s,i),this.override&&gr.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in gr[r]&&(delete gr[r][i],this.override&&delete Px[i])}}function Let(n,t,e){const i=Sg(Object.create(null),[e?gr.get(e):{},gr.get(t),n.defaults]);gr.set(t,i),n.defaultRoutes&&Ret(t,n.defaultRoutes),n.descriptors&&gr.describe(t,n.descriptors)}function Ret(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),a=[n].concat(i).join("."),s=t[e].split("."),o=s.pop(),l=s.join(".");gr.route(a,r,l,o)})}function Iet(n){return"id"in n&&"defaults"in n}class zet{constructor(){this.controllers=new dk(Qy,"datasets",!0),this.elements=new dk(ac,"elements"),this.plugins=new dk(Object,"plugins"),this.scales=new dk(Xx,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):Bi(r,s=>{const o=i||this._getRegistryForType(s);this._exec(t,o,s)})})}_exec(t,e,i){const r=GD(t);Pn(i["before"+r],[],i),e[t](i),Pn(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var ug=new zet;class Fet{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),s}_notify(t,e,i,r){r=r||{};for(const a of t){const s=a.plugin,o=s[i],l=[e,r,a.options];if(Pn(o,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){di(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=sn(i.options&&i.options.plugins,{}),a=Bet(i);return r===!1&&!e?[]:Get(t,a,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(a,s)=>a.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Bet(n){const t={},e=[],i=Object.keys(ug.plugins.items);for(let a=0;a<i.length;a++)e.push(ug.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const s=r[a];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function Het(n,t){return!t&&n===!1?null:n===!0?{}:n}function Get(n,{plugins:t,localIds:e},i,r){const a=[],s=n.getContext();for(const o of t){const l=o.id,c=Het(i[l],r);c!==null&&a.push({plugin:o,options:Wet(n.config,{plugin:o,local:e[l]},c,s)})}return a}function Wet(n,{plugin:t,local:e},i,r){const a=n.pluginScopeKeys(t),s=n.getOptionScopes(i,a);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fE(n,t){const e=gr.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Uet(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Yet(n,t){return n===t?"_index_":"_value_"}function JI(n){if(n==="x"||n==="y"||n==="r")return n}function $et(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gE(n,...t){if(JI(n))return n;for(const e of t){const i=e.axis||$et(e.position)||n.length>1&&JI(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function t3(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Vet(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return t3(n,"x",e[0])||t3(n,"y",e[0])}return{}}function Xet(n,t){const e=Px[n.type]||{scales:{}},i=t.scales||{},r=fE(n.type,t),a=Object.create(null);return Object.keys(i).forEach(s=>{const o=i[s];if(!fi(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=gE(s,o,Vet(s,n),gr.scales[o.type]),c=Yet(l,r),h=e.scales||{};a[s]=zw(Object.create(null),[{axis:l},o,h[l],h[c]])}),n.data.datasets.forEach(s=>{const o=s.type||n.type,l=s.indexAxis||fE(o,t),h=(Px[o]||{}).scales||{};Object.keys(h).forEach(d=>{const g=Uet(d,l),y=s[g+"AxisID"]||g;a[y]=a[y]||Object.create(null),zw(a[y],[{axis:g},i[y],h[d]])})}),Object.keys(a).forEach(s=>{const o=a[s];zw(o,[gr.scales[o.type],gr.scale])}),a}function JW(n){const t=n.options||(n.options={});t.plugins=sn(t.plugins,{}),t.scales=Xet(n,t)}function t8(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function qet(n){return n=n||{},n.data=t8(n.data),JW(n),n}const e3=new Map,e8=new Set;function fk(n,t){let e=e3.get(n);return e||(e=t(),e3.set(n,e),e8.add(e)),e}const rw=(n,t,e)=>{const i=Hy(t,e);i!==void 0&&n.add(i)};class Ket{constructor(t){this._config=qet(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=t8(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),JW(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fk(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return fk(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return fk(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return fk(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:a}=this,s=this._cachedScopes(t,i),o=s.get(e);if(o)return o;const l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(d=>rw(l,t,d))),h.forEach(d=>rw(l,r,d)),h.forEach(d=>rw(l,Px[a]||{},d)),h.forEach(d=>rw(l,gr,d)),h.forEach(d=>rw(l,hE,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),e8.has(e)&&s.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Px[e]||{},gr.datasets[e]||{},{type:e},gr,hE]}resolveNamedOptions(t,e,i,r=[""]){const a={$shared:!0},{resolver:s,subPrefixes:o}=n3(this._resolverCache,t,r);let l=s;if(Qet(s,e)){a.$shared=!1,i=Su(i)?i():i;const c=this.createResolver(t,i,o);l=jb(s,i,c)}for(const c of e)a[c]=l[c];return a}createResolver(t,e,i=[""],r){const{resolver:a}=n3(this._resolverCache,t,i);return fi(e)?jb(a,e,void 0,r):a}}function n3(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let a=i.get(r);return a||(a={resolver:XD(t,e),subPrefixes:e.filter(o=>!o.toLowerCase().includes("hover"))},i.set(r,a)),a}const Zet=n=>fi(n)&&Object.getOwnPropertyNames(n).some(t=>Su(n[t]));function Qet(n,t){const{isScriptable:e,isIndexable:i}=jW(n);for(const r of t){const a=e(r),s=i(r),o=(s||a)&&n[r];if(a&&(Su(o)||Zet(o))||s&&Or(o))return!0}return!1}var Jet="4.5.1";const tnt=["top","bottom","left","right","chartArea"];function i3(n,t){return n==="top"||n==="bottom"||tnt.indexOf(n)===-1&&t==="x"}function r3(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function a3(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Pn(e&&e.onComplete,[n],t)}function ent(n){const t=n.chart,e=t.options.animation;Pn(e&&e.onProgress,[n],t)}function n8(n){return ZD()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const pC={},s3=n=>{const t=n8(n);return Object.values(pC).filter(e=>e.canvas===t).pop()};function nnt(n,t,e){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=t){const s=n[r];delete n[r],(e>0||a>t)&&(n[a+e]=s)}}}function int(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let gi=class{static defaults=gr;static instances=pC;static overrides=Px;static registry=ug;static version=Jet;static getChart=s3;static register(...t){ug.add(...t),o3()}static unregister(...t){ug.remove(...t),o3()}constructor(t,e){const i=this.config=new Ket(e),r=n8(t),a=s3(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||bet(r)),this.platform.updateConfig(i);const o=this.platform.acquireContext(r,s.aspectRatio),l=o&&o.canvas,c=l&&l.height,h=l&&l.width;if(this.id=tJ(),this.ctx=o,this.canvas=l,this.width=h,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fet,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mJ(d=>this.update(d),s.resizeDelay||0),this._dataChanges=[],pC[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Mp.listen(this,"complete",a3),Mp.listen(this,"progress",ent),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:a}=this;return di(t)?e&&a?a:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ug}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return AI(this.canvas,this.ctx),this}stop(){return Mp.stop(this),this}resize(t,e){Mp.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,a),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,NI(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),Pn(i.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Bi(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((s,o)=>(s[o]=!1,s),{});let a=[];e&&(a=a.concat(Object.keys(e).map(s=>{const o=e[s],l=gE(s,o),c=l==="r",h=l==="x";return{options:o,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Bi(a,s=>{const o=s.options,l=o.id,c=gE(l,o),h=sn(o.type,s.dtype);(o.position===void 0||i3(o.position,c)!==i3(s.dposition))&&(o.position=s.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===h)d=i[l];else{const g=ug.getScale(h);d=new g({id:l,type:h,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(o,t)}),Bi(r,(s,o)=>{s||delete i[o]}),Bi(i,s=>{ec.configure(this,s,s.options),ec.addBox(this,s)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,a)=>r.index-a.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(r3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const a=e[i];let s=this.getDatasetMeta(i);const o=a.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=o,s.indexAxis=a.indexAxis||fE(o,this.options),s.order=a.order||0,s.index=i,s.label=""+a.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const l=ug.getController(o),{datasetElementType:c,dataElementType:h}=gr.datasets[o];Object.assign(l,{dataElementType:ug.getElement(h),datasetElementType:c&&ug.getElement(c)}),s.controller=new l(this,i),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){Bi(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:d}=this.getDatasetMeta(c),g=!r&&a.indexOf(d)===-1;d.buildOrUpdateElements(g),s=Math.max(+d.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),r||Bi(a,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(r3("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Bi(this.scales,t=>{ec.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!vI(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of e){const s=i==="_removeElements"?-a:a;nnt(t,r,s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(s=>s[0]===a).map((s,o)=>o+","+s.splice(1).join(","))),r=i(0);for(let a=1;a<e;a++)if(!vI(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ec.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Bi(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Su(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mp.has(this)?this.attached&&!Mp.running(this)&&Mp.start(this):(this.draw(),a3({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,a;for(r=0,a=e.length;r<a;++r){const s=e[r];(!t||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=WW(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&e1(e,r),t.controller.draw(),r&&n1(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return yg(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const a=Qtt.modes[e];return typeof a=="function"?a(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(a=>a&&a._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Zy(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,r);Tu(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),s.update(a,{visible:i}),this.update(o=>o.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Mp.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),AI(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete pC[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,s)=>{e.addEventListener(this,a,s),t[a]=s},r=(a,s,o)=>{a.offsetX=s,a.offsetY=o,this._eventHandler(a)};Bi(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},a=(l,c)=>{this.canvas&&this.resize(l,c)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),i("resize",a),i("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){Bi(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Bi(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let a,s,o,l;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){s=t[o];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:s})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[s],index:s}});!LC(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,a=(l,c)=>l.filter(h=>!c.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),s=a(e,t),o=i?t:a(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:a}=this,s=e,o=this._getActiveElements(t,r,i,s),l=sJ(t),c=int(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Pn(a.onHover,[t,o,this],this),l&&Pn(a.onClick,[t,o,this],this));const h=!LC(o,r);return(h||e)&&(this._active=o,this._updateHoverStyles(o,r,e)),this._lastEvent=c,h}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}};function o3(){return Bi(gi.instances,n=>n._plugins.invalidate())}function rnt(n,t,e){const{startAngle:i,x:r,y:a,outerRadius:s,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:h}=l,d=Math.min(c/s,Ql(i-e));if(n.beginPath(),n.arc(r,a,s-c/2,i+d/2,e-d/2),o>0){const g=Math.min(c/o,Ql(i-e));n.arc(r,a,o+c/2,e-g/2,i+g/2,!0)}else{const g=Math.min(c/2,s*Ql(i-e));if(h==="round")n.arc(r,a,g,e-hi/2,i+hi/2,!0);else if(h==="bevel"){const y=2*g*g,x=-y*Math.cos(e+hi/2)+r,w=-y*Math.sin(e+hi/2)+a,k=y*Math.cos(i+hi/2)+r,A=y*Math.sin(i+hi/2)+a;n.lineTo(x,w),n.lineTo(k,A)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function ant(n,t,e){const{startAngle:i,pixelMargin:r,x:a,y:s,outerRadius:o,innerRadius:l}=t;let c=r/o;n.beginPath(),n.arc(a,s,o,i-c,e+c),l>r?(c=r/l,n.arc(a,s,l,e+c,i-c,!0)):n.arc(a,s,r,e+Ia,i-Ia),n.closePath(),n.clip()}function snt(n){return VD(n,["outerStart","outerEnd","innerStart","innerEnd"])}function ont(n,t,e,i){const r=snt(n.options.borderRadius),a=(e-t)/2,s=Math.min(a,i*t/2),o=l=>{const c=(e-Math.min(a,l))*i/2;return Yo(l,0,Math.min(a,c))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:Yo(r.innerStart,0,s),innerEnd:Yo(r.innerEnd,0,s)}}function eb(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function WC(n,t,e,i,r,a){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:h}=t,d=Math.max(t.outerRadius+i+e-c,0),g=h>0?h+i+e+c:0;let y=0;const x=r-l;if(i){const mt=h>0?h-i:0,ct=d>0?d-i:0,st=(mt+ct)/2,xt=st!==0?x*st/(st+i):x;y=(x-xt)/2}const w=Math.max(.001,x*d-e/hi)/d,k=(x-w)/2,A=l+k+y,T=r-k-y,{outerStart:R,outerEnd:G,innerStart:z,innerEnd:F}=ont(t,g,d,T-A),H=d-R,Y=d-G,J=A+R/H,nt=T-G/Y,V=g+z,Z=g+F,rt=A+z/V,lt=T-F/Z;if(n.beginPath(),a){const mt=(J+nt)/2;if(n.arc(s,o,d,J,mt),n.arc(s,o,d,mt,nt),G>0){const dt=eb(Y,nt,s,o);n.arc(dt.x,dt.y,G,nt,T+Ia)}const ct=eb(Z,T,s,o);if(n.lineTo(ct.x,ct.y),F>0){const dt=eb(Z,lt,s,o);n.arc(dt.x,dt.y,F,T+Ia,lt+Math.PI)}const st=(T-F/g+(A+z/g))/2;if(n.arc(s,o,g,T-F/g,st,!0),n.arc(s,o,g,st,A+z/g,!0),z>0){const dt=eb(V,rt,s,o);n.arc(dt.x,dt.y,z,rt+Math.PI,A-Ia)}const xt=eb(H,A,s,o);if(n.lineTo(xt.x,xt.y),R>0){const dt=eb(H,J,s,o);n.arc(dt.x,dt.y,R,A-Ia,J)}}else{n.moveTo(s,o);const mt=Math.cos(J)*d+s,ct=Math.sin(J)*d+o;n.lineTo(mt,ct);const st=Math.cos(nt)*d+s,xt=Math.sin(nt)*d+o;n.lineTo(st,xt)}n.closePath()}function lnt(n,t,e,i,r){const{fullCircles:a,startAngle:s,circumference:o}=t;let l=t.endAngle;if(a){WC(n,t,e,i,l,r);for(let c=0;c<a;++c)n.fill();isNaN(o)||(l=s+(o%ba||ba))}return WC(n,t,e,i,l,r),n.fill(),l}function cnt(n,t,e,i,r){const{fullCircles:a,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:h,borderDash:d,borderDashOffset:g,borderRadius:y}=l,x=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=g,x?(n.lineWidth=c*2,n.lineJoin=h||"round"):(n.lineWidth=c,n.lineJoin=h||"bevel");let w=t.endAngle;if(a){WC(n,t,e,i,w,r);for(let k=0;k<a;++k)n.stroke();isNaN(o)||(w=s+(o%ba||ba))}x&&ant(n,t,w),l.selfJoin&&w-s>=hi&&y===0&&h!=="miter"&&rnt(n,t,w),a||(WC(n,t,e,i,w,r),n.stroke())}class i8 extends ac{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:a,distance:s}=FC(r,{x:t,y:e}),{startAngle:o,endAngle:l,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,y=sn(d,l-o),x=t_(a,o,l)&&o!==l,w=y>=ba||x,k=Op(s,c+g,h+g);return w&&k}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:a,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,h=(r+a)/2,d=(s+o+c+l)/2;return{x:e+Math.cos(h)*d,y:i+Math.sin(h)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,a=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ba?Math.floor(i/ba):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*r,Math.sin(o)*r);const l=1-Math.sin(Math.min(hi,i||0)),c=r*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,lnt(t,this,c,a,s),cnt(t,this,c,a,s),t.restore()}}function r8(n,t,e=t){n.lineCap=sn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(sn(e.borderDash,t.borderDash)),n.lineDashOffset=sn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=sn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=sn(e.borderWidth,t.borderWidth),n.strokeStyle=sn(e.borderColor,t.borderColor)}function unt(n,t,e){n.lineTo(e.x,e.y)}function hnt(n){return n.stepped?MJ:n.tension||n.cubicInterpolationMode==="monotone"?NJ:unt}function a8(n,t,e={}){const i=n.length,{start:r=0,end:a=i-1}=e,{start:s,end:o}=t,l=Math.max(r,s),c=Math.min(a,o),h=r<s&&a<s||r>o&&a>o;return{count:i,start:l,loop:t.loop,ilen:c<l&&!h?i+c-l:c-l}}function dnt(n,t,e,i){const{points:r,options:a}=t,{count:s,start:o,loop:l,ilen:c}=a8(r,e,i),h=hnt(a);let{move:d=!0,reverse:g}=i||{},y,x,w;for(y=0;y<=c;++y)x=r[(o+(g?c-y:y))%s],!x.skip&&(d?(n.moveTo(x.x,x.y),d=!1):h(n,w,x,g,a.stepped),w=x);return l&&(x=r[(o+(g?c:0))%s],h(n,w,x,g,a.stepped)),!!l}function fnt(n,t,e,i){const r=t.points,{count:a,start:s,ilen:o}=a8(r,e,i),{move:l=!0,reverse:c}=i||{};let h=0,d=0,g,y,x,w,k,A;const T=G=>(s+(c?o-G:G))%a,R=()=>{w!==k&&(n.lineTo(h,k),n.lineTo(h,w),n.lineTo(h,A))};for(l&&(y=r[T(0)],n.moveTo(y.x,y.y)),g=0;g<=o;++g){if(y=r[T(g)],y.skip)continue;const G=y.x,z=y.y,F=G|0;F===x?(z<w?w=z:z>k&&(k=z),h=(d*h+G)/++d):(R(),n.lineTo(G,z),x=F,d=0,w=k=z),A=z}R()}function pE(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?fnt:dnt}function gnt(n){return n.stepped?ott:n.tension||n.cubicInterpolationMode==="monotone"?ltt:ix}function pnt(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),r8(n,t.options),n.stroke(r)}function mnt(n,t,e,i){const{segments:r,options:a}=t,s=pE(t);for(const o of r)r8(n,a,o.style),n.beginPath(),s(n,t,o,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const ynt=typeof Path2D=="function";function vnt(n,t,e,i){ynt&&!t.options.segment?pnt(n,t,e,i):mnt(n,t,e,i)}class Xr extends ac{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;JJ(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gtt(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],a=this.points,s=GW(this,{property:e,start:r,end:r});if(!s.length)return;const o=[],l=gnt(i);let c,h;for(c=0,h=s.length;c<h;++c){const{start:d,end:g}=s[c],y=a[d],x=a[g];if(y===x){o.push(y);continue}const w=Math.abs((r-y[e])/(x[e]-y[e])),k=l(y,x,w,i.stepped);k[e]=t[e],o.push(k)}return o.length===1?o[0]:o}pathSegment(t,e,i){return pE(this)(t,this,e,i)}path(t,e,i){const r=this.segments,a=pE(this);let s=this._loop;e=e||0,i=i||this.points.length-e;for(const o of r)s&=a(t,this,o,{start:e,end:e+i-1});return!!s}draw(t,e,i,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),vnt(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function l3(n,t,e,i){const r=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<r.radius+r.hitRadius}class pa extends ac{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:a,y:s}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return l3(this,t,"x",e)}inYRange(t,e){return l3(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!yg(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,dE(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function s8(n,t){const{x:e,y:i,base:r,width:a,height:s}=n.getProps(["x","y","base","width","height"],t);let o,l,c,h,d;return n.horizontal?(d=s/2,o=Math.min(e,r),l=Math.max(e,r),c=i-d,h=i+d):(d=a/2,o=e-d,l=e+d,c=Math.min(i,r),h=Math.max(i,r)),{left:o,top:c,right:l,bottom:h}}function Ey(n,t,e,i){return n?0:Yo(t,e,i)}function xnt(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,a=EW(i);return{t:Ey(r.top,a.top,0,e),r:Ey(r.right,a.right,0,t),b:Ey(r.bottom,a.bottom,0,e),l:Ey(r.left,a.left,0,t)}}function bnt(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,a=Iy(r),s=Math.min(t,e),o=n.borderSkipped,l=i||fi(r);return{topLeft:Ey(!l||o.top||o.left,a.topLeft,0,s),topRight:Ey(!l||o.top||o.right,a.topRight,0,s),bottomLeft:Ey(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:Ey(!l||o.bottom||o.right,a.bottomRight,0,s)}}function wnt(n){const t=s8(n),e=t.right-t.left,i=t.bottom-t.top,r=xnt(n,e/2,i/2),a=bnt(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function gM(n,t,e,i){const r=t===null,a=e===null,o=n&&!(r&&a)&&s8(n,i);return o&&(r||Op(t,o.left,o.right))&&(a||Op(e,o.top,o.bottom))}function _nt(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Snt(n,t){n.rect(t.x,t.y,t.w,t.h)}function pM(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,s=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+a,h:n.h+s,radius:n.radius}}class Fa extends ac{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:a,outer:s}=wnt(this),o=_nt(s.radius)?Eb:Snt;t.save(),(s.w!==a.w||s.h!==a.h)&&(t.beginPath(),o(t,pM(s,e,a)),t.clip(),o(t,pM(a,-e,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,pM(a,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return gM(this,t,e,i)}inXRange(t,e){return gM(this,t,null,e)}inYRange(t,e){return gM(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+r)/2:e,y:a?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var knt=Object.freeze({__proto__:null,ArcElement:i8,BarElement:Fa,LineElement:Xr,PointElement:pa});const mE=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],c3=mE.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function o8(n){return mE[n%mE.length]}function l8(n){return c3[n%c3.length]}function Cnt(n,t){return n.borderColor=o8(t),n.backgroundColor=l8(t),++t}function Ant(n,t){return n.backgroundColor=n.data.map(()=>o8(t++)),t}function Tnt(n,t){return n.backgroundColor=n.data.map(()=>l8(t++)),t}function Mnt(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof yA?t=Ant(e,t):r instanceof $W?t=Tnt(e,t):r&&(t=Cnt(e,t))}}function u3(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function Nnt(n){return n&&(n.borderColor||n.backgroundColor)}function Pnt(){return gr.borderColor!=="rgba(0,0,0,0.1)"||gr.backgroundColor!=="rgba(0,0,0,0.1)"}var Ent={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:a}=r,s=u3(i)||Nnt(r)||a&&u3(a)||Pnt();if(!e.forceOverride&&s)return;const o=Mnt(n);i.forEach(o)}};function jnt(n,t,e,i,r){const a=r.samples||i;if(a>=e)return n.slice(t,t+e);const s=[],o=(e-2)/(a-2);let l=0;const c=t+e-1;let h=t,d,g,y,x,w;for(s[l++]=n[h],d=0;d<a-2;d++){let k=0,A=0,T;const R=Math.floor((d+1)*o)+1+t,G=Math.min(Math.floor((d+2)*o)+1,e)+t,z=G-R;for(T=R;T<G;T++)k+=n[T].x,A+=n[T].y;k/=z,A/=z;const F=Math.floor(d*o)+1+t,H=Math.min(Math.floor((d+1)*o)+1,e)+t,{x:Y,y:J}=n[h];for(y=x=-1,T=F;T<H;T++)x=.5*Math.abs((Y-k)*(n[T].y-J)-(Y-n[T].x)*(A-J)),x>y&&(y=x,g=n[T],w=T);s[l++]=g,h=w}return s[l++]=n[c],s}function Dnt(n,t,e,i){let r=0,a=0,s,o,l,c,h,d,g,y,x,w;const k=[],A=t+e-1,T=n[t].x,G=n[A].x-T;for(s=t;s<t+e;++s){o=n[s],l=(o.x-T)/G*i,c=o.y;const z=l|0;if(z===h)c<x?(x=c,d=s):c>w&&(w=c,g=s),r=(a*r+o.x)/++a;else{const F=s-1;if(!di(d)&&!di(g)){const H=Math.min(d,g),Y=Math.max(d,g);H!==y&&H!==F&&k.push({...n[H],x:r}),Y!==y&&Y!==F&&k.push({...n[Y],x:r})}s>0&&F!==y&&k.push(n[F]),k.push(o),h=z,a=0,x=w=c,d=g=y=s}}return k}function c8(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function h3(n){n.data.datasets.forEach(t=>{c8(t)})}function Ont(n,t){const e=t.length;let i=0,r;const{iScale:a}=n,{min:s,max:o,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(i=Yo(Lp(t,a.axis,s).lo,0,e-1)),c?r=Yo(Lp(t,a.axis,o).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var Lnt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){h3(n);return}const i=n.width;n.data.datasets.forEach((r,a)=>{const{_data:s,indexAxis:o}=r,l=n.getDatasetMeta(a),c=s||r.data;if(La([o,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=n.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:d,count:g}=Ont(l,c);const y=e.threshold||4*i;if(g<=y){c8(r);return}di(s)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let x;switch(e.algorithm){case"lttb":x=jnt(c,d,g,i,e);break;case"min-max":x=Dnt(c,d,g,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=x})},destroy(n){h3(n)}};function Rnt(n,t,e){const i=n.segments,r=n.points,a=t.points,s=[];for(const o of i){let{start:l,end:c}=o;c=xA(l,c,r);const h=yE(e,r[l],r[c],o.loop);if(!t.segments){s.push({source:o,target:h,start:r[l],end:r[c]});continue}const d=GW(t,h);for(const g of d){const y=yE(e,a[g.start],a[g.end],g.loop),x=HW(o,r,y);for(const w of x)s.push({source:w,target:g,start:{[e]:d3(h,y,"start",Math.max)},end:{[e]:d3(h,y,"end",Math.min)}})}}return s}function yE(n,t,e,i){if(i)return;let r=t[n],a=e[n];return n==="angle"&&(r=Ql(r),a=Ql(a)),{property:n,start:r,end:a}}function Int(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,a=[];return t.segments.forEach(({start:s,end:o})=>{o=xA(s,o,r);const l=r[s],c=r[o];i!==null?(a.push({x:l.x,y:i}),a.push({x:c.x,y:i})):e!==null&&(a.push({x:e,y:l.y}),a.push({x:e,y:c.y}))}),a}function xA(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function d3(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function u8(n,t){let e=[],i=!1;return Or(n)?(i=!0,e=n):e=Int(n,t),e.length?new Xr({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function f3(n){return n&&n.fill!==!1}function znt(n,t,e){let r=n[t].fill;const a=[t];let s;if(!e)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!$a(r))return r;if(s=n[r],!s)return!1;if(s.visible)return r;a.push(r),r=s.fill}return!1}function Fnt(n,t,e){const i=Wnt(n);if(fi(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return $a(r)&&Math.floor(r)===r?Bnt(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Bnt(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function Hnt(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:fi(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Gnt(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:fi(n)?i=n.value:i=t.getBaseValue(),i}function Wnt(n){const t=n.options,e=t.fill;let i=sn(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Unt(n){const{scale:t,index:e,line:i}=n,r=[],a=i.segments,s=i.points,o=Ynt(t,e);o.push(u8({x:null,y:t.bottom},i));for(let l=0;l<a.length;l++){const c=a[l];for(let h=c.start;h<=c.end;h++)$nt(r,s[h],o)}return new Xr({points:r,options:{}})}function Ynt(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const a=i[r];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function $nt(n,t,e){const i=[];for(let r=0;r<e.length;r++){const a=e[r],{first:s,last:o,point:l}=Vnt(a,t,"x");if(!(!l||s&&o)){if(s)i.unshift(l);else if(n.push(l),!o)break}}n.push(...i)}function Vnt(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],a=n.segments,s=n.points;let o=!1,l=!1;for(let c=0;c<a.length;c++){const h=a[c],d=s[h.start][e],g=s[h.end][e];if(Op(r,d,g)){o=r===d,l=r===g;break}}return{first:o,last:l,point:i}}class h8{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:a,radius:s}=this;return e=e||{start:0,end:ba},t.arc(r,a,s,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,a=t.angle;return{x:e+Math.cos(a)*r,y:i+Math.sin(a)*r,angle:a}}}function Xnt(n){const{chart:t,fill:e,line:i}=n;if($a(e))return qnt(t,e);if(e==="stack")return Unt(n);if(e==="shape")return!0;const r=Knt(n);return r instanceof h8?r:u8(r,i)}function qnt(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function Knt(n){return(n.scale||{}).getPointPositionForValue?Qnt(n):Znt(n)}function Znt(n){const{scale:t={},fill:e}=n,i=Hnt(e,t);if($a(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function Qnt(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,a=i.reverse?t.max:t.min,s=Gnt(e,t,a),o=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,a);return new h8({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)o.push(t.getPointPositionForValue(l,s));return o}function mM(n,t,e){const i=Xnt(t),{chart:r,index:a,line:s,scale:o,axis:l}=t,c=s.options,h=c.fill,d=c.backgroundColor,{above:g=d,below:y=d}=h||{},x=r.getDatasetMeta(a),w=WW(r,x);i&&s.points.length&&(e1(n,e),Jnt(n,{line:s,target:i,above:g,below:y,area:e,scale:o,axis:l,clip:w}),n1(n))}function Jnt(n,t){const{line:e,target:i,above:r,below:a,area:s,scale:o,clip:l}=t,c=e._loop?"angle":t.axis;n.save();let h=a;a!==r&&(c==="x"?(g3(n,i,s.top),yM(n,{line:e,target:i,color:r,scale:o,property:c,clip:l}),n.restore(),n.save(),g3(n,i,s.bottom)):c==="y"&&(p3(n,i,s.left),yM(n,{line:e,target:i,color:a,scale:o,property:c,clip:l}),n.restore(),n.save(),p3(n,i,s.right),h=r)),yM(n,{line:e,target:i,color:h,scale:o,property:c,clip:l}),n.restore()}function g3(n,t,e){const{segments:i,points:r}=t;let a=!0,s=!1;n.beginPath();for(const o of i){const{start:l,end:c}=o,h=r[l],d=r[xA(l,c,r)];a?(n.moveTo(h.x,h.y),a=!1):(n.lineTo(h.x,e),n.lineTo(h.x,h.y)),s=!!t.pathSegment(n,o,{move:s}),s?n.closePath():n.lineTo(d.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function p3(n,t,e){const{segments:i,points:r}=t;let a=!0,s=!1;n.beginPath();for(const o of i){const{start:l,end:c}=o,h=r[l],d=r[xA(l,c,r)];a?(n.moveTo(h.x,h.y),a=!1):(n.lineTo(e,h.y),n.lineTo(h.x,h.y)),s=!!t.pathSegment(n,o,{move:s}),s?n.closePath():n.lineTo(e,d.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function yM(n,t){const{line:e,target:i,property:r,color:a,scale:s,clip:o}=t,l=Rnt(e,i,r);for(const{source:c,target:h,start:d,end:g}of l){const{style:{backgroundColor:y=a}={}}=c,x=i!==!0;n.save(),n.fillStyle=y,tit(n,s,o,x&&yE(r,d,g)),n.beginPath();const w=!!e.pathSegment(n,c);let k;if(x){w?n.closePath():m3(n,i,g,r);const A=!!i.pathSegment(n,h,{move:w,reverse:!0});k=w&&A,k||m3(n,i,d,r)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function tit(n,t,e,i){const r=t.chart.chartArea,{property:a,start:s,end:o}=i||{};if(a==="x"||a==="y"){let l,c,h,d;a==="x"?(l=s,c=r.top,h=o,d=r.bottom):(l=r.left,c=s,h=r.right,d=o),n.beginPath(),e&&(l=Math.max(l,e.left),h=Math.min(h,e.right),c=Math.max(c,e.top),d=Math.min(d,e.bottom)),n.rect(l,c,h-l,d-c),n.clip()}}function m3(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var vf={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let a,s,o,l;for(s=0;s<i;++s)a=n.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof Xr&&(l={visible:n.isDatasetVisible(s),index:s,fill:Fnt(o,s,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=znt(r,s,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let s=r.length-1;s>=0;--s){const o=r[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),i&&o.fill&&mM(n.ctx,o,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;f3(a)&&mM(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!f3(i)||e.drawTime!=="beforeDatasetDraw"||mM(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const y3=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},eit=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class v3 extends ac{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Pn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=is(i.font),a=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=y3(i,a);let c,h;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(s,a,o,l)+10):(h=this.maxHeight,c=this._fitCols(s,r,o,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:a,maxWidth:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=r+o;let d=t;a.textAlign="left",a.textBaseline="middle";let g=-1,y=-h;return this.legendItems.forEach((x,w)=>{const k=i+e/2+a.measureText(x.text).width;(w===0||c[c.length-1]+k+2*o>s)&&(d+=h,c[c.length-(w>0?0:1)]=0,y+=h,g++),l[w]={left:0,top:y,row:g,width:k,height:r},c[c.length-1]+=k+o}),d}_fitCols(t,e,i,r){const{ctx:a,maxHeight:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=s-t;let d=o,g=0,y=0,x=0,w=0;return this.legendItems.forEach((k,A)=>{const{itemWidth:T,itemHeight:R}=nit(i,e,a,k,r);A>0&&y+R+2*o>h&&(d+=g+o,c.push({width:g,height:y}),x+=g+o,w++,g=y=0),l[A]={left:x,top:y,col:w,width:T,height:R},g=Math.max(g,T),y+=R+o}),d+=g,c.push({width:g,height:y}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:a}}=this,s=_b(a,this.left,this.width);if(this.isHorizontal()){let o=0,l=Kl(i,this.left+r,this.right-this.lineWidths[o]);for(const c of e)o!==c.row&&(o=c.row,l=Kl(i,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+t+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let o=0,l=Kl(i,this.top+t+r,this.bottom-this.columnSizes[o].height);for(const c of e)c.col!==o&&(o=c.col,l=Kl(i,this.top+t+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;e1(t,this),this._draw(),n1(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:a,labels:s}=t,o=gr.color,l=_b(t.rtl,this.left,this.width),c=is(s.font),{padding:h}=s,d=c.size,g=d/2;let y;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:x,boxHeight:w,itemHeight:k}=y3(s,d),A=function(F,H,Y){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;r.save();const J=sn(Y.lineWidth,1);if(r.fillStyle=sn(Y.fillStyle,o),r.lineCap=sn(Y.lineCap,"butt"),r.lineDashOffset=sn(Y.lineDashOffset,0),r.lineJoin=sn(Y.lineJoin,"miter"),r.lineWidth=J,r.strokeStyle=sn(Y.strokeStyle,o),r.setLineDash(sn(Y.lineDash,[])),s.usePointStyle){const nt={radius:w*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:J},V=l.xPlus(F,x/2),Z=H+g;PW(r,nt,V,Z,s.pointStyleWidth&&x)}else{const nt=H+Math.max((d-w)/2,0),V=l.leftForLtr(F,x),Z=Iy(Y.borderRadius);r.beginPath(),Object.values(Z).some(rt=>rt!==0)?Eb(r,{x:V,y:nt,w:x,h:w,radius:Z}):r.rect(V,nt,x,w),r.fill(),J!==0&&r.stroke()}r.restore()},T=function(F,H,Y){Ex(r,Y.text,F,H+k/2,c,{strikethrough:Y.hidden,textAlign:l.textAlign(Y.textAlign)})},R=this.isHorizontal(),G=this._computeTitleHeight();R?y={x:Kl(a,this.left+h,this.right-i[0]),y:this.top+h+G,line:0}:y={x:this.left+h,y:Kl(a,this.top+G+h,this.bottom-e[0].height),line:0},zW(this.ctx,t.textDirection);const z=k+h;this.legendItems.forEach((F,H)=>{r.strokeStyle=F.fontColor,r.fillStyle=F.fontColor;const Y=r.measureText(F.text).width,J=l.textAlign(F.textAlign||(F.textAlign=s.textAlign)),nt=x+g+Y;let V=y.x,Z=y.y;l.setWidth(this.width),R?H>0&&V+nt+h>this.right&&(Z=y.y+=z,y.line++,V=y.x=Kl(a,this.left+h,this.right-i[y.line])):H>0&&Z+z>this.bottom&&(V=y.x=V+e[y.line].width+h,y.line++,Z=y.y=Kl(a,this.top+G+h,this.bottom-e[y.line].height));const rt=l.x(V);if(A(rt,Z,F),V=yJ(J,V+x+g,R?V+nt:this.right,t.rtl),T(l.x(V),Z,F),R)y.x+=nt+h;else if(typeof F.text!="string"){const lt=c.lineHeight;y.y+=d8(F,lt)+h}else y.y+=z}),FW(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=is(e.font),r=Is(e.padding);if(!e.display)return;const a=_b(t.rtl,this.left,this.width),s=this.ctx,o=e.position,l=i.size/2,c=r.top+l;let h,d=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+c,d=Kl(t.align,d,this.right-g);else{const x=this.columnSizes.reduce((w,k)=>Math.max(w,k.height),0);h=c+Kl(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const y=Kl(o,d,d+g);s.textAlign=a.textAlign(YD(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,Ex(s,e.text,y,h,i)}_computeTitleHeight(){const t=this.options.title,e=is(t.font),i=Is(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,a;if(Op(t,this.left,this.right)&&Op(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],Op(t,r.left,r.left+r.width)&&Op(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!ait(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,a=eit(r,i);r&&!a&&Pn(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!a&&Pn(e.onHover,[t,i,this],this)}else i&&Pn(e.onClick,[t,i,this],this)}}function nit(n,t,e,i,r){const a=iit(i,n,t,e),s=rit(r,i,t.lineHeight);return{itemWidth:a,itemHeight:s}}function iit(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,s)=>a.length>s.length?a:s)),t+e.size/2+i.measureText(r).width}function rit(n,t,e){let i=n;return typeof t.text!="string"&&(i=d8(t,e)),i}function d8(n,t){const e=n.text?n.text.length:0;return t*e}function ait(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var sr={id:"legend",_element:v3,start(n,t,e){const i=n.legend=new v3({ctx:n.ctx,options:e,chart:n});ec.configure(n,i,e),ec.addBox(n,i)},stop(n){ec.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ec.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:a,useBorderRadius:s,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),h=Is(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class nO extends ac{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Or(i.text)?i.text.length:1;this._padding=Is(i.padding);const a=r*is(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:a,options:s}=this,o=s.align;let l=0,c,h,d;return this.isHorizontal()?(h=Kl(o,i,a),d=e+t,c=a-i):(s.position==="left"?(h=i+t,d=Kl(o,r,e),l=hi*-.5):(h=a-t,d=Kl(o,e,r),l=hi*.5),c=r-e),{titleX:h,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=is(e.font),a=i.lineHeight/2+this._padding.top,{titleX:s,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(a);Ex(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:YD(e.align),textBaseline:"middle",translation:[s,o]})}}function sit(n,t){const e=new nO({ctx:n.ctx,options:t,chart:n});ec.configure(n,e,t),ec.addBox(n,e),n.titleBlock=e}var Xo={id:"title",_element:nO,start(n,t,e){sit(n,e)},stop(n){const t=n.titleBlock;ec.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ec.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gk=new WeakMap;var oit={id:"subtitle",start(n,t,e){const i=new nO({ctx:n.ctx,options:e,chart:n});ec.configure(n,i,e),ec.addBox(n,i),gk.set(n,i)},stop(n){ec.removeBox(n,gk.get(n)),gk.delete(n)},beforeUpdate(n,t,e){const i=gk.get(n);ec.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nw={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,a=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),r+=l.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:r/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,a,s,o;for(a=0,s=n.length;a<s;++a){const l=n[a].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Pb(t,c);h<r&&(r=h,o=l)}}if(o){const l=o.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function og(n,t){return t&&(Or(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Np(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function lit(n,t){const{element:e,datasetIndex:i,index:r}=t,a=n.getDatasetMeta(i).controller,{label:s,value:o}=a.getLabelAndValue(r);return{chart:n,label:s,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:o,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function x3(n,t){const e=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:s,boxHeight:o}=t,l=is(t.bodyFont),c=is(t.titleFont),h=is(t.footerFont),d=a.length,g=r.length,y=i.length,x=Is(t.padding);let w=x.height,k=0,A=i.reduce((G,z)=>G+z.before.length+z.lines.length+z.after.length,0);if(A+=n.beforeBody.length+n.afterBody.length,d&&(w+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),A){const G=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;w+=y*G+(A-y)*l.lineHeight+(A-1)*t.bodySpacing}g&&(w+=t.footerMarginTop+g*h.lineHeight+(g-1)*t.footerSpacing);let T=0;const R=function(G){k=Math.max(k,e.measureText(G).width+T)};return e.save(),e.font=c.string,Bi(n.title,R),e.font=l.string,Bi(n.beforeBody.concat(n.afterBody),R),T=t.displayColors?s+2+t.boxPadding:0,Bi(i,G=>{Bi(G.before,R),Bi(G.lines,R),Bi(G.after,R)}),T=0,e.font=h.string,Bi(n.footer,R),e.restore(),k+=x.width,{width:k,height:w}}function cit(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function uit(n,t,e,i){const{x:r,width:a}=i,s=e.caretSize+e.caretPadding;if(n==="left"&&r+a+s>t.width||n==="right"&&r-a-s<0)return!0}function hit(n,t,e,i){const{x:r,width:a}=e,{width:s,chartArea:{left:o,right:l}}=n;let c="center";return i==="center"?c=r<=(o+l)/2?"left":"right":r<=a/2?c="left":r>=s-a/2&&(c="right"),uit(c,n,t,e)&&(c="center"),c}function b3(n,t,e){const i=e.yAlign||t.yAlign||cit(n,e);return{xAlign:e.xAlign||t.xAlign||hit(n,t,e,i),yAlign:i}}function dit(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function fit(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function w3(n,t,e,i){const{caretSize:r,caretPadding:a,cornerRadius:s}=n,{xAlign:o,yAlign:l}=e,c=r+a,{topLeft:h,topRight:d,bottomLeft:g,bottomRight:y}=Iy(s);let x=dit(t,o);const w=fit(t,l,c);return l==="center"?o==="left"?x+=c:o==="right"&&(x-=c):o==="left"?x-=Math.max(h,g)+r:o==="right"&&(x+=Math.max(d,y)+r),{x:Yo(x,0,i.width-t.width),y:Yo(w,0,i.height-t.height)}}function pk(n,t,e){const i=Is(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function _3(n){return og([],Np(n))}function git(n,t,e){return Zy(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function S3(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const f8={beforeTitle:Cp,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Cp,beforeBody:Cp,beforeLabel:Cp,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return di(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Cp,afterBody:Cp,beforeFooter:Cp,footer:Cp,afterFooter:Cp};function gu(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?f8[t].call(e,i):r}let k3=class extends ac{static positioners=Nw;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,a=new JD(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=git(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=gu(i,"beforeTitle",this,t),a=gu(i,"title",this,t),s=gu(i,"afterTitle",this,t);let o=[];return o=og(o,Np(r)),o=og(o,Np(a)),o=og(o,Np(s)),o}getBeforeBody(t,e){return _3(gu(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Bi(t,a=>{const s={before:[],lines:[],after:[]},o=S3(i,a);og(s.before,Np(gu(o,"beforeLabel",this,a))),og(s.lines,gu(o,"label",this,a)),og(s.after,Np(gu(o,"afterLabel",this,a))),r.push(s)}),r}getAfterBody(t,e){return _3(gu(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=gu(i,"beforeFooter",this,t),a=gu(i,"footer",this,t),s=gu(i,"afterFooter",this,t);let o=[];return o=og(o,Np(r)),o=og(o,Np(a)),o=og(o,Np(s)),o}_createItems(t){const e=this._active,i=this.chart.data,r=[],a=[],s=[];let o=[],l,c;for(l=0,c=e.length;l<c;++l)o.push(lit(this.chart,e[l]));return t.filter&&(o=o.filter((h,d,g)=>t.filter(h,d,g,i))),t.itemSort&&(o=o.sort((h,d)=>t.itemSort(h,d,i))),Bi(o,h=>{const d=S3(t.callbacks,h);r.push(gu(d,"labelColor",this,h)),a.push(gu(d,"labelPointStyle",this,h)),s.push(gu(d,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=o,o}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let a,s=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const o=Nw[i.position].call(this,r,this._eventPosition);s=this._createItems(i),this.title=this.getTitle(s,i),this.beforeBody=this.getBeforeBody(s,i),this.body=this.getBody(s,i),this.afterBody=this.getAfterBody(s,i),this.footer=this.getFooter(s,i);const l=this._size=x3(this,i),c=Object.assign({},o,l),h=b3(this.chart,i,c),d=w3(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const a=this.getCaretPosition(t,i,r);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:a}=this,{caretSize:s,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:d}=Iy(o),{x:g,y}=t,{width:x,height:w}=e;let k,A,T,R,G,z;return a==="center"?(G=y+w/2,r==="left"?(k=g,A=k-s,R=G+s,z=G-s):(k=g+x,A=k+s,R=G-s,z=G+s),T=k):(r==="left"?A=g+Math.max(l,h)+s:r==="right"?A=g+x-Math.max(c,d)-s:A=this.caretX,a==="top"?(R=y,G=R-s,k=A-s,T=A+s):(R=y+w,G=R+s,k=A+s,T=A-s),z=R),{x1:k,x2:A,x3:T,y1:R,y2:G,y3:z}}drawTitle(t,e,i){const r=this.title,a=r.length;let s,o,l;if(a){const c=_b(i.rtl,this.x,this.width);for(t.x=pk(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",s=is(i.titleFont),o=i.titleSpacing,e.fillStyle=i.titleColor,e.font=s.string,l=0;l<a;++l)e.fillText(r[l],c.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,l+1===a&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,e,i,r,a){const s=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=a,h=is(a.bodyFont),d=pk(this,"left",a),g=r.x(d),y=l<h.lineHeight?(h.lineHeight-l)/2:0,x=e.y+y;if(a.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},k=r.leftForLtr(g,c)+c/2,A=x+l/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,dE(t,w,k,A),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,dE(t,w,k,A)}else{t.lineWidth=fi(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const w=r.leftForLtr(g,c),k=r.leftForLtr(r.xPlus(g,1),c-2),A=Iy(s.borderRadius);Object.values(A).some(T=>T!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Eb(t,{x:w,y:x,w:c,h:l,radius:A}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Eb(t,{x:k,y:x+1,w:c-2,h:l-2,radius:A}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(w,x,c,l),t.strokeRect(w,x,c,l),t.fillStyle=s.backgroundColor,t.fillRect(k,x+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:a,bodyAlign:s,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:h}=i,d=is(i.bodyFont);let g=d.lineHeight,y=0;const x=_b(i.rtl,this.x,this.width),w=function(Y){e.fillText(Y,x.x(t.x+y),t.y+g/2),t.y+=g+a},k=x.textAlign(s);let A,T,R,G,z,F,H;for(e.textAlign=s,e.textBaseline="middle",e.font=d.string,t.x=pk(this,k,i),e.fillStyle=i.bodyColor,Bi(this.beforeBody,w),y=o&&k!=="right"?s==="center"?c/2+h:c+2+h:0,G=0,F=r.length;G<F;++G){for(A=r[G],T=this.labelTextColors[G],e.fillStyle=T,Bi(A.before,w),R=A.lines,o&&R.length&&(this._drawColorBox(e,t,G,x,i),g=Math.max(d.lineHeight,l)),z=0,H=R.length;z<H;++z)w(R[z]),g=d.lineHeight;Bi(A.after,w)}y=0,g=d.lineHeight,Bi(this.afterBody,w),t.y-=a}drawFooter(t,e,i){const r=this.footer,a=r.length;let s,o;if(a){const l=_b(i.rtl,this.x,this.width);for(t.x=pk(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",s=is(i.footerFont),e.fillStyle=i.footerColor,e.font=s.string,o=0;o<a;++o)e.fillText(r[o],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:a,yAlign:s}=this,{x:o,y:l}=t,{width:c,height:h}=i,{topLeft:d,topRight:g,bottomLeft:y,bottomRight:x}=Iy(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(o+d,l),s==="top"&&this.drawCaret(t,e,i,r),e.lineTo(o+c-g,l),e.quadraticCurveTo(o+c,l,o+c,l+g),s==="center"&&a==="right"&&this.drawCaret(t,e,i,r),e.lineTo(o+c,l+h-x),e.quadraticCurveTo(o+c,l+h,o+c-x,l+h),s==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(o+y,l+h),e.quadraticCurveTo(o,l+h,o,l+h-y),s==="center"&&a==="left"&&this.drawCaret(t,e,i,r),e.lineTo(o,l+d),e.quadraticCurveTo(o,l,o+d,l),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const s=Nw[t.position].call(this,this._active,this._eventPosition);if(!s)return;const o=this._size=x3(this,t),l=Object.assign({},s,this._size),c=b3(e,t,l),h=w3(t,l,c,e);(r._to!==h.x||a._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const s=Is(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,r,e),zW(t,e.textDirection),a.y+=s.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),FW(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),a=!LC(i,r),s=this._positionChanged(r,e);(a||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],s=this._getActiveElements(t,a,e,i),o=this._positionChanged(s,t),l=e||!LC(s,a)||o;return l&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,r){const a=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const s=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:i,caretY:r,options:a}=this,s=Nw[a.position].call(this,t,e);return s!==!1&&(i!==s.x||r!==s.y)}};var Qi={id:"tooltip",_element:k3,positioners:Nw,afterInit(n,t,e){e&&(n.tooltip=new k3({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:f8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},pit=Object.freeze({__proto__:null,Colors:Ent,Decimation:Lnt,Filler:vf,Legend:sr,SubTitle:oit,Title:Xo,Tooltip:Qi});const mit=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function yit(n,t,e,i){const r=n.indexOf(t);if(r===-1)return mit(n,t,e,i);const a=n.lastIndexOf(t);return r!==a?e:r}const vit=(n,t)=>n===null?null:Yo(Math.round(n),0,t);function C3(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class qr extends Xx{static id="category";static defaults={ticks:{callback:C3}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:a}of e)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(di(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:yit(i,t,sn(e,t),this._addedLabels),vit(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let s=t;s<=e;s++)r.push({value:s});return r}getLabelForValue(t){return C3.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function xit(n,t){const e=[],{bounds:r,step:a,min:s,max:o,precision:l,count:c,maxTicks:h,maxDigits:d,includeBounds:g}=n,y=a||1,x=h-1,{min:w,max:k}=t,A=!di(s),T=!di(o),R=!di(c),G=(k-w)/(d+1);let z=xI((k-w)/x/y)*y,F,H,Y,J;if(z<1e-14&&!A&&!T)return[{value:w},{value:k}];J=Math.ceil(k/z)-Math.floor(w/z),J>x&&(z=xI(J*z/x/y)*y),di(l)||(F=Math.pow(10,l),z=Math.ceil(z*F)/F),r==="ticks"?(H=Math.floor(w/z)*z,Y=Math.ceil(k/z)*z):(H=w,Y=k),A&&T&&a&&uJ((o-s)/a,z/1e3)?(J=Math.round(Math.min((o-s)/z,h)),z=(o-s)/J,H=s,Y=o):R?(H=A?s:H,Y=T?o:Y,J=c-1,z=(Y-H)/J):(J=(Y-H)/z,xx(J,Math.round(J),z/1e3)?J=Math.round(J):J=Math.ceil(J));const nt=Math.max(bI(z),bI(H));F=Math.pow(10,di(l)?nt:l),H=Math.round(H*F)/F,Y=Math.round(Y*F)/F;let V=0;for(A&&(g&&H!==s?(e.push({value:s}),H<s&&V++,xx(Math.round((H+V*z)*F)/F,s,A3(s,G,n))&&V++):H<s&&V++);V<J;++V){const Z=Math.round((H+V*z)*F)/F;if(T&&Z>o)break;e.push({value:Z})}return T&&g&&Y!==o?e.length&&xx(e[e.length-1].value,o,A3(o,G,n))?e[e.length-1].value=o:e.push({value:o}):(!T||Y===o)&&e.push({value:Y}),e}function A3(n,t,{horizontal:e,minRotation:i}){const r=to(i),a=(e?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+n).length;return Math.min(t/a,s)}class UC extends Xx{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return di(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const s=l=>r=e?r:l,o=l=>a=i?a:l;if(t){const l=ud(r),c=ud(a);l<0&&c<0?o(0):l>0&&c>0&&s(0)}if(r===a){let l=a===0?1:Math.abs(a*.05);o(a+l),t||s(r-l)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,s=xit(r,a);return t.bounds==="ticks"&&_W(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return z_(t,this.chart.options.locale,this.options.ticks.format)}}class Ji extends UC{static id="linear";static defaults={ticks:{callback:pA.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=$a(t)?t:0,this.max=$a(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=to(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const n_=n=>Math.floor(Ny(n)),Zv=(n,t)=>Math.pow(10,n_(n)+t);function T3(n){return n/Math.pow(10,n_(n))===1}function M3(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function bit(n,t){const e=t-n;let i=n_(e);for(;M3(n,t,i)>10;)i++;for(;M3(n,t,i)<10;)i--;return Math.min(i,n_(n))}function wit(n,{min:t,max:e}){t=nh(n.min,t);const i=[],r=n_(t);let a=bit(t,e),s=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),l=r>a?Math.pow(10,r):0,c=Math.round((t-l)*s)/s,h=Math.floor((t-l)/o/10)*o*10;let d=Math.floor((c-h)/Math.pow(10,a)),g=nh(n.min,Math.round((l+h+d*Math.pow(10,a))*s)/s);for(;g<e;)i.push({value:g,major:T3(g),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,s=a>=0?1:s),g=Math.round((l+h+d*Math.pow(10,a))*s)/s;const y=nh(n.max,g);return i.push({value:y,major:T3(y),significand:d}),i}class g8 extends Xx{static id="logarithmic";static defaults={ticks:{callback:pA.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=UC.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return $a(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=$a(t)?Math.max(0,t):null,this.max=$a(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$a(this._userMin)&&(this.min=t===Zv(this.min,0)?Zv(this.min,-1):Zv(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const a=o=>i=t?i:o,s=o=>r=e?r:o;i===r&&(i<=0?(a(1),s(10)):(a(Zv(i,-1)),s(Zv(r,1)))),i<=0&&a(Zv(r,-1)),r<=0&&s(Zv(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=wit(e,this);return t.bounds==="ticks"&&_W(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":z_(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ny(t),this._valueRange=Ny(this.max)-Ny(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ny(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function vE(n){const t=n.ticks;if(t.display&&n.display){const e=Is(t.backdropPadding);return sn(t.font&&t.font.size,gr.font.size)+e.height}return 0}function _it(n,t,e){return e=Or(e)?e:[e],{w:TJ(n,t.string,e),h:e.length*t.lineHeight}}function N3(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Sit(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],a=n._pointLabels.length,s=n.options.pointLabels,o=s.centerPointLabels?hi/a:0;for(let l=0;l<a;l++){const c=s.setContext(n.getPointLabelContext(l));r[l]=c.padding;const h=n.getPointPosition(l,n.drawingArea+r[l],o),d=is(c.font),g=_it(n.ctx,d,n._pointLabels[l]);i[l]=g;const y=Ql(n.getIndexAngle(l)+o),x=Math.round(gA(y)),w=N3(x,h.x,g.w,0,180),k=N3(x,h.y,g.h,90,270);kit(e,t,y,w,k)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Tit(n,i,r)}function kit(n,t,e,i,r){const a=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let o=0,l=0;i.start<t.l?(o=(t.l-i.start)/a,n.l=Math.min(n.l,t.l-o)):i.end>t.r&&(o=(i.end-t.r)/a,n.r=Math.max(n.r,t.r+o)),r.start<t.t?(l=(t.t-r.start)/s,n.t=Math.min(n.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,n.b=Math.max(n.b,t.b+l))}function Cit(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:a,padding:s,size:o}=e,l=n.getPointPosition(t,i+r+s,a),c=Math.round(gA(Ql(l.angle+Ia))),h=Pit(l.y,o.h,c),d=Mit(c),g=Nit(l.x,o.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:g,top:h,right:g+o.w,bottom:h+o.h}}function Ait(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:a}=n;return!(yg({x:e,y:i},t)||yg({x:e,y:a},t)||yg({x:r,y:i},t)||yg({x:r,y:a},t))}function Tit(n,t,e){const i=[],r=n._pointLabels.length,a=n.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:vE(a)/2,additionalAngle:s?hi/r:0};let c;for(let h=0;h<r;h++){l.padding=e[h],l.size=t[h];const d=Cit(n,h,l);i.push(d),o==="auto"&&(d.visible=Ait(d,c),d.visible&&(c=d))}return i}function Mit(n){return n===0||n===180?"center":n<180?"left":"right"}function Nit(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Pit(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Eit(n,t,e){const{left:i,top:r,right:a,bottom:s}=e,{backdropColor:o}=t;if(!di(o)){const l=Iy(t.borderRadius),c=Is(t.backdropPadding);n.fillStyle=o;const h=i-c.left,d=r-c.top,g=a-i+c.width,y=s-r+c.height;Object.values(l).some(x=>x!==0)?(n.beginPath(),Eb(n,{x:h,y:d,w:g,h:y,radius:l}),n.fill()):n.fillRect(h,d,g,y)}}function jit(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const a=n._pointLabelItems[r];if(!a.visible)continue;const s=i.setContext(n.getPointLabelContext(r));Eit(e,s,a);const o=is(s.font),{x:l,y:c,textAlign:h}=a;Ex(e,n._pointLabels[r],l,c+o.lineHeight/2,o,{color:s.color,textAlign:h,textBaseline:"middle"})}}function p8(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,ba);else{let a=n.getPointPosition(0,t);r.moveTo(a.x,a.y);for(let s=1;s<i;s++)a=n.getPointPosition(s,t),r.lineTo(a.x,a.y)}}function Dit(n,t,e,i,r){const a=n.ctx,s=t.circular,{color:o,lineWidth:l}=t;!s&&!i||!o||!l||e<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(r.dash||[]),a.lineDashOffset=r.dashOffset,a.beginPath(),p8(n,e,s,i),a.closePath(),a.stroke(),a.restore())}function Oit(n,t,e){return Zy(n,{label:e,index:t,type:"pointLabel"})}class Lit extends UC{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Is(vE(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=$a(t)&&!isNaN(t)?t:0,this.max=$a(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vE(this.options))}generateTickLabels(t){UC.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Pn(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?Sit(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=ba/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ql(t*e+to(i))}getDistanceFromCenterForValue(t){if(di(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(di(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return Oit(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Ia+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:a}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),p8(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:a}=e,s=this._pointLabels.length;let o,l,c;if(e.pointLabels.display&&jit(this,s),r.display&&this.ticks.forEach((h,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const g=this.getContext(d),y=r.setContext(g),x=a.setContext(g);Dit(this,y,l,s,x)}}),i.display){for(t.save(),o=s-1;o>=0;o--){const h=i.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:g}=h;!g||!d||(t.lineWidth=g,t.strokeStyle=d,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(o,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let a,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const c=i.setContext(this.getContext(l)),h=is(c.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,s=t.measureText(o.label).width,t.fillStyle=c.backdropColor;const d=Is(c.backdropPadding);t.fillRect(-s/2-d.left,-a-h.size/2-d.top,s+d.width,h.size+d.height)}Ex(t,o.label,0,-a,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const bA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bu=Object.keys(bA);function P3(n,t){return n-t}function E3(n,t){if(di(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let s=t;return typeof i=="function"&&(s=i(s)),$a(s)||(s=typeof i=="string"?e.parse(s,i):e.parse(s)),s===null?null:(r&&(s=r==="week"&&(Gy(a)||a===!0)?e.startOf(s,"isoWeek",a):e.startOf(s,r)),+s)}function j3(n,t,e,i){const r=bu.length;for(let a=bu.indexOf(n);a<r-1;++a){const s=bA[bu[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(o*s.size))<=i)return bu[a]}return bu[r-1]}function Rit(n,t,e,i,r){for(let a=bu.length-1;a>=bu.indexOf(e);a--){const s=bu[a];if(bA[s].common&&n._adapter.diff(r,i,s)>=t-1)return s}return bu[e?bu.indexOf(e):0]}function Iit(n){for(let t=bu.indexOf(n)+1,e=bu.length;t<e;++t)if(bA[bu[t]].common)return bu[t]}function D3(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=UD(e,t),a=e[i]>=t?e[i]:e[r];n[a]=!0}}function zit(n,t,e,i){const r=n._adapter,a=+r.startOf(t[0].value,i),s=t[t.length-1].value;let o,l;for(o=a;o<=s;o=+r.add(o,1,i))l=e[o],l>=0&&(t[l].major=!0);return t}function O3(n,t,e){const i=[],r={},a=t.length;let s,o;for(s=0;s<a;++s)o=t[s],r[o]=s,i.push({value:o,major:!1});return a===0||!e?i:zit(n,i,r,e)}class fd extends Xx{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new VW._date(t.adapters.date);r.init(e),zw(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:E3(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:a,minDefined:s,maxDefined:o}=this.getUserBounds();function l(c){!s&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(a=Math.max(a,c.max))}(!s||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=$a(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),a=$a(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,s=this.max,o=gJ(r,a,s);return this._unit=e.unit||(i.autoSkip?j3(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):Rit(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Iit(this._unit),this.initOffsets(r),t.reverse&&o.reverse(),O3(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;e=Yo(e,0,s),i=Yo(i,0,s),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,a=r.time,s=a.unit||j3(a.minUnit,e,i,this._getLabelCapacity(e)),o=sn(r.ticks.stepSize,1),l=s==="week"?a.isoWeekday:!1,c=Gy(l)||l===!0,h={};let d=e,g,y;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":s),t.diff(i,e,s)>1e5*o)throw new Error(e+" and "+i+" are too far apart with stepSize of "+o+" "+s);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(g=d,y=0;g<i;g=+t.add(g,o,s),y++)D3(h,g,x);return(g===i||r.bounds==="ticks"||y===1)&&D3(h,g,x),Object.keys(h).sort(P3).map(w=>+w)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,a=this._unit,s=e||r[a];return this._adapter.format(t,s)}_tickFormatFunction(t,e,i,r){const a=this.options,s=a.ticks.callback;if(s)return Pn(s,[t,e,i],this);const o=a.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&o[l],d=c&&o[c],g=i[e],y=c&&d&&g&&g.major;return this._adapter.format(t,r||(y?d:h))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=to(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*a+o*s,h:i*s+o*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,O3(this,[t],this._majorUnit),r),s=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(E3(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return kW(t.sort(P3))}}function mk(n,t,e){let i=0,r=n.length-1,a,s,o,l;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Lp(n,"pos",t)),{pos:a,time:o}=n[i],{pos:s,time:l}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Lp(n,"time",t)),{time:a,pos:o}=n[i],{time:s,pos:l}=n[r]);const c=s-a;return c?o+(l-o)*(t-a)/c:o}class Fit extends fd{static id="timeseries";static defaults=fd.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=mk(e,this.min),this._tableRange=mk(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],a=[];let s,o,l,c,h;for(s=0,o=t.length;s<o;++s)c=t[s],c>=e&&c<=i&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,o=r.length;s<o;++s)h=r[s+1],l=r[s-1],c=r[s],Math.round((h+l)/2)!==c&&a.push({time:c,pos:s/(o-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(mk(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return mk(this._table,i*this._tableRange+this._minPos,!0)}}var Bit=Object.freeze({__proto__:null,CategoryScale:qr,LinearScale:Ji,LogarithmicScale:g8,RadialLinearScale:Lit,TimeScale:fd,TimeSeriesScale:Fit});const Hit=[Vtt,knt,pit,Bit],m8="label";function L3(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function Git(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function y8(n,t){n.labels=t}function v8(n,t,e=m8){const i=[];n.datasets=t.map(r=>{const a=n.datasets.find(s=>s[e]===r[e]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function Wit(n,t=m8){const e={labels:[],datasets:[]};return y8(e,n.labels),v8(e,n.datasets,t),e}function iO(n,t){return n.getElementsAtEventForMode(t.nativeEvent,"nearest",{intersect:!0},!1)}function Uit(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:s,data:o,options:l,plugins:c=[],fallbackContent:h,updateMode:d,...g}=n,y=N.useRef(null),x=N.useRef(null),w=()=>{y.current&&(x.current=new gi(y.current,{type:s,data:Wit(o,a),options:l&&{...l},plugins:c}),L3(t,x.current))},k=()=>{L3(t,null),x.current&&(x.current.destroy(),x.current=null)};return N.useEffect(()=>{!r&&x.current&&l&&Git(x.current,l)},[r,l]),N.useEffect(()=>{!r&&x.current&&y8(x.current.config.data,o.labels)},[r,o.labels]),N.useEffect(()=>{!r&&x.current&&o.datasets&&v8(x.current.config.data,o.datasets,a)},[r,o.datasets]),N.useEffect(()=>{x.current&&(r?(k(),setTimeout(w)):x.current.update(d))},[r,l,o.labels,o.datasets,d]),N.useEffect(()=>{x.current&&(k(),setTimeout(w))},[s]),N.useEffect(()=>(w(),()=>k()),[]),u.jsx("canvas",{ref:y,role:"img",height:e,width:i,...g,children:h})}const xa=N.forwardRef(Uit);function x8(n,t){return gi.register(t),N.forwardRef((e,i)=>u.jsx(xa,{...e,ref:i,type:n}))}const hf=x8("line",tO),bg=x8("bar",F_),b8=6048e5,Yit=864e5,B_=6e4,H_=36e5,$it=1e3,R3=Symbol.for("constructDateFrom");function ms(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&R3 in n?n[R3](t):n instanceof Date?new n.constructor(t):new Date(t)}function Qn(n,t){return ms(t||n,n)}function G_(n,t,e){const i=Qn(n,e?.in);return isNaN(t)?ms(e?.in||n,NaN):(t&&i.setDate(i.getDate()+t),i)}function wA(n,t,e){const i=Qn(n,e?.in);if(isNaN(t))return ms(n,NaN);if(!t)return i;const r=i.getDate(),a=ms(n,i.getTime());a.setMonth(i.getMonth()+t+1,0);const s=a.getDate();return r>=s?a:(i.setFullYear(a.getFullYear(),a.getMonth(),r),i)}function rO(n,t,e){return ms(n,+Qn(n)+t)}function Vit(n,t,e){return rO(n,t*H_)}let Xit={};function qx(){return Xit}function kg(n,t){const e=qx(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=Qn(n,t?.in),a=r.getDay(),s=(a<i?7:0)+a-i;return r.setDate(r.getDate()-s),r.setHours(0,0,0,0),r}function Ob(n,t){return kg(n,{...t,weekStartsOn:1})}function w8(n,t){const e=Qn(n,t?.in),i=e.getFullYear(),r=ms(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const a=Ob(r),s=ms(e,0);s.setFullYear(i,0,4),s.setHours(0,0,0,0);const o=Ob(s);return e.getTime()>=a.getTime()?i+1:e.getTime()>=o.getTime()?i:i-1}function YC(n){const t=Qn(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function Kx(n,...t){const e=ms.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function xE(n,t){const e=Qn(n,t?.in);return e.setHours(0,0,0,0),e}function _8(n,t,e){const[i,r]=Kx(e?.in,n,t),a=xE(i),s=xE(r),o=+a-YC(a),l=+s-YC(s);return Math.round((o-l)/Yit)}function qit(n,t){const e=w8(n,t),i=ms(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Ob(i)}function Kit(n,t,e){const i=Qn(n,e?.in);return i.setTime(i.getTime()+t*B_),i}function Zit(n,t,e){return wA(n,t*3,e)}function Qit(n,t,e){return rO(n,t*1e3)}function Jit(n,t,e){return G_(n,t*7,e)}function S8(n,t,e){return wA(n,t*12,e)}function Hw(n,t){const e=+Qn(n)-+Qn(t);return e<0?-1:e>0?1:e}function trt(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function aO(n){return!(!trt(n)&&typeof n!="number"||isNaN(+Qn(n)))}function ert(n,t,e){const[i,r]=Kx(e?.in,n,t),a=i.getFullYear()-r.getFullYear(),s=i.getMonth()-r.getMonth();return a*12+s}function nrt(n,t,e){const[i,r]=Kx(e?.in,n,t);return i.getFullYear()-r.getFullYear()}function k8(n,t,e){const[i,r]=Kx(e?.in,n,t),a=I3(i,r),s=Math.abs(_8(i,r));i.setDate(i.getDate()-a*s);const o=+(I3(i,r)===-a),l=a*(s-o);return l===0?0:l}function I3(n,t){const e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function W_(n){return t=>{const i=(n?Math[n]:Math.trunc)(t);return i===0?0:i}}function irt(n,t,e){const[i,r]=Kx(e?.in,n,t),a=(+i-+r)/H_;return W_(e?.roundingMethod)(a)}function sO(n,t){return+Qn(n)-+Qn(t)}function rrt(n,t,e){const i=sO(n,t)/B_;return W_(e?.roundingMethod)(i)}function C8(n,t){const e=Qn(n,t?.in);return e.setHours(23,59,59,999),e}function A8(n,t){const e=Qn(n,t?.in),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function art(n,t){const e=Qn(n,t?.in);return+C8(e,t)==+A8(e,t)}function T8(n,t,e){const[i,r,a]=Kx(e?.in,n,n,t),s=Hw(r,a),o=Math.abs(ert(r,a));if(o<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let l=Hw(r,a)===-s;art(i)&&o===1&&Hw(i,a)===1&&(l=!1);const c=s*(o-+l);return c===0?0:c}function srt(n,t,e){const i=T8(n,t,e)/3;return W_(e?.roundingMethod)(i)}function ort(n,t,e){const i=sO(n,t)/1e3;return W_(e?.roundingMethod)(i)}function lrt(n,t,e){const i=k8(n,t,e)/7;return W_(e?.roundingMethod)(i)}function crt(n,t,e){const[i,r]=Kx(e?.in,n,t),a=Hw(i,r),s=Math.abs(nrt(i,r));i.setFullYear(1584),r.setFullYear(1584);const o=Hw(i,r)===-a,l=a*(s-+o);return l===0?0:l}function urt(n,t){const e=Qn(n,t?.in),i=e.getMonth(),r=i-i%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function hrt(n,t){const e=Qn(n,t?.in);return e.setDate(1),e.setHours(0,0,0,0),e}function drt(n,t){const e=Qn(n,t?.in),i=e.getFullYear();return e.setFullYear(i+1,0,0),e.setHours(23,59,59,999),e}function oO(n,t){const e=Qn(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function frt(n,t){const e=Qn(n,t?.in);return e.setMinutes(59,59,999),e}function grt(n,t){const e=qx(),i=e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=Qn(n,t?.in),a=r.getDay(),s=(a<i?-7:0)+6-(a-i);return r.setDate(r.getDate()+s),r.setHours(23,59,59,999),r}function prt(n,t){const e=Qn(n,t?.in);return e.setSeconds(59,999),e}function mrt(n,t){const e=Qn(n,t?.in),i=e.getMonth(),r=i-i%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function yrt(n,t){const e=Qn(n,t?.in);return e.setMilliseconds(999),e}const vrt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xrt=(n,t,e)=>{let i;const r=vrt[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Sb(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const brt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wrt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_rt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Srt={date:Sb({formats:brt,defaultWidth:"full"}),time:Sb({formats:wrt,defaultWidth:"full"}),dateTime:Sb({formats:_rt,defaultWidth:"full"})},krt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Crt=(n,t,e,i)=>krt[n];function dg(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const s=n.defaultFormattingWidth||n.defaultWidth,o=e?.width?String(e.width):s;r=n.formattingValues[o]||n.formattingValues[s]}else{const s=n.defaultWidth,o=e?.width?String(e.width):n.defaultWidth;r=n.values[o]||n.values[s]}const a=n.argumentCallback?n.argumentCallback(t):t;return r[a]}}const Art={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Trt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mrt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nrt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Prt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ert={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jrt=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Drt={ordinalNumber:jrt,era:dg({values:Art,defaultWidth:"wide"}),quarter:dg({values:Trt,defaultWidth:"wide",argumentCallback:n=>n-1}),month:dg({values:Mrt,defaultWidth:"wide"}),day:dg({values:Nrt,defaultWidth:"wide"}),dayPeriod:dg({values:Prt,defaultWidth:"wide",formattingValues:Ert,defaultFormattingWidth:"wide"})};function fg(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],a=t.match(r);if(!a)return null;const s=a[0],o=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?Lrt(o,d=>d.test(s)):Ort(o,d=>d.test(s));let c;c=n.valueCallback?n.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;const h=t.slice(s.length);return{value:c,rest:h}}}function Ort(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function Lrt(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function M8(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],a=t.match(n.parsePattern);if(!a)return null;let s=n.valueCallback?n.valueCallback(a[0]):a[0];s=e.valueCallback?e.valueCallback(s):s;const o=t.slice(r.length);return{value:s,rest:o}}}const Rrt=/^(\d+)(th|st|nd|rd)?/i,Irt=/\d+/i,zrt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Frt={any:[/^b/i,/^(a|c)/i]},Brt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hrt={any:[/1/i,/2/i,/3/i,/4/i]},Grt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wrt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Urt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yrt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$rt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vrt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xrt={ordinalNumber:M8({matchPattern:Rrt,parsePattern:Irt,valueCallback:n=>parseInt(n,10)}),era:fg({matchPatterns:zrt,defaultMatchWidth:"wide",parsePatterns:Frt,defaultParseWidth:"any"}),quarter:fg({matchPatterns:Brt,defaultMatchWidth:"wide",parsePatterns:Hrt,defaultParseWidth:"any",valueCallback:n=>n+1}),month:fg({matchPatterns:Grt,defaultMatchWidth:"wide",parsePatterns:Wrt,defaultParseWidth:"any"}),day:fg({matchPatterns:Urt,defaultMatchWidth:"wide",parsePatterns:Yrt,defaultParseWidth:"any"}),dayPeriod:fg({matchPatterns:$rt,defaultMatchWidth:"any",parsePatterns:Vrt,defaultParseWidth:"any"})},N8={code:"en-US",formatDistance:xrt,formatLong:Srt,formatRelative:Crt,localize:Drt,match:Xrt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qrt(n,t){const e=Qn(n,t?.in);return _8(e,oO(e))+1}function P8(n,t){const e=Qn(n,t?.in),i=+Ob(e)-+qit(e);return Math.round(i/b8)+1}function lO(n,t){const e=Qn(n,t?.in),i=e.getFullYear(),r=qx(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=ms(t?.in||n,0);s.setFullYear(i+1,0,a),s.setHours(0,0,0,0);const o=kg(s,t),l=ms(t?.in||n,0);l.setFullYear(i,0,a),l.setHours(0,0,0,0);const c=kg(l,t);return+e>=+o?i+1:+e>=+c?i:i-1}function Krt(n,t){const e=qx(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=lO(n,t),a=ms(t?.in||n,0);return a.setFullYear(r,0,i),a.setHours(0,0,0,0),kg(a,t)}function E8(n,t){const e=Qn(n,t?.in),i=+kg(e,t)-+Krt(e,t);return Math.round(i/b8)+1}function ia(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const yy={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return ia(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):ia(e+1,2)},d(n,t){return ia(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return ia(n.getHours()%12||12,t.length)},H(n,t){return ia(n.getHours(),t.length)},m(n,t){return ia(n.getMinutes(),t.length)},s(n,t){return ia(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return ia(r,t.length)}},nb={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},z3={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return yy.y(n,t)},Y:function(n,t,e,i){const r=lO(n,i),a=r>0?r:1-r;if(t==="YY"){const s=a%100;return ia(s,2)}return t==="Yo"?e.ordinalNumber(a,{unit:"year"}):ia(a,t.length)},R:function(n,t){const e=w8(n);return ia(e,t.length)},u:function(n,t){const e=n.getFullYear();return ia(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return ia(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return ia(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return yy.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return ia(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=E8(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):ia(r,t.length)},I:function(n,t,e){const i=P8(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):ia(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):yy.d(n,t)},D:function(n,t,e){const i=qrt(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):ia(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ia(a,2);case"eo":return e.ordinalNumber(a,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ia(a,t.length);case"co":return e.ordinalNumber(a,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return ia(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=nb.noon:i===0?r=nb.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=nb.evening:i>=12?r=nb.afternoon:i>=4?r=nb.morning:r=nb.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return yy.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):yy.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):ia(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):ia(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):yy.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):yy.s(n,t)},S:function(n,t){return yy.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return B3(i);case"XXXX":case"XX":return rx(i);case"XXXXX":case"XXX":default:return rx(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return B3(i);case"xxxx":case"xx":return rx(i);case"xxxxx":case"xxx":default:return rx(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+F3(i,":");case"OOOO":default:return"GMT"+rx(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+F3(i,":");case"zzzz":default:return"GMT"+rx(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return ia(i,t.length)},T:function(n,t,e){return ia(+n,t.length)}};function F3(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),a=i%60;return a===0?e+String(r):e+String(r)+t+ia(a,2)}function B3(n,t){return n%60===0?(n>0?"-":"+")+ia(Math.abs(n)/60,2):rx(n,t)}function rx(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=ia(Math.trunc(i/60),2),a=ia(i%60,2);return e+r+t+a}const H3=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},j8=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Zrt=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return H3(n,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",H3(i,t)).replace("{{time}}",j8(r,t))},bE={p:j8,P:Zrt},Qrt=/^D+$/,Jrt=/^Y+$/,tat=["D","DD","YY","YYYY"];function D8(n){return Qrt.test(n)}function O8(n){return Jrt.test(n)}function wE(n,t,e){const i=eat(n,t,e);if(console.warn(i),tat.includes(n))throw new RangeError(i)}function eat(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nat=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iat=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rat=/^'([^]*?)'?$/,aat=/''/g,sat=/[a-zA-Z]/;function gb(n,t,e){const i=qx(),r=e?.locale??i.locale??N8,a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,o=Qn(n,e?.in);if(!aO(o))throw new RangeError("Invalid time value");let l=t.match(iat).map(h=>{const d=h[0];if(d==="p"||d==="P"){const g=bE[d];return g(h,r.formatLong)}return h}).join("").match(nat).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const d=h[0];if(d==="'")return{isToken:!1,value:oat(h)};if(z3[d])return{isToken:!0,value:h};if(d.match(sat))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:r};return l.map(h=>{if(!h.isToken)return h.value;const d=h.value;(!e?.useAdditionalWeekYearTokens&&O8(d)||!e?.useAdditionalDayOfYearTokens&&D8(d))&&wE(d,t,String(n));const g=z3[d[0]];return g(o,d,r.localize,c)}).join("")}function oat(n){const t=n.match(rat);return t?t[1].replace(aat,"'"):n}function lat(){return Object.assign({},qx())}function cat(n,t){const e=Qn(n,t?.in).getDay();return e===0?7:e}function uat(n,t){return+Qn(n)>+Qn(t)}function hat(n,t){const e=dat(t)?new t(0):ms(t,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function dat(n){return typeof n=="function"&&n.prototype?.constructor===n}const fat=10;class L8{subPriority=0;validate(t,e){return!0}}class gat extends L8{constructor(t,e,i,r,a){super(),this.value=t,this.validateValue=e,this.setValue=i,this.priority=r,a&&(this.subPriority=a)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,i){return this.setValue(t,e,this.value,i)}}class pat extends L8{priority=fat;subPriority=-1;constructor(t,e){super(),this.context=t||(i=>ms(e,i))}set(t,e){return e.timestampIsSet?t:ms(t,hat(t,this.context))}}class Lr{run(t,e,i,r){const a=this.parse(t,e,i,r);return a?{setter:new gat(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,e,i){return!0}}class mat extends Lr{priority=140;parse(t,e,i){switch(e){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,e,i){return e.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Os={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},gg={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ls(n,t){return n&&{value:t(n.value),rest:n.rest}}function ns(n,t){const e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function pg(n,t){const e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};const i=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,s=e[5]?parseInt(e[5],10):0;return{value:i*(r*H_+a*B_+s*$it),rest:t.slice(e[0].length)}}function R8(n){return ns(Os.anyDigitsSigned,n)}function ys(n,t){switch(n){case 1:return ns(Os.singleDigit,t);case 2:return ns(Os.twoDigits,t);case 3:return ns(Os.threeDigits,t);case 4:return ns(Os.fourDigits,t);default:return ns(new RegExp("^\\d{1,"+n+"}"),t)}}function $C(n,t){switch(n){case 1:return ns(Os.singleDigitSigned,t);case 2:return ns(Os.twoDigitsSigned,t);case 3:return ns(Os.threeDigitsSigned,t);case 4:return ns(Os.fourDigitsSigned,t);default:return ns(new RegExp("^-?\\d{1,"+n+"}"),t)}}function cO(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function I8(n,t){const e=t>0,i=e?t:1-t;let r;if(i<=50)r=n||100;else{const a=i+50,s=Math.trunc(a/100)*100,o=n>=a%100;r=n+s-(o?100:0)}return e?r:1-r}function z8(n){return n%400===0||n%4===0&&n%100!==0}class yat extends Lr{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,i){const r=a=>({year:a,isTwoDigitYear:e==="yy"});switch(e){case"y":return Ls(ys(4,t),r);case"yo":return Ls(i.ordinalNumber(t,{unit:"year"}),r);default:return Ls(ys(e.length,t),r)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i){const r=t.getFullYear();if(i.isTwoDigitYear){const s=I8(i.year,r);return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}const a=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class vat extends Lr{priority=130;parse(t,e,i){const r=a=>({year:a,isTwoDigitYear:e==="YY"});switch(e){case"Y":return Ls(ys(4,t),r);case"Yo":return Ls(i.ordinalNumber(t,{unit:"year"}),r);default:return Ls(ys(e.length,t),r)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i,r){const a=lO(t,r);if(i.isTwoDigitYear){const o=I8(i.year,a);return t.setFullYear(o,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),kg(t,r)}const s=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(s,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),kg(t,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class xat extends Lr{priority=130;parse(t,e){return $C(e==="R"?4:e.length,t)}set(t,e,i){const r=ms(t,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),Ob(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class bat extends Lr{priority=130;parse(t,e){return $C(e==="u"?4:e.length,t)}set(t,e,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class wat extends Lr{priority=120;parse(t,e,i){switch(e){case"Q":case"QQ":return ys(e.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class _at extends Lr{priority=120;parse(t,e,i){switch(e){case"q":case"qq":return ys(e.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Sat extends Lr{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,i){const r=a=>a-1;switch(e){case"M":return Ls(ns(Os.month,t),r);case"MM":return Ls(ys(2,t),r);case"Mo":return Ls(i.ordinalNumber(t,{unit:"month"}),r);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class kat extends Lr{priority=110;parse(t,e,i){const r=a=>a-1;switch(e){case"L":return Ls(ns(Os.month,t),r);case"LL":return Ls(ys(2,t),r);case"Lo":return Ls(i.ordinalNumber(t,{unit:"month"}),r);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Cat(n,t,e){const i=Qn(n,e?.in),r=E8(i,e)-t;return i.setDate(i.getDate()-r*7),Qn(i,e?.in)}class Aat extends Lr{priority=100;parse(t,e,i){switch(e){case"w":return ns(Os.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ys(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i,r){return kg(Cat(t,i,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Tat(n,t,e){const i=Qn(n,e?.in),r=P8(i,e)-t;return i.setDate(i.getDate()-r*7),i}class Mat extends Lr{priority=100;parse(t,e,i){switch(e){case"I":return ns(Os.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ys(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i){return Ob(Tat(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Nat=[31,28,31,30,31,30,31,31,30,31,30,31],Pat=[31,29,31,30,31,30,31,31,30,31,30,31];class Eat extends Lr{priority=90;subPriority=1;parse(t,e,i){switch(e){case"d":return ns(Os.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ys(e.length,t)}}validate(t,e){const i=t.getFullYear(),r=z8(i),a=t.getMonth();return r?e>=1&&e<=Pat[a]:e>=1&&e<=Nat[a]}set(t,e,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class jat extends Lr{priority=90;subpriority=1;parse(t,e,i){switch(e){case"D":case"DD":return ns(Os.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ys(e.length,t)}}validate(t,e){const i=t.getFullYear();return z8(i)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function uO(n,t,e){const i=qx(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,a=Qn(n,e?.in),s=a.getDay(),l=(t%7+7)%7,c=7-r,h=t<0||t>6?t-(s+c)%7:(l+c)%7-(s+c)%7;return G_(a,h,e)}class Dat extends Lr{priority=90;parse(t,e,i){switch(e){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,r){return t=uO(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Oat extends Lr{priority=90;parse(t,e,i,r){const a=s=>{const o=Math.floor((s-1)/7)*7;return(s+r.weekStartsOn+6)%7+o};switch(e){case"e":case"ee":return Ls(ys(e.length,t),a);case"eo":return Ls(i.ordinalNumber(t,{unit:"day"}),a);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,r){return t=uO(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Lat extends Lr{priority=90;parse(t,e,i,r){const a=s=>{const o=Math.floor((s-1)/7)*7;return(s+r.weekStartsOn+6)%7+o};switch(e){case"c":case"cc":return Ls(ys(e.length,t),a);case"co":return Ls(i.ordinalNumber(t,{unit:"day"}),a);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,r){return t=uO(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Rat(n,t,e){const i=Qn(n,e?.in),r=cat(i,e),a=t-r;return G_(i,a,e)}class Iat extends Lr{priority=90;parse(t,e,i){const r=a=>a===0?7:a;switch(e){case"i":case"ii":return ys(e.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Ls(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return Ls(i.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Ls(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r);case"iiii":default:return Ls(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r)}}validate(t,e){return e>=1&&e<=7}set(t,e,i){return t=Rat(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class zat extends Lr{priority=80;parse(t,e,i){switch(e){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(cO(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Fat extends Lr{priority=80;parse(t,e,i){switch(e){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(cO(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Bat extends Lr{priority=80;parse(t,e,i){switch(e){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(cO(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class Hat extends Lr{priority=70;parse(t,e,i){switch(e){case"h":return ns(Os.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ys(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,i){const r=t.getHours()>=12;return r&&i<12?t.setHours(i+12,0,0,0):!r&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Gat extends Lr{priority=70;parse(t,e,i){switch(e){case"H":return ns(Os.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ys(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Wat extends Lr{priority=70;parse(t,e,i){switch(e){case"K":return ns(Os.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ys(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Uat extends Lr{priority=70;parse(t,e,i){switch(e){case"k":return ns(Os.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ys(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,i){const r=i<=24?i%24:i;return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class Yat extends Lr{priority=60;parse(t,e,i){switch(e){case"m":return ns(Os.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ys(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]}class $at extends Lr{priority=50;parse(t,e,i){switch(e){case"s":return ns(Os.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ys(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]}class Vat extends Lr{priority=30;parse(t,e){const i=r=>Math.trunc(r*Math.pow(10,-e.length+3));return Ls(ys(e.length,t),i)}set(t,e,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]}class Xat extends Lr{priority=10;parse(t,e){switch(e){case"X":return pg(gg.basicOptionalMinutes,t);case"XX":return pg(gg.basic,t);case"XXXX":return pg(gg.basicOptionalSeconds,t);case"XXXXX":return pg(gg.extendedOptionalSeconds,t);case"XXX":default:return pg(gg.extended,t)}}set(t,e,i){return e.timestampIsSet?t:ms(t,t.getTime()-YC(t)-i)}incompatibleTokens=["t","T","x"]}class qat extends Lr{priority=10;parse(t,e){switch(e){case"x":return pg(gg.basicOptionalMinutes,t);case"xx":return pg(gg.basic,t);case"xxxx":return pg(gg.basicOptionalSeconds,t);case"xxxxx":return pg(gg.extendedOptionalSeconds,t);case"xxx":default:return pg(gg.extended,t)}}set(t,e,i){return e.timestampIsSet?t:ms(t,t.getTime()-YC(t)-i)}incompatibleTokens=["t","T","X"]}class Kat extends Lr{priority=40;parse(t){return R8(t)}set(t,e,i){return[ms(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Zat extends Lr{priority=20;parse(t){return R8(t)}set(t,e,i){return[ms(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const Qat={G:new mat,y:new yat,Y:new vat,R:new xat,u:new bat,Q:new wat,q:new _at,M:new Sat,L:new kat,w:new Aat,I:new Mat,d:new Eat,D:new jat,E:new Dat,e:new Oat,c:new Lat,i:new Iat,a:new zat,b:new Fat,B:new Bat,h:new Hat,H:new Gat,K:new Wat,k:new Uat,m:new Yat,s:new $at,S:new Vat,X:new Xat,x:new qat,t:new Kat,T:new Zat},Jat=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tst=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,est=/^'([^]*?)'?$/,nst=/''/g,ist=/\S/,rst=/[a-zA-Z]/;function Pw(n,t,e,i){const r=()=>ms(i?.in||e,NaN),a=lat(),s=i?.locale??a.locale??N8,o=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return n?r():Qn(e,i?.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:s},h=[new pat(i?.in,e)],d=t.match(tst).map(k=>{const A=k[0];if(A in bE){const T=bE[A];return T(k,s.formatLong)}return k}).join("").match(Jat),g=[];for(let k of d){!i?.useAdditionalWeekYearTokens&&O8(k)&&wE(k,t,n),!i?.useAdditionalDayOfYearTokens&&D8(k)&&wE(k,t,n);const A=k[0],T=Qat[A];if(T){const{incompatibleTokens:R}=T;if(Array.isArray(R)){const z=g.find(F=>R.includes(F.token)||F.token===A);if(z)throw new RangeError(`The format string mustn't contain \`${z.fullToken}\` and \`${k}\` at the same time`)}else if(T.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:A,fullToken:k});const G=T.run(n,k,s.match,c);if(!G)return r();h.push(G.setter),n=G.rest}else{if(A.match(rst))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");if(k==="''"?k="'":A==="'"&&(k=ast(k)),n.indexOf(k)===0)n=n.slice(k.length);else return r()}}if(n.length>0&&ist.test(n))return r();const y=h.map(k=>k.priority).sort((k,A)=>A-k).filter((k,A,T)=>T.indexOf(k)===A).map(k=>h.filter(A=>A.priority===k).sort((A,T)=>T.subPriority-A.subPriority)).map(k=>k[0]);let x=Qn(e,i?.in);if(isNaN(+x))return r();const w={};for(const k of y){if(!k.validate(x,c))return r();const A=k.set(x,w,c);Array.isArray(A)?(x=A[0],Object.assign(w,A[1])):x=A}return x}function ast(n){return n.match(est)[1].replace(nst,"'")}function sst(n,t){const e=Qn(n,t?.in);return e.setMinutes(0,0,0),e}function ost(n,t){const e=Qn(n,t?.in);return e.setSeconds(0,0),e}function lst(n,t){const e=Qn(n,t?.in);return e.setMilliseconds(0),e}function yk(n,t,e){return G_(n,-t,e)}function cst(n,t){const e=()=>ms(t?.in,NaN),i=t?.additionalDigits??2,r=fst(n);let a;if(r.date){const c=gst(r.date,i);a=pst(c.restDateString,c.year)}if(!a||isNaN(+a))return e();const s=+a;let o=0,l;if(r.time&&(o=mst(r.time),isNaN(o)))return e();if(r.timezone){if(l=yst(r.timezone),isNaN(l))return e()}else{const c=new Date(s+o),h=Qn(0,t?.in);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return Qn(s+o+l,t?.in)}const vk={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ust=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hst=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dst=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fst(n){const t={},e=n.split(vk.dateTimeDelimiter);let i;if(e.length>2)return t;if(/:/.test(e[0])?i=e[0]:(t.date=e[0],i=e[1],vk.timeZoneDelimiter.test(t.date)&&(t.date=n.split(vk.timeZoneDelimiter)[0],i=n.substr(t.date.length,n.length))),i){const r=vk.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function gst(n,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=n.match(e);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,a=i[2]?parseInt(i[2]):null;return{year:a===null?r:a*100,restDateString:n.slice((i[1]||i[2]).length)}}function pst(n,t){if(t===null)return new Date(NaN);const e=n.match(ust);if(!e)return new Date(NaN);const i=!!e[4],r=aw(e[1]),a=aw(e[2])-1,s=aw(e[3]),o=aw(e[4]),l=aw(e[5])-1;if(i)return _st(t,o,l)?vst(t,o,l):new Date(NaN);{const c=new Date(0);return!bst(t,a,s)||!wst(t,r)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(r,s)),c)}}function aw(n){return n?parseInt(n):1}function mst(n){const t=n.match(hst);if(!t)return NaN;const e=vM(t[1]),i=vM(t[2]),r=vM(t[3]);return Sst(e,i,r)?e*H_+i*B_+r*1e3:NaN}function vM(n){return n&&parseFloat(n.replace(",","."))||0}function yst(n){if(n==="Z")return 0;const t=n.match(dst);if(!t)return 0;const e=t[1]==="+"?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return kst(i,r)?e*(i*H_+r*B_):NaN}function vst(n,t,e){const i=new Date(0);i.setUTCFullYear(n,0,4);const r=i.getUTCDay()||7,a=(t-1)*7+e+1-r;return i.setUTCDate(i.getUTCDate()+a),i}const xst=[31,null,31,30,31,30,31,31,30,31,30,31];function F8(n){return n%400===0||n%4===0&&n%100!==0}function bst(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(xst[t]||(F8(n)?29:28))}function wst(n,t){return t>=1&&t<=(F8(n)?366:365)}function _st(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function Sst(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function kst(n,t){return t>=0&&t<=59}function G3(n,t,e){return wA(n,-t,e)}function Cst(n,t,e){return S8(n,-1,e)}const Ast={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};VW._date.override({_id:"date-fns",formats:function(){return Ast},parse:function(n,t){if(n===null||typeof n>"u")return null;const e=typeof n;return e==="number"||n instanceof Date?n=Qn(n):e==="string"&&(typeof t=="string"?n=Pw(n,t,new Date,this.options):n=cst(n,this.options)),aO(n)?n.getTime():null},format:function(n,t){return gb(n,t,this.options)},add:function(n,t,e){switch(e){case"millisecond":return rO(n,t);case"second":return Qit(n,t);case"minute":return Kit(n,t);case"hour":return Vit(n,t);case"day":return G_(n,t);case"week":return Jit(n,t);case"month":return wA(n,t);case"quarter":return Zit(n,t);case"year":return S8(n,t);default:return n}},diff:function(n,t,e){switch(e){case"millisecond":return sO(n,t);case"second":return ort(n,t);case"minute":return rrt(n,t);case"hour":return irt(n,t);case"day":return k8(n,t);case"week":return lrt(n,t);case"month":return T8(n,t);case"quarter":return srt(n,t);case"year":return crt(n,t);default:return 0}},startOf:function(n,t,e){switch(t){case"second":return lst(n);case"minute":return ost(n);case"hour":return sst(n);case"day":return xE(n);case"week":return kg(n);case"isoWeek":return kg(n,{weekStartsOn:+e});case"month":return hrt(n);case"quarter":return urt(n);case"year":return oO(n);default:return n}},endOf:function(n,t){switch(t){case"second":return yrt(n);case"minute":return prt(n);case"hour":return frt(n);case"day":return C8(n);case"week":return grt(n);case"month":return A8(n);case"quarter":return mrt(n);case"year":return drt(n);default:return n}}});gi.register(fd,Ji,pa,Xr,Fa,Xo,Qi,sr);const Tst="https://api_gold.thinkdiff.us/ZSL_proshare_ultrashort_silver",Mst={id:"verticalLine",afterDraw(n){const t=n.tooltip;if(!t||!t.getActiveElements().length)return;const e=n.ctx,i=t.getActiveElements()[0].element.x,r=n.chartArea.top,a=n.chartArea.bottom;e.save(),e.beginPath(),e.moveTo(i,r),e.lineTo(i,a),e.lineWidth=1.2,e.strokeStyle="rgba(148,163,184,0.12)",e.stroke(),e.restore()}},Nst=(n=[],t=[],e=1)=>!Array.isArray(n)||!Array.isArray(t)?[]:n.map((i,r)=>{const a=t[r];return a==null?null:{x:new Date(i*1e3),y:Number(a)/e}}).filter(Boolean),Pst=(n=[],t=[])=>!Array.isArray(n)||!Array.isArray(t)?[]:n.map((e,i)=>{const r=t[i];return r==null?null:{x:new Date(e*1e3),y:Number(r)}}).filter(Boolean),Est=()=>{const[n,t]=N.useState(null),[e,i]=N.useState(!0),[r,a]=N.useState(null),[s,o]=N.useState("6M");N.useEffect(()=>{let T=!1;return(async()=>{try{i(!0);const G=await(await fetch(Tst)).json();T||t(G)}catch(R){T||a(R.message||"Li khi fetch d liu")}finally{T||i(!1)}})(),()=>T=!0},[]);const{pricePoints:l,volPoints:c,latest:h,allPricePoints:d}=N.useMemo(()=>{if(!n)return{pricePoints:[],volPoints:[],latest:null};const T=n.ZSL_co_phieu?.chart?.result?.[0],R=T?.timestamp||[],G=T?.indicators?.quote?.[0]||{},z=G.close||[],F=G.volume||[],H=T?.meta?.priceHint??4,Y=Math.pow(10,H),J=Nst(R,z,Y),nt=Pst(R,F),V=J.length?J[J.length-1].x.getTime():Date.now(),Z=1440*60*1e3;let rt=0;switch(s){case"1W":rt=V-7*Z;break;case"1M":rt=V-30*Z;break;case"6M":rt=V-180*Z;break;default:rt=-1/0}const lt=s==="ALL"?J:J.filter(dt=>dt.x.getTime()>=rt),mt=s==="ALL"?nt:nt.filter(dt=>dt.x.getTime()>=rt),ct=lt.length?lt[lt.length-1]:null;let st=null;lt.length>=2&&(st=lt[lt.length-2]);const xt=ct?{price:ct.y,prev:st?st.y:null,date:ct.x}:null;return{pricePoints:lt,volPoints:mt,latest:xt,allPricePoints:J}},[n,s]),g={datasets:[{type:"line",label:"Price",data:l,borderColor:"#e25555",backgroundColor:T=>{const G=T.chart.ctx.createLinearGradient(0,0,0,200);return G.addColorStop(0,"rgba(226,85,85,0.16)"),G.addColorStop(1,"rgba(226,85,85,0.02)"),G},pointRadius:0,tension:.25,yAxisID:"y",fill:!0},{type:"bar",label:"Volume",data:c,backgroundColor:"rgba(200,200,200,0.6)",yAxisID:"yVolume",barThickness:"flex"}]},y=[...l,...c].map(T=>+T.x),x=y.length?Math.min(...y):void 0,w=y.length?Math.max(...y):void 0,k=T=>{const R=d;if(!R||R.length===0)return null;if(R.length===1)return R[0].y;for(let G=0;G<R.length-1;G++){const z=R[G],F=R[G+1],H=z.x.getTime(),Y=F.x.getTime();if(T>=H&&T<=Y){const J=(T-H)/(Y-H);return z.y+(F.y-z.y)*J}}return T<R[0].x.getTime()?R[0].y:T>R[R.length-1].x.getTime()?R[R.length-1].y:null},A={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"x",intersect:!1},plugins:{legend:{position:"top"},tooltip:{filter:T=>T.raw&&T.raw.y!==null&&T.raw.y!==void 0,callbacks:{title:T=>T&&T.length?new Date(T[0].parsed.x).toLocaleDateString():"",label:T=>T.dataset.type==="bar"?`Volume: ${Number(T.parsed.y).toLocaleString()}`:`Price: ${Number(T.parsed.y).toFixed(4)}`,footer:T=>{if(!T||!T.length)return"";const R=T[0].parsed?T[0].parsed.x:T[0].raw&&T[0].raw.x?new Date(T[0].raw.x).getTime():null;if(!R)return"";const G=k(R);return G==null?"":`Price (interp): ${Number(G).toFixed(4)}`}}}},scales:{x:{type:"time",min:x,max:w,time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{color:"rgba(148,163,184,0.06)"}},y:{position:"left",ticks:{color:"#e6eef6"},grid:{color:"rgba(148,163,184,0.06)"}},yVolume:{position:"right",grid:{display:!1},ticks:{display:!1}}}};return u.jsxs("div",{className:"zsl-price-wrapper",children:[u.jsxs("div",{className:"zsl-price-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:20},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[u.jsx("div",{className:"zsl-price-title",children:"ProShares UltraShort Silver (ZSL)"}),u.jsx("div",{style:{display:"flex",gap:8},children:["1W","1M","6M","ALL"].map(T=>u.jsx("button",{onClick:()=>o(T),style:{padding:"6px 10px",borderRadius:8,border:s===T?"1px solid #e25555":"1px solid rgba(255,255,255,0.06)",background:s===T?"rgba(226,85,85,0.12)":"transparent",color:"#e6eef6",cursor:"pointer",fontSize:12,fontWeight:"bold"},children:T==="1W"?"1 Tun":T==="1M"?"1 Thng":T==="6M"?"6 Thng":"Tt c"},T))})]}),u.jsxs("div",{className:"zsl-price-stats",children:[e&&u.jsx("span",{children:"ang ti..."}),!e&&!h&&u.jsx("span",{children:"Khng c d liu"}),!e&&h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"price",children:h.price.toFixed(4)}),u.jsx("div",{className:`change ${h.prev!==null&&h.prev>h.price?"down":"up"}`,children:h.prev!==null?`${(h.price-h.prev).toFixed(4)} (${((h.price-h.prev)/h.prev*100).toFixed(2)}%)`:""})]})]})]}),r&&u.jsxs("div",{className:"zsl-error",children:["Li: ",r]}),u.jsx("div",{className:"zsl-price-chart",children:u.jsx(xa,{type:"bar",data:g,options:A,plugins:[Mst]})})]})};gi.register(fd,Ji,pa,Xr,Xo,Qi,sr);const jst="https://api_gold.thinkdiff.us/ZSL_proshare_ultrashort_silver",W3=(n,t)=>{if(!n)return[];if(typeof n=="object"&&!Array.isArray(n)){if(n[t])return n[t];for(const e of Object.keys(n))if(Array.isArray(n[e]))return n[e];return[]}return Array.isArray(n)?n:[]},U3=n=>Array.isArray(n)?n.map(t=>!t||typeof t!="object"?null:t.date&&Array.isArray(t.data)&&t.data.length>0?{x:new Date(t.date),y:Number(t.data[0])}:t.x!==void 0&&t.y!==void 0?{x:new Date(t.x),y:Number(t.y)}:null).filter(Boolean).sort((t,e)=>t.x-e.x):[],Dst=n=>n==null||isNaN(n)?"N/A":`${Number(n).toFixed(2)}%`,Ost={id:"verticalLine",afterDraw(n){const t=n.tooltip;if(!t||!t.getActiveElements().length)return;const e=n.ctx,i=t.getActiveElements()[0].element.x,r=n.chartArea.top,a=n.chartArea.bottom;e.save(),e.beginPath(),e.moveTo(i,r),e.lineTo(i,a),e.lineWidth=1.5,e.strokeStyle="gray",e.stroke(),e.restore()}},Lst=()=>{const[n,t]=N.useState([]),[e,i]=N.useState([]),[r,a]=N.useState(!0),[s,o]=N.useState(null);N.useEffect(()=>{let y=!1;return(async()=>{a(!0),o(null);try{const k=await(await fetch(jst)).json(),A=W3(k,"ZSL_performance")||[],T=W3(k,"ZSL_proshare_ultrashort_silver")||[],R=U3(A).slice(-15),G=U3(T).slice(-16);y||(t(R),i(G))}catch(w){y||o(w.message||"Li khi fetch d liu")}finally{y||a(!1)}})(),()=>y=!0},[]);const l={datasets:[{label:"ZSL Performance",data:n,borderColor:"#4DA6FF",backgroundColor:"rgba(77,166,255,0.08)",tension:.25,pointRadius:3,pointHoverRadius:6,fill:!1},{label:"ZSL Proshare UltraShort Silver",data:e,borderColor:"#0B2B2B",backgroundColor:"rgba(11,43,43,0.04)",tension:.25,pointRadius:3,pointHoverRadius:6,fill:!1}]},c=[...n,...e].map(y=>+y.x),h=c.length?Math.min(...c):void 0,d=c.length?Math.max(...c):void 0,g={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"x",intersect:!1},plugins:{legend:{position:"top"},tooltip:{filter:y=>y.raw&&y.raw.y!==null&&y.raw.y!==void 0,callbacks:{title:y=>y.length?new Date(y[0].parsed.x).toLocaleDateString():"",label:y=>`${y.dataset.label}: ${Dst(y.parsed.y)}`}}},scales:{x:{type:"time",offset:!1,min:h,max:d,time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{color:"rgba(148,163,184,0.06)"}},y:{ticks:{callback:y=>`${y}%`,color:"#64748B"},grid:{color:"rgba(148,163,184,0.06)"}}}};return u.jsxs("div",{className:"zsl-chart-wrapper",children:[u.jsx("h3",{children:"ZSL Comparison"}),r&&u.jsx("div",{className:"zsl-loading",children:"ang ti d liu..."}),s&&u.jsxs("div",{className:"zsl-error",children:["Li: ",s]}),!r&&!s&&u.jsx("div",{className:"zsl-chart-container",children:u.jsx(xa,{type:"line",data:l,options:g,plugins:[Ost]})})]})},Rst=()=>u.jsxs("div",{style:{padding:20},children:[u.jsx("h2",{style:{color:"#f1c40f"},children:"ZSL  Price & Comparison"}),u.jsxs("section",{style:{marginTop:20},children:[u.jsx("h3",{style:{color:"#e25555",marginBottom:12},children:"Price"}),u.jsx(Est,{})]}),u.jsx("hr",{style:{margin:"30px 0",borderColor:"rgba(148,163,184,0.06)"}}),u.jsxs("section",{children:[u.jsx("h3",{style:{color:"#4DA6FF",marginBottom:12},children:"Comparison"}),u.jsx(Lst,{})]})]}),U_=()=>{const[n,t]=N.useState(null),[e,i]=N.useState(!1),[r,a]=N.useState([]),[s,o]=N.useState(0),[l,c]=N.useState(()=>new Set),h=N.useRef(null),d=N.useRef(null),g=N.useRef(null),y=N.useRef(!1),x=N.useRef(!1),w=R=>{if(R&&(t(R),R.ContentNew&&Array.isArray(R.ContentNew))){const G=[...R.ContentNew].sort((z,F)=>new Date(F.created_at||F.id)-new Date(z.created_at||z.id));a(G),c(z=>{const F=G.filter(H=>!z.has(H.id||H.ID)).length;return o(F),z})}},k=async()=>{try{const G=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"/api_gold/socket_mihong_goldenfund":"https://api_gold.thinkdiff.us/socket_mihong_goldenfund",z=await fetch(G),F=z.headers.get("content-type");if(!F||!F.includes("application/json")){const J=await z.text();return}const H=await z.json();let Y=H?.data?.socket_all??H?.socket_all??H?.data?.data?.socket_all??null;Y&&(x.current=!0,w(Y))}catch(R){console.warn(" fetchFallbackData error:",R.message)}},A=()=>{g.current&&clearInterval(g.current),g.current=setInterval(()=>{x.current&&!e&&k()},3e4)};return N.useEffect(()=>{let R=!0;const G=()=>{const z="wss://services.vang247.vn/ws-prices/ws/v1/prices",F=new WebSocket(z);h.current=F,F.onopen=()=>{i(!0),x.current=!1,g.current&&clearInterval(g.current)},F.onmessage=H=>{try{const Y=JSON.parse(H.data);w(Y)}catch(Y){console.warn(" WS parse error:",Y)}},F.onclose=()=>{i(!1),d.current=setTimeout(G,5e3)}};return setTimeout(()=>{y.current||(y.current=!0,k(),A())},50),setTimeout(()=>{R&&G()},150),()=>{R=!1,d.current&&clearTimeout(d.current),g.current&&clearInterval(g.current),h.current&&h.current.close()}},[]),{liveData:n,isConnected:e,news:r,unreadNewsCount:s,markNewsAsSeen:()=>{const R=r.map(G=>G.id||G.ID);c(new Set(R)),o(0)}}},Ist=(n,t,e)=>{const i=String(n).padStart(2,"0"),r=String(t).padStart(2,"0"),s=`https://api_gold.thinkdiff.us/all_json_1_day/${`${i}_${r}_${e}`}`;return hO(s)},zst="https://api_gold.thinkdiff.us",Fst=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",hO=n=>{if(Fst()){if(n.includes("api_gold.thinkdiff.us"))return n.replace("https://api_gold.thinkdiff.us","/api_gold");if(n.includes("thinkdiff.us"))return n.replace("https://thinkdiff.us","/vang247_xyz")}return n},i1=(n,t,e,i,r,a=null)=>{if(!n||!t||!e)return console.warn("getVang247FileUrl: missing date parts",{day:n,month:t,year:e,hour:i,minute:r,second:a}),null;const s=`${n}_${t}_${e}`,o=Number(i),l=Number(r),c=a!==null?Number(a):null;if(!Number.isFinite(o)||!Number.isFinite(l)||a!==null&&!Number.isFinite(c))return console.warn("getVang247FileUrl: invalid time parts",{day:n,month:t,year:e,hour:i,minute:r,second:a}),null;const h=c===null?`${o}_${l}`:`${o}_${l}_${c}`,d=`view_full_data_json/${s}/${s}_${h}.json`,g=`${zst}/${d}`;return hO(g)},dO=async(n,t,e)=>{const i=Ist(n,t,e),r=await fetch(i);if(!r.ok)throw new Error(`HTTP ${r.status}`);const a=r.headers.get("content-type");if(!a||!a.includes("application/json")){const o=await r.text();throw console.error("API Error: Server returned non-JSON data (likely HTML error page). Content:",o.substring(0,200)+(o.length>200?"...":"")),new Error("API did not return expected JSON data. Check the URL rewrite or API endpoint.")}const s=await r.json();if(!s||!s.data)throw new Error("Invalid structure: 'data' field not found in response.");return s.data.map(o=>({link:o.link,modified_time:o.modified_time,size_bytes:o.size_bytes}))},Y_=async n=>{const t=hO(n),e=await fetch(t);if(!e.ok)throw new Error(`HTTP ${e.status}`);return await e.json()},Y3=async(n,t,e,i,r,a=null)=>{try{const s=i1(n,t,e,i,r,a);if(console.log("url getVang247FileUrl: ",s),!s)throw new Error(`Invalid parameters when building Vang247 file URL: ${n}/${t}/${e} ${i}:${r}`);const o=await fetch(s);if(!o.ok){if(o.status===404||o.status===500){const h=new Error(`Khng tm thy d liu cho ngy ${n}/${t}/${e} lc ${i}:${r}`);throw h.status=o.status,h.isNotFound=!0,h}throw new Error(`HTTP error! status: ${o.status}`)}const l=await o.json();if(console.log("data",l),!l.data||!l.data.list_server)throw new Error("Invalid data structure");const c=l.data.list_server.map(h=>({site:h.site||h.data?.site,name:h.name||h.data?.name,fetched_at:h.data?.data?.fetched_at||null,timestamp:h.data?.data?.site_timestamp||null,items:h.data?.data?.items||h.data?.items||[],do_uy_tin:h.do_uy_tin||null,quoc_gia:h.quoc_gia||null,maps:h.maps||[]}));return console.log("list_server",c),{list_server:c,phan_tich:l.data.phan_tich,tin_tuc:l.data.tintuc,bieu_do:l.data.bieudo}}catch(s){throw s.isNotFound||console.error("Error fetching Vang247 prices:",s.message),s}},Bst=(n,t,e)=>{if(!n||n.length===0)return null;const i=new Date(`2000-01-01 ${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}:00`).getTime(),r=[...n].sort((s,o)=>{const l=new Date(`2000-01-01 ${String(s.hour).padStart(2,"0")}:${String(s.minute).padStart(2,"0")}:00`).getTime();return new Date(`2000-01-01 ${String(o.hour).padStart(2,"0")}:${String(o.minute).padStart(2,"0")}:00`).getTime()-l});return r.find(s=>new Date(`2000-01-01 ${String(s.hour).padStart(2,"0")}:${String(s.minute).padStart(2,"0")}:00`).getTime()<=i)||r[r.length-1]||null},Hst=n=>{if(!n||n.length===0)return"";const t=n.reduce((e,i)=>e.timestamp?new Date(i.timestamp)>new Date(e.timestamp)?i:e:i,n[0]);return t.fetched_at||t.timestamp},fO=n=>{const[t,e]=N.useState([]),[i,r]=N.useState(null),[a,s]=N.useState(null),[o,l]=N.useState(null),[c,h]=N.useState(!0),[d,g]=N.useState(null),[y,x]=N.useState({loaded:0,total:0});N.useEffect(()=>{let T=!1;return(async()=>{try{const{day:G,month:z,year:F,hour:H,minute:Y}=n;if(!G||!z||!F||!H||!Y){h(!1),e([]),g(null);return}h(!0),e([]),g(null),x({loaded:0,total:1});const J=String(H).padStart(2,"0"),nt=String(Y).padStart(2,"0");try{const V=await Y3(G,z,F,J,nt);if(T)return;e(V.list_server||[]),r(V.phan_tich),s(V.tin_tuc),l(V.bieu_do),x({loaded:1,total:1}),g(null)}catch(V){if(T)return;if(V.isNotFound)try{const Z=await dO(G,z,F),rt=ct=>{try{const xt=ct.split("/").pop().replace(".json","").split("_");if(xt.length>=5){const[dt,ht,ot,vt,St]=xt;return{day:dt,month:ht,year:ot,hour:vt,minute:St}}return null}catch{return null}},lt=(Z||[]).map(ct=>rt(ct.link)).filter(ct=>ct!==null),mt=Bst(lt,J,nt);if(mt){const ct=await Y3(mt.day,mt.month,mt.year,mt.hour,mt.minute);if(T)return;e(ct.list_server||[]),r(ct.phan_tich),s(ct.tin_tuc),l(ct.bieu_do),x({loaded:1,total:1}),g(null)}else throw new Error(`Khng tm thy d liu cho ngy ${G}/${z}/${F}`)}catch{T||g(`Khng tm thy d liu cho ngy ${G}/${z}/${F} lc ${J}:${nt}`)}else T||g(V.message||"Khng th ti d liu gi vng. Vui lng th li sau.")}}catch(G){T||g(G.message||"Li h thng khi ti d liu.")}finally{T||h(!1)}})(),()=>{T=!0}},[n.day,n.month,n.year,n.hour,n.minute]);const w=N.useMemo(()=>{if(!t||!Array.isArray(t))return[];let T=t;return n.region&&(n.region==="vietnam"?T=t.filter(z=>z.quoc_gia==="Vietnam"||z.quoc_gia==="Vit Nam"||!z.quoc_gia):n.region==="international"?T=t.filter(z=>z.quoc_gia&&z.quoc_gia!=="Vietnam"&&z.quoc_gia!=="Vit Nam"):T=t.filter(z=>z.quoc_gia===n.region)),T.map(z=>{let F=z.items||z.data?.data?.items||[];return Array.isArray(F)||(F=[]),{...z,items:F.filter(H=>{if(!H||!H.TYPE)return!1;const Y=H.TYPE.toUpperCase();return n.type==="gold"?Y==="VANG"||Y==="GOLD":n.type==="silver"?Y==="BAC"||Y==="SILVER":!0})}}).filter(z=>z.items&&z.items.length>0).map(z=>({...z,items:z.items.map(F=>({...F,buy:Number(F.buy)>1e9?Number(F.buy)/1e3:Number(F.buy),sell:Number(F.sell)>1e9?Number(F.sell)/1e3:Number(F.sell)}))}))},[t,n]),k=N.useMemo(()=>Hst(t),[t]),A=N.useMemo(()=>{const T=new Set;return Array.isArray(t)&&t.forEach(R=>{R.quoc_gia&&T.add(R.quoc_gia)}),Array.from(T).sort()},[t]);return{loading:c,error:d,displayedPrices:w,lastUpdated:k,loadingProgress:y,availableCountries:A,fomo:i,news:a,charts:o}},Gst=({newsItems:n,onNewsClick:t,onClose:e,newsInAPI:i})=>{const r=()=>{let a=n.length;return i.forEach((s,o)=>{s.data.forEach((l,c)=>{a++})}),a};return!n||n.length===0?u.jsxs("div",{className:"notification-dropdown",children:[u.jsxs("div",{className:"dropdown-header",children:[u.jsx("h3",{children:"Thng bo"}),u.jsx("button",{className:"close-btn",onClick:e,children:""})]}),u.jsxs("div",{className:"empty-state",children:[u.jsx("span",{className:"empty-icon",children:""}),u.jsx("p",{children:"Cha c tin tc mi"})]})]}):u.jsxs("div",{className:"notification-dropdown",children:[u.jsxs("div",{className:"dropdown-header",children:[u.jsxs("h3",{children:["Thng bo (",r,")"]}),u.jsx("button",{className:"close-btn",onClick:e,children:""})]}),u.jsx("div",{className:"news-list",children:n.slice(0,10).map(a=>u.jsxs("div",{className:"news-item",onClick:()=>t(a),children:[u.jsx("div",{className:"news-icon",children:""}),u.jsxs("div",{className:"news-content",children:[u.jsx("div",{className:"news-title",children:a.title}),a.created_at&&u.jsx("div",{className:"news-time",children:new Date(a.created_at).toLocaleString("vi-VN")})]}),u.jsx("div",{className:"news-arrow",children:""})]},a.id||a.ID))}),u.jsx("div",{className:"dropdown-footer",children:u.jsx("button",{className:"view-all-btn",children:"Xem tt c"})})]})},Wst=({onNewsClick:n,newsInAPI:t})=>{const{news:e,unreadNewsCount:i,markNewsAsSeen:r}=U_(),[a,s]=N.useState(!1),o=N.useRef(null);N.useEffect(()=>{const h=d=>{o.current&&!o.current.contains(d.target)&&s(!1)};return a&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[a]);const l=()=>{a||r(),s(!a)},c=h=>{s(!1),n&&n(h)};return u.jsxs("div",{className:"notification-bell-container",ref:o,children:[u.jsxs("button",{className:`notification-bell ${i>0?"has-unread":""}`,onClick:l,"aria-label":"Thng bo",children:[u.jsx("span",{className:"bell-icon",children:""}),i>0&&u.jsx("span",{className:"notification-badge",children:i})]}),a&&u.jsx(Gst,{newsItems:e,onNewsClick:c,onClose:()=>s(!1),newsInAPI:t})]})},Ust=n=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?n.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):n,Yst="https://api_gold.thinkdiff.us/all_day_save_price",$st=async()=>{try{const n=Ust(Yst),t=await fetch(n);if(console.log("response: ",t),!t.ok)throw new Error(`HTTP Error ${t.status}`);return(await t.json()).data.toSorted((i,r)=>{const a=i.dirname.split("_").map(Number),s=r.dirname.split("_").map(Number);return new Date(s[2],s[1]-1,s[0])-new Date(a[2],a[1]-1,a[0])})}catch(n){throw console.error("Error fetchAllDirnames:",n),n}},Vst=(n={})=>{const[t,e]=N.useState([]),[i,r]=N.useState(!0),[a,s]=N.useState(null);N.useEffect(()=>{let c=!1;return(async()=>{try{r(!0),s(null);const d=await $st();console.log("dataDate",d),c||e(d)}catch(d){c||(console.error("Error loading gold dates:",d),s("Khng th ti danh sch ngy."))}finally{c||r(!1)}})(),()=>{c=!0}},[]);const o=N.useMemo(()=>{if(!n.sortBy)return t;const{sortBy:c,sortOrder:h="asc"}=n,d=h==="asc"?1:-1;return[...t].sort((y,x)=>c==="dirname"?y.dirname.localeCompare(x.dirname)*d:c==="datetime"?y.datetime.localeCompare(x.datetime)*d:0)},[t,n]),l=N.useMemo(()=>t.map(c=>c.dirname),[t]);return{loading:i,error:a,displayedDates:o,availableDates:l}},Xst=n=>{try{const e=n.split("/").pop().replace(".json","").split("_");if(e.length===5){const[i,r,a,s,o]=e;return{day:i,month:r,year:a,hour:s,minute:o,second:null}}if(e.length===6){const[i,r,a,s,o,l]=e;return{day:i,month:r,year:a,hour:s,minute:o,second:l}}return null}catch{return null}},$3=(n,t,e)=>{const[i,r]=N.useState([]),[a,s]=N.useState(!0),[o,l]=N.useState(null);N.useEffect(()=>{if(!n||!t||!e){s(!1),r([]);return}let g=!1;return(async()=>{try{s(!0),l(null);let x=[];try{x=await dO(n,t,e)}catch{g||(r([]),l(null));return}if(g)return;if(!x||x.length===0){r([]),l(null);return}const w=x.map(k=>{const A=Xst(k.link);return{...k,...A}});r(w)}catch(x){g||(console.error("Error loading files:",x),l(null),r([]))}finally{g||s(!1)}})(),()=>{g=!0}},[n,t,e]);const c=g=>String(g).padStart(2,"0"),h=g=>new Date(`${g.year}-${c(g.month)}-${c(g.day)}T${c(g.hour)}:${c(g.minute)}:${c(g.second??0)}`).getTime(),d=N.useMemo(()=>[...i].sort((g,y)=>h(y)-h(g)),[i]);return{loading:a,error:o,files:d}};var B8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V3=mr.createContext&&mr.createContext(B8),qst=["attr","size","title"];function Kst(n,t){if(n==null)return{};var e=Zst(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function Zst(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function VC(){return VC=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},VC.apply(this,arguments)}function X3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function XC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(e),!0).forEach(function(i){Qst(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):X3(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Qst(n,t,e){return t=Jst(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Jst(n){var t=tot(n,"string");return typeof t=="symbol"?t:t+""}function tot(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function H8(n){return n&&n.map((t,e)=>mr.createElement(t.tag,XC({key:e},t.attr),H8(t.child)))}function sc(n){return t=>mr.createElement(eot,VC({attr:XC({},n.attr)},t),H8(n.child))}function eot(n){var t=e=>{var{attr:i,size:r,title:a}=n,s=Kst(n,qst),o=r||e.size||"1em",l;return e.className&&(l=e.className),n.className&&(l=(l?l+" ":"")+n.className),mr.createElement("svg",VC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,s,{className:l,style:XC(XC({color:n.color||e.color},e.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&mr.createElement("title",null,a),n.children)};return V3!==void 0?mr.createElement(V3.Consumer,null,e=>t(e)):t(B8)}function not(n){return sc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 2v3H5V5h15zm-5 14h-5v-9h5v9zM5 10h3v9H5v-9zm12 9v-9h3v9h-3z"},child:[]}]})(n)}const G8=({isVisible:n,latestData:t,onConfirm:e,onCancel:i})=>{if(!n||!t)return null;const a=((s,o,l,c,h)=>`${String(s).padStart(2,"0")}/${String(o).padStart(2,"0")}/${l} ${String(c).padStart(2,"0")}:${String(h).padStart(2,"0")}`)(t.day,t.month,t.year,t.hour,t.minute);return u.jsx("div",{className:"update-modal-overlay",children:u.jsxs("div",{className:"update-modal-container",children:[u.jsxs("div",{className:"update-modal-header",children:[u.jsx("div",{className:"update-modal-icon",children:""}),u.jsx("h2",{children:"D Liu Mi C Sn"}),u.jsx("button",{className:"update-modal-close",onClick:i,children:""})]}),u.jsxs("div",{className:"update-modal-body",children:[u.jsx("p",{className:"update-modal-message",children:" c d liu vng mi hn cho thi gian:"}),u.jsxs("div",{className:"update-modal-timestamp",children:[u.jsx("span",{className:"time-icon",children:""}),u.jsx("span",{className:"time-value",children:a})]}),u.jsx("p",{className:"update-modal-subtext",children:"Bn c mun cp nht  xem d liu mi nht khng?"})]}),u.jsxs("div",{className:"update-modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:i,children:"Khng, Cm n"}),u.jsx("button",{className:"btn-confirm",onClick:e,children:" Cp Nht Ngay"})]})]})})},iot=({onClick:n,hasNew:t})=>u.jsx("button",{className:`notification-bell ${t?"has-unread":""}`,onClick:n,title:"Tin tc mi",children:u.jsx("span",{className:"bell-icon",children:""})});function W8(n,t){return function(){return n.apply(t,arguments)}}const{toString:rot}=Object.prototype,{getPrototypeOf:gO}=Object,{iterator:_A,toStringTag:U8}=Symbol,SA=(n=>t=>{const e=rot.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),xf=n=>(n=n.toLowerCase(),t=>SA(t)===n),kA=n=>t=>typeof t===n,{isArray:r1}=Array,Lb=kA("undefined");function $_(n){return n!==null&&!Lb(n)&&n.constructor!==null&&!Lb(n.constructor)&&ku(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Y8=xf("ArrayBuffer");function aot(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Y8(n.buffer),t}const sot=kA("string"),ku=kA("function"),$8=kA("number"),V_=n=>n!==null&&typeof n=="object",oot=n=>n===!0||n===!1,mC=n=>{if(SA(n)!=="object")return!1;const t=gO(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(U8 in n)&&!(_A in n)},lot=n=>{if(!V_(n)||$_(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},cot=xf("Date"),uot=xf("File"),hot=xf("Blob"),dot=xf("FileList"),fot=n=>V_(n)&&ku(n.pipe),got=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||ku(n.append)&&((t=SA(n))==="formdata"||t==="object"&&ku(n.toString)&&n.toString()==="[object FormData]"))},pot=xf("URLSearchParams"),[mot,yot,vot,xot]=["ReadableStream","Request","Response","Headers"].map(xf),bot=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function X_(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),r1(n))for(i=0,r=n.length;i<r;i++)t.call(null,n[i],i,n);else{if($_(n))return;const a=e?Object.getOwnPropertyNames(n):Object.keys(n),s=a.length;let o;for(i=0;i<s;i++)o=a[i],t.call(null,n[o],o,n)}}function V8(n,t){if($_(n))return null;t=t.toLowerCase();const e=Object.keys(n);let i=e.length,r;for(;i-- >0;)if(r=e[i],t===r.toLowerCase())return r;return null}const hx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X8=n=>!Lb(n)&&n!==hx;function _E(){const{caseless:n,skipUndefined:t}=X8(this)&&this||{},e={},i=(r,a)=>{const s=n&&V8(e,a)||a;mC(e[s])&&mC(r)?e[s]=_E(e[s],r):mC(r)?e[s]=_E({},r):r1(r)?e[s]=r.slice():(!t||!Lb(r))&&(e[s]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&X_(arguments[r],i);return e}const wot=(n,t,e,{allOwnKeys:i}={})=>(X_(t,(r,a)=>{e&&ku(r)?n[a]=W8(r,e):n[a]=r},{allOwnKeys:i}),n),_ot=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Sot=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},kot=(n,t,e,i)=>{let r,a,s;const o={};if(t=t||{},n==null)return t;do{for(r=Object.getOwnPropertyNames(n),a=r.length;a-- >0;)s=r[a],(!i||i(s,n,t))&&!o[s]&&(t[s]=n[s],o[s]=!0);n=e!==!1&&gO(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},Cot=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},Aot=n=>{if(!n)return null;if(r1(n))return n;let t=n.length;if(!$8(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},Tot=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&gO(Uint8Array)),Mot=(n,t)=>{const i=(n&&n[_A]).call(n);let r;for(;(r=i.next())&&!r.done;){const a=r.value;t.call(n,a[0],a[1])}},Not=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},Pot=xf("HTMLFormElement"),Eot=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),q3=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),jot=xf("RegExp"),q8=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};X_(e,(r,a)=>{let s;(s=t(r,a,n))!==!1&&(i[a]=s||r)}),Object.defineProperties(n,i)},Dot=n=>{q8(n,(t,e)=>{if(ku(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(ku(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Oot=(n,t)=>{const e={},i=r=>{r.forEach(a=>{e[a]=!0})};return r1(n)?i(n):i(String(n).split(t)),e},Lot=()=>{},Rot=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function Iot(n){return!!(n&&ku(n.append)&&n[U8]==="FormData"&&n[_A])}const zot=n=>{const t=new Array(10),e=(i,r)=>{if(V_(i)){if(t.indexOf(i)>=0)return;if($_(i))return i;if(!("toJSON"in i)){t[r]=i;const a=r1(i)?[]:{};return X_(i,(s,o)=>{const l=e(s,r+1);!Lb(l)&&(a[o]=l)}),t[r]=void 0,a}}return i};return e(n,0)},Fot=xf("AsyncFunction"),Bot=n=>n&&(V_(n)||ku(n))&&ku(n.then)&&ku(n.catch),K8=((n,t)=>n?setImmediate:t?((e,i)=>(hx.addEventListener("message",({source:r,data:a})=>{r===hx&&a===e&&i.length&&i.shift()()},!1),r=>{i.push(r),hx.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",ku(hx.postMessage)),Hot=typeof queueMicrotask<"u"?queueMicrotask.bind(hx):typeof process<"u"&&process.nextTick||K8,Got=n=>n!=null&&ku(n[_A]),he={isArray:r1,isArrayBuffer:Y8,isBuffer:$_,isFormData:got,isArrayBufferView:aot,isString:sot,isNumber:$8,isBoolean:oot,isObject:V_,isPlainObject:mC,isEmptyObject:lot,isReadableStream:mot,isRequest:yot,isResponse:vot,isHeaders:xot,isUndefined:Lb,isDate:cot,isFile:uot,isBlob:hot,isRegExp:jot,isFunction:ku,isStream:fot,isURLSearchParams:pot,isTypedArray:Tot,isFileList:dot,forEach:X_,merge:_E,extend:wot,trim:bot,stripBOM:_ot,inherits:Sot,toFlatObject:kot,kindOf:SA,kindOfTest:xf,endsWith:Cot,toArray:Aot,forEachEntry:Mot,matchAll:Not,isHTMLForm:Pot,hasOwnProperty:q3,hasOwnProp:q3,reduceDescriptors:q8,freezeMethods:Dot,toObjectSet:Oot,toCamelCase:Eot,noop:Lot,toFiniteNumber:Rot,findKey:V8,global:hx,isContextDefined:X8,isSpecCompliantForm:Iot,toJSONObject:zot,isAsyncFn:Fot,isThenable:Bot,setImmediate:K8,asap:Hot,isIterable:Got};function pi(n,t,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}he.inherits(pi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const Z8=pi.prototype,Q8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Q8[n]={value:n}});Object.defineProperties(pi,Q8);Object.defineProperty(Z8,"isAxiosError",{value:!0});pi.from=(n,t,e,i,r,a)=>{const s=Object.create(Z8);he.toFlatObject(n,s,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const o=n&&n.message?n.message:"Error",l=t==null&&n?n.code:t;return pi.call(s,o,l,e,i,r),n&&s.cause==null&&Object.defineProperty(s,"cause",{value:n,configurable:!0}),s.name=n&&n.name||"Error",a&&Object.assign(s,a),s};const Wot=null;function SE(n){return he.isPlainObject(n)||he.isArray(n)}function J8(n){return he.endsWith(n,"[]")?n.slice(0,-2):n}function K3(n,t,e){return n?n.concat(t).map(function(r,a){return r=J8(r),!e&&a?"["+r+"]":r}).join(e?".":""):t}function Uot(n){return he.isArray(n)&&!n.some(SE)}const Yot=he.toFlatObject(he,{},null,function(t){return/^is[A-Z]/.test(t)});function CA(n,t,e){if(!he.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=he.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,k){return!he.isUndefined(k[w])});const i=e.metaTokens,r=e.visitor||h,a=e.dots,s=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(t);if(!he.isFunction(r))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(he.isDate(x))return x.toISOString();if(he.isBoolean(x))return x.toString();if(!l&&he.isBlob(x))throw new pi("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(x)||he.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,w,k){let A=x;if(x&&!k&&typeof x=="object"){if(he.endsWith(w,"{}"))w=i?w:w.slice(0,-2),x=JSON.stringify(x);else if(he.isArray(x)&&Uot(x)||(he.isFileList(x)||he.endsWith(w,"[]"))&&(A=he.toArray(x)))return w=J8(w),A.forEach(function(R,G){!(he.isUndefined(R)||R===null)&&t.append(s===!0?K3([w],G,a):s===null?w:w+"[]",c(R))}),!1}return SE(x)?!0:(t.append(K3(k,w,a),c(x)),!1)}const d=[],g=Object.assign(Yot,{defaultVisitor:h,convertValue:c,isVisitable:SE});function y(x,w){if(!he.isUndefined(x)){if(d.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(x),he.forEach(x,function(A,T){(!(he.isUndefined(A)||A===null)&&r.call(t,A,he.isString(T)?T.trim():T,w,g))===!0&&y(A,w?w.concat(T):[T])}),d.pop()}}if(!he.isObject(n))throw new TypeError("data must be an object");return y(n),t}function Z3(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function pO(n,t){this._pairs=[],n&&CA(n,this,t)}const t9=pO.prototype;t9.append=function(t,e){this._pairs.push([t,e])};t9.toString=function(t){const e=t?function(i){return t.call(this,i,Z3)}:Z3;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function $ot(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function e9(n,t,e){if(!t)return n;const i=e&&e.encode||$ot;he.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let a;if(r?a=r(t,e):a=he.isURLSearchParams(t)?t.toString():new pO(t,e).toString(i),a){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Q3{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){he.forEach(this.handlers,function(i){i!==null&&t(i)})}}const n9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vot=typeof URLSearchParams<"u"?URLSearchParams:pO,Xot=typeof FormData<"u"?FormData:null,qot=typeof Blob<"u"?Blob:null,Kot={isBrowser:!0,classes:{URLSearchParams:Vot,FormData:Xot,Blob:qot},protocols:["http","https","file","blob","url","data"]},mO=typeof window<"u"&&typeof document<"u",kE=typeof navigator=="object"&&navigator||void 0,Zot=mO&&(!kE||["ReactNative","NativeScript","NS"].indexOf(kE.product)<0),Qot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jot=mO&&window.location.href||"http://localhost",tlt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mO,hasStandardBrowserEnv:Zot,hasStandardBrowserWebWorkerEnv:Qot,navigator:kE,origin:Jot},Symbol.toStringTag,{value:"Module"})),tc={...tlt,...Kot};function elt(n,t){return CA(n,new tc.classes.URLSearchParams,{visitor:function(e,i,r,a){return tc.isNode&&he.isBuffer(e)?(this.append(i,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function nlt(n){return he.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ilt(n){const t={},e=Object.keys(n);let i;const r=e.length;let a;for(i=0;i<r;i++)a=e[i],t[a]=n[a];return t}function i9(n){function t(e,i,r,a){let s=e[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=a>=e.length;return s=!s&&he.isArray(r)?r.length:s,l?(he.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!o):((!r[s]||!he.isObject(r[s]))&&(r[s]=[]),t(e,i,r[s],a)&&he.isArray(r[s])&&(r[s]=ilt(r[s])),!o)}if(he.isFormData(n)&&he.isFunction(n.entries)){const e={};return he.forEachEntry(n,(i,r)=>{t(nlt(i),r,e,0)}),e}return null}function rlt(n,t,e){if(he.isString(n))try{return(t||JSON.parse)(n),he.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const q_={transitional:n9,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,a=he.isObject(t);if(a&&he.isHTMLForm(t)&&(t=new FormData(t)),he.isFormData(t))return r?JSON.stringify(i9(t)):t;if(he.isArrayBuffer(t)||he.isBuffer(t)||he.isStream(t)||he.isFile(t)||he.isBlob(t)||he.isReadableStream(t))return t;if(he.isArrayBufferView(t))return t.buffer;if(he.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return elt(t,this.formSerializer).toString();if((o=he.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return CA(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||r?(e.setContentType("application/json",!1),rlt(t)):t}],transformResponse:[function(t){const e=this.transitional||q_.transitional,i=e&&e.forcedJSONParsing,r=this.responseType==="json";if(he.isResponse(t)||he.isReadableStream(t))return t;if(t&&he.isString(t)&&(i&&!this.responseType||r)){const s=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?pi.from(o,pi.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tc.classes.FormData,Blob:tc.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],n=>{q_.headers[n]={}});const alt=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),slt=n=>{const t={};let e,i,r;return n&&n.split(`
`).forEach(function(s){r=s.indexOf(":"),e=s.substring(0,r).trim().toLowerCase(),i=s.substring(r+1).trim(),!(!e||t[e]&&alt[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},J3=Symbol("internals");function sw(n){return n&&String(n).trim().toLowerCase()}function yC(n){return n===!1||n==null?n:he.isArray(n)?n.map(yC):String(n)}function olt(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const llt=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function xM(n,t,e,i,r){if(he.isFunction(i))return i.call(this,t,e);if(r&&(t=e),!!he.isString(t)){if(he.isString(i))return t.indexOf(i)!==-1;if(he.isRegExp(i))return i.test(t)}}function clt(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function ult(n,t){const e=he.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(r,a,s){return this[i].call(this,t,r,a,s)},configurable:!0})})}let Cu=class{constructor(t){t&&this.set(t)}set(t,e,i){const r=this;function a(o,l,c){const h=sw(l);if(!h)throw new Error("header name must be a non-empty string");const d=he.findKey(r,h);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=yC(o))}const s=(o,l)=>he.forEach(o,(c,h)=>a(c,h,l));if(he.isPlainObject(t)||t instanceof this.constructor)s(t,e);else if(he.isString(t)&&(t=t.trim())&&!llt(t))s(slt(t),e);else if(he.isObject(t)&&he.isIterable(t)){let o={},l,c;for(const h of t){if(!he.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[c=h[0]]=(l=o[c])?he.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}s(o,e)}else t!=null&&a(e,t,i);return this}get(t,e){if(t=sw(t),t){const i=he.findKey(this,t);if(i){const r=this[i];if(!e)return r;if(e===!0)return olt(r);if(he.isFunction(e))return e.call(this,r,i);if(he.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=sw(t),t){const i=he.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||xM(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let r=!1;function a(s){if(s=sw(s),s){const o=he.findKey(i,s);o&&(!e||xM(i,i[o],o,e))&&(delete i[o],r=!0)}}return he.isArray(t)?t.forEach(a):a(t),r}clear(t){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const a=e[i];(!t||xM(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const e=this,i={};return he.forEach(this,(r,a)=>{const s=he.findKey(i,a);if(s){e[s]=yC(r),delete e[a];return}const o=t?clt(a):String(a).trim();o!==a&&delete e[a],e[o]=yC(r),i[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return he.forEach(this,(i,r)=>{i!=null&&i!==!1&&(e[r]=t&&he.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[J3]=this[J3]={accessors:{}}).accessors,r=this.prototype;function a(s){const o=sw(s);i[o]||(ult(r,s),i[o]=!0)}return he.isArray(t)?t.forEach(a):a(t),this}};Cu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Cu.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[e]=i}}});he.freezeMethods(Cu);function bM(n,t){const e=this||q_,i=t||e,r=Cu.from(i.headers);let a=i.data;return he.forEach(n,function(o){a=o.call(e,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function r9(n){return!!(n&&n.__CANCEL__)}function a1(n,t,e){pi.call(this,n??"canceled",pi.ERR_CANCELED,t,e),this.name="CanceledError"}he.inherits(a1,pi,{__CANCEL__:!0});function a9(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new pi("Request failed with status code "+e.status,[pi.ERR_BAD_REQUEST,pi.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function hlt(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function dlt(n,t){n=n||10;const e=new Array(n),i=new Array(n);let r=0,a=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),h=i[a];s||(s=c),e[r]=l,i[r]=c;let d=a,g=0;for(;d!==r;)g+=e[d++],d=d%n;if(r=(r+1)%n,r===a&&(a=(a+1)%n),c-s<t)return;const y=h&&c-h;return y?Math.round(g*1e3/y):void 0}}function flt(n,t){let e=0,i=1e3/t,r,a;const s=(c,h=Date.now())=>{e=h,r=null,a&&(clearTimeout(a),a=null),n(...c)};return[(...c)=>{const h=Date.now(),d=h-e;d>=i?s(c,h):(r=c,a||(a=setTimeout(()=>{a=null,s(r)},i-d)))},()=>r&&s(r)]}const qC=(n,t,e=3)=>{let i=0;const r=dlt(50,250);return flt(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,l=s-i,c=r(l),h=s<=o;i=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&h?(o-s)/c:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};n(d)},e)},tz=(n,t)=>{const e=n!=null;return[i=>t[0]({lengthComputable:e,total:n,loaded:i}),t[1]]},ez=n=>(...t)=>he.asap(()=>n(...t)),glt=tc.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,tc.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(tc.origin),tc.navigator&&/(msie|trident)/i.test(tc.navigator.userAgent)):()=>!0,plt=tc.hasStandardBrowserEnv?{write(n,t,e,i,r,a,s){if(typeof document>"u")return;const o=[`${n}=${encodeURIComponent(t)}`];he.isNumber(e)&&o.push(`expires=${new Date(e).toUTCString()}`),he.isString(i)&&o.push(`path=${i}`),he.isString(r)&&o.push(`domain=${r}`),a===!0&&o.push("secure"),he.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(n){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function mlt(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ylt(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function s9(n,t,e){let i=!mlt(t);return n&&(i||e==!1)?ylt(n,t):t}const nz=n=>n instanceof Cu?{...n}:n;function jx(n,t){t=t||{};const e={};function i(c,h,d,g){return he.isPlainObject(c)&&he.isPlainObject(h)?he.merge.call({caseless:g},c,h):he.isPlainObject(h)?he.merge({},h):he.isArray(h)?h.slice():h}function r(c,h,d,g){if(he.isUndefined(h)){if(!he.isUndefined(c))return i(void 0,c,d,g)}else return i(c,h,d,g)}function a(c,h){if(!he.isUndefined(h))return i(void 0,h)}function s(c,h){if(he.isUndefined(h)){if(!he.isUndefined(c))return i(void 0,c)}else return i(void 0,h)}function o(c,h,d){if(d in t)return i(c,h);if(d in n)return i(void 0,c)}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(c,h,d)=>r(nz(c),nz(h),d,!0)};return he.forEach(Object.keys({...n,...t}),function(h){const d=l[h]||r,g=d(n[h],t[h],h);he.isUndefined(g)&&d!==o||(e[h]=g)}),e}const o9=n=>{const t=jx({},n);let{data:e,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:s,auth:o}=t;if(t.headers=s=Cu.from(s),t.url=e9(s9(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),he.isFormData(e)){if(tc.hasStandardBrowserEnv||tc.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(he.isFunction(e.getHeaders)){const l=e.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([h,d])=>{c.includes(h.toLowerCase())&&s.set(h,d)})}}if(tc.hasStandardBrowserEnv&&(i&&he.isFunction(i)&&(i=i(t)),i||i!==!1&&glt(t.url))){const l=r&&a&&plt.read(a);l&&s.set(r,l)}return t},vlt=typeof XMLHttpRequest<"u",xlt=vlt&&function(n){return new Promise(function(e,i){const r=o9(n);let a=r.data;const s=Cu.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=r,h,d,g,y,x;function w(){y&&y(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let k=new XMLHttpRequest;k.open(r.method.toUpperCase(),r.url,!0),k.timeout=r.timeout;function A(){if(!k)return;const R=Cu.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),z={data:!o||o==="text"||o==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:R,config:n,request:k};a9(function(H){e(H),w()},function(H){i(H),w()},z),k=null}"onloadend"in k?k.onloadend=A:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(A)},k.onabort=function(){k&&(i(new pi("Request aborted",pi.ECONNABORTED,n,k)),k=null)},k.onerror=function(G){const z=G&&G.message?G.message:"Network Error",F=new pi(z,pi.ERR_NETWORK,n,k);F.event=G||null,i(F),k=null},k.ontimeout=function(){let G=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const z=r.transitional||n9;r.timeoutErrorMessage&&(G=r.timeoutErrorMessage),i(new pi(G,z.clarifyTimeoutError?pi.ETIMEDOUT:pi.ECONNABORTED,n,k)),k=null},a===void 0&&s.setContentType(null),"setRequestHeader"in k&&he.forEach(s.toJSON(),function(G,z){k.setRequestHeader(z,G)}),he.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),o&&o!=="json"&&(k.responseType=r.responseType),c&&([g,x]=qC(c,!0),k.addEventListener("progress",g)),l&&k.upload&&([d,y]=qC(l),k.upload.addEventListener("progress",d),k.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(h=R=>{k&&(i(!R||R.type?new a1(null,n,k):R),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const T=hlt(r.url);if(T&&tc.protocols.indexOf(T)===-1){i(new pi("Unsupported protocol "+T+":",pi.ERR_BAD_REQUEST,n));return}k.send(a||null)})},blt=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let i=new AbortController,r;const a=function(c){if(!r){r=!0,o();const h=c instanceof Error?c:this.reason;i.abort(h instanceof pi?h:new a1(h instanceof Error?h.message:h))}};let s=t&&setTimeout(()=>{s=null,a(new pi(`timeout ${t} of ms exceeded`,pi.ETIMEDOUT))},t);const o=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),n=null)};n.forEach(c=>c.addEventListener("abort",a));const{signal:l}=i;return l.unsubscribe=()=>he.asap(o),l}},wlt=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let i=0,r;for(;i<e;)r=i+t,yield n.slice(i,r),i=r},_lt=async function*(n,t){for await(const e of Slt(n))yield*wlt(e,t)},Slt=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},iz=(n,t,e,i)=>{const r=_lt(n,t);let a=0,s,o=l=>{s||(s=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await r.next();if(c){o(),l.close();return}let d=h.byteLength;if(e){let g=a+=d;e(g)}l.enqueue(new Uint8Array(h))}catch(c){throw o(c),c}},cancel(l){return o(l),r.return()}},{highWaterMark:2})},rz=64*1024,{isFunction:xk}=he,klt=(({Request:n,Response:t})=>({Request:n,Response:t}))(he.global),{ReadableStream:az,TextEncoder:sz}=he.global,oz=(n,...t)=>{try{return!!n(...t)}catch{return!1}},Clt=n=>{n=he.merge.call({skipUndefined:!0},klt,n);const{fetch:t,Request:e,Response:i}=n,r=t?xk(t):typeof fetch=="function",a=xk(e),s=xk(i);if(!r)return!1;const o=r&&xk(az),l=r&&(typeof sz=="function"?(x=>w=>x.encode(w))(new sz):async x=>new Uint8Array(await new e(x).arrayBuffer())),c=a&&o&&oz(()=>{let x=!1;const w=new e(tc.origin,{body:new az,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!w}),h=s&&o&&oz(()=>he.isReadableStream(new i("").body)),d={stream:h&&(x=>x.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!d[x]&&(d[x]=(w,k)=>{let A=w&&w[x];if(A)return A.call(w);throw new pi(`Response type '${x}' is not supported`,pi.ERR_NOT_SUPPORT,k)})});const g=async x=>{if(x==null)return 0;if(he.isBlob(x))return x.size;if(he.isSpecCompliantForm(x))return(await new e(tc.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(he.isArrayBufferView(x)||he.isArrayBuffer(x))return x.byteLength;if(he.isURLSearchParams(x)&&(x=x+""),he.isString(x))return(await l(x)).byteLength},y=async(x,w)=>{const k=he.toFiniteNumber(x.getContentLength());return k??g(w)};return async x=>{let{url:w,method:k,data:A,signal:T,cancelToken:R,timeout:G,onDownloadProgress:z,onUploadProgress:F,responseType:H,headers:Y,withCredentials:J="same-origin",fetchOptions:nt}=o9(x),V=t||fetch;H=H?(H+"").toLowerCase():"text";let Z=blt([T,R&&R.toAbortSignal()],G),rt=null;const lt=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let mt;try{if(F&&c&&k!=="get"&&k!=="head"&&(mt=await y(Y,A))!==0){let ot=new e(w,{method:"POST",body:A,duplex:"half"}),vt;if(he.isFormData(A)&&(vt=ot.headers.get("content-type"))&&Y.setContentType(vt),ot.body){const[St,Pt]=tz(mt,qC(ez(F)));A=iz(ot.body,rz,St,Pt)}}he.isString(J)||(J=J?"include":"omit");const ct=a&&"credentials"in e.prototype,st={...nt,signal:Z,method:k.toUpperCase(),headers:Y.normalize().toJSON(),body:A,duplex:"half",credentials:ct?J:void 0};rt=a&&new e(w,st);let xt=await(a?V(rt,nt):V(w,st));const dt=h&&(H==="stream"||H==="response");if(h&&(z||dt&&lt)){const ot={};["status","statusText","headers"].forEach(It=>{ot[It]=xt[It]});const vt=he.toFiniteNumber(xt.headers.get("content-length")),[St,Pt]=z&&tz(vt,qC(ez(z),!0))||[];xt=new i(iz(xt.body,rz,St,()=>{Pt&&Pt(),lt&&lt()}),ot)}H=H||"text";let ht=await d[he.findKey(d,H)||"text"](xt,x);return!dt&&lt&&lt(),await new Promise((ot,vt)=>{a9(ot,vt,{data:ht,headers:Cu.from(xt.headers),status:xt.status,statusText:xt.statusText,config:x,request:rt})})}catch(ct){throw lt&&lt(),ct&&ct.name==="TypeError"&&/Load failed|fetch/i.test(ct.message)?Object.assign(new pi("Network Error",pi.ERR_NETWORK,x,rt),{cause:ct.cause||ct}):pi.from(ct,ct&&ct.code,x,rt)}}},Alt=new Map,l9=n=>{let t=n&&n.env||{};const{fetch:e,Request:i,Response:r}=t,a=[i,r,e];let s=a.length,o=s,l,c,h=Alt;for(;o--;)l=a[o],c=h.get(l),c===void 0&&h.set(l,c=o?new Map:Clt(t)),h=c;return c};l9();const yO={http:Wot,xhr:xlt,fetch:{get:l9}};he.forEach(yO,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const lz=n=>`- ${n}`,Tlt=n=>he.isFunction(n)||n===null||n===!1;function Mlt(n,t){n=he.isArray(n)?n:[n];const{length:e}=n;let i,r;const a={};for(let s=0;s<e;s++){i=n[s];let o;if(r=i,!Tlt(i)&&(r=yO[(o=String(i)).toLowerCase()],r===void 0))throw new pi(`Unknown adapter '${o}'`);if(r&&(he.isFunction(r)||(r=r.get(t))))break;a[o||"#"+s]=r}if(!r){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(lz).join(`
`):" "+lz(s[0]):"as no adapter specified";throw new pi("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const c9={getAdapter:Mlt,adapters:yO};function wM(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new a1(null,n)}function cz(n){return wM(n),n.headers=Cu.from(n.headers),n.data=bM.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),c9.getAdapter(n.adapter||q_.adapter,n)(n).then(function(i){return wM(n),i.data=bM.call(n,n.transformResponse,i),i.headers=Cu.from(i.headers),i},function(i){return r9(i)||(wM(n),i&&i.response&&(i.response.data=bM.call(n,n.transformResponse,i.response),i.response.headers=Cu.from(i.response.headers))),Promise.reject(i)})}const u9="1.13.2",AA={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{AA[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const uz={};AA.transitional=function(t,e,i){function r(a,s){return"[Axios v"+u9+"] Transitional option '"+a+"'"+s+(i?". "+i:"")}return(a,s,o)=>{if(t===!1)throw new pi(r(s," has been removed"+(e?" in "+e:"")),pi.ERR_DEPRECATED);return e&&!uz[s]&&(uz[s]=!0,console.warn(r(s," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(a,s,o):!0}};AA.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function Nlt(n,t,e){if(typeof n!="object")throw new pi("options must be an object",pi.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const a=i[r],s=t[a];if(s){const o=n[a],l=o===void 0||s(o,a,n);if(l!==!0)throw new pi("option "+a+" must be "+l,pi.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new pi("Unknown option "+a,pi.ERR_BAD_OPTION)}}const vC={assertOptions:Nlt,validators:AA},ig=vC.validators;let wx=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Q3,response:new Q3}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=jx(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:a}=e;i!==void 0&&vC.assertOptions(i,{silentJSONParsing:ig.transitional(ig.boolean),forcedJSONParsing:ig.transitional(ig.boolean),clarifyTimeoutError:ig.transitional(ig.boolean)},!1),r!=null&&(he.isFunction(r)?e.paramsSerializer={serialize:r}:vC.assertOptions(r,{encode:ig.function,serialize:ig.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),vC.assertOptions(e,{baseUrl:ig.spelling("baseURL"),withXsrfToken:ig.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=a&&he.merge(a.common,a[e.method]);a&&he.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),e.headers=Cu.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(e)===!1||(l=l&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let h,d=0,g;if(!l){const x=[cz.bind(this),void 0];for(x.unshift(...o),x.push(...c),g=x.length,h=Promise.resolve(e);d<g;)h=h.then(x[d++],x[d++]);return h}g=o.length;let y=e;for(;d<g;){const x=o[d++],w=o[d++];try{y=x(y)}catch(k){w.call(this,k);break}}try{h=cz.call(this,y)}catch(x){return Promise.reject(x)}for(d=0,g=c.length;d<g;)h=h.then(c[d++],c[d++]);return h}getUri(t){t=jx(this.defaults,t);const e=s9(t.baseURL,t.url,t.allowAbsoluteUrls);return e9(e,t.params,t.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(t){wx.prototype[t]=function(e,i){return this.request(jx(i||{},{method:t,url:e,data:(i||{}).data}))}});he.forEach(["post","put","patch"],function(t){function e(i){return function(a,s,o){return this.request(jx(o||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}wx.prototype[t]=e(),wx.prototype[t+"Form"]=e(!0)});let Plt=class h9{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(a){e=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const s=new Promise(o=>{i.subscribe(o),a=o}).then(r);return s.cancel=function(){i.unsubscribe(a)},s},t(function(a,s,o){i.reason||(i.reason=new a1(a,s,o),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new h9(function(r){t=r}),cancel:t}}};function Elt(n){return function(e){return n.apply(null,e)}}function jlt(n){return he.isObject(n)&&n.isAxiosError===!0}const CE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(CE).forEach(([n,t])=>{CE[t]=n});function d9(n){const t=new wx(n),e=W8(wx.prototype.request,t);return he.extend(e,wx.prototype,t,{allOwnKeys:!0}),he.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return d9(jx(n,r))},e}const sa=d9(q_);sa.Axios=wx;sa.CanceledError=a1;sa.CancelToken=Plt;sa.isCancel=r9;sa.VERSION=u9;sa.toFormData=CA;sa.AxiosError=pi;sa.Cancel=sa.CanceledError;sa.all=function(t){return Promise.all(t)};sa.spread=Elt;sa.isAxiosError=jlt;sa.mergeConfig=jx;sa.AxiosHeaders=Cu;sa.formToJSON=n=>i9(he.isHTMLForm(n)?new FormData(n):n);sa.getAdapter=c9.getAdapter;sa.HttpStatusCode=CE;sa.default=sa;const{Axios:mzt,AxiosError:yzt,CanceledError:vzt,isCancel:xzt,CancelToken:bzt,VERSION:wzt,all:_zt,Cancel:Szt,isAxiosError:kzt,spread:Czt,toFormData:Azt,AxiosHeaders:Tzt,HttpStatusCode:Mzt,formToJSON:Nzt,getAdapter:Pzt,mergeConfig:Ezt}=sa;function f9(n){return sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function i_(n){return sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m5 8 6 6"},child:[]},{tag:"path",attr:{d:"m4 14 6-6 2-3"},child:[]},{tag:"path",attr:{d:"M2 5h12"},child:[]},{tag:"path",attr:{d:"M7 2h1"},child:[]},{tag:"path",attr:{d:"m22 22-5-10-5 10"},child:[]},{tag:"path",attr:{d:"M14 18h6"},child:[]}]})(n)}function Dlt(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function g9(n){return sc({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Olt(n){return sc({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(n)}function p9(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(n)}function Llt(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"},child:[]}]})(n)}function Rlt(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(n)}const Ilt=n=>n?n.replace(/#[a-zA-Z0-9_]+/g,"").replace(/\s+/g," ").trim():"",zlt=({open:n,onClose:t})=>{const e=N.useRef(null),[i,r]=N.useState([]),[a,s]=N.useState(!1),[o,l]=N.useState(null),[c,h]=N.useState(!1),[d,g]=N.useState(""),[y,x]=N.useState(!1),[w,k]=N.useState(!1),[A,T]=N.useState({}),[R,G]=N.useState(!1),[z,F]=N.useState(!1),[H,Y]=N.useState(""),[J,nt]=N.useState(!1),[V,Z]=N.useState(!1),[rt,lt]=N.useState(0),mt=N.useRef(null);if(N.useEffect(()=>{if(!n||o)return;const ht=ot=>{const vt=e.current&&e.current.contains(ot.target),St=ot.target.closest(".news-toast")||ot.target.closest(".hot-toast-container");!vt&&!St&&t()};return document.addEventListener("mousedown",ht),()=>document.removeEventListener("mousedown",ht)},[n,t,o]),N.useEffect(()=>{if(!n)return;(async()=>{F(!0);try{const vt=(await sa.get("https://api_gold.thinkdiff.us/all_day_save_price")).data?.data||[],St=vt[vt.length-1]?.dirname;if(!St){r([]);return}const It=(await sa.get(`https://api_gold.thinkdiff.us/all_json_1_day/${St}`)).data?.data||[],Nt=It[It.length-1]?.link;if(!Nt){r([]);return}const Et=Nt.split("vang247_xyz/")[1],ee=((await sa.get(`https://api_gold.thinkdiff.us/view_full_data_json/${Et}`)).data?.data?.tintuc||[]).flatMap(fe=>fe.data.map((Jt,ue)=>({id:`${fe.name}-${ue}`,content:Jt.content_text_vi||Jt.content||"",time:Jt.date_time,source:fe.name,link:fe.link,images:Jt.images||[]})));r(ee)}catch(ot){console.error(ot),r([])}finally{F(!1)}})()},[n]),N.useEffect(()=>{o||(h(!1),g(""))},[o]),N.useEffect(()=>{n&&i.length&&!w&&st()},[n,i]),!n)return null;const ct=async()=>{if(o){if(c){h(!1);return}if(d){h(!0);return}x(!0);try{const vt=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(o.content)}`)).json())[0].map(St=>St[0]).join("");g(vt),h(!0)}catch(ht){console.error(ht)}finally{x(!1)}}},st=async()=>{if(w){k(!1);return}if(Object.keys(A).length){k(!0);return}G(!0);const ht={};try{for(const vt of i){const Pt=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(vt.content.slice(0,400))}`)).json();ht[vt.id]=Pt[0].map(It=>It[0]).join("")}const ot=Object.values(ht).map(vt=>Ilt(vt)).join(". . . Tin tc tip theo . . .");Y(ot),T(ht),k(!0)}catch(ot){console.error("Translate list failed:",ot)}finally{G(!1)}},xt=()=>{const ht=window.speechSynthesis;if(V){ht.resume(),Z(!1),nt(!0);return}if(J&&!V){ht.pause(),Z(!0);return}if(!H)return;ht.cancel();const ot=new SpeechSynthesisUtterance(H);ot.lang="vi-VN",ot.rate=1.1,ot.onboundary=vt=>{const St=vt.charIndex,Pt=H.length;Pt>0&&lt(St/Pt*100)},ot.onstart=()=>{nt(!0),Z(!1)},ot.onend=()=>{nt(!1),Z(!1),lt(0)},ot.onerror=()=>{nt(!1),Z(!1)},mt.current=ot,ht.speak(ot)},dt=()=>{window.speechSynthesis.cancel(),nt(!1),Z(!1),lt(0)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"live-news-overlay",children:u.jsxs("div",{ref:e,className:`live-news-panel ${a?"zoomed":""}`,children:[u.jsxs("div",{className:"live-news-header",children:[u.jsx("span",{children:" TIN TC MI NHT"}),u.jsxs("div",{className:"live-news-actions",children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",width:"100%",padding:"10px"},children:[u.jsx("div",{style:{flex:1,height:"8px",backgroundColor:"#e0e0e0",borderRadius:"5px",overflow:"hidden",minWidth:"100px"},children:u.jsx("div",{style:{width:`${rt}%`,height:"100%",backgroundColor:"#4caf50",transition:"width 0.2s ease-in-out"}})}),u.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[u.jsx("button",{onClick:xt,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:J&&!V?"#f0ad4e":"#0275d8",color:"white",border:"none",borderRadius:"4px",whiteSpace:"nowrap",fontSize:"14px"},children:V?"":J?"":""}),u.jsx("button",{onClick:dt,disabled:!J&&!V,style:{padding:"8px 16px",cursor:"pointer",backgroundColor:"#d9534f",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",opacity:!J&&!V?.5:1,whiteSpace:"nowrap"},children:"Stop"})]})]}),u.jsxs("button",{className:`live-news-translate ${w?"active":""}`,onClick:st,title:"Dch ton b tin",children:[u.jsx(i_,{size:14}),R?"...":"VN"]}),u.jsx("button",{className:"live-news-zoom",onClick:()=>s(ht=>!ht),children:a?"":""}),u.jsx("button",{className:"live-news-close",onClick:()=>{t(),dt()},children:""})]})]}),u.jsx("div",{className:"live-news-body",children:u.jsxs("div",{className:"live-news-vertical",children:[z&&u.jsx("div",{className:"live-news-empty",children:" ang cp nht tin tc, xin ch cht..."}),!z&&i.length===0&&u.jsx("div",{className:"live-news-empty",children:" Hin cha c tin tc mi"}),!z&&i.map((ht,ot)=>u.jsxs("div",{className:"live-news-row",onClick:()=>l(ht),children:[ht.images.length>0&&u.jsx("img",{src:ht.images[0],alt:"",className:"news-thumb"}),u.jsx("div",{className:"news-preview",children:w&&A[ht.id]||ht.content}),u.jsxs("div",{className:"live-news-meta",children:[u.jsx("span",{children:ht.source}),u.jsx("span",{children:ht.time})]})]},`${ht.id}-${ot}`))]})})]})}),o&&R_.createPortal(u.jsx("div",{className:"news-modal-overlay",onClick:()=>l(null),children:u.jsxs("div",{className:"news-modal-content",onClick:ht=>ht.stopPropagation(),children:[u.jsxs("div",{className:"news-modal-header",children:[u.jsx("h2",{children:" Tin tc chi tit"}),u.jsxs("div",{className:"news-modal-actions",children:[u.jsxs("button",{className:"news-translate-btn",onClick:ct,disabled:y,children:[u.jsx(i_,{size:14}),y?"...":c?"Gc":"VN"]}),u.jsx("button",{className:"news-modal-close",onClick:()=>l(null),children:""})]})]}),o.images?.length>0&&u.jsx("img",{src:o.images[0],alt:"",className:"news-modal-image"}),u.jsx("p",{className:"news-modal-text",children:c?d:o.content}),u.jsxs("div",{className:"news-modal-meta",children:[o.source,"  ",o.time]}),o.link&&u.jsx("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",className:"news-modal-link",children:"Xem ngun gc "})]})}),document.body)]})},Flt=({lastUpdated:n,newsInAPI:t})=>{const[e,i]=N.useState(null),r=no(),a=Gi(),[s,o]=N.useState(!1),[l,c]=N.useState(""),[h,d]=N.useState(!1),[g,y]=N.useState(null),x=r.pathname;rc();const w=x.split("/");let k="";if(w.length>=8){const V=String(w[3]).padStart(2,"0"),Z=String(w[4]).padStart(2,"0"),rt=w[5],lt=String(w[6]).padStart(2,"0"),mt=String(w[7]).padStart(2,"0");k=`${V}/${Z}/${rt}/${lt}/${mt}`}const A=async(V,Z)=>{if(V.stopPropagation(),s){o(!1);return}if(l){o(!0);return}d(!0);try{const lt=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Z||"")}`)).json();if(lt&&lt[0]){const mt=lt[0].map(ct=>ct[0]).join("");c(mt),o(!0)}}catch(rt){console.error("Li dch:",rt)}finally{d(!1)}};N.useEffect(()=>{(async()=>{let V=null;const Z=new Date;for(let ot=0;ot<3;ot++){const vt=new Date(Z);vt.setDate(vt.getDate()-ot);const St=String(vt.getDate()).padStart(2,"0"),Pt=String(vt.getMonth()+1).padStart(2,"0"),It=vt.getFullYear();try{const Nt=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${St}_${Pt}_${It}`);if(!Nt.ok)continue;const Et=await Nt.json();if(Et.status==="success"&&Et.data?.length){V=Et.data;break}}catch{continue}}if(!V)return;const rt=V?.at(-1);if(!rt?.modified_time)return;const[lt,mt]=rt.modified_time.split(" "),[ct,st,xt]=lt.split("/"),[dt,ht]=mt.split(":");y({day:ct,month:st,year:xt,hour:dt,minute:ht})})()},[x]);const T=V=>{i(V),o(!1),c("")},R=()=>{i(null),o(!1),c("")},[G,z]=N.useState(!1),F=()=>{z(!1),a(`/vietnam/gold/${g?.day}/${g?.month}/${g?.year}/${g?.hour}/${g?.minute}`)},H=()=>{z(!1)},[Y,J]=N.useState(!1),nt=()=>{const V=new Date,Z=V.getDate(),rt=V.getMonth()+1,lt=V.getFullYear();return`/orderflowanalysis/gold/${Z}/${rt}/${lt}`};return u.jsxs(u.Fragment,{children:[g&&u.jsx(G8,{isVisible:G,latestData:g,onConfirm:F,onCancel:H}),u.jsxs("header",{className:"header",children:[u.jsxs("div",{className:"header-content",children:[u.jsxs("div",{className:"header-left",children:[u.jsxs("div",{style:{color:"#ffffff",fontSize:"24px",fontWeight:"500",marginBottom:"5px"},children:["Thi gian update cui cng:"," ",u.jsx("span",{style:{color:`${g?.day}/${g?.month}/${g?.year}/${g?.hour}/${g?.minute}`===k?"#006400":"red",cursor:"pointer"},onClick:()=>{g&&`${g?.day}/${g?.month}/${g?.year}/${g?.hour}/${g?.minute}`!==k&&z(!0)},children:g?`${g?.day}/${g?.month}/${g?.year} ${g?.hour}:${g?.minute}`:"ang ti thi gian..."})]}),u.jsx("h2",{className:"site-title",children:"TOOL PHN TCH GI VNG - BC - T GI"})]}),u.jsxs("div",{className:"header-right",children:[u.jsxs("div",{className:"header-right-bottom",style:{display:"flex",gap:"6px"},children:[u.jsx(iot,{hasNew:!0,onClick:()=>J(!0)}),u.jsx(zlt,{open:Y,onClose:()=>J(!1)}),u.jsx(Wst,{onNewsClick:T,newsInAPI:t})]}),u.jsxs("div",{className:"header-right-top",children:[u.jsxs(Ho,{to:"/",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Bng Gi Vng",children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M3 17l4-9h10l4 9H3zm7-7l-2 5h8l-2-5H10z"})}),u.jsx("span",{className:"calendar-text",children:"Bng Gi Vng"})]}),u.jsxs(Ho,{to:"/tin-tuc-moi-nhat",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Bng Gi Vng",children:[u.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[u.jsx("path",{d:"M19 3H4a2 2 0 00-2 2v13a3 3 0 003 3h14a3 3 0 003-3V6a3 3 0 00-3-3zm0 15H5a1 1 0 01-1-1V6h15z"}),u.jsx("path",{d:"M7 8h7v2H7zM7 12h10v2H7z"})]}),u.jsx("span",{className:"calendar-text",children:"Tin tc"})]}),u.jsxs(Ho,{to:"/lich_kinh_te",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Lch Kinh T",children:[u.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"})}),u.jsx("span",{className:"calendar-text",children:"Lch Kinh T"})]}),u.jsxs(Ho,{to:"/ty-gia",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"T Gi USD",children:[u.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"})}),u.jsx("span",{className:"calendar-text",children:"T Gi USD"})]}),u.jsxs(Ho,{to:"/TradingEconomicsWidgets",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Ch s kinh t",children:[u.jsx("svg",{className:"calendar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),u.jsx("span",{className:"calendar-text",children:"Ch s kinh t"})]}),u.jsxs(Ho,{to:"/lich-su-gia",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Lng truy cp",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[u.jsx("path",{d:"M13 3a9 9 0 1 0 8.94 10h-2.02A7 7 0 1 1 13 5v4l5-5-5-5v4z"}),u.jsx("path",{d:"M12 8v5l4 2 .75-1.23-3.25-1.77V8z"})]}),u.jsx("span",{className:"calendar-text",children:"Lch s gi"})]}),u.jsxs("a",{href:"https://zalo.me/g/vyxxfp724",target:"_blank",rel:"noopener noreferrer",className:"calendar-btn",title:"Tham gia Zalo Group",children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24 11.72 11.72 0 003.67.59 1 1 0 011 1V21a1 1 0 01-1 1A17 17 0 013 5a1 1 0 011-1h3.47a1 1 0 011 1c0 1.26.2 2.48.59 3.67a1 1 0 01-.24 1.01l-2.2 2.2z"})}),u.jsx("span",{className:"calendar-text",children:"Nhm zalo lin h"})]}),u.jsxs(Ho,{to:"/bao-cao-luong-luu-tru",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"bao-cao-san-thuong-hai-tuong-lai",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[u.jsx("rect",{x:"3",y:"2",width:"18",height:"20",rx:"2",ry:"2",stroke:"currentColor",fill:"none",strokeWidth:"2"}),u.jsx("path",{d:"M5 5h14v1H5z"})," ",u.jsx("path",{d:"M5 8h14v1H5z"})," ",u.jsx("path",{d:"M5 11h14v1H5z"}),u.jsx("path",{d:"M5 14h14v1H5z"})," ",u.jsx("path",{d:"M5 17h14v1H5z"}),"  ",u.jsx("path",{d:"M5 20h14v1H5z"})]}),u.jsx("span",{className:"calendar-text",children:"Lng lu tr SHFE"})]}),u.jsxs(Ho,{to:"/bao-cao-san-thuong-hai-tuong-lai",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"bao-cao-san-thuong-hai-tuong-lai",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),u.jsx("span",{className:"calendar-text",children:"Bo co SHFE"})]}),u.jsxs(Ho,{to:"/luong-truy-cap",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Lng truy cp",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M3 3h2v18H3V3zm7 6h2v12h-2V9zm7-4h2v16h-2V5z"})}),u.jsx("span",{className:"calendar-text",children:"Lng truy cp"})]}),u.jsxs(Ho,{to:"/lbma-reserves",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"LBMA Reserves",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M12 2C6.48 2 2 4.02 2 6.5S6.48 11 12 11s10-2.02 10-4.5S17.52 2 12 2zm0 9c-5.52 0-10 2.02-10 4.5S6.48 20 12 20s10-2.02 10-4.5S17.52 11 12 11z"})}),u.jsx("span",{className:"calendar-text",children:"LBMA Reserves"})]}),u.jsxs(Ho,{to:"/loi-nhuan-tuan",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"bao-cao-san-thuong-hai-tuong-lai",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})}),u.jsx("span",{className:"calendar-text",children:"Bo co tc  tng trng ca nh vng"})]}),u.jsxs(Ho,{to:"/volumexagxau",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Xem tt c biu ",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"})}),u.jsx("span",{className:"calendar-text",children:"Volume XAG / XAU"})]}),u.jsxs(Ho,{to:"/xau-xag-chart",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Biu  XAU/XAG",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"})}),u.jsx("span",{className:"calendar-text",children:"Biu  XAU/XAG Kt Hp"})]}),u.jsxs(Ho,{to:"/zsl",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"ZSL",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),u.jsx("span",{className:"calendar-text",children:"ZSL"})]}),u.jsxs(Ho,{to:"/dang-ky-tai-khoan",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"ng k ti khon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})}),u.jsx("span",{className:"calendar-text",children:"ng k v"})]}),u.jsxs(Ho,{to:nt(),className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Biu  t lnh gi vng bc theo timeline",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:[u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"}),u.jsx("path",{d:"M7 14h2v3H7zm4-2h2v5h-2zm4-3h2v8h-2z",opacity:".3"})]}),u.jsx("span",{className:"calendar-text",children:" Timeline"})]}),u.jsxs(Ho,{to:"/trade-flow",className:({isActive:V})=>`calendar-btn ${V?"active":""}`,title:"Order Flow",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"calendar-icon",children:u.jsx("path",{d:"M3 13h6v8H3zM9 3h6v18H9zM15 9h6v12h-6z"})}),u.jsx("span",{className:"calendar-text",children:"Order Flow"})]})]})]})]}),e&&u.jsx("div",{className:"news-modal-overlay",onClick:R,children:u.jsxs("div",{className:"news-modal-content",onClick:V=>V.stopPropagation(),children:[u.jsx("button",{className:"news-modal-close",onClick:R,children:""}),u.jsx("h2",{className:"news-modal-title",children:e.title}),u.jsx("div",{style:{marginBottom:"15px"},children:u.jsx("button",{onClick:V=>A(V,e.content),disabled:h,style:{cursor:"pointer",padding:"5px 12px",borderRadius:"15px",border:"1px solid #1877f2",fontSize:"12px",fontWeight:"bold",background:s?"#1877f2":"#fff",color:s?"#fff":"#1877f2"},children:h?"...":s?"Xem gc":"Dch ni dung"})}),u.jsx("div",{className:"news-modal-body",dangerouslySetInnerHTML:{__html:s?l:e.content}}),u.jsx("div",{className:"news-modal-footer",children:u.jsx("small",{children:e.created_at?new Date(e.created_at).toLocaleString("vi-VN"):""})})]})})]})]})},Blt=()=>u.jsxs("footer",{className:"footer",children:[u.jsxs("div",{className:"footer-content",children:[u.jsxs("div",{className:"footer-section",children:[u.jsx("h3",{children:"AI ANALYSIS"}),u.jsx("p",{className:"company-tagline",children:"S dng AI  phn tch bin ng gi vng"})]}),u.jsxs("div",{className:"footer-section",children:[u.jsx("h4",{children:"Lin h"}),u.jsxs("p",{children:["Zalo:"," ",u.jsx("a",{href:"https://zalo.me/g/vyxxfp724",target:"_blank",rel:"noopener noreferrer",children:"Nhm zalo lin h"})]})]}),u.jsxs("div",{className:"footer-section",children:[u.jsx("h4",{children:" Tuyn b min tr trch nhim"}),u.jsx("p",{className:"disclaimer",children:"Thng tin gi vng c hin th trn trang web ny ch mang tnh cht tham kho. Vui lng lin h trc tip vi cc nh cung cp  c thng tin chnh xc v cp nht nht."})]})]}),u.jsx("div",{className:"footer-bottom",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," All rights reserved."]})})]}),gd=(n,t,e="hanoi")=>{if(!n||!Array.isArray(n))return null;const i=n.find(r=>r.name===t);return i?i[e]||i:null},m9=n=>{if(n?.currencyNationWide){const t=gd(n.currencyNationWide,"XAUUSD","hanoi");if(t)return t}if(n?.goldNationWide){const t=gd(n.goldNationWide,"XAUUSD","hanoi");if(t)return t}return null},Hlt=n=>n?.goldNationWide?gd(n.goldNationWide,"999,9 TD","hanoi"):null,Glt=n=>n?.goldNationWide?gd(n.goldNationWide,"999,9 TD","saigon"):null,y9=n=>n?.currencyNationWide?gd(n.currencyNationWide,"USD","hanoi"):null,Wlt=n=>{const t=m9(n),e=y9(n);if(!t?.buy||!e?.buy)return null;const i=t.buy*e.buy*1.20565303,r=t.sell*e.sell*1.20565303;return{buy:Math.round(i),sell:Math.round(r)}},Ult=n=>n?.sjcNationWide?gd(n.sjcNationWide,"SJC TD","hanoi"):null,v9=n=>{if(n?.silver_price){const t=gd(n.silver_price,"XAGUSD","hanoi");if(t)return t}if(n?.currencyNationWide){const t=gd(n.currencyNationWide,"XAGUSD","hanoi");if(t)return t}return null},Ylt=n=>{const t=n?.silver_price?gd(n.silver_price,"XAGUSD","hanoi"):null,e=n?.currencyNationWide?gd(n.currencyNationWide,"USD","hanoi"):null;if(t?.buy&&e?.buy){const i=t.buy*e.buy*26.6666*1.20565303,r=t.sell*e.sell*26.6666*1.20565303;return{buy:Math.round(i),sell:Math.round(r)}}return null},$lt=n=>{const t=n?.silver_price?gd(n.silver_price,"SILVER","saigon"):null,e=n?.currencyNationWide?gd(n.currencyNationWide,"USD","saigon"):null;if(t?.buy&&e?.buy){const i=t.buy*26.6666*1e3,r=t.sell*26.6666*1e3;return{buy:Math.round(i),sell:Math.round(r)}}return null},hz=n=>!n&&n!==0?"N/A":new Intl.NumberFormat("vi-VN").format(Math.round(n)),Vlt=()=>{const{liveData:n,isConnected:t}=U_(),[e,i]=N.useState({});N.useEffect(()=>{n?console.log(" RealTimeTicker received liveData, keys:",Object.keys(n)):console.log(" RealTimeTicker waiting for liveData...")},[n]);const r=N.useMemo(()=>{if(!n)return null;console.log("liveData",n);const a={xauUsd:m9(n),gold9999Hanoi:Hlt(n),gold9999Saigon:Glt(n),usdVnd:y9(n),goldConversion:Wlt(n),sjcFree:Ult(n),xagUsd:v9(n),silverPerCanHanoi:Ylt(n),silverPerCanSaigon:$lt(n)};return console.log(" Extracted prices:",{xauUsd:a.xauUsd,gold9999Hanoi:a.gold9999Hanoi,usdVnd:a.usdVnd,hasAllPrices:Object.values(a).some(s=>s!==null)}),a},[n]);return N.useEffect(()=>{r&&i(r),console.log("prices",r)},[r]),r?u.jsxs("div",{className:"real-time-ticker",children:[u.jsxs("div",{className:"ticker-status connected",children:[u.jsx("span",{className:"status-dot"}),"LIVE"]}),u.jsx("div",{className:"ticker-scroll",children:u.jsxs("div",{className:"ticker-content",children:[u.jsxs("div",{className:"ticker-group",children:[u.jsx("span",{className:"group-label",children:" VNG"}),u.jsx(Ap,{label:"XAU/USD (oz)",data:r.xauUsd,prevData:e.xauUsd}),u.jsx(Ap,{label:"Vng NL 9999 HN",data:r.gold9999Hanoi,prevData:e.gold9999Hanoi}),u.jsx(Ap,{label:"Vng NL 9999 SG",data:r.gold9999Saigon,prevData:e.gold9999Saigon}),u.jsx(Ap,{label:"Vng Quy i",data:r.goldConversion,prevData:e.goldConversion}),u.jsx(Ap,{label:"SJC T Do",data:r.sjcFree,prevData:e.sjcFree})]}),u.jsxs("div",{className:"ticker-group",children:[u.jsx("span",{className:"group-label",children:" T GI"}),u.jsx(Ap,{label:"USD/VND",data:r.usdVnd,prevData:e.usdVnd})]}),u.jsxs("div",{className:"ticker-group",children:[u.jsx("span",{className:"group-label",children:" BC"}),u.jsx(Ap,{label:"XAG/USD (oz)",data:r.xagUsd,prevData:e.xagUsd}),u.jsx(Ap,{label:"Gi quy i t gi usd t do 1kg bc",data:r.silverPerCanHanoi,prevData:e.silverPerCanHanoi}),u.jsx(Ap,{label:"BC NGUYN LIU 1KG",data:r.silverPerCanSaigon,prevData:e.silverPerCanSaigon})]})]})})]}):u.jsx("div",{className:"real-time-ticker connecting",children:u.jsxs("div",{className:"ticker-status",children:[u.jsx("span",{className:"status-dot"}),t?"ang ti d liu...":"ang kt ni..."]})})},Ap=({label:n,data:t,prevData:e})=>{const[i,r]=N.useState("");return N.useEffect(()=>{if(!(!e||!t)){if(t.buy>e.buy||t.sell>e.sell){r("flash-green");const a=setTimeout(()=>r(""),1e3);return()=>clearTimeout(a)}else if(t.buy<e.buy||t.sell<e.sell){r("flash-red");const a=setTimeout(()=>r(""),1e3);return()=>clearTimeout(a)}}},[t,e]),t?u.jsxs("div",{className:`ticker-item ${i}`,children:[u.jsx("span",{className:"item-label",children:n}),u.jsxs("div",{className:"item-prices",children:[u.jsxs("span",{className:"price-buy",children:["Mua: ",hz(t.buy)]}),u.jsxs("span",{className:"price-sell",children:["Bn: ",hz(t.sell)]})]})]}):u.jsxs("div",{className:"ticker-item",children:[u.jsx("span",{className:"item-label",children:n}),u.jsx("span",{className:"item-price",children:"N/A"})]})},Xlt=n=>{if(!n)return[];let t=[];return Array.isArray(n)?t=n:Array.isArray(n.Calendars)?t=n.Calendars:Array.isArray(n.calendar)?t=n.calendar:Array.isArray(n.calendarEvents)?t=n.calendarEvents:n.calendars&&Array.isArray(n.calendars.items)?t=n.calendars.items:n.calendars&&Array.isArray(n.calendars)&&(t=n.calendars),t.map((e,i)=>{const r=Qlt(e);return{id:e.id||e.ID||e.event_id||i,title:e.title||e.event||e.event_name||"S kin kinh t",country:(e.country||e.country_code||"US").toUpperCase(),important:Number(e.important??e.importance??e.level??0),previous:e.previous??e.prev??null,forecast:e.forecast??e.consensus??null,actual:e.actual??e.real??null,time:r,result:Jlt(e)}})},qlt=()=>[{id:1,title:"ISM PMI SN XUT",country:"US",important:3,previous:49.1,forecast:49.4,actual:48.7,time:new Date("2025-11-03T22:00:00"),result:!1},{id:2,title:"BO CO ADP NONFARM",country:"US",important:3,previous:null,forecast:28,actual:42,time:new Date("2025-11-05T20:15:00"),result:!0},{id:3,title:"ISM PMI DCH V",country:"US",important:3,previous:50,forecast:50.8,actual:52.4,time:new Date("2025-11-05T22:00:00"),result:!0}],Klt=n=>n?n.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"N/A",Zlt=n=>{if(!n)return"N/A";const e=["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"][n.getDay()],i=String(n.getDate()).padStart(2,"0"),r=String(n.getMonth()+1).padStart(2,"0");return`${e}, ${i}/${r}`},_M=n=>n==null?"N/A":typeof n=="string"?n:Number(n).toLocaleString("vi-VN"),Qlt=n=>{if(!n)return new Date;const t=n.date||n.day||n.event_date||n.ngay||n.date_time,e=n.time||n.event_time||n.gio||n.hour;if(n.timestamp){const i=Number(n.timestamp);if(!Number.isNaN(i))return new Date(i*(i<1e12?1e3:1))}if(t){const i=`${t} ${e||""}`.trim(),r=new Date(i);if(!Number.isNaN(r.getTime()))return r}return new Date},Jlt=n=>{const t=Number(n.actual??n.real??NaN),e=Number(n.forecast??n.consensus??NaN);if(!Number.isNaN(t)&&!Number.isNaN(e))return t>=e;if(typeof n.result<"u"){if(n.result===!0||n.result==="good")return!0;if(n.result===!1||n.result==="bad")return!1}return null},tct=({country:n="US"})=>{const t=e=>({US:"",GB:"",EU:"",JP:"",CN:"",AU:"",CA:"",CH:"",NZ:"",VN:""})[e.toUpperCase()]||"";return u.jsx("div",{className:"country-flag",children:u.jsx("span",{className:"flag-emoji",children:t(n)})})},ect=({level:n=0})=>{const t=[];for(let e=0;e<3;e++)t.push(u.jsx("span",{className:`star ${e<n?"filled":""}`,children:""},e));return u.jsx("div",{className:"importance-stars",children:t})},nct=({actual:n,forecast:t,previous:e,result:i})=>{const r=()=>i===!0?"stat-good":i===!1?"stat-bad":"";return u.jsxs("div",{className:"stats-block",children:[u.jsxs("div",{className:"stat-column",children:[u.jsx("div",{className:"stat-label",children:"Thc t"}),u.jsx("div",{className:`stat-value ${r()}`,children:_M(n)})]}),u.jsxs("div",{className:"stat-column",children:[u.jsx("div",{className:"stat-label",children:"D bo"}),u.jsx("div",{className:"stat-value stat-neutral",children:_M(t)})]}),u.jsxs("div",{className:"stat-column",children:[u.jsx("div",{className:"stat-label",children:"Trc "}),u.jsx("div",{className:"stat-value stat-neutral",children:_M(e)})]})]})},ict=({event:n})=>u.jsxs("div",{className:"calendar-row",children:[u.jsxs("div",{className:"col-datetime",children:[u.jsx("div",{className:"date-text",children:Zlt(n.time)}),u.jsx("div",{className:"time-text",children:Klt(n.time)})]}),u.jsx("div",{className:"col-country",children:u.jsx(tct,{country:n.country})}),u.jsx("div",{className:"col-importance",children:u.jsx(ect,{level:n.important})}),u.jsxs("div",{className:"col-content",children:[u.jsx("div",{className:"event-title",children:n.title}),u.jsx("button",{className:"btn-detail",children:"Xem ngay phn tch chi tit >>"})]}),u.jsx("div",{className:"col-stats",children:u.jsx(nct,{actual:n.actual,forecast:n.forecast,previous:n.previous,result:n.result})})]}),rct=({events:n=[]})=>n.length===0?u.jsx("div",{className:"calendar-empty",children:u.jsx("p",{children:"Khng c s kin kinh t no"})}):u.jsxs("div",{className:"calendar-table",children:[u.jsxs("div",{className:"calendar-header",children:[u.jsxs("div",{className:"header-col-datetime",children:[u.jsx("span",{children:"NGY"}),u.jsx("span",{children:"THI GIAN"})]}),u.jsx("div",{className:"header-col-country",children:"QUC GIA"}),u.jsx("div",{className:"header-col-importance",children:"MC "}),u.jsx("div",{className:"header-col-content",children:"NI DUNG"}),u.jsx("div",{className:"header-col-stats",children:"THNG K S LIU"})]}),u.jsx("div",{className:"calendar-body",children:n.map(t=>u.jsx(ict,{event:t},t.id))})]}),qo=(n="Mn hnh Home.jsx")=>{const t=navigator.userAgent;let e="Unknown";t.includes("Chrome")&&!t.includes("Edg")&&!t.includes("OPR")?e="Chrome":t.includes("Edg")?e="Edge":t.includes("Firefox")?e="Firefox":t.includes("OPR")||t.includes("Opera")?e="Opera":t.includes("Safari")&&!t.includes("Chrome")&&(e="Safari");let i="Unknown";/Windows/i.test(t)?i="Windows":/Mac/i.test(t)?i="MacOS":/Linux/i.test(t)?i="Linux":/Android/i.test(t)?i="Android":/iPhone|iPad|iPod/i.test(t)&&(i="iOS");const r=(s,o,l)=>{if(!/iphone/i.test(s))return"";const c=Math.min(o,l),h=Math.max(o,l);return Math.abs(c-375)<=5&&Math.abs(h-667)<=5?"iPhone SE / 4.7-inch":Math.abs(c-375)<=5&&Math.abs(h-812)<=5?"iPhone Mini (5.4-inch)":Math.abs(c-390)<=5&&Math.abs(h-844)<=5?"iPhone 6.1-inch":Math.abs(c-393)<=5&&Math.abs(h-852)<=5?"iPhone Pro 6.1-inch":Math.abs(c-414)<=5&&Math.abs(h-896)<=5?"iPhone Plus / Max":Math.abs(c-430)<=5&&Math.abs(h-932)<=5?"iPhone Pro Max":"iPhone (Unknown)"},a=async s=>{const o=window.screen.width,l=window.screen.height,c=Math.min(o,l)<768?1:0,h=r(t,o,l),d=new FormData;s&&d.append("maps",JSON.stringify(s)),d.append("widget_activate",n),d.append("browser_info",`${e} ${i}`),d.append("is_mobile",c),d.append("width",o),d.append("height",l),d.append("device_group",h);try{console.log("[LOG] Sending log...",{widgetActivate:n,browser:e,os:i,is_mobile:c,width:o,height:l,device_group:h,maps:s});const g=await fetch("https://api_gold.thinkdiff.us/check_data_pro",{method:"POST",body:d});console.log("[LOG] Server response:",g.status)}catch(g){console.error("[LOG] Fetch error:",g)}};navigator.geolocation.getCurrentPosition(s=>{console.log("[LOG] Geolocation OK",s.coords),a({lat:s.coords.latitude,long:s.coords.longitude})},s=>{console.warn("[LOG] Geolocation FAILED",s.code,s.message),a(null)},{timeout:5e3})},dz=()=>{const{liveData:n}=U_();N.useEffect(()=>{(async()=>await qo("Mn hnh EconomicCanlendar.jsx"))()},[]);const t=N.useMemo(()=>{if(n){const e=Xlt(n.Calendars||n.calendar||n.Calendar||n.calendars||n.calendarEvents||n.EconomicCalendar||n.calendar_data);if(e.length>0)return e}return qlt()},[n]);return u.jsx("section",{className:"calendar-section",children:u.jsxs("div",{className:"calendar-container",children:[u.jsx("h2",{className:"calendar-title",children:"Lch Kinh T"}),u.jsx(rct,{events:t})]})})};let act={data:""},sct=n=>{if(typeof window=="object"){let t=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(n||document.head).appendChild(t),t.firstChild}return n||act},oct=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lct=/\/\*[^]*?\*\/|  +/g,fz=/\n+/g,Cy=(n,t)=>{let e="",i="",r="";for(let a in n){let s=n[a];a[0]=="@"?a[1]=="i"?e=a+" "+s+";":i+=a[1]=="f"?Cy(s,a):a+"{"+Cy(s,a[1]=="k"?"":t)+"}":typeof s=="object"?i+=Cy(s,t?t.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Cy.p?Cy.p(a,s):a+":"+s+";")}return e+(t&&r?t+"{"+r+"}":r)+i},Tp={},x9=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+x9(n[e]);return t}return n},cct=(n,t,e,i,r)=>{let a=x9(n),s=Tp[a]||(Tp[a]=(l=>{let c=0,h=11;for(;c<l.length;)h=101*h+l.charCodeAt(c++)>>>0;return"go"+h})(a));if(!Tp[s]){let l=a!==n?n:(c=>{let h,d,g=[{}];for(;h=oct.exec(c.replace(lct,""));)h[4]?g.shift():h[3]?(d=h[3].replace(fz," ").trim(),g.unshift(g[0][d]=g[0][d]||{})):g[0][h[1]]=h[2].replace(fz," ").trim();return g[0]})(n);Tp[s]=Cy(r?{["@keyframes "+s]:l}:l,e?"":"."+s)}let o=e&&Tp.g?Tp.g:null;return e&&(Tp.g=Tp[s]),((l,c,h,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=h?l+c.data:c.data+l)})(Tp[s],t,i,o),s},uct=(n,t,e)=>n.reduce((i,r,a)=>{let s=t[a];if(s&&s.call){let o=s(e),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Cy(o,""):o===!1?"":o}return i+r+(s??"")},"");function TA(n){let t=this||{},e=n.call?n(t.p):n;return cct(e.unshift?e.raw?uct(e,[].slice.call(arguments,1),t.p):e.reduce((i,r)=>Object.assign(i,r&&r.call?r(t.p):r),{}):e,sct(t.target),t.g,t.o,t.k)}let b9,AE,TE;TA.bind({g:1});let $p=TA.bind({k:1});function hct(n,t,e,i){Cy.p=t,b9=n,AE=e,TE=i}function Jy(n,t){let e=this||{};return function(){let i=arguments;function r(a,s){let o=Object.assign({},a),l=o.className||r.className;e.p=Object.assign({theme:AE&&AE()},o),e.o=/ *go\d+/.test(l),o.className=TA.apply(e,i)+(l?" "+l:"");let c=n;return n[0]&&(c=o.as||n,delete o.as),TE&&c[0]&&TE(o),b9(c,o)}return r}}var dct=n=>typeof n=="function",KC=(n,t)=>dct(n)?n(t):n,fct=(()=>{let n=0;return()=>(++n).toString()})(),w9=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),gct=20,vO="default",_9=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:i}=t;return _9(n,{type:n.toasts.find(s=>s.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=t;return{...n,toasts:n.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let a=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},xC=[],S9={toasts:[],pausedAt:void 0,settings:{toastLimit:gct}},vg={},k9=(n,t=vO)=>{vg[t]=_9(vg[t]||S9,n),xC.forEach(([e,i])=>{e===t&&i(vg[t])})},C9=n=>Object.keys(vg).forEach(t=>k9(n,t)),pct=n=>Object.keys(vg).find(t=>vg[t].toasts.some(e=>e.id===n)),MA=(n=vO)=>t=>{k9(t,n)},mct={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yct=(n={},t=vO)=>{let[e,i]=N.useState(vg[t]||S9),r=N.useRef(vg[t]);N.useEffect(()=>(r.current!==vg[t]&&i(vg[t]),xC.push([t,i]),()=>{let s=xC.findIndex(([o])=>o===t);s>-1&&xC.splice(s,1)}),[t]);let a=e.toasts.map(s=>{var o,l,c;return{...n,...n[s.type],...s,removeDelay:s.removeDelay||((o=n[s.type])==null?void 0:o.removeDelay)||n?.removeDelay,duration:s.duration||((l=n[s.type])==null?void 0:l.duration)||n?.duration||mct[s.type],style:{...n.style,...(c=n[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},vct=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||fct()}),K_=n=>(t,e)=>{let i=vct(t,n,e);return MA(i.toasterId||pct(i.id))({type:2,toast:i}),i.id},bo=(n,t)=>K_("blank")(n,t);bo.error=K_("error");bo.success=K_("success");bo.loading=K_("loading");bo.custom=K_("custom");bo.dismiss=(n,t)=>{let e={type:3,toastId:n};t?MA(t)(e):C9(e)};bo.dismissAll=n=>bo.dismiss(void 0,n);bo.remove=(n,t)=>{let e={type:4,toastId:n};t?MA(t)(e):C9(e)};bo.removeAll=n=>bo.remove(void 0,n);bo.promise=(n,t,e)=>{let i=bo.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let a=t.success?KC(t.success,r):void 0;return a?bo.success(a,{id:i,...e,...e?.success}):bo.dismiss(i),r}).catch(r=>{let a=t.error?KC(t.error,r):void 0;a?bo.error(a,{id:i,...e,...e?.error}):bo.dismiss(i)}),n};var xct=1e3,bct=(n,t="default")=>{let{toasts:e,pausedAt:i}=yct(n,t),r=N.useRef(new Map).current,a=N.useCallback((d,g=xct)=>{if(r.has(d))return;let y=setTimeout(()=>{r.delete(d),s({type:4,toastId:d})},g);r.set(d,y)},[]);N.useEffect(()=>{if(i)return;let d=Date.now(),g=e.map(y=>{if(y.duration===1/0)return;let x=(y.duration||0)+y.pauseDuration-(d-y.createdAt);if(x<0){y.visible&&bo.dismiss(y.id);return}return setTimeout(()=>bo.dismiss(y.id,t),x)});return()=>{g.forEach(y=>y&&clearTimeout(y))}},[e,i,t]);let s=N.useCallback(MA(t),[t]),o=N.useCallback(()=>{s({type:5,time:Date.now()})},[s]),l=N.useCallback((d,g)=>{s({type:1,toast:{id:d,height:g}})},[s]),c=N.useCallback(()=>{i&&s({type:6,time:Date.now()})},[i,s]),h=N.useCallback((d,g)=>{let{reverseOrder:y=!1,gutter:x=8,defaultPosition:w}=g||{},k=e.filter(R=>(R.position||w)===(d.position||w)&&R.height),A=k.findIndex(R=>R.id===d.id),T=k.filter((R,G)=>G<A&&R.visible).length;return k.filter(R=>R.visible).slice(...y?[T+1]:[0,T]).reduce((R,G)=>R+(G.height||0)+x,0)},[e]);return N.useEffect(()=>{e.forEach(d=>{if(d.dismissed)a(d.id,d.removeDelay);else{let g=r.get(d.id);g&&(clearTimeout(g),r.delete(d.id))}})},[e,a]),{toasts:e,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:h}}},wct=$p`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_ct=$p`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Sct=$p`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kct=Jy("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wct} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_ct} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Sct} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Cct=$p`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Act=Jy("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Cct} 1s linear infinite;
`,Tct=$p`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Mct=$p`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Nct=Jy("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tct} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Mct} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Pct=Jy("div")`
  position: absolute;
`,Ect=Jy("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jct=$p`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dct=Jy("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jct} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Oct=({toast:n})=>{let{icon:t,type:e,iconTheme:i}=n;return t!==void 0?typeof t=="string"?N.createElement(Dct,null,t):t:e==="blank"?null:N.createElement(Ect,null,N.createElement(Act,{...i}),e!=="loading"&&N.createElement(Pct,null,e==="error"?N.createElement(kct,{...i}):N.createElement(Nct,{...i})))},Lct=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rct=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Ict="0%{opacity:0;} 100%{opacity:1;}",zct="0%{opacity:1;} 100%{opacity:0;}",Fct=Jy("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Bct=Jy("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Hct=(n,t)=>{let e=n.includes("top")?1:-1,[i,r]=w9()?[Ict,zct]:[Lct(e),Rct(e)];return{animation:t?`${$p(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$p(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Gct=N.memo(({toast:n,position:t,style:e,children:i})=>{let r=n.height?Hct(n.position||t||"top-center",n.visible):{opacity:0},a=N.createElement(Oct,{toast:n}),s=N.createElement(Bct,{...n.ariaProps},KC(n.message,n));return N.createElement(Fct,{className:n.className,style:{...r,...e,...n.style}},typeof i=="function"?i({icon:a,message:s}):N.createElement(N.Fragment,null,a,s))});hct(N.createElement);var Wct=({id:n,className:t,style:e,onHeightUpdate:i,children:r})=>{let a=N.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;i(n,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return N.createElement("div",{ref:a,className:t,style:e},r)},Uct=(n,t)=>{let e=n.includes("top"),i=e?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:w9()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...i,...r}},Yct=TA`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bk=16,$ct=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:i,children:r,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=bct(e,a);return N.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:bk,left:bk,right:bk,bottom:bk,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(h=>{let d=h.position||t,g=c.calculateOffset(h,{reverseOrder:n,gutter:i,defaultPosition:t}),y=Uct(d,g);return N.createElement(Wct,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?Yct:"",style:y},h.type==="custom"?KC(h.message,h):r?r(h):N.createElement(Gct,{toast:h,position:d}))}))},Qv=bo;function xO(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(n)}function Vct(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"128",cy:"256",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"384",cy:"112",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"384",cy:"400",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m169.83 279.53 172.34 96.94m0-240.94-172.34 96.94"},child:[]}]})(n)}const Xct=({newsInAPI:n})=>{const t="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg",{liveData:e}=U_(),[i,r]=N.useState(new Set),[a,s]=N.useState(null),[o,l]=N.useState(null),[c,h]=N.useState(!1),[d,g]=N.useState(null),[y,x]=N.useState(!1),[w,k]=N.useState(!1),[A,T]=N.useState(null),[R,G]=N.useState([]),[z,F]=N.useState(""),[H,Y]=N.useState(!1),[J,nt]=N.useState({}),[V,Z]=N.useState(null),rt=N.useRef([]),lt=N.useRef([]),mt=N.useRef(new Set),ct=async(Et,Yt="vi")=>{if(!Et)return"";if(Yt==="vi"&&/[]/i.test(Et))return Et;try{return(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${Yt}&dt=t&q=${encodeURIComponent(Et)}`)).json())[0].map(fe=>fe[0]).join("")}catch(Rt){return console.error("Li dch thng bo:",Rt),Et}},st=async(Et,Yt)=>{if(Et){if(J[Yt]){nt(Rt=>{const ee={...Rt};return delete ee[Yt],ee});return}Z(Yt);try{const Rt=await ct(Et,"vi");nt(ee=>({...ee,[Yt]:Rt}))}catch(Rt){console.error("Li dch bnh lun",Rt)}finally{Z(null)}}};N.useEffect(()=>{if(!n||n.length===0)return;(async()=>{const Yt=n.flatMap(Rt=>{const ee=Rt.link;return(Rt.data||[]).map(fe=>({id:fe.post_db_id,title:fe.content_text_vi||fe.content_text||fe.content,content:fe.content_text||fe.content,image:fe.images?.[0]||null,originalTitle:fe.content_text||fe.content,originalContent:fe.content_text||fe.content,link:ee}))}).filter(Rt=>!mt.current.has(Rt.id));Yt.length>0&&(rt.current.push(...Yt),Yt.forEach(Rt=>{Rt.id&&mt.current.add(Rt.id)}))})()},[n]),N.useEffect(()=>{if(!e?.ContentNew)return;const Et=e.ContentNew.filter(Yt=>!mt.current.has(Yt.id));Et.length>0&&(lt.current.push(...Et),Et.forEach(Yt=>mt.current.add(Yt.id)))},[e]),N.useEffect(()=>{const Et=setInterval(async()=>{let Yt=null;if(rt.current.length>0){const Jt=Math.floor(Math.random()*rt.current.length);Yt=rt.current.splice(Jt,1)[0]}else if(lt.current.length>0){const Jt=Math.floor(Math.random()*lt.current.length);Yt=lt.current.splice(Jt,1)[0]}if(!Yt)return;const Rt=await ct(Yt.title),ee=await ct(Yt.content),fe={...Yt,title:Rt,content:ee,originalTitle:Yt.title,originalContent:Yt.content};xt(fe),r(Jt=>new Set([...Jt,Yt.id]))},1e4);return()=>clearInterval(Et)},[]);const xt=Et=>{Qv.custom(Yt=>u.jsxs("div",{className:`news-toast ${Yt.visible?"show":"hide"}`,onClick:()=>{Qv.dismiss(Yt.id),s(Et)},children:[u.jsx("div",{className:"toast-icon",children:Et.image?u.jsx("img",{className:"icon-img",src:Et.image,alt:""}):""}),u.jsxs("div",{className:"toast-content",children:[u.jsx("div",{className:"toast-title",children:"Tin tc mi"}),u.jsx("div",{className:"toast-message",children:Et.title})]}),u.jsx("button",{className:"toast-close",onClick:Rt=>{Rt.stopPropagation(),Qv.dismiss(Yt.id)},children:""})]}),{duration:5e3,position:"bottom-right"})};N.useEffect(()=>{if(!a?.originalContent)return;(async()=>{try{const Yt=new FormData;Yt.append("content",a.originalContent);const ee=await(await fetch("https://api_gold.thinkdiff.us/get_api_forumpost",{method:"POST",body:Yt})).json();console.log("Fetched post comments:",ee),T(a.id),G(ee.data.list_comment_json||[])}catch(Yt){console.error(Yt)}})()},[a]);function dt(){const[Et,Yt]=N.useState({lat:null,long:null});return N.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(Rt=>{Yt({lat:Rt.coords.latitude,long:Rt.coords.longitude})},Rt=>{console.error("Li ly v tr:",Rt),Yt({lat:null,long:null})}):console.error("Trnh duyt khng h tr geolocation")},[]),Et}const{lat:ht,long:ot}=dt(),vt=async()=>{if(console.log("click comment: ",z.trim(),A,H),!(!z.trim()||H)){Y(!0);try{const Et=new FormData;if(Et.append("idPost",A),Et.append("content",z),Et.append("browser_info","Chrome Web"),Et.append("lat",ht||""),Et.append("long",ot||""),(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:Et})).ok){const Rt={contentVI:z,actionAt:new Date().toLocaleString(),avatar_group:t};G(ee=>[...ee,Rt]),F(""),Qv.success("Bnh lun thnh cng!")}}catch(Et){console.error("Li gi bnh lun:",Et),Qv.error("Khng th gi bnh lun.")}finally{Y(!1)}}},St=()=>{s(null),h(!1),g(null),x(!1)},Pt=async Et=>{if(!Et||Et.length===0)return;const Yt={};await Promise.all(Et.map(async(Rt,ee)=>{if(J[ee])return;const fe=Rt.contentVI||Rt.content||"";if(fe.trim())try{const Jt=await ct(fe,"vi");Jt&&Jt!==fe&&(Yt[ee]=Jt)}catch(Jt){console.error(`Li dch comment index ${ee}:`,Jt)}})),Object.keys(Yt).length>0&&nt(Rt=>({...Rt,...Yt}))};N.useEffect(()=>{R&&R.length>0&&Pt(R)},[R]);const It=Et=>{if(!Et)return"";const Rt=window.innerWidth<=768?200:500;return Et.length>Rt?Et.slice(0,Rt)+"...":Et},Nt=async()=>{if(!a)return;const Et=a.link||window.location.href,Yt={title:a.title,text:a.title,url:Et};if(navigator.share)try{await navigator.share(Yt)}catch(Rt){console.error("Share cancelled",Rt)}else try{await navigator.clipboard.writeText(Et),Qv.success(" copy link bi vit!")}catch{Qv.error("Khng th copy link")}};return u.jsxs(u.Fragment,{children:[u.jsx($ct,{position:"bottom-right",containerStyle:{bottom:40,right:40,zIndex:900}}),a&&u.jsxs("div",{className:"news-modal-overlay",onClick:St,children:[u.jsxs("div",{className:`news-modal ${w?"news-modal--expanded":""}`,onClick:Et=>Et.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{className:"modal-title",children:It(c?a.originalTitle:a.title)}),u.jsx("button",{className:"modal-expand-btn",onClick:()=>k(Et=>!Et),title:"Phng to / Thu nh",children:w?"":""}),u.jsx("button",{className:"modal-close",onClick:St,children:""})]}),u.jsxs("div",{className:"modal-body",children:[a.image&&u.jsx("div",{className:"contain-image",children:u.jsx("img",{className:"icon-img-popup",src:a.image,alt:"",onClick:()=>l(a.image)})}),u.jsx("div",{className:"modal-content-notification",dangerouslySetInnerHTML:{__html:c?a.originalContent:a.content}}),u.jsxs("div",{className:"comment-section",children:[u.jsxs("div",{className:"comment-title",children:[" Bnh lun (",R.length,")"]}),u.jsxs("div",{className:"comment-input-wrap",children:[u.jsx("img",{src:t,className:"comment-item-avatar",style:{borderRadius:"50%"},alt:"avt"}),u.jsxs("div",{className:"comment-input-box",children:[u.jsx("textarea",{className:"comment-textarea",placeholder:"Vit bnh lun...",value:z,onChange:Et=>F(Et.target.value)}),H?u.jsx("div",{className:"comment-loading-spinner"}):u.jsx(xO,{onClick:vt,style:{cursor:"pointer",color:z.trim()?"#0084ff":"#555",fontSize:"1.2rem"}})]})]}),u.jsxs("div",{className:"comment-list",children:[R.length===0&&u.jsx("p",{style:{fontStyle:"italic",color:"#888"},children:"Cha c bnh lun"}),R.map((Et,Yt)=>{const Rt=Et.contentVI||Et.content,ee=J[Yt];return u.jsxs("div",{className:"comment-item",children:[u.jsx("img",{src:Et?.avatar_group||t,className:"comment-item-avatar",style:{borderRadius:"50%"},alt:"avt"}),u.jsxs("div",{className:"comment-bubble",children:[u.jsxs("div",{className:"comment-username",children:["Ngi dng ",Yt+1]}),u.jsx("div",{className:"comment-content",children:ee||Rt}),u.jsx("div",{className:"comment-time",children:Et.actionAt}),u.jsx("button",{className:"comment-translate-btn",onClick:()=>st(Rt,Yt),disabled:V===Yt,children:V===Yt?"ang dch...":ee?"Hin bn gc":"Dch"})]})]},Yt)})]})]}),y&&u.jsx("div",{className:"translating-indicator",children:u.jsx("p",{style:{color:"#3b82f6",textAlign:"center",fontStyle:"italic"},children:"..."})})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsxs("div",{className:"modal-footer-left",children:[u.jsx("button",{className:"modal-btn-original",onClick:()=>h(Et=>!Et),disabled:y,children:c?"Hin th ting Vit":"Hin th bn gc"}),u.jsxs("button",{className:"modal-btn-share",onClick:Nt,title:"Chia s tin tc",children:[u.jsx(Vct,{size:18}),u.jsx("span",{children:"Chia s"})]}),a?.link&&u.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"modal-link-more",children:"Xem thm"})]}),u.jsx("button",{className:"modal-btn-close",onClick:St,children:"ng"})]})]}),o&&u.jsx("div",{className:"zoom-overlay",onClick:()=>l(null),children:u.jsxs("div",{className:"zoom-container",onClick:Et=>Et.stopPropagation(),children:[u.jsx("img",{className:"zoom-image",src:o,alt:""}),u.jsx("button",{className:"zoom-close-bottom",onClick:()=>l(null),children:"ng"})]})})]})]})},Ds={day:"01",month:"01",year:"2020",hour:"00",minute:"00"},qct=(n,t)=>{if(t?.day&&t?.month&&t?.year&&t?.hour&&t?.minute)return{day:String(parseInt(t.day)||Ds.day),month:String(parseInt(t.month)||Ds.month),year:String(parseInt(t.year)||Ds.year),hour:String(parseInt(t.hour)||Ds.hour),minute:String(parseInt(t.minute)||Ds.minute)};const e=n.split("/");return e.length>=7?{day:String(parseInt(e[2])||Ds.day),month:String(parseInt(e[3])||Ds.month),year:String(parseInt(e[4])||Ds.year),hour:String(parseInt(e[5])||Ds.hour),minute:String(parseInt(e[6])||Ds.minute)}:{day:String(Ds.day),month:String(Ds.month),year:String(Ds.year),hour:String(Ds.hour),minute:String(Ds.minute)}},Kct={sortBy:"datetime",sortOrder:"desc"},Zct=()=>{const n=Gi(),t=no(),e=rc();console.log("urlParams",e);const i=t.pathname,r=e.region||"vietnam",a=e.type||"gold",{displayedDates:s,isLoading:o}=Vst(Kct);console.log("temp1",s);const l=s.length>0?s[0]?.dirname:null,[c,h,d]=l?l.split("_"):[null,null,null],{files:g,isLoading:y}=$3(c,h,d),x=g?.length>0?g[0]:null,w=N.useMemo(()=>qct(i,e),[i,e]),k=w.day!==Ds.day,A=k?w.day:c||Ds.day,T=k?w.month:h||Ds.month,R=k?w.year:d||Ds.year,G=k&&w.hour!==Ds.hour?`${w.hour}-${w.minute}`:x?`${x.hour}-${x.minute}`:"",[z,F]=N.useState(A),[H,Y]=N.useState(T),[J,nt]=N.useState(R),[V,Z]=N.useState(G),{files:rt}=$3(z,H,J);console.log("currentSelectedDateFiles",rt),N.useEffect(()=>{if(mt.current||lt.current)return;const{day:dt,month:ht,year:ot,hour:vt,minute:St}=w;if(dt!==Ds.day){const Pt=`${vt}-${St}`;(z!==dt||H!==ht||J!==ot||V!==Pt)&&(F(dt),Y(ht),nt(ot),Z(Pt))}},[w]),N.useEffect(()=>{const dt=e.day&&e.month&&e.year&&e.hour&&e.minute,ht=i==="/"||!e.day&&!e.region||!dt;if(!o&&!y&&x&&ht&&c&&h&&d){const ot=String(x.hour).padStart(2,"0"),vt=String(x.minute).padStart(2,"0");console.log("cp nht navigate");const St=`/${r}/${a}/${c}/${h}/${d}/${ot}/${vt}`;e.symbol||n(St,{replace:!0})}},[o,y,x,c,h,d,n,i,r,a,e.day,e.month,e.year,e.hour,e.minute,e.region]);const lt=mr.useRef(!1),mt=mr.useRef(!1),ct=dt=>{const[ht,ot,vt]=dt.split("_");lt.current=!0,mt.current=!0,F(ht),Y(ot),nt(vt),Z("")},st=dt=>{if(!dt)return;mt.current=!0,Z(dt);const[ht,ot]=dt.split("-");if(z&&H&&J&&ht&&ot){const vt=String(ht).padStart(2,"0"),St=String(ot).padStart(2,"0"),Pt=`/${r}/${a}/${z}/${H}/${J}/${vt}/${St}`;e.symbol||n(Pt,{replace:!0}),setTimeout(()=>{mt.current=!1},100)}};N.useEffect(()=>{if(lt.current&&z&&H&&J&&!V&&rt?.length>0){const dt=rt[0],ht=String(dt.hour).padStart(2,"0"),ot=String(dt.minute).padStart(2,"0"),vt=`${ht}-${ot}`;lt.current=!1,mt.current=!1,Z(vt);const St=`/${r}/${a}/${z}/${H}/${J}/${ht}/${ot}`;e.symbol||n(St,{replace:!0})}},[z,H,J,V,rt,r,a,n]);const xt=`${z}_${H}_${J}`;return o||y?u.jsx("div",{className:"time-range-loading",children:"ang ti d liu..."}):u.jsx("div",{className:"time-range-container",children:u.jsxs("div",{className:"time-range-selects",children:[u.jsxs("label",{className:"pill-select",children:[u.jsx("span",{className:"label",children:"Ngy"}),u.jsx("select",{id:"start-date-select",onChange:dt=>ct(dt.target.value),value:xt,style:{background:"#334155"},children:s.filter(dt=>dt.dirname!=="image_tintuc").map(dt=>u.jsx("option",{value:dt.dirname,children:dt.dirname.split("_").join("/")},dt.dirname))})]}),u.jsxs("label",{className:"pill-select",children:[u.jsx("span",{className:"label",children:"Gi"}),u.jsxs("select",{id:"time-select",onChange:dt=>st(dt.target.value),value:V,disabled:rt?.length===0,style:{background:"#334155"},children:[u.jsx("option",{value:"",disabled:!0,children:"-- Chn gi --"}),rt?.map(dt=>u.jsxs("option",{value:`${dt.hour}-${dt.minute}`,children:[dt.hour,":",dt.minute]},dt.link))??null]})]})]})})},Qct=mr.memo(Zct);function A9(n,t){const e=N.useRef(t);N.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const Jct=1;function tut(n){return Object.freeze({__version:Jct,map:n})}function eut(n,t){return Object.freeze({...n,...t})}const bO=N.createContext(null);function wO(){const n=N.use(bO);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function nut(n){function t(e,i){const{instance:r,context:a}=n(e).current;N.useImperativeHandle(i,()=>r);const{children:s}=e;return s==null?null:mr.createElement(bO,{value:a},s)}return N.forwardRef(t)}function iut(n){function t(e,i){const[r,a]=N.useState(!1),{instance:s}=n(e,a).current;N.useImperativeHandle(i,()=>s),N.useEffect(function(){r&&s.update()},[s,r,e.children]);const o=s._contentNode;return o?R_.createPortal(e.children,o):null}return N.forwardRef(t)}function rut(n){function t(e,i){const{instance:r}=n(e).current;return N.useImperativeHandle(i,()=>r),null}return N.forwardRef(t)}function T9(n,t){const e=N.useRef(void 0);N.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function _O(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function aut(n,t){return function(i,r){const a=wO(),s=n(_O(i,a),a);return A9(a.map,i.attribution),T9(s.current,i.eventHandlers),t(s.current,a,i,r),s}}var Ew={exports:{}};var sut=Ew.exports,gz;function out(){return gz||(gz=1,(function(n,t){(function(e,i){i(t)})(sut,(function(e){var i="1.9.4";function r(v){var M,W,et,ft;for(W=1,et=arguments.length;W<et;W++){ft=arguments[W];for(M in ft)v[M]=ft[M]}return v}var a=Object.create||(function(){function v(){}return function(M){return v.prototype=M,new v}})();function s(v,M){var W=Array.prototype.slice;if(v.bind)return v.bind.apply(v,W.call(arguments,1));var et=W.call(arguments,2);return function(){return v.apply(M,et.length?et.concat(W.call(arguments)):arguments)}}var o=0;function l(v){return"_leaflet_id"in v||(v._leaflet_id=++o),v._leaflet_id}function c(v,M,W){var et,ft,Ct,Bt;return Bt=function(){et=!1,ft&&(Ct.apply(W,ft),ft=!1)},Ct=function(){et?ft=arguments:(v.apply(W,arguments),setTimeout(Bt,M),et=!0)},Ct}function h(v,M,W){var et=M[1],ft=M[0],Ct=et-ft;return v===et&&W?v:((v-ft)%Ct+Ct)%Ct+ft}function d(){return!1}function g(v,M){if(M===!1)return v;var W=Math.pow(10,M===void 0?6:M);return Math.round(v*W)/W}function y(v){return v.trim?v.trim():v.replace(/^\s+|\s+$/g,"")}function x(v){return y(v).split(/\s+/)}function w(v,M){Object.prototype.hasOwnProperty.call(v,"options")||(v.options=v.options?a(v.options):{});for(var W in M)v.options[W]=M[W];return v.options}function k(v,M,W){var et=[];for(var ft in v)et.push(encodeURIComponent(W?ft.toUpperCase():ft)+"="+encodeURIComponent(v[ft]));return(!M||M.indexOf("?")===-1?"?":"&")+et.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function T(v,M){return v.replace(A,function(W,et){var ft=M[et];if(ft===void 0)throw new Error("No value provided for variable "+W);return typeof ft=="function"&&(ft=ft(M)),ft})}var R=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"};function G(v,M){for(var W=0;W<v.length;W++)if(v[W]===M)return W;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(v){return window["webkit"+v]||window["moz"+v]||window["ms"+v]}var H=0;function Y(v){var M=+new Date,W=Math.max(0,16-(M-H));return H=M+W,window.setTimeout(v,W)}var J=window.requestAnimationFrame||F("RequestAnimationFrame")||Y,nt=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(v){window.clearTimeout(v)};function V(v,M,W){if(W&&J===Y)v.call(M);else return J.call(window,s(v,M))}function Z(v){v&&nt.call(window,v)}var rt={__proto__:null,extend:r,create:a,bind:s,get lastId(){return o},stamp:l,throttle:c,wrapNum:h,falseFn:d,formatNum:g,trim:y,splitWords:x,setOptions:w,getParamString:k,template:T,isArray:R,indexOf:G,emptyImageUrl:z,requestFn:J,cancelFn:nt,requestAnimFrame:V,cancelAnimFrame:Z};function lt(){}lt.extend=function(v){var M=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},W=M.__super__=this.prototype,et=a(W);et.constructor=M,M.prototype=et;for(var ft in this)Object.prototype.hasOwnProperty.call(this,ft)&&ft!=="prototype"&&ft!=="__super__"&&(M[ft]=this[ft]);return v.statics&&r(M,v.statics),v.includes&&(mt(v.includes),r.apply(null,[et].concat(v.includes))),r(et,v),delete et.statics,delete et.includes,et.options&&(et.options=W.options?a(W.options):{},r(et.options,v.options)),et._initHooks=[],et.callInitHooks=function(){if(!this._initHooksCalled){W.callInitHooks&&W.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ct=0,Bt=et._initHooks.length;Ct<Bt;Ct++)et._initHooks[Ct].call(this)}},M},lt.include=function(v){var M=this.prototype.options;return r(this.prototype,v),v.options&&(this.prototype.options=M,this.mergeOptions(v.options)),this},lt.mergeOptions=function(v){return r(this.prototype.options,v),this},lt.addInitHook=function(v){var M=Array.prototype.slice.call(arguments,1),W=typeof v=="function"?v:function(){this[v].apply(this,M)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(W),this};function mt(v){if(!(typeof L>"u"||!L||!L.Mixin)){v=R(v)?v:[v];for(var M=0;M<v.length;M++)v[M]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ct={on:function(v,M,W){if(typeof v=="object")for(var et in v)this._on(et,v[et],M);else{v=x(v);for(var ft=0,Ct=v.length;ft<Ct;ft++)this._on(v[ft],M,W)}return this},off:function(v,M,W){if(!arguments.length)delete this._events;else if(typeof v=="object")for(var et in v)this._off(et,v[et],M);else{v=x(v);for(var ft=arguments.length===1,Ct=0,Bt=v.length;Ct<Bt;Ct++)ft?this._off(v[Ct]):this._off(v[Ct],M,W)}return this},_on:function(v,M,W,et){if(typeof M!="function"){console.warn("wrong listener type: "+typeof M);return}if(this._listens(v,M,W)===!1){W===this&&(W=void 0);var ft={fn:M,ctx:W};et&&(ft.once=!0),this._events=this._events||{},this._events[v]=this._events[v]||[],this._events[v].push(ft)}},_off:function(v,M,W){var et,ft,Ct;if(this._events&&(et=this._events[v],!!et)){if(arguments.length===1){if(this._firingCount)for(ft=0,Ct=et.length;ft<Ct;ft++)et[ft].fn=d;delete this._events[v];return}if(typeof M!="function"){console.warn("wrong listener type: "+typeof M);return}var Bt=this._listens(v,M,W);if(Bt!==!1){var te=et[Bt];this._firingCount&&(te.fn=d,this._events[v]=et=et.slice()),et.splice(Bt,1)}}},fire:function(v,M,W){if(!this.listens(v,W))return this;var et=r({},M,{type:v,target:this,sourceTarget:M&&M.sourceTarget||this});if(this._events){var ft=this._events[v];if(ft){this._firingCount=this._firingCount+1||1;for(var Ct=0,Bt=ft.length;Ct<Bt;Ct++){var te=ft[Ct],Zt=te.fn;te.once&&this.off(v,Zt,te.ctx),Zt.call(te.ctx||this,et)}this._firingCount--}}return W&&this._propagateEvent(et),this},listens:function(v,M,W,et){typeof v!="string"&&console.warn('"string" type argument expected');var ft=M;typeof M!="function"&&(et=!!M,ft=void 0,W=void 0);var Ct=this._events&&this._events[v];if(Ct&&Ct.length&&this._listens(v,ft,W)!==!1)return!0;if(et){for(var Bt in this._eventParents)if(this._eventParents[Bt].listens(v,M,W,et))return!0}return!1},_listens:function(v,M,W){if(!this._events)return!1;var et=this._events[v]||[];if(!M)return!!et.length;W===this&&(W=void 0);for(var ft=0,Ct=et.length;ft<Ct;ft++)if(et[ft].fn===M&&et[ft].ctx===W)return ft;return!1},once:function(v,M,W){if(typeof v=="object")for(var et in v)this._on(et,v[et],M,!0);else{v=x(v);for(var ft=0,Ct=v.length;ft<Ct;ft++)this._on(v[ft],M,W,!0)}return this},addEventParent:function(v){return this._eventParents=this._eventParents||{},this._eventParents[l(v)]=v,this},removeEventParent:function(v){return this._eventParents&&delete this._eventParents[l(v)],this},_propagateEvent:function(v){for(var M in this._eventParents)this._eventParents[M].fire(v.type,r({layer:v.target,propagatedFrom:v.target},v),!0)}};ct.addEventListener=ct.on,ct.removeEventListener=ct.clearAllEventListeners=ct.off,ct.addOneTimeEventListener=ct.once,ct.fireEvent=ct.fire,ct.hasEventListeners=ct.listens;var st=lt.extend(ct);function xt(v,M,W){this.x=W?Math.round(v):v,this.y=W?Math.round(M):M}var dt=Math.trunc||function(v){return v>0?Math.floor(v):Math.ceil(v)};xt.prototype={clone:function(){return new xt(this.x,this.y)},add:function(v){return this.clone()._add(ht(v))},_add:function(v){return this.x+=v.x,this.y+=v.y,this},subtract:function(v){return this.clone()._subtract(ht(v))},_subtract:function(v){return this.x-=v.x,this.y-=v.y,this},divideBy:function(v){return this.clone()._divideBy(v)},_divideBy:function(v){return this.x/=v,this.y/=v,this},multiplyBy:function(v){return this.clone()._multiplyBy(v)},_multiplyBy:function(v){return this.x*=v,this.y*=v,this},scaleBy:function(v){return new xt(this.x*v.x,this.y*v.y)},unscaleBy:function(v){return new xt(this.x/v.x,this.y/v.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=dt(this.x),this.y=dt(this.y),this},distanceTo:function(v){v=ht(v);var M=v.x-this.x,W=v.y-this.y;return Math.sqrt(M*M+W*W)},equals:function(v){return v=ht(v),v.x===this.x&&v.y===this.y},contains:function(v){return v=ht(v),Math.abs(v.x)<=Math.abs(this.x)&&Math.abs(v.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function ht(v,M,W){return v instanceof xt?v:R(v)?new xt(v[0],v[1]):v==null?v:typeof v=="object"&&"x"in v&&"y"in v?new xt(v.x,v.y):new xt(v,M,W)}function ot(v,M){if(v)for(var W=M?[v,M]:v,et=0,ft=W.length;et<ft;et++)this.extend(W[et])}ot.prototype={extend:function(v){var M,W;if(!v)return this;if(v instanceof xt||typeof v[0]=="number"||"x"in v)M=W=ht(v);else if(v=vt(v),M=v.min,W=v.max,!M||!W)return this;return!this.min&&!this.max?(this.min=M.clone(),this.max=W.clone()):(this.min.x=Math.min(M.x,this.min.x),this.max.x=Math.max(W.x,this.max.x),this.min.y=Math.min(M.y,this.min.y),this.max.y=Math.max(W.y,this.max.y)),this},getCenter:function(v){return ht((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,v)},getBottomLeft:function(){return ht(this.min.x,this.max.y)},getTopRight:function(){return ht(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(v){var M,W;return typeof v[0]=="number"||v instanceof xt?v=ht(v):v=vt(v),v instanceof ot?(M=v.min,W=v.max):M=W=v,M.x>=this.min.x&&W.x<=this.max.x&&M.y>=this.min.y&&W.y<=this.max.y},intersects:function(v){v=vt(v);var M=this.min,W=this.max,et=v.min,ft=v.max,Ct=ft.x>=M.x&&et.x<=W.x,Bt=ft.y>=M.y&&et.y<=W.y;return Ct&&Bt},overlaps:function(v){v=vt(v);var M=this.min,W=this.max,et=v.min,ft=v.max,Ct=ft.x>M.x&&et.x<W.x,Bt=ft.y>M.y&&et.y<W.y;return Ct&&Bt},isValid:function(){return!!(this.min&&this.max)},pad:function(v){var M=this.min,W=this.max,et=Math.abs(M.x-W.x)*v,ft=Math.abs(M.y-W.y)*v;return vt(ht(M.x-et,M.y-ft),ht(W.x+et,W.y+ft))},equals:function(v){return v?(v=vt(v),this.min.equals(v.getTopLeft())&&this.max.equals(v.getBottomRight())):!1}};function vt(v,M){return!v||v instanceof ot?v:new ot(v,M)}function St(v,M){if(v)for(var W=M?[v,M]:v,et=0,ft=W.length;et<ft;et++)this.extend(W[et])}St.prototype={extend:function(v){var M=this._southWest,W=this._northEast,et,ft;if(v instanceof It)et=v,ft=v;else if(v instanceof St){if(et=v._southWest,ft=v._northEast,!et||!ft)return this}else return v?this.extend(Nt(v)||Pt(v)):this;return!M&&!W?(this._southWest=new It(et.lat,et.lng),this._northEast=new It(ft.lat,ft.lng)):(M.lat=Math.min(et.lat,M.lat),M.lng=Math.min(et.lng,M.lng),W.lat=Math.max(ft.lat,W.lat),W.lng=Math.max(ft.lng,W.lng)),this},pad:function(v){var M=this._southWest,W=this._northEast,et=Math.abs(M.lat-W.lat)*v,ft=Math.abs(M.lng-W.lng)*v;return new St(new It(M.lat-et,M.lng-ft),new It(W.lat+et,W.lng+ft))},getCenter:function(){return new It((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new It(this.getNorth(),this.getWest())},getSouthEast:function(){return new It(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(v){typeof v[0]=="number"||v instanceof It||"lat"in v?v=Nt(v):v=Pt(v);var M=this._southWest,W=this._northEast,et,ft;return v instanceof St?(et=v.getSouthWest(),ft=v.getNorthEast()):et=ft=v,et.lat>=M.lat&&ft.lat<=W.lat&&et.lng>=M.lng&&ft.lng<=W.lng},intersects:function(v){v=Pt(v);var M=this._southWest,W=this._northEast,et=v.getSouthWest(),ft=v.getNorthEast(),Ct=ft.lat>=M.lat&&et.lat<=W.lat,Bt=ft.lng>=M.lng&&et.lng<=W.lng;return Ct&&Bt},overlaps:function(v){v=Pt(v);var M=this._southWest,W=this._northEast,et=v.getSouthWest(),ft=v.getNorthEast(),Ct=ft.lat>M.lat&&et.lat<W.lat,Bt=ft.lng>M.lng&&et.lng<W.lng;return Ct&&Bt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(v,M){return v?(v=Pt(v),this._southWest.equals(v.getSouthWest(),M)&&this._northEast.equals(v.getNorthEast(),M)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pt(v,M){return v instanceof St?v:new St(v,M)}function It(v,M,W){if(isNaN(v)||isNaN(M))throw new Error("Invalid LatLng object: ("+v+", "+M+")");this.lat=+v,this.lng=+M,W!==void 0&&(this.alt=+W)}It.prototype={equals:function(v,M){if(!v)return!1;v=Nt(v);var W=Math.max(Math.abs(this.lat-v.lat),Math.abs(this.lng-v.lng));return W<=(M===void 0?1e-9:M)},toString:function(v){return"LatLng("+g(this.lat,v)+", "+g(this.lng,v)+")"},distanceTo:function(v){return Yt.distance(this,Nt(v))},wrap:function(){return Yt.wrapLatLng(this)},toBounds:function(v){var M=180*v/40075017,W=M/Math.cos(Math.PI/180*this.lat);return Pt([this.lat-M,this.lng-W],[this.lat+M,this.lng+W])},clone:function(){return new It(this.lat,this.lng,this.alt)}};function Nt(v,M,W){return v instanceof It?v:R(v)&&typeof v[0]!="object"?v.length===3?new It(v[0],v[1],v[2]):v.length===2?new It(v[0],v[1]):null:v==null?v:typeof v=="object"&&"lat"in v?new It(v.lat,"lng"in v?v.lng:v.lon,v.alt):M===void 0?null:new It(v,M,W)}var Et={latLngToPoint:function(v,M){var W=this.projection.project(v),et=this.scale(M);return this.transformation._transform(W,et)},pointToLatLng:function(v,M){var W=this.scale(M),et=this.transformation.untransform(v,W);return this.projection.unproject(et)},project:function(v){return this.projection.project(v)},unproject:function(v){return this.projection.unproject(v)},scale:function(v){return 256*Math.pow(2,v)},zoom:function(v){return Math.log(v/256)/Math.LN2},getProjectedBounds:function(v){if(this.infinite)return null;var M=this.projection.bounds,W=this.scale(v),et=this.transformation.transform(M.min,W),ft=this.transformation.transform(M.max,W);return new ot(et,ft)},infinite:!1,wrapLatLng:function(v){var M=this.wrapLng?h(v.lng,this.wrapLng,!0):v.lng,W=this.wrapLat?h(v.lat,this.wrapLat,!0):v.lat,et=v.alt;return new It(W,M,et)},wrapLatLngBounds:function(v){var M=v.getCenter(),W=this.wrapLatLng(M),et=M.lat-W.lat,ft=M.lng-W.lng;if(et===0&&ft===0)return v;var Ct=v.getSouthWest(),Bt=v.getNorthEast(),te=new It(Ct.lat-et,Ct.lng-ft),Zt=new It(Bt.lat-et,Bt.lng-ft);return new St(te,Zt)}},Yt=r({},Et,{wrapLng:[-180,180],R:6371e3,distance:function(v,M){var W=Math.PI/180,et=v.lat*W,ft=M.lat*W,Ct=Math.sin((M.lat-v.lat)*W/2),Bt=Math.sin((M.lng-v.lng)*W/2),te=Ct*Ct+Math.cos(et)*Math.cos(ft)*Bt*Bt,Zt=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*Zt}}),Rt=6378137,ee={R:Rt,MAX_LATITUDE:85.0511287798,project:function(v){var M=Math.PI/180,W=this.MAX_LATITUDE,et=Math.max(Math.min(W,v.lat),-W),ft=Math.sin(et*M);return new xt(this.R*v.lng*M,this.R*Math.log((1+ft)/(1-ft))/2)},unproject:function(v){var M=180/Math.PI;return new It((2*Math.atan(Math.exp(v.y/this.R))-Math.PI/2)*M,v.x*M/this.R)},bounds:(function(){var v=Rt*Math.PI;return new ot([-v,-v],[v,v])})()};function fe(v,M,W,et){if(R(v)){this._a=v[0],this._b=v[1],this._c=v[2],this._d=v[3];return}this._a=v,this._b=M,this._c=W,this._d=et}fe.prototype={transform:function(v,M){return this._transform(v.clone(),M)},_transform:function(v,M){return M=M||1,v.x=M*(this._a*v.x+this._b),v.y=M*(this._c*v.y+this._d),v},untransform:function(v,M){return M=M||1,new xt((v.x/M-this._b)/this._a,(v.y/M-this._d)/this._c)}};function Jt(v,M,W,et){return new fe(v,M,W,et)}var ue=r({},Yt,{code:"EPSG:3857",projection:ee,transformation:(function(){var v=.5/(Math.PI*ee.R);return Jt(v,.5,-v,.5)})()}),Te=r({},ue,{code:"EPSG:900913"});function qe(v){return document.createElementNS("http://www.w3.org/2000/svg",v)}function on(v,M){var W="",et,ft,Ct,Bt,te,Zt;for(et=0,Ct=v.length;et<Ct;et++){for(te=v[et],ft=0,Bt=te.length;ft<Bt;ft++)Zt=te[ft],W+=(ft?"L":"M")+Zt.x+" "+Zt.y;W+=M?Ee.svg?"z":"x":""}return W||"M0 0"}var He=document.documentElement.style,mi="ActiveXObject"in window,Si=mi&&!document.addEventListener,li="msLaunchUri"in navigator&&!("documentMode"in document),Xe=Pe("webkit"),Ei=Pe("android"),Ke=Pe("android 2")||Pe("android 3"),dn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jn=Ei&&Pe("Google")&&dn<537&&!("AudioNode"in window),ki=!!window.opera,$n=!li&&Pe("chrome"),ti=Pe("gecko")&&!Xe&&!ki&&!mi,be=!$n&&Pe("safari"),cn=Pe("phantom"),tn="OTransition"in He,On=navigator.platform.indexOf("Win")===0,un=mi&&"transition"in He,kn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ke,Dn="MozPerspective"in He,Bn=!window.L_DISABLE_3D&&(un||kn||Dn)&&!tn&&!cn,_r=typeof orientation<"u"||Pe("mobile"),or=_r&&Xe,as=_r&&kn,tr=!window.PointerEvent&&window.MSPointerEvent,_a=!!(window.PointerEvent||tr),Cr="ontouchstart"in window||!!window.TouchEvent,ei=!window.L_NO_TOUCH&&(Cr||_a),er=_r&&ki,ji=_r&&ti,vn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vn=(function(){var v=!1;try{var M=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("testPassiveEventSupport",d,M),window.removeEventListener("testPassiveEventSupport",d,M)}catch{}return v})(),nn=(function(){return!!document.createElement("canvas").getContext})(),We=!!(document.createElementNS&&qe("svg").createSVGRect),Kr=!!We&&(function(){var v=document.createElement("div");return v.innerHTML="<svg/>",(v.firstChild&&v.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),re=!We&&(function(){try{var v=document.createElement("div");v.innerHTML='<v:shape adj="1"/>';var M=v.firstChild;return M.style.behavior="url(#default#VML)",M&&typeof M.adj=="object"}catch{return!1}})(),ve=navigator.platform.indexOf("Mac")===0,ze=navigator.platform.indexOf("Linux")===0;function Pe(v){return navigator.userAgent.toLowerCase().indexOf(v)>=0}var Ee={ie:mi,ielt9:Si,edge:li,webkit:Xe,android:Ei,android23:Ke,androidStock:Jn,opera:ki,chrome:$n,gecko:ti,safari:be,phantom:cn,opera12:tn,win:On,ie3d:un,webkit3d:kn,gecko3d:Dn,any3d:Bn,mobile:_r,mobileWebkit:or,mobileWebkit3d:as,msPointer:tr,pointer:_a,touch:ei,touchNative:Cr,mobileOpera:er,mobileGecko:ji,retina:vn,passiveEvents:Vn,canvas:nn,svg:We,vml:re,inlineSvg:Kr,mac:ve,linux:ze},Ui=Ee.msPointer?"MSPointerDown":"pointerdown",Zr=Ee.msPointer?"MSPointerMove":"pointermove",nr=Ee.msPointer?"MSPointerUp":"pointerup",Hn=Ee.msPointer?"MSPointerCancel":"pointercancel",yi={touchstart:Ui,touchmove:Zr,touchend:nr,touchcancel:Hn},ci={touchstart:Ar,touchmove:Xn,touchend:Xn,touchcancel:Xn},gn={},Di=!1;function Oi(v,M,W){return M==="touchstart"&&os(),ci[M]?(W=ci[M].bind(this,W),v.addEventListener(yi[M],W,!1),W):(console.warn("wrong event specified:",M),d)}function ni(v,M,W){if(!yi[M]){console.warn("wrong event specified:",M);return}v.removeEventListener(yi[M],W,!1)}function vr(v){gn[v.pointerId]=v}function xs(v){gn[v.pointerId]&&(gn[v.pointerId]=v)}function ss(v){delete gn[v.pointerId]}function os(){Di||(document.addEventListener(Ui,vr,!0),document.addEventListener(Zr,xs,!0),document.addEventListener(nr,ss,!0),document.addEventListener(Hn,ss,!0),Di=!0)}function Xn(v,M){if(M.pointerType!==(M.MSPOINTER_TYPE_MOUSE||"mouse")){M.touches=[];for(var W in gn)M.touches.push(gn[W]);M.changedTouches=[M],v(M)}}function Ar(v,M){M.MSPOINTER_TYPE_TOUCH&&M.pointerType===M.MSPOINTER_TYPE_TOUCH&&En(M),Xn(v,M)}function vi(v){var M={},W,et;for(et in v)W=v[et],M[et]=W&&W.bind?W.bind(v):W;return v=M,M.type="dblclick",M.detail=2,M.isTrusted=!1,M._simulated=!0,M}var ls=200;function zs(v,M){v.addEventListener("dblclick",M);var W=0,et;function ft(Ct){if(Ct.detail!==1){et=Ct.detail;return}if(!(Ct.pointerType==="mouse"||Ct.sourceCapabilities&&!Ct.sourceCapabilities.firesTouchEvents)){var Bt=yh(Ct);if(!(Bt.some(function(Zt){return Zt instanceof HTMLLabelElement&&Zt.attributes.for})&&!Bt.some(function(Zt){return Zt instanceof HTMLInputElement||Zt instanceof HTMLSelectElement}))){var te=Date.now();te-W<=ls?(et++,et===2&&M(vi(Ct))):et=1,W=te}}}return v.addEventListener("click",ft),{dblclick:M,simDblclick:ft}}function la(v,M){v.removeEventListener("dblclick",M.dblclick),v.removeEventListener("click",M.simDblclick)}var Ka=Qo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Sa=Qo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),io=Sa==="webkitTransition"||Sa==="OTransition"?Sa+"End":"transitionend";function Yi(v){return typeof v=="string"?document.getElementById(v):v}function oc(v,M){var W=v.style[M]||v.currentStyle&&v.currentStyle[M];if((!W||W==="auto")&&document.defaultView){var et=document.defaultView.getComputedStyle(v,null);W=et?et[M]:null}return W==="auto"?null:W}function Un(v,M,W){var et=document.createElement(v);return et.className=M||"",W&&W.appendChild(et),et}function ii(v){var M=v.parentNode;M&&M.removeChild(v)}function Ba(v){for(;v.firstChild;)v.removeChild(v.firstChild)}function ca(v){var M=v.parentNode;M&&M.lastChild!==v&&M.appendChild(v)}function ro(v){var M=v.parentNode;M&&M.firstChild!==v&&M.insertBefore(v,M.firstChild)}function Hc(v,M){if(v.classList!==void 0)return v.classList.contains(M);var W=ph(v);return W.length>0&&new RegExp("(^|\\s)"+M+"(\\s|$)").test(W)}function An(v,M){if(v.classList!==void 0)for(var W=x(M),et=0,ft=W.length;et<ft;et++)v.classList.add(W[et]);else if(!Hc(v,M)){var Ct=ph(v);cs(v,(Ct?Ct+" ":"")+M)}}function $i(v,M){v.classList!==void 0?v.classList.remove(M):cs(v,y((" "+ph(v)+" ").replace(" "+M+" "," ")))}function cs(v,M){v.className.baseVal===void 0?v.className=M:v.className.baseVal=M}function ph(v){return v.correspondingElement&&(v=v.correspondingElement),v.className.baseVal===void 0?v.className:v.className.baseVal}function Vi(v,M){"opacity"in v.style?v.style.opacity=M:"filter"in v.style&&lc(v,M)}function lc(v,M){var W=!1,et="DXImageTransform.Microsoft.Alpha";try{W=v.filters.item(et)}catch{if(M===1)return}M=Math.round(M*100),W?(W.Enabled=M!==100,W.Opacity=M):v.style.filter+=" progid:"+et+"(opacity="+M+")"}function Qo(v){for(var M=document.documentElement.style,W=0;W<v.length;W++)if(v[W]in M)return v[W];return!1}function Fs(v,M,W){var et=M||new xt(0,0);v.style[Ka]=(Ee.ie3d?"translate("+et.x+"px,"+et.y+"px)":"translate3d("+et.x+"px,"+et.y+"px,0)")+(W?" scale("+W+")":"")}function ir(v,M){v._leaflet_pos=M,Ee.any3d?Fs(v,M):(v.style.left=M.x+"px",v.style.top=M.y+"px")}function At(v){return v._leaflet_pos||new xt(0,0)}var Ot,Ft,oe;if("onselectstart"in document)Ot=function(){Mn(window,"selectstart",En)},Ft=function(){lr(window,"selectstart",En)};else{var Ne=Qo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ot=function(){if(Ne){var v=document.documentElement.style;oe=v[Ne],v[Ne]="none"}},Ft=function(){Ne&&(document.documentElement.style[Ne]=oe,oe=void 0)}}function Ge(){Mn(window,"dragstart",En)}function Tn(){lr(window,"dragstart",En)}var Rr,ua;function Ir(v){for(;v.tabIndex===-1;)v=v.parentNode;v.style&&(zr(),Rr=v,ua=v.style.outlineStyle,v.style.outlineStyle="none",Mn(window,"keydown",zr))}function zr(){Rr&&(Rr.style.outlineStyle=ua,Rr=void 0,ua=void 0,lr(window,"keydown",zr))}function cc(v){do v=v.parentNode;while((!v.offsetWidth||!v.offsetHeight)&&v!==document.body);return v}function xd(v){var M=v.getBoundingClientRect();return{x:M.width/v.offsetWidth||1,y:M.height/v.offsetHeight||1,boundingClientRect:M}}var Tl={__proto__:null,TRANSFORM:Ka,TRANSITION:Sa,TRANSITION_END:io,get:Yi,getStyle:oc,create:Un,remove:ii,empty:Ba,toFront:ca,toBack:ro,hasClass:Hc,addClass:An,removeClass:$i,setClass:cs,getClass:ph,setOpacity:Vi,testProp:Qo,setTransform:Fs,setPosition:ir,getPosition:At,get disableTextSelection(){return Ot},get enableTextSelection(){return Ft},disableImageDrag:Ge,enableImageDrag:Tn,preventOutline:Ir,restoreOutline:zr,getSizedParentNode:cc,getScale:xd};function Mn(v,M,W,et){if(M&&typeof M=="object")for(var ft in M)Bs(v,ft,M[ft],W);else{M=x(M);for(var Ct=0,Bt=M.length;Ct<Bt;Ct++)Bs(v,M[Ct],W,et)}return this}var Jo="_leaflet_events";function lr(v,M,W,et){if(arguments.length===1)bd(v),delete v[Jo];else if(M&&typeof M=="object")for(var ft in M)mh(v,ft,M[ft],W);else if(M=x(M),arguments.length===2)bd(v,function(te){return G(M,te)!==-1});else for(var Ct=0,Bt=M.length;Ct<Bt;Ct++)mh(v,M[Ct],W,et);return this}function bd(v,M){for(var W in v[Jo]){var et=W.split(/\d/)[0];(!M||M(et))&&mh(v,et,null,null,W)}}var uc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bs(v,M,W,et){var ft=M+l(W)+(et?"_"+l(et):"");if(v[Jo]&&v[Jo][ft])return this;var Ct=function(te){return W.call(et||v,te||window.event)},Bt=Ct;!Ee.touchNative&&Ee.pointer&&M.indexOf("touch")===0?Ct=Oi(v,M,Ct):Ee.touch&&M==="dblclick"?Ct=zs(v,Ct):"addEventListener"in v?M==="touchstart"||M==="touchmove"||M==="wheel"||M==="mousewheel"?v.addEventListener(uc[M]||M,Ct,Ee.passiveEvents?{passive:!1}:!1):M==="mouseenter"||M==="mouseleave"?(Ct=function(te){te=te||window.event,Nl(v,te)&&Bt(te)},v.addEventListener(uc[M],Ct,!1)):v.addEventListener(M,Bt,!1):v.attachEvent("on"+M,Ct),v[Jo]=v[Jo]||{},v[Jo][ft]=Ct}function mh(v,M,W,et,ft){ft=ft||M+l(W)+(et?"_"+l(et):"");var Ct=v[Jo]&&v[Jo][ft];if(!Ct)return this;!Ee.touchNative&&Ee.pointer&&M.indexOf("touch")===0?ni(v,M,Ct):Ee.touch&&M==="dblclick"?la(v,Ct):"removeEventListener"in v?v.removeEventListener(uc[M]||M,Ct,!1):v.detachEvent("on"+M,Ct),v[Jo][ft]=null}function ka(v){return v.stopPropagation?v.stopPropagation():v.originalEvent?v.originalEvent._stopped=!0:v.cancelBubble=!0,this}function Ml(v){return Bs(v,"wheel",ka),this}function tl(v){return Mn(v,"mousedown touchstart dblclick contextmenu",ka),v._leaflet_disable_click=!0,this}function En(v){return v.preventDefault?v.preventDefault():v.returnValue=!1,this}function xi(v){return En(v),ka(v),this}function yh(v){if(v.composedPath)return v.composedPath();for(var M=[],W=v.target;W;)M.push(W),W=W.parentNode;return M}function vh(v,M){if(!M)return new xt(v.clientX,v.clientY);var W=xd(M),et=W.boundingClientRect;return new xt((v.clientX-et.left)/W.x-M.clientLeft,(v.clientY-et.top)/W.y-M.clientTop)}var cm=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bs(v){return Ee.edge?v.wheelDeltaY/2:v.deltaY&&v.deltaMode===0?-v.deltaY/cm:v.deltaY&&v.deltaMode===1?-v.deltaY*20:v.deltaY&&v.deltaMode===2?-v.deltaY*60:v.deltaX||v.deltaZ?0:v.wheelDelta?(v.wheelDeltaY||v.wheelDelta)/2:v.detail&&Math.abs(v.detail)<32765?-v.detail*20:v.detail?v.detail/-32765*60:0}function Nl(v,M){var W=M.relatedTarget;if(!W)return!0;try{for(;W&&W!==v;)W=W.parentNode}catch{return!1}return W!==v}var xh={__proto__:null,on:Mn,off:lr,stopPropagation:ka,disableScrollPropagation:Ml,disableClickPropagation:tl,preventDefault:En,stop:xi,getPropagationPath:yh,getMousePosition:vh,getWheelDelta:bs,isExternalTarget:Nl,addListener:Mn,removeListener:lr},Ao=st.extend({run:function(v,M,W,et){this.stop(),this._el=v,this._inProgress=!0,this._duration=W||.25,this._easeOutPower=1/Math.max(et||.5,.2),this._startPos=At(v),this._offset=M.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(v){var M=+new Date-this._startTime,W=this._duration*1e3;M<W?this._runFrame(this._easeOut(M/W),v):(this._runFrame(1),this._complete())},_runFrame:function(v,M){var W=this._startPos.add(this._offset.multiplyBy(v));M&&W._round(),ir(this._el,W),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(v){return 1-Math.pow(1-v,this._easeOutPower)}}),Gn=st.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(v,M){M=w(this,M),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(v),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),M.maxBounds&&this.setMaxBounds(M.maxBounds),M.zoom!==void 0&&(this._zoom=this._limitZoom(M.zoom)),M.center&&M.zoom!==void 0&&this.setView(Nt(M.center),M.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Sa&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mn(this._proxy,io,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(v,M,W){if(M=M===void 0?this._zoom:this._limitZoom(M),v=this._limitCenter(Nt(v),M,this.options.maxBounds),W=W||{},this._stop(),this._loaded&&!W.reset&&W!==!0){W.animate!==void 0&&(W.zoom=r({animate:W.animate},W.zoom),W.pan=r({animate:W.animate,duration:W.duration},W.pan));var et=this._zoom!==M?this._tryAnimatedZoom&&this._tryAnimatedZoom(v,M,W.zoom):this._tryAnimatedPan(v,W.pan);if(et)return clearTimeout(this._sizeTimer),this}return this._resetView(v,M,W.pan&&W.pan.noMoveStart),this},setZoom:function(v,M){return this._loaded?this.setView(this.getCenter(),v,{zoom:M}):(this._zoom=v,this)},zoomIn:function(v,M){return v=v||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+v,M)},zoomOut:function(v,M){return v=v||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-v,M)},setZoomAround:function(v,M,W){var et=this.getZoomScale(M),ft=this.getSize().divideBy(2),Ct=v instanceof xt?v:this.latLngToContainerPoint(v),Bt=Ct.subtract(ft).multiplyBy(1-1/et),te=this.containerPointToLatLng(ft.add(Bt));return this.setView(te,M,{zoom:W})},_getBoundsCenterZoom:function(v,M){M=M||{},v=v.getBounds?v.getBounds():Pt(v);var W=ht(M.paddingTopLeft||M.padding||[0,0]),et=ht(M.paddingBottomRight||M.padding||[0,0]),ft=this.getBoundsZoom(v,!1,W.add(et));if(ft=typeof M.maxZoom=="number"?Math.min(M.maxZoom,ft):ft,ft===1/0)return{center:v.getCenter(),zoom:ft};var Ct=et.subtract(W).divideBy(2),Bt=this.project(v.getSouthWest(),ft),te=this.project(v.getNorthEast(),ft),Zt=this.unproject(Bt.add(te).divideBy(2).add(Ct),ft);return{center:Zt,zoom:ft}},fitBounds:function(v,M){if(v=Pt(v),!v.isValid())throw new Error("Bounds are not valid.");var W=this._getBoundsCenterZoom(v,M);return this.setView(W.center,W.zoom,M)},fitWorld:function(v){return this.fitBounds([[-90,-180],[90,180]],v)},panTo:function(v,M){return this.setView(v,this._zoom,{pan:M})},panBy:function(v,M){if(v=ht(v).round(),M=M||{},!v.x&&!v.y)return this.fire("moveend");if(M.animate!==!0&&!this.getSize().contains(v))return this._resetView(this.unproject(this.project(this.getCenter()).add(v)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ao,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),M.noMoveStart||this.fire("movestart"),M.animate!==!1){An(this._mapPane,"leaflet-pan-anim");var W=this._getMapPanePos().subtract(v).round();this._panAnim.run(this._mapPane,W,M.duration||.25,M.easeLinearity)}else this._rawPanBy(v),this.fire("move").fire("moveend");return this},flyTo:function(v,M,W){if(W=W||{},W.animate===!1||!Ee.any3d)return this.setView(v,M,W);this._stop();var et=this.project(this.getCenter()),ft=this.project(v),Ct=this.getSize(),Bt=this._zoom;v=Nt(v),M=M===void 0?Bt:M;var te=Math.max(Ct.x,Ct.y),Zt=te*this.getZoomScale(Bt,M),_e=ft.distanceTo(et)||1,Re=1.42,rn=Re*Re;function Yn(Pr){var Rl=Pr?-1:1,Tt=Pr?Zt:te,Jc=Zt*Zt-te*te+Rl*rn*rn*_e*_e,tu=2*Tt*rn*_e,Ja=Jc/tu,Rn=Math.sqrt(Ja*Ja+1)-Ja,Ga=Rn<1e-9?-18:Math.log(Rn);return Ga}function Qr(Pr){return(Math.exp(Pr)-Math.exp(-Pr))/2}function rr(Pr){return(Math.exp(Pr)+Math.exp(-Pr))/2}function Qa(Pr){return Qr(Pr)/rr(Pr)}var Li=Yn(0);function bi(Pr){return te*(rr(Li)/rr(Li+Re*Pr))}function ai(Pr){return te*(rr(Li)*Qa(Li+Re*Pr)-Qr(Li))/rn}function Zc(Pr){return 1-Math.pow(1-Pr,1.5)}var co=Date.now(),Mf=(Yn(1)-Li)/Re,Qc=W.duration?1e3*W.duration:1e3*Mf*.8;function Mh(){var Pr=(Date.now()-co)/Qc,Rl=Zc(Pr)*Mf;Pr<=1?(this._flyToFrame=V(Mh,this),this._move(this.unproject(et.add(ft.subtract(et).multiplyBy(ai(Rl)/_e)),Bt),this.getScaleZoom(te/bi(Rl),Bt),{flyTo:!0})):this._move(v,M)._moveEnd(!0)}return this._moveStart(!0,W.noMoveStart),Mh.call(this),this},flyToBounds:function(v,M){var W=this._getBoundsCenterZoom(v,M);return this.flyTo(W.center,W.zoom,M)},setMaxBounds:function(v){return v=Pt(v),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),v.isValid()?(this.options.maxBounds=v,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(v){var M=this.options.minZoom;return this.options.minZoom=v,this._loaded&&M!==v&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(v):this},setMaxZoom:function(v){var M=this.options.maxZoom;return this.options.maxZoom=v,this._loaded&&M!==v&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(v):this},panInsideBounds:function(v,M){this._enforcingBounds=!0;var W=this.getCenter(),et=this._limitCenter(W,this._zoom,Pt(v));return W.equals(et)||this.panTo(et,M),this._enforcingBounds=!1,this},panInside:function(v,M){M=M||{};var W=ht(M.paddingTopLeft||M.padding||[0,0]),et=ht(M.paddingBottomRight||M.padding||[0,0]),ft=this.project(this.getCenter()),Ct=this.project(v),Bt=this.getPixelBounds(),te=vt([Bt.min.add(W),Bt.max.subtract(et)]),Zt=te.getSize();if(!te.contains(Ct)){this._enforcingBounds=!0;var _e=Ct.subtract(te.getCenter()),Re=te.extend(Ct).getSize().subtract(Zt);ft.x+=_e.x<0?-Re.x:Re.x,ft.y+=_e.y<0?-Re.y:Re.y,this.panTo(this.unproject(ft),M),this._enforcingBounds=!1}return this},invalidateSize:function(v){if(!this._loaded)return this;v=r({animate:!1,pan:!0},v===!0?{animate:!0}:v);var M=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var W=this.getSize(),et=M.divideBy(2).round(),ft=W.divideBy(2).round(),Ct=et.subtract(ft);return!Ct.x&&!Ct.y?this:(v.animate&&v.pan?this.panBy(Ct):(v.pan&&this._rawPanBy(Ct),this.fire("move"),v.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:M,newSize:W}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(v){if(v=this._locateOptions=r({timeout:1e4,watch:!1},v),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var M=s(this._handleGeolocationResponse,this),W=s(this._handleGeolocationError,this);return v.watch?this._locationWatchId=navigator.geolocation.watchPosition(M,W,v):navigator.geolocation.getCurrentPosition(M,W,v),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(v){if(this._container._leaflet_id){var M=v.code,W=v.message||(M===1?"permission denied":M===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:M,message:"Geolocation error: "+W+"."})}},_handleGeolocationResponse:function(v){if(this._container._leaflet_id){var M=v.coords.latitude,W=v.coords.longitude,et=new It(M,W),ft=et.toBounds(v.coords.accuracy*2),Ct=this._locateOptions;if(Ct.setView){var Bt=this.getBoundsZoom(ft);this.setView(et,Ct.maxZoom?Math.min(Bt,Ct.maxZoom):Bt)}var te={latlng:et,bounds:ft,timestamp:v.timestamp};for(var Zt in v.coords)typeof v.coords[Zt]=="number"&&(te[Zt]=v.coords[Zt]);this.fire("locationfound",te)}},addHandler:function(v,M){if(!M)return this;var W=this[v]=new M(this);return this._handlers.push(W),this.options[v]&&W.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ii(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var v;for(v in this._layers)this._layers[v].remove();for(v in this._panes)ii(this._panes[v]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(v,M){var W="leaflet-pane"+(v?" leaflet-"+v.replace("Pane","")+"-pane":""),et=Un("div",W,M||this._mapPane);return v&&(this._panes[v]=et),et},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var v=this.getPixelBounds(),M=this.unproject(v.getBottomLeft()),W=this.unproject(v.getTopRight());return new St(M,W)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(v,M,W){v=Pt(v),W=ht(W||[0,0]);var et=this.getZoom()||0,ft=this.getMinZoom(),Ct=this.getMaxZoom(),Bt=v.getNorthWest(),te=v.getSouthEast(),Zt=this.getSize().subtract(W),_e=vt(this.project(te,et),this.project(Bt,et)).getSize(),Re=Ee.any3d?this.options.zoomSnap:1,rn=Zt.x/_e.x,Yn=Zt.y/_e.y,Qr=M?Math.max(rn,Yn):Math.min(rn,Yn);return et=this.getScaleZoom(Qr,et),Re&&(et=Math.round(et/(Re/100))*(Re/100),et=M?Math.ceil(et/Re)*Re:Math.floor(et/Re)*Re),Math.max(ft,Math.min(Ct,et))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new xt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(v,M){var W=this._getTopLeftPoint(v,M);return new ot(W,W.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(v){return this.options.crs.getProjectedBounds(v===void 0?this.getZoom():v)},getPane:function(v){return typeof v=="string"?this._panes[v]:v},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(v,M){var W=this.options.crs;return M=M===void 0?this._zoom:M,W.scale(v)/W.scale(M)},getScaleZoom:function(v,M){var W=this.options.crs;M=M===void 0?this._zoom:M;var et=W.zoom(v*W.scale(M));return isNaN(et)?1/0:et},project:function(v,M){return M=M===void 0?this._zoom:M,this.options.crs.latLngToPoint(Nt(v),M)},unproject:function(v,M){return M=M===void 0?this._zoom:M,this.options.crs.pointToLatLng(ht(v),M)},layerPointToLatLng:function(v){var M=ht(v).add(this.getPixelOrigin());return this.unproject(M)},latLngToLayerPoint:function(v){var M=this.project(Nt(v))._round();return M._subtract(this.getPixelOrigin())},wrapLatLng:function(v){return this.options.crs.wrapLatLng(Nt(v))},wrapLatLngBounds:function(v){return this.options.crs.wrapLatLngBounds(Pt(v))},distance:function(v,M){return this.options.crs.distance(Nt(v),Nt(M))},containerPointToLayerPoint:function(v){return ht(v).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(v){return ht(v).add(this._getMapPanePos())},containerPointToLatLng:function(v){var M=this.containerPointToLayerPoint(ht(v));return this.layerPointToLatLng(M)},latLngToContainerPoint:function(v){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Nt(v)))},mouseEventToContainerPoint:function(v){return vh(v,this._container)},mouseEventToLayerPoint:function(v){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(v))},mouseEventToLatLng:function(v){return this.layerPointToLatLng(this.mouseEventToLayerPoint(v))},_initContainer:function(v){var M=this._container=Yi(v);if(M){if(M._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mn(M,"scroll",this._onScroll,this),this._containerId=l(M)},_initLayout:function(){var v=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,An(v,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var M=oc(v,"position");M!=="absolute"&&M!=="relative"&&M!=="fixed"&&M!=="sticky"&&(v.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var v=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ir(this._mapPane,new xt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(An(v.markerPane,"leaflet-zoom-hide"),An(v.shadowPane,"leaflet-zoom-hide"))},_resetView:function(v,M,W){ir(this._mapPane,new xt(0,0));var et=!this._loaded;this._loaded=!0,M=this._limitZoom(M),this.fire("viewprereset");var ft=this._zoom!==M;this._moveStart(ft,W)._move(v,M)._moveEnd(ft),this.fire("viewreset"),et&&this.fire("load")},_moveStart:function(v,M){return v&&this.fire("zoomstart"),M||this.fire("movestart"),this},_move:function(v,M,W,et){M===void 0&&(M=this._zoom);var ft=this._zoom!==M;return this._zoom=M,this._lastCenter=v,this._pixelOrigin=this._getNewPixelOrigin(v),et?W&&W.pinch&&this.fire("zoom",W):((ft||W&&W.pinch)&&this.fire("zoom",W),this.fire("move",W)),this},_moveEnd:function(v){return v&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(v){ir(this._mapPane,this._getMapPanePos().subtract(v))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(v){this._targets={},this._targets[l(this._container)]=this;var M=v?lr:Mn;M(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&M(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(v?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var v=this._getMapPanePos();Math.max(Math.abs(v.x),Math.abs(v.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(v,M){for(var W=[],et,ft=M==="mouseout"||M==="mouseover",Ct=v.target||v.srcElement,Bt=!1;Ct;){if(et=this._targets[l(Ct)],et&&(M==="click"||M==="preclick")&&this._draggableMoved(et)){Bt=!0;break}if(et&&et.listens(M,!0)&&(ft&&!Nl(Ct,v)||(W.push(et),ft))||Ct===this._container)break;Ct=Ct.parentNode}return!W.length&&!Bt&&!ft&&this.listens(M,!0)&&(W=[this]),W},_isClickDisabled:function(v){for(;v&&v!==this._container;){if(v._leaflet_disable_click)return!0;v=v.parentNode}},_handleDOMEvent:function(v){var M=v.target||v.srcElement;if(!(!this._loaded||M._leaflet_disable_events||v.type==="click"&&this._isClickDisabled(M))){var W=v.type;W==="mousedown"&&Ir(M),this._fireDOMEvent(v,W)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(v,M,W){if(v.type==="click"){var et=r({},v);et.type="preclick",this._fireDOMEvent(et,et.type,W)}var ft=this._findEventTargets(v,M);if(W){for(var Ct=[],Bt=0;Bt<W.length;Bt++)W[Bt].listens(M,!0)&&Ct.push(W[Bt]);ft=Ct.concat(ft)}if(ft.length){M==="contextmenu"&&En(v);var te=ft[0],Zt={originalEvent:v};if(v.type!=="keypress"&&v.type!=="keydown"&&v.type!=="keyup"){var _e=te.getLatLng&&(!te._radius||te._radius<=10);Zt.containerPoint=_e?this.latLngToContainerPoint(te.getLatLng()):this.mouseEventToContainerPoint(v),Zt.layerPoint=this.containerPointToLayerPoint(Zt.containerPoint),Zt.latlng=_e?te.getLatLng():this.layerPointToLatLng(Zt.layerPoint)}for(Bt=0;Bt<ft.length;Bt++)if(ft[Bt].fire(M,Zt,!0),Zt.originalEvent._stopped||ft[Bt].options.bubblingMouseEvents===!1&&G(this._mouseEvents,M)!==-1)return}},_draggableMoved:function(v){return v=v.dragging&&v.dragging.enabled()?v:this,v.dragging&&v.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var v=0,M=this._handlers.length;v<M;v++)this._handlers[v].disable()},whenReady:function(v,M){return this._loaded?v.call(M||this,{target:this}):this.on("load",v,M),this},_getMapPanePos:function(){return At(this._mapPane)||new xt(0,0)},_moved:function(){var v=this._getMapPanePos();return v&&!v.equals([0,0])},_getTopLeftPoint:function(v,M){var W=v&&M!==void 0?this._getNewPixelOrigin(v,M):this.getPixelOrigin();return W.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(v,M){var W=this.getSize()._divideBy(2);return this.project(v,M)._subtract(W)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(v,M,W){var et=this._getNewPixelOrigin(W,M);return this.project(v,M)._subtract(et)},_latLngBoundsToNewLayerBounds:function(v,M,W){var et=this._getNewPixelOrigin(W,M);return vt([this.project(v.getSouthWest(),M)._subtract(et),this.project(v.getNorthWest(),M)._subtract(et),this.project(v.getSouthEast(),M)._subtract(et),this.project(v.getNorthEast(),M)._subtract(et)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(v){return this.latLngToLayerPoint(v).subtract(this._getCenterLayerPoint())},_limitCenter:function(v,M,W){if(!W)return v;var et=this.project(v,M),ft=this.getSize().divideBy(2),Ct=new ot(et.subtract(ft),et.add(ft)),Bt=this._getBoundsOffset(Ct,W,M);return Math.abs(Bt.x)<=1&&Math.abs(Bt.y)<=1?v:this.unproject(et.add(Bt),M)},_limitOffset:function(v,M){if(!M)return v;var W=this.getPixelBounds(),et=new ot(W.min.add(v),W.max.add(v));return v.add(this._getBoundsOffset(et,M))},_getBoundsOffset:function(v,M,W){var et=vt(this.project(M.getNorthEast(),W),this.project(M.getSouthWest(),W)),ft=et.min.subtract(v.min),Ct=et.max.subtract(v.max),Bt=this._rebound(ft.x,-Ct.x),te=this._rebound(ft.y,-Ct.y);return new xt(Bt,te)},_rebound:function(v,M){return v+M>0?Math.round(v-M)/2:Math.max(0,Math.ceil(v))-Math.max(0,Math.floor(M))},_limitZoom:function(v){var M=this.getMinZoom(),W=this.getMaxZoom(),et=Ee.any3d?this.options.zoomSnap:1;return et&&(v=Math.round(v/et)*et),Math.max(M,Math.min(W,v))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$i(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(v,M){var W=this._getCenterOffset(v)._trunc();return(M&&M.animate)!==!0&&!this.getSize().contains(W)?!1:(this.panBy(W,M),!0)},_createAnimProxy:function(){var v=this._proxy=Un("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(v),this.on("zoomanim",function(M){var W=Ka,et=this._proxy.style[W];Fs(this._proxy,this.project(M.center,M.zoom),this.getZoomScale(M.zoom,1)),et===this._proxy.style[W]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ii(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var v=this.getCenter(),M=this.getZoom();Fs(this._proxy,this.project(v,M),this.getZoomScale(M,1))},_catchTransitionEnd:function(v){this._animatingZoom&&v.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(v,M,W){if(this._animatingZoom)return!0;if(W=W||{},!this._zoomAnimated||W.animate===!1||this._nothingToAnimate()||Math.abs(M-this._zoom)>this.options.zoomAnimationThreshold)return!1;var et=this.getZoomScale(M),ft=this._getCenterOffset(v)._divideBy(1-1/et);return W.animate!==!0&&!this.getSize().contains(ft)?!1:(V(function(){this._moveStart(!0,W.noMoveStart||!1)._animateZoom(v,M,!0)},this),!0)},_animateZoom:function(v,M,W,et){this._mapPane&&(W&&(this._animatingZoom=!0,this._animateToCenter=v,this._animateToZoom=M,An(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:v,zoom:M,noUpdate:et}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$i(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ha(v,M){return new Gn(v,M)}var ws=lt.extend({options:{position:"topright"},initialize:function(v){w(this,v)},getPosition:function(){return this.options.position},setPosition:function(v){var M=this._map;return M&&M.removeControl(this),this.options.position=v,M&&M.addControl(this),this},getContainer:function(){return this._container},addTo:function(v){this.remove(),this._map=v;var M=this._container=this.onAdd(v),W=this.getPosition(),et=v._controlCorners[W];return An(M,"leaflet-control"),W.indexOf("bottom")!==-1?et.insertBefore(M,et.firstChild):et.appendChild(M),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ii(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(v){this._map&&v&&v.screenX>0&&v.screenY>0&&this._map.getContainer().focus()}}),_s=function(v){return new ws(v)};Gn.include({addControl:function(v){return v.addTo(this),this},removeControl:function(v){return v.remove(),this},_initControlPos:function(){var v=this._controlCorners={},M="leaflet-",W=this._controlContainer=Un("div",M+"control-container",this._container);function et(ft,Ct){var Bt=M+ft+" "+M+Ct;v[ft+Ct]=Un("div",Bt,W)}et("top","left"),et("top","right"),et("bottom","left"),et("bottom","right")},_clearControlPos:function(){for(var v in this._controlCorners)ii(this._controlCorners[v]);ii(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bh=ws.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(v,M,W,et){return W<et?-1:et<W?1:0}},initialize:function(v,M,W){w(this,W),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var et in v)this._addLayer(v[et],et);for(et in M)this._addLayer(M[et],et,!0)},onAdd:function(v){this._initLayout(),this._update(),this._map=v,v.on("zoomend",this._checkDisabledLayers,this);for(var M=0;M<this._layers.length;M++)this._layers[M].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(v){return ws.prototype.addTo.call(this,v),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(v,M){return this._addLayer(v,M),this._map?this._update():this},addOverlay:function(v,M){return this._addLayer(v,M,!0),this._map?this._update():this},removeLayer:function(v){v.off("add remove",this._onLayerChange,this);var M=this._getLayer(l(v));return M&&this._layers.splice(this._layers.indexOf(M),1),this._map?this._update():this},expand:function(){An(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var v=this._map.getSize().y-(this._container.offsetTop+50);return v<this._section.clientHeight?(An(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=v+"px"):$i(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $i(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var v="leaflet-control-layers",M=this._container=Un("div",v),W=this.options.collapsed;M.setAttribute("aria-haspopup",!0),tl(M),Ml(M);var et=this._section=Un("section",v+"-list");W&&(this._map.on("click",this.collapse,this),Mn(M,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ft=this._layersLink=Un("a",v+"-toggle",M);ft.href="#",ft.title="Layers",ft.setAttribute("role","button"),Mn(ft,{keydown:function(Ct){Ct.keyCode===13&&this._expandSafely()},click:function(Ct){En(Ct),this._expandSafely()}},this),W||this.expand(),this._baseLayersList=Un("div",v+"-base",et),this._separator=Un("div",v+"-separator",et),this._overlaysList=Un("div",v+"-overlays",et),M.appendChild(et)},_getLayer:function(v){for(var M=0;M<this._layers.length;M++)if(this._layers[M]&&l(this._layers[M].layer)===v)return this._layers[M]},_addLayer:function(v,M,W){this._map&&v.on("add remove",this._onLayerChange,this),this._layers.push({layer:v,name:M,overlay:W}),this.options.sortLayers&&this._layers.sort(s(function(et,ft){return this.options.sortFunction(et.layer,ft.layer,et.name,ft.name)},this)),this.options.autoZIndex&&v.setZIndex&&(this._lastZIndex++,v.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ba(this._baseLayersList),Ba(this._overlaysList),this._layerControlInputs=[];var v,M,W,et,ft=0;for(W=0;W<this._layers.length;W++)et=this._layers[W],this._addItem(et),M=M||et.overlay,v=v||!et.overlay,ft+=et.overlay?0:1;return this.options.hideSingleBase&&(v=v&&ft>1,this._baseLayersList.style.display=v?"":"none"),this._separator.style.display=M&&v?"":"none",this},_onLayerChange:function(v){this._handlingClick||this._update();var M=this._getLayer(l(v.target)),W=M.overlay?v.type==="add"?"overlayadd":"overlayremove":v.type==="add"?"baselayerchange":null;W&&this._map.fire(W,M)},_createRadioElement:function(v,M){var W='<input type="radio" class="leaflet-control-layers-selector" name="'+v+'"'+(M?' checked="checked"':"")+"/>",et=document.createElement("div");return et.innerHTML=W,et.firstChild},_addItem:function(v){var M=document.createElement("label"),W=this._map.hasLayer(v.layer),et;v.overlay?(et=document.createElement("input"),et.type="checkbox",et.className="leaflet-control-layers-selector",et.defaultChecked=W):et=this._createRadioElement("leaflet-base-layers_"+l(this),W),this._layerControlInputs.push(et),et.layerId=l(v.layer),Mn(et,"click",this._onInputClick,this);var ft=document.createElement("span");ft.innerHTML=" "+v.name;var Ct=document.createElement("span");M.appendChild(Ct),Ct.appendChild(et),Ct.appendChild(ft);var Bt=v.overlay?this._overlaysList:this._baseLayersList;return Bt.appendChild(M),this._checkDisabledLayers(),M},_onInputClick:function(){if(!this._preventClick){var v=this._layerControlInputs,M,W,et=[],ft=[];this._handlingClick=!0;for(var Ct=v.length-1;Ct>=0;Ct--)M=v[Ct],W=this._getLayer(M.layerId).layer,M.checked?et.push(W):M.checked||ft.push(W);for(Ct=0;Ct<ft.length;Ct++)this._map.hasLayer(ft[Ct])&&this._map.removeLayer(ft[Ct]);for(Ct=0;Ct<et.length;Ct++)this._map.hasLayer(et[Ct])||this._map.addLayer(et[Ct]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var v=this._layerControlInputs,M,W,et=this._map.getZoom(),ft=v.length-1;ft>=0;ft--)M=v[ft],W=this._getLayer(M.layerId).layer,M.disabled=W.options.minZoom!==void 0&&et<W.options.minZoom||W.options.maxZoom!==void 0&&et>W.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var v=this._section;this._preventClick=!0,Mn(v,"click",En),this.expand();var M=this;setTimeout(function(){lr(v,"click",En),M._preventClick=!1})}}),wd=function(v,M,W){return new bh(v,M,W)},zi=ws.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(v){var M="leaflet-control-zoom",W=Un("div",M+" leaflet-bar"),et=this.options;return this._zoomInButton=this._createButton(et.zoomInText,et.zoomInTitle,M+"-in",W,this._zoomIn),this._zoomOutButton=this._createButton(et.zoomOutText,et.zoomOutTitle,M+"-out",W,this._zoomOut),this._updateDisabled(),v.on("zoomend zoomlevelschange",this._updateDisabled,this),W},onRemove:function(v){v.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(v){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(v.shiftKey?3:1))},_zoomOut:function(v){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(v.shiftKey?3:1))},_createButton:function(v,M,W,et,ft){var Ct=Un("a",W,et);return Ct.innerHTML=v,Ct.href="#",Ct.title=M,Ct.setAttribute("role","button"),Ct.setAttribute("aria-label",M),tl(Ct),Mn(Ct,"click",xi),Mn(Ct,"click",ft,this),Mn(Ct,"click",this._refocusOnMap,this),Ct},_updateDisabled:function(){var v=this._map,M="leaflet-disabled";$i(this._zoomInButton,M),$i(this._zoomOutButton,M),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||v._zoom===v.getMinZoom())&&(An(this._zoomOutButton,M),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||v._zoom===v.getMaxZoom())&&(An(this._zoomInButton,M),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gn.mergeOptions({zoomControl:!0}),Gn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zi,this.addControl(this.zoomControl))});var el=function(v){return new zi(v)},wf=ws.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(v){var M="leaflet-control-scale",W=Un("div",M),et=this.options;return this._addScales(et,M+"-line",W),v.on(et.updateWhenIdle?"moveend":"move",this._update,this),v.whenReady(this._update,this),W},onRemove:function(v){v.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(v,M,W){v.metric&&(this._mScale=Un("div",M,W)),v.imperial&&(this._iScale=Un("div",M,W))},_update:function(){var v=this._map,M=v.getSize().y/2,W=v.distance(v.containerPointToLatLng([0,M]),v.containerPointToLatLng([this.options.maxWidth,M]));this._updateScales(W)},_updateScales:function(v){this.options.metric&&v&&this._updateMetric(v),this.options.imperial&&v&&this._updateImperial(v)},_updateMetric:function(v){var M=this._getRoundNum(v),W=M<1e3?M+" m":M/1e3+" km";this._updateScale(this._mScale,W,M/v)},_updateImperial:function(v){var M=v*3.2808399,W,et,ft;M>5280?(W=M/5280,et=this._getRoundNum(W),this._updateScale(this._iScale,et+" mi",et/W)):(ft=this._getRoundNum(M),this._updateScale(this._iScale,ft+" ft",ft/M))},_updateScale:function(v,M,W){v.style.width=Math.round(this.options.maxWidth*W)+"px",v.innerHTML=M},_getRoundNum:function(v){var M=Math.pow(10,(Math.floor(v)+"").length-1),W=v/M;return W=W>=10?10:W>=5?5:W>=3?3:W>=2?2:1,M*W}}),_f=function(v){return new wf(v)},Og='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gc=ws.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?Og+" ":"")+"Leaflet</a>"},initialize:function(v){w(this,v),this._attributions={}},onAdd:function(v){v.attributionControl=this,this._container=Un("div","leaflet-control-attribution"),tl(this._container);for(var M in v._layers)v._layers[M].getAttribution&&this.addAttribution(v._layers[M].getAttribution());return this._update(),v.on("layeradd",this._addAttribution,this),this._container},onRemove:function(v){v.off("layeradd",this._addAttribution,this)},_addAttribution:function(v){v.layer.getAttribution&&(this.addAttribution(v.layer.getAttribution()),v.layer.once("remove",function(){this.removeAttribution(v.layer.getAttribution())},this))},setPrefix:function(v){return this.options.prefix=v,this._update(),this},addAttribution:function(v){return v?(this._attributions[v]||(this._attributions[v]=0),this._attributions[v]++,this._update(),this):this},removeAttribution:function(v){return v?(this._attributions[v]&&(this._attributions[v]--,this._update()),this):this},_update:function(){if(this._map){var v=[];for(var M in this._attributions)this._attributions[M]&&v.push(M);var W=[];this.options.prefix&&W.push(this.options.prefix),v.length&&W.push(v.join(", ")),this._container.innerHTML=W.join(' <span aria-hidden="true">|</span> ')}}});Gn.mergeOptions({attributionControl:!0}),Gn.addInitHook(function(){this.options.attributionControl&&new Gc().addTo(this)});var um=function(v){return new Gc(v)};ws.Layers=bh,ws.Zoom=zi,ws.Scale=wf,ws.Attribution=Gc,_s.layers=wd,_s.zoom=el,_s.scale=_f,_s.attribution=um;var Tr=lt.extend({initialize:function(v){this._map=v},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tr.addTo=function(v,M){return v.addHandler(M,this),this};var hm={Events:ct},Ca=Ee.touch?"touchstart mousedown":"mousedown",hc=st.extend({options:{clickTolerance:3},initialize:function(v,M,W,et){w(this,et),this._element=v,this._dragStartTarget=M||v,this._preventOutline=W},enable:function(){this._enabled||(Mn(this._dragStartTarget,Ca,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hc._dragging===this&&this.finishDrag(!0),lr(this._dragStartTarget,Ca,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(v){if(this._enabled&&(this._moved=!1,!Hc(this._element,"leaflet-zoom-anim"))){if(v.touches&&v.touches.length!==1){hc._dragging===this&&this.finishDrag();return}if(!(hc._dragging||v.shiftKey||v.which!==1&&v.button!==1&&!v.touches)&&(hc._dragging=this,this._preventOutline&&Ir(this._element),Ge(),Ot(),!this._moving)){this.fire("down");var M=v.touches?v.touches[0]:v,W=cc(this._element);this._startPoint=new xt(M.clientX,M.clientY),this._startPos=At(this._element),this._parentScale=xd(W);var et=v.type==="mousedown";Mn(document,et?"mousemove":"touchmove",this._onMove,this),Mn(document,et?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(v){if(this._enabled){if(v.touches&&v.touches.length>1){this._moved=!0;return}var M=v.touches&&v.touches.length===1?v.touches[0]:v,W=new xt(M.clientX,M.clientY)._subtract(this._startPoint);!W.x&&!W.y||Math.abs(W.x)+Math.abs(W.y)<this.options.clickTolerance||(W.x/=this._parentScale.x,W.y/=this._parentScale.y,En(v),this._moved||(this.fire("dragstart"),this._moved=!0,An(document.body,"leaflet-dragging"),this._lastTarget=v.target||v.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),An(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(W),this._moving=!0,this._lastEvent=v,this._updatePosition())}},_updatePosition:function(){var v={originalEvent:this._lastEvent};this.fire("predrag",v),ir(this._element,this._newPos),this.fire("drag",v)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(v){$i(document.body,"leaflet-dragging"),this._lastTarget&&($i(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),lr(document,"mousemove touchmove",this._onMove,this),lr(document,"mouseup touchend touchcancel",this._onUp,this),Tn(),Ft();var M=this._moved&&this._moving;this._moving=!1,hc._dragging=!1,M&&this.fire("dragend",{noInertia:v,distance:this._newPos.distanceTo(this._startPos)})}});function Lg(v,M,W){var et,ft=[1,4,2,8],Ct,Bt,te,Zt,_e,Re,rn,Yn;for(Ct=0,Re=v.length;Ct<Re;Ct++)v[Ct]._code=El(v[Ct],M);for(te=0;te<4;te++){for(rn=ft[te],et=[],Ct=0,Re=v.length,Bt=Re-1;Ct<Re;Bt=Ct++)Zt=v[Ct],_e=v[Bt],Zt._code&rn?_e._code&rn||(Yn=Sd(_e,Zt,rn,M,W),Yn._code=El(Yn,M),et.push(Yn)):(_e._code&rn&&(Yn=Sd(_e,Zt,rn,M,W),Yn._code=El(Yn,M),et.push(Yn)),et.push(Zt));v=et}return v}function ao(v,M){var W,et,ft,Ct,Bt,te,Zt,_e,Re;if(!v||v.length===0)throw new Error("latlngs not passed");so(v)||(console.warn("latlngs are not flat! Only the first ring will be used"),v=v[0]);var rn=Nt([0,0]),Yn=Pt(v),Qr=Yn.getNorthWest().distanceTo(Yn.getSouthWest())*Yn.getNorthEast().distanceTo(Yn.getNorthWest());Qr<1700&&(rn=Eu(v));var rr=v.length,Qa=[];for(W=0;W<rr;W++){var Li=Nt(v[W]);Qa.push(M.project(Nt([Li.lat-rn.lat,Li.lng-rn.lng])))}for(te=Zt=_e=0,W=0,et=rr-1;W<rr;et=W++)ft=Qa[W],Ct=Qa[et],Bt=ft.y*Ct.x-Ct.y*ft.x,Zt+=(ft.x+Ct.x)*Bt,_e+=(ft.y+Ct.y)*Bt,te+=Bt*3;te===0?Re=Qa[0]:Re=[Zt/te,_e/te];var bi=M.unproject(ht(Re));return Nt([bi.lat+rn.lat,bi.lng+rn.lng])}function Eu(v){for(var M=0,W=0,et=0,ft=0;ft<v.length;ft++){var Ct=Nt(v[ft]);M+=Ct.lat,W+=Ct.lng,et++}return Nt([M/et,W/et])}var wh={__proto__:null,clipPolygon:Lg,polygonCenter:ao,centroid:Eu};function xr(v,M){if(!M||!v.length)return v.slice();var W=M*M;return v=Rg(v,W),v=dm(v,W),v}function Pl(v,M,W){return Math.sqrt(ju(v,M,W,!0))}function _d(v,M,W){return ju(v,M,W)}function dm(v,M){var W=v.length,et=typeof Uint8Array<"u"?Uint8Array:Array,ft=new et(W);ft[0]=ft[W-1]=1,_h(v,ft,M,0,W-1);var Ct,Bt=[];for(Ct=0;Ct<W;Ct++)ft[Ct]&&Bt.push(v[Ct]);return Bt}function _h(v,M,W,et,ft){var Ct=0,Bt,te,Zt;for(te=et+1;te<=ft-1;te++)Zt=ju(v[te],v[et],v[ft],!0),Zt>Ct&&(Bt=te,Ct=Zt);Ct>W&&(M[Bt]=1,_h(v,M,W,et,Bt),_h(v,M,W,Bt,ft))}function Rg(v,M){for(var W=[v[0]],et=1,ft=0,Ct=v.length;et<Ct;et++)Sh(v[et],v[ft])>M&&(W.push(v[et]),ft=et);return ft<Ct-1&&W.push(v[Ct-1]),W}var fm;function gm(v,M,W,et,ft){var Ct=et?fm:El(v,W),Bt=El(M,W),te,Zt,_e;for(fm=Bt;;){if(!(Ct|Bt))return[v,M];if(Ct&Bt)return!1;te=Ct||Bt,Zt=Sd(v,M,te,W,ft),_e=El(Zt,W),te===Ct?(v=Zt,Ct=_e):(M=Zt,Bt=_e)}}function Sd(v,M,W,et,ft){var Ct=M.x-v.x,Bt=M.y-v.y,te=et.min,Zt=et.max,_e,Re;return W&8?(_e=v.x+Ct*(Zt.y-v.y)/Bt,Re=Zt.y):W&4?(_e=v.x+Ct*(te.y-v.y)/Bt,Re=te.y):W&2?(_e=Zt.x,Re=v.y+Bt*(Zt.x-v.x)/Ct):W&1&&(_e=te.x,Re=v.y+Bt*(te.x-v.x)/Ct),new xt(_e,Re,ft)}function El(v,M){var W=0;return v.x<M.min.x?W|=1:v.x>M.max.x&&(W|=2),v.y<M.min.y?W|=4:v.y>M.max.y&&(W|=8),W}function Sh(v,M){var W=M.x-v.x,et=M.y-v.y;return W*W+et*et}function ju(v,M,W,et){var ft=M.x,Ct=M.y,Bt=W.x-ft,te=W.y-Ct,Zt=Bt*Bt+te*te,_e;return Zt>0&&(_e=((v.x-ft)*Bt+(v.y-Ct)*te)/Zt,_e>1?(ft=W.x,Ct=W.y):_e>0&&(ft+=Bt*_e,Ct+=te*_e)),Bt=v.x-ft,te=v.y-Ct,et?Bt*Bt+te*te:new xt(ft,Ct)}function so(v){return!R(v[0])||typeof v[0][0]!="object"&&typeof v[0][0]<"u"}function kd(v){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),so(v)}function Wc(v,M){var W,et,ft,Ct,Bt,te,Zt,_e;if(!v||v.length===0)throw new Error("latlngs not passed");so(v)||(console.warn("latlngs are not flat! Only the first ring will be used"),v=v[0]);var Re=Nt([0,0]),rn=Pt(v),Yn=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());Yn<1700&&(Re=Eu(v));var Qr=v.length,rr=[];for(W=0;W<Qr;W++){var Qa=Nt(v[W]);rr.push(M.project(Nt([Qa.lat-Re.lat,Qa.lng-Re.lng])))}for(W=0,et=0;W<Qr-1;W++)et+=rr[W].distanceTo(rr[W+1])/2;if(et===0)_e=rr[0];else for(W=0,Ct=0;W<Qr-1;W++)if(Bt=rr[W],te=rr[W+1],ft=Bt.distanceTo(te),Ct+=ft,Ct>et){Zt=(Ct-et)/ft,_e=[te.x-Zt*(te.x-Bt.x),te.y-Zt*(te.y-Bt.y)];break}var Li=M.unproject(ht(_e));return Nt([Li.lat+Re.lat,Li.lng+Re.lng])}var Sf={__proto__:null,simplify:xr,pointToSegmentDistance:Pl,closestPointOnSegment:_d,clipSegment:gm,_getEdgeIntersection:Sd,_getBitCode:El,_sqClosestPointOnSegment:ju,isFlat:so,_flat:kd,polylineCenter:Wc},jl={project:function(v){return new xt(v.lng,v.lat)},unproject:function(v){return new It(v.y,v.x)},bounds:new ot([-180,-90],[180,90])},Cd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(v){var M=Math.PI/180,W=this.R,et=v.lat*M,ft=this.R_MINOR/W,Ct=Math.sqrt(1-ft*ft),Bt=Ct*Math.sin(et),te=Math.tan(Math.PI/4-et/2)/Math.pow((1-Bt)/(1+Bt),Ct/2);return et=-W*Math.log(Math.max(te,1e-10)),new xt(v.lng*M*W,et)},unproject:function(v){for(var M=180/Math.PI,W=this.R,et=this.R_MINOR/W,ft=Math.sqrt(1-et*et),Ct=Math.exp(-v.y/W),Bt=Math.PI/2-2*Math.atan(Ct),te=0,Zt=.1,_e;te<15&&Math.abs(Zt)>1e-7;te++)_e=ft*Math.sin(Bt),_e=Math.pow((1-_e)/(1+_e),ft/2),Zt=Math.PI/2-2*Math.atan(Ct*_e)-Bt,Bt+=Zt;return new It(Bt*M,v.x*M/W)}},Ad={__proto__:null,LonLat:jl,Mercator:Cd,SphericalMercator:ee},kf=r({},Yt,{code:"EPSG:3395",projection:Cd,transformation:(function(){var v=.5/(Math.PI*Cd.R);return Jt(v,.5,-v,.5)})()}),Ig=r({},Yt,{code:"EPSG:4326",projection:jl,transformation:Jt(1/180,1,-1/180,.5)}),Du=r({},Et,{projection:jl,transformation:Jt(1,0,-1,0),scale:function(v){return Math.pow(2,v)},zoom:function(v){return Math.log(v)/Math.LN2},distance:function(v,M){var W=M.lng-v.lng,et=M.lat-v.lat;return Math.sqrt(W*W+et*et)},infinite:!0});Et.Earth=Yt,Et.EPSG3395=kf,Et.EPSG3857=ue,Et.EPSG900913=Te,Et.EPSG4326=Ig,Et.Simple=Du;var Mr=st.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(v){return v.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(v){return v&&v.removeLayer(this),this},getPane:function(v){return this._map.getPane(v?this.options[v]||v:this.options.pane)},addInteractiveTarget:function(v){return this._map._targets[l(v)]=this,this},removeInteractiveTarget:function(v){return delete this._map._targets[l(v)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(v){var M=v.target;if(M.hasLayer(this)){if(this._map=M,this._zoomAnimated=M._zoomAnimated,this.getEvents){var W=this.getEvents();M.on(W,this),this.once("remove",function(){M.off(W,this)},this)}this.onAdd(M),this.fire("add"),M.fire("layeradd",{layer:this})}}});Gn.include({addLayer:function(v){if(!v._layerAdd)throw new Error("The provided object is not a Layer.");var M=l(v);return this._layers[M]?this:(this._layers[M]=v,v._mapToAdd=this,v.beforeAdd&&v.beforeAdd(this),this.whenReady(v._layerAdd,v),this)},removeLayer:function(v){var M=l(v);return this._layers[M]?(this._loaded&&v.onRemove(this),delete this._layers[M],this._loaded&&(this.fire("layerremove",{layer:v}),v.fire("remove")),v._map=v._mapToAdd=null,this):this},hasLayer:function(v){return l(v)in this._layers},eachLayer:function(v,M){for(var W in this._layers)v.call(M,this._layers[W]);return this},_addLayers:function(v){v=v?R(v)?v:[v]:[];for(var M=0,W=v.length;M<W;M++)this.addLayer(v[M])},_addZoomLimit:function(v){(!isNaN(v.options.maxZoom)||!isNaN(v.options.minZoom))&&(this._zoomBoundLayers[l(v)]=v,this._updateZoomLevels())},_removeZoomLimit:function(v){var M=l(v);this._zoomBoundLayers[M]&&(delete this._zoomBoundLayers[M],this._updateZoomLevels())},_updateZoomLevels:function(){var v=1/0,M=-1/0,W=this._getZoomSpan();for(var et in this._zoomBoundLayers){var ft=this._zoomBoundLayers[et].options;v=ft.minZoom===void 0?v:Math.min(v,ft.minZoom),M=ft.maxZoom===void 0?M:Math.max(M,ft.maxZoom)}this._layersMaxZoom=M===-1/0?void 0:M,this._layersMinZoom=v===1/0?void 0:v,W!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Dl=Mr.extend({initialize:function(v,M){w(this,M),this._layers={};var W,et;if(v)for(W=0,et=v.length;W<et;W++)this.addLayer(v[W])},addLayer:function(v){var M=this.getLayerId(v);return this._layers[M]=v,this._map&&this._map.addLayer(v),this},removeLayer:function(v){var M=v in this._layers?v:this.getLayerId(v);return this._map&&this._layers[M]&&this._map.removeLayer(this._layers[M]),delete this._layers[M],this},hasLayer:function(v){var M=typeof v=="number"?v:this.getLayerId(v);return M in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(v){var M=Array.prototype.slice.call(arguments,1),W,et;for(W in this._layers)et=this._layers[W],et[v]&&et[v].apply(et,M);return this},onAdd:function(v){this.eachLayer(v.addLayer,v)},onRemove:function(v){this.eachLayer(v.removeLayer,v)},eachLayer:function(v,M){for(var W in this._layers)v.call(M,this._layers[W]);return this},getLayer:function(v){return this._layers[v]},getLayers:function(){var v=[];return this.eachLayer(v.push,v),v},setZIndex:function(v){return this.invoke("setZIndex",v)},getLayerId:function(v){return l(v)}}),Uc=function(v,M){return new Dl(v,M)},Hs=Dl.extend({addLayer:function(v){return this.hasLayer(v)?this:(v.addEventParent(this),Dl.prototype.addLayer.call(this,v),this.fire("layeradd",{layer:v}))},removeLayer:function(v){return this.hasLayer(v)?(v in this._layers&&(v=this._layers[v]),v.removeEventParent(this),Dl.prototype.removeLayer.call(this,v),this.fire("layerremove",{layer:v})):this},setStyle:function(v){return this.invoke("setStyle",v)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var v=new St;for(var M in this._layers){var W=this._layers[M];v.extend(W.getBounds?W.getBounds():W.getLatLng())}return v}}),zg=function(v,M){return new Hs(v,M)},nl=lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(v){w(this,v)},createIcon:function(v){return this._createIcon("icon",v)},createShadow:function(v){return this._createIcon("shadow",v)},_createIcon:function(v,M){var W=this._getIconUrl(v);if(!W){if(v==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var et=this._createImg(W,M&&M.tagName==="IMG"?M:null);return this._setIconStyles(et,v),(this.options.crossOrigin||this.options.crossOrigin==="")&&(et.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),et},_setIconStyles:function(v,M){var W=this.options,et=W[M+"Size"];typeof et=="number"&&(et=[et,et]);var ft=ht(et),Ct=ht(M==="shadow"&&W.shadowAnchor||W.iconAnchor||ft&&ft.divideBy(2,!0));v.className="leaflet-marker-"+M+" "+(W.className||""),Ct&&(v.style.marginLeft=-Ct.x+"px",v.style.marginTop=-Ct.y+"px"),ft&&(v.style.width=ft.x+"px",v.style.height=ft.y+"px")},_createImg:function(v,M){return M=M||document.createElement("img"),M.src=v,M},_getIconUrl:function(v){return Ee.retina&&this.options[v+"RetinaUrl"]||this.options[v+"Url"]}});function Yc(v){return new nl(v)}var il=nl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(v){return typeof il.imagePath!="string"&&(il.imagePath=this._detectIconPath()),(this.options.imagePath||il.imagePath)+nl.prototype._getIconUrl.call(this,v)},_stripUrl:function(v){var M=function(W,et,ft){var Ct=et.exec(W);return Ct&&Ct[ft]};return v=M(v,/^url\((['"])?(.+)\1\)$/,2),v&&M(v,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var v=Un("div","leaflet-default-icon-path",document.body),M=oc(v,"background-image")||oc(v,"backgroundImage");if(document.body.removeChild(v),M=this._stripUrl(M),M)return M;var W=document.querySelector('link[href$="leaflet.css"]');return W?W.href.substring(0,W.href.length-11-1):""}}),Td=Tr.extend({initialize:function(v){this._marker=v},addHooks:function(){var v=this._marker._icon;this._draggable||(this._draggable=new hc(v,v,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),An(v,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$i(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(v){var M=this._marker,W=M._map,et=this._marker.options.autoPanSpeed,ft=this._marker.options.autoPanPadding,Ct=At(M._icon),Bt=W.getPixelBounds(),te=W.getPixelOrigin(),Zt=vt(Bt.min._subtract(te).add(ft),Bt.max._subtract(te).subtract(ft));if(!Zt.contains(Ct)){var _e=ht((Math.max(Zt.max.x,Ct.x)-Zt.max.x)/(Bt.max.x-Zt.max.x)-(Math.min(Zt.min.x,Ct.x)-Zt.min.x)/(Bt.min.x-Zt.min.x),(Math.max(Zt.max.y,Ct.y)-Zt.max.y)/(Bt.max.y-Zt.max.y)-(Math.min(Zt.min.y,Ct.y)-Zt.min.y)/(Bt.min.y-Zt.min.y)).multiplyBy(et);W.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),ir(M._icon,this._draggable._newPos),this._onDrag(v),this._panRequest=V(this._adjustPan.bind(this,v))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(v){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,v)))},_onDrag:function(v){var M=this._marker,W=M._shadow,et=At(M._icon),ft=M._map.layerPointToLatLng(et);W&&ir(W,et),M._latlng=ft,v.latlng=ft,v.oldLatLng=this._oldLatLng,M.fire("move",v).fire("drag",v)},_onDragEnd:function(v){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",v)}}),rl=Mr.extend({options:{icon:new il,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(v,M){w(this,M),this._latlng=Nt(v)},onAdd:function(v){this._zoomAnimated=this._zoomAnimated&&v.options.markerZoomAnimation,this._zoomAnimated&&v.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(v){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&v.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(v){var M=this._latlng;return this._latlng=Nt(v),this.update(),this.fire("move",{oldLatLng:M,latlng:this._latlng})},setZIndexOffset:function(v){return this.options.zIndexOffset=v,this.update()},getIcon:function(){return this.options.icon},setIcon:function(v){return this.options.icon=v,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var v=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(v)}return this},_initIcon:function(){var v=this.options,M="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),W=v.icon.createIcon(this._icon),et=!1;W!==this._icon&&(this._icon&&this._removeIcon(),et=!0,v.title&&(W.title=v.title),W.tagName==="IMG"&&(W.alt=v.alt||"")),An(W,M),v.keyboard&&(W.tabIndex="0",W.setAttribute("role","button")),this._icon=W,v.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mn(W,"focus",this._panOnFocus,this);var ft=v.icon.createShadow(this._shadow),Ct=!1;ft!==this._shadow&&(this._removeShadow(),Ct=!0),ft&&(An(ft,M),ft.alt=""),this._shadow=ft,v.opacity<1&&this._updateOpacity(),et&&this.getPane().appendChild(this._icon),this._initInteraction(),ft&&Ct&&this.getPane(v.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lr(this._icon,"focus",this._panOnFocus,this),ii(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ii(this._shadow),this._shadow=null},_setPos:function(v){this._icon&&ir(this._icon,v),this._shadow&&ir(this._shadow,v),this._zIndex=v.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(v){this._icon&&(this._icon.style.zIndex=this._zIndex+v)},_animateZoom:function(v){var M=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center).round();this._setPos(M)},_initInteraction:function(){if(this.options.interactive&&(An(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Td)){var v=this.options.draggable;this.dragging&&(v=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Td(this),v&&this.dragging.enable()}},setOpacity:function(v){return this.options.opacity=v,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var v=this.options.opacity;this._icon&&Vi(this._icon,v),this._shadow&&Vi(this._shadow,v)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var v=this._map;if(v){var M=this.options.icon.options,W=M.iconSize?ht(M.iconSize):ht(0,0),et=M.iconAnchor?ht(M.iconAnchor):ht(0,0);v.panInside(this._latlng,{paddingTopLeft:et,paddingBottomRight:W.subtract(et)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ou(v,M){return new rl(v,M)}var us=Mr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(v){this._renderer=v.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(v){return w(this,v),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&v&&Object.prototype.hasOwnProperty.call(v,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ol=us.extend({options:{fill:!0,radius:10},initialize:function(v,M){w(this,M),this._latlng=Nt(v),this._radius=this.options.radius},setLatLng:function(v){var M=this._latlng;return this._latlng=Nt(v),this.redraw(),this.fire("move",{oldLatLng:M,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(v){return this.options.radius=this._radius=v,this.redraw()},getRadius:function(){return this._radius},setStyle:function(v){var M=v&&v.radius||this._radius;return us.prototype.setStyle.call(this,v),this.setRadius(M),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var v=this._radius,M=this._radiusY||v,W=this._clickTolerance(),et=[v+W,M+W];this._pxBounds=new ot(this._point.subtract(et),this._point.add(et))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(v){return v.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cf(v,M){return new Ol(v,M)}var Lu=Ol.extend({initialize:function(v,M,W){if(typeof M=="number"&&(M=r({},W,{radius:M})),w(this,M),this._latlng=Nt(v),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(v){return this._mRadius=v,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var v=[this._radius,this._radiusY||this._radius];return new St(this._map.layerPointToLatLng(this._point.subtract(v)),this._map.layerPointToLatLng(this._point.add(v)))},setStyle:us.prototype.setStyle,_project:function(){var v=this._latlng.lng,M=this._latlng.lat,W=this._map,et=W.options.crs;if(et.distance===Yt.distance){var ft=Math.PI/180,Ct=this._mRadius/Yt.R/ft,Bt=W.project([M+Ct,v]),te=W.project([M-Ct,v]),Zt=Bt.add(te).divideBy(2),_e=W.unproject(Zt).lat,Re=Math.acos((Math.cos(Ct*ft)-Math.sin(M*ft)*Math.sin(_e*ft))/(Math.cos(M*ft)*Math.cos(_e*ft)))/ft;(isNaN(Re)||Re===0)&&(Re=Ct/Math.cos(Math.PI/180*M)),this._point=Zt.subtract(W.getPixelOrigin()),this._radius=isNaN(Re)?0:Zt.x-W.project([_e,v-Re]).x,this._radiusY=Zt.y-Bt.y}else{var rn=et.unproject(et.project(this._latlng).subtract([this._mRadius,0]));this._point=W.latLngToLayerPoint(this._latlng),this._radius=this._point.x-W.latLngToLayerPoint(rn).x}this._updateBounds()}});function al(v,M,W){return new Lu(v,M,W)}var To=us.extend({options:{smoothFactor:1,noClip:!1},initialize:function(v,M){w(this,M),this._setLatLngs(v)},getLatLngs:function(){return this._latlngs},setLatLngs:function(v){return this._setLatLngs(v),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(v){for(var M=1/0,W=null,et=ju,ft,Ct,Bt=0,te=this._parts.length;Bt<te;Bt++)for(var Zt=this._parts[Bt],_e=1,Re=Zt.length;_e<Re;_e++){ft=Zt[_e-1],Ct=Zt[_e];var rn=et(v,ft,Ct,!0);rn<M&&(M=rn,W=et(v,ft,Ct))}return W&&(W.distance=Math.sqrt(M)),W},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(v,M){return M=M||this._defaultShape(),v=Nt(v),M.push(v),this._bounds.extend(v),this.redraw()},_setLatLngs:function(v){this._bounds=new St,this._latlngs=this._convertLatLngs(v)},_defaultShape:function(){return so(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(v){for(var M=[],W=so(v),et=0,ft=v.length;et<ft;et++)W?(M[et]=Nt(v[et]),this._bounds.extend(M[et])):M[et]=this._convertLatLngs(v[et]);return M},_project:function(){var v=new ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,v),this._bounds.isValid()&&v.isValid()&&(this._rawPxBounds=v,this._updateBounds())},_updateBounds:function(){var v=this._clickTolerance(),M=new xt(v,v);this._rawPxBounds&&(this._pxBounds=new ot([this._rawPxBounds.min.subtract(M),this._rawPxBounds.max.add(M)]))},_projectLatlngs:function(v,M,W){var et=v[0]instanceof It,ft=v.length,Ct,Bt;if(et){for(Bt=[],Ct=0;Ct<ft;Ct++)Bt[Ct]=this._map.latLngToLayerPoint(v[Ct]),W.extend(Bt[Ct]);M.push(Bt)}else for(Ct=0;Ct<ft;Ct++)this._projectLatlngs(v[Ct],M,W)},_clipPoints:function(){var v=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(v))){if(this.options.noClip){this._parts=this._rings;return}var M=this._parts,W,et,ft,Ct,Bt,te,Zt;for(W=0,ft=0,Ct=this._rings.length;W<Ct;W++)for(Zt=this._rings[W],et=0,Bt=Zt.length;et<Bt-1;et++)te=gm(Zt[et],Zt[et+1],v,et,!0),te&&(M[ft]=M[ft]||[],M[ft].push(te[0]),(te[1]!==Zt[et+1]||et===Bt-2)&&(M[ft].push(te[1]),ft++))}},_simplifyPoints:function(){for(var v=this._parts,M=this.options.smoothFactor,W=0,et=v.length;W<et;W++)v[W]=xr(v[W],M)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(v,M){var W,et,ft,Ct,Bt,te,Zt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(W=0,Ct=this._parts.length;W<Ct;W++)for(te=this._parts[W],et=0,Bt=te.length,ft=Bt-1;et<Bt;ft=et++)if(!(!M&&et===0)&&Pl(v,te[ft],te[et])<=Zt)return!0;return!1}});function av(v,M){return new To(v,M)}To._flat=kd;var kh=To.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ao(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(v){var M=To.prototype._convertLatLngs.call(this,v),W=M.length;return W>=2&&M[0]instanceof It&&M[0].equals(M[W-1])&&M.pop(),M},_setLatLngs:function(v){To.prototype._setLatLngs.call(this,v),so(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return so(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var v=this._renderer._bounds,M=this.options.weight,W=new xt(M,M);if(v=new ot(v.min.subtract(W),v.max.add(W)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(v))){if(this.options.noClip){this._parts=this._rings;return}for(var et=0,ft=this._rings.length,Ct;et<ft;et++)Ct=Lg(this._rings[et],v,!0),Ct.length&&this._parts.push(Ct)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(v){var M=!1,W,et,ft,Ct,Bt,te,Zt,_e;if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(Ct=0,Zt=this._parts.length;Ct<Zt;Ct++)for(W=this._parts[Ct],Bt=0,_e=W.length,te=_e-1;Bt<_e;te=Bt++)et=W[Bt],ft=W[te],et.y>v.y!=ft.y>v.y&&v.x<(ft.x-et.x)*(v.y-et.y)/(ft.y-et.y)+et.x&&(M=!M);return M||To.prototype._containsPoint.call(this,v,!0)}});function Af(v,M){return new kh(v,M)}var Gs=Hs.extend({initialize:function(v,M){w(this,M),this._layers={},v&&this.addData(v)},addData:function(v){var M=R(v)?v:v.features,W,et,ft;if(M){for(W=0,et=M.length;W<et;W++)ft=M[W],(ft.geometries||ft.geometry||ft.features||ft.coordinates)&&this.addData(ft);return this}var Ct=this.options;if(Ct.filter&&!Ct.filter(v))return this;var Bt=Sr(v,Ct);return Bt?(Bt.feature=Mo(v),Bt.defaultOptions=Bt.options,this.resetStyle(Bt),Ct.onEachFeature&&Ct.onEachFeature(v,Bt),this.addLayer(Bt)):this},resetStyle:function(v){return v===void 0?this.eachLayer(this.resetStyle,this):(v.options=r({},v.defaultOptions),this._setLayerStyle(v,this.options.style),this)},setStyle:function(v){return this.eachLayer(function(M){this._setLayerStyle(M,v)},this)},_setLayerStyle:function(v,M){v.setStyle&&(typeof M=="function"&&(M=M(v.feature)),v.setStyle(M))}});function Sr(v,M){var W=v.type==="Feature"?v.geometry:v,et=W?W.coordinates:null,ft=[],Ct=M&&M.pointToLayer,Bt=M&&M.coordsToLatLng||sl,te,Zt,_e,Re;if(!et&&!W)return null;switch(W.type){case"Point":return te=Bt(et),Ru(Ct,v,te,M);case"MultiPoint":for(_e=0,Re=et.length;_e<Re;_e++)te=Bt(et[_e]),ft.push(Ru(Ct,v,te,M));return new Hs(ft);case"LineString":case"MultiLineString":return Zt=Md(et,W.type==="LineString"?0:1,Bt),new To(Zt,M);case"Polygon":case"MultiPolygon":return Zt=Md(et,W.type==="Polygon"?1:2,Bt),new kh(Zt,M);case"GeometryCollection":for(_e=0,Re=W.geometries.length;_e<Re;_e++){var rn=Sr({geometry:W.geometries[_e],type:"Feature",properties:v.properties},M);rn&&ft.push(rn)}return new Hs(ft);case"FeatureCollection":for(_e=0,Re=W.features.length;_e<Re;_e++){var Yn=Sr(W.features[_e],M);Yn&&ft.push(Yn)}return new Hs(ft);default:throw new Error("Invalid GeoJSON object.")}}function Ru(v,M,W,et){return v?v(M,W):new rl(W,et&&et.markersInheritOptions&&et)}function sl(v){return new It(v[1],v[0],v[2])}function Md(v,M,W){for(var et=[],ft=0,Ct=v.length,Bt;ft<Ct;ft++)Bt=M?Md(v[ft],M-1,W):(W||sl)(v[ft]),et.push(Bt);return et}function Nd(v,M){return v=Nt(v),v.alt!==void 0?[g(v.lng,M),g(v.lat,M),g(v.alt,M)]:[g(v.lng,M),g(v.lat,M)]}function Pd(v,M,W,et){for(var ft=[],Ct=0,Bt=v.length;Ct<Bt;Ct++)ft.push(M?Pd(v[Ct],so(v[Ct])?0:M-1,W,et):Nd(v[Ct],et));return!M&&W&&ft.length>0&&ft.push(ft[0].slice()),ft}function $c(v,M){return v.feature?r({},v.feature,{geometry:M}):Mo(M)}function Mo(v){return v.type==="Feature"||v.type==="FeatureCollection"?v:{type:"Feature",properties:{},geometry:v}}var Qt={toGeoJSON:function(v){return $c(this,{type:"Point",coordinates:Nd(this.getLatLng(),v)})}};rl.include(Qt),Lu.include(Qt),Ol.include(Qt),To.include({toGeoJSON:function(v){var M=!so(this._latlngs),W=Pd(this._latlngs,M?1:0,!1,v);return $c(this,{type:(M?"Multi":"")+"LineString",coordinates:W})}}),kh.include({toGeoJSON:function(v){var M=!so(this._latlngs),W=M&&!so(this._latlngs[0]),et=Pd(this._latlngs,W?2:M?1:0,!0,v);return M||(et=[et]),$c(this,{type:(W?"Multi":"")+"Polygon",coordinates:et})}}),Dl.include({toMultiPoint:function(v){var M=[];return this.eachLayer(function(W){M.push(W.toGeoJSON(v).geometry.coordinates)}),$c(this,{type:"MultiPoint",coordinates:M})},toGeoJSON:function(v){var M=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(M==="MultiPoint")return this.toMultiPoint(v);var W=M==="GeometryCollection",et=[];return this.eachLayer(function(ft){if(ft.toGeoJSON){var Ct=ft.toGeoJSON(v);if(W)et.push(Ct.geometry);else{var Bt=Mo(Ct);Bt.type==="FeatureCollection"?et.push.apply(et,Bt.features):et.push(Bt)}}}),W?$c(this,{geometries:et,type:"GeometryCollection"}):{type:"FeatureCollection",features:et}}});function xe(v,M){return new Gs(v,M)}var ce=xe,Ue=Mr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(v,M,W){this._url=v,this._bounds=Pt(M),w(this,W)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(An(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ii(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(v){return this.options.opacity=v,this._image&&this._updateOpacity(),this},setStyle:function(v){return v.opacity&&this.setOpacity(v.opacity),this},bringToFront:function(){return this._map&&ca(this._image),this},bringToBack:function(){return this._map&&ro(this._image),this},setUrl:function(v){return this._url=v,this._image&&(this._image.src=v),this},setBounds:function(v){return this._bounds=Pt(v),this._map&&this._reset(),this},getEvents:function(){var v={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var v=this._url.tagName==="IMG",M=this._image=v?this._url:Un("img");if(An(M,"leaflet-image-layer"),this._zoomAnimated&&An(M,"leaflet-zoom-animated"),this.options.className&&An(M,this.options.className),M.onselectstart=d,M.onmousemove=d,M.onload=s(this.fire,this,"load"),M.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),v){this._url=M.src;return}M.src=this._url,M.alt=this.options.alt},_animateZoom:function(v){var M=this._map.getZoomScale(v.zoom),W=this._map._latLngBoundsToNewLayerBounds(this._bounds,v.zoom,v.center).min;Fs(this._image,W,M)},_reset:function(){var v=this._image,M=new ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),W=M.getSize();ir(v,M.min),v.style.width=W.x+"px",v.style.height=W.y+"px"},_updateOpacity:function(){Vi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var v=this.options.errorOverlayUrl;v&&this._url!==v&&(this._url=v,this._image.src=v)},getCenter:function(){return this._bounds.getCenter()}}),wn=function(v,M,W){return new Ue(v,M,W)},Ln=Ue.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var v=this._url.tagName==="VIDEO",M=this._image=v?this._url:Un("video");if(An(M,"leaflet-image-layer"),this._zoomAnimated&&An(M,"leaflet-zoom-animated"),this.options.className&&An(M,this.options.className),M.onselectstart=d,M.onmousemove=d,M.onloadeddata=s(this.fire,this,"load"),v){for(var W=M.getElementsByTagName("source"),et=[],ft=0;ft<W.length;ft++)et.push(W[ft].src);this._url=W.length>0?et:[M.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(M.style,"objectFit")&&(M.style.objectFit="fill"),M.autoplay=!!this.options.autoplay,M.loop=!!this.options.loop,M.muted=!!this.options.muted,M.playsInline=!!this.options.playsInline;for(var Ct=0;Ct<this._url.length;Ct++){var Bt=Un("source");Bt.src=this._url[Ct],M.appendChild(Bt)}}});function Fr(v,M,W){return new Ln(v,M,W)}var Xi=Ue.extend({_initImage:function(){var v=this._image=this._url;An(v,"leaflet-image-layer"),this._zoomAnimated&&An(v,"leaflet-zoom-animated"),this.options.className&&An(v,this.options.className),v.onselectstart=d,v.onmousemove=d}});function Tf(v,M,W){return new Xi(v,M,W)}var hs=Mr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(v,M){v&&(v instanceof It||R(v))?(this._latlng=Nt(v),w(this,M)):(w(this,v),this._source=M),this.options.content&&(this._content=this.options.content)},openOn:function(v){return v=arguments.length?v:this._source._map,v.hasLayer(this)||v.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(v){return this._map?this.close():(arguments.length?this._source=v:v=this._source,this._prepareOpen(),this.openOn(v._map)),this},onAdd:function(v){this._zoomAnimated=v._zoomAnimated,this._container||this._initLayout(),v._fadeAnimated&&Vi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),v._fadeAnimated&&Vi(this._container,1),this.bringToFront(),this.options.interactive&&(An(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(v){v._fadeAnimated?(Vi(this._container,0),this._removeTimeout=setTimeout(s(ii,void 0,this._container),200)):ii(this._container),this.options.interactive&&($i(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(v){return this._latlng=Nt(v),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(v){return this._content=v,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var v={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ca(this._container),this},bringToBack:function(){return this._map&&ro(this._container),this},_prepareOpen:function(v){var M=this._source;if(!M._map)return!1;if(M instanceof Hs){M=null;var W=this._source._layers;for(var et in W)if(W[et]._map){M=W[et];break}if(!M)return!1;this._source=M}if(!v)if(M.getCenter)v=M.getCenter();else if(M.getLatLng)v=M.getLatLng();else if(M.getBounds)v=M.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(v),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var v=this._contentNode,M=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof M=="string")v.innerHTML=M;else{for(;v.hasChildNodes();)v.removeChild(v.firstChild);v.appendChild(M)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var v=this._map.latLngToLayerPoint(this._latlng),M=ht(this.options.offset),W=this._getAnchor();this._zoomAnimated?ir(this._container,v.add(W)):M=M.add(v).add(W);var et=this._containerBottom=-M.y,ft=this._containerLeft=-Math.round(this._containerWidth/2)+M.x;this._container.style.bottom=et+"px",this._container.style.left=ft+"px"}},_getAnchor:function(){return[0,0]}});Gn.include({_initOverlay:function(v,M,W,et){var ft=M;return ft instanceof v||(ft=new v(et).setContent(M)),W&&ft.setLatLng(W),ft}}),Mr.include({_initOverlay:function(v,M,W,et){var ft=W;return ft instanceof v?(w(ft,et),ft._source=this):(ft=M&&!et?M:new v(et,this),ft.setContent(W)),ft}});var ds=hs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(v){return v=arguments.length?v:this._source._map,!v.hasLayer(this)&&v._popup&&v._popup.options.autoClose&&v.removeLayer(v._popup),v._popup=this,hs.prototype.openOn.call(this,v)},onAdd:function(v){hs.prototype.onAdd.call(this,v),v.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof us||this._source.on("preclick",ka))},onRemove:function(v){hs.prototype.onRemove.call(this,v),v.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof us||this._source.off("preclick",ka))},getEvents:function(){var v=hs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(v.preclick=this.close),this.options.keepInView&&(v.moveend=this._adjustPan),v},_initLayout:function(){var v="leaflet-popup",M=this._container=Un("div",v+" "+(this.options.className||"")+" leaflet-zoom-animated"),W=this._wrapper=Un("div",v+"-content-wrapper",M);if(this._contentNode=Un("div",v+"-content",W),tl(M),Ml(this._contentNode),Mn(M,"contextmenu",ka),this._tipContainer=Un("div",v+"-tip-container",M),this._tip=Un("div",v+"-tip",this._tipContainer),this.options.closeButton){var et=this._closeButton=Un("a",v+"-close-button",M);et.setAttribute("role","button"),et.setAttribute("aria-label","Close popup"),et.href="#close",et.innerHTML='<span aria-hidden="true">&#215;</span>',Mn(et,"click",function(ft){En(ft),this.close()},this)}},_updateLayout:function(){var v=this._contentNode,M=v.style;M.width="",M.whiteSpace="nowrap";var W=v.offsetWidth;W=Math.min(W,this.options.maxWidth),W=Math.max(W,this.options.minWidth),M.width=W+1+"px",M.whiteSpace="",M.height="";var et=v.offsetHeight,ft=this.options.maxHeight,Ct="leaflet-popup-scrolled";ft&&et>ft?(M.height=ft+"px",An(v,Ct)):$i(v,Ct),this._containerWidth=this._container.offsetWidth},_animateZoom:function(v){var M=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center),W=this._getAnchor();ir(this._container,M.add(W))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var v=this._map,M=parseInt(oc(this._container,"marginBottom"),10)||0,W=this._container.offsetHeight+M,et=this._containerWidth,ft=new xt(this._containerLeft,-W-this._containerBottom);ft._add(At(this._container));var Ct=v.layerPointToContainerPoint(ft),Bt=ht(this.options.autoPanPadding),te=ht(this.options.autoPanPaddingTopLeft||Bt),Zt=ht(this.options.autoPanPaddingBottomRight||Bt),_e=v.getSize(),Re=0,rn=0;Ct.x+et+Zt.x>_e.x&&(Re=Ct.x+et-_e.x+Zt.x),Ct.x-Re-te.x<0&&(Re=Ct.x-te.x),Ct.y+W+Zt.y>_e.y&&(rn=Ct.y+W-_e.y+Zt.y),Ct.y-rn-te.y<0&&(rn=Ct.y-te.y),(Re||rn)&&(this.options.keepInView&&(this._autopanning=!0),v.fire("autopanstart").panBy([Re,rn]))}},_getAnchor:function(){return ht(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Vc=function(v,M){return new ds(v,M)};Gn.mergeOptions({closePopupOnClick:!0}),Gn.include({openPopup:function(v,M,W){return this._initOverlay(ds,v,M,W).openOn(this),this},closePopup:function(v){return v=arguments.length?v:this._popup,v&&v.close(),this}}),Mr.include({bindPopup:function(v,M){return this._popup=this._initOverlay(ds,this._popup,v,M),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(v){return this._popup&&(this instanceof Hs||(this._popup._source=this),this._popup._prepareOpen(v||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(v){return this._popup&&this._popup.setContent(v),this},getPopup:function(){return this._popup},_openPopup:function(v){if(!(!this._popup||!this._map)){xi(v);var M=v.layer||v.target;if(this._popup._source===M&&!(M instanceof us)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(v.latlng);return}this._popup._source=M,this.openPopup(v.latlng)}},_movePopup:function(v){this._popup.setLatLng(v.latlng)},_onKeyPress:function(v){v.originalEvent.keyCode===13&&this._openPopup(v)}});var Iu=hs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(v){hs.prototype.onAdd.call(this,v),this.setOpacity(this.options.opacity),v.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(v){hs.prototype.onRemove.call(this,v),v.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var v=hs.prototype.getEvents.call(this);return this.options.permanent||(v.preclick=this.close),v},_initLayout:function(){var v="leaflet-tooltip",M=v+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Un("div",M),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(v){var M,W,et=this._map,ft=this._container,Ct=et.latLngToContainerPoint(et.getCenter()),Bt=et.layerPointToContainerPoint(v),te=this.options.direction,Zt=ft.offsetWidth,_e=ft.offsetHeight,Re=ht(this.options.offset),rn=this._getAnchor();te==="top"?(M=Zt/2,W=_e):te==="bottom"?(M=Zt/2,W=0):te==="center"?(M=Zt/2,W=_e/2):te==="right"?(M=0,W=_e/2):te==="left"?(M=Zt,W=_e/2):Bt.x<Ct.x?(te="right",M=0,W=_e/2):(te="left",M=Zt+(Re.x+rn.x)*2,W=_e/2),v=v.subtract(ht(M,W,!0)).add(Re).add(rn),$i(ft,"leaflet-tooltip-right"),$i(ft,"leaflet-tooltip-left"),$i(ft,"leaflet-tooltip-top"),$i(ft,"leaflet-tooltip-bottom"),An(ft,"leaflet-tooltip-"+te),ir(ft,v)},_updatePosition:function(){var v=this._map.latLngToLayerPoint(this._latlng);this._setPosition(v)},setOpacity:function(v){this.options.opacity=v,this._container&&Vi(this._container,v)},_animateZoom:function(v){var M=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center);this._setPosition(M)},_getAnchor:function(){return ht(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ch=function(v,M){return new Iu(v,M)};Gn.include({openTooltip:function(v,M,W){return this._initOverlay(Iu,v,M,W).openOn(this),this},closeTooltip:function(v){return v.close(),this}}),Mr.include({bindTooltip:function(v,M){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Iu,this._tooltip,v,M),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(v){if(!(!v&&this._tooltipHandlersAdded)){var M=v?"off":"on",W={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?W.add=this._openTooltip:(W.mouseover=this._openTooltip,W.mouseout=this.closeTooltip,W.click=this._openTooltip,this._map?this._addFocusListeners():W.add=this._addFocusListeners),this._tooltip.options.sticky&&(W.mousemove=this._moveTooltip),this[M](W),this._tooltipHandlersAdded=!v}},openTooltip:function(v){return this._tooltip&&(this instanceof Hs||(this._tooltip._source=this),this._tooltip._prepareOpen(v)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(v){return this._tooltip&&this._tooltip.setContent(v),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(v){var M=typeof v.getElement=="function"&&v.getElement();M&&(Mn(M,"focus",function(){this._tooltip._source=v,this.openTooltip()},this),Mn(M,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(v){var M=typeof v.getElement=="function"&&v.getElement();M&&M.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(v){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var M=this;this._map.once("moveend",function(){M._openOnceFlag=!1,M._openTooltip(v)});return}this._tooltip._source=v.layer||v.target,this.openTooltip(this._tooltip.options.sticky?v.latlng:void 0)}},_moveTooltip:function(v){var M=v.latlng,W,et;this._tooltip.options.sticky&&v.originalEvent&&(W=this._map.mouseEventToContainerPoint(v.originalEvent),et=this._map.containerPointToLayerPoint(W),M=this._map.layerPointToLatLng(et)),this._tooltip.setLatLng(M)}});var Xc=nl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(v){var M=v&&v.tagName==="DIV"?v:document.createElement("div"),W=this.options;if(W.html instanceof Element?(Ba(M),M.appendChild(W.html)):M.innerHTML=W.html!==!1?W.html:"",W.bgPos){var et=ht(W.bgPos);M.style.backgroundPosition=-et.x+"px "+-et.y+"px"}return this._setIconStyles(M,"icon"),M},createShadow:function(){return null}});function Ah(v){return new Xc(v)}nl.Default=il;var Ci=Mr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(v){w(this,v)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(v){v._addZoomLimit(this)},onRemove:function(v){this._removeAllTiles(),ii(this._container),v._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ca(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ro(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(v){return this.options.opacity=v,this._updateOpacity(),this},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var v=this._clampZoom(this._map.getZoom());v!==this._tileZoom&&(this._tileZoom=v,this._updateLevels()),this._update()}return this},getEvents:function(){var v={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),v.move=this._onMove),this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},createTile:function(){return document.createElement("div")},getTileSize:function(){var v=this.options.tileSize;return v instanceof xt?v:new xt(v,v)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(v){for(var M=this.getPane().children,W=-v(-1/0,1/0),et=0,ft=M.length,Ct;et<ft;et++)Ct=M[et].style.zIndex,M[et]!==this._container&&Ct&&(W=v(W,+Ct));isFinite(W)&&(this.options.zIndex=W+v(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){Vi(this._container,this.options.opacity);var v=+new Date,M=!1,W=!1;for(var et in this._tiles){var ft=this._tiles[et];if(!(!ft.current||!ft.loaded)){var Ct=Math.min(1,(v-ft.loaded)/200);Vi(ft.el,Ct),Ct<1?M=!0:(ft.active?W=!0:this._onOpaqueTile(ft),ft.active=!0)}}W&&!this._noPrune&&this._pruneTiles(),M&&(Z(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Un("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var v=this._tileZoom,M=this.options.maxZoom;if(v!==void 0){for(var W in this._levels)W=Number(W),this._levels[W].el.children.length||W===v?(this._levels[W].el.style.zIndex=M-Math.abs(v-W),this._onUpdateLevel(W)):(ii(this._levels[W].el),this._removeTilesAtZoom(W),this._onRemoveLevel(W),delete this._levels[W]);var et=this._levels[v],ft=this._map;return et||(et=this._levels[v]={},et.el=Un("div","leaflet-tile-container leaflet-zoom-animated",this._container),et.el.style.zIndex=M,et.origin=ft.project(ft.unproject(ft.getPixelOrigin()),v).round(),et.zoom=v,this._setZoomTransform(et,ft.getCenter(),ft.getZoom()),d(et.el.offsetWidth),this._onCreateLevel(et)),this._level=et,et}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var v,M,W=this._map.getZoom();if(W>this.options.maxZoom||W<this.options.minZoom){this._removeAllTiles();return}for(v in this._tiles)M=this._tiles[v],M.retain=M.current;for(v in this._tiles)if(M=this._tiles[v],M.current&&!M.active){var et=M.coords;this._retainParent(et.x,et.y,et.z,et.z-5)||this._retainChildren(et.x,et.y,et.z,et.z+2)}for(v in this._tiles)this._tiles[v].retain||this._removeTile(v)}},_removeTilesAtZoom:function(v){for(var M in this._tiles)this._tiles[M].coords.z===v&&this._removeTile(M)},_removeAllTiles:function(){for(var v in this._tiles)this._removeTile(v)},_invalidateAll:function(){for(var v in this._levels)ii(this._levels[v].el),this._onRemoveLevel(Number(v)),delete this._levels[v];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(v,M,W,et){var ft=Math.floor(v/2),Ct=Math.floor(M/2),Bt=W-1,te=new xt(+ft,+Ct);te.z=+Bt;var Zt=this._tileCoordsToKey(te),_e=this._tiles[Zt];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),Bt>et?this._retainParent(ft,Ct,Bt,et):!1)},_retainChildren:function(v,M,W,et){for(var ft=2*v;ft<2*v+2;ft++)for(var Ct=2*M;Ct<2*M+2;Ct++){var Bt=new xt(ft,Ct);Bt.z=W+1;var te=this._tileCoordsToKey(Bt),Zt=this._tiles[te];if(Zt&&Zt.active){Zt.retain=!0;continue}else Zt&&Zt.loaded&&(Zt.retain=!0);W+1<et&&this._retainChildren(ft,Ct,W+1,et)}},_resetView:function(v){var M=v&&(v.pinch||v.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),M,M)},_animateZoom:function(v){this._setView(v.center,v.zoom,!0,v.noUpdate)},_clampZoom:function(v){var M=this.options;return M.minNativeZoom!==void 0&&v<M.minNativeZoom?M.minNativeZoom:M.maxNativeZoom!==void 0&&M.maxNativeZoom<v?M.maxNativeZoom:v},_setView:function(v,M,W,et){var ft=Math.round(M);this.options.maxZoom!==void 0&&ft>this.options.maxZoom||this.options.minZoom!==void 0&&ft<this.options.minZoom?ft=void 0:ft=this._clampZoom(ft);var Ct=this.options.updateWhenZooming&&ft!==this._tileZoom;(!et||Ct)&&(this._tileZoom=ft,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ft!==void 0&&this._update(v),W||this._pruneTiles(),this._noPrune=!!W),this._setZoomTransforms(v,M)},_setZoomTransforms:function(v,M){for(var W in this._levels)this._setZoomTransform(this._levels[W],v,M)},_setZoomTransform:function(v,M,W){var et=this._map.getZoomScale(W,v.zoom),ft=v.origin.multiplyBy(et).subtract(this._map._getNewPixelOrigin(M,W)).round();Ee.any3d?Fs(v.el,ft,et):ir(v.el,ft)},_resetGrid:function(){var v=this._map,M=v.options.crs,W=this._tileSize=this.getTileSize(),et=this._tileZoom,ft=this._map.getPixelWorldBounds(this._tileZoom);ft&&(this._globalTileRange=this._pxBoundsToTileRange(ft)),this._wrapX=M.wrapLng&&!this.options.noWrap&&[Math.floor(v.project([0,M.wrapLng[0]],et).x/W.x),Math.ceil(v.project([0,M.wrapLng[1]],et).x/W.y)],this._wrapY=M.wrapLat&&!this.options.noWrap&&[Math.floor(v.project([M.wrapLat[0],0],et).y/W.x),Math.ceil(v.project([M.wrapLat[1],0],et).y/W.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(v){var M=this._map,W=M._animatingZoom?Math.max(M._animateToZoom,M.getZoom()):M.getZoom(),et=M.getZoomScale(W,this._tileZoom),ft=M.project(v,this._tileZoom).floor(),Ct=M.getSize().divideBy(et*2);return new ot(ft.subtract(Ct),ft.add(Ct))},_update:function(v){var M=this._map;if(M){var W=this._clampZoom(M.getZoom());if(v===void 0&&(v=M.getCenter()),this._tileZoom!==void 0){var et=this._getTiledPixelBounds(v),ft=this._pxBoundsToTileRange(et),Ct=ft.getCenter(),Bt=[],te=this.options.keepBuffer,Zt=new ot(ft.getBottomLeft().subtract([te,-te]),ft.getTopRight().add([te,-te]));if(!(isFinite(ft.min.x)&&isFinite(ft.min.y)&&isFinite(ft.max.x)&&isFinite(ft.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Re=this._tiles[_e].coords;(Re.z!==this._tileZoom||!Zt.contains(new xt(Re.x,Re.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(W-this._tileZoom)>1){this._setView(v,W);return}for(var rn=ft.min.y;rn<=ft.max.y;rn++)for(var Yn=ft.min.x;Yn<=ft.max.x;Yn++){var Qr=new xt(Yn,rn);if(Qr.z=this._tileZoom,!!this._isValidTile(Qr)){var rr=this._tiles[this._tileCoordsToKey(Qr)];rr?rr.current=!0:Bt.push(Qr)}}if(Bt.sort(function(Li,bi){return Li.distanceTo(Ct)-bi.distanceTo(Ct)}),Bt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qa=document.createDocumentFragment();for(Yn=0;Yn<Bt.length;Yn++)this._addTile(Bt[Yn],Qa);this._level.el.appendChild(Qa)}}}},_isValidTile:function(v){var M=this._map.options.crs;if(!M.infinite){var W=this._globalTileRange;if(!M.wrapLng&&(v.x<W.min.x||v.x>W.max.x)||!M.wrapLat&&(v.y<W.min.y||v.y>W.max.y))return!1}if(!this.options.bounds)return!0;var et=this._tileCoordsToBounds(v);return Pt(this.options.bounds).overlaps(et)},_keyToBounds:function(v){return this._tileCoordsToBounds(this._keyToTileCoords(v))},_tileCoordsToNwSe:function(v){var M=this._map,W=this.getTileSize(),et=v.scaleBy(W),ft=et.add(W),Ct=M.unproject(et,v.z),Bt=M.unproject(ft,v.z);return[Ct,Bt]},_tileCoordsToBounds:function(v){var M=this._tileCoordsToNwSe(v),W=new St(M[0],M[1]);return this.options.noWrap||(W=this._map.wrapLatLngBounds(W)),W},_tileCoordsToKey:function(v){return v.x+":"+v.y+":"+v.z},_keyToTileCoords:function(v){var M=v.split(":"),W=new xt(+M[0],+M[1]);return W.z=+M[2],W},_removeTile:function(v){var M=this._tiles[v];M&&(ii(M.el),delete this._tiles[v],this.fire("tileunload",{tile:M.el,coords:this._keyToTileCoords(v)}))},_initTile:function(v){An(v,"leaflet-tile");var M=this.getTileSize();v.style.width=M.x+"px",v.style.height=M.y+"px",v.onselectstart=d,v.onmousemove=d,Ee.ielt9&&this.options.opacity<1&&Vi(v,this.options.opacity)},_addTile:function(v,M){var W=this._getTilePos(v),et=this._tileCoordsToKey(v),ft=this.createTile(this._wrapCoords(v),s(this._tileReady,this,v));this._initTile(ft),this.createTile.length<2&&V(s(this._tileReady,this,v,null,ft)),ir(ft,W),this._tiles[et]={el:ft,coords:v,current:!0},M.appendChild(ft),this.fire("tileloadstart",{tile:ft,coords:v})},_tileReady:function(v,M,W){M&&this.fire("tileerror",{error:M,tile:W,coords:v});var et=this._tileCoordsToKey(v);W=this._tiles[et],W&&(W.loaded=+new Date,this._map._fadeAnimated?(Vi(W.el,0),Z(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(W.active=!0,this._pruneTiles()),M||(An(W.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:W.el,coords:v})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(v){return v.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(v){var M=new xt(this._wrapX?h(v.x,this._wrapX):v.x,this._wrapY?h(v.y,this._wrapY):v.y);return M.z=v.z,M},_pxBoundsToTileRange:function(v){var M=this.getTileSize();return new ot(v.min.unscaleBy(M).floor(),v.max.unscaleBy(M).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var v in this._tiles)if(!this._tiles[v].loaded)return!1;return!0}});function Fg(v){return new Ci(v)}var oo=Ci.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(v,M){this._url=v,M=w(this,M),M.detectRetina&&Ee.retina&&M.maxZoom>0?(M.tileSize=Math.floor(M.tileSize/2),M.zoomReverse?(M.zoomOffset--,M.minZoom=Math.min(M.maxZoom,M.minZoom+1)):(M.zoomOffset++,M.maxZoom=Math.max(M.minZoom,M.maxZoom-1)),M.minZoom=Math.max(0,M.minZoom)):M.zoomReverse?M.minZoom=Math.min(M.maxZoom,M.minZoom):M.maxZoom=Math.max(M.minZoom,M.maxZoom),typeof M.subdomains=="string"&&(M.subdomains=M.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(v,M){return this._url===v&&M===void 0&&(M=!0),this._url=v,M||this.redraw(),this},createTile:function(v,M){var W=document.createElement("img");return Mn(W,"load",s(this._tileOnLoad,this,M,W)),Mn(W,"error",s(this._tileOnError,this,M,W)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(W.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(W.referrerPolicy=this.options.referrerPolicy),W.alt="",W.src=this.getTileUrl(v),W},getTileUrl:function(v){var M={r:Ee.retina?"@2x":"",s:this._getSubdomain(v),x:v.x,y:v.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var W=this._globalTileRange.max.y-v.y;this.options.tms&&(M.y=W),M["-y"]=W}return T(this._url,r(M,this.options))},_tileOnLoad:function(v,M){Ee.ielt9?setTimeout(s(v,this,null,M),0):v(null,M)},_tileOnError:function(v,M,W){var et=this.options.errorTileUrl;et&&M.getAttribute("src")!==et&&(M.src=et),v(W,M)},_onTileRemove:function(v){v.tile.onload=null},_getZoomForUrl:function(){var v=this._tileZoom,M=this.options.maxZoom,W=this.options.zoomReverse,et=this.options.zoomOffset;return W&&(v=M-v),v+et},_getSubdomain:function(v){var M=Math.abs(v.x+v.y)%this.options.subdomains.length;return this.options.subdomains[M]},_abortLoading:function(){var v,M;for(v in this._tiles)if(this._tiles[v].coords.z!==this._tileZoom&&(M=this._tiles[v].el,M.onload=d,M.onerror=d,!M.complete)){M.src=z;var W=this._tiles[v].coords;ii(M),delete this._tiles[v],this.fire("tileabort",{tile:M,coords:W})}},_removeTile:function(v){var M=this._tiles[v];if(M)return M.el.setAttribute("src",z),Ci.prototype._removeTile.call(this,v)},_tileReady:function(v,M,W){if(!(!this._map||W&&W.getAttribute("src")===z))return Ci.prototype._tileReady.call(this,v,M,W)}});function Ss(v,M){return new oo(v,M)}var qc=oo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(v,M){this._url=v;var W=r({},this.defaultWmsParams);for(var et in M)et in this.options||(W[et]=M[et]);M=w(this,M);var ft=M.detectRetina&&Ee.retina?2:1,Ct=this.getTileSize();W.width=Ct.x*ft,W.height=Ct.y*ft,this.wmsParams=W},onAdd:function(v){this._crs=this.options.crs||v.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var M=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[M]=this._crs.code,oo.prototype.onAdd.call(this,v)},getTileUrl:function(v){var M=this._tileCoordsToNwSe(v),W=this._crs,et=vt(W.project(M[0]),W.project(M[1])),ft=et.min,Ct=et.max,Bt=(this._wmsVersion>=1.3&&this._crs===Ig?[ft.y,ft.x,Ct.y,Ct.x]:[ft.x,ft.y,Ct.x,Ct.y]).join(","),te=oo.prototype.getTileUrl.call(this,v);return te+k(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Bt},setParams:function(v,M){return r(this.wmsParams,v),M||this.redraw(),this}});function No(v,M){return new qc(v,M)}oo.WMS=qc,Ss.wms=No;var Ws=Mr.extend({options:{padding:.1},initialize:function(v){w(this,v),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),An(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var v={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(v.zoomanim=this._onAnimZoom),v},_onAnimZoom:function(v){this._updateTransform(v.center,v.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(v,M){var W=this._map.getZoomScale(M,this._zoom),et=this._map.getSize().multiplyBy(.5+this.options.padding),ft=this._map.project(this._center,M),Ct=et.multiplyBy(-W).add(ft).subtract(this._map._getNewPixelOrigin(v,M));Ee.any3d?Fs(this._container,Ct,W):ir(this._container,Ct)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var v in this._layers)this._layers[v]._reset()},_onZoomEnd:function(){for(var v in this._layers)this._layers[v]._project()},_updatePaths:function(){for(var v in this._layers)this._layers[v]._update()},_update:function(){var v=this.options.padding,M=this._map.getSize(),W=this._map.containerPointToLayerPoint(M.multiplyBy(-v)).round();this._bounds=new ot(W,W.add(M.multiplyBy(1+v*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fs=Ws.extend({options:{tolerance:0},getEvents:function(){var v=Ws.prototype.getEvents.call(this);return v.viewprereset=this._onViewPreReset,v},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ws.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var v=this._container=document.createElement("canvas");Mn(v,"mousemove",this._onMouseMove,this),Mn(v,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mn(v,"mouseout",this._handleMouseOut,this),v._leaflet_disable_events=!0,this._ctx=v.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,ii(this._container),lr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var v;this._redrawBounds=null;for(var M in this._layers)v=this._layers[M],v._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ws.prototype._update.call(this);var v=this._bounds,M=this._container,W=v.getSize(),et=Ee.retina?2:1;ir(M,v.min),M.width=et*W.x,M.height=et*W.y,M.style.width=W.x+"px",M.style.height=W.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-v.min.x,-v.min.y),this.fire("update")}},_reset:function(){Ws.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(v){this._updateDashArray(v),this._layers[l(v)]=v;var M=v._order={layer:v,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=M),this._drawLast=M,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(v){this._requestRedraw(v)},_removePath:function(v){var M=v._order,W=M.next,et=M.prev;W?W.prev=et:this._drawLast=et,et?et.next=W:this._drawFirst=W,delete v._order,delete this._layers[l(v)],this._requestRedraw(v)},_updatePath:function(v){this._extendRedrawBounds(v),v._project(),v._update(),this._requestRedraw(v)},_updateStyle:function(v){this._updateDashArray(v),this._requestRedraw(v)},_updateDashArray:function(v){if(typeof v.options.dashArray=="string"){var M=v.options.dashArray.split(/[, ]+/),W=[],et,ft;for(ft=0;ft<M.length;ft++){if(et=Number(M[ft]),isNaN(et))return;W.push(et)}v.options._dashArray=W}else v.options._dashArray=v.options.dashArray},_requestRedraw:function(v){this._map&&(this._extendRedrawBounds(v),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(v){if(v._pxBounds){var M=(v.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ot,this._redrawBounds.extend(v._pxBounds.min.subtract([M,M])),this._redrawBounds.extend(v._pxBounds.max.add([M,M]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var v=this._redrawBounds;if(v){var M=v.getSize();this._ctx.clearRect(v.min.x,v.min.y,M.x,M.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var v,M=this._redrawBounds;if(this._ctx.save(),M){var W=M.getSize();this._ctx.beginPath(),this._ctx.rect(M.min.x,M.min.y,W.x,W.y),this._ctx.clip()}this._drawing=!0;for(var et=this._drawFirst;et;et=et.next)v=et.layer,(!M||v._pxBounds&&v._pxBounds.intersects(M))&&v._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(v,M){if(this._drawing){var W,et,ft,Ct,Bt=v._parts,te=Bt.length,Zt=this._ctx;if(te){for(Zt.beginPath(),W=0;W<te;W++){for(et=0,ft=Bt[W].length;et<ft;et++)Ct=Bt[W][et],Zt[et?"lineTo":"moveTo"](Ct.x,Ct.y);M&&Zt.closePath()}this._fillStroke(Zt,v)}}},_updateCircle:function(v){if(!(!this._drawing||v._empty())){var M=v._point,W=this._ctx,et=Math.max(Math.round(v._radius),1),ft=(Math.max(Math.round(v._radiusY),1)||et)/et;ft!==1&&(W.save(),W.scale(1,ft)),W.beginPath(),W.arc(M.x,M.y/ft,et,0,Math.PI*2,!1),ft!==1&&W.restore(),this._fillStroke(W,v)}},_fillStroke:function(v,M){var W=M.options;W.fill&&(v.globalAlpha=W.fillOpacity,v.fillStyle=W.fillColor||W.color,v.fill(W.fillRule||"evenodd")),W.stroke&&W.weight!==0&&(v.setLineDash&&v.setLineDash(M.options&&M.options._dashArray||[]),v.globalAlpha=W.opacity,v.lineWidth=W.weight,v.strokeStyle=W.color,v.lineCap=W.lineCap,v.lineJoin=W.lineJoin,v.stroke())},_onClick:function(v){for(var M=this._map.mouseEventToLayerPoint(v),W,et,ft=this._drawFirst;ft;ft=ft.next)W=ft.layer,W.options.interactive&&W._containsPoint(M)&&(!(v.type==="click"||v.type==="preclick")||!this._map._draggableMoved(W))&&(et=W);this._fireEvent(et?[et]:!1,v)},_onMouseMove:function(v){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var M=this._map.mouseEventToLayerPoint(v);this._handleMouseHover(v,M)}},_handleMouseOut:function(v){var M=this._hoveredLayer;M&&($i(this._container,"leaflet-interactive"),this._fireEvent([M],v,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(v,M){if(!this._mouseHoverThrottled){for(var W,et,ft=this._drawFirst;ft;ft=ft.next)W=ft.layer,W.options.interactive&&W._containsPoint(M)&&(et=W);et!==this._hoveredLayer&&(this._handleMouseOut(v),et&&(An(this._container,"leaflet-interactive"),this._fireEvent([et],v,"mouseover"),this._hoveredLayer=et)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,v),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(v,M,W){this._map._fireDOMEvent(M,W||M.type,v)},_bringToFront:function(v){var M=v._order;if(M){var W=M.next,et=M.prev;if(W)W.prev=et;else return;et?et.next=W:W&&(this._drawFirst=W),M.prev=this._drawLast,this._drawLast.next=M,M.next=null,this._drawLast=M,this._requestRedraw(v)}},_bringToBack:function(v){var M=v._order;if(M){var W=M.next,et=M.prev;if(et)et.next=W;else return;W?W.prev=et:et&&(this._drawLast=et),M.prev=null,M.next=this._drawFirst,this._drawFirst.prev=M,this._drawFirst=M,this._requestRedraw(v)}}});function Za(v){return Ee.canvas?new fs(v):null}var ol=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(v){return document.createElement("<lvml:"+v+' class="lvml">')}}catch{}return function(v){return document.createElement("<"+v+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ed={_initContainer:function(){this._container=Un("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ws.prototype._update.call(this),this.fire("update"))},_initPath:function(v){var M=v._container=ol("shape");An(M,"leaflet-vml-shape "+(this.options.className||"")),M.coordsize="1 1",v._path=ol("path"),M.appendChild(v._path),this._updateStyle(v),this._layers[l(v)]=v},_addPath:function(v){var M=v._container;this._container.appendChild(M),v.options.interactive&&v.addInteractiveTarget(M)},_removePath:function(v){var M=v._container;ii(M),v.removeInteractiveTarget(M),delete this._layers[l(v)]},_updateStyle:function(v){var M=v._stroke,W=v._fill,et=v.options,ft=v._container;ft.stroked=!!et.stroke,ft.filled=!!et.fill,et.stroke?(M||(M=v._stroke=ol("stroke")),ft.appendChild(M),M.weight=et.weight+"px",M.color=et.color,M.opacity=et.opacity,et.dashArray?M.dashStyle=R(et.dashArray)?et.dashArray.join(" "):et.dashArray.replace(/( *, *)/g," "):M.dashStyle="",M.endcap=et.lineCap.replace("butt","flat"),M.joinstyle=et.lineJoin):M&&(ft.removeChild(M),v._stroke=null),et.fill?(W||(W=v._fill=ol("fill")),ft.appendChild(W),W.color=et.fillColor||et.color,W.opacity=et.fillOpacity):W&&(ft.removeChild(W),v._fill=null)},_updateCircle:function(v){var M=v._point.round(),W=Math.round(v._radius),et=Math.round(v._radiusY||W);this._setPath(v,v._empty()?"M0 0":"AL "+M.x+","+M.y+" "+W+","+et+" 0,"+65535*360)},_setPath:function(v,M){v._path.v=M},_bringToFront:function(v){ca(v._container)},_bringToBack:function(v){ro(v._container)}},lo=Ee.vml?ol:qe,dc=Ws.extend({_initContainer:function(){this._container=lo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=lo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ii(this._container),lr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ws.prototype._update.call(this);var v=this._bounds,M=v.getSize(),W=this._container;(!this._svgSize||!this._svgSize.equals(M))&&(this._svgSize=M,W.setAttribute("width",M.x),W.setAttribute("height",M.y)),ir(W,v.min),W.setAttribute("viewBox",[v.min.x,v.min.y,M.x,M.y].join(" ")),this.fire("update")}},_initPath:function(v){var M=v._path=lo("path");v.options.className&&An(M,v.options.className),v.options.interactive&&An(M,"leaflet-interactive"),this._updateStyle(v),this._layers[l(v)]=v},_addPath:function(v){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(v._path),v.addInteractiveTarget(v._path)},_removePath:function(v){ii(v._path),v.removeInteractiveTarget(v._path),delete this._layers[l(v)]},_updatePath:function(v){v._project(),v._update()},_updateStyle:function(v){var M=v._path,W=v.options;M&&(W.stroke?(M.setAttribute("stroke",W.color),M.setAttribute("stroke-opacity",W.opacity),M.setAttribute("stroke-width",W.weight),M.setAttribute("stroke-linecap",W.lineCap),M.setAttribute("stroke-linejoin",W.lineJoin),W.dashArray?M.setAttribute("stroke-dasharray",W.dashArray):M.removeAttribute("stroke-dasharray"),W.dashOffset?M.setAttribute("stroke-dashoffset",W.dashOffset):M.removeAttribute("stroke-dashoffset")):M.setAttribute("stroke","none"),W.fill?(M.setAttribute("fill",W.fillColor||W.color),M.setAttribute("fill-opacity",W.fillOpacity),M.setAttribute("fill-rule",W.fillRule||"evenodd")):M.setAttribute("fill","none"))},_updatePoly:function(v,M){this._setPath(v,on(v._parts,M))},_updateCircle:function(v){var M=v._point,W=Math.max(Math.round(v._radius),1),et=Math.max(Math.round(v._radiusY),1)||W,ft="a"+W+","+et+" 0 1,0 ",Ct=v._empty()?"M0 0":"M"+(M.x-W)+","+M.y+ft+W*2+",0 "+ft+-W*2+",0 ";this._setPath(v,Ct)},_setPath:function(v,M){v._path.setAttribute("d",M)},_bringToFront:function(v){ca(v._path)},_bringToBack:function(v){ro(v._path)}});Ee.vml&&dc.include(Ed);function Th(v){return Ee.svg||Ee.vml?new dc(v):null}Gn.include({getRenderer:function(v){var M=v.options.renderer||this._getPaneRenderer(v.options.pane)||this.options.renderer||this._renderer;return M||(M=this._renderer=this._createRenderer()),this.hasLayer(M)||this.addLayer(M),M},_getPaneRenderer:function(v){if(v==="overlayPane"||v===void 0)return!1;var M=this._paneRenderers[v];return M===void 0&&(M=this._createRenderer({pane:v}),this._paneRenderers[v]=M),M},_createRenderer:function(v){return this.options.preferCanvas&&Za(v)||Th(v)}});var Ll=kh.extend({initialize:function(v,M){kh.prototype.initialize.call(this,this._boundsToLatLngs(v),M)},setBounds:function(v){return this.setLatLngs(this._boundsToLatLngs(v))},_boundsToLatLngs:function(v){return v=Pt(v),[v.getSouthWest(),v.getNorthWest(),v.getNorthEast(),v.getSouthEast()]}});function Bg(v,M){return new Ll(v,M)}dc.create=lo,dc.pointsToPath=on,Gs.geometryToLayer=Sr,Gs.coordsToLatLng=sl,Gs.coordsToLatLngs=Md,Gs.latLngToCoords=Nd,Gs.latLngsToCoords=Pd,Gs.getFeature=$c,Gs.asFeature=Mo,Gn.mergeOptions({boxZoom:!0});var Ha=Tr.extend({initialize:function(v){this._map=v,this._container=v._container,this._pane=v._panes.overlayPane,this._resetStateTimeout=0,v.on("unload",this._destroy,this)},addHooks:function(){Mn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){lr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ii(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(v){if(!v.shiftKey||v.which!==1&&v.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ot(),Ge(),this._startPoint=this._map.mouseEventToContainerPoint(v),Mn(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(v){this._moved||(this._moved=!0,this._box=Un("div","leaflet-zoom-box",this._container),An(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(v);var M=new ot(this._point,this._startPoint),W=M.getSize();ir(this._box,M.min),this._box.style.width=W.x+"px",this._box.style.height=W.y+"px"},_finish:function(){this._moved&&(ii(this._box),$i(this._container,"leaflet-crosshair")),Ft(),Tn(),lr(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(v){if(!(v.which!==1&&v.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var M=new St(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(M).fire("boxzoomend",{boxZoomBounds:M})}},_onKeyDown:function(v){v.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gn.addInitHook("addHandler","boxZoom",Ha),Gn.mergeOptions({doubleClickZoom:!0});var Po=Tr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(v){var M=this._map,W=M.getZoom(),et=M.options.zoomDelta,ft=v.originalEvent.shiftKey?W-et:W+et;M.options.doubleClickZoom==="center"?M.setZoom(ft):M.setZoomAround(v.containerPoint,ft)}});Gn.addInitHook("addHandler","doubleClickZoom",Po),Gn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nr=Tr.extend({addHooks:function(){if(!this._draggable){var v=this._map;this._draggable=new hc(v._mapPane,v._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),v.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),v.on("zoomend",this._onZoomEnd,this),v.whenReady(this._onZoomEnd,this))}An(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$i(this._map._container,"leaflet-grab"),$i(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var v=this._map;if(v._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var M=Pt(this._map.options.maxBounds);this._offsetLimit=vt(this._map.latLngToContainerPoint(M.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(M.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;v.fire("movestart").fire("dragstart"),v.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(v){if(this._map.options.inertia){var M=this._lastTime=+new Date,W=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(W),this._times.push(M),this._prunePositions(M)}this._map.fire("move",v).fire("drag",v)},_prunePositions:function(v){for(;this._positions.length>1&&v-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var v=this._map.getSize().divideBy(2),M=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=M.subtract(v).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(v,M){return v-(v-M)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var v=this._draggable._newPos.subtract(this._draggable._startPos),M=this._offsetLimit;v.x<M.min.x&&(v.x=this._viscousLimit(v.x,M.min.x)),v.y<M.min.y&&(v.y=this._viscousLimit(v.y,M.min.y)),v.x>M.max.x&&(v.x=this._viscousLimit(v.x,M.max.x)),v.y>M.max.y&&(v.y=this._viscousLimit(v.y,M.max.y)),this._draggable._newPos=this._draggable._startPos.add(v)}},_onPreDragWrap:function(){var v=this._worldWidth,M=Math.round(v/2),W=this._initialWorldOffset,et=this._draggable._newPos.x,ft=(et-M+W)%v+M-W,Ct=(et+M+W)%v-M-W,Bt=Math.abs(ft+W)<Math.abs(Ct+W)?ft:Ct;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Bt},_onDragEnd:function(v){var M=this._map,W=M.options,et=!W.inertia||v.noInertia||this._times.length<2;if(M.fire("dragend",v),et)M.fire("moveend");else{this._prunePositions(+new Date);var ft=this._lastPos.subtract(this._positions[0]),Ct=(this._lastTime-this._times[0])/1e3,Bt=W.easeLinearity,te=ft.multiplyBy(Bt/Ct),Zt=te.distanceTo([0,0]),_e=Math.min(W.inertiaMaxSpeed,Zt),Re=te.multiplyBy(_e/Zt),rn=_e/(W.inertiaDeceleration*Bt),Yn=Re.multiplyBy(-rn/2).round();!Yn.x&&!Yn.y?M.fire("moveend"):(Yn=M._limitOffset(Yn,M.options.maxBounds),V(function(){M.panBy(Yn,{duration:rn,easeLinearity:Bt,noMoveStart:!0,animate:!0})}))}}});Gn.addInitHook("addHandler","dragging",Nr),Gn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qi=Tr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(v){this._map=v,this._setPanDelta(v.options.keyboardPanDelta),this._setZoomDelta(v.options.zoomDelta)},addHooks:function(){var v=this._map._container;v.tabIndex<=0&&(v.tabIndex="0"),Mn(v,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),lr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var v=document.body,M=document.documentElement,W=v.scrollTop||M.scrollTop,et=v.scrollLeft||M.scrollLeft;this._map._container.focus(),window.scrollTo(et,W)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(v){var M=this._panKeys={},W=this.keyCodes,et,ft;for(et=0,ft=W.left.length;et<ft;et++)M[W.left[et]]=[-1*v,0];for(et=0,ft=W.right.length;et<ft;et++)M[W.right[et]]=[v,0];for(et=0,ft=W.down.length;et<ft;et++)M[W.down[et]]=[0,v];for(et=0,ft=W.up.length;et<ft;et++)M[W.up[et]]=[0,-1*v]},_setZoomDelta:function(v){var M=this._zoomKeys={},W=this.keyCodes,et,ft;for(et=0,ft=W.zoomIn.length;et<ft;et++)M[W.zoomIn[et]]=v;for(et=0,ft=W.zoomOut.length;et<ft;et++)M[W.zoomOut[et]]=-v},_addHooks:function(){Mn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){lr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(v){if(!(v.altKey||v.ctrlKey||v.metaKey)){var M=v.keyCode,W=this._map,et;if(M in this._panKeys){if(!W._panAnim||!W._panAnim._inProgress)if(et=this._panKeys[M],v.shiftKey&&(et=ht(et).multiplyBy(3)),W.options.maxBounds&&(et=W._limitOffset(ht(et),W.options.maxBounds)),W.options.worldCopyJump){var ft=W.wrapLatLng(W.unproject(W.project(W.getCenter()).add(et)));W.panTo(ft)}else W.panBy(et)}else if(M in this._zoomKeys)W.setZoom(W.getZoom()+(v.shiftKey?3:1)*this._zoomKeys[M]);else if(M===27&&W._popup&&W._popup.options.closeOnEscapeKey)W.closePopup();else return;xi(v)}}});Gn.addInitHook("addHandler","keyboard",qi),Gn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jd=Tr.extend({addHooks:function(){Mn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){lr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(v){var M=bs(v),W=this._map.options.wheelDebounceTime;this._delta+=M,this._lastMousePos=this._map.mouseEventToContainerPoint(v),this._startTime||(this._startTime=+new Date);var et=Math.max(W-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),et),xi(v)},_performZoom:function(){var v=this._map,M=v.getZoom(),W=this._map.options.zoomSnap||0;v._stop();var et=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ft=4*Math.log(2/(1+Math.exp(-Math.abs(et))))/Math.LN2,Ct=W?Math.ceil(ft/W)*W:ft,Bt=v._limitZoom(M+(this._delta>0?Ct:-Ct))-M;this._delta=0,this._startTime=null,Bt&&(v.options.scrollWheelZoom==="center"?v.setZoom(M+Bt):v.setZoomAround(this._lastMousePos,M+Bt))}});Gn.addInitHook("addHandler","scrollWheelZoom",jd);var Kc=600;Gn.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var fc=Tr.extend({addHooks:function(){Mn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){lr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(v){if(clearTimeout(this._holdTimeout),v.touches.length===1){var M=v.touches[0];this._startPos=this._newPos=new xt(M.clientX,M.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Mn(document,"touchend",En),Mn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",M))},this),Kc),Mn(document,"touchend touchcancel contextmenu",this._cancel,this),Mn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function v(){lr(document,"touchend",En),lr(document,"touchend touchcancel",v)},_cancel:function(){clearTimeout(this._holdTimeout),lr(document,"touchend touchcancel contextmenu",this._cancel,this),lr(document,"touchmove",this._onMove,this)},_onMove:function(v){var M=v.touches[0];this._newPos=new xt(M.clientX,M.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(v,M){var W=new MouseEvent(v,{bubbles:!0,cancelable:!0,view:window,screenX:M.screenX,screenY:M.screenY,clientX:M.clientX,clientY:M.clientY});W._simulated=!0,M.target.dispatchEvent(W)}});Gn.addInitHook("addHandler","tapHold",fc),Gn.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var gc=Tr.extend({addHooks:function(){An(this._map._container,"leaflet-touch-zoom"),Mn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$i(this._map._container,"leaflet-touch-zoom"),lr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(v){var M=this._map;if(!(!v.touches||v.touches.length!==2||M._animatingZoom||this._zooming)){var W=M.mouseEventToContainerPoint(v.touches[0]),et=M.mouseEventToContainerPoint(v.touches[1]);this._centerPoint=M.getSize()._divideBy(2),this._startLatLng=M.containerPointToLatLng(this._centerPoint),M.options.touchZoom!=="center"&&(this._pinchStartLatLng=M.containerPointToLatLng(W.add(et)._divideBy(2))),this._startDist=W.distanceTo(et),this._startZoom=M.getZoom(),this._moved=!1,this._zooming=!0,M._stop(),Mn(document,"touchmove",this._onTouchMove,this),Mn(document,"touchend touchcancel",this._onTouchEnd,this),En(v)}},_onTouchMove:function(v){if(!(!v.touches||v.touches.length!==2||!this._zooming)){var M=this._map,W=M.mouseEventToContainerPoint(v.touches[0]),et=M.mouseEventToContainerPoint(v.touches[1]),ft=W.distanceTo(et)/this._startDist;if(this._zoom=M.getScaleZoom(ft,this._startZoom),!M.options.bounceAtZoomLimits&&(this._zoom<M.getMinZoom()&&ft<1||this._zoom>M.getMaxZoom()&&ft>1)&&(this._zoom=M._limitZoom(this._zoom)),M.options.touchZoom==="center"){if(this._center=this._startLatLng,ft===1)return}else{var Ct=W._add(et)._divideBy(2)._subtract(this._centerPoint);if(ft===1&&Ct.x===0&&Ct.y===0)return;this._center=M.unproject(M.project(this._pinchStartLatLng,this._zoom).subtract(Ct),this._zoom)}this._moved||(M._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var Bt=s(M._move,M,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(Bt,this,!0),En(v)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),lr(document,"touchmove",this._onTouchMove,this),lr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gn.addInitHook("addHandler","touchZoom",gc),Gn.BoxZoom=Ha,Gn.DoubleClickZoom=Po,Gn.Drag=Nr,Gn.Keyboard=qi,Gn.ScrollWheelZoom=jd,Gn.TapHold=fc,Gn.TouchZoom=gc,e.Bounds=ot,e.Browser=Ee,e.CRS=Et,e.Canvas=fs,e.Circle=Lu,e.CircleMarker=Ol,e.Class=lt,e.Control=ws,e.DivIcon=Xc,e.DivOverlay=hs,e.DomEvent=xh,e.DomUtil=Tl,e.Draggable=hc,e.Evented=st,e.FeatureGroup=Hs,e.GeoJSON=Gs,e.GridLayer=Ci,e.Handler=Tr,e.Icon=nl,e.ImageOverlay=Ue,e.LatLng=It,e.LatLngBounds=St,e.Layer=Mr,e.LayerGroup=Dl,e.LineUtil=Sf,e.Map=Gn,e.Marker=rl,e.Mixin=hm,e.Path=us,e.Point=xt,e.PolyUtil=wh,e.Polygon=kh,e.Polyline=To,e.Popup=ds,e.PosAnimation=Ao,e.Projection=Ad,e.Rectangle=Ll,e.Renderer=Ws,e.SVG=dc,e.SVGOverlay=Xi,e.TileLayer=oo,e.Tooltip=Iu,e.Transformation=fe,e.Util=rt,e.VideoOverlay=Ln,e.bind=s,e.bounds=vt,e.canvas=Za,e.circle=al,e.circleMarker=Cf,e.control=_s,e.divIcon=Ah,e.extend=r,e.featureGroup=zg,e.geoJSON=xe,e.geoJson=ce,e.gridLayer=Fg,e.icon=Yc,e.imageOverlay=wn,e.latLng=Nt,e.latLngBounds=Pt,e.layerGroup=Uc,e.map=ha,e.marker=Ou,e.point=ht,e.polygon=Af,e.polyline=av,e.popup=Vc,e.rectangle=Bg,e.setOptions=w,e.stamp=l,e.svg=Th,e.svgOverlay=Tf,e.tileLayer=Ss,e.tooltip=Ch,e.transformation=Jt,e.version=i,e.videoOverlay=Fr;var cr=window.L;e.noConflict=function(){return window.L=cr,this},window.L=e}))})(Ew,Ew.exports)),Ew.exports}var s1=out();const Z_=Al(s1);function NA(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function SO(n,t){return t==null?function(i,r){const a=N.useRef(void 0);return a.current||(a.current=n(i,r)),a}:function(i,r){const a=N.useRef(void 0);a.current||(a.current=n(i,r));const s=N.useRef(i),{instance:o}=a.current;return N.useEffect(function(){s.current!==i&&(t(o,i,s.current),s.current=i)},[o,i,t]),a}}function lut(n,t){N.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function M9(n){return function(e){const i=wO(),r=n(_O(e,i),i);return A9(i.map,e.attribution),T9(r.current,e.eventHandlers),lut(r.current,i),r}}function cut(n,t){const e=SO(n,t),i=M9(e);return nut(i)}function N9(n,t){const e=SO(n),i=aut(e,t);return iut(i)}function uut(n,t){const e=SO(n,t),i=M9(e);return rut(i)}function hut(n,t,e){const{opacity:i,zIndex:r}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),r!=null&&r!==e.zIndex&&n.setZIndex(r)}function P9(){return wO().map}function dut(n){const t=P9();return N.useEffect(function(){return t.on(n),function(){t.off(n)}},[t,n]),t}function fut({bounds:n,boundsOptions:t,center:e,children:i,className:r,id:a,placeholder:s,style:o,whenReady:l,zoom:c,...h},d){const[g]=N.useState({className:r,id:a,style:o}),[y,x]=N.useState(null),w=N.useRef(void 0);N.useImperativeHandle(d,()=>y?.map??null,[y]);const k=N.useCallback(T=>{if(T!==null&&!w.current){const R=new s1.Map(T,h);w.current=R,e!=null&&c!=null?R.setView(e,c):n!=null&&R.fitBounds(n,t),l!=null&&R.whenReady(l),x(tut(R))}},[]);N.useEffect(()=>()=>{y?.map.remove()},[y]);const A=y?mr.createElement(bO,{value:y},i):s??null;return mr.createElement("div",{...g,ref:k},A)}const kO=N.forwardRef(fut),r_=cut(function({position:t,...e},i){const r=new s1.Marker(t,e);return NA(r,eut(i,{overlayContainer:r}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),E9=N9(function(t,e){const i=new s1.Popup(t,e.overlayContainer);return NA(i,e)},function(t,e,{position:i},r){N.useEffect(function(){const{instance:s}=t;function o(c){c.popup===s&&(s.update(),r(!0))}function l(c){c.popup===s&&r(!1)}return e.map.on({popupopen:o,popupclose:l}),e.overlayContainer==null?(i!=null&&s.setLatLng(i),s.openOn(e.map)):e.overlayContainer.bindPopup(s),function(){e.map.off({popupopen:o,popupclose:l}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(s)}},[t,e,r,i])}),a_=uut(function({url:t,...e},i){const r=new s1.TileLayer(t,_O(e,i));return NA(r,i)},function(t,e,i){hut(t,e,i);const{url:r}=e;r!=null&&r!==i.url&&t.setUrl(r)}),pz=N9(function(t,e){const i=new s1.Tooltip(t,e.overlayContainer);return NA(i,e)},function(t,e,{position:i},r){N.useEffect(function(){const s=e.overlayContainer;if(s==null)return;const{instance:o}=t,l=h=>{h.tooltip===o&&(i!=null&&o.setLatLng(i),o.update(),r(!0))},c=h=>{h.tooltip===o&&r(!1)};return s.on({tooltipopen:l,tooltipclose:c}),s.bindTooltip(o),function(){s.off({tooltipopen:l,tooltipclose:c}),s._map!=null&&s.unbindTooltip()}},[t,e,r,i])});function CO(){const[n,t]=N.useState(null),[e,i]=N.useState(null);return N.useEffect(()=>{navigator.geolocation.getCurrentPosition(r=>{t({latitude:r.coords.latitude,longitude:r.coords.longitude}),localStorage.setItem("user_coords",JSON.stringify({latitude:r.coords.latitude,longitude:r.coords.longitude}))},r=>i(r.message),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]),console.log("v tr: ",n),{coords:n,error:e}}function gut({position:n,children:t}){const e=N.useRef(null),i=N.useRef(null),r=N.useRef("marker-"+Math.random().toString(36).substring(2));return e.current||(e.current=Z_.divIcon({className:"custom-react-marker",html:`<div id="${r.current}" style="
    transform: translate(-50%, -100%);
  "></div>`})),N.useEffect(()=>{const a=document.getElementById(r.current);if(a)return i.current=lZ.createRoot(a),()=>{if(i.current){const s=i.current;setTimeout(()=>{s.unmount()},0),i.current=null}}},[]),N.useEffect(()=>{i.current&&i.current.render(t)},[t]),u.jsx(r_,{position:n,icon:e.current})}const mz=["https://api_gold.thinkdiff.us/btmc","https://api_gold.thinkdiff.us/ngoctham","https://api_gold.thinkdiff.us/vangphutai","https://api_gold.thinkdiff.us/pnj","https://api_gold.thinkdiff.us/ancarat_giabac","https://api_gold.thinkdiff.us/kimhoancamau","https://api_gold.thinkdiff.us/kimchau_info","https://api_gold.thinkdiff.us/vang_sinhdien","https://api_gold.thinkdiff.us/vangchienminh","https://api_gold.thinkdiff.us/kimnganphuc","https://api_gold.thinkdiff.us/baotinlanvy","https://api_gold.thinkdiff.us/ancarat_giavang","https://api_gold.thinkdiff.us/lamngocthanh","https://api_gold.thinkdiff.us/teokimtruc","https://api_gold.thinkdiff.us/sjc_com_vn","https://api_gold.thinkdiff.us/goldavenue","https://api_gold.thinkdiff.us/suissegold","https://api_gold.thinkdiff.us/igold_silver","https://api_gold.thinkdiff.us/kanzjewels","https://api_gold.thinkdiff.us/gvs_trading","https://api_gold.thinkdiff.us/anekalogam","https://api_gold.thinkdiff.us/aurum_gold","https://api_gold.thinkdiff.us/aurum_silver","https://api_gold.thinkdiff.us/aurum_silverSalt","https://api_gold.thinkdiff.us/phuquy_bac","https://api_gold.thinkdiff.us/phuquy_vang","https://api_gold.thinkdiff.us/btmh_gold","https://api_gold.thinkdiff.us/kimtin_com_vn","https://api_gold.thinkdiff.us/orient","https://api_gold.thinkdiff.us/malabar/silver","https://api_gold.thinkdiff.us/malabar/gold","https://api_gold.thinkdiff.us/tokuriki","https://api_gold.thinkdiff.us/tanaka","https://api_gold.thinkdiff.us/ishifuku","https://api_gold.thinkdiff.us/candere","https://api_gold.thinkdiff.us/vang_nguyenlieu_haihau_namdinh","https://api_gold.thinkdiff.us/huythanhjewelry","https://api_gold.thinkdiff.us/skjewellery","https://api_gold.thinkdiff.us/doji","https://api_gold.thinkdiff.us/vang_haihong","https://api_gold.thinkdiff.us/vang_huongdiu","https://api_gold.thinkdiff.us/socket_mihong_goldenfund","https://api_gold.thinkdiff.us/chowsangsang_html","https://api_gold.thinkdiff.us/chowtaiseng","https://api_gold.thinkdiff.us/chowtaifook","https://api_gold.thinkdiff.us/sbj_silver","https://api_gold.thinkdiff.us/sbj_gold","https://api_gold.thinkdiff.us/kimtung","https://api_gold.thinkdiff.us/kimngoc","https://api_gold.thinkdiff.us/quocbaolam","https://api_gold.thinkdiff.us/kimthuy","https://api_gold.thinkdiff.us/kimyen","https://api_gold.thinkdiff.us/kimphatthoian","https://api_gold.thinkdiff.us/lucngocthanh","https://api_gold.thinkdiff.us/phuocthanh","https://api_gold.thinkdiff.us/kimphathiepthanh","https://api_gold.thinkdiff.us/kimphat","https://api_gold.thinkdiff.us/quocbaoson","https://api_gold.thinkdiff.us/quocbao","https://api_gold.thinkdiff.us/kimhanh","https://api_gold.thinkdiff.us/minhthanhbenluc","https://api_gold.thinkdiff.us/myngoc","https://api_gold.thinkdiff.us/kimton","https://api_gold.thinkdiff.us/lapduc","https://api_gold.thinkdiff.us/kimhungphat","https://api_gold.thinkdiff.us/yenhien","https://api_gold.thinkdiff.us/xuanmui","https://api_gold.thinkdiff.us/haisen","https://api_gold.thinkdiff.us/kimchauhaihau","https://api_gold.thinkdiff.us/thanhxuandonganh","https://api_gold.thinkdiff.us/daphuc","https://api_gold.thinkdiff.us/nhahuong","https://api_gold.thinkdiff.us/hjctaiquangninh","https://api_gold.thinkdiff.us/kimchung","https://api_gold.thinkdiff.us/hoatung","https://api_gold.thinkdiff.us/quytung","https://api_gold.thinkdiff.us/kimlien","https://api_gold.thinkdiff.us/trungsinhthainguyen","https://api_gold.thinkdiff.us/huongyen","https://api_gold.thinkdiff.us/kimkhanhhanam","https://api_gold.thinkdiff.us/haihong","https://api_gold.thinkdiff.us/quanghanh","https://api_gold.thinkdiff.us/sonha","https://api_gold.thinkdiff.us/luhuong","https://api_gold.thinkdiff.us/anhminh","https://api_gold.thinkdiff.us/huongchi","https://api_gold.thinkdiff.us/nhathahaiphong","https://api_gold.thinkdiff.us/phidoan","https://api_gold.thinkdiff.us/dainghia","https://api_gold.thinkdiff.us/tienngoc","https://api_gold.thinkdiff.us/phucthanhnamdinh","https://api_gold.thinkdiff.us/phucthanhlongbien","https://api_gold.thinkdiff.us/hoanhuelaocai","https://api_gold.thinkdiff.us/koreagoldx_silver","https://api_gold.thinkdiff.us/koreagoldx"],mg=n=>n?new Intl.NumberFormat("vi-VN").format(n):"N/A",ZC=(n,t)=>!n||!t?0:n-t,put=async n=>{try{const t=await fetch(n);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();if(e.status==="success"&&e.data&&e.data.data){const i=e.data.data,r=i.site||e.data.site,a=e.name||r,s=typeof e.do_uy_tin<"u"&&e.do_uy_tin!==null?e.do_uy_tin:void 0,o=e.quoc_gia||"Vietnam";return{site:r,name:a,fetched_at:i.fetched_at||i.time_date_get,items:i.items||[],timestamp:i.site_timestamp||i.time_date_get,do_uy_tin:s,quoc_gia:o}}throw new Error("Invalid data structure")}catch(t){throw t}},mut=async n=>{const t=mz.length;let e=0;const i=[];try{const r=mz.filter((o,l)=>l===0).map(o=>put(o).then(l=>{if(e++,i.push(l),n)try{n(l,e,t)}catch(c){console.warn("Callback error in onVendorLoaded:",c)}return{status:"fulfilled",value:l}}).catch(l=>(e++,{status:"rejected",reason:l,url:o}))),s=(await Promise.all(r)).filter(o=>o.status==="rejected").map(o=>({url:o.url,reason:o.reason}));return i}catch(r){throw console.error("Error in fetchGoldPricesIncremental:",r),r}},yut=n=>{if(!n||n.length===0)return"";const t=n.reduce((e,i)=>e.timestamp?new Date(i.timestamp)>new Date(e.timestamp)?i:e:i,n[0]);return t.fetched_at||t.timestamp},j9=n=>{if(n==null)return"#94A3B8";const t=Number(n);return t<=2?"#22C55E":t<=4?"#84CC16":t<=6?"#FACC15":t<=8?"#F97316":"#EF4444"};function vut(n){return sc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z"},child:[]}]})(n)}const xut=({vendorData:n,isInternational:t})=>!n||!n.items||n.items.length===0?null:u.jsxs("div",{className:`price-table-card map-price-card ${t?"international-table":""}`,children:[u.jsx("div",{className:"table-header",children:u.jsxs("div",{className:"header-top",children:[u.jsxs("div",{className:"header-left-info",children:[u.jsx("h2",{className:"vendor-name",children:n.name}),n.quoc_gia&&u.jsxs("div",{children:[u.jsxs("span",{className:"country-badge2",children:[" ",n.quoc_gia]}),u.jsxs("span",{className:"country-badge2",children:[n.distance," Km"]})]}),u.jsxs("p",{className:"update-time",children:["Cp nht: ",n.fetched_at||n.timestamp]})]}),u.jsx("div",{children:n.do_uy_tin!==void 0&&n.do_uy_tin!==null&&u.jsxs("p",{className:"trust-badge",style:{color:j9(n.do_uy_tin)},children:["  uy tn: ",n.do_uy_tin]})})]})}),u.jsx("div",{className:"table-wrapper",children:u.jsxs("table",{className:"price-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"col-product",children:"LOI VNG"}),u.jsx("th",{className:"col-price",children:"MUA VO"}),u.jsx("th",{className:"col-price",children:"BN RA"}),t&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"col-price",children:"GI GC (USD)"}),u.jsx("th",{className:"col-price",children:"BN CH EN"}),u.jsx("th",{className:"col-rate",children:"T GI CH EN"}),u.jsx("th",{className:"col-rate",children:"T GI NGN HNG"})]})]})}),u.jsx("tbody",{children:(()=>{const e=a=>a.purity==="1KG_BAC_999"||a.purity==="9999",i=n.items.filter(e);return n.items.filter(a=>!e(a)),[...i].map((a,s)=>{const o=a.purity==="9999",l=a.purity==="1KG_BAC_999",c=o?"highlight-9999":l?"highlight-silver":"";return u.jsxs("tr",{className:c,children:[u.jsxs("td",{className:"product-name",children:[a.name||a.product,o&&u.jsx("span",{className:"gold-badge",children:" 9999"}),l&&u.jsx("span",{className:"silver-badge",children:" 1KG"})]}),u.jsx("td",{className:"price-buy",children:mg(a.buy)}),u.jsx("td",{className:"price-sell",children:mg(a.sell)}),t&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"price-original",children:a.gia_goc?`$${a.gia_goc.toLocaleString("en-US")}`:"N/A"}),u.jsx("td",{className:"price-black-market",children:mg(a.sell_cho_den)}),u.jsx("td",{className:"rate-black",children:a.ty_gia_cho_den?a.ty_gia_cho_den.toLocaleString("vi-VN"):"N/A"}),u.jsx("td",{className:"rate-bank",children:a.ty_gia_ngan_hang?a.ty_gia_ngan_hang.toLocaleString("vi-VN"):"N/A"})]})]},s)})})()})]})}),u.jsx("div",{className:"table-footer",children:(()=>{const e=n.items.find(s=>s.purity==="9999"),i=n.items.find(s=>s.purity==="1KG_BAC_999"),r=e?ZC(e.sell,e.buy):null,a=i?ZC(i.sell,i.buy):null;return u.jsxs("div",{className:"spread-info",children:[r&&u.jsxs("small",{className:"spread-item",children:[" Chnh lch Vng 9999:"," ",u.jsx("strong",{children:mg(r)})]}),a&&u.jsxs("small",{className:"spread-item",children:[" Chnh lch Bc 1KG:"," ",u.jsx("strong",{children:mg(a)})]})]})})()})]}),but=Z_.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),wut=Z_.icon({iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});Z_.Marker.prototype.options.icon=wut;function _ut(){const n=Gi(),t=rc(),{coords:e}=CO();console.log("All params:",t),console.log("GPS:",e);const i=N.useMemo(()=>({day:t.day?Number(t.day):null,month:t.month?Number(t.month):null,year:t.year?Number(t.year):null,hour:t.hour?Number(t.hour):null,minute:t.minute?Number(t.minute):null,region:t.region||"Vietnam",type:t.type||"gold"}),[t]),r=t.z?Number(t.z):13,{loading:a,error:s,displayedPrices:o,loadingProgress:l}=fO(i),c=Number(t.lat)?Number(t.lat):e?.latitude,h=Number(t.lng)?Number(t.lng):e?.longitude;if(console.log("Ta :",c,h),!c||!h)return u.jsx("div",{children:"ang ly v tr..."});if(a&&o.length===0)return u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti d liu gi vng..."}),l.total>0&&u.jsxs("p",{className:"loading-progress",children:[" ti ",l.loaded,"/",l.total," ngun"]})]});if(s)return u.jsxs("div",{className:"error-container",children:[u.jsxs("p",{className:"error-message",children:[" ",s]}),u.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]});const d=({latNew:y,lngNew:x,zoomNew:w})=>{console.log("x l s kin"),y&&x?n(`/map-view/${i.region}/${i.type}/${i.day}/${i.month}/${i.year}/${i.hour}/${i.minute}/${w}/${y}/${x}`,{replace:!0}):n(`/map-view/${i.region}/${i.type}/${i.day}/${i.month}/${i.year}/${i.hour}/${i.minute}/${w}/${c}/${h}`,{replace:!0})},g=L9(o,e.latitude,e.longitude);return u.jsx("div",{className:"map-view",children:u.jsxs(kO,{center:[c,h],zoom:r,scrollWheelZoom:!0,className:"map-container",children:[u.jsx(a_,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri"}),u.jsx(a_,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",attribution:"Transportation  Esri",opacity:.6}),u.jsx(r_,{position:[c,h],icon:but,children:u.jsx(pz,{direction:"top",offset:[0,-20],opacity:1,children:"V tr Click"})}),g.filter(y=>y.maps&&y.maps.length>0).flatMap(y=>y.maps.map((x,w)=>{const k=[x.lat,x.long];return r>=18?u.jsx(gut,{position:k,children:u.jsx(xut,{vendorData:y})},`${y.name||"nhavang"}-${w}`):u.jsx(r_,{position:k,children:u.jsx(pz,{direction:"top",offset:[0,-20],opacity:1,permanent:!0,children:y.name||"Nh vng"})},`${y.name||"nhavang"}-${w}`)})),u.jsx(Sut,{onChange:d})]})})}const Sut=({onChange:n})=>{const t=P9();return dut({click(e){console.log(" click");const{lat:i,lng:r}=e.latlng,a=t.getZoom();n&&n({latNew:i,lngNew:r,zoomNew:a})},zoomend(){console.log(" zoom");const e=t.getZoom();n&&n({latNew:null,lngNew:null,zoomNew:e})}}),null},AO=mr.memo(({filterOptions:n,onFilterChange:t,uiFilter:e,setUiFilter:i,availableCountries:r,showAnalysis:a,onToggleAnalysis:s,showComparison:o,onToggleComparison:l})=>{const{region:c,type:h,day:d,month:g,year:y,hour:x,minute:w}=n,{coords:k}=CO(),A=N.useCallback(z=>{t({...n,type:z})},[n,t]),T=N.useCallback(z=>{z==="international"&&(i(F=>({...F,distanceKm:"all"})),t({...n,region:z,country:"international"})),z==="vietnam"&&(i(F=>({...F,distanceKm:"20"})),t({...n,region:z,country:"VIETNAM"}))},[n,t,i]),R=z=>{i(F=>({...F,sortBy:z}))};N.useEffect(()=>{n.region==="vietnam"&&e.distanceKm==="all"?i(z=>({...z,distanceKm:"20"})):n.region==="international"&&e.distanceKm!=="all"&&i(z=>({...z,distanceKm:"all"}))},[n.region,e.distanceKm,i]);const G=k?`/map-view/${c}/${h}/${d}/${g}/${y}/${x}/${w}/13/${k.latitude}/${k.longitude}`:"#";return u.jsx("div",{className:"filter-bar",children:u.jsx("div",{className:"filter-container",children:u.jsxs("div",{className:"toolbar",children:[u.jsxs("div",{className:"topbar",children:[u.jsxs("div",{className:"pill-group",children:[u.jsx("button",{className:`pill-btn ${n.region==="vietnam"?"active":""}`,onClick:()=>T("vietnam"),children:" Vit Nam"}),u.jsx("button",{className:`pill-btn ${n.region==="international"?"active":""}`,onClick:()=>T("international"),children:" Quc T"})]}),u.jsxs("div",{className:"pill-group",children:[u.jsx("button",{className:`pill-btn ${n.type==="gold"?"active":""}`,onClick:()=>A("gold"),children:"Vng"}),u.jsx("button",{className:`pill-btn ${n.type==="silver"?"active":""}`,onClick:()=>A("silver"),children:"Bc"})]}),u.jsx("div",{className:"pill-group",children:u.jsx(dd,{className:`pill-btn ${k?"":"disabled"}`,to:G,onClick:z=>!k&&z.preventDefault(),children:"M bn "})}),u.jsxs("div",{className:"pill-group",children:[u.jsx("button",{className:`pill-btn ${a?"active":""}`,onClick:()=>s(!a),children:a?" Phn tch":" Bng gi"}),u.jsx(dd,{className:"pill-btn",to:"/so-sanh-quoc-gia",style:{marginLeft:"8px",textDecoration:"none"},children:" So snh quc gia"})]})]}),u.jsxs("div",{className:"pill-selects",children:[u.jsxs("label",{className:"pill-select",children:[u.jsx("span",{className:"label",children:"Sp xp Theo"}),u.jsxs("select",{value:e.sortBy,onChange:z=>R(z.target.value),children:[u.jsx("option",{value:"reputation",children:" uy tn"}),u.jsx("option",{value:"buyPrice",children:"Gi mua vo"}),u.jsx("option",{value:"sellPrice",children:"Gi bn ra"}),u.jsx("option",{value:"spread",children:"Chnh lch gi"})]})]}),u.jsx(Qct,{})]})]})})})});AO.displayName="FilterBar";const ME=({vendorData:n,isInternational:t=!1,reloadCurrent:e,exchangeRateUSD:i=27109})=>{const r=Gi();if(!n||!n.items||n.items.length===0)return null;const a=l=>{l&&l.stopPropagation&&l.stopPropagation();const c=`/${encodeURIComponent(n.name)}`;r(c)};let s=0,o=0;return u.jsxs("div",{"data-vendor":n.name,className:`price-table-card ${t?"international-table":""}`,onClick:a,children:[u.jsx("div",{className:"table-header",children:u.jsxs("div",{className:"header-top",children:[u.jsxs("div",{className:"header-left-info",children:[u.jsx("h2",{className:"vendor-name",children:n.name}),n.quoc_gia&&u.jsxs("div",{style:{display:"flex"},children:[u.jsxs("span",{className:"country-badge",children:[" ",n.quoc_gia]}),u.jsxs("span",{className:"country-badge red ",children:[n.distance," Km"]})]}),u.jsxs("p",{className:"update-time",children:["Cp nht: ",n.fetched_at||n.timestamp]})]}),u.jsxs("div",{children:[n.do_uy_tin!==void 0&&n.do_uy_tin!==null&&u.jsxs("p",{className:"trust-badge",style:{color:j9(n.do_uy_tin)},children:["  uy tn: ",n.do_uy_tin]}),u.jsxs("button",{className:"reload-btn",onClick:l=>{l.stopPropagation(),e&&e()},children:[u.jsx(vut,{size:18,style:{marginRight:6}}),"Ti li"]})]})]})}),u.jsx("div",{className:"table-wrapper",children:u.jsxs("table",{className:"price-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"col-product",children:"LOI VNG"}),u.jsx("th",{className:"col-price",children:"MUA VO"}),u.jsx("th",{className:"col-price",children:"BN RA"}),t&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"col-price",children:"GI GC (USD)"}),u.jsx("th",{className:"col-price",children:"BN CH EN"}),u.jsx("th",{className:"col-rate",children:"T GI CH EN"}),u.jsx("th",{className:"col-rate",children:"T GI NGN HNG"})]})]})}),u.jsx("tbody",{children:(()=>{const l=g=>g.purity==="1KG_BAC_999"||g.purity==="9999",c=n.items.filter(l),h=n.items.filter(g=>!l(g));return[...c,...h].map((g,y)=>{const x=g.purity==="9999",w=g.purity==="1KG_BAC_999";x&&(g?.sell?s=g?.sell:g?.buy&&(s=g?.buy)),w&&(g?.sell?o=g?.sell:g?.buy&&(o=g?.buy));const k=x?"highlight-9999":w?"highlight-silver":"";return u.jsxs("tr",{className:k,children:[u.jsxs("td",{className:"product-name",children:[g.name||g.product,x&&u.jsx("span",{className:"gold-badge",children:" 9999"}),w&&u.jsx("span",{className:"silver-badge",children:" 1KG"})]}),u.jsx("td",{className:"price-buy",children:mg(g.buy)}),u.jsx("td",{className:"price-sell",children:mg(g.sell)}),t&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"price-original",children:g.gia_goc?`$${g.gia_goc.toLocaleString("en-US")}`:"N/A"}),u.jsx("td",{className:"price-black-market",children:mg(g.sell_cho_den)}),u.jsx("td",{className:"rate-black",children:g.ty_gia_cho_den?g.ty_gia_cho_den.toLocaleString("vi-VN"):"N/A"}),u.jsx("td",{className:"rate-bank",children:g.ty_gia_ngan_hang?g.ty_gia_ngan_hang.toLocaleString("vi-VN"):"N/A"})]})]},y)})})()})]})}),u.jsx("div",{className:"table-footer",children:(()=>{const l=n.items.find(g=>g.purity==="9999"),c=n.items.find(g=>g.purity==="1KG_BAC_999"),h=l?ZC(l.sell,l.buy):null,d=c?ZC(c.sell,c.buy):null;return u.jsxs("div",{className:"spread-info",children:[s>0&&u.jsxs("small",{className:"spread-item",children:["Quy i: ",u.jsx("span",{style:{color:"#f1c40f",fontWeight:"bold",fontSize:"14px"},children:(s/i/1.20565303).toFixed(2)})," USD / 1 ounce"]}),h>0&&u.jsxs("small",{className:"spread-item",children:[" Chnh lch Vng 9999:"," ",u.jsx("strong",{children:mg(h)})]}),o>0&&u.jsxs("small",{className:"spread-item",children:["Quy i: ",u.jsx("span",{style:{color:"#ecf0f1"},children:(o/i/1e3*31.1035).toFixed(2)})," USD / 1 ounce"]}),d>0&&u.jsxs("small",{className:"spread-item",children:[" Chnh lch Bc 1KG:"," ",u.jsx("strong",{children:mg(d)})]})]})})()})]})},D9=n=>n?n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").toLowerCase().trim().replace(/\s+/g,"_"):"",O9=mr.memo(({loading:n,error:t,displayedPrices:e,filterOptions:i,onFilterChange:r,loadingProgress:a,availableCountries:s,showAnalysis:o,onToggleAnalysis:l,exchangeRateUSD:c})=>{const h=Gi(),{coords:d}=CO(),[g,y]=N.useState({sortBy:"reputation",sortOrder:"asc",distanceKm:"all"});N.useEffect(()=>{y(V=>({...V,distanceKm:i.region==="international"?"all":"20"}))},[i.region,i.type]);const x=N.useMemo(()=>{let V=[];if(e.forEach(Z=>{const rt=[],lt=[];Z.items.forEach(mt=>{mt.product==="SJC Tu Do"?rt.push(mt):lt.push(mt)}),lt.length>0&&V.push({...Z,items:lt,skipDistanceFilter:!1}),rt.forEach(mt=>{V.push({...Z,name:Z.name+" - "+mt.product,items:[mt],do_uy_tin:1,skipDistanceFilter:!0})})}),d&&(V=L9(V,d.latitude,d.longitude)),g.distanceKm!=="all"){const Z=parseInt(g.distanceKm,10);V=V.filter(rt=>rt.skipDistanceFilter||rt.distance!=null&&rt.distance<=Z)}return V},[e,d,g.distanceKm]),{trustGroups:w,trustLevels:k}=N.useMemo(()=>{let V={},Z=[];return g.sortBy==="reputation"?(x.forEach(lt=>{const mt=lt.do_uy_tin??0;V[mt]||(V[mt]=[]),V[mt].push(lt)}),Z=Object.keys(V).map(Number).sort((lt,mt)=>g.sortOrder==="asc"?lt-mt:mt-lt)):(V={0:x},Z=[0]),{trustGroups:V,trustLevels:Z}},[x,g.sortBy,g.sortOrder]),A=N.useCallback(V=>{const{sortBy:Z,sortOrder:rt}=g;return[...V].sort((lt,mt)=>{let ct=0,st=0;const xt=ot=>ot.items.find(vt=>vt.purity==="9999"||vt.product==="SJC Tu Do"),dt=xt(lt),ht=xt(mt);switch(Z){case"buyPrice":ct=dt?.buy??0,st=ht?.buy??0;break;case"sellPrice":case"gold9999":ct=dt?.sell??0,st=ht?.sell??0;break;case"reputation":ct=lt.do_uy_tin??0,st=mt.do_uy_tin??0;break;case"spread":ct=dt?dt.sell-dt.buy:0,st=ht?ht.sell-ht.buy:0;break}return rt==="asc"?ct-st:st-ct})},[g.sortBy,g.sortOrder]),T=g.sortBy==="reputation",{region:R,type:G,day:z,month:F,year:H,hour:Y,minute:J}=i,nt=`/comparison-chart/${R}/${G}/${z}/${F}/${H}/${Y}/${J}/`;return n&&e.length===0?u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti d liu gi vng..."}),a.total>0&&u.jsxs("p",{className:"loading-progress",children:[" ti ",a.loaded,"/",a.total," ngun"]})]}):t?u.jsxs("div",{className:"error-container",children:[u.jsxs("p",{className:"error-message",children:[" ",t]}),u.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]}):u.jsxs(u.Fragment,{children:[u.jsx(AO,{filterOptions:i,onFilterChange:r,uiFilter:g,setUiFilter:y,availableCountries:s,showAnalysis:o,onToggleAnalysis:l}),x.length===0?u.jsx("div",{className:"no-data",children:u.jsx("p",{children:"Khng c d liu  hin th"})}):u.jsxs(u.Fragment,{children:[n&&u.jsxs("div",{className:"loading-banner",children:[u.jsx("span",{className:"spinner-small"}),"ang ti thm... (",a.loaded,"/",a.total,")"]}),k.map(V=>{const Z=A(w[V]),rt=Z.map(lt=>D9(lt?.name)).join("|");return u.jsxs("div",{className:"trust-group",children:[T&&u.jsxs("h3",{className:"trust-header",children:["  uy tn ",V]}),u.jsxs("div",{className:"group-actions",children:[u.jsx("button",{className:"pill-btn",onClick:()=>h(`/so-sanh-nha-vang?data=${rt}`),children:"Biu  so snh gi lch s"}),u.jsxs(dd,{to:`${nt}${V}`,className:"pill-btn",children:["Biu  so snh gi ",i.type==="gold"?"vng":"bc"," hin ti"]})]}),u.jsx("div",{className:`price-grid ${i.region==="international"?"grid-international":""}`,children:Z.map((lt,mt)=>u.jsx(ME,{vendorData:lt,isInternational:i.region==="international",exchangeRateUSD:c},`${lt.name}-${mt}`))})]},V)})]})]})});O9.displayName="GoldPriceDashboard";function kut(n,t,e,i){const a=(e-n)*Math.PI/180,s=(i-t)*Math.PI/180,o=Math.sin(a/2)*Math.sin(a/2)+Math.cos(n*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2),l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return parseInt(6371*l)}const L9=(n,t,e)=>n.map(i=>{if(!i.maps||i.maps.length===0)return{...i,distance:0};const r=i.maps.map(a=>kut(t,e,a.lat,a.long)).filter(a=>!isNaN(a));return r.length===0?{...i,distance:0}:{...i,distance:Math.min(...r)}});gi.register(qr,Ji,Fa,Xr,pa,Qi,sr);const yz=n=>{if(n==null)return"";try{const t=String(n).trim().replace(" ","T"),e=new Date(t);return isNaN(e)?String(n):e.toLocaleString("vi-VN")}catch{return String(n)}},Zn=n=>Math.round(n).toLocaleString("vi-VN")+" ",R9=(n=[])=>{if(!Array.isArray(n))return[];const t=e=>{if(!e)return 0;const i=e?.dautuan?.datetime||e?.date||e?.datetime||e?.timestamp||e?.id_time||e?.thoigian||e?.cuoituan?.datetime;if(!i)return 0;const r=String(i).split(" ")[0],a=new Date(r.replace(" ","T"));return isNaN(a)?0:a.getTime()};return n.slice().map(e=>({wk:e,ts:t(e)})).sort((e,i)=>e.ts-i.ts).map(e=>e.wk)},vz=(n,t,e=[],i=!1,r=()=>"",a=()=>"",s=()=>[],o=()=>{},l=()=>{},c=()=>{},h=()=>{},d=()=>{},g=null,y=()=>{})=>{if(!Array.isArray(e)||e.length===0)return null;const x=g?e.filter(w=>(w?.name_server||w?.name)===(g?.name_server||g?.name)):e;return u.jsxs("div",{className:"analysis-block",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("h2",{className:`analysis-title-${t==="gold"?"gold":"silver"}`,children:n}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx("button",{className:`filter-btn ${i?"active":""}`,onClick:()=>h(),"aria-label":`Xem d liu ${i?"thu gn":"xem thm"}`,style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:i?"Thu gn":"Xem thm"}),u.jsx("button",{className:"filter-btn",onClick:()=>y(),style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:" Biu "})]})]}),u.jsxs("table",{className:"analysis-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Nh vng"}),u.jsx("th",{children:"Gi mua"}),u.jsx("th",{children:"Gi bn"}),u.jsx("th",{children:"Li nhun"}),u.jsx("th",{children:"T l (%)"})]})}),u.jsx("tbody",{children:x.filter(w=>typeof w.loinhuan=="number"&&typeof w.tilephantram_all=="number").map((w,k)=>{const A=i?s(w):[];return u.jsxs(mr.Fragment,{children:[u.jsxs("tr",{"data-vendor":w?.name_server||w?.name,title:`Ngy mua u: ${yz(w?.cuoi?.datetime)}
Ngy mua cui: ${yz(w?.dau?.datetime)}`,children:[u.jsx("td",{children:u.jsxs("div",{children:[u.jsx("b",{style:{fontSize:"13px",cursor:"pointer"},onClick:()=>d(w),role:"button",tabIndex:0,children:w.name_server}),u.jsx("br",{}),u.jsx("small",{style:{color:"var(--muted)",fontSize:"13px"},children:(()=>{const T=new Date(String(w?.dau?.datetime||"").replace(" ","T")),R=new Date(String(w?.cuoi?.datetime||"").replace(" ","T")),G=T<R?T:R,z=T<R?R:T;return`${G.toLocaleDateString("vi-VN")} - ${z.toLocaleDateString("vi-VN")}`})()})]})}),u.jsx("td",{children:u.jsxs("div",{style:{fontSize:"14px"},children:[u.jsxs("div",{style:{marginBottom:"4px"},children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),u.jsx("small",{children:(()=>{const T=w?.cuoi?.buy||w?.cuoi?.gia||w?.cuoi?.price;return T?Zn(T):""})()})]}),u.jsxs("div",{children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),u.jsx("small",{children:(()=>{const T=w?.dau?.buy||w?.dau?.gia||w?.dau?.price;return T?Zn(T):""})()})]})]})}),u.jsx("td",{children:u.jsxs("div",{style:{fontSize:"14px"},children:[u.jsxs("div",{style:{marginBottom:"4px"},children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),u.jsx("small",{children:(()=>{const T=w?.cuoi?.sell||w?.cuoi?.gia_ban||w?.cuoi?.price_sell;return T?Zn(T):""})()})]}),u.jsxs("div",{children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),u.jsx("small",{children:(()=>{const T=w?.dau?.sell||w?.dau?.gia_ban||w?.dau?.price_sell;return T?Zn(T):""})()})]})]})}),u.jsx("td",{className:w.loinhuan>=0?"text-up":"text-down",children:Zn(w.loinhuan)}),u.jsxs("td",{className:w.tilephantram_all>=0?"text-up":"text-down",children:[w.tilephantram_all.toFixed(2),"%"]})]}),i&&A.length>0&&R9(A).map((T,R)=>{const G=o(T,R),z=r(T),F=a(T),H=l(T),Y=c(T);return u.jsxs("tr",{style:{backgroundColor:"rgba(255,255,255,0.05)"},children:[u.jsxs("td",{style:{fontSize:"13px",color:"var(--muted)"},children:[u.jsx("small",{style:{fontSize:"13px"},children:G.label}),u.jsx("br",{}),u.jsx("small",{style:{fontSize:"13px"},children:G.range})]}),u.jsx("td",{children:u.jsxs("div",{style:{fontSize:"13.5px"},children:[u.jsxs("div",{style:{marginBottom:"4px"},children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u tun:"}),u.jsx("small",{children:z})]}),u.jsxs("div",{children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui tun:"}),u.jsx("small",{children:F})]})]})}),u.jsx("td",{children:u.jsxs("div",{style:{fontSize:"13.5px"},children:[u.jsxs("div",{style:{marginBottom:"4px"},children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u tun:"}),u.jsx("small",{children:(()=>{if(!T)return"";if(T.dautuan){if(typeof T.dautuan?.sell=="number")return Zn(T.dautuan.sell);if(typeof T.dautuan?.gia_ban=="number")return Zn(T.dautuan.gia_ban);if(typeof T.dautuan?.price_sell=="number")return Zn(T.dautuan.price_sell)}return typeof T.sell_dau=="number"?Zn(T.sell_dau):typeof T.gia_ban_dau=="number"?Zn(T.gia_ban_dau):""})()})]}),u.jsxs("div",{children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui tun:"}),u.jsx("small",{children:(()=>{if(!T)return"";if(T.cuoituan){if(typeof T.cuoituan?.sell=="number")return Zn(T.cuoituan.sell);if(typeof T.cuoituan?.gia_ban=="number")return Zn(T.cuoituan.gia_ban);if(typeof T.cuoituan?.price_sell=="number")return Zn(T.cuoituan.price_sell)}return typeof T.sell_cuoi=="number"?Zn(T.sell_cuoi):typeof T.gia_ban_cuoi=="number"?Zn(T.gia_ban_cuoi):""})()})]})]})}),u.jsx("td",{className:H.isPositive===!0?"text-up":H.isPositive===!1?"text-down":"",children:u.jsx("small",{style:{fontSize:"13px"},children:H.value})}),u.jsx("td",{className:Y.isPositive===!0?"text-up":Y.isPositive===!1?"text-down":"",children:u.jsx("small",{style:{fontSize:"13px"},children:Y.value})})]},`week-${R}`)})]},k)})})]})]})},xz=({type:n,data:t,title:e})=>{if(!Array.isArray(t)||t.length===0)return u.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[u.jsx("h3",{style:{color:n==="gold"?"#f1c40f":"#c0c0c0"},children:e}),u.jsx("p",{children:"Khng c d liu"})]});const i=[...t].sort((s,o)=>o.loinhuan-s.loinhuan),r={labels:i.map(s=>s.name_server),datasets:[{type:"bar",label:"Li nhun (VND)",data:i.map(s=>s.loinhuan||0),backgroundColor:n==="gold"?"#f1c40f":"#c0c0c0",borderColor:n==="gold"?"#f39c12":"#95a5a6",borderWidth:1,yAxisID:"y1"},{type:"line",label:"T l (%)",data:i.map(s=>s.tilephantram_all||0),borderColor:n==="gold"?"#f39c12":"#95a5a6",backgroundColor:n==="gold"?"rgba(241, 196, 15, 0.1)":"rgba(192, 192, 192, 0.1)",yAxisID:"y2",tension:.3,pointRadius:4,pointBackgroundColor:n==="gold"?"#f39c12":"#95a5a6",pointBorderColor:"#fff"}]},a={responsive:!0,maintainAspectRatio:!1,scales:{y1:{position:"left",title:{display:!0,text:"Li nhun (VND)",color:"white"},ticks:{color:"white",callback:function(s){return Math.round(s/1e6)+"M"}},grid:{color:"rgba(255, 255, 255, 0.1)"}},y2:{position:"right",title:{display:!0,text:"T l (%)",color:"white"},ticks:{color:"white"},grid:{display:!1},min:0,max:function(s){return Math.max(...s.chart.data.datasets[1].data)*1.5}},x:{ticks:{color:"#e74c3c",maxRotation:30,minRotation:30,font:{size:10},maxTicksLimit:20,callback:function(s,o,l){return this.getLabelForValue(s)}},grid:{display:!1}}},plugins:{legend:{display:!0,position:"top",labels:{color:"white",font:{size:12},usePointStyle:!0}},tooltip:{mode:"index",intersect:!1,callbacks:{label:s=>s.dataset.label==="Li nhun (VND)"?`Li nhun: ${Zn(s.raw)}`:`T l: ${Number(s.raw).toFixed(2)}%`}}}};return u.jsxs("div",{style:{marginBottom:"30px"},children:[u.jsx("h3",{style:{color:n==="gold"?"#f1c40f":"#c0c0c0",textAlign:"center",marginBottom:"10px"},children:e}),u.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",color:"#e74c3c",fontSize:"14px",fontWeight:"600"},children:["Khong thi gian so snh: ",(()=>{if(i.length>0){const s=i[0],o=s?.dau?.datetime,l=s?.cuoi?.datetime;if(o&&l){const c=new Date(o),h=new Date(l),d=c<h?c:h,g=c<h?h:c;return`${d.toLocaleDateString("vi-VN")} - ${g.toLocaleDateString("vi-VN")}`}}return"Thi gian khng xc nh"})()]}),u.jsx("div",{style:{padding:"20px",display:"flex",justifyContent:"center",height:"400px"},children:u.jsx(xa,{data:r,options:a,plugins:[{id:"datalabels",afterDraw:s=>{const o=s.ctx;o.font="bold 11px Arial",o.textAlign="center",o.textBaseline="bottom",s.data.datasets.forEach((l,c)=>{l.type==="bar"&&s.getDatasetMeta(c).data.forEach((d,g)=>{const y=s.data.datasets.find(w=>w.type==="line"),x=y?y.data[g]:0;if(x!==0){const w=d.x,k=d.y-6;o.fillStyle=n==="gold"?"#f1c40f":"#c0c0c0",o.fillText(x.toFixed(2)+"%",w,k)}})})}}]})})]})},Cut=()=>{const n=["VANG ANCARAT","BAO TIN MANH HAI","KIM NGN PHC H NI","VANG BTMC","SINH DIN BC NINH","Anh Minh H Tng Mu HN","Sacombank-SBJ GOLD","VANG DOJI","VANG PNJ","BAO TIN LAN VY CU GIY HN","Mi Hong 9999","NGC THM NG THP","Ph Qu Vng"],t=["BAC ANCARAT","KIM NGN PHC H NI","Kim Khnh H Nam","Anh Minh H Tng Mu HN","Ph Qu Bc","Sacombank-SBJ Silver","KIM TN CAO BNG"],[e,i]=N.useState(null),[r,a]=N.useState(null),[s,o]=N.useState(!1),[l,c]=N.useState(!1),[h,d]=N.useState(null),[g,y]=N.useState(!0),[x,w]=N.useState("gold");N.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/phantich_tangtruong_toanbo_vangbac").then(st=>st.json()).then(st=>{const xt=st?.data?.results;if(xt){a(xt);const dt={vang:(xt.vang||[]).filter(ht=>n.includes(ht?.name_server||ht?.name)),bac:(xt.bac||[]).filter(ht=>t.includes(ht?.name_server||ht?.name))};i(dt)}else i(null),a(null)}).catch(()=>{i(null),a(null)})},[]);const k=no(),A=Gi();N.useEffect(()=>{const xt=new URLSearchParams(k.search).get("chart");y(xt===null||xt==="combined"?!0:xt!=="table")},[k.search]);const T=()=>{const st=new URLSearchParams(k.search);st.set("chart","combined"),A(`${k.pathname}?${st.toString()}`,{replace:!0}),y(!0)},R=()=>{const st=new URLSearchParams(k.search);st.set("chart","table");const xt=st.toString();A(`${k.pathname}?${xt}`,{replace:!0}),y(!1)},[G,z]=N.useState(!1),[F,H]=N.useState([]),[Y,J]=N.useState(""),nt=st=>{if(!st)return[];const xt=[st.cac_tuan,st.phan_tich_cactuan,st.phantich_cactuan,st.phan_tich?.cactuan,st.phantich?.cactuan,st.weeks,st.list_week,st.list_weeks,st.weekly,st.phantich];for(const dt of xt)if(Array.isArray(dt)&&dt.length)return dt;return[]},V=(st,xt)=>{const dt=st?.dautuan?.datetime,ht=st?.cuoituan?.datetime;let ot="",vt="";if(dt){const St=String(dt).split(" ")[0];try{const Pt=new Date(St.replace(" ","T"));isNaN(Pt)||(ot=Pt.toLocaleDateString("vi-VN"))}catch{}}if(ht){const St=String(ht).split(" ")[0];try{const Pt=new Date(St.replace(" ","T"));isNaN(Pt)||(vt=Pt.toLocaleDateString("vi-VN"))}catch{}}return{label:u.jsx("span",{children:u.jsxs("strong",{children:["Tun ",xt+1]})}),range:`${ot}-${vt}`}},Z=st=>{if(!st)return{value:"",isPositive:null};if(typeof st.loinhuan=="number")return{value:Zn(st.loinhuan),isPositive:st.loinhuan>=0};if(typeof st.loinhuan_vnd=="number")return{value:Zn(st.loinhuan_vnd),isPositive:st.loinhuan_vnd>=0};if(typeof st.loi_nhuan=="number")return{value:Zn(st.loi_nhuan),isPositive:st.loi_nhuan>=0};for(const xt of Object.keys(st||{}))if(xt.includes("loinhuan")&&typeof st[xt]=="number")return{value:Zn(st[xt]),isPositive:st[xt]>=0};return{value:"",isPositive:null}},rt=st=>{if(!st)return{value:"",isPositive:null};if(typeof st.tilephantram_1tuan=="number")return{value:`${st.tilephantram_1tuan.toFixed(2)}%`,isPositive:st.tilephantram_1tuan>=0};if(typeof st.tilephantram=="number")return{value:`${st.tilephantram.toFixed(2)}%`,isPositive:st.tilephantram>=0};if(typeof st.ti_le_tang_truong=="number")return{value:`${st.ti_le_tang_truong.toFixed(2)}%`,isPositive:st.ti_le_tang_truong>=0};if(typeof st.tilephantram_all=="number")return{value:`${st.tilephantram_all.toFixed(2)}%`,isPositive:st.tilephantram_all>=0};for(const xt of Object.keys(st||{}))if((xt.includes("tile")||xt.includes("percent"))&&typeof st[xt]=="number")return{value:`${Number(st[xt]).toFixed(2)}%`,isPositive:st[xt]>=0};return{value:"",isPositive:null}},lt=st=>{if(!st)return"";if(st.dautuan){if(typeof st.dautuan?.buy=="number")return Zn(st.dautuan.buy);if(typeof st.dautuan?.gia=="number")return Zn(st.dautuan.gia);if(typeof st.dautuan?.price=="number")return Zn(st.dautuan.price);if(typeof st.dautuan?.gia_mua=="number")return Zn(st.dautuan.gia_mua)}if(typeof st.gia_dau=="number")return Zn(st.gia_dau);if(typeof st.gia_dau_tuan=="number")return Zn(st.gia_dau_tuan);if(typeof st.open_price=="number")return Zn(st.open_price);for(const xt of Object.keys(st||{}))if((xt.includes("gia_dau")||xt.includes("open"))&&typeof st[xt]=="number")return Zn(st[xt]);return""},mt=st=>{if(!st)return"";if(st.cuoituan){if(typeof st.cuoituan?.buy=="number")return Zn(st.cuoituan.buy);if(typeof st.cuoituan?.gia=="number")return Zn(st.cuoituan.gia);if(typeof st.cuoituan?.price=="number")return Zn(st.cuoituan.price);if(typeof st.cuoituan?.gia_mua=="number")return Zn(st.cuoituan.gia_mua)}if(typeof st.gia_cuoi=="number")return Zn(st.gia_cuoi);if(typeof st.gia_cuoi_tuan=="number")return Zn(st.gia_cuoi_tuan);if(typeof st.close_price=="number")return Zn(st.close_price);for(const xt of Object.keys(st||{}))if((xt.includes("gia_cuoi")||xt.includes("close"))&&typeof st[xt]=="number")return Zn(st[xt]);return""},ct=st=>{d(st)};if(N.useEffect(()=>{const xt=new URLSearchParams(k.search).get("vendor");if(xt&&e){const ht=(e.vang||[]).concat(e.bac||[]).find(ot=>(ot?.name_server||ot?.name)===xt);if(ht){let ot=nt(ht)||[];ot=ot.sort((vt,St)=>{const Pt=new Date(String(vt?.dautuan?.datetime||vt?.date||"").replace(" ","T")),It=new Date(String(St?.dautuan?.datetime||St?.date||"").replace(" ","T"));return Pt-It}),J(ht?.name_server||ht?.name||""),H(ot),z(!0)}}},[k.search,e]),N.useEffect(()=>{if(!G){const st=new URLSearchParams(k.search);if(st.has("vendor")){st.delete("vendor");const xt=st.toString();A(`${k.pathname}${xt?`?${xt}`:""}`,{replace:!0})}}},[G]),!e)return u.jsx("p",{children:" ang ti..."});if(h){const st=h,xt=nt(st)||[];return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:()=>d(null),children:u.jsxs("div",{style:{backgroundColor:"var(--bg-secondary)",borderRadius:"8px",padding:"20px",maxHeight:"90vh",overflowY:"auto",maxWidth:"900px",width:"100%",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},onClick:dt=>dt.stopPropagation(),children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[u.jsx("h2",{style:{margin:0},children:st?.name_server||st?.name}),u.jsx("button",{onClick:()=>d(null),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-muted)"},children:""})]}),u.jsxs("table",{className:"analysis-table",style:{width:"100%"},children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Tun"}),u.jsx("th",{children:"Gi mua"}),u.jsx("th",{children:"Gi bn"}),u.jsx("th",{children:"Li nhun"}),u.jsx("th",{children:"T l (%)"})]})}),u.jsx("tbody",{children:R9(xt).map((dt,ht)=>{const ot=V(dt,ht),vt=lt(dt),St=mt(dt),Pt=Z(dt),It=rt(dt);return u.jsxs("tr",{children:[u.jsxs("td",{style:{fontSize:"13px",color:"var(--muted)"},children:[u.jsx("small",{style:{fontSize:"13px"},children:ot.label}),u.jsx("br",{}),u.jsx("small",{style:{fontSize:"13px"},children:ot.range})]}),u.jsx("td",{children:u.jsxs("div",{style:{fontSize:"13.5px"},children:[u.jsxs("div",{style:{marginBottom:"4px"},children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),u.jsx("small",{children:vt})]}),u.jsxs("div",{children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),u.jsx("small",{children:St})]})]})}),u.jsx("td",{children:u.jsxs("div",{style:{fontSize:"13.5px"},children:[u.jsxs("div",{style:{marginBottom:"4px"},children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"u:"}),u.jsx("small",{children:(()=>{if(!dt)return"";if(dt.dautuan){if(typeof dt.dautuan?.sell=="number")return Zn(dt.dautuan.sell);if(typeof dt.dautuan?.gia_ban=="number")return Zn(dt.dautuan.gia_ban);if(typeof dt.dautuan?.price_sell=="number")return Zn(dt.dautuan.price_sell)}return typeof dt.sell_dau=="number"?Zn(dt.sell_dau):typeof dt.gia_ban_dau=="number"?Zn(dt.gia_ban_dau):""})()})]}),u.jsxs("div",{children:[u.jsx("small",{style:{color:"var(--muted)",marginRight:6,fontWeight:"bold"},children:"Cui:"}),u.jsx("small",{children:(()=>{if(!dt)return"";if(dt.cuoituan){if(typeof dt.cuoituan?.sell=="number")return Zn(dt.cuoituan.sell);if(typeof dt.cuoituan?.gia_ban=="number")return Zn(dt.cuoituan.gia_ban);if(typeof dt.cuoituan?.price_sell=="number")return Zn(dt.cuoituan.price_sell)}return typeof dt.sell_cuoi=="number"?Zn(dt.sell_cuoi):typeof dt.gia_ban_cuoi=="number"?Zn(dt.gia_ban_cuoi):""})()})]})]})}),u.jsx("td",{className:Pt.isPositive===!0?"text-up":Pt.isPositive===!1?"text-down":"",children:u.jsx("small",{style:{fontSize:"13px"},children:Pt.value})}),u.jsx("td",{className:It.isPositive===!0?"text-up":It.isPositive===!1?"text-down":"",children:u.jsx("small",{style:{fontSize:"13px"},children:It.value})})]},`week-${ht}`)})})]})]})})}return u.jsx(u.Fragment,{children:g?u.jsxs("div",{className:"analysis-block",children:[u.jsx("div",{style:{backgroundColor:"rgba(241, 196, 15, 0.1)",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid rgba(241, 196, 15, 0.3)"},children:u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[u.jsxs("div",{children:[u.jsx("h3",{style:{color:"#f1c40f",margin:"0 0 5px 0",fontSize:"16px",fontWeight:"bold"},children:" TOOL PHN TCH GI VNG - BC - T GI"}),u.jsxs("p",{style:{color:"#94a3b8",margin:0,fontSize:"13px"},children:["Cp nht ln cui: ",(()=>{if(e?.vang&&e.vang.length>0){const st=e.vang[0],xt=st?.cuoi?.datetime||st?.dau?.datetime;if(xt)return new Date(xt).toLocaleString("vi-VN")}if(e?.bac&&e.bac.length>0){const st=e.bac[0],xt=st?.cuoi?.datetime||st?.dau?.datetime;if(xt)return new Date(xt).toLocaleString("vi-VN")}return new Date().toLocaleString("vi-VN")})()]})]}),u.jsx("div",{style:{color:"#e74c3c",fontSize:"12px",fontStyle:"italic",textAlign:"right"},children:"Thi gian update cui cng hin th  y"})]})}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[u.jsx("h2",{className:"analysis-title-gold",children:" Biu  Phn tch Tng trng"}),u.jsx("button",{className:"filter-btn active",onClick:()=>R(),style:{fontSize:"16px",fontWeight:"600",padding:"10px 16px"},children:" Xem bng"})]}),u.jsx(xz,{type:"gold",data:e?.vang,title:" Biu  Tng trng Vng"}),u.jsx(xz,{type:"silver",data:e?.bac,title:" Biu  Tng trng Bc"})]}):u.jsxs(u.Fragment,{children:[vz(" Phn tch tng trng ca Vng ca cc nh vng","gold",s?r?.vang:e?.vang,s,lt,mt,nt,V,Z,rt,()=>{o(!s)},ct,h,()=>{T()}),vz(" Phn tch tng trng ca Bc ca cc nh vng","silver",l?r?.bac:e?.bac,l,lt,mt,nt,V,Z,rt,()=>{c(!l)},ct,h,()=>{T()})]})})},QC=n=>({"FX_IDC:XAUUSD":"Vng Th gii (XAU/USD)","OANDA:XAUXAG":"T l Vng/Bc (XAU/XAG)","FX_IDC:XAGUSD":"Bc Th gii (XAG/USD)","TICKMILL:DXY":"Dollar Index (DXY)"})[n]||n,Aut=({symbol:n})=>{const t=Tut(n);return u.jsx("div",{className:"fullscreen-chart-container",style:{height:"100%",width:"100%"},children:u.jsx("iframe",{src:t,frameBorder:"0",allow:"transparency; fullscreen",allowFullScreen:!0,className:"tradingview-fullscreen-iframe",title:QC(n),style:{width:"100%",height:"100%"}})})},Tut=n=>{const t="https://www.tradingview-widget.com/embed-widget/advanced-chart/";let e="5",i=!1,r=!1;n==="TICKMILL:DXY"&&(e="60",i=!0,r=!1),n==="FX_IDC:XAUUSD"&&(e="5",i=!1);const s=JSON.stringify({width:"100%",height:"100%",symbol:n,interval:e,timezone:"Asia/Ho_Chi_Minh",theme:"dark",style:"1",backgroundColor:"rgba(26, 26, 26, 1)",withdateranges:!0,hide_side_toolbar:!1,hide_top_toolbar:!1,hide_legend:r,hide_volume:i,allow_symbol_change:!0,details:!0,hotlist:n!=="TICKMILL:DXY",show_popup_button:!0,save_image:!0,autosize:!0,support_host:"https://www.tradingview.com",utm_source:n==="TICKMILL:DXY"?"vangsaigon.vn":"giavang.org",utm_medium:n==="TICKMILL:DXY"?"widget":"widget_new",utm_campaign:"advanced-chart","page-uri":n==="TICKMILL:DXY"?"vangsaigon.vn/":"giavang.org/the-gioi/",locale:"vi_VN"}),o=encodeURIComponent(s);return`${t}?locale=vi_VN#${o}`},Mut=({symbol:n,onClick:t})=>{const e=Nut(n,!0);return u.jsxs("div",{className:"mini-tradingview-chart",onClick:()=>t&&t(n),children:[u.jsxs("div",{className:"chart-header",children:[u.jsx("h3",{className:"chart-title",children:QC(n)}),u.jsx("span",{className:"zoom-hint",children:"Click  phng to"})]}),u.jsx("div",{className:"chart-container",style:{width:"100%"},children:u.jsx("iframe",{src:e,frameBorder:"0",allow:"transparency; fullscreen",allowFullScreen:!0,className:"tradingview-iframe",title:QC(n),style:{width:"100%",height:"100%",pointerEvents:"none"}})})]})},Nut=(n,t=!1)=>{const e="https://www.tradingview-widget.com/embed-widget/advanced-chart/";let i="5",r=!1,a=!1;n==="TICKMILL:DXY"&&(i="5",r=!0,a=!1),n==="FX_IDC:XAUUSD"&&(i="5",r=!1);const o=JSON.stringify({width:"100%",height:"100%",symbol:n,interval:i,timezone:"Asia/Ho_Chi_Minh",theme:"dark",style:"1",backgroundColor:"rgba(26, 26, 26, 1)",withdateranges:!0,hide_side_toolbar:t,hide_top_toolbar:!1,hide_legend:a,hide_volume:r,allow_symbol_change:!t,details:!t,hotlist:!t,show_popup_button:!t,save_image:!0,autosize:!0,support_host:"https://www.tradingview.com",utm_source:n==="TICKMILL:DXY"?"vangsaigon.vn":"giavang.org",utm_medium:n==="TICKMILL:DXY"?"widget":"widget_new",utm_campaign:"advanced-chart","page-uri":n==="TICKMILL:DXY"?"vangsaigon.vn/":"giavang.org/the-gioi/",locale:"vi_VN"}),l=encodeURIComponent(o);return`${e}?locale=vi_VN#${l}`};function I9(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=I9(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Vr(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=I9(n))&&(i&&(i+=" "),i+=t);return i}var Put=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function TO(n){if(typeof n!="string")return!1;var t=Put;return t.includes(n)}var Eut=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jut=new Set(Eut);function z9(n){return typeof n!="string"?!1:jut.has(n)}function F9(n){return typeof n=="string"&&n.startsWith("data-")}function Vp(n){if(typeof n!="object"||n===null)return{};var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(z9(e)||F9(e))&&(t[e]=n[e]);return t}function MO(n){if(n==null)return null;if(N.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var t=n.props;return Vp(t)}return typeof n=="object"&&!Array.isArray(n)?Vp(n):null}function ch(n){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(z9(e)||F9(e)||TO(e))&&(t[e]=n[e]);return t}var Dut=["children","width","height","viewBox","className","style","title","desc"];function NE(){return NE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},NE.apply(null,arguments)}function Out(n,t){if(n==null)return{};var e,i,r=Lut(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Lut(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var B9=N.forwardRef((n,t)=>{var{children:e,width:i,height:r,viewBox:a,className:s,style:o,title:l,desc:c}=n,h=Out(n,Dut),d=a||{width:i,height:r,x:0,y:0},g=Vr("recharts-surface",s);return N.createElement("svg",NE({},ch(h),{className:g,width:i,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),N.createElement("title",null,l),N.createElement("desc",null,c),e)}),Rut=["children","className"];function PE(){return PE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},PE.apply(null,arguments)}function Iut(n,t){if(n==null)return{};var e,i,r=zut(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function zut(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var Cg=N.forwardRef((n,t)=>{var{children:e,className:i}=n,r=Iut(n,Rut),a=Vr("recharts-layer",i);return N.createElement("g",PE({className:a},ch(r),{ref:t}),e)}),Fut=N.createContext(null);function Na(n){return function(){return n}}const H9=Math.cos,JC=Math.sin,bf=Math.sqrt,t2=Math.PI,PA=2*t2,EE=Math.PI,jE=2*EE,ax=1e-6,But=jE-ax;function G9(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Hut(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return G9;const e=10**t;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}let Gut=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?G9:Hut(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,r){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,e,i,r,a,s){this._append`C${+t},${+e},${+i},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(t,e,i,r,a){if(t=+t,e=+e,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=i-t,c=r-e,h=s-t,d=o-e,g=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(g>ax)if(!(Math.abs(d*l-c*h)>ax)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let y=i-s,x=r-o,w=l*l+c*c,k=y*y+x*x,A=Math.sqrt(w),T=Math.sqrt(g),R=a*Math.tan((EE-Math.acos((w+g-k)/(2*A*T)))/2),G=R/T,z=R/A;Math.abs(G-1)>ax&&this._append`L${t+G*h},${e+G*d}`,this._append`A${a},${a},0,0,${+(d*y>h*x)},${this._x1=t+z*l},${this._y1=e+z*c}`}}arc(t,e,i,r,a,s){if(t=+t,e=+e,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),c=t+o,h=e+l,d=1^s,g=s?r-a:a-r;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>ax||Math.abs(this._y1-h)>ax)&&this._append`L${c},${h}`,i&&(g<0&&(g=g%jE+jE),g>But?this._append`A${i},${i},0,1,${d},${t-o},${e-l}A${i},${i},0,1,${d},${this._x1=c},${this._y1=h}`:g>ax&&this._append`A${i},${i},0,${+(g>=EE)},${d},${this._x1=t+i*Math.cos(a)},${this._y1=e+i*Math.sin(a)}`)}rect(t,e,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function NO(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new Gut(t)}function PO(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function W9(n){this._context=n}W9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function EA(n){return new W9(n)}function U9(n){return n[0]}function Y9(n){return n[1]}function $9(n,t){var e=Na(!0),i=null,r=EA,a=null,s=NO(o);n=typeof n=="function"?n:n===void 0?U9:Na(n),t=typeof t=="function"?t:t===void 0?Y9:Na(t);function o(l){var c,h=(l=PO(l)).length,d,g=!1,y;for(i==null&&(a=r(y=s())),c=0;c<=h;++c)!(c<h&&e(d=l[c],c,l))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+n(d,c,l),+t(d,c,l));if(y)return a=null,y+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:Na(+l),o):n},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Na(+l),o):t},o.defined=function(l){return arguments.length?(e=typeof l=="function"?l:Na(!!l),o):e},o.curve=function(l){return arguments.length?(r=l,i!=null&&(a=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=a=null:a=r(i=l),o):i},o}function wk(n,t,e){var i=null,r=Na(!0),a=null,s=EA,o=null,l=NO(c);n=typeof n=="function"?n:n===void 0?U9:Na(+n),t=typeof t=="function"?t:Na(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?Y9:Na(+e);function c(d){var g,y,x,w=(d=PO(d)).length,k,A=!1,T,R=new Array(w),G=new Array(w);for(a==null&&(o=s(T=l())),g=0;g<=w;++g){if(!(g<w&&r(k=d[g],g,d))===A)if(A=!A)y=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=g-1;x>=y;--x)o.point(R[x],G[x]);o.lineEnd(),o.areaEnd()}A&&(R[g]=+n(k,g,d),G[g]=+t(k,g,d),o.point(i?+i(k,g,d):R[g],e?+e(k,g,d):G[g]))}if(T)return o=null,T+""||null}function h(){return $9().defined(r).curve(s).context(a)}return c.x=function(d){return arguments.length?(n=typeof d=="function"?d:Na(+d),i=null,c):n},c.x0=function(d){return arguments.length?(n=typeof d=="function"?d:Na(+d),c):n},c.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Na(+d),c):i},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Na(+d),e=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Na(+d),c):t},c.y1=function(d){return arguments.length?(e=d==null?null:typeof d=="function"?d:Na(+d),c):e},c.lineX0=c.lineY0=function(){return h().x(n).y(t)},c.lineY1=function(){return h().x(n).y(e)},c.lineX1=function(){return h().x(i).y(t)},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Na(!!d),c):r},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class V9{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function Wut(n){return new V9(n,!0)}function Uut(n){return new V9(n,!1)}const EO={draw(n,t){const e=bf(t/t2);n.moveTo(e,0),n.arc(0,0,e,0,PA)}},Yut={draw(n,t){const e=bf(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},X9=bf(1/3),$ut=X9*2,Vut={draw(n,t){const e=bf(t/$ut),i=e*X9;n.moveTo(0,-e),n.lineTo(i,0),n.lineTo(0,e),n.lineTo(-i,0),n.closePath()}},Xut={draw(n,t){const e=bf(t),i=-e/2;n.rect(i,i,e,e)}},qut=.8908130915292852,q9=JC(t2/10)/JC(7*t2/10),Kut=JC(PA/10)*q9,Zut=-H9(PA/10)*q9,Qut={draw(n,t){const e=bf(t*qut),i=Kut*e,r=Zut*e;n.moveTo(0,-e),n.lineTo(i,r);for(let a=1;a<5;++a){const s=PA*a/5,o=H9(s),l=JC(s);n.lineTo(l*e,-o*e),n.lineTo(o*i-l*r,l*i+o*r)}n.closePath()}},SM=bf(3),Jut={draw(n,t){const e=-bf(t/(SM*3));n.moveTo(0,e*2),n.lineTo(-SM*e,-e),n.lineTo(SM*e,-e),n.closePath()}},Zh=-.5,Qh=bf(3)/2,DE=1/bf(12),tht=(DE/2+1)*3,eht={draw(n,t){const e=bf(t/tht),i=e/2,r=e*DE,a=i,s=e*DE+e,o=-a,l=s;n.moveTo(i,r),n.lineTo(a,s),n.lineTo(o,l),n.lineTo(Zh*i-Qh*r,Qh*i+Zh*r),n.lineTo(Zh*a-Qh*s,Qh*a+Zh*s),n.lineTo(Zh*o-Qh*l,Qh*o+Zh*l),n.lineTo(Zh*i+Qh*r,Zh*r-Qh*i),n.lineTo(Zh*a+Qh*s,Zh*s-Qh*a),n.lineTo(Zh*o+Qh*l,Zh*l-Qh*o),n.closePath()}};function nht(n,t){let e=null,i=NO(r);n=typeof n=="function"?n:Na(n||EO),t=typeof t=="function"?t:Na(t===void 0?64:+t);function r(){let a;if(e||(e=a=i()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),a)return e=null,a+""||null}return r.type=function(a){return arguments.length?(n=typeof a=="function"?a:Na(a),r):n},r.size=function(a){return arguments.length?(t=typeof a=="function"?a:Na(+a),r):t},r.context=function(a){return arguments.length?(e=a??null,r):e},r}function e2(){}function n2(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function K9(n){this._context=n}K9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:n2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:n2(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function iht(n){return new K9(n)}function Z9(n){this._context=n}Z9.prototype={areaStart:e2,areaEnd:e2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:n2(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function rht(n){return new Z9(n)}function Q9(n){this._context=n}Q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:n2(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function aht(n){return new Q9(n)}function J9(n){this._context=n}J9.prototype={areaStart:e2,areaEnd:e2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function sht(n){return new J9(n)}function bz(n){return n<0?-1:1}function wz(n,t,e){var i=n._x1-n._x0,r=t-n._x1,a=(n._y1-n._y0)/(i||r<0&&-0),s=(e-n._y1)/(r||i<0&&-0),o=(a*r+s*i)/(i+r);return(bz(a)+bz(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function _z(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function kM(n,t,e){var i=n._x0,r=n._y0,a=n._x1,s=n._y1,o=(a-i)/3;n._context.bezierCurveTo(i+o,r+o*t,a-o,s-o*e,a,s)}function i2(n){this._context=n}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kM(this,this._t0,_z(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,kM(this,_z(this,e=wz(this,n,t)),e);break;default:kM(this,this._t0,e=wz(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function tU(n){this._context=new eU(n)}(tU.prototype=Object.create(i2.prototype)).point=function(n,t){i2.prototype.point.call(this,t,n)};function eU(n){this._context=n}eU.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,i,r,a){this._context.bezierCurveTo(t,n,i,e,a,r)}};function oht(n){return new i2(n)}function lht(n){return new tU(n)}function nU(n){this._context=n}nU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var i=Sz(n),r=Sz(t),a=0,s=1;s<e;++a,++s)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],n[s],t[s]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function Sz(n){var t,e=n.length-1,i,r=new Array(e),a=new Array(e),s=new Array(e);for(r[0]=0,a[0]=2,s[0]=n[0]+2*n[1],t=1;t<e-1;++t)r[t]=1,a[t]=4,s[t]=4*n[t]+2*n[t+1];for(r[e-1]=2,a[e-1]=7,s[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)i=r[t]/a[t-1],a[t]-=i,s[t]-=i*s[t-1];for(r[e-1]=s[e-1]/a[e-1],t=e-2;t>=0;--t)r[t]=(s[t]-r[t+1])/a[t];for(a[e-1]=(n[e]+r[e-1])/2,t=0;t<e-1;++t)a[t]=2*n[t+1]-r[t+1];return[r,a]}function cht(n){return new nU(n)}function jA(n,t){this._context=n,this._t=t}jA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function uht(n){return new jA(n,.5)}function hht(n){return new jA(n,0)}function dht(n){return new jA(n,1)}function Rb(n,t){if((s=n.length)>1)for(var e=1,i,r,a=n[t[0]],s,o=a.length;e<s;++e)for(r=a,a=n[t[e]],i=0;i<o;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function OE(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function fht(n,t){return n[t]}function ght(n){const t=[];return t.key=n,t}function pht(){var n=Na([]),t=OE,e=Rb,i=fht;function r(a){var s=Array.from(n.apply(this,arguments),ght),o,l=s.length,c=-1,h;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+i(d,s[o].key,c,a)]).data=d;for(o=0,h=PO(t(s));o<l;++o)s[h[o]].index=o;return e(s,h),s}return r.keys=function(a){return arguments.length?(n=typeof a=="function"?a:Na(Array.from(a)),r):n},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:Na(+a),r):i},r.order=function(a){return arguments.length?(t=a==null?OE:typeof a=="function"?a:Na(Array.from(a)),r):t},r.offset=function(a){return arguments.length?(e=a??Rb,r):e},r}function mht(n,t){if((i=n.length)>0){for(var e,i,r=0,a=n[0].length,s;r<a;++r){for(s=e=0;e<i;++e)s+=n[e][r][1]||0;if(s)for(e=0;e<i;++e)n[e][r][1]/=s}Rb(n,t)}}function yht(n,t){if((r=n.length)>0){for(var e=0,i=n[t[0]],r,a=i.length;e<a;++e){for(var s=0,o=0;s<r;++s)o+=n[s][e][1]||0;i[e][1]+=i[e][0]=-o/2}Rb(n,t)}}function vht(n,t){if(!(!((s=n.length)>0)||!((a=(r=n[t[0]]).length)>0))){for(var e=0,i=1,r,a,s;i<a;++i){for(var o=0,l=0,c=0;o<s;++o){for(var h=n[t[o]],d=h[i][1]||0,g=h[i-1][1]||0,y=(d-g)/2,x=0;x<o;++x){var w=n[t[x]],k=w[i][1]||0,A=w[i-1][1]||0;y+=k-A}l+=d,c+=y*d}r[i-1][1]+=r[i-1][0]=e,l&&(e-=c/l)}r[i-1][1]+=r[i-1][0]=e,Rb(n,t)}}var CM={},AM={},kz;function xht(){return kz||(kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==="__proto__"}n.isUnsafeProperty=t})(AM)),AM}var TM={},Cz;function iU(){return Cz||(Cz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}n.isDeepKey=t})(TM)),TM}var MM={},Az;function jO(){return Az||(Az=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="string"||typeof e=="symbol"?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}n.toKey=t})(MM)),MM}var NM={},PM={},Tz;function bht(){return Tz||(Tz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(e==null)return"";if(typeof e=="string")return e;if(Array.isArray(e))return e.map(t).join(",");const i=String(e);return i==="0"&&Object.is(Number(e),-0)?"-0":i}n.toString=t})(PM)),PM}var Mz;function DO(){return Mz||(Mz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=bht(),e=jO();function i(r){if(Array.isArray(r))return r.map(e.toKey);if(typeof r=="symbol")return[r];r=t.toString(r);const a=[],s=r.length;if(s===0)return a;let o=0,l="",c="",h=!1;for(r.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const d=r[o];c?d==="\\"&&o+1<s?(o++,l+=r[o]):d===c?c="":l+=d:h?d==='"'||d==="'"?c=d:d==="]"?(h=!1,a.push(l),l=""):l+=d:d==="["?(h=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,o++}return l&&a.push(l),a}n.toPath=i})(NM)),NM}var Nz;function OO(){return Nz||(Nz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=xht(),e=iU(),i=jO(),r=DO();function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const h=o[l];return h===void 0?e.isDeepKey(l)?a(o,r.toPath(l),c):c:h}case"number":case"symbol":{typeof l=="number"&&(l=i.toKey(l));const h=o[l];return h===void 0?c:h}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const h=o[l];return h===void 0?c:h}}}function s(o,l,c){if(l.length===0)return c;let h=o;for(let d=0;d<l.length;d++){if(h==null||t.isUnsafeProperty(l[d]))return c;h=h[l[d]]}return h===void 0?c:h}n.get=a})(CM)),CM}var EM,Pz;function wht(){return Pz||(Pz=1,EM=OO().get),EM}var _ht=wht();const Ib=Al(_ht);var wu=n=>n===0?0:n>0?1:-1,uh=n=>typeof n=="number"&&n!=+n,Xp=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,bn=n=>(typeof n=="number"||n instanceof Number)&&!uh(n),pd=n=>bn(n)||typeof n=="string",Sht=0,s_=n=>{var t=++Sht;return"".concat(n||"").concat(t)},df=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bn(t)&&typeof t!="string")return i;var a;if(Xp(t)){if(e==null)return i;var s=t.indexOf("%");a=e*parseFloat(t.slice(0,s))/100}else a=+t;return uh(a)&&(a=i),r&&e!=null&&a>e&&(a=e),a},rU=n=>{if(!Array.isArray(n))return!1;for(var t=n.length,e={},i=0;i<t;i++)if(!e[n[i]])e[n[i]]=!0;else return!0;return!1};function xl(n,t,e){return bn(n)&&bn(t)?n+e*(t-n):t}function kht(n,t,e){if(!(!n||!n.length))return n.find(i=>i&&(typeof t=="function"?t(i):Ib(i,t))===e)}var Vo=n=>n===null||typeof n>"u",Q_=n=>Vo(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function Cht(n){return n!=null}function J_(){}var Aht=["type","size","sizeType"];function LE(){return LE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},LE.apply(null,arguments)}function Ez(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function jz(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Ez(Object(e),!0).forEach(function(i){Tht(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ez(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Tht(n,t,e){return(t=Mht(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Mht(n){var t=Nht(n,"string");return typeof t=="symbol"?t:t+""}function Nht(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Pht(n,t){if(n==null)return{};var e,i,r=Eht(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Eht(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var aU={symbolCircle:EO,symbolCross:Yut,symbolDiamond:Vut,symbolSquare:Xut,symbolStar:Qut,symbolTriangle:Jut,symbolWye:eht},jht=Math.PI/180,Dht=n=>{var t="symbol".concat(Q_(n));return aU[t]||EO},Oht=(n,t,e)=>{if(t==="area")return n;switch(e){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*jht;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},Lht=(n,t)=>{aU["symbol".concat(Q_(n))]=t},sU=n=>{var{type:t="circle",size:e=64,sizeType:i="area"}=n,r=Pht(n,Aht),a=jz(jz({},r),{},{type:t,size:e,sizeType:i}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var g=Dht(s),y=nht().type(g).size(Oht(e,i,s)),x=y();if(x!==null)return x},{className:l,cx:c,cy:h}=a,d=ch(a);return bn(c)&&bn(h)&&bn(e)?N.createElement("path",LE({},d,{className:Vr("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(h,")"),d:o()})):null};sU.registerSymbol=Lht;var oU=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,Rht=(n,t)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var e=n;if(N.isValidElement(n)&&(e=n.props),typeof e!="object"&&typeof e!="function")return null;var i={};return Object.keys(e).forEach(r=>{TO(r)&&(i[r]=(a=>e[r](e,a)))}),i},Iht=(n,t,e)=>i=>(n(t,e,i),null),LO=(n,t,e)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var a=n[r];TO(r)&&typeof a=="function"&&(i||(i={}),i[r]=Iht(a,t,e))}),i};function Dz(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function zht(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Dz(Object(e),!0).forEach(function(i){Fht(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Dz(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Fht(n,t,e){return(t=Bht(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Bht(n){var t=Hht(n,"string");return typeof t=="symbol"?t:t+""}function Hht(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Nu(n,t){var e=zht({},n),i=t,r=Object.keys(t),a=r.reduce((s,o)=>(s[o]===void 0&&i[o]!==void 0&&(s[o]=i[o]),s),e);return a}var jM={},DM={},Oz;function Ght(){return Oz||(Oz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){const r=new Map;for(let a=0;a<e.length;a++){const s=e[a],o=i(s);r.has(o)||r.set(o,s)}return Array.from(r.values())}n.uniqBy=t})(DM)),DM}var OM={},Lz;function lU(){return Lz||(Lz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e}n.identity=t})(OM)),OM}var LM={},RM={},IM={},Rz;function Wht(){return Rz||(Rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Number.isSafeInteger(e)&&e>=0}n.isLength=t})(IM)),IM}var Iz;function RO(){return Iz||(Iz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Wht();function e(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}n.isArrayLike=e})(RM)),RM}var zM={},zz;function Uht(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="object"&&e!==null}n.isObjectLike=t})(zM)),zM}var Fz;function Yht(){return Fz||(Fz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=RO(),e=Uht();function i(r){return e.isObjectLike(r)&&t.isArrayLike(r)}n.isArrayLikeObject=i})(LM)),LM}var FM={},BM={},Bz;function $ht(){return Bz||(Bz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=OO();function e(i){return function(r){return t.get(r,i)}}n.property=e})(BM)),BM}var HM={},GM={},WM={},UM={},Hz;function cU(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e!==null&&(typeof e=="object"||typeof e=="function")}n.isObject=t})(UM)),UM}var YM={},Gz;function uU(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null||typeof e!="object"&&typeof e!="function"}n.isPrimitive=t})(YM)),YM}var $M={},Wz;function hU(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i){return e===i||Number.isNaN(e)&&Number.isNaN(i)}n.eq=t})($M)),$M}var Uz;function Vht(){return Uz||(Uz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=cU(),e=uU(),i=hU();function r(h,d,g){return typeof g!="function"?r(h,d,()=>{}):a(h,d,function y(x,w,k,A,T,R){const G=g(x,w,k,A,T,R);return G!==void 0?!!G:a(x,w,y,R)},new Map)}function a(h,d,g,y){if(d===h)return!0;switch(typeof d){case"object":return s(h,d,g,y);case"function":return Object.keys(d).length>0?a(h,{...d},g,y):i.eq(h,d);default:return t.isObject(h)?typeof d=="string"?d==="":!0:i.eq(h,d)}}function s(h,d,g,y){if(d==null)return!0;if(Array.isArray(d))return l(h,d,g,y);if(d instanceof Map)return o(h,d,g,y);if(d instanceof Set)return c(h,d,g,y);const x=Object.keys(d);if(h==null)return x.length===0;if(x.length===0)return!0;if(y?.has(d))return y.get(d)===h;y?.set(d,h);try{for(let w=0;w<x.length;w++){const k=x[w];if(!e.isPrimitive(h)&&!(k in h)||d[k]===void 0&&h[k]!==void 0||d[k]===null&&h[k]!==null||!g(h[k],d[k],k,h,d,y))return!1}return!0}finally{y?.delete(d)}}function o(h,d,g,y){if(d.size===0)return!0;if(!(h instanceof Map))return!1;for(const[x,w]of d.entries()){const k=h.get(x);if(g(k,w,x,h,d,y)===!1)return!1}return!0}function l(h,d,g,y){if(d.length===0)return!0;if(!Array.isArray(h))return!1;const x=new Set;for(let w=0;w<d.length;w++){const k=d[w];let A=!1;for(let T=0;T<h.length;T++){if(x.has(T))continue;const R=h[T];let G=!1;if(g(R,k,w,h,d,y)&&(G=!0),G){x.add(T),A=!0;break}}if(!A)return!1}return!0}function c(h,d,g,y){return d.size===0?!0:h instanceof Set?l([...h],[...d],g,y):!1}n.isMatchWith=r,n.isSetMatch=c})(WM)),WM}var Yz;function dU(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Vht();function e(i,r){return t.isMatchWith(i,r,()=>{})}n.isMatch=e})(GM)),GM}var VM={},XM={},qM={},$z;function Xht(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Object.getOwnPropertySymbols(e).filter(i=>Object.prototype.propertyIsEnumerable.call(e,i))}n.getSymbols=t})(qM)),qM}var KM={},Vz;function fU(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}n.getTag=t})(KM)),KM}var ZM={},Xz;function gU(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",e="[object String]",i="[object Number]",r="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",h="[object Array]",d="[object Function]",g="[object ArrayBuffer]",y="[object Object]",x="[object Error]",w="[object DataView]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",R="[object Uint32Array]",G="[object BigUint64Array]",z="[object Int8Array]",F="[object Int16Array]",H="[object Int32Array]",Y="[object BigInt64Array]",J="[object Float32Array]",nt="[object Float64Array]";n.argumentsTag=a,n.arrayBufferTag=g,n.arrayTag=h,n.bigInt64ArrayTag=Y,n.bigUint64ArrayTag=G,n.booleanTag=r,n.dataViewTag=w,n.dateTag=o,n.errorTag=x,n.float32ArrayTag=J,n.float64ArrayTag=nt,n.functionTag=d,n.int16ArrayTag=F,n.int32ArrayTag=H,n.int8ArrayTag=z,n.mapTag=l,n.numberTag=i,n.objectTag=y,n.regexpTag=t,n.setTag=c,n.stringTag=e,n.symbolTag=s,n.uint16ArrayTag=T,n.uint32ArrayTag=R,n.uint8ArrayTag=k,n.uint8ClampedArrayTag=A})(ZM)),ZM}var QM={},qz;function qht(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.isTypedArray=t})(QM)),QM}var Kz;function pU(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Xht(),e=fU(),i=gU(),r=uU(),a=qht();function s(h,d){return o(h,void 0,h,new Map,d)}function o(h,d,g,y=new Map,x=void 0){const w=x?.(h,d,g,y);if(w!==void 0)return w;if(r.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const k=new Array(h.length);y.set(h,k);for(let A=0;A<h.length;A++)k[A]=o(h[A],A,g,y,x);return Object.hasOwn(h,"index")&&(k.index=h.index),Object.hasOwn(h,"input")&&(k.input=h.input),k}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const k=new RegExp(h.source,h.flags);return k.lastIndex=h.lastIndex,k}if(h instanceof Map){const k=new Map;y.set(h,k);for(const[A,T]of h)k.set(A,o(T,A,g,y,x));return k}if(h instanceof Set){const k=new Set;y.set(h,k);for(const A of h)k.add(o(A,void 0,g,y,x));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const k=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,k);for(let A=0;A<h.length;A++)k[A]=o(h[A],A,g,y,x);return k}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const k=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,k),l(k,h,g,y,x),k}if(typeof File<"u"&&h instanceof File){const k=new File([h],h.name,{type:h.type});return y.set(h,k),l(k,h,g,y,x),k}if(typeof Blob<"u"&&h instanceof Blob){const k=new Blob([h],{type:h.type});return y.set(h,k),l(k,h,g,y,x),k}if(h instanceof Error){const k=new h.constructor;return y.set(h,k),k.message=h.message,k.name=h.name,k.stack=h.stack,k.cause=h.cause,l(k,h,g,y,x),k}if(h instanceof Boolean){const k=new Boolean(h.valueOf());return y.set(h,k),l(k,h,g,y,x),k}if(h instanceof Number){const k=new Number(h.valueOf());return y.set(h,k),l(k,h,g,y,x),k}if(h instanceof String){const k=new String(h.valueOf());return y.set(h,k),l(k,h,g,y,x),k}if(typeof h=="object"&&c(h)){const k=Object.create(Object.getPrototypeOf(h));return y.set(h,k),l(k,h,g,y,x),k}return h}function l(h,d,g=h,y,x){const w=[...Object.keys(d),...t.getSymbols(d)];for(let k=0;k<w.length;k++){const A=w[k],T=Object.getOwnPropertyDescriptor(h,A);(T==null||T.writable)&&(h[A]=o(d[A],A,g,y,x))}}function c(h){switch(e.getTag(h)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=s,n.cloneDeepWithImpl=o,n.copyProperties=l})(XM)),XM}var Zz;function Kht(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=pU();function e(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=e})(VM)),VM}var Qz;function Zht(){return Qz||(Qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=dU(),e=Kht();function i(r){return r=e.cloneDeep(r),a=>t.isMatch(a,r)}n.matches=i})(HM)),HM}var JM={},tN={},eN={},Jz;function Qht(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=pU(),e=gU();function i(r,a){return t.cloneDeepWith(r,(s,o,l,c)=>{const h=a?.(s,o,l,c);if(h!==void 0)return h;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case e.numberTag:case e.stringTag:case e.booleanTag:{const d=new r.constructor(r?.valueOf());return t.copyProperties(d,r),d}case e.argumentsTag:{const d={};return t.copyProperties(d,r),d.length=r.length,d[Symbol.iterator]=r[Symbol.iterator],d}default:return}})}n.cloneDeepWith=i})(eN)),eN}var tF;function Jht(){return tF||(tF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Qht();function e(i){return t.cloneDeepWith(i)}n.cloneDeep=e})(tN)),tN}var nN={},iN={},eF;function mU(){return eF||(eF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function e(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return t.test(i)}}n.isIndex=e})(iN)),iN}var rN={},nF;function tdt(){return nF||(nF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=fU();function e(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}n.isArguments=e})(rN)),rN}var iF;function edt(){return iF||(iF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=iU(),e=mU(),i=tdt(),r=DO();function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&s?.[o]==null?l=r.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let h=0;h<l.length;h++){const d=l[h];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||i.isArguments(c))&&e.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}n.has=a})(nN)),nN}var rF;function ndt(){return rF||(rF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=dU(),e=jO(),i=Jht(),r=OO(),a=edt();function s(o,l){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=e.toKey(o);break}}return l=i.cloneDeep(l),function(c){const h=r.get(c,o);return h===void 0?a.has(c,o):l===void 0?h===void 0:t.isMatch(h,l)}}n.matchesProperty=s})(JM)),JM}var aF;function idt(){return aF||(aF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=lU(),e=$ht(),i=Zht(),r=ndt();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?r.matchesProperty(s[0],s[1]):i.matches(s);case"string":case"symbol":case"number":return e.property(s)}}n.iteratee=a})(FM)),FM}var sF;function rdt(){return sF||(sF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Ght(),e=lU(),i=Yht(),r=idt();function a(s,o=e.identity){return i.isArrayLikeObject(s)?t.uniqBy(Array.from(s),r.iteratee(o)):[]}n.uniqBy=a})(jM)),jM}var aN,oF;function adt(){return oF||(oF=1,aN=rdt().uniqBy),aN}var sdt=adt();const lF=Al(sdt);function odt(n,t,e){return t===!0?lF(n,e):typeof t=="function"?lF(n,t):n}var sN={exports:{}},oN={},lN={exports:{}},cN={};var cF;function ldt(){if(cF)return cN;cF=1;var n=$x();function t(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function o(d,g){var y=g(),x=i({inst:{value:y,getSnapshot:g}}),w=x[0].inst,k=x[1];return a(function(){w.value=y,w.getSnapshot=g,l(w)&&k({inst:w})},[d,y,g]),r(function(){return l(w)&&k({inst:w}),d(function(){l(w)&&k({inst:w})})},[d]),s(y),y}function l(d){var g=d.getSnapshot;d=d.value;try{var y=g();return!e(d,y)}catch{return!0}}function c(d,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return cN.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,cN}var uF;function cdt(){return uF||(uF=1,lN.exports=ldt()),lN.exports}var hF;function udt(){if(hF)return oN;hF=1;var n=$x(),t=cdt();function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var i=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=n.useRef,s=n.useEffect,o=n.useMemo,l=n.useDebugValue;return oN.useSyncExternalStoreWithSelector=function(c,h,d,g,y){var x=a(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=o(function(){function A(F){if(!T){if(T=!0,R=F,F=g(F),y!==void 0&&w.hasValue){var H=w.value;if(y(H,F))return G=H}return G=F}if(H=G,i(R,F))return H;var Y=g(F);return y!==void 0&&y(H,Y)?(R=F,H):(R=F,G=Y)}var T=!1,R,G,z=d===void 0?null:d;return[function(){return A(h())},z===null?void 0:function(){return A(z())}]},[h,d,g,y]);var k=r(c,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=k},[k]),l(k),k},oN}var dF;function hdt(){return dF||(dF=1,sN.exports=udt()),sN.exports}var ddt=hdt(),IO=N.createContext(null),fdt=n=>n,vs=()=>{var n=N.useContext(IO);return n?n.store.dispatch:fdt},bC=()=>{},gdt=()=>bC,pdt=(n,t)=>n===t;function yn(n){var t=N.useContext(IO);return ddt.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:gdt,t?t.store.getState:bC,t?t.store.getState:bC,t?n:bC,pdt)}function mdt(n,t=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(t)}function ydt(n,t=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(t)}function vdt(n,t="expected all items to be functions, instead received the following types: "){if(!n.every(e=>typeof e=="function")){const e=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${e}]`)}}var fF=n=>Array.isArray(n)?n:[n];function xdt(n){const t=Array.isArray(n[0])?n[0]:n;return vdt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bdt(n,t){const e=[],{length:i}=n;for(let r=0;r<i;r++)e.push(n[r].apply(null,t));return e}var wdt=class{constructor(n){this.value=n}deref(){return this.value}},_dt=typeof WeakRef<"u"?WeakRef:wdt,Sdt=0,gF=1;function _k(){return{s:Sdt,v:void 0,o:null,p:null}}function yU(n,t={}){let e=_k();const{resultEqualityCheck:i}=t;let r,a=0;function s(){let o=e;const{length:l}=arguments;for(let d=0,g=l;d<g;d++){const y=arguments[d];if(typeof y=="function"||typeof y=="object"&&y!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const w=x.get(y);w===void 0?(o=_k(),x.set(y,o)):o=w}else{let x=o.p;x===null&&(o.p=x=new Map);const w=x.get(y);w===void 0?(o=_k(),x.set(y,o)):o=w}}const c=o;let h;if(o.s===gF)h=o.v;else if(h=n.apply(null,arguments),a++,i){const d=r?.deref?.()??r;d!=null&&i(d,h)&&(h=d,a!==0&&a--),r=typeof h=="object"&&h!==null||typeof h=="function"?new _dt(h):h}return c.s=gF,c.v=h,h}return s.clearCache=()=>{e=_k(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function kdt(n,...t){const e=typeof n=="function"?{memoize:n,memoizeOptions:t}:n,i=(...r)=>{let a=0,s=0,o,l={},c=r.pop();typeof c=="object"&&(l=c,c=r.pop()),mdt(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...e,...l},{memoize:d,memoizeOptions:g=[],argsMemoize:y=yU,argsMemoizeOptions:x=[]}=h,w=fF(g),k=fF(x),A=xdt(r),T=d(function(){return a++,c.apply(null,arguments)},...w),R=y(function(){s++;const z=bdt(A,arguments);return o=T.apply(null,z),o},...k);return Object.assign(R,{resultFunc:c,memoizedResultFunc:T,dependencies:A,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var ge=kdt(yU),Cdt=Object.assign((n,t=ge)=>{ydt(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const e=Object.keys(n),i=e.map(a=>n[a]);return t(i,(...a)=>a.reduce((s,o,l)=>(s[e[l]]=o,s),{}))},{withTypes:()=>Cdt}),uN={},hN={},dN={},pF;function Adt(){return pF||(pF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const e=(i,r,a)=>{if(i!==r){const s=t(i),o=t(r);if(s===o&&s===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};n.compareValues=e})(dN)),dN}var fN={},gN={},mF;function vU(){return mF||(mF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="symbol"||e instanceof Symbol}n.isSymbol=t})(gN)),gN}var yF;function Tdt(){return yF||(yF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=vU(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!e.test(a))||s!=null&&Object.hasOwn(s,a)}n.isKey=r})(fN)),fN}var vF;function Mdt(){return vF||(vF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Adt(),e=Tdt(),i=DO();function r(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const c=(y,x)=>{let w=y;for(let k=0;k<x.length&&w!=null;++k)w=w[x[k]];return w},h=(y,x)=>x==null||y==null?x:typeof y=="object"&&"key"in y?Object.hasOwn(x,y.key)?x[y.key]:c(x,y.path):typeof y=="function"?y(x):Array.isArray(y)?c(x,y):typeof x=="object"?x[y]:x,d=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||e.isKey(y)?y:{key:y,path:i.toPath(y)}));return a.map(y=>({original:y,criteria:d.map(x=>h(x,y))})).slice().sort((y,x)=>{for(let w=0;w<d.length;w++){const k=t.compareValues(y.criteria[w],x.criteria[w],o[w]);if(k!==0)return k}return 0}).map(y=>y.original)}n.orderBy=r})(hN)),hN}var pN={},xF;function Ndt(){return xF||(xF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i=1){const r=[],a=Math.floor(i),s=(o,l)=>{for(let c=0;c<o.length;c++){const h=o[c];Array.isArray(h)&&l<a?s(h,l+1):r.push(h)}};return s(e,0),r}n.flatten=t})(pN)),pN}var mN={},bF;function xU(){return bF||(bF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=mU(),e=RO(),i=cU(),r=hU();function a(s,o,l){return i.isObject(l)&&(typeof o=="number"&&e.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?r.eq(l[o],s):!1}n.isIterateeCall=a})(mN)),mN}var wF;function Pdt(){return wF||(wF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Mdt(),e=Ndt(),i=xU();function r(a,...s){const o=s.length;return o>1&&i.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&i.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,e.flatten(s),["asc"])}n.sortBy=r})(uN)),uN}var yN,_F;function Edt(){return _F||(_F=1,yN=Pdt().sortBy),yN}var jdt=Edt();const DA=Al(jdt);var bU=n=>n.legend.settings,Ddt=n=>n.legend.size,Odt=n=>n.legend.payload;ge([Odt,bU],(n,t)=>{var{itemSorter:e}=t,i=n.flat(1);return e?DA(i,e):i});var Sk=1;function Ldt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,e]=N.useState({height:0,left:0,top:0,width:0}),i=N.useCallback(r=>{if(r!=null){var a=r.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Sk||Math.abs(s.left-t.left)>Sk||Math.abs(s.top-t.top)>Sk||Math.abs(s.width-t.width)>Sk)&&e({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...n]);return[t,i]}function yl(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Rdt=typeof Symbol=="function"&&Symbol.observable||"@@observable",SF=Rdt,vN=()=>Math.random().toString(36).substring(7).split("").join("."),Idt={INIT:`@@redux/INIT${vN()}`,REPLACE:`@@redux/REPLACE${vN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vN()}`},r2=Idt;function zO(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function wU(n,t,e){if(typeof n!="function")throw new Error(yl(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(yl(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(yl(1));return e(wU)(n,t)}let i=n,r=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((k,A)=>{s.set(A,k)}))}function h(){if(l)throw new Error(yl(3));return r}function d(k){if(typeof k!="function")throw new Error(yl(4));if(l)throw new Error(yl(5));let A=!0;c();const T=o++;return s.set(T,k),function(){if(A){if(l)throw new Error(yl(6));A=!1,c(),s.delete(T),a=null}}}function g(k){if(!zO(k))throw new Error(yl(7));if(typeof k.type>"u")throw new Error(yl(8));if(typeof k.type!="string")throw new Error(yl(17));if(l)throw new Error(yl(9));try{l=!0,r=i(r,k)}finally{l=!1}return(a=s).forEach(T=>{T()}),k}function y(k){if(typeof k!="function")throw new Error(yl(10));i=k,g({type:r2.REPLACE})}function x(){const k=d;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(yl(11));function T(){const G=A;G.next&&G.next(h())}return T(),{unsubscribe:k(T)}},[SF](){return this}}}return g({type:r2.INIT}),{dispatch:g,subscribe:d,getState:h,replaceReducer:y,[SF]:x}}function zdt(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:r2.INIT})>"u")throw new Error(yl(12));if(typeof e(void 0,{type:r2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yl(13))})}function _U(n){const t=Object.keys(n),e={};for(let a=0;a<t.length;a++){const s=t[a];typeof n[s]=="function"&&(e[s]=n[s])}const i=Object.keys(e);let r;try{zdt(e)}catch(a){r=a}return function(s={},o){if(r)throw r;let l=!1;const c={};for(let h=0;h<i.length;h++){const d=i[h],g=e[d],y=s[d],x=g(y,o);if(typeof x>"u")throw o&&o.type,new Error(yl(14));c[d]=x,l=l||x!==y}return l=l||i.length!==Object.keys(s).length,l?c:s}}function a2(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function Fdt(...n){return t=>(e,i)=>{const r=t(e,i);let a=()=>{throw new Error(yl(15))};const s={getState:r.getState,dispatch:(l,...c)=>a(l,...c)},o=n.map(l=>l(s));return a=a2(...o)(r.dispatch),{...r,dispatch:a}}}function SU(n){return zO(n)&&"type"in n&&typeof n.type=="string"}var kU=Symbol.for("immer-nothing"),kF=Symbol.for("immer-draftable"),hh=Symbol.for("immer-state");function rf(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var o_=Object.getPrototypeOf;function Dx(n){return!!n&&!!n[hh]}function qp(n){return n?CU(n)||Array.isArray(n)||!!n[kF]||!!n.constructor?.[kF]||tS(n)||LA(n):!1}var Bdt=Object.prototype.constructor.toString(),CF=new WeakMap;function CU(n){if(!n||typeof n!="object")return!1;const t=Object.getPrototypeOf(n);if(t===null||t===Object.prototype)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(e===Object)return!0;if(typeof e!="function")return!1;let i=CF.get(e);return i===void 0&&(i=Function.toString.call(e),CF.set(e,i)),i===Bdt}function s2(n,t,e=!0){OA(n)===0?(e?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{t(r,n[r],n)}):n.forEach((i,r)=>t(r,i,n))}function OA(n){const t=n[hh];return t?t.type_:Array.isArray(n)?1:tS(n)?2:LA(n)?3:0}function RE(n,t){return OA(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function AU(n,t,e){const i=OA(n);i===2?n.set(t,e):i===3?n.add(e):n[t]=e}function Hdt(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function tS(n){return n instanceof Map}function LA(n){return n instanceof Set}function sx(n){return n.copy_||n.base_}function IE(n,t){if(tS(n))return new Map(n);if(LA(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=CU(n);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(n);delete i[hh];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const s=r[a],o=i[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[s]})}return Object.create(o_(n),i)}else{const i=o_(n);if(i!==null&&e)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function FO(n,t=!1){return RA(n)||Dx(n)||!qp(n)||(OA(n)>1&&Object.defineProperties(n,{set:kk,add:kk,clear:kk,delete:kk}),Object.freeze(n),t&&Object.values(n).forEach(e=>FO(e,!0))),n}function Gdt(){rf(2)}var kk={value:Gdt};function RA(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var Wdt={};function Ox(n){const t=Wdt[n];return t||rf(0,n),t}var l_;function TU(){return l_}function Udt(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AF(n,t){t&&(Ox("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function zE(n){FE(n),n.drafts_.forEach(Ydt),n.drafts_=null}function FE(n){n===l_&&(l_=n.parent_)}function TF(n){return l_=Udt(l_,n)}function Ydt(n){const t=n[hh];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MF(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[hh].modified_&&(zE(t),rf(4)),qp(n)&&(n=o2(t,n),t.parent_||l2(t,n)),t.patches_&&Ox("Patches").generateReplacementPatches_(e[hh].base_,n,t.patches_,t.inversePatches_)):n=o2(t,e,[]),zE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==kU?n:void 0}function o2(n,t,e){if(RA(t))return t;const i=n.immer_.shouldUseStrictIteration(),r=t[hh];if(!r)return s2(t,(a,s)=>NF(n,r,t,a,s,e),i),t;if(r.scope_!==n)return t;if(!r.modified_)return l2(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,o=!1;r.type_===3&&(s=new Set(a),a.clear(),o=!0),s2(s,(l,c)=>NF(n,r,a,l,c,e,o),i),l2(n,a,!1),e&&n.patches_&&Ox("Patches").generatePatches_(r,e,n.patches_,n.inversePatches_)}return r.copy_}function NF(n,t,e,i,r,a,s){if(r==null||typeof r!="object"&&!s)return;const o=RA(r);if(!(o&&!s)){if(Dx(r)){const l=a&&t&&t.type_!==3&&!RE(t.assigned_,i)?a.concat(i):void 0,c=o2(n,r,l);if(AU(e,i,c),Dx(c))n.canAutoFreeze_=!1;else return}else s&&e.add(r);if(qp(r)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||t&&t.base_&&t.base_[i]===r&&o)return;o2(n,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(tS(e)?e.has(i):Object.prototype.propertyIsEnumerable.call(e,i))&&l2(n,r)}}}function l2(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&FO(t,e)}function $dt(n,t){const e=Array.isArray(n),i={type_:e?1:0,scope_:t?t.scope_:TU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=BO;e&&(r=[i],a=c_);const{revoke:s,proxy:o}=Proxy.revocable(r,a);return i.draft_=o,i.revoke_=s,o}var BO={get(n,t){if(t===hh)return n;const e=sx(n);if(!RE(e,t))return Vdt(n,e,t);const i=e[t];return n.finalized_||!qp(i)?i:i===xN(n.base_,t)?(bN(n),n.copy_[t]=HE(i,n)):i},has(n,t){return t in sx(n)},ownKeys(n){return Reflect.ownKeys(sx(n))},set(n,t,e){const i=MU(sx(n),t);if(i?.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=xN(sx(n),t),a=r?.[hh];if(a&&a.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(Hdt(e,r)&&(e!==void 0||RE(n.base_,t)))return!0;bN(n),BE(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return xN(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,bN(n),BE(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=sx(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){rf(11)},getPrototypeOf(n){return o_(n.base_)},setPrototypeOf(){rf(12)}},c_={};s2(BO,(n,t)=>{c_[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});c_.deleteProperty=function(n,t){return c_.set.call(this,n,t,void 0)};c_.set=function(n,t,e){return BO.set.call(this,n[0],t,e,n[0])};function xN(n,t){const e=n[hh];return(e?sx(e):n)[t]}function Vdt(n,t,e){const i=MU(t,e);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function MU(n,t){if(!(t in n))return;let e=o_(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=o_(e)}}function BE(n){n.modified_||(n.modified_=!0,n.parent_&&BE(n.parent_))}function bN(n){n.copy_||(n.copy_=IE(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Xdt=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const a=e;e=t;const s=this;return function(l=a,...c){return s.produce(l,h=>e.call(this,h,...c))}}typeof e!="function"&&rf(6),i!==void 0&&typeof i!="function"&&rf(7);let r;if(qp(t)){const a=TF(this),s=HE(t,void 0);let o=!0;try{r=e(s),o=!1}finally{o?zE(a):FE(a)}return AF(a,i),MF(r,a)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===kU&&(r=void 0),this.autoFreeze_&&FO(r,!0),i){const a=[],s=[];Ox("Patches").generateReplacementPatches_(t,r,a,s),i(a,s)}return r}else rf(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let i,r;return[this.produce(t,e,(s,o)=>{i=s,r=o}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){qp(n)||rf(8),Dx(n)&&(n=lf(n));const t=TF(this),e=HE(n,void 0);return e[hh].isManual_=!0,FE(t),e}finishDraft(n,t){const e=n&&n[hh];(!e||!e.isManual_)&&rf(9);const{scope_:i}=e;return AF(i,t),MF(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}e>-1&&(t=t.slice(e+1));const i=Ox("Patches").applyPatches_;return Dx(n)?i(n,t):this.produce(n,r=>i(r,t))}};function HE(n,t){const e=tS(n)?Ox("MapSet").proxyMap_(n,t):LA(n)?Ox("MapSet").proxySet_(n,t):$dt(n,t);return(t?t.scope_:TU()).drafts_.push(e),e}function lf(n){return Dx(n)||rf(10,n),NU(n)}function NU(n){if(!qp(n)||RA(n))return n;const t=n[hh];let e,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=IE(n,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else e=IE(n,!0);return s2(e,(r,a)=>{AU(e,r,NU(a))},i),t&&(t.finalized_=!1),e}var GE=new Xdt,PU=GE.produce,qdt=GE.setUseStrictIteration.bind(GE);function EU(n){return({dispatch:e,getState:i})=>r=>a=>typeof a=="function"?a(e,i,n):r(a)}var Kdt=EU(),Zdt=EU,Qdt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?a2:a2.apply(null,arguments)};function md(n,t){function e(...i){if(t){let r=t(...i);if(!r)throw new Error(ah(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=i=>SU(i)&&i.type===n,e}var jU=class jw extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,jw.prototype)}static get[Symbol.species](){return jw}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new jw(...t[0].concat(this)):new jw(...t.concat(this))}};function PF(n){return qp(n)?PU(n,()=>{}):n}function Ck(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function Jdt(n){return typeof n=="boolean"}var tft=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=t??{};let s=new jU;return e&&(Jdt(e)?s.push(Kdt):s.push(Zdt(e.extraArgument))),s},DU="RTK_autoBatch",Ya=()=>n=>({payload:n,meta:{[DU]:!0}}),EF=n=>t=>{setTimeout(t,n)},OU=(n={type:"raf"})=>t=>(...e)=>{const i=t(...e);let r=!0,a=!1,s=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:EF(10):n.type==="callback"?n.queueNotification:EF(n.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const d=()=>r&&h(),g=i.subscribe(d);return o.add(h),()=>{g(),o.delete(h)}},dispatch(h){try{return r=!h?.meta?.[DU],a=!r,a&&(s||(s=!0,l(c))),i.dispatch(h)}finally{r=!0}}})},eft=n=>function(e){const{autoBatch:i=!0}=e??{};let r=new jU(n);return i&&r.push(OU(typeof i=="object"?i:void 0)),r};function nft(n){const t=tft(),{reducer:e=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:s=void 0}=n||{};let o;if(typeof e=="function")o=e;else if(zO(e))o=_U(e);else throw new Error(ah(1));let l;typeof i=="function"?l=i(t):l=t();let c=a2;r&&(c=Qdt({trace:!1,...typeof r=="object"&&r}));const h=Fdt(...l),d=eft(h);let g=typeof s=="function"?s(d):d();const y=c(...g);return wU(o,a,y)}function LU(n){const t={},e=[];let i;const r={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(ah(28));if(o in t)throw new Error(ah(29));return t[o]=s,r},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&e.push({matcher:a.settled,reducer:s.settled}),r},addMatcher(a,s){return e.push({matcher:a,reducer:s}),r},addDefaultCase(a){return i=a,r}};return n(r),[t,e,i]}qdt(!1);function ift(n){return typeof n=="function"}function rft(n,t){let[e,i,r]=LU(t),a;if(ift(n))a=()=>PF(n());else{const o=PF(n);a=()=>o}function s(o=a(),l){let c=[e[l.type],...i.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[r]),c.reduce((h,d)=>{if(d)if(Dx(h)){const y=d(h,l);return y===void 0?h:y}else{if(qp(h))return PU(h,g=>d(g,l));{const g=d(h,l);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},o)}return s.getInitialState=a,s}var aft="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sft=(n=21)=>{let t="",e=n;for(;e--;)t+=aft[Math.random()*64|0];return t},oft=Symbol.for("rtk-slice-createasyncthunk");function lft(n,t){return`${n}/${t}`}function cft({creators:n}={}){const t=n?.asyncThunk?.[oft];return function(i){const{name:r,reducerPath:a=r}=i;if(!r)throw new Error(ah(11));const s=(typeof i.reducers=="function"?i.reducers(hft()):i.reducers)||{},o=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(R,G){const z=typeof R=="string"?R:R.type;if(!z)throw new Error(ah(12));if(z in l.sliceCaseReducersByType)throw new Error(ah(13));return l.sliceCaseReducersByType[z]=G,c},addMatcher(R,G){return l.sliceMatchers.push({matcher:R,reducer:G}),c},exposeAction(R,G){return l.actionCreators[R]=G,c},exposeCaseReducer(R,G){return l.sliceCaseReducersByName[R]=G,c}};o.forEach(R=>{const G=s[R],z={reducerName:R,type:lft(r,R),createNotation:typeof i.reducers=="function"};fft(G)?pft(z,G,c,t):dft(z,G,c)});function h(){const[R={},G=[],z=void 0]=typeof i.extraReducers=="function"?LU(i.extraReducers):[i.extraReducers],F={...R,...l.sliceCaseReducersByType};return rft(i.initialState,H=>{for(let Y in F)H.addCase(Y,F[Y]);for(let Y of l.sliceMatchers)H.addMatcher(Y.matcher,Y.reducer);for(let Y of G)H.addMatcher(Y.matcher,Y.reducer);z&&H.addDefaultCase(z)})}const d=R=>R,g=new Map,y=new WeakMap;let x;function w(R,G){return x||(x=h()),x(R,G)}function k(){return x||(x=h()),x.getInitialState()}function A(R,G=!1){function z(H){let Y=H[R];return typeof Y>"u"&&G&&(Y=Ck(y,z,k)),Y}function F(H=d){const Y=Ck(g,G,()=>new WeakMap);return Ck(Y,H,()=>{const J={};for(const[nt,V]of Object.entries(i.selectors??{}))J[nt]=uft(V,H,()=>Ck(y,H,k),G);return J})}return{reducerPath:R,getSelectors:F,get selectors(){return F(z)},selectSlice:z}}const T={name:r,reducer:w,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:k,...A(a),injectInto(R,{reducerPath:G,...z}={}){const F=G??a;return R.inject({reducerPath:F,reducer:w},z),{...T,...A(F,!0)}}};return T}}function uft(n,t,e,i){function r(a,...s){let o=t(a);return typeof o>"u"&&i&&(o=e()),n(o,...s)}return r.unwrapped=n,r}var Pu=cft();function hft(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function dft({type:n,reducerName:t,createNotation:e},i,r){let a,s;if("reducer"in i){if(e&&!gft(i))throw new Error(ah(17));a=i.reducer,s=i.prepare}else a=i;r.addCase(n,a).exposeCaseReducer(t,a).exposeAction(t,s?md(n,s):md(n))}function fft(n){return n._reducerDefinitionType==="asyncThunk"}function gft(n){return n._reducerDefinitionType==="reducerWithPrepare"}function pft({type:n,reducerName:t},e,i,r){if(!r)throw new Error(ah(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:h}=e,d=r(n,a,h);i.exposeAction(t,d),s&&i.addCase(d.fulfilled,s),o&&i.addCase(d.pending,o),l&&i.addCase(d.rejected,l),c&&i.addMatcher(d.settled,c),i.exposeCaseReducer(t,{fulfilled:s||Ak,pending:o||Ak,rejected:l||Ak,settled:c||Ak})}function Ak(){}var mft="task",RU="listener",IU="completed",HO="cancelled",yft=`task-${HO}`,vft=`task-${IU}`,WE=`${RU}-${HO}`,xft=`${RU}-${IU}`,IA=class{constructor(n){this.code=n,this.message=`${mft} ${HO} (reason: ${n})`}name="TaskAbortError";message},GO=(n,t)=>{if(typeof n!="function")throw new TypeError(ah(32))},c2=()=>{},zU=(n,t=c2)=>(n.catch(t),n),FU=(n,t)=>(n.addEventListener("abort",t,{once:!0}),()=>n.removeEventListener("abort",t)),_x=(n,t)=>{const e=n.signal;e.aborted||("reason"in e||Object.defineProperty(e,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),n.abort(t))},Sx=n=>{if(n.aborted){const{reason:t}=n;throw new IA(t)}};function BU(n,t){let e=c2;return new Promise((i,r)=>{const a=()=>r(new IA(n.reason));if(n.aborted){a();return}e=FU(n,a),t.finally(()=>e()).then(i,r)}).finally(()=>{e=c2})}var bft=async(n,t)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(e){return{status:e instanceof IA?"cancelled":"rejected",error:e}}finally{t?.()}},u2=n=>t=>zU(BU(n,t).then(e=>(Sx(n),e))),HU=n=>{const t=u2(n);return e=>t(new Promise(i=>setTimeout(i,e)))},{assign:kb}=Object,jF={},zA="listenerMiddleware",wft=(n,t)=>{const e=i=>FU(n,()=>_x(i,n.reason));return(i,r)=>{GO(i);const a=new AbortController;e(a);const s=bft(async()=>{Sx(n),Sx(a.signal);const o=await i({pause:u2(a.signal),delay:HU(a.signal),signal:a.signal});return Sx(a.signal),o},()=>_x(a,vft));return r?.autoJoin&&t.push(s.catch(c2)),{result:u2(n)(s),cancel(){_x(a,yft)}}}},_ft=(n,t)=>{const e=async(i,r)=>{Sx(t);let a=()=>{};const o=[new Promise((l,c)=>{let h=n({predicate:i,effect:(d,g)=>{g.unsubscribe(),l([d,g.getState(),g.getOriginalState()])}});a=()=>{h(),c()}})];r!=null&&o.push(new Promise(l=>setTimeout(l,r,null)));try{const l=await BU(t,Promise.race(o));return Sx(t),l}finally{a()}};return(i,r)=>zU(e(i,r))},GU=n=>{let{type:t,actionCreator:e,matcher:i,predicate:r,effect:a}=n;if(t)r=md(t).match;else if(e)t=e.type,r=e.match;else if(i)r=i;else if(!r)throw new Error(ah(21));return GO(a),{predicate:r,type:t,effect:a}},WU=kb(n=>{const{type:t,predicate:e,effect:i}=GU(n);return{id:sft(),effect:i,type:t,predicate:e,pending:new Set,unsubscribe:()=>{throw new Error(ah(22))}}},{withTypes:()=>WU}),DF=(n,t)=>{const{type:e,effect:i,predicate:r}=GU(t);return Array.from(n.values()).find(a=>(typeof e=="string"?a.type===e:a.predicate===r)&&a.effect===i)},UE=n=>{n.pending.forEach(t=>{_x(t,WE)})},Sft=(n,t)=>()=>{for(const e of t.keys())UE(e);n.clear()},OF=(n,t,e)=>{try{n(t,e)}catch(i){setTimeout(()=>{throw i},0)}},UU=kb(md(`${zA}/add`),{withTypes:()=>UU}),kft=md(`${zA}/removeAll`),YU=kb(md(`${zA}/remove`),{withTypes:()=>YU}),Cft=(...n)=>{console.error(`${zA}/error`,...n)},eS=(n={})=>{const t=new Map,e=new Map,i=y=>{const x=e.get(y)??0;e.set(y,x+1)},r=y=>{const x=e.get(y)??1;x===1?e.delete(y):e.set(y,x-1)},{extra:a,onError:s=Cft}=n;GO(s);const o=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),x=>{y.unsubscribe(),x?.cancelActive&&UE(y)}),l=y=>{const x=DF(t,y)??WU(y);return o(x)};kb(l,{withTypes:()=>l});const c=y=>{const x=DF(t,y);return x&&(x.unsubscribe(),y.cancelActive&&UE(x)),!!x};kb(c,{withTypes:()=>c});const h=async(y,x,w,k)=>{const A=new AbortController,T=_ft(l,A.signal),R=[];try{y.pending.add(A),i(y),await Promise.resolve(y.effect(x,kb({},w,{getOriginalState:k,condition:(G,z)=>T(G,z).then(Boolean),take:T,delay:HU(A.signal),pause:u2(A.signal),extra:a,signal:A.signal,fork:wft(A.signal,R),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((G,z,F)=>{G!==A&&(_x(G,WE),F.delete(G))})},cancel:()=>{_x(A,WE),y.pending.delete(A)},throwIfCancelled:()=>{Sx(A.signal)}})))}catch(G){G instanceof IA||OF(s,G,{raisedBy:"effect"})}finally{await Promise.all(R),_x(A,xft),r(y),y.pending.delete(A)}},d=Sft(t,e);return{middleware:y=>x=>w=>{if(!SU(w))return x(w);if(UU.match(w))return l(w.payload);if(kft.match(w)){d();return}if(YU.match(w))return c(w.payload);let k=y.getState();const A=()=>{if(k===jF)throw new Error(ah(23));return k};let T;try{if(T=x(w),t.size>0){const R=y.getState(),G=Array.from(t.values());for(const z of G){let F=!1;try{F=z.predicate(w,R,k)}catch(H){F=!1,OF(s,H,{raisedBy:"predicate"})}F&&h(z,w,y,A)}}}finally{k=jF}return T},startListening:l,stopListening:c,clearListeners:d}};function ah(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Aft={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$U=Pu({name:"chartLayout",initialState:Aft,reducers:{setLayout(n,t){n.layoutType=t.payload},setChartSize(n,t){n.width=t.payload.width,n.height=t.payload.height},setMargin(n,t){var e,i,r,a;n.margin.top=(e=t.payload.top)!==null&&e!==void 0?e:0,n.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=t.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(n,t){n.scale=t.payload}}}),{setMargin:Tft,setLayout:Mft,setChartSize:Nft,setScale:Pft}=$U.actions,Eft=$U.reducer;function VU(n,t,e){return Array.isArray(n)&&n&&t+e!==0?n.slice(t,e+1):n}function LF(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function pb(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(e),!0).forEach(function(i){jft(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):LF(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function jft(n,t,e){return(t=Dft(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Dft(n){var t=Oft(n,"string");return typeof t=="symbol"?t:t+""}function Oft(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ic(n,t,e){return Vo(n)||Vo(t)?e:pd(t)?Ib(n,t,e):typeof t=="function"?t(n):e}var Lft=(n,t,e)=>{if(t&&e){var{width:i,height:r}=e,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&bn(n[a]))return pb(pb({},n),{},{[a]:n[a]+(i||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&bn(n[s]))return pb(pb({},n),{},{[s]:n[s]+(r||0)})}return n},Zx=(n,t)=>n==="horizontal"&&t==="xAxis"||n==="vertical"&&t==="yAxis"||n==="centric"&&t==="angleAxis"||n==="radial"&&t==="radiusAxis",XU=(n,t,e,i)=>{if(i)return n.map(o=>o.coordinate);var r,a,s=n.map(o=>(o.coordinate===t&&(r=!0),o.coordinate===e&&(a=!0),o.coordinate));return r||s.push(t),a||s.push(e),s},qU=(n,t,e)=>{if(!n)return null;var{duplicateDomain:i,type:r,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:h,ticks:d,niceTicks:g,axisType:y}=n;if(!s)return null;var x=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=r==="category"&&s.bandwidth?s.bandwidth()/x:0;if(w=y==="angleAxis"&&a&&a.length>=2?wu(a[0]-a[1])*2*w:w,d||g){var k=(d||g||[]).map((A,T)=>{var R=i?i.indexOf(A):A;return{coordinate:s(R)+w,value:A,offset:w,index:T}});return k.filter(A=>!uh(A.coordinate))}return l&&c?c.map((A,T)=>({coordinate:s(A)+w,value:A,index:T,offset:w})):s.ticks&&h!=null?s.ticks(h).map((A,T)=>({coordinate:s(A)+w,value:A,offset:w,index:T})):s.domain().map((A,T)=>({coordinate:s(A)+w,value:i?i[A]:A,index:T,offset:w}))},RF=1e-4,Rft=n=>{var t=n.domain();if(!(!t||t.length<=2)){var e=t.length,i=n.range(),r=Math.min(i[0],i[1])-RF,a=Math.max(i[0],i[1])+RF,s=n(t[0]),o=n(t[e-1]);(s<r||s>a||o<r||o>a)&&n.domain([t[0],t[e-1]])}},Ift=(n,t)=>{if(!t||t.length!==2||!bn(t[0])||!bn(t[1]))return n;var e=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),r=[n[0],n[1]];return(!bn(n[0])||n[0]<e)&&(r[0]=e),(!bn(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<e&&(r[1]=e),r},zft=n=>{var t=n.length;if(!(t<=0))for(var e=0,i=n[0].length;e<i;++e)for(var r=0,a=0,s=0;s<t;++s){var o=uh(n[s][e][1])?n[s][e][0]:n[s][e][1];o>=0?(n[s][e][0]=r,n[s][e][1]=r+o,r=n[s][e][1]):(n[s][e][0]=a,n[s][e][1]=a+o,a=n[s][e][1])}},Fft=n=>{var t=n.length;if(!(t<=0))for(var e=0,i=n[0].length;e<i;++e)for(var r=0,a=0;a<t;++a){var s=uh(n[a][e][1])?n[a][e][0]:n[a][e][1];s>=0?(n[a][e][0]=r,n[a][e][1]=r+s,r=n[a][e][1]):(n[a][e][0]=0,n[a][e][1]=0)}},Bft={sign:zft,expand:mht,none:Rb,silhouette:yht,wiggle:vht,positive:Fft},Hft=(n,t,e)=>{var i=Bft[e],r=pht().keys(t).value((a,s)=>Number(ic(a,s,0))).order(OE).offset(i);return r(n)};function Gft(n){return n==null?void 0:String(n)}var IF=n=>{var{axis:t,ticks:e,offset:i,bandSize:r,entry:a,index:s}=n;if(t.type==="category")return e[s]?e[s].coordinate+i:null;var o=ic(a,t.dataKey,t.scale.domain()[s]);return Vo(o)?null:t.scale(o)-r/2+i},Wft=n=>{var{numericAxis:t}=n,e=t.scale.domain();if(t.type==="number"){var i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return i<=0&&r>=0?0:r<0?r:i}return e[0]},Uft=n=>{var t=n.flat(2).filter(bn);return[Math.min(...t),Math.max(...t)]},Yft=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],$ft=(n,t,e)=>{if(n!=null)return Yft(Object.keys(n).reduce((i,r)=>{var a=n[r],{stackedData:s}=a,o=s.reduce((l,c)=>{var h=VU(c,t,e),d=Uft(h);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]))},zF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h2=(n,t,e)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!e||i>0)return i}if(n&&t&&t.length>=2){for(var r=DA(t,h=>h.coordinate),a=1/0,s=1,o=r.length;s<o;s++){var l=r[s],c=r[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return e?void 0:0};function BF(n){var{tooltipEntrySettings:t,dataKey:e,payload:i,value:r,name:a}=n;return pb(pb({},t),{},{dataKey:e,payload:i,value:r,name:a})}function KU(n,t){if(n)return String(n);if(typeof t=="string")return t}var Vft=(n,t)=>{if(t==="horizontal")return n.chartX;if(t==="vertical")return n.chartY},Xft=(n,t)=>t==="centric"?n.angle:n.radius,nm=n=>n.layout.width,im=n=>n.layout.height,qft=n=>n.layout.scale,ZU=n=>n.layout.margin,FA=ge(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),BA=ge(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),Kft="data-recharts-item-index",Zft="data-recharts-item-data-key",nS=60;function HF(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Tk(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(e),!0).forEach(function(i){Qft(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):HF(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Qft(n,t,e){return(t=Jft(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Jft(n){var t=tgt(n,"string");return typeof t=="symbol"?t:t+""}function tgt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var egt=n=>n.brush.height;function ngt(n){var t=BA(n);return t.reduce((e,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:nS;return e+r}return e},0)}function igt(n){var t=BA(n);return t.reduce((e,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:nS;return e+r}return e},0)}function rgt(n){var t=FA(n);return t.reduce((e,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?e+i.height:e,0)}function agt(n){var t=FA(n);return t.reduce((e,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?e+i.height:e,0)}var Ko=ge([nm,im,ZU,egt,ngt,igt,rgt,agt,bU,Ddt],(n,t,e,i,r,a,s,o,l,c)=>{var h={left:(e.left||0)+r,right:(e.right||0)+a},d={top:(e.top||0)+s,bottom:(e.bottom||0)+o},g=Tk(Tk({},d),h),y=g.bottom;g.bottom+=i,g=Lft(g,l,c);var x=n-g.left-g.right,w=t-g.top-g.bottom;return Tk(Tk({brushBottom:y},g),{},{width:Math.max(x,0),height:Math.max(w,0)})}),sgt=ge(Ko,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),WO=ge(nm,im,(n,t)=>({x:0,y:0,width:n,height:t})),ogt=N.createContext(null),Fc=()=>N.useContext(ogt)!=null,HA=n=>n.brush,GA=ge([HA,Ko,ZU],(n,t,e)=>({height:n.height,x:bn(n.x)?n.x:t.left,y:bn(n.y)?n.y:t.top+t.height+t.brushBottom-(e?.bottom||0),width:bn(n.width)?n.width:t.width})),wN={},_N={},SN={},GF;function lgt(){return GF||(GF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,i,{signal:r,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),h=()=>{o!==null&&(e.apply(s,o),s=void 0,o=null)},d=()=>{c&&h(),w()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,d()},i)},x=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{x(),s=void 0,o=null},k=()=>{h()},A=function(...T){if(r?.aborted)return;s=this,o=T;const R=g==null;y(),l&&R&&h()};return A.schedule=y,A.cancel=w,A.flush=k,r?.addEventListener("abort",w,{once:!0}),A}n.debounce=t})(SN)),SN}var WF;function cgt(){return WF||(WF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=lgt();function e(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let h,d=null;const g=t.debounce(function(...w){h=i.apply(this,w),d=null},r,{edges:c}),y=function(...w){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(h=i.apply(this,w),d=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,w),h)},x=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=x,y}n.debounce=e})(_N)),_N}var UF;function ugt(){return UF||(UF=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=cgt();function e(i,r=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(i,r,{leading:s,maxWait:r,trailing:o})}n.throttle=e})(wN)),wN}var kN,YF;function hgt(){return YF||(YF=1,kN=ugt().throttle),kN}var dgt=hgt();const fgt=Al(dgt);var d2=function(t,e){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(e===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(e===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(e.replace(/%s/g,()=>r[s++]))}},QU=(n,t,e)=>{var{width:i="100%",height:r="100%",aspect:a,maxHeight:s}=e,o=Xp(i)?n:Number(i),l=Xp(r)?t:Number(r);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},ggt={width:0,height:0,overflow:"visible"},pgt={width:0,overflowX:"visible"},mgt={height:0,overflowY:"visible"},ygt={},vgt=n=>{var{width:t,height:e}=n,i=Xp(t),r=Xp(e);return i&&r?ggt:i?pgt:r?mgt:ygt};function xgt(n){var{width:t,height:e,aspect:i}=n,r=t,a=e;return r===void 0&&a===void 0?(r="100%",a="100%"):r===void 0?r=i&&i>0?void 0:"100%":a===void 0&&(a=i&&i>0?void 0:"100%"),{width:r,height:a}}function za(n){return Number.isFinite(n)}function Ag(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function YE(){return YE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},YE.apply(null,arguments)}function $F(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function VF(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(e),!0).forEach(function(i){bgt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):$F(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function bgt(n,t,e){return(t=wgt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function wgt(n){var t=_gt(n,"string");return typeof t=="symbol"?t:t+""}function _gt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var JU=N.createContext({width:-1,height:-1});function Sgt(n){return Ag(n.width)&&Ag(n.height)}function tY(n){var{children:t,width:e,height:i}=n,r=N.useMemo(()=>({width:e,height:i}),[e,i]);return Sgt(r)?N.createElement(JU.Provider,{value:r},t):null}var UO=()=>N.useContext(JU),kgt=N.forwardRef((n,t)=>{var{aspect:e,initialDimension:i={width:-1,height:-1},width:r,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:h=0,id:d,className:g,onResize:y,style:x={}}=n,w=N.useRef(null),k=N.useRef();k.current=y,N.useImperativeHandle(t,()=>w.current);var[A,T]=N.useState({containerWidth:i.width,containerHeight:i.height}),R=N.useCallback((Y,J)=>{T(nt=>{var V=Math.round(Y),Z=Math.round(J);return nt.containerWidth===V&&nt.containerHeight===Z?nt:{containerWidth:V,containerHeight:Z}})},[]);N.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return J_;var Y=Z=>{var rt,{width:lt,height:mt}=Z[0].contentRect;R(lt,mt),(rt=k.current)===null||rt===void 0||rt.call(k,lt,mt)};h>0&&(Y=fgt(Y,h,{trailing:!0,leading:!1}));var J=new ResizeObserver(Y),{width:nt,height:V}=w.current.getBoundingClientRect();return R(nt,V),J.observe(w.current),()=>{J.disconnect()}},[R,h]);var{containerWidth:G,containerHeight:z}=A;d2(!e||e>0,"The aspect(%s) must be greater than zero.",e);var{calculatedWidth:F,calculatedHeight:H}=QU(G,z,{width:r,height:a,aspect:e,maxHeight:l});return d2(F!=null&&F>0||H!=null&&H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,H,r,a,s,o,e),N.createElement("div",{id:d?"".concat(d):void 0,className:Vr("recharts-responsive-container",g),style:VF(VF({},x),{},{width:r,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:w},N.createElement("div",{style:vgt({width:r,height:a})},N.createElement(tY,{width:F,height:H},c)))}),f2=N.forwardRef((n,t)=>{var e=UO();if(Ag(e.width)&&Ag(e.height))return n.children;var{width:i,height:r}=xgt({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:a,calculatedHeight:s}=QU(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return bn(a)&&bn(s)?N.createElement(tY,{width:a,height:s},n.children):N.createElement(kgt,YE({},n,{width:i,height:r,ref:t}))});function eY(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var iS=()=>{var n,t=Fc(),e=yn(sgt),i=yn(GA),r=(n=yn(HA))===null||n===void 0?void 0:n.padding;return!t||!i||!r?e:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},Cgt={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},nY=()=>{var n;return(n=yn(Ko))!==null&&n!==void 0?n:Cgt},iY=()=>yn(nm),rY=()=>yn(im),oa=n=>n.layout.layoutType,WA=()=>yn(oa),Agt=()=>{var n=WA();return n!==void 0},UA=n=>{var t=vs(),e=Fc(),{width:i,height:r}=n,a=UO(),s=i,o=r;return a&&(s=a.width>0?a.width:i,o=a.height>0?a.height:r),N.useEffect(()=>{!e&&Ag(s)&&Ag(o)&&t(Nft({width:s,height:o}))},[t,e,s,o]),null},Tgt={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},aY=Pu({name:"legend",initialState:Tgt,reducers:{setLegendSize(n,t){n.size.width=t.payload.width,n.size.height=t.payload.height},setLegendSettings(n,t){n.settings.align=t.payload.align,n.settings.layout=t.payload.layout,n.settings.verticalAlign=t.payload.verticalAlign,n.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(n,t){n.payload.push(t.payload)},prepare:Ya()},replaceLegendPayload:{reducer(n,t){var{prev:e,next:i}=t.payload,r=lf(n).payload.indexOf(e);r>-1&&(n.payload[r]=i)},prepare:Ya()},removeLegendPayload:{reducer(n,t){var e=lf(n).payload.indexOf(t.payload);e>-1&&n.payload.splice(e,1)},prepare:Ya()}}}),{setLegendSize:Dzt,setLegendSettings:Ozt,addLegendPayload:Mgt,replaceLegendPayload:Ngt,removeLegendPayload:Pgt}=aY.actions,Egt=aY.reducer;function $E(){return $E=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$E.apply(null,arguments)}function XF(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function CN(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(e),!0).forEach(function(i){jgt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XF(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function jgt(n,t,e){return(t=Dgt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Dgt(n){var t=Ogt(n,"string");return typeof t=="symbol"?t:t+""}function Ogt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Lgt(n){return Array.isArray(n)&&pd(n[0])&&pd(n[1])?n.join(" ~ "):n}var Rgt=n=>{var{separator:t=" : ",contentStyle:e={},itemStyle:i={},labelStyle:r={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:h,labelFormatter:d,accessibilityLayer:g=!1}=n,y=()=>{if(a&&a.length){var z={padding:0,margin:0},F=(o?DA(a,o):a).map((H,Y)=>{if(H.type==="none")return null;var J=H.formatter||s||Lgt,{value:nt,name:V}=H,Z=nt,rt=V;if(J){var lt=J(nt,V,H,Y,a);if(Array.isArray(lt))[Z,rt]=lt;else if(lt!=null)Z=lt;else return null}var mt=CN({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},i);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:mt},pd(rt)?N.createElement("span",{className:"recharts-tooltip-item-name"},rt):null,pd(rt)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},Z),N.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:z},F)}return null},x=CN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},e),w=CN({margin:0},r),k=!Vo(h),A=k?h:"",T=Vr("recharts-default-tooltip",l),R=Vr("recharts-tooltip-label",c);k&&d&&a!==void 0&&a!==null&&(A=d(h,a));var G=g?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",$E({className:T,style:x},G),N.createElement("p",{className:R,style:w},N.isValidElement(A)?A:"".concat(A)),y())},ow="recharts-tooltip-wrapper",Igt={visibility:"hidden"};function zgt(n){var{coordinate:t,translateX:e,translateY:i}=n;return Vr(ow,{["".concat(ow,"-right")]:bn(e)&&t&&bn(t.x)&&e>=t.x,["".concat(ow,"-left")]:bn(e)&&t&&bn(t.x)&&e<t.x,["".concat(ow,"-bottom")]:bn(i)&&t&&bn(t.y)&&i>=t.y,["".concat(ow,"-top")]:bn(i)&&t&&bn(t.y)&&i<t.y})}function qF(n){var{allowEscapeViewBox:t,coordinate:e,key:i,offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=n;if(a&&bn(a[i]))return a[i];var h=e[i]-o-(r>0?r:0),d=e[i]+r;if(t[i])return s[i]?h:d;var g=l[i];if(g==null)return 0;if(s[i]){var y=h,x=g;return y<x?Math.max(d,g):Math.max(h,g)}if(c==null)return 0;var w=d+o,k=g+c;return w>k?Math.max(h,g):Math.max(d,g)}function Fgt(n){var{translateX:t,translateY:e,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function Bgt(n){var{allowEscapeViewBox:t,coordinate:e,offsetTopLeft:i,position:r,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=n,c,h,d;return s.height>0&&s.width>0&&e?(h=qF({allowEscapeViewBox:t,coordinate:e,key:"x",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=qF({allowEscapeViewBox:t,coordinate:e,key:"y",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Fgt({translateX:h,translateY:d,useTranslate3d:o})):c=Igt,{cssProperties:c,cssClasses:zgt({translateX:h,translateY:d,coordinate:e})}}function KF(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Mk(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(e),!0).forEach(function(i){VE(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):KF(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function VE(n,t,e){return(t=Hgt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Hgt(n){var t=Ggt(n,"string");return typeof t=="symbol"?t:t+""}function Ggt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class Wgt extends N.PureComponent{constructor(){super(...arguments),VE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),VE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var e,i,r,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(e=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&e!==void 0?e:0,y:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,e;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((e=this.props.coordinate)===null||e===void 0?void 0:e.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:e,animationDuration:i,animationEasing:r,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:h,reverseDirection:d,useTranslate3d:g,viewBox:y,wrapperStyle:x,lastBoundingBox:w,innerRef:k,hasPortalFromProps:A}=this.props,{cssClasses:T,cssProperties:R}=Bgt({allowEscapeViewBox:e,coordinate:s,offsetTopLeft:c,position:h,reverseDirection:d,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:y}),G=A?{}:Mk(Mk({transition:l&&t?"transform ".concat(i,"ms ").concat(r):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),z=Mk(Mk({},G),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:z,ref:k},a)}}var Ugt=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),o1={devToolsEnabled:!1,isSsr:Ugt()},sY=()=>{var n;return(n=yn(t=>t.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function XE(){return XE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},XE.apply(null,arguments)}function ZF(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function QF(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(e),!0).forEach(function(i){Ygt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ZF(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Ygt(n,t,e){return(t=$gt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $gt(n){var t=Vgt(n,"string");return typeof t=="symbol"?t:t+""}function Vgt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var JF={curveBasisClosed:rht,curveBasisOpen:aht,curveBasis:iht,curveBumpX:Wut,curveBumpY:Uut,curveLinearClosed:sht,curveLinear:EA,curveMonotoneX:oht,curveMonotoneY:lht,curveNatural:cht,curveStep:uht,curveStepAfter:dht,curveStepBefore:hht},g2=n=>za(n.x)&&za(n.y),t5=n=>n.base!=null&&g2(n.base)&&g2(n),lw=n=>n.x,cw=n=>n.y,Xgt=(n,t)=>{if(typeof n=="function")return n;var e="curve".concat(Q_(n));return(e==="curveMonotone"||e==="curveBump")&&t?JF["".concat(e).concat(t==="vertical"?"Y":"X")]:JF[e]||EA},qgt=n=>{var{type:t="linear",points:e=[],baseLine:i,layout:r,connectNulls:a=!1}=n,s=Xgt(t,r),o=a?e.filter(g2):e,l;if(Array.isArray(i)){var c=e.map((y,x)=>QF(QF({},y),{},{base:i[x]}));r==="vertical"?l=wk().y(cw).x1(lw).x0(y=>y.base.x):l=wk().x(lw).y1(cw).y0(y=>y.base.y);var h=l.defined(t5).curve(s),d=a?c.filter(t5):c;return h(d)}r==="vertical"&&bn(i)?l=wk().y(cw).x1(lw).x0(i):bn(i)?l=wk().x(lw).y1(cw).y0(i):l=$9().x(lw).y(cw);var g=l.defined(g2).curve(s);return g(o)},oY=n=>{var{className:t,points:e,path:i,pathRef:r}=n;if((!e||!e.length)&&!i)return null;var a=e&&e.length?qgt(n):i;return N.createElement("path",XE({},Vp(n),Rht(n),{className:Vr("recharts-curve",t),d:a===null?void 0:a,ref:r}))},Kgt=["x","y","top","left","width","height","className"];function qE(){return qE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qE.apply(null,arguments)}function e5(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Zgt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?e5(Object(e),!0).forEach(function(i){Qgt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):e5(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Qgt(n,t,e){return(t=Jgt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Jgt(n){var t=tpt(n,"string");return typeof t=="symbol"?t:t+""}function tpt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ept(n,t){if(n==null)return{};var e,i,r=npt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function npt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var ipt=(n,t,e,i,r,a)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(a,",").concat(t,"h").concat(e),rpt=n=>{var{x:t=0,y:e=0,top:i=0,left:r=0,width:a=0,height:s=0,className:o}=n,l=ept(n,Kgt),c=Zgt({x:t,y:e,top:i,left:r,width:a,height:s},l);return!bn(t)||!bn(e)||!bn(a)||!bn(s)||!bn(i)||!bn(r)?null:N.createElement("path",qE({},ch(c),{className:Vr("recharts-cross",o),d:ipt(t,e,a,s,i,r)}))};function apt(n,t,e,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?t.x-r:e.left+.5,y:n==="horizontal"?e.top+.5:t.y-r,width:n==="horizontal"?i:e.width-1,height:n==="horizontal"?e.height-1:i}}function n5(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function i5(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(e),!0).forEach(function(i){spt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):n5(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function spt(n,t,e){return(t=opt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function opt(n){var t=lpt(n,"string");return typeof t=="symbol"?t:t+""}function lpt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var cpt=n=>n.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),lY=(n,t,e)=>n.map(i=>"".concat(cpt(i)," ").concat(t,"ms ").concat(e)).join(","),upt=(n,t)=>[Object.keys(n),Object.keys(t)].reduce((e,i)=>e.filter(r=>i.includes(r))),u_=(n,t)=>Object.keys(t).reduce((e,i)=>i5(i5({},e),{},{[i]:n(i,t[i])}),{});function r5(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function xo(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(e),!0).forEach(function(i){hpt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r5(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function hpt(n,t,e){return(t=dpt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dpt(n){var t=fpt(n,"string");return typeof t=="symbol"?t:t+""}function fpt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var p2=(n,t,e)=>n+(t-n)*e,KE=n=>{var{from:t,to:e}=n;return t!==e},cY=(n,t,e)=>{var i=u_((r,a)=>{if(KE(a)){var[s,o]=n(a.from,a.to,a.velocity);return xo(xo({},a),{},{from:s,velocity:o})}return a},t);return e<1?u_((r,a)=>KE(a)?xo(xo({},a),{},{velocity:p2(a.velocity,i[r].velocity,e),from:p2(a.from,i[r].from,e)}):a,t):cY(n,i,e-1)};function gpt(n,t,e,i,r,a){var s,o=i.reduce((g,y)=>xo(xo({},g),{},{[y]:{from:n[y],velocity:0,to:t[y]}}),{}),l=()=>u_((g,y)=>y.from,o),c=()=>!Object.values(o).filter(KE).length,h=null,d=g=>{s||(s=g);var y=g-s,x=y/e.dt;o=cY(e,o,x),r(xo(xo(xo({},n),t),l())),s=g,c()||(h=a.setTimeout(d))};return()=>(h=a.setTimeout(d),()=>{var g;(g=h)===null||g===void 0||g()})}function ppt(n,t,e,i,r,a,s){var o=null,l=r.reduce((d,g)=>xo(xo({},d),{},{[g]:[n[g],t[g]]}),{}),c,h=d=>{c||(c=d);var g=(d-c)/i,y=u_((w,k)=>p2(...k,e(g)),l);if(a(xo(xo(xo({},n),t),y)),g<1)o=s.setTimeout(h);else{var x=u_((w,k)=>p2(...k,e(1)),l);a(xo(xo(xo({},n),t),x))}};return()=>(o=s.setTimeout(h),()=>{var d;(d=o)===null||d===void 0||d()})}const mpt=(n,t,e,i,r,a)=>{var s=upt(n,t);return e==null?()=>(r(xo(xo({},n),t)),()=>{}):e.isStepper===!0?gpt(n,t,e,s,r,a):ppt(n,t,e,i,s,r,a)};var m2=1e-4,uY=(n,t)=>[0,3*n,3*t-6*n,3*n-3*t+1],hY=(n,t)=>n.map((e,i)=>e*t**i).reduce((e,i)=>e+i),a5=(n,t)=>e=>{var i=uY(n,t);return hY(i,e)},ypt=(n,t)=>e=>{var i=uY(n,t),r=[...i.map((a,s)=>a*s).slice(1),0];return hY(r,e)},vpt=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length===1)switch(e[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,a=e[0].split("(");if(a[0]==="cubic-bezier"&&((r=a[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return e.length===4?e:[0,0,1,1]},xpt=(n,t,e,i)=>{var r=a5(n,e),a=a5(t,i),s=ypt(n,e),o=c=>c>1?1:c<0?0:c,l=c=>{for(var h=c>1?1:c,d=h,g=0;g<8;++g){var y=r(d)-h,x=s(d);if(Math.abs(y-h)<m2||x<m2)return a(d);d=o(d-y/x)}return a(d)};return l.isStepper=!1,l},s5=function(){return xpt(...vpt(...arguments))},bpt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:e=100,damping:i=8,dt:r=17}=t,a=(s,o,l)=>{var c=-(s-o)*e,h=l*i,d=l+(c-h)*r/1e3,g=l*r/1e3+s;return Math.abs(g-o)<m2&&Math.abs(d)<m2?[o,0]:[g,d]};return a.isStepper=!0,a.dt=r,a},wpt=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return s5(n);case"spring":return bpt();default:if(n.split("(")[0]==="cubic-bezier")return s5(n)}return typeof n=="function"?n:null};function _pt(n){var t,e=()=>null,i=!1,r=null,a=s=>{if(!i){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){r=n.setTimeout(a.bind(null,c),l);return}a(l),r=n.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,e(t)),typeof s=="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:()=>{i=!0},start:s=>{i=!1,r&&(r(),r=null),a(s)},subscribe:s=>(e=s,()=>{e=()=>null}),getTimeoutController:()=>n}}class Spt{setTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=s=>{s-i>=e?t(s):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{r!=null&&cancelAnimationFrame(r)}}}function kpt(){return _pt(new Spt)}var Cpt=N.createContext(kpt);function Apt(n,t){var e=N.useContext(Cpt);return N.useMemo(()=>t??e(n),[n,t,e])}var Tpt={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},o5={t:0},AN={t:1};function YO(n){var t=Nu(n,Tpt),{isActive:e,canBegin:i,duration:r,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,h=e==="auto"?!o1.isSsr:e,d=Apt(t.animationId,t.animationManager),[g,y]=N.useState(h?o5:AN),x=N.useRef(null);return N.useEffect(()=>{h||y(AN)},[h]),N.useEffect(()=>{if(!h||!i)return J_;var w=mpt(o5,AN,wpt(a),r,y,d.getTimeoutController()),k=()=>{x.current=w()};return d.start([l,s,k,r,o]),()=>{d.stop(),x.current&&x.current(),o()}},[h,i,r,a,s,l,o,d]),c(g.t)}function $O(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",e=N.useRef(s_(t)),i=N.useRef(n);return i.current!==n&&(e.current=s_(t),i.current=n),e.current}var Mpt=["radius"],Npt=["radius"];function l5(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function c5(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(e),!0).forEach(function(i){Ppt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):l5(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Ppt(n,t,e){return(t=Ept(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ept(n){var t=jpt(n,"string");return typeof t=="symbol"?t:t+""}function jpt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function y2(){return y2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},y2.apply(null,arguments)}function u5(n,t){if(n==null)return{};var e,i,r=Dpt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Dpt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var h5=(n,t,e,i,r)=>{var a=Math.min(Math.abs(e)/2,Math.abs(i)/2),s=i>=0?1:-1,o=e>=0?1:-1,l=i>=0&&e>=0||i<0&&e<0?1:0,c;if(a>0&&r instanceof Array){for(var h=[0,0,0,0],d=0,g=4;d<g;d++)h[d]=r[d]>a?a:r[d];c="M".concat(n,",").concat(t+s*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(l,",").concat(n+o*h[0],",").concat(t)),c+="L ".concat(n+e-o*h[1],",").concat(t),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(l,`,
        `).concat(n+e,",").concat(t+s*h[1])),c+="L ".concat(n+e,",").concat(t+i-s*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(l,`,
        `).concat(n+e-o*h[2],",").concat(t+i)),c+="L ".concat(n+o*h[3],",").concat(t+i),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(t+i-s*h[3])),c+="Z"}else if(a>0&&r===+r&&r>0){var y=Math.min(a,r);c="M ".concat(n,",").concat(t+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(n+o*y,",").concat(t,`
            L `).concat(n+e-o*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(n+e,",").concat(t+s*y,`
            L `).concat(n+e,",").concat(t+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(n+e-o*y,",").concat(t+i,`
            L `).concat(n+o*y,",").concat(t+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(n,",").concat(t+i-s*y," Z")}else c="M ".concat(n,",").concat(t," h ").concat(e," v ").concat(i," h ").concat(-e," Z");return c},d5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dY=n=>{var t=Nu(n,d5),e=N.useRef(null),[i,r]=N.useState(-1);N.useEffect(()=>{if(e.current&&e.current.getTotalLength)try{var st=e.current.getTotalLength();st&&r(st)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:h}=t,{animationEasing:d,animationDuration:g,animationBegin:y,isAnimationActive:x,isUpdateAnimationActive:w}=t,k=N.useRef(o),A=N.useRef(l),T=N.useRef(a),R=N.useRef(s),G=N.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),z=$O(G,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var F=Vr("recharts-rectangle",h);if(!w){var H=ch(t),{radius:Y}=H,J=u5(H,Mpt);return N.createElement("path",y2({},J,{radius:typeof c=="number"?c:void 0,className:F,d:h5(a,s,o,l,c)}))}var nt=k.current,V=A.current,Z=T.current,rt=R.current,lt="0px ".concat(i===-1?1:i,"px"),mt="".concat(i,"px 0px"),ct=lY(["strokeDasharray"],g,typeof d=="string"?d:d5.animationEasing);return N.createElement(YO,{animationId:z,key:z,canBegin:i>0,duration:g,easing:d,isActive:w,begin:y},st=>{var xt=xl(nt,o,st),dt=xl(V,l,st),ht=xl(Z,a,st),ot=xl(rt,s,st);e.current&&(k.current=xt,A.current=dt,T.current=ht,R.current=ot);var vt;x?st>0?vt={transition:ct,strokeDasharray:mt}:vt={strokeDasharray:lt}:vt={strokeDasharray:mt};var St=ch(t),{radius:Pt}=St,It=u5(St,Npt);return N.createElement("path",y2({},It,{radius:typeof c=="number"?c:void 0,className:F,d:h5(ht,ot,xt,dt,c),ref:e,style:c5(c5({},vt),t.style)}))})};function f5(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function g5(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(e),!0).forEach(function(i){Opt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):f5(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Opt(n,t,e){return(t=Lpt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Lpt(n){var t=Rpt(n,"string");return typeof t=="symbol"?t:t+""}function Rpt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var v2=Math.PI/180,Ipt=n=>n*180/Math.PI,Sl=(n,t,e,i)=>({x:n+Math.cos(-v2*i)*e,y:t+Math.sin(-v2*i)*e}),zpt=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(e-(i.top||0)-(i.bottom||0)))/2},Fpt=(n,t)=>{var{x:e,y:i}=n,{x:r,y:a}=t;return Math.sqrt((e-r)**2+(i-a)**2)},Bpt=(n,t)=>{var{x:e,y:i}=n,{cx:r,cy:a}=t,s=Fpt({x:e,y:i},{x:r,y:a});if(s<=0)return{radius:s,angle:0};var o=(e-r)/s,l=Math.acos(o);return i>a&&(l=2*Math.PI-l),{radius:s,angle:Ipt(l),angleInRadian:l}},Hpt=n=>{var{startAngle:t,endAngle:e}=n,i=Math.floor(t/360),r=Math.floor(e/360),a=Math.min(i,r);return{startAngle:t-a*360,endAngle:e-a*360}},Gpt=(n,t)=>{var{startAngle:e,endAngle:i}=t,r=Math.floor(e/360),a=Math.floor(i/360),s=Math.min(r,a);return n+s*360},Wpt=(n,t)=>{var{chartX:e,chartY:i}=n,{radius:r,angle:a}=Bpt({x:e,y:i},t),{innerRadius:s,outerRadius:o}=t;if(r<s||r>o||r===0)return null;var{startAngle:l,endAngle:c}=Hpt(t),h=a,d;if(l<=c){for(;h>c;)h-=360;for(;h<l;)h+=360;d=h>=l&&h<=c}else{for(;h>l;)h-=360;for(;h<c;)h+=360;d=h>=c&&h<=l}return d?g5(g5({},t),{},{radius:r,angle:Gpt(h,t)}):null};function fY(n){var{cx:t,cy:e,radius:i,startAngle:r,endAngle:a}=n,s=Sl(t,e,i,r),o=Sl(t,e,i,a);return{points:[s,o],cx:t,cy:e,radius:i,startAngle:r,endAngle:a}}function ZE(){return ZE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ZE.apply(null,arguments)}var Upt=(n,t)=>{var e=wu(t-n),i=Math.min(Math.abs(t-n),359.999);return e*i},Nk=n=>{var{cx:t,cy:e,radius:i,angle:r,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=n,c=o*(s?1:-1)+i,h=Math.asin(o/c)/v2,d=l?r:r+a*h,g=Sl(t,e,c,d),y=Sl(t,e,i,d),x=l?r-a*h:r,w=Sl(t,e,c*Math.cos(h*v2),x);return{center:g,circleTangency:y,lineTangency:w,theta:h}},gY=n=>{var{cx:t,cy:e,innerRadius:i,outerRadius:r,startAngle:a,endAngle:s}=n,o=Upt(a,s),l=a+o,c=Sl(t,e,r,a),h=Sl(t,e,r,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=Sl(t,e,i,a),y=Sl(t,e,i,l);d+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else d+="L ".concat(t,",").concat(e," Z");return d},Ypt=n=>{var{cx:t,cy:e,innerRadius:i,outerRadius:r,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=n,h=wu(c-l),{circleTangency:d,lineTangency:g,theta:y}=Nk({cx:t,cy:e,radius:r,angle:l,sign:h,cornerRadius:a,cornerIsExternal:o}),{circleTangency:x,lineTangency:w,theta:k}=Nk({cx:t,cy:e,radius:r,angle:c,sign:-h,cornerRadius:a,cornerIsExternal:o}),A=o?Math.abs(l-c):Math.abs(l-c)-y-k;if(A<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):gY({cx:t,cy:e,innerRadius:i,outerRadius:r,startAngle:l,endAngle:c});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var{circleTangency:R,lineTangency:G,theta:z}=Nk({cx:t,cy:e,radius:i,angle:l,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:F,lineTangency:H,theta:Y}=Nk({cx:t,cy:e,radius:i,angle:c,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),J=o?Math.abs(l-c):Math.abs(l-c)-z-Y;if(J<0&&a===0)return"".concat(T,"L").concat(t,",").concat(e,"Z");T+="L".concat(H.x,",").concat(H.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(J>180),",").concat(+(h>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,"Z")}else T+="L".concat(t,",").concat(e,"Z");return T},$pt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pY=n=>{var t=Nu(n,$pt),{cx:e,cy:i,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:h,className:d}=t;if(a<r||c===h)return null;var g=Vr("recharts-sector",d),y=a-r,x=df(s,y,0,!0),w;return x>0&&Math.abs(c-h)<360?w=Ypt({cx:e,cy:i,innerRadius:r,outerRadius:a,cornerRadius:Math.min(x,y/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:h}):w=gY({cx:e,cy:i,innerRadius:r,outerRadius:a,startAngle:c,endAngle:h}),N.createElement("path",ZE({},ch(t),{className:g,d:w}))};function Vpt(n,t,e){if(n==="horizontal")return[{x:t.x,y:e.top},{x:t.x,y:e.top+e.height}];if(n==="vertical")return[{x:e.left,y:t.y},{x:e.left+e.width,y:t.y}];if(oU(t)){if(n==="centric"){var{cx:i,cy:r,innerRadius:a,outerRadius:s,angle:o}=t,l=Sl(i,r,a,o),c=Sl(i,r,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return fY(t)}}var TN={},MN={},NN={},p5;function Xpt(){return p5||(p5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=vU();function e(i){return t.isSymbol(i)?NaN:Number(i)}n.toNumber=e})(NN)),NN}var m5;function qpt(){return m5||(m5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Xpt();function e(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=e})(MN)),MN}var y5;function Kpt(){return y5||(y5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=xU(),e=qpt();function i(r,a,s){s&&typeof s!="number"&&t.isIterateeCall(r,a,s)&&(a=s=void 0),r=e.toFinite(r),a===void 0?(a=r,r=0):a=e.toFinite(a),s=s===void 0?r<a?1:-1:e.toFinite(s);const o=Math.max(Math.ceil((a-r)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=r,r+=s;return l}n.range=i})(TN)),TN}var PN,v5;function Zpt(){return v5||(v5=1,PN=Kpt().range),PN}var Qpt=Zpt();const mY=Al(Qpt);function zy(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Jpt(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function VO(n){let t,e,i;n.length!==2?(t=zy,e=(o,l)=>zy(n(o),l),i=(o,l)=>n(o)-l):(t=n===zy||n===Jpt?n:tmt,e=n,i=n);function r(o,l,c=0,h=o.length){if(c<h){if(t(l,l)!==0)return h;do{const d=c+h>>>1;e(o[d],l)<0?c=d+1:h=d}while(c<h)}return c}function a(o,l,c=0,h=o.length){if(c<h){if(t(l,l)!==0)return h;do{const d=c+h>>>1;e(o[d],l)<=0?c=d+1:h=d}while(c<h)}return c}function s(o,l,c=0,h=o.length){const d=r(o,l,c,h-1);return d>c&&i(o[d-1],l)>-i(o[d],l)?d-1:d}return{left:r,center:s,right:a}}function tmt(){return 0}function yY(n){return n===null?NaN:+n}function*emt(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const nmt=VO(zy),rS=nmt.right;VO(yY).center;class x5 extends Map{constructor(t,e=amt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(b5(this,t))}has(t){return super.has(b5(this,t))}set(t,e){return super.set(imt(this,t),e)}delete(t){return super.delete(rmt(this,t))}}function b5({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function imt({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function rmt({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function amt(n){return n!==null&&typeof n=="object"?n.valueOf():n}function smt(n=zy){if(n===zy)return vY;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const i=n(t,e);return i||i===0?i:(n(e,e)===0)-(n(t,t)===0)}}function vY(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const omt=Math.sqrt(50),lmt=Math.sqrt(10),cmt=Math.sqrt(2);function x2(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=omt?10:a>=lmt?5:a>=cmt?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/s,o=Math.round(n*c),l=Math.round(t*c),o/c<n&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*s,o=Math.round(n/c),l=Math.round(t/c),o*c<n&&++o,l*c>t&&--l),l<o&&.5<=e&&e<2?x2(n,t,e*2):[o,l,c]}function QE(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const i=t<n,[r,a,s]=i?x2(t,n,e):x2(n,t,e);if(!(a>=r))return[];const o=a-r+1,l=new Array(o);if(i)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(r+c)/-s;else for(let c=0;c<o;++c)l[c]=(r+c)*s;return l}function JE(n,t,e){return t=+t,n=+n,e=+e,x2(n,t,e)[2]}function tj(n,t,e){t=+t,n=+n,e=+e;const i=t<n,r=i?JE(t,n,e):JE(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}function w5(n,t){let e;for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);return e}function _5(n,t){let e;for(const i of n)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);return e}function xY(n,t,e=0,i=1/0,r){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),i=Math.floor(Math.min(n.length-1,i)),!(e<=t&&t<=i))return n;for(r=r===void 0?vY:smt(r);i>e;){if(i-e>600){const l=i-e+1,c=t-e+1,h=Math.log(l),d=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*d*(l-d)/l)*(c-l/2<0?-1:1),y=Math.max(e,Math.floor(t-c*d/l+g)),x=Math.min(i,Math.floor(t+(l-c)*d/l+g));xY(n,t,y,x,r)}const a=n[t];let s=e,o=i;for(uw(n,e,t),r(n[i],a)>0&&uw(n,e,i);s<o;){for(uw(n,s,o),++s,--o;r(n[s],a)<0;)++s;for(;r(n[o],a)>0;)--o}r(n[e],a)===0?uw(n,e,o):(++o,uw(n,o,i)),o<=t&&(e=o+1),t<=o&&(i=o-1)}return n}function uw(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function umt(n,t,e){if(n=Float64Array.from(emt(n)),!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return _5(n);if(t>=1)return w5(n);var i,r=(i-1)*t,a=Math.floor(r),s=w5(xY(n,a).subarray(0,a+1)),o=_5(n.subarray(a+1));return s+(o-s)*(r-a)}}function hmt(n,t,e=yY){if(!(!(i=n.length)||isNaN(t=+t))){if(t<=0||i<2)return+e(n[0],0,n);if(t>=1)return+e(n[i-1],i-1,n);var i,r=(i-1)*t,a=Math.floor(r),s=+e(n[a],a,n),o=+e(n[a+1],a+1,n);return s+(o-s)*(r-a)}}function dmt(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,a=new Array(r);++i<r;)a[i]=n+i*e;return a}function vd(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function rm(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ej=Symbol("implicit");function XO(){var n=new x5,t=[],e=[],i=ej;function r(a){let s=n.get(a);if(s===void 0){if(i!==ej)return i;n.set(a,s=t.push(a)-1)}return e[s%e.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],n=new x5;for(const s of a)n.has(s)||n.set(s,t.push(s)-1);return r},r.range=function(a){return arguments.length?(e=Array.from(a),r):e.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return XO(t,e).unknown(i)},vd.apply(r,arguments),r}function qO(){var n=XO().unknown(void 0),t=n.domain,e=n.range,i=0,r=1,a,s,o=!1,l=0,c=0,h=.5;delete n.unknown;function d(){var g=t().length,y=r<i,x=y?r:i,w=y?i:r;a=(w-x)/Math.max(1,g-l+c*2),o&&(a=Math.floor(a)),x+=(w-x-a*(g-l))*h,s=a*(1-l),o&&(x=Math.round(x),s=Math.round(s));var k=dmt(g).map(function(A){return x+a*A});return e(y?k.reverse():k)}return n.domain=function(g){return arguments.length?(t(g),d()):t()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,d()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,o=!0,d()},n.bandwidth=function(){return s},n.step=function(){return a},n.round=function(g){return arguments.length?(o=!!g,d()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,c=+g),d()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),d()):l},n.paddingOuter=function(g){return arguments.length?(c=+g,d()):c},n.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),d()):h},n.copy=function(){return qO(t(),[i,r]).round(o).paddingInner(l).paddingOuter(c).align(h)},vd.apply(d(),arguments)}function bY(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return bY(t())},n}function fmt(){return bY(qO.apply(null,arguments).paddingInner(1))}function KO(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function wY(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function aS(){}var h_=.7,b2=1/h_,Cb="\\s*([+-]?\\d+)\\s*",d_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gmt=/^#([0-9a-f]{3,8})$/,pmt=new RegExp(`^rgb\\(${Cb},${Cb},${Cb}\\)$`),mmt=new RegExp(`^rgb\\(${wg},${wg},${wg}\\)$`),ymt=new RegExp(`^rgba\\(${Cb},${Cb},${Cb},${d_}\\)$`),vmt=new RegExp(`^rgba\\(${wg},${wg},${wg},${d_}\\)$`),xmt=new RegExp(`^hsl\\(${d_},${wg},${wg}\\)$`),bmt=new RegExp(`^hsla\\(${d_},${wg},${wg},${d_}\\)$`),S5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KO(aS,f_,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:k5,formatHex:k5,formatHex8:wmt,formatHsl:_mt,formatRgb:C5,toString:C5});function k5(){return this.rgb().formatHex()}function wmt(){return this.rgb().formatHex8()}function _mt(){return _Y(this).formatHsl()}function C5(){return this.rgb().formatRgb()}function f_(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=gmt.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?A5(t):e===3?new _u(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Pk(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Pk(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pmt.exec(n))?new _u(t[1],t[2],t[3],1):(t=mmt.exec(n))?new _u(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ymt.exec(n))?Pk(t[1],t[2],t[3],t[4]):(t=vmt.exec(n))?Pk(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xmt.exec(n))?N5(t[1],t[2]/100,t[3]/100,1):(t=bmt.exec(n))?N5(t[1],t[2]/100,t[3]/100,t[4]):S5.hasOwnProperty(n)?A5(S5[n]):n==="transparent"?new _u(NaN,NaN,NaN,0):null}function A5(n){return new _u(n>>16&255,n>>8&255,n&255,1)}function Pk(n,t,e,i){return i<=0&&(n=t=e=NaN),new _u(n,t,e,i)}function Smt(n){return n instanceof aS||(n=f_(n)),n?(n=n.rgb(),new _u(n.r,n.g,n.b,n.opacity)):new _u}function nj(n,t,e,i){return arguments.length===1?Smt(n):new _u(n,t,e,i??1)}function _u(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}KO(_u,nj,wY(aS,{brighter(n){return n=n==null?b2:Math.pow(b2,n),new _u(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?h_:Math.pow(h_,n),new _u(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new _u(kx(this.r),kx(this.g),kx(this.b),w2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T5,formatHex:T5,formatHex8:kmt,formatRgb:M5,toString:M5}));function T5(){return`#${dx(this.r)}${dx(this.g)}${dx(this.b)}`}function kmt(){return`#${dx(this.r)}${dx(this.g)}${dx(this.b)}${dx((isNaN(this.opacity)?1:this.opacity)*255)}`}function M5(){const n=w2(this.opacity);return`${n===1?"rgb(":"rgba("}${kx(this.r)}, ${kx(this.g)}, ${kx(this.b)}${n===1?")":`, ${n})`}`}function w2(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function kx(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function dx(n){return n=kx(n),(n<16?"0":"")+n.toString(16)}function N5(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new af(n,t,e,i)}function _Y(n){if(n instanceof af)return new af(n.h,n.s,n.l,n.opacity);if(n instanceof aS||(n=f_(n)),!n)return new af;if(n instanceof af)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),a=Math.max(t,e,i),s=NaN,o=a-r,l=(a+r)/2;return o?(t===a?s=(e-i)/o+(e<i)*6:e===a?s=(i-t)/o+2:s=(t-e)/o+4,o/=l<.5?a+r:2-a-r,s*=60):o=l>0&&l<1?0:s,new af(s,o,l,n.opacity)}function Cmt(n,t,e,i){return arguments.length===1?_Y(n):new af(n,t,e,i??1)}function af(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}KO(af,Cmt,wY(aS,{brighter(n){return n=n==null?b2:Math.pow(b2,n),new af(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?h_:Math.pow(h_,n),new af(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new _u(EN(n>=240?n-240:n+120,r,i),EN(n,r,i),EN(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new af(P5(this.h),Ek(this.s),Ek(this.l),w2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=w2(this.opacity);return`${n===1?"hsl(":"hsla("}${P5(this.h)}, ${Ek(this.s)*100}%, ${Ek(this.l)*100}%${n===1?")":`, ${n})`}`}}));function P5(n){return n=(n||0)%360,n<0?n+360:n}function Ek(n){return Math.max(0,Math.min(1,n||0))}function EN(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const ZO=n=>()=>n;function Amt(n,t){return function(e){return n+e*t}}function Tmt(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function Mmt(n){return(n=+n)==1?SY:function(t,e){return e-t?Tmt(t,e,n):ZO(isNaN(t)?e:t)}}function SY(n,t){var e=t-n;return e?Amt(n,e):ZO(isNaN(n)?t:n)}const E5=(function n(t){var e=Mmt(t);function i(r,a){var s=e((r=nj(r)).r,(a=nj(a)).r),o=e(r.g,a.g),l=e(r.b,a.b),c=SY(r.opacity,a.opacity);return function(h){return r.r=s(h),r.g=o(h),r.b=l(h),r.opacity=c(h),r+""}}return i.gamma=n,i})(1);function Nmt(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,i=t.slice(),r;return function(a){for(r=0;r<e;++r)i[r]=n[r]*(1-a)+t[r]*a;return i}}function Pmt(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Emt(n,t){var e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),a=new Array(e),s;for(s=0;s<i;++s)r[s]=l1(n[s],t[s]);for(;s<e;++s)a[s]=t[s];return function(o){for(s=0;s<i;++s)a[s]=r[s](o);return a}}function jmt(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function _2(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function Dmt(n,t){var e={},i={},r;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in n?e[r]=l1(n[r],t[r]):i[r]=t[r];return function(a){for(r in e)i[r]=e[r](a);return i}}var ij=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jN=new RegExp(ij.source,"g");function Omt(n){return function(){return n}}function Lmt(n){return function(t){return n(t)+""}}function Rmt(n,t){var e=ij.lastIndex=jN.lastIndex=0,i,r,a,s=-1,o=[],l=[];for(n=n+"",t=t+"";(i=ij.exec(n))&&(r=jN.exec(t));)(a=r.index)>e&&(a=t.slice(e,a),o[s]?o[s]+=a:o[++s]=a),(i=i[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:_2(i,r)})),e=jN.lastIndex;return e<t.length&&(a=t.slice(e),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Lmt(l[0].x):Omt(t):(t=l.length,function(c){for(var h=0,d;h<t;++h)o[(d=l[h]).i]=d.x(c);return o.join("")})}function l1(n,t){var e=typeof t,i;return t==null||e==="boolean"?ZO(t):(e==="number"?_2:e==="string"?(i=f_(t))?(t=i,E5):Rmt:t instanceof f_?E5:t instanceof Date?jmt:Pmt(t)?Nmt:Array.isArray(t)?Emt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dmt:_2)(n,t)}function QO(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function Imt(n,t){t===void 0&&(t=n,n=l1);for(var e=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);e<i;)a[e]=n(r,r=t[++e]);return function(s){var o=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return a[o](s-o)}}function zmt(n){return function(){return n}}function S2(n){return+n}var j5=[0,1];function Ic(n){return n}function rj(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:zmt(isNaN(t)?NaN:.5)}function Fmt(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}function Bmt(n,t,e){var i=n[0],r=n[1],a=t[0],s=t[1];return r<i?(i=rj(r,i),a=e(s,a)):(i=rj(i,r),a=e(a,s)),function(o){return a(i(o))}}function Hmt(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=rj(n[s],n[s+1]),a[s]=e(t[s],t[s+1]);return function(o){var l=rS(n,o,1,i)-1;return a[l](r[l](o))}}function sS(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function YA(){var n=j5,t=j5,e=l1,i,r,a,s=Ic,o,l,c;function h(){var g=Math.min(n.length,t.length);return s!==Ic&&(s=Fmt(n[0],n[g-1])),o=g>2?Hmt:Bmt,l=c=null,d}function d(g){return g==null||isNaN(g=+g)?a:(l||(l=o(n.map(i),t,e)))(i(s(g)))}return d.invert=function(g){return s(r((c||(c=o(t,n.map(i),_2)))(g)))},d.domain=function(g){return arguments.length?(n=Array.from(g,S2),h()):n.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),e=QO,h()},d.clamp=function(g){return arguments.length?(s=g?!0:Ic,h()):s!==Ic},d.interpolate=function(g){return arguments.length?(e=g,h()):e},d.unknown=function(g){return arguments.length?(a=g,d):a},function(g,y){return i=g,r=y,h()}}function JO(){return YA()(Ic,Ic)}function Gmt(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function k2(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function zb(n){return n=k2(Math.abs(n)),n?n[1]:NaN}function Wmt(n,t){return function(e,i){for(var r=e.length,a=[],s=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),a.push(e.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[s=(s+1)%n.length];return a.reverse().join(t)}}function Umt(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var Ymt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g_(n){if(!(t=Ymt.exec(n)))throw new Error("invalid format: "+n);var t;return new tL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}g_.prototype=tL.prototype;function tL(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}tL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $mt(n){t:for(var t=n.length,e=1,i=-1,r;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":i===0&&(i=e),r=e;break;default:if(!+n[e])break t;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var kY;function Vmt(n,t){var e=k2(n,t);if(!e)return n+"";var i=e[0],r=e[1],a=r-(kY=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+k2(n,Math.max(0,t+a-1))[0]}function D5(n,t){var e=k2(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const O5={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Gmt,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>D5(n*100,t),r:D5,s:Vmt,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function L5(n){return n}var R5=Array.prototype.map,I5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xmt(n){var t=n.grouping===void 0||n.thousands===void 0?L5:Wmt(R5.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?L5:Umt(R5.call(n.numerals,String)),s=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(d){d=g_(d);var g=d.fill,y=d.align,x=d.sign,w=d.symbol,k=d.zero,A=d.width,T=d.comma,R=d.precision,G=d.trim,z=d.type;z==="n"?(T=!0,z="g"):O5[z]||(R===void 0&&(R=12),G=!0,z="g"),(k||g==="0"&&y==="=")&&(k=!0,g="0",y="=");var F=w==="$"?e:w==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",H=w==="$"?i:/[%p]/.test(z)?s:"",Y=O5[z],J=/[defgprs%]/.test(z);R=R===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function nt(V){var Z=F,rt=H,lt,mt,ct;if(z==="c")rt=Y(V)+rt,V="";else{V=+V;var st=V<0||1/V<0;if(V=isNaN(V)?l:Y(Math.abs(V),R),G&&(V=$mt(V)),st&&+V==0&&x!=="+"&&(st=!1),Z=(st?x==="("?x:o:x==="-"||x==="("?"":x)+Z,rt=(z==="s"?I5[8+kY/3]:"")+rt+(st&&x==="("?")":""),J){for(lt=-1,mt=V.length;++lt<mt;)if(ct=V.charCodeAt(lt),48>ct||ct>57){rt=(ct===46?r+V.slice(lt+1):V.slice(lt))+rt,V=V.slice(0,lt);break}}}T&&!k&&(V=t(V,1/0));var xt=Z.length+V.length+rt.length,dt=xt<A?new Array(A-xt+1).join(g):"";switch(T&&k&&(V=t(dt+V,dt.length?A-rt.length:1/0),dt=""),y){case"<":V=Z+V+rt+dt;break;case"=":V=Z+dt+V+rt;break;case"^":V=dt.slice(0,xt=dt.length>>1)+Z+V+rt+dt.slice(xt);break;default:V=dt+Z+V+rt;break}return a(V)}return nt.toString=function(){return d+""},nt}function h(d,g){var y=c((d=g_(d),d.type="f",d)),x=Math.max(-8,Math.min(8,Math.floor(zb(g)/3)))*3,w=Math.pow(10,-x),k=I5[8+x/3];return function(A){return y(w*A)+k}}return{format:c,formatPrefix:h}}var jk,eL,CY;qmt({thousands:",",grouping:[3],currency:["$",""]});function qmt(n){return jk=Xmt(n),eL=jk.format,CY=jk.formatPrefix,jk}function Kmt(n){return Math.max(0,-zb(Math.abs(n)))}function Zmt(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zb(t)/3)))*3-zb(Math.abs(n)))}function Qmt(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,zb(t)-zb(n))+1}function AY(n,t,e,i){var r=tj(n,t,e),a;switch(i=g_(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(a=Zmt(r,s))&&(i.precision=a),CY(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Qmt(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Kmt(r))&&(i.precision=a-(i.type==="%")*2);break}}return eL(i)}function tv(n){var t=n.domain;return n.ticks=function(e){var i=t();return QE(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return AY(r[0],r[r.length-1],e??10,i)},n.nice=function(e){e==null&&(e=10);var i=t(),r=0,a=i.length-1,s=i[r],o=i[a],l,c,h=10;for(o<s&&(c=s,s=o,o=c,c=r,r=a,a=c);h-- >0;){if(c=JE(s,o,e),c===l)return i[r]=s,i[a]=o,t(i);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return n},n}function TY(){var n=JO();return n.copy=function(){return sS(n,TY())},vd.apply(n,arguments),tv(n)}function MY(n){var t;function e(i){return i==null||isNaN(i=+i)?t:i}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(n=Array.from(i,S2),e):n.slice()},e.unknown=function(i){return arguments.length?(t=i,e):t},e.copy=function(){return MY(n).unknown(t)},n=arguments.length?Array.from(n,S2):[0,1],tv(e)}function NY(n,t){n=n.slice();var e=0,i=n.length-1,r=n[e],a=n[i],s;return a<r&&(s=e,e=i,i=s,s=r,r=a,a=s),n[e]=t.floor(r),n[i]=t.ceil(a),n}function z5(n){return Math.log(n)}function F5(n){return Math.exp(n)}function Jmt(n){return-Math.log(-n)}function tyt(n){return-Math.exp(-n)}function eyt(n){return isFinite(n)?+("1e"+n):n<0?0:n}function nyt(n){return n===10?eyt:n===Math.E?Math.exp:t=>Math.pow(n,t)}function iyt(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function B5(n){return(t,e)=>-n(-t,e)}function nL(n){const t=n(z5,F5),e=t.domain;let i=10,r,a;function s(){return r=iyt(i),a=nyt(i),e()[0]<0?(r=B5(r),a=B5(a),n(Jmt,tyt)):n(z5,F5),t}return t.base=function(o){return arguments.length?(i=+o,s()):i},t.domain=function(o){return arguments.length?(e(o),s()):e()},t.ticks=o=>{const l=e();let c=l[0],h=l[l.length-1];const d=h<c;d&&([c,h]=[h,c]);let g=r(c),y=r(h),x,w;const k=o==null?10:+o;let A=[];if(!(i%1)&&y-g<k){if(g=Math.floor(g),y=Math.ceil(y),c>0){for(;g<=y;++g)for(x=1;x<i;++x)if(w=g<0?x/a(-g):x*a(g),!(w<c)){if(w>h)break;A.push(w)}}else for(;g<=y;++g)for(x=i-1;x>=1;--x)if(w=g>0?x/a(-g):x*a(g),!(w<c)){if(w>h)break;A.push(w)}A.length*2<k&&(A=QE(c,h,k))}else A=QE(g,y,Math.min(y-g,k)).map(a);return d?A.reverse():A},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=g_(l)).precision==null&&(l.trim=!0),l=eL(l)),o===1/0)return l;const c=Math.max(1,i*o/t.ticks().length);return h=>{let d=h/a(Math.round(r(h)));return d*i<i-.5&&(d*=i),d<=c?l(h):""}},t.nice=()=>e(NY(e(),{floor:o=>a(Math.floor(r(o))),ceil:o=>a(Math.ceil(r(o)))})),t}function PY(){const n=nL(YA()).domain([1,10]);return n.copy=()=>sS(n,PY()).base(n.base()),vd.apply(n,arguments),n}function H5(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function G5(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function iL(n){var t=1,e=n(H5(t),G5(t));return e.constant=function(i){return arguments.length?n(H5(t=+i),G5(t)):t},tv(e)}function EY(){var n=iL(YA());return n.copy=function(){return sS(n,EY()).constant(n.constant())},vd.apply(n,arguments)}function W5(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function ryt(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function ayt(n){return n<0?-n*n:n*n}function rL(n){var t=n(Ic,Ic),e=1;function i(){return e===1?n(Ic,Ic):e===.5?n(ryt,ayt):n(W5(e),W5(1/e))}return t.exponent=function(r){return arguments.length?(e=+r,i()):e},tv(t)}function aL(){var n=rL(YA());return n.copy=function(){return sS(n,aL()).exponent(n.exponent())},vd.apply(n,arguments),n}function syt(){return aL.apply(null,arguments).exponent(.5)}function U5(n){return Math.sign(n)*n*n}function oyt(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function jY(){var n=JO(),t=[0,1],e=!1,i;function r(a){var s=oyt(n(a));return isNaN(s)?i:e?Math.round(s):s}return r.invert=function(a){return n.invert(U5(a))},r.domain=function(a){return arguments.length?(n.domain(a),r):n.domain()},r.range=function(a){return arguments.length?(n.range((t=Array.from(a,S2)).map(U5)),r):t.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(e=!!a,r):e},r.clamp=function(a){return arguments.length?(n.clamp(a),r):n.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return jY(n.domain(),t).round(e).clamp(n.clamp()).unknown(i)},vd.apply(r,arguments),tv(r)}function DY(){var n=[],t=[],e=[],i;function r(){var s=0,o=Math.max(1,t.length);for(e=new Array(o-1);++s<o;)e[s-1]=hmt(n,s/o);return a}function a(s){return s==null||isNaN(s=+s)?i:t[rS(e,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?e[o-1]:n[0],o<e.length?e[o]:n[n.length-1]]},a.domain=function(s){if(!arguments.length)return n.slice();n=[];for(let o of s)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(zy),r()},a.range=function(s){return arguments.length?(t=Array.from(s),r()):t.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.quantiles=function(){return e.slice()},a.copy=function(){return DY().domain(n).range(t).unknown(i)},vd.apply(a,arguments)}function OY(){var n=0,t=1,e=1,i=[.5],r=[0,1],a;function s(l){return l!=null&&l<=l?r[rS(i,l,0,e)]:a}function o(){var l=-1;for(i=new Array(e);++l<e;)i[l]=((l+1)*t-(l-e)*n)/(e+1);return s}return s.domain=function(l){return arguments.length?([n,t]=l,n=+n,t=+t,o()):[n,t]},s.range=function(l){return arguments.length?(e=(r=Array.from(l)).length-1,o()):r.slice()},s.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,i[0]]:c>=e?[i[e-1],t]:[i[c-1],i[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return i.slice()},s.copy=function(){return OY().domain([n,t]).range(r).unknown(a)},vd.apply(tv(s),arguments)}function LY(){var n=[.5],t=[0,1],e,i=1;function r(a){return a!=null&&a<=a?t[rS(n,a,0,i)]:e}return r.domain=function(a){return arguments.length?(n=Array.from(a),i=Math.min(n.length,t.length-1),r):n.slice()},r.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(n.length,t.length-1),r):t.slice()},r.invertExtent=function(a){var s=t.indexOf(a);return[n[s-1],n[s]]},r.unknown=function(a){return arguments.length?(e=a,r):e},r.copy=function(){return LY().domain(n).range(t).unknown(e)},vd.apply(r,arguments)}const DN=new Date,ON=new Date;function _o(n,t,e,i){function r(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(n(a=new Date(+a)),a),r.ceil=a=>(n(a=new Date(a-1)),t(a,1),n(a),a),r.round=a=>{const s=r(a),o=r.ceil(a);return a-s<o-a?s:o},r.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),r.range=(a,s,o)=>{const l=[];if(a=r.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),n(a);while(c<a&&a<s);return l},r.filter=a=>_o(s=>{if(s>=s)for(;n(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),e&&(r.count=(a,s)=>(DN.setTime(+a),ON.setTime(+s),n(DN),n(ON),Math.floor(e(DN,ON))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?s=>i(s)%a===0:s=>r.count(0,s)%a===0):r)),r}const C2=_o(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);C2.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?_o(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):C2);C2.range;const Rp=1e3,ld=Rp*60,Ip=ld*60,Kp=Ip*24,sL=Kp*7,Y5=Kp*30,LN=Kp*365,fx=_o(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Rp)},(n,t)=>(t-n)/Rp,n=>n.getUTCSeconds());fx.range;const oL=_o(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Rp)},(n,t)=>{n.setTime(+n+t*ld)},(n,t)=>(t-n)/ld,n=>n.getMinutes());oL.range;const lL=_o(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*ld)},(n,t)=>(t-n)/ld,n=>n.getUTCMinutes());lL.range;const cL=_o(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Rp-n.getMinutes()*ld)},(n,t)=>{n.setTime(+n+t*Ip)},(n,t)=>(t-n)/Ip,n=>n.getHours());cL.range;const uL=_o(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Ip)},(n,t)=>(t-n)/Ip,n=>n.getUTCHours());uL.range;const oS=_o(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*ld)/Kp,n=>n.getDate()-1);oS.range;const $A=_o(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Kp,n=>n.getUTCDate()-1);$A.range;const RY=_o(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Kp,n=>Math.floor(n/Kp));RY.range;function Qx(n){return _o(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ld)/sL)}const VA=Qx(0),A2=Qx(1),lyt=Qx(2),cyt=Qx(3),Fb=Qx(4),uyt=Qx(5),hyt=Qx(6);VA.range;A2.range;lyt.range;cyt.range;Fb.range;uyt.range;hyt.range;function Jx(n){return _o(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/sL)}const XA=Jx(0),T2=Jx(1),dyt=Jx(2),fyt=Jx(3),Bb=Jx(4),gyt=Jx(5),pyt=Jx(6);XA.range;T2.range;dyt.range;fyt.range;Bb.range;gyt.range;pyt.range;const hL=_o(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());hL.range;const dL=_o(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());dL.range;const Zp=_o(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Zp.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:_o(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});Zp.range;const Qp=_o(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Qp.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:_o(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Qp.range;function IY(n,t,e,i,r,a){const s=[[fx,1,Rp],[fx,5,5*Rp],[fx,15,15*Rp],[fx,30,30*Rp],[a,1,ld],[a,5,5*ld],[a,15,15*ld],[a,30,30*ld],[r,1,Ip],[r,3,3*Ip],[r,6,6*Ip],[r,12,12*Ip],[i,1,Kp],[i,2,2*Kp],[e,1,sL],[t,1,Y5],[t,3,3*Y5],[n,1,LN]];function o(c,h,d){const g=h<c;g&&([c,h]=[h,c]);const y=d&&typeof d.range=="function"?d:l(c,h,d),x=y?y.range(c,+h+1):[];return g?x.reverse():x}function l(c,h,d){const g=Math.abs(h-c)/d,y=VO(([,,k])=>k).right(s,g);if(y===s.length)return n.every(tj(c/LN,h/LN,d));if(y===0)return C2.every(Math.max(tj(c,h,d),1));const[x,w]=s[g/s[y-1][2]<s[y][2]/g?y-1:y];return x.every(w)}return[o,l]}const[myt,yyt]=IY(Qp,dL,XA,RY,uL,lL),[vyt,xyt]=IY(Zp,hL,VA,oS,cL,oL);function RN(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function IN(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function hw(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function byt(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,a=n.days,s=n.shortDays,o=n.months,l=n.shortMonths,c=dw(r),h=fw(r),d=dw(a),g=fw(a),y=dw(s),x=fw(s),w=dw(o),k=fw(o),A=dw(l),T=fw(l),R={a:st,A:xt,b:dt,B:ht,c:null,d:Z5,e:Z5,f:Wyt,g:Jyt,G:evt,H:Byt,I:Hyt,j:Gyt,L:zY,m:Uyt,M:Yyt,p:ot,q:vt,Q:tB,s:eB,S:$yt,u:Vyt,U:Xyt,V:qyt,w:Kyt,W:Zyt,x:null,X:null,y:Qyt,Y:tvt,Z:nvt,"%":J5},G={a:St,A:Pt,b:It,B:Nt,c:null,d:Q5,e:Q5,f:svt,g:mvt,G:vvt,H:ivt,I:rvt,j:avt,L:BY,m:ovt,M:lvt,p:Et,q:Yt,Q:tB,s:eB,S:cvt,u:uvt,U:hvt,V:dvt,w:fvt,W:gvt,x:null,X:null,y:pvt,Y:yvt,Z:xvt,"%":J5},z={a:nt,A:V,b:Z,B:rt,c:lt,d:q5,e:q5,f:Ryt,g:X5,G:V5,H:K5,I:K5,j:jyt,L:Lyt,m:Eyt,M:Dyt,p:J,q:Pyt,Q:zyt,s:Fyt,S:Oyt,u:Cyt,U:Ayt,V:Tyt,w:kyt,W:Myt,x:mt,X:ct,y:X5,Y:V5,Z:Nyt,"%":Iyt};R.x=F(e,R),R.X=F(i,R),R.c=F(t,R),G.x=F(e,G),G.X=F(i,G),G.c=F(t,G);function F(Rt,ee){return function(fe){var Jt=[],ue=-1,Te=0,qe=Rt.length,on,He,mi;for(fe instanceof Date||(fe=new Date(+fe));++ue<qe;)Rt.charCodeAt(ue)===37&&(Jt.push(Rt.slice(Te,ue)),(He=$5[on=Rt.charAt(++ue)])!=null?on=Rt.charAt(++ue):He=on==="e"?" ":"0",(mi=ee[on])&&(on=mi(fe,He)),Jt.push(on),Te=ue+1);return Jt.push(Rt.slice(Te,ue)),Jt.join("")}}function H(Rt,ee){return function(fe){var Jt=hw(1900,void 0,1),ue=Y(Jt,Rt,fe+="",0),Te,qe;if(ue!=fe.length)return null;if("Q"in Jt)return new Date(Jt.Q);if("s"in Jt)return new Date(Jt.s*1e3+("L"in Jt?Jt.L:0));if(ee&&!("Z"in Jt)&&(Jt.Z=0),"p"in Jt&&(Jt.H=Jt.H%12+Jt.p*12),Jt.m===void 0&&(Jt.m="q"in Jt?Jt.q:0),"V"in Jt){if(Jt.V<1||Jt.V>53)return null;"w"in Jt||(Jt.w=1),"Z"in Jt?(Te=IN(hw(Jt.y,0,1)),qe=Te.getUTCDay(),Te=qe>4||qe===0?T2.ceil(Te):T2(Te),Te=$A.offset(Te,(Jt.V-1)*7),Jt.y=Te.getUTCFullYear(),Jt.m=Te.getUTCMonth(),Jt.d=Te.getUTCDate()+(Jt.w+6)%7):(Te=RN(hw(Jt.y,0,1)),qe=Te.getDay(),Te=qe>4||qe===0?A2.ceil(Te):A2(Te),Te=oS.offset(Te,(Jt.V-1)*7),Jt.y=Te.getFullYear(),Jt.m=Te.getMonth(),Jt.d=Te.getDate()+(Jt.w+6)%7)}else("W"in Jt||"U"in Jt)&&("w"in Jt||(Jt.w="u"in Jt?Jt.u%7:"W"in Jt?1:0),qe="Z"in Jt?IN(hw(Jt.y,0,1)).getUTCDay():RN(hw(Jt.y,0,1)).getDay(),Jt.m=0,Jt.d="W"in Jt?(Jt.w+6)%7+Jt.W*7-(qe+5)%7:Jt.w+Jt.U*7-(qe+6)%7);return"Z"in Jt?(Jt.H+=Jt.Z/100|0,Jt.M+=Jt.Z%100,IN(Jt)):RN(Jt)}}function Y(Rt,ee,fe,Jt){for(var ue=0,Te=ee.length,qe=fe.length,on,He;ue<Te;){if(Jt>=qe)return-1;if(on=ee.charCodeAt(ue++),on===37){if(on=ee.charAt(ue++),He=z[on in $5?ee.charAt(ue++):on],!He||(Jt=He(Rt,fe,Jt))<0)return-1}else if(on!=fe.charCodeAt(Jt++))return-1}return Jt}function J(Rt,ee,fe){var Jt=c.exec(ee.slice(fe));return Jt?(Rt.p=h.get(Jt[0].toLowerCase()),fe+Jt[0].length):-1}function nt(Rt,ee,fe){var Jt=y.exec(ee.slice(fe));return Jt?(Rt.w=x.get(Jt[0].toLowerCase()),fe+Jt[0].length):-1}function V(Rt,ee,fe){var Jt=d.exec(ee.slice(fe));return Jt?(Rt.w=g.get(Jt[0].toLowerCase()),fe+Jt[0].length):-1}function Z(Rt,ee,fe){var Jt=A.exec(ee.slice(fe));return Jt?(Rt.m=T.get(Jt[0].toLowerCase()),fe+Jt[0].length):-1}function rt(Rt,ee,fe){var Jt=w.exec(ee.slice(fe));return Jt?(Rt.m=k.get(Jt[0].toLowerCase()),fe+Jt[0].length):-1}function lt(Rt,ee,fe){return Y(Rt,t,ee,fe)}function mt(Rt,ee,fe){return Y(Rt,e,ee,fe)}function ct(Rt,ee,fe){return Y(Rt,i,ee,fe)}function st(Rt){return s[Rt.getDay()]}function xt(Rt){return a[Rt.getDay()]}function dt(Rt){return l[Rt.getMonth()]}function ht(Rt){return o[Rt.getMonth()]}function ot(Rt){return r[+(Rt.getHours()>=12)]}function vt(Rt){return 1+~~(Rt.getMonth()/3)}function St(Rt){return s[Rt.getUTCDay()]}function Pt(Rt){return a[Rt.getUTCDay()]}function It(Rt){return l[Rt.getUTCMonth()]}function Nt(Rt){return o[Rt.getUTCMonth()]}function Et(Rt){return r[+(Rt.getUTCHours()>=12)]}function Yt(Rt){return 1+~~(Rt.getUTCMonth()/3)}return{format:function(Rt){var ee=F(Rt+="",R);return ee.toString=function(){return Rt},ee},parse:function(Rt){var ee=H(Rt+="",!1);return ee.toString=function(){return Rt},ee},utcFormat:function(Rt){var ee=F(Rt+="",G);return ee.toString=function(){return Rt},ee},utcParse:function(Rt){var ee=H(Rt+="",!0);return ee.toString=function(){return Rt},ee}}}var $5={"-":"",_:" ",0:"0"},Zo=/^\s*\d+/,wyt=/^%/,_yt=/[\\^$*+?|[\]().{}]/g;function kr(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",a=r.length;return i+(a<e?new Array(e-a+1).join(t)+r:r)}function Syt(n){return n.replace(_yt,"\\$&")}function dw(n){return new RegExp("^(?:"+n.map(Syt).join("|")+")","i")}function fw(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function kyt(n,t,e){var i=Zo.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function Cyt(n,t,e){var i=Zo.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function Ayt(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function Tyt(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function Myt(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function V5(n,t,e){var i=Zo.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function X5(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function Nyt(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function Pyt(n,t,e){var i=Zo.exec(t.slice(e,e+1));return i?(n.q=i[0]*3-3,e+i[0].length):-1}function Eyt(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function q5(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function jyt(n,t,e){var i=Zo.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function K5(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function Dyt(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function Oyt(n,t,e){var i=Zo.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function Lyt(n,t,e){var i=Zo.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function Ryt(n,t,e){var i=Zo.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function Iyt(n,t,e){var i=wyt.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function zyt(n,t,e){var i=Zo.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function Fyt(n,t,e){var i=Zo.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function Z5(n,t){return kr(n.getDate(),t,2)}function Byt(n,t){return kr(n.getHours(),t,2)}function Hyt(n,t){return kr(n.getHours()%12||12,t,2)}function Gyt(n,t){return kr(1+oS.count(Zp(n),n),t,3)}function zY(n,t){return kr(n.getMilliseconds(),t,3)}function Wyt(n,t){return zY(n,t)+"000"}function Uyt(n,t){return kr(n.getMonth()+1,t,2)}function Yyt(n,t){return kr(n.getMinutes(),t,2)}function $yt(n,t){return kr(n.getSeconds(),t,2)}function Vyt(n){var t=n.getDay();return t===0?7:t}function Xyt(n,t){return kr(VA.count(Zp(n)-1,n),t,2)}function FY(n){var t=n.getDay();return t>=4||t===0?Fb(n):Fb.ceil(n)}function qyt(n,t){return n=FY(n),kr(Fb.count(Zp(n),n)+(Zp(n).getDay()===4),t,2)}function Kyt(n){return n.getDay()}function Zyt(n,t){return kr(A2.count(Zp(n)-1,n),t,2)}function Qyt(n,t){return kr(n.getFullYear()%100,t,2)}function Jyt(n,t){return n=FY(n),kr(n.getFullYear()%100,t,2)}function tvt(n,t){return kr(n.getFullYear()%1e4,t,4)}function evt(n,t){var e=n.getDay();return n=e>=4||e===0?Fb(n):Fb.ceil(n),kr(n.getFullYear()%1e4,t,4)}function nvt(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kr(t/60|0,"0",2)+kr(t%60,"0",2)}function Q5(n,t){return kr(n.getUTCDate(),t,2)}function ivt(n,t){return kr(n.getUTCHours(),t,2)}function rvt(n,t){return kr(n.getUTCHours()%12||12,t,2)}function avt(n,t){return kr(1+$A.count(Qp(n),n),t,3)}function BY(n,t){return kr(n.getUTCMilliseconds(),t,3)}function svt(n,t){return BY(n,t)+"000"}function ovt(n,t){return kr(n.getUTCMonth()+1,t,2)}function lvt(n,t){return kr(n.getUTCMinutes(),t,2)}function cvt(n,t){return kr(n.getUTCSeconds(),t,2)}function uvt(n){var t=n.getUTCDay();return t===0?7:t}function hvt(n,t){return kr(XA.count(Qp(n)-1,n),t,2)}function HY(n){var t=n.getUTCDay();return t>=4||t===0?Bb(n):Bb.ceil(n)}function dvt(n,t){return n=HY(n),kr(Bb.count(Qp(n),n)+(Qp(n).getUTCDay()===4),t,2)}function fvt(n){return n.getUTCDay()}function gvt(n,t){return kr(T2.count(Qp(n)-1,n),t,2)}function pvt(n,t){return kr(n.getUTCFullYear()%100,t,2)}function mvt(n,t){return n=HY(n),kr(n.getUTCFullYear()%100,t,2)}function yvt(n,t){return kr(n.getUTCFullYear()%1e4,t,4)}function vvt(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Bb(n):Bb.ceil(n),kr(n.getUTCFullYear()%1e4,t,4)}function xvt(){return"+0000"}function J5(){return"%"}function tB(n){return+n}function eB(n){return Math.floor(+n/1e3)}var ib,GY,WY;bvt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bvt(n){return ib=byt(n),GY=ib.format,ib.parse,WY=ib.utcFormat,ib.utcParse,ib}function wvt(n){return new Date(n)}function _vt(n){return n instanceof Date?+n:+new Date(+n)}function fL(n,t,e,i,r,a,s,o,l,c){var h=JO(),d=h.invert,g=h.domain,y=c(".%L"),x=c(":%S"),w=c("%I:%M"),k=c("%I %p"),A=c("%a %d"),T=c("%b %d"),R=c("%B"),G=c("%Y");function z(F){return(l(F)<F?y:o(F)<F?x:s(F)<F?w:a(F)<F?k:i(F)<F?r(F)<F?A:T:e(F)<F?R:G)(F)}return h.invert=function(F){return new Date(d(F))},h.domain=function(F){return arguments.length?g(Array.from(F,_vt)):g().map(wvt)},h.ticks=function(F){var H=g();return n(H[0],H[H.length-1],F??10)},h.tickFormat=function(F,H){return H==null?z:c(H)},h.nice=function(F){var H=g();return(!F||typeof F.range!="function")&&(F=t(H[0],H[H.length-1],F??10)),F?g(NY(H,F)):h},h.copy=function(){return sS(h,fL(n,t,e,i,r,a,s,o,l,c))},h}function Svt(){return vd.apply(fL(vyt,xyt,Zp,hL,VA,oS,cL,oL,fx,GY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kvt(){return vd.apply(fL(myt,yyt,Qp,dL,XA,$A,uL,lL,fx,WY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qA(){var n=0,t=1,e,i,r,a,s=Ic,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(r===0?.5:(d=(a(d)-e)*r,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([n,t]=d,e=a(n=+n),i=a(t=+t),r=e===i?0:1/(i-e),c):[n,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function h(d){return function(g){var y,x;return arguments.length?([y,x]=g,s=d(y,x),c):[s(0),s(1)]}}return c.range=h(l1),c.rangeRound=h(QO),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,e=d(n),i=d(t),r=e===i?0:1/(i-e),c}}function ev(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function UY(){var n=tv(qA()(Ic));return n.copy=function(){return ev(n,UY())},rm.apply(n,arguments)}function YY(){var n=nL(qA()).domain([1,10]);return n.copy=function(){return ev(n,YY()).base(n.base())},rm.apply(n,arguments)}function $Y(){var n=iL(qA());return n.copy=function(){return ev(n,$Y()).constant(n.constant())},rm.apply(n,arguments)}function gL(){var n=rL(qA());return n.copy=function(){return ev(n,gL()).exponent(n.exponent())},rm.apply(n,arguments)}function Cvt(){return gL.apply(null,arguments).exponent(.5)}function VY(){var n=[],t=Ic;function e(i){if(i!=null&&!isNaN(i=+i))return t((rS(n,i,1)-1)/(n.length-1))}return e.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(zy),e},e.interpolator=function(i){return arguments.length?(t=i,e):t},e.range=function(){return n.map((i,r)=>t(r/(n.length-1)))},e.quantiles=function(i){return Array.from({length:i+1},(r,a)=>umt(n,a/i))},e.copy=function(){return VY(t).domain(n)},rm.apply(e,arguments)}function KA(){var n=0,t=.5,e=1,i=1,r,a,s,o,l,c=Ic,h,d=!1,g;function y(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-a)*(i*w<i*a?o:l),c(d?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([n,t,e]=w,r=h(n=+n),a=h(t=+t),s=h(e=+e),o=r===a?0:.5/(a-r),l=a===s?0:.5/(s-a),i=a<r?-1:1,y):[n,t,e]},y.clamp=function(w){return arguments.length?(d=!!w,y):d},y.interpolator=function(w){return arguments.length?(c=w,y):c};function x(w){return function(k){var A,T,R;return arguments.length?([A,T,R]=k,c=Imt(w,[A,T,R]),y):[c(0),c(.5),c(1)]}}return y.range=x(l1),y.rangeRound=x(QO),y.unknown=function(w){return arguments.length?(g=w,y):g},function(w){return h=w,r=w(n),a=w(t),s=w(e),o=r===a?0:.5/(a-r),l=a===s?0:.5/(s-a),i=a<r?-1:1,y}}function XY(){var n=tv(KA()(Ic));return n.copy=function(){return ev(n,XY())},rm.apply(n,arguments)}function qY(){var n=nL(KA()).domain([.1,1,10]);return n.copy=function(){return ev(n,qY()).base(n.base())},rm.apply(n,arguments)}function KY(){var n=iL(KA());return n.copy=function(){return ev(n,KY()).constant(n.constant())},rm.apply(n,arguments)}function pL(){var n=rL(KA());return n.copy=function(){return ev(n,pL()).exponent(n.exponent())},rm.apply(n,arguments)}function Avt(){return pL.apply(null,arguments).exponent(.5)}const Dw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qO,scaleDiverging:XY,scaleDivergingLog:qY,scaleDivergingPow:pL,scaleDivergingSqrt:Avt,scaleDivergingSymlog:KY,scaleIdentity:MY,scaleImplicit:ej,scaleLinear:TY,scaleLog:PY,scaleOrdinal:XO,scalePoint:fmt,scalePow:aL,scaleQuantile:DY,scaleQuantize:OY,scaleRadial:jY,scaleSequential:UY,scaleSequentialLog:YY,scaleSequentialPow:gL,scaleSequentialQuantile:VY,scaleSequentialSqrt:Cvt,scaleSequentialSymlog:$Y,scaleSqrt:syt,scaleSymlog:EY,scaleThreshold:LY,scaleTime:Svt,scaleUtc:kvt,tickFormat:AY},Symbol.toStringTag,{value:"Module"}));var nv=n=>n.chartData,Tvt=ge([nv],n=>{var t=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:t,dataStartIndex:0}}),mL=(n,t,e,i)=>i?Tvt(n):nv(n);function Wy(n){if(Array.isArray(n)&&n.length===2){var[t,e]=n;if(za(t)&&za(e))return!0}return!1}function nB(n,t,e){return e?n:[Math.min(n[0],t[0]),Math.max(n[1],t[1])]}function ZY(n,t){if(t&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[e,i]=n,r,a;if(za(e))r=e;else if(typeof e=="function")return;if(za(i))a=i;else if(typeof i=="function")return;var s=[r,a];if(Wy(s))return s}}function Mvt(n,t,e){if(!(!e&&t==null)){if(typeof n=="function"&&t!=null)try{var i=n(t,e);if(Wy(i))return nB(i,t,e)}catch{}if(Array.isArray(n)&&n.length===2){var[r,a]=n,s,o;if(r==="auto")t!=null&&(s=Math.min(...t));else if(bn(r))s=r;else if(typeof r=="function")try{t!=null&&(s=r(t?.[0]))}catch{}else if(typeof r=="string"&&zF.test(r)){var l=zF.exec(r);if(l==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t?.[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(bn(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[1]))}catch{}else if(typeof a=="string"&&FF.test(a)){var h=FF.exec(a);if(h==null||t==null)o=void 0;else{var d=+h[1];o=t[1]+d}}else o=t?.[1];var g=[s,o];if(Wy(g))return t==null?g:nB(g,t,e)}}}var c1=1e9,Nvt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vL,Va=!0,yd="[DecimalError] ",Cx=yd+"Invalid argument: ",yL=yd+"Exponent out of range: ",u1=Math.floor,ox=Math.pow,Pvt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rh,Uo=1e7,Ra=7,QY=9007199254740991,M2=u1(QY/Ra),ln={};ln.absoluteValue=ln.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};ln.comparedTo=ln.cmp=function(n){var t,e,i,r,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(i=a.d.length,r=n.d.length,t=0,e=i<r?i:r;t<e;++t)if(a.d[t]!==n.d[t])return a.d[t]>n.d[t]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};ln.decimalPlaces=ln.dp=function(){var n=this,t=n.d.length-1,e=(t-n.e)*Ra;if(t=n.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};ln.dividedBy=ln.div=function(n){return Wp(this,new this.constructor(n))};ln.dividedToIntegerBy=ln.idiv=function(n){var t=this,e=t.constructor;return wa(Wp(t,new e(n),0,1),e.precision)};ln.equals=ln.eq=function(n){return!this.cmp(n)};ln.exponent=function(){return eo(this)};ln.greaterThan=ln.gt=function(n){return this.cmp(n)>0};ln.greaterThanOrEqualTo=ln.gte=function(n){return this.cmp(n)>=0};ln.isInteger=ln.isint=function(){return this.e>this.d.length-2};ln.isNegative=ln.isneg=function(){return this.s<0};ln.isPositive=ln.ispos=function(){return this.s>0};ln.isZero=function(){return this.s===0};ln.lessThan=ln.lt=function(n){return this.cmp(n)<0};ln.lessThanOrEqualTo=ln.lte=function(n){return this.cmp(n)<1};ln.logarithm=ln.log=function(n){var t,e=this,i=e.constructor,r=i.precision,a=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(rh))throw Error(yd+"NaN");if(e.s<1)throw Error(yd+(e.s?"NaN":"-Infinity"));return e.eq(rh)?new i(0):(Va=!1,t=Wp(p_(e,a),p_(n,a),a),Va=!0,wa(t,r))};ln.minus=ln.sub=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?e$(t,n):JY(t,(n.s=-n.s,n))};ln.modulo=ln.mod=function(n){var t,e=this,i=e.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(yd+"NaN");return e.s?(Va=!1,t=Wp(e,n,0,1).times(n),Va=!0,e.minus(t)):wa(new i(e),r)};ln.naturalExponential=ln.exp=function(){return t$(this)};ln.naturalLogarithm=ln.ln=function(){return p_(this)};ln.negated=ln.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};ln.plus=ln.add=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?JY(t,n):e$(t,(n.s=-n.s,n))};ln.precision=ln.sd=function(n){var t,e,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Cx+n);if(t=eo(r)+1,i=r.d.length-1,e=i*Ra+1,i=r.d[i],i){for(;i%10==0;i/=10)e--;for(i=r.d[0];i>=10;i/=10)e++}return n&&t>e?t:e};ln.squareRoot=ln.sqrt=function(){var n,t,e,i,r,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(yd+"NaN")}for(n=eo(o),Va=!1,r=Math.sqrt(+o),r==0||r==1/0?(t=xg(o.d),(t.length+n)%2==0&&(t+="0"),r=Math.sqrt(t),n=u1((n+1)/2)-(n<0||n%2),r==1/0?t="5e"+n:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),i=new l(t)):i=new l(r.toString()),e=l.precision,r=s=e+3;;)if(a=i,i=a.plus(Wp(o,a,s+2)).times(.5),xg(a.d).slice(0,s)===(t=xg(i.d)).slice(0,s)){if(t=t.slice(s-3,s+1),r==s&&t=="4999"){if(wa(a,e+1,0),a.times(a).eq(o)){i=a;break}}else if(t!="9999")break;s+=4}return Va=!0,wa(i,e)};ln.times=ln.mul=function(n){var t,e,i,r,a,s,o,l,c,h=this,d=h.constructor,g=h.d,y=(n=new d(n)).d;if(!h.s||!n.s)return new d(0);for(n.s*=h.s,e=h.e+n.e,l=g.length,c=y.length,l<c&&(a=g,g=y,y=a,s=l,l=c,c=s),a=[],s=l+c,i=s;i--;)a.push(0);for(i=c;--i>=0;){for(t=0,r=l+i;r>i;)o=a[r]+y[i]*g[r-i-1]+t,a[r--]=o%Uo|0,t=o/Uo|0;a[r]=(a[r]+t)%Uo|0}for(;!a[--s];)a.pop();return t?++e:a.shift(),n.d=a,n.e=e,Va?wa(n,d.precision):n};ln.toDecimalPlaces=ln.todp=function(n,t){var e=this,i=e.constructor;return e=new i(e),n===void 0?e:(Tg(n,0,c1),t===void 0?t=i.rounding:Tg(t,0,8),wa(e,n+eo(e)+1,t))};ln.toExponential=function(n,t){var e,i=this,r=i.constructor;return n===void 0?e=Lx(i,!0):(Tg(n,0,c1),t===void 0?t=r.rounding:Tg(t,0,8),i=wa(new r(i),n+1,t),e=Lx(i,!0,n+1)),e};ln.toFixed=function(n,t){var e,i,r=this,a=r.constructor;return n===void 0?Lx(r):(Tg(n,0,c1),t===void 0?t=a.rounding:Tg(t,0,8),i=wa(new a(r),n+eo(r)+1,t),e=Lx(i.abs(),!1,n+eo(i)+1),r.isneg()&&!r.isZero()?"-"+e:e)};ln.toInteger=ln.toint=function(){var n=this,t=n.constructor;return wa(new t(n),eo(n)+1,t.rounding)};ln.toNumber=function(){return+this};ln.toPower=ln.pow=function(n){var t,e,i,r,a,s,o=this,l=o.constructor,c=12,h=+(n=new l(n));if(!n.s)return new l(rh);if(o=new l(o),!o.s){if(n.s<1)throw Error(yd+"Infinity");return o}if(o.eq(rh))return o;if(i=l.precision,n.eq(rh))return wa(o,i);if(t=n.e,e=n.d.length-1,s=t>=e,a=o.s,s){if((e=h<0?-h:h)<=QY){for(r=new l(rh),t=Math.ceil(i/Ra+4),Va=!1;e%2&&(r=r.times(o),rB(r.d,t)),e=u1(e/2),e!==0;)o=o.times(o),rB(o.d,t);return Va=!0,n.s<0?new l(rh).div(r):wa(r,i)}}else if(a<0)throw Error(yd+"NaN");return a=a<0&&n.d[Math.max(t,e)]&1?-1:1,o.s=1,Va=!1,r=n.times(p_(o,i+c)),Va=!0,r=t$(r),r.s=a,r};ln.toPrecision=function(n,t){var e,i,r=this,a=r.constructor;return n===void 0?(e=eo(r),i=Lx(r,e<=a.toExpNeg||e>=a.toExpPos)):(Tg(n,1,c1),t===void 0?t=a.rounding:Tg(t,0,8),r=wa(new a(r),n,t),e=eo(r),i=Lx(r,n<=e||e<=a.toExpNeg,n)),i};ln.toSignificantDigits=ln.tosd=function(n,t){var e=this,i=e.constructor;return n===void 0?(n=i.precision,t=i.rounding):(Tg(n,1,c1),t===void 0?t=i.rounding:Tg(t,0,8)),wa(new i(e),n,t)};ln.toString=ln.valueOf=ln.val=ln.toJSON=ln[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,t=eo(n),e=n.constructor;return Lx(n,t<=e.toExpNeg||t>=e.toExpPos)};function JY(n,t){var e,i,r,a,s,o,l,c,h=n.constructor,d=h.precision;if(!n.s||!t.s)return t.s||(t=new h(n)),Va?wa(t,d):t;if(l=n.d,c=t.d,s=n.e,r=t.e,l=l.slice(),a=s-r,a){for(a<0?(i=l,a=-a,o=c.length):(i=c,r=s,o=l.length),s=Math.ceil(d/Ra),o=s>o?s+1:o+1,a>o&&(a=o,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,i=c,c=l,l=i),e=0;a;)e=(l[--a]=l[a]+c[a]+e)/Uo|0,l[a]%=Uo;for(e&&(l.unshift(e),++r),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=r,Va?wa(t,d):t}function Tg(n,t,e){if(n!==~~n||n<t||n>e)throw Error(Cx+n)}function xg(n){var t,e,i,r=n.length-1,a="",s=n[0];if(r>0){for(a+=s,t=1;t<r;t++)i=n[t]+"",e=Ra-i.length,e&&(a+=Sy(e)),a+=i;s=n[t],i=s+"",e=Ra-i.length,e&&(a+=Sy(e))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Wp=(function(){function n(i,r){var a,s=0,o=i.length;for(i=i.slice();o--;)a=i[o]*r+s,i[o]=a%Uo|0,s=a/Uo|0;return s&&i.unshift(s),i}function t(i,r,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(i[o]!=r[o]){l=i[o]>r[o]?1:-1;break}return l}function e(i,r,a){for(var s=0;a--;)i[a]-=s,s=i[a]<r[a]?1:0,i[a]=s*Uo+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,s){var o,l,c,h,d,g,y,x,w,k,A,T,R,G,z,F,H,Y,J=i.constructor,nt=i.s==r.s?1:-1,V=i.d,Z=r.d;if(!i.s)return new J(i);if(!r.s)throw Error(yd+"Division by zero");for(l=i.e-r.e,H=Z.length,z=V.length,y=new J(nt),x=y.d=[],c=0;Z[c]==(V[c]||0);)++c;if(Z[c]>(V[c]||0)&&--l,a==null?T=a=J.precision:s?T=a+(eo(i)-eo(r))+1:T=a,T<0)return new J(0);if(T=T/Ra+2|0,c=0,H==1)for(h=0,Z=Z[0],T++;(c<z||h)&&T--;c++)R=h*Uo+(V[c]||0),x[c]=R/Z|0,h=R%Z|0;else{for(h=Uo/(Z[0]+1)|0,h>1&&(Z=n(Z,h),V=n(V,h),H=Z.length,z=V.length),G=H,w=V.slice(0,H),k=w.length;k<H;)w[k++]=0;Y=Z.slice(),Y.unshift(0),F=Z[0],Z[1]>=Uo/2&&++F;do h=0,o=t(Z,w,H,k),o<0?(A=w[0],H!=k&&(A=A*Uo+(w[1]||0)),h=A/F|0,h>1?(h>=Uo&&(h=Uo-1),d=n(Z,h),g=d.length,k=w.length,o=t(d,w,g,k),o==1&&(h--,e(d,H<g?Y:Z,g))):(h==0&&(o=h=1),d=Z.slice()),g=d.length,g<k&&d.unshift(0),e(w,d,k),o==-1&&(k=w.length,o=t(Z,w,H,k),o<1&&(h++,e(w,H<k?Y:Z,k))),k=w.length):o===0&&(h++,w=[0]),x[c++]=h,o&&w[0]?w[k++]=V[G]||0:(w=[V[G]],k=1);while((G++<z||w[0]!==void 0)&&T--)}return x[0]||x.shift(),y.e=l,wa(y,s?a+eo(y)+1:a)}})();function t$(n,t){var e,i,r,a,s,o,l=0,c=0,h=n.constructor,d=h.precision;if(eo(n)>16)throw Error(yL+eo(n));if(!n.s)return new h(rh);for(Va=!1,o=d,s=new h(.03125);n.abs().gte(.1);)n=n.times(s),c+=5;for(i=Math.log(ox(2,c))/Math.LN10*2+5|0,o+=i,e=r=a=new h(rh),h.precision=o;;){if(r=wa(r.times(n),o),e=e.times(++l),s=a.plus(Wp(r,e,o)),xg(s.d).slice(0,o)===xg(a.d).slice(0,o)){for(;c--;)a=wa(a.times(a),o);return h.precision=d,t==null?(Va=!0,wa(a,d)):a}a=s}}function eo(n){for(var t=n.e*Ra,e=n.d[0];e>=10;e/=10)t++;return t}function zN(n,t,e){if(t>n.LN10.sd())throw Va=!0,e&&(n.precision=e),Error(yd+"LN10 precision limit exceeded");return wa(new n(n.LN10),t)}function Sy(n){for(var t="";n--;)t+="0";return t}function p_(n,t){var e,i,r,a,s,o,l,c,h,d=1,g=10,y=n,x=y.d,w=y.constructor,k=w.precision;if(y.s<1)throw Error(yd+(y.s?"NaN":"-Infinity"));if(y.eq(rh))return new w(0);if(t==null?(Va=!1,c=k):c=t,y.eq(10))return t==null&&(Va=!0),zN(w,c);if(c+=g,w.precision=c,e=xg(x),i=e.charAt(0),a=eo(y),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&e.charAt(1)>3;)y=y.times(n),e=xg(y.d),i=e.charAt(0),d++;a=eo(y),i>1?(y=new w("0."+e),a++):y=new w(i+"."+e.slice(1))}else return l=zN(w,c+2,k).times(a+""),y=p_(new w(i+"."+e.slice(1)),c-g).plus(l),w.precision=k,t==null?(Va=!0,wa(y,k)):y;for(o=s=y=Wp(y.minus(rh),y.plus(rh),c),h=wa(y.times(y),c),r=3;;){if(s=wa(s.times(h),c),l=o.plus(Wp(s,new w(r),c)),xg(l.d).slice(0,c)===xg(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(zN(w,c+2,k).times(a+""))),o=Wp(o,new w(d),c),w.precision=k,t==null?(Va=!0,wa(o,k)):o;o=l,r+=2}}function iB(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;t.charCodeAt(i)===48;)++i;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(i,r),t){if(r-=i,e=e-i-1,n.e=u1(e/Ra),n.d=[],i=(e+1)%Ra,e<0&&(i+=Ra),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=Ra;i<r;)n.d.push(+t.slice(i,i+=Ra));t=t.slice(i),i=Ra-t.length}else i-=r;for(;i--;)t+="0";if(n.d.push(+t),Va&&(n.e>M2||n.e<-M2))throw Error(yL+e)}else n.s=0,n.e=0,n.d=[0];return n}function wa(n,t,e){var i,r,a,s,o,l,c,h,d=n.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(i=t-s,i<0)i+=Ra,r=t,c=d[h=0];else{if(h=Math.ceil((i+1)/Ra),a=d.length,h>=a)return n;for(c=a=d[h],s=1;a>=10;a/=10)s++;i%=Ra,r=i-Ra+s}if(e!==void 0&&(a=ox(10,s-r-1),o=c/a%10|0,l=t<0||d[h+1]!==void 0||c%a,l=e<4?(o||l)&&(e==0||e==(n.s<0?3:2)):o>5||o==5&&(e==4||l||e==6&&(i>0?r>0?c/ox(10,s-r):0:d[h-1])%10&1||e==(n.s<0?8:7))),t<1||!d[0])return l?(a=eo(n),d.length=1,t=t-a-1,d[0]=ox(10,(Ra-t%Ra)%Ra),n.e=u1(-t/Ra)||0):(d.length=1,d[0]=n.e=n.s=0),n;if(i==0?(d.length=h,a=1,h--):(d.length=h+1,a=ox(10,Ra-i),d[h]=r>0?(c/ox(10,s-r)%ox(10,r)|0)*a:0),l)for(;;)if(h==0){(d[0]+=a)==Uo&&(d[0]=1,++n.e);break}else{if(d[h]+=a,d[h]!=Uo)break;d[h--]=0,a=1}for(i=d.length;d[--i]===0;)d.pop();if(Va&&(n.e>M2||n.e<-M2))throw Error(yL+eo(n));return n}function e$(n,t){var e,i,r,a,s,o,l,c,h,d,g=n.constructor,y=g.precision;if(!n.s||!t.s)return t.s?t.s=-t.s:t=new g(n),Va?wa(t,y):t;if(l=n.d,d=t.d,i=t.e,c=n.e,l=l.slice(),s=c-i,s){for(h=s<0,h?(e=l,s=-s,o=d.length):(e=d,i=c,o=l.length),r=Math.max(Math.ceil(y/Ra),o)+2,s>r&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for(r=l.length,o=d.length,h=r<o,h&&(o=r),r=0;r<o;r++)if(l[r]!=d[r]){h=l[r]<d[r];break}s=0}for(h&&(e=l,l=d,d=e,t.s=-t.s),o=l.length,r=d.length-o;r>0;--r)l[o++]=0;for(r=d.length;r>s;){if(l[--r]<d[r]){for(a=r;a&&l[--a]===0;)l[a]=Uo-1;--l[a],l[r]+=Uo}l[r]-=d[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(t.d=l,t.e=i,Va?wa(t,y):t):new g(0)}function Lx(n,t,e){var i,r=eo(n),a=xg(n.d),s=a.length;return t?(e&&(i=e-s)>0?a=a.charAt(0)+"."+a.slice(1)+Sy(i):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+Sy(-r-1)+a,e&&(i=e-s)>0&&(a+=Sy(i))):r>=s?(a+=Sy(r+1-s),e&&(i=e-r-1)>0&&(a=a+"."+Sy(i))):((i=r+1)<s&&(a=a.slice(0,i)+"."+a.slice(i)),e&&(i=e-s)>0&&(r+1===s&&(a+="."),a+=Sy(i))),n.s<0?"-"+a:a}function rB(n,t){if(n.length>t)return n.length=t,!0}function n$(n){var t,e,i;function r(a){var s=this;if(!(s instanceof r))return new r(a);if(s.constructor=r,a instanceof r){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Cx+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return iB(s,a.toString())}else if(typeof a!="string")throw Error(Cx+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Pvt.test(a))iB(s,a);else throw Error(Cx+a)}if(r.prototype=ln,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=n$,r.config=r.set=Evt,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}function Evt(n){if(!n||typeof n!="object")throw Error(yd+"Object expected");var t,e,i,r=["precision",1,c1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((i=n[e=r[t]])!==void 0)if(u1(i)===i&&i>=r[t+1]&&i<=r[t+2])this[e]=i;else throw Error(Cx+e+": "+i);if((i=n[e="LN10"])!==void 0)if(i==Math.LN10)this[e]=new this(i);else throw Error(Cx+e+": "+i);return this}var vL=n$(Nvt);rh=new vL(1);const ra=vL;var jvt=n=>n,i$={},r$=n=>n===i$,aB=n=>function t(){return arguments.length===0||arguments.length===1&&r$(arguments.length<=0?void 0:arguments[0])?t:n(...arguments)},a$=(n,t)=>n===1?t:aB(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var a=i.filter(s=>s!==i$).length;return a>=n?t(...i):a$(n-a,aB(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=i.map(h=>r$(h)?o.shift():h);return t(...c,...o)}))}),Dvt=n=>a$(n.length,n),aj=(n,t)=>{for(var e=[],i=n;i<t;++i)e[i-n]=i;return e},Ovt=Dvt((n,t)=>Array.isArray(t)?t.map(n):Object.keys(t).map(e=>t[e]).map(n)),Lvt=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(!e.length)return jvt;var r=e.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},sj=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function s$(n){var t;return n===0?t=1:t=Math.floor(new ra(n).abs().log(10).toNumber())+1,t}function o$(n,t,e){for(var i=new ra(n),r=0,a=[];i.lt(t)&&r<1e5;)a.push(i.toNumber()),i=i.add(e),r++;return a}var l$=n=>{var[t,e]=n,[i,r]=[t,e];return t>e&&([i,r]=[e,t]),[i,r]},c$=(n,t,e)=>{if(n.lte(0))return new ra(0);var i=s$(n.toNumber()),r=new ra(10).pow(i),a=n.div(r),s=i!==1?.05:.1,o=new ra(Math.ceil(a.div(s).toNumber())).add(e).mul(s),l=o.mul(r);return t?new ra(l.toNumber()):new ra(Math.ceil(l.toNumber()))},Rvt=(n,t,e)=>{var i=new ra(1),r=new ra(n);if(!r.isint()&&e){var a=Math.abs(n);a<1?(i=new ra(10).pow(s$(n)-1),r=new ra(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new ra(Math.floor(n)))}else n===0?r=new ra(Math.floor((t-1)/2)):e||(r=new ra(Math.floor(n)));var s=Math.floor((t-1)/2),o=Lvt(Ovt(l=>r.add(new ra(l-s).mul(i)).toNumber()),aj);return o(0,t)},u$=function(t,e,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(i-1)))return{step:new ra(0),tickMin:new ra(0),tickMax:new ra(0)};var s=c$(new ra(e).sub(t).div(i-1),r,a),o;t<=0&&e>=0?o=new ra(0):(o=new ra(t).add(e).div(2),o=o.sub(new ra(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new ra(e).sub(o).div(s).toNumber()),h=l+c+1;return h>i?u$(t,e,i,r,a+1):(h<i&&(c=e>0?c+(i-h):c,l=e>0?l:l+(i-h)),{step:s,tickMin:o.sub(new ra(l).mul(s)),tickMax:o.add(new ra(c).mul(s))})},Ivt=function(t){var[e,i]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[o,l]=l$([e,i]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...aj(0,r-1).map(()=>1/0)]:[...aj(0,r-1).map(()=>-1/0),l];return e>i?sj(c):c}if(o===l)return Rvt(o,r,a);var{step:h,tickMin:d,tickMax:g}=u$(o,l,s,a,0),y=o$(d,g.add(new ra(.1).mul(h)),h);return e>i?sj(y):y},zvt=function(t,e){var[i,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=l$([i,r]);if(s===-1/0||o===1/0)return[i,r];if(s===o)return[s];var l=Math.max(e,2),c=c$(new ra(o).sub(s).div(l-1),a,0),h=[...o$(new ra(s),new ra(o),c),o];return a===!1&&(h=h.map(d=>Math.round(d))),i>r?sj(h):h},h$=n=>n.rootProps.maxBarSize,Fvt=n=>n.rootProps.barGap,d$=n=>n.rootProps.barCategoryGap,Bvt=n=>n.rootProps.barSize,ZA=n=>n.rootProps.stackOffset,f$=n=>n.rootProps.reverseStackOrder,xL=n=>n.options.chartName,bL=n=>n.rootProps.syncId,g$=n=>n.rootProps.syncMethod,wL=n=>n.options.eventEmitter,nc={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},jp={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ih={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},QA=(n,t)=>{if(!(!n||!t))return n!=null&&n.reversed?[t[1],t[0]]:t},Hvt={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jp.angleAxisId,includeHidden:!1,name:void 0,reversed:jp.reversed,scale:jp.scale,tick:jp.tick,tickCount:void 0,ticks:void 0,type:jp.type,unit:void 0},Gvt={allowDataOverflow:ih.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ih.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ih.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ih.scale,tick:ih.tick,tickCount:ih.tickCount,ticks:void 0,type:ih.type,unit:void 0},Wvt={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:jp.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jp.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jp.scale,tick:jp.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Uvt={allowDataOverflow:ih.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ih.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ih.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ih.scale,tick:ih.tick,tickCount:ih.tickCount,ticks:void 0,type:"category",unit:void 0},_L=(n,t)=>n.polarAxis.angleAxis[t]!=null?n.polarAxis.angleAxis[t]:n.layout.layoutType==="radial"?Wvt:Hvt,SL=(n,t)=>n.polarAxis.radiusAxis[t]!=null?n.polarAxis.radiusAxis[t]:n.layout.layoutType==="radial"?Uvt:Gvt,JA=n=>n.polarOptions,kL=ge([nm,im,Ko],zpt),p$=ge([JA,kL],(n,t)=>{if(n!=null)return df(n.innerRadius,t,0)}),m$=ge([JA,kL],(n,t)=>{if(n!=null)return df(n.outerRadius,t,t*.8)}),Yvt=n=>{if(n==null)return[0,0];var{startAngle:t,endAngle:e}=n;return[t,e]},y$=ge([JA],Yvt);ge([_L,y$],QA);var v$=ge([kL,p$,m$],(n,t,e)=>{if(!(n==null||t==null||e==null))return[t,e]});ge([SL,v$],QA);var x$=ge([oa,JA,p$,m$,nm,im],(n,t,e,i,r,a)=>{if(!(n!=="centric"&&n!=="radial"||t==null||e==null||i==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:df(s,r,r/2),cy:df(o,a,a/2),innerRadius:e,outerRadius:i,startAngle:l,endAngle:c,clockWise:!1}}}),So=(n,t)=>t,tT=(n,t,e)=>e;function CL(n){return n?.id}function b$(n,t,e){var{chartData:i=[]}=t,{allowDuplicatedCategory:r,dataKey:a}=e,s=new Map;return n.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:i;if(!(c==null||c.length===0)){var h=CL(o);c.forEach((d,g)=>{var y=a==null||r?g:String(ic(d,a,null)),x=ic(d,o.dataKey,0),w;s.has(y)?w=s.get(y):w={},Object.assign(w,{[h]:x}),s.set(y,w)})}}),Array.from(s.values())}function eT(n){return n.stackId!=null&&n.dataKey!=null}var nT=(n,t)=>n===t?!0:n==null||t==null?!1:n[0]===t[0]&&n[1]===t[1];function iT(n,t){return Array.isArray(n)&&Array.isArray(t)&&n.length===0&&t.length===0?!0:n===t}function $vt(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return!1}var ko=n=>{var t=oa(n);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},h1=n=>n.tooltip.settings.axisId;function sB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function N2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(e),!0).forEach(function(i){Vvt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):sB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Vvt(n,t,e){return(t=Xvt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Xvt(n){var t=qvt(n,"string");return typeof t=="symbol"?t:t+""}function qvt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var oj=[0,"auto"],Go={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},w$=(n,t)=>n.cartesianAxis.xAxis[t],Pg=(n,t)=>{var e=w$(n,t);return e??Go},Wo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:oj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:nS},_$=(n,t)=>n.cartesianAxis.yAxis[t],Eg=(n,t)=>{var e=_$(n,t);return e??Wo},Kvt={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},AL=(n,t)=>{var e=n.cartesianAxis.zAxis[t];return e??Kvt},Bc=(n,t,e)=>{switch(t){case"xAxis":return Pg(n,e);case"yAxis":return Eg(n,e);case"zAxis":return AL(n,e);case"angleAxis":return _L(n,e);case"radiusAxis":return SL(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},Zvt=(n,t,e)=>{switch(t){case"xAxis":return Pg(n,e);case"yAxis":return Eg(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},lS=(n,t,e)=>{switch(t){case"xAxis":return Pg(n,e);case"yAxis":return Eg(n,e);case"angleAxis":return _L(n,e);case"radiusAxis":return SL(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},S$=n=>n.graphicalItems.cartesianItems.some(t=>t.type==="bar")||n.graphicalItems.polarItems.some(t=>t.type==="radialBar");function k$(n,t){return e=>{switch(n){case"xAxis":return"xAxisId"in e&&e.xAxisId===t;case"yAxis":return"yAxisId"in e&&e.yAxisId===t;case"zAxis":return"zAxisId"in e&&e.zAxisId===t;case"angleAxis":return"angleAxisId"in e&&e.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in e&&e.radiusAxisId===t;default:return!1}}}var TL=n=>n.graphicalItems.cartesianItems,Qvt=ge([So,tT],k$),C$=(n,t,e)=>n.filter(e).filter(i=>t?.includeHidden===!0?!0:!i.hide),cS=ge([TL,Bc,Qvt],C$,{memoizeOptions:{resultEqualityCheck:iT}}),A$=ge([cS],n=>n.filter(t=>t.type==="area"||t.type==="bar").filter(eT)),T$=n=>n.filter(t=>!("stackId"in t)||t.stackId===void 0),Jvt=ge([cS],T$),M$=n=>n.map(t=>t.data).filter(Boolean).flat(1),txt=ge([cS],M$,{memoizeOptions:{resultEqualityCheck:iT}}),N$=(n,t)=>{var{chartData:e=[],dataStartIndex:i,dataEndIndex:r}=t;return n.length>0?n:e.slice(i,r+1)},ML=ge([txt,mL],N$),P$=(n,t,e)=>t?.dataKey!=null?n.map(i=>({value:ic(i,t.dataKey)})):e.length>0?e.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:ic(r,i)}))):n.map(i=>({value:i})),rT=ge([ML,Bc,cS],P$);function E$(n,t){switch(n){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wC(n){if(pd(n)||n instanceof Date){var t=Number(n);if(za(t))return t}}function oB(n){if(Array.isArray(n)){var t=[wC(n[0]),wC(n[1])];return Wy(t)?t:void 0}var e=wC(n);if(e!=null)return[e,e]}function Jp(n){return n.map(wC).filter(Cht)}function ext(n,t,e){return!e||typeof t!="number"||uh(t)?[]:e.length?Jp(e.flatMap(i=>{var r=ic(n,i.dataKey),a,s;if(Array.isArray(r)?[a,s]=r:a=s=r,!(!za(a)||!za(s)))return[t-a,t+s]})):[]}var Co=n=>{var t=ko(n),e=h1(n);return lS(n,t,e)},uS=ge([Co],n=>n?.dataKey),nxt=ge([A$,mL,Co],b$),j$=(n,t,e,i)=>{var r={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),r);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=i?[...l].reverse():l,h=c.map(CL);return[o,{stackedData:Hft(n,h,e),graphicalItems:c}]}))},lj=ge([nxt,A$,ZA,f$],j$),D$=(n,t,e,i)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(i==null&&e!=="zAxis"){var s=$ft(n,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},ixt=ge([Bc],n=>n.allowDataOverflow),NL=n=>{var t;if(n==null||!("domain"in n))return oj;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var e=Jp(n.ticks);return[Math.min(...e),Math.max(...e)]}if(n.type==="category")return n.ticks.map(String)}return(t=n?.domain)!==null&&t!==void 0?t:oj},O$=ge([Bc],NL),L$=ge([O$,ixt],ZY),rxt=ge([lj,nv,So,L$],D$,{memoizeOptions:{resultEqualityCheck:nT}}),PL=n=>n.errorBars,axt=(n,t,e)=>n.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>E$(e,i)),P2=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.filter(Boolean);if(r.length!==0){var a=r.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},R$=(n,t,e,i,r)=>{var a,s;if(e.length>0&&n.forEach(o=>{e.forEach(l=>{var c,h,d=(c=i[l.id])===null||c===void 0?void 0:c.filter(A=>E$(r,A)),g=ic(o,(h=t.dataKey)!==null&&h!==void 0?h:l.dataKey),y=ext(o,g,d);if(y.length>=2){var x=Math.min(...y),w=Math.max(...y);(a==null||x<a)&&(a=x),(s==null||w>s)&&(s=w)}var k=oB(g);k!=null&&(a=a==null?k[0]:Math.min(a,k[0]),s=s==null?k[1]:Math.max(s,k[1]))})}),t?.dataKey!=null&&n.forEach(o=>{var l=oB(ic(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),za(a)&&za(s))return[a,s]},sxt=ge([ML,Bc,Jvt,PL,So],R$,{memoizeOptions:{resultEqualityCheck:nT}});function oxt(n){var{value:t}=n;if(pd(t)||t instanceof Date)return t}var lxt=(n,t,e)=>{var i=n.map(oxt).filter(r=>r!=null);return e&&(t.dataKey==null||t.allowDuplicatedCategory&&rU(i))?mY(0,n.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},I$=n=>n.referenceElements.dots,d1=(n,t,e)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===e:i.yAxisId===e),cxt=ge([I$,So,tT],d1),z$=n=>n.referenceElements.areas,uxt=ge([z$,So,tT],d1),F$=n=>n.referenceElements.lines,hxt=ge([F$,So,tT],d1),B$=(n,t)=>{var e=Jp(n.map(i=>t==="xAxis"?i.x:i.y));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},dxt=ge(cxt,So,B$),H$=(n,t)=>{var e=Jp(n.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},fxt=ge([uxt,So],H$);function gxt(n){var t;if(n.x!=null)return Jp([n.x]);var e=(t=n.segment)===null||t===void 0?void 0:t.map(i=>i.x);return e==null||e.length===0?[]:Jp(e)}function pxt(n){var t;if(n.y!=null)return Jp([n.y]);var e=(t=n.segment)===null||t===void 0?void 0:t.map(i=>i.y);return e==null||e.length===0?[]:Jp(e)}var G$=(n,t)=>{var e=n.flatMap(i=>t==="xAxis"?gxt(i):pxt(i));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},mxt=ge([hxt,So],G$),yxt=ge(dxt,mxt,fxt,(n,t,e)=>P2(n,e,t)),W$=(n,t,e,i,r,a,s,o)=>{if(e!=null)return e;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?P2(i,a,r):P2(a,r);return Mvt(t,c,n.allowDataOverflow)},vxt=ge([Bc,O$,L$,rxt,sxt,yxt,oa,So],W$,{memoizeOptions:{resultEqualityCheck:nT}}),xxt=[0,1],U$=(n,t,e,i,r,a,s)=>{if(!((n==null||e==null||e.length===0)&&s===void 0)){var{dataKey:o,type:l}=n,c=Zx(t,a);if(c&&o==null){var h;return mY(0,(h=e?.length)!==null&&h!==void 0?h:0)}return l==="category"?lxt(i,n,c):r==="expand"?xxt:s}},EL=ge([Bc,oa,ML,rT,ZA,So,vxt],U$),Y$=(n,t,e,i,r)=>{if(n!=null){var{scale:a,type:s}=n;if(a==="auto")return t==="radial"&&r==="radiusAxis"?"band":t==="radial"&&r==="angleAxis"?"linear":s==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!e)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Q_(a));return o in Dw?o:"point"}}},hS=ge([Bc,oa,S$,xL,So],Y$);function bxt(n){if(n!=null){if(n in Dw)return Dw[n]();var t="scale".concat(Q_(n));if(t in Dw)return Dw[t]()}}function jL(n,t,e,i){if(!(e==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(e).range(i);var r=bxt(t);if(r!=null){var a=r.domain(e).range(i);return Rft(a),a}}}var $$=(n,t,e)=>{var i=NL(t);if(!(e!=="auto"&&e!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Wy(n))return Ivt(n,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wy(n))return zvt(n,t.tickCount,t.allowDecimals)}},DL=ge([EL,lS,hS],$$),V$=(n,t,e,i)=>{if(i!=="angleAxis"&&n?.type==="number"&&Wy(t)&&Array.isArray(e)&&e.length>0){var r=t[0],a=e[0],s=t[1],o=e[e.length-1];return[Math.min(r,a),Math.max(s,o)]}return t},wxt=ge([Bc,EL,DL,So],V$),_xt=ge(rT,Bc,(n,t)=>{if(!(!t||t.type!=="number")){var e=1/0,i=Array.from(Jp(n.map(o=>o.value))).sort((o,l)=>o-l);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var a=0;a<i.length-1;a++){var s=i[a+1]-i[a];e=Math.min(e,s)}return e/r}}),X$=ge(_xt,oa,d$,Ko,(n,t,e,i)=>i,(n,t,e,i,r)=>{if(!za(n))return 0;var a=t==="vertical"?i.height:i.width;if(r==="gap")return n*a/2;if(r==="no-gap"){var s=df(e,n*a),o=n*a/2;return o-s-(o-s)/a*s}return 0}),Sxt=(n,t)=>{var e=Pg(n,t);return e==null||typeof e.padding!="string"?0:X$(n,"xAxis",t,e.padding)},kxt=(n,t)=>{var e=Eg(n,t);return e==null||typeof e.padding!="string"?0:X$(n,"yAxis",t,e.padding)},Cxt=ge(Pg,Sxt,(n,t)=>{var e,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:t,right:t}:{left:((e=r.left)!==null&&e!==void 0?e:0)+t,right:((i=r.right)!==null&&i!==void 0?i:0)+t}}),Axt=ge(Eg,kxt,(n,t)=>{var e,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:t,bottom:t}:{top:((e=r.top)!==null&&e!==void 0?e:0)+t,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+t}}),Txt=ge([Ko,Cxt,GA,HA,(n,t,e)=>e],(n,t,e,i,r)=>{var{padding:a}=i;return r?[a.left,e.width-a.right]:[n.left+t.left,n.left+n.width-t.right]}),Mxt=ge([Ko,oa,Axt,GA,HA,(n,t,e)=>e],(n,t,e,i,r,a)=>{var{padding:s}=r;return a?[i.height-s.bottom,s.top]:t==="horizontal"?[n.top+n.height-e.bottom,n.top+e.top]:[n.top+e.top,n.top+n.height-e.bottom]}),dS=(n,t,e,i)=>{var r;switch(t){case"xAxis":return Txt(n,e,i);case"yAxis":return Mxt(n,e,i);case"zAxis":return(r=AL(n,e))===null||r===void 0?void 0:r.range;case"angleAxis":return y$(n);case"radiusAxis":return v$(n,e);default:return}},q$=ge([Bc,dS],QA),Uy=ge([Bc,hS,wxt,q$],jL);ge([cS,PL,So],axt);function K$(n,t){return n.id<t.id?-1:n.id>t.id?1:0}var aT=(n,t)=>t,sT=(n,t,e)=>e,Nxt=ge(FA,aT,sT,(n,t,e)=>n.filter(i=>i.orientation===t).filter(i=>i.mirror===e).sort(K$)),Pxt=ge(BA,aT,sT,(n,t,e)=>n.filter(i=>i.orientation===t).filter(i=>i.mirror===e).sort(K$)),Z$=(n,t)=>({width:n.width,height:t.height}),Ext=(n,t)=>{var e=typeof t.width=="number"?t.width:nS;return{width:e,height:n.height}},Q$=ge(Ko,Pg,Z$),jxt=(n,t,e)=>{switch(t){case"top":return n.top;case"bottom":return e-n.bottom;default:return 0}},Dxt=(n,t,e)=>{switch(t){case"left":return n.left;case"right":return e-n.right;default:return 0}},Oxt=ge(im,Ko,Nxt,aT,sT,(n,t,e,i,r)=>{var a={},s;return e.forEach(o=>{var l=Z$(t,o);s==null&&(s=jxt(t,i,n));var c=i==="top"&&!r||i==="bottom"&&r;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),Lxt=ge(nm,Ko,Pxt,aT,sT,(n,t,e,i,r)=>{var a={},s;return e.forEach(o=>{var l=Ext(t,o);s==null&&(s=Dxt(t,i,n));var c=i==="left"&&!r||i==="right"&&r;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),Rxt=(n,t)=>{var e=Pg(n,t);if(e!=null)return Oxt(n,e.orientation,e.mirror)},Ixt=ge([Ko,Pg,Rxt,(n,t)=>t],(n,t,e,i)=>{if(t!=null){var r=e?.[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),zxt=(n,t)=>{var e=Eg(n,t);if(e!=null)return Lxt(n,e.orientation,e.mirror)},Fxt=ge([Ko,Eg,zxt,(n,t)=>t],(n,t,e,i)=>{if(t!=null){var r=e?.[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),J$=ge(Ko,Eg,(n,t)=>{var e=typeof t.width=="number"?t.width:nS;return{width:e,height:n.height}}),lB=(n,t,e)=>{switch(t){case"xAxis":return Q$(n,e).width;case"yAxis":return J$(n,e).height;default:return}},tV=(n,t,e,i)=>{if(e!=null){var{allowDuplicatedCategory:r,type:a,dataKey:s}=e,o=Zx(n,i),l=t.map(c=>c.value);if(s&&o&&a==="category"&&r&&rU(l))return l}},OL=ge([oa,rT,Bc,So],tV),eV=(n,t,e,i)=>{if(!(e==null||e.dataKey==null)){var{type:r,scale:a}=e,s=Zx(n,i);if(s&&(r==="number"||a!=="auto"))return t.map(o=>o.value)}},LL=ge([oa,rT,lS,So],eV),cB=ge([oa,Zvt,hS,Uy,OL,LL,dS,DL,So],(n,t,e,i,r,a,s,o,l)=>{if(t!=null){var c=Zx(n,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:r,isCategorical:c,niceTicks:o,range:s,realScaleType:e,scale:i}}}),Bxt=(n,t,e,i,r,a,s,o,l)=>{if(!(t==null||i==null)){var c=Zx(n,l),{type:h,ticks:d,tickCount:g}=t,y=e==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,x=h==="category"&&i.bandwidth?i.bandwidth()/y:0;x=l==="angleAxis"&&a!=null&&a.length>=2?wu(a[0]-a[1])*2*x:x;var w=d||r;if(w){var k=w.map((A,T)=>{var R=s?s.indexOf(A):A;return{index:T,coordinate:i(R)+x,value:A,offset:x}});return k.filter(A=>za(A.coordinate))}return c&&o?o.map((A,T)=>({coordinate:i(A)+x,value:A,index:T,offset:x})).filter(A=>za(A.coordinate)):i.ticks?i.ticks(g).map(A=>({coordinate:i(A)+x,value:A,offset:x})):i.domain().map((A,T)=>({coordinate:i(A)+x,value:s?s[A]:A,index:T,offset:x}))}},nV=ge([oa,lS,hS,Uy,DL,dS,OL,LL,So],Bxt),Hxt=(n,t,e,i,r,a,s)=>{if(!(t==null||e==null||i==null||i[0]===i[1])){var o=Zx(n,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&i?.length>=2?wu(i[0]-i[1])*2*c:c,o&&a?a.map((h,d)=>({coordinate:e(h)+c,value:h,index:d,offset:c})):e.ticks?e.ticks(l).map(h=>({coordinate:e(h)+c,value:h,offset:c})):e.domain().map((h,d)=>({coordinate:e(h)+c,value:r?r[h]:h,index:d,offset:c}))}},Hb=ge([oa,lS,Uy,dS,OL,LL,So],Hxt),Gb=ge(Bc,Uy,(n,t)=>{if(!(n==null||t==null))return N2(N2({},n),{},{scale:t})}),Gxt=ge([Bc,hS,EL,q$],jL);ge((n,t,e)=>AL(n,e),Gxt,(n,t)=>{if(!(n==null||t==null))return N2(N2({},n),{},{scale:t})});var Wxt=ge([oa,FA,BA],(n,t,e)=>{switch(n){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return e.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iV=n=>n.options.defaultTooltipEventType,rV=n=>n.options.validateTooltipEventTypes;function aV(n,t,e){if(n==null)return t;var i=n?"axis":"item";return e==null?t:e.includes(i)?i:t}function RL(n,t){var e=iV(n),i=rV(n);return aV(t,e,i)}function Uxt(n){return yn(t=>RL(t,n))}var sV=(n,t)=>{var e,i=Number(t);if(!(uh(i)||t==null))return i>=0?n==null||(e=n[i])===null||e===void 0?void 0:e.value:void 0},Yxt=n=>n.tooltip.settings,Ay={active:!1,index:null,dataKey:void 0,coordinate:void 0},$xt={itemInteraction:{click:Ay,hover:Ay},axisInteraction:{click:Ay,hover:Ay},keyboardInteraction:Ay,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},oV=Pu({name:"tooltip",initialState:$xt,reducers:{addTooltipEntrySettings:{reducer(n,t){n.tooltipItemPayloads.push(t.payload)},prepare:Ya()},replaceTooltipEntrySettings:{reducer(n,t){var{prev:e,next:i}=t.payload,r=lf(n).tooltipItemPayloads.indexOf(e);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:Ya()},removeTooltipEntrySettings:{reducer(n,t){var e=lf(n).tooltipItemPayloads.indexOf(t.payload);e>-1&&n.tooltipItemPayloads.splice(e,1)},prepare:Ya()},setTooltipSettingsState(n,t){n.settings=t.payload},setActiveMouseOverItemIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=t.payload.activeIndex,n.itemInteraction.hover.dataKey=t.payload.activeDataKey,n.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,t){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=t.payload.activeIndex,n.itemInteraction.click.dataKey=t.payload.activeDataKey,n.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(n,t){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=t.payload.activeIndex,n.axisInteraction.hover.dataKey=t.payload.activeDataKey,n.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=t.payload.activeIndex,n.axisInteraction.click.dataKey=t.payload.activeDataKey,n.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(n,t){n.syncInteraction=t.payload},setKeyboardInteraction(n,t){n.keyboardInteraction.active=t.payload.active,n.keyboardInteraction.index=t.payload.activeIndex,n.keyboardInteraction.coordinate=t.payload.activeCoordinate,n.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Vxt,replaceTooltipEntrySettings:Xxt,removeTooltipEntrySettings:qxt,setTooltipSettingsState:Kxt,setActiveMouseOverItemIndex:lV,mouseLeaveItem:Zxt,mouseLeaveChart:cV,setActiveClickItemIndex:Qxt,setMouseOverAxisIndex:uV,setMouseClickAxisIndex:Jxt,setSyncInteraction:cj,setKeyboardInteraction:uj}=oV.actions,t0t=oV.reducer;function uB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Dk(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?uB(Object(e),!0).forEach(function(i){e0t(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):uB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function e0t(n,t,e){return(t=n0t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function n0t(n){var t=i0t(n,"string");return typeof t=="symbol"?t:t+""}function i0t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function r0t(n,t,e){return t==="axis"?e==="click"?n.axisInteraction.click:n.axisInteraction.hover:e==="click"?n.itemInteraction.click:n.itemInteraction.hover}function a0t(n){return n.index!=null}var hV=(n,t,e,i)=>{if(t==null)return Ay;var r=r0t(n,t,e);if(r==null)return Ay;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var a=n.settings.active===!0;if(a0t(r)){if(a)return Dk(Dk({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return Dk(Dk({},Ay),{},{coordinate:r.coordinate})};function s0t(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var t=n.valueOf();return Number.isFinite(t)?t:void 0}var e=Number(n);return Number.isFinite(e)?e:void 0}function o0t(n,t){var e=s0t(n),i=t[0],r=t[1];if(e===void 0)return!1;var a=Math.min(i,r),s=Math.max(i,r);return e>=a&&e<=s}function l0t(n,t,e){if(e==null||t==null)return!0;var i=ic(n,t);return i==null||!Wy(e)?!0:o0t(i,e)}var IL=(n,t,e,i)=>{var r=n?.index;if(r==null)return null;var a=Number(r);if(!za(a))return r;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||l0t(c,e,i)?String(l):null},dV=(n,t,e,i,r,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var h=r?.[Number(a)];if(h)switch(e){case"horizontal":return{x:h.coordinate,y:(i.top+t)/2};default:return{x:(i.left+n)/2,y:h.coordinate}}}},fV=(n,t,e,i)=>{if(t==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return e==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===r})},fS=n=>n.options.tooltipPayloadSearcher,f1=n=>n.tooltip;function hB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function dB(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?hB(Object(e),!0).forEach(function(i){c0t(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function c0t(n,t,e){return(t=u0t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function u0t(n){var t=h0t(n,"string");return typeof t=="symbol"?t:t+""}function h0t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function d0t(n,t){return n??t}var gV=(n,t,e,i,r,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:h}=e,d=[];return n.reduce((g,y)=>{var x,{dataDefinedOnItem:w,settings:k}=y,A=d0t(w,o),T=Array.isArray(A)?VU(A,c,h):A,R=(x=k?.dataKey)!==null&&x!==void 0?x:i,G=k?.nameKey,z;if(i&&Array.isArray(T)&&!Array.isArray(T[0])&&s==="axis"?z=kht(T,i,r):z=a(T,t,l,G),Array.isArray(z))z.forEach(H=>{var Y=dB(dB({},k),{},{name:H.name,unit:H.unit,color:void 0,fill:void 0});g.push(BF({tooltipEntrySettings:Y,dataKey:H.dataKey,payload:H.payload,value:ic(H.payload,H.dataKey),name:H.name}))});else{var F;g.push(BF({tooltipEntrySettings:k,dataKey:R,payload:z,value:ic(z,R),name:(F=ic(z,G))!==null&&F!==void 0?F:k?.name}))}return g},d)}},zL=ge([Co,oa,S$,xL,ko],Y$),f0t=ge([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,t)=>[...n,...t]),g0t=ge([ko,h1],k$),gS=ge([f0t,Co,g0t],C$,{memoizeOptions:{resultEqualityCheck:iT}}),p0t=ge([gS],n=>n.filter(eT)),m0t=ge([gS],M$,{memoizeOptions:{resultEqualityCheck:iT}}),g1=ge([m0t,nv],N$),y0t=ge([p0t,nv,Co],b$),FL=ge([g1,Co,gS],P$),pV=ge([Co],NL),v0t=ge([Co],n=>n.allowDataOverflow),mV=ge([pV,v0t],ZY),x0t=ge([gS],n=>n.filter(eT)),b0t=ge([y0t,x0t,ZA,f$],j$),w0t=ge([b0t,nv,ko,mV],D$),_0t=ge([gS],T$),S0t=ge([g1,Co,_0t,PL,ko],R$,{memoizeOptions:{resultEqualityCheck:nT}}),k0t=ge([I$,ko,h1],d1),C0t=ge([k0t,ko],B$),A0t=ge([z$,ko,h1],d1),T0t=ge([A0t,ko],H$),M0t=ge([F$,ko,h1],d1),N0t=ge([M0t,ko],G$),P0t=ge([C0t,N0t,T0t],P2),E0t=ge([Co,pV,mV,w0t,S0t,P0t,oa,ko],W$),pS=ge([Co,oa,g1,FL,ZA,ko,E0t],U$),j0t=ge([pS,Co,zL],$$),D0t=ge([Co,pS,j0t,ko],V$),yV=n=>{var t=ko(n),e=h1(n),i=!1;return dS(n,t,e,i)},vV=ge([Co,yV],QA),xV=ge([Co,zL,D0t,vV],jL),O0t=ge([oa,FL,Co,ko],tV),L0t=ge([oa,FL,Co,ko],eV),R0t=(n,t,e,i,r,a,s,o)=>{if(t){var{type:l}=t,c=Zx(n,o);if(i){var h=e==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,d=l==="category"&&i.bandwidth?i.bandwidth()/h:0;return d=o==="angleAxis"&&r!=null&&r?.length>=2?wu(r[0]-r[1])*2*d:d,c&&s?s.map((g,y)=>({coordinate:i(g)+d,value:g,index:y,offset:d})):i.domain().map((g,y)=>({coordinate:i(g)+d,value:a?a[g]:g,index:y,offset:d}))}}},am=ge([oa,Co,zL,xV,yV,O0t,L0t,ko],R0t),BL=ge([iV,rV,Yxt],(n,t,e)=>aV(e.shared,n,t)),bV=n=>n.tooltip.settings.trigger,HL=n=>n.tooltip.settings.defaultIndex,oT=ge([f1,BL,bV,HL],hV),Wb=ge([oT,g1,uS,pS],IL),wV=ge([am,Wb],sV),_V=ge([oT],n=>{if(n)return n.dataKey}),SV=ge([f1,BL,bV,HL],fV),I0t=ge([nm,im,oa,Ko,am,HL,SV,fS],dV),z0t=ge([oT,I0t],(n,t)=>n!=null&&n.coordinate?n.coordinate:t),F0t=ge([oT],n=>n.active),B0t=ge([SV,Wb,nv,uS,wV,fS,BL],gV);ge([B0t],n=>{if(n!=null){var t=n.map(e=>e.payload).filter(e=>e!=null);return Array.from(new Set(t))}});function fB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function gB(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fB(Object(e),!0).forEach(function(i){H0t(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):fB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function H0t(n,t,e){return(t=G0t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function G0t(n){var t=W0t(n,"string");return typeof t=="symbol"?t:t+""}function W0t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var U0t=()=>yn(Co),Y0t=()=>{var n=U0t(),t=yn(am),e=yn(xV);return h2(!n||!e?void 0:gB(gB({},n),{},{scale:e}),t)};function pB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function rb(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pB(Object(e),!0).forEach(function(i){$0t(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function $0t(n,t,e){return(t=V0t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function V0t(n){var t=X0t(n,"string");return typeof t=="symbol"?t:t+""}function X0t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var q0t=(n,t,e,i)=>{var r=t.find(a=>a&&a.index===e);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},K0t=(n,t,e,i)=>{var r=t.find(c=>c&&c.index===e);if(r){if(n==="centric"){var a=r.coordinate,{radius:s}=i;return rb(rb(rb({},i),Sl(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var o=r.coordinate,{angle:l}=i;return rb(rb(rb({},i),Sl(i.cx,i.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Z0t(n,t){var{chartX:e,chartY:i}=n;return e>=t.left&&e<=t.left+t.width&&i>=t.top&&i<=t.top+t.height}var kV=(n,t,e,i,r)=>{var a,s=-1,o=(a=t?.length)!==null&&a!==void 0?a:0;if(o<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?e[l-1].coordinate:e[o-1].coordinate,h=e[l].coordinate,d=l>=o-1?e[0].coordinate:e[l+1].coordinate,g=void 0;if(wu(h-c)!==wu(d-h)){var y=[];if(wu(d-h)===wu(r[1]-r[0])){g=d;var x=h+r[1]-r[0];y[0]=Math.min(x,(x+c)/2),y[1]=Math.max(x,(x+c)/2)}else{g=c;var w=d+r[1]-r[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var k=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(n>k[0]&&n<=k[1]||n>=y[0]&&n<=y[1]){({index:s}=e[l]);break}}else{var A=Math.min(c,d),T=Math.max(c,d);if(n>(A+h)/2&&n<=(T+h)/2){({index:s}=e[l]);break}}}else if(t){for(var R=0;R<o;R++)if(R===0&&n<=(t[R].coordinate+t[R+1].coordinate)/2||R>0&&R<o-1&&n>(t[R].coordinate+t[R-1].coordinate)/2&&n<=(t[R].coordinate+t[R+1].coordinate)/2||R===o-1&&n>(t[R].coordinate+t[R-1].coordinate)/2){({index:s}=t[R]);break}}return s},Q0t=()=>yn(xL),GL=(n,t)=>t,CV=(n,t,e)=>e,WL=(n,t,e,i)=>i,J0t=ge(am,n=>DA(n,t=>t.coordinate)),UL=ge([f1,GL,CV,WL],hV),YL=ge([UL,g1,uS,pS],IL),tbt=(n,t,e)=>{if(t!=null){var i=f1(n);return t==="axis"?e==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:e==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},AV=ge([f1,GL,CV,WL],fV),E2=ge([nm,im,oa,Ko,am,WL,AV,fS],dV),ebt=ge([UL,E2],(n,t)=>{var e;return(e=n.coordinate)!==null&&e!==void 0?e:t}),TV=ge([am,YL],sV),nbt=ge([AV,YL,nv,uS,TV,fS,GL],gV),ibt=ge([UL,YL],(n,t)=>({isActive:n.active&&t!=null,activeIndex:t})),rbt=(n,t,e,i,r,a,s)=>{if(!(!n||!e||!i||!r)&&Z0t(n,s)){var o=Vft(n,t),l=kV(o,a,r,e,i),c=q0t(t,r,l,n);return{activeIndex:String(l),activeCoordinate:c}}},abt=(n,t,e,i,r,a,s)=>{if(!(!n||!i||!r||!a||!e)){var o=Wpt(n,e);if(o){var l=Xft(o,t),c=kV(l,s,a,i,r),h=K0t(t,a,c,o);return{activeIndex:String(c),activeCoordinate:h}}}},sbt=(n,t,e,i,r,a,s,o)=>{if(!(!n||!t||!i||!r||!a))return t==="horizontal"||t==="vertical"?rbt(n,t,i,r,a,s,o):abt(n,t,e,i,r,a,s)},obt=ge(n=>n.zIndex.zIndexMap,(n,t)=>t,(n,t,e)=>e,(n,t,e)=>{if(t!=null){var i=n[t];if(i!=null)return e?i.panoramaElementId:i.elementId}}),lbt=ge(n=>n.zIndex.zIndexMap,n=>{var t=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(nc)),e=Array.from(new Set(t));return e.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:$vt}});function mB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function yB(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?mB(Object(e),!0).forEach(function(i){cbt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):mB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function cbt(n,t,e){return(t=ubt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ubt(n){var t=hbt(n,"string");return typeof t=="symbol"?t:t+""}function hbt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var dbt={},fbt={zIndexMap:Object.values(nc).reduce((n,t)=>yB(yB({},n),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),dbt)},gbt=new Set(Object.values(nc));function pbt(n){return gbt.has(n)}var MV=Pu({name:"zIndex",initialState:fbt,reducers:{registerZIndexPortal:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]?n.zIndexMap[e].consumers+=1:n.zIndexMap[e]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ya()},unregisterZIndexPortal:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]&&(n.zIndexMap[e].consumers-=1,n.zIndexMap[e].consumers<=0&&!pbt(e)&&delete n.zIndexMap[e])},prepare:Ya()},registerZIndexPortalId:{reducer:(n,t)=>{var{zIndex:e,elementId:i,isPanorama:r}=t.payload;n.zIndexMap[e]?r?n.zIndexMap[e].panoramaElementId=i:n.zIndexMap[e].elementId=i:n.zIndexMap[e]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:Ya()},unregisterZIndexPortalId:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]&&(t.payload.isPanorama?n.zIndexMap[e].panoramaElementId=void 0:n.zIndexMap[e].elementId=void 0)},prepare:Ya()}}}),{registerZIndexPortal:mbt,unregisterZIndexPortal:ybt,registerZIndexPortalId:vbt,unregisterZIndexPortalId:xbt}=MV.actions,bbt=MV.reducer;function jg(n){var{zIndex:t,children:e}=n,i=Agt(),r=i&&t!==void 0&&t!==0,a=Fc(),s=vs();N.useLayoutEffect(()=>r?(s(mbt({zIndex:t})),()=>{s(ybt({zIndex:t}))}):J_,[s,t,r]);var o=yn(c=>obt(c,t,a));if(!r)return e;if(!o)return null;var l=document.getElementById(o);return l?R_.createPortal(e,l):null}function hj(){return hj=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},hj.apply(null,arguments)}function vB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Ok(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?vB(Object(e),!0).forEach(function(i){wbt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):vB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function wbt(n,t,e){return(t=_bt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _bt(n){var t=Sbt(n,"string");return typeof t=="symbol"?t:t+""}function Sbt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function kbt(n){var{cursor:t,cursorComp:e,cursorProps:i}=n;return N.isValidElement(t)?N.cloneElement(t,i):N.createElement(e,i)}function Cbt(n){var t,{coordinate:e,payload:i,index:r,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:h}=n,d=e,g=i,y=r;if(!l||!d||h!=="ScatterChart"&&c!=="axis")return null;var x,w,k;if(h==="ScatterChart")x=d,w=rpt,k=nc.cursorLine;else if(h==="BarChart")x=apt(o,d,a,s),w=dY,k=nc.cursorRectangle;else if(o==="radial"&&oU(d)){var{cx:A,cy:T,radius:R,startAngle:G,endAngle:z}=fY(d);x={cx:A,cy:T,startAngle:G,endAngle:z,innerRadius:R,outerRadius:R},w=pY,k=nc.cursorLine}else x={points:Vpt(o,d,a)},w=oY,k=nc.cursorLine;var F=typeof l=="object"&&"className"in l?l.className:void 0,H=Ok(Ok(Ok(Ok({stroke:"#ccc",pointerEvents:"none"},a),x),MO(l)),{},{payload:g,payloadIndex:y,className:Vr("recharts-tooltip-cursor",F)});return N.createElement(jg,{zIndex:(t=n.zIndex)!==null&&t!==void 0?t:k},N.createElement(kbt,{cursor:l,cursorComp:w,cursorProps:H}))}function Abt(n){var t=Y0t(),e=nY(),i=WA(),r=Q0t();return t==null||e==null||i==null||r==null?null:N.createElement(Cbt,hj({},n,{offset:e,layout:i,tooltipAxisBandSize:t,chartName:r}))}var NV=N.createContext(null),Tbt=()=>N.useContext(NV),FN={exports:{}},xB;function Mbt(){return xB||(xB=1,(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function r(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function a(l,c,h,d,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new r(h,d||l,g),x=e?e+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],y]:l._events[x].push(y):(l._events[x]=y,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)t.call(h,d)&&c.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},o.prototype.listeners=function(c){var h=e?e+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var g=0,y=d.length,x=new Array(y);g<y;g++)x[g]=d[g].fn;return x},o.prototype.listenerCount=function(c){var h=e?e+c:c,d=this._events[h];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,h,d,g,y,x){var w=e?e+c:c;if(!this._events[w])return!1;var k=this._events[w],A=arguments.length,T,R;if(k.fn){switch(k.once&&this.removeListener(c,k.fn,void 0,!0),A){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,h),!0;case 3:return k.fn.call(k.context,h,d),!0;case 4:return k.fn.call(k.context,h,d,g),!0;case 5:return k.fn.call(k.context,h,d,g,y),!0;case 6:return k.fn.call(k.context,h,d,g,y,x),!0}for(R=1,T=new Array(A-1);R<A;R++)T[R-1]=arguments[R];k.fn.apply(k.context,T)}else{var G=k.length,z;for(R=0;R<G;R++)switch(k[R].once&&this.removeListener(c,k[R].fn,void 0,!0),A){case 1:k[R].fn.call(k[R].context);break;case 2:k[R].fn.call(k[R].context,h);break;case 3:k[R].fn.call(k[R].context,h,d);break;case 4:k[R].fn.call(k[R].context,h,d,g);break;default:if(!T)for(z=1,T=new Array(A-1);z<A;z++)T[z-1]=arguments[z];k[R].fn.apply(k[R].context,T)}}return!0},o.prototype.on=function(c,h,d){return a(this,c,h,d,!1)},o.prototype.once=function(c,h,d){return a(this,c,h,d,!0)},o.prototype.removeListener=function(c,h,d,g){var y=e?e+c:c;if(!this._events[y])return this;if(!h)return s(this,y),this;var x=this._events[y];if(x.fn)x.fn===h&&(!g||x.once)&&(!d||x.context===d)&&s(this,y);else{for(var w=0,k=[],A=x.length;w<A;w++)(x[w].fn!==h||g&&!x[w].once||d&&x[w].context!==d)&&k.push(x[w]);k.length?this._events[y]=k.length===1?k[0]:k:s(this,y)}return this},o.prototype.removeAllListeners=function(c){var h;return c?(h=e?e+c:c,this._events[h]&&s(this,h)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,n.exports=o})(FN)),FN.exports}var Nbt=Mbt();const Pbt=Al(Nbt);var m_=new Pbt,dj="recharts.syncEvent.tooltip",bB="recharts.syncEvent.brush";function Ebt(n,t){if(t){var e=Number.parseInt(t,10);if(!uh(e))return n?.[e]}}var jbt={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PV=Pu({name:"options",initialState:jbt,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Dbt=PV.reducer,{createEventEmitter:Obt}=PV.actions;function Lbt(n){return n.tooltip.syncInteraction}var Rbt={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},EV=Pu({name:"chartData",initialState:Rbt,reducers:{setChartData(n,t){if(n.chartData=t.payload,t.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}t.payload.length>0&&n.dataEndIndex!==t.payload.length-1&&(n.dataEndIndex=t.payload.length-1)},setComputedData(n,t){n.computedData=t.payload},setDataStartEndIndexes(n,t){var{startIndex:e,endIndex:i}=t.payload;e!=null&&(n.dataStartIndex=e),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:wB,setDataStartEndIndexes:Ibt,setComputedData:Lzt}=EV.actions,zbt=EV.reducer,Fbt=["x","y"];function _B(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function ab(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_B(Object(e),!0).forEach(function(i){Bbt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_B(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Bbt(n,t,e){return(t=Hbt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Hbt(n){var t=Gbt(n,"string");return typeof t=="symbol"?t:t+""}function Gbt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Wbt(n,t){if(n==null)return{};var e,i,r=Ubt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Ubt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function Ybt(){var n=yn(bL),t=yn(wL),e=vs(),i=yn(g$),r=yn(am),a=WA(),s=iS(),o=yn(l=>l.rootProps.className);N.useEffect(()=>{if(n==null)return J_;var l=(c,h,d)=>{if(t!==d&&n===c){if(i==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x,y:w}=y,k=Wbt(y,Fbt),{x:A,y:T,width:R,height:G}=h.payload.sourceViewBox,z=ab(ab({},k),{},{x:s.x+(R?(x-A)/R:0)*s.width,y:s.y+(G?(w-T)/G:0)*s.height});e(ab(ab({},h),{},{payload:ab(ab({},h.payload),{},{coordinate:z})}))}else e(h);return}if(r!=null){var F;if(typeof i=="function"){var H={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},Y=i(r,H);F=r[Y]}else i==="value"&&(F=r.find(ct=>String(ct.value)===h.payload.label));var{coordinate:J}=h.payload;if(F==null||h.payload.active===!1||J==null||s==null){e(cj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:nt,y:V}=J,Z=Math.min(nt,s.x+s.width),rt=Math.min(V,s.y+s.height),lt={x:a==="horizontal"?F.coordinate:Z,y:a==="horizontal"?rt:F.coordinate},mt=cj({active:h.payload.active,coordinate:lt,dataKey:h.payload.dataKey,index:String(F.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});e(mt)}}};return m_.on(dj,l),()=>{m_.off(dj,l)}},[o,e,t,n,i,r,a,s])}function $bt(){var n=yn(bL),t=yn(wL),e=vs();N.useEffect(()=>{if(n==null)return J_;var i=(r,a,s)=>{t!==s&&n===r&&e(Ibt(a))};return m_.on(bB,i),()=>{m_.off(bB,i)}},[e,t,n])}function Vbt(){var n=vs();N.useEffect(()=>{n(Obt())},[n]),Ybt(),$bt()}function Xbt(n,t,e,i,r,a){var s=yn(y=>tbt(y,n,t)),o=yn(wL),l=yn(bL),c=yn(g$),h=yn(Lbt),d=h?.active,g=iS();N.useEffect(()=>{if(!d&&l!=null&&o!=null){var y=cj({active:a,coordinate:e,dataKey:s,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g});m_.emit(dj,l,y,o)}},[d,e,s,r,i,o,l,c,a,g])}function SB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function kB(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?SB(Object(e),!0).forEach(function(i){qbt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):SB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function qbt(n,t,e){return(t=Kbt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Kbt(n){var t=Zbt(n,"string");return typeof t=="symbol"?t:t+""}function Zbt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Qbt(n){return n.dataKey}function Jbt(n,t){return N.isValidElement(n)?N.cloneElement(n,t):typeof n=="function"?N.createElement(n,t):N.createElement(Rgt,t)}var CB=[],t1t={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!o1.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function j2(n){var t,e,i=Nu(n,t1t),{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:h,offset:d,payloadUniqBy:g,position:y,reverseDirection:x,useTranslate3d:w,wrapperStyle:k,cursor:A,shared:T,trigger:R,defaultIndex:G,portal:z,axisId:F}=i,H=vs(),Y=typeof G=="number"?String(G):G;N.useEffect(()=>{H(Kxt({shared:T,trigger:R,axisId:F,active:r,defaultIndex:Y}))},[H,T,R,F,r,Y]);var J=iS(),nt=sY(),V=Uxt(T),{activeIndex:Z,isActive:rt}=(t=yn(Et=>ibt(Et,V,R,Y)))!==null&&t!==void 0?t:{},lt=yn(Et=>nbt(Et,V,R,Y)),mt=yn(Et=>TV(Et,V,R,Y)),ct=yn(Et=>ebt(Et,V,R,Y)),st=lt,xt=Tbt(),dt=(e=r??rt)!==null&&e!==void 0?e:!1,[ht,ot]=Ldt([st,dt]),vt=V==="axis"?mt:void 0;Xbt(V,R,ct,vt,Z,dt);var St=z??xt;if(St==null||J==null||V==null)return null;var Pt=st??CB;dt||(Pt=CB),c&&Pt.length&&(Pt=odt(Pt.filter(Et=>Et.value!=null&&(Et.hide!==!0||i.includeHidden)),g,Qbt));var It=Pt.length>0,Nt=N.createElement(Wgt,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:h,active:dt,coordinate:ct,hasPayload:It,offset:d,position:y,reverseDirection:x,useTranslate3d:w,viewBox:J,wrapperStyle:k,lastBoundingBox:ht,innerRef:ot,hasPortalFromProps:!!z},Jbt(l,kB(kB({},i),{},{payload:Pt,label:vt,active:dt,activeIndex:Z,coordinate:ct,accessibilityLayer:nt})));return N.createElement(N.Fragment,null,R_.createPortal(Nt,St),dt&&N.createElement(Abt,{cursor:A,tooltipEventType:V,coordinate:ct,payload:Pt,index:Z}))}var y_=n=>null;y_.displayName="Cell";function e1t(n,t,e){return(t=n1t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function n1t(n){var t=i1t(n,"string");return typeof t=="symbol"?t:t+""}function i1t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class r1t{constructor(t){e1t(this,"cache",new Map),this.maxSize=t}get(t){var e=this.cache.get(t);return e!==void 0&&(this.cache.delete(t),this.cache.set(t,e)),e}set(t,e){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(t,e)}clear(){this.cache.clear()}size(){return this.cache.size}}function AB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function a1t(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(e),!0).forEach(function(i){s1t(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):AB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function s1t(n,t,e){return(t=o1t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function o1t(n){var t=l1t(n,"string");return typeof t=="symbol"?t:t+""}function l1t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var c1t={cacheSize:2e3,enableCache:!0},jV=a1t({},c1t),TB=new r1t(jV.cacheSize),u1t={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MB="recharts_measurement_span";function h1t(n,t){var e=t.fontSize||"",i=t.fontFamily||"",r=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(n,"|").concat(e,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(o)}var NB=(n,t)=>{try{var e=document.getElementById(MB);e||(e=document.createElement("span"),e.setAttribute("id",MB),e.setAttribute("aria-hidden","true"),document.body.appendChild(e)),Object.assign(e.style,u1t,t),e.textContent="".concat(n);var i=e.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Gw=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||o1.isSsr)return{width:0,height:0};if(!jV.enableCache)return NB(t,e);var i=h1t(t,e),r=TB.get(i);if(r)return r;var a=NB(t,e);return TB.set(i,a),a},PB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d1t=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f1t=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},g1t=Object.keys(DV),mb="NaN";function p1t(n,t){return n*DV[t]}class vu{static parse(t){var e,[,i,r]=(e=f1t.exec(t))!==null&&e!==void 0?e:[];return new vu(parseFloat(i),r??"")}constructor(t,e){this.num=t,this.unit=e,this.num=t,this.unit=e,uh(t)&&(this.unit=""),e!==""&&!d1t.test(e)&&(this.num=NaN,this.unit=""),g1t.includes(e)&&(this.num=p1t(t,e),this.unit="px")}add(t){return this.unit!==t.unit?new vu(NaN,""):new vu(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vu(NaN,""):new vu(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vu(NaN,""):new vu(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vu(NaN,""):new vu(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return uh(this.num)}}function OV(n){if(n.includes(mb))return mb;for(var t=n;t.includes("*")||t.includes("/");){var e,[,i,r,a]=(e=PB.exec(t))!==null&&e!==void 0?e:[],s=vu.parse(i??""),o=vu.parse(a??""),l=r==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return mb;t=t.replace(PB,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,h,d,g]=(c=EB.exec(t))!==null&&c!==void 0?c:[],y=vu.parse(h??""),x=vu.parse(g??""),w=d==="+"?y.add(x):y.subtract(x);if(w.isNaN())return mb;t=t.replace(EB,w.toString())}return t}var jB=/\(([^()]*)\)/;function m1t(n){for(var t=n,e;(e=jB.exec(t))!=null;){var[,i]=e;t=t.replace(jB,OV(i))}return t}function y1t(n){var t=n.replace(/\s+/g,"");return t=m1t(t),t=OV(t),t}function v1t(n){try{return y1t(n)}catch{return mb}}function BN(n){var t=v1t(n.slice(5,-1));return t===mb?"":t}var x1t=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],b1t=["dx","dy","angle","className","breakAll"];function fj(){return fj=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},fj.apply(null,arguments)}function DB(n,t){if(n==null)return{};var e,i,r=w1t(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function w1t(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var LV=/[ \f\n\r\t\v\u2028\u2029]+/,RV=n=>{var{children:t,breakAll:e,style:i}=n;try{var r=[];Vo(t)||(e?r=t.toString().split(""):r=t.toString().split(LV));var a=r.map(o=>({word:o,width:Gw(o,i).width})),s=e?0:Gw("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function _1t(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var IV=(n,t,e,i)=>n.reduce((r,a)=>{var{word:s,width:o}=a,l=r[r.length-1];if(l&&o!=null&&(t==null||i||l.width+o+e<Number(t)))l.words.push(s),l.width+=o+e;else{var c={words:[s],width:o};r.push(c)}return r},[]),zV=n=>n.reduce((t,e)=>t.width>e.width?t:e),S1t="",OB=(n,t,e,i,r,a,s,o)=>{var l=n.slice(0,t),c=RV({breakAll:e,style:i,children:l+S1t});if(!c)return[!1,[]];var h=IV(c.wordsWithComputedWidth,a,s,o),d=h.length>r||zV(h).width>Number(a);return[d,h]},k1t=(n,t,e,i,r)=>{var{maxLines:a,children:s,style:o,breakAll:l}=n,c=bn(a),h=String(s),d=IV(t,i,e,r);if(!c||r)return d;var g=d.length>a||zV(d).width>Number(i);if(!g)return d;for(var y=0,x=h.length-1,w=0,k;y<=x&&w<=h.length-1;){var A=Math.floor((y+x)/2),T=A-1,[R,G]=OB(h,T,l,o,a,i,e,r),[z]=OB(h,A,l,o,a,i,e,r);if(!R&&!z&&(y=A+1),R&&z&&(x=A-1),!R&&z){k=G;break}w++}return k||d},LB=n=>{var t=Vo(n)?[]:n.toString().split(LV);return[{words:t,width:void 0}]},C1t=n=>{var{width:t,scaleToFit:e,children:i,style:r,breakAll:a,maxLines:s}=n;if((t||e)&&!o1.isSsr){var o,l,c=RV({breakAll:a,children:i,style:r});if(c){var{wordsWithComputedWidth:h,spaceWidth:d}=c;o=h,l=d}else return LB(i);return k1t({breakAll:a,children:i,maxLines:s,style:r},o,l,t,!!e)}return LB(i)},FV="#808080",A1t={angle:0,breakAll:!1,capHeight:"0.71em",fill:FV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},$L=N.forwardRef((n,t)=>{var e=Nu(n,A1t),{x:i,y:r,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:h}=e,d=DB(e,x1t),g=N.useMemo(()=>C1t({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:y,dy:x,angle:w,className:k,breakAll:A}=d,T=DB(d,b1t);if(!pd(i)||!pd(r)||g.length===0)return null;var R=Number(i)+(bn(y)?y:0),G=Number(r)+(bn(x)?x:0);if(!za(R)||!za(G))return null;var z;switch(h){case"start":z=BN("calc(".concat(s,")"));break;case"middle":z=BN("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:z=BN("calc(".concat(g.length-1," * -").concat(a,")"));break}var F=[];if(l){var H=g[0].width,{width:Y}=d;F.push("scale(".concat(bn(Y)&&bn(H)?Y/H:1,")"))}return w&&F.push("rotate(".concat(w,", ").concat(R,", ").concat(G,")")),F.length&&(T.transform=F.join(" ")),N.createElement("text",fj({},ch(T),{ref:t,x:R,y:G,className:Vr("recharts-text",k),textAnchor:c,fill:o.includes("url")?FV:o}),g.map((J,nt)=>{var V=J.words.join(A?"":" ");return N.createElement("tspan",{x:R,dy:nt===0?z:a,key:"".concat(V,"-").concat(nt)},V)}))});$L.displayName="Text";var T1t=["labelRef"];function M1t(n,t){if(n==null)return{};var e,i,r=N1t(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function N1t(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function RB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function js(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?RB(Object(e),!0).forEach(function(i){P1t(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):RB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function P1t(n,t,e){return(t=E1t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function E1t(n){var t=j1t(n,"string");return typeof t=="symbol"?t:t+""}function j1t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Dp.apply(null,arguments)}var BV=N.createContext(null),HV=n=>{var{x:t,y:e,upperWidth:i,lowerWidth:r,width:a,height:s,children:o}=n,l=N.useMemo(()=>({x:t,y:e,upperWidth:i,lowerWidth:r,width:a,height:s}),[t,e,i,r,a,s]);return N.createElement(BV.Provider,{value:l},o)},GV=()=>{var n=N.useContext(BV),t=iS();return n||eY(t)},D1t=N.createContext(null),O1t=()=>{var n=N.useContext(D1t),t=yn(x$);return n||t},L1t=n=>{var{value:t,formatter:e}=n,i=Vo(n.children)?t:n.children;return typeof e=="function"?e(i):i},VL=n=>n!=null&&typeof n=="function",R1t=(n,t)=>{var e=wu(t-n),i=Math.min(Math.abs(t-n),360);return e*i},I1t=(n,t,e,i,r)=>{var{offset:a,className:s}=n,{cx:o,cy:l,innerRadius:c,outerRadius:h,startAngle:d,endAngle:g,clockWise:y}=r,x=(c+h)/2,w=R1t(d,g),k=w>=0?1:-1,A,T;switch(t){case"insideStart":A=d+k*a,T=y;break;case"insideEnd":A=g-k*a,T=!y;break;case"end":A=g+k*a,T=y;break;default:throw new Error("Unsupported position ".concat(t))}T=w<=0?T:!T;var R=Sl(o,l,x,A),G=Sl(o,l,x,A+(T?1:-1)*359),z="M".concat(R.x,",").concat(R.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(G.x,",").concat(G.y),F=Vo(n.id)?s_("recharts-radial-line-"):n.id;return N.createElement("text",Dp({},i,{dominantBaseline:"central",className:Vr("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:F,d:z})),N.createElement("textPath",{xlinkHref:"#".concat(F)},e))},z1t=(n,t,e)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=n,c=(o+l)/2;if(e==="outside"){var{x:h,y:d}=Sl(i,r,s+t,c);return{x:h,y:d,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(e==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(e==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(e==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:y,y:x}=Sl(i,r,g,c);return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},gj=n=>"cx"in n&&bn(n.cx),F1t=(n,t)=>{var{parentViewBox:e,offset:i,position:r}=n,a;e!=null&&!gj(e)&&(a=e);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:h}=t,d=s,g=s+(l-c)/2,y=(d+g)/2,x=(l+c)/2,w=d+l/2,k=h>=0?1:-1,A=k*i,T=k>0?"end":"start",R=k>0?"start":"end",G=l>=0?1:-1,z=G*i,F=G>0?"end":"start",H=G>0?"start":"end";if(r==="top"){var Y={x:d+l/2,y:o-A,textAnchor:"middle",verticalAnchor:T};return js(js({},Y),a?{height:Math.max(o-a.y,0),width:l}:{})}if(r==="bottom"){var J={x:g+c/2,y:o+h+A,textAnchor:"middle",verticalAnchor:R};return js(js({},J),a?{height:Math.max(a.y+a.height-(o+h),0),width:c}:{})}if(r==="left"){var nt={x:y-z,y:o+h/2,textAnchor:F,verticalAnchor:"middle"};return js(js({},nt),a?{width:Math.max(nt.x-a.x,0),height:h}:{})}if(r==="right"){var V={x:y+x+z,y:o+h/2,textAnchor:H,verticalAnchor:"middle"};return js(js({},V),a?{width:Math.max(a.x+a.width-V.x,0),height:h}:{})}var Z=a?{width:x,height:h}:{};return r==="insideLeft"?js({x:y+z,y:o+h/2,textAnchor:H,verticalAnchor:"middle"},Z):r==="insideRight"?js({x:y+x-z,y:o+h/2,textAnchor:F,verticalAnchor:"middle"},Z):r==="insideTop"?js({x:d+l/2,y:o+A,textAnchor:"middle",verticalAnchor:R},Z):r==="insideBottom"?js({x:g+c/2,y:o+h-A,textAnchor:"middle",verticalAnchor:T},Z):r==="insideTopLeft"?js({x:d+z,y:o+A,textAnchor:H,verticalAnchor:R},Z):r==="insideTopRight"?js({x:d+l-z,y:o+A,textAnchor:F,verticalAnchor:R},Z):r==="insideBottomLeft"?js({x:g+z,y:o+h-A,textAnchor:H,verticalAnchor:T},Z):r==="insideBottomRight"?js({x:g+c-z,y:o+h-A,textAnchor:F,verticalAnchor:T},Z):r&&typeof r=="object"&&(bn(r.x)||Xp(r.x))&&(bn(r.y)||Xp(r.y))?js({x:s+df(r.x,x),y:o+df(r.y,h),textAnchor:"end",verticalAnchor:"end"},Z):js({x:w,y:o+h/2,textAnchor:"middle",verticalAnchor:"middle"},Z)},B1t={angle:0,offset:5,zIndex:nc.label,position:"middle",textBreakAll:!1};function ky(n){var t=Nu(n,B1t),{viewBox:e,position:i,value:r,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,h=O1t(),d=GV(),g=i==="center"?d:h??d,y,x,w;if(e==null?y=g:gj(e)?y=e:y=eY(e),!y||Vo(r)&&Vo(a)&&!N.isValidElement(s)&&typeof s!="function")return null;var k=js(js({},t),{},{viewBox:y});if(N.isValidElement(s)){var{labelRef:A}=k,T=M1t(k,T1t);return N.cloneElement(s,T)}if(typeof s=="function"){if(x=N.createElement(s,k),N.isValidElement(x))return x}else x=L1t(t);var R=ch(t);if(gj(y)){if(i==="insideStart"||i==="insideEnd"||i==="end")return I1t(t,i,x,R,y);w=z1t(y,t.offset,t.position)}else w=F1t(t,y);return N.createElement(jg,{zIndex:t.zIndex},N.createElement($L,Dp({ref:c,className:Vr("recharts-label",o)},R,w,{textAnchor:_1t(R.textAnchor)?R.textAnchor:w.textAnchor,breakAll:l}),x))}ky.displayName="Label";var H1t=(n,t,e)=>{if(!n)return null;var i={viewBox:t,labelRef:e};return n===!0?N.createElement(ky,Dp({key:"label-implicit"},i)):pd(n)?N.createElement(ky,Dp({key:"label-implicit",value:n},i)):N.isValidElement(n)?n.type===ky?N.cloneElement(n,js({key:"label-implicit"},i)):N.createElement(ky,Dp({key:"label-implicit",content:n},i)):VL(n)?N.createElement(ky,Dp({key:"label-implicit",content:n},i)):n&&typeof n=="object"?N.createElement(ky,Dp({},n,{key:"label-implicit"},i)):null};function WV(n){var{label:t,labelRef:e}=n,i=GV();return H1t(t,i,e)||null}var HN={},GN={},IB;function G1t(){return IB||(IB=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e[e.length-1]}n.last=t})(GN)),GN}var WN={},zB;function W1t(){return zB||(zB=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Array.isArray(e)?e:Array.from(e)}n.toArray=t})(WN)),WN}var FB;function U1t(){return FB||(FB=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=G1t(),e=W1t(),i=RO();function r(a){if(i.isArrayLike(a))return t.last(e.toArray(a))}n.last=r})(HN)),HN}var UN,BB;function Y1t(){return BB||(BB=1,UN=U1t().last),UN}var $1t=Y1t();const V1t=Al($1t);var X1t=["valueAccessor"],q1t=["dataKey","clockWise","id","textBreakAll","zIndex"];function D2(){return D2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},D2.apply(null,arguments)}function HB(n,t){if(n==null)return{};var e,i,r=K1t(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function K1t(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var Z1t=n=>Array.isArray(n.value)?V1t(n.value):n.value,UV=N.createContext(void 0),Q1t=UV.Provider,YV=N.createContext(void 0);YV.Provider;function J1t(){return N.useContext(UV)}function twt(){return N.useContext(YV)}function jy(n){var{valueAccessor:t=Z1t}=n,e=HB(n,X1t),{dataKey:i,clockWise:r,id:a,textBreakAll:s,zIndex:o}=e,l=HB(e,q1t),c=J1t(),h=twt(),d=c||h;return!d||!d.length?null:N.createElement(jg,{zIndex:o??nc.label},N.createElement(Cg,{className:"recharts-label-list"},d.map((g,y)=>{var x,w=Vo(i)?t(g,y):ic(g&&g.payload,i),k=Vo(a)?{}:{id:"".concat(a,"-").concat(y)};return N.createElement(ky,D2({key:"label-".concat(y)},ch(g),l,k,{fill:(x=e.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:s,viewBox:g.viewBox,index:y,zIndex:0}))})))}jy.displayName="LabelList";function ewt(n){var{label:t}=n;return t?t===!0?N.createElement(jy,{key:"labelList-implicit"}):N.isValidElement(t)||VL(t)?N.createElement(jy,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(jy,D2({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var nwt={radiusAxis:{},angleAxis:{}},$V=Pu({name:"polarAxis",initialState:nwt,reducers:{addRadiusAxis(n,t){n.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(n,t){delete n.radiusAxis[t.payload.id]},addAngleAxis(n,t){n.angleAxis[t.payload.id]=t.payload},removeAngleAxis(n,t){delete n.angleAxis[t.payload.id]}}}),{addRadiusAxis:Rzt,removeRadiusAxis:Izt,addAngleAxis:zzt,removeAngleAxis:Fzt}=$V.actions,iwt=$V.reducer,YN={exports:{}},Yr={};var GB;function rwt(){if(GB)return Yr;GB=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function w(k){if(typeof k=="object"&&k!==null){var A=k.$$typeof;switch(A){case n:switch(k=k.type,k){case e:case r:case i:case c:case h:return k;default:switch(k=k&&k.$$typeof,k){case o:case s:case l:case g:case d:case a:return k;default:return A}}case t:return A}}}return Yr.ContextConsumer=s,Yr.ContextProvider=a,Yr.Element=n,Yr.ForwardRef=l,Yr.Fragment=e,Yr.Lazy=g,Yr.Memo=d,Yr.Portal=t,Yr.Profiler=r,Yr.StrictMode=i,Yr.Suspense=c,Yr.SuspenseList=h,Yr.isAsyncMode=function(){return!1},Yr.isConcurrentMode=function(){return!1},Yr.isContextConsumer=function(k){return w(k)===s},Yr.isContextProvider=function(k){return w(k)===a},Yr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===n},Yr.isForwardRef=function(k){return w(k)===l},Yr.isFragment=function(k){return w(k)===e},Yr.isLazy=function(k){return w(k)===g},Yr.isMemo=function(k){return w(k)===d},Yr.isPortal=function(k){return w(k)===t},Yr.isProfiler=function(k){return w(k)===r},Yr.isStrictMode=function(k){return w(k)===i},Yr.isSuspense=function(k){return w(k)===c},Yr.isSuspenseList=function(k){return w(k)===h},Yr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===e||k===r||k===i||k===c||k===h||k===y||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===d||k.$$typeof===a||k.$$typeof===s||k.$$typeof===l||k.$$typeof===x||k.getModuleId!==void 0)},Yr.typeOf=w,Yr}var WB;function awt(){return WB||(WB=1,YN.exports=rwt()),YN.exports}var swt=awt(),UB=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",YB=null,$N=null,VV=n=>{if(n===YB&&Array.isArray($N))return $N;var t=[];return N.Children.forEach(n,e=>{Vo(e)||(swt.isFragment(e)?t=t.concat(VV(e.props.children)):t.push(e))}),$N=t,YB=n,t};function owt(n,t){var e=[],i=[];return Array.isArray(t)?i=t.map(r=>UB(r)):i=[UB(t)],VV(n).forEach(r=>{var a=Ib(r,"type.displayName")||Ib(r,"type.name");a&&i.indexOf(a)!==-1&&e.push(r)}),e}var VN={},$B;function lwt(){return $B||($B=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${r}]`}let i=e;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(e)===i}n.isPlainObject=t})(VN)),VN}var XN,VB;function cwt(){return VB||(VB=1,XN=lwt().isPlainObject),XN}var uwt=cwt();const hwt=Al(uwt);function XB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function qB(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(e),!0).forEach(function(i){dwt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function dwt(n,t,e){return(t=fwt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function fwt(n){var t=gwt(n,"string");return typeof t=="symbol"?t:t+""}function gwt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function O2(){return O2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},O2.apply(null,arguments)}var KB=(n,t,e,i,r)=>{var a=e-i,s;return s="M ".concat(n,",").concat(t),s+="L ".concat(n+e,",").concat(t),s+="L ".concat(n+e-a/2,",").concat(t+r),s+="L ".concat(n+e-a/2-i,",").concat(t+r),s+="L ".concat(n,",").concat(t," Z"),s},pwt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mwt=n=>{var t=Nu(n,pwt),{x:e,y:i,upperWidth:r,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:h,isUpdateAnimationActive:d}=t,g=N.useRef(null),[y,x]=N.useState(-1),w=N.useRef(r),k=N.useRef(a),A=N.useRef(s),T=N.useRef(e),R=N.useRef(i),G=$O(n,"trapezoid-");if(N.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var lt=g.current.getTotalLength();lt&&x(lt)}catch{}},[]),e!==+e||i!==+i||r!==+r||a!==+a||s!==+s||r===0&&a===0||s===0)return null;var z=Vr("recharts-trapezoid",o);if(!d)return N.createElement("g",null,N.createElement("path",O2({},ch(t),{className:z,d:KB(e,i,r,a,s)})));var F=w.current,H=k.current,Y=A.current,J=T.current,nt=R.current,V="0px ".concat(y===-1?1:y,"px"),Z="".concat(y,"px 0px"),rt=lY(["strokeDasharray"],c,l);return N.createElement(YO,{animationId:G,key:G,canBegin:y>0,duration:c,easing:l,isActive:d,begin:h},lt=>{var mt=xl(F,r,lt),ct=xl(H,a,lt),st=xl(Y,s,lt),xt=xl(J,e,lt),dt=xl(nt,i,lt);g.current&&(w.current=mt,k.current=ct,A.current=st,T.current=xt,R.current=dt);var ht=lt>0?{transition:rt,strokeDasharray:Z}:{strokeDasharray:V};return N.createElement("path",O2({},ch(t),{className:z,d:KB(xt,dt,mt,ct,st),ref:g,style:qB(qB({},ht),t.style)}))})},ywt=["option","shapeType","propTransformer","activeClassName"];function vwt(n,t){if(n==null)return{};var e,i,r=xwt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function xwt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function ZB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function L2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ZB(Object(e),!0).forEach(function(i){bwt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ZB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function bwt(n,t,e){return(t=wwt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function wwt(n){var t=_wt(n,"string");return typeof t=="symbol"?t:t+""}function _wt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Swt(n,t){return L2(L2({},t),n)}function kwt(n,t){return n==="symbols"}function QB(n){var{shapeType:t,elementProps:e}=n;switch(t){case"rectangle":return N.createElement(dY,e);case"trapezoid":return N.createElement(mwt,e);case"sector":return N.createElement(pY,e);case"symbols":if(kwt(t))return N.createElement(sU,e);break;case"curve":return N.createElement(oY,e);default:return null}}function Cwt(n){return N.isValidElement(n)?n.props:n}function Awt(n){var{option:t,shapeType:e,propTransformer:i=Swt,activeClassName:r="recharts-active-shape"}=n,a=vwt(n,ywt),s;if(N.isValidElement(t))s=N.cloneElement(t,L2(L2({},a),Cwt(t)));else if(typeof t=="function")s=t(a);else if(hwt(t)&&typeof t!="boolean"){var o=i(t,a);s=N.createElement(QB,{shapeType:e,elementProps:o})}else{var l=a;s=N.createElement(QB,{shapeType:e,elementProps:l})}return a.isActive?N.createElement(Cg,{className:r},s):s}var XV=(n,t)=>{var e=vs();return(i,r)=>a=>{n?.(i,r,a),e(lV({activeIndex:String(r),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},qV=n=>{var t=vs();return(e,i)=>r=>{n?.(e,i,r),t(Zxt())}},KV=(n,t)=>{var e=vs();return(i,r)=>a=>{n?.(i,r,a),e(Qxt({activeIndex:String(r),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function Twt(n){var{tooltipEntrySettings:t}=n,e=vs(),i=Fc(),r=N.useRef(null);return N.useLayoutEffect(()=>{i||(r.current===null?e(Vxt(t)):r.current!==t&&e(Xxt({prev:r.current,next:t})),r.current=t)},[t,e,i]),N.useLayoutEffect(()=>()=>{r.current&&(e(qxt(r.current)),r.current=null)},[e]),null}function Mwt(n){var{legendPayload:t}=n,e=vs(),i=Fc(),r=N.useRef(null);return N.useLayoutEffect(()=>{i||(r.current===null?e(Mgt(t)):r.current!==t&&e(Ngt({prev:r.current,next:t})),r.current=t)},[e,i,t]),N.useLayoutEffect(()=>()=>{r.current&&(e(Pgt(r.current)),r.current=null)},[e]),null}var qN,Nwt=()=>{var[n]=N.useState(()=>s_("uid-"));return n},Pwt=(qN=nZ.useId)!==null&&qN!==void 0?qN:Nwt;function ZV(n,t){var e=Pwt();return t||(n?"".concat(n,"-").concat(e):e)}var Ewt=N.createContext(void 0),jwt=n=>{var{id:t,type:e,children:i}=n,r=ZV("recharts-".concat(e),t);return N.createElement(Ewt.Provider,{value:r},i(r))},Dwt={cartesianItems:[],polarItems:[]},QV=Pu({name:"graphicalItems",initialState:Dwt,reducers:{addCartesianGraphicalItem:{reducer(n,t){n.cartesianItems.push(t.payload)},prepare:Ya()},replaceCartesianGraphicalItem:{reducer(n,t){var{prev:e,next:i}=t.payload,r=lf(n).cartesianItems.indexOf(e);r>-1&&(n.cartesianItems[r]=i)},prepare:Ya()},removeCartesianGraphicalItem:{reducer(n,t){var e=lf(n).cartesianItems.indexOf(t.payload);e>-1&&n.cartesianItems.splice(e,1)},prepare:Ya()},addPolarGraphicalItem:{reducer(n,t){n.polarItems.push(t.payload)},prepare:Ya()},removePolarGraphicalItem:{reducer(n,t){var e=lf(n).polarItems.indexOf(t.payload);e>-1&&n.polarItems.splice(e,1)},prepare:Ya()}}}),{addCartesianGraphicalItem:Owt,replaceCartesianGraphicalItem:Lwt,removeCartesianGraphicalItem:Rwt,addPolarGraphicalItem:Bzt,removePolarGraphicalItem:Hzt}=QV.actions,Iwt=QV.reducer,zwt=n=>{var t=vs(),e=N.useRef(null);return N.useLayoutEffect(()=>{e.current===null?t(Owt(n)):e.current!==n&&t(Lwt({prev:e.current,next:n})),e.current=n},[t,n]),N.useLayoutEffect(()=>()=>{e.current&&(t(Rwt(e.current)),e.current=null)},[t]),null},Fwt=N.memo(zwt);function JB(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function tH(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?JB(Object(e),!0).forEach(function(i){Bwt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):JB(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Bwt(n,t,e){return(t=Hwt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Hwt(n){var t=Gwt(n,"string");return typeof t=="symbol"?t:t+""}function Gwt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Wwt={xAxis:{},yAxis:{},zAxis:{}},JV=Pu({name:"cartesianAxis",initialState:Wwt,reducers:{addXAxis:{reducer(n,t){n.xAxis[t.payload.id]=t.payload},prepare:Ya()},replaceXAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.xAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.xAxis[e.id],n.xAxis[i.id]=i)},prepare:Ya()},removeXAxis:{reducer(n,t){delete n.xAxis[t.payload.id]},prepare:Ya()},addYAxis:{reducer(n,t){n.yAxis[t.payload.id]=t.payload},prepare:Ya()},replaceYAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.yAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.yAxis[e.id],n.yAxis[i.id]=i)},prepare:Ya()},removeYAxis:{reducer(n,t){delete n.yAxis[t.payload.id]},prepare:Ya()},addZAxis:{reducer(n,t){n.zAxis[t.payload.id]=t.payload},prepare:Ya()},replaceZAxis:{reducer(n,t){var{prev:e,next:i}=t.payload;n.zAxis[e.id]!==void 0&&(e.id!==i.id&&delete n.zAxis[e.id],n.zAxis[i.id]=i)},prepare:Ya()},removeZAxis:{reducer(n,t){delete n.zAxis[t.payload.id]},prepare:Ya()},updateYAxisWidth(n,t){var{id:e,width:i}=t.payload,r=n.yAxis[e];if(r){var a=r.widthHistory||[];if(a.length===3&&a[0]===a[2]&&i===a[1]&&i!==r.width&&Math.abs(i-a[0])<=1)return;var s=[...a,i].slice(-3);n.yAxis[e]=tH(tH({},n.yAxis[e]),{},{width:i,widthHistory:s})}}}}),{addXAxis:Uwt,replaceXAxis:Ywt,removeXAxis:$wt,addYAxis:Vwt,replaceYAxis:Xwt,removeYAxis:qwt,addZAxis:Gzt,replaceZAxis:Wzt,removeZAxis:Uzt,updateYAxisWidth:Kwt}=JV.actions,Zwt=JV.reducer,Qwt=ge([Ko],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),Jwt=ge([Qwt,nm,im],(n,t,e)=>{if(!(!n||t==null||e==null))return{x:n.left,y:n.top,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}}),tX=()=>yn(Jwt),t_t="Invariant failed";function e_t(n,t){throw new Error(t_t)}var n_t=["x","y"];function pj(){return pj=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pj.apply(null,arguments)}function eH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function gw(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eH(Object(e),!0).forEach(function(i){i_t(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):eH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function i_t(n,t,e){return(t=r_t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function r_t(n){var t=a_t(n,"string");return typeof t=="symbol"?t:t+""}function a_t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function s_t(n,t){if(n==null)return{};var e,i,r=o_t(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function o_t(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function l_t(n,t){var{x:e,y:i}=n,r=s_t(n,n_t),a="".concat(e),s=parseInt(a,10),o="".concat(i),l=parseInt(o,10),c="".concat(t.height||r.height),h=parseInt(c,10),d="".concat(t.width||r.width),g=parseInt(d,10);return gw(gw(gw(gw(gw({},t),r),s?{x:s}:{}),l?{y:l}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function R2(n){return N.createElement(Awt,pj({shapeType:"rectangle",propTransformer:l_t,activeClassName:"recharts-active-bar"},n))}var c_t=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(bn(t))return t;var a=bn(i)||Vo(i);return a?t(i,r):(a||e_t(),e)}},u_t={},eX=Pu({name:"errorBars",initialState:u_t,reducers:{addErrorBar:(n,t)=>{var{itemId:e,errorBar:i}=t.payload;n[e]||(n[e]=[]),n[e].push(i)},replaceErrorBar:(n,t)=>{var{itemId:e,prev:i,next:r}=t.payload;n[e]&&(n[e]=n[e].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(n,t)=>{var{itemId:e,errorBar:i}=t.payload;n[e]&&(n[e]=n[e].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:Yzt,replaceErrorBar:$zt,removeErrorBar:Vzt}=eX.actions,h_t=eX.reducer,d_t=["children"];function f_t(n,t){if(n==null)return{};var e,i,r=g_t(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function g_t(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var p_t={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},m_t=N.createContext(p_t);function y_t(n){var{children:t}=n,e=f_t(n,d_t);return N.createElement(m_t.Provider,{value:e},t)}function nX(n,t){var e,i,r=yn(c=>Pg(c,n)),a=yn(c=>Eg(c,t)),s=(e=r?.allowDataOverflow)!==null&&e!==void 0?e:Go.allowDataOverflow,o=(i=a?.allowDataOverflow)!==null&&i!==void 0?i:Wo.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function v_t(n){var{xAxisId:t,yAxisId:e,clipPathId:i}=n,r=tX(),{needClipX:a,needClipY:s,needClip:o}=nX(t,e);if(!o||!r)return null;var{x:l,y:c,width:h,height:d}=r;return N.createElement("clipPath",{id:"clipPath-".concat(i)},N.createElement("rect",{x:a?l:l-h/2,y:s?c:c-d/2,width:a?h:h*2,height:s?d:d*2}))}function x_t(n,t){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&za(n.zIndex)?n.zIndex:t}var KN={exports:{}},ZN={};var nH;function b_t(){if(nH)return ZN;nH=1;var n=$x();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,s=n.useMemo,o=n.useDebugValue;return ZN.useSyncExternalStoreWithSelector=function(l,c,h,d,g){var y=r(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=s(function(){function k(z){if(!A){if(A=!0,T=z,z=d(z),g!==void 0&&x.hasValue){var F=x.value;if(g(F,z))return R=F}return R=z}if(F=R,e(T,z))return F;var H=d(z);return g!==void 0&&g(F,H)?(T=z,F):(T=z,R=H)}var A=!1,T,R,G=h===void 0?null:h;return[function(){return k(c())},G===null?void 0:function(){return k(G())}]},[c,h,d,g]);var w=i(l,y[0],y[1]);return a(function(){x.hasValue=!0,x.value=w},[w]),o(w),w},ZN}var iH;function w_t(){return iH||(iH=1,KN.exports=b_t()),KN.exports}w_t();function __t(n){n()}function S_t(){let n=null,t=null;return{clear(){n=null,t=null},notify(){__t(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var rH={notify(){},get:()=>[]};function k_t(n,t){let e,i=rH,r=0,a=!1;function s(w){h();const k=i.subscribe(w);let A=!1;return()=>{A||(A=!0,k(),d())}}function o(){i.notify()}function l(){x.onStateChange&&x.onStateChange()}function c(){return a}function h(){r++,e||(e=n.subscribe(l),i=S_t())}function d(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=rH)}function g(){a||(a=!0,h())}function y(){a&&(a=!1,d())}const x={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>i};return x}var C_t=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A_t=C_t(),T_t=()=>typeof navigator<"u"&&navigator.product==="ReactNative",M_t=T_t(),N_t=()=>A_t||M_t?N.useLayoutEffect:N.useEffect,P_t=N_t();function aH(n,t){return n===t?n!==0||t!==0||1/n===1/t:n!==n&&t!==t}function E_t(n,t){if(aH(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(t,e[r])||!aH(n[e[r]],t[e[r]]))return!1;return!0}var j_t=Symbol.for("react-redux-context"),D_t=typeof globalThis<"u"?globalThis:{};function O_t(){if(!N.createContext)return{};const n=D_t[j_t]??=new Map;let t=n.get(N.createContext);return t||(t=N.createContext(null),n.set(N.createContext,t)),t}var L_t=O_t();function R_t(n){const{children:t,context:e,serverState:i,store:r}=n,a=N.useMemo(()=>{const l=k_t(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),s=N.useMemo(()=>r.getState(),[r]);P_t(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=e||L_t;return N.createElement(o.Provider,{value:a},t)}var I_t=R_t,z_t=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function F_t(n,t){return n==null&&t==null?!0:typeof n=="number"&&typeof t=="number"?n===t||n!==n&&t!==t:n===t}function XL(n,t){var e=new Set([...Object.keys(n),...Object.keys(t)]);for(var i of e)if(z_t.has(i)){if(n[i]==null&&t[i]==null)continue;if(!E_t(n[i],t[i]))return!1}else if(!F_t(n[i],t[i]))return!1;return!0}var B_t=["onMouseEnter","onMouseLeave","onClick"],H_t=["value","background","tooltipPosition"],G_t=["id"],W_t=["onMouseEnter","onClick","onMouseLeave"];function tm(){return tm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},tm.apply(null,arguments)}function sH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Lc(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?sH(Object(e),!0).forEach(function(i){U_t(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):sH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function U_t(n,t,e){return(t=Y_t(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Y_t(n){var t=$_t(n,"string");return typeof t=="symbol"?t:t+""}function $_t(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function I2(n,t){if(n==null)return{};var e,i,r=V_t(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function V_t(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var X_t=n=>{var{dataKey:t,name:e,fill:i,legendType:r,hide:a}=n;return[{inactive:a,dataKey:t,type:r,color:i,value:KU(e,t),payload:n}]},q_t=N.memo(n=>{var{dataKey:t,stroke:e,strokeWidth:i,fill:r,name:a,hide:s,unit:o,tooltipType:l}=n,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:e,strokeWidth:i,fill:r,dataKey:t,nameKey:void 0,name:KU(a,t),hide:s,type:l,color:r,unit:o}};return N.createElement(Twt,{tooltipEntrySettings:c})});function K_t(n){var t=yn(Wb),{data:e,dataKey:i,background:r,allOtherBarProps:a}=n,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=I2(a,B_t),h=XV(s,i),d=qV(o),g=KV(l,i);if(!r||e==null)return null;var y=MO(r);return N.createElement(jg,{zIndex:x_t(r,nc.barBackground)},e.map((x,w)=>{var{value:k,background:A,tooltipPosition:T}=x,R=I2(x,H_t);if(!A)return null;var G=h(x,w),z=d(x,w),F=g(x,w),H=Lc(Lc(Lc(Lc(Lc({option:r,isActive:String(w)===t},R),{},{fill:"#eee"},A),y),LO(c,x,w)),{},{onMouseEnter:G,onMouseLeave:z,onClick:F,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return N.createElement(R2,tm({key:"background-bar-".concat(w)},H))}))}function Z_t(n){var{showLabels:t,children:e,rects:i}=n,r=i?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Lc(Lc({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return N.createElement(Q1t,{value:t?r:void 0},e)}function Q_t(n){var{shape:t,activeBar:e,baseProps:i,entry:r,index:a,dataKey:s}=n,o=yn(Wb),l=yn(_V),c=e&&String(a)===o&&(l==null||s===l),h=c?e:t;return c?N.createElement(jg,{zIndex:nc.activeBar},N.createElement(R2,tm({},i,{name:String(i.name)},r,{isActive:c,option:h,index:a,dataKey:s}))):N.createElement(R2,tm({},i,{name:String(i.name)},r,{isActive:c,option:h,index:a,dataKey:s}))}function J_t(n){var{shape:t,baseProps:e,entry:i,index:r,dataKey:a}=n;return N.createElement(R2,tm({},e,{name:String(e.name)},i,{isActive:!1,option:t,index:r,dataKey:a}))}function tSt(n){var t,{data:e,props:i}=n,r=(t=Vp(i))!==null&&t!==void 0?t:{},{id:a}=r,s=I2(r,G_t),{shape:o,dataKey:l,activeBar:c}=i,{onMouseEnter:h,onClick:d,onMouseLeave:g}=i,y=I2(i,W_t),x=XV(h,l),w=qV(g),k=KV(d,l);return e?N.createElement(N.Fragment,null,e.map((A,T)=>N.createElement(Cg,tm({key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(T),className:"recharts-bar-rectangle"},LO(y,A,T),{onMouseEnter:x(A,T),onMouseLeave:w(A,T),onClick:k(A,T)}),c?N.createElement(Q_t,{shape:o,activeBar:c,baseProps:s,entry:A,index:T,dataKey:l}):N.createElement(J_t,{shape:o,baseProps:s,entry:A,index:T,dataKey:l})))):null}function eSt(n){var{props:t,previousRectanglesRef:e}=n,{data:i,layout:r,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:h}=t,d=e.current,g=$O(t,"recharts-bar-"),[y,x]=N.useState(!1),w=!y,k=N.useCallback(()=>{typeof c=="function"&&c(),x(!1)},[c]),A=N.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]);return N.createElement(Z_t,{showLabels:w,rects:i},N.createElement(YO,{animationId:g,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:k,onAnimationStart:A,key:g},T=>{var R=T===1?i:i?.map((G,z)=>{var F=d&&d[z];if(F)return Lc(Lc({},G),{},{x:xl(F.x,G.x,T),y:xl(F.y,G.y,T),width:xl(F.width,G.width,T),height:xl(F.height,G.height,T)});if(r==="horizontal"){var H=xl(0,G.height,T),Y=xl(G.stackedBarStart,G.y,T);return Lc(Lc({},G),{},{y:Y,height:H})}var J=xl(0,G.width,T),nt=xl(G.stackedBarStart,G.x,T);return Lc(Lc({},G),{},{width:J,x:nt})});return T>0&&(e.current=R??null),R==null?null:N.createElement(Cg,null,N.createElement(tSt,{props:t,data:R}))}),N.createElement(ewt,{label:t.label}),t.children)}function nSt(n){var t=N.useRef(null);return N.createElement(eSt,{previousRectanglesRef:t,props:n})}var iX=0,iSt=(n,t)=>{var e=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:e,errorVal:ic(n,t)}};class rSt extends N.PureComponent{render(){var{hide:t,data:e,dataKey:i,className:r,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(t||e==null)return null;var h=Vr("recharts-bar",r),d=c;return N.createElement(Cg,{className:h,id:c},o&&N.createElement("defs",null,N.createElement(v_t,{clipPathId:d,xAxisId:a,yAxisId:s})),N.createElement(Cg,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},N.createElement(K_t,{data:e,dataKey:i,background:l,allOtherBarProps:this.props}),N.createElement(nSt,this.props)))}}var aSt={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:iX,xAxisId:0,yAxisId:0,zIndex:nc.bar};function sSt(n){var{xAxisId:t,yAxisId:e,hide:i,legendType:r,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:h}=n,{needClip:d}=nX(t,e),g=WA(),y=Fc(),x=owt(n.children,y_),w=yn(T=>OSt(T,t,e,y,n.id,x));if(g!=="vertical"&&g!=="horizontal")return null;var k,A=w?.[0];return A==null||A.height==null||A.width==null?k=0:k=g==="vertical"?A.height/2:A.width/2,N.createElement(y_t,{xAxisId:t,yAxisId:e,data:w,dataPointFormatter:iSt,errorBarOffset:k},N.createElement(rSt,tm({},n,{layout:g,needClip:d,data:w,xAxisId:t,yAxisId:e,hide:i,legendType:r,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:h})))}function oSt(n){var{layout:t,barSettings:{dataKey:e,minPointSize:i},pos:r,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:h,displayedData:d,offset:g,cells:y,parentViewBox:x,dataStartIndex:w}=n,k=t==="horizontal"?o:s,A=h?k.scale.domain():null,T=Wft({numericAxis:k}),R=k.scale(T);return d.map((G,z)=>{var F,H,Y,J,nt,V;h?F=Ift(h[z+w],A):(F=ic(G,e),Array.isArray(F)||(F=[T,F]));var Z=c_t(i,iX)(F[1],z);if(t==="horizontal"){var rt,[lt,mt]=[o.scale(F[0]),o.scale(F[1])];H=IF({axis:s,ticks:l,bandSize:a,offset:r.offset,entry:G,index:z}),Y=(rt=mt??lt)!==null&&rt!==void 0?rt:void 0,J=r.size;var ct=lt-mt;if(nt=uh(ct)?0:ct,V={x:H,y:g.top,width:J,height:g.height},Math.abs(Z)>0&&Math.abs(nt)<Math.abs(Z)){var st=wu(nt||Z)*(Math.abs(Z)-Math.abs(nt));Y-=st,nt+=st}}else{var[xt,dt]=[s.scale(F[0]),s.scale(F[1])];if(H=xt,Y=IF({axis:o,ticks:c,bandSize:a,offset:r.offset,entry:G,index:z}),J=dt-xt,nt=r.size,V={x:g.left,y:Y,width:g.width,height:nt},Math.abs(Z)>0&&Math.abs(J)<Math.abs(Z)){var ht=wu(J||Z)*(Math.abs(Z)-Math.abs(J));J+=ht}}if(H==null||Y==null||J==null||nt==null)return null;var ot=Lc(Lc({},G),{},{stackedBarStart:R,x:H,y:Y,width:J,height:nt,value:h?F:F[1],payload:G,background:V,tooltipPosition:{x:H+J/2,y:Y+nt/2},parentViewBox:x},y&&y[z]&&y[z].props);return ot}).filter(Boolean)}function lSt(n){var t=Nu(n,aSt),e=Fc();return N.createElement(jwt,{id:t.id,type:"bar"},i=>N.createElement(N.Fragment,null,N.createElement(Mwt,{legendPayload:X_t(t)}),N.createElement(q_t,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),N.createElement(Fwt,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Gft(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:e}),N.createElement(jg,{zIndex:t.zIndex},N.createElement(sSt,tm({},t,{id:i})))))}var Dy=N.memo(lSt,XL);Dy.displayName="Bar";function oH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Lk(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oH(Object(e),!0).forEach(function(i){cSt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):oH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function cSt(n,t,e){return(t=uSt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function uSt(n){var t=hSt(n,"string");return typeof t=="symbol"?t:t+""}function hSt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var dSt=(n,t)=>t,fSt=(n,t,e)=>e,gSt=(n,t,e,i)=>i,pSt=(n,t,e,i,r)=>r,mS=ge([TL,pSt],(n,t)=>n.filter(e=>e.type==="bar").find(e=>e.id===t)),mSt=ge([mS],n=>n?.maxBarSize),ySt=(n,t,e,i,r,a)=>a,lH=(n,t,e)=>{var i=e??n;if(!Vo(i))return df(i,t,0)},vSt=ge([oa,TL,dSt,fSt,gSt],(n,t,e,i,r)=>t.filter(a=>n==="horizontal"?a.xAxisId===e:a.yAxisId===i).filter(a=>a.isPanorama===r).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),xSt=(n,t,e,i)=>{var r=oa(n);return r==="horizontal"?lj(n,"yAxis",e,i):lj(n,"xAxis",t,i)},bSt=(n,t,e)=>{var i=oa(n);return i==="horizontal"?lB(n,"xAxis",t):lB(n,"yAxis",e)},wSt=(n,t,e)=>{var i={},r=n.filter(eT),a=n.filter(c=>c.stackId==null),s=r.reduce((c,h)=>(c[h.stackId]||(c[h.stackId]=[]),c[h.stackId].push(h),c),i),o=Object.entries(s).map(c=>{var[h,d]=c,g=d.map(x=>x.dataKey),y=lH(t,e,d[0].barSize);return{stackId:h,dataKeys:g,barSize:y}}),l=a.map(c=>{var h=[c.dataKey].filter(g=>g!=null),d=lH(t,e,c.barSize);return{stackId:void 0,dataKeys:h,barSize:d}});return[...o,...l]},_St=ge([vSt,Bvt,bSt],wSt),SSt=(n,t,e,i,r)=>{var a,s,o=mS(n,t,e,i,r);if(o!=null){var l=oa(n),c=h$(n),{maxBarSize:h}=o,d=Vo(h)?c:h,g,y;return l==="horizontal"?(g=Gb(n,"xAxis",t,i),y=Hb(n,"xAxis",t,i)):(g=Gb(n,"yAxis",e,i),y=Hb(n,"yAxis",e,i)),(a=(s=h2(g,y,!0))!==null&&s!==void 0?s:d)!==null&&a!==void 0?a:0}},rX=(n,t,e,i)=>{var r=oa(n),a,s;return r==="horizontal"?(a=Gb(n,"xAxis",t,i),s=Hb(n,"xAxis",t,i)):(a=Gb(n,"yAxis",e,i),s=Hb(n,"yAxis",e,i)),h2(a,s)};function kSt(n,t,e,i,r){var a=i.length;if(!(a<1)){var s=df(n,e,0,!0),o,l=[];if(za(i[0].barSize)){var c=!1,h=e/a,d=i.reduce((A,T)=>A+(T.barSize||0),0);d+=(a-1)*s,d>=e&&(d-=(a-1)*s,s=0),d>=e&&h>0&&(c=!0,h*=.9,d=a*h);var g=(e-d)/2>>0,y={offset:g-s,size:0};o=i.reduce((A,T)=>{var R,G={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:y.offset+y.size+s,size:c?h:(R=T.barSize)!==null&&R!==void 0?R:0}},z=[...A,G];return y=z[z.length-1].position,z},l)}else{var x=df(t,e,0,!0);e-2*x-(a-1)*s<=0&&(s=0);var w=(e-2*x-(a-1)*s)/a;w>1&&(w>>=0);var k=za(r)?Math.min(w,r):w;o=i.reduce((A,T,R)=>[...A,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:x+(w+s)*R+(w-k)/2,size:k}}],l)}return o}}var CSt=(n,t,e,i,r,a,s)=>{var o=Vo(s)?t:s,l=kSt(e,i,r!==a?r:a,n,o);return r!==a&&l!=null&&(l=l.map(c=>Lk(Lk({},c),{},{position:Lk(Lk({},c.position),{},{offset:c.position.offset-r/2})}))),l},ASt=ge([_St,h$,Fvt,d$,SSt,rX,mSt],CSt),TSt=(n,t,e,i)=>Gb(n,"xAxis",t,i),MSt=(n,t,e,i)=>Gb(n,"yAxis",e,i),NSt=(n,t,e,i)=>Hb(n,"xAxis",t,i),PSt=(n,t,e,i)=>Hb(n,"yAxis",e,i),ESt=ge([ASt,mS],(n,t)=>{if(!(n==null||t==null)){var e=n.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(e!=null)return e.position}}),jSt=(n,t)=>{var e=CL(t);if(!(!n||e==null||t==null)){var{stackId:i}=t;if(i!=null){var r=n[i];if(r){var{stackedData:a}=r;if(a)return a.find(s=>s.key===e)}}}},DSt=ge([xSt,mS],jSt),OSt=ge([Ko,WO,TSt,MSt,NSt,PSt,ESt,oa,mL,rX,DSt,mS,ySt],(n,t,e,i,r,a,s,o,l,c,h,d,g)=>{var{chartData:y,dataStartIndex:x,dataEndIndex:w}=l;if(!(d==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||e==null||i==null||r==null||a==null||c==null)){var{data:k}=d,A;if(k!=null&&k.length>0?A=k:A=y?.slice(x,w+1),A!=null)return oSt({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:c,xAxis:e,yAxis:i,xAxisTicks:r,yAxisTicks:a,stackedData:h,displayedData:A,offset:n,cells:g,dataStartIndex:x})}}),LSt=n=>{var{chartData:t}=n,e=vs(),i=Fc();return N.useEffect(()=>i?()=>{}:(e(wB(t)),()=>{e(wB(void 0))}),[t,e,i]),null},cH={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aX=Pu({name:"brush",initialState:cH,reducers:{setBrushSettings(n,t){return t.payload==null?cH:t.payload}}}),{setBrushSettings:Xzt}=aX.actions,RSt=aX.reducer;function uH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Rk(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?uH(Object(e),!0).forEach(function(i){sX(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):uH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function sX(n,t,e){return(t=ISt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ISt(n){var t=zSt(n,"string");return typeof t=="symbol"?t:t+""}function zSt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var FSt=(n,t)=>{var{x:e,y:i}=n,{x:r,y:a}=t;return{x:Math.min(e,r),y:Math.min(i,a),width:Math.abs(r-e),height:Math.abs(a-i)}},BSt=n=>{var{x1:t,y1:e,x2:i,y2:r}=n;return FSt({x:t,y:e},{x:i,y:r})};class lT{static create(t){return new lT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:e,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+r}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(e){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var e=this.range(),i=e[0],r=e[e.length-1];return i<=r?t>=i&&t<=r:t>=r&&t<=i}}sX(lT,"EPS",1e-4);var HSt=n=>{var t=Object.keys(n).reduce((e,i)=>Rk(Rk({},e),{},{[i]:lT.create(n[i])}),{});return Rk(Rk({},t),{},{apply(e){var{bandAware:i,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(e).map(a=>{var[s,o]=a;return[s,t[s].apply(o,{bandAware:i,position:r})]}))},isInRange(e){return Object.keys(e).every(i=>t[i].isInRange(e[i]))}})};function GSt(n){return(n%180+180)%180}var WSt=function(t){var{width:e,height:i}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=GSt(r),s=a*Math.PI/180,o=Math.atan(i/e),l=s>o&&s<Math.PI-o?i/Math.sin(s):e/Math.cos(s);return Math.abs(l)},USt={dots:[],areas:[],lines:[]},oX=Pu({name:"referenceElements",initialState:USt,reducers:{addDot:(n,t)=>{n.dots.push(t.payload)},removeDot:(n,t)=>{var e=lf(n).dots.findIndex(i=>i===t.payload);e!==-1&&n.dots.splice(e,1)},addArea:(n,t)=>{n.areas.push(t.payload)},removeArea:(n,t)=>{var e=lf(n).areas.findIndex(i=>i===t.payload);e!==-1&&n.areas.splice(e,1)},addLine:(n,t)=>{n.lines.push(t.payload)},removeLine:(n,t)=>{var e=lf(n).lines.findIndex(i=>i===t.payload);e!==-1&&n.lines.splice(e,1)}}}),{addDot:qzt,removeDot:Kzt,addArea:Zzt,removeArea:Qzt,addLine:YSt,removeLine:$St}=oX.actions,VSt=oX.reducer,lX=N.createContext(void 0),XSt=n=>{var{children:t}=n,[e]=N.useState("".concat(s_("recharts"),"-clip")),i=tX();if(i==null)return null;var{x:r,y:a,width:s,height:o}=i;return N.createElement(lX.Provider,{value:e},N.createElement("defs",null,N.createElement("clipPath",{id:e},N.createElement("rect",{x:r,y:a,height:o,width:s}))),t)},qSt=()=>N.useContext(lX);function hH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function dH(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?hH(Object(e),!0).forEach(function(i){KSt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function KSt(n,t,e){return(t=ZSt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ZSt(n){var t=QSt(n,"string");return typeof t=="symbol"?t:t+""}function QSt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function z2(){return z2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},z2.apply(null,arguments)}var JSt=(n,t)=>{var e;if(N.isValidElement(n))e=N.cloneElement(n,t);else if(typeof n=="function")e=n(t);else{if(!za(t.x1)||!za(t.y1)||!za(t.x2)||!za(t.y2))return null;e=N.createElement("line",z2({},t,{className:"recharts-reference-line-line"}))}return e},tkt=(n,t,e,i,r,a)=>{var{x:s,width:o}=a,l=r.y.apply(n,{position:e});if(uh(l)||t==="discard"&&!r.y.isInRange(l))return null;var c=[{x:s+o,y:l},{x:s,y:l}];return i==="left"?c.reverse():c},ekt=(n,t,e,i,r,a)=>{var{y:s,height:o}=a,l=r.x.apply(n,{position:e});if(uh(l)||t==="discard"&&!r.x.isInRange(l))return null;var c=[{x:l,y:s+o},{x:l,y:s}];return i==="top"?c.reverse():c},nkt=(n,t,e,i)=>{var r=n.map(a=>i.apply(a,{position:e}));return t==="discard"&&r.some(a=>!i.isInRange(a))?null:r},ikt=(n,t,e,i,r,a)=>{var{x:s,y:o,segment:l,ifOverflow:c}=a,h=pd(s),d=pd(o);return d?tkt(o,c,e,r,n,t):h?ekt(s,c,e,i,n,t):l!=null&&l.length===2?nkt(l,c,e,n):null};function rkt(n){var t=vs();return N.useEffect(()=>(t(YSt(n)),()=>{t($St(n))})),null}function akt(n){var{xAxisId:t,yAxisId:e,shape:i,className:r,ifOverflow:a}=n,s=Fc(),o=qSt(),l=yn(F=>Pg(F,t)),c=yn(F=>Eg(F,e)),h=yn(F=>Uy(F,"xAxis",t,s)),d=yn(F=>Uy(F,"yAxis",e,s)),g=iS();if(!o||!g||l==null||c==null||h==null||d==null)return null;var y=HSt({x:h,y:d}),x=ikt(y,g,n.position,l.orientation,c.orientation,n);if(!x)return null;var[{x:w,y:k},{x:A,y:T}]=x,R=a==="hidden"?"url(#".concat(o,")"):void 0,G=dH(dH({clipPath:R},ch(n)),{},{x1:w,y1:k,x2:A,y2:T}),z=BSt({x1:w,y1:k,x2:A,y2:T});return N.createElement(jg,{zIndex:n.zIndex},N.createElement(Cg,{className:Vr("recharts-reference-line",r)},JSt(i,G),N.createElement(HV,z2({},z,{lowerWidth:z.width,upperWidth:z.width}),N.createElement(WV,{label:n.label}),n.children)))}var skt={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:nc.line};function cX(n){var t=Nu(n,skt);return N.createElement(N.Fragment,null,N.createElement(rkt,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),N.createElement(akt,t))}cX.displayName="ReferenceLine";function uX(n,t){if(t<1)return[];if(t===1)return n;for(var e=[],i=0;i<n.length;i+=t)e.push(n[i]);return e}function okt(n,t,e){var i={width:n.width+t.width,height:n.height+t.height};return WSt(i,e)}function lkt(n,t,e){var i=e==="width",{x:r,y:a,width:s,height:o}=n;return t===1?{start:i?r:a,end:i?r+s:a+o}:{start:i?r+s:a+o,end:i?r:a}}function F2(n,t,e,i,r){if(n*t<n*i||n*t>n*r)return!1;var a=e();return n*(t-n*a/2-i)>=0&&n*(t+n*a/2-r)<=0}function ckt(n,t){return uX(n,t+1)}function ukt(n,t,e,i,r){for(var a=(i||[]).slice(),{start:s,end:o}=t,l=0,c=1,h=s,d=function(){var x=i?.[l];if(x===void 0)return{v:uX(i,c)};var w=l,k,A=()=>(k===void 0&&(k=e(x,w)),k),T=x.coordinate,R=l===0||F2(n,T,A,h,o);R||(l=0,h=s,c+=1),R&&(h=T+n*(A()/2+r),l+=c)},g;c<=a.length;)if(g=d(),g)return g.v;return[]}function fH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Zl(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?fH(Object(e),!0).forEach(function(i){hkt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):fH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function hkt(n,t,e){return(t=dkt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dkt(n){var t=fkt(n,"string");return typeof t=="symbol"?t:t+""}function fkt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gkt(n,t,e,i,r){for(var a=(i||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(g){var y=a[g],x,w=()=>(x===void 0&&(x=e(y,g)),x);if(g===s-1){var k=n*(y.coordinate+n*w()/2-l);a[g]=y=Zl(Zl({},y),{},{tickCoord:k>0?y.coordinate-k*n:y.coordinate})}else a[g]=y=Zl(Zl({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var A=F2(n,y.tickCoord,w,o,l);A&&(l=y.tickCoord-n*(w()/2+r),a[g]=Zl(Zl({},y),{},{isShow:!0}))}},h=s-1;h>=0;h--)c(h);return a}function pkt(n,t,e,i,r,a){var s=(i||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var h=i[o-1],d=e(h,o-1),g=n*(h.coordinate+n*d/2-c);if(s[o-1]=h=Zl(Zl({},h),{},{tickCoord:g>0?h.coordinate-g*n:h.coordinate}),h.tickCoord!=null){var y=F2(n,h.tickCoord,()=>d,l,c);y&&(c=h.tickCoord-n*(d/2+r),s[o-1]=Zl(Zl({},h),{},{isShow:!0}))}}for(var x=a?o-1:o,w=function(T){var R=s[T],G,z=()=>(G===void 0&&(G=e(R,T)),G);if(T===0){var F=n*(R.coordinate-n*z()/2-l);s[T]=R=Zl(Zl({},R),{},{tickCoord:F<0?R.coordinate-F*n:R.coordinate})}else s[T]=R=Zl(Zl({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var H=F2(n,R.tickCoord,z,l,c);H&&(l=R.tickCoord+n*(z()/2+r),s[T]=Zl(Zl({},R),{},{isShow:!0}))}},k=0;k<x;k++)w(k);return s}function qL(n,t,e){var{tick:i,ticks:r,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:h,angle:d}=n;if(!r||!r.length||!i)return[];if(bn(l)||o1.isSsr){var g;return(g=ckt(r,bn(l)?l:0))!==null&&g!==void 0?g:[]}var y=[],x=o==="top"||o==="bottom"?"width":"height",w=h&&x==="width"?Gw(h,{fontSize:t,letterSpacing:e}):{width:0,height:0},k=(R,G)=>{var z=typeof c=="function"?c(R.value,G):R.value;return x==="width"?okt(Gw(z,{fontSize:t,letterSpacing:e}),w,d):Gw(z,{fontSize:t,letterSpacing:e})[x]},A=r.length>=2?wu(r[1].coordinate-r[0].coordinate):1,T=lkt(a,A,x);return l==="equidistantPreserveStart"?ukt(A,T,k,r,s):(l==="preserveStart"||l==="preserveStartEnd"?y=pkt(A,T,k,r,s,l==="preserveStartEnd"):y=gkt(A,T,k,r,s),y.filter(R=>R.isShow))}var mkt=n=>{var{ticks:t,label:e,labelGapWithTick:i=5,tickSize:r=0,tickMargin:a=0}=n,s=0;if(t){Array.from(t).forEach(h=>{if(h){var d=h.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=e?e.getBoundingClientRect().width:0,l=r+a,c=s+l+o+(e?i:0);return Math.round(c)}return 0},ykt=["axisLine","width","height","className","hide","ticks","axisType"];function vkt(n,t){if(n==null)return{};var e,i,r=xkt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function xkt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function Rx(){return Rx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Rx.apply(null,arguments)}function gH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Js(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?gH(Object(e),!0).forEach(function(i){bkt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):gH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function bkt(n,t,e){return(t=wkt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function wkt(n){var t=_kt(n,"string");return typeof t=="symbol"?t:t+""}function _kt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Up={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:nc.axis};function Skt(n){var{x:t,y:e,width:i,height:r,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var c=Js(Js(Js({},l),Vp(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);c=Js(Js({},c),{},{x1:t,y1:e+h*r,x2:t+i,y2:e+h*r})}else{var d=+(a==="left"&&!s||a==="right"&&s);c=Js(Js({},c),{},{x1:t+d*i,y1:e,x2:t+d*i,y2:e+r})}return N.createElement("line",Rx({},c,{className:Vr("recharts-cartesian-axis-line",Ib(o,"className"))}))}function kkt(n,t,e,i,r,a,s,o,l){var c,h,d,g,y,x,w=o?-1:1,k=n.tickSize||s,A=bn(n.tickCoord)?n.tickCoord:n.coordinate;switch(a){case"top":c=h=n.coordinate,g=e+ +!o*r,d=g-w*k,x=d-w*l,y=A;break;case"left":d=g=n.coordinate,h=t+ +!o*i,c=h-w*k,y=c-w*l,x=A;break;case"right":d=g=n.coordinate,h=t+ +o*i,c=h+w*k,y=c+w*l,x=A;break;default:c=h=n.coordinate,g=e+ +o*r,d=g+w*k,x=d+w*l,y=A;break}return{line:{x1:c,y1:d,x2:h,y2:g},tick:{x:y,y:x}}}function Ckt(n,t){switch(n){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Akt(n,t){switch(n){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Tkt(n){var{option:t,tickProps:e,value:i}=n,r,a=Vr(e.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))r=N.cloneElement(t,Js(Js({},e),{},{className:a}));else if(typeof t=="function")r=t(Js(Js({},e),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Vr(s,t?.className)),r=N.createElement($L,Rx({},e,{className:s}),i)}return r}var Mkt=N.forwardRef((n,t)=>{var{ticks:e=[],tick:i,tickLine:r,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:h,mirror:d,x:g,y,width:x,height:w,tickSize:k,tickMargin:A,fontSize:T,letterSpacing:R,getTicksConfig:G,events:z,axisType:F}=n,H=qL(Js(Js({},G),{},{ticks:e}),T,R),Y=Ckt(h,d),J=Akt(h,d),nt=Vp(G),V=MO(i),Z={};typeof r=="object"&&(Z=r);var rt=Js(Js({},nt),{},{fill:"none"},Z),lt=H.map(st=>Js({entry:st},kkt(st,g,y,x,w,h,k,d,A))),mt=lt.map(st=>{var{entry:xt,line:dt}=st;return N.createElement(Cg,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(xt.value,"-").concat(xt.coordinate,"-").concat(xt.tickCoord)},r&&N.createElement("line",Rx({},rt,dt,{className:Vr("recharts-cartesian-axis-tick-line",Ib(r,"className"))})))}),ct=lt.map((st,xt)=>{var{entry:dt,tick:ht}=st,ot=Js(Js(Js(Js({textAnchor:Y,verticalAnchor:J},nt),{},{stroke:"none",fill:a},V),ht),{},{index:xt,payload:dt,visibleTicksCount:H.length,tickFormatter:s,padding:l},c);return N.createElement(Cg,Rx({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(dt.value,"-").concat(dt.coordinate,"-").concat(dt.tickCoord)},LO(z,dt,xt)),i&&N.createElement(Tkt,{option:i,tickProps:ot,value:"".concat(typeof s=="function"?s(dt.value,xt):dt.value).concat(o||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},ct.length>0&&N.createElement(jg,{zIndex:nc.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:t},ct)),mt.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},mt))}),Nkt=N.forwardRef((n,t)=>{var{axisLine:e,width:i,height:r,className:a,hide:s,ticks:o,axisType:l}=n,c=vkt(n,ykt),[h,d]=N.useState(""),[g,y]=N.useState(""),x=N.useRef(null);N.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return mkt({ticks:x.current,label:(k=n.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var w=N.useCallback(k=>{if(k){var A=k.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=A;var T=A[0];if(T){var R=window.getComputedStyle(T),G=R.fontSize,z=R.letterSpacing;(G!==h||z!==g)&&(d(G),y(z))}}},[h,g]);return s||i!=null&&i<=0||r!=null&&r<=0?null:N.createElement(jg,{zIndex:n.zIndex},N.createElement(Cg,{className:Vr("recharts-cartesian-axis",a)},N.createElement(Skt,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:e,otherSvgProps:Vp(n)}),N.createElement(Mkt,{ref:w,axisType:l,events:c,fontSize:h,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),N.createElement(HV,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},N.createElement(WV,{label:n.label,labelRef:n.labelRef}),n.children)))}),KL=N.forwardRef((n,t)=>{var e=Nu(n,Up);return N.createElement(Nkt,Rx({},e,{ref:t}))});KL.displayName="CartesianAxis";var Pkt=["x1","y1","x2","y2","key"],Ekt=["offset"],jkt=["xAxisId","yAxisId"],Dkt=["xAxisId","yAxisId"];function pH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Jl(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pH(Object(e),!0).forEach(function(i){Okt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Okt(n,t,e){return(t=Lkt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Lkt(n){var t=Rkt(n,"string");return typeof t=="symbol"?t:t+""}function Rkt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gx(){return gx=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},gx.apply(null,arguments)}function B2(n,t){if(n==null)return{};var e,i,r=Ikt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Ikt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var zkt=n=>{var{fill:t}=n;if(!t||t==="none")return null;var{fillOpacity:e,x:i,y:r,width:a,height:s,ry:o}=n;return N.createElement("rect",{x:i,y:r,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:e,className:"recharts-cartesian-grid-bg"})};function hX(n){var{option:t,lineItemProps:e}=n,i;if(N.isValidElement(t))i=N.cloneElement(t,e);else if(typeof t=="function")i=t(e);else{var r,{x1:a,y1:s,x2:o,y2:l,key:c}=e,h=B2(e,Pkt),d=(r=Vp(h))!==null&&r!==void 0?r:{},{offset:g}=d,y=B2(d,Ekt);i=N.createElement("line",gx({},y,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return i}function Fkt(n){var{x:t,width:e,horizontal:i=!0,horizontalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:s}=n,o=B2(n,jkt),l=r.map((c,h)=>{var d=Jl(Jl({},o),{},{x1:t,y1:c,x2:t+e,y2:c,key:"line-".concat(h),index:h});return N.createElement(hX,{key:"line-".concat(h),option:i,lineItemProps:d})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Bkt(n){var{y:t,height:e,vertical:i=!0,verticalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:s}=n,o=B2(n,Dkt),l=r.map((c,h)=>{var d=Jl(Jl({},o),{},{x1:c,y1:t,x2:c,y2:t+e,key:"line-".concat(h),index:h});return N.createElement(hX,{option:i,lineItemProps:d,key:"line-".concat(h)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Hkt(n){var{horizontalFill:t,fillOpacity:e,x:i,y:r,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=n;if(!l||!t||!t.length||o==null)return null;var c=o.map(d=>Math.round(d+r-r)).sort((d,g)=>d-g);r!==c[0]&&c.unshift(0);var h=c.map((d,g)=>{var y=!c[g+1],x=y?r+s-d:c[g+1]-d;if(x<=0)return null;var w=g%t.length;return N.createElement("rect",{key:"react-".concat(g),y:d,x:i,height:x,width:a,stroke:"none",fill:t[w],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Gkt(n){var{vertical:t=!0,verticalFill:e,fillOpacity:i,x:r,y:a,width:s,height:o,verticalPoints:l}=n;if(!t||!e||!e.length)return null;var c=l.map(d=>Math.round(d+r-r)).sort((d,g)=>d-g);r!==c[0]&&c.unshift(0);var h=c.map((d,g)=>{var y=!c[g+1],x=y?r+s-d:c[g+1]-d;if(x<=0)return null;var w=g%e.length;return N.createElement("rect",{key:"react-".concat(g),x:d,y:a,width:x,height:o,stroke:"none",fill:e[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Wkt=(n,t)=>{var{xAxis:e,width:i,height:r,offset:a}=n;return XU(qL(Jl(Jl(Jl({},Up),e),{},{ticks:qU(e),viewBox:{x:0,y:0,width:i,height:r}})),a.left,a.left+a.width,t)},Ukt=(n,t)=>{var{yAxis:e,width:i,height:r,offset:a}=n;return XU(qL(Jl(Jl(Jl({},Up),e),{},{ticks:qU(e),viewBox:{x:0,y:0,width:i,height:r}})),a.top,a.top+a.height,t)},Ykt={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:nc.grid};function v_(n){var t=iY(),e=rY(),i=nY(),r=Jl(Jl({},Nu(n,Ykt)),{},{x:bn(n.x)?n.x:i.left,y:bn(n.y)?n.y:i.top,width:bn(n.width)?n.width:i.width,height:bn(n.height)?n.height:i.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:h,syncWithTicks:d,horizontalValues:g,verticalValues:y}=r,x=Fc(),w=yn(J=>cB(J,"xAxis",a,x)),k=yn(J=>cB(J,"yAxis",s,x));if(!Ag(c)||!Ag(h)||!bn(o)||!bn(l))return null;var A=r.verticalCoordinatesGenerator||Wkt,T=r.horizontalCoordinatesGenerator||Ukt,{horizontalPoints:R,verticalPoints:G}=r;if((!R||!R.length)&&typeof T=="function"){var z=g&&g.length,F=T({yAxis:k?Jl(Jl({},k),{},{ticks:z?g:k.ticks}):void 0,width:t??c,height:e??h,offset:i},z?!0:d);d2(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(R=F)}if((!G||!G.length)&&typeof A=="function"){var H=y&&y.length,Y=A({xAxis:w?Jl(Jl({},w),{},{ticks:H?y:w.ticks}):void 0,width:t??c,height:e??h,offset:i},H?!0:d);d2(Array.isArray(Y),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Y,"]")),Array.isArray(Y)&&(G=Y)}return N.createElement(jg,{zIndex:r.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(zkt,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),N.createElement(Hkt,gx({},r,{horizontalPoints:R})),N.createElement(Gkt,gx({},r,{verticalPoints:G})),N.createElement(Fkt,gx({},r,{offset:i,horizontalPoints:R,xAxis:w,yAxis:k})),N.createElement(Bkt,gx({},r,{offset:i,verticalPoints:G,xAxis:w,yAxis:k}))))}v_.displayName="CartesianGrid";var $kt=["domain","range"],Vkt=["domain","range"];function mH(n,t){if(n==null)return{};var e,i,r=Xkt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Xkt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function yH(n,t){return n===t?!0:Array.isArray(n)&&n.length===2&&Array.isArray(t)&&t.length===2?n[0]===t[0]&&n[1]===t[1]:!1}function dX(n,t){if(n===t)return!0;var{domain:e,range:i}=n,r=mH(n,$kt),{domain:a,range:s}=t,o=mH(t,Vkt);return!yH(e,a)||!yH(i,s)?!1:XL(r,o)}var qkt=["dangerouslySetInnerHTML","ticks"],Kkt=["id"];function mj(){return mj=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},mj.apply(null,arguments)}function vH(n,t){if(n==null)return{};var e,i,r=Zkt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Zkt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function Qkt(n){var t=vs(),e=N.useRef(null);return N.useLayoutEffect(()=>{e.current===null?t(Uwt(n)):e.current!==n&&t(Ywt({prev:e.current,next:n})),e.current=n},[n,t]),N.useLayoutEffect(()=>()=>{e.current&&(t($wt(e.current)),e.current=null)},[t]),null}var Jkt=n=>{var{xAxisId:t,className:e}=n,i=yn(WO),r=Fc(),a="xAxis",s=yn(k=>Uy(k,a,t,r)),o=yn(k=>nV(k,a,t,r)),l=yn(k=>Q$(k,t)),c=yn(k=>Ixt(k,t)),h=yn(k=>w$(k,t));if(l==null||c==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:g}=n,y=vH(n,qkt),{id:x}=h,w=vH(h,Kkt);return N.createElement(KL,mj({},y,w,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Vr("recharts-".concat(a," ").concat(a),e),viewBox:i,ticks:o,axisType:a}))},tCt={allowDataOverflow:Go.allowDataOverflow,allowDecimals:Go.allowDecimals,allowDuplicatedCategory:Go.allowDuplicatedCategory,angle:Go.angle,axisLine:Up.axisLine,height:Go.height,hide:!1,includeHidden:Go.includeHidden,interval:Go.interval,minTickGap:Go.minTickGap,mirror:Go.mirror,orientation:Go.orientation,padding:Go.padding,reversed:Go.reversed,scale:Go.scale,tick:Go.tick,tickCount:Go.tickCount,tickLine:Up.tickLine,tickSize:Up.tickSize,type:Go.type,xAxisId:0},eCt=n=>{var t=Nu(n,tCt);return N.createElement(N.Fragment,null,N.createElement(Qkt,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),N.createElement(Jkt,t))},x_=N.memo(eCt,dX);x_.displayName="XAxis";var nCt=["dangerouslySetInnerHTML","ticks"],iCt=["id"];function yj(){return yj=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},yj.apply(null,arguments)}function xH(n,t){if(n==null)return{};var e,i,r=rCt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function rCt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function aCt(n){var t=vs(),e=N.useRef(null);return N.useLayoutEffect(()=>{e.current===null?t(Vwt(n)):e.current!==n&&t(Xwt({prev:e.current,next:n})),e.current=n},[n,t]),N.useLayoutEffect(()=>()=>{e.current&&(t(qwt(e.current)),e.current=null)},[t]),null}var sCt=n=>{var{yAxisId:t,className:e,width:i,label:r}=n,a=N.useRef(null),s=N.useRef(null),o=yn(WO),l=Fc(),c=vs(),h="yAxis",d=yn(z=>Uy(z,h,t,l)),g=yn(z=>J$(z,t)),y=yn(z=>Fxt(z,t)),x=yn(z=>nV(z,h,t,l)),w=yn(z=>_$(z,t));if(N.useLayoutEffect(()=>{if(!(i!=="auto"||!g||VL(r)||N.isValidElement(r)||w==null)){var z=a.current;if(z){var F=z.getCalculatedWidth();Math.round(g.width)!==Math.round(F)&&c(Kwt({id:t,width:F}))}}},[x,g,c,r,t,i,w]),g==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:k,ticks:A}=n,T=xH(n,nCt),{id:R}=w,G=xH(w,iCt);return N.createElement(KL,yj({},T,G,{ref:a,labelRef:s,scale:d,x:y.x,y:y.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:Vr("recharts-".concat(h," ").concat(h),e),viewBox:o,ticks:x,axisType:h}))},oCt={allowDataOverflow:Wo.allowDataOverflow,allowDecimals:Wo.allowDecimals,allowDuplicatedCategory:Wo.allowDuplicatedCategory,angle:Wo.angle,axisLine:Up.axisLine,hide:!1,includeHidden:Wo.includeHidden,interval:Wo.interval,minTickGap:Wo.minTickGap,mirror:Wo.mirror,orientation:Wo.orientation,padding:Wo.padding,reversed:Wo.reversed,scale:Wo.scale,tick:Wo.tick,tickCount:Wo.tickCount,tickLine:Up.tickLine,tickSize:Up.tickSize,type:Wo.type,width:Wo.width,yAxisId:0},lCt=n=>{var t=Nu(n,oCt);return N.createElement(N.Fragment,null,N.createElement(aCt,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),N.createElement(sCt,t))},b_=N.memo(lCt,dX);b_.displayName="YAxis";var cCt=(n,t)=>t,ZL=ge([cCt,oa,x$,ko,vV,am,J0t,Ko],sbt),QL=n=>{var t=n.currentTarget.getBoundingClientRect(),e=t.width/n.currentTarget.offsetWidth,i=t.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-t.left)/e),chartY:Math.round((n.clientY-t.top)/i)}},fX=md("mouseClick"),gX=eS();gX.startListening({actionCreator:fX,effect:(n,t)=>{var e=n.payload,i=ZL(t.getState(),QL(e));i?.activeIndex!=null&&t.dispatch(Jxt({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var vj=md("mouseMove"),pX=eS(),Ik=null;pX.startListening({actionCreator:vj,effect:(n,t)=>{var e=n.payload;Ik!==null&&cancelAnimationFrame(Ik);var i=QL(e);Ik=requestAnimationFrame(()=>{var r=t.getState(),a=RL(r,r.tooltip.settings.shared);if(a==="axis"){var s=ZL(r,i);s?.activeIndex!=null?t.dispatch(uV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(cV())}Ik=null})}});var bH={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},mX=Pu({name:"rootProps",initialState:bH,reducers:{updateOptions:(n,t)=>{var e;n.accessibilityLayer=t.payload.accessibilityLayer,n.barCategoryGap=t.payload.barCategoryGap,n.barGap=(e=t.payload.barGap)!==null&&e!==void 0?e:bH.barGap,n.barSize=t.payload.barSize,n.maxBarSize=t.payload.maxBarSize,n.stackOffset=t.payload.stackOffset,n.syncId=t.payload.syncId,n.syncMethod=t.payload.syncMethod,n.className=t.payload.className,n.baseValue=t.payload.baseValue,n.reverseStackOrder=t.payload.reverseStackOrder}}}),uCt=mX.reducer,{updateOptions:hCt}=mX.actions,yX=Pu({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,t)=>t.payload}}),{updatePolarOptions:Jzt}=yX.actions,dCt=yX.reducer,vX=md("keyDown"),xX=md("focus"),JL=eS();JL.startListening({actionCreator:vX,effect:(n,t)=>{var e=t.getState(),i=e.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=e.tooltip,a=n.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=IL(r,g1(e),uS(e),pS(e)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=am(e);if(a==="Enter"){var c=E2(e,"axis","hover",String(r.index));t.dispatch(uj({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}));return}var h=Wxt(e),d=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,y=o+g*d;if(!(l==null||y>=l.length||y<0)){var x=E2(e,"axis","hover",String(y));t.dispatch(uj({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}}});JL.startListening({actionCreator:xX,effect:(n,t)=>{var e=t.getState(),i=e.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=e.tooltip;if(!r.active&&r.index==null){var a="0",s=E2(e,"axis","hover",String(a));t.dispatch(uj({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var id=md("externalEvent"),bX=eS(),QN=new Map;bX.startListening({actionCreator:id,effect:(n,t)=>{var{handler:e,reactEvent:i}=n.payload;if(e!=null){i.persist();var r=i.type,a=QN.get(r);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:z0t(o),activeDataKey:_V(o),activeIndex:Wb(o),activeLabel:wV(o),activeTooltipIndex:Wb(o),isTooltipActive:F0t(o)};e(l,i)}finally{QN.delete(r)}});QN.set(r,s)}}});var fCt=ge([f1],n=>n.tooltipItemPayloads),gCt=ge([fCt,fS,(n,t,e)=>t,(n,t,e)=>e],(n,t,e,i)=>{var r=n.find(o=>o.settings.dataKey===i);if(r!=null){var{positions:a}=r;if(a!=null){var s=t(a,e);return s}}}),wX=md("touchMove"),_X=eS();_X.startListening({actionCreator:wX,effect:(n,t)=>{var e=n.payload;if(!(e.touches==null||e.touches.length===0)){var i=t.getState(),r=RL(i,i.tooltip.settings.shared);if(r==="axis"){var a=ZL(i,QL({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,currentTarget:e.currentTarget}));a?.activeIndex!=null&&t.dispatch(uV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(r==="item"){var s,o=e.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Kft),h=(s=l.getAttribute(Zft))!==null&&s!==void 0?s:void 0,d=gCt(t.getState(),c,h);t.dispatch(lV({activeDataKey:h,activeIndex:c,activeCoordinate:d}))}}}});var pCt=_U({brush:RSt,cartesianAxis:Zwt,chartData:zbt,errorBars:h_t,graphicalItems:Iwt,layout:Eft,legend:Egt,options:Dbt,polarAxis:iwt,polarOptions:dCt,referenceElements:VSt,rootProps:uCt,tooltip:t0t,zIndex:bbt}),mCt=function(t){return nft({reducer:pCt,preloadedState:t,middleware:e=>{var i;return e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([gX.middleware,pX.middleware,JL.middleware,bX.middleware,_X.middleware])},enhancers:e=>{var i=e;return typeof e=="function"&&(i=e()),i.concat(OU({type:"raf"}))},devTools:o1.devToolsEnabled})};function yCt(n){var{preloadedState:t,children:e,reduxStoreName:i}=n,r=Fc(),a=N.useRef(null);if(r)return e;a.current==null&&(a.current=mCt(t));var s=IO;return N.createElement(I_t,{context:s,store:a.current},e)}function vCt(n){var{layout:t,margin:e}=n,i=vs(),r=Fc();return N.useEffect(()=>{r||(i(Mft(t)),i(Tft(e)))},[i,r,t,e]),null}var xCt=N.memo(vCt,XL);function bCt(n){var t=vs();return N.useEffect(()=>{t(hCt(n))},[t,n]),null}function wH(n){var{zIndex:t,isPanorama:e}=n,i=e?"recharts-zindex-panorama-":"recharts-zindex-",r=ZV("".concat(i).concat(t)),a=vs();return N.useLayoutEffect(()=>(a(vbt({zIndex:t,elementId:r,isPanorama:e})),()=>{a(xbt({zIndex:t,isPanorama:e}))}),[a,t,r,e]),N.createElement("g",{id:r})}function _H(n){var{children:t,isPanorama:e}=n,i=yn(lbt);if(!i||i.length===0)return t;var r=i.filter(s=>s<0),a=i.filter(s=>s>0);return N.createElement(N.Fragment,null,r.map(s=>N.createElement(wH,{key:s,zIndex:s,isPanorama:e})),t,a.map(s=>N.createElement(wH,{key:s,zIndex:s,isPanorama:e})))}var wCt=["children"];function _Ct(n,t){if(n==null)return{};var e,i,r=SCt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function SCt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function H2(){return H2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},H2.apply(null,arguments)}var kCt={width:"100%",height:"100%",display:"block"},CCt=N.forwardRef((n,t)=>{var e=iY(),i=rY(),r=sY();if(!Ag(e)||!Ag(i))return null;var{children:a,otherAttributes:s,title:o,desc:l}=n,c,h;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=r?0:void 0,typeof s.role=="string"?h=s.role:h=r?"application":void 0),N.createElement(B9,H2({},s,{title:o,desc:l,role:h,tabIndex:c,width:e,height:i,style:kCt,ref:t}),a)}),ACt=n=>{var{children:t}=n,e=yn(GA);if(!e)return null;var{width:i,height:r,y:a,x:s}=e;return N.createElement(B9,{width:i,height:r,x:s,y:a},t)},SH=N.forwardRef((n,t)=>{var{children:e}=n,i=_Ct(n,wCt),r=Fc();return r?N.createElement(ACt,null,N.createElement(_H,{isPanorama:!0},e)):N.createElement(CCt,H2({ref:t},i),N.createElement(_H,{isPanorama:!1},e))});function TCt(){var n=vs(),[t,e]=N.useState(null),i=yn(qft);return N.useEffect(()=>{if(t!=null){var r=t.getBoundingClientRect(),a=r.width/t.offsetWidth;za(a)&&a!==i&&n(Pft(a))}},[t,n,i]),e}function kH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function MCt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kH(Object(e),!0).forEach(function(i){NCt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):kH(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function NCt(n,t,e){return(t=PCt(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function PCt(n){var t=ECt(n,"string");return typeof t=="symbol"?t:t+""}function ECt(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ix(){return Ix=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ix.apply(null,arguments)}var jCt=()=>(Vbt(),null);function G2(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=parseFloat(n);if(!Number.isNaN(t))return t}return 0}var DCt=N.forwardRef((n,t)=>{var e,i,r=N.useRef(null),[a,s]=N.useState({containerWidth:G2((e=n.style)===null||e===void 0?void 0:e.width),containerHeight:G2((i=n.style)===null||i===void 0?void 0:i.height)}),o=N.useCallback((c,h)=>{s(d=>{var g=Math.round(c),y=Math.round(h);return d.containerWidth===g&&d.containerHeight===y?d:{containerWidth:g,containerHeight:y}})},[]),l=N.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:h,height:d}=c.getBoundingClientRect();o(h,d);var g=x=>{var{width:w,height:k}=x[0].contentRect;o(w,k)},y=new ResizeObserver(g);y.observe(c),r.current=y}},[t,o]);return N.useEffect(()=>()=>{var c=r.current;c?.disconnect()},[o]),N.createElement(N.Fragment,null,N.createElement(UA,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",Ix({ref:l},n)))}),OCt=N.forwardRef((n,t)=>{var{width:e,height:i}=n,[r,a]=N.useState({containerWidth:G2(e),containerHeight:G2(i)}),s=N.useCallback((l,c)=>{a(h=>{var d=Math.round(l),g=Math.round(c);return h.containerWidth===d&&h.containerHeight===g?h:{containerWidth:d,containerHeight:g}})},[]),o=N.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:h}=l.getBoundingClientRect();s(c,h)}},[t,s]);return N.createElement(N.Fragment,null,N.createElement(UA,{width:r.containerWidth,height:r.containerHeight}),N.createElement("div",Ix({ref:o},n)))}),LCt=N.forwardRef((n,t)=>{var{width:e,height:i}=n;return N.createElement(N.Fragment,null,N.createElement(UA,{width:e,height:i}),N.createElement("div",Ix({ref:t},n)))}),RCt=N.forwardRef((n,t)=>{var{width:e,height:i}=n;return Xp(e)||Xp(i)?N.createElement(OCt,Ix({},n,{ref:t})):N.createElement(LCt,Ix({},n,{ref:t}))});function ICt(n){return n===!0?DCt:RCt}var zCt=N.forwardRef((n,t)=>{var{children:e,className:i,height:r,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:h,onMouseMove:d,onMouseUp:g,onTouchEnd:y,onTouchMove:x,onTouchStart:w,style:k,width:A,responsive:T,dispatchTouchEvents:R=!0}=n,G=N.useRef(null),z=vs(),[F,H]=N.useState(null),[Y,J]=N.useState(null),nt=TCt(),V=UO(),Z=V?.width>0?V.width:A,rt=V?.height>0?V.height:r,lt=N.useCallback(Rt=>{nt(Rt),typeof t=="function"&&t(Rt),H(Rt),J(Rt),Rt!=null&&(G.current=Rt)},[nt,t,H,J]),mt=N.useCallback(Rt=>{z(fX(Rt)),z(id({handler:a,reactEvent:Rt}))},[z,a]),ct=N.useCallback(Rt=>{z(vj(Rt)),z(id({handler:c,reactEvent:Rt}))},[z,c]),st=N.useCallback(Rt=>{z(cV()),z(id({handler:h,reactEvent:Rt}))},[z,h]),xt=N.useCallback(Rt=>{z(vj(Rt)),z(id({handler:d,reactEvent:Rt}))},[z,d]),dt=N.useCallback(()=>{z(xX())},[z]),ht=N.useCallback(Rt=>{z(vX(Rt.key))},[z]),ot=N.useCallback(Rt=>{z(id({handler:s,reactEvent:Rt}))},[z,s]),vt=N.useCallback(Rt=>{z(id({handler:o,reactEvent:Rt}))},[z,o]),St=N.useCallback(Rt=>{z(id({handler:l,reactEvent:Rt}))},[z,l]),Pt=N.useCallback(Rt=>{z(id({handler:g,reactEvent:Rt}))},[z,g]),It=N.useCallback(Rt=>{z(id({handler:w,reactEvent:Rt}))},[z,w]),Nt=N.useCallback(Rt=>{R&&z(wX(Rt)),z(id({handler:x,reactEvent:Rt}))},[z,R,x]),Et=N.useCallback(Rt=>{z(id({handler:y,reactEvent:Rt}))},[z,y]),Yt=ICt(T);return N.createElement(NV.Provider,{value:F},N.createElement(Fut.Provider,{value:Y},N.createElement(Yt,{width:Z??k?.width,height:rt??k?.height,className:Vr("recharts-wrapper",i),style:MCt({position:"relative",cursor:"default",width:Z,height:rt},k),onClick:mt,onContextMenu:ot,onDoubleClick:vt,onFocus:dt,onKeyDown:ht,onMouseDown:St,onMouseEnter:ct,onMouseLeave:st,onMouseMove:xt,onMouseUp:Pt,onTouchEnd:Et,onTouchMove:Nt,onTouchStart:It,ref:lt},N.createElement(jCt,null),e)))}),FCt=["width","height","responsive","children","className","style","compact","title","desc"];function BCt(n,t){if(n==null)return{};var e,i,r=HCt(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function HCt(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}var GCt=N.forwardRef((n,t)=>{var{width:e,height:i,responsive:r,children:a,className:s,style:o,compact:l,title:c,desc:h}=n,d=BCt(n,FCt),g=Vp(d);return l?N.createElement(N.Fragment,null,N.createElement(UA,{width:e,height:i}),N.createElement(SH,{otherAttributes:g,title:c,desc:h},a)):N.createElement(zCt,{className:s,style:o,width:e,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},N.createElement(SH,{otherAttributes:g,title:c,desc:h,ref:t},N.createElement(XSt,null,a)))});function xj(){return xj=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},xj.apply(null,arguments)}var WCt={top:5,right:5,bottom:5,left:5},UCt={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:WCt,reverseStackOrder:!1,syncMethod:"index",responsive:!1},YCt=N.forwardRef(function(t,e){var i,r=Nu(t.categoricalChartProps,UCt),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return N.createElement(yCt,{preloadedState:{options:h},reduxStoreName:(i=c.id)!==null&&i!==void 0?i:a},N.createElement(LSt,{chartData:c.data}),N.createElement(xCt,{layout:r.layout,margin:r.margin}),N.createElement(bCt,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),N.createElement(GCt,xj({},r,{ref:e})))}),$Ct=["axis","item"],W2=N.forwardRef((n,t)=>N.createElement(YCt,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$Ct,tooltipPayloadSearcher:Ebt,categoricalChartProps:n,ref:t}));function VCt({p1:n,p2:t,p3:e,p4:i,p5:r,p6:a}){const s=Gi(),o=[{name:"ancarat",value:n,fill:n>=0?"#00C26F":"#FF4D4D"},{name:"Kim Ngan Phuc",value:t,fill:t>=0?"#00C26F":"#FF4D4D"},{name:"Nguyn Liu",value:e,fill:e>=0?"#00C26F":"#FF4D4D"},{name:"Ph Qu",value:i,fill:i>=0?"#00C26F":"#FF4D4D"},{name:"Quc T",value:r,fill:r>=0?"#00C26F":"#FF4D4D"},{name:"Sacombank",value:a,fill:r>=0?"#00C26F":"#FF4D4D"}];return u.jsxs("div",{className:"contain-bar-chart",children:[u.jsx("a",{className:"title-bar-chart",onClick:()=>s("/xauxagdetail"),children:" Ch s xau/xag ca cc Thng hiu vng "}),u.jsx(f2,{children:u.jsxs(W2,{data:o,margin:{top:20,right:20,left:0,bottom:20},children:[u.jsx(v_,{stroke:"#2A2A2A",strokeDasharray:"3 3"}),u.jsx(x_,{dataKey:"name",stroke:"#999",tick:{fill:"#999"}}),u.jsx(b_,{stroke:"#999",tick:{fill:"#999"}}),u.jsx(j2,{contentStyle:{backgroundColor:"#c2c0c0c1",border:"1px solid #979797ff"},labelStyle:{color:"#000000ff"}}),u.jsx(Dy,{dataKey:"value",radius:[4,4,0,0],background:!1,barSize:30,children:o.map((l,c)=>u.jsx(y_,{fill:l.fill},c))})]})})]})}var bj=function(n,t){return bj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},bj(n,t)};function XCt(n,t){bj(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var qCt=100,KCt=100,CH=50,wj=50,_j=50;function AH(n){var t=n.className,e=n.counterClockwise,i=n.dashRatio,r=n.pathRadius,a=n.strokeWidth,s=n.style;return N.createElement("path",{className:t,style:Object.assign({},s,QCt({pathRadius:r,dashRatio:i,counterClockwise:e})),d:ZCt({pathRadius:r,counterClockwise:e}),strokeWidth:a,fillOpacity:0})}function ZCt(n){var t=n.pathRadius,e=n.counterClockwise,i=t,r=e?1:0;return`
      M `+wj+","+_j+`
      m 0,-`+i+`
      a `+i+","+i+" "+r+" 1 1 0,"+2*i+`
      a `+i+","+i+" "+r+" 1 1 0,-"+2*i+`
    `}function QCt(n){var t=n.counterClockwise,e=n.dashRatio,i=n.pathRadius,r=Math.PI*2*i,a=(1-e)*r;return{strokeDasharray:r+"px "+r+"px",strokeDashoffset:(t?-a:a)+"px"}}var SX=(function(n){XCt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return CH-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,i=e.value,r=e.minValue,a=e.maxValue,s=Math.min(Math.max(i,r),a);return(s-r)/(a-r)},t.prototype.render=function(){var e=this.props,i=e.circleRatio,r=e.className,a=e.classes,s=e.counterClockwise,o=e.styles,l=e.strokeWidth,c=e.text,h=this.getPathRadius(),d=this.getPathRatio();return N.createElement("svg",{className:a.root+" "+r,style:o.root,viewBox:"0 0 "+qCt+" "+KCt,"data-test-id":"CircularProgressbar"},this.props.background?N.createElement("circle",{className:a.background,style:o.background,cx:wj,cy:_j,r:CH}):null,N.createElement(AH,{className:a.trail,counterClockwise:s,dashRatio:i,pathRadius:h,strokeWidth:l,style:o.trail}),N.createElement(AH,{className:a.path,counterClockwise:s,dashRatio:d*i,pathRadius:h,strokeWidth:l,style:o.path}),c?N.createElement("text",{className:a.text,style:o.text,x:wj,y:_j},c):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t})(N.Component);function kX(n){var t=n.rotation,e=n.strokeLinecap,i=n.textColor,r=n.textSize,a=n.pathColor,s=n.pathTransition,o=n.pathTransitionDuration,l=n.trailColor,c=n.backgroundColor,h=t==null?void 0:"rotate("+t+"turn)",d=t==null?void 0:"center center";return{root:{},path:zk({stroke:a,strokeLinecap:e,transform:h,transformOrigin:d,transition:s,transitionDuration:o==null?void 0:o+"s"}),trail:zk({stroke:l,strokeLinecap:e,transform:h,transformOrigin:d}),text:zk({fill:i,fontSize:r}),background:zk({fill:c})}}function zk(n){return Object.keys(n).forEach(function(t){n[t]==null&&delete n[t]}),n}const CX=n=>{const t=Number(n);return t>=0&&t<=25?{level:"extreme-fear",label:"S hi tt ",labelEn:"Extreme Fear",color:"#22C55E",textColor:"#FFF"}:t>=26&&t<=45?{level:"fear",label:"Ni s xung gi",labelEn:"Fear",color:"#F97316",textColor:"#FFF"}:t>=46&&t<=54?{level:"neutral",label:"Th trng ging co",labelEn:"Neutral",color:"#FACC15",textColor:"#000"}:t>=55&&t<=74?{level:"greed",label:"Nim tin tng gi",labelEn:"Greed",color:"#84CC16",textColor:"#000"}:t>=75&&t<=100?{level:"extreme-greed",label:"Hng phn tt ",labelEn:"Extreme Greed",color:"#EF4444",textColor:"#FFF"}:{level:"unknown",label:"Khng xc nh",labelEn:"Unknown",color:"#6B7280",textColor:"#FFF"}},JCt=n=>{const t=new Date(n),e=t.getDate().toString().padStart(2,"0"),i=(t.getMonth()+1).toString().padStart(2,"0");return`${e}/${i}`},Ww=({value:n,size:t="large",label:e=null,showLabel:i=!0})=>{const r=CX(n),a=n??0,s=t==="large"?"gauge-large":"gauge-small",o=a>100?"#ef4444":r.color;return u.jsxs("div",{className:`gauge-container ${s}`,children:[u.jsx("div",{className:"gauge-chart",children:u.jsx(SX,{value:a,text:`${a}`,styles:kX({textSize:t==="large"?"28px":"20px",textColor:"#ffffff",pathColor:o,trailColor:"rgba(255, 255, 255, 0.1)",pathTransitionDuration:.5})})}),i&&u.jsx("div",{className:"gauge-label",children:e||r.label})]})};function t2t({dataAnalysis:n}){const t=Object.entries(n),e=6,i=t.slice(0,e),r=t.slice(e),a=Math.max(i.length,r.length),s=c=>c.includes("nhn t gi")&&c.includes("lng")?" (triu/lng)":c.includes("nhn t gi")&&c.includes("kg")?" (triu/kg)":c.includes("Chnh lch: bc")?" (Triu/Cn)":c.includes("Chnh lch: vng")?" (Triu/Lng)":c.includes("kitco USD")||c.includes("Silver kitco usd")?" (USD/Ounce)":c.includes("T gi USD")?" (VND/USD)":c.includes("Vng nhn t gi")||c.includes("Vng nguyn liu")||c.includes("Bc nguyn liu")&&c.includes("lng")?" (triu/lng)":c.includes("Bc nguyn liu")&&c.includes("kg")?" (triu/kg)":"",o=c=>Number(c||0).toFixed(5),l=c=>{if(!c)return[u.jsx("td",{},"name"),u.jsx("td",{},"value")];const[h,d]=c;return[u.jsx("td",{children:h},"name"),u.jsxs("td",{children:[u.jsx("span",{style:{color:"#facc15"},children:o(d)}),s(h)]},"value")]};return u.jsx("div",{className:"price-table-container",style:{display:"flex",justifyContent:"center"},children:u.jsxs("table",{className:"price-table",style:{width:"100%"},children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Tn"}),u.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Gi tr"}),u.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Tn"}),u.jsx("td",{style:{color:"red",fontWeight:"bold"},children:"Gi tr"})]})}),u.jsx("tbody",{children:Array.from({length:a}).map((c,h)=>{const d=i[h],g=r[h];return u.jsxs("tr",{children:[l(d),l(g)]},h)})})]})})}var JN={exports:{}};var TH;function e2t(){return TH||(TH=1,(function(n){(function(t,e,i,r){var a=["","webkit","Moz","MS","ms","o"],s=e.createElement("div"),o="function",l=Math.round,c=Math.abs,h=Date.now;function d(At,Ot,Ft){return setTimeout(R(At,Ft),Ot)}function g(At,Ot,Ft){return Array.isArray(At)?(y(At,Ft[Ot],Ft),!0):!1}function y(At,Ot,Ft){var oe;if(At)if(At.forEach)At.forEach(Ot,Ft);else if(At.length!==r)for(oe=0;oe<At.length;)Ot.call(Ft,At[oe],oe,At),oe++;else for(oe in At)At.hasOwnProperty(oe)&&Ot.call(Ft,At[oe],oe,At)}function x(At,Ot,Ft){var oe="DEPRECATED METHOD: "+Ot+`
`+Ft+` AT 
`;return function(){var Ne=new Error("get-stack-trace"),Ge=Ne&&Ne.stack?Ne.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Tn=t.console&&(t.console.warn||t.console.log);return Tn&&Tn.call(t.console,oe,Ge),At.apply(this,arguments)}}var w;typeof Object.assign!="function"?w=function(Ot){if(Ot===r||Ot===null)throw new TypeError("Cannot convert undefined or null to object");for(var Ft=Object(Ot),oe=1;oe<arguments.length;oe++){var Ne=arguments[oe];if(Ne!==r&&Ne!==null)for(var Ge in Ne)Ne.hasOwnProperty(Ge)&&(Ft[Ge]=Ne[Ge])}return Ft}:w=Object.assign;var k=x(function(Ot,Ft,oe){for(var Ne=Object.keys(Ft),Ge=0;Ge<Ne.length;)(!oe||oe&&Ot[Ne[Ge]]===r)&&(Ot[Ne[Ge]]=Ft[Ne[Ge]]),Ge++;return Ot},"extend","Use `assign`."),A=x(function(Ot,Ft){return k(Ot,Ft,!0)},"merge","Use `assign`.");function T(At,Ot,Ft){var oe=Ot.prototype,Ne;Ne=At.prototype=Object.create(oe),Ne.constructor=At,Ne._super=oe,Ft&&w(Ne,Ft)}function R(At,Ot){return function(){return At.apply(Ot,arguments)}}function G(At,Ot){return typeof At==o?At.apply(Ot&&Ot[0]||r,Ot):At}function z(At,Ot){return At===r?Ot:At}function F(At,Ot,Ft){y(nt(Ot),function(oe){At.addEventListener(oe,Ft,!1)})}function H(At,Ot,Ft){y(nt(Ot),function(oe){At.removeEventListener(oe,Ft,!1)})}function Y(At,Ot){for(;At;){if(At==Ot)return!0;At=At.parentNode}return!1}function J(At,Ot){return At.indexOf(Ot)>-1}function nt(At){return At.trim().split(/\s+/g)}function V(At,Ot,Ft){if(At.indexOf&&!Ft)return At.indexOf(Ot);for(var oe=0;oe<At.length;){if(Ft&&At[oe][Ft]==Ot||!Ft&&At[oe]===Ot)return oe;oe++}return-1}function Z(At){return Array.prototype.slice.call(At,0)}function rt(At,Ot,Ft){for(var oe=[],Ne=[],Ge=0;Ge<At.length;){var Tn=At[Ge][Ot];V(Ne,Tn)<0&&oe.push(At[Ge]),Ne[Ge]=Tn,Ge++}return oe=oe.sort(function(ua,Ir){return ua[Ot]>Ir[Ot]}),oe}function lt(At,Ot){for(var Ft,oe,Ne=Ot[0].toUpperCase()+Ot.slice(1),Ge=0;Ge<a.length;){if(Ft=a[Ge],oe=Ft?Ft+Ne:Ot,oe in At)return oe;Ge++}return r}var mt=1;function ct(){return mt++}function st(At){var Ot=At.ownerDocument||At;return Ot.defaultView||Ot.parentWindow||t}var xt=/mobile|tablet|ip(ad|hone|od)|android/i,dt="ontouchstart"in t,ht=lt(t,"PointerEvent")!==r,ot=dt&&xt.test(navigator.userAgent),vt="touch",St="pen",Pt="mouse",It="kinect",Nt=25,Et=1,Yt=2,Rt=4,ee=8,fe=1,Jt=2,ue=4,Te=8,qe=16,on=Jt|ue,He=Te|qe,mi=on|He,Si=["x","y"],li=["clientX","clientY"];function Xe(At,Ot){var Ft=this;this.manager=At,this.callback=Ot,this.element=At.element,this.target=At.options.inputTarget,this.domHandler=function(oe){G(At.options.enable,[At])&&Ft.handler(oe)},this.init()}Xe.prototype={handler:function(){},init:function(){this.evEl&&F(this.element,this.evEl,this.domHandler),this.evTarget&&F(this.target,this.evTarget,this.domHandler),this.evWin&&F(st(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&H(this.element,this.evEl,this.domHandler),this.evTarget&&H(this.target,this.evTarget,this.domHandler),this.evWin&&H(st(this.element),this.evWin,this.domHandler)}};function Ei(At){var Ot,Ft=At.options.inputClass;return Ft?Ot=Ft:ht?Ot=ei:ot?Ot=re:dt?Ot=Ee:Ot=or,new Ot(At,Ke)}function Ke(At,Ot,Ft){var oe=Ft.pointers.length,Ne=Ft.changedPointers.length,Ge=Ot&Et&&oe-Ne===0,Tn=Ot&(Rt|ee)&&oe-Ne===0;Ft.isFirst=!!Ge,Ft.isFinal=!!Tn,Ge&&(At.session={}),Ft.eventType=Ot,dn(At,Ft),At.emit("hammer.input",Ft),At.recognize(Ft),At.session.prevInput=Ft}function dn(At,Ot){var Ft=At.session,oe=Ot.pointers,Ne=oe.length;Ft.firstInput||(Ft.firstInput=$n(Ot)),Ne>1&&!Ft.firstMultiple?Ft.firstMultiple=$n(Ot):Ne===1&&(Ft.firstMultiple=!1);var Ge=Ft.firstInput,Tn=Ft.firstMultiple,Rr=Tn?Tn.center:Ge.center,ua=Ot.center=ti(oe);Ot.timeStamp=h(),Ot.deltaTime=Ot.timeStamp-Ge.timeStamp,Ot.angle=On(Rr,ua),Ot.distance=tn(Rr,ua),Jn(Ft,Ot),Ot.offsetDirection=cn(Ot.deltaX,Ot.deltaY);var Ir=be(Ot.deltaTime,Ot.deltaX,Ot.deltaY);Ot.overallVelocityX=Ir.x,Ot.overallVelocityY=Ir.y,Ot.overallVelocity=c(Ir.x)>c(Ir.y)?Ir.x:Ir.y,Ot.scale=Tn?kn(Tn.pointers,oe):1,Ot.rotation=Tn?un(Tn.pointers,oe):0,Ot.maxPointers=Ft.prevInput?Ot.pointers.length>Ft.prevInput.maxPointers?Ot.pointers.length:Ft.prevInput.maxPointers:Ot.pointers.length,ki(Ft,Ot);var zr=At.element;Y(Ot.srcEvent.target,zr)&&(zr=Ot.srcEvent.target),Ot.target=zr}function Jn(At,Ot){var Ft=Ot.center,oe=At.offsetDelta||{},Ne=At.prevDelta||{},Ge=At.prevInput||{};(Ot.eventType===Et||Ge.eventType===Rt)&&(Ne=At.prevDelta={x:Ge.deltaX||0,y:Ge.deltaY||0},oe=At.offsetDelta={x:Ft.x,y:Ft.y}),Ot.deltaX=Ne.x+(Ft.x-oe.x),Ot.deltaY=Ne.y+(Ft.y-oe.y)}function ki(At,Ot){var Ft=At.lastInterval||Ot,oe=Ot.timeStamp-Ft.timeStamp,Ne,Ge,Tn,Rr;if(Ot.eventType!=ee&&(oe>Nt||Ft.velocity===r)){var ua=Ot.deltaX-Ft.deltaX,Ir=Ot.deltaY-Ft.deltaY,zr=be(oe,ua,Ir);Ge=zr.x,Tn=zr.y,Ne=c(zr.x)>c(zr.y)?zr.x:zr.y,Rr=cn(ua,Ir),At.lastInterval=Ot}else Ne=Ft.velocity,Ge=Ft.velocityX,Tn=Ft.velocityY,Rr=Ft.direction;Ot.velocity=Ne,Ot.velocityX=Ge,Ot.velocityY=Tn,Ot.direction=Rr}function $n(At){for(var Ot=[],Ft=0;Ft<At.pointers.length;)Ot[Ft]={clientX:l(At.pointers[Ft].clientX),clientY:l(At.pointers[Ft].clientY)},Ft++;return{timeStamp:h(),pointers:Ot,center:ti(Ot),deltaX:At.deltaX,deltaY:At.deltaY}}function ti(At){var Ot=At.length;if(Ot===1)return{x:l(At[0].clientX),y:l(At[0].clientY)};for(var Ft=0,oe=0,Ne=0;Ne<Ot;)Ft+=At[Ne].clientX,oe+=At[Ne].clientY,Ne++;return{x:l(Ft/Ot),y:l(oe/Ot)}}function be(At,Ot,Ft){return{x:Ot/At||0,y:Ft/At||0}}function cn(At,Ot){return At===Ot?fe:c(At)>=c(Ot)?At<0?Jt:ue:Ot<0?Te:qe}function tn(At,Ot,Ft){Ft||(Ft=Si);var oe=Ot[Ft[0]]-At[Ft[0]],Ne=Ot[Ft[1]]-At[Ft[1]];return Math.sqrt(oe*oe+Ne*Ne)}function On(At,Ot,Ft){Ft||(Ft=Si);var oe=Ot[Ft[0]]-At[Ft[0]],Ne=Ot[Ft[1]]-At[Ft[1]];return Math.atan2(Ne,oe)*180/Math.PI}function un(At,Ot){return On(Ot[1],Ot[0],li)+On(At[1],At[0],li)}function kn(At,Ot){return tn(Ot[0],Ot[1],li)/tn(At[0],At[1],li)}var Dn={mousedown:Et,mousemove:Yt,mouseup:Rt},Bn="mousedown",_r="mousemove mouseup";function or(){this.evEl=Bn,this.evWin=_r,this.pressed=!1,Xe.apply(this,arguments)}T(or,Xe,{handler:function(Ot){var Ft=Dn[Ot.type];Ft&Et&&Ot.button===0&&(this.pressed=!0),Ft&Yt&&Ot.which!==1&&(Ft=Rt),this.pressed&&(Ft&Rt&&(this.pressed=!1),this.callback(this.manager,Ft,{pointers:[Ot],changedPointers:[Ot],pointerType:Pt,srcEvent:Ot}))}});var as={pointerdown:Et,pointermove:Yt,pointerup:Rt,pointercancel:ee,pointerout:ee},tr={2:vt,3:St,4:Pt,5:It},_a="pointerdown",Cr="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(_a="MSPointerDown",Cr="MSPointerMove MSPointerUp MSPointerCancel");function ei(){this.evEl=_a,this.evWin=Cr,Xe.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}T(ei,Xe,{handler:function(Ot){var Ft=this.store,oe=!1,Ne=Ot.type.toLowerCase().replace("ms",""),Ge=as[Ne],Tn=tr[Ot.pointerType]||Ot.pointerType,Rr=Tn==vt,ua=V(Ft,Ot.pointerId,"pointerId");Ge&Et&&(Ot.button===0||Rr)?ua<0&&(Ft.push(Ot),ua=Ft.length-1):Ge&(Rt|ee)&&(oe=!0),!(ua<0)&&(Ft[ua]=Ot,this.callback(this.manager,Ge,{pointers:Ft,changedPointers:[Ot],pointerType:Tn,srcEvent:Ot}),oe&&Ft.splice(ua,1))}});var er={touchstart:Et,touchmove:Yt,touchend:Rt,touchcancel:ee},ji="touchstart",vn="touchstart touchmove touchend touchcancel";function Vn(){this.evTarget=ji,this.evWin=vn,this.started=!1,Xe.apply(this,arguments)}T(Vn,Xe,{handler:function(Ot){var Ft=er[Ot.type];if(Ft===Et&&(this.started=!0),!!this.started){var oe=nn.call(this,Ot,Ft);Ft&(Rt|ee)&&oe[0].length-oe[1].length===0&&(this.started=!1),this.callback(this.manager,Ft,{pointers:oe[0],changedPointers:oe[1],pointerType:vt,srcEvent:Ot})}}});function nn(At,Ot){var Ft=Z(At.touches),oe=Z(At.changedTouches);return Ot&(Rt|ee)&&(Ft=rt(Ft.concat(oe),"identifier")),[Ft,oe]}var We={touchstart:Et,touchmove:Yt,touchend:Rt,touchcancel:ee},Kr="touchstart touchmove touchend touchcancel";function re(){this.evTarget=Kr,this.targetIds={},Xe.apply(this,arguments)}T(re,Xe,{handler:function(Ot){var Ft=We[Ot.type],oe=ve.call(this,Ot,Ft);oe&&this.callback(this.manager,Ft,{pointers:oe[0],changedPointers:oe[1],pointerType:vt,srcEvent:Ot})}});function ve(At,Ot){var Ft=Z(At.touches),oe=this.targetIds;if(Ot&(Et|Yt)&&Ft.length===1)return oe[Ft[0].identifier]=!0,[Ft,Ft];var Ne,Ge,Tn=Z(At.changedTouches),Rr=[],ua=this.target;if(Ge=Ft.filter(function(Ir){return Y(Ir.target,ua)}),Ot===Et)for(Ne=0;Ne<Ge.length;)oe[Ge[Ne].identifier]=!0,Ne++;for(Ne=0;Ne<Tn.length;)oe[Tn[Ne].identifier]&&Rr.push(Tn[Ne]),Ot&(Rt|ee)&&delete oe[Tn[Ne].identifier],Ne++;if(Rr.length)return[rt(Ge.concat(Rr),"identifier"),Rr]}var ze=2500,Pe=25;function Ee(){Xe.apply(this,arguments);var At=R(this.handler,this);this.touch=new re(this.manager,At),this.mouse=new or(this.manager,At),this.primaryTouch=null,this.lastTouches=[]}T(Ee,Xe,{handler:function(Ot,Ft,oe){var Ne=oe.pointerType==vt,Ge=oe.pointerType==Pt;if(!(Ge&&oe.sourceCapabilities&&oe.sourceCapabilities.firesTouchEvents)){if(Ne)Ui.call(this,Ft,oe);else if(Ge&&nr.call(this,oe))return;this.callback(Ot,Ft,oe)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ui(At,Ot){At&Et?(this.primaryTouch=Ot.changedPointers[0].identifier,Zr.call(this,Ot)):At&(Rt|ee)&&Zr.call(this,Ot)}function Zr(At){var Ot=At.changedPointers[0];if(Ot.identifier===this.primaryTouch){var Ft={x:Ot.clientX,y:Ot.clientY};this.lastTouches.push(Ft);var oe=this.lastTouches,Ne=function(){var Ge=oe.indexOf(Ft);Ge>-1&&oe.splice(Ge,1)};setTimeout(Ne,ze)}}function nr(At){for(var Ot=At.srcEvent.clientX,Ft=At.srcEvent.clientY,oe=0;oe<this.lastTouches.length;oe++){var Ne=this.lastTouches[oe],Ge=Math.abs(Ot-Ne.x),Tn=Math.abs(Ft-Ne.y);if(Ge<=Pe&&Tn<=Pe)return!0}return!1}var Hn=lt(s.style,"touchAction"),yi=Hn!==r,ci="compute",gn="auto",Di="manipulation",Oi="none",ni="pan-x",vr="pan-y",xs=Xn();function ss(At,Ot){this.manager=At,this.set(Ot)}ss.prototype={set:function(At){At==ci&&(At=this.compute()),yi&&this.manager.element.style&&xs[At]&&(this.manager.element.style[Hn]=At),this.actions=At.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var At=[];return y(this.manager.recognizers,function(Ot){G(Ot.options.enable,[Ot])&&(At=At.concat(Ot.getTouchAction()))}),os(At.join(" "))},preventDefaults:function(At){var Ot=At.srcEvent,Ft=At.offsetDirection;if(this.manager.session.prevented){Ot.preventDefault();return}var oe=this.actions,Ne=J(oe,Oi)&&!xs[Oi],Ge=J(oe,vr)&&!xs[vr],Tn=J(oe,ni)&&!xs[ni];if(Ne){var Rr=At.pointers.length===1,ua=At.distance<2,Ir=At.deltaTime<250;if(Rr&&ua&&Ir)return}if(!(Tn&&Ge)&&(Ne||Ge&&Ft&on||Tn&&Ft&He))return this.preventSrc(Ot)},preventSrc:function(At){this.manager.session.prevented=!0,At.preventDefault()}};function os(At){if(J(At,Oi))return Oi;var Ot=J(At,ni),Ft=J(At,vr);return Ot&&Ft?Oi:Ot||Ft?Ot?ni:vr:J(At,Di)?Di:gn}function Xn(){if(!yi)return!1;var At={},Ot=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ft){At[Ft]=Ot?t.CSS.supports("touch-action",Ft):!0}),At}var Ar=1,vi=2,ls=4,zs=8,la=zs,Ka=16,Sa=32;function io(At){this.options=w({},this.defaults,At||{}),this.id=ct(),this.manager=null,this.options.enable=z(this.options.enable,!0),this.state=Ar,this.simultaneous={},this.requireFail=[]}io.prototype={defaults:{},set:function(At){return w(this.options,At),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(At){if(g(At,"recognizeWith",this))return this;var Ot=this.simultaneous;return At=Un(At,this),Ot[At.id]||(Ot[At.id]=At,At.recognizeWith(this)),this},dropRecognizeWith:function(At){return g(At,"dropRecognizeWith",this)?this:(At=Un(At,this),delete this.simultaneous[At.id],this)},requireFailure:function(At){if(g(At,"requireFailure",this))return this;var Ot=this.requireFail;return At=Un(At,this),V(Ot,At)===-1&&(Ot.push(At),At.requireFailure(this)),this},dropRequireFailure:function(At){if(g(At,"dropRequireFailure",this))return this;At=Un(At,this);var Ot=V(this.requireFail,At);return Ot>-1&&this.requireFail.splice(Ot,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(At){return!!this.simultaneous[At.id]},emit:function(At){var Ot=this,Ft=this.state;function oe(Ne){Ot.manager.emit(Ne,At)}Ft<zs&&oe(Ot.options.event+Yi(Ft)),oe(Ot.options.event),At.additionalEvent&&oe(At.additionalEvent),Ft>=zs&&oe(Ot.options.event+Yi(Ft))},tryEmit:function(At){if(this.canEmit())return this.emit(At);this.state=Sa},canEmit:function(){for(var At=0;At<this.requireFail.length;){if(!(this.requireFail[At].state&(Sa|Ar)))return!1;At++}return!0},recognize:function(At){var Ot=w({},At);if(!G(this.options.enable,[this,Ot])){this.reset(),this.state=Sa;return}this.state&(la|Ka|Sa)&&(this.state=Ar),this.state=this.process(Ot),this.state&(vi|ls|zs|Ka)&&this.tryEmit(Ot)},process:function(At){},getTouchAction:function(){},reset:function(){}};function Yi(At){return At&Ka?"cancel":At&zs?"end":At&ls?"move":At&vi?"start":""}function oc(At){return At==qe?"down":At==Te?"up":At==Jt?"left":At==ue?"right":""}function Un(At,Ot){var Ft=Ot.manager;return Ft?Ft.get(At):At}function ii(){io.apply(this,arguments)}T(ii,io,{defaults:{pointers:1},attrTest:function(At){var Ot=this.options.pointers;return Ot===0||At.pointers.length===Ot},process:function(At){var Ot=this.state,Ft=At.eventType,oe=Ot&(vi|ls),Ne=this.attrTest(At);return oe&&(Ft&ee||!Ne)?Ot|Ka:oe||Ne?Ft&Rt?Ot|zs:Ot&vi?Ot|ls:vi:Sa}});function Ba(){ii.apply(this,arguments),this.pX=null,this.pY=null}T(Ba,ii,{defaults:{event:"pan",threshold:10,pointers:1,direction:mi},getTouchAction:function(){var At=this.options.direction,Ot=[];return At&on&&Ot.push(vr),At&He&&Ot.push(ni),Ot},directionTest:function(At){var Ot=this.options,Ft=!0,oe=At.distance,Ne=At.direction,Ge=At.deltaX,Tn=At.deltaY;return Ne&Ot.direction||(Ot.direction&on?(Ne=Ge===0?fe:Ge<0?Jt:ue,Ft=Ge!=this.pX,oe=Math.abs(At.deltaX)):(Ne=Tn===0?fe:Tn<0?Te:qe,Ft=Tn!=this.pY,oe=Math.abs(At.deltaY))),At.direction=Ne,Ft&&oe>Ot.threshold&&Ne&Ot.direction},attrTest:function(At){return ii.prototype.attrTest.call(this,At)&&(this.state&vi||!(this.state&vi)&&this.directionTest(At))},emit:function(At){this.pX=At.deltaX,this.pY=At.deltaY;var Ot=oc(At.direction);Ot&&(At.additionalEvent=this.options.event+Ot),this._super.emit.call(this,At)}});function ca(){ii.apply(this,arguments)}T(ca,ii,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Oi]},attrTest:function(At){return this._super.attrTest.call(this,At)&&(Math.abs(At.scale-1)>this.options.threshold||this.state&vi)},emit:function(At){if(At.scale!==1){var Ot=At.scale<1?"in":"out";At.additionalEvent=this.options.event+Ot}this._super.emit.call(this,At)}});function ro(){io.apply(this,arguments),this._timer=null,this._input=null}T(ro,io,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[gn]},process:function(At){var Ot=this.options,Ft=At.pointers.length===Ot.pointers,oe=At.distance<Ot.threshold,Ne=At.deltaTime>Ot.time;if(this._input=At,!oe||!Ft||At.eventType&(Rt|ee)&&!Ne)this.reset();else if(At.eventType&Et)this.reset(),this._timer=d(function(){this.state=la,this.tryEmit()},Ot.time,this);else if(At.eventType&Rt)return la;return Sa},reset:function(){clearTimeout(this._timer)},emit:function(At){this.state===la&&(At&&At.eventType&Rt?this.manager.emit(this.options.event+"up",At):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}});function Hc(){ii.apply(this,arguments)}T(Hc,ii,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Oi]},attrTest:function(At){return this._super.attrTest.call(this,At)&&(Math.abs(At.rotation)>this.options.threshold||this.state&vi)}});function An(){ii.apply(this,arguments)}T(An,ii,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:on|He,pointers:1},getTouchAction:function(){return Ba.prototype.getTouchAction.call(this)},attrTest:function(At){var Ot=this.options.direction,Ft;return Ot&(on|He)?Ft=At.overallVelocity:Ot&on?Ft=At.overallVelocityX:Ot&He&&(Ft=At.overallVelocityY),this._super.attrTest.call(this,At)&&Ot&At.offsetDirection&&At.distance>this.options.threshold&&At.maxPointers==this.options.pointers&&c(Ft)>this.options.velocity&&At.eventType&Rt},emit:function(At){var Ot=oc(At.offsetDirection);Ot&&this.manager.emit(this.options.event+Ot,At),this.manager.emit(this.options.event,At)}});function $i(){io.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}T($i,io,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Di]},process:function(At){var Ot=this.options,Ft=At.pointers.length===Ot.pointers,oe=At.distance<Ot.threshold,Ne=At.deltaTime<Ot.time;if(this.reset(),At.eventType&Et&&this.count===0)return this.failTimeout();if(oe&&Ne&&Ft){if(At.eventType!=Rt)return this.failTimeout();var Ge=this.pTime?At.timeStamp-this.pTime<Ot.interval:!0,Tn=!this.pCenter||tn(this.pCenter,At.center)<Ot.posThreshold;this.pTime=At.timeStamp,this.pCenter=At.center,!Tn||!Ge?this.count=1:this.count+=1,this._input=At;var Rr=this.count%Ot.taps;if(Rr===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=la,this.tryEmit()},Ot.interval,this),vi):la}return Sa},failTimeout:function(){return this._timer=d(function(){this.state=Sa},this.options.interval,this),Sa},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==la&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function cs(At,Ot){return Ot=Ot||{},Ot.recognizers=z(Ot.recognizers,cs.defaults.preset),new lc(At,Ot)}cs.VERSION="2.0.7",cs.defaults={domEvents:!1,touchAction:ci,enable:!0,inputTarget:null,inputClass:null,preset:[[Hc,{enable:!1}],[ca,{enable:!1},["rotate"]],[An,{direction:on}],[Ba,{direction:on},["swipe"]],[$i],[$i,{event:"doubletap",taps:2},["tap"]],[ro]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ph=1,Vi=2;function lc(At,Ot){this.options=w({},cs.defaults,Ot||{}),this.options.inputTarget=this.options.inputTarget||At,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=At,this.input=Ei(this),this.touchAction=new ss(this,this.options.touchAction),Qo(this,!0),y(this.options.recognizers,function(Ft){var oe=this.add(new Ft[0](Ft[1]));Ft[2]&&oe.recognizeWith(Ft[2]),Ft[3]&&oe.requireFailure(Ft[3])},this)}lc.prototype={set:function(At){return w(this.options,At),At.touchAction&&this.touchAction.update(),At.inputTarget&&(this.input.destroy(),this.input.target=At.inputTarget,this.input.init()),this},stop:function(At){this.session.stopped=At?Vi:ph},recognize:function(At){var Ot=this.session;if(!Ot.stopped){this.touchAction.preventDefaults(At);var Ft,oe=this.recognizers,Ne=Ot.curRecognizer;(!Ne||Ne&&Ne.state&la)&&(Ne=Ot.curRecognizer=null);for(var Ge=0;Ge<oe.length;)Ft=oe[Ge],Ot.stopped!==Vi&&(!Ne||Ft==Ne||Ft.canRecognizeWith(Ne))?Ft.recognize(At):Ft.reset(),!Ne&&Ft.state&(vi|ls|zs)&&(Ne=Ot.curRecognizer=Ft),Ge++}},get:function(At){if(At instanceof io)return At;for(var Ot=this.recognizers,Ft=0;Ft<Ot.length;Ft++)if(Ot[Ft].options.event==At)return Ot[Ft];return null},add:function(At){if(g(At,"add",this))return this;var Ot=this.get(At.options.event);return Ot&&this.remove(Ot),this.recognizers.push(At),At.manager=this,this.touchAction.update(),At},remove:function(At){if(g(At,"remove",this))return this;if(At=this.get(At),At){var Ot=this.recognizers,Ft=V(Ot,At);Ft!==-1&&(Ot.splice(Ft,1),this.touchAction.update())}return this},on:function(At,Ot){if(At!==r&&Ot!==r){var Ft=this.handlers;return y(nt(At),function(oe){Ft[oe]=Ft[oe]||[],Ft[oe].push(Ot)}),this}},off:function(At,Ot){if(At!==r){var Ft=this.handlers;return y(nt(At),function(oe){Ot?Ft[oe]&&Ft[oe].splice(V(Ft[oe],Ot),1):delete Ft[oe]}),this}},emit:function(At,Ot){this.options.domEvents&&Fs(At,Ot);var Ft=this.handlers[At]&&this.handlers[At].slice();if(!(!Ft||!Ft.length)){Ot.type=At,Ot.preventDefault=function(){Ot.srcEvent.preventDefault()};for(var oe=0;oe<Ft.length;)Ft[oe](Ot),oe++}},destroy:function(){this.element&&Qo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Qo(At,Ot){var Ft=At.element;if(Ft.style){var oe;y(At.options.cssProps,function(Ne,Ge){oe=lt(Ft.style,Ge),Ot?(At.oldCssProps[oe]=Ft.style[oe],Ft.style[oe]=Ne):Ft.style[oe]=At.oldCssProps[oe]||""}),Ot||(At.oldCssProps={})}}function Fs(At,Ot){var Ft=e.createEvent("Event");Ft.initEvent(At,!0,!0),Ft.gesture=Ot,Ot.target.dispatchEvent(Ft)}w(cs,{INPUT_START:Et,INPUT_MOVE:Yt,INPUT_END:Rt,INPUT_CANCEL:ee,STATE_POSSIBLE:Ar,STATE_BEGAN:vi,STATE_CHANGED:ls,STATE_ENDED:zs,STATE_RECOGNIZED:la,STATE_CANCELLED:Ka,STATE_FAILED:Sa,DIRECTION_NONE:fe,DIRECTION_LEFT:Jt,DIRECTION_RIGHT:ue,DIRECTION_UP:Te,DIRECTION_DOWN:qe,DIRECTION_HORIZONTAL:on,DIRECTION_VERTICAL:He,DIRECTION_ALL:mi,Manager:lc,Input:Xe,TouchAction:ss,TouchInput:re,MouseInput:or,PointerEventInput:ei,TouchMouseInput:Ee,SingleTouchInput:Vn,Recognizer:io,AttrRecognizer:ii,Tap:$i,Pan:Ba,Swipe:An,Pinch:ca,Rotate:Hc,Press:ro,on:F,off:H,each:y,merge:A,extend:k,assign:w,inherit:T,bindFn:R,prefixed:lt});var ir=typeof t<"u"?t:typeof self<"u"?self:{};ir.Hammer=cs,n.exports?n.exports=cs:t[i]=cs})(window,document,"Hammer")})(JN)),JN.exports}var n2t=e2t();const Uw=Al(n2t);const w_=n=>n&&n.enabled&&n.modifierKey,AX=(n,t)=>n&&t[n+"Key"],tR=(n,t)=>n&&!t[n+"Key"];function Yy(n,t,e){return n===void 0?!0:typeof n=="string"?n.indexOf(t)!==-1:typeof n=="function"?n({chart:e}).indexOf(t)!==-1:!1}function tP(n,t){return typeof n=="function"&&(n=n({chart:t})),typeof n=="string"?{x:n.indexOf("x")!==-1,y:n.indexOf("y")!==-1}:{x:!1,y:!1}}function i2t(n,t){let e;return function(){return clearTimeout(e),e=setTimeout(n,t),t}}function r2t({x:n,y:t},e){const i=e.scales,r=Object.keys(i);for(let a=0;a<r.length;a++){const s=i[r[a]];if(t>=s.top&&t<=s.bottom&&n>=s.left&&n<=s.right)return s}return null}function TX(n,t,e){const{mode:i="xy",scaleMode:r,overScaleMode:a}=n||{},s=r2t(t,e),o=tP(i,e),l=tP(r,e);if(a){const h=tP(a,e);for(const d of["x","y"])h[d]&&(l[d]=o[d],o[d]=!1)}if(s&&l[s.axis])return[s];const c=[];return Bi(e.scales,function(h){o[h.axis]&&c.push(h)}),c}const Sj=new WeakMap;function rs(n){let t=Sj.get(n);return t||(t={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Sj.set(n,t)),t}function a2t(n){Sj.delete(n)}function MX(n,t,e,i){const r=Math.max(0,Math.min(1,(n-t)/e||0)),a=1-r;return{min:i*r,max:i*a}}function NX(n,t){const e=n.isHorizontal()?t.x:t.y;return n.getValueForPixel(e)}function PX(n,t,e){const i=n.max-n.min,r=i*(t-1),a=NX(n,e);return MX(a,n.min,i,r)}function s2t(n,t,e){const i=NX(n,e);if(i===void 0)return{min:n.min,max:n.max};const r=Math.log10(n.min),a=Math.log10(n.max),s=Math.log10(i),o=a-r,l=o*(t-1),c=MX(s,r,o,l);return{min:Math.pow(10,r+c.min),max:Math.pow(10,a-c.max)}}function o2t(n,t){return t&&(t[n.id]||t[n.axis])||{}}function MH(n,t,e,i,r){let a=e[i];if(a==="original"){const s=n.originalScaleLimits[t.id][i];a=sn(s.options,s.scale)}return sn(a,r)}function l2t(n,t,e){const i=n.getValueForPixel(t),r=n.getValueForPixel(e);return{min:Math.min(i,r),max:Math.max(i,r)}}function c2t(n,{min:t,max:e,minLimit:i,maxLimit:r},a){const s=(n-e+t)/2;t-=s,e+=s;const o=a.min.options??a.min.scale,l=a.max.options??a.max.scale,c=n/1e6;return xx(t,o,c)&&(t=o),xx(e,l,c)&&(e=l),t<i?(t=i,e=Math.min(i+n,r)):e>r&&(e=r,t=Math.max(r-n,i)),{min:t,max:e}}function t0(n,{min:t,max:e},i,r=!1){const a=rs(n.chart),{options:s}=n,o=o2t(n,i),{minRange:l=0}=o,c=MH(a,n,o,"min",-1/0),h=MH(a,n,o,"max",1/0);if(r==="pan"&&(t<c||e>h))return!0;const d=n.max-n.min,g=r?Math.max(e-t,l):d;if(r&&g===l&&d<=l)return!0;const y=c2t(g,{min:t,max:e,minLimit:c,maxLimit:h},a.originalScaleLimits[n.id]);return s.min=y.min,s.max=y.max,a.updatedScaleLimits[n.id]=y,n.parse(y.min)!==n.min||n.parse(y.max)!==n.max}function u2t(n,t,e,i){const r=PX(n,t,e),a={min:n.min+r.min,max:n.max-r.max};return t0(n,a,i,!0)}function h2t(n,t,e,i){const r=s2t(n,t,e);return t0(n,r,i,!0)}function d2t(n,t,e,i){t0(n,l2t(n,t,e),i,!0)}const NH=n=>n===0||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1);function f2t(n){const e=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<e&&(n.max+=1)}function g2t(n,t,e,i){const r=PX(n,t,e);n.min===n.max&&t<1&&f2t(n);const a={min:n.min+NH(r.min),max:n.max-NH(r.max)};return t0(n,a,i,!0)}function p2t(n){return n.isHorizontal()?n.width:n.height}function m2t(n,t,e){const r=n.getLabels().length-1;let{min:a,max:s}=n;const o=Math.max(s-a,1),l=Math.round(p2t(n)/Math.max(o,10)),c=Math.round(Math.abs(t/l));let h;return t<-l?(s=Math.min(s+c,r),a=o===1?s:s-o,h=s===r):t>l&&(a=Math.max(0,a-c),s=o===1?a:a+o,h=a===0),t0(n,{min:a,max:s},e)||h}const y2t={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function EX(n,t,e,i=!1){const{min:r,max:a,options:s}=n,o=s.time&&s.time.round,l=y2t[o]||0,c=n.getValueForPixel(n.getPixelForValue(r+l)-t),h=n.getValueForPixel(n.getPixelForValue(a+l)-t);return isNaN(c)||isNaN(h)?!0:t0(n,{min:c,max:h},e,i?"pan":!1)}function PH(n,t,e){return EX(n,t,e,!0)}const kj={category:g2t,default:u2t,logarithmic:h2t},Cj={default:d2t},Aj={category:m2t,default:EX,logarithmic:PH,timeseries:PH};function v2t(n,t,e){const{id:i,options:{min:r,max:a}}=n;if(!t[i]||!e[i])return!0;const s=e[i];return s.min!==r||s.max!==a}function EH(n,t){Bi(n,(e,i)=>{t[i]||delete n[i]})}function p1(n,t){const{scales:e}=n,{originalScaleLimits:i,updatedScaleLimits:r}=t;return Bi(e,function(a){v2t(a,i,r)&&(i[a.id]={min:{scale:a.min,options:a.options.min},max:{scale:a.max,options:a.options.max}})}),EH(i,e),EH(r,e),i}function jH(n,t,e,i){const r=kj[n.type]||kj.default;Pn(r,[n,t,e,i])}function DH(n,t,e,i){const r=Cj[n.type]||Cj.default;Pn(r,[n,t,e,i])}function x2t(n){const t=n.chartArea;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function eR(n,t,e="none",i="api"){const{x:r=1,y:a=1,focalPoint:s=x2t(n)}=typeof t=="number"?{x:t,y:t}:t,o=rs(n),{options:{limits:l,zoom:c}}=o;p1(n,o);const h=r!==1,d=a!==1,g=TX(c,s,n);Bi(g||n.scales,function(y){y.isHorizontal()&&h?jH(y,r,s,l):!y.isHorizontal()&&d&&jH(y,a,s,l)}),n.update(e),Pn(c.onZoom,[{chart:n,trigger:i}])}function jX(n,t,e,i="none",r="api"){const a=rs(n),{options:{limits:s,zoom:o}}=a,{mode:l="xy"}=o;p1(n,a);const c=Yy(l,"x",n),h=Yy(l,"y",n);Bi(n.scales,function(d){d.isHorizontal()&&c?DH(d,t.x,e.x,s):!d.isHorizontal()&&h&&DH(d,t.y,e.y,s)}),n.update(i),Pn(o.onZoom,[{chart:n,trigger:r}])}function b2t(n,t,e,i="none",r="api"){const a=rs(n);p1(n,a);const s=n.scales[t];t0(s,e,void 0,!0),n.update(i),Pn(a.options.zoom?.onZoom,[{chart:n,trigger:r}])}function w2t(n,t="default"){const e=rs(n),i=p1(n,e);Bi(n.scales,function(r){const a=r.options;i[r.id]?(a.min=i[r.id].min.options,a.max=i[r.id].max.options):(delete a.min,delete a.max),delete e.updatedScaleLimits[r.id]}),n.update(t),Pn(e.options.zoom.onZoomComplete,[{chart:n}])}function _2t(n,t){const e=n.originalScaleLimits[t];if(!e)return;const{min:i,max:r}=e;return sn(r.options,r.scale)-sn(i.options,i.scale)}function S2t(n){const t=rs(n);let e=1,i=1;return Bi(n.scales,function(r){const a=_2t(t,r.id);if(a){const s=Math.round(a/(r.max-r.min)*100)/100;e=Math.min(e,s),i=Math.max(i,s)}}),e<1?e:i}function OH(n,t,e,i){const{panDelta:r}=i,a=r[n.id]||0;ud(a)===ud(t)&&(t+=a);const s=Aj[n.type]||Aj.default;Pn(s,[n,t,e])?r[n.id]=0:r[n.id]=t}function DX(n,t,e,i="none"){const{x:r=0,y:a=0}=typeof t=="number"?{x:t,y:t}:t,s=rs(n),{options:{pan:o,limits:l}}=s,{onPan:c}=o||{};p1(n,s);const h=r!==0,d=a!==0;Bi(e||n.scales,function(g){g.isHorizontal()&&h?OH(g,r,l,s):!g.isHorizontal()&&d&&OH(g,a,l,s)}),n.update(i),Pn(c,[{chart:n}])}function OX(n){const t=rs(n);p1(n,t);const e={};for(const i of Object.keys(n.scales)){const{min:r,max:a}=t.originalScaleLimits[i]||{min:{},max:{}};e[i]={min:r.scale,max:a.scale}}return e}function k2t(n){const t=rs(n),e={};for(const i of Object.keys(n.scales))e[i]=t.updatedScaleLimits[i];return e}function C2t(n){const t=OX(n);for(const e of Object.keys(n.scales)){const{min:i,max:r}=t[e];if(i!==void 0&&n.scales[e].min!==i||r!==void 0&&n.scales[e].max!==r)return!0}return!1}function LH(n){const t=rs(n);return t.panning||t.dragging}const RH=(n,t,e)=>Math.min(e,Math.max(t,n));function xu(n,t){const{handlers:e}=rs(n),i=e[t];i&&i.target&&(i.target.removeEventListener(t,i),delete e[t])}function Yw(n,t,e,i){const{handlers:r,options:a}=rs(n),s=r[e];if(s&&s.target===t)return;xu(n,e),r[e]=l=>i(n,l,a),r[e].target=t;const o=e==="wheel"?!1:void 0;t.addEventListener(e,r[e],{passive:o})}function A2t(n,t){const e=rs(n);e.dragStart&&(e.dragging=!0,e.dragEnd=t,n.update("none"))}function T2t(n,t){const e=rs(n);!e.dragStart||t.key!=="Escape"||(xu(n,"keydown"),e.dragging=!1,e.dragStart=e.dragEnd=null,n.update("none"))}function Tj(n,t){if(n.target!==t.canvas){const e=t.canvas.getBoundingClientRect();return{x:n.clientX-e.left,y:n.clientY-e.top}}return hg(n,t)}function LX(n,t,e){const{onZoomStart:i,onZoomRejected:r}=e;if(i){const a=Tj(t,n);if(Pn(i,[{chart:n,event:t,point:a}])===!1)return Pn(r,[{chart:n,event:t}]),!1}}function M2t(n,t){if(n.legend){const a=hg(t,n);if(yg(a,n.legend))return}const e=rs(n),{pan:i,zoom:r={}}=e.options;if(t.button!==0||AX(w_(i),t)||tR(w_(r.drag),t))return Pn(r.onZoomRejected,[{chart:n,event:t}]);LX(n,t,r)!==!1&&(e.dragStart=t,Yw(n,n.canvas.ownerDocument,"mousemove",A2t),Yw(n,window.document,"keydown",T2t))}function N2t({begin:n,end:t},e){let i=t.x-n.x,r=t.y-n.y;const a=Math.abs(i/r);a>e?i=Math.sign(i)*Math.abs(r*e):a<e&&(r=Math.sign(r)*Math.abs(i/e)),t.x=n.x+i,t.y=n.y+r}function IH(n,t,e,{min:i,max:r,prop:a}){n[i]=RH(Math.min(e.begin[a],e.end[a]),t[i],t[r]),n[r]=RH(Math.max(e.begin[a],e.end[a]),t[i],t[r])}function P2t(n,t,e){const i={begin:Tj(t.dragStart,n),end:Tj(t.dragEnd,n)};if(e){const r=n.chartArea.width/n.chartArea.height;N2t(i,r)}return i}function RX(n,t,e,i){const r=Yy(t,"x",n),a=Yy(t,"y",n),{top:s,left:o,right:l,bottom:c,width:h,height:d}=n.chartArea,g={top:s,left:o,right:l,bottom:c},y=P2t(n,e,i&&r&&a);r&&IH(g,n.chartArea,y,{min:"left",max:"right",prop:"x"}),a&&IH(g,n.chartArea,y,{min:"top",max:"bottom",prop:"y"});const x=g.right-g.left,w=g.bottom-g.top;return{...g,width:x,height:w,zoomX:r&&x?1+(h-x)/h:1,zoomY:a&&w?1+(d-w)/d:1}}function E2t(n,t){const e=rs(n);if(!e.dragStart)return;xu(n,"mousemove");const{mode:i,onZoomComplete:r,drag:{threshold:a=0,maintainAspectRatio:s}}=e.options.zoom,o=RX(n,i,{dragStart:e.dragStart,dragEnd:t},s),l=Yy(i,"x",n)?o.width:0,c=Yy(i,"y",n)?o.height:0,h=Math.sqrt(l*l+c*c);if(e.dragStart=e.dragEnd=null,h<=a){e.dragging=!1,n.update("none");return}jX(n,{x:o.left,y:o.top},{x:o.right,y:o.bottom},"zoom","drag"),e.dragging=!1,e.filterNextClick=!0,Pn(r,[{chart:n}])}function j2t(n,t,e){if(tR(w_(e.wheel),t)){Pn(e.onZoomRejected,[{chart:n,event:t}]);return}if(LX(n,t,e)!==!1&&(t.cancelable&&t.preventDefault(),t.deltaY!==void 0))return!0}function D2t(n,t){const{handlers:{onZoomComplete:e},options:{zoom:i}}=rs(n);if(!j2t(n,t,i))return;const r=t.target.getBoundingClientRect(),a=i.wheel.speed,s=t.deltaY>=0?2-1/(1-a):1+a,o={x:s,y:s,focalPoint:{x:t.clientX-r.left,y:t.clientY-r.top}};eR(n,o,"zoom","wheel"),Pn(e,[{chart:n}])}function O2t(n,t,e,i){e&&(rs(n).handlers[t]=i2t(()=>Pn(e,[{chart:n}]),i))}function L2t(n,t){const e=n.canvas,{wheel:i,drag:r,onZoomComplete:a}=t.zoom;i.enabled?(Yw(n,e,"wheel",D2t),O2t(n,"onZoomComplete",a,250)):xu(n,"wheel"),r.enabled?(Yw(n,e,"mousedown",M2t),Yw(n,e.ownerDocument,"mouseup",E2t)):(xu(n,"mousedown"),xu(n,"mousemove"),xu(n,"mouseup"),xu(n,"keydown"))}function R2t(n){xu(n,"mousedown"),xu(n,"mousemove"),xu(n,"mouseup"),xu(n,"wheel"),xu(n,"click"),xu(n,"keydown")}function I2t(n,t){return function(e,i){const{pan:r,zoom:a={}}=t.options;if(!r||!r.enabled)return!1;const s=i&&i.srcEvent;return s&&!t.panning&&i.pointerType==="mouse"&&(tR(w_(r),s)||AX(w_(a.drag),s))?(Pn(r.onPanRejected,[{chart:n,event:i}]),!1):!0}}function z2t(n,t){const e=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY),r=e/i;let a,s;return r>.3&&r<1.7?a=s=!0:e>i?a=!0:s=!0,{x:a,y:s}}function IX(n,t,e){if(t.scale){const{center:i,pointers:r}=e,a=1/t.scale*e.scale,s=e.target.getBoundingClientRect(),o=z2t(r[0],r[1]),l=t.options.zoom.mode,c={x:o.x&&Yy(l,"x",n)?a:1,y:o.y&&Yy(l,"y",n)?a:1,focalPoint:{x:i.x-s.left,y:i.y-s.top}};eR(n,c,"zoom","pinch"),t.scale=e.scale}}function F2t(n,t,e){if(t.options.zoom.pinch.enabled){const i=hg(e,n);Pn(t.options.zoom.onZoomStart,[{chart:n,event:e,point:i}])===!1?(t.scale=null,Pn(t.options.zoom.onZoomRejected,[{chart:n,event:e}])):t.scale=1}}function B2t(n,t,e){t.scale&&(IX(n,t,e),t.scale=null,Pn(t.options.zoom.onZoomComplete,[{chart:n}]))}function zX(n,t,e){const i=t.delta;i&&(t.panning=!0,DX(n,{x:e.deltaX-i.x,y:e.deltaY-i.y},t.panScales),t.delta={x:e.deltaX,y:e.deltaY})}function H2t(n,t,e){const{enabled:i,onPanStart:r,onPanRejected:a}=t.options.pan;if(!i)return;const s=e.target.getBoundingClientRect(),o={x:e.center.x-s.left,y:e.center.y-s.top};if(Pn(r,[{chart:n,event:e,point:o}])===!1)return Pn(a,[{chart:n,event:e}]);t.panScales=TX(t.options.pan,o,n),t.delta={x:0,y:0},zX(n,t,e)}function G2t(n,t){t.delta=null,t.panning&&(t.panning=!1,t.filterNextClick=!0,Pn(t.options.pan.onPanComplete,[{chart:n}]))}const Mj=new WeakMap;function zH(n,t){const e=rs(n),i=n.canvas,{pan:r,zoom:a}=t,s=new Uw.Manager(i);a&&a.pinch.enabled&&(s.add(new Uw.Pinch),s.on("pinchstart",o=>F2t(n,e,o)),s.on("pinch",o=>IX(n,e,o)),s.on("pinchend",o=>B2t(n,e,o))),r&&r.enabled&&(s.add(new Uw.Pan({threshold:r.threshold,enable:I2t(n,e)})),s.on("panstart",o=>H2t(n,e,o)),s.on("panmove",o=>zX(n,e,o)),s.on("panend",()=>G2t(n,e))),Mj.set(n,s)}function FH(n){const t=Mj.get(n);t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"),t.destroy(),Mj.delete(n))}function W2t(n,t){const{pan:e,zoom:i}=n,{pan:r,zoom:a}=t;return i?.zoom?.pinch?.enabled!==a?.zoom?.pinch?.enabled||e?.enabled!==r?.enabled||e?.threshold!==r?.threshold}var U2t="2.2.0";function Fk(n,t,e){const i=e.zoom.drag,{dragStart:r,dragEnd:a}=rs(n);if(i.drawTime!==t||!a)return;const{left:s,top:o,width:l,height:c}=RX(n,e.zoom.mode,{dragStart:r,dragEnd:a},i.maintainAspectRatio),h=n.ctx;h.save(),h.beginPath(),h.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",h.fillRect(s,o,l,c),i.borderWidth>0&&(h.lineWidth=i.borderWidth,h.strokeStyle=i.borderColor||"rgba(225,225,225)",h.strokeRect(s,o,l,c)),h.restore()}var dh={id:"zoom",version:U2t,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,t,e){const i=rs(n);i.options=e,Object.prototype.hasOwnProperty.call(e.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(e.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(e.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Uw&&zH(n,e),n.pan=(r,a,s)=>DX(n,r,a,s),n.zoom=(r,a)=>eR(n,r,a),n.zoomRect=(r,a,s)=>jX(n,r,a,s),n.zoomScale=(r,a,s)=>b2t(n,r,a,s),n.resetZoom=r=>w2t(n,r),n.getZoomLevel=()=>S2t(n),n.getInitialScaleBounds=()=>OX(n),n.getZoomedScaleBounds=()=>k2t(n),n.isZoomedOrPanned=()=>C2t(n),n.isZoomingOrPanning=()=>LH(n)},beforeEvent(n,{event:t}){if(LH(n))return!1;if(t.type==="click"||t.type==="mouseup"){const e=rs(n);if(e.filterNextClick)return e.filterNextClick=!1,!1}},beforeUpdate:function(n,t,e){const i=rs(n),r=i.options;i.options=e,W2t(r,e)&&(FH(n),zH(n,e)),L2t(n,e)},beforeDatasetsDraw(n,t,e){Fk(n,"beforeDatasetsDraw",e)},afterDatasetsDraw(n,t,e){Fk(n,"afterDatasetsDraw",e)},beforeDraw(n,t,e){Fk(n,"beforeDraw",e)},afterDraw(n,t,e){Fk(n,"afterDraw",e)},stop:function(n){R2t(n),Uw&&FH(n),a2t(n)},panFunctions:Aj,zoomFunctions:kj,zoomRectFunctions:Cj};gi.register(fd,Ji,pa,Xr,Xo,Qi,sr,dh);const eP=({buyData:n,title:t,color:e,isZoom:i})=>{const r={datasets:[{label:"T l",data:n.map(s=>{const[o,l,c]=s.x.split("/");return{x:new Date(c,l-1,o),y:s.y}}),borderColor:e,backgroundColor:e,fill:!1,tension:.3}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:s=>`${s.dataset.label}: ${s.parsed.y.toLocaleString()}`}},zoom:{zoom:{wheel:{enabled:i},pinch:{enabled:i},mode:"x"},pan:{enabled:i,mode:"x"}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},ticks:{color:"#64748B"},grid:{color:"rgba(148, 163, 184, 0.1)"}},y:{ticks:{color:"#64748B",callback:s=>s.toLocaleString()},grid:{color:"rgba(148, 163, 184, 0.1)"}}}};return u.jsxs("div",{className:"chart-wrapper",style:{height:"94%",width:"100%"},children:[u.jsx("h3",{style:{cursor:"pointer"},children:t}),u.jsx("div",{style:{width:"100%",height:"100%"},children:u.jsx(xa,{type:"line",data:r,options:a})})]})},Y2t=["https://api_gold.thinkdiff.us/sacombank_vang_history","https://api_gold.thinkdiff.us/sacombank_bac_history","https://api_gold.thinkdiff.us/history_bac_phuquy","https://api_gold.thinkdiff.us/phuquy_gold_history"],$2t=async()=>{const n=Y2t.map(async e=>{try{const i=await fetch(e);return i.ok?await i.json():null}catch(i){return console.error(`Li khi gi API ${e}:`,i),null}}),t=await Promise.all(n);return{sjcGold:t[0],sjcSilver:t[1],bacPhuQuy:t[2],phuQuyGold:t[3]}},V2t=(n=[])=>!n||n.length===0?[]:n.map(e=>({buy:e?.buy,sell:e?.sell,date:new Date(e?.date).toLocaleDateString("vi-VN")})),X2t=(n=[])=>!n||n.length===0?[]:n.map(e=>({buy:e?.buy*.00375,sell:e?.sell*.00375,date:new Date(e?.id_time).toLocaleDateString("vi-VN")})),q2t=(n=[])=>!n||n.length===0?[]:n.map(e=>{const i=JSON.parse(e?.nhan_tron_phu_quy_9999);return{buy:i?.mua,sell:i?.ban,date:new Date(e?.update_time).toLocaleDateString("vi-VN",{timeZone:"UTC"})}}),Bk=(n=[])=>!n||n.length===0?[]:Object.values(n.reduce((e,i)=>{const r=i.buy+i.sell;return(!e[i.date]||r>e[i.date].buy+e[i.date].sell)&&(e[i.date]=i),e},{}));function BH(n,t){const e=i=>{const[r,a,s]=i.split("/").map(Number);return new Date(s,a-1,r)};return n.map(i=>{if(!i.buy||!i.sell||!i.date)return null;const r=e(i.date),a=t.find(s=>{if(!s.date||!s.buy||!s.sell)return!1;const o=e(s.date);return Math.abs(r-o)/(1e3*60*60*24)<=1});if(a&&a.buy>0&&a.sell>0){const s=(i?.buy+i?.sell)/2/((a?.buy+a?.sell)/2);return{x:i.date,y:s}}return null}).filter(i=>i!==null)}function K2t(){const[n,t]=N.useState(null),[e,i]=N.useState(!1),[r,a]=N.useState(null),[s,o]=N.useState(!1),[l,c]=N.useState([]),[h,d]=N.useState(""),[g,y]=N.useState("");N.useEffect(()=>{(async()=>{try{i(!0);const k=await $2t(),A=Bk(k?.sjcGold?.data),T=Bk(V2t(k?.sjcSilver?.data)),R=Bk(X2t(k?.bacPhuQuy?.list_phuquy)),G=Bk(q2t(k?.phuQuyGold));t({dataChartSacombank:BH(A,T),dataChartPhuQuy:BH(G,R)}),a(null)}catch(k){console.error("Error loading candlestick data:",k),a("Khng th ti d liu biu . Vui lng th li sau.")}finally{i(!1)}})()},[i,t,a]);const x=(w,k,A)=>{c(w),y(k),o(!0),d(A)};return u.jsxs("div",{style:{display:"flex",gap:"10px",textAlign:"center",width:"100%",flexWrap:"wrap",justifyContent:"center"},children:[!n&&u.jsx("h2",{style:{color:"white",textAlign:"center",width:"100%",marginTop:"100px"},children:"ang ti...."}),n&&n?.dataChartPhuQuy&&u.jsx("div",{onClick:()=>x(n?.dataChartPhuQuy,"Biu  xau/xag Ph Qu","#22C55E"),style:{width:"calc(50% - 5px)",minWidth:"280px",maxWidth:"450px",flex:"1 1 auto"},children:u.jsx(eP,{buyData:n?.dataChartPhuQuy,title:"Biu  xau/xag Ph Qu",color:"#22C55E",isZoom:s})}),n&&n?.dataChartSacombank&&u.jsx("div",{onClick:()=>x(n?.dataChartSacombank,"Biu  xau/xag Sacombank","#EF4444"),style:{width:"calc(50% - 5px)",minWidth:"280px",maxWidth:"450px",flex:"1 1 auto"},children:u.jsx(eP,{buyData:n?.dataChartSacombank,title:"Biu  xau/xag Sacombank",color:"#EF4444",isZoom:s})}),s&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center",padding:"10px"},onClick:()=>o(!1),children:u.jsxs("div",{style:{width:"100%",maxWidth:"1600px",height:"90vh",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px",overflow:"auto",boxSizing:"border-box"},onClick:w=>w.stopPropagation(),children:[u.jsx(eP,{buyData:l,title:g,color:h,isZoom:s}),u.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:()=>o(!1),children:"ng"})]})})]})}function Z2t({visible:n,x:t,y:e,children:i}){return n?R_.createPortal(u.jsx("div",{className:"custom-tooltip show",style:{top:e,left:t},children:i}),document.body):null}const nP=n=>!n||n.length===0?[]:[...n].sort((i,r)=>new Date(i.id_time)-new Date(r.id_time)).map(i=>({x:new Date(i.id_time).getTime(),o:i.open||0,h:i.high||0,l:i.low||0,c:i.close||0}));function HH(n,t,e=!0){return n.sort((i,r)=>{const a=i[t],s=r[t];return typeof a=="string"&&/\d{4}-\d{2}-\d{2}/.test(a)?e?new Date(a)-new Date(s):new Date(s)-new Date(a):e?a-s:s-a})}const GH="https://api_gold.thinkdiff.us",FX=async(n=1)=>{try{const t=`${GH}/volume_xau_usd?page=${n}`,e=`${GH}/volume_xag_usd?page=${n}`,i=await fetch(t),r=await fetch(e);if(!i.ok)throw new Error(`XAU HTTP error! ${i.status}`);if(!r.ok)throw new Error(`XAG HTTP error! ${r.status}`);const a=await i.json(),s=await r.json(),o=a?.data?.total_page||s?.data?.total_page||0,l=a?.data?.list_volume||[],c=s?.data?.list_volume||[],h=l.length>0,d=c.length>0;return{volumeXauRaw:l,volumeXagRaw:c,hasMore:h||d,page:n,totalPages:o}}catch(t){return console.error(`Error fetching XAU/XAG data for page ${n}:`,t),{volumeXauRaw:[],volumeXagRaw:[],hasMore:!1,page:n,totalPages:0}}},WH=async(n=1,t=1,e=null)=>{const i=[],r=[];let a=0;try{const s=[];for(let d=n;d<=t;d++)s.push(d);const o=s.map(async d=>{const g=await FX(d);return{page:d,...g}}),l=await Promise.all(o);l.forEach((d,g)=>{if((d.volumeXauRaw.length>0||d.volumeXagRaw.length>0)&&(i.push(...d.volumeXauRaw),r.push(...d.volumeXagRaw),a=d.page,e))try{e(d.page,d,g+1,l.length)}catch(y){console.warn("Callback error in onPageLoaded:",y)}});const c=Array.from(new Map(i.map(d=>[d.timestamp,d])).values()),h=Array.from(new Map(r.map(d=>[d.timestamp,d])).values());return HH(c,"timestamp",!0),HH(h,"timestamp",!1),console.log("Total loaded - volumeXauRaw:",c.length,"items"),console.log("Total loaded - volumeXagRaw:",h.length,"items"),{volumeXauRaw:c,volumeXagRaw:h,totalPages:a}}catch(s){return console.error("Error fetching multiple pages XAU/XAG data:",s),{volumeXauRaw:i,volumeXagRaw:r,totalPages:a}}},Ep=async n=>{const t=await FX(n),e=t.volumeXauRaw.length?t.volumeXauRaw.reduce((r,a)=>r+a.volume,0)/t.volumeXauRaw.length:0,i=t.volumeXagRaw.length?t.volumeXagRaw.reduce((r,a)=>r+a.volume,0)/t.volumeXagRaw.length:0;return{volumeXauRaw:t.volumeXauRaw,volumeXagRaw:t.volumeXagRaw,totalPages:t.totalPages,hasMore:t.hasMore,volume_trungbinh:{xau:e,xag:i}}},rd=n=>n.map(t=>({x:new Date(t.timestamp).getTime(),y:[parseFloat(t.open_price),parseFloat(t.high_price),parseFloat(t.low_price),parseFloat(t.close_price)],volume:t.volume?parseFloat(t.volume):0}));gi.register(qr,Ji,Fa,Qi,sr,dh);const BX=({dataXau:n,dataXag:t,enableZoom:e})=>{const i=[...n].reverse(),r=[...t].reverse(),a=i.reduce((k,A)=>{const T=Number(A.y[3])/.02835;return T<k?T:k},1/0),s=r.reduce((k,A)=>{const T=Number(A.y[3]);return T<k?T:k},1/0),[o,l]=N.useState(!0),[c,h]=N.useState(!0),[d,g]=N.useState(!0);N.useEffect(()=>{const k=()=>{window.innerWidth<768?(h(!1),g(!1),l(!0)):(h(!0),g(!0))};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const x={labels:i.map(k=>new Date(k.x).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})),datasets:[{type:"bar",label:"XAU Volume",data:i.map(k=>Number(k.volume)),backgroundColor:"#FFFF33",yAxisID:"y"},{type:"bar",label:"XAG Volume",data:r.map(k=>Number(k.volume)),backgroundColor:"#00FF3C",yAxisID:"y"},{type:"line",label:"Gi XAU Close",data:i.map(k=>Number(k.y[3])/.02835),borderColor:"orange",backgroundColor:"rgba(255,165,0,0.2)",yAxisID:"yPriceXau",tension:.3,pointRadius:2},{type:"line",label:"Gi XAG Close",data:r.map(k=>Number(k.y[3])),borderColor:"blue",backgroundColor:"rgba(0,0,255,0.2)",yAxisID:"yPriceXag",tension:.3,pointRadius:2}]},w={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:o,position:"left",title:{display:!0,text:"Volume"}},yPriceXau:{type:"linear",display:c,position:"left",title:{display:!0,text:"Gi XAU (VND/Lng?)"},grid:{drawOnChartArea:!1},min:a*.995},yPriceXag:{type:"linear",display:d,position:"left",title:{display:!0,text:"Gi XAG"},grid:{drawOnChartArea:!1},min:s*.995},x:{title:{display:!0,text:"Date"}}},plugins:{zoom:{limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}},zoom:{wheel:{enabled:e},pinch:{enabled:e},mode:"x"},pan:{enabled:!0,mode:"x"}},legend:{display:!0}}};return!n||!t?u.jsx("p",{children:"Loading..."}):u.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"10px"},children:[u.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:o,onChange:k=>{e&&l(k.target.checked)}})," Hin th Volume"]}),u.jsxs("label",{style:{color:"orange"},children:[u.jsx("input",{type:"checkbox",checked:c,onChange:k=>{e&&h(k.target.checked)}})," Trc Gi XAU"]}),u.jsxs("label",{style:{color:"blue"},children:[u.jsx("input",{type:"checkbox",checked:d,onChange:k=>{e&&g(k.target.checked)}})," Trc Gi XAG"]})]}),u.jsx("div",{style:{width:"100%",height:"400px",overflow:"hidden"},children:u.jsx(xa,{type:"bar",data:x,options:w})})]})};function Nj(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function HX(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function UH(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,UX(i.key),i)}}function Ve(n,t,e){return t&&UH(n.prototype,t),e&&UH(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ow(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=nR(n))||t){e&&(n=e);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){e=e.call(n)},n:function(){var l=e.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{s||e.return==null||e.return()}finally{if(o)throw a}}}}function yS(n){var t=GX();return function(){var e,i=Y2(n);if(t){var r=Y2(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return(function(a,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(a)})(this,e)}}function U2(n,t,e){return(t=UX(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Y2(n){return Y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y2(n)}function vS(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Pj(n,t)}function GX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(GX=function(){return!!n})()}function YH(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),e.push.apply(e,i)}return e}function Oe(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?YH(Object(e),!0).forEach((function(i){U2(n,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):YH(Object(e)).forEach((function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))}))}return n}function Pj(n,t){return Pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},Pj(n,t)}function WX(n,t){return(function(e){if(Array.isArray(e))return e})(n)||(function(e,i){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,o,l,c=[],h=!0,d=!1;try{if(o=(r=r.call(e)).next,i===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(a=o.call(r)).done)&&(c.push(a.value),c.length!==i);h=!0);}catch(g){d=!0,s=g}finally{try{if(!h&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}})(n,t)||nR(n,t)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function wo(n){return(function(t){if(Array.isArray(t))return Nj(t)})(n)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(n)||nR(n)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function UX(n){var t=(function(e,i){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,i);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)})(n,"string");return typeof t=="symbol"?t:t+""}function Oc(n){return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(n)}function nR(n,t){if(n){if(typeof n=="string")return Nj(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Nj(n,t):void 0}}var qt=(function(){function n(){$e(this,n)}return Ve(n,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),r=t<0?0:255,a=t<0?-1*t:t,s=parseInt(i[0].slice(4),10),o=parseInt(i[1],10),l=parseInt(i[2],10);return"rgb("+(Math.round((r-s)*a)+s)+","+(Math.round((r-o)*a)+o)+","+(Math.round((r-l)*a)+l)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),r=t<0?0:255,a=t<0?-1*t:t,s=i>>16,o=i>>8&255,l=255&i;return"#"+(16777216+65536*(Math.round((r-s)*a)+s)+256*(Math.round((r-o)*a)+o)+(Math.round((r-l)*a)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,e){return n.isColorHex(e)?this.shadeHexColor(t,e):this.shadeRGBColor(t,e)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&Oc(t)==="object"&&!Array.isArray(t)&&t!=null}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;typeof Object.assign!="function"&&(Object.assign=function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(a),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])}return s});var r=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(a){i.isObject(e[a])&&a in t?r[a]=i.extend(t[a],e[a]):Object.assign(r,U2({},a,e[a]))})),r}},{key:"extendArray",value:function(t,e){var i=[];return t.map((function(r){i.push(n.extend(e,r))})),t=i}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){var e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(t===null||Oc(t)!=="object")return t;if(i.has(t))return i.get(t);if(Array.isArray(t)){e=[],i.set(t,e);for(var r=0;r<t.length;r++)e[r]=this.clone(t[r],i)}else if(t instanceof Date)e=new Date(t.getTime());else for(var a in e={},i.set(t,e),t)t.hasOwnProperty(a)&&(e[a]=this.clone(t[a],i));return e}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return typeof t=="number"||t===null?t:parseFloat(t)}},{key:"stripNumber",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(t)?t:parseFloat(t.toPrecision(e))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){return t.toString().includes("e")?Math.round(t):t}},{key:"elementExists",value:function(t){return!(!t||!t.isConnected)}},{key:"isInShadowDOM",value:function(t){if(!t||!t.getRootNode)return!1;var e=t.getRootNode();return e&&e!==document&&n.is("ShadowRoot",e)}},{key:"getShadowRootHost",value:function(t){return n.isInShadowDOM(t)&&t.getRootNode().host||null}},{key:"getDimensions",value:function(t){if(!t)return[0,0];var e,i=t.getRootNode&&t.getRootNode();if(i&&i!==document&&i.host){var r=i.host.getBoundingClientRect();return[r.width,r.height]}try{e=getComputedStyle(t,null)}catch{return[t.clientWidth||0,t.clientHeight||0]}var a=t.clientHeight,s=t.clientWidth;return a-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[s-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),a]}},{key:"getBoundingClientRect",value:function(t){if(!t)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce((function(e,i){return Array.isArray(i)&&(i=i.reduce((function(r,a){return r.length>a.length?r:a}))),e.length>i.length?e:i}),0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;t.substring(0,1)!=="#"&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var r=0;r<i.length;r++)i[r]=parseInt(i[r].length===1?i[r]+i[r]:i[r],16);return e!==void 0&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&t.length===4?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],r=2*Math.PI/e,a=0;a<e;a++){var s={};s.x=t*Math.sin(a*r),s.y=-t*Math.cos(a*r),i.push(s)}return i}},{key:"polarToCartesian",value:function(t,e,i,r){var a=(r-90)*Math.PI/180;return{x:t+i*Math.cos(a),y:e+i*Math.sin(a)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",i=t.toString().slice();return i=i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var r=i-t.length+1;r--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"preciseAddition",value:function(t,e){var i=(String(t).split(".")[1]||"").length,r=(String(e).split(".")[1]||"").length,a=Math.pow(10,Math.max(i,r));return(Math.round(t*a)+Math.round(e*a))/a}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isMsEdge",value:function(){var t=window.navigator.userAgent,e=t.indexOf("Edge/");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}},{key:"getGCD",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,i-Math.floor(Math.log10(Math.max(t,e))));for(r>1?(t=Math.round(Math.abs(t)*r),e=Math.round(Math.abs(e)*r)):r=1;e;){var a=e;e=t%e,t=a}return t/r}},{key:"getPrimeFactors",value:function(t){for(var e=[],i=2;t>=2;)t%i==0?(e.push(i),t/=i):i++;return e}},{key:"mod",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,i-Math.floor(Math.log10(Math.max(t,e))));return(t=Math.round(Math.abs(t)*r))%(e=Math.round(Math.abs(e)*r))/r}}]),n})(),m1=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"animateLine",value:function(t,e,i,r){t.attr(e).animate(r).attr(i)}},{key:"animateMarker",value:function(t,e,i,r){t.attr({opacity:0}).animate(e).attr({opacity:1}).after((function(){r()}))}},{key:"animateRect",value:function(t,e,i,r,a){t.attr(e).animate(r).attr(i).after((function(){return a()}))}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,r=t.j,a=t.fill,s=t.pathFrom,o=t.pathTo,l=t.speed,c=t.delay,h=this.w,d=0;h.config.chart.animations.animateGradually.enabled&&(d=h.config.chart.animations.animateGradually.delay),h.config.chart.animations.dynamicAnimation.enabled&&h.globals.dataChanged&&h.config.chart.type!=="bar"&&(d=0),this.morphSVG(e,i,r,h.config.chart.type!=="line"||h.globals.comboCharts?a:"stroke",s,o,l,c*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){var e=t.el;e.classList.remove("apexcharts-element-hidden"),e.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),typeof e.config.chart.events.animationEnd=="function"&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,r,a,s,o,l){var c=this,h=this.w;a||(a=t.attr("pathFrom")),s||(s=t.attr("pathTo"));var d=function(g){return h.config.chart.type==="radar"&&(o=1),"M 0 ".concat(h.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),(!s.trim()||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=d()),h.globals.shouldAnimate||(o=1),t.plot(a).animate(1,l).plot(a).animate(o,l).plot(s).after((function(){qt.isNumber(i)?i===h.globals.series[h.globals.maxValsInArrayIndex].length-2&&h.globals.shouldAnimate&&c.animationCompleted(t):r!=="none"&&h.globals.shouldAnimate&&(!h.globals.comboCharts&&e===h.globals.series.length-1||h.globals.comboCharts)&&c.animationCompleted(t),c.showDelayedElements()}))}}]),n})();const Ej={},YX=[];function _i(n,t){if(Array.isArray(n))for(const e of n)_i(e,t);else if(typeof n!="object")$X(Object.getOwnPropertyNames(t)),Ej[n]=Object.assign(Ej[n]||{},t);else for(const e in n)_i(e,n[e])}function pu(n){return Ej[n]||{}}function $X(n){YX.push(...n)}function iR(n,t){let e;const i=n.length,r=[];for(e=0;e<i;e++)r.push(t(n[e]));return r}function iP(n){return n%360*Math.PI/180}function y1(n){return n.charAt(0).toUpperCase()+n.slice(1)}function v1(n,t,e,i){return t!=null&&e!=null||(i=i||n.bbox(),t==null?t=i.width/i.height*e:e==null&&(e=i.height/i.width*t)),{width:t,height:e}}function jj(n,t){const e=n.origin;let i=n.ox!=null?n.ox:n.originX!=null?n.originX:"center",r=n.oy!=null?n.oy:n.originY!=null?n.originY:"center";e!=null&&([i,r]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const a=typeof i=="string",s=typeof r=="string";if(a||s){const{height:o,width:l,x:c,y:h}=t.bbox();a&&(i=i.includes("left")?c:i.includes("right")?c+l:c+l/2),s&&(r=r.includes("top")?h:r.includes("bottom")?h+o:h+o/2)}return[i,r]}const Q2t=new Set(["desc","metadata","title"]),Dj=n=>Q2t.has(n.nodeName),VX=(n,t,e={})=>{const i={...t};for(const r in i)i[r].valueOf()===e[r]&&delete i[r];Object.keys(i).length?n.node.setAttribute("data-svgjs",JSON.stringify(i)):(n.node.removeAttribute("data-svgjs"),n.node.removeAttribute("svgjs:data"))},rR="http://www.w3.org/2000/svg",rP="http://www.w3.org/2000/xmlns/",x1="http://www.w3.org/1999/xlink",pr={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function xS(){return pr.window}let aR=class{};const Ax={},sR="___SYMBOL___ROOT___";function __(n,t=rR){return pr.document.createElementNS(t,n)}function Rc(n,t=!1){if(n instanceof aR)return n;if(typeof n=="object")return aP(n);if(n==null)return new Ax[sR];if(typeof n=="string"&&n.charAt(0)!=="<")return aP(pr.document.querySelector(n));const e=t?pr.document.createElement("div"):__("svg");return e.innerHTML=n,n=aP(e.firstChild),e.removeChild(e.firstChild),n}function ma(n,t){return t&&(t instanceof pr.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:__(n)}function od(n){if(!n)return null;if(n.instance instanceof aR)return n.instance;if(n.nodeName==="#document-fragment")return new Ax.Fragment(n);let t=y1(n.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Ax[t]||(t="Dom"),new Ax[t](n)}let aP=od;function yr(n,t=n.name,e=!1){return Ax[t]=n,e&&(Ax[sR]=n),$X(Object.getOwnPropertyNames(n.prototype)),n}let J2t=1e3;function XX(n){return"Svgjs"+y1(n)+J2t++}function qX(n){for(let t=n.children.length-1;t>=0;t--)qX(n.children[t]);return n.id&&(n.id=XX(n.nodeName)),n}function jn(n,t){let e,i;for(i=(n=Array.isArray(n)?n:[n]).length-1;i>=0;i--)for(e in t)n[i].prototype[e]=t[e]}function ga(n){return function(...t){const e=t[t.length-1];return!e||e.constructor!==Object||e instanceof Array?n.apply(this,t):n.apply(this,t.slice(0,-1)).attr(e)}}_i("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const n=this.position();return this.parent().add(this.remove(),n+1),this},backward:function(){const n=this.position();return this.parent().add(this.remove(),n?n-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(n){(n=Rc(n)).remove();const t=this.position();return this.parent().add(n,t),this},after:function(n){(n=Rc(n)).remove();const t=this.position();return this.parent().add(n,t+1),this},insertBefore:function(n){return(n=Rc(n)).before(this),this},insertAfter:function(n){return(n=Rc(n)).after(this),this}});const KX=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,tAt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,eAt=/rgb\((\d+),(\d+),(\d+)\)/,nAt=/(#[a-z_][a-z0-9\-_]*)/i,iAt=/\)\s*,?\s*/,rAt=/\s/g,$H=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,VH=/^rgb\(/,XH=/^(\s+)?$/,qH=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,aAt=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,sm=/[\s,]+/,oR=/[MLHVCSQTAZ]/i;function sAt(n){const t=Math.round(n),e=Math.max(0,Math.min(255,t)).toString(16);return e.length===1?"0"+e:e}function sb(n,t){for(let e=t.length;e--;)if(n[t[e]]==null)return!1;return!0}function sP(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+(t-n)*(2/3-e)*6:n}_i("Dom",{classes:function(){const n=this.attr("class");return n==null?[]:n.trim().split(sm)},hasClass:function(n){return this.classes().indexOf(n)!==-1},addClass:function(n){if(!this.hasClass(n)){const t=this.classes();t.push(n),this.attr("class",t.join(" "))}return this},removeClass:function(n){return this.hasClass(n)&&this.attr("class",this.classes().filter((function(t){return t!==n})).join(" ")),this},toggleClass:function(n){return this.hasClass(n)?this.removeClass(n):this.addClass(n)}}),_i("Dom",{css:function(n,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(i){return!!i.length})).forEach((function(i){const r=i.split(/\s*:\s*/);e[r[0]]=r[1]})),e;if(arguments.length<2){if(Array.isArray(n)){for(const i of n){const r=i;e[i]=this.node.style.getPropertyValue(r)}return e}if(typeof n=="string")return this.node.style.getPropertyValue(n);if(typeof n=="object")for(const i in n)this.node.style.setProperty(i,n[i]==null||XH.test(n[i])?"":n[i])}return arguments.length===2&&this.node.style.setProperty(n,t==null||XH.test(t)?"":t),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),_i("Dom",{data:function(n,t,e){if(n==null)return this.data(iR((function(i,r){let a;const s=i.length,o=[];for(a=0;a<s;a++)r(i[a])&&o.push(i[a]);return o})(this.node.attributes,(i=>i.nodeName.indexOf("data-")===0)),(i=>i.nodeName.slice(5))));if(n instanceof Array){const i={};for(const r of n)i[r]=this.data(r);return i}if(typeof n=="object")for(t in n)this.data(t,n[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+n))}catch{return this.attr("data-"+n)}else this.attr("data-"+n,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}}),_i("Dom",{remember:function(n,t){if(typeof arguments[0]=="object")for(const e in n)this.remember(e,n[e]);else{if(arguments.length===1)return this.memory()[n];this.memory()[n]=t}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let n=arguments.length-1;n>=0;n--)delete this.memory()[arguments[n]];return this},memory:function(){return this._memory=this._memory||{}}});let Mg=class yo{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof yo||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:i,round:r,sin:a,PI:s}=Math;if(t==="vibrant"){const o=24*i()+57,l=38*i()+45,c=360*i();return new yo(o,l,c,"lch")}if(t==="sine"){const o=r(80*a(2*s*(e=e??i())/.5+.01)+150),l=r(50*a(2*s*e/.5+4.6)+200),c=r(100*a(2*s*e/.5+2.3)+150);return new yo(o,l,c)}if(t==="pastel"){const o=8*i()+86,l=17*i()+9,c=360*i();return new yo(o,l,c,"lch")}if(t==="dark"){const o=10+10*i(),l=50*i()+86,c=360*i();return new yo(o,l,c,"lch")}if(t==="rgb"){const o=255*i(),l=255*i(),c=255*i();return new yo(o,l,c)}if(t==="lab"){const o=100*i(),l=256*i()-128,c=256*i()-128;return new yo(o,l,c,"lab")}if(t==="grey"){const o=255*i();return new yo(o,o,o)}throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&($H.test(t)||VH.test(t))}cmyk(){const{_a:t,_b:e,_c:i}=this.rgb(),[r,a,s]=[t,e,i].map((l=>l/255)),o=Math.min(1-r,1-a,1-s);return o===1?new yo(0,0,0,1,"cmyk"):new yo((1-r-o)/(1-o),(1-a-o)/(1-o),(1-s-o)/(1-o),o,"cmyk")}hsl(){const{_a:t,_b:e,_c:i}=this.rgb(),[r,a,s]=[t,e,i].map((g=>g/255)),o=Math.max(r,a,s),l=Math.min(r,a,s),c=(o+l)/2,h=o===l,d=o-l;return new yo(360*(h?0:o===r?((a-s)/d+(a<s?6:0))/6:o===a?((s-r)/d+2)/6:o===s?((r-a)/d+4)/6:0),100*(h?0:c>.5?d/(2-o-l):d/(o+l)),100*c,"hsl")}init(t=0,e=0,i=0,r=0,a="rgb"){if(t=t||0,this.space)for(const d in this.space)delete this[this.space[d]];if(typeof t=="number")a=typeof r=="string"?r:a,r=typeof r=="string"?0:r,Object.assign(this,{_a:t,_b:e,_c:i,_d:r,space:a});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const d=(function(g,y){const x=sb(g,"rgb")?{_a:g.r,_b:g.g,_c:g.b,_d:0,space:"rgb"}:sb(g,"xyz")?{_a:g.x,_b:g.y,_c:g.z,_d:0,space:"xyz"}:sb(g,"hsl")?{_a:g.h,_b:g.s,_c:g.l,_d:0,space:"hsl"}:sb(g,"lab")?{_a:g.l,_b:g.a,_c:g.b,_d:0,space:"lab"}:sb(g,"lch")?{_a:g.l,_b:g.c,_c:g.h,_d:0,space:"lch"}:sb(g,"cmyk")?{_a:g.c,_b:g.m,_c:g.y,_d:g.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return x.space=y||x.space,x})(t,e);Object.assign(this,d)}else if(typeof t=="string")if(VH.test(t)){const d=t.replace(rAt,""),[g,y,x]=eAt.exec(d).slice(1,4).map((w=>parseInt(w)));Object.assign(this,{_a:g,_b:y,_c:x,_d:0,space:"rgb"})}else{if(!$H.test(t))throw Error("Unsupported string format, can't construct Color");{const d=w=>parseInt(w,16),[,g,y,x]=tAt.exec((function(w){return w.length===4?["#",w.substring(1,2),w.substring(1,2),w.substring(2,3),w.substring(2,3),w.substring(3,4),w.substring(3,4)].join(""):w})(t)).map(d);Object.assign(this,{_a:g,_b:y,_c:x,_d:0,space:"rgb"})}}const{_a:s,_b:o,_c:l,_d:c}=this,h=this.space==="rgb"?{r:s,g:o,b:l}:this.space==="xyz"?{x:s,y:o,z:l}:this.space==="hsl"?{h:s,s:o,l}:this.space==="lab"?{l:s,a:o,b:l}:this.space==="lch"?{l:s,c:o,h:l}:this.space==="cmyk"?{c:s,m:o,y:l,k:c}:{};Object.assign(this,h)}lab(){const{x:t,y:e,z:i}=this.xyz();return new yo(116*e-16,500*(t-e),200*(e-i),"lab")}lch(){const{l:t,a:e,b:i}=this.lab(),r=Math.sqrt(e**2+i**2);let a=180*Math.atan2(i,e)/Math.PI;return a<0&&(a*=-1,a=360-a),new yo(t,r,a,"lch")}rgb(){if(this.space==="rgb")return this;if((t=this.space)==="lab"||t==="xyz"||t==="lch"){let{x:e,y:i,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:y,a:x,b:w}=this;if(this.space==="lch"){const{c:F,h:H}=this,Y=Math.PI/180;x=F*Math.cos(Y*H),w=F*Math.sin(Y*H)}const k=(y+16)/116,A=x/500+k,T=k-w/200,R=16/116,G=.008856,z=7.787;e=.95047*(A**3>G?A**3:(A-R)/z),i=1*(k**3>G?k**3:(k-R)/z),r=1.08883*(T**3>G?T**3:(T-R)/z)}const a=3.2406*e+-1.5372*i+-.4986*r,s=-.9689*e+1.8758*i+.0415*r,o=.0557*e+-.204*i+1.057*r,l=Math.pow,c=.0031308,h=a>c?1.055*l(a,1/2.4)-.055:12.92*a,d=s>c?1.055*l(s,1/2.4)-.055:12.92*s,g=o>c?1.055*l(o,1/2.4)-.055:12.92*o;return new yo(255*h,255*d,255*g)}if(this.space==="hsl"){let{h:e,s:i,l:r}=this;if(e/=360,i/=100,r/=100,i===0)return r*=255,new yo(r,r,r);const a=r<.5?r*(1+i):r+i-r*i,s=2*r-a,o=255*sP(s,a,e+1/3),l=255*sP(s,a,e),c=255*sP(s,a,e-1/3);return new yo(o,l,c)}if(this.space==="cmyk"){const{c:e,m:i,y:r,k:a}=this,s=255*(1-Math.min(1,e*(1-a)+a)),o=255*(1-Math.min(1,i*(1-a)+a)),l=255*(1-Math.min(1,r*(1-a)+a));return new yo(s,o,l)}return this;var t}toArray(){const{_a:t,_b:e,_c:i,_d:r,space:a}=this;return[t,e,i,r,a]}toHex(){const[t,e,i]=this._clamped().map(sAt);return`#${t}${e}${i}`}toRgb(){const[t,e,i]=this._clamped();return`rgb(${t},${e},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:i}=this.rgb(),[r,a,s]=[t,e,i].map((k=>k/255)),o=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,h=(.4124*o+.3576*l+.1805*c)/.95047,d=(.2126*o+.7152*l+.0722*c)/1,g=(.0193*o+.1192*l+.9505*c)/1.08883,y=h>.008856?Math.pow(h,1/3):7.787*h+16/116,x=d>.008856?Math.pow(d,1/3):7.787*d+16/116,w=g>.008856?Math.pow(g,1/3):7.787*g+16/116;return new yo(y,x,w,"xyz")}_clamped(){const{_a:t,_b:e,_c:i}=this.rgb(),{max:r,min:a,round:s}=Math;return[t,e,i].map((o=>r(0,a(s(o),255))))}},aa=class ZX{constructor(...t){this.init(...t)}clone(){return new ZX(this)}init(t,e){const a=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=a.x==null?0:a.x,this.y=a.y==null?0:a.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){Hi.isMatrixLike(t)||(t=new Hi(t));const{x:e,y:i}=this;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}};function ob(n,t,e){return Math.abs(t-n)<1e-6}let Hi=class vo{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,i=t.flip&&(e||t.flip==="x")?-1:1,r=t.flip&&(e||t.flip==="y")?-1:1,a=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,s=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,l=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,c=t.shear||0,h=t.rotate||t.theta||0,d=new aa(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),g=d.x,y=d.y,x=new aa(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),w=x.x,k=x.y,A=new aa(t.translate||t.tx||t.translateX,t.ty||t.translateY),T=A.x,R=A.y,G=new aa(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:o,scaleY:l,skewX:a,skewY:s,shear:c,theta:h,rx:G.x,ry:G.y,tx:T,ty:R,ox:g,oy:y,px:w,py:k}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,i){const r=t.a*e.a+t.c*e.b,a=t.b*e.a+t.d*e.b,s=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,l=t.e+t.a*e.e+t.c*e.f,c=t.f+t.b*e.e+t.d*e.f;return i.a=r,i.b=a,i.c=s,i.d=o,i.e=l,i.f=c,i}around(t,e,i){return this.clone().aroundO(t,e,i)}aroundO(t,e,i){const r=t||0,a=e||0;return this.translateO(-r,-a).lmultiplyO(i).translateO(r,a)}clone(){return new vo(this)}decompose(t=0,e=0){const i=this.a,r=this.b,a=this.c,s=this.d,o=this.e,l=this.f,c=i*s-r*a,h=c>0?1:-1,d=h*Math.sqrt(i*i+r*r),g=Math.atan2(h*r,h*i),y=180/Math.PI*g,x=Math.cos(g),w=Math.sin(g),k=(i*a+r*s)/c,A=a*d/(k*i-r)||s*d/(k*r+i);return{scaleX:d,scaleY:A,shear:k,rotate:y,translateX:o-t+t*x*d+e*(k*x*d-w*A),translateY:l-e+t*w*d+e*(k*w*d+x*A),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new vo(t);return ob(this.a,e.a)&&ob(this.b,e.b)&&ob(this.c,e.c)&&ob(this.d,e.d)&&ob(this.e,e.e)&&ob(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=vo.fromArray([1,0,0,1,0,0]);return t=t instanceof Cl?t.matrixify():typeof t=="string"?vo.fromArray(t.split(sm).map(parseFloat)):Array.isArray(t)?vo.fromArray(t):typeof t=="object"&&vo.isMatrixLike(t)?t:typeof t=="object"?new vo().transform(t):arguments.length===6?vo.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,i=this.c,r=this.d,a=this.e,s=this.f,o=t*r-e*i;if(!o)throw new Error("Cannot invert "+this);const l=r/o,c=-e/o,h=-i/o,d=t/o,g=-(l*a+h*s),y=-(c*a+d*s);return this.a=l,this.b=c,this.c=h,this.d=d,this.e=g,this.f=y,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof vo?t:new vo(t);return vo.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof vo?t:new vo(t);return vo.matrixMultiply(this,e,this)}rotate(t,e,i){return this.clone().rotateO(t,e,i)}rotateO(t,e=0,i=0){t=iP(t);const r=Math.cos(t),a=Math.sin(t),{a:s,b:o,c:l,d:c,e:h,f:d}=this;return this.a=s*r-o*a,this.b=o*r+s*a,this.c=l*r-c*a,this.d=c*r+l*a,this.e=h*r-d*a+i*a-e*r+e,this.f=d*r+h*a-e*a-i*r+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,i=0,r=0){arguments.length===3&&(r=i,i=e,e=t);const{a,b:s,c:o,d:l,e:c,f:h}=this;return this.a=a*t,this.b=s*e,this.c=o*t,this.d=l*e,this.e=c*t-i*t+i,this.f=h*e-r*e+r,this}shear(t,e,i){return this.clone().shearO(t,e,i)}shearO(t,e=0,i=0){const{a:r,b:a,c:s,d:o,e:l,f:c}=this;return this.a=r+a*t,this.c=s+o*t,this.e=l+c*t-i*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,i=0,r=0){arguments.length===3&&(r=i,i=e,e=t),t=iP(t),e=iP(e);const a=Math.tan(t),s=Math.tan(e),{a:o,b:l,c,d:h,e:d,f:g}=this;return this.a=o+l*a,this.b=l+o*s,this.c=c+h*a,this.d=h+c*s,this.e=d+g*a-r*a,this.f=g+d*s-i*s,this}skewX(t,e,i){return this.skew(t,0,e,i)}skewY(t,e,i){return this.skew(0,t,e,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(vo.isMatrixLike(t))return new vo(t).multiplyO(this);const e=vo.formatTransforms(t),{x:i,y:r}=new aa(e.ox,e.oy).transform(this),a=new vo().translateO(e.rx,e.ry).lmultiplyO(this).translateO(-i,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(i,r);if(isFinite(e.px)||isFinite(e.py)){const s=new aa(i,r).transform(a),o=isFinite(e.px)?e.px-s.x:0,l=isFinite(e.py)?e.py-s.y:0;a.translateO(o,l)}return a.translateO(e.tx,e.ty),a}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function Ty(){if(!Ty.nodes){const n=Rc().size(2,0);n.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),n.attr("focusable","false"),n.attr("aria-hidden","true");const t=n.path().node;Ty.nodes={svg:n,path:t}}if(!Ty.nodes.svg.node.parentNode){const n=pr.document.body||pr.document.documentElement;Ty.nodes.svg.addTo(n)}return Ty.nodes}function QX(n){return!(n.width||n.height||n.x||n.y)}yr(Hi,"Matrix");let $o=class _C{constructor(...t){this.init(...t)}addOffset(){return this.x+=pr.window.pageXOffset,this.y+=pr.window.pageYOffset,new _C(this)}init(t){return t=typeof t=="string"?t.split(sm).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return QX(this)}merge(t){const e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,a=Math.max(this.y+this.height,t.y+t.height)-i;return new _C(e,i,r,a)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof Hi||(t=new Hi(t));let e=1/0,i=-1/0,r=1/0,a=-1/0;return[new aa(this.x,this.y),new aa(this.x2,this.y),new aa(this.x,this.y2),new aa(this.x2,this.y2)].forEach((function(s){s=s.transform(t),e=Math.min(e,s.x),i=Math.max(i,s.x),r=Math.min(r,s.y),a=Math.max(a,s.y)})),new _C(e,r,i-e,a-r)}};function KH(n,t,e){let i;try{if(i=t(n.node),QX(i)&&(r=n.node)!==pr.document&&!(pr.document.documentElement.contains||function(a){for(;a.parentNode;)a=a.parentNode;return a===pr.document}).call(pr.document.documentElement,r))throw new Error("Element not in the dom")}catch{i=e(n)}var r;return i}_i({viewbox:{viewbox(n,t,e,i){return n==null?new $o(this.attr("viewBox")):this.attr("viewBox",new $o(n,t,e,i))},zoom(n,t){let{width:e,height:i}=this.attr(["width","height"]);if((e||i)&&typeof e!="string"&&typeof i!="string"||(e=this.node.clientWidth,i=this.node.clientHeight),!e||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),a=e/r.width,s=i/r.height,o=Math.min(a,s);if(n==null)return o;let l=o/n;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),t=t||new aa(e/2/a+r.x,i/2/s+r.y);const c=new $o(r).transform(new Hi({scale:l,origin:t}));return this.viewbox(c)}}}),yr($o,"Box");let zx=class extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}};jn([zx],{each(n,...t){return typeof n=="function"?this.map(((e,i,r)=>n.call(e,e,i,r))):this.map((e=>e[n](...t)))},toArray(){return Array.prototype.concat.apply([],this)}});const oAt=["toArray","constructor","each"];function e0(n,t){return new zx(iR((t||pr.document).querySelectorAll(n),(function(e){return od(e)})))}zx.extend=function(n){n=n.reduce(((t,e)=>(oAt.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...i){return this.each(e,...i)}),t)),{}),jn([zx],n)};let lAt=0;const JX={};function t7(n){let t=n.getEventHolder();return t===pr.window&&(t=JX),t.events||(t.events={}),t.events}function lR(n){return n.getEventTarget()}function zp(n,t,e,i,r){const a=e.bind(i||n),s=Rc(n),o=t7(s),l=lR(s);t=Array.isArray(t)?t:t.split(sm),e._svgjsListenerId||(e._svgjsListenerId=++lAt),t.forEach((function(c){const h=c.split(".")[0],d=c.split(".")[1]||"*";o[h]=o[h]||{},o[h][d]=o[h][d]||{},o[h][d][e._svgjsListenerId]=a,l.addEventListener(h,a,r||!1)}))}function cd(n,t,e,i){const r=Rc(n),a=t7(r),s=lR(r);(typeof e!="function"||(e=e._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split(sm)).forEach((function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let h,d;if(e)a[l]&&a[l][c||"*"]&&(s.removeEventListener(l,a[l][c||"*"][e],i||!1),delete a[l][c||"*"][e]);else if(l&&c){if(a[l]&&a[l][c]){for(d in a[l][c])cd(s,[l,c].join("."),d);delete a[l][c]}}else if(c)for(o in a)for(h in a[o])c===h&&cd(s,[o,c].join("."));else if(l){if(a[l]){for(h in a[l])cd(s,[l,h].join("."));delete a[l]}}else{for(o in a)cd(s,o);(function(g){let y=g.getEventHolder();y===pr.window&&(y=JX),y.events&&(y.events={})})(r)}}))}let bS=class extends aR{addEventListener(){}dispatch(t,e,i){return(function(r,a,s,o){const l=lR(r);return a instanceof pr.window.Event||(a=new pr.window.CustomEvent(a,{detail:s,cancelable:!0,...o})),l.dispatchEvent(a),a})(this,t,e,i)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const i=e[t.type];for(const r in i)for(const a in i[r])i[r][a](t);return!t.defaultPrevented}fire(t,e,i){return this.dispatch(t,e,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,i){return cd(this,t,e,i),this}on(t,e,i,r){return zp(this,t,e,i,r),this}removeEventListener(){}};function ZH(){}yr(bS,"EventTarget");const oP=400,cAt=">",uAt=0,hAt={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};let Fx=class extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(sm).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}},wr=class nf{constructor(...t){this.init(...t)}convert(t){return new nf(this.value,t)}divide(t){return t=new nf(t),new nf(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(KX))&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5]):t instanceof nf&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new nf(t),new nf(this-t,this.unit||t.unit)}plus(t){return t=new nf(t),new nf(this+t,this.unit||t.unit)}times(t){return t=new nf(t),new nf(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};const dAt=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),e7=[];let Ub=class n7 extends bS{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=Rc(t)).removeNamespace&&this.node instanceof pr.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return Rc(t).put(this,e)}children(){return new zx(iR(this.node.children,(function(t){return od(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return e&&(i=qX(i)),new this.constructor(i)}each(t,e){const i=this.children();let r,a;for(r=0,a=i.length;r<a;r++)t.apply(i[r],[r,i]),e&&i[r].each(t,e);return this}element(t,e){return this.put(new n7(__(t),e))}first(){return od(this.node.firstChild)}get(t){return od(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return t!==void 0||this.node.id||(this.node.id=XX(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return od(this.node.lastChild)}matches(t){const e=this.node,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=od(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=od(e.node.parentNode));return e}put(t,e){return t=Rc(t),this.add(t,e),t}putIn(t,e){return Rc(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=Rc(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const i=10**t,r=this.attr(e);for(const a in r)typeof r[a]=="number"&&(r[a]=Math.round(r[a]*i)/i);return this.attr(r),this}svg(t,e){return this.xml(t,e,rR)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const i=e.index(this);return e.put(t,i).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){e=e==null||e,this.writeDataToDom();let o=this;if(t!=null){if(o=od(o.node.cloneNode(!0)),e){const l=t(o);if(o=l||o,l===!1)return""}o.each((function(){const l=t(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)}),!0)}return e?o.node.outerHTML:o.node.innerHTML}e=e!=null&&e;const r=__("wrapper",i),a=pr.document.createDocumentFragment();r.innerHTML=t;for(let o=r.children.length;o--;)a.appendChild(r.firstElementChild);const s=this.parent();return e?this.replace(a)&&s:this.add(a)}};jn(Ub,{attr:function(n,t,e){if(n==null){n={},t=this.node.attributes;for(const i of t)n[i.nodeName]=qH.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return n}if(n instanceof Array)return n.reduce(((i,r)=>(i[r]=this.attr(r),i)),{});if(typeof n=="object"&&n.constructor===Object)for(t in n)this.attr(t,n[t]);else if(t===null)this.node.removeAttribute(n);else{if(t==null)return(t=this.node.getAttribute(n))==null?hAt[n]:qH.test(t)?parseFloat(t):t;typeof(t=e7.reduce(((i,r)=>r(n,i,this)),t))=="number"?t=new wr(t):dAt.has(n)&&Mg.isColor(t)?t=new Mg(t):t.constructor===Array&&(t=new Fx(t)),n==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,n,t.toString()):this.node.setAttribute(n,t.toString()),!this.rebuild||n!=="font-size"&&n!=="x"||this.rebuild()}return this},find:function(n){return e0(n,this.node)},findOne:function(n){return od(this.node.querySelector(n))}}),yr(Ub,"Dom");let Cl=class extends Ub{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new wr(t).plus(this.x()))}dy(t=0){return this.y(new wr(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=Rc(t));const i=new zx;let r=this;for(;(r=r.parent())&&r.node!==pr.document&&r.nodeName!=="#document-fragment"&&(i.push(r),e||r.node!==t.node)&&(!e||!r.matches(t));)if(r.node===this.root().node)return null;return i}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(nAt);return e?Rc(e[1]):null}root(){const t=this.parent((function(e){return Ax[e]})(sR));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const i=v1(this,t,e);return this.width(new wr(i.width)).height(new wr(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return VX(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};jn(Cl,{bbox:function(){const n=KH(this,(t=>t.getBBox()),(t=>{try{const e=t.clone().addTo(Ty().svg).show(),i=e.node.getBBox();return e.remove(),i}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}));return new $o(n)},rbox:function(n){const t=KH(this,(i=>i.getBoundingClientRect()),(i=>{throw new Error(`Getting rbox of element "${i.node.nodeName}" is not possible`)})),e=new $o(t);return n?e.transform(n.screenCTM().inverseO()):e.addOffset()},inside:function(n,t){const e=this.bbox();return n>e.x&&t>e.y&&n<e.x+e.width&&t<e.y+e.height},point:function(n,t){return new aa(n,t).transformO(this.screenCTM().inverseO())},ctm:function(){return new Hi(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const n=this.rect(1,1),t=n.node.getScreenCTM();return n.remove(),new Hi(t)}return new Hi(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Hi}}}),yr(Cl,"Element");const pw={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(n,t){return t==="color"?n:n+"-"+t}};["fill","stroke"].forEach((function(n){const t={};let e;t[n]=function(i){if(i===void 0)return this.attr(n);if(typeof i=="string"||i instanceof Mg||Mg.isRgb(i)||i instanceof Cl)this.attr(n,i);else for(e=pw[n].length-1;e>=0;e--)i[pw[n][e]]!=null&&this.attr(pw.prefix(n,pw[n][e]),i[pw[n][e]]);return this},_i(["Element","Runner"],t)})),_i(["Element","Runner"],{matrix:function(n,t,e,i,r,a){return n==null?new Hi(this):this.attr("transform",new Hi(n,t,e,i,r,a))},rotate:function(n,t,e){return this.transform({rotate:n,ox:t,oy:e},!0)},skew:function(n,t,e,i){return arguments.length===1||arguments.length===3?this.transform({skew:n,ox:t,oy:e},!0):this.transform({skew:[n,t],ox:e,oy:i},!0)},shear:function(n,t,e){return this.transform({shear:n,ox:t,oy:e},!0)},scale:function(n,t,e,i){return arguments.length===1||arguments.length===3?this.transform({scale:n,ox:t,oy:e},!0):this.transform({scale:[n,t],ox:e,oy:i},!0)},translate:function(n,t){return this.transform({translate:[n,t]},!0)},relative:function(n,t){return this.transform({relative:[n,t]},!0)},flip:function(n="both",t="center"){return"xybothtrue".indexOf(n)===-1&&(t=n,n="both"),this.transform({flip:n,origin:t},!0)},opacity:function(n){return this.attr("opacity",n)}}),_i("radius",{radius:function(n,t=n){return(this._element||this).type==="radialGradient"?this.attr("r",new wr(n)):this.rx(n).ry(t)}}),_i("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(n){return new aa(this.node.getPointAtLength(n))}}),_i(["Element","Runner"],{font:function(n,t){if(typeof n=="object"){for(t in n)this.font(t,n[t]);return this}return n==="leading"?this.leading(t):n==="anchor"?this.attr("text-anchor",t):n==="size"||n==="family"||n==="weight"||n==="stretch"||n==="variant"||n==="style"?this.attr("font-"+n,t):this.attr(n,t)}});_i("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(n,t){return n[t]=function(e){return e===null?this.off(t):this.on(t,e),this},n}),{})),_i("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(iAt).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0],e[1].split(sm).map((function(i){return parseFloat(i)}))]})).reverse().reduce((function(t,e){return e[0]==="matrix"?t.lmultiply(Hi.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new Hi)},toParent:function(n,t){if(this===n)return this;if(Dj(this.node))return this.addTo(n,t);const e=this.screenCTM(),i=n.screenCTM().inverse();return this.addTo(n,t).untransform().transform(i.multiply(e)),this},toRoot:function(n){return this.toParent(this.root(),n)},transform:function(n,t){if(n==null||typeof n=="string"){const i=new Hi(this).decompose();return n==null?i:i[n]}Hi.isMatrixLike(n)||(n={...n,origin:jj(n,this)});const e=new Hi(t===!0?this:t||!1).transform(n);return this.attr("transform",e)}});let fh=class i7 extends Cl{flatten(){return this.each((function(){if(this instanceof i7)return this.flatten().ungroup()})),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each((function(i,r){return r[r.length-i-1].toParent(t,e)})),this.remove()}};yr(fh,"Container");let cT=class extends fh{constructor(t,e=t){super(ma("defs",t),e)}flatten(){return this}ungroup(){return this}};yr(cT,"Defs");let gh=class extends Cl{};function cR(n){return this.attr("rx",n)}function uR(n){return this.attr("ry",n)}function r7(n){return n==null?this.cx()-this.rx():this.cx(n+this.rx())}function a7(n){return n==null?this.cy()-this.ry():this.cy(n+this.ry())}function s7(n){return this.attr("cx",n)}function o7(n){return this.attr("cy",n)}function l7(n){return n==null?2*this.rx():this.rx(new wr(n).divide(2))}function c7(n){return n==null?2*this.ry():this.ry(new wr(n).divide(2))}yr(gh,"Shape");var fAt=Object.freeze({__proto__:null,cx:s7,cy:o7,height:c7,rx:cR,ry:uR,width:l7,x:r7,y:a7});class SC extends gh{constructor(t,e=t){super(ma("ellipse",t),e)}size(t,e){const i=v1(this,t,e);return this.rx(new wr(i.width).divide(2)).ry(new wr(i.height).divide(2))}}jn(SC,fAt),_i("Container",{ellipse:ga((function(n=0,t=n){return this.put(new SC).size(n,t).move(0,0)}))}),yr(SC,"Ellipse");class u7 extends Ub{constructor(t=pr.document.createDocumentFragment()){super(t)}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){const r=new Ub(__("wrapper",i));return r.add(this.node.cloneNode(!0)),r.xml(!1,i)}return super.xml(t,!1,i)}}function h7(n,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new wr(n),fy:new wr(t)}):this.attr({x1:new wr(n),y1:new wr(t)})}function d7(n,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new wr(n),cy:new wr(t)}):this.attr({x2:new wr(n),y2:new wr(t)})}yr(u7,"Fragment");var gAt=Object.freeze({__proto__:null,from:h7,to:d7});class $w extends fh{constructor(t,e){super(ma(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,i)}bbox(){return new $o}targets(){return e0("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}jn($w,gAt),_i({Container:{gradient(...n){return this.defs().gradient(...n)}},Defs:{gradient:ga((function(n,t){return this.put(new $w(n)).update(t)}))}}),yr($w,"Gradient");class S_ extends fh{constructor(t,e=t){super(ma("pattern",t),e)}attr(t,e,i){return t==="transform"&&(t="patternTransform"),super.attr(t,e,i)}bbox(){return new $o}targets(){return e0("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}_i({Container:{pattern(...n){return this.defs().pattern(...n)}},Defs:{pattern:ga((function(n,t,e){return this.put(new S_).update(e).attr({x:0,y:0,width:n,height:t,patternUnits:"userSpaceOnUse"})}))}}),yr(S_,"Pattern");let kC=class extends gh{constructor(n,t=n){super(ma("image",n),t)}load(n,t){if(!n)return this;const e=new pr.window.Image;return zp(e,"load",(function(i){const r=this.parent(S_);this.width()===0&&this.height()===0&&this.size(e.width,e.height),r instanceof S_&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof t=="function"&&t.call(this,i)}),this),zp(e,"load error",(function(){cd(e)})),this.attr("href",e.src=n,x1)}};var QH;QH=function(n,t,e){return n!=="fill"&&n!=="stroke"||aAt.test(t)&&(t=e.root().defs().image(t)),t instanceof kC&&(t=e.root().defs().pattern(0,0,(i=>{i.add(t)}))),t},e7.push(QH),_i({Container:{image:ga((function(n,t){return this.put(new kC).size(0,0).load(n,t)}))}}),yr(kC,"Image");class $y extends Fx{bbox(){let t=-1/0,e=-1/0,i=1/0,r=1/0;return this.forEach((function(a){t=Math.max(a[0],t),e=Math.max(a[1],e),i=Math.min(a[0],i),r=Math.min(a[1],r)})),new $o(i,r,t-i,e-r)}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(sm).map(parseFloat)).length%2!=0&&t.pop();for(let i=0,r=t.length;i<r;i+=2)e.push([t[i],t[i+1]]);return e}size(t,e){let i;const r=this.bbox();for(i=this.length-1;i>=0;i--)r.width&&(this[i][0]=(this[i][0]-r.x)*t/r.width+r.x),r.height&&(this[i][1]=(this[i][1]-r.y)*e/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,i=this.length;e<i;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){Hi.isMatrixLike(t)||(t=new Hi(t));for(let e=this.length;e--;){const[i,r]=this[e];this[e][0]=t.a*i+t.c*r+t.e,this[e][1]=t.b*i+t.d*r+t.f}return this}}const pAt=$y;var hR=Object.freeze({__proto__:null,MorphArray:pAt,height:function(n){const t=this.bbox();return n==null?t.height:this.size(t.width,n)},width:function(n){const t=this.bbox();return n==null?t.width:this.size(n,t.height)},x:function(n){return n==null?this.bbox().x:this.move(n,this.bbox().y)},y:function(n){return n==null?this.bbox().y:this.move(this.bbox().x,n)}});let px=class extends gh{constructor(t,e=t){super(ma("line",t),e)}array(){return new $y([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,i,r){return t==null?this.array():(t=e!==void 0?{x1:t,y1:e,x2:i,y2:r}:new $y(t).toLine(),this.attr(t))}size(t,e){const i=v1(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}};jn(px,hR),_i({Container:{line:ga((function(...n){return px.prototype.plot.apply(this.put(new px),n[0]!=null?n:[0,0,0,0])}))}}),yr(px,"Line");let CC=class extends fh{constructor(n,t=n){super(ma("marker",n),t)}height(n){return this.attr("markerHeight",n)}orient(n){return this.attr("orient",n)}ref(n,t){return this.attr("refX",n).attr("refY",t)}toString(){return"url(#"+this.id()+")"}update(n){return this.clear(),typeof n=="function"&&n.call(this,this),this}width(n){return this.attr("markerWidth",n)}};function yb(n,t){return function(e){return e==null?this[n]:(this[n]=e,t&&t.call(this),this)}}_i({Container:{marker(...n){return this.defs().marker(...n)}},Defs:{marker:ga((function(n,t,e){return this.put(new CC).size(n,t).ref(n/2,t/2).viewbox(0,0,n,t).attr("orient","auto").update(e)}))},marker:{marker(n,t,e,i){let r=["marker"];return n!=="all"&&r.push(n),r=r.join("-"),n=arguments[1]instanceof CC?arguments[1]:this.defs().marker(t,e,i),this.attr(r,n)}}}),yr(CC,"Marker");const mAt={"-":function(n){return n},"<>":function(n){return-Math.cos(n*Math.PI)/2+.5},">":function(n){return Math.sin(n*Math.PI/2)},"<":function(n){return 1-Math.cos(n*Math.PI/2)},bezier:function(n,t,e,i){return function(r){return r<0?n>0?t/n*r:e>0?i/e*r:0:r>1?e<1?(1-i)/(1-e)*r+(i-e)/(1-e):n<1?(1-t)/(1-n)*r+(t-n)/(1-n):1:3*r*(1-r)**2*t+3*r**2*(1-r)*i+r**3}},steps:function(n,t="end"){t=t.split("-").reverse()[0];let e=n;return t==="none"?--e:t==="both"&&++e,(i,r=!1)=>{let a=Math.floor(i*n);const s=i*a%1==0;return t!=="start"&&t!=="both"||++a,r&&s&&--a,i>=0&&a<0&&(a=0),i<=1&&a>e&&(a=e),a/e}}};let dR=class{done(){return!1}},Oj=class extends dR{constructor(t=cAt){super(),this.ease=mAt[t]||t}step(t,e,i){return typeof t!="number"?i<1?t:e:t+(e-t)*this.ease(i)}},$2=class extends dR{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,i,r){return this.stepper(t,e,i,r)}};function JH(){const n=(this._duration||500)/1e3,t=this._overshoot||0,e=Math.PI,i=Math.log(t/100+1e-10),r=-i/Math.sqrt(e*e+i*i),a=3.9/(r*n);this.d=2*r*a,this.k=a*a}jn(class extends $2{constructor(n=500,t=0){super(),this.duration(n).overshoot(t)}step(n,t,e,i){if(typeof n=="string")return n;if(i.done=e===1/0,e===1/0)return t;if(e===0)return n;e>100&&(e=16),e/=1e3;const r=i.velocity||0,a=-this.d*r-this.k*(n-t),s=n+r*e+a*e*e/2;return i.velocity=r+a*e,i.done=Math.abs(t-s)+Math.abs(r)<.002,i.done?t:s}},{duration:yb("_duration",JH),overshoot:yb("_overshoot",JH)});jn(class extends $2{constructor(n=.1,t=.01,e=0,i=1e3){super(),this.p(n).i(t).d(e).windup(i)}step(n,t,e,i){if(typeof n=="string")return n;if(i.done=e===1/0,e===1/0)return t;if(e===0)return n;const r=t-n;let a=(i.integral||0)+r*e;const s=(r-(i.error||0))/e,o=this._windup;return o!==!1&&(a=Math.max(-o,Math.min(a,o))),i.error=r,i.integral=a,i.done=Math.abs(r)<.001,i.done?t:n+(this.P*r+this.I*a+this.D*s)}},{windup:yb("_windup"),p:yb("P"),i:yb("I"),d:yb("D")});const yAt={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Lj={M:function(n,t,e){return t.x=e.x=n[0],t.y=e.y=n[1],["M",t.x,t.y]},L:function(n,t){return t.x=n[0],t.y=n[1],["L",n[0],n[1]]},H:function(n,t){return t.x=n[0],["H",n[0]]},V:function(n,t){return t.y=n[0],["V",n[0]]},C:function(n,t){return t.x=n[4],t.y=n[5],["C",n[0],n[1],n[2],n[3],n[4],n[5]]},S:function(n,t){return t.x=n[2],t.y=n[3],["S",n[0],n[1],n[2],n[3]]},Q:function(n,t){return t.x=n[2],t.y=n[3],["Q",n[0],n[1],n[2],n[3]]},T:function(n,t){return t.x=n[0],t.y=n[1],["T",n[0],n[1]]},Z:function(n,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(n,t){return t.x=n[5],t.y=n[6],["A",n[0],n[1],n[2],n[3],n[4],n[5],n[6]]}},lP="mlhvqtcsaz".split("");for(let n=0,t=lP.length;n<t;++n)Lj[lP[n]]=(function(e){return function(i,r,a){if(e==="H")i[0]=i[0]+r.x;else if(e==="V")i[0]=i[0]+r.y;else if(e==="A")i[5]=i[5]+r.x,i[6]=i[6]+r.y;else for(let s=0,o=i.length;s<o;++s)i[s]=i[s]+(s%2?r.y:r.x);return Lj[e](i,r,a)}})(lP[n].toUpperCase());function Rj(n){return n.segment.length&&n.segment.length-1===yAt[n.segment[0].toUpperCase()]}function vAt(n,t){n.inNumber&&lx(n,!1);const e=oR.test(t);if(e)n.segment=[t];else{const i=n.lastCommand,r=i.toLowerCase(),a=i===r;n.segment=[r==="m"?a?"l":"L":i]}return n.inSegment=!0,n.lastCommand=n.segment[0],e}function lx(n,t){if(!n.inNumber)throw new Error("Parser Error");n.number&&n.segment.push(parseFloat(n.number)),n.inNumber=t,n.number="",n.pointSeen=!1,n.hasExponent=!1,Rj(n)&&Ij(n)}function Ij(n){n.inSegment=!1,n.absolute&&(n.segment=(function(t){const e=t.segment[0];return Lj[e](t.segment.slice(1),t.p,t.p0)})(n)),n.segments.push(n.segment)}function xAt(n){if(!n.segment.length)return!1;const t=n.segment[0].toUpperCase()==="A",e=n.segment.length;return t&&(e===4||e===5)}function bAt(n){return n.lastToken.toUpperCase()==="E"}const wAt=new Set([" ",",","	",`
`,"\r","\f"]);class sf extends Fx{bbox(){return Ty().path.setAttribute("d",this.toString()),new $o(Ty.nodes.path.getBBox())}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let r,a=this.length-1;a>=0;a--)r=this[a][0],r==="M"||r==="L"||r==="T"?(this[a][1]+=t,this[a][2]+=e):r==="H"?this[a][1]+=t:r==="V"?this[a][1]+=e:r==="C"||r==="S"||r==="Q"?(this[a][1]+=t,this[a][2]+=e,this[a][3]+=t,this[a][4]+=e,r==="C"&&(this[a][5]+=t,this[a][6]+=e)):r==="A"&&(this[a][6]+=t,this[a][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),(function(e,i=!0){let r=0,a="";const s={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:i,p0:new aa,p:new aa};for(;s.lastToken=a,a=e.charAt(r++);)if(s.inSegment||!vAt(s,a))if(a!==".")if(isNaN(parseInt(a)))if(wAt.has(a))s.inNumber&&lx(s,!1);else if(a!=="-"&&a!=="+")if(a.toUpperCase()!=="E"){if(oR.test(a)){if(s.inNumber)lx(s,!1);else{if(!Rj(s))throw new Error("parser Error");Ij(s)}--r}}else s.number+=a,s.hasExponent=!0;else{if(s.inNumber&&!bAt(s)){lx(s,!1),--r;continue}s.number+=a,s.inNumber=!0}else{if(s.number==="0"||xAt(s)){s.inNumber=!0,s.number=a,lx(s,!0);continue}s.inNumber=!0,s.number+=a}else{if(s.pointSeen||s.hasExponent){lx(s,!1),--r;continue}s.inNumber=!0,s.pointSeen=!0,s.number+=a}return s.inNumber&&lx(s,!1),s.inSegment&&Rj(s)&&Ij(s),s.segments})(t)}size(t,e){const i=this.bbox();let r,a;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,r=this.length-1;r>=0;r--)a=this[r][0],a==="M"||a==="L"||a==="T"?(this[r][1]=(this[r][1]-i.x)*t/i.width+i.x,this[r][2]=(this[r][2]-i.y)*e/i.height+i.y):a==="H"?this[r][1]=(this[r][1]-i.x)*t/i.width+i.x:a==="V"?this[r][1]=(this[r][1]-i.y)*e/i.height+i.y:a==="C"||a==="S"||a==="Q"?(this[r][1]=(this[r][1]-i.x)*t/i.width+i.x,this[r][2]=(this[r][2]-i.y)*e/i.height+i.y,this[r][3]=(this[r][3]-i.x)*t/i.width+i.x,this[r][4]=(this[r][4]-i.y)*e/i.height+i.y,a==="C"&&(this[r][5]=(this[r][5]-i.x)*t/i.width+i.x,this[r][6]=(this[r][6]-i.y)*e/i.height+i.y)):a==="A"&&(this[r][1]=this[r][1]*t/i.width,this[r][2]=this[r][2]*e/i.height,this[r][6]=(this[r][6]-i.x)*t/i.width+i.x,this[r][7]=(this[r][7]-i.y)*e/i.height+i.y);return this}toString(){return(function(t){let e="";for(let i=0,r=t.length;i<r;i++)e+=t[i][0],t[i][1]!=null&&(e+=t[i][1],t[i][2]!=null&&(e+=" ",e+=t[i][2],t[i][3]!=null&&(e+=" ",e+=t[i][3],e+=" ",e+=t[i][4],t[i][5]!=null&&(e+=" ",e+=t[i][5],e+=" ",e+=t[i][6],t[i][7]!=null&&(e+=" ",e+=t[i][7])))));return e+" "})(this)}}const f7=n=>{const t=typeof n;return t==="number"?wr:t==="string"?Mg.isColor(n)?Mg:sm.test(n)?oR.test(n)?sf:Fx:KX.test(n)?wr:zj:Fj.indexOf(n.constructor)>-1?n.constructor:Array.isArray(n)?Fx:t==="object"?k_:zj};class cx{constructor(t){this._stepper=t||new Oj("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(f7(t));let e=new this._type(t);return this._type===Mg&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===k_&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(i){return i.done=!0,i})),e}}class zj{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class wS{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,wS.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}wS.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const _At=(n,t)=>n[0]<t[0]?-1:n[0]>t[0]?1:0;let k_=class{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let i=0,r=e.length;i<r;++i){if(e[i+1]===t[i+1]){if(e[i+1]===Mg&&t[i+7]!==e[i+7]){const o=t[i+7],l=new Mg(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...l)}i+=e[i+2]+2;continue}if(!t[i+1])return this;const a=new t[i+1]().toArray(),s=e[i+2]+3;e.splice(i,s,t[i],t[i+1],t[i+2],...a),i+=e[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const i in t){const r=f7(t[i]),a=new r(t[i]).toArray();e.push([i,r,a.length,...a])}return e.sort(_At),this.values=e.reduce(((i,r)=>i.concat(r)),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const i=e.shift(),r=e.shift(),a=e.shift(),s=e.splice(0,a);t[i]=new r(s)}return t}};const Fj=[zj,wS,k_];class Ab extends gh{constructor(t,e=t){super(ma("path",t),e)}array(){return this._array||(this._array=new sf(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new sf(t))}size(t,e){const i=v1(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}Ab.prototype.MorphArray=sf,_i({Container:{path:ga((function(n){return this.put(new Ab).plot(n||new sf)}))}}),yr(Ab,"Path");var g7=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new $y(this.attr("points")))},clear:function(){return delete this._array,this},move:function(n,t){return this.attr("points",this.array().move(n,t))},plot:function(n){return n==null?this.array():this.clear().attr("points",typeof n=="string"?n:this._array=new $y(n))},size:function(n,t){const e=v1(this,n,t);return this.attr("points",this.array().size(e.width,e.height))}});class mx extends gh{constructor(t,e=t){super(ma("polygon",t),e)}}_i({Container:{polygon:ga((function(n){return this.put(new mx).plot(n||new $y)}))}}),jn(mx,hR),jn(mx,g7),yr(mx,"Polygon");class yx extends gh{constructor(t,e=t){super(ma("polyline",t),e)}}_i({Container:{polyline:ga((function(n){return this.put(new yx).plot(n||new $y)}))}}),jn(yx,hR),jn(yx,g7),yr(yx,"Polyline");class AC extends gh{constructor(t,e=t){super(ma("rect",t),e)}}jn(AC,{rx:cR,ry:uR}),_i({Container:{rect:ga((function(n,t){return this.put(new AC).size(n,t)}))}}),yr(AC,"Rect");class cP{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=t.next!==void 0?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const $r={nextDraw:null,frames:new cP,timeouts:new cP,immediates:new cP,timer:()=>pr.window.performance||pr.window.Date,transforms:[],frame(n){const t=$r.frames.push({run:n});return $r.nextDraw===null&&($r.nextDraw=pr.window.requestAnimationFrame($r._draw)),t},timeout(n,t){t=t||0;const e=$r.timer().now()+t,i=$r.timeouts.push({run:n,time:e});return $r.nextDraw===null&&($r.nextDraw=pr.window.requestAnimationFrame($r._draw)),i},immediate(n){const t=$r.immediates.push(n);return $r.nextDraw===null&&($r.nextDraw=pr.window.requestAnimationFrame($r._draw)),t},cancelFrame(n){n!=null&&$r.frames.remove(n)},clearTimeout(n){n!=null&&$r.timeouts.remove(n)},cancelImmediate(n){n!=null&&$r.immediates.remove(n)},_draw(n){let t=null;const e=$r.timeouts.last();for(;(t=$r.timeouts.shift())&&(n>=t.time?t.run():$r.timeouts.push(t),t!==e););let i=null;const r=$r.frames.last();for(;i!==r&&(i=$r.frames.shift());)i.run(n);let a=null;for(;a=$r.immediates.shift();)a();$r.nextDraw=$r.timeouts.first()||$r.frames.first()?pr.window.requestAnimationFrame($r._draw):null}},SAt=function(n){const t=n.start,e=n.runner.duration();return{start:t,duration:e,end:t+e,runner:n.runner}},kAt=function(){const n=pr.window;return(n.performance||n.Date).now()};class p7 extends bS{constructor(t=kAt){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map((e=>e.start+e.runner.duration()));return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const i=Math.abs(e);return this.speed(t?-i:i)}schedule(t,e,i){if(t==null)return this._runners.map(SAt);let r=0;const a=this.getEndTime();if(e=e||0,i==null||i==="last"||i==="after")r=a;else if(i==="absolute"||i==="start")r=e,e=0;else if(i==="now")r=this._time;else if(i==="relative"){const l=this.getRunnerInfoById(t.id);l&&(r=l.start+e,e=0)}else{if(i!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();r=l?l.start:this._time}}t.unschedule(),t.timeline(this);const s=t.persist(),o={persist:s===null?this._persist:s,start:r+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort(((l,c)=>l.start-c.start)),this._runnerIds=this._runners.map((l=>l.runner.id)),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return $r.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=$r.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let i=e-this._lastSourceTime;t&&(i=0);const r=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let s=this._runners.length;s--;){const o=this._runners[s],l=o.runner;this._time-o.start<=0&&l.reset()}let a=!1;for(let s=0,o=this._runners.length;s<o;s++){const l=this._runners[s],c=l.runner;let h=r;const d=this._time-l.start;if(d<=0){a=!0;continue}d<h&&(h=d),c.active()&&(c.step(h).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--s,--o):a=!0)}return a&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}_i({Element:{timeline:function(n){return n==null?(this._timeline=this._timeline||new p7,this._timeline):(this._timeline=n,this)}}});class sh extends bS{constructor(t){super(),this.id=sh.id++,t=typeof(t=t??oP)=="function"?new $2(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof $2,this._stepper=this._isDeclarative?t:new Oj,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Hi,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,i){let r=1,a=!1,s=0;return e=e??uAt,i=i||"last",typeof(t=t??oP)!="object"||t instanceof dR||(e=t.delay??e,i=t.when??i,a=t.swing||a,r=t.times??r,s=t.wait??s,t=t.duration??oP),{duration:t,delay:e,swing:a,times:r,wait:s,when:i}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,i){const r=sh.sanitise(t,e,i),a=new sh(r.duration);return this._timeline&&a.timeline(this._timeline),this._element&&a.element(this._element),a.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new Hi,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((t=>!t.isTransform)))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new Oj(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,i){return typeof t=="object"&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const a=Math.floor(this._time/e),s=(this._time-a*e)/this._duration;return Math.min(a+s,this._times)}const i=t%1,r=e*Math.floor(t)+this._duration*i;return this.time(r)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,i=this._duration,r=this._wait,a=this._times,s=this._swing,o=this._reverse;let l;if(t==null){const d=function(y){const x=s*Math.floor(y%(2*(r+i))/(r+i)),w=x&&!o||!x&&o,k=Math.pow(-1,w)*(y%(r+i))/i+w;return Math.max(Math.min(k,1),0)},g=a*(r+i)-r;return l=e<=0?Math.round(d(1e-5)):e<g?d(e):Math.round(d(g-1e-5)),l}const c=Math.floor(this.loops()),h=s&&c%2==0;return l=c+(h&&!o||o&&h?t:1-t),this.loops(l)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,i,r){return this._queue.push({initialiser:t||ZH,runner:e||ZH,retarget:i,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,e,i){if(t instanceof p7||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const r=this.duration(),a=this._lastTime<=0&&this._time>0,s=this._lastTime<r&&this._time>=r;this._lastTime=this._time,a&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!s&&this._time>=r,this._reseted=!1;let l=!1;return(i||o)&&(this._initialise(i),this.transforms=new Hi,l=this._run(o?t:e),this.fire("step",this)),this.done=this.done||l&&o,s&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return t===void 0?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,i=this._queue.length;e<i;++e){const r=this._queue[e],a=this._isDeclarative||!r.initialised&&t;t=!r.finished,a&&t&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(t){let e=!0;for(let i=0,r=this._queue.length;i<r;++i){const a=this._queue[i],s=a.runner.call(this,t);a.finished=a.finished||s===!0,e=e&&a.finished}return e}_tryRetarget(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){const a=this._queue.indexOf(this._history[t].caller);return this._queue.splice(a,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}sh.id=0;class V2{constructor(t=new Hi,e=-1,i=!0){this.transforms=t,this.id=e,this.done=i}clearTransformsFromQueue(){}}jn([sh,V2],{mergeWith(n){return new V2(n.transforms.lmultiply(this.transforms),n.id)}});const m7=(n,t)=>n.lmultiplyO(t),y7=n=>n.transforms;function CAt(){const n=this._transformationRunners.runners.map(y7).reduce(m7,new Hi);this.transform(n),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}let AAt=class{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new V2).forEach((i=>i.clearTransformsFromQueue())),this}edit(t,e){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const i=this.runners[e];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const r=i.mergeWith(t);this.edit(t.id,r),t=r,--e}else t=i}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}};_i({Element:{animate(n,t,e){const i=sh.sanitise(n,t,e),r=this.timeline();return new sh(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(n,t){return this.animate(0,n,t)},_clearTransformRunnersBefore(n){this._transformationRunners.clearBefore(n.id)},_currentTransform(n){return this._transformationRunners.runners.filter((t=>t.id<=n.id)).map(y7).reduce(m7,new Hi)},_addRunner(n){this._transformationRunners.add(n),$r.cancelImmediate(this._frameId),this._frameId=$r.immediate(CAt.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new AAt().add(new V2(new Hi(this))))}}});jn(sh,{attr(n,t){return this.styleAttr("attr",n,t)},css(n,t){return this.styleAttr("css",n,t)},styleAttr(n,t,e){if(typeof t=="string")return this.styleAttr(n,{[t]:e});let i=t;if(this._tryRetarget(n,i))return this;let r=new cx(this._stepper).to(i),a=Object.keys(i);return this.queue((function(){r=r.from(this.element()[n](a))}),(function(s){return this.element()[n](r.at(s).valueOf()),r.done()}),(function(s){const o=Object.keys(s),l=(c=a,o.filter((d=>!c.includes(d))));var c;if(l.length){const d=this.element()[n](l),g=new k_(r.from()).valueOf();Object.assign(g,d),r.from(g)}const h=new k_(r.to()).valueOf();Object.assign(h,s),r.to(h),a=o,i=s})),this._rememberMorpher(n,r),this},zoom(n,t){if(this._tryRetarget("zoom",n,t))return this;let e=new cx(this._stepper).to(new wr(n));return this.queue((function(){e=e.from(this.element().zoom())}),(function(i){return this.element().zoom(e.at(i),t),e.done()}),(function(i,r){t=r,e.to(i)})),this._rememberMorpher("zoom",e),this},transform(n,t,e){if(t=n.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",n))return this;const i=Hi.isMatrixLike(n);e=n.affine!=null?n.affine:e??!i;const r=new cx(this._stepper).type(e?wS:Hi);let a,s,o,l,c;return this.queue((function(){s=s||this.element(),a=a||jj(n,s),c=new Hi(t?void 0:s),s._addRunner(this),t||s._clearTransformRunnersBefore(this)}),(function(h){t||this.clearTransform();const{x:d,y:g}=new aa(a).transform(s._currentTransform(this));let y=new Hi({...n,origin:[d,g]}),x=this._isDeclarative&&o?o:c;if(e){y=y.decompose(d,g),x=x.decompose(d,g);const k=y.rotate,A=x.rotate,T=[k-360,k,k+360],R=T.map((F=>Math.abs(F-A))),G=Math.min(...R),z=R.indexOf(G);y.rotate=T[z]}t&&(i||(y.rotate=n.rotate||0),this._isDeclarative&&l&&(x.rotate=l)),r.from(x),r.to(y);const w=r.at(h);return l=w.rotate,o=new Hi(w),this.addTransform(o),s._addRunner(this),r.done()}),(function(h){(h.origin||"center").toString()!==(n.origin||"center").toString()&&(a=jj(h,s)),n={...h,origin:a}}),!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(n){return this._queueNumber("x",n)},y(n){return this._queueNumber("y",n)},ax(n){return this._queueNumber("ax",n)},ay(n){return this._queueNumber("ay",n)},dx(n=0){return this._queueNumberDelta("x",n)},dy(n=0){return this._queueNumberDelta("y",n)},dmove(n,t){return this.dx(n).dy(t)},_queueNumberDelta(n,t){if(t=new wr(t),this._tryRetarget(n,t))return this;const e=new cx(this._stepper).to(t);let i=null;return this.queue((function(){i=this.element()[n](),e.from(i),e.to(i+t)}),(function(r){return this.element()[n](e.at(r)),e.done()}),(function(r){e.to(i+new wr(r))})),this._rememberMorpher(n,e),this},_queueObject(n,t){if(this._tryRetarget(n,t))return this;const e=new cx(this._stepper).to(t);return this.queue((function(){e.from(this.element()[n]())}),(function(i){return this.element()[n](e.at(i)),e.done()})),this._rememberMorpher(n,e),this},_queueNumber(n,t){return this._queueObject(n,new wr(t))},cx(n){return this._queueNumber("cx",n)},cy(n){return this._queueNumber("cy",n)},move(n,t){return this.x(n).y(t)},amove(n,t){return this.ax(n).ay(t)},center(n,t){return this.cx(n).cy(t)},size(n,t){let e;return n&&t||(e=this._element.bbox()),n||(n=e.width/e.height*t),t||(t=e.height/e.width*n),this.width(n).height(t)},width(n){return this._queueNumber("width",n)},height(n){return this._queueNumber("height",n)},plot(n,t,e,i){if(arguments.length===4)return this.plot([n,t,e,i]);if(this._tryRetarget("plot",n))return this;const r=new cx(this._stepper).type(this._element.MorphArray).to(n);return this.queue((function(){r.from(this._element.array())}),(function(a){return this._element.plot(r.at(a)),r.done()})),this._rememberMorpher("plot",r),this},leading(n){return this._queueNumber("leading",n)},viewbox(n,t,e,i){return this._queueObject("viewbox",new $o(n,t,e,i))},update(n){return typeof n!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(n.opacity!=null&&this.attr("stop-opacity",n.opacity),n.color!=null&&this.attr("stop-color",n.color),n.offset!=null&&this.attr("offset",n.offset),this)}}),jn(sh,{rx:cR,ry:uR,from:h7,to:d7}),yr(sh,"Runner");let Bj=class extends fh{constructor(t,e=t){super(ma("svg",t),e),this.namespace()}defs(){return this.isRoot()?od(this.node.querySelector("defs"))||this.put(new cT):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof pr.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:rR,version:"1.1"}).attr("xmlns:xlink",x1,rP):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,rP).attr("xmlns:svgjs",null,rP)}root(){return this.isRoot()?this:super.root()}};_i({Container:{nested:ga((function(){return this.put(new Bj)}))}}),yr(Bj,"Svg",!0);let Hj=class extends fh{constructor(t,e=t){super(ma("symbol",t),e)}};_i({Container:{symbol:ga((function(){return this.put(new Hj)}))}}),yr(Hj,"Symbol");var v7=Object.freeze({__proto__:null,amove:function(n,t){return this.ax(n).ay(t)},ax:function(n){return this.attr("x",n)},ay:function(n){return this.attr("y",n)},build:function(n){return this._build=!!n,this},center:function(n,t,e=this.bbox()){return this.cx(n,e).cy(t,e)},cx:function(n,t=this.bbox()){return n==null?t.cx:this.attr("x",this.attr("x")+n-t.cx)},cy:function(n,t=this.bbox()){return n==null?t.cy:this.attr("y",this.attr("y")+n-t.cy)},length:function(){return this.node.getComputedTextLength()},move:function(n,t,e=this.bbox()){return this.x(n,e).y(t,e)},plain:function(n){return this._build===!1&&this.clear(),this.node.appendChild(pr.document.createTextNode(n)),this},x:function(n,t=this.bbox()){return n==null?t.x:this.attr("x",this.attr("x")+n-t.x)},y:function(n,t=this.bbox()){return n==null?t.y:this.attr("y",this.attr("y")+n-t.y)}});let of=class extends gh{constructor(t,e=t){super(ma("text",t),e),this.dom.leading=this.dom.leading??new wr(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new wr(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let i=0;const r=this.dom.leading;this.each((function(a){if(Dj(this.node))return;const s=pr.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=r*new wr(s);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",a?o+i:0),i=0))})),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new wr(t.leading||1.3),this}writeDataToDom(){return VX(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let i=0;t="";for(let r=0,a=e.length;r<a;++r)e[r].nodeName==="textPath"||Dj(e[r])?r===0&&(i=r+1):(r!==i&&e[r].nodeType!==3&&od(e[r]).dom.newLined===!0&&(t+=`
`),t+=e[r].textContent);return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else for(let e=0,i=(t=(t+"").split(`
`)).length;e<i;e++)this.newLine(t[e]);return this.build(!1).rebuild()}};jn(of,v7),_i({Container:{text:ga((function(n=""){return this.put(new of).text(n)})),plain:ga((function(n=""){return this.put(new of).plain(n)}))}}),yr(of,"Text");let TC=class extends gh{constructor(t,e=t){super(ma("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof of))return this;const e=t.index(this),i=pr.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=t.dom.leading*new wr(i);return this.dy(e?r:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}};jn(TC,v7),_i({Tspan:{tspan:ga((function(n=""){const t=new TC;return this._build||this.clear(),this.put(t).text(n)}))},Text:{newLine:function(n=""){return this.tspan(n).newLine()}}}),yr(TC,"Tspan");let uP=class extends gh{constructor(t,e=t){super(ma("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new wr(t).divide(2))}};jn(uP,{x:r7,y:a7,cx:s7,cy:o7,width:l7,height:c7}),_i({Container:{circle:ga((function(n=0){return this.put(new uP).size(n).move(0,0)}))}}),yr(uP,"Circle");let hP=class extends fh{constructor(t,e=t){super(ma("clipPath",t),e)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return e0("svg [clip-path*="+this.id()+"]")}};_i({Container:{clip:ga((function(){return this.defs().put(new hP)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(n){const t=n instanceof hP?n:this.parent().clip().add(n);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}}),yr(hP,"ClipPath");let t4=class extends Cl{constructor(t,e=t){super(ma("foreignObject",t),e)}};_i({Container:{foreignObject:ga((function(n,t){return this.put(new t4).size(n,t)}))}}),yr(t4,"ForeignObject");var x7=Object.freeze({__proto__:null,dmove:function(n,t){return this.children().forEach((e=>{let i;try{i=e.node instanceof xS().SVGSVGElement?new $o(e.attr(["x","y","width","height"])):e.bbox()}catch{return}const r=new Hi(e),a=r.translate(n,t).transform(r.inverse()),s=new aa(i.x,i.y).transform(a);e.move(s.x,s.y)})),this},dx:function(n){return this.dmove(n,0)},dy:function(n){return this.dmove(0,n)},height:function(n,t=this.bbox()){return n==null?t.height:this.size(t.width,n,t)},move:function(n=0,t=0,e=this.bbox()){const i=n-e.x,r=t-e.y;return this.dmove(i,r)},size:function(n,t,e=this.bbox()){const i=v1(this,n,t,e),r=i.width/e.width,a=i.height/e.height;return this.children().forEach((s=>{const o=new aa(e).transform(new Hi(s).inverse());s.scale(r,a,o.x,o.y)})),this},width:function(n,t=this.bbox()){return n==null?t.width:this.size(n,t.height,t)},x:function(n,t=this.bbox()){return n==null?t.x:this.move(n,t.y,t)},y:function(n,t=this.bbox()){return n==null?t.y:this.move(t.x,n,t)}});let Fy=class extends fh{constructor(t,e=t){super(ma("g",t),e)}};jn(Fy,x7),_i({Container:{group:ga((function(){return this.put(new Fy)}))}}),yr(Fy,"G");let Hk=class extends fh{constructor(t,e=t){super(ma("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,x1)}};jn(Hk,x7),_i({Container:{link:ga((function(n){return this.put(new Hk).to(n)}))},Element:{unlink(){const n=this.linker();if(!n)return this;const t=n.parent();if(!t)return this.remove();const e=t.index(n);return t.add(this,e),n.remove(),this},linkTo(n){let t=this.linker();return t||(t=new Hk,this.wrap(t)),typeof n=="function"?n.call(t,t):t.to(n),this},linker(){const n=this.parent();return n&&n.node.nodeName.toLowerCase()==="a"?n:null}}}),yr(Hk,"A");let dP=class extends fh{constructor(t,e=t){super(ma("mask",t),e)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return e0("svg [mask*="+this.id()+"]")}};_i({Container:{mask:ga((function(){return this.defs().put(new dP)}))},Element:{masker(){return this.reference("mask")},maskWith(n){const t=n instanceof dP?n:this.parent().mask().add(n);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}}),yr(dP,"Mask");let e4=class extends Cl{constructor(t,e=t){super(ma("stop",t),e)}update(t){return(typeof t=="number"||t instanceof wr)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new wr(t.offset)),this}};_i({Gradient:{stop:function(n,t,e){return this.put(new e4).update(n,t,e)}}}),yr(e4,"Stop");let fP=class extends Cl{constructor(t,e=t){super(ma("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,i={}){return this.rule("@font-face",{fontFamily:t,src:e,...i})}rule(t,e){return this.addText((function(i,r){if(!i)return"";if(!r)return i;let a=i+"{";for(const s in r)a+=s.replace(/([A-Z])/g,(function(o,l){return"-"+l.toLowerCase()}))+":"+r[s]+";";return a+="}",a})(t,e))}};_i("Dom",{style(n,t){return this.put(new fP).rule(n,t)},fontface(n,t,e){return this.put(new fP).font(n,t,e)}}),yr(fP,"Style");let gP=class extends of{constructor(t,e=t){super(ma("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let i=null;return e&&(i=e.plot(t)),t==null?i:this}track(){return this.reference("href")}};_i({Container:{textPath:ga((function(n,t){return n instanceof of||(n=this.text(n)),n.path(t)}))},Text:{path:ga((function(n,t=!0){const e=new gP;let i;if(n instanceof Ab||(n=this.defs().path(n)),e.attr("href","#"+n,x1),t)for(;i=this.node.firstChild;)e.node.appendChild(i);return this.put(e)})),textPath(){return this.findOne("textPath")}},Path:{text:ga((function(n){return n instanceof of||(n=new of().addTo(this.parent()).text(n)),n.path(this)})),targets(){return e0("svg textPath").filter((n=>(n.attr("href")||"").includes(this.id())))}}}),gP.prototype.MorphArray=sf,yr(gP,"TextPath");let n4=class extends gh{constructor(t,e=t){super(ma("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,x1)}};_i({Container:{use:ga((function(n,t){return this.put(new n4).use(n,t)}))}}),yr(n4,"Use");const TAt=Rc;jn([Bj,Hj,kC,S_,CC],pu("viewbox")),jn([px,yx,mx,Ab],pu("marker")),jn(of,pu("Text")),jn(Ab,pu("Path")),jn(cT,pu("Defs")),jn([of,TC],pu("Tspan")),jn([AC,SC,$w,sh],pu("radius")),jn(bS,pu("EventTarget")),jn(Ub,pu("Dom")),jn(Cl,pu("Element")),jn(gh,pu("Shape")),jn([fh,u7],pu("Container")),jn($w,pu("Gradient")),jn(sh,pu("Runner")),zx.extend([...new Set(YX)]),(function(n=[]){Fj.push(...[].concat(n))})([wr,Mg,$o,Hi,Fx,$y,sf,aa]),jn(Fj,{to(n){return new cx().type(this.constructor).from(this.toArray()).to(n)},fromArray(n){return this.init(n),this},toConsumable(){return this.toArray()},morph(n,t,e,i,r){return this.fromArray(n.map((function(a,s){return i.step(a,t[s],e,r[s],r)})))}});let Pa=class extends Cl{constructor(t){super(ma("filter",t),t),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(t,e){return!(t=super.put(t,e)).attr("in")&&this.$autoSetIn&&t.attr("in",this.$source),t.attr("result")||t.attr("result",t.id()),t}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return e0('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}},fR=class extends Cl{constructor(t,e){super(t,e),this.result(this.id())}in(t){if(t==null){const e=this.attr("in");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in",t)}result(t){return this.attr("result",t)}toString(){return this.result()}};const Jh=n=>function(...t){for(let e=n.length;e--;)t[e]!=null&&this.attr(n[e],t[e])},MAt={blend:Jh(["in","in2","mode"]),colorMatrix:Jh(["type","values"]),composite:Jh(["in","in2","operator"]),convolveMatrix:function(n){n=new Fx(n).toString(),this.attr({order:Math.sqrt(n.split(" ").length),kernelMatrix:n})},diffuseLighting:Jh(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Jh(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Jh(["in","dx","dy","stdDeviation"]),flood:Jh(["flood-color","flood-opacity"]),gaussianBlur:function(n=0,t=n){this.attr("stdDeviation",n+" "+t)},image:function(n){this.attr("href",n,x1)},morphology:Jh(["operator","radius"]),offset:Jh(["dx","dy"]),specularLighting:Jh(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Jh([]),turbulence:Jh(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((n=>{const t=y1(n),e=MAt[n];Pa[t+"Effect"]=class extends fR{constructor(i){super(ma("fe"+t,i),i)}update(i){return e.apply(this,i),this}},Pa.prototype[n]=ga((function(i,...r){const a=new Pa[t+"Effect"];return i==null?this.put(a):(typeof i=="function"?i.call(a,a):r.unshift(i),this.put(a).update(r))}))})),jn(Pa,{merge(n){const t=this.put(new Pa.MergeEffect);return typeof n=="function"?(n.call(t,t),t):((n instanceof Array?n:[...arguments]).forEach((e=>{e instanceof Pa.MergeNode?t.put(e):t.mergeNode(e)})),t)},componentTransfer(n={}){const t=this.put(new Pa.ComponentTransferEffect);if(typeof n=="function")return n.call(t,t),t;n.r||n.g||n.b||n.a||(n={r:n,g:n,b:n,a:n});for(const e in n)t.add(new Pa["Func"+e.toUpperCase()](n[e]));return t}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((n=>{const t=y1(n);Pa[t]=class extends fR{constructor(e){super(ma("fe"+t,e),e)}}}));["funcR","funcG","funcB","funcA"].forEach((function(n){const t=Pa[y1(n)],e=ga((function(){return this.put(new t)}));Pa.ComponentTransferEffect.prototype[n]=e}));["distantLight","pointLight","spotLight"].forEach((n=>{const t=Pa[y1(n)],e=ga((function(){return this.put(new t)}));Pa.DiffuseLightingEffect.prototype[n]=e,Pa.SpecularLightingEffect.prototype[n]=e})),jn(Pa.MergeEffect,{mergeNode(n){return this.put(new Pa.MergeNode).attr("in",n)}}),jn(cT,{filter:function(n){const t=this.put(new Pa);return typeof n=="function"&&n.call(t,t),t}}),jn(fh,{filter:function(n){return this.defs().filter(n)}}),jn(Cl,{filterWith:function(n){const t=n instanceof Pa?n:this.defs().filter(n);return this.attr("filter",t)},unfilter:function(n){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const NAt={blend:function(n,t){return this.parent()&&this.parent().blend(this,n,t)},colorMatrix:function(n,t){return this.parent()&&this.parent().colorMatrix(n,t).in(this)},componentTransfer:function(n){return this.parent()&&this.parent().componentTransfer(n).in(this)},composite:function(n,t){return this.parent()&&this.parent().composite(this,n,t)},convolveMatrix:function(n){return this.parent()&&this.parent().convolveMatrix(n).in(this)},diffuseLighting:function(n,t,e,i){return this.parent()&&this.parent().diffuseLighting(n,e,i).in(this)},displacementMap:function(n,t,e,i){return this.parent()&&this.parent().displacementMap(this,n,t,e,i)},dropShadow:function(n,t,e){return this.parent()&&this.parent().dropShadow(this,n,t,e).in(this)},flood:function(n,t){return this.parent()&&this.parent().flood(n,t)},gaussianBlur:function(n,t){return this.parent()&&this.parent().gaussianBlur(n,t).in(this)},image:function(n){return this.parent()&&this.parent().image(n)},merge:function(n){return n=n instanceof Array?n:[...n],this.parent()&&this.parent().merge(this,...n)},morphology:function(n,t){return this.parent()&&this.parent().morphology(n,t).in(this)},offset:function(n,t){return this.parent()&&this.parent().offset(n,t).in(this)},specularLighting:function(n,t,e,i,r){return this.parent()&&this.parent().specularLighting(n,e,i,r).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(n,t,e,i,r){return this.parent()&&this.parent().turbulence(n,t,e,i,r).in(this)}};jn(fR,NAt),jn(Pa.MergeEffect,{in:function(n){return n instanceof Pa.MergeNode?this.add(n,0):this.add(new Pa.MergeNode().in(n),0),this}}),jn([Pa.CompositeEffect,Pa.BlendEffect,Pa.DisplacementMapEffect],{in2:function(n){if(n==null){const t=this.attr("in2");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in2",n)}}),Pa.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var kl=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),new Pa().size("120%","180%","-5%","-40%"),i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"applyFilter",value:function(t,e,i){var r,a=this,s=this.w;if(t.unfilter(!0),i!=="none"){var o,l,c=s.config.chart.dropShadow,h=i==="lighten"?2:.3;t.filterWith((function(d){d.colorMatrix({type:"matrix",values:`
          `.concat(h,` 0 0 0 0
          0 `).concat(h,` 0 0 0
          0 0 `).concat(h,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&a.addShadow(d,e,c,"brightness")})),!c.noUserSpaceOnUse&&((o=t.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((r=t.filterer())===null||r===void 0?void 0:r.node)}else this.getDefaultFilter(t,e)}},{key:"addShadow",value:function(t,e,i,r){var a,s=this.w,o=i.blur,l=i.top,c=i.left,h=i.color,d=i.opacity;if(h=Array.isArray(h)?h[e]:h,((a=s.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.length)>0&&s.config.chart.dropShadow.enabledOnSeries.indexOf(e)===-1)return t;t.offset({in:r,dx:c,dy:l,result:"offset"}),t.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),t.flood({"flood-color":h,"flood-opacity":d,result:"flood"}),t.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),t.merge(["shadow",r])}},{key:"dropShadow",value:function(t,e){var i,r,a,s,o,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=this.w;return t.unfilter(!0),qt.isMsEdge()&&h.config.chart.type==="radialBar"||((i=h.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&((a=h.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.indexOf(c))===-1?t:(t.filterWith((function(d){l.addShadow(d,c,e,"SourceGraphic")})),e.noUserSpaceOnUse||(s=t.filterer())===null||s===void 0||(o=s.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((r=t.filterer())===null||r===void 0?void 0:r.node),t)}},{key:"setSelectionFilter",value:function(t,e,i){var r=this.w;if(r.globals.selectedDataPoints[e]!==void 0&&r.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var a=r.config.states.active.filter;a!=="none"&&this.applyFilter(t,e,a.type)}}},{key:"_scaleFilterSize",value:function(t){t&&(function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),n})(),Me=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"roundPathCorners",value:function(t,e){function i(Y,J,nt){var V=J.x-Y.x,Z=J.y-Y.y,rt=Math.sqrt(V*V+Z*Z);return r(Y,J,Math.min(1,nt/rt))}function r(Y,J,nt){return{x:Y.x+(J.x-Y.x)*nt,y:Y.y+(J.y-Y.y)*nt}}function a(Y,J){Y.length>2&&(Y[Y.length-2]=J.x,Y[Y.length-1]=J.y)}function s(Y){return{x:parseFloat(Y[Y.length-2]),y:parseFloat(Y[Y.length-1])}}t.indexOf("NaN")>-1&&(t="");var o=t.split(/[,\s]/).reduce((function(Y,J){var nt=J.match(/^([a-zA-Z])(.+)/);return nt?(Y.push(nt[1]),Y.push(nt[2])):Y.push(J),Y}),[]).reduce((function(Y,J){return parseFloat(J)==J&&Y.length?Y[Y.length-1].push(J):Y.push([J]),Y}),[]),l=[];if(o.length>1){var c=s(o[0]),h=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(h=["L",c.x,c.y],o[o.length-1]=h),l.push(o[0]);for(var d=1;d<o.length;d++){var g=l[l.length-1],y=o[d],x=y==h?o[1]:o[d+1];if(x&&g&&g.length>2&&y[0]=="L"&&x.length>2&&x[0]=="L"){var w,k,A=s(g),T=s(y),R=s(x);w=i(T,A,e),k=i(T,R,e),a(y,w),y.origPoint=T,l.push(y);var G=r(w,T,.5),z=r(T,k,.5),F=["C",G.x,G.y,z.x,z.y,k.x,k.y];F.origPoint=T,l.push(F)}else l.push(y)}if(h){var H=s(l[l.length-1]);l.push(["Z"]),a(l[0],H)}}else l=o;return l.reduce((function(Y,J){return Y+J.join(" ")+" "}),"")}},{key:"drawLine",value:function(t,e,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:r,stroke:a,"stroke-dasharray":s,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,h=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,d=this.w.globals.dom.Paper.rect();return d.attr({x:t,y:e,width:i>0?i:0,height:r>0?r:0,rx:a,ry:a,opacity:o,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":h}),d.node.setAttribute("fill",s),d}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(t).attr({fill:r,stroke:e,"stroke-width":i})}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;t<0&&(t=0);var i=this.w.globals.dom.Paper.circle(2*t);return e!==null&&i.attr(e),i}},{key:"drawPath",value:function(t){var e=t.d,i=e===void 0?"":e,r=t.stroke,a=r===void 0?"#a8a8a8":r,s=t.strokeWidth,o=s===void 0?1:s,l=t.fill,c=t.fillOpacity,h=c===void 0?1:c,d=t.strokeOpacity,g=d===void 0?1:d,y=t.classes,x=t.strokeLinecap,w=x===void 0?null:x,k=t.strokeDashArray,A=k===void 0?0:k,T=this.w;return w===null&&(w=T.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(T.globals.gridHeight)),T.globals.dom.Paper.path(i).attr({fill:l,"fill-opacity":h,stroke:a,"stroke-opacity":g,"stroke-linecap":w,"stroke-width":o,"stroke-dasharray":A,class:y})}},{key:"group",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=this.w.globals.dom.Paper.group();return t!==null&&e.attr(t),e}},{key:"move",value:function(t,e){var i=["M",t,e].join(" ");return i}},{key:"line",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=null;return i===null?r=[" L",t,e].join(" "):i==="H"?r=[" H",t].join(" "):i==="V"&&(r=[" V",e].join(" ")),r}},{key:"curve",value:function(t,e,i,r,a,s){var o=["C",t,e,i,r,a,s].join(" ");return o}},{key:"quadraticCurve",value:function(t,e,i,r){return["Q",t,e,i,r].join(" ")}},{key:"arc",value:function(t,e,i,r,a,s,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,t,e,i,r,a,s,o].join(" ");return c}},{key:"renderPaths",value:function(t){var e,i=t.j,r=t.realIndex,a=t.pathFrom,s=t.pathTo,o=t.stroke,l=t.strokeWidth,c=t.strokeLinecap,h=t.fill,d=t.animationDelay,g=t.initialSpeed,y=t.dataChangeSpeed,x=t.className,w=t.chartType,k=t.shouldClipToGrid,A=k===void 0||k,T=t.bindEventsOnPaths,R=T===void 0||T,G=t.drawShadow,z=G===void 0||G,F=this.w,H=new kl(this.ctx),Y=new m1(this.ctx),J=this.w.config.chart.animations.enabled,nt=J&&this.w.config.chart.animations.dynamicAnimation.enabled;if(a&&a.startsWith("M 0 0")&&s){var V=s.match(/^M\s+[\d.-]+\s+[\d.-]+/);V&&(a=a.replace(/^M\s+0\s+0/,V[0]))}var Z=!!(J&&!F.globals.resized||nt&&F.globals.dataChanged&&F.globals.shouldAnimate);Z?e=a:(e=s,F.globals.animationEnded=!0);var rt=F.config.stroke.dashArray,lt=0;lt=Array.isArray(rt)?rt[r]:F.config.stroke.dashArray;var mt=this.drawPath({d:e,stroke:o,strokeWidth:l,fill:h,fillOpacity:1,classes:x,strokeLinecap:c,strokeDashArray:lt});mt.attr("index",r),A&&(w==="bar"&&!F.globals.isHorizontal||F.globals.comboCharts?mt.attr({"clip-path":"url(#gridRectBarMask".concat(F.globals.cuid,")")}):mt.attr({"clip-path":"url(#gridRectMask".concat(F.globals.cuid,")")})),F.config.chart.dropShadow.enabled&&z&&H.dropShadow(mt,F.config.chart.dropShadow,r),R&&(mt.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,mt)),mt.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,mt)),mt.node.addEventListener("mousedown",this.pathMouseDown.bind(this,mt))),mt.attr({pathTo:s,pathFrom:a});var ct={el:mt,j:i,realIndex:r,pathFrom:a,pathTo:s,fill:h,strokeWidth:l,delay:d};return!J||F.globals.resized||F.globals.dataChanged?!F.globals.resized&&F.globals.dataChanged||Y.showDelayedElements():Y.animatePathsGradually(Oe(Oe({},ct),{},{speed:g})),F.globals.dataChanged&&nt&&Z&&Y.animatePathsGradually(Oe(Oe({},ct),{},{speed:y})),mt}},{key:"drawPattern",value:function(t,e,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(e,i,(function(s){t==="horizontalLines"?s.line(0,0,i,0).stroke({color:r,width:a+1}):t==="verticalLines"?s.line(0,0,0,e).stroke({color:r,width:a+1}):t==="slantedLines"?s.line(0,0,e,i).stroke({color:r,width:a}):t==="squares"?s.rect(e,i).fill("none").stroke({color:r,width:a}):t==="circles"&&s.circle(e).fill("none").stroke({color:r,width:a})}))}},{key:"drawGradient",value:function(t,e,i,r,a){var s,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],h=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,d=this.w;e.length<9&&e.indexOf("#")===0&&(e=qt.hexToRgba(e,r)),i.length<9&&i.indexOf("#")===0&&(i=qt.hexToRgba(i,a));var g=0,y=1,x=1,w=null;l!==null&&(g=l[0]!==void 0?l[0]/100:0,y=l[1]!==void 0?l[1]/100:1,x=l[2]!==void 0?l[2]/100:1,w=l[3]!==void 0?l[3]/100:null);var k=!(d.config.chart.type!=="donut"&&d.config.chart.type!=="pie"&&d.config.chart.type!=="polarArea"&&d.config.chart.type!=="bubble");if(s=c&&c.length!==0?d.globals.dom.Paper.gradient(k?"radial":"linear",(function(R){(Array.isArray(c[h])?c[h]:c).forEach((function(G){R.stop(G.offset/100,G.color,G.opacity)}))})):d.globals.dom.Paper.gradient(k?"radial":"linear",(function(R){R.stop(g,e,r),R.stop(y,i,a),R.stop(x,i,a),w!==null&&R.stop(w,e,r)})),k){var A=d.globals.gridWidth/2,T=d.globals.gridHeight/2;d.config.chart.type!=="bubble"?s.attr({gradientUnits:"userSpaceOnUse",cx:A,cy:T,r:o}):s.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else t==="vertical"?s.from(0,0).to(0,1):t==="diagonal"?s.from(0,0).to(1,1):t==="horizontal"?s.from(0,1).to(1,1):t==="diagonal2"&&s.from(1,0).to(0,1);return s}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,r=t.fontSize,a=t.fontFamily,s=this.getTextRects(e,r,a),o=s.width/e.length,l=Math.floor(i/o);return i<s.width?e.slice(0,l-3)+"...":e}},{key:"drawText",value:function(t){var e=this,i=t.x,r=t.y,a=t.text,s=t.textAnchor,o=t.fontSize,l=t.fontFamily,c=t.fontWeight,h=t.foreColor,d=t.opacity,g=t.maxWidth,y=t.cssClass,x=y===void 0?"":y,w=t.isPlainText,k=w===void 0||w,A=t.dominantBaseline,T=A===void 0?"auto":A,R=this.w;a===void 0&&(a="");var G=a;s||(s="start"),h&&h.length||(h=R.config.chart.foreColor),l=l||R.config.chart.fontFamily,c=c||"regular";var z,F={maxWidth:g,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(a)?z=R.globals.dom.Paper.text((function(H){for(var Y=0;Y<a.length;Y++)G=a[Y],g&&(G=e.getTextBasedOnMaxWidth(Oe({text:a[Y]},F))),Y===0?H.tspan(G):H.tspan(G).newLine()})):(g&&(G=this.getTextBasedOnMaxWidth(Oe({text:a},F))),z=k?R.globals.dom.Paper.plain(a):R.globals.dom.Paper.text((function(H){return H.tspan(G)}))),z.attr({x:i,y:r,"text-anchor":s,"dominant-baseline":T,"font-size":o,"font-family":l,"font-weight":c,fill:h,class:"apexcharts-text "+x}),z.node.style.fontFamily=l,z.node.style.opacity=d,z}},{key:"getMarkerPath",value:function(t,e,i,r){var a="";switch(i){case"cross":a="M ".concat(t-(r/=1.4)," ").concat(e-r," L ").concat(t+r," ").concat(e+r,"  M ").concat(t-r," ").concat(e+r," L ").concat(t+r," ").concat(e-r);break;case"plus":a="M ".concat(t-(r/=1.12)," ").concat(e," L ").concat(t+r," ").concat(e,"  M ").concat(t," ").concat(e-r," L ").concat(t," ").concat(e+r);break;case"star":case"sparkle":var s=5;r*=1.15,i==="sparkle"&&(r/=1.1,s=4);for(var o=Math.PI/s,l=0;l<=2*s;l++){var c=l*o,h=l%2==0?r:r/2;a+=(l===0?"M":"L")+(t+h*Math.sin(c))+","+(e-h*Math.cos(c))}a+="Z";break;case"triangle":a="M ".concat(t," ").concat(e-r,` 
             L `).concat(t+r," ").concat(e+r,` 
             L `).concat(t-r," ").concat(e+r,` 
             Z`);break;case"square":case"rect":a="M ".concat(t-(r/=1.125)," ").concat(e-r,` 
           L `).concat(t+r," ").concat(e-r,` 
           L `).concat(t+r," ").concat(e+r,` 
           L `).concat(t-r," ").concat(e+r,` 
           Z`);break;case"diamond":r*=1.05,a="M ".concat(t," ").concat(e-r,` 
             L `).concat(t+r," ").concat(e,` 
             L `).concat(t," ").concat(e+r,` 
             L `).concat(t-r," ").concat(e,` 
            Z`);break;case"line":a="M ".concat(t-(r/=1.1)," ").concat(e,` 
           L `).concat(t+r," ").concat(e);break;default:r*=2,a="M ".concat(t,", ").concat(e,` 
           m -`).concat(r/2,`, 0 
           a `).concat(r/2,",").concat(r/2," 0 1,0 ").concat(r,`,0 
           a `).concat(r/2,",").concat(r/2," 0 1,0 -").concat(r,",0")}return a}},{key:"drawMarkerShape",value:function(t,e,i,r,a){var s=this.drawPath({d:this.getMarkerPath(t,e,i,r,a),stroke:a.pointStrokeColor,strokeDashArray:a.pointStrokeDashArray,strokeWidth:a.pointStrokeWidth,fill:a.pointFillColor,fillOpacity:a.pointFillOpacity,strokeOpacity:a.pointStrokeOpacity});return s.attr({cx:t,cy:e,shape:a.shape,class:a.class?a.class:""}),s}},{key:"drawMarker",value:function(t,e,i){t=t||0;var r=i.pSize||0;return qt.isNumber(e)||(r=0,e=0),this.drawMarkerShape(t,e,i?.shape,r,Oe(Oe({},i),i.shape==="line"||i.shape==="plus"||i.shape==="cross"?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,r=new kl(this.ctx),a=parseInt(t.node.getAttribute("index"),10),s=parseInt(t.node.getAttribute("j"),10);if(typeof i.config.chart.events.dataPointMouseEnter=="function"&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:a,dataPointIndex:s,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:a,dataPointIndex:s,w:i}]),(i.config.states.active.filter.type==="none"||t.node.getAttribute("selected")!=="true")&&i.config.states.hover.filter.type!=="none"&&!i.globals.isTouchDevice){var o=i.config.states.hover.filter;r.applyFilter(t,a,o.type)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,r=new kl(this.ctx),a=parseInt(t.node.getAttribute("index"),10),s=parseInt(t.node.getAttribute("j"),10);typeof i.config.chart.events.dataPointMouseLeave=="function"&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:a,dataPointIndex:s,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:a,dataPointIndex:s,w:i}]),i.config.states.active.filter.type!=="none"&&t.node.getAttribute("selected")==="true"||i.config.states.hover.filter.type!=="none"&&r.getDefaultFilter(t,a)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,r=new kl(this.ctx),a=parseInt(t.node.getAttribute("index"),10),s=parseInt(t.node.getAttribute("j"),10),o="false";if(t.node.getAttribute("selected")==="true"){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[a].indexOf(s)>-1){var l=i.globals.selectedDataPoints[a].indexOf(s);i.globals.selectedDataPoints[a].splice(l,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var c=i.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),h=i.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),d=function(x){Array.prototype.forEach.call(x,(function(w){w.node.setAttribute("selected","false"),r.getDefaultFilter(w,a)}))};d(c),d(h)}t.node.setAttribute("selected","true"),o="true",i.globals.selectedDataPoints[a]===void 0&&(i.globals.selectedDataPoints[a]=[]),i.globals.selectedDataPoints[a].push(s)}if(o==="true"){var g=i.config.states.active.filter;if(g!=="none")r.applyFilter(t,a,g.type);else if(i.config.states.hover.filter!=="none"&&!i.globals.isTouchDevice){var y=i.config.states.hover.filter;r.applyFilter(t,a,y.type)}}else i.config.states.active.filter.type!=="none"&&(i.config.states.hover.filter.type==="none"||i.globals.isTouchDevice?r.getDefaultFilter(t,a):(y=i.config.states.hover.filter,r.applyFilter(t,a,y.type)));typeof i.config.chart.events.dataPointSelection=="function"&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:s,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:s,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&typeof t.getBBox=="function"&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,r){var a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],s=this.w,o=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});r&&o.attr("transform",r),s.globals.dom.Paper.add(o);var l=o.bbox();return a||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if(typeof t.getComputedTextLength=="function"&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var r=e.length-3;r>0;r-=3)if(t.getSubStringLength(0,r)<=i/1.1)return void(t.textContent=e.substring(0,r)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),n})(),ps=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=this.w,i=[];if(e.globals.series.length===0)return i;for(var r=0;r<e.globals.series[e.globals.maxValsInArrayIndex].length;r++){for(var a=0,s=0;s<e.globals.series.length;s++)e.globals.series[s][r]!==void 0&&t.indexOf(s)===-1&&(a+=e.globals.series[s][r]);i.push(a)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return t===null?this.w.config.series.reduce((function(e,i){return e+i}),0):this.w.globals.series[t].reduce((function(e,i){return e+i}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var t=this,e=this.w,i=[];return e.globals.seriesGroups.forEach((function(r){var a=[];e.config.series.forEach((function(o,l){r.indexOf(e.globals.seriesNames[l])>-1&&a.push(l)}));var s=e.globals.series.map((function(o,l){return a.indexOf(l)===-1?l:-1})).filter((function(o){return o!==-1}));i.push(t.getStackedSeriesTotals(s))})),i}},{key:"setSeriesYAxisMappings",value:function(){var t=this.w.globals,e=this.w.config,i=[],r=[],a=[],s=t.series.length>e.yaxis.length||e.yaxis.some((function(d){return Array.isArray(d.seriesName)}));e.series.forEach((function(d,g){a.push(g),r.push(null)})),e.yaxis.forEach((function(d,g){i[g]=[]}));var o=[];e.yaxis.forEach((function(d,g){var y=!1;if(d.seriesName){var x=[];Array.isArray(d.seriesName)?x=d.seriesName:x.push(d.seriesName),x.forEach((function(w){e.series.forEach((function(k,A){if(k.name===w){var T=A;g===A||s?!s||a.indexOf(A)>-1?i[g].push([g,A]):console.warn("Series '"+k.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[A].push([A,g]),T=g),y=!0,(T=a.indexOf(T))!==-1&&a.splice(T,1)}}))}))}y||o.push(g)})),i=i.map((function(d,g){var y=[];return d.forEach((function(x){r[x[1]]=x[0],y.push(x[1])})),y}));for(var l=e.yaxis.length-1,c=0;c<o.length&&(l=o[c],i[l]=[],a);c++){var h=a[0];a.shift(),i[l].push(h),r[h]=l}a.forEach((function(d){i[l].push(d),r[d]=l})),t.seriesYAxisMap=i.map((function(d){return d})),t.seriesYAxisReverseMap=r.map((function(d){return d})),t.seriesYAxisMap.forEach((function(d,g){d.forEach((function(y){e.series[y]&&e.series[y].group===void 0&&(e.series[y].group="apexcharts-axis-".concat(g.toString()))}))}))}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(t===null?this.w.config.series.filter((function(e){return e!==null})):this.w.config.series[t].data.filter((function(e){return e!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(e,i,r){return e===r[0]}))}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map((function(r,a){return e.config.xaxis.labels.formatter(r-e.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(e){return e.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(e){return e.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(i){e=Math.max(e,i)})),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach((function(i){e=Math.max(e,i.size)})),e>0&&(t.config.markers.hover.size>0?e=t.config.markers.hover.size:e+=t.config.markers.hover.sizeOffset),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(e,i){var r=0;if(Array.isArray(e))for(var a=0;a<e.length;a++)r+=e[a];else r+=e;return r}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map((function(r,a){for(var s=0,o=0;o<r.length;o++)i.globals.seriesX[a][o]>t&&i.globals.seriesX[a][o]<e&&(s+=r[o]);return s}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,i){var r=[];if(Array.isArray(e))for(var a=0;a<e.length;a++){var s=t.globals.stackedSeriesTotals[a],o=0;s&&(o=100*e[a]/s),r.push(o)}else{var l=100*e/t.globals.seriesTotals.reduce((function(c,h){return c+h}),0);r.push(l)}return r}))}},{key:"getCalculatedRatios",value:function(){var t,e,i,r=this,a=this.w,s=a.globals,o=[],l=0,c=[],h=.1,d=0;if(s.yRange=[],s.isMultipleYAxis)for(var g=0;g<s.minYArr.length;g++)s.yRange.push(Math.abs(s.minYArr[g]-s.maxYArr[g])),c.push(0);else s.yRange.push(Math.abs(s.minY-s.maxY));s.xRange=Math.abs(s.maxX-s.minX),s.zRange=Math.abs(s.maxZ-s.minZ);for(var y=0;y<s.yRange.length;y++)o.push(s.yRange[y]/s.gridHeight);if(e=s.xRange/s.gridWidth,t=s.yRange/s.gridWidth,i=s.xRange/s.gridHeight,(l=s.zRange/s.gridHeight*16)||(l=1),s.minY!==Number.MIN_VALUE&&Math.abs(s.minY)!==0&&(s.hasNegs=!0),a.globals.seriesYAxisReverseMap.length>0){var x=function(k,A){var T=a.config.yaxis[a.globals.seriesYAxisReverseMap[A]],R=k<0?-1:1;return k=Math.abs(k),T.logarithmic&&(k=r.getBaseLog(T.logBase,k)),-R*k/o[A]};if(s.isMultipleYAxis){c=[];for(var w=0;w<o.length;w++)c.push(x(s.minYArr[w],w))}else(c=[]).push(x(s.minY,0)),s.minY!==Number.MIN_VALUE&&Math.abs(s.minY)!==0&&(h=-s.minY/t,d=s.minX/e)}else(c=[]).push(0),h=0,d=0;return{yRatio:o,invertedYRatio:t,zRatio:l,xRatio:e,invertedXRatio:i,baseLineInvertedY:h,baseLineY:c,baseLineX:d}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map((function(r,a){var s=i.globals.seriesYAxisReverseMap[a];return i.config.yaxis[s]&&i.config.yaxis[s].logarithmic?r.map((function(o){return o===null?null:e.getLogVal(i.config.yaxis[s].logBase,o,a)})):r})),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(t,e){if(t===null)return null;var i=this.w,r=i.globals.seriesYAxisReverseMap[e];return i.config.yaxis[r]&&i.config.yaxis[r].logarithmic?this.getLogVal(i.config.yaxis[r].logBase,t,e):t}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(e<=0)return 0;var r=this.w,a=r.globals.minYArr[i]===0?-1:this.getBaseLog(t,r.globals.minYArr[i]),s=(r.globals.maxYArr[i]===0?0:this.getBaseLog(t,r.globals.maxYArr[i]))-a;return e<1?e/s:(this.getBaseLog(t,e)-a)/s}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,r=this.w.globals;return r.yLogRatio=t.slice(),r.logYRange=r.yRange.map((function(a,s){var o=i.globals.seriesYAxisReverseMap[s];if(i.config.yaxis[o]&&e.w.config.yaxis[o].logarithmic){var l,c=-Number.MAX_VALUE,h=Number.MIN_VALUE;return r.seriesLog.forEach((function(d,g){d.forEach((function(y){i.config.yaxis[g]&&i.config.yaxis[g].logarithmic&&(c=Math.max(y,c),h=Math.min(y,h))}))})),l=Math.pow(r.yRange[s],Math.abs(h-c)/r.yRange[s]),r.yLogRatio[s]=l/r.gridHeight,l}})),r.invalidLogScale?t.slice():r.yLogRatio}},{key:"drawSeriesByGroup",value:function(t,e,i,r){var a=this.w,s=[];return t.series.length>0&&e.forEach((function(o){var l=[],c=[];t.i.forEach((function(h,d){a.config.series[h].group===o&&(l.push(t.series[d]),c.push(h))})),l.length>0&&s.push(r.draw(l,i,c))})),s}}],[{key:"checkComboSeries",value:function(t,e){var i=!1,r=0,a=0;return e===void 0&&(e="line"),t.length&&t[0].type!==void 0&&t.forEach((function(s){s.type!=="bar"&&s.type!=="column"&&s.type!=="candlestick"&&s.type!=="boxPlot"||r++,s.type!==void 0&&s.type!==e&&a++})),a>0&&(i=!0),{comboBarCount:r,comboCharts:i}}},{key:"extendArrayProps",value:function(t,e,i){var r,a,s,o,l,c;return(r=e)!==null&&r!==void 0&&r.yaxis&&(e=t.extendYAxis(e,i)),(a=e)!==null&&a!==void 0&&a.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),(s=e)!==null&&s!==void 0&&(o=s.annotations)!==null&&o!==void 0&&o.xaxis&&(e=t.extendXAxisAnnotations(e)),(l=e)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(e=t.extendPointAnnotations(e))),e}}]),n})(),uT=(function(){function n(t){$e(this,n),this.w=t.w,this.annoCtx=t}return Ve(n,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.w;if(t.label.orientation==="vertical"){var r=e!==null?e:0,a=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(a!==null){var s=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-s.height+4);var o=t.label.position==="top"?s.width:-s.width;a.setAttribute("y",parseFloat(a.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(a),c=l.x,h=l.y;a.setAttribute("transform","rotate(-90 ".concat(c," ").concat(h,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||!e.label.text||!String(e.label.text).trim())return null;var r=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=t.getBoundingClientRect(),s=e.label.style.padding,o=s.left,l=s.right,c=s.top,h=s.bottom;if(e.label.orientation==="vertical"){var d=[o,l,c,h];c=d[0],h=d[1],o=d[2],l=d[3]}var g=a.left-r.left-o,y=a.top-r.top-c,x=this.annoCtx.graphics.drawRect(g-i.globals.barPadForNumericAxis,y,a.width+o+l,a.height+c+h,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&x.node.classList.add(e.id),x}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(r,a,s){var o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(a,"']"));if(o){var l=o.parentNode,c=t.addBackgroundToAnno(o,r);c&&(l.insertBefore(c.node,o),r.label.mouseEnter&&c.node.addEventListener("mouseenter",r.label.mouseEnter.bind(t,r)),r.label.mouseLeave&&c.node.addEventListener("mouseleave",r.label.mouseLeave.bind(t,r)),r.label.click&&c.node.addEventListener("click",r.label.click.bind(t,r)))}};e.config.annotations.xaxis.forEach((function(r,a){return i(r,a,"xaxis")})),e.config.annotations.yaxis.forEach((function(r,a){return i(r,a,"yaxis")})),e.config.annotations.points.forEach((function(r,a){return i(r,a,"point")}))}},{key:"getY1Y2",value:function(t,e){var i,r=this.w,a=t==="y1"?e.y:e.y2,s=!1;if(this.annoCtx.invertAxis){var o=r.config.xaxis.convertedCatToNumeric?r.globals.categoryLabels:r.globals.labels,l=o.indexOf(a),c=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));i=c?parseFloat(c.getAttribute("y")):(r.globals.gridHeight/o.length-1)*(l+1)-r.globals.barHeight,e.seriesIndex!==void 0&&r.globals.barHeight&&(i-=r.globals.barHeight/2*(r.globals.series.length-1)-r.globals.barHeight*e.seriesIndex)}else{var h,d=r.globals.seriesYAxisMap[e.yAxisIndex][0],g=r.config.yaxis[e.yAxisIndex].logarithmic?new ps(this.annoCtx.ctx).getLogVal(r.config.yaxis[e.yAxisIndex].logBase,a,d)/r.globals.yLogRatio[d]:(a-r.globals.minYArr[d])/(r.globals.yRange[d]/r.globals.gridHeight);i=r.globals.gridHeight-Math.min(Math.max(g,0),r.globals.gridHeight),s=g>r.globals.gridHeight||g<0,!e.marker||e.y!==void 0&&e.y!==null||(i=0),(h=r.config.yaxis[e.yAxisIndex])!==null&&h!==void 0&&h.reversed&&(i=g)}return typeof a=="string"&&a.includes("px")&&(i=parseFloat(a)),{yP:i,clipped:s}}},{key:"getX1X2",value:function(t,e){var i=this.w,r=t==="x1"?e.x:e.x2,a=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,s=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(s-r)/(o/i.globals.gridWidth):(r-a)/(o/i.globals.gridWidth);return i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(c=this.getStringX(r)),typeof r=="string"&&r.includes("px")&&(c=parseFloat(r)),r==null&&e.marker&&(c=i.globals.gridWidth),e.seriesIndex!==void 0&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*e.seriesIndex),typeof c!="number"&&(c=0,l=!0),parseFloat(c.toFixed(10))>parseFloat(i.globals.gridWidth.toFixed(10))?(c=i.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var r=e.globals.labels.map((function(s){return Array.isArray(s)?s.join(" "):s})).indexOf(t),a=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(r+1,")"));return a&&(i=parseFloat(a.getAttribute("x"))),i}}]),n})(),PAt=(function(){function n(t){$e(this,n),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new uT(this.annoCtx)}return Ve(n,[{key:"addXaxisAnnotation",value:function(t,e,i){var r,a=this.w,s=this.helpers.getX1X2("x1",t),o=s.x,l=s.clipped,c=!0,h=t.label.text,d=t.strokeDashArray;if(qt.isNumber(o)){if(t.x2===null||t.x2===void 0){if(!l){var g=this.annoCtx.graphics.drawLine(o+t.offsetX,0+t.offsetY,o+t.offsetX,a.globals.gridHeight+t.offsetY,t.borderColor,d,t.borderWidth);e.appendChild(g.node),t.id&&g.node.classList.add(t.id)}}else{var y=this.helpers.getX1X2("x2",t);if(r=y.x,c=y.clipped,r<o){var x=o;o=r,r=x}var w=this.annoCtx.graphics.drawRect(o+t.offsetX,0+t.offsetY,r-o,a.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,d);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(w.node),t.id&&w.node.classList.add(t.id)}if(!l||!c){var k=this.annoCtx.graphics.getTextRects(h,parseFloat(t.label.style.fontSize)),A=t.label.position==="top"?4:t.label.position==="center"?a.globals.gridHeight/2+(t.label.orientation==="vertical"?k.width/2:0):a.globals.gridHeight,T=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:A+t.label.offsetY-(t.label.orientation==="vertical"?t.label.position==="top"?k.width/2-12:-k.width/2:0),text:h,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});T.attr({rel:i}),e.appendChild(T.node),this.annoCtx.helpers.setOrientations(t,i)}}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(r,a){t.addXaxisAnnotation(r,i.node,a)})),i}}]),n})(),wl=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Ve(n,[{key:"isValidDate",value:function(t){return typeof t!="number"&&!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return i=this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(wo(i.months)),s=[""].concat(wo(i.shortMonths)),o=[""].concat(wo(i.days)),l=[""].concat(wo(i.shortDays));function c(Y,J){var nt=Y+"";for(J=J||2;nt.length<J;)nt="0"+nt;return nt}var h=r?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h);var d=(r?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+s[0])).replace(/(^|[^\\])MM/g,"$1"+c(d))).replace(/(^|[^\\])M/g,"$1"+d);var g=r?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(g))).replace(/(^|[^\\])d/g,"$1"+g);var y=r?t.getUTCHours():t.getHours(),x=y>12?y-12:y===0?12:y;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+c(y))).replace(/(^|[^\\])H/g,"$1"+y)).replace(/(^|[^\\])hh+/g,"$1"+c(x))).replace(/(^|[^\\])h/g,"$1"+x);var w=r?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+c(w))).replace(/(^|[^\\])m/g,"$1"+w);var k=r?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+c(k))).replace(/(^|[^\\])s/g,"$1"+k);var A=r?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+c(A,3)),A=Math.round(A/10),e=e.replace(/(^|[^\\])ff/g,"$1"+c(A)),A=Math.round(A/10);var T=y<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+A)).replace(/(^|[^\\])TT+/g,"$1"+T)).replace(/(^|[^\\])T/g,"$1"+T.charAt(0));var R=T.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+R)).replace(/(^|[^\\])t/g,"$1"+R.charAt(0));var G=-t.getTimezoneOffset(),z=r||!G?"Z":G>0?"+":"-";if(!r){var F=(G=Math.abs(G))%60;z+=c(Math.floor(G/60))+":"+c(F)}e=e.replace(/(^|[^\\])K/g,"$1"+z);var H=(r?t.getUTCDay():t.getDay())+1;return e=(e=(e=(e=(e=e.replace(new RegExp(o[0],"g"),o[H])).replace(new RegExp(l[0],"g"),l[H])).replace(new RegExp(a[0],"g"),a[d])).replace(new RegExp(s[0],"g"),s[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var r=this.w;r.config.xaxis.min!==void 0&&(t=r.config.xaxis.min),r.config.xaxis.max!==void 0&&(e=r.config.xaxis.max);var a=this.getDate(t),s=this.getDate(e),o=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var r=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=qt.monthMod(t),!0){case this.months30.indexOf(t)>-1:t===2&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),n})(),_S=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return Ve(n,[{key:"xLabelFormat",value:function(t,e,i,r){var a=this.w;if(a.config.xaxis.type==="datetime"&&a.config.xaxis.labels.formatter===void 0&&a.config.tooltip.x.formatter===void 0){var s=new wl(this.ctx);return s.formatDate(s.getDate(e),a.config.tooltip.x.format)}return t(e,i,r)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map((function(e){return e})):t}},{key:"defaultYFormatter",value:function(t,e,i){var r=this.w;if(qt.isNumber(t))if(r.globals.yValueDecimal!==0)t=t.toFixed(e.decimalsInFloat!==void 0?e.decimalsInFloat:r.globals.yValueDecimal);else{var a=t.toFixed(0);t=t==a?a:t.toFixed(1)}return t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.ttKeyFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.ttZFormatter=function(i){return i},e.globals.legendFormatter=function(i){return t.defaultGeneralFormatter(i)},e.config.xaxis.labels.formatter!==void 0?e.globals.xLabelFormatter=e.config.xaxis.labels.formatter:e.globals.xLabelFormatter=function(i){if(qt.isNumber(i)){if(!e.config.xaxis.convertedCatToNumeric&&e.config.xaxis.type==="numeric"){if(qt.isNumber(e.config.xaxis.decimalsInFloat))return i.toFixed(e.config.xaxis.decimalsInFloat);var r=e.globals.maxX-e.globals.minX;return r>0&&r<100?i.toFixed(1):i.toFixed(0)}return e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?i.toFixed(1):i.toFixed(0)}return i},typeof e.config.tooltip.x.formatter=="function"?e.globals.ttKeyFormatter=e.config.tooltip.x.formatter:e.globals.ttKeyFormatter=e.globals.xLabelFormatter,typeof e.config.xaxis.tooltip.formatter=="function"&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||e.config.tooltip.y.formatter!==void 0)&&(e.globals.ttVal=e.config.tooltip.y),e.config.tooltip.z.formatter!==void 0&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),e.config.legend.formatter!==void 0&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach((function(i,r){i.labels.formatter!==void 0?e.globals.yLabelFormatters[r]=i.labels.formatter:e.globals.yLabelFormatters[r]=function(a){return e.globals.xyCharts?Array.isArray(a)?a.map((function(s){return t.defaultYFormatter(s,i,r)})):t.defaultYFormatter(a,i,r):a}})),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if(t.config.chart.type==="heatmap"){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(i,r){return i.length>r.length?i:r}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),n})(),Vy=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"getLabel",value:function(t,e,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=t[r]===void 0?"":t[r],h=c,d=l.globals.xLabelFormatter,g=l.config.xaxis.labels.formatter,y=!1,x=new _S(this.ctx),w=c;o&&(h=x.xLabelFormat(d,c,w,{i:r,dateFormatter:new wl(this.ctx).formatDate,w:l}),g!==void 0&&(h=g(c,t[r],{i:r,dateFormatter:new wl(this.ctx).formatDate,w:l})));var k,A;e.length>0?(k=e[r].unit,A=null,e.forEach((function(z){z.unit==="month"?A="year":z.unit==="day"?A="month":z.unit==="hour"?A="day":z.unit==="minute"&&(A="hour")})),y=A===k,i=e[r].position,h=e[r].value):l.config.xaxis.type==="datetime"&&g===void 0&&(h=""),h===void 0&&(h=""),h=Array.isArray(h)?h:h.toString();var T=new Me(this.ctx),R={};R=l.globals.rotateXLabels&&o?T.getTextRects(h,parseInt(s,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):T.getTextRects(h,parseInt(s,10));var G=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(h)&&(String(h)==="NaN"||a.indexOf(h)>=0&&G)&&(h=""),{x:i,text:h,textRect:R,isBold:y}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var r=this.w,a=r.config.xaxis.tickAmount;return a==="dataPoints"&&(a=Math.round(r.globals.gridWidth/120)),a>i||t%Math.round(i/(a+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,r,a){var s=this.w;if(t===0&&s.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&s.globals.skipLastTimelinelabel&&(e.text=""),s.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var o=a[a.length-1];if(s.config.xaxis.labels.trim&&s.config.xaxis.type!=="datetime")return e;e.x<o.textRect.width/(s.globals.rotateXLabels?Math.abs(s.config.xaxis.labels.rotate)/12:1.01)+o.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"yAxisAllSeriesCollapsed",value:function(t){var e=this.w.globals;return!e.seriesYAxisMap[t].some((function(i){return e.collapsedSeriesIndices.indexOf(i)===-1}))}},{key:"translateYAxisIndex",value:function(t){var e=this.w,i=e.globals,r=e.config.yaxis;return i.series.length>r.length||r.some((function(a){return Array.isArray(a.seriesName)}))?t:i.seriesYAxisReverseMap[t]}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=e.config.yaxis[t];if(!i.show||this.yAxisAllSeriesCollapsed(t))return!0;if(!i.showForNullSeries){var r=e.globals.seriesYAxisMap[t],a=new ps(this.ctx);return r.every((function(s){return a.isSeriesNull(s)}))}return!1}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,r,a,s,o){var l=this.w,c=new Me(this.ctx),h=l.globals.translateY+l.config.yaxis[a].labels.offsetY;if(l.globals.isBarHorizontal?h=0:l.config.chart.type==="heatmap"&&(h+=s/2),r.show&&e>0){l.config.yaxis[a].opposite===!0&&(t+=r.width);for(var d=e;d>=0;d--){var g=c.drawLine(t+i.offsetX-r.width+r.offsetX,h+r.offsetY,t+i.offsetX+r.offsetX,h+r.offsetY,r.color);o.add(g),h+=s}}}}]),n})(),EAt=(function(){function n(t){$e(this,n),this.w=t.w,this.annoCtx=t,this.helpers=new uT(this.annoCtx),this.axesUtils=new Vy(this.annoCtx)}return Ve(n,[{key:"addYaxisAnnotation",value:function(t,e,i){var r,a=this.w,s=t.strokeDashArray,o=this.helpers.getY1Y2("y1",t),l=o.yP,c=o.clipped,h=!0,d=!1,g=t.label.text;if(t.y2===null||t.y2===void 0){if(!c){d=!0;var y=this.annoCtx.graphics.drawLine(0+t.offsetX,l+t.offsetY,this._getYAxisAnnotationWidth(t),l+t.offsetY,t.borderColor,s,t.borderWidth);e.appendChild(y.node),t.id&&y.node.classList.add(t.id)}}else{if(r=(o=this.helpers.getY1Y2("y2",t)).yP,h=o.clipped,r>l){var x=l;l=r,r=x}if(!c||!h){d=!0;var w=this.annoCtx.graphics.drawRect(0+t.offsetX,r+t.offsetY,this._getYAxisAnnotationWidth(t),l-r,0,t.fillColor,t.opacity,1,t.borderColor,s);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),e.appendChild(w.node),t.id&&w.node.classList.add(t.id)}}if(d){var k=t.label.position==="right"?a.globals.gridWidth:t.label.position==="center"?a.globals.gridWidth/2:0,A=this.annoCtx.graphics.drawText({x:k+t.label.offsetX,y:(r??l)+t.label.offsetY-3,text:g,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});A.attr({rel:i}),e.appendChild(A.node)}}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.forEach((function(r,a){r.yAxisIndex=t.axesUtils.translateYAxisIndex(r.yAxisIndex),t.axesUtils.isYAxisHidden(r.yAxisIndex)&&t.axesUtils.yAxisAllSeriesCollapsed(r.yAxisIndex)||t.addYaxisAnnotation(r,i.node,a)})),i}}]),n})(),jAt=(function(){function n(t){$e(this,n),this.w=t.w,this.annoCtx=t,this.helpers=new uT(this.annoCtx)}return Ve(n,[{key:"addPointAnnotation",value:function(t,e,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(t.seriesIndex)>-1)){var r=this.helpers.getX1X2("x1",t),a=r.x,s=r.clipped,o=(r=this.helpers.getY1Y2("y1",t)).yP,l=r.clipped;if(qt.isNumber(a)&&!l&&!s){var c={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},h=this.annoCtx.graphics.drawMarker(a+t.marker.offsetX,o+t.marker.offsetY,c);e.appendChild(h.node);var d=t.label.text?t.label.text:"",g=this.annoCtx.graphics.drawText({x:a+t.label.offsetX,y:o+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:d,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(g.attr({rel:i}),e.appendChild(g.node),t.customSVG.SVG){var y=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});y.attr({transform:"translate(".concat(a+t.customSVG.offsetX,", ").concat(o+t.customSVG.offsetY,")")}),y.node.innerHTML=t.customSVG.SVG,e.appendChild(y.node)}if(t.image.path){var x=t.image.width?t.image.width:20,w=t.image.height?t.image.height:20;h=this.annoCtx.addImage({x:a+t.image.offsetX-x/2,y:o+t.image.offsetY-w/2,width:x,height:w,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&h.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&h.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&h.node.addEventListener("click",t.click.bind(this,t))}}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map((function(r,a){t.addPointAnnotation(r,i.node,a)})),i}}]),n})(),b7={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ux=(function(){function n(){$e(this,n),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Ve(n,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[b7],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(e,i){return e+i}),0)/t.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(t){return t},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(e,i){return e+i}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return t!==null?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),n})(),DAt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.graphics=new Me(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new uT(this),this.xAxisAnnotations=new PAt(this),this.yAxisAnnotations=new EAt(this),this.pointsAnnotations=new jAt(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Ve(n,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts&&t.globals.dataPoints){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),a=t.config.chart.animations.enabled,s=[e,i,r],o=[i.node,e.node,r.node],l=0;l<3;l++)t.globals.dom.elGraphical.add(s[l]),!a||t.globals.resized||t.globals.dataChanged||t.config.chart.type!=="scatter"&&t.config.chart.type!=="bubble"&&t.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map((function(e,i){t.addImage(e,i)}))}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map((function(e,i){t.addText(e,i)}))}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,r=t.y,a=t.text,s=t.textAnchor,o=t.foreColor,l=t.fontSize,c=t.fontFamily,h=t.fontWeight,d=t.cssClass,g=t.backgroundColor,y=t.borderWidth,x=t.strokeDashArray,w=t.borderRadius,k=t.borderColor,A=t.appendTo,T=A===void 0?".apexcharts-svg":A,R=t.paddingLeft,G=R===void 0?4:R,z=t.paddingRight,F=z===void 0?4:z,H=t.paddingBottom,Y=H===void 0?2:H,J=t.paddingTop,nt=J===void 0?2:J,V=this.w,Z=this.graphics.drawText({x:i,y:r,text:a,textAnchor:s||"start",fontSize:l||"12px",fontWeight:h||"regular",fontFamily:c||V.config.chart.fontFamily,foreColor:o||V.config.chart.foreColor,cssClass:d}),rt=V.globals.dom.baseEl.querySelector(T);rt&&rt.appendChild(Z.node);var lt=Z.bbox();if(a){var mt=this.graphics.drawRect(lt.x-G,lt.y-nt,lt.width+G+F,lt.height+Y+nt,w,g||"transparent",1,y,k,x);rt.insertBefore(mt.node,Z.node)}}},{key:"addImage",value:function(t,e){var i=this.w,r=t.path,a=t.x,s=a===void 0?0:a,o=t.y,l=o===void 0?0:o,c=t.width,h=c===void 0?20:c,d=t.height,g=d===void 0?20:d,y=t.appendTo,x=y===void 0?".apexcharts-svg":y,w=i.globals.dom.Paper.image(r);w.size(h,g).move(s,l);var k=i.globals.dom.baseEl.querySelector(x);return k&&k.appendChild(w.node),w}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return this.invertAxis===void 0&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,r=t.context,a=t.type,s=t.contextMethod,o=r,l=o.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),h=c.childNodes.length+1,d=new ux,g=Object.assign({},a==="xaxis"?d.xAxisAnnotation:a==="yaxis"?d.yAxisAnnotation:d.pointAnnotation),y=qt.extend(g,e);switch(a){case"xaxis":this.addXaxisAnnotation(y,c,h);break;case"yaxis":this.addYaxisAnnotation(y,c,h);break;case"point":this.addPointAnnotation(y,c,h)}var x=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(h,"']")),w=this.helpers.addBackgroundToAnno(x,y);return w&&c.insertBefore(w.node,x),i&&l.globals.memory.methodsToExec.push({context:o,id:y.id?y.id:qt.randomId(),method:s,label:"addAnnotation",params:e}),r}},{key:"clearAnnotations",value:function(t){for(var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),r=e.globals.memory.methodsToExec.length-1;r>=0;r--)e.globals.memory.methodsToExec[r].label!=="addText"&&e.globals.memory.methodsToExec[r].label!=="addAnnotation"||e.globals.memory.methodsToExec.splice(r,1);i=qt.listToArray(i),Array.prototype.forEach.call(i,(function(a){for(;a.firstChild;)a.removeChild(a.firstChild)}))}},{key:"removeAnnotation",value:function(t,e){var i=t.w,r=i.globals.dom.baseEl.querySelectorAll(".".concat(e));r&&(i.globals.memory.methodsToExec.map((function(a,s){a.id===e&&i.globals.memory.methodsToExec.splice(s,1)})),Object.keys(i.config.annotations).forEach((function(a){var s=i.config.annotations[a];Array.isArray(s)&&(i.config.annotations[a]=s.filter((function(o){return o.id!==e})))})),Array.prototype.forEach.call(r,(function(a){a.parentElement.removeChild(a)})))}}]),n})(),pP=function(n){var t,e=n.isTimeline,i=n.ctx,r=n.seriesIndex,a=n.dataPointIndex,s=n.y1,o=n.y2,l=n.w,c=l.globals.seriesRangeStart[r][a],h=l.globals.seriesRangeEnd[r][a],d=l.globals.labels[a],g=l.config.series[r].name?l.config.series[r].name:"",y=l.globals.ttKeyFormatter,x=l.config.tooltip.y.title.formatter,w={w:l,seriesIndex:r,dataPointIndex:a,start:c,end:h};typeof x=="function"&&(g=x(g,w)),(t=l.config.series[r].data[a])!==null&&t!==void 0&&t.x&&(d=l.config.series[r].data[a].x),e||l.config.xaxis.type==="datetime"&&(d=new _S(i).xLabelFormat(l.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new wl(i).formatDate,w:l})),typeof y=="function"&&(d=y(d,w)),Number.isFinite(s)&&Number.isFinite(o)&&(c=s,h=o);var k="",A="",T=l.globals.colors[r];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var R=new wl(i);k=R.formatDate(R.getDate(c),l.config.tooltip.x.format),A=R.formatDate(R.getDate(h),l.config.tooltip.x.format)}else k=c,A=h;else k=l.config.tooltip.x.formatter(c),A=l.config.tooltip.x.formatter(h);return{start:c,end:h,startVal:k,endVal:A,ylabel:d,color:T,seriesName:g}},mP=function(n){var t=n.color,e=n.seriesName,i=n.ylabel,r=n.start,a=n.end,s=n.seriesIndex,o=n.dataPointIndex,l=n.ctx.tooltip.tooltipLabels.getFormatters(s);r=l.yLbFormatter(r),a=l.yLbFormatter(a);var c=l.yLbFormatter(n.w.globals.series[s][o]),h=`<span class="value start-value">
  `.concat(r,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(a,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(e||"")+'</span></div><div> <span class="category">'+i+": </span> "+(n.w.globals.comboCharts?n.w.config.series[s].type==="rangeArea"||n.w.config.series[s].type==="rangeBar"?h:"<span>".concat(c,"</span>"):h)+" </div></div>"},C_=(function(){function n(t){$e(this,n),this.opts=t}return Ve(n,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.hideYAxis(),qt.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(t,e){var i=e.w.config.series[e.seriesIndex].name;return t!==null?i+": "+t:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Oe(Oe({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,r=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,r=e.dataPointIndex,a=e.w;return t._getBoxTooltip(a,i,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,r=e.dataPointIndex,a=e.w,s=function(){var o=a.globals.seriesRangeStart[i][r];return a.globals.seriesRangeEnd[i][r]-o};return a.globals.comboCharts?a.config.series[i].type==="rangeBar"||a.config.series[i].type==="rangeArea"?s():t:s()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?(function(e){var i=pP(Oe(Oe({},e),{},{isTimeline:!0})),r=i.color,a=i.seriesName,s=i.ylabel,o=i.startVal,l=i.endVal;return mP(Oe(Oe({},e),{},{color:r,seriesName:a,ylabel:s,start:o,end:l}))})(t):(function(e){var i=pP(e),r=i.color,a=i.seriesName,s=i.ylabel,o=i.start,l=i.end;return mP(Oe(Oe({},e),{},{color:r,seriesName:a,ylabel:s,start:o,end:l}))})(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(t){var e,i;return(e=t.plotOptions.bar)!==null&&e!==void 0&&e.barHeight||(t.plotOptions.bar.barHeight=2),(i=t.plotOptions.bar)!==null&&i!==void 0&&i.columnWidth||(t.plotOptions.bar.columnWidth=2),t}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return(function(e){var i=pP(e),r=i.color,a=i.seriesName,s=i.ylabel,o=i.start,l=i.end;return mP(Oe(Oe({},e),{},{color:r,seriesName:a,ylabel:s,start:o,end:l}))})(t)}}}}},{key:"brush",value:function(t){return qt.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach((function(i,r){t.yaxis[r].min=0,t.yaxis[r].max=100})),t.chart.type==="bar"&&(t.dataLabels.formatter=e||function(i){return typeof i=="number"&&i?i.toFixed(0)+"%":i}),t}},{key:"stackedBars",value:function(){var t=this.bar();return Oe(Oe({},t),{},{plotOptions:Oe(Oe({},t.plotOptions),{},{bar:Oe(Oe({},t.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(s){return qt.isNumber(s)?Math.floor(s):s};var r=t.xaxis.labels.formatter,a=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(a=i.map((function(s){return Array.isArray(s)?s:String(s)}))),a&&a.length&&(t.xaxis.labels.formatter=function(s){return qt.isNumber(s)?r(a[Math.floor(s)-1]):r(s)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(t,e,i,r,a){var s=t.globals.seriesCandleO[e][i],o=t.globals.seriesCandleH[e][i],l=t.globals.seriesCandleM[e][i],c=t.globals.seriesCandleL[e][i],h=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==a?`<div class="apexcharts-custom-tooltip">
          `.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+s+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(r[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+h+"</span></div></div>"}}]),n})(),A_=(function(){function n(t){$e(this,n),this.opts=t}return Ve(n,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,r=new ux,a=new C_(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var s=r.init(),o={};if(i&&Oc(i)==="object"){var l,c,h,d,g,y,x,w,k,A,T={};T=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)!==-1?a[i.chart.type]():a.line(),(l=i.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(T=a.funnel()),i.chart.stacked&&i.chart.type==="bar"&&(T=a.stackedBars()),(h=i.chart.brush)!==null&&h!==void 0&&h.enabled&&(T=a.brush(T)),(d=i.plotOptions)!==null&&d!==void 0&&(g=d.line)!==null&&g!==void 0&&g.isSlopeChart&&(T=a.slope()),i.chart.stacked&&i.chart.stackType==="100%"&&(i=a.stacked100(i)),(y=i.plotOptions)!==null&&y!==void 0&&(x=y.bar)!==null&&x!==void 0&&x.isDumbbell&&(i=a.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((w=(i=this.checkForCatToNumericXAxis(this.chartType,T,i)).chart.sparkline)!==null&&w!==void 0&&w.enabled||(k=window.Apex.chart)!==null&&k!==void 0&&(A=k.sparkline)!==null&&A!==void 0&&A.enabled)&&(T=a.sparkline(T)),o=qt.extend(s,T)}var R=qt.extend(o,window.Apex);return s=qt.extend(R,i),s=this.handleUserInputErrors(s)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var r,a,s=new C_(i),o=(t==="bar"||t==="boxPlot")&&((r=i.plotOptions)===null||r===void 0||(a=r.bar)===null||a===void 0?void 0:a.horizontal),l=t==="pie"||t==="polarArea"||t==="donut"||t==="radar"||t==="radialBar"||t==="heatmap",c=i.xaxis.type!=="datetime"&&i.xaxis.type!=="numeric",h=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return o||l||!c||h==="between"||(i=s.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new ux;(t.yaxis===void 0||!t.yaxis||Array.isArray(t.yaxis)&&t.yaxis.length===0)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=qt.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[qt.extend(i.yAxis,t.yaxis)]:t.yaxis=qt.extendArray(t.yaxis,i.yAxis);var r=!1;t.yaxis.forEach((function(s){s.logarithmic&&(r=!0)}));var a=t.series;return e&&!a&&(a=e.config.series),r&&a.length!==t.yaxis.length&&a.length&&(t.yaxis=a.map((function(s,o){if(s.name||(a[o].name="series-".concat(o+1)),t.yaxis[o])return t.yaxis[o].seriesName=a[o].name,t.yaxis[o];var l=qt.extend(i.yAxis,t.yaxis[0]);return l.show=!1,l}))),r&&a.length>1&&a.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),t}},{key:"extendAnnotations",value:function(t){return t.annotations===void 0&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),t=this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new ux;return t.annotations.yaxis=qt.extendArray(t.annotations.yaxis!==void 0?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new ux;return t.annotations.xaxis=qt.extendArray(t.annotations.xaxis!==void 0?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new ux;return t.annotations.points=qt.extendArray(t.annotations.points!==void 0?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&t.theme.mode==="dark"&&(t.tooltip||(t.tooltip={}),t.tooltip.theme!=="light"&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(e.chart.type==="bar"&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return e.chart.type!=="bar"&&e.chart.type!=="rangeBar"||e.tooltip.shared&&e.xaxis.crosshairs.width==="barWidth"&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),e.chart.type!=="candlestick"&&e.chart.type!=="boxPlot"||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),n})(),w7=(function(){function n(){$e(this,n)}return Ve(n,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.dataWasParsed=!1,t.originalSeries=null,t.labels=[],t.hasXaxisGroups=!1,t.groups=[],t.barGroups=[],t.lineGroups=[],t.areaGroups=[],t.hasSeriesGroups=!1,t.seriesGroups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.lastWheelExecution=0,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0,t.multiAxisTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:t.chart.toolbar.autoSelected==="zoom"&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:t.chart.toolbar.autoSelected==="pan"&&t.chart.toolbar.tools.pan,selectionEnabled:t.chart.toolbar.autoSelected==="selection"&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:t.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=qt.extend({},t),e.initialSeries=qt.clone(t.series),e.lastXAxis=qt.clone(e.initialConfig.xaxis),e.lastYAxis=qt.clone(e.initialConfig.yaxis),e}}]),n})(),OAt=(function(){function n(t){$e(this,n),this.opts=t}return Ve(n,[{key:"init",value:function(){var t=new A_(this.opts).init({responsiveOverride:!1});return{config:t,globals:new w7().init(t)}}}]),n})(),cf=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return Ve(n,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,r=parseInt(e.globals.gridWidth,10),a=parseInt(e.globals.gridHeight,10),s=r>a?r:a,o=t.image,l=0,c=0;t.width===void 0&&t.height===void 0?i.fill.image.width!==void 0&&i.fill.image.height!==void 0?(l=i.fill.image.width+1,c=i.fill.image.height):(l=s+1,c=s):(l=t.width,c=t.height);var h=document.createElementNS(e.globals.SVGNS,"pattern");Me.setAttrs(h,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var d=document.createElementNS(e.globals.SVGNS,"image");h.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",o),Me.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),d.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(h)}},{key:"getSeriesIndex",value:function(t){var e=this.w,i=e.config.chart.type;return(i==="bar"||i==="rangeBar")&&e.config.plotOptions.bar.distributed||i==="heatmap"||i==="treemap"?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(t,e){var i,r=this.w,a=null,s=null,o=Ow(t);try{for(o.s();!(i=o.n()).done;){var l=i.value;l>=e.threshold?(a===null||l>a)&&(a=l):(s===null||l<s)&&(s=l)}}catch(d){o.e(d)}finally{o.f()}a===null&&(a=e.threshold),s===null&&(s=e.threshold);var c=a-e.threshold+(e.threshold-s);c===0&&(c=1);var h=100-(e.threshold-s)/c*100;return[{offset:h=Math.max(0,Math.min(h,100)),color:e.colorAboveThreshold,opacity:r.config.fill.opacity},{offset:0,color:e.colorBelowThreshold,opacity:r.config.fill.opacity}]}},{key:"fillPath",value:function(t){var e,i,r,a=this.w;this.opts=t;var s,o,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var h=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,d=this.getFillColors()[this.seriesIndex];a.globals.seriesColors[this.seriesIndex]!==void 0&&(d=a.globals.seriesColors[this.seriesIndex]),typeof d=="function"&&(d=d({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:a}));var g,y,x,w=t.fillType?t.fillType:this.getFillType(this.seriesIndex),k=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,A=w==="gradient"||h;t.color&&(d=t.color),(e=a.config.series[this.seriesIndex])!==null&&e!==void 0&&(i=e.data)!==null&&i!==void 0&&(r=i[t.dataPointIndex])!==null&&r!==void 0&&r.fillColor&&(d=(g=a.config.series[this.seriesIndex])===null||g===void 0||(y=g.data)===null||y===void 0||(x=y[t.dataPointIndex])===null||x===void 0?void 0:x.fillColor),d||(d="#fff",console.warn("undefined color - ApexCharts"));var T=d;if(d.indexOf("rgb")===-1?d.indexOf("#")===-1?T=d:d.length<9&&(T=qt.hexToRgba(d,k)):d.indexOf("rgba")>-1?k=qt.getOpacityFromRGBA(d):T=qt.hexToRgba(qt.rgb2hex(d),k),t.opacity&&(k=t.opacity),w==="pattern"&&(o=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:o,fillColor:d,fillOpacity:k,defaultColor:T})),A){var R=wo(c.fill.gradient.colorStops)||[],G=c.fill.gradient.type;h&&(R[this.seriesIndex]=this.computeColorStops(a.globals.series[this.seriesIndex],c.plotOptions.line.colors),G="vertical"),l=this.handleGradientFill({type:G,fillConfig:t.fillConfig,fillColor:d,fillOpacity:k,colorStops:R,i:this.seriesIndex})}if(w==="image"){var z=c.fill.image.src,F=t.patternID?t.patternID:"",H="pattern".concat(a.globals.cuid).concat(t.seriesNumber+1).concat(F);this.patternIDs.indexOf(H)===-1&&(this.clippedImgArea({opacity:k,image:Array.isArray(z)?t.seriesNumber<z.length?z[t.seriesNumber]:z[0]:z,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:H}),this.patternIDs.push(H)),s="url(#".concat(H,")")}else s=A?l:w==="pattern"?o:T;return t.solid&&(s=T),s}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,r=[];return t.globals.comboCharts?t.config.series[this.seriesIndex].type==="line"?Array.isArray(t.globals.stroke.colors)?r=t.globals.stroke.colors:r.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?r=t.globals.fill.colors:r.push(t.globals.fill.colors):e.chart.type==="line"?Array.isArray(t.globals.stroke.colors)?r=t.globals.stroke.colors:r.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?r=t.globals.fill.colors:r.push(t.globals.fill.colors),i.fillColors!==void 0&&(r=[],Array.isArray(i.fillColors)?r=i.fillColors.slice():r.push(i.fillColors)),r}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,i=t.patternFill,r=t.fillColor,a=t.fillOpacity,s=t.defaultColor,o=this.w.config.fill;e&&(o=e);var l=this.opts,c=new Me(this.ctx),h=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,d=r;return Array.isArray(o.pattern.style)?i=o.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,d,h,a):s:i=c.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,d,h,a),i}},{key:"handleGradientFill",value:function(t){var e=t.type,i=t.fillColor,r=t.fillOpacity,a=t.fillConfig,s=t.colorStops,o=t.i,l=this.w.config.fill;a&&(l=Oe(Oe({},l),a));var c=this.opts,h=new Me(this.ctx),d=new qt;e=e||l.gradient.type;var g,y=i,x=l.gradient.opacityFrom===void 0?r:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;y.indexOf("rgba")>-1&&(x=qt.getOpacityFromRGBA(y));var w=l.gradient.opacityTo===void 0?r:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)g=l.gradient.shade==="dark"?d.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?qt.rgb2hex(i):i):d.shadeColor(parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?qt.rgb2hex(i):i);else if(l.gradient.gradientToColors[c.seriesNumber]){var k=l.gradient.gradientToColors[c.seriesNumber];g=k,k.indexOf("rgba")>-1&&(w=qt.getOpacityFromRGBA(k))}else g=i;if(l.gradient.gradientFrom&&(y=l.gradient.gradientFrom),l.gradient.gradientTo&&(g=l.gradient.gradientTo),l.gradient.inverseColors){var A=y;y=g,g=A}return y.indexOf("rgb")>-1&&(y=qt.rgb2hex(y)),g.indexOf("rgb")>-1&&(g=qt.rgb2hex(g)),h.drawGradient(e,y,g,x,w,c.size,l.gradient.stops,s,o)}}]),n})(),b1=(function(){function n(t,e){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)t.globals.markers.size[e]===void 0&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(i){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t){var e=t.pointsPos,i=t.seriesIndex,r=t.j,a=t.pSize,s=t.alwaysDrawMarker,o=s!==void 0&&s,l=t.isVirtualPoint,c=l!==void 0&&l,h=this.w,d=i,g=e,y=null,x=new Me(this.ctx),w=h.config.markers.discrete&&h.config.markers.discrete.length;if(Array.isArray(g.x))for(var k=0;k<g.x.length;k++){var A=void 0,T=r,R=!qt.isNumber(g.y[k]);h.globals.markers.largestSize===0&&h.globals.hasNullValues&&h.globals.series[d][r+1]!==null&&!c&&(R=!0),r===1&&k===0&&(T=0),r===1&&k===1&&(T=1);var G="apexcharts-marker";if(h.config.chart.type!=="line"&&h.config.chart.type!=="area"||h.globals.comboCharts||h.config.tooltip.intersect||(G+=" no-pointer-events"),(Array.isArray(h.config.markers.size)?h.globals.markers.size[i]>0:h.config.markers.size>0)||o||w){R||(G+=" w".concat(qt.randomId()));var z=this.getMarkerConfig({cssClass:G,seriesIndex:i,dataPointIndex:T});h.config.series[d].data[T]&&(h.config.series[d].data[T].fillColor&&(z.pointFillColor=h.config.series[d].data[T].fillColor),h.config.series[d].data[T].strokeColor&&(z.pointStrokeColor=h.config.series[d].data[T].strokeColor)),a!==void 0&&(z.pSize=a),(g.x[k]<-h.globals.markers.largestSize||g.x[k]>h.globals.gridWidth+h.globals.markers.largestSize||g.y[k]<-h.globals.markers.largestSize||g.y[k]>h.globals.gridHeight+h.globals.markers.largestSize)&&(z.pSize=0),!R&&((h.globals.markers.size[i]>0||o||w)&&!y&&(y=x.group({class:o||w?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),(A=x.drawMarker(g.x[k],g.y[k],z)).attr("rel",T),A.attr("j",T),A.attr("index",i),A.node.setAttribute("default-marker-size",z.pSize),new kl(this.ctx).setSelectionFilter(A,i,T),this.addEvents(A),y&&y.add(A))}else h.globals.pointsArray[i]===void 0&&(h.globals.pointsArray[i]=[]),h.globals.pointsArray[i].push([g.x[k],g.y[k]])}return y}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,r=t.dataPointIndex,a=r===void 0?null:r,s=t.radius,o=s===void 0?null:s,l=t.size,c=l===void 0?null:l,h=t.strokeWidth,d=h===void 0?null:h,g=this.w,y=this.getMarkerStyle(i),x=c===null?g.globals.markers.size[i]:c,w=g.config.markers;return a!==null&&w.discrete.length&&w.discrete.map((function(k){k.seriesIndex===i&&k.dataPointIndex===a&&(y.pointStrokeColor=k.strokeColor,y.pointFillColor=k.fillColor,x=k.size,y.pointShape=k.shape)})),{pSize:o===null?x:o,pRadius:o!==null?o:w.radius,pointStrokeWidth:d!==null?d:Array.isArray(w.strokeWidth)?w.strokeWidth[i]:w.strokeWidth,pointStrokeColor:y.pointStrokeColor,pointFillColor:y.pointFillColor,shape:y.pointShape||(Array.isArray(w.shape)?w.shape[i]:w.shape),class:e,pointStrokeOpacity:Array.isArray(w.strokeOpacity)?w.strokeOpacity[i]:w.strokeOpacity,pointStrokeDashArray:Array.isArray(w.strokeDashArray)?w.strokeDashArray[i]:w.strokeDashArray,pointFillOpacity:Array.isArray(w.fillOpacity)?w.fillOpacity[i]:w.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new Me(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,r=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[t]:r,pointFillColor:Array.isArray(i)?i[t]:i}}}]),n})(),_7=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled}return Ve(n,[{key:"draw",value:function(t,e,i){var r=this.w,a=new Me(this.ctx),s=i.realIndex,o=i.pointsPos,l=i.zRatio,c=i.elParent,h=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(h.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(o.x))for(var d=0;d<o.x.length;d++){var g=e+1,y=!0;e===0&&d===0&&(g=0),e===0&&d===1&&(g=1);var x=r.globals.markers.size[s];if(l!==1/0){var w=r.config.plotOptions.bubble;x=r.globals.seriesZ[s][g],w.zScaling&&(x/=l),w.minBubbleRadius&&x<w.minBubbleRadius&&(x=w.minBubbleRadius),w.maxBubbleRadius&&x>w.maxBubbleRadius&&(x=w.maxBubbleRadius)}var k=o.x[d],A=o.y[d];if(x=x||0,A!==null&&r.globals.series[s][g]!==void 0||(y=!1),y){var T=this.drawPoint(k,A,x,s,g,e);h.add(T)}c.add(h)}}},{key:"drawPoint",value:function(t,e,i,r,a,s){var o=this.w,l=r,c=new m1(this.ctx),h=new kl(this.ctx),d=new cf(this.ctx),g=new b1(this.ctx),y=new Me(this.ctx),x=g.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:a,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[r]&&o.config.series[r].type==="bubble"?i:null}),w=d.fillPath({seriesNumber:r,dataPointIndex:a,color:x.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[r][s]}),k=y.drawMarker(t,e,x);if(o.config.series[l].data[a]&&o.config.series[l].data[a].fillColor&&(w=o.config.series[l].data[a].fillColor),k.attr({fill:w}),o.config.chart.dropShadow.enabled){var A=o.config.chart.dropShadow;h.dropShadow(k,A,r)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var T=o.config.chart.animations.speed;c.animateMarker(k,T,o.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(k)}),100)}))}return k.attr({rel:a,j:a,index:r,"default-marker-size":x.pSize}),h.setSelectionFilter(k,r,a),g.addEvents(k),k.node.classList.add("apexcharts-marker"),k}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),n})(),Yb=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"dataLabelsCorrection",value:function(t,e,i,r,a,s,o){var l=this.w,c=!1,h=new Me(this.ctx).getTextRects(i,o),d=h.width,g=h.height;e<0&&(e=0),e>l.globals.gridHeight+g&&(e=l.globals.gridHeight+g/2),l.globals.dataLabelsRects[r]===void 0&&(l.globals.dataLabelsRects[r]=[]),l.globals.dataLabelsRects[r].push({x:t,y:e,width:d,height:g});var y=l.globals.dataLabelsRects[r].length-2,x=l.globals.lastDrawnDataLabelsIndexes[r]!==void 0?l.globals.lastDrawnDataLabelsIndexes[r][l.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(l.globals.dataLabelsRects[r][y]!==void 0){var w=l.globals.dataLabelsRects[r][x];(t>w.x+w.width||e>w.y+w.height||e+g<w.y||t+d<w.x)&&(c=!0)}return(a===0||s)&&(c=!0),{x:t,y:e,textRects:h,drawnextLabel:c}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,r=t.pos,a=t.i,s=t.j,o=t.isRangeStart,l=t.strokeWidth,c=l===void 0?2:l,h=this.w,d=new Me(this.ctx),g=h.config.dataLabels,y=0,x=0,w=s,k=null;if(h.globals.collapsedSeriesIndices.indexOf(a)!==-1||!g.enabled||!Array.isArray(r.x))return k;k=d.group({class:"apexcharts-data-labels"});for(var A=0;A<r.x.length;A++)if(y=r.x[A]+g.offsetX,x=r.y[A]+g.offsetY+c,!isNaN(y)){s===1&&A===0&&(w=0),s===1&&A===1&&(w=1);var T=h.globals.series[a][w];i==="rangeArea"&&(T=o?h.globals.seriesRangeStart[a][w]:h.globals.seriesRangeEnd[a][w]);var R="",G=function(F){return h.config.dataLabels.formatter(F,{ctx:e.ctx,seriesIndex:a,dataPointIndex:w,w:h})};h.config.chart.type==="bubble"?(R=G(T=h.globals.seriesZ[a][w]),x=r.y[A],x=new _7(this.ctx).centerTextInBubble(x,a,w).y):T!==void 0&&(R=G(T));var z=h.config.dataLabels.textAnchor;h.globals.isSlopeChart&&(z=w===0?"end":w===h.config.series[a].data.length-1?"start":"middle"),this.plotDataLabelsText({x:y,y:x,text:R,i:a,j:w,parent:k,offsetCorrection:!0,dataLabelsConfig:h.config.dataLabels,textAnchor:z})}return k}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new Me(this.ctx),r=t.x,a=t.y,s=t.i,o=t.j,l=t.text,c=t.textAnchor,h=t.fontSize,d=t.parent,g=t.dataLabelsConfig,y=t.color,x=t.alwaysDrawDataLabel,w=t.offsetCorrection,k=t.className,A=null;if(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(s)<0)return A;var T={x:r,y:a,drawnextLabel:!0,textRects:null};w&&(T=this.dataLabelsCorrection(r,a,l,s,o,x,parseInt(g.style.fontSize,10))),e.globals.zoomed||(r=T.x,a=T.y),T.textRects&&(r<-20-T.textRects.width||r>e.globals.gridWidth+T.textRects.width+30)&&(l="");var R=e.globals.dataLabels.style.colors[s];((e.config.chart.type==="bar"||e.config.chart.type==="rangeBar")&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(R=e.globals.dataLabels.style.colors[o]),typeof R=="function"&&(R=R({series:e.globals.series,seriesIndex:s,dataPointIndex:o,w:e})),y&&(R=y);var G=g.offsetX,z=g.offsetY;if(e.config.chart.type!=="bar"&&e.config.chart.type!=="rangeBar"||(G=0,z=0),e.globals.isSlopeChart&&(o!==0&&(G=-2*g.offsetX+5),o!==0&&o!==e.config.series[s].data.length-1&&(G=0)),T.drawnextLabel){if(c==="middle"&&r===e.globals.gridWidth&&(c="end"),(A=i.drawText({width:100,height:parseInt(g.style.fontSize,10),x:r+G,y:a+z,foreColor:R,textAnchor:c||g.textAnchor,text:l,fontSize:h||g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight||"normal"})).attr({class:k||"apexcharts-datalabel",cx:r,cy:a}),g.dropShadow.enabled){var F=g.dropShadow;new kl(this.ctx).dropShadow(A,F)}d.add(A),e.globals.lastDrawnDataLabelsIndexes[s]===void 0&&(e.globals.lastDrawnDataLabelsIndexes[s]=[]),e.globals.lastDrawnDataLabelsIndexes[s].push(o)}return A}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,r=i.config.dataLabels.background,a=r.padding,s=r.padding/2,o=e.width,l=e.height,c=new Me(this.ctx).drawRect(e.x-a,e.y-s/2,o+2*a,l+s,r.borderRadius,i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new kl(this.ctx).dropShadow(c,r.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var t=this.w;if(t.config.chart.type!=="bubble")for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var r=e[i],a=r.getBBox(),s=null;if(a.width&&a.height&&(s=this.addBackgroundToDataLabel(r,a)),s){r.parentNode.insertBefore(s.node,r);var o=t.config.dataLabels.background.backgroundColor||r.getAttribute("fill");t.config.chart.animations.enabled&&!t.globals.resized&&!t.globals.dataChanged?s.animate().attr({fill:o}):s.attr({fill:o}),r.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<e.length;r++)i&&i.insertBefore(e[r],i.nextSibling)}}]),n})(),S7=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,hd=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return Ve(n,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(qt.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function r(a){for(var s=0;s<a.length;s++)a[s].index===e&&t.node.classList.add("apexcharts-series-collapsed")}r(i.globals.collapsedSeries),r(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w,a=qt.clone(r.globals.initialSeries);r.globals.previousPaths=[],i?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),r.config.series=a,t&&(e&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"highlightSeries",value:function(t){var e=this.w,i=this.getSeriesByName(t),r=parseInt(i?.getAttribute("data:realIndex"),10),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),s=null,o=null,l=null;if(e.globals.axisCharts||e.config.chart.type==="radialBar")if(e.globals.axisCharts){s=e.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),o=e.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"));var c=e.globals.seriesYAxisReverseMap[r];l=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else s=e.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']"));else s=e.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var h=0;h<a.length;h++)a[h].classList.add(this.legendInactiveClass);if(s)e.globals.axisCharts||s.parentNode.classList.remove(this.legendInactiveClass),s.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var d=0;d<a.length;d++)a[d].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var r=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(t.type==="mousemove"){var a=parseInt(e.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[a])}else if(t.type==="mouseout")for(var s=0;s<r.length;s++)r[s].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,r=this.w,a=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),s=function(c){for(var h=0;h<a.length;h++)a[h].classList[c](i.legendInactiveClass)};if(t.type==="mousemove"){var o=parseInt(e.getAttribute("rel"),10)-1;s("add");var l=r.config.plotOptions.heatmap.colorScale.ranges;(function(c,h){for(var d=0;d<a.length;d++){var g=Number(a[d].getAttribute("val"));g>=c.from&&(g<c.to||c.to===h&&g===h)&&a[d].classList.remove(i.legendInactiveClass)}})(l[o],l.reduce((function(c,h){return Math.max(c,h.to)}),0))}else t.type==="mouseout"&&s("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=this.w,r=0;if(i.config.series.length>1){for(var a=i.config.series.map((function(o,l){return o.data&&o.data.length>0&&i.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!i.globals.comboCharts||e.length===0||e.length&&e.indexOf(i.config.series[l].type)>-1)?l:-1})),s=t==="asc"?0:a.length-1;t==="asc"?s<a.length:s>=0;t==="asc"?s++:s--)if(a[s]!==-1){r=a[s];break}}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(t,e){return t.type==="bar"||t.type==="column"?e:-1})).filter((function(t){return t!==-1})):this.w.config.series.map((function(t,e){return e}))}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(s,o,l){for(var c=s[o].childNodes,h={type:l,paths:[],realIndex:s[o].getAttribute("data:realIndex")},d=0;d<c.length;d++)if(c[d].hasAttribute("pathTo")){var g=c[d].getAttribute("pathTo");h.paths.push({d:g})}t.globals.previousPaths.push(h)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(s){for(var o,l=(o=s,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),c=0;c<l.length;c++)e(l,c,s)}));var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var r=function(s){for(var o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(s,"'] rect")),l=[],c=function(d){var g=function(x){return o[d].getAttribute(x)},y={x:parseFloat(g("x")),y:parseFloat(g("y")),width:parseFloat(g("width")),height:parseFloat(g("height"))};l.push({rect:y,color:o[d].getAttribute("color")})},h=0;h<o.length;h++)c(h);t.globals.previousPaths.push(l)},a=0;a<i.length;a++)r(a);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new Me(this.ctx),r=t.globals.svgWidth/2,a=t.globals.svgHeight/2,s="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,e.align==="left"?(r=10,s="start"):e.align==="right"&&(r=t.globals.svgWidth-10,s="end"),e.verticalAlign==="top"?a=50:e.verticalAlign==="bottom"&&(a=t.globals.svgHeight-50),r+=e.offsetX,a=a+parseInt(e.style.fontSize,10)+2+e.offsetY,e.text!==void 0&&e.text!==""){var o=i.drawText({x:r,y:a,text:e.text,textAnchor:s,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(t[i].length===0)for(var r=0;r<t[e.globals.maxValsInArrayIndex].length;r++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),r=0;r<i.length-1;r++)if(i[r][0]!==i[r+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){var t=this.w.globals.seriesX.map((function(e){return e.length>0?e:[]}));return t}}]),n})(),gR=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new ps(this.ctx)}return Ve(n,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new hd(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),t[this.activeSeriesIndex].data!==void 0&&t[this.activeSeriesIndex].data.length>0&&t[this.activeSeriesIndex].data[0]!==null&&t[this.activeSeriesIndex].data[0].x!==void 0&&t[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new hd(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),t[this.activeSeriesIndex].data!==void 0&&t[this.activeSeriesIndex].data.length>0&&t[this.activeSeriesIndex].data[0]!==void 0&&t[this.activeSeriesIndex].data[0]!==null&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,r=this.w.globals,a=i.chart.type==="boxPlot"||i.series[e].type==="boxPlot",s=0;s<t[e].data.length;s++)if(t[e].data[s][1]!==void 0&&(Array.isArray(t[e].data[s][1])&&t[e].data[s][1].length===4&&!a?this.twoDSeries.push(qt.parseNumber(t[e].data[s][1][3])):t[e].data[s].length>=5?this.twoDSeries.push(qt.parseNumber(t[e].data[s][4])):this.twoDSeries.push(qt.parseNumber(t[e].data[s][1])),r.dataFormatXNumeric=!0),i.xaxis.type==="datetime"){var o=new Date(t[e].data[s][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(t[e].data[s][0]);for(var l=0;l<t[e].data.length;l++)t[e].data[l][2]!==void 0&&(this.threeDSeries.push(t[e].data[l][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,r=this.w.globals,a=new wl(this.ctx),s=e;r.collapsedSeriesIndices.indexOf(e)>-1&&(s=this.activeSeriesIndex);for(var o=0;o<t[e].data.length;o++)t[e].data[o].y!==void 0&&(Array.isArray(t[e].data[o].y)?this.twoDSeries.push(qt.parseNumber(t[e].data[o].y[t[e].data[o].y.length-1])):this.twoDSeries.push(qt.parseNumber(t[e].data[o].y))),t[e].data[o].goals!==void 0&&Array.isArray(t[e].data[o].goals)?(this.seriesGoals[e]===void 0&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[o].goals)):(this.seriesGoals[e]===void 0&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var l=0;l<t[s].data.length;l++){var c=typeof t[s].data[l].x=="string",h=Array.isArray(t[s].data[l].x),d=!h&&!!a.isValidDate(t[s].data[l].x);if(c||d)if(c||i.xaxis.convertedCatToNumeric){var g=r.isBarHorizontal&&r.isRangeData;i.xaxis.type!=="datetime"||g?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[s].data[l].x),isNaN(t[s].data[l].x)||this.w.config.xaxis.type==="category"||typeof t[s].data[l].x=="string"||(r.isXNumeric=!0)):this.twoDSeriesX.push(a.parseDate(t[s].data[l].x))}else i.xaxis.type==="datetime"?this.twoDSeriesX.push(a.parseDate(t[s].data[l].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[s].data[l].x)));else h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[s].data[l].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[s].data[l].x))}if(t[e].data[0]&&t[e].data[0].z!==void 0){for(var y=0;y<t[e].data.length;y++)this.threeDSeries.push(t[e].data[y].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart[e]=r.start===void 0?[]:r.start,i.seriesRangeEnd[e]=r.end===void 0?[]:r.end,i.seriesRange[e]=r.rangeUniques,i.seriesRange.forEach((function(a,s){a&&a.forEach((function(o,l){o.y.forEach((function(c,h){for(var d=0;d<o.y.length;d++)if(h!==d){var g=c.y1,y=c.y2,x=o.y[d].y1;g<=o.y[d].y2&&x<=y&&(o.overlaps.indexOf(c.rangeName)<0&&o.overlaps.push(c.rangeName),o.overlaps.indexOf(o.y[d].rangeName)<0&&o.overlaps.push(o.y[d].rangeName))}}))}))})),r}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=r.o,i.seriesCandleH[e]=r.h,i.seriesCandleM[e]=r.m,i.seriesCandleL[e]=r.l,i.seriesCandleC[e]=r.c,r}},{key:"handleRangeDataFormat",value:function(t,e,i){var r=[],a=[],s=e[i].data.filter((function(h,d,g){return d===g.findIndex((function(y){return y.x===h.x}))})).map((function(h,d){return{x:h.x,overlaps:[],y:[]}}));if(t==="array")for(var o=0;o<e[i].data.length;o++)Array.isArray(e[i].data[o])?(r.push(e[i].data[o][1][0]),a.push(e[i].data[o][1][1])):(r.push(e[i].data[o]),a.push(e[i].data[o]));else if(t==="xy")for(var l=function(h){var d=Array.isArray(e[i].data[h].y),g=qt.randomId(),y=e[i].data[h].x,x={y1:d?e[i].data[h].y[0]:e[i].data[h].y,y2:d?e[i].data[h].y[1]:e[i].data[h].y,rangeName:g};e[i].data[h].rangeName=g;var w=s.findIndex((function(k){return k.x===y}));s[w].y.push(x),r.push(x.y1),a.push(x.y2)},c=0;c<e[i].data.length;c++)l(c);return{start:r,end:a,rangeUniques:s}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var r=this.w,a=r.config.chart.type==="boxPlot"||r.config.series[i].type==="boxPlot",s=[],o=[],l=[],c=[],h=[];if(t==="array")if(a&&e[i].data[0].length===6||!a&&e[i].data[0].length===5)for(var d=0;d<e[i].data.length;d++)s.push(e[i].data[d][1]),o.push(e[i].data[d][2]),a?(l.push(e[i].data[d][3]),c.push(e[i].data[d][4]),h.push(e[i].data[d][5])):(c.push(e[i].data[d][3]),h.push(e[i].data[d][4]));else for(var g=0;g<e[i].data.length;g++)Array.isArray(e[i].data[g][1])&&(s.push(e[i].data[g][1][0]),o.push(e[i].data[g][1][1]),a?(l.push(e[i].data[g][1][2]),c.push(e[i].data[g][1][3]),h.push(e[i].data[g][1][4])):(c.push(e[i].data[g][1][2]),h.push(e[i].data[g][1][3])));else if(t==="xy")for(var y=0;y<e[i].data.length;y++)Array.isArray(e[i].data[y].y)&&(s.push(e[i].data[y].y[0]),o.push(e[i].data[y].y[1]),a?(l.push(e[i].data[y].y[2]),c.push(e[i].data[y].y[3]),h.push(e[i].data[y].y[4])):(c.push(e[i].data[y].y[2]),h.push(e[i].data[y].y[3])));return{o:s,h:o,m:l,l:c,c:h}}},{key:"parseDataAxisCharts",value:function(t){var e=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,r=this.w.config,a=this.w.globals,s=new wl(i),o=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();a.isRangeBar=r.chart.type==="rangeBar"&&a.isBarHorizontal,a.hasXaxisGroups=r.xaxis.type==="category"&&r.xaxis.group.groups.length>0,a.hasXaxisGroups&&(a.groups=r.xaxis.group.groups),t.forEach((function(y,x){y.name!==void 0?a.seriesNames.push(y.name):a.seriesNames.push("series-"+parseInt(x+1,10))})),this.coreUtils.setSeriesYAxisMappings();var l=[],c=wo(new Set(r.series.map((function(y){return y.group}))));r.series.forEach((function(y,x){var w=c.indexOf(y.group);l[w]||(l[w]=[]),l[w].push(a.seriesNames[x])})),a.seriesGroups=l;for(var h=function(){for(var y=0;y<o.length;y++)if(typeof o[y]=="string"){if(!s.isValidDate(o[y]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(s.parseDate(o[y]))}else e.twoDSeriesX.push(o[y])},d=0;d<t.length;d++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],t[d].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"&&t[d].type!=="rangeBar"&&t[d].type!=="rangeArea"||(a.isRangeData=!0,this.handleRangeData(t,d)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,d):this.isFormatXY()&&this.handleFormatXY(t,d),r.chart.type!=="candlestick"&&t[d].type!=="candlestick"&&r.chart.type!=="boxPlot"&&t[d].type!=="boxPlot"||this.handleCandleStickBoxData(t,d),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,d!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{r.xaxis.type==="datetime"?(a.isXNumeric=!0,h(),a.seriesX.push(this.twoDSeriesX)):r.xaxis.type==="numeric"&&(a.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var g=t[d].data.map((function(y){return qt.parseNumber(y)}));a.series.push(g)}a.seriesZ.push(this.threeDSeries),t[d].color!==void 0?a.seriesColors.push(t[d].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config,r=Array.isArray(t)&&t.every((function(h){return typeof h=="number"}))&&i.labels.length>0,a=Array.isArray(t)&&t.some((function(h){return h&&Oc(h)==="object"&&h.data||h&&Oc(h)==="object"&&h.parsing}));if(r&&a&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),r){e.series=t.slice(),e.seriesNames=i.labels.slice();for(var s=0;s<e.series.length;s++)e.seriesNames[s]===void 0&&e.seriesNames.push("series-"+(s+1));return this.w}if(Array.isArray(t)&&t.every((function(h){return typeof h=="number"}))){e.series=t.slice(),e.seriesNames=[];for(var o=0;o<e.series.length;o++)e.seriesNames.push(i.labels[o]||"series-".concat(o+1));return this.w}var l=this.extractPieDataFromSeries(t);e.series=l.values,e.seriesNames=l.labels,i.chart.type==="radialBar"&&(e.series=e.series.map((function(h){var d=qt.parseNumber(h);return d>100&&console.warn("ApexCharts: RadialBar value ".concat(d," > 100, consider using percentage values (0-100)")),d})));for(var c=0;c<e.series.length;c++)e.seriesNames[c]===void 0&&e.seriesNames.push("series-"+(c+1));return this.w}},{key:"resetParsingFlags",value:function(){var t=this.w;t.globals.dataWasParsed=!1,t.globals.originalSeries=null,t.config.series&&t.config.series.forEach((function(e){e.__apexParsed&&delete e.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(t){var e=[],i=[];if(!Array.isArray(t))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(t.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var r=t[0];return Oc(r)==="object"&&r!==null&&r.data?(this.extractPieDataFromSeriesObjects(t,e,i),{values:e,labels:i}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(t,e,i){t.forEach((function(r,a){r.data&&Array.isArray(r.data)?r.data.forEach((function(s){Oc(s)==="object"&&s!==null?s.x!==void 0&&s.y!==void 0?(i.push(String(s.x)),e.push(qt.parseNumber(s.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",s):console.warn("ApexCharts: Expected object data point, got:",Oc(s))})):console.warn("ApexCharts: Series ".concat(a," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map((function(r){r.forEach((function(a){i.labels.indexOf(a.x)<0&&a.x&&i.labels.push(a.x)}))})),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),e.xaxis.convertedCatToNumeric&&(new C_(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,r=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var a=i.series.map((function(d,g){return d.data.filter((function(y,x,w){return w.findIndex((function(k){return k.x===y.x}))===x}))})),s=a.reduce((function(d,g,y,x){return x[d].length>g.length?d:y}),0),o=0;o<a[s].length;o++)r.push(o+1);else for(var l=0;l<e.series[e.maxValsInArrayIndex].length;l++)r.push(l+1);e.seriesX=[];for(var c=0;c<t.length;c++)e.seriesX.push(r);this.w.globals.isBarHorizontal||(e.isXNumeric=!0)}if(r.length===0){r=e.axisCharts?[]:e.series.map((function(d,g){return g+1}));for(var h=0;h<t.length;h++)e.seriesX.push(r)}e.labels=r,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=r.map((function(d){return i.xaxis.labels.formatter(d)}))),e.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(t){var e=this,i=this.w.config,r=this.w.globals,a=i.parsing;if(r.dataWasParsed||!a&&!t.some((function(o){return o.parsing})))return t;var s=t.map((function(o,l){var c,h,d;if(!o.data||!Array.isArray(o.data)||o.data.length===0)return o;var g={x:((c=o.parsing)===null||c===void 0?void 0:c.x)||a?.x,y:((h=o.parsing)===null||h===void 0?void 0:h.y)||a?.y,z:((d=o.parsing)===null||d===void 0?void 0:d.z)||a?.z};if(!g.x&&!g.y)return o;var y=o.data[0];if(Oc(y)==="object"&&y!==null&&(y.hasOwnProperty("x")||y.hasOwnProperty("y"))||Array.isArray(y))return o;if(!g.x||!g.y||Array.isArray(g.y)&&g.y.length===0)return console.warn("ApexCharts: Series ".concat(l," has parsing config but missing x or y field specification")),o;var x=o.data.map((function(w,k){if(Oc(w)!=="object"||w===null)return console.warn("ApexCharts: Series ".concat(l,", data point ").concat(k," is not an object, skipping parsing")),w;var A,T=e.getNestedValue(w,g.x),R=void 0;if(Array.isArray(g.y)){var G=g.y.map((function(H){return e.getNestedValue(w,H)}));A=e.w.config.chart.type==="bubble"&&G.length===2?G[0]:G}else A=e.getNestedValue(w,g.y);g.z&&(R=e.getNestedValue(w,g.z)),T===void 0&&console.warn("ApexCharts: Series ".concat(l,", data point ").concat(k," missing field '").concat(g.x,"'")),A===void 0&&console.warn("ApexCharts: Series ".concat(l,", data point ").concat(k," missing field '").concat(g.y,"'"));var z={x:T,y:A};if(e.w.config.chart.type==="bubble"&&Array.isArray(g.y)&&g.y.length===2){var F=e.getNestedValue(w,g.y[1]);F!==void 0&&(z.z=F)}return R!==void 0&&(z.z=R),z}));return Oe(Oe({},o),{},{data:x,__apexParsed:!0})}));return r.dataWasParsed=!0,r.originalSeries||(r.originalSeries=qt.clone(t)),s}},{key:"getNestedValue",value:function(t,e){if(t&&Oc(t)==="object"&&e){if(e.indexOf(".")===-1)return t[e];for(var i=e.split("."),r=t,a=0;a<i.length;a++){if(r==null||Oc(r)!=="object")return;r=r[i[a]]}return r}}},{key:"parseData",value:function(t){var e=this.w,i=e.config,r=e.globals;if(t=this.parseRawDataIfNeeded(t),i.series=t,r.initialSeries=qt.clone(t),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),i.chart.stacked){var a=new hd(this.ctx);r.series=a.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),r.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&(i.xaxis.type!=="numeric"||i.labels.length!==0||i.xaxis.categories.length!==0)||this.handleExternalLabelsData(t);for(var s=this.coreUtils.getCategoryLabels(r.labels),o=0;o<s.length;o++)if(Array.isArray(s[o])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this.w,e=[];t.globals.seriesYAxisMap.forEach((function(i,r){var a=0;i.forEach((function(s){t.globals.collapsedSeriesIndices.indexOf(s)!==-1&&a++})),a>0&&a==i.length&&e.push(r)})),t.globals.ignoreYAxisIndexes=e.map((function(i){return i}))}}]),n})(),Vw=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"svgStringToNode",value:function(t){return new DOMParser().parseFromString(t,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),r=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",r*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+r)}},{key:"getSvgString",value:function(t){var e=this;return new Promise((function(i){var r=e.w,a=t||r.config.chart.toolbar.export.scale||r.config.chart.toolbar.export.width/r.globals.svgWidth;a||(a=1);var s=r.globals.svgWidth*a,o=r.globals.svgHeight*a,l=r.globals.dom.elWrap.cloneNode(!0);l.style.width=s+"px",l.style.height=o+"px";var c=new XMLSerializer().serializeToString(l),h=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;r.config.legend.show&&r.globals.dom.elLegendWrap&&r.globals.dom.elLegendWrap.children.length>0&&(h+=S7);var d=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(r.globals.svgWidth,'px" height="').concat(r.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(s,"px; height:").concat(o,`px;">
            <style type="text/css">
              `).concat(h,`
            </style>
              `).concat(c,`
            </div>
          </foreignObject>
        </svg>
      `),g=e.svgStringToNode(d);a!==1&&e.scaleSvgNode(g,a),e.convertImagesToBase64(g).then((function(){d=new XMLSerializer().serializeToString(g),i(d.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(t){var e=this,i=t.getElementsByTagName("image"),r=Array.from(i).map((function(a){var s=a.getAttributeNS("http://www.w3.org/1999/xlink","href");return s&&!s.startsWith("data:")?e.getBase64FromUrl(s).then((function(o){a.setAttributeNS("http://www.w3.org/1999/xlink","href",o)})).catch((function(o){console.error("Error converting image to base64:",o)})):Promise.resolve()}));return Promise.all(r)}},{key:"getBase64FromUrl",value:function(t){return new Promise((function(e,i){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var a=document.createElement("canvas");a.width=r.width,a.height=r.height,a.getContext("2d").drawImage(r,0,0),e(a.toDataURL())},r.onerror=i,r.src=t}))}},{key:"svgUrl",value:function(){var t=this;return new Promise((function(e){t.getSvgString().then((function(i){var r=new Blob([i],{type:"image/svg+xml;charset=utf-8"});e(URL.createObjectURL(r))}))}))}},{key:"dataURI",value:function(t){var e=this;return new Promise((function(i){var r=e.w,a=t?t.scale||t.width/r.globals.svgWidth:1,s=document.createElement("canvas");s.width=r.globals.svgWidth*a,s.height=parseInt(r.globals.dom.elWrap.style.height,10)*a;var o=r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",l=s.getContext("2d");l.fillStyle=o,l.fillRect(0,0,s.width*a,s.height*a),e.getSvgString(a).then((function(c){var h="data:image/svg+xml,"+encodeURIComponent(c),d=new Image;d.crossOrigin="anonymous",d.onload=function(){if(l.drawImage(d,0,0),s.msToBlob){var g=s.msToBlob();i({blob:g})}else{var y=s.toDataURL("image/png");i({imgURI:y})}},d.src=h}))}))}},{key:"exportToSVG",value:function(){var t=this;this.svgUrl().then((function(e){t.triggerDownload(e,t.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var t=this,e=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width,r=e?{scale:e}:i?{width:i}:void 0;this.dataURI(r).then((function(a){var s=a.imgURI,o=a.blob;o?navigator.msSaveOrOpenBlob(o,t.w.globals.chartID+".png"):t.triggerDownload(s,t.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,r=t.fileName,a=t.columnDelimiter,s=a===void 0?",":a,o=t.lineDelimiter,l=o===void 0?`
`:o,c=this.w;i||(i=c.config.series);var h=[],d=[],g="",y=c.globals.series.map((function(z,F){return c.globals.collapsedSeriesIndices.indexOf(F)===-1?z:[]})),x=function(z){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(z):c.config.xaxis.type==="datetime"&&String(z).length>=10?new Date(z).toDateString():qt.isNumber(z)?z:z.split(s).join("")},w=function(z){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(z):z},k=Math.max.apply(Math,wo(i.map((function(z){return z.data?z.data.length:0})))),A=new gR(this.ctx),T=new Vy(this.ctx),R=function(z){var F="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var H=c.globals.yLabelFormatters[0],Y=new hd(e.ctx).getActiveConfigSeriesIndex();F=H(c.globals.labels[z],{seriesIndex:Y,dataPointIndex:z,w:c})}else F=T.getLabel(c.globals.labels,c.globals.timescaleLabels,0,z).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?F=c.config.xaxis.categories[z]:c.config.labels.length&&(F=c.config.labels[z]))}else F=c.config.labels[z];return F===null?"nullvalue":(Array.isArray(F)&&(F=F.join(" ")),qt.isNumber(F)?F:F.split(s).join(""))},G=function(z,F){if(h.length&&F===0&&d.push(h.join(s)),z.data){z.data=z.data.length&&z.data||wo(Array(k)).map((function(){return""}));for(var H=0;H<z.data.length;H++){h=[];var Y=R(H);if(Y!=="nullvalue"){if(Y||(A.isFormatXY()?Y=i[F].data[H].x:A.isFormat2DArray()&&(Y=i[F].data[H]?i[F].data[H][0]:"")),F===0){h.push(x(Y));for(var J=0;J<c.globals.series.length;J++){var nt,V=A.isFormatXY()?(nt=i[J].data[H])===null||nt===void 0?void 0:nt.y:y[J][H];h.push(w(V))}}(c.config.chart.type==="candlestick"||z.type&&z.type==="candlestick")&&(h.pop(),h.push(c.globals.seriesCandleO[F][H]),h.push(c.globals.seriesCandleH[F][H]),h.push(c.globals.seriesCandleL[F][H]),h.push(c.globals.seriesCandleC[F][H])),(c.config.chart.type==="boxPlot"||z.type&&z.type==="boxPlot")&&(h.pop(),h.push(c.globals.seriesCandleO[F][H]),h.push(c.globals.seriesCandleH[F][H]),h.push(c.globals.seriesCandleM[F][H]),h.push(c.globals.seriesCandleL[F][H]),h.push(c.globals.seriesCandleC[F][H])),c.config.chart.type==="rangeBar"&&(h.pop(),h.push(c.globals.seriesRangeStart[F][H]),h.push(c.globals.seriesRangeEnd[F][H])),h.length&&d.push(h.join(s))}}}};h.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(h.push("minimum"),h.push("q1"),h.push("median"),h.push("q3"),h.push("maximum")):c.config.chart.type==="candlestick"?(h.push("open"),h.push("high"),h.push("low"),h.push("close")):c.config.chart.type==="rangeBar"?(h.push("minimum"),h.push("maximum")):i.map((function(z,F){var H=(z.name?z.name:"series-".concat(F))+"";c.globals.axisCharts&&h.push(H.split(s).join("")?H.split(s).join(""):"series-".concat(F))})),c.globals.axisCharts||(h.push(c.config.chart.toolbar.export.csv.headerValue),d.push(h.join(s))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?i.map((function(z,F){c.globals.axisCharts?G(z,F):((h=[]).push(x(c.globals.labels[F])),h.push(w(y[F])),d.push(h.join(s)))})):(function(){var z=new Set,F={};i.forEach((function(H,Y){H?.data.forEach((function(J){var nt,V;if(A.isFormatXY())nt=J.x,V=J.y;else{if(!A.isFormat2DArray())return;nt=J[0],V=J[1]}F[nt]||(F[nt]=Array(i.length).fill("")),F[nt][Y]=w(V),z.add(nt)}))})),h.length&&d.push(h.join(s)),Array.from(z).sort().forEach((function(H){d.push([x(H),F[H].join(s)])}))})(),g+=d.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+g),r||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var r=document.createElement("a");r.href=t,r.download=(e||this.w.globals.chartID)+i,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),n})(),T_=(function(){function n(t,e){$e(this,n),this.ctx=t,this.elgrid=e,this.w=t.w;var i=this.w;this.axesUtils=new Vy(t),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],i.config.xaxis.position==="top"?this.offY=0:this.offY=i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return Ve(n,[{key:"drawXaxis",value:function(){var t=this.w,e=new Me(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),r=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(r);for(var a=[],s=0;s<this.xaxisLabels.length;s++)a.push(this.xaxisLabels[s]);if(this.drawXAxisLabelAndGroup(!0,e,r,a,t.globals.isXNumeric,(function(x,w){return w})),t.globals.hasXaxisGroups){var o=t.globals.groups;a=[];for(var l=0;l<o.length;l++)a.push(o[l].title);var c={};t.config.xaxis.group.style&&(c.xaxisFontSize=t.config.xaxis.group.style.fontSize,c.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,c.xaxisForeColors=t.config.xaxis.group.style.colors,c.fontWeight=t.config.xaxis.group.style.fontWeight,c.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,r,a,!1,(function(x,w){return o[x].cols*w}),c)}if(t.config.xaxis.title.text!==void 0){var h=e.group({class:"apexcharts-xaxis-title"}),d=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(t.config.xaxis.position==="bottom"?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});h.add(d),i.add(h)}if(t.config.xaxis.axisBorder.show){var g=t.globals.barPadForNumericAxis,y=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-g,this.offY,this.xaxisBorderWidth+g,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(y):i.add(y)}return i}},{key:"drawXAxisLabelAndGroup",value:function(t,e,i,r,a,s){var o,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},h=[],d=[],g=this.w,y=c.xaxisFontSize||this.xaxisFontSize,x=c.xaxisFontFamily||this.xaxisFontFamily,w=c.xaxisForeColors||this.xaxisForeColors,k=c.fontWeight||g.config.xaxis.labels.style.fontWeight,A=c.cssClass||g.config.xaxis.labels.style.cssClass,T=g.globals.padHorizontal,R=r.length,G=g.config.xaxis.type==="category"?g.globals.dataPoints:R;if(G===0&&R>G&&(G=R),a){var z=Math.max(Number(g.config.xaxis.tickAmount)||1,G>1?G-1:G);o=g.globals.gridWidth/Math.min(z,R-1),T=T+s(0,o)/2+g.config.xaxis.labels.offsetX}else o=g.globals.gridWidth/G,T=T+s(0,o)+g.config.xaxis.labels.offsetX;for(var F=function(Y){var J=T-s(Y,o)/2+g.config.xaxis.labels.offsetX;Y===0&&R===1&&o/2===T&&G===1&&(J=g.globals.gridWidth/2);var nt=l.axesUtils.getLabel(r,g.globals.timescaleLabels,J,Y,h,y,t),V=28;if(g.globals.rotateXLabels&&t&&(V=22),g.config.xaxis.title.text&&g.config.xaxis.position==="top"&&(V+=parseFloat(g.config.xaxis.title.style.fontSize)+2),t||(V=V+parseFloat(y)+(g.globals.xAxisLabelsHeight-g.globals.xAxisGroupLabelsHeight)+(g.globals.rotateXLabels?10:0)),nt=g.config.xaxis.tickAmount!==void 0&&g.config.xaxis.tickAmount!=="dataPoints"&&g.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(Y,nt,R):l.axesUtils.checkForOverflowingLabels(Y,nt,R,h,d),g.config.xaxis.labels.show){var Z=e.drawText({x:nt.x,y:l.offY+g.config.xaxis.labels.offsetY+V-(g.config.xaxis.position==="top"?g.globals.xAxisHeight+g.config.xaxis.axisTicks.height-2:0),text:nt.text,textAnchor:"middle",fontWeight:nt.isBold?600:k,fontSize:y,fontFamily:x,foreColor:Array.isArray(w)?t&&g.config.xaxis.convertedCatToNumeric?w[g.globals.minX+Y-1]:w[Y]:w,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+A});if(i.add(Z),Z.on("click",(function(lt){if(typeof g.config.chart.events.xAxisLabelClick=="function"){var mt=Object.assign({},g,{labelIndex:Y});g.config.chart.events.xAxisLabelClick(lt,l.ctx,mt)}})),t){var rt=document.createElementNS(g.globals.SVGNS,"title");rt.textContent=Array.isArray(nt.text)?nt.text.join(" "):nt.text,Z.node.appendChild(rt),nt.text!==""&&(h.push(nt.text),d.push(nt))}}Y<R-1&&(T+=s(Y+1,o))},H=0;H<=R-1;H++)F(H)}},{key:"drawXaxisInversed",value:function(t){var e,i,r=this,a=this.w,s=new Me(this.ctx),o=a.config.yaxis[0].opposite?a.globals.translateYAxisX[t]:0,l=s.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),c=s.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(c);var h=[];if(a.config.yaxis[t].show)for(var d=0;d<this.xaxisLabels.length;d++)h.push(this.xaxisLabels[d]);e=a.globals.gridHeight/h.length,i=-e/2.2;var g=a.globals.yLabelFormatters[0],y=a.config.yaxis[0].labels;if(y.show)for(var x=function(z){var F=h[z]===void 0?"":h[z];F=g(F,{seriesIndex:t,dataPointIndex:z,w:a});var H=r.axesUtils.getYAxisForeColor(y.style.colors,t),Y=0;Array.isArray(F)&&(Y=F.length/2*parseInt(y.style.fontSize,10));var J=y.offsetX-15,nt="end";r.yaxis.opposite&&(nt="start"),a.config.yaxis[0].labels.align==="left"?(J=y.offsetX,nt="start"):a.config.yaxis[0].labels.align==="center"?(J=y.offsetX,nt="middle"):a.config.yaxis[0].labels.align==="right"&&(nt="end");var V=s.drawText({x:J,y:i+e+y.offsetY-Y,text:F,textAnchor:nt,foreColor:Array.isArray(H)?H[z]:H,fontSize:y.style.fontSize,fontFamily:y.style.fontFamily,fontWeight:y.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+y.style.cssClass,maxWidth:y.maxWidth});c.add(V),V.on("click",(function(lt){if(typeof a.config.chart.events.xAxisLabelClick=="function"){var mt=Object.assign({},a,{labelIndex:z});a.config.chart.events.xAxisLabelClick(lt,r.ctx,mt)}}));var Z=document.createElementNS(a.globals.SVGNS,"title");if(Z.textContent=Array.isArray(F)?F.join(" "):F,V.node.appendChild(Z),a.config.yaxis[t].labels.rotate!==0){var rt=s.rotateAroundCenter(V.node);V.node.setAttribute("transform","rotate(".concat(a.config.yaxis[t].labels.rotate," 0 ").concat(rt.y,")"))}i+=e},w=0;w<=h.length-1;w++)x(w);if(a.config.yaxis[0].title.text!==void 0){var k=s.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),A=s.drawText({x:a.config.yaxis[0].title.offsetX,y:a.globals.gridHeight/2+a.config.yaxis[0].title.offsetY,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});k.add(A),l.add(k)}var T=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(T=a.globals.gridWidth);var R=a.config.xaxis.axisBorder;if(R.show){var G=s.drawLine(a.globals.padHorizontal+R.offsetX+T,1+R.offsetY,a.globals.padHorizontal+R.offsetX+T,a.globals.gridHeight+R.offsetY,R.color,0);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(G):l.add(G)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(T,h.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,e,l),l}},{key:"drawXaxisTicks",value:function(t,e,i){var r=this.w,a=t;if(!(t<0||t-2>r.globals.gridWidth)){var s=this.offY+r.config.xaxis.axisTicks.offsetY;if(e=e+s+r.config.xaxis.axisTicks.height,r.config.xaxis.position==="top"&&(e=s-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var o=new Me(this.ctx).drawLine(t+r.config.xaxis.axisTicks.offsetX,s+r.config.xaxis.offsetY,a+r.config.xaxis.axisTicks.offsetX,e+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);i.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,r=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var a=0;a<i;a++)r=this.xaxisLabels[a].position,e.push(r);else for(var s=i,o=0;o<s;o++){var l=s;t.globals.isXNumeric&&t.config.chart.type!=="bar"&&(l-=1),r+=t.globals.gridWidth/l,e.push(r)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new Me(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var o=0;o<r.length;o++){var l=e.rotateAroundCenter(r[o]);l.y=l.y-1,l.x=l.x+1,r[o].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),r[o].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var c=r[o].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,(function(y){e.placeTextWithEllipsis(y,y.textContent,t.globals.xAxisLabelsHeight-(t.config.legend.position==="bottom"?20:10))}))}else(function(){for(var y=t.globals.gridWidth/(t.globals.labels.length+1),x=0;x<r.length;x++){var w=r[x].childNodes;t.config.xaxis.labels.trim&&t.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(w,(function(k){e.placeTextWithEllipsis(k,k.textContent,y)}))}})();if(a.length>0){var h=a[a.length-1].getBBox(),d=a[0].getBBox();h.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),d.x+d.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var g=0;g<s.length;g++)e.placeTextWithEllipsis(s[g],s[g].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),n})(),k7=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w;var e=this.w;this.xaxisLabels=e.globals.labels.slice(),this.axesUtils=new Vy(t),this.isRangeBar=e.globals.seriesRange.length&&e.globals.isBarHorizontal,e.globals.timescaleLabels.length>0&&(this.xaxisLabels=e.globals.timescaleLabels.slice())}return Ve(n,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=this.w,i=new Me(this.ctx);t||(t=i.group({class:"apexcharts-grid"}));var r=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),a=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(a),t.add(r),t}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var t=this.renderGrid();return this.drawGridArea(t.el),t}return null}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new Me(this.ctx),r=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,wo(t.config.stroke.width)):t.config.stroke.width,a=function(h){var d=document.createElementNS(e.SVGNS,"clipPath");return d.setAttribute("id",h),d};e.dom.elGridRectMask=a("gridRectMask".concat(e.cuid)),e.dom.elGridRectBarMask=a("gridRectBarMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=a("gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=a("forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=a("nonForecastMask".concat(e.cuid));var s=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(t.config.chart.type)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(s=Math.max(t.config.grid.padding.left,e.barPadForNumericAxis),o=Math.max(t.config.grid.padding.right,e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(-r/2-2,-r/2-2,e.gridWidth+r+4,e.gridHeight+r+4,0,"#fff"),e.dom.elGridRectBar=i.drawRect(-r/2-s-2,-r/2-2,e.gridWidth+r+o+s+4,e.gridHeight+r+4,0,"#fff");var l=t.globals.markers.largestSize;e.dom.elGridRectMarker=i.drawRect(Math.min(-r/2-s-2,-l),-l,e.gridWidth+Math.max(r+o+s+4,2*l),e.gridHeight+2*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectBarMask.appendChild(e.dom.elGridRectBar.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elGridRectBarMask),c.appendChild(e.dom.elGridRectMarkerMask),c.appendChild(e.dom.elForecastMask),c.appendChild(e.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,r=t.y1,a=t.x2,s=t.y2,o=t.xCount,l=t.parent,c=this.w;if(!(e===0&&c.globals.skipFirstTimelinelabel||e===o-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:r,x2:a,y2:s,xCount:o,parent:l});var h=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var d=c.globals.groups;if(d){for(var g=0,y=0;g<e&&y<d.length;y++)g+=d[y].cols;g===e&&(h=.6*c.globals.xAxisLabelsHeight)}}new T_(this.ctx).drawXaxisTicks(i,h,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,r=t.y1,a=t.x2,s=t.y2,o=t.xCount,l=t.parent,c=this.w,h=l.node.classList.contains("apexcharts-gridlines-horizontal"),d=c.globals.barPadForNumericAxis,g=r===0&&s===0||i===0&&a===0||r===c.globals.gridHeight&&s===c.globals.gridHeight||c.globals.isBarHorizontal&&(e===0||e===o-1),y=new Me(this).drawLine(i-(h?d:0),r,a+(h?d:0),s,c.config.grid.borderColor,c.config.grid.strokeDashArray);y.node.classList.add("apexcharts-gridline"),g&&c.config.grid.show?this.elGridBorders.add(y):l.add(y)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,r=t.y1,a=t.x2,s=t.y2,o=t.type,l=this.w,c=new Me(this.ctx),h=l.globals.barPadForNumericAxis,d=l.config.grid[o].colors[e],g=c.drawRect(i-(o==="row"?h:0),r,a+(o==="row"?2*h:0),s,0,d,l.config.grid[o].opacity);this.elg.add(g),g.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),g.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,r=t.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var s,o=a.globals.padHorizontal,l=a.globals.gridHeight;a.globals.timescaleLabels.length?(function(x){for(var w=x.xC,k=x.x1,A=x.y1,T=x.x2,R=x.y2,G=0;G<w;G++)k=e.xaxisLabels[G].position,T=e.xaxisLabels[G].position,e._drawGridLines({i:G,x1:k,y1:A,x2:T,y2:R,xCount:i,parent:e.elgridLinesV})})({xC:i,x1:o,y1:0,x2:s,y2:l}):(a.globals.isXNumeric&&(i=a.globals.xAxisScale.result.length),(function(x){for(var w=x.xC,k=x.x1,A=x.y1,T=x.x2,R=x.y2,G=0;G<w+(a.globals.isXNumeric?0:1);G++)G===0&&w===1&&a.globals.dataPoints===1&&(T=k=a.globals.gridWidth/2),e._drawGridLines({i:G,x1:k,y1:A,x2:T,y2:R,xCount:i,parent:e.elgridLinesV}),T=k+=a.globals.gridWidth/(a.globals.isXNumeric?w-1:w)})({xC:i,x1:o,y1:0,x2:s,y2:l}))}if(a.config.grid.yaxis.lines.show){var c=0,h=0,d=a.globals.gridWidth,g=r+1;this.isRangeBar&&(g=a.globals.labels.length);for(var y=0;y<g+(this.isRangeBar?1:0);y++)this._drawGridLine({i:y,xCount:g+(this.isRangeBar?1:0),x1:0,y1:c,x2:d,y2:h,parent:this.elgridLinesH}),h=c+=a.globals.gridHeight/(this.isRangeBar?g:r)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var r,a=i.globals.padHorizontal,s=i.globals.gridHeight,o=0;o<e+1;o++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:e+1,x1:a,y1:0,x2:r,y2:s,parent:this.elgridLinesV}),new T_(this.ctx).drawXaxisTicks(a,0,i.globals.dom.elGraphical),r=a+=i.globals.gridWidth/e;if(i.config.grid.yaxis.lines.show)for(var l=0,c=0,h=i.globals.gridWidth,d=0;d<i.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:i.globals.dataPoints+1,x1:0,y1:l,x2:h,y2:c,parent:this.elgridLinesH}),c=l+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=t.globals,i=new Me(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var r=0;r<e.seriesYAxisMap.length&&e.ignoreYAxisIndexes.includes(r);)r++;r===e.seriesYAxisMap.length&&(r=0);var a,s=e.yAxisScale[r].result.length-1;if(!e.isBarHorizontal||this.isRangeBar){var o,l,c;a=this.xaxisLabels.length,this.isRangeBar&&(s=e.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(a=t.config.xaxis.tickAmount),((o=e.yAxisScale)===null||o===void 0||(l=o[r])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&t.config.xaxis.type!=="datetime"&&(a=e.yAxisScale[r].result.length-1)),this._drawXYLines({xCount:a,tickAmount:s})}else a=s,s=e.xTickAmount,this._drawInvertedXYLines({xCount:a,tickAmount:s});return this.drawGridBands(a,s),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:e.gridWidth/a}}},{key:"drawGridBands",value:function(t,e){var i,r,a=this,s=this.w;if(((i=s.config.grid.row.colors)===null||i===void 0?void 0:i.length)>0&&(function(x,w,k,A,T,R){for(var G=0,z=0;G<w;G++,z++)z>=s.config.grid[x].colors.length&&(z=0),a._drawGridBandRect({c:z,x1:k,y1:A,x2:T,y2:R,type:x}),A+=s.globals.gridHeight/e})("row",e,0,0,s.globals.gridWidth,s.globals.gridHeight/e),((r=s.config.grid.column.colors)===null||r===void 0?void 0:r.length)>0){var o=s.globals.isBarHorizontal||s.config.xaxis.tickPlacement!=="on"||s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric?t:t-1;s.globals.isXNumeric&&(o=s.globals.xAxisScale.result.length-1);for(var l=s.globals.padHorizontal,c=s.globals.padHorizontal+s.globals.gridWidth/o,h=s.globals.gridHeight,d=0,g=0;d<t;d++,g++){var y;g>=s.config.grid.column.colors.length&&(g=0),s.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[d].position,c=(((y=this.xaxisLabels[d+1])===null||y===void 0?void 0:y.position)||s.globals.gridWidth)-this.xaxisLabels[d].position),this._drawGridBandRect({c:g,x1:l,y1:0,x2:c,y2:h,type:"column"}),l+=s.globals.gridWidth/o}}}}]),n})(),C7=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.coreUtils=new ps(this.ctx)}return Ve(n,[{key:"niceScale",value:function(t,e){var i,r,a,s,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,h=c.globals;h.isBarHorizontal?(i=c.config.xaxis,r=Math.max((h.svgWidth-100)/25,2)):(i=c.config.yaxis[o],r=Math.max((h.svgHeight-100)/15,2)),qt.isNumber(r)||(r=10),a=i.min!==void 0&&i.min!==null,s=i.max!==void 0&&i.min!==null;var d=i.stepSize!==void 0&&i.stepSize!==null,g=i.tickAmount!==void 0&&i.tickAmount!==null,y=g?i.tickAmount:h.niceScaleDefaultTicks[Math.min(Math.round(r/2),h.niceScaleDefaultTicks.length-1)];if(h.isMultipleYAxis&&!g&&h.multiAxisTickAmount>0&&(y=h.multiAxisTickAmount,g=!0),y=y==="dataPoints"?h.dataPoints-1:Math.abs(Math.round(y)),(t===Number.MIN_VALUE&&e===0||!qt.isNumber(t)&&!qt.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE)&&(t=qt.isNumber(i.min)?i.min:0,e=qt.isNumber(i.max)?i.max:t+y,h.allSeriesCollapsed=!1),t>e){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var x=e;e=t,t=x}else t===e&&(t=t===0?0:t-1,e=e===0?2:e+1);var w=[];y<1&&(y=1);var k=y,A=Math.abs(e-t);!a&&t>0&&t/A<.15&&(t=0,a=!0),!s&&e<0&&-e/A<.15&&(e=0,s=!0);var T=(A=Math.abs(e-t))/k,R=T,G=Math.floor(Math.log10(R)),z=Math.pow(10,G),F=Math.ceil(R/z);if(T=R=(F=h.niceScaleAllowedMagMsd[h.yValueDecimal===0?0:1][F])*z,h.isBarHorizontal&&i.stepSize&&i.type!=="datetime"?(T=i.stepSize,d=!0):d&&(T=i.stepSize),d&&i.forceNiceScale){var H=Math.floor(Math.log10(T));T*=Math.pow(10,G-H)}if(a&&s){var Y=A/k;if(g)if(d)if(qt.mod(A,T)!=0){var J=qt.getGCD(T,Y);T=Y/J<10?J:Y}else qt.mod(T,Y)==0?T=Y:(Y=T,g=!1);else T=Y;else if(d)qt.mod(A,T)==0?Y=T:T=Y;else if(qt.mod(A,T)==0)Y=T;else{Y=A/(k=Math.ceil(A/T));var nt=qt.getGCD(A,T);A/nt<r&&(Y=nt),T=Y}k=Math.round(A/T)}else{if(a||s){if(s)if(g)t=e-T*k;else{var V=t;t=T*Math.floor(t/T),Math.abs(e-t)/qt.getGCD(A,T)>r&&(t=e-T*y,t+=T*Math.floor((V-t)/T))}else if(a)if(g)e=t+T*k;else{var Z=e;e=T*Math.ceil(e/T),Math.abs(e-t)/qt.getGCD(A,T)>r&&(e=t+T*y,e+=T*Math.ceil((Z-e)/T))}}else if(h.isMultipleYAxis&&g){var rt=T*Math.floor(t/T),lt=rt+T*k;lt<e&&(T*=2),lt=e,e=(t=rt)+T*k,A=Math.abs(e-t),t>0&&t<Math.abs(lt-e)&&(t=0,e=T*k),e<0&&-e<Math.abs(rt-t)&&(e=0,t=-T*k)}else t=T*Math.floor(t/T),e=T*Math.ceil(e/T);A=Math.abs(e-t),T=qt.getGCD(A,T),k=Math.round(A/T)}if(g||a||s||(k=Math.ceil((A-l)/(T+l)))>16&&qt.getPrimeFactors(k).length<2&&k++,!g&&i.forceNiceScale&&h.yValueDecimal===0&&k>A&&(k=A,T=Math.round(A/k)),k>r&&(!g&&!d||i.forceNiceScale)){var mt=qt.getPrimeFactors(k),ct=mt.length-1,st=k;t:for(var xt=0;xt<ct;xt++)for(var dt=0;dt<=ct-xt;dt++){for(var ht=Math.min(dt+xt,ct),ot=st,vt=1,St=dt;St<=ht;St++)vt*=mt[St];if((ot/=vt)<r){st=ot;break t}}T=st===k?A:A/st,k=Math.round(A/T)}h.isMultipleYAxis&&h.multiAxisTickAmount==0&&h.ignoreYAxisIndexes.indexOf(o)<0&&(h.multiAxisTickAmount=k);var Pt=t-T,It=T*l;do Pt+=T,w.push(qt.stripNumber(Pt,7));while(e-Pt>It);return{result:w,niceMin:w[0],niceMax:w[w.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,s=Math.abs(e-t),o=[];if(t===e)return{result:o=[t],niceMin:o[0],niceMax:o[o.length-1]};(i=this._adjustTicksForSmallRange(i,r,s))==="dataPoints"&&(i=this.w.globals.dataPoints-1),a||(a=s/i),a=Math.round(100*(a+Number.EPSILON))/100,i===Number.MAX_VALUE&&(i=5,a=1);for(var l=t;i>=0;)o.push(l),l=qt.preciseAddition(l,a),i-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var r=[],a=Math.ceil(Math.log(e)/Math.log(i)+1),s=Math.floor(Math.log(t)/Math.log(i));s<a;s++)r.push(Math.pow(i,s));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var r=[],a=Math.log(e)/Math.log(i),s=Math.log(t)/Math.log(i),o=a-s,l=Math.round(o),c=o/l,h=0,d=s;h<l;h++,d+=c)r.push(Math.pow(i,d));return r.push(Math.pow(i,a)),{result:r,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var r=t;if(e!==void 0&&this.w.config.yaxis[e].labels.formatter&&this.w.config.yaxis[e].tickAmount===void 0){var a=Number(this.w.config.yaxis[e].labels.formatter(1));qt.isNumber(a)&&this.w.globals.yValueDecimal===0&&(r=Math.ceil(i))}return r<t?r:t}},{key:"setYScaleForIndex",value:function(t,e,i){var r=this.w.globals,a=this.w.config,s=r.isBarHorizontal?a.xaxis:a.yaxis[t];r.yAxisScale[t]===void 0&&(r.yAxisScale[t]=[]);var o=Math.abs(i-e);s.logarithmic&&o<=5&&(r.invalidLogScale=!0),s.logarithmic&&o>5?(r.allSeriesCollapsed=!1,r.yAxisScale[t]=s.forceNiceScale?this.logarithmicScaleNice(e,i,s.logBase):this.logarithmicScale(e,i,s.logBase)):i!==-Number.MAX_VALUE&&qt.isNumber(i)&&e!==Number.MAX_VALUE&&qt.isNumber(e)?(r.allSeriesCollapsed=!1,r.yAxisScale[t]=this.niceScale(e,i,t)):r.yAxisScale[t]=this.niceScale(Number.MIN_VALUE,0,t)}},{key:"setXScale",value:function(t,e){var i=this.w,r=i.globals;if(e!==-Number.MAX_VALUE&&qt.isNumber(e)){var a=r.xTickAmount;r.xAxisScale=this.linearScale(t,e,a,0,i.config.xaxis.max===void 0?i.config.xaxis.stepSize:void 0)}else r.xAxisScale=this.linearScale(0,10,10);return r.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var t=this,e=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var r=i.seriesYAxisMap,a=i.minYArr,s=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],r.forEach((function(o,l){var c=[];o.forEach((function(h){var d,g=(d=e.series[h])===null||d===void 0?void 0:d.group;c.indexOf(g)<0&&c.push(g)})),o.length>0?(function(){var h,d,g=Number.MAX_VALUE,y=-Number.MAX_VALUE,x=g,w=y;if(e.chart.stacked)(function(){var T=new Array(i.dataPoints).fill(0),R=[],G=[],z=[];c.forEach((function(){R.push(T.map((function(){return Number.MIN_VALUE}))),G.push(T.map((function(){return Number.MIN_VALUE}))),z.push(T.map((function(){return Number.MIN_VALUE})))}));for(var F=function(Y){!h&&e.series[o[Y]].type&&(h=e.series[o[Y]].type);var J=o[Y];d=e.series[J].group?e.series[J].group:"axis-".concat(l),!(i.collapsedSeriesIndices.indexOf(J)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(J)<0)||(i.allSeriesCollapsed=!1,c.forEach((function(nt,V){if(e.series[J].group===nt)for(var Z=0;Z<i.series[J].length;Z++){var rt=i.series[J][Z];rt>=0?G[V][Z]+=rt:z[V][Z]+=rt,R[V][Z]+=rt,x=Math.min(x,rt),w=Math.max(w,rt)}}))),h!=="bar"&&h!=="column"||i.barGroups.push(d)},H=0;H<o.length;H++)F(H);h||(h=e.chart.type),h==="bar"||h==="column"?c.forEach((function(Y,J){g=Math.min(g,Math.min.apply(null,z[J])),y=Math.max(y,Math.max.apply(null,G[J]))})):(c.forEach((function(Y,J){x=Math.min(x,Math.min.apply(null,R[J])),w=Math.max(w,Math.max.apply(null,R[J]))})),g=x,y=w),g===Number.MIN_VALUE&&y===Number.MIN_VALUE&&(y=-Number.MAX_VALUE)})();else for(var k=0;k<o.length;k++){var A=o[k];g=Math.min(g,a[A]),y=Math.max(y,s[A]),!(i.collapsedSeriesIndices.indexOf(A)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(A)<0)||(i.allSeriesCollapsed=!1)}e.yaxis[l].min!==void 0&&(g=typeof e.yaxis[l].min=="function"?e.yaxis[l].min(g):e.yaxis[l].min),e.yaxis[l].max!==void 0&&(y=typeof e.yaxis[l].max=="function"?e.yaxis[l].max(y):e.yaxis[l].max),i.barGroups=i.barGroups.filter((function(T,R,G){return G.indexOf(T)===R})),t.setYScaleForIndex(l,g,y),o.forEach((function(T){a[T]=i.yAxisScale[l].niceMin,s[T]=i.yAxisScale[l].niceMax}))})():t.setYScaleForIndex(l,0,-Number.MAX_VALUE)}))}}]),n})(),Gj=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.scales=new C7(t)}return Ve(n,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.w.config,s=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;r===null&&(r=t+1);var c=s.series,h=c,d=c;a.chart.type==="candlestick"?(h=s.seriesCandleL,d=s.seriesCandleH):a.chart.type==="boxPlot"?(h=s.seriesCandleO,d=s.seriesCandleC):s.isRangeData&&(h=s.seriesRangeStart,d=s.seriesRangeEnd);var g=!1;if(s.seriesX.length>=r){var y,x=(y=s.brushSource)===null||y===void 0?void 0:y.w.config.chart.brush;(a.chart.zoom.enabled&&a.chart.zoom.autoScaleYaxis||x!=null&&x.enabled&&x!=null&&x.autoScaleYaxis)&&(g=!0)}for(var w=t;w<r;w++){s.dataPoints=Math.max(s.dataPoints,c[w].length);var k=a.series[w].type;s.categoryLabels.length&&(s.dataPoints=s.categoryLabels.filter((function(J){return J!==void 0})).length),s.labels.length&&a.xaxis.type!=="datetime"&&s.series.reduce((function(J,nt){return J+nt.length}),0)!==0&&(s.dataPoints=Math.max(s.dataPoints,s.labels.length));var A=0,T=c[w].length-1;if(g){if(a.xaxis.min)for(;A<T&&s.seriesX[w][A]<a.xaxis.min;A++);if(a.xaxis.max)for(;T>A&&s.seriesX[w][T]>a.xaxis.max;T--);}for(var R=A;R<=T&&R<s.series[w].length;R++){var G=c[w][R];if(G!==null&&qt.isNumber(G)){var z,F,H,Y;switch(((z=d[w])===null||z===void 0?void 0:z[R])!==void 0&&(o=Math.max(o,d[w][R]),e=Math.min(e,d[w][R])),((F=h[w])===null||F===void 0?void 0:F[R])!==void 0&&(e=Math.min(e,h[w][R]),i=Math.max(i,h[w][R])),k){case"candlestick":s.seriesCandleC[w][R]!==void 0&&(o=Math.max(o,s.seriesCandleH[w][R]),e=Math.min(e,s.seriesCandleL[w][R]));break;case"boxPlot":s.seriesCandleC[w][R]!==void 0&&(o=Math.max(o,s.seriesCandleC[w][R]),e=Math.min(e,s.seriesCandleO[w][R]))}k&&k!=="candlestick"&&k!=="boxPlot"&&k!=="rangeArea"&&k!=="rangeBar"&&(o=Math.max(o,s.series[w][R]),e=Math.min(e,s.series[w][R])),s.seriesGoals[w]&&s.seriesGoals[w][R]&&Array.isArray(s.seriesGoals[w][R])&&s.seriesGoals[w][R].forEach((function(J){o=Math.max(o,J.value),e=Math.min(e,J.value)})),i=o,G=qt.noExponents(G),qt.isFloat(G)&&(s.yValueDecimal=Math.max(s.yValueDecimal,G.toString().split(".")[1].length)),l>((H=h[w])===null||H===void 0?void 0:H[R])&&((Y=h[w])===null||Y===void 0?void 0:Y[R])<0&&(l=h[w][R])}else s.hasNullValues=!0}k!=="bar"&&k!=="column"||(l<0&&o<0&&(o=0,i=Math.max(i,0)),l===Number.MIN_VALUE&&(l=0,e=Math.min(e,0)))}return a.chart.type==="rangeBar"&&s.seriesRangeStart.length&&s.isBarHorizontal&&(l=e),a.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i,r=Number.MAX_VALUE;if(t.isMultipleYAxis){r=Number.MAX_VALUE;for(var a=0;a<t.series.length;a++)i=this.getMinYMaxY(a),t.minYArr[a]=i.lowestY,t.maxYArr[a]=i.highestY,r=Math.min(r,i.lowestY)}return i=this.getMinYMaxY(0,r,null,t.series.length),e.chart.type==="bar"?(t.minY=i.minY,t.maxY=i.maxY):(t.minY=i.lowestY,t.maxY=i.highestY),r=i.lowestY,e.chart.stacked&&this._setStackedMinMax(),e.chart.type==="line"||e.chart.type==="area"||e.chart.type==="scatter"||e.chart.type==="candlestick"||e.chart.type==="boxPlot"||e.chart.type==="rangeBar"&&!t.isBarHorizontal?t.minY===Number.MIN_VALUE&&r!==-Number.MAX_VALUE&&r!==t.maxY&&(t.minY=r):t.minY=t.minY!==Number.MIN_VALUE?Math.min(i.minY,t.minY):i.minY,e.yaxis.forEach((function(s,o){s.max!==void 0&&(typeof s.max=="number"?t.maxYArr[o]=s.max:typeof s.max=="function"&&(t.maxYArr[o]=s.max(t.isMultipleYAxis?t.maxYArr[o]:t.maxY)),t.maxY=t.maxYArr[o]),s.min!==void 0&&(typeof s.min=="number"?t.minYArr[o]=s.min:typeof s.min=="function"&&(t.minYArr[o]=s.min(t.isMultipleYAxis?t.minYArr[o]===Number.MIN_VALUE?0:t.minYArr[o]:t.minY)),t.minY=t.minYArr[o])})),t.isBarHorizontal&&["min","max"].forEach((function(s){e.xaxis[s]!==void 0&&typeof e.xaxis[s]=="number"&&(s==="min"?t.minY=e.xaxis[s]:t.maxY=e.xaxis[s])})),t.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),t.minY=r):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.minY,t.maxYArr[0]=t.maxY),t.barGroups=[],t.lineGroups=[],t.areaGroups=[],e.series.forEach((function(s){switch(s.type||e.chart.type){case"bar":case"column":t.barGroups.push(s.group);break;case"line":t.lineGroups.push(s.group);break;case"area":t.areaGroups.push(s.group)}})),t.barGroups=t.barGroups.filter((function(s,o,l){return l.indexOf(s)===o})),t.lineGroups=t.lineGroups.filter((function(s,o,l){return l.indexOf(s)===o})),t.areaGroups=t.areaGroups.filter((function(s,o,l){return l.indexOf(s)===o})),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i=e.xaxis.type==="numeric"||e.xaxis.type==="datetime"||e.xaxis.type==="category"&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&(function(){for(var l=0;l<t.series.length;l++)if(t.labels[l])for(var c=0;c<t.labels[l].length;c++)t.labels[l][c]!==null&&qt.isNumber(t.labels[l][c])&&(t.maxX=Math.max(t.maxX,t.labels[l][c]),t.initialMaxX=Math.max(t.maxX,t.labels[l][c]),t.minX=Math.min(t.minX,t.labels[l][c]),t.initialMinX=Math.min(t.minX,t.labels[l][c]))})(),t.noLabelsProvided&&e.xaxis.categories.length===0&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var r=10;if(e.xaxis.tickAmount===void 0)r=Math.round(t.svgWidth/150),e.xaxis.type==="numeric"&&t.dataPoints<30&&(r=t.dataPoints-1),r>t.dataPoints&&t.dataPoints!==0&&(r=t.dataPoints-1);else if(e.xaxis.tickAmount==="dataPoints"){if(t.series.length>1&&(r=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric){var a=Math.round(t.maxX-t.minX);a<30&&(r=a)}}else r=e.xaxis.tickAmount;if(t.xTickAmount=r,e.xaxis.max!==void 0&&typeof e.xaxis.max=="number"&&(t.maxX=e.xaxis.max),e.xaxis.min!==void 0&&typeof e.xaxis.min=="number"&&(t.minX=e.xaxis.min),e.xaxis.range!==void 0&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var s=[],o=t.minX-1;o<t.maxX;o++)s.push(o+1);t.xAxisScale={result:s,niceMin:s[0],niceMax:s[s.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(0,r,r,0,e.xaxis.stepSize),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,r-1,0,e.xaxis.stepSize),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ){for(var e=0;e<t.series.length;e++)if(t.seriesZ[e]!==void 0)for(var i=0;i<t.seriesZ[e].length;i++)t.seriesZ[e][i]!==null&&qt.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new wl(this.ctx);if(e.xaxis.type==="datetime"){var r=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),t.minX=new Date(r).getTime();var a=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),t.maxX=new Date(a).getTime()}else(e.xaxis.type==="numeric"||e.xaxis.type==="category"&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach((function(e,i){if(e.length){e.length===1&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var r=e.slice();r.sort((function(a,s){return a-s})),r.forEach((function(a,s){if(s>0){var o=a-r[s-1];o>0&&(t.minXDiff=Math.min(o,t.minXDiff))}})),t.dataPoints!==1&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var t=this,e=this.w.globals;if(e.series.length){var i=e.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map((function(s){return s}))]);var r={},a={};i.forEach((function(s){r[s]=[],a[s]=[],t.w.config.series.map((function(o,l){return s.indexOf(e.seriesNames[l])>-1?l:null})).filter((function(o){return o!==null})).forEach((function(o){for(var l=0;l<e.series[e.maxValsInArrayIndex].length;l++){var c,h,d,g;r[s][l]===void 0&&(r[s][l]=0,a[s][l]=0),(t.w.config.chart.stacked&&!e.comboCharts||t.w.config.chart.stacked&&e.comboCharts&&(!t.w.config.chart.stackOnlyBar||((c=t.w.config.series)===null||c===void 0||(h=c[o])===null||h===void 0?void 0:h.type)==="bar"||((d=t.w.config.series)===null||d===void 0||(g=d[o])===null||g===void 0?void 0:g.type)==="column"))&&e.series[o][l]!==null&&qt.isNumber(e.series[o][l])&&(e.series[o][l]>0?r[s][l]+=parseFloat(e.series[o][l])+1e-4:a[s][l]+=parseFloat(e.series[o][l]))}}))})),Object.entries(r).forEach((function(s){var o=WX(s,1)[0];r[o].forEach((function(l,c){e.maxY=Math.max(e.maxY,r[o][c]),e.minY=Math.min(e.minY,a[o][c])}))}))}}}]),n})(),pR=(function(){function n(t,e){$e(this,n),this.ctx=t,this.elgrid=e,this.w=t.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=i.config.xaxis.position==="bottom"?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Vy(t)}return Ve(n,[{key:"drawYaxis",value:function(t){var e=this.w,i=new Me(this.ctx),r=e.config.yaxis[t].labels.style,a=r.fontSize,s=r.fontFamily,o=r.fontWeight,l=i.group({class:"apexcharts-yaxis",rel:t,transform:"translate(".concat(e.globals.translateYAxisX[t],", 0)")});if(this.axesUtils.isYAxisHidden(t))return l;var c=i.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var h=e.globals.yAxisScale[t].result.length-1,d=e.globals.gridHeight/h,g=e.globals.yLabelFormatters[t],y=this.axesUtils.checkForReversedLabels(t,e.globals.yAxisScale[t].result.slice());if(e.config.yaxis[t].labels.show){var x=e.globals.translateY+e.config.yaxis[t].labels.offsetY;e.globals.isBarHorizontal?x=0:e.config.chart.type==="heatmap"&&(x-=d/2),x+=parseInt(a,10)/3;for(var w=h;w>=0;w--){var k=g(y[w],w,e),A=e.config.yaxis[t].labels.padding;e.config.yaxis[t].opposite&&e.config.yaxis.length!==0&&(A*=-1);var T=this.getTextAnchor(e.config.yaxis[t].labels.align,e.config.yaxis[t].opposite),R=this.axesUtils.getYAxisForeColor(r.colors,t),G=Array.isArray(R)?R[w]:R,z=qt.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-label tspan"))).map((function(H){return H.textContent})),F=i.drawText({x:A,y:x,text:z.includes(k)&&!e.config.yaxis[t].labels.showDuplicates?"":k,textAnchor:T,fontSize:a,fontFamily:s,fontWeight:o,maxWidth:e.config.yaxis[t].labels.maxWidth,foreColor:G,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(r.cssClass)});c.add(F),this.addTooltip(F,k),e.config.yaxis[t].labels.rotate!==0&&this.rotateLabel(i,F,firstLabel,e.config.yaxis[t].labels.rotate),x+=d}}return this.addYAxisTitle(i,l,t),this.addAxisBorder(i,l,t,h,d),l}},{key:"getTextAnchor",value:function(t,e){return t==="left"?"start":t==="center"?"middle":t==="right"?"end":e?"start":"end"}},{key:"addTooltip",value:function(t,e){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(e)?e.join(" "):e,t.node.appendChild(i)}},{key:"rotateLabel",value:function(t,e,i,r){var a=t.rotateAroundCenter(i.node),s=t.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(".concat(r," ").concat(a.x," ").concat(s.y,")"))}},{key:"addYAxisTitle",value:function(t,e,i){var r=this.w;if(r.config.yaxis[i].title.text!==void 0){var a=t.group({class:"apexcharts-yaxis-title"}),s=r.config.yaxis[i].opposite?r.globals.translateYAxisX[i]:0,o=t.drawText({x:s,y:r.globals.gridHeight/2+r.globals.translateY+r.config.yaxis[i].title.offsetY,text:r.config.yaxis[i].title.text,textAnchor:"end",foreColor:r.config.yaxis[i].title.style.color,fontSize:r.config.yaxis[i].title.style.fontSize,fontWeight:r.config.yaxis[i].title.style.fontWeight,fontFamily:r.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(r.config.yaxis[i].title.style.cssClass)});a.add(o),e.add(a)}}},{key:"addAxisBorder",value:function(t,e,i,r,a){var s=this.w,o=s.config.yaxis[i].axisBorder,l=31+o.offsetX;if(s.config.yaxis[i].opposite&&(l=-31-o.offsetX),o.show){var c=t.drawLine(l,s.globals.translateY+o.offsetY-2,l,s.globals.gridHeight+s.globals.translateY+o.offsetY+2,o.color,0,o.width);e.add(c)}s.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,r,o,s.config.yaxis[i].axisTicks,i,a,e)}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new Me(this.ctx),r=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});r.add(a);var s=e.globals.yAxisScale[t].result.length-1,o=e.globals.gridWidth/s+.1,l=o+e.config.xaxis.labels.offsetX,c=e.globals.xLabelFormatter,h=this.axesUtils.checkForReversedLabels(t,e.globals.yAxisScale[t].result.slice()),d=e.globals.timescaleLabels;if(d.length>0&&(this.xaxisLabels=d.slice(),s=(h=d.slice()).length),e.config.xaxis.labels.show)for(var g=d.length?0:s;d.length?g<d.length:g>=0;d.length?g++:g--){var y=c(h[g],g,e),x=e.globals.gridWidth+e.globals.padHorizontal-(l-o+e.config.xaxis.labels.offsetX);if(d.length){var w=this.axesUtils.getLabel(h,d,x,g,this.drawnLabels,this.xaxisFontSize);x=w.x,y=w.text,this.drawnLabels.push(w.text),g===0&&e.globals.skipFirstTimelinelabel&&(y=""),g===h.length-1&&e.globals.skipLastTimelinelabel&&(y="")}var k=i.drawText({x,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-(e.config.xaxis.position==="top"?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:y,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(e.config.xaxis.labels.style.cssClass)});a.add(k),k.tspan(y),this.addTooltip(k,y),l+=o}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new Me(this.ctx),r=e.config.xaxis.axisBorder;if(r.show){var a=0;e.config.chart.type==="bar"&&e.globals.isXNumeric&&(a-=15);var s=i.drawLine(e.globals.padHorizontal+a+r.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(s):t.add(s)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new Me(this.ctx);if(e.config.xaxis.title.text!==void 0){var r=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(e.config.xaxis.title.style.cssClass)});r.add(a),t.add(r)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,r=new Me(this.ctx),a=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g")),s=a?a.getBoundingClientRect():{width:0,height:0},o=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var c=this.xPaddingForYAxisTitle(t,s,l,e);o.setAttribute("x",c.xPos-(e?10:0));var h=r.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(h.x," ").concat(h.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,r){var a=this.w,s=0,o=10;return a.config.yaxis[t].title.text===void 0||t<0?{xPos:s,padd:0}:(r?s=e.width+a.config.yaxis[t].title.offsetX+i.width/2+o/2:(s=-1*e.width+a.config.yaxis[t].title.offsetX+o/2+i.width/2,a.globals.isBarHorizontal&&(o=25,s=-1*e.width-a.config.yaxis[t].title.offsetX-o)),{xPos:s,padd:o})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,r=0,a=0,s=18,o=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach((function(l,c){var h=i.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||t[c].width===0,d=t[c].width+e[c].width;l.opposite?i.globals.isBarHorizontal?(a=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[c]=a-l.labels.offsetX):(a=i.globals.gridWidth+i.globals.translateX+o,h||(o+=d+20),i.globals.translateYAxisX[c]=a-l.labels.offsetX+20):(r=i.globals.translateX-s,h||(s+=d+20),i.globals.translateYAxisX[c]=r+l.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w;qt.listToArray(t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(e,i){var r=t.config.yaxis[i];if(r&&!r.floating&&r.labels.align!==void 0){var a=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),s=qt.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),o=a.getBoundingClientRect();s.forEach((function(l){l.setAttribute("text-anchor",r.labels.align)})),r.labels.align!=="left"||r.opposite?r.labels.align==="center"?a.setAttribute("transform","translate(".concat(o.width/2*(r.opposite?1:-1),", 0)")):r.labels.align==="right"&&r.opposite&&a.setAttribute("transform","translate(".concat(o.width,", 0)")):a.setAttribute("transform","translate(-".concat(o.width,", 0)"))}}))}}]),n})(),LAt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.documentEvent=qt.bind(this.documentEvent,this)}return Ve(n,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var r=i.globals.events[t].indexOf(e);r!==-1&&i.globals.events[t].splice(r,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var r=i.globals.events[t],a=r.length,s=0;s<a;s++)r[s].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,r=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach((function(a){r.addEventListener(a,(function(s){var o=s.target.getAttribute("i")===null&&e.globals.capturedSeriesIndex!==-1?e.globals.capturedSeriesIndex:s.target.getAttribute("i"),l=s.target.getAttribute("j")===null&&e.globals.capturedDataPointIndex!==-1?e.globals.capturedDataPointIndex:s.target.getAttribute("j"),c=Object.assign({},e,{seriesIndex:e.globals.axisCharts?o:0,dataPointIndex:l});s.type==="mousemove"||s.type==="touchmove"?typeof e.config.chart.events.mouseMove=="function"&&e.config.chart.events.mouseMove(s,i,c):s.type==="mouseleave"||s.type==="touchleave"?typeof e.config.chart.events.mouseLeave=="function"&&e.config.chart.events.mouseLeave(s,i,c):(s.type==="mouseup"&&s.which===1||s.type==="touchend")&&(typeof e.config.chart.events.click=="function"&&e.config.chart.events.click(s,i,c),i.ctx.events.fireEvent("click",[s,i,c]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(a){e.globals.dom.baseEl.addEventListener(a,t.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if(t.type==="click"){var r=e.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&i!=="apexcharts-menu-icon"&&r.classList.remove("apexcharts-menu-open")}e.globals.clientX=t.type==="touchmove"?t.touches[0].clientX:t.clientX,e.globals.clientY=t.type==="touchmove"?t.touches[0].clientY:t.clientY}}]),n})(),RAt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter((function(a){return a.name===t}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=qt.extend(b7,i);this.w.globals.locale=r.options}}]),n})(),IAt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"drawAxis",value:function(t,e){var i,r,a=this,s=this.w.globals,o=this.w.config,l=new T_(this.ctx,e),c=new pR(this.ctx,e);s.axisCharts&&t!=="radar"&&(s.isBarHorizontal?(r=c.drawYaxisInversed(0),i=l.drawXaxisInversed(0),s.dom.elGraphical.add(i),s.dom.elGraphical.add(r)):(i=l.drawXaxis(),s.dom.elGraphical.add(i),o.yaxis.map((function(h,d){if(s.ignoreYAxisIndexes.indexOf(d)===-1&&(r=c.drawYaxis(d),s.dom.Paper.add(r),a.w.config.grid.position==="back")){var g=s.dom.Paper.children()[1];g.remove(),s.dom.Paper.add(g)}}))))}}]),n})(),Wj=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new Me(this.ctx),i=new kl(this.ctx),r=t.config.xaxis.crosshairs.fill.gradient,a=t.config.xaxis.crosshairs.dropShadow,s=t.config.xaxis.crosshairs.fill.type,o=r.colorFrom,l=r.colorTo,c=r.opacityFrom,h=r.opacityTo,d=r.stops,g=a.enabled,y=a.left,x=a.top,w=a.blur,k=a.color,A=a.opacity,T=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){s==="gradient"&&(T=e.drawGradient("vertical",o,l,c,h,null,d,null));var R=e.drawRect();t.config.xaxis.crosshairs.width===1&&(R=e.drawLine());var G=t.globals.gridHeight;(!qt.isNumber(G)||G<0)&&(G=0);var z=t.config.xaxis.crosshairs.width;(!qt.isNumber(z)||z<0)&&(z=0),R.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:G,width:z,height:G,fill:T,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),g&&(R=i.dropShadow(R,{left:y,top:x,blur:w,color:k,opacity:A})),t.globals.dom.elGraphical.add(R)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new Me(this.ctx),i=t.config.yaxis[0].crosshairs,r=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var a=e.drawLine(-r,0,t.globals.gridWidth+r,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(a)}var s=e.drawLine(-r,0,t.globals.gridWidth+r,0,i.stroke.color,0,0);s.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(s)}}]),n})(),zAt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,r=i.config;if(r.responsive.length!==0){var a=r.responsive.slice();a.sort((function(c,h){return c.breakpoint>h.breakpoint?1:h.breakpoint>c.breakpoint?-1:0})).reverse();var s=new A_({}),o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=a[0].breakpoint,d=window.innerWidth>0?window.innerWidth:screen.width;if(d>h){var g=qt.clone(i.globals.initialConfig);g.series=qt.clone(i.config.series);var y=ps.extendArrayProps(s,g,i);c=qt.extend(y,c),c=qt.extend(i.config,c),e.overrideResponsiveOptions(c)}else for(var x=0;x<a.length;x++)d<a[x].breakpoint&&(c=ps.extendArrayProps(s,a[x].options,i),c=qt.extend(i.config,c),e.overrideResponsiveOptions(c))};if(t){var l=ps.extendArrayProps(s,t,i);l=qt.extend(i.config,l),o(l=qt.extend(l,t))}else o({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new A_(t).init({responsiveOverride:!0});this.w.config=e}}]),n})(),FAt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return Ve(n,[{key:"checkHeatmapDistributed",value:function(){var t=this.w.config,e=t.chart,i=t.plotOptions;return e.type==="treemap"&&i.treemap&&i.treemap.distributed||e.type==="heatmap"&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var t=this.w.config,e=t.chart,i=t.plotOptions;return i.bar&&i.bar.distributed&&(e.type==="bar"||e.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this.w,e=new qt;t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode||"light"));var i=wo(t.config.colors||t.config.fill.colors||[]);t.globals.colors=this.getColors(i),this.applySeriesColors(t.globals.seriesColors,t.globals.colors),t.config.theme.monochrome.enabled&&(t.globals.colors=this.getMonochromeColors(t.config.theme.monochrome,t.globals.series,e));var r=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),this.applyColorTypes(["fill","stroke"],r),this.applyDataLabelsColors(r),this.applyRadarPolygonsColors(),this.applyMarkersColors(r)}},{key:"getColors",value:function(t){var e=this,i=this.w;return t&&t.length!==0?Array.isArray(t)&&t.length>0&&typeof t[0]=="function"?(this.isColorFn=!0,i.config.series.map((function(r,a){var s=t[a]||t[0];return typeof s=="function"?s({value:i.globals.axisCharts?i.globals.series[a][0]||0:i.globals.series[a],seriesIndex:a,dataPointIndex:a,w:e.w}):s}))):t:this.predefined()}},{key:"applySeriesColors",value:function(t,e){t.forEach((function(i,r){i&&(e[r]=i)}))}},{key:"getMonochromeColors",value:function(t,e,i){var r=t.color,a=t.shadeIntensity,s=t.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?e[0].length*e.length:e.length,l=1/(o/a),c=0;return Array.from({length:o},(function(){var h=s==="dark"?i.shadeColor(-1*c,r):i.shadeColor(c,r);return c+=l,h}))}},{key:"applyColorTypes",value:function(t,e){var i=this,r=this.w;t.forEach((function(a){r.globals[a].colors=r.config[a].colors===void 0?i.isColorFn?r.config.colors:e:r.config[a].colors.slice(),i.pushExtraColors(r.globals[a].colors)}))}},{key:"applyDataLabelsColors",value:function(t){var e=this.w;e.globals.dataLabels.style.colors=e.config.dataLabels.style.colors===void 0?t:e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var t=this.w;t.globals.radarPolygons.fill.colors=t.config.plotOptions.radar.polygons.fill.colors===void 0?[t.config.theme.mode==="dark"?"#343A3F":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(t){var e=this.w;e.globals.markers.colors=e.config.markers.colors===void 0?t:e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,a=e||r.globals.series.length;if(i===null&&(i=this.isBarDistributed||this.isHeatmapDistributed||r.config.chart.type==="heatmap"&&r.config.plotOptions.heatmap&&r.config.plotOptions.heatmap.colorScale.inverse),i&&r.globals.series.length&&(a=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),t.length<a)for(var s=a-t.length,o=0;o<s;o++)t.push(t[o])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode,i=e==="dark"?"palette4":e==="light"?"palette1":t.theme.palette||"palette1",r=e==="dark"?"#f6f7f8":e==="light"?"#373d3f":t.chart.foreColor||"#373d3f";return t.tooltip.theme=e||"light",t.chart.foreColor=r,t.theme.palette=i,t}},{key:"predefined",value:function(){var t=this.w.config.theme.palette,e=this.ctx.constructor.getThemePalettes();return e[t]||e.palette1}}]),n})(),BAt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i=t==="title"?e.config.title:e.config.subtitle,r=e.globals.svgWidth/2,a=i.offsetY,s="middle";if(i.align==="left"?(r=10,s="start"):i.align==="right"&&(r=e.globals.svgWidth-10,s="end"),r+=i.offsetX,a=a+parseInt(i.style.fontSize,10)+i.margin/2,i.text!==void 0){var o=new Me(this.ctx).drawText({x:r,y:a,text:i.text,textAnchor:s,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(o)}}}]),n})(),HAt=(function(){function n(t){$e(this,n),this.w=t.w,this.dCtx=t}return Ve(n,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,r=0,a=t==="title"?e.config.title.floating:e.config.subtitle.floating,s=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(s!==null&&!a){var o=s.getBoundingClientRect();i=o.width,r=e.globals.axisCharts?o.height+5:o.height}return{width:i,height:r}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.elLegendWrap;t.config.legend.height||t.config.legend.position!=="top"&&t.config.legend.position!=="bottom"||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},qt.getBoundingClientRect(e));return e!==null&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:i.height===0?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},t.config.legend.position!=="left"&&t.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var t=this,e=this.w,i=[];e.config.series.forEach((function(l,c){l.data.forEach((function(h,d){var g;g=e.globals.series[c][d],r=e.config.dataLabels.formatter(g,{ctx:t.dCtx.ctx,seriesIndex:c,dataPointIndex:d,w:e}),i.push(r)}))}));var r=qt.getLargestStringFromArr(i),a=new Me(this.dCtx.ctx),s=e.config.dataLabels.style,o=a.getTextRects(r,parseInt(s.fontSize),s.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var r=e.map((function(s,o){return Array.isArray(s)?s.length:1})),a=Math.max.apply(Math,wo(r));i=e[r.indexOf(a)]}return i}}]),n})(),GAt=(function(){function n(t){$e(this,n),this.w=t.w,this.dCtx=t}return Ve(n,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&i.length===0&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();t={width:r.width,height:r.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=e.config.legend.position!=="left"&&e.config.legend.position!=="right"||e.config.legend.floating?0:this.dCtx.lgRect.width;var a=e.globals.xLabelFormatter,s=qt.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,i);e.globals.isBarHorizontal&&(o=s=e.globals.yAxisScale[0].result.reduce((function(x,w){return x.length>w.length?x:w}),0));var l=new _S(this.dCtx.ctx),c=s;s=l.xLabelFormat(a,s,c,{i:void 0,dateFormatter:new wl(this.dCtx.ctx).formatDate,w:e}),o=l.xLabelFormat(a,o,c,{i:void 0,dateFormatter:new wl(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&s===void 0||String(s).trim()==="")&&(o=s="1");var h=new Me(this.dCtx.ctx),d=h.getTextRects(s,e.config.xaxis.labels.style.fontSize),g=d;if(s!==o&&(g=h.getTextRects(o,e.config.xaxis.labels.style.fontSize)),(t={width:d.width>=g.width?d.width:g.width,height:d.height>=g.height?d.height:g.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&e.config.xaxis.labels.rotate!==0||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var y=function(x){return h.getTextRects(x,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};d=y(s),s!==o&&(g=y(o)),t.height=(d.height>g.height?d.height:g.height)/1.5,t.width=d.width>g.width?d.width:g.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e=this.w;if(!e.globals.hasXaxisGroups)return{width:0,height:0};var i,r=((t=e.config.xaxis.group.style)===null||t===void 0?void 0:t.fontSize)||e.config.xaxis.labels.style.fontSize,a=e.globals.groups.map((function(d){return d.title})),s=qt.getLargestStringFromArr(a),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,a),l=new Me(this.dCtx.ctx),c=l.getTextRects(s,r),h=c;return s!==o&&(h=l.getTextRects(o,r)),i={width:c.width>=h.width?c.width:h.width,height:c.height>=h.height?c.height:h.height},e.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(t.config.xaxis.title.text!==void 0){var r=new Me(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=r.width,i=r.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(a){return a.value})),r=i.reduce((function(a,s){return a===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):a.length>s.length?a:s}),0);return 1.05*(t=new Me(this.dCtx.ctx).getTextRects(r,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&e.config.xaxis.labels.rotate!==0&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,r=i.globals,a=i.config,s=a.xaxis.type,o=t.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var l=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,c=function(h,d){a.yaxis.length>1&&(function(g){return r.collapsedSeriesIndices.indexOf(g)!==-1})(d)||(function(g){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var y=e.dCtx.timescaleLabels[0],x=e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+o/1.75-e.dCtx.yAxisWidthRight,w=y.position-o/1.75+e.dCtx.yAxisWidthLeft,k=i.config.legend.position==="right"&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0;x>r.svgWidth-r.translateX-k&&(r.skipLastTimelinelabel=!0),w<-(g.show&&!g.floating||a.chart.type!=="bar"&&a.chart.type!=="candlestick"&&a.chart.type!=="rangeBar"&&a.chart.type!=="boxPlot"?10:o/1.75)&&(r.skipFirstTimelinelabel=!0)}else s==="datetime"?e.dCtx.gridPad.right<o&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):s!=="datetime"&&e.dCtx.gridPad.right<o/2-e.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!i.config.xaxis.labels.trim&&(e.dCtx.xPadRight=o/2+1)})(h)};a.yaxis.forEach((function(h,d){l?(e.dCtx.gridPad.left<o&&(e.dCtx.xPadLeft=o/2+1),e.dCtx.xPadRight=o/2+1):c(h,d)}))}}]),n})(),WAt=(function(){function n(t){$e(this,n),this.w=t.w,this.dCtx=t}return Ve(n,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],r=10,a=new Vy(this.dCtx.ctx);return e.config.yaxis.map((function(s,o){var l={seriesIndex:o,dataPointIndex:-1,w:e},c=e.globals.yAxisScale[o],h=0;if(!a.isYAxisHidden(o)&&s.labels.show&&s.labels.minWidth!==void 0&&(h=s.labels.minWidth),!a.isYAxisHidden(o)&&s.labels.show&&c.result.length){var d=e.globals.yLabelFormatters[o],g=c.niceMin===Number.MIN_VALUE?0:c.niceMin,y=c.result.reduce((function(G,z){var F,H;return((F=String(d(G,l)))===null||F===void 0?void 0:F.length)>((H=String(d(z,l)))===null||H===void 0?void 0:H.length)?G:z}),g),x=y=d(y,l);if(y!==void 0&&y.length!==0||(y=c.niceMax),e.globals.isBarHorizontal){r=0;var w=e.globals.labels.slice();y=qt.getLargestStringFromArr(w),y=d(y,{seriesIndex:o,dataPointIndex:-1,w:e}),x=t.dCtx.dimHelpers.getLargestStringFromMultiArr(y,w)}var k=new Me(t.dCtx.ctx),A="rotate(".concat(s.labels.rotate," 0 0)"),T=k.getTextRects(y,s.labels.style.fontSize,s.labels.style.fontFamily,A,!1),R=T;y!==x&&(R=k.getTextRects(x,s.labels.style.fontSize,s.labels.style.fontFamily,A,!1)),i.push({width:(h>R.width||h>T.width?h:R.width>T.width?R.width:T.width)+r,height:R.height>T.height?R.height:T.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=this.w,i=[];return e.config.yaxis.map((function(r,a){if(r.show&&r.title.text!==void 0){var s=new Me(t.dCtx.ctx),o="rotate(".concat(r.title.rotate," 0 0)"),l=s.getTextRects(r.title.text,r.title.style.fontSize,r.title.style.fontFamily,o,!1);i.push({width:l.width,height:l.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,r=0,a=t.globals.yAxisScale.length>1?10:0,s=new Vy(this.dCtx.ctx),o=function(l,c){var h=t.config.yaxis[c].floating,d=0;l.width>0&&!h?(d=l.width+a,(function(g){return t.globals.ignoreYAxisIndexes.indexOf(g)>-1})(c)&&(d=d-l.width-a)):d=h||s.isYAxisHidden(c)?0:5,t.config.yaxis[c].opposite?r+=d:i+=d,e+=d};return t.globals.yLabelsCoords.map((function(l,c){o(l,c)})),t.globals.yTitleCoords.map((function(l,c){o(l,c)})),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=r,e}}]),n})(),UAt=(function(){function n(t){$e(this,n),this.w=t.w,this.dCtx=t}return Ve(n,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w,i=e.config,r=e.globals;if(r.noData||r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===i.series.length)return 0;var a=function(y){return["bar","rangeBar","candlestick","boxPlot"].includes(y)},s=i.chart.type,o=0,l=a(s)?i.series.length:1;r.comboBarCount>0&&(l=r.comboBarCount),r.collapsedSeries.forEach((function(y){a(y.type)&&(l-=1)})),i.chart.stacked&&(l=1);var c=a(s)||r.comboBarCount>0,h=Math.abs(r.initialMaxX-r.initialMinX);if(c&&r.isXNumeric&&!r.isBarHorizontal&&l>0&&h!==0){h<=3&&(h=r.dataPoints);var d=h/t,g=r.minXDiff&&r.minXDiff/d>0?r.minXDiff/d:0;g>t/2&&(g/=2),(o=g*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),r.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,r=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach((function(o){e.config[o].text!==void 0?r+=e.config[o].margin:r+=t.dCtx.isSparkline||!i.axisCharts?0:5})),!e.config.legend.show||e.config.legend.position!=="bottom"||e.config.legend.floating||i.axisCharts||(r+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),s=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=a.height+s.height+r,i.translateY+=a.height+s.height+r}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,r=new Vy(this.dCtx.ctx);i.config.yaxis.forEach((function(a,s){i.globals.ignoreYAxisIndexes.indexOf(s)!==-1||a.floating||r.isYAxisHidden(s)||(a.opposite&&(i.globals.translateX-=e[s].width+t[s].width+parseInt(a.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),n})(),X2=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new HAt(this),this.dimYAxis=new WAt(this),this.dimXAxis=new GAt(this),this.dimGrid=new UAt(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Ve(n,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var r=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,wo(e.config.stroke.width)):e.config.stroke.width;this.isSparkline&&((e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(s){var o=WX(s,2),l=o[0],c=o[1];t.gridPad[l]=Math.max(c,t.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(r/2,this.gridPad.top),this.gridPad.bottom=Math.max(r/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var a=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*a,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(a>0?a:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,r=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(y,x){e.globals.yLabelsCoords.push({width:r[x].width,index:x}),e.globals.yTitleCoords.push({width:a[x].width,index:x})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var s=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(s,l,o),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var c=this.yAxisWidth,h=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-l.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-s.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var d=10;(e.config.chart.type==="radar"||this.isSparkline)&&(c=0,h=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||e.config.chart.type==="treemap")&&(c=0,h=0,d=0),this.isSparkline||e.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(s);var g=function(){i.translateX=c+t.datalabelsCoords.width,i.gridHeight=i.svgHeight-t.lgRect.height-h-(t.isSparkline||e.config.chart.type==="treemap"?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-c-2*t.datalabelsCoords.width};switch(e.config.xaxis.position==="top"&&(d=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=d,g();break;case"top":i.translateY=this.lgRect.height+d,g();break;case"left":i.translateY=d,i.translateX=this.lgRect.width+c+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-h-12,i.gridWidth=i.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":i.translateY=d,i.translateX=c+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-h-12,i.gridWidth=i.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,r),new pR(this.ctx).setYAxisXPosition(r,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,r=0;t.config.legend.show&&!t.config.legend.floating&&(r=20);var a=i.chart.type==="pie"||i.chart.type==="polarArea"||i.chart.type==="donut"?"pie":"radialBar",s=i.plotOptions[a].offsetY,o=i.plotOptions[a].offsetX;if(!i.legend.show||i.legend.floating){e.gridHeight=e.svgHeight;var l=e.dom.elWrap.getBoundingClientRect().width;return e.gridWidth=Math.min(l,e.gridHeight),e.translateY=s,void(e.translateX=o+(e.svgWidth-e.gridWidth)/2)}switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height,e.gridWidth=e.svgWidth,e.translateY=s-10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+s+10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-r,e.gridHeight=i.chart.height!=="auto"?e.svgHeight:e.gridWidth,e.translateY=s,e.translateX=o+this.lgRect.width+r;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-r-5,e.gridHeight=i.chart.height!=="auto"?e.svgHeight:e.gridWidth,e.translateY=s,e.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var r=this.w,a=r.globals.hasXaxisGroups?2:1,s=i.height+t.height+e.height,o=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,l=r.globals.rotateXLabels?22:10,c=r.globals.rotateXLabels&&r.config.legend.position==="bottom"?10:0;this.xAxisHeight=s*o+a*l+c,this.xAxisWidth=t.width,this.xAxisHeight-e.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var h=0,d=0;r.config.yaxis.forEach((function(g){h+=g.labels.minWidth,d+=g.labels.maxWidth})),this.yAxisWidth<h&&(this.yAxisWidth=h),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),n})(),YAt=(function(){function n(t){$e(this,n),this.w=t.w,this.lgCtx=t}return Ve(n,[{key:"getLegendStyles",value:function(){var t,e,i,r=document.createElement("style");r.setAttribute("type","text/css");var a=((t=this.lgCtx.ctx)===null||t===void 0||(e=t.opts)===null||e===void 0||(i=e.chart)===null||i===void 0?void 0:i.nonce)||this.w.config.chart.nonce;a&&r.setAttribute("nonce",a);var s=document.createTextNode(S7);return r.appendChild(s),r}},{key:"getLegendDimensions",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&t.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(t,e){var i=this,r=this.w;if(r.globals.axisCharts||r.config.chart.type==="radialBar"){r.globals.resized=!0;var a=null,s=null;r.globals.risingSeries=[],r.globals.axisCharts?(a=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),s=parseInt(a.getAttribute("data:realIndex"),10)):(a=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),s=parseInt(a.getAttribute("rel"),10)-1),e?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach((function(h){i.riseCollapsedSeries(h.cs,h.csi,s)})):this.hideSeries({seriesEl:a,realIndex:s})}else{var o=r.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(t+1,"'] path")),l=r.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=r.config.plotOptions.pie.donut.labels;new Me(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,c)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(t){var e=t.realIndex,i=this.w,r=i.globals,a=qt.clone(i.config.series);if(r.axisCharts){var s=i.config.yaxis[r.seriesYAxisReverseMap[e]],o={index:e,data:a[e].data.slice(),type:a[e].type||i.config.chart.type};if(s&&s.show&&s.showAlways)r.ancillaryCollapsedSeriesIndices.indexOf(e)<0&&(r.ancillaryCollapsedSeries.push(o),r.ancillaryCollapsedSeriesIndices.push(e));else if(r.collapsedSeriesIndices.indexOf(e)<0){r.collapsedSeries.push(o),r.collapsedSeriesIndices.push(e);var l=r.risingSeries.indexOf(e);r.risingSeries.splice(l,1)}}else r.collapsedSeries.push({index:e,data:a[e]}),r.collapsedSeriesIndices.push(e);return r.allSeriesCollapsed=r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(a)}},{key:"hideSeries",value:function(t){for(var e=t.seriesEl,i=t.realIndex,r=this.w,a=this.getSeriesAfterCollapsing({realIndex:i}),s=e.childNodes,o=0;o<s.length;o++)s[o].classList.contains("apexcharts-series-markers-wrap")&&(s[o].classList.contains("apexcharts-hide")?s[o].classList.remove("apexcharts-hide"):s[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var r=this.w,a=qt.clone(r.config.series);if(t.length>0){for(var s=0;s<t.length;s++)t[s].index===i&&(r.globals.axisCharts?a[i].data=t[s].data.slice():a[i]=t[s].data,typeof a[i]!="number"&&(a[i].hidden=!1),t.splice(s,1),e.splice(s,1),r.globals.risingSeries.push(i));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w,i=0;return e.globals.axisCharts?t.forEach((function(r,a){e.globals.collapsedSeriesIndices.indexOf(a)<0&&e.globals.ancillaryCollapsedSeriesIndices.indexOf(a)<0||(t[a].data=[],i++)})):t.forEach((function(r,a){!e.globals.collapsedSeriesIndices.indexOf(a)<0&&(t[a]=0,i++)})),e.globals.allSeriesCollapsed=i===t.length,t}}]),n})(),A7=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new YAt(this)}return Ve(n,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config,r=i.legend.showForSingleSeries&&e.series.length===1||this.isBarsDistributed||e.series.length>1;if(this.legendHelpers.appendToForeignObject(),(r||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),i.legend.position==="bottom"||i.legend.position==="top"?this.legendAlignHorizontal():i.legend.position!=="right"&&i.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(t){var e=t.i,i=t.fillcolor,r=this.w,a=document.createElement("span");a.classList.add("apexcharts-legend-marker");var s=r.config.legend.markers.shape||r.config.markers.shape,o=s;Array.isArray(s)&&(o=s[e]);var l=Array.isArray(r.config.legend.markers.size)?parseFloat(r.config.legend.markers.size[e]):parseFloat(r.config.legend.markers.size),c=Array.isArray(r.config.legend.markers.offsetX)?parseFloat(r.config.legend.markers.offsetX[e]):parseFloat(r.config.legend.markers.offsetX),h=Array.isArray(r.config.legend.markers.offsetY)?parseFloat(r.config.legend.markers.offsetY[e]):parseFloat(r.config.legend.markers.offsetY),d=Array.isArray(r.config.legend.markers.strokeWidth)?parseFloat(r.config.legend.markers.strokeWidth[e]):parseFloat(r.config.legend.markers.strokeWidth),g=a.style;if(g.height=2*(l+d)+"px",g.width=2*(l+d)+"px",g.left=c+"px",g.top=h+"px",r.config.legend.markers.customHTML)g.background="transparent",g.color=i[e],Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[e]&&(a.innerHTML=r.config.legend.markers.customHTML[e]()):a.innerHTML=r.config.legend.markers.customHTML();else{var y=new b1(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:e,strokeWidth:d,size:l}),x=window.SVG().addTo(a).size("100%","100%"),w=new Me(this.ctx).drawMarker(0,0,Oe(Oe({},y),{},{pointFillColor:Array.isArray(i)?i[e]:y.pointFillColor,shape:o}));r.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(k){k.node.classList.contains("apexcharts-marker-triangle")?k.node.style.transform="translate(50%, 45%)":k.node.style.transform="translate(50%, 50%)"})),x.add(w)}return a}},{key:"drawLegends",value:function(){var t=this,e=this,i=this.w,r=i.config.legend.fontFamily,a=i.globals.seriesNames,s=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var o=i.config.plotOptions.heatmap.colorScale.ranges;a=o.map((function(y){return y.name?y.name:y.from+" - "+y.to})),s=o.map((function(y){return y.color}))}else this.isBarsDistributed&&(a=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(a=i.config.legend.customLegendItems);var l=i.globals.legendFormatter,c=i.config.legend.inverseOrder,h=[];i.globals.seriesGroups.length>1&&i.config.legend.clusterGroupedSeries&&i.globals.seriesGroups.forEach((function(y,x){h[x]=document.createElement("div"),h[x].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(x)),i.config.legend.clusterGroupedSeriesOrientation==="horizontal"?i.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):h[x].classList.add("apexcharts-legend-group-vertical")}));for(var d=function(y){var x,w=l(a[y],{seriesIndex:y,w:i}),k=!1,A=!1;if(i.globals.collapsedSeries.length>0)for(var T=0;T<i.globals.collapsedSeries.length;T++)i.globals.collapsedSeries[T].index===y&&(k=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var R=0;R<i.globals.ancillaryCollapsedSeriesIndices.length;R++)i.globals.ancillaryCollapsedSeriesIndices[R]===y&&(A=!0);var G=t.createLegendMarker({i:y,fillcolor:s});Me.setAttrs(G,{rel:y+1,"data:collapsed":k||A}),(k||A)&&G.classList.add("apexcharts-inactive-legend");var z=document.createElement("div"),F=document.createElement("span");F.classList.add("apexcharts-legend-text"),F.innerHTML=Array.isArray(w)?w.join(" "):w;var H=i.config.legend.labels.useSeriesColors?i.globals.colors[y]:Array.isArray(i.config.legend.labels.colors)?(x=i.config.legend.labels.colors)===null||x===void 0?void 0:x[y]:i.config.legend.labels.colors;H||(H=i.config.chart.foreColor),F.style.color=H,F.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",F.style.fontWeight=i.config.legend.fontWeight,F.style.fontFamily=r||i.config.chart.fontFamily,Me.setAttrs(F,{rel:y+1,i:y,"data:default-text":encodeURIComponent(w),"data:collapsed":k||A}),z.appendChild(G),z.appendChild(F);var Y=new ps(t.ctx);i.config.legend.showForZeroSeries||Y.getSeriesTotalByIndex(y)===0&&Y.seriesHaveSameValues(y)&&!Y.isSeriesNull(y)&&i.globals.collapsedSeriesIndices.indexOf(y)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(y)===-1&&z.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||Y.isSeriesNull(y)&&i.globals.collapsedSeriesIndices.indexOf(y)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(y)===-1&&z.classList.add("apexcharts-hidden-null-series"),h.length?i.globals.seriesGroups.forEach((function(J,nt){var V;J.includes((V=i.config.series[y])===null||V===void 0?void 0:V.name)&&(i.globals.dom.elLegendWrap.appendChild(h[nt]),h[nt].appendChild(z))})):i.globals.dom.elLegendWrap.appendChild(z),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),z.classList.add("apexcharts-legend-series"),z.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",Me.setAttrs(z,{rel:y+1,seriesName:qt.escapeString(a[y]),"data:collapsed":k||A}),(k||A)&&z.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||z.classList.add("apexcharts-no-click")},g=c?a.length-1:0;c?g>=0:g<=a.length-1;c?g--:g++)d(g);i.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,r=i.globals.dom.elLegendWrap,a=r.clientHeight,s=0,o=0;if(i.config.legend.position==="bottom")o=i.globals.svgHeight-Math.min(a,i.globals.svgHeight/2)-5;else if(i.config.legend.position==="top"){var l=new X2(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,h=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(c>0?c-10:0)+(h>0?h-10:0)}r.style.position="absolute",s=s+t+i.config.legend.offsetX,o=o+e+i.config.legend.offsetY,r.style.left=s+"px",r.style.top=o+"px",i.config.legend.position==="right"&&(r.style.left="auto",r.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(d){r.style[d]&&(r.style[d]=parseInt(i.config.legend[d],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.elLegendWrap.style.right=0;var e=new X2(this.ctx),i=e.dimHelpers.getTitleSubtitleCoords("title"),r=e.dimHelpers.getTitleSubtitleCoords("subtitle"),a=0;t.config.legend.position==="top"&&(a=i.height+r.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,a)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendDimensions(),i=0;t.config.legend.position==="left"&&(i=20),t.config.legend.position==="right"&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if(e.config.chart.type==="heatmap"||this.isBarsDistributed){if(i){var r=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new hd(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new hd(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,r=t.target.getAttribute("data:collapsed")==="true",a=this.w.config.chart.events.legendClick;typeof a=="function"&&a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var s=this.w.config.legend.markers.onClick;typeof s=="function"&&t.target.classList.contains("apexcharts-legend-marker")&&(s(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),e.config.chart.type!=="treemap"&&e.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,r)}}}]),n})(),T7=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w;var e=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=e.globals.minX,this.maxX=e.globals.maxX}return Ve(n,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},r=i();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=e.config.chart.toolbar.offsetY+"px",r.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(r),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(i());var s=[],o=function(d,g,y){var x=d.toLowerCase();t.t[x]&&e.config.chart.zoom.enabled&&s.push({el:g,icon:typeof t.t[x]=="string"?t.t[x]:y,title:t.localeValues[d],class:"apexcharts-".concat(x,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(d){t.t[d]&&e.config.chart[d].enabled&&s.push({el:d==="zoom"?t.elZoom:t.elSelection,icon:typeof t.t[d]=="string"?t.t[d]:d==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:t.localeValues[d==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(d,"-icon")})};l("zoom"),l("selection"),this.t.pan&&e.config.chart.zoom.enabled&&s.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&s.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)s.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});s.forEach((function(d,g){d.index&&qt.moveIndexInArray(s,g,d.index)}));for(var h=0;h<s.length;h++)Me.setAttrs(s[h].el,{class:s[h].class,title:s[h].title}),s[h].el.innerHTML=s[h].icon,r.appendChild(s[h].el);this._createHamburgerMenu(r),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),Me.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,Me.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(i){i.classList.contains("exportSVG")?i.addEventListener("click",t.handleDownload.bind(t,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",t.handleDownload.bind(t,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",t.handleDownload.bind(t,"csv"))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls();var i=t==="selection"?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,r=t==="selection"?"selectionEnabled":"zoomEnabled";e.w.globals[r]=!e.w.globals[r],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),t==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e=t==="pan"?this.elPan:this.elZoom,i=t==="pan"?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(i){i&&i.classList.remove(t.selectedClass)}))}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,i=(this.minX+e)/2,r=(this.maxX+e)/2,a=this._getNewMinXMaxX(i,r);t.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!(t.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),r=this.maxX-(e-this.maxX),a=this._getNewMinXMaxX(i,r);t.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(t!==void 0||e!==void 0){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var r={min:t,max:e},a=this.getBeforeZoomRange(r);a&&(r=a.xaxis);var s={xaxis:r},o=qt.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(s.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(s,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e}),this.ctx.events.fireEvent("zoomed",{xaxis:t,yaxis:e}))}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return typeof this.ev.beforeZoom=="function"&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout((function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new Vw(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){var i=e.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,e.updateHelpers.revertDefaultAxisMinMax(),typeof i.config.chart.events.beforeResetZoom=="function"){var r=i.config.chart.events.beforeResetZoom(e,i);r&&e.updateHelpers.revertDefaultAxisMinMax(r)}typeof i.config.chart.events.zoomed=="function"&&e.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var a=e.ctx.series.emptyCollapsedSeries(qt.clone(i.globals.initialSeries));e.updateHelpers._updateSeries(a,i.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),n})(),$At=(function(n){vS(e,T7);var t=yS(e);function e(i){var r;return $e(this,e),(r=t.call(this,i)).ctx=i,r.w=i.w,r.dragged=!1,r.graphics=new Me(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r.debounceTimer=null,r.debounceDelay=100,r.wheelDelay=400,r}return Ve(e,[{key:"init",value:function(i){var r=this,a=i.xyRatios,s=this.w,o=this;this.xyRatios=a,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=s.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new $o(0,0,s.globals.gridWidth,s.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),s.globals.dom.Paper.add(this.zoomRect),s.globals.dom.Paper.add(this.selectionRect),s.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):s.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:s.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=s.globals.dom.baseEl.querySelector("".concat(s.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(l){r.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,a),{capture:!1,passive:!0})})),s.config.chart.zoom.enabled&&s.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,r){var a=this.w,s=this.ctx.toolbar,o=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type,l=a.config.chart.toolbar.autoSelected;if(r.shiftKey?(this.shiftWasPressed=!0,s.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(s.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),r.target){var c,h=r.target.classList;if(r.target.parentNode&&r.target.parentNode!==null&&(c=r.target.parentNode.classList),!(h.contains("apexcharts-legend-marker")||h.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientX:r.type==="touchend"?r.changedTouches[0].clientX:r.clientX,this.clientY=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientY:r.type==="touchend"?r.changedTouches[0].clientY:r.clientY,r.type==="mousedown"&&r.which===1||r.type==="touchstart"){var d=this.gridRect.getBoundingClientRect();this.startX=this.clientX-d.left-a.globals.barPadForNumericAxis,this.startY=this.clientY-d.top,this.dragged=!1,this.w.globals.mousedown=!0}(r.type==="mousemove"&&r.which===1||r.type==="touchmove")&&(this.dragged=!0,a.globals.panEnabled?(a.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:i})):(this.w.globals.mousedown&&a.globals.zoomEnabled||this.w.globals.mousedown&&a.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),r.type!=="mouseup"&&r.type!=="touchend"&&r.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(i){var r,a=i.zoomtype,s=i.isResized,o=this.w,l=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();l&&(this.w.globals.mousedown||s)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:a})),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(i){var r=this,a=this.w;i.preventDefault();var s=Date.now();s-a.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),a.globals.lastWheelExecution=s),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){s-a.globals.lastWheelExecution>r.wheelDelay&&(r.executeMouseWheelZoom(i),a.globals.lastWheelExecution=s)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var r,a=this.w;this.minX=a.globals.isRangeBar?a.globals.minY:a.globals.minX,this.maxX=a.globals.isRangeBar?a.globals.maxY:a.globals.maxX;var s=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();if(s){var o,l,c,h=(i.clientX-s.left)/s.width,d=this.minX,g=this.maxX,y=g-d;if(i.deltaY<0){var x=d+h*y;l=x-(o=.5*y)/2,c=x+o/2}else l=d-(o=1.5*y)/2,c=g+o/2;if(!a.globals.isRangeBar){l=Math.max(l,a.globals.initialMinX),c=Math.min(c,a.globals.initialMaxX);var w=.01*(a.globals.initialMaxX-a.globals.initialMinX);if(c-l<w){var k=(l+c)/2;l=k-w/2,c=k+w/2}}var A=this._getNewMinXMaxX(l,c);isNaN(A.minX)||isNaN(A.maxX)||this.zoomUpdateOptions(A.minX,A.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this,r=this.w;if(this.selectionRect){var a=this.selectionRect.node.getBoundingClientRect();a.width>0&&a.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(s,o,l,c,h){return h==="l"||h==="r"?s.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):s.circle(0)},updateHandle:function(s,o){return s.center(o[0],o[1])}}).resize().on("resize",(function(){var s=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type;i.handleMouseUp({zoomtype:s,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var i=this.w,r=this.xyRatios;if(!i.globals.zoomEnabled){if(i.globals.selection!==void 0&&i.globals.selection!==null)this.drawSelectionRect(Oe(Oe({},i.globals.selection),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}));else if(i.config.chart.selection.xaxis.min!==void 0&&i.config.chart.selection.xaxis.max!==void 0){var a=(i.config.chart.selection.xaxis.min-i.globals.minX)/r.xRatio,s=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/r.xRatio-a;i.globals.isRangeBar&&(a=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/r.invertedYRatio,s=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/r.invertedYRatio);var o={x:a,y:0,width:s,height:i.globals.gridHeight,translateX:i.globals.translateX,translateY:i.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof i.config.chart.events.selection=="function"&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(i){var r=i.x,a=i.y,s=i.width,o=i.height,l=i.translateX,c=l===void 0?0:l,h=i.translateY,d=h===void 0?0:h,g=this.w,y=this.zoomRect,x=this.selectionRect;if(this.dragged||g.globals.selection!==null){var w={transform:"translate("+c+", "+d+")"};g.globals.zoomEnabled&&this.dragged&&(s<0&&(s=1),y.attr({x:r,y:a,width:s,height:o,fill:g.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":g.config.chart.zoom.zoomedArea.fill.opacity,stroke:g.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":g.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":g.config.chart.zoom.zoomedArea.stroke.opacity}),Me.setAttrs(y.node,w)),g.globals.selectionEnabled&&(x.attr({x:r,y:a,width:s>0?s:0,height:o>0?o:0,fill:g.config.chart.selection.fill.color,"fill-opacity":g.config.chart.selection.fill.opacity,stroke:g.config.chart.selection.stroke.color,"stroke-width":g.config.chart.selection.stroke.width,"stroke-dasharray":g.config.chart.selection.stroke.dashArray,"stroke-opacity":g.config.chart.selection.stroke.opacity}),Me.setAttrs(x.node,w))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var r=i.context,a=i.zoomtype,s=this.w,o=r,l=this.gridRect.getBoundingClientRect(),c=o.startX-1,h=o.startY,d=!1,g=!1,y=o.clientX-l.left-s.globals.barPadForNumericAxis,x=o.clientY-l.top,w=y-c,k=x-h,A={translateX:s.globals.translateX,translateY:s.globals.translateY};return Math.abs(w+c)>s.globals.gridWidth?w=s.globals.gridWidth-c:y<0&&(w=c),c>y&&(d=!0,w=Math.abs(w)),h>x&&(g=!0,k=Math.abs(k)),A=Oe(Oe({},A=a==="x"?{x:d?c-w:c,y:0,width:w,height:s.globals.gridHeight}:a==="y"?{x:0,y:g?h-k:h,width:s.globals.gridWidth,height:k}:{x:d?c-w:c,y:g?h-k:h,width:w,height:k}),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}),o.drawSelectionRect(A),o.selectionDragging("resizing"),A}},{key:"selectionDragging",value:function(i,r){var a=this,s=this.w;if(r){r.preventDefault();var o=r.detail,l=o.handler,c=o.box,h=c.x,d=c.y;h<this.constraints.x&&(h=this.constraints.x),d<this.constraints.y&&(d=this.constraints.y),c.x2>this.constraints.x2&&(h=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(d=this.constraints.y2-c.h),l.move(h,d);var g=this.xyRatios,y=this.selectionRect,x=0;i==="resizing"&&(x=30);var w=function(A){return parseFloat(y.node.getAttribute(A))},k={x:w("x"),y:w("y"),width:w("width"),height:w("height")};s.globals.selection=k,typeof s.config.chart.events.selection=="function"&&s.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var A,T,R,G,z=a.gridRect.getBoundingClientRect(),F=y.node.getBoundingClientRect();s.globals.isRangeBar?(A=s.globals.yAxisScale[0].niceMin+(F.left-z.left)*g.invertedYRatio,T=s.globals.yAxisScale[0].niceMin+(F.right-z.left)*g.invertedYRatio,R=0,G=1):(A=s.globals.xAxisScale.niceMin+(F.left-z.left)*g.xRatio,T=s.globals.xAxisScale.niceMin+(F.right-z.left)*g.xRatio,R=s.globals.yAxisScale[0].niceMin+(z.bottom-F.bottom)*g.yRatio[0],G=s.globals.yAxisScale[0].niceMax-(F.top-z.top)*g.yRatio[0]);var H={xaxis:{min:A,max:T},yaxis:{min:R,max:G}};s.config.chart.events.selection(a.ctx,H),s.config.chart.brush.enabled&&s.config.chart.events.brushScrolled!==void 0&&s.config.chart.events.brushScrolled(a.ctx,H)}),x))}}},{key:"selectionDrawn",value:function(i){var r,a,s=i.context,o=i.zoomtype,l=this.w,c=s,h=this.xyRatios,d=this.ctx.toolbar,g=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),y=c.gridRect.getBoundingClientRect(),x=g.left-y.left-l.globals.barPadForNumericAxis,w=g.right-y.left-l.globals.barPadForNumericAxis,k=g.top-y.top,A=g.bottom-y.top;l.globals.isRangeBar?(r=l.globals.yAxisScale[0].niceMin+x*h.invertedYRatio,a=l.globals.yAxisScale[0].niceMin+w*h.invertedYRatio):(r=l.globals.xAxisScale.niceMin+x*h.xRatio,a=l.globals.xAxisScale.niceMin+w*h.xRatio);var T=[],R=[];if(l.config.yaxis.forEach((function(nt,V){var Z=l.globals.seriesYAxisMap[V][0],rt=l.globals.yAxisScale[V].niceMax-h.yRatio[Z]*k,lt=l.globals.yAxisScale[V].niceMax-h.yRatio[Z]*A;T.push(rt),R.push(lt)})),c.dragged&&(c.dragX>10||c.dragY>10)&&r!==a){if(l.globals.zoomEnabled){var G=qt.clone(l.globals.initialConfig.yaxis),z=qt.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(r=Math.floor(r),a=Math.floor(a),r<1&&(r=1,a=l.globals.dataPoints),a-r<2&&(a=r+1)),o!=="xy"&&o!=="x"||(z={min:r,max:a}),o!=="xy"&&o!=="y"||G.forEach((function(nt,V){G[V].min=R[V],G[V].max=T[V]})),d){var F=d.getBeforeZoomRange(z,G);F&&(z=F.xaxis?F.xaxis:z,G=F.yaxis?F.yaxis:G)}var H={xaxis:z};l.config.chart.group||(H.yaxis=G),c.ctx.updateHelpers._updateOptions(H,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&d.zoomCallback(z,G)}else if(l.globals.selectionEnabled){var Y,J=null;Y={min:r,max:a},o!=="xy"&&o!=="y"||(J=qt.clone(l.config.yaxis)).forEach((function(nt,V){J[V].min=R[V],J[V].max=T[V]})),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:Y,yaxis:J})}}}},{key:"panDragging",value:function(i){var r=i.context,a=this.w,s=r;if(a.globals.lastClientPosition.x!==void 0){var o=a.globals.lastClientPosition.x-s.clientX,l=a.globals.lastClientPosition.y-s.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}a.globals.lastClientPosition={x:s.clientX,y:s.clientY};var c=a.globals.isRangeBar?a.globals.minY:a.globals.minX,h=a.globals.isRangeBar?a.globals.maxY:a.globals.maxX;s.panScrolled(c,h)}},{key:"panScrolled",value:function(i,r){var a=this.w,s=this.xyRatios,o=qt.clone(a.globals.initialConfig.yaxis),l=s.xRatio,c=a.globals.minX,h=a.globals.maxX;a.globals.isRangeBar&&(l=s.invertedYRatio,c=a.globals.minY,h=a.globals.maxY),this.moveDirection==="left"?(i=c+a.globals.gridWidth/15*l,r=h+a.globals.gridWidth/15*l):this.moveDirection==="right"&&(i=c-a.globals.gridWidth/15*l,r=h-a.globals.gridWidth/15*l),a.globals.isRangeBar||(i<a.globals.initialMinX||r>a.globals.initialMaxX)&&(i=c,r=h);var d={xaxis:{min:i,max:r}};a.config.chart.group||(d.yaxis=o),this.updateScrolledChart(d,i,r)}},{key:"updateScrolledChart",value:function(i,r,a){var s=this.w;if(this.ctx.updateHelpers._updateOptions(i,!1,!1),typeof s.config.chart.events.scrolled=="function"){var o={xaxis:{min:r,max:a}};s.config.chart.events.scrolled(this.ctx,o),this.ctx.events.fireEvent("scrolled",o)}}}]),e})(),M7=(function(){function n(t){$e(this,n),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return Ve(n,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,r=t.clientX,a=t.clientY,s=this.w,o=i.getBoundingClientRect(),l=o.width,c=o.height,h=l/(s.globals.dataPoints-1),d=c/s.globals.dataPoints,g=this.hasBars();!s.globals.comboCharts&&!g||s.config.xaxis.convertedCatToNumeric||(h=l/s.globals.dataPoints);var y=r-o.left-s.globals.barPadForNumericAxis,x=a-o.top;y<0||x<0||y>l||x>c?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):s.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):s.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var w=Math.round(y/h),k=Math.floor(x/d);g&&!s.config.xaxis.convertedCatToNumeric&&(w=Math.ceil(y/h),w-=1);var A=null,T=null,R=s.globals.seriesXvalues.map((function(Y){return Y.filter((function(J){return qt.isNumber(J)}))})),G=s.globals.seriesYvalues.map((function(Y){return Y.filter((function(J){return qt.isNumber(J)}))}));if(s.globals.isXNumeric){var z=this.ttCtx.getElGrid().getBoundingClientRect(),F=y*(z.width/l),H=x*(z.height/c);A=(T=this.closestInMultiArray(F,H,R,G)).index,w=T.j,A!==null&&s.globals.hasNullValues&&(R=s.globals.seriesXvalues[A],w=(T=this.closestInArray(F,R)).j)}return s.globals.capturedSeriesIndex=A===null?-1:A,(!w||w<1)&&(w=0),s.globals.isBarHorizontal?s.globals.capturedDataPointIndex=k:s.globals.capturedDataPointIndex=w,{capturedSeries:A,j:s.globals.isBarHorizontal?k:w,hoverX:y,hoverY:x}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,r=t.map((function(s,o){return s.length>0?o:-1})),a=0;a<r.length;a++)if(r[a]!==-1&&e.globals.collapsedSeriesIndices.indexOf(a)===-1&&e.globals.ancillaryCollapsedSeriesIndices.indexOf(a)===-1){i=r[a];break}return i}},{key:"closestInMultiArray",value:function(t,e,i,r){for(var a,s=this.w,o=1/0,l=null,c=null,h=0;h<i.length;h++)if(a=h,s.globals.collapsedSeriesIndices.indexOf(a)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(a)===-1)for(var d=i[h],g=r[h],y=Math.min(d.length,g.length),x=0;x<y;x++){var w=t-d[x],k=Math.sqrt(w*w);if(!s.globals.allSeriesHasEqualX){var A=e-g[x];k=Math.sqrt(w*w+A*A)}k<o&&(o=k,l=h,c=x)}return{index:l,j:c}}},{key:"closestInArray",value:function(t,e){for(var i=e[0],r=null,a=Math.abs(t-i),s=0;s<e.length;s++){var o=Math.abs(t-e[s]);o<a&&(a=o,r=s)}return{j:r}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter((function(a){return a[0]!==void 0}));if(i.length>0)for(var r=0;r<i.length-1;r++)i[r][t]!==void 0&&i[r+1][t]!==void 0&&i[r][t]!==i[r+1][t]&&e.push("unEqual");return e.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return wo(t).reduce((function(e,i){return e+i.getBBox().height}),0)}},{key:"getElMarkers",value:function(t){return typeof t=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");i=wo(i),e&&(i=i.filter((function(a){var s=Number(a.getAttribute("data:realIndex"));return t.w.globals.collapsedSeriesIndices.indexOf(s)===-1}))),i.sort((function(a,s){var o=Number(a.getAttribute("data:realIndex")),l=Number(s.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0}));var r=[];return i.forEach((function(a){r.push(a.querySelector(".apexcharts-marker"))})),r}},{key:"hasMarkers",value:function(t){return this.getElMarkers(t).length>0}},{key:"getPathFromPoint",value:function(t,e){var i=Number(t.getAttribute("cx")),r=Number(t.getAttribute("cy")),a=t.getAttribute("shape");return new Me(this.ctx).getMarkerPath(i,r,a,e)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return i===void 0&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;i.allTooltipSeriesGroups.length===0&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=i.allTooltipSeriesGroups,a=0;a<r.length;a++)t==="enable"?(r[a].classList.add("apexcharts-active"),r[a].style.display=e.config.tooltip.items.display):(r[a].classList.remove("apexcharts-active"),r[a].style.display="none")}}]),n})(),VAt=(function(){function n(t){$e(this,n),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new M7(t)}return Ve(n,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=e===void 0||e,r=t.ttItems,a=t.i,s=a===void 0?0:a,o=t.j,l=o===void 0?null:o,c=t.y1,h=t.y2,d=t.e,g=this.w;g.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:s,j:l,y1:c,y2:h,w:g}):this.toggleActiveInactiveSeries(i,s);var y=this.getValuesToPrint({i:s,j:l});this.printLabels({i:s,j:l,values:y,ttItems:r,shared:i,e:d});var x=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=x.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=x.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,r=t.i,a=t.j,s=t.values,o=t.ttItems,l=t.shared,c=t.e,h=this.w,d=[],g=function(z){return h.globals.seriesGoals[z]&&h.globals.seriesGoals[z][a]&&Array.isArray(h.globals.seriesGoals[z][a])},y=s.xVal,x=s.zVal,w=s.xAxisTTVal,k="",A=h.globals.colors[r];a!==null&&h.config.plotOptions.bar.distributed&&(A=h.globals.colors[a]);for(var T=function(z,F){var H=i.getFormatters(r);k=i.getSeriesName({fn:H.yLbTitleFormatter,index:r,seriesIndex:r,j:a}),h.config.chart.type==="treemap"&&(k=H.yLbTitleFormatter(String(h.config.series[r].data[a].x),{series:h.globals.series,seriesIndex:r,dataPointIndex:a,w:h}));var Y=h.config.tooltip.inverseOrder?F:z;if(h.globals.axisCharts){var J=function(Z){var rt,lt,mt,ct;return h.globals.isRangeData?H.yLbFormatter((rt=h.globals.seriesRangeStart)===null||rt===void 0||(lt=rt[Z])===null||lt===void 0?void 0:lt[a],{series:h.globals.seriesRangeStart,seriesIndex:Z,dataPointIndex:a,w:h})+" - "+H.yLbFormatter((mt=h.globals.seriesRangeEnd)===null||mt===void 0||(ct=mt[Z])===null||ct===void 0?void 0:ct[a],{series:h.globals.seriesRangeEnd,seriesIndex:Z,dataPointIndex:a,w:h}):H.yLbFormatter(h.globals.series[Z][a],{series:h.globals.series,seriesIndex:Z,dataPointIndex:a,w:h})};if(l)H=i.getFormatters(Y),k=i.getSeriesName({fn:H.yLbTitleFormatter,index:Y,seriesIndex:r,j:a}),A=h.globals.colors[Y],e=J(Y),g(Y)&&(d=h.globals.seriesGoals[Y][a].map((function(Z){return{attrs:Z,val:H.yLbFormatter(Z.value,{seriesIndex:Y,dataPointIndex:a,w:h})}})));else{var nt,V=c==null||(nt=c.target)===null||nt===void 0?void 0:nt.getAttribute("fill");V&&(V.indexOf("url")!==-1?V.indexOf("Pattern")!==-1&&(A=h.globals.dom.baseEl.querySelector(V.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):A=V),e=J(r),g(r)&&Array.isArray(h.globals.seriesGoals[r][a])&&(d=h.globals.seriesGoals[r][a].map((function(Z){return{attrs:Z,val:H.yLbFormatter(Z.value,{seriesIndex:r,dataPointIndex:a,w:h})}})))}}a===null&&(e=H.yLbFormatter(h.globals.series[r],Oe(Oe({},h),{},{seriesIndex:r,dataPointIndex:r}))),i.DOMHandling({i:r,t:Y,j:a,ttItems:o,values:{val:e,goalVals:d,xVal:y,xAxisTTVal:w,zVal:x},seriesName:k,shared:l,pColor:A})},R=0,G=h.globals.series.length-1;R<h.globals.series.length;R++,G--)T(R,G)}},{key:"getFormatters",value:function(t){var e,i=this.w,r=i.globals.yLabelFormatters[t];return i.globals.ttVal!==void 0?Array.isArray(i.globals.ttVal)?(r=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(r=i.globals.ttVal.formatter,typeof i.globals.ttVal.title.formatter=="function"&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,typeof r!="function"&&(r=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(a){return a}),typeof e!="function"&&(e=function(a){return a?a+": ":""}),{yLbFormatter:r,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,r=t.seriesIndex,a=t.j,s=this.w;return e(String(s.globals.seriesNames[i]),{series:s.globals.series,seriesIndex:r,dataPointIndex:a,w:s})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=t.j,r=t.ttItems,a=t.values,s=t.seriesName,o=t.shared,l=t.pColor,c=this.w,h=this.ttCtx,d=a.val,g=a.goalVals,y=a.xVal,x=a.xAxisTTVal,w=a.zVal,k=null;k=r[e].children,c.config.tooltip.fillSeriesColor&&(r[e].style.backgroundColor=l,k[0].style.display="none"),h.showTooltipTitle&&(h.tooltipTitle===null&&(h.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),h.tooltipTitle.innerHTML=y),h.isXAxisTooltipEnabled&&(h.xaxisTooltipText.innerHTML=x!==""?x:y);var A=r[e].querySelector(".apexcharts-tooltip-text-y-label");A&&(A.innerHTML=s||"");var T=r[e].querySelector(".apexcharts-tooltip-text-y-value");T&&(T.innerHTML=d!==void 0?d:""),k[0]&&k[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[e]),c.config.tooltip.fillSeriesColor?k[0].style.backgroundColor=l:k[0].style.color=l),c.config.tooltip.marker.show||(k[0].style.display="none");var R=r[e].querySelector(".apexcharts-tooltip-text-goals-label"),G=r[e].querySelector(".apexcharts-tooltip-text-goals-value");if(g.length&&c.globals.seriesGoals[e]){var z=function(){var Y="<div>",J="<div>";g.forEach((function(nt,V){Y+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(nt.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(nt.attrs.name,"</div>"),J+="<div>".concat(nt.val,"</div>")})),R.innerHTML=Y+"</div>",G.innerHTML=J+"</div>"};o?c.globals.seriesGoals[e][i]&&Array.isArray(c.globals.seriesGoals[e][i])?z():(R.innerHTML="",G.innerHTML=""):z()}else R.innerHTML="",G.innerHTML="";if(w!==null&&(r[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,r[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=w!==void 0?w:""),o&&k[0]){if(c.config.tooltip.hideEmptySeries){var F=r[e].querySelector(".apexcharts-tooltip-marker"),H=r[e].querySelector(".apexcharts-tooltip-text");parseFloat(d)==0?(F.style.display="none",H.style.display="none"):(F.style.display="block",H.style.display="block")}d==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||c.globals.collapsedSeriesIndices.indexOf(e)>-1||Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(e)===-1?k[0].parentNode.style.display="none":k[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(e)===-1&&(k[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(t,e){var i=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var r=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(e));r&&(r.classList.add("apexcharts-active"),r.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,r=this.w,a=this.ctx.series.filteredSeriesX(),s="",o="",l=null,c=null,h={series:r.globals.series,seriesIndex:e,dataPointIndex:i,w:r},d=r.globals.ttZFormatter;i===null?c=r.globals.series[e]:r.globals.isXNumeric&&r.config.chart.type!=="treemap"?(s=a[e][i],a[e].length===0&&(s=a[this.tooltipUtil.getFirstActiveXArray(a)][i])):s=new gR(this.ctx).isFormatXY()?r.config.series[e].data[i]!==void 0?r.config.series[e].data[i].x:"":r.globals.labels[i]!==void 0?r.globals.labels[i]:"";var g=s;return r.globals.isXNumeric&&r.config.xaxis.type==="datetime"?s=new _S(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,g,g,{i:void 0,dateFormatter:new wl(this.ctx).formatDate,w:this.w}):s=r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](g,h):r.globals.xLabelFormatter(g,h),r.config.tooltip.x.formatter!==void 0&&(s=r.globals.ttKeyFormatter(g,h)),r.globals.seriesZ.length>0&&r.globals.seriesZ[e].length>0&&(l=d(r.globals.seriesZ[e][i],r)),o=typeof r.config.xaxis.tooltip.formatter=="function"?r.globals.xaxisTooltipFormatter(g,h):s,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(s)?s.join(" "):s,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,r=t.y1,a=t.y2,s=t.w,o=this.ttCtx.getElTooltip(),l=s.config.tooltip.custom;Array.isArray(l)&&l[e]&&(l=l[e]);var c=l({ctx:this.ctx,series:s.globals.series,seriesIndex:e,dataPointIndex:i,y1:r,y2:a,w:s});typeof c=="string"||typeof c=="number"?o.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(o.innerHTML="",o.appendChild(c.cloneNode(!0)))}}]),n})(),N7=(function(){function n(t){$e(this,n),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return Ve(n,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.ttCtx,r=this.w,a=i.getElXCrosshairs(),s=t-i.xcrosshairsWidth/2,o=r.globals.labels.slice().length;if(e!==null&&(s=r.globals.gridWidth/o*e),a===null||r.globals.isBarHorizontal||(a.setAttribute("x",s),a.setAttribute("x1",s),a.setAttribute("x2",s),a.setAttribute("y2",r.globals.gridHeight),a.classList.add("apexcharts-active")),s<0&&(s=0),s>r.globals.gridWidth&&(s=r.globals.gridWidth),i.isXAxisTooltipEnabled){var l=s;r.config.xaxis.crosshairs.width!=="tickWidth"&&r.config.xaxis.crosshairs.width!=="barWidth"||(l=s+i.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;e.ycrosshairs!==null&&Me.setAttrs(e.ycrosshairs,{y1:t,y2:t}),e.ycrosshairsHidden!==null&&Me.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(i.xaxisTooltip!==null&&i.xcrosshairsWidth!==0){i.xaxisTooltip.classList.add("apexcharts-active");var r=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t)){t+=e.globals.translateX;var a;a=new Me(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=a.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=r+"px"}}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;i.yaxisTTEls===null&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),a=e.globals.translateY+r,s=i.yaxisTTEls[t].getBoundingClientRect(),o=s.height,l=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(l-=s.width),a-=o/2,e.globals.ignoreYAxisIndexes.indexOf(t)===-1&&a>0&&a<e.globals.gridHeight?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=a+"px",i.yaxisTTEls[t].style.left=l+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,a=this.ttCtx,s=a.getElTooltip(),o=a.tooltipRect,l=i!==null?parseFloat(i):1,c=parseFloat(t)+l+5,h=parseFloat(e)+l/2;if(c>r.globals.gridWidth/2&&(c=c-o.ttWidth-l-10),c>r.globals.gridWidth-o.ttWidth-10&&(c=r.globals.gridWidth-o.ttWidth),c<-20&&(c=-20),r.config.tooltip.followCursor){var d=a.getElGrid().getBoundingClientRect();(c=a.e.clientX-d.left)>r.globals.gridWidth/2&&(c-=a.tooltipRect.ttWidth),(h=a.e.clientY+r.globals.translateY-d.top)>r.globals.gridHeight/2&&(h-=a.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||o.ttHeight/2+h>r.globals.gridHeight&&(h=r.globals.gridHeight-o.ttHeight+r.globals.translateY);isNaN(c)||(c+=r.globals.translateX,s.style.left=c+"px",s.style.top=h+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,r=this.ttCtx;if(i.globals.markers.size[t]>0)for(var a=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),s=0;s<a.length;s++)parseInt(a[s].getAttribute("rel"),10)===e&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(e,a[s]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,r,a,s,o=this.w,l=this.ttCtx,c=new Me(this.ctx),h=o.globals.pointsArray,d=l.tooltipUtil.getHoverMarkerSize(e),g=o.config.series[e].type;if(!g||g!=="column"&&g!=="candlestick"&&g!=="boxPlot"){a=(i=h[e][t])===null||i===void 0?void 0:i[0],s=((r=h[e][t])===null||r===void 0?void 0:r[1])||0;var y=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers path"));if(y&&s<o.globals.gridHeight&&s>0){var x=y.getAttribute("shape"),w=c.getMarkerPath(a,s,x,1.5*d);y.setAttribute("d",w)}this.moveXCrosshairs(a),l.fixedTooltip||this.moveTooltip(a,s,d)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,r=i.w,a=0,s=0,o=r.globals.pointsArray,l=new hd(this.ctx),c=new Me(this.ctx);e=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var h=i.tooltipUtil.getHoverMarkerSize(e);if(o[e]&&(a=o[e][t][0],s=o[e][t][1]),!isNaN(a)){var d=i.tooltipUtil.getAllMarkers();if(d.length)for(var g=0;g<r.globals.series.length;g++){var y=o[g];if(r.globals.comboCharts&&y===void 0&&d.splice(g,0,null),y&&y.length){var x=o[g][t][1],w=void 0;d[g].setAttribute("cx",a);var k=d[g].getAttribute("shape");if(r.config.chart.type==="rangeArea"&&!r.globals.comboCharts){var A=t+r.globals.series[g].length;w=o[g][A][1],x-=Math.abs(x-w)/2}if(x!==null&&!isNaN(x)&&x<r.globals.gridHeight+h&&x+h>0){var T=c.getMarkerPath(a,x,k,h);d[g].setAttribute("d",T)}else d[g].setAttribute("d","")}}this.moveXCrosshairs(a),i.fixedTooltip||this.moveTooltip(a,s||r.globals.gridHeight,h)}}},{key:"moveStickyTooltipOverBars",value:function(t,e){var i=this.w,r=this.ttCtx,a=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length;i.config.chart.stacked&&(a=i.globals.barGroups.length);var s=a>=2&&a%2==0?Math.floor(a/2):Math.floor(a/2)+1;i.globals.isBarHorizontal&&(s=new hd(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(s,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(s,"'] path[j='").concat(t,"']"));o||typeof e!="number"||(o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(e,"'] path[j='").concat(t,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(e,"'] path[j='").concat(t,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(e,"'] path[j='").concat(t,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(e,"'] path[j='").concat(t,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,c=o?parseFloat(o.getAttribute("cy")):0,h=o?parseFloat(o.getAttribute("barWidth")):0,d=r.getElGrid().getBoundingClientRect(),g=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(o&&!g&&(l-=a%2!=0?h/2:0),o&&g&&(l-=h/2)):i.globals.isBarHorizontal||(l=r.xAxisTicksPositions[t-1]+r.dataPointsDividedWidth/2,isNaN(l)&&(l=r.xAxisTicksPositions[t]-r.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?c-=r.tooltipRect.ttHeight:i.config.tooltip.followCursor?c=r.e.clientY-d.top-r.tooltipRect.ttHeight/2:c+r.tooltipRect.ttHeight+15>i.globals.gridHeight&&(c=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(l),r.fixedTooltip||this.moveTooltip(l,c||i.globals.gridHeight)}}]),n})(),XAt=(function(){function n(t){$e(this,n),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new N7(t)}return Ve(n,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new Me(this.ctx),i=new b1(this.ctx),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=wo(r),t.config.chart.stacked&&r.sort((function(d,g){return parseFloat(d.getAttribute("data:realIndex"))-parseFloat(g.getAttribute("data:realIndex"))}));for(var a=0;a<r.length;a++){var s=r[a].querySelector(".apexcharts-series-markers-wrap");if(s!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));t.config.chart.type!=="line"&&t.config.chart.type!=="area"||t.globals.comboCharts||t.config.tooltip.intersect||(l+=" no-pointer-events");var c=i.getMarkerConfig({cssClass:l,seriesIndex:Number(s.getAttribute("data:realIndex"))});(o=e.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var h=document.createElementNS(t.globals.SVGNS,"g");h.classList.add("apexcharts-series-markers"),h.appendChild(o.node),s.appendChild(h)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.w;a.config.chart.type!=="bubble"&&this.newPointSize(t,e);var s=e.getAttribute("cx"),o=e.getAttribute("cy");if(i!==null&&r!==null&&(s=i,o=r),this.tooltipPosition.moveXCrosshairs(s),!this.fixedTooltip){if(a.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();s=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(s,o,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,r=this.ttCtx,a=t,s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=e.config.markers.hover.size,l=0;l<s.length;l++){var c=s[l].getAttribute("rel"),h=s[l].getAttribute("index");if(o===void 0&&(o=e.globals.markers.size[h]+e.config.markers.hover.sizeOffset),a===parseInt(c,10)){i.newPointSize(a,s[l]);var d=s[l].getAttribute("cx"),g=s[l].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(d),r.fixedTooltip||i.tooltipPosition.moveTooltip(d,g,o)}else i.oldPointSize(s[l])}}},{key:"newPointSize",value:function(t,e){var i=this.w,r=i.config.markers.hover.size,a=t===0?e.parentNode.firstChild:e.parentNode.lastChild;if(a.getAttribute("default-marker-size")!=="0"){var s=parseInt(a.getAttribute("index"),10);r===void 0&&(r=i.globals.markers.size[s]+i.config.markers.hover.sizeOffset),r<0&&(r=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(e,r);e.setAttribute("d",o)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(t,e);t.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));if(qt.isNumber(i)&&i>0){var r=this.ttCtx.tooltipUtil.getPathFromPoint(t[e],i);t[e].setAttribute("d",r)}else t[e].setAttribute("d","M0,0")}}}]),n})(),qAt=(function(){function n(t){$e(this,n),this.w=t.w;var e=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!e.globals.isBarHorizontal&&e.config.chart.type==="rangeBar"&&e.config.plotOptions.bar.rangeBarGroupRows}return Ve(n,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,r=t.x,a=t.y,s=t.type,o=this.ttCtx,l=this.w;if(e.target.classList.contains("apexcharts-".concat(s,"-rect"))){var c=this.getAttr(e,"i"),h=this.getAttr(e,"j"),d=this.getAttr(e,"cx"),g=this.getAttr(e,"cy"),y=this.getAttr(e,"width"),x=this.getAttr(e,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:c,j:h,shared:!1,e}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=h,r=d+o.tooltipRect.ttWidth/2+y,a=g+o.tooltipRect.ttHeight/2-x/2,o.tooltipPosition.moveXCrosshairs(d+y/2),r>l.globals.gridWidth/2&&(r=d-o.tooltipRect.ttWidth/2+y),o.w.config.tooltip.followCursor){var w=l.globals.dom.elWrap.getBoundingClientRect();r=l.globals.clientX-w.left-(r>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),a=l.globals.clientY-w.top-(a>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:r,y:a}}},{key:"handleMarkerTooltip",value:function(t){var e,i,r=t.e,a=t.opt,s=t.x,o=t.y,l=this.w,c=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var h=parseInt(a.paths.getAttribute("cx"),10),d=parseInt(a.paths.getAttribute("cy"),10),g=parseFloat(a.paths.getAttribute("val"));if(i=parseInt(a.paths.getAttribute("rel"),10),e=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var y=qt.findAncestor(a.paths,"apexcharts-series");y&&(e=parseInt(y.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:e,j:i,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:r}),r.type==="mouseup"&&c.markerClick(r,e,i),l.globals.capturedSeriesIndex=e,l.globals.capturedDataPointIndex=i,s=h,o=d+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var x=c.getElGrid().getBoundingClientRect();o=c.e.clientY+l.globals.translateY-x.top}g<0&&(o=d),c.marker.enlargeCurrentPoint(i,a.paths,s,o)}return{x:s,y:o}}},{key:"handleBarTooltip",value:function(t){var e,i,r=t.e,a=t.opt,s=this.w,o=this.ttCtx,l=o.getElTooltip(),c=0,h=0,d=0,g=this.getBarTooltipXY({e:r,opt:a});if(g.j!==null||g.barHeight!==0||g.barWidth!==0){e=g.i;var y=g.j;if(s.globals.capturedSeriesIndex=e,s.globals.capturedDataPointIndex=y,s.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!s.config.tooltip.shared?(h=g.x,d=g.y,i=Array.isArray(s.config.stroke.width)?s.config.stroke.width[e]:s.config.stroke.width,c=h):s.globals.comboCharts||s.config.tooltip.shared||(c/=2),isNaN(d)&&(d=s.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),h+o.tooltipRect.ttWidth>s.globals.gridWidth?h-=o.tooltipRect.ttWidth:h<0&&(h=0),o.w.config.tooltip.followCursor){var x=o.getElGrid().getBoundingClientRect();d=o.e.clientY-x.top}o.tooltip===null&&(o.tooltip=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),s.config.tooltip.shared||(s.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(c+i/2):o.tooltipPosition.moveXCrosshairs(c)),!o.fixedTooltip&&(!s.config.tooltip.shared||s.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(d=d+s.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=h+s.globals.translateX+"px",l.style.top=d+"px")}}},{key:"getBarTooltipXY",value:function(t){var e=this,i=t.e,r=t.opt,a=this.w,s=null,o=this.ttCtx,l=0,c=0,h=0,d=0,g=0,y=i.target.classList;if(y.contains("apexcharts-bar-area")||y.contains("apexcharts-candlestick-area")||y.contains("apexcharts-boxPlot-area")||y.contains("apexcharts-rangebar-area")){var x=i.target,w=x.getBoundingClientRect(),k=r.elGrid.getBoundingClientRect(),A=w.height;g=w.height;var T=w.width,R=parseInt(x.getAttribute("cx"),10),G=parseInt(x.getAttribute("cy"),10);d=parseFloat(x.getAttribute("barWidth"));var z=i.type==="touchmove"?i.touches[0].clientX:i.clientX;s=parseInt(x.getAttribute("j"),10),l=parseInt(x.parentNode.getAttribute("rel"),10)-1;var F=x.getAttribute("data-range-y1"),H=x.getAttribute("data-range-y2");a.globals.comboCharts&&(l=parseInt(x.parentNode.getAttribute("data:realIndex"),10));var Y=function(nt){return a.globals.isXNumeric?R-T/2:e.isVerticalGroupedRangeBar?R+T/2:R-o.dataPointsDividedWidth+T/2},J=function(){return G-o.dataPointsDividedHeight+A/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:l,j:s,y1:F?parseInt(F,10):null,y2:H?parseInt(H,10):null,shared:!o.showOnIntersect&&a.config.tooltip.shared,e:i}),a.config.tooltip.followCursor?a.globals.isBarHorizontal?(c=z-k.left+15,h=J()):(c=Y(),h=i.clientY-k.top-o.tooltipRect.ttHeight/2-15):a.globals.isBarHorizontal?((c=R)<o.xyRatios.baseLineInvertedY&&(c=R-o.tooltipRect.ttWidth),h=J()):(c=Y(),h=G)}return{x:c,y:h,barHeight:g,barWidth:d,i:l,j:s}}}]),n})(),KAt=(function(){function n(t){$e(this,n),this.w=t.w,this.ttCtx=t}return Ve(n,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i=t.config.xaxis.position==="bottom";e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var r=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=0;i<t.config.yaxis.length;i++){var r=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=r?t.globals.gridWidth+1:1;var a="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),s=t.globals.dom.elWrap;t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))===null&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),s.appendChild(e.yaxisTooltip),i===0&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var r=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(r!==null&&t.config.xaxis.crosshairs.width==="barWidth"){var a=parseFloat(r.getAttribute("barWidth"));e.xcrosshairsWidth=a}else if(t.config.xaxis.crosshairs.width==="tickWidth"){var s=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/s}}else if(t.config.xaxis.crosshairs.width==="tickWidth"){var o=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/o}else if(t.config.xaxis.crosshairs.width==="barWidth"){var l=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));e.xcrosshairsWidth=c}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),i!==null&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var r=this.ttCtx,a=this.w,s=a.globals,o=s.seriesYAxisMap[t];if(r.yaxisTooltips[t]&&o.length>0){var l=s.yLabelFormatters[t],c=r.getElGrid().getBoundingClientRect(),h=o[0],d=0;i.yRatio.length>1&&(d=h);var g=(e-c.top)*i.yRatio[d],y=s.maxYArr[h]-s.minYArr[h],x=s.minYArr[h]+(y-g);a.config.yaxis[t].reversed&&(x=s.maxYArr[h]-(y-g)),r.tooltipPosition.moveYCrosshairs(e-c.top),r.yaxisTooltipText[t].innerHTML=l(x),r.tooltipPosition.moveYAxisTooltip(t)}}}]),n})(),i4=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w;var e=this.w;this.tConfig=e.config.tooltip,this.tooltipUtil=new M7(this),this.tooltipLabels=new VAt(this),this.tooltipPosition=new N7(this),this.marker=new XAt(this),this.intersect=new qAt(this),this.axesTooltip=new KAt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!e.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Ve(n,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map((function(s,o){return!!(s.show&&s.tooltip.enabled&&e.globals.axisCharts)})),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),e.config.tooltip.cssClass&&i.classList.add(e.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new T_(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&e.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),e.config.markers.size!==0&&e.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var a=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,r=[],a=this.getElTooltip(),s=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=i.config.tooltip.inverseOrder?t-l:l+1;var h=document.createElement("span");h.classList.add("apexcharts-tooltip-marker"),i.config.tooltip.fillSeriesColor?h.style.backgroundColor=i.globals.colors[l]:h.style.color=i.globals.colors[l];var d=i.config.markers.shape,g=d;Array.isArray(d)&&(g=d[l]),h.setAttribute("shape",g),c.appendChild(h);var y=document.createElement("div");y.classList.add("apexcharts-tooltip-text"),y.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,y.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach((function(x){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-".concat(x,"-group"));var k=document.createElement("span");k.classList.add("apexcharts-tooltip-text-".concat(x,"-label")),w.appendChild(k);var A=document.createElement("span");A.classList.add("apexcharts-tooltip-text-".concat(x,"-value")),w.appendChild(A),y.appendChild(w)})),c.appendChild(y),a.appendChild(c),r.push(c)},o=0;o<t;o++)s(o);return r}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),r=!(e!=="bar"&&e!=="candlestick"&&e!=="boxPlot"&&e!=="rangeBar"),a=e==="area"||e==="line"||e==="scatter"||e==="bubble"||e==="radar",s=t.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,c=[],h=[],d={hoverArea:s,elGrid:o,tooltipEl:i,tooltipY:c,tooltipX:h,ttItems:this.ttItems};if(t.globals.axisCharts&&(a?l=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?l=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):e!=="heatmap"&&e!=="treemap"||(l=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var g=0;g<l.length;g++)c.push(l[g].getAttribute("cy")),h.push(l[g].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([s],d);else if(r&&!t.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!t.globals.axisCharts||e==="heatmap"||e==="treemap"){var y=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(y,d)}if(this.showOnIntersect){var x=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");x.length>0&&this.addPathsEventListeners(x,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),r=i.width+10,a=i.height+10,s=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(s=s+t.globals.svgWidth-r+10),l.indexOf("bottom")>-1&&(o=o+t.globals.svgHeight-a-10),e.style.left=s+"px",e.style.top=o+"px",{x:s,y:o,ttWidth:r,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,r=function(s){var o={paths:t[s],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(l){return t[s].addEventListener(l,i.onSeriesHover.bind(i,o),{capture:!1,passive:!0})}))},a=0;a<t.length;a++)r(a)}},{key:"onSeriesHover",value:function(t,e){var i=this,r=Date.now()-this.lastHoverTime;r>=20?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){i.seriesHover(t,e)}),20-r))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var r=[],a=this.w;a.config.chart.group&&(r=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||a.globals.dataPoints===0)||(r.length?r.forEach((function(s){var o=i.getElTooltip(s),l={paths:t.paths,tooltipEl:o,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:s.w.globals.tooltip.ttItems};s.w.globals.minX===i.w.globals.minX&&s.w.globals.maxX===i.w.globals.maxX&&s.w.globals.tooltip.seriesHoverByContext({chartCtx:s,ttCtx:s.w.globals.tooltip,opt:l,e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,r=t.opt,a=t.e,s=e.w,o=this.getElTooltip(e);o&&(i.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},i.e=a,i.tooltipUtil.hasBars()&&!s.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new hd(e).toggleSeriesOnHover(a,a.target.parentNode),s.globals.axisCharts?i.axisChartsTooltips({e:a,opt:r,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:a,opt:r,tooltipRect:i.tooltipRect}),i.fixedTooltip&&i.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(t){var e,i,r=t.e,a=t.opt,s=this.w,o=a.elGrid.getBoundingClientRect(),l=r.type==="touchmove"?r.touches[0].clientX:r.clientX,c=r.type==="touchmove"?r.touches[0].clientY:r.clientY;if(this.clientY=c,this.clientX=l,s.globals.capturedSeriesIndex=-1,s.globals.capturedDataPointIndex=-1,c<o.top||c>o.top+o.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!s.config.tooltip.shared){var h=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(h)<0)return void this.handleMouseOut(a)}var d=this.getElTooltip(),g=this.getElXCrosshairs(),y=[];s.config.chart.group&&(y=this.ctx.getSyncedCharts());var x=s.globals.xyCharts||s.config.chart.type==="bar"&&!s.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||s.globals.comboCharts&&this.tooltipUtil.hasBars();if(r.type==="mousemove"||r.type==="touchmove"||r.type==="mouseup"){if(s.globals.collapsedSeries.length+s.globals.ancillaryCollapsedSeries.length===s.globals.series.length)return;g!==null&&g.classList.add("apexcharts-active");var w=this.yaxisTooltips.filter((function(T){return T===!0}));if(this.ycrosshairs!==null&&w.length&&this.ycrosshairs.classList.add("apexcharts-active"),x&&!this.showOnIntersect||y.length>1)this.handleStickyTooltip(r,l,c,a);else if(s.config.chart.type==="heatmap"||s.config.chart.type==="treemap"){var k=this.intersect.handleHeatTreeTooltip({e:r,opt:a,x:e,y:i,type:s.config.chart.type});e=k.x,i=k.y,d.style.left=e+"px",d.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:a,x:e,y:i});if(this.yaxisTooltips.length)for(var A=0;A<s.config.yaxis.length;A++)this.axesTooltip.drawYaxisTooltipText(A,c,this.xyRatios);s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),a.tooltipEl.classList.add("apexcharts-active")}else r.type!=="mouseout"&&r.type!=="touchend"||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,r=t.tooltipRect,a=this.w,s=i.paths.getAttribute("rel"),o=this.getElTooltip(),l=a.globals.dom.elWrap.getBoundingClientRect();if(e.type==="mousemove"||e.type==="touchmove"){a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(s,10)-1,shared:!1});var c=a.globals.clientX-l.left-r.ttWidth/2,h=a.globals.clientY-l.top-r.ttHeight-10;if(o.style.left=c+"px",o.style.top=h+"px",a.config.legend.tooltipHoverFormatter){var d=s-1,g=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:a});this.legendLabels[d].innerHTML=g}}else e.type!=="mouseout"&&e.type!=="touchend"||(o.classList.remove("apexcharts-active"),a.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(y){var x=y.getAttribute("data:default-text");y.innerHTML=decodeURIComponent(x)})))}},{key:"handleStickyTooltip",value:function(t,e,i,r){var a=this.w,s=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:e,clientY:i}),o=s.j,l=s.capturedSeries;a.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=r.elGrid.getBoundingClientRect();if(s.hoverX<0||s.hoverX>c.width)this.handleMouseOut(r);else if(l!==null)this.handleStickyCapturedSeries(t,l,r,o);else if(this.tooltipUtil.isXoverlap(o)||a.globals.isBarHorizontal){var h=a.globals.series.findIndex((function(d,g){return!a.globals.collapsedSeriesIndices.includes(g)}));this.create(t,this,h,o,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(t,e,i,r){var a=this.w;if(!this.tConfig.shared&&a.globals.series[e][r]===null)return void this.handleMouseOut(i);if(a.globals.series[e][r]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,r,i.ttItems):this.create(t,this,e,r,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var s=a.globals.series.findIndex((function(o,l){return!a.globals.collapsedSeriesIndices.includes(l)}));this.create(t,this,s,r,i.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new Me(this.ctx),i=t.globals.dom.Paper.find(".apexcharts-bar-area"),r=0;r<i.length;r++)e.pathMouseLeave(i[r])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(e.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),e.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),i!==null&&i.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(a){var s=a.getAttribute("data:default-text");a.innerHTML=decodeURIComponent(s)}))}},{key:"markerClick",value:function(t,e,i){var r=this.w;typeof r.config.chart.events.markerClick=="function"&&r.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:r}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:r}])}},{key:"create",value:function(t,e,i,r,a){var s,o,l,c,h,d,g,y,x,w,k,A,T,R,G,z,F=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,H=this.w,Y=e;t.type==="mouseup"&&this.markerClick(t,i,r),F===null&&(F=this.tConfig.shared);var J=this.tooltipUtil.hasMarkers(i),nt=this.tooltipUtil.getElBars(),V=function(){H.globals.markers.largestSize>0?Y.marker.enlargePoints(r):Y.tooltipPosition.moveDynamicPointsOnHover(r)};if(H.config.legend.tooltipHoverFormatter){var Z=H.config.legend.tooltipHoverFormatter,rt=Array.from(this.legendLabels);rt.forEach((function(St){var Pt=St.getAttribute("data:default-text");St.innerHTML=decodeURIComponent(Pt)}));for(var lt=0;lt<rt.length;lt++){var mt=rt[lt],ct=parseInt(mt.getAttribute("i"),10),st=decodeURIComponent(mt.getAttribute("data:default-text")),xt=Z(st,{seriesIndex:F?ct:i,dataPointIndex:r,w:H});if(F)mt.innerHTML=H.globals.collapsedSeriesIndices.indexOf(ct)<0?xt:st;else if(mt.innerHTML=ct===i?xt:st,i===ct)break}}var dt=Oe(Oe({ttItems:a,i,j:r},((s=H.globals.seriesRange)===null||s===void 0||(o=s[i])===null||o===void 0||(l=o[r])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(h=H.globals.seriesRange)===null||h===void 0||(d=h[i])===null||d===void 0||(g=d[r])===null||g===void 0||(y=g.y[0])===null||y===void 0?void 0:y.y1}),((x=H.globals.seriesRange)===null||x===void 0||(w=x[i])===null||w===void 0||(k=w[r])===null||k===void 0||(A=k.y[0])===null||A===void 0?void 0:A.y2)!==void 0&&{y2:(T=H.globals.seriesRange)===null||T===void 0||(R=T[i])===null||R===void 0||(G=R[r])===null||G===void 0||(z=G.y[0])===null||z===void 0?void 0:z.y2});if(F){if(Y.tooltipLabels.drawSeriesTexts(Oe(Oe({},dt),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),J)V();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(nt),this.barSeriesHeight>0)){var ht=new Me(this.ctx),ot=H.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),Y.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&V(),Y.tooltipPosition.moveStickyTooltipOverBars(r,i);for(var vt=0;vt<ot.length;vt++)ht.pathMouseEnter(ot[vt])}}else Y.tooltipLabels.drawSeriesTexts(Oe({shared:!1},dt)),this.tooltipUtil.hasBars()&&Y.tooltipPosition.moveStickyTooltipOverBars(r,i),J&&Y.tooltipPosition.moveMarkers(i,r)}}]),n})(),ZAt=(function(){function n(t){$e(this,n),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Ve(n,[{key:"handleBarDataLabels",value:function(t){var e,i,r=t.x,a=t.y,s=t.y1,o=t.y2,l=t.i,c=t.j,h=t.realIndex,d=t.columnGroupIndex,g=t.series,y=t.barHeight,x=t.barWidth,w=t.barXPosition,k=t.barYPosition,A=t.visibleSeries,T=this.w,R=new Me(this.barCtx.ctx),G=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[h]:this.barCtx.strokeWidth;T.globals.isXNumeric&&!T.globals.isBarHorizontal?(e=r+parseFloat(x*(A+1)),i=a+parseFloat(y*(A+1))-G):(e=r+parseFloat(x*A),i=a+parseFloat(y*A));var z,F=null,H=r,Y=a,J={},nt=T.config.dataLabels,V=this.barCtx.barOptions.dataLabels,Z=this.barCtx.barOptions.dataLabels.total;k!==void 0&&this.barCtx.isRangeBar&&(i=k,Y=k),w!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(e=w,H=w);var rt=nt.offsetX,lt=nt.offsetY,mt={width:0,height:0};if(T.config.dataLabels.enabled){var ct=T.globals.series[l][c];mt=R.getTextRects(T.config.dataLabels.formatter?T.config.dataLabels.formatter(ct,Oe(Oe({},T),{},{seriesIndex:l,dataPointIndex:c,w:T})):T.globals.yLabelFormatters[0](ct),parseFloat(nt.style.fontSize))}var st={x:r,y:a,i:l,j:c,realIndex:h,columnGroupIndex:d,bcx:e,bcy:i,barHeight:y,barWidth:x,textRects:mt,strokeWidth:G,dataLabelsX:H,dataLabelsY:Y,dataLabelsConfig:nt,barDataLabelsConfig:V,barTotalDataLabelsConfig:Z,offX:rt,offY:lt};return J=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(st):this.calculateColumnsDataLabelsPosition(st),z=this.drawCalculatedDataLabels({x:J.dataLabelsX,y:J.dataLabelsY,val:this.barCtx.isRangeBar?[s,o]:T.config.chart.stackType==="100%"?g[h][c]:T.globals.series[h][c],i:h,j:c,barWidth:x,barHeight:y,textRects:mt,dataLabelsConfig:nt}),T.config.chart.stacked&&Z.enabled&&(F=this.drawTotalDataLabels({x:J.totalDataLabelsX,y:J.totalDataLabelsY,barWidth:x,barHeight:y,realIndex:h,textAnchor:J.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:h,j:c}),dataLabelsConfig:nt,barTotalDataLabelsConfig:Z})),{dataLabelsPos:J,dataLabels:z,totalDataLabels:F}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,i=t.j,r=this.w,a=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(a=this.totalFormatter(a,Oe(Oe({},r),{},{seriesIndex:e,dataPointIndex:i,w:r}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e=this,i=this.w,r=t.i,a=t.j,s=t.realIndex;t.columnGroupIndex;var o,l,c=t.y,h=t.bcx,d=t.barWidth,g=t.barHeight,y=t.textRects,x=t.dataLabelsX,w=t.dataLabelsY,k=t.dataLabelsConfig,A=t.barDataLabelsConfig,T=t.barTotalDataLabelsConfig,R=t.strokeWidth,G=t.offX,z=t.offY,F=h;g=Math.abs(g);var H=i.config.plotOptions.bar.dataLabels.orientation==="vertical",Y=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:a}).zeroEncounters;h-=R/2;var J=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?x+=d/2:(x=i.globals.isXNumeric?h-d/2+G:h-J+d/2+G,!i.config.chart.stacked&&Y>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(x-=d*Y)),H&&(x=x+y.height/2-R/2-2);var nt=i.globals.series[r][a]<0,V=c;switch(this.barCtx.isReversed&&(V=c+(nt?g:-g)),A.position){case"center":w=H?nt?V-g/2+z:V+g/2-z:nt?V-g/2+y.height/2+z:V+g/2+y.height/2-z;break;case"bottom":w=H?nt?V-g+z:V+g-z:nt?V-g+y.height+R+z:V+g-y.height/2+R-z;break;case"top":w=H?nt?V+z:V-z:nt?V-y.height/2-z:V+y.height+z}var Z=V;if(i.globals.seriesGroups.forEach((function(mt){var ct;(ct=e.barCtx[mt.join(",")])===null||ct===void 0||ct.prevY.forEach((function(st){Z=nt?Math.max(st[a],Z):Math.min(st[a],Z)}))})),this.barCtx.lastActiveBarSerieIndex===s&&T.enabled){var rt=new Me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:s,j:a}),k.fontSize);o=nt?Z-rt.height/2-z-T.offsetY+18:Z+rt.height+z+T.offsetY-18;var lt=J;l=F+(i.globals.isXNumeric?-d*i.globals.barGroups.length/2:i.globals.barGroups.length*d/2-(i.globals.barGroups.length-1)*d-lt)+T.offsetX}return i.config.chart.stacked||(w<0?w=0+R:w+y.height/3>i.globals.gridHeight&&(w=i.globals.gridHeight-R)),{bcx:h,bcy:c,dataLabelsX:x,dataLabelsY:w,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this,i=this.w,r=t.x,a=t.i,s=t.j,o=t.realIndex,l=t.bcy,c=t.barHeight,h=t.barWidth,d=t.textRects,g=t.dataLabelsX,y=t.strokeWidth,x=t.dataLabelsConfig,w=t.barDataLabelsConfig,k=t.barTotalDataLabelsConfig,A=t.offX,T=t.offY,R=i.globals.gridHeight/i.globals.dataPoints,G=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:s}).zeroEncounters;h=Math.abs(h);var z,F,H=l-(this.barCtx.isRangeBar?0:R)+c/2+d.height/2+T-3;!i.config.chart.stacked&&G>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(H-=c*G);var Y="start",J=i.globals.series[a][s]<0,nt=r;switch(this.barCtx.isReversed&&(nt=r+(J?-h:h),Y=J?"start":"end"),w.position){case"center":g=J?nt+h/2-A:Math.max(d.width/2,nt-h/2)+A;break;case"bottom":g=J?nt+h-y-A:nt-h+y+A;break;case"top":g=J?nt-y-A:nt-y+A}var V=nt;if(i.globals.seriesGroups.forEach((function(rt){var lt;(lt=e.barCtx[rt.join(",")])===null||lt===void 0||lt.prevX.forEach((function(mt){V=J?Math.min(mt[s],V):Math.max(mt[s],V)}))})),this.barCtx.lastActiveBarSerieIndex===o&&k.enabled){var Z=new Me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:s}),x.fontSize);J?(z=V-y-A-k.offsetX,Y="end"):z=V+A+k.offsetX+(this.barCtx.isReversed?-(h+y):y),F=H-d.height/2+Z.height/2+k.offsetY+y,i.globals.barGroups.length>1&&(F-=i.globals.barGroups.length/2*(c/2))}return i.config.chart.stacked||(x.textAnchor==="start"?g-d.width<0?g=J?d.width+y:y:g+d.width>i.globals.gridWidth&&(g=J?i.globals.gridWidth-y:i.globals.gridWidth-d.width-y):x.textAnchor==="middle"?g-d.width/2<0?g=d.width/2+y:g+d.width/2>i.globals.gridWidth&&(g=i.globals.gridWidth-d.width/2-y):x.textAnchor==="end"&&(g<1?g=d.width+y:g+1>i.globals.gridWidth&&(g=i.globals.gridWidth-d.width-y))),{bcx:r,bcy:l,dataLabelsX:g,dataLabelsY:H,totalDataLabelsX:z,totalDataLabelsY:F,totalDataLabelsAnchor:Y}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,r=t.val,a=t.i,s=t.j,o=t.textRects,l=t.barHeight,c=t.barWidth,h=t.dataLabelsConfig,d=this.w,g="rotate(0)";d.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(g="rotate(-90, ".concat(e,", ").concat(i,")"));var y=new Yb(this.barCtx.ctx),x=new Me(this.barCtx.ctx),w=h.formatter,k=null,A=d.globals.collapsedSeriesIndices.indexOf(a)>-1;if(h.enabled&&!A){k=x.group({class:"apexcharts-data-labels",transform:g});var T="";r!==void 0&&(T=w(r,Oe(Oe({},d),{},{seriesIndex:a,dataPointIndex:s,w:d}))),!r&&d.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(T="");var R=d.globals.series[a][s]<0,G=d.config.plotOptions.bar.dataLabels.position;d.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(G==="top"&&(h.textAnchor=R?"end":"start"),G==="center"&&(h.textAnchor="middle"),G==="bottom"&&(h.textAnchor=R?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<x.getTextRects(T,parseFloat(h.style.fontSize)).width&&(T=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(T=""):o.height/1.6>Math.abs(l)&&(T=""));var z=Oe({},h);this.barCtx.isHorizontal&&r<0&&(h.textAnchor==="start"?z.textAnchor="end":h.textAnchor==="end"&&(z.textAnchor="start")),y.plotDataLabelsText({x:e,y:i,text:T,i:a,j:s,parent:k,dataLabelsConfig:z,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return k}},{key:"drawTotalDataLabels",value:function(t){var e=t.x,i=t.y,r=t.val,a=t.realIndex,s=t.textAnchor,o=t.barTotalDataLabelsConfig;this.w;var l,c=new Me(this.barCtx.ctx);return o.enabled&&e!==void 0&&i!==void 0&&this.barCtx.lastActiveBarSerieIndex===a&&(l=c.drawText({x:e,y:i,foreColor:o.style.color,text:r,textAnchor:s,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),n})(),QAt=(function(){function n(t){$e(this,n),this.w=t.w,this.barCtx=t}return Ve(n,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var r=0;r<t[i].length;r++)e.globals.seriesX[i][r]>e.globals.minX&&e.globals.seriesX[i][r]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(e.globals.series),qt.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(a){return a.map((function(s){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(t){var e,i,r,a,s,o,l,c,h=this.w,d=h.globals.dataPoints;this.barCtx.isRangeBar&&(d=h.globals.labels.length);var g=this.barCtx.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(g=1),this.barCtx.isHorizontal)s=(r=h.globals.gridHeight/d)/g,h.globals.isXNumeric&&(s=(r=h.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),s=s*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(s=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+h.globals.padHorizontal+(this.barCtx.isReversed?h.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=h.globals.gridWidth/2),i=(r-s*this.barCtx.seriesLen)/2;else{if(a=h.globals.gridWidth/this.barCtx.visibleItems,h.config.xaxis.convertedCatToNumeric&&(a=h.globals.gridWidth/h.globals.dataPoints),o=a/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100,h.globals.isXNumeric){var y=this.barCtx.xRatio;h.globals.minXDiff&&h.globals.minXDiff!==.5&&h.globals.minXDiff/y>0&&(a=h.globals.minXDiff/y),(o=a/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=h.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?h.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),h.globals.isXNumeric?e=this.barCtx.getBarXForNumericXAxis({x:e,j:0,realIndex:t,barWidth:o}).x:e=h.globals.padHorizontal+qt.noExponents(a-o*this.barCtx.seriesLen)/2}return h.globals.barHeight=s,h.globals.barWidth=o,{x:e,y:i,yDivision:r,xDivision:a,barHeight:s,barWidth:o,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(t){t.w.globals.seriesGroups.forEach((function(e){t[e]||(t[e]={}),t[e].prevY=[],t[e].prevX=[],t[e].prevYF=[],t[e].prevXF=[],t[e].prevYVal=[],t[e].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(t){t.w.globals.seriesGroups.forEach((function(e){t[e]||(t[e]={}),t[e].xArrj=[],t[e].xArrjF=[],t[e].xArrjVal=[],t[e].yArrj=[],t[e].yArrjF=[],t[e].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(t,e,i,r){var a,s,o,l,c=this.w,h=this.barCtx.ctx.fill,d=null,g=this.barCtx.barOptions.distributed?i:e,y=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(x){t[e][i]>=x.from&&t[e][i]<=x.to&&(d=x.color,y=!0)})),{color:h.fillPath({seriesNumber:this.barCtx.barOptions.distributed?g:r,dataPointIndex:i,color:d,value:t[e][i],fillConfig:(a=c.config.series[e].data[i])===null||a===void 0?void 0:a.fill,fillType:(s=c.config.series[e].data[i])!==null&&s!==void 0&&(o=s.fill)!==null&&o!==void 0&&o.type?(l=c.config.series[e].data[i])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[r]:c.config.fill.type}),useRangeColor:y}}},{key:"getStrokeWidth",value:function(t,e,i){var r=0,a=this.w;return this.barCtx.series[t][e]===void 0||this.barCtx.series[t][e]===null||a.config.chart.type==="bar"&&!this.barCtx.series[t][e]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,a.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),r}},{key:"createBorderRadiusArr",value:function(t){var e,i=this.w,r=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadius<=0,a=t.length,s=0|((e=t[0])===null||e===void 0?void 0:e.length),o=Array.from({length:a},(function(){return Array(s).fill(r?"top":"none")}));if(r)return o;for(var l=0;l<s;l++){for(var c=[],h=[],d=0,g=0;g<a;g++){var y=t[g][l];y>0?(c.push(g),d++):y<0&&(h.push(g),d++)}if(c.length>0&&h.length===0)if(c.length===1)o[c[0]][l]="both";else{var x,w=c[0],k=c[c.length-1],A=Ow(c);try{for(A.s();!(x=A.n()).done;){var T=x.value;o[T][l]=T===w?"bottom":T===k?"top":"none"}}catch(ct){A.e(ct)}finally{A.f()}}else if(h.length>0&&c.length===0)if(h.length===1)o[h[0]][l]="both";else{var R,G=Math.max.apply(Math,h),z=Math.min.apply(Math,h),F=Ow(h);try{for(F.s();!(R=F.n()).done;){var H=R.value;o[H][l]=H===G?"bottom":H===z?"top":"none"}}catch(ct){F.e(ct)}finally{F.f()}}else if(c.length>0&&h.length>0){var Y,J=c[c.length-1],nt=Ow(c);try{for(nt.s();!(Y=nt.n()).done;){var V=Y.value;o[V][l]=V===J?"top":"none"}}catch(ct){nt.e(ct)}finally{nt.f()}var Z,rt=Math.max.apply(Math,h),lt=Ow(h);try{for(lt.s();!(Z=lt.n()).done;){var mt=Z.value;o[mt][l]=mt===rt?"bottom":"none"}}catch(ct){lt.e(ct)}finally{lt.f()}}else d===1&&(o[c[0]||h[0]][l]="both")}return o}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,r=t.x1,a=t.x2,s=t.y1,o=t.y2,l=t.elSeries,c=this.w,h=new Me(this.barCtx.ctx),d=new hd(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var g=this.barCtx.barOptions.colors.backgroundBarColors[e],y=h.drawRect(r!==void 0?r:0,s!==void 0?s:0,a!==void 0?a:c.globals.gridWidth,o!==void 0?o:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,g,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(y),y.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e,i=t.barWidth,r=t.barXPosition,a=t.y1,s=t.y2,o=t.strokeWidth,l=t.isReversed,c=t.series,h=t.seriesGroup,d=t.realIndex,g=t.i,y=t.j,x=t.w,w=new Me(this.barCtx.ctx);(o=Array.isArray(o)?o[d]:o)||(o=0);var k=i,A=r;(e=x.config.series[d].data[y])!==null&&e!==void 0&&e.columnWidthOffset&&(A=r-x.config.series[d].data[y].columnWidthOffset/2,k=i+x.config.series[d].data[y].columnWidthOffset);var T=o/2,R=A+T,G=A+k-T,z=(c[g][y]>=0?1:-1)*(l?-1:1);a+=.001-T*z,s+=.001+T*z;var F=w.move(R,a),H=w.move(R,a),Y=w.line(G,a);if(x.globals.previousPaths.length>0&&(H=this.barCtx.getPreviousPath(d,y,!1)),F=F+w.line(R,s)+w.line(G,s)+Y+(x.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][y]==="both"?" Z":" z"),H=H+w.line(R,a)+Y+Y+Y+Y+Y+w.line(R,a)+(x.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][y]==="both"?" Z":" z"),this.arrBorderRadius[d][y]!=="none"&&(F=w.roundPathCorners(F,x.config.plotOptions.bar.borderRadius)),x.config.chart.stacked){var J=this.barCtx;(J=this.barCtx[h]).yArrj.push(s-T*z),J.yArrjF.push(Math.abs(a-s+o*z)),J.yArrjVal.push(this.barCtx.series[g][y])}return{pathTo:F,pathFrom:H}}},{key:"getBarpaths",value:function(t){var e,i=t.barYPosition,r=t.barHeight,a=t.x1,s=t.x2,o=t.strokeWidth,l=t.isReversed,c=t.series,h=t.seriesGroup,d=t.realIndex,g=t.i,y=t.j,x=t.w,w=new Me(this.barCtx.ctx);(o=Array.isArray(o)?o[d]:o)||(o=0);var k=i,A=r;(e=x.config.series[d].data[y])!==null&&e!==void 0&&e.barHeightOffset&&(k=i-x.config.series[d].data[y].barHeightOffset/2,A=r+x.config.series[d].data[y].barHeightOffset);var T=o/2,R=k+T,G=k+A-T,z=(c[g][y]>=0?1:-1)*(l?-1:1);a+=.001+T*z,s+=.001-T*z;var F=w.move(a,R),H=w.move(a,R);x.globals.previousPaths.length>0&&(H=this.barCtx.getPreviousPath(d,y,!1));var Y=w.line(a,G);if(F=F+w.line(s,R)+w.line(s,G)+Y+(x.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][y]==="both"?" Z":" z"),H=H+w.line(a,R)+Y+Y+Y+Y+Y+w.line(a,R)+(x.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][y]==="both"?" Z":" z"),this.arrBorderRadius[d][y]!=="none"&&(F=w.roundPathCorners(F,x.config.plotOptions.bar.borderRadius)),x.config.chart.stacked){var J=this.barCtx;(J=this.barCtx[h]).xArrj.push(s+T*z),J.xArrjF.push(Math.abs(a-s-o*z)),J.xArrjVal.push(this.barCtx.series[g][y])}return{pathTo:F,pathFrom:H}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,r=0;r<e.length;r++){for(var a=0,s=0;s<e[i.globals.maxValsInArrayIndex].length;s++)a+=e[r][s];a===0&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(t,e){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?e:null;return t!=null&&(i=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(t,e,i){var r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?e:null;return t!=null&&(r=e-t/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[i]:0)),r}},{key:"getGoalValues",value:function(t,e,i,r,a,s){var o=this,l=this.w,c=[],h=function(y,x){var w;c.push((U2(w={},t,t==="x"?o.getXForValue(y,e,!1):o.getYForValue(y,i,s,!1)),U2(w,"attrs",x),w))};if(l.globals.seriesGoals[r]&&l.globals.seriesGoals[r][a]&&Array.isArray(l.globals.seriesGoals[r][a])&&l.globals.seriesGoals[r][a].forEach((function(y){h(y.value,y)})),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var d=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,g={strokeHeight:t==="x"?0:l.globals.markers.size[r],strokeWidth:t==="x"?l.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(d[r])?d[r][0]:d[r]};h(l.globals.seriesRangeStart[r][a],g),h(l.globals.seriesRangeEnd[r][a],Oe(Oe({},g),{},{strokeColor:Array.isArray(d[r])?d[r][1]:d[r]}))}return c}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,r=t.goalX,a=t.goalY,s=t.barWidth,o=t.barHeight,l=new Me(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var h=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach((function(d){if(d.x>=-1&&d.x<=l.w.globals.gridWidth+1){var g=d.attrs.strokeHeight!==void 0?d.attrs.strokeHeight:o/2,y=i+g+o/2;h=l.drawLine(d.x,y-2*g,d.x,y,d.attrs.strokeColor?d.attrs.strokeColor:void 0,d.attrs.strokeDashArray,d.attrs.strokeWidth?d.attrs.strokeWidth:2,d.attrs.strokeLineCap),c.add(h)}})):Array.isArray(a)&&a.forEach((function(d){if(d.y>=-1&&d.y<=l.w.globals.gridHeight+1){var g=d.attrs.strokeWidth!==void 0?d.attrs.strokeWidth:s/2,y=e+g+s/2;h=l.drawLine(y-2*g,d.y,y,d.y,d.attrs.strokeColor?d.attrs.strokeColor:void 0,d.attrs.strokeDashArray,d.attrs.strokeHeight?d.attrs.strokeHeight:2,d.attrs.strokeLineCap),c.add(h)}})),c}},{key:"drawBarShadow",value:function(t){var e=t.prevPaths,i=t.currPaths,r=t.color,a=this.w,s=e.x,o=e.x1,l=e.barYPosition,c=i.x,h=i.x1,d=i.barYPosition,g=l+i.barHeight,y=new Me(this.barCtx.ctx),x=new qt,w=y.move(o,g)+y.line(s,g)+y.line(c,d)+y.line(h,d)+y.line(o,g)+(a.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return y.drawPath({d:w,fill:x.shadeColor(.5,qt.rgb2hex(r)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(t){var e,i=t.i,r=t.j,a=this.w,s=0,o=0;return(a.config.plotOptions.bar.horizontal?a.globals.series.map((function(l,c){return c})):((e=a.globals.columnSeries)===null||e===void 0?void 0:e.i.map((function(l){return l})))||[]).forEach((function(l){var c=a.globals.seriesPercent[l][r];c&&s++,l<i&&c===0&&o++})),{nonZeroColumns:s,zeroEncounters:o}}},{key:"getGroupIndex",value:function(t){var e=this.w,i=e.globals.seriesGroups.findIndex((function(s){return s.indexOf(e.globals.seriesNames[t])>-1})),r=this.barCtx.columnGroupIndices,a=r.indexOf(i);return a<0&&(r.push(i),a=r.length-1),{groupIndex:i,columnGroupIndex:a}}}]),n})(),$b=(function(){function n(t,e){$e(this,n),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=e,this.xyRatios!==null&&(this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.invertedXRatio=e.invertedXRatio,this.invertedYRatio=e.invertedYRatio,this.baseLineY=e.baseLineY,this.baseLineInvertedY=e.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var r=new hd(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var a=r.getBarSeriesIndices(),s=new ps(this.ctx);this.stackedSeriesTotals=s.getStackedSeriesTotals(this.w.config.series.map((function(o,l){return a.indexOf(l)===-1?l:-1})).filter((function(o){return o!==-1}))),this.barHelpers=new QAt(this)}return Ve(n,[{key:"draw",value:function(t,e){var i=this.w,r=new Me(this.ctx),a=new ps(this.ctx,i);t=a.getLogSeries(t),this.series=t,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var s=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<t.length;o++,l++){var c,h,d,g,y=void 0,x=void 0,w=[],k=[],A=i.globals.comboCharts?e[o]:o,T=this.barHelpers.getGroupIndex(A).columnGroupIndex,R=r.group({class:"apexcharts-series",rel:o+1,seriesName:qt.escapeString(i.globals.seriesNames[A]),"data:realIndex":A});this.ctx.series.addCollapsedClassToSeries(R,A),t[o].length>0&&(this.visibleI=this.visibleI+1);var G=0,z=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[A],this.translationsIndex=A);var F=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var H=this.barHelpers.initialPositions(A);x=H.y,G=H.barHeight,h=H.yDivision,g=H.zeroW,y=H.x,z=H.barWidth,c=H.xDivision,d=H.zeroH,this.isHorizontal||k.push(y+z/2);var Y=r.group({class:"apexcharts-datalabels","data:realIndex":A});i.globals.delayedElements.push({el:Y.node}),Y.node.classList.add("apexcharts-element-hidden");var J=r.group({class:"apexcharts-bar-goals-markers"}),nt=r.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:nt.node}),nt.node.classList.add("apexcharts-element-hidden");for(var V=0;V<t[o].length;V++){var Z=this.barHelpers.getStrokeWidth(o,V,A),rt=null,lt={indexes:{i:o,j:V,realIndex:A,translationsIndex:F,bc:l},x:y,y:x,strokeWidth:Z,elSeries:R};this.isHorizontal?(rt=this.drawBarPaths(Oe(Oe({},lt),{},{barHeight:G,zeroW:g,yDivision:h})),z=this.series[o][V]/this.invertedYRatio):(rt=this.drawColumnPaths(Oe(Oe({},lt),{},{xDivision:c,barWidth:z,zeroH:d})),G=this.series[o][V]/this.yRatio[F]);var mt=this.barHelpers.getPathFillColor(t,o,V,A);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&V>0){var ct,st=this.barHelpers.drawBarShadow({color:typeof mt.color=="string"&&((ct=mt.color)===null||ct===void 0?void 0:ct.indexOf("url"))===-1?mt.color:qt.hexToRgba(i.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:rt});nt.add(st),i.config.chart.dropShadow.enabled&&new kl(this.ctx).dropShadow(st,i.config.chart.dropShadow,A)}this.pathArr.push(rt);var xt=this.barHelpers.drawGoalLine({barXPosition:rt.barXPosition,barYPosition:rt.barYPosition,goalX:rt.goalX,goalY:rt.goalY,barHeight:G,barWidth:z});xt&&J.add(xt),x=rt.y,y=rt.x,V>0&&k.push(y+z/2),w.push(x),this.renderSeries(Oe(Oe({realIndex:A,pathFill:mt.color},mt.useRangeColor?{lineFill:mt.color}:{}),{},{j:V,i:o,columnGroupIndex:T,pathFrom:rt.pathFrom,pathTo:rt.pathTo,strokeWidth:Z,elSeries:R,x:y,y:x,series:t,barHeight:Math.abs(rt.barHeight?rt.barHeight:G),barWidth:Math.abs(rt.barWidth?rt.barWidth:z),elDataLabelsWrap:Y,elGoalsMarkers:J,elBarShadows:nt,visibleSeries:this.visibleI,type:"bar"}))}i.globals.seriesXvalues[A]=k,i.globals.seriesYvalues[A]=w,s.add(R)}return s}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,r=t.lineFill,a=t.j,s=t.i,o=t.columnGroupIndex,l=t.pathFrom,c=t.pathTo,h=t.strokeWidth,d=t.elSeries,g=t.x,y=t.y,x=t.y1,w=t.y2,k=t.series,A=t.barHeight,T=t.barWidth,R=t.barXPosition,G=t.barYPosition,z=t.elDataLabelsWrap,F=t.elGoalsMarkers,H=t.elBarShadows,Y=t.visibleSeries,J=t.type,nt=t.classes,V=this.w,Z=new Me(this.ctx),rt=!1;if(!r){var lt=typeof V.globals.stroke.colors[e]=="function"?(function(dt){var ht,ot=V.config.stroke.colors;return Array.isArray(ot)&&ot.length>0&&((ht=ot[dt])||(ht=""),typeof ht=="function")?ht({value:V.globals.series[dt][a],dataPointIndex:a,w:V}):ht})(e):V.globals.stroke.colors[e];r=this.barOptions.distributed?V.globals.stroke.colors[a]:lt}var mt=new ZAt(this).handleBarDataLabels({x:g,y,y1:x,y2:w,i:s,j:a,series:k,realIndex:e,columnGroupIndex:o,barHeight:A,barWidth:T,barXPosition:R,barYPosition:G,visibleSeries:Y});V.globals.isBarHorizontal||(mt.dataLabelsPos.dataLabelsX+Math.max(T,V.globals.barPadForNumericAxis)<0||mt.dataLabelsPos.dataLabelsX-Math.max(T,V.globals.barPadForNumericAxis)>V.globals.gridWidth)&&(rt=!0),V.config.series[s].data[a]&&V.config.series[s].data[a].strokeColor&&(r=V.config.series[s].data[a].strokeColor),this.isNullValue&&(i="none");var ct=a/V.config.chart.animations.animateGradually.delay*(V.config.chart.animations.speed/V.globals.dataPoints)/2.4;if(!rt){var st=Z.renderPaths({i:s,j:a,realIndex:e,pathFrom:l,pathTo:c,stroke:r,strokeWidth:h,strokeLineCap:V.config.stroke.lineCap,fill:i,animationDelay:ct,initialSpeed:V.config.chart.animations.speed,dataChangeSpeed:V.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(J,"-area ").concat(nt),chartType:J});st.attr("clip-path","url(#gridRectBarMask".concat(V.globals.cuid,")"));var xt=V.config.forecastDataPoints;xt.count>0&&a>=V.globals.dataPoints-xt.count&&(st.node.setAttribute("stroke-dasharray",xt.dashArray),st.node.setAttribute("stroke-width",xt.strokeWidth),st.node.setAttribute("fill-opacity",xt.fillOpacity)),x!==void 0&&w!==void 0&&(st.attr("data-range-y1",x),st.attr("data-range-y2",w)),new kl(this.ctx).setSelectionFilter(st,e,a),d.add(st),st.attr({cy:mt.dataLabelsPos.bcy,cx:mt.dataLabelsPos.bcx,j:a,val:V.globals.series[s][a],barHeight:A,barWidth:T}),mt.dataLabels!==null&&z.add(mt.dataLabels),mt.totalDataLabels&&z.add(mt.totalDataLabels),d.add(z),F&&d.add(F),H&&d.add(H)}return d}},{key:"drawBarPaths",value:function(t){var e,i=t.indexes,r=t.barHeight,a=t.strokeWidth,s=t.zeroW,o=t.x,l=t.y,c=t.yDivision,h=t.elSeries,d=this.w,g=i.i,y=i.j;if(d.globals.isXNumeric)e=(l=(d.globals.seriesX[g][y]-d.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var x=this.barHelpers.getZeroValueEncounters({i:g,j:y}),w=x.nonZeroColumns,k=x.zeroEncounters;w>0&&(r=this.seriesLen*r/w),e=l+r*this.visibleI,e-=r*k}else e=l+r*this.visibleI;this.isFunnel&&(s-=(this.barHelpers.getXForValue(this.series[g][y],s)-s)/2),o=this.barHelpers.getXForValue(this.series[g][y],s);var A=this.barHelpers.getBarpaths({barYPosition:e,barHeight:r,x1:s,x2:o,strokeWidth:a,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:g,j:y,w:d});return d.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:y,i:g,y1:e-r*this.visibleI,y2:r*this.seriesLen,elSeries:h}),{pathTo:A.pathTo,pathFrom:A.pathFrom,x1:s,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",s,null,g,y),barYPosition:e,barHeight:r}}},{key:"drawColumnPaths",value:function(t){var e,i=t.indexes,r=t.x,a=t.y,s=t.xDivision,o=t.barWidth,l=t.zeroH,c=t.strokeWidth,h=t.elSeries,d=this.w,g=i.realIndex,y=i.translationsIndex,x=i.i,w=i.j,k=i.bc;if(d.globals.isXNumeric){var A=this.getBarXForNumericXAxis({x:r,j:w,realIndex:g,barWidth:o});r=A.x,e=A.barXPosition}else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var T=this.barHelpers.getZeroValueEncounters({i:x,j:w}),R=T.nonZeroColumns,G=T.zeroEncounters;R>0&&(o=this.seriesLen*o/R),e=r+o*this.visibleI,e-=o*G}else e=r+o*this.visibleI;a=this.barHelpers.getYForValue(this.series[x][w],l,y);var z=this.barHelpers.getColumnPaths({barXPosition:e,barWidth:o,y1:l,y2:a,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:g,i:x,j:w,w:d});return d.globals.isXNumeric||(r+=s),this.barHelpers.barBackground({bc:k,j:w,i:x,x1:e-c/2-o*this.visibleI,x2:o*this.seriesLen+c/2,elSeries:h}),{pathTo:z.pathTo,pathFrom:z.pathFrom,x:r,y:a,goalY:this.barHelpers.getGoalValues("y",null,l,x,w,y),barXPosition:e,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(t){var e=t.x,i=t.barWidth,r=t.realIndex,a=t.j,s=this.w,o=r;return s.globals.seriesX[r].length||(o=s.globals.maxValsInArrayIndex),qt.isNumber(s.globals.seriesX[o][a])&&(e=(s.globals.seriesX[o][a]-s.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:e+i*this.visibleI,x:e}}},{key:"getPreviousPath",value:function(t,e){for(var i=this.w,r="M 0 0",a=0;a<i.globals.previousPaths.length;a++){var s=i.globals.previousPaths[a];s.paths&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(t,10)&&i.globals.previousPaths[a].paths[e]!==void 0&&(r=i.globals.previousPaths[a].paths[e].d)}return r}}]),n})(),r4=(function(n){vS(e,$b);var t=yS(e);function e(){return $e(this,e),t.apply(this,arguments)}return Ve(e,[{key:"draw",value:function(i,r){var a=this,s=this.w;this.graphics=new Me(this.ctx),this.bar=new $b(this.ctx,this.xyRatios);var o=new ps(this.ctx,s);i=o.getLogSeries(i),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),s.config.chart.stackType==="100%"&&(i=s.globals.comboCharts?r.map((function(x){return s.globals.seriesPercent[x]})):s.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,h=0,d=function(x,w){var k=void 0,A=void 0,T=void 0,R=void 0,G=s.globals.comboCharts?r[x]:x,z=a.barHelpers.getGroupIndex(G),F=z.groupIndex,H=z.columnGroupIndex;a.groupCtx=a[s.globals.seriesGroups[F]];var Y=[],J=[],nt=0;a.yRatio.length>1&&(a.yaxisIndex=s.globals.seriesYAxisReverseMap[G][0],nt=G),a.isReversed=s.config.yaxis[a.yaxisIndex]&&s.config.yaxis[a.yaxisIndex].reversed;var V=a.graphics.group({class:"apexcharts-series",seriesName:qt.escapeString(s.globals.seriesNames[G]),rel:x+1,"data:realIndex":G});a.ctx.series.addCollapsedClassToSeries(V,G);var Z=a.graphics.group({class:"apexcharts-datalabels","data:realIndex":G}),rt=a.graphics.group({class:"apexcharts-bar-goals-markers"}),lt=0,mt=0,ct=a.initialPositions(c,h,k,A,T,R,nt);h=ct.y,lt=ct.barHeight,A=ct.yDivision,R=ct.zeroW,c=ct.x,mt=ct.barWidth,k=ct.xDivision,T=ct.zeroH,s.globals.barHeight=lt,s.globals.barWidth=mt,a.barHelpers.initializeStackedXYVars(a),a.groupCtx.prevY.length===1&&a.groupCtx.prevY[0].every((function(It){return isNaN(It)}))&&(a.groupCtx.prevY[0]=a.groupCtx.prevY[0].map((function(){return T})),a.groupCtx.prevYF[0]=a.groupCtx.prevYF[0].map((function(){return 0})));for(var st=0;st<s.globals.dataPoints;st++){var xt=a.barHelpers.getStrokeWidth(x,st,G),dt={indexes:{i:x,j:st,realIndex:G,translationsIndex:nt,bc:w},strokeWidth:xt,x:c,y:h,elSeries:V,columnGroupIndex:H,seriesGroup:s.globals.seriesGroups[F]},ht=null;a.isHorizontal?(ht=a.drawStackedBarPaths(Oe(Oe({},dt),{},{zeroW:R,barHeight:lt,yDivision:A})),mt=a.series[x][st]/a.invertedYRatio):(ht=a.drawStackedColumnPaths(Oe(Oe({},dt),{},{xDivision:k,barWidth:mt,zeroH:T})),lt=a.series[x][st]/a.yRatio[nt]);var ot=a.barHelpers.drawGoalLine({barXPosition:ht.barXPosition,barYPosition:ht.barYPosition,goalX:ht.goalX,goalY:ht.goalY,barHeight:lt,barWidth:mt});ot&&rt.add(ot),h=ht.y,c=ht.x,Y.push(c),J.push(h);var vt=a.barHelpers.getPathFillColor(i,x,st,G),St="",Pt=s.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(a.barHelpers.arrBorderRadius[G][st]==="bottom"&&s.globals.series[G][st]>0||a.barHelpers.arrBorderRadius[G][st]==="top"&&s.globals.series[G][st]<0)&&(St=Pt),V=a.renderSeries(Oe(Oe({realIndex:G,pathFill:vt.color},vt.useRangeColor?{lineFill:vt.color}:{}),{},{j:st,i:x,columnGroupIndex:H,pathFrom:ht.pathFrom,pathTo:ht.pathTo,strokeWidth:xt,elSeries:V,x:c,y:h,series:i,barHeight:lt,barWidth:mt,elDataLabelsWrap:Z,elGoalsMarkers:rt,type:"bar",visibleSeries:H,classes:St}))}s.globals.seriesXvalues[G]=Y,s.globals.seriesYvalues[G]=J,a.groupCtx.prevY.push(a.groupCtx.yArrj),a.groupCtx.prevYF.push(a.groupCtx.yArrjF),a.groupCtx.prevYVal.push(a.groupCtx.yArrjVal),a.groupCtx.prevX.push(a.groupCtx.xArrj),a.groupCtx.prevXF.push(a.groupCtx.xArrjF),a.groupCtx.prevXVal.push(a.groupCtx.xArrjVal),l.add(V)},g=0,y=0;g<i.length;g++,y++)d(g,y);return l}},{key:"initialPositions",value:function(i,r,a,s,o,l,c){var h,d,g=this.w;if(this.isHorizontal){s=g.globals.gridHeight/g.globals.dataPoints;var y=g.config.plotOptions.bar.barHeight;h=String(y).indexOf("%")===-1?parseInt(y,10):s*parseInt(y,10)/100,l=g.globals.padHorizontal+(this.isReversed?g.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),r=(s-h)/2}else{d=a=g.globals.gridWidth/g.globals.dataPoints;var x=g.config.plotOptions.bar.columnWidth;g.globals.isXNumeric&&g.globals.dataPoints>1?d=(a=g.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(x).indexOf("%")===-1?d=parseInt(x,10):d*=parseInt(x,10)/100,o=this.isReversed?this.baseLineY[c]:g.globals.gridHeight-this.baseLineY[c],i=g.globals.padHorizontal+(a-d)/2}var w=g.globals.barGroups.length||1;return{x:i,y:r,yDivision:s,xDivision:a,barHeight:h/w,barWidth:d/w,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(i){for(var r,a=i.indexes,s=i.barHeight,o=i.strokeWidth,l=i.zeroW,c=i.x,h=i.y,d=i.columnGroupIndex,g=i.seriesGroup,y=i.yDivision,x=i.elSeries,w=this.w,k=h+d*s,A=a.i,T=a.j,R=a.realIndex,G=a.translationsIndex,z=0,F=0;F<this.groupCtx.prevXF.length;F++)z+=this.groupCtx.prevXF[F][T];var H=A;if(w.config.series[R].name&&(H=g.indexOf(w.config.series[R].name)),H>0){var Y=l;this.groupCtx.prevXVal[H-1][T]<0?Y=this.series[A][T]>=0?this.groupCtx.prevX[H-1][T]+z-2*(this.isReversed?z:0):this.groupCtx.prevX[H-1][T]:this.groupCtx.prevXVal[H-1][T]>=0&&(Y=this.series[A][T]>=0?this.groupCtx.prevX[H-1][T]:this.groupCtx.prevX[H-1][T]-z+2*(this.isReversed?z:0)),r=Y}else r=l;c=this.series[A][T]===null?r:r+this.series[A][T]/this.invertedYRatio-2*(this.isReversed?this.series[A][T]/this.invertedYRatio:0);var J=this.barHelpers.getBarpaths({barYPosition:k,barHeight:s,x1:r,x2:c,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:a.realIndex,seriesGroup:g,i:A,j:T,w});return this.barHelpers.barBackground({j:T,i:A,y1:k,y2:s,elSeries:x}),h+=y,{pathTo:J.pathTo,pathFrom:J.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,A,T,G),barXPosition:r,barYPosition:k,x:c,y:h}}},{key:"drawStackedColumnPaths",value:function(i){var r=i.indexes,a=i.x,s=i.y,o=i.xDivision,l=i.barWidth,c=i.zeroH,h=i.columnGroupIndex,d=i.seriesGroup,g=i.elSeries,y=this.w,x=r.i,w=r.j,k=r.bc,A=r.realIndex,T=r.translationsIndex;if(y.globals.isXNumeric){var R=y.globals.seriesX[A][w];R||(R=0),a=(R-y.globals.minX)/this.xRatio-l/2*y.globals.barGroups.length}for(var G,z=a+h*l,F=0,H=0;H<this.groupCtx.prevYF.length;H++)F+=isNaN(this.groupCtx.prevYF[H][w])?0:this.groupCtx.prevYF[H][w];var Y=x;if(d&&(Y=d.indexOf(y.globals.seriesNames[A])),Y>0&&!y.globals.isXNumeric||Y>0&&y.globals.isXNumeric&&y.globals.seriesX[A-1][w]===y.globals.seriesX[A][w]){var J,nt,V,Z=Math.min(this.yRatio.length+1,A+1);if(this.groupCtx.prevY[Y-1]!==void 0&&this.groupCtx.prevY[Y-1].length)for(var rt=1;rt<Z;rt++){var lt;if(!isNaN((lt=this.groupCtx.prevY[Y-rt])===null||lt===void 0?void 0:lt[w])){V=this.groupCtx.prevY[Y-rt][w];break}}for(var mt=1;mt<Z;mt++){var ct,st;if(((ct=this.groupCtx.prevYVal[Y-mt])===null||ct===void 0?void 0:ct[w])<0){nt=this.series[x][w]>=0?V-F+2*(this.isReversed?F:0):V;break}if(((st=this.groupCtx.prevYVal[Y-mt])===null||st===void 0?void 0:st[w])>=0){nt=this.series[x][w]>=0?V:V+F-2*(this.isReversed?F:0);break}}nt===void 0&&(nt=y.globals.gridHeight),G=(J=this.groupCtx.prevYF[0])!==null&&J!==void 0&&J.every((function(dt){return dt===0}))&&this.groupCtx.prevYF.slice(1,Y).every((function(dt){return dt.every((function(ht){return isNaN(ht)}))}))?c:nt}else G=c;s=this.series[x][w]?G-this.series[x][w]/this.yRatio[T]+2*(this.isReversed?this.series[x][w]/this.yRatio[T]:0):G;var xt=this.barHelpers.getColumnPaths({barXPosition:z,barWidth:l,y1:G,y2:s,yRatio:this.yRatio[T],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:d,realIndex:r.realIndex,i:x,j:w,w:y});return this.barHelpers.barBackground({bc:k,j:w,i:x,x1:z,x2:l,elSeries:g}),{pathTo:xt.pathTo,pathFrom:xt.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,x,w),barXPosition:z,x:y.globals.isXNumeric?a:a+o,y:s}}}]),e})(),yP=(function(n){vS(e,$b);var t=yS(e);function e(){return $e(this,e),t.apply(this,arguments)}return Ve(e,[{key:"draw",value:function(i,r,a){var s=this,o=this.w,l=new Me(this.ctx),c=o.globals.comboCharts?r:o.config.chart.type,h=new cf(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var d=new ps(this.ctx,o);i=d.getLogSeries(i),this.series=i,this.yRatio=d.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var g=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),y=function(w){s.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[w].type==="boxPlot";var k,A,T,R,G=void 0,z=void 0,F=[],H=[],Y=o.globals.comboCharts?a[w]:w,J=s.barHelpers.getGroupIndex(Y).columnGroupIndex,nt=l.group({class:"apexcharts-series",seriesName:qt.escapeString(o.globals.seriesNames[Y]),rel:w+1,"data:realIndex":Y});s.ctx.series.addCollapsedClassToSeries(nt,Y),i[w].length>0&&(s.visibleI=s.visibleI+1);var V,Z,rt=0;s.yRatio.length>1&&(s.yaxisIndex=o.globals.seriesYAxisReverseMap[Y][0],rt=Y);var lt=s.barHelpers.initialPositions(Y);z=lt.y,V=lt.barHeight,A=lt.yDivision,R=lt.zeroW,G=lt.x,Z=lt.barWidth,k=lt.xDivision,T=lt.zeroH,H.push(G+Z/2);for(var mt=l.group({class:"apexcharts-datalabels","data:realIndex":Y}),ct=l.group({class:"apexcharts-bar-goals-markers"}),st=function(dt){var ht=s.barHelpers.getStrokeWidth(w,dt,Y),ot=null,vt={indexes:{i:w,j:dt,realIndex:Y,translationsIndex:rt},x:G,y:z,strokeWidth:ht,elSeries:nt};ot=s.isHorizontal?s.drawHorizontalBoxPaths(Oe(Oe({},vt),{},{yDivision:A,barHeight:V,zeroW:R})):s.drawVerticalBoxPaths(Oe(Oe({},vt),{},{xDivision:k,barWidth:Z,zeroH:T})),z=ot.y,G=ot.x;var St=s.barHelpers.drawGoalLine({barXPosition:ot.barXPosition,barYPosition:ot.barYPosition,goalX:ot.goalX,goalY:ot.goalY,barHeight:V,barWidth:Z});St&&ct.add(St),dt>0&&H.push(G+Z/2),F.push(z),ot.pathTo.forEach((function(Pt,It){var Nt=!s.isBoxPlot&&s.candlestickOptions.wick.useFillColor?ot.color[It]:o.globals.stroke.colors[w],Et=h.fillPath({seriesNumber:Y,dataPointIndex:dt,color:ot.color[It],value:i[w][dt]});s.renderSeries({realIndex:Y,pathFill:Et,lineFill:Nt,j:dt,i:w,pathFrom:ot.pathFrom,pathTo:Pt,strokeWidth:ht,elSeries:nt,x:G,y:z,series:i,columnGroupIndex:J,barHeight:V,barWidth:Z,elDataLabelsWrap:mt,elGoalsMarkers:ct,visibleSeries:s.visibleI,type:o.config.chart.type})}))},xt=0;xt<o.globals.dataPoints;xt++)st(xt);o.globals.seriesXvalues[Y]=H,o.globals.seriesYvalues[Y]=F,g.add(nt)},x=0;x<i.length;x++)y(x);return g}},{key:"drawVerticalBoxPaths",value:function(i){var r=i.indexes,a=i.x;i.y;var s=i.xDivision,o=i.barWidth,l=i.zeroH,c=i.strokeWidth,h=this.w,d=new Me(this.ctx),g=r.i,y=r.j,x=h.config.plotOptions.candlestick.colors,w=this.boxOptions.colors,k=r.realIndex,A=function(xt){return Array.isArray(xt)?xt[k]:xt},T=A(x.upward),R=A(x.downward),G=this.yRatio[r.translationsIndex],z=this.getOHLCValue(k,y),F=l,H=l,Y=z.o<z.c?[T]:[R];this.isBoxPlot&&(Y=[A(w.lower),A(w.upper)]);var J=Math.min(z.o,z.c),nt=Math.max(z.o,z.c),V=z.m;h.globals.isXNumeric&&(a=(h.globals.seriesX[k][y]-h.globals.minX)/this.xRatio-o/2);var Z=a+o*this.visibleI;this.series[g][y]===void 0||this.series[g][y]===null?(J=l,nt=l):(J=l-J/G,nt=l-nt/G,F=l-z.h/G,H=l-z.l/G,V=l-z.m/G);var rt=d.move(Z,l),lt=d.move(Z+o/2,J);if(h.globals.previousPaths.length>0&&(lt=this.getPreviousPath(k,y,!0)),this.isOHLC){var mt=Z+o/2,ct=l-z.o/G,st=l-z.c/G;rt=[d.move(mt,F)+d.line(mt,H)+d.move(mt,ct)+d.line(Z,ct)+d.move(mt,st)+d.line(Z+o,st)]}else rt=this.isBoxPlot?[d.move(Z,J)+d.line(Z+o/2,J)+d.line(Z+o/2,F)+d.line(Z+o/4,F)+d.line(Z+o-o/4,F)+d.line(Z+o/2,F)+d.line(Z+o/2,J)+d.line(Z+o,J)+d.line(Z+o,V)+d.line(Z,V)+d.line(Z,J+c/2),d.move(Z,V)+d.line(Z+o,V)+d.line(Z+o,nt)+d.line(Z+o/2,nt)+d.line(Z+o/2,H)+d.line(Z+o-o/4,H)+d.line(Z+o/4,H)+d.line(Z+o/2,H)+d.line(Z+o/2,nt)+d.line(Z,nt)+d.line(Z,V)+"z"]:[d.move(Z,nt)+d.line(Z+o/2,nt)+d.line(Z+o/2,F)+d.line(Z+o/2,nt)+d.line(Z+o,nt)+d.line(Z+o,J)+d.line(Z+o/2,J)+d.line(Z+o/2,H)+d.line(Z+o/2,J)+d.line(Z,J)+d.line(Z,nt-c/2)];return lt+=d.move(Z,J),h.globals.isXNumeric||(a+=s),{pathTo:rt,pathFrom:lt,x:a,y:nt,goalY:this.barHelpers.getGoalValues("y",null,l,g,y,r.translationsIndex),barXPosition:Z,color:Y}}},{key:"drawHorizontalBoxPaths",value:function(i){var r=i.indexes;i.x;var a=i.y,s=i.yDivision,o=i.barHeight,l=i.zeroW,c=i.strokeWidth,h=this.w,d=new Me(this.ctx),g=r.i,y=r.j,x=this.boxOptions.colors.lower;this.isBoxPlot&&(x=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var w=this.invertedYRatio,k=r.realIndex,A=this.getOHLCValue(k,y),T=l,R=l,G=Math.min(A.o,A.c),z=Math.max(A.o,A.c),F=A.m;h.globals.isXNumeric&&(a=(h.globals.seriesX[k][y]-h.globals.minX)/this.invertedXRatio-o/2);var H=a+o*this.visibleI;this.series[g][y]===void 0||this.series[g][y]===null?(G=l,z=l):(G=l+G/w,z=l+z/w,T=l+A.h/w,R=l+A.l/w,F=l+A.m/w);var Y=d.move(l,H),J=d.move(G,H+o/2);return h.globals.previousPaths.length>0&&(J=this.getPreviousPath(k,y,!0)),Y=[d.move(G,H)+d.line(G,H+o/2)+d.line(T,H+o/2)+d.line(T,H+o/2-o/4)+d.line(T,H+o/2+o/4)+d.line(T,H+o/2)+d.line(G,H+o/2)+d.line(G,H+o)+d.line(F,H+o)+d.line(F,H)+d.line(G+c/2,H),d.move(F,H)+d.line(F,H+o)+d.line(z,H+o)+d.line(z,H+o/2)+d.line(R,H+o/2)+d.line(R,H+o-o/4)+d.line(R,H+o/4)+d.line(R,H+o/2)+d.line(z,H+o/2)+d.line(z,H)+d.line(F,H)+"z"],J+=d.move(G,H),h.globals.isXNumeric||(a+=s),{pathTo:Y,pathFrom:J,x:z,y:a,goalX:this.barHelpers.getGoalValues("x",l,null,g,y),barYPosition:H,color:x}}},{key:"getOHLCValue",value:function(i,r){var a=this.w,s=new ps(this.ctx,a),o=s.getLogValAtSeriesIndex(a.globals.seriesCandleH[i][r],i),l=s.getLogValAtSeriesIndex(a.globals.seriesCandleO[i][r],i),c=s.getLogValAtSeriesIndex(a.globals.seriesCandleM[i][r],i),h=s.getLogValAtSeriesIndex(a.globals.seriesCandleC[i][r],i),d=s.getLogValAtSeriesIndex(a.globals.seriesCandleL[i][r],i);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:c,l:this.isBoxPlot?h:d,c:this.isBoxPlot?d:h}}}]),e})(),P7=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(r,a){r.from<=0&&(e=!0)})),e}},{key:"getShadeColor",value:function(t,e,i,r){var a=this.w,s=1,o=a.config.plotOptions[t].shadeIntensity,l=this.determineColor(t,e,i);a.globals.hasNegs||r?s=a.config.plotOptions[t].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(s=1-l.percent/100,t==="treemap"&&(s=(1-l.percent/100)*(1.25*o)));var c=l.color,h=new qt;if(a.config.plotOptions[t].enableShades)if(this.w.config.theme.mode==="dark"){var d=h.shadeColor(-1*s,l.color);c=qt.hexToRgba(qt.isColorHex(d)?d:qt.rgb2hex(d),a.config.fill.opacity)}else{var g=h.shadeColor(s,l.color);c=qt.hexToRgba(qt.isColorHex(g)?g:qt.rgb2hex(g),a.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(t,e,i){var r=this.w,a=r.globals.series[e][i],s=r.config.plotOptions[t],o=s.colorScale.inverse?i:e;s.distributed&&r.config.chart.type==="treemap"&&(o=i);var l=r.globals.colors[o],c=null,h=Math.min.apply(Math,wo(r.globals.series[e])),d=Math.max.apply(Math,wo(r.globals.series[e]));s.distributed||t!=="heatmap"||(h=r.globals.minY,d=r.globals.maxY),s.colorScale.min!==void 0&&(h=s.colorScale.min<r.globals.minY?s.colorScale.min:r.globals.minY,d=s.colorScale.max>r.globals.maxY?s.colorScale.max:r.globals.maxY);var g=Math.abs(d)+Math.abs(h),y=100*a/(g===0?g-1e-6:g);return s.colorScale.ranges.length>0&&s.colorScale.ranges.map((function(x,w){if(a>=x.from&&a<=x.to){l=x.color,c=x.foreColor?x.foreColor:null,h=x.from,d=x.to;var k=Math.abs(d)+Math.abs(h);y=100*a/(k===0?k-1e-6:k)}})),{color:l,foreColor:c,percent:y}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,r=t.y,a=t.i,s=t.j,o=t.colorProps,l=t.fontSize,c=this.w.config.dataLabels,h=new Me(this.ctx),d=new Yb(this.ctx),g=null;if(c.enabled){g=h.group({class:"apexcharts-data-labels"});var y=c.offsetX,x=c.offsetY,w=i+y,k=r+parseFloat(c.style.fontSize)/3+x;d.plotDataLabelsText({x:w,y:k,text:e,i:a,j:s,color:o.foreColor,parent:g,fontSize:l,dataLabelsConfig:c})}return g}},{key:"addListeners",value:function(t){var e=new Me(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),n})(),JAt=(function(){function n(t,e){$e(this,n),this.ctx=t,this.w=t.w,this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new P7(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Ve(n,[{key:"draw",value:function(t){var e=this.w,i=new Me(this.ctx),r=i.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var a=e.globals.gridWidth/e.globals.dataPoints,s=e.globals.gridHeight/e.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=t.slice();e.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var h=l?0:c.length-1;l?h<c.length:h>=0;l?h++:h--){var d=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:qt.escapeString(e.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});if(this.ctx.series.addCollapsedClassToSeries(d,h),e.config.chart.dropShadow.enabled){var g=e.config.chart.dropShadow;new kl(this.ctx).dropShadow(d,g,h)}for(var y=0,x=e.config.plotOptions.heatmap.shadeIntensity,w=0,k=0;k<e.globals.dataPoints;k++)if(e.globals.seriesX.length&&!e.globals.allSeriesHasEqualX&&e.globals.minX+e.globals.minXDiff*k<e.globals.seriesX[h][w])y+=a;else{if(w>=c[h].length)break;var A=this.helpers.getShadeColor(e.config.chart.type,h,w,this.negRange),T=A.color,R=A.colorProps;e.config.fill.type==="image"&&(T=new cf(this.ctx).fillPath({seriesNumber:h,dataPointIndex:w,opacity:e.globals.hasNegs?R.percent<0?1-(1+R.percent/100):x+R.percent/100:R.percent/100,patternID:qt.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:a,height:e.config.fill.image.height?e.config.fill.image.height:s}));var G=this.rectRadius,z=i.drawRect(y,o,a,s,G);if(z.attr({cx:y,cy:o}),z.node.classList.add("apexcharts-heatmap-rect"),d.add(z),z.attr({fill:T,i:h,index:h,j:w,val:t[h][w],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?T:e.globals.stroke.colors[0],color:T}),this.helpers.addListeners(z),e.config.chart.animations.enabled&&!e.globals.dataChanged){var F=1;e.globals.resized||(F=e.config.chart.animations.speed),this.animateHeatMap(z,y,o,a,s,F)}if(e.globals.dataChanged){var H=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){H=this.dynamicAnim.speed;var Y=e.globals.previousPaths[h]&&e.globals.previousPaths[h][w]&&e.globals.previousPaths[h][w].color;Y||(Y="rgba(255, 255, 255, 0)"),this.animateHeatColor(z,qt.isColorHex(Y)?Y:qt.rgb2hex(Y),qt.isColorHex(T)?T:qt.rgb2hex(T),H)}}var J=(0,e.config.dataLabels.formatter)(e.globals.series[h][w],{value:e.globals.series[h][w],seriesIndex:h,dataPointIndex:w,w:e}),nt=this.helpers.calculateDataLabels({text:J,x:y+a/2,y:o+s/2,i:h,j:w,colorProps:R,series:c});nt!==null&&d.add(nt),y+=a,w++}o+=s,r.add(d)}var V=e.globals.yAxisScale[0].result.slice();return e.config.yaxis[0].reversed?V.unshift(""):V.push(""),e.globals.yAxisScale[0].result=V,r}},{key:"animateHeatMap",value:function(t,e,i,r,a,s){var o=new m1(this.ctx);o.animateRect(t,{x:e+r/2,y:i+a/2,width:0,height:0},{x:e,y:i,width:r,height:a},s,(function(){o.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,i,r){t.attr({fill:e}).animate(r).attr({fill:i})}}]),n})(),E7=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"drawYAxisTexts",value:function(t,e,i,r){var a=this.w,s=a.config.yaxis[0],o=a.globals.yLabelFormatters[0];return new Me(this.ctx).drawText({x:t+s.labels.offsetX,y:e+s.labels.offsetY,text:o(r,i),textAnchor:"middle",fontSize:s.labels.style.fontSize,fontFamily:s.labels.style.fontFamily,foreColor:Array.isArray(s.labels.style.colors)?s.labels.style.colors[i]:s.labels.style.colors})}}]),n})(),j7=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w;var e=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=e.globals.stroke.colors!==void 0?e.globals.stroke.colors:e.globals.colors,this.defaultSize=Math.min(e.globals.gridWidth,e.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=e.globals.gridWidth/2,e.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(e.config.plotOptions.pie.endAngle-e.config.plotOptions.pie.startAngle),this.initialAngle=e.config.plotOptions.pie.startAngle%this.fullAngle,e.globals.radialSize=this.defaultSize/2.05-e.config.stroke.width-(e.config.chart.sparkline.enabled?0:e.config.chart.dropShadow.blur),this.donutSize=e.globals.radialSize*parseInt(e.config.plotOptions.pie.donut.size,10)/100;var i=e.config.plotOptions.pie.customScale,r=e.globals.gridWidth/2,a=e.globals.gridHeight/2;this.translateX=r-r*i,this.translateY=a-a*i,this.dataLabelsGroup=new Me(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Ve(n,[{key:"draw",value:function(t){var e=this,i=this.w,r=new Me(this.ctx),a=r.group({class:"apexcharts-pie"});if(i.globals.noData)return a;for(var s=0,o=0;o<t.length;o++)s+=qt.negToZero(t[o]);var l=[],c=r.group();s===0&&(s=1e-5),t.forEach((function(R){e.maxY=Math.max(e.maxY,R)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),i.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(a);for(var h=0;h<t.length;h++){var d=this.fullAngle*qt.negToZero(t[h])/s;l.push(d),this.chartType==="polarArea"?(l[h]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[h]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var g,y=0,x=0;x<i.globals.previousPaths.length;x++)y+=qt.negToZero(i.globals.previousPaths[x]);for(var w=0;w<i.globals.previousPaths.length;w++)g=this.fullAngle*qt.negToZero(i.globals.previousPaths[w])/y,this.prevSectorAngleArr.push(g)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var k=r.drawCircle(this.donutSize);k.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),c.add(k)}var A=this.drawArcs(l,t);if(this.sliceLabels.forEach((function(R){A.add(R)})),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),c.add(A),a.add(c),this.donutDataLabels.show){var T=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});a.add(T)}return i.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(a),a}},{key:"drawArcs",value:function(t,e){var i=this.w,r=new kl(this.ctx),a=new Me(this.ctx),s=new cf(this.ctx),o=a.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,h=this.initialAngle,d=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var g=0;g<t.length;g++){var y=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:qt.escapeString(i.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});o.add(y),c=d,h=(l=h)+t[g],d=c+this.prevSectorAngleArr[g];var x=h<l?this.fullAngle+h-l:h-l,w=s.fillPath({seriesNumber:g,size:this.sliceSizes[g],value:e[g]}),k=this.getChangedPath(c,d),A=a.drawPath({d:k,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[g]:this.lineColorArr,strokeWidth:0,fill:w,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(g)});if(A.attr({index:0,j:g}),r.setSelectionFilter(A,0,g),i.config.chart.dropShadow.enabled){var T=i.config.chart.dropShadow;r.dropShadow(A,T,g)}this.addListeners(A,this.donutDataLabels),Me.setAttrs(A.node,{"data:angle":x,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":e[g]});var R={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?R=qt.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(l+x/2)%this.fullAngle):this.chartType==="donut"&&(R=qt.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(l+x/2)%this.fullAngle)),y.add(A);var G=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):((G=x/this.fullAngle*i.config.chart.animations.speed)===0&&(G=1),this.animDur=G+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(A,{size:this.sliceSizes[g],endAngle:h,startAngle:l,prevStartAngle:c,prevEndAngle:d,animateStartingPos:!0,i:g,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(A,{size:this.sliceSizes[g],endAngle:h,startAngle:l,i:g,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:G}),i.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&A.node.addEventListener("mouseup",this.pieClicked.bind(this,g)),i.globals.selectedDataPoints[0]!==void 0&&i.globals.selectedDataPoints[0].indexOf(g)>-1&&this.pieClicked(g),i.config.dataLabels.enabled){var z=R.x,F=R.y,H=100*x/this.fullAngle+"%";if(x!==0&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[g]){var Y=i.config.dataLabels.formatter;Y!==void 0&&(H=Y(i.globals.seriesPercent[g][0],{seriesIndex:g,w:i}));var J=i.globals.dataLabels.style.colors[g],nt=a.group({class:"apexcharts-datalabels"}),V=a.drawText({x:z,y:F,text:H,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:J});if(nt.add(V),i.config.dataLabels.dropShadow.enabled){var Z=i.config.dataLabels.dropShadow;r.dropShadow(V,Z)}V.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&i.globals.resized===!1&&(V.node.classList.add("apexcharts-pie-label-delay"),V.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(nt)}}}return o}},{key:"addListeners",value:function(t,e){var i=new Me(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,r=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,a=r,s=e.startAngle,o=e.startAngle;e.prevStartAngle!==void 0&&e.prevEndAngle!==void 0&&(s=e.prevEndAngle,a=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(r+o>this.fullAngle?e.endAngle=e.endAngle-(r+o):r+o<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(r+o)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(t,s,o,r,a,e)}},{key:"animateArc",value:function(t,e,i,r,a,s){var o,l=this,c=this.w,h=new m1(this.ctx),d=s.size;(isNaN(e)||isNaN(a))&&(e=i,a=r,s.dur=0);var g=r,y=i,x=e<i?this.fullAngle+e-i:e-i;c.globals.dataChanged&&s.shouldSetPrevPaths&&s.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:s.prevStartAngle,angle:s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle,size:d}),t.attr({d:o})),s.dur!==0?t.animate(s.dur,s.animBeginArr[s.i]).after((function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),s.i===c.config.series.length-1&&h.animationCompleted(t)})).during((function(w){g=x+(r-x)*w,s.animateStartingPos&&(g=a+(r-a)*w,y=e-a+(i-(e-a))*w),o=l.getPiePath({me:l,startAngle:y,angle:g,size:d}),t.node.setAttribute("data:pathOrig",o),t.attr({d:o})})):(o=l.getPiePath({me:l,startAngle:y,angle:r,size:d}),s.isTrack||(c.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",o),t.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,r=this,a=r.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),s=i.globals.dom.Paper.findOne(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(t));if(s.attr("data:pieClicked")!=="true"){var o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,(function(d){d.setAttribute("data:pieClicked","false");var g=d.getAttribute("data:pathOrig");g&&d.setAttribute("d",g)})),i.globals.capturedDataPointIndex=t,s.attr("data:pieClicked","true");var l=parseInt(s.attr("data:startAngle"),10),c=parseInt(s.attr("data:angle"),10);e=r.getPiePath({me:r,startAngle:l,angle:c,size:a}),c!==360&&s.plot(e)}else{s.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(s.node,this.donutDataLabels);var h=s.attr("data:pathOrig");s.attr({d:h})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e,i=t.me,r=t.startAngle,a=t.angle,s=t.size,o=new Me(this.ctx),l=r,c=Math.PI*(l-90)/180,h=a+r;Math.ceil(h)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(h=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(h)>this.fullAngle&&(h-=this.fullAngle);var d=Math.PI*(h-90)/180,g=i.centerX+s*Math.cos(c),y=i.centerY+s*Math.sin(c),x=i.centerX+s*Math.cos(d),w=i.centerY+s*Math.sin(d),k=qt.polarToCartesian(i.centerX,i.centerY,i.donutSize,h),A=qt.polarToCartesian(i.centerX,i.centerY,i.donutSize,l),T=a>180?1:0,R=["M",g,y,"A",s,s,0,T,1,x,w];return e=i.chartType==="donut"?[].concat(R,["L",k.x,k.y,"A",i.donutSize,i.donutSize,0,T,0,A.x,A.y,"L",g,y,"z"]).join(" "):i.chartType==="pie"||i.chartType==="polarArea"?[].concat(R,["L",i.centerX,i.centerY,"L",g,y]).join(" "):[].concat(R).join(" "),o.roundPathCorners(e,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new C7(this.ctx),r=new Me(this.ctx),a=new E7(this.ctx),s=r.group(),o=r.group(),l=i.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),h=l.result.length;this.maxY=l.niceMax;for(var d=e.globals.radialSize,g=d/(h-1),y=0;y<h-1;y++){var x=r.drawCircle(d);if(x.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var w=a.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,y,c[y]);o.add(w)}s.add(x),d-=g}this.drawSpokes(t),t.add(s),t.add(o)}},{key:"renderInnerDataLabels",value:function(t,e,i){var r=this.w,a=new Me(this.ctx),s=e.total.show;t.node.innerHTML="",t.node.style.opacity=i.opacity;var o,l,c=i.centerX,h=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;o=e.name.color===void 0?r.globals.colors[0]:e.name.color;var d=e.name.fontSize,g=e.name.fontFamily,y=e.name.fontWeight;l=e.value.color===void 0?r.config.chart.foreColor:e.value.color;var x=e.value.formatter,w="",k="";if(s?(o=e.total.color,d=e.total.fontSize,g=e.total.fontFamily,y=e.total.fontWeight,k=this.donutDataLabels.total.label?e.total.label:"",w=e.total.formatter(r)):r.globals.series.length===1&&(w=x(r.globals.series[0],r),k=r.globals.seriesNames[0]),k&&(k=e.name.formatter(k,e.total.show,r)),e.name.show){var A=a.drawText({x:c,y:h+parseFloat(e.name.offsetY),text:k,textAnchor:"middle",foreColor:o,fontSize:d,fontWeight:y,fontFamily:g});A.node.classList.add("apexcharts-datalabel-label"),t.add(A)}if(e.value.show){var T=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,R=a.drawText({x:c,y:h+T,text:w,textAnchor:"middle",foreColor:l,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});R.node.classList.add("apexcharts-datalabel-value"),t.add(R)}return t}},{key:"printInnerLabels",value:function(t,e,i,r){var a,s=this.w;r?a=t.name.color===void 0?s.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:t.name.color:s.globals.series.length>1&&t.total.show&&(a=t.total.color);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,s),r||typeof t.total.formatter!="function"||(i=t.total.formatter(s));var c=e===t.total.label;e=this.donutDataLabels.total.label?t.name.formatter(e,c,s):"",o!==null&&(o.textContent=e),l!==null&&(l.textContent=i),o!==null&&(o.style.fill=a)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,r=t.getAttribute("data:value"),a=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,a,r,t);var s=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");s!==null&&(s.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,r=new Me(this.ctx),a=i.config.plotOptions.polarArea.spokes;if(a.strokeWidth!==0){for(var s=[],o=360/i.globals.series.length,l=0;l<i.globals.series.length;l++)s.push(qt.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+o*l));s.forEach((function(c,h){var d=r.drawLine(c.x,c.y,e.centerX,e.centerY,Array.isArray(a.connectorColors)?a.connectorColors[h]:a.connectorColors);t.add(d)}))}}},{key:"revertDataLabelsInner",value:function(){var t=this.w;if(this.donutDataLabels.show){var e=t.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),i=this.renderInnerDataLabels(e,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});t.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(i)}}}]),n})(),tTt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var e=this.w;this.graphics=new Me(this.ctx),this.lineColorArr=e.globals.stroke.colors!==void 0?e.globals.stroke.colors:e.globals.colors,this.defaultSize=e.globals.svgHeight<e.globals.svgWidth?e.globals.gridHeight:e.globals.gridWidth,this.isLog=e.config.yaxis[0].logarithmic,this.logBase=e.config.yaxis[0].logBase,this.coreUtils=new ps(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,e.globals.maxY,0):e.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):e.globals.minY,this.polygons=e.config.plotOptions.radar.polygons,this.strokeWidth=e.config.stroke.show?e.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-e.config.chart.dropShadow.blur,e.config.xaxis.labels.show&&(this.size=this.size-e.globals.xAxisLabelsWidth/1.75),e.config.plotOptions.radar.size!==void 0&&(this.size=e.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Ve(n,[{key:"draw",value:function(t){var e=this,i=this.w,r=new cf(this.ctx),a=[],s=new Yb(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=o+i.config.plotOptions.radar.offsetX,h=l+i.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(h||0,")")}),g=[],y=null,x=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach((function(k,A){var T=k.length===i.globals.dataPoints,R=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":T,seriesName:qt.escapeString(i.globals.seriesNames[A]),rel:A+1,"data:realIndex":A});e.dataRadiusOfPercent[A]=[],e.dataRadius[A]=[],e.angleArr[A]=[],k.forEach((function(rt,lt){var mt=Math.abs(e.maxValue-e.minValue);rt-=e.minValue,e.isLog&&(rt=e.coreUtils.getLogVal(e.logBase,rt,0)),e.dataRadiusOfPercent[A][lt]=rt/mt,e.dataRadius[A][lt]=e.dataRadiusOfPercent[A][lt]*e.size,e.angleArr[A][lt]=lt*e.disAngle})),g=e.getDataPointsPos(e.dataRadius[A],e.angleArr[A]);var G=e.createPaths(g,{x:0,y:0});y=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),x=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":A}),i.globals.delayedElements.push({el:y.node,index:A});var z={i:A,realIndex:A,animationDelay:A,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[A],strokeLineCap:i.config.stroke.lineCap},F=null;i.globals.previousPaths.length>0&&(F=e.getPreviousPath(A));for(var H=0;H<G.linePathsTo.length;H++){var Y=e.graphics.renderPaths(Oe(Oe({},z),{},{pathFrom:F===null?G.linePathsFrom[H]:F,pathTo:G.linePathsTo[H],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[A]:e.strokeWidth,fill:"none",drawShadow:!1}));R.add(Y);var J=r.fillPath({seriesNumber:A}),nt=e.graphics.renderPaths(Oe(Oe({},z),{},{pathFrom:F===null?G.areaPathsFrom[H]:F,pathTo:G.areaPathsTo[H],strokeWidth:0,fill:J,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var V=new kl(e.ctx),Z=i.config.chart.dropShadow;V.dropShadow(nt,Object.assign({},Z,{noUserSpaceOnUse:!0}),A)}R.add(nt)}k.forEach((function(rt,lt){var mt=new b1(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:A,dataPointIndex:lt}),ct=e.graphics.drawMarker(g[lt].x,g[lt].y,mt);ct.attr("rel",lt),ct.attr("j",lt),ct.attr("index",A),ct.node.setAttribute("default-marker-size",mt.pSize);var st=e.graphics.group({class:"apexcharts-series-markers"});st&&st.add(ct),y.add(st),R.add(y);var xt=i.config.dataLabels;if(xt.enabled){var dt=xt.formatter(i.globals.series[A][lt],{seriesIndex:A,dataPointIndex:lt,w:i});s.plotDataLabelsText({x:g[lt].x,y:g[lt].y,text:dt,textAnchor:"middle",i:A,j:A,parent:x,offsetCorrection:!1,dataLabelsConfig:Oe({},xt)})}R.add(x)})),a.push(R)})),this.drawPolygons({parent:d}),i.config.xaxis.labels.show){var w=this.drawXAxisTexts();d.add(w)}return a.forEach((function(k){d.add(k)})),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,r=t.parent,a=new E7(this.ctx),s=i.globals.yAxisScale[0].result.reverse(),o=s.length,l=[],c=this.size/(o-1),h=0;h<o;h++)l[h]=c*h;l.reverse();var d=[],g=[];l.forEach((function(y,x){var w=qt.getPolygonPos(y,e.dataPointsLen),k="";w.forEach((function(A,T){if(x===0){var R=e.graphics.drawLine(A.x,A.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[T]:e.polygons.connectorColors);g.push(R)}T===0&&e.yaxisLabelsTextsPos.push({x:A.x,y:A.y}),k+=A.x+","+A.y+" "})),d.push(k)})),d.forEach((function(y,x){var w=e.polygons.strokeColors,k=e.polygons.strokeWidth,A=e.graphics.drawPolygon(y,Array.isArray(w)?w[x]:w,Array.isArray(k)?k[x]:k,i.globals.radarPolygons.fill.colors[x]);r.add(A)})),g.forEach((function(y){r.add(y)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(y,x){var w=a.drawYAxisTexts(y.x,y.y,x,s[x]);e.yaxisLabels.add(w)}))}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),a=qt.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach((function(s,o){var l=e.config.xaxis.labels.formatter,c=new Yb(t.ctx);if(a[o]){var h=t.getTextPos(a[o],t.size),d=l(s,{seriesIndex:-1,dataPointIndex:o,w:e});c.plotDataLabelsText({x:h.newX,y:h.newY,text:d,textAnchor:h.textAnchor,i:o,j:o,parent:r,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[o]?i.style.colors[o]:"#a8a8a8",dataLabelsConfig:Oe({textAnchor:h.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",(function(g){if(typeof e.config.chart.events.xAxisLabelClick=="function"){var y=Object.assign({},e,{labelIndex:o});e.config.chart.events.xAxisLabelClick(g,t.ctx,y)}}))}})),r}},{key:"createPaths",value:function(t,e){var i=this,r=[],a=[],s=[],o=[];if(t.length){a=[this.graphics.move(e.x,e.y)],o=[this.graphics.move(e.x,e.y)];var l=this.graphics.move(t[0].x,t[0].y),c=this.graphics.move(t[0].x,t[0].y);t.forEach((function(h,d){l+=i.graphics.line(h.x,h.y),c+=i.graphics.line(h.x,h.y),d===t.length-1&&(l+="Z",c+="Z")})),r.push(l),s.push(c)}return{linePathsFrom:a,linePathsTo:r,areaPathsFrom:o,areaPathsTo:s}}},{key:"getTextPos",value:function(t,e){var i="middle",r=t.x,a=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",r+=10):t.x<0&&(i="end",r-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?a-=10:t.y>0&&(a+=10)),{textAnchor:i,newX:r,newY:a}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,r=0;r<e.globals.previousPaths.length;r++){var a=e.globals.previousPaths[r];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(t,10)&&e.globals.previousPaths[r].paths[0]!==void 0&&(i=e.globals.previousPaths[r].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var r=[],a=0;a<i;a++){var s={};s.x=t[a]*Math.sin(e[a]),s.y=-t[a]*Math.cos(e[a]),r.push(s)}return r}}]),n})(),eTt=(function(n){vS(e,j7);var t=yS(e);function e(i){var r;$e(this,e),(r=t.call(this,i)).ctx=i,r.w=i.w,r.animBeginArr=[0],r.animDur=0;var a=r.w;return r.startAngle=a.config.plotOptions.radialBar.startAngle,r.endAngle=a.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),r.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,r.barLabels=r.w.config.plotOptions.radialBar.barLabels,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),r.endAngle===360&&(r.endAngle=359.99),r.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),r.onBarLabelClick=r.onBarLabelClick.bind(HX(r)),r}return Ve(e,[{key:"draw",value:function(i){var r=this.w,a=new Me(this.ctx),s=a.group({class:"apexcharts-radialbar"});if(r.globals.noData)return s;var o=a.group(),l=this.defaultSize/2,c=r.globals.gridWidth/2,h=this.defaultSize/2.05;r.config.chart.sparkline.enabled||(h=h-r.config.stroke.width-r.config.chart.dropShadow.blur);var d=r.globals.fill.colors;if(r.config.plotOptions.radialBar.track.show){var g=this.drawTracks({size:h,centerX:c,centerY:l,colorArr:d,series:i});o.add(g)}var y=this.drawArcs({size:h,centerX:c,centerY:l,colorArr:d,series:i}),x=360;r.config.plotOptions.radialBar.startAngle<0&&(x=this.totalAngle);var w=(360-x)/360;if(r.globals.radialSize=h-h*w,this.radialDataLabels.value.show){var k=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);r.globals.radialSize+=k*w}return o.add(y.g),r.config.plotOptions.radialBar.hollow.position==="front"&&(y.g.add(y.elHollow),y.dataLabels&&y.g.add(y.dataLabels)),s.add(o),s}},{key:"drawTracks",value:function(i){var r=this.w,a=new Me(this.ctx),s=a.group({class:"apexcharts-tracks"}),o=new kl(this.ctx),l=new cf(this.ctx),c=this.getStrokeWidth(i);i.size=i.size-c/2;for(var h=0;h<i.series.length;h++){var d=a.group({class:"apexcharts-radialbar-track apexcharts-track"});s.add(d),d.attr({rel:h+1}),i.size=i.size-c-this.margin;var g=r.config.plotOptions.radialBar.track,y=l.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(g.background)?g.background[h]:g.background,solid:!0}),x=this.trackStartAngle,w=this.trackEndAngle;Math.abs(w)+Math.abs(x)>=360&&(w=360-Math.abs(this.startAngle)-.1);var k=a.drawPath({d:"",stroke:y,strokeWidth:c*parseInt(g.strokeWidth,10)/100,fill:"none",strokeOpacity:g.opacity,classes:"apexcharts-radialbar-area"});if(g.dropShadow.enabled){var A=g.dropShadow;o.dropShadow(k,A)}d.add(k),k.attr("id","apexcharts-radialbarTrack-"+h),this.animatePaths(k,{centerX:i.centerX,centerY:i.centerY,endAngle:w,startAngle:x,size:i.size,i:h,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return s}},{key:"drawArcs",value:function(i){var r=this.w,a=new Me(this.ctx),s=new cf(this.ctx),o=new kl(this.ctx),l=a.group(),c=this.getStrokeWidth(i);i.size=i.size-c/2;var h=r.config.plotOptions.radialBar.hollow.background,d=i.size-c*i.series.length-this.margin*i.series.length-c*parseInt(r.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,g=d-r.config.plotOptions.radialBar.hollow.margin;r.config.plotOptions.radialBar.hollow.image!==void 0&&(h=this.drawHollowImage(i,l,d,h));var y=this.drawHollow({size:g,centerX:i.centerX,centerY:i.centerY,fill:h||"transparent"});if(r.config.plotOptions.radialBar.hollow.dropShadow.enabled){var x=r.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(y,x)}var w=1;!this.radialDataLabels.total.show&&r.globals.series.length>1&&(w=0);var k=null;if(this.radialDataLabels.show){var A=r.globals.dom.Paper.findOne(".apexcharts-datalabels-group");k=this.renderInnerDataLabels(A,this.radialDataLabels,{hollowSize:d,centerX:i.centerX,centerY:i.centerY,opacity:w})}r.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(y),k&&l.add(k));var T=!1;r.config.plotOptions.radialBar.inverseOrder&&(T=!0);for(var R=T?i.series.length-1:0;T?R>=0:R<i.series.length;T?R--:R++){var G=a.group({class:"apexcharts-series apexcharts-radial-series",seriesName:qt.escapeString(r.globals.seriesNames[R])});l.add(G),G.attr({rel:R+1,"data:realIndex":R}),this.ctx.series.addCollapsedClassToSeries(G,R),i.size=i.size-c-this.margin;var z=s.fillPath({seriesNumber:R,size:i.size,value:i.series[R]}),F=this.startAngle,H=void 0,Y=qt.negToZero(i.series[R]>100?100:i.series[R])/100,J=Math.round(this.totalAngle*Y)+this.startAngle,nt=void 0;r.globals.dataChanged&&(H=this.startAngle,nt=Math.round(this.totalAngle*qt.negToZero(r.globals.previousPaths[R])/100)+H),Math.abs(J)+Math.abs(F)>360&&(J-=.01),Math.abs(nt)+Math.abs(H)>360&&(nt-=.01);var V=J-F,Z=Array.isArray(r.config.stroke.dashArray)?r.config.stroke.dashArray[R]:r.config.stroke.dashArray,rt=a.drawPath({d:"",stroke:z,strokeWidth:c,fill:"none",fillOpacity:r.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+R,strokeDashArray:Z});if(Me.setAttrs(rt.node,{"data:angle":V,"data:value":i.series[R]}),r.config.chart.dropShadow.enabled){var lt=r.config.chart.dropShadow;o.dropShadow(rt,lt,R)}if(o.setSelectionFilter(rt,0,R),this.addListeners(rt,this.radialDataLabels),G.add(rt),rt.attr({index:0,j:R}),this.barLabels.enabled){var mt=qt.polarToCartesian(i.centerX,i.centerY,i.size,F),ct=this.barLabels.formatter(r.globals.seriesNames[R],{seriesIndex:R,w:r}),st=["apexcharts-radialbar-label"];this.barLabels.onClick||st.push("apexcharts-no-click");var xt=this.barLabels.useSeriesColors?r.globals.colors[R]:r.config.chart.foreColor;xt||(xt=r.config.chart.foreColor);var dt=mt.x+this.barLabels.offsetX,ht=mt.y+this.barLabels.offsetY,ot=a.drawText({x:dt,y:ht,text:ct,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:xt,cssClass:st.join(" ")});ot.on("click",this.onBarLabelClick),ot.attr({rel:R+1}),F!==0&&ot.attr({"transform-origin":"".concat(dt," ").concat(ht),transform:"rotate(".concat(F," 0 0)")}),G.add(ot)}var vt=0;!this.initialAnim||r.globals.resized||r.globals.dataChanged||(vt=r.config.chart.animations.speed),r.globals.dataChanged&&(vt=r.config.chart.animations.dynamicAnimation.speed),this.animDur=vt/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(rt,{centerX:i.centerX,centerY:i.centerY,endAngle:J,startAngle:F,prevEndAngle:nt,prevStartAngle:H,size:i.size,i:R,totalItems:2,animBeginArr:this.animBeginArr,dur:vt,shouldSetPrevPaths:!0})}return{g:l,elHollow:y,dataLabels:k}}},{key:"drawHollow",value:function(i){var r=new Me(this.ctx).drawCircle(2*i.size);return r.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),r}},{key:"drawHollowImage",value:function(i,r,a,s){var o=this.w,l=new cf(this.ctx),c=qt.randomId(),h=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:a,height:a,image:h,patternID:"pattern".concat(o.globals.cuid).concat(c)}),s="url(#pattern".concat(o.globals.cuid).concat(c,")");else{var d=o.config.plotOptions.radialBar.hollow.imageWidth,g=o.config.plotOptions.radialBar.hollow.imageHeight;if(d===void 0&&g===void 0){var y=o.globals.dom.Paper.image(h,(function(w){this.move(i.centerX-w.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-w.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)}));r.add(y)}else{var x=o.globals.dom.Paper.image(h,(function(w){this.move(i.centerX-d/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-g/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(d,g)}));r.add(x)}}return s}},{key:"getStrokeWidth",value:function(i){var r=this.w;return i.size*(100-parseInt(r.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var r=parseInt(i.target.getAttribute("rel"),10)-1,a=this.barLabels.onClick,s=this.w;a&&a(s.globals.seriesNames[r],{w:s,seriesIndex:r})}}]),e})(),nTt=(function(n){vS(e,$b);var t=yS(e);function e(){return $e(this,e),t.apply(this,arguments)}return Ve(e,[{key:"draw",value:function(i,r){var a=this.w,s=new Me(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=a.globals.seriesRangeStart,this.seriesRangeEnd=a.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var o=s.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<i.length;l++){var c,h,d,g,y=void 0,x=void 0,w=a.globals.comboCharts?r[l]:l,k=this.barHelpers.getGroupIndex(w).columnGroupIndex,A=s.group({class:"apexcharts-series",seriesName:qt.escapeString(a.globals.seriesNames[w]),rel:l+1,"data:realIndex":w});this.ctx.series.addCollapsedClassToSeries(A,w),i[l].length>0&&(this.visibleI=this.visibleI+1);var T=0,R=0,G=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[w][0],G=w);var z=this.barHelpers.initialPositions(w);x=z.y,g=z.zeroW,y=z.x,R=z.barWidth,T=z.barHeight,c=z.xDivision,h=z.yDivision,d=z.zeroH;for(var F=s.group({class:"apexcharts-datalabels","data:realIndex":w}),H=s.group({class:"apexcharts-rangebar-goals-markers"}),Y=0;Y<a.globals.dataPoints;Y++){var J=this.barHelpers.getStrokeWidth(l,Y,w),nt=this.seriesRangeStart[l][Y],V=this.seriesRangeEnd[l][Y],Z=null,rt=null,lt=null,mt={x:y,y:x,strokeWidth:J,elSeries:A},ct=this.seriesLen;if(a.config.plotOptions.bar.rangeBarGroupRows&&(ct=1),a.config.series[l].data[Y]===void 0)break;if(this.isHorizontal){lt=x+T*this.visibleI;var st=(h-T*ct)/2;if(a.config.series[l].data[Y].x){var xt=this.detectOverlappingBars({i:l,j:Y,barYPosition:lt,srty:st,barHeight:T,yDivision:h,initPositions:z});T=xt.barHeight,lt=xt.barYPosition}R=(Z=this.drawRangeBarPaths(Oe({indexes:{i:l,j:Y,realIndex:w},barHeight:T,barYPosition:lt,zeroW:g,yDivision:h,y1:nt,y2:V},mt))).barWidth}else{a.globals.isXNumeric&&(y=(a.globals.seriesX[l][Y]-a.globals.minX)/this.xRatio-R/2),rt=y+R*this.visibleI;var dt=(c-R*ct)/2;if(a.config.series[l].data[Y].x){var ht=this.detectOverlappingBars({i:l,j:Y,barXPosition:rt,srtx:dt,barWidth:R,xDivision:c,initPositions:z});R=ht.barWidth,rt=ht.barXPosition}T=(Z=this.drawRangeColumnPaths(Oe({indexes:{i:l,j:Y,realIndex:w,translationsIndex:G},barWidth:R,barXPosition:rt,zeroH:d,xDivision:c},mt))).barHeight}var ot=this.barHelpers.drawGoalLine({barXPosition:Z.barXPosition,barYPosition:lt,goalX:Z.goalX,goalY:Z.goalY,barHeight:T,barWidth:R});ot&&H.add(ot),x=Z.y,y=Z.x;var vt=this.barHelpers.getPathFillColor(i,l,Y,w);this.renderSeries({realIndex:w,pathFill:vt.color,lineFill:vt.useRangeColor?vt.color:a.globals.stroke.colors[w],j:Y,i:l,x:y,y:x,y1:nt,y2:V,pathFrom:Z.pathFrom,pathTo:Z.pathTo,strokeWidth:J,elSeries:A,series:i,barHeight:T,barWidth:R,barXPosition:rt,barYPosition:lt,columnGroupIndex:k,elDataLabelsWrap:F,elGoalsMarkers:H,visibleSeries:this.visibleI,type:"rangebar"})}o.add(A)}return o}},{key:"detectOverlappingBars",value:function(i){var r=i.i,a=i.j,s=i.barYPosition,o=i.barXPosition,l=i.srty,c=i.srtx,h=i.barHeight,d=i.barWidth,g=i.yDivision,y=i.xDivision,x=i.initPositions,w=this.w,k=[],A=w.config.series[r].data[a].rangeName,T=w.config.series[r].data[a].x,R=Array.isArray(T)?T.join(" "):T,G=w.globals.labels.map((function(F){return Array.isArray(F)?F.join(" "):F})).indexOf(R),z=w.globals.seriesRange[r].findIndex((function(F){return F.x===R&&F.overlaps.length>0}));return this.isHorizontal?(s=w.config.plotOptions.bar.rangeBarGroupRows?l+g*G:l+h*this.visibleI+g*G,z>-1&&!w.config.plotOptions.bar.rangeBarOverlap&&(k=w.globals.seriesRange[r][z].overlaps).indexOf(A)>-1&&(s=(h=x.barHeight/k.length)*this.visibleI+g*(100-parseInt(this.barOptions.barHeight,10))/100/2+h*(this.visibleI+k.indexOf(A))+g*G)):(G>-1&&!w.globals.timescaleLabels.length&&(o=w.config.plotOptions.bar.rangeBarGroupRows?c+y*G:c+d*this.visibleI+y*G),z>-1&&!w.config.plotOptions.bar.rangeBarOverlap&&(k=w.globals.seriesRange[r][z].overlaps).indexOf(A)>-1&&(o=(d=x.barWidth/k.length)*this.visibleI+y*(100-parseInt(this.barOptions.barWidth,10))/100/2+d*(this.visibleI+k.indexOf(A))+y*G)),{barYPosition:s,barXPosition:o,barHeight:h,barWidth:d}}},{key:"drawRangeColumnPaths",value:function(i){var r=i.indexes,a=i.x,s=i.xDivision,o=i.barWidth,l=i.barXPosition,c=i.zeroH,h=this.w,d=r.i,g=r.j,y=r.realIndex,x=r.translationsIndex,w=this.yRatio[x],k=this.getRangeValue(y,g),A=Math.min(k.start,k.end),T=Math.max(k.start,k.end);this.series[d][g]===void 0||this.series[d][g]===null?A=c:(A=c-A/w,T=c-T/w);var R=Math.abs(T-A),G=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:A,y2:T,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:y,i:y,j:g,w:h});if(h.globals.isXNumeric){var z=this.getBarXForNumericXAxis({x:a,j:g,realIndex:y,barWidth:o});a=z.x,l=z.barXPosition}else a+=s;return{pathTo:G.pathTo,pathFrom:G.pathFrom,barHeight:R,x:a,y:k.start<0&&k.end<0?A:T,goalY:this.barHelpers.getGoalValues("y",null,c,d,g,x),barXPosition:l}}},{key:"preventBarOverflow",value:function(i){var r=this.w;return i<0&&(i=0),i>r.globals.gridWidth&&(i=r.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var r=i.indexes,a=i.y,s=i.y1,o=i.y2,l=i.yDivision,c=i.barHeight,h=i.barYPosition,d=i.zeroW,g=this.w,y=r.realIndex,x=r.j,w=this.preventBarOverflow(d+s/this.invertedYRatio),k=this.preventBarOverflow(d+o/this.invertedYRatio),A=this.getRangeValue(y,x),T=Math.abs(k-w),R=this.barHelpers.getBarpaths({barYPosition:h,barHeight:c,x1:w,x2:k,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:y,realIndex:y,j:x,w:g});return g.globals.isXNumeric||(a+=l),{pathTo:R.pathTo,pathFrom:R.pathFrom,barWidth:T,x:A.start<0&&A.end<0?w:k,goalX:this.barHelpers.getGoalValues("x",d,null,y,x),y:a}}},{key:"getRangeValue",value:function(i,r){var a=this.w;return{start:a.globals.seriesRangeStart[i][r],end:a.globals.seriesRangeEnd[i][r]}}}]),e})(),iTt=(function(){function n(t){$e(this,n),this.w=t.w,this.lineCtx=t}return Ve(n,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if((i.config.fill.type==="gradient"||i.config.fill.type[t]==="gradient")&&new ps(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var r=e[t].slice();r[r.length-1]=r[r.length-1]+1e-6,e[t]=r}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,r=t.x,a=t.y,s=t.i,o=t.j,l=t.prevY,c=this.w,h=[],d=[],g=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(g=(c.globals.seriesX[i][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),o===0&&(h.push(g),d.push(qt.isNumber(e[s][0])?l+c.config.markers.offsetY:null)),h.push(r+c.config.markers.offsetX),d.push(qt.isNumber(e[s][o+1])?a+c.config.markers.offsetY:null),{x:h,y:d}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,r=t.realIndex,a=this.w,s=0;s<a.globals.previousPaths.length;s++){var o=a.globals.previousPaths[s];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(r,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,e=a.globals.previousPaths[s].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,i=a.globals.previousPaths[s].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[s].paths[1]&&(e=a.globals.previousPaths[s].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i,r,a=t.i,s=t.realIndex,o=t.series,l=t.prevY,c=t.lineYPosition,h=t.translationsIndex,d=this.w,g=d.config.chart.stacked&&!d.globals.comboCharts||d.config.chart.stacked&&d.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((e=this.w.config.series[s])===null||e===void 0?void 0:e.type)==="bar"||((i=this.w.config.series[s])===null||i===void 0?void 0:i.type)==="column");if(((r=o[a])===null||r===void 0?void 0:r[0])!==void 0)l=(c=g&&a>0?this.lineCtx.prevSeriesY[a-1][0]:this.lineCtx.zeroY)-o[a][0]/this.lineCtx.yRatio[h]+2*(this.lineCtx.isReversed?o[a][0]/this.lineCtx.yRatio[h]:0);else if(g&&a>0&&o[a][0]===void 0){for(var y=a-1;y>=0;y--)if(o[y][0]!==null&&o[y][0]!==void 0){l=c=this.lineCtx.prevSeriesY[y][0];break}}return{prevY:l,lineYPosition:c}}}]),n})(),rTt=function(n){for(var t,e,i,r,a=(function(h){for(var d=[],g=h[0],y=h[1],x=d[0]=vP(g,y),w=1,k=h.length-1;w<k;w++)g=y,y=h[w+1],d[w]=.5*(x+(x=vP(g,y)));return d[w]=x,d})(n),s=n.length-1,o=[],l=0;l<s;l++)i=vP(n[l],n[l+1]),Math.abs(i)<1e-6?a[l]=a[l+1]=0:(r=(t=a[l]/i)*t+(e=a[l+1]/i)*e)>9&&(r=3*i/Math.sqrt(r),a[l]=r*t,a[l+1]=r*e);for(var c=0;c<=s;c++)r=(n[Math.min(s,c+1)][0]-n[Math.max(0,c-1)][0])/(6*(1+a[c]*a[c])),o.push([r||0,a[c]*r||0]);return o},aTt=function(n){var t=rTt(n),e=n[1],i=n[0],r=[],a=t[1],s=t[0];r.push(i,[i[0]+s[0],i[1]+s[1],e[0]-a[0],e[1]-a[1],e[0],e[1]]);for(var o=2,l=t.length;o<l;o++){var c=n[o],h=t[o];r.push([c[0]-h[0],c[1]-h[1],c[0],c[1]])}return r},sTt=function(n,t,e){var i=n.slice(t,e);if(t){if(e-t>1&&i[1].length<6){var r=i[0].length;i[1]=[2*i[0][r-2]-i[0][r-4],2*i[0][r-1]-i[0][r-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function vP(n,t){return(t[1]-n[1])/(t[0]-n[0])}var xP=(function(){function n(t,e,i){$e(this,n),this.ctx=t,this.w=t.w,this.xyRatios=e,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||i,this.scatter=new _7(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new iTt(this),this.markers=new b1(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Ve(n,[{key:"draw",value:function(t,e,i,r){var a,s=this.w,o=new Me(this.ctx),l=s.globals.comboCharts?e:s.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),h=new ps(this.ctx,s);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=h.getLogSeries(t),this.yRatio=h.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var d=[],g=0;g<t.length;g++){t=this.lineHelpers.sameValueSeriesFix(g,t);var y=s.globals.comboCharts?i[g]:g,x=this.yRatio.length>1?y:0;this._initSerieVariables(t,g,y);var w=[],k=[],A=[],T=s.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,y),s.globals.isXNumeric&&s.globals.seriesX.length>0&&(T=(s.globals.seriesX[y][0]-s.globals.minX)/this.xRatio),A.push(T);var R,G=T,z=void 0,F=G,H=this.zeroY,Y=this.zeroY;H=this.lineHelpers.determineFirstPrevY({i:g,realIndex:y,series:t,prevY:H,lineYPosition:0,translationsIndex:x}).prevY,s.config.stroke.curve==="monotoneCubic"&&t[g][0]===null?w.push(null):w.push(H),R=H,l==="rangeArea"&&(z=Y=this.lineHelpers.determineFirstPrevY({i:g,realIndex:y,series:r,prevY:Y,lineYPosition:0,translationsIndex:x}).prevY,k.push(w[0]!==null?Y:null));var J=this._calculatePathsFrom({type:l,series:t,i:g,realIndex:y,translationsIndex:x,prevX:F,prevY:H,prevY2:Y}),nt=[w[0]],V=[k[0]],Z={type:l,series:t,realIndex:y,translationsIndex:x,i:g,x:T,y:1,pX:G,pY:R,pathsFrom:J,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:A,yArrj:w,y2Arrj:k,seriesRangeEnd:r},rt=this._iterateOverDataPoints(Oe(Oe({},Z),{},{iterations:l==="rangeArea"?t[g].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var lt=this._calculatePathsFrom({series:r,i:g,realIndex:y,prevX:F,prevY:Y}),mt=this._iterateOverDataPoints(Oe(Oe({},Z),{},{series:r,xArrj:[T],yArrj:nt,y2Arrj:V,pY:z,areaPaths:rt.areaPaths,pathsFrom:lt,iterations:r[g].length-1,isRangeStart:!1})),ct=rt.linePaths.length/2,st=0;st<ct;st++)rt.linePaths[st]=mt.linePaths[st+ct]+rt.linePaths[st];rt.linePaths.splice(ct),rt.pathFromLine=mt.pathFromLine+rt.pathFromLine}else rt.pathFromArea+="z";this._handlePaths({type:l,realIndex:y,i:g,paths:rt}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(((a=s.config.series[0])===null||a===void 0?void 0:a.zIndex)!==void 0&&d.sort((function(ht,ot){return Number(ht.node.getAttribute("zIndex"))-Number(ot.node.getAttribute("zIndex"))})),s.config.chart.stacked)for(var xt=d.length-1;xt>=0;xt--)c.add(d[xt]);else for(var dt=0;dt<d.length;dt++)c.add(d[dt]);return c}},{key:"_initSerieVariables",value:function(t,e,i){var r=this.w,a=new Me(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-(r.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[i]:r.config.stroke.width;var s=0;if(this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[i],s=i),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[s]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[s]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||r.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",zIndex:r.config.series[i].zIndex!==void 0?r.config.series[i].zIndex:i,seriesName:qt.escapeString(r.globals.seriesNames[i])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),r.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[r.globals.gridHeight+r.globals.markers.largestSize]},seriesIndex:e,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":i});var l=t[e].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,r,a,s=t.type,o=t.series,l=t.i,c=t.realIndex,h=t.translationsIndex,d=t.prevX,g=t.prevY,y=t.prevY2,x=this.w,w=new Me(this.ctx);if(o[l][0]===null){for(var k=0;k<o[l].length;k++)if(o[l][k]!==null){d=this.xDivision*k,g=this.zeroY-o[l][k]/this.yRatio[h],e=w.move(d,g),i=w.move(d,this.areaBottomY);break}}else e=w.move(d,g),s==="rangeArea"&&(e=w.move(d,y)+w.line(d,g)),i=w.move(d,this.areaBottomY)+w.line(d,g);if(r=w.move(0,this.areaBottomY)+w.line(0,this.areaBottomY),a=w.move(0,this.areaBottomY)+w.line(0,this.areaBottomY),x.globals.previousPaths.length>0){var A=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:a,realIndex:c});r=A.pathFromLine,a=A.pathFromArea}return{prevX:d,prevY:g,linePath:e,areaPath:i,pathFromLine:r,pathFromArea:a}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,r=t.i,a=t.paths,s=this.w,o=new Me(this.ctx),l=new cf(this.ctx);this.prevSeriesY.push(a.yArrj),s.globals.seriesXvalues[i]=a.xArrj,s.globals.seriesYvalues[i]=a.yArrj;var c=s.config.forecastDataPoints;if(c.count>0&&e!=="rangeArea"){var h=s.globals.seriesXvalues[i][s.globals.seriesXvalues[i].length-c.count-1],d=o.drawRect(h,0,s.globals.gridWidth,s.globals.gridHeight,0);s.globals.dom.elForecastMask.appendChild(d.node);var g=o.drawRect(0,0,h,s.globals.gridHeight,0);s.globals.dom.elNonForecastMask.appendChild(g.node)}this.pointsChart||s.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var y={i:r,realIndex:i,animationDelay:r,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if(e==="area")for(var x=l.fillPath({seriesNumber:i}),w=0;w<a.areaPaths.length;w++){var k=o.renderPaths(Oe(Oe({},y),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[w],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:x}));this.elSeries.add(k)}if(s.config.stroke.show&&!this.pointsChart){var A=null;if(e==="line")A=l.fillPath({seriesNumber:i,i:r});else if(s.config.stroke.fill.type==="solid")A=s.globals.stroke.colors[i];else{var T=s.config.fill;s.config.fill=s.config.stroke.fill,A=l.fillPath({seriesNumber:i,i:r}),s.config.fill=T}for(var R=0;R<a.linePaths.length;R++){var G=A;e==="rangeArea"&&(G=l.fillPath({seriesNumber:i}));var z=Oe(Oe({},y),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[R],stroke:A,strokeWidth:this.strokeWidth,strokeLineCap:s.config.stroke.lineCap,fill:e==="rangeArea"?G:"none"}),F=o.renderPaths(z);if(this.elSeries.add(F),F.attr("fill-rule","evenodd"),c.count>0&&e!=="rangeArea"){var H=o.renderPaths(z);H.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&H.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(H),H.attr("clip-path","url(#forecastMask".concat(s.globals.cuid,")")),F.attr("clip-path","url(#nonForecastMask".concat(s.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var e,i,r=this,a=t.type,s=t.series,o=t.iterations,l=t.realIndex,c=t.translationsIndex,h=t.i,d=t.x,g=t.y,y=t.pX,x=t.pY,w=t.pathsFrom,k=t.linePaths,A=t.areaPaths,T=t.seriesIndex,R=t.lineYPosition,G=t.xArrj,z=t.yArrj,F=t.y2Arrj,H=t.isRangeStart,Y=t.seriesRangeEnd,J=this.w,nt=new Me(this.ctx),V=this.yRatio,Z=w.prevY,rt=w.linePath,lt=w.areaPath,mt=w.pathFromLine,ct=w.pathFromArea,st=qt.isNumber(J.globals.minYArr[l])?J.globals.minYArr[l]:J.globals.minY;o||(o=J.globals.dataPoints>1?J.globals.dataPoints-1:J.globals.dataPoints);var xt=function(Rt,ee){return ee-Rt/V[c]+2*(r.isReversed?Rt/V[c]:0)},dt=g,ht=J.config.chart.stacked&&!J.globals.comboCharts||J.config.chart.stacked&&J.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((e=this.w.config.series[l])===null||e===void 0?void 0:e.type)==="bar"||((i=this.w.config.series[l])===null||i===void 0?void 0:i.type)==="column"),ot=J.config.stroke.curve;Array.isArray(ot)&&(ot=Array.isArray(T)?ot[T[h]]:ot[h]);for(var vt,St=0,Pt=0;Pt<o&&s[h].length!==0;Pt++){var It=s[h][Pt+1]===void 0||s[h][Pt+1]===null;if(J.globals.isXNumeric){var Nt=J.globals.seriesX[l][Pt+1];J.globals.seriesX[l][Pt+1]===void 0&&(Nt=J.globals.seriesX[l][o-1]),d=(Nt-J.globals.minX)/this.xRatio}else d+=this.xDivision;ht?h>0&&J.globals.collapsedSeries.length<J.config.series.length-1?R=this.prevSeriesY[(function(Rt){for(var ee=Rt;ee>0;ee--){if(!(J.globals.collapsedSeriesIndices.indexOf(T?.[ee]||ee)>-1))return ee;ee--}return 0})(h-1)][Pt+1]:R=this.zeroY:R=this.zeroY,It?g=xt(st,R):(g=xt(s[h][Pt+1],R),a==="rangeArea"&&(dt=xt(Y[h][Pt+1],R))),G.push(s[h][Pt+1]===null?null:d),!It||J.config.stroke.curve!=="smooth"&&J.config.stroke.curve!=="monotoneCubic"?(z.push(g),F.push(dt)):(z.push(null),F.push(null));var Et=this.lineHelpers.calculatePoints({series:s,x:d,y:g,realIndex:l,i:h,j:Pt,prevY:Z}),Yt=this._createPaths({type:a,series:s,i:h,realIndex:l,j:Pt,x:d,y:g,y2:dt,xArrj:G,yArrj:z,y2Arrj:F,pX:y,pY:x,pathState:St,segmentStartX:vt,linePath:rt,areaPath:lt,linePaths:k,areaPaths:A,curve:ot,isRangeStart:H});A=Yt.areaPaths,k=Yt.linePaths,y=Yt.pX,x=Yt.pY,St=Yt.pathState,vt=Yt.segmentStartX,lt=Yt.areaPath,rt=Yt.linePath,!this.appendPathFrom||J.globals.hasNullValues||ot==="monotoneCubic"&&a==="rangeArea"||(mt+=nt.line(d,this.areaBottomY),ct+=nt.line(d,this.areaBottomY)),this.handleNullDataPoints(s,Et,h,Pt,l),this._handleMarkersAndLabels({type:a,pointsPos:Et,i:h,j:Pt,realIndex:l,isRangeStart:H})}return{yArrj:z,xArrj:G,pathFromArea:ct,areaPaths:A,pathFromLine:mt,linePaths:k,linePath:rt,areaPath:lt}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,r=t.isRangeStart,a=t.i,s=t.j,o=t.realIndex,l=this.w,c=new Yb(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,s,{realIndex:o,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[a].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var h=this.markers.plotChartMarkers({pointsPos:i,seriesIndex:o,j:s+1});h!==null&&this.elPointsMain.add(h)}var d=c.drawDataLabel({type:e,isRangeStart:r,pos:i,i:o,j:s+1});d!==null&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(t){var e=t.type,i=t.series,r=t.i;t.realIndex;var a,s=t.j,o=t.x,l=t.y,c=t.xArrj,h=t.yArrj,d=t.y2,g=t.y2Arrj,y=t.pX,x=t.pY,w=t.pathState,k=t.segmentStartX,A=t.linePath,T=t.areaPath,R=t.linePaths,G=t.areaPaths,z=t.curve,F=t.isRangeStart,H=new Me(this.ctx),Y=this.areaBottomY,J=e==="rangeArea",nt=e==="rangeArea"&&F;switch(z){case"monotoneCubic":var V=F?h:g;switch(w){case 0:if(V[s+1]===null)break;w=1;case 1:if(!(J?c.length===i[r].length:s===i[r].length-2))break;case 2:var Z=F?c:c.slice().reverse(),rt=F?V:V.slice().reverse(),lt=(a=rt,Z.map((function(Nt,Et){return[Nt,a[Et]]})).filter((function(Nt){return Nt[1]!==null}))),mt=lt.length>1?aTt(lt):lt,ct=[];J&&(nt?G=lt:ct=G.reverse());var st=0,xt=0;if((function(Nt,Et){for(var Yt=(function(Jt){var ue=[],Te=0;return Jt.forEach((function(qe){qe!==null?Te++:Te>0&&(ue.push(Te),Te=0)})),Te>0&&ue.push(Te),ue})(Nt),Rt=[],ee=0,fe=0;ee<Yt.length;fe+=Yt[ee++])Rt[ee]=sTt(Et,fe,fe+Yt[ee]);return Rt})(rt,mt).forEach((function(Nt){st++;var Et=(function(ee){for(var fe="",Jt=0;Jt<ee.length;Jt++){var ue=ee[Jt],Te=ue.length;Te>4?(fe+="C".concat(ue[0],", ").concat(ue[1]),fe+=", ".concat(ue[2],", ").concat(ue[3]),fe+=", ".concat(ue[4],", ").concat(ue[5])):Te>2&&(fe+="S".concat(ue[0],", ").concat(ue[1]),fe+=", ".concat(ue[2],", ").concat(ue[3]))}return fe})(Nt),Yt=xt,Rt=(xt+=Nt.length)-1;nt?A=H.move(lt[Yt][0],lt[Yt][1])+Et:J?A=H.move(ct[Yt][0],ct[Yt][1])+H.line(lt[Yt][0],lt[Yt][1])+Et+H.line(ct[Rt][0],ct[Rt][1]):(A=H.move(lt[Yt][0],lt[Yt][1])+Et,T=A+H.line(lt[Rt][0],Y)+H.line(lt[Yt][0],Y)+"z",G.push(T)),R.push(A)})),J&&st>1&&!nt){var dt=R.slice(st).reverse();R.splice(st),dt.forEach((function(Nt){return R.push(Nt)}))}w=0}break;case"smooth":var ht=.35*(o-y);if(i[r][s]===null)w=0;else switch(w){case 0:if(k=y,A=nt?H.move(y,g[s])+H.line(y,x):H.move(y,x),T=H.move(y,x),i[r][s+1]===null||i[r][s+1]===void 0){R.push(A),G.push(T);break}if(w=1,s<i[r].length-2){var ot=H.curve(y+ht,x,o-ht,l,o,l);A+=ot,T+=ot;break}case 1:if(i[r][s+1]===null)A+=nt?H.line(y,d):H.move(y,x),T+=H.line(y,Y)+H.line(k,Y)+"z",R.push(A),G.push(T),w=-1;else{var vt=H.curve(y+ht,x,o-ht,l,o,l);A+=vt,T+=vt,s>=i[r].length-2&&(nt&&(A+=H.curve(o,l,o,l,o,d)+H.move(o,d)),T+=H.curve(o,l,o,l,o,Y)+H.line(k,Y)+"z",R.push(A),G.push(T),w=-1)}}y=o,x=l;break;default:var St=function(Nt,Et,Yt){var Rt=[];switch(Nt){case"stepline":Rt=H.line(Et,null,"H")+H.line(null,Yt,"V");break;case"linestep":Rt=H.line(null,Yt,"V")+H.line(Et,null,"H");break;case"straight":Rt=H.line(Et,Yt)}return Rt};if(i[r][s]===null)w=0;else switch(w){case 0:if(k=y,A=nt?H.move(y,g[s])+H.line(y,x):H.move(y,x),T=H.move(y,x),i[r][s+1]===null||i[r][s+1]===void 0){R.push(A),G.push(T);break}if(w=1,s<i[r].length-2){var Pt=St(z,o,l);A+=Pt,T+=Pt;break}case 1:if(i[r][s+1]===null)A+=nt?H.line(y,d):H.move(y,x),T+=H.line(y,Y)+H.line(k,Y)+"z",R.push(A),G.push(T),w=-1;else{var It=St(z,o,l);A+=It,T+=It,s>=i[r].length-2&&(nt&&(A+=H.line(o,d)),T+=H.line(o,Y)+H.line(k,Y)+"z",R.push(A),G.push(T),w=-1)}}y=o,x=l}return{linePaths:R,areaPaths:G,pX:y,pY:x,pathState:w,segmentStartX:k,linePath:A,areaPath:T}}},{key:"handleNullDataPoints",value:function(t,e,i,r,a){var s=this.w;if(t[i][r]===null&&s.config.markers.showNullDataPoints||t[i].length===1){var o=this.strokeWidth-s.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:e,seriesIndex:a,j:r+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),n})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function n(o,l,c,h){this.xoffset=o,this.yoffset=l,this.height=h,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(d){var g,y=[],x=this.xoffset,w=this.yoffset,k=a(d)/this.height,A=a(d)/this.width;if(this.width>=this.height)for(g=0;g<d.length;g++)y.push([x,w,x+k,w+d[g]/k]),w+=d[g]/k;else for(g=0;g<d.length;g++)y.push([x,w,x+d[g]/A,w+A]),x+=d[g]/A;return y},this.cutArea=function(d){var g;if(this.width>=this.height){var y=d/this.height,x=this.width-y;g=new n(this.xoffset+y,this.yoffset,x,this.height)}else{var w=d/this.width,k=this.height-w;g=new n(this.xoffset,this.yoffset+w,this.width,k)}return g}}function t(o,l,c,h,d){h=h===void 0?0:h,d=d===void 0?0:d;var g=e((function(y,x){var w,k=[],A=x/a(y);for(w=0;w<y.length;w++)k[w]=y[w]*A;return k})(o,l*c),[],new n(h,d,l,c),[]);return(function(y){var x,w,k=[];for(x=0;x<y.length;x++)for(w=0;w<y[x].length;w++)k.push(y[x][w]);return k})(g)}function e(o,l,c,h){var d,g,y;if(o.length!==0)return d=c.shortestEdge(),(function(x,w,k){var A;if(x.length===0)return!0;(A=x.slice()).push(w);var T=i(x,k),R=i(A,k);return T>=R})(l,g=o[0],d)?(l.push(g),e(o.slice(1),l,c,h)):(y=c.cutArea(a(l),h),h.push(c.getCoordinates(l)),e(o,[],y,h)),h;h.push(c.getCoordinates(l))}function i(o,l){var c=Math.min.apply(Math,o),h=Math.max.apply(Math,o),d=a(o);return Math.max(Math.pow(l,2)*h/Math.pow(d,2),Math.pow(d,2)/(Math.pow(l,2)*c))}function r(o){return o&&o.constructor===Array}function a(o){var l,c=0;for(l=0;l<o.length;l++)c+=o[l];return c}function s(o){var l,c=0;if(r(o[0]))for(l=0;l<o.length;l++)c+=s(o[l]);else c=a(o);return c}return function o(l,c,h,d,g){d=d===void 0?0:d,g=g===void 0?0:g;var y,x,w=[],k=[];if(r(l[0])){for(x=0;x<l.length;x++)w[x]=s(l[x]);for(y=t(w,c,h,d,g),x=0;x<l.length;x++)k.push(o(l[x],y[x][2]-y[x][0],y[x][3]-y[x][1],y[x][0],y[x][1]))}else k=t(l,c,h,d,g);return k}})();var oTt=(function(){function n(t,e){$e(this,n),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new P7(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Ve(n,[{key:"draw",value:function(t){var e=this,i=this.w,r=new Me(this.ctx),a=new cf(this.ctx),s=r.group({class:"apexcharts-treemap"});if(i.globals.noData)return s;var o=[];return t.forEach((function(l){var c=l.map((function(h){return Math.abs(h)}));o.push(c)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(l,c){l.data.forEach((function(h){Array.isArray(e.labels[c])||(e.labels[c]=[]),e.labels[c].push(h.x)}))})),window.TreemapSquared.generate(o,i.globals.gridWidth,i.globals.gridHeight).forEach((function(l,c){var h=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:qt.escapeString(i.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(i.config.chart.dropShadow.enabled){var d=i.config.chart.dropShadow;new kl(e.ctx).dropShadow(s,d,c)}var g=r.group({class:"apexcharts-data-labels"}),y={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach((function(mt,ct){var st=mt[0],xt=mt[1],dt=mt[2],ht=mt[3];y.xMin=Math.min(y.xMin,st),y.yMin=Math.min(y.yMin,xt),y.xMax=Math.max(y.xMax,dt),y.yMax=Math.max(y.yMax,ht);var ot=e.helpers.getShadeColor(i.config.chart.type,c,ct,e.negRange),vt=ot.color,St=a.fillPath({color:vt,seriesNumber:c,dataPointIndex:ct}),Pt=r.drawRect(st,xt,dt-st,ht-xt,i.config.plotOptions.treemap.borderRadius,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?vt:i.globals.stroke.colors[c]);Pt.attr({cx:st,cy:xt,index:c,i:c,j:ct,width:dt-st,height:ht-xt,fill:St}),Pt.node.classList.add("apexcharts-treemap-rect"),e.helpers.addListeners(Pt);var It={x:st+(dt-st)/2,y:xt+(ht-xt)/2,width:0,height:0},Nt={x:st,y:xt,width:dt-st,height:ht-xt};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var Et=1;i.globals.resized||(Et=i.config.chart.animations.speed),e.animateTreemap(Pt,It,Nt,Et)}if(i.globals.dataChanged){var Yt=1;e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(Yt=e.dynamicAnim.speed,i.globals.previousPaths[c]&&i.globals.previousPaths[c][ct]&&i.globals.previousPaths[c][ct].rect&&(It=i.globals.previousPaths[c][ct].rect),e.animateTreemap(Pt,It,Nt,Yt))}var Rt=e.getFontSize(mt),ee=i.config.dataLabels.formatter(e.labels[c][ct],{value:i.globals.series[c][ct],seriesIndex:c,dataPointIndex:ct,w:i});i.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Rt=parseInt(i.config.dataLabels.style.fontSize,10),ee=e.truncateLabels(ee,Rt,st,xt,dt,ht));var fe=null;i.globals.series[c][ct]&&(fe=e.helpers.calculateDataLabels({text:ee,x:(st+dt)/2,y:(xt+ht)/2+e.strokeWidth/2+Rt/3,i:c,j:ct,colorProps:ot,fontSize:Rt,series:t})),i.config.dataLabels.enabled&&fe&&e.rotateToFitLabel(fe,Rt,ee,st,xt,dt,ht),h.add(Pt),fe!==null&&h.add(fe)}));var x=i.config.plotOptions.treemap.seriesTitle;if(i.config.series.length>1&&x&&x.show){var w=i.config.series[c].name||"";if(w&&y.xMin<1/0&&y.yMin<1/0){var k=x.offsetX,A=x.offsetY,T=x.borderColor,R=x.borderWidth,G=x.borderRadius,z=x.style,F=z.color||i.config.chart.foreColor,H={left:z.padding.left,right:z.padding.right,top:z.padding.top,bottom:z.padding.bottom},Y=r.getTextRects(w,z.fontSize,z.fontFamily),J=Y.width+H.left+H.right,nt=Y.height+H.top+H.bottom,V=y.xMin+(k||0),Z=y.yMin+(A||0),rt=r.drawRect(V,Z,J,nt,G,z.background,1,R,T),lt=r.drawText({x:V+H.left,y:Z+H.top+.75*Y.height,text:w,fontSize:z.fontSize,fontFamily:z.fontFamily,fontWeight:z.fontWeight,foreColor:F,cssClass:z.cssClass||""});h.add(rt),h.add(lt)}}h.add(g),s.add(h)})),s}},{key:"getFontSize",value:function(t){var e=this.w,i=(function r(a){var s,o=0;if(Array.isArray(a[0]))for(s=0;s<a.length;s++)o+=r(a[s]);else for(s=0;s<a.length;s++)o+=a[s].length;return o})(this.labels)/(function r(a){var s,o=0;if(Array.isArray(a[0]))for(s=0;s<a.length;s++)o+=r(a[s]);else for(s=0;s<a.length;s++)o+=1;return o})(this.labels);return(function(r,a){var s=r*a,o=Math.pow(s,.5);return Math.min(o/i,parseInt(e.config.dataLabels.style.fontSize,10))})(t[2]-t[0],t[3]-t[1])}},{key:"rotateToFitLabel",value:function(t,e,i,r,a,s,o){var l=new Me(this.ctx),c=l.getTextRects(i,e);if(c.width+this.w.config.stroke.width+5>s-r&&c.width<=o-a){var h=l.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(h.x," ").concat(h.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(t,e,i,r,a,s){var o=new Me(this.ctx),l=o.getTextRects(t,e).width+this.w.config.stroke.width+5>a-i&&s-r>a-i?s-r:a-i,c=o.getTextBasedOnMaxWidth({text:t,maxWidth:l,fontSize:e});return t.length!==c.length&&l/e<5?"":c}},{key:"animateTreemap",value:function(t,e,i,r){var a=new m1(this.ctx);a.animateRect(t,e,i,r,(function(){a.animationCompleted(t)}))}}]),n})(),D7=86400,lTt=10/D7,cTt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Ve(n,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var a=new wl(this.ctx),s=(e-t)/864e5;this.determineInterval(s),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,s<lTt?r.globals.disableZoomIn=!0:s>5e4&&(r.globals.disableZoomOut=!0);var o=a.getTimeUnitsfromTimestamp(t,e,this.utc),l=r.globals.gridWidth/s,c=l/24,h=c/60,d=h/60,g=Math.floor(24*s),y=Math.floor(1440*s),x=Math.floor(s*D7),w=Math.floor(s),k=Math.floor(s/30),A=Math.floor(s/365),T={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},R={firstVal:T,currentMillisecond:T.minMillisecond,currentSecond:T.minSecond,currentMinute:T.minMinute,currentHour:T.minHour,currentMonthDate:T.minDate,currentDate:T.minDate,currentMonth:T.minMonth,currentYear:T.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:h,secondsWidthOnXAxis:d,numberOfSeconds:x,numberOfMinutes:y,numberOfHours:g,numberOfDays:w,numberOfMonths:k,numberOfYears:A};switch(this.tickInterval){case"years":this.generateYearScale(R);break;case"months":case"half_year":this.generateMonthScale(R);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(R);break;case"hours":this.generateHourScale(R);break;case"minutes_fives":case"minutes":this.generateMinuteScale(R);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(R)}var G=this.timeScaleArray.map((function(z){var F={position:z.position,unit:z.unit,year:z.year,day:z.day?z.day:1,hour:z.hour?z.hour:0,month:z.month+1};return z.unit==="month"?Oe(Oe({},F),{},{day:1,value:z.value+1}):z.unit==="day"||z.unit==="hour"?Oe(Oe({},F),{},{value:z.value}):z.unit==="minute"?Oe(Oe({},F),{},{value:z.value,minute:z.value}):z.unit==="second"?Oe(Oe({},F),{},{value:z.value,minute:z.minute,second:z.second}):z}));return G.filter((function(z){var F=1,H=Math.ceil(r.globals.gridWidth/120),Y=z.value;r.config.xaxis.tickAmount!==void 0&&(H=r.config.xaxis.tickAmount),G.length>H&&(F=Math.floor(G.length/H));var J=!1,nt=!1;switch(i.tickInterval){case"years":z.unit==="year"&&(J=!0);break;case"half_year":F=7,z.unit==="year"&&(J=!0);break;case"months":F=1,z.unit==="year"&&(J=!0);break;case"months_fortnight":F=15,z.unit!=="year"&&z.unit!=="month"||(J=!0),Y===30&&(nt=!0);break;case"months_days":F=10,z.unit==="month"&&(J=!0),Y===30&&(nt=!0);break;case"week_days":F=8,z.unit==="month"&&(J=!0);break;case"days":F=1,z.unit==="month"&&(J=!0);break;case"hours":z.unit==="day"&&(J=!0);break;case"minutes_fives":case"seconds_fives":Y%5!=0&&(nt=!0);break;case"seconds_tens":Y%10!=0&&(nt=!0)}if(i.tickInterval==="hours"||i.tickInterval==="minutes_fives"||i.tickInterval==="seconds_tens"||i.tickInterval==="seconds_fives"){if(!nt)return!0}else if((Y%F==0||J)&&!nt)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,r=this.formatDates(t),a=this.removeOverlappingTS(r);i.globals.timescaleLabels=a.slice(),new X2(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,r=t.currentYear,a=t.daysWidthOnXAxis,s=t.numberOfYears,o=e.minYear,l=0,c=new wl(this.ctx),h="year";if(e.minDate>1||e.minMonth>0){var d=c.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);l=(c.determineDaysOfYear(e.minYear)-d+1)*a,o=e.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:h,year:o,month:qt.monthMod(i+1)})}else e.minDate===1&&e.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:h,year:r,month:qt.monthMod(i+1)});for(var g=o,y=l,x=0;x<s;x++)g++,y=c.determineDaysOfYear(g-1)*a+y,this.timeScaleArray.push({position:y,value:g,unit:h,year:g,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,r=t.currentMonth,a=t.currentYear,s=t.daysWidthOnXAxis,o=t.numberOfMonths,l=r,c=0,h=new wl(this.ctx),d="month",g=0;if(e.minDate>1){c=(h.determineDaysOfMonths(r+1,e.minYear)-i+1)*s,l=qt.monthMod(r+1);var y=a+g,x=qt.monthMod(l),w=l;l===0&&(d="year",w=y,x=1,y+=g+=1),this.timeScaleArray.push({position:c,value:w,unit:d,year:y,month:x})}else this.timeScaleArray.push({position:c,value:l,unit:d,year:a,month:qt.monthMod(r)});for(var k=l+1,A=c,T=0,R=1;T<o;T++,R++){(k=qt.monthMod(k))===0?(d="year",g+=1):d="month";var G=this._getYear(a,k,g);A=h.determineDaysOfMonths(k,G)*s+A;var z=k===0?G:k;this.timeScaleArray.push({position:A,value:z,unit:d,year:G,month:k===0?1:k}),k++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,r=t.currentYear,a=t.hoursWidthOnXAxis,s=t.numberOfDays,o=new wl(this.ctx),l="day",c=e.minDate+1,h=c,d=function(R,G,z){return R>o.determineDaysOfMonths(G+1,z)&&(h=1,l="month",y=G+=1),G},g=(24-e.minHour)*a,y=c,x=d(h,i,r);e.minHour===0&&e.minDate===1?(g=0,y=qt.monthMod(e.minMonth),l="month",h=e.minDate):e.minDate!==1&&e.minHour===0&&e.minMinute===0&&(g=0,c=e.minDate,y=c,x=d(h=c,i,r),y!==1&&(l="day")),this.timeScaleArray.push({position:g,value:y,unit:l,year:this._getYear(r,x,0),month:qt.monthMod(x),day:h});for(var w=g,k=0;k<s;k++){l="day",x=d(h+=1,x,this._getYear(r,x,0));var A=this._getYear(r,x,0);w=24*a+w;var T=h===1?qt.monthMod(x):h;this.timeScaleArray.push({position:w,value:T,unit:l,year:A,month:qt.monthMod(x),day:T})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,r=t.currentMonth,a=t.currentYear,s=t.minutesWidthOnXAxis,o=t.numberOfHours,l=new wl(this.ctx),c="hour",h=function(F,H){return F>l.determineDaysOfMonths(H+1,a)&&(k=1,H+=1),{month:H,date:k}},d=function(F,H){return F>l.determineDaysOfMonths(H+1,a)?H+=1:H},g=60-(e.minMinute+e.minSecond/60),y=g*s,x=e.minHour+1,w=x;g===60&&(y=0,w=x=e.minHour);var k=i;w>=24&&(w=0,c="day",x=k+=1);var A=h(k,r).month;A=d(k,A),x>31&&(x=k=1),this.timeScaleArray.push({position:y,value:x,unit:c,day:k,hour:w,year:a,month:qt.monthMod(A)}),w++;for(var T=y,R=0;R<o;R++){c="hour",w>=24&&(w=0,c="day",A=h(k+=1,A).month,A=d(k,A));var G=this._getYear(a,A,0);T=60*s+T;var z=w===0?k:w;this.timeScaleArray.push({position:T,value:z,unit:c,hour:w,day:k,year:G,month:qt.monthMod(A)}),w++}}},{key:"generateMinuteScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,r=t.currentMinute,a=t.currentHour,s=t.currentDate,o=t.currentMonth,l=t.currentYear,c=t.minutesWidthOnXAxis,h=t.secondsWidthOnXAxis,d=t.numberOfMinutes,g=r+1,y=s,x=o,w=l,k=a,A=(60-i-e/1e3)*h,T=0;T<d;T++)g>=60&&(g=0,(k+=1)===24&&(k=0)),this.timeScaleArray.push({position:A,value:g,unit:"minute",hour:k,minute:g,day:y,year:this._getYear(w,x,0),month:qt.monthMod(x)}),A+=c,g++}},{key:"generateSecondScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,r=t.currentMinute,a=t.currentHour,s=t.currentDate,o=t.currentMonth,l=t.currentYear,c=t.secondsWidthOnXAxis,h=t.numberOfSeconds,d=i+1,g=r,y=s,x=o,w=l,k=a,A=(1e3-e)/1e3*c,T=0;T<h;T++)d>=60&&(d=0,++g>=60&&(g=0,++k===24&&(k=0))),this.timeScaleArray.push({position:A,value:d,unit:"second",hour:k,minute:g,second:d,day:y,year:this._getYear(w,x,0),month:qt.monthMod(x)}),A+=c,d++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return t.month===0&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),t.unit==="day"?i+=t.unit==="day"?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),t.unit==="hour"?i+=t.unit==="hour"?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),t.unit==="minute"?i+=":"+("0"+e).slice(-2):i+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),t.unit==="second"?i+=":"+("0"+e).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map((function(r){var a=r.value.toString(),s=new wl(e.ctx),o=e.createRawDateString(r,a),l=s.getDate(s.parseDate(o));if(e.utc||(l=s.getDate(s.parseDateWithTimezone(o))),i.config.xaxis.labels.format===void 0){var c="dd MMM",h=i.config.xaxis.labels.datetimeFormatter;r.unit==="year"&&(c=h.year),r.unit==="month"&&(c=h.month),r.unit==="day"&&(c=h.day),r.unit==="hour"&&(c=h.hour),r.unit==="minute"&&(c=h.minute),r.unit==="second"&&(c=h.second),a=s.formatDate(l,c)}else a=s.formatDate(l,i.config.xaxis.labels.format);return{dateString:o,position:r.position,value:a,unit:r.unit,year:r.year,month:r.month}}))}},{key:"removeOverlappingTS",value:function(t){var e,i=this,r=new Me(this.ctx),a=!1;t.length>0&&t[0].value&&t.every((function(l){return l.value.length===t[0].value.length}))&&(a=!0,e=r.getTextRects(t[0].value).width);var s=0,o=t.map((function(l,c){if(c>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var h=a?e:r.getTextRects(t[s].value).width,d=t[s].position;return l.position>d+h+10?(s=c,l):null}return l}));return o=o.filter((function(l){return l!==null}))}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),n})(),uTt=(function(){function n(t,e){$e(this,n),this.ctx=e,this.w=e.w,this.el=t}return Ve(n,[{key:"setupElements",value:function(){var t=this.w,e=t.globals,i=t.config,r=i.chart.type;e.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(r),e.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(r),e.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(r)&&i.plotOptions.bar.horizontal,e.chartClass=".apexcharts".concat(e.chartID),e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),Me.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas ".concat(e.chartClass.substring(1))}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=window.SVG().addTo(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),e.dom.Paper.node.style.background=i.theme.mode!=="dark"||i.chart.background?i.theme.mode!=="light"||i.chart.background?i.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject"),Me.setAttrs(e.dom.elLegendForeign,{x:0,y:0,width:e.svgWidth,height:e.svgHeight}),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elWrap.appendChild(e.dom.elLegendWrap),e.dom.Paper.node.appendChild(e.dom.elLegendForeign),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,r=this.ctx,a=i.config,s=i.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=a.chart.type||"line",c=null,h=0;s.series.forEach((function(F,H){var Y,J,nt=((Y=t[H])===null||Y===void 0?void 0:Y.type)==="column"?"bar":((J=t[H])===null||J===void 0?void 0:J.type)||(l==="column"?"bar":l);o[nt]?(nt==="rangeArea"?(o[nt].series.push(s.seriesRangeStart[H]),o[nt].seriesRangeEnd.push(s.seriesRangeEnd[H])):o[nt].series.push(F),o[nt].i.push(H),nt==="bar"&&(i.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(nt)?c=nt:console.warn("You have specified an unrecognized series type (".concat(nt,").")),l!==nt&&nt!=="scatter"&&h++})),h>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),o.bar.series.length>0&&a.plotOptions.bar.horizontal&&(h-=o.bar.series.length,o.bar={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),s.comboCharts||(s.comboCharts=h>0);var d=new xP(r,e),g=new yP(r,e);r.pie=new j7(r);var y=new eTt(r);r.rangeBar=new nTt(r,e);var x=new tTt(r),w=[];if(s.comboCharts){var k,A,T=new ps(r);if(o.area.series.length>0&&(k=w).push.apply(k,wo(T.drawSeriesByGroup(o.area,s.areaGroups,"area",d))),o.bar.series.length>0)if(a.chart.stacked){var R=new r4(r,e);w.push(R.draw(o.bar.series,o.bar.i))}else r.bar=new $b(r,e),w.push(r.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&w.push(d.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(A=w).push.apply(A,wo(T.drawSeriesByGroup(o.line,s.lineGroups,"line",d))),o.candlestick.series.length>0&&w.push(g.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&w.push(g.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&w.push(r.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var G=new xP(r,e,!0);w.push(G.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var z=new xP(r,e,!0);w.push(z.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(a.chart.type){case"line":w=d.draw(s.series,"line");break;case"area":w=d.draw(s.series,"area");break;case"bar":a.chart.stacked?w=new r4(r,e).draw(s.series):(r.bar=new $b(r,e),w=r.bar.draw(s.series));break;case"candlestick":w=new yP(r,e).draw(s.series,"candlestick");break;case"boxPlot":w=new yP(r,e).draw(s.series,a.chart.type);break;case"rangeBar":w=r.rangeBar.draw(s.series);break;case"rangeArea":w=d.draw(s.seriesRangeStart,"rangeArea",void 0,s.seriesRangeEnd);break;case"heatmap":w=new JAt(r,e).draw(s.series);break;case"treemap":w=new oTt(r,e).draw(s.series);break;case"pie":case"donut":case"polarArea":w=r.pie.draw(s.series);break;case"radialBar":w=y.draw(s.series);break;case"radar":w=x.draw(s.series);break;default:w=d.draw(s.series)}return w}},{key:"setSVGDimensions",value:function(){var t=this.w,e=t.globals,i=t.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",e.svgWidth=i.chart.width,e.svgHeight=i.chart.height;var r=qt.getDimensions(this.el),a=i.chart.width.toString().split(/[0-9]+/g).pop();a==="%"?qt.isNumber(r[0])&&(r[0].width===0&&(r=qt.getDimensions(this.el.parentNode)),e.svgWidth=r[0]*parseInt(i.chart.width,10)/100):a!=="px"&&a!==""||(e.svgWidth=parseInt(i.chart.width,10));var s=String(i.chart.height).toString().split(/[0-9]+/g).pop();if(e.svgHeight!=="auto"&&e.svgHeight!=="")if(s==="%"){var o=qt.getDimensions(this.el.parentNode);e.svgHeight=o[1]*parseInt(i.chart.height,10)/100}else e.svgHeight=parseInt(i.chart.height,10);else e.svgHeight=e.axisCharts?e.svgWidth/1.61:e.svgWidth/1.2;if(e.svgWidth=Math.max(e.svgWidth,0),e.svgHeight=Math.max(e.svgHeight,0),Me.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),s!=="%"){var l=i.chart.sparkline.enabled?0:e.axisCharts?i.chart.parentHeightOffset:0;e.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(e.svgHeight+l,"px")}e.dom.elWrap.style.width="".concat(e.svgWidth,"px"),e.dom.elWrap.style.height="".concat(e.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i=t.translateX;Me.setAttrs(t.dom.elGraphical.node,{transform:"translate(".concat(i,", ").concat(e,")")})}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,r=t.config.chart.sparkline.enabled?1:15;r+=t.config.grid.padding.bottom,["top","bottom"].includes(t.config.legend.position)&&t.config.legend.show&&!t.config.legend.floating&&(i=new A7(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var a=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),s=2.05*t.globals.radialSize;if(a&&!t.config.chart.sparkline.enabled&&t.config.plotOptions.radialBar.startAngle!==0){var o=qt.getBoundingClientRect(a);s=o.bottom;var l=o.bottom-o.top;s=Math.max(2.05*t.globals.radialSize,l)}var c=Math.ceil(s+e.translateY+i+r);e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",c),t.config.chart.height&&String(t.config.chart.height).includes("%")||(e.dom.elWrap.style.height="".concat(c,"px"),Me.setAttrs(e.dom.Paper.node,{height:c}),e.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new Gj(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map((function(){return[]}))},i=new w7,r=this.w.globals,a={dataWasParsed:r.dataWasParsed,originalSeries:r.originalSeries};i.initGlobalVars(r),r.seriesXvalues=e(),r.seriesYvalues=e(),a.dataWasParsed&&(r.dataWasParsed=a.dataWasParsed,r.originalSeries=a.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var t=this.w,e=null;if(t.globals.axisCharts){if(t.config.xaxis.crosshairs.position==="back"&&new Wj(this.ctx).drawXCrosshairs(),t.config.yaxis[0].crosshairs.position==="back"&&new Wj(this.ctx).drawYCrosshairs(),t.config.xaxis.type==="datetime"&&t.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new cTt(this.ctx);var i=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}e=new ps(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.ctx,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var r=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];r.forEach((function(a){var s=e.constructor.getChartByID(a);s.w.globals.brushSource=t.ctx,typeof s.w.config.chart.events.zoomed!="function"&&(s.w.config.chart.events.zoomed=function(){return t.updateSourceChart(s)}),typeof s.w.config.chart.events.scrolled!="function"&&(s.w.config.chart.events.scrolled=function(){return t.updateSourceChart(s)})})),i.config.chart.events.selection=function(a,s){r.forEach((function(o){e.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:s.xaxis.min,max:s.xaxis.max}},!1,!1,!1,!1)}))}}}}]),n})(),hTt=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(o){var l=[e.ctx];a&&(l=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(l=[e.ctx],e.ctx.w.globals.isExecCalled=!1),l.forEach((function(c,h){var d=c.w;if(d.globals.shouldAnimate=r,i||(d.globals.resized=!0,d.globals.dataChanged=!0,r&&c.series.getPreviousPaths()),t&&Oc(t)==="object"&&(c.config=new A_(t),t=ps.extendArrayProps(c.config,t,d),c.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,d.config=qt.extend(d.config,t),s&&(d.globals.lastXAxis=t.xaxis?qt.clone(t.xaxis):[],d.globals.lastYAxis=t.yaxis?qt.clone(t.yaxis):[],d.globals.initialConfig=qt.extend({},d.config),d.globals.initialSeries=qt.clone(d.config.series),t.series))){for(var g=0;g<d.globals.collapsedSeriesIndices.length;g++){var y=d.config.series[d.globals.collapsedSeriesIndices[g]];d.globals.collapsedSeries[g].data=d.globals.axisCharts?y.data.slice():y}for(var x=0;x<d.globals.ancillaryCollapsedSeriesIndices.length;x++){var w=d.config.series[d.globals.ancillaryCollapsedSeriesIndices[x]];d.globals.ancillaryCollapsedSeries[x].data=d.globals.axisCharts?w.data.slice():w}c.series.emptyCollapsedSeries(d.config.series)}return c.update(t).then((function(){h===l.length-1&&o(c)}))}))}))}},{key:"_updateSeries",value:function(t,e){var i=this,r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(a){var s=i.w;return s.globals.shouldAnimate=e,s.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),i.ctx.data.resetParsingFlags(),i.ctx.data.parseData(t),r&&(s.globals.initialConfig.series=qt.clone(s.config.series),s.globals.initialSeries=qt.clone(s.config.series)),i.ctx.update().then((function(){a(i.ctx)}))}))}},{key:"_extendSeries",value:function(t,e){var i=this.w,r=i.config.series[e];return Oe(Oe({},i.config.series[e]),{},{name:t.name?t.name:r?.name,color:t.color?t.color:r?.color,type:t.type?t.type:r?.type,group:t.group?t.group:r?.group,hidden:t.hidden!==void 0?t.hidden:r?.hidden,data:t.data?t.data:r?.data,zIndex:t.zIndex!==void 0?t.zIndex:e})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,r=null,a=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?r=i.globals.dom.Paper.findOne("".concat(a," path[j='").concat(e,"'], ").concat(a," circle[j='").concat(e,"'], ").concat(a," rect[j='").concat(e,"']")):e===void 0&&(r=i.globals.dom.Paper.findOne("".concat(a," path[j='").concat(t,"']")),i.config.chart.type!=="pie"&&i.config.chart.type!=="polarArea"&&i.config.chart.type!=="donut"||this.ctx.pie.pieClicked(t)),r?(new Me(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach((function(r){t.xaxis[r]!==void 0&&(e.config.xaxis[r]=t.xaxis[r],e.globals.lastXAxis[r]=t.xaxis[r])})),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new C_(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&t.chart.stackType==="100%"&&(Array.isArray(t.yaxis)?t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,r=i.globals.lastXAxis,a=i.globals.lastYAxis;t&&t.xaxis&&(r=t.xaxis),t&&t.yaxis&&(a=t.yaxis),i.config.xaxis.min=r.min,i.config.xaxis.max=r.max;var s=function(o){a[o]!==void 0&&(i.config.yaxis[o].min=a[o].min,i.config.yaxis[o].max=a[o].max)};i.config.yaxis.map((function(o,l){i.globals.zoomed||a[l]!==void 0?s(l):e.ctx.opts.yaxis[l]!==void 0&&(o.min=e.ctx.opts.yaxis[l].min,o.max=e.ctx.opts.yaxis[l].max)}))}}]),n})();(function(){function n(){for(var a=arguments.length>0&&arguments[0]!==d?arguments[0]:[],s=arguments.length>1?arguments[1]:d,o=arguments.length>2?arguments[2]:d,l=arguments.length>3?arguments[3]:d,c=arguments.length>4?arguments[4]:d,h=arguments.length>5?arguments[5]:d,d=arguments.length>6?arguments[6]:d,g=a.slice(s,o||d),y=l.slice(c,h||d),x=0,w={pos:[0,0],start:[0,0]},k={pos:[0,0],start:[0,0]};g[x]=t.call(w,g[x]),y[x]=t.call(k,y[x]),g[x][0]!=y[x][0]||g[x][0]=="M"||g[x][0]=="A"&&(g[x][4]!=y[x][4]||g[x][5]!=y[x][5])?(Array.prototype.splice.apply(g,[x,1].concat(i.call(w,g[x]))),Array.prototype.splice.apply(y,[x,1].concat(i.call(k,y[x])))):(g[x]=e.call(w,g[x]),y[x]=e.call(k,y[x])),!(++x==g.length&&x==y.length);)x==g.length&&g.push(["C",w.pos[0],w.pos[1],w.pos[0],w.pos[1],w.pos[0],w.pos[1]]),x==y.length&&y.push(["C",k.pos[0],k.pos[1],k.pos[0],k.pos[1],k.pos[0],k.pos[1]]);return{start:g,dest:y}}function t(a){switch(a[0]){case"z":case"Z":a[0]="L",a[1]=this.start[0],a[2]=this.start[1];break;case"H":a[0]="L",a[2]=this.pos[1];break;case"V":a[0]="L",a[2]=a[1],a[1]=this.pos[0];break;case"T":a[0]="Q",a[3]=a[1],a[4]=a[2],a[1]=this.reflection[1],a[2]=this.reflection[0];break;case"S":a[0]="C",a[6]=a[4],a[5]=a[3],a[4]=a[2],a[3]=a[1],a[2]=this.reflection[1],a[1]=this.reflection[0]}return a}function e(a){var s=a.length;return this.pos=[a[s-2],a[s-1]],"SCQT".indexOf(a[0])!=-1&&(this.reflection=[2*this.pos[0]-a[s-4],2*this.pos[1]-a[s-3]]),a}function i(a){var s=[a];switch(a[0]){case"M":return this.pos=this.start=[a[1],a[2]],s;case"L":a[5]=a[3]=a[1],a[6]=a[4]=a[2],a[1]=this.pos[0],a[2]=this.pos[1];break;case"Q":a[6]=a[4],a[5]=a[3],a[4]=1*a[4]/3+2*a[2]/3,a[3]=1*a[3]/3+2*a[1]/3,a[2]=1*this.pos[1]/3+2*a[2]/3,a[1]=1*this.pos[0]/3+2*a[1]/3;break;case"A":s=(function(o,l){var c,h,d,g,y,x,w,k,A,T,R,G,z,F,H,Y,J,nt,V,Z,rt,lt,mt,ct,st,xt,dt=Math.abs(l[1]),ht=Math.abs(l[2]),ot=l[3]%360,vt=l[4],St=l[5],Pt=l[6],It=l[7],Nt=new aa(o),Et=new aa(Pt,It),Yt=[];if(dt===0||ht===0||Nt.x===Et.x&&Nt.y===Et.y)return[["C",Nt.x,Nt.y,Et.x,Et.y,Et.x,Et.y]];for(c=new aa((Nt.x-Et.x)/2,(Nt.y-Et.y)/2).transform(new Hi().rotate(ot)),h=c.x*c.x/(dt*dt)+c.y*c.y/(ht*ht),h>1&&(dt*=h=Math.sqrt(h),ht*=h),d=new Hi().rotate(ot).scale(1/dt,1/ht).rotate(-ot),Nt=Nt.transform(d),Et=Et.transform(d),g=[Et.x-Nt.x,Et.y-Nt.y],x=g[0]*g[0]+g[1]*g[1],y=Math.sqrt(x),g[0]/=y,g[1]/=y,w=x<4?Math.sqrt(1-x/4):0,vt===St&&(w*=-1),k=new aa((Et.x+Nt.x)/2+w*-g[1],(Et.y+Nt.y)/2+w*g[0]),A=new aa(Nt.x-k.x,Nt.y-k.y),T=new aa(Et.x-k.x,Et.y-k.y),R=Math.acos(A.x/Math.sqrt(A.x*A.x+A.y*A.y)),A.y<0&&(R*=-1),G=Math.acos(T.x/Math.sqrt(T.x*T.x+T.y*T.y)),T.y<0&&(G*=-1),St&&R>G&&(G+=2*Math.PI),!St&&R<G&&(G-=2*Math.PI),F=Math.ceil(2*Math.abs(R-G)/Math.PI),Y=[],J=R,z=(G-R)/F,H=4*Math.tan(z/4)/3,rt=0;rt<=F;rt++)V=Math.cos(J),nt=Math.sin(J),Z=new aa(k.x+V,k.y+nt),Y[rt]=[new aa(Z.x+H*nt,Z.y-H*V),Z,new aa(Z.x-H*nt,Z.y+H*V)],J+=z;for(Y[0][0]=Y[0][1].clone(),Y[Y.length-1][2]=Y[Y.length-1][1].clone(),d=new Hi().rotate(ot).scale(dt,ht).rotate(-ot),rt=0,lt=Y.length;rt<lt;rt++)Y[rt][0]=Y[rt][0].transform(d),Y[rt][1]=Y[rt][1].transform(d),Y[rt][2]=Y[rt][2].transform(d);for(rt=1,lt=Y.length;rt<lt;rt++)mt=(Z=Y[rt-1][2]).x,ct=Z.y,st=(Z=Y[rt][0]).x,xt=Z.y,Pt=(Z=Y[rt][1]).x,It=Z.y,Yt.push(["C",mt,ct,st,xt,Pt,It]);return Yt})(this.pos,a),a=s[0]}return a[0]="C",this.pos=[a[5],a[6]],this.reflection=[2*a[5]-a[3],2*a[6]-a[4]],s}function r(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;if(s===!1)return!1;for(var o=s,l=a.length;o<l;++o)if(a[o][0]=="M")return o;return!1}jn(sf,{morph:function(a,s,o,l,c){for(var h=this.parse(a),d=this.parse(s),g=0,y=0,x=!1,w=!1;g!==!1||y!==!1;){var k;x=r(h,g!==!1&&g+1),w=r(d,y!==!1&&y+1),g===!1&&(g=(k=new sf(A.start).bbox()).height==0||k.width==0?h.push(h[0])-1:h.push(["M",k.x+k.width/2,k.y+k.height/2])-1),y===!1&&(y=(k=new sf(A.dest).bbox()).height==0||k.width==0?d.push(d[0])-1:d.push(["M",k.x+k.width/2,k.y+k.height/2])-1);var A=n(h,g,x,d,y,w);h=h.slice(0,g).concat(A.start,x===!1?[]:h.slice(x)),d=d.slice(0,y).concat(A.dest,w===!1?[]:d.slice(w)),g=x!==!1&&g+A.start.length,y=w!==!1&&y+A.dest.length}this._array=h,this.destination=new sf,this.destination._array=d;var T=this.fromArray(h.map((function(R,G){var z=d[G].map((function(F,H){return H===0?F:l.step(R[H],d[G][H],o,c[G],c)}));return z})));return T}})})();const a4=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY});class dTt{constructor(t){t.remember("_draggable",this),this.el=t,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(t){const e=!t.type.indexOf("mouse");if(e&&t.which!==1&&t.buttons!==0||this.el.dispatch("beforedrag",{event:t,handler:this}).defaultPrevented)return;t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(a4(t));const i=(e?"mouseup":"touchend")+".drag";zp(window,(e?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),zp(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:t,handler:this,box:this.box})}drag(t){const{box:e,lastClick:i}=this,r=this.el.point(a4(t)),a=r.x-i.x,s=r.y-i.y;if(!a&&!s)return e;const o=e.x+a,l=e.y+s;this.box=new $o(o,l,e.w,e.h),this.lastClick=r,this.el.dispatch("dragmove",{event:t,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(t,e){this.el.type==="svg"?Fy.prototype.move.call(this.el,t,e):this.el.move(t,e)}endDrag(t){this.drag(t),this.el.fire("dragend",{event:t,handler:this,box:this.box}),cd(window,"mousemove.drag"),cd(window,"touchmove.drag"),cd(window,"mouseup.drag"),cd(window,"touchend.drag"),this.init(!0)}}function Uj(n,t,e,i=null){return function(r){r.preventDefault(),r.stopPropagation();var a=r.pageX||r.touches[0].pageX,s=r.pageY||r.touches[0].pageY;t.fire(n,{x:a,y:s,event:r,index:i,points:e})}}function Yj([n,t],{a:e,b:i,c:r,d:a,e:s,f:o}){return[n*e+t*r+s,n*i+t*a+o]}jn(Cl,{draggable(n=!0){return(this.remember("_draggable")||new dTt(this)).init(n),this}});let O7=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new Fy,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=xS();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((t,e,i)=>{const r=this.order[e];this.createHandle.call(this,this.selection,t,e,i,r),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",Uj(r,this.el,this.handlePoints,e))}))}createHandleFn(t){t.polyline()}updateHandleFn(t,e,i,r){const a=r.at(i-1),s=r[(i+1)%r.length],o=e,l=[o[0]-a[0],o[1]-a[1]],c=[o[0]-s[0],o[1]-s[1]],h=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=[l[0]/h,l[1]/h],y=[c[0]/d,c[1]/d],x=[o[0]-10*g[0],o[1]-10*g[1]],w=[o[0]-10*y[0],o[1]-10*y[1]];t.plot([x,o,w])}updateResizeHandles(){this.handlePoints.forEach(((t,e,i)=>{const r=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,i,r)}))}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const i=this.getPoint("t");t.get(0).plot(i[0],i[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Uj("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map((i=>Yj(i,e))),this.rotationPoint=Yj(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:i,y2:r,cx:a,cy:s}=this.el.bbox()){return[[t,i],[a,i],[e,i],[e,s],[e,r],[a,r],[t,r],[t,s]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const s4=n=>function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let i=this.remember("_"+n.name);return i||(t.prototype instanceof O7?(i=new t(this),t=!0):i=new n(this),this.remember("_"+n.name,i)),i.active(t,e),this};function $j(n,t,e,i=null){return function(r){r.preventDefault(),r.stopPropagation();var a=r.pageX||r.touches[0].pageX,s=r.pageY||r.touches[0].pageY;t.fire(n,{x:a,y:s,event:r,index:i,points:e})}}function Vj([n,t],{a:e,b:i,c:r,d:a,e:s,f:o}){return[n*e+t*r+s,n*i+t*a+o]}jn(Cl,{select:s4(O7)}),jn([mx,yx,px],{pointSelect:s4(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new Fy,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=xS();this.observer=new t.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,t){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((n,t,e)=>{this.createHandle.call(this,this.selection,n,t,e),this.selection.get(t+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Uj("point",this.el,this.points,t))}))}createHandleFn(n){n.circle(5)}updateHandleFn(n,t){n.center(t[0],t[1])}updatePointHandles(){this.points.forEach(((n,t,e)=>{this.updateHandle.call(this,this.selection.get(t+1),n,t,e)}))}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((t=>Yj(t,n)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});let L7=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new Fy,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=xS();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((t,e,i)=>{const r=this.order[e];this.createHandle.call(this,this.selection,t,e,i,r),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",$j(r,this.el,this.handlePoints,e))}))}createHandleFn(t){t.polyline()}updateHandleFn(t,e,i,r){const a=r.at(i-1),s=r[(i+1)%r.length],o=e,l=[o[0]-a[0],o[1]-a[1]],c=[o[0]-s[0],o[1]-s[1]],h=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=[l[0]/h,l[1]/h],y=[c[0]/d,c[1]/d],x=[o[0]-10*g[0],o[1]-10*g[1]],w=[o[0]-10*y[0],o[1]-10*y[1]];t.plot([x,o,w])}updateResizeHandles(){this.handlePoints.forEach(((t,e,i)=>{const r=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,i,r)}))}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const i=this.getPoint("t");t.get(0).plot(i[0],i[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",$j("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map((i=>Vj(i,e))),this.rotationPoint=Vj(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:i,y2:r,cx:a,cy:s}=this.el.bbox()){return[[t,i],[a,i],[e,i],[e,s],[e,r],[a,r],[t,r],[t,s]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const o4=n=>function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let i=this.remember("_"+n.name);return i||(t.prototype instanceof L7?(i=new t(this),t=!0):i=new n(this),this.remember("_"+n.name,i)),i.active(t,e),this};jn(Cl,{select:o4(L7)}),jn([mx,yx,px],{pointSelect:o4(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new Fy,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=xS();this.observer=new t.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,t){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((n,t,e)=>{this.createHandle.call(this,this.selection,n,t,e),this.selection.get(t+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",$j("point",this.el,this.points,t))}))}createHandleFn(n){n.circle(5)}updateHandleFn(n,t){n.center(t[0],t[1])}updatePointHandles(){this.points.forEach(((n,t,e)=>{this.updateHandle.call(this,this.selection.get(t+1),n,t,e)}))}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((t=>Vj(t,n)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Gk=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY}),l4=n=>{let t=1/0,e=1/0,i=-1/0,r=-1/0;for(let a=0;a<n.length;a++){const s=n[a];t=Math.min(t,s[0]),e=Math.min(e,s[1]),i=Math.max(i,s[0]),r=Math.max(r,s[1])}return new $o(t,e,i-t,r-e)};let c4=class{constructor(t){this.el=t,t.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(t,e){this.preserveAspectRatio=e.preserveAspectRatio??!1,this.aroundCenter=e.aroundCenter??!1,this.grid=e.grid??0,this.degree=e.degree??0,this.el.off(".resize"),t&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(t){this.eventType=t.type;const{event:e,index:i,points:r}=t.detail,a=!e.type.indexOf("mouse");if(a&&(e.which||e.buttons)!==1||this.el.dispatch("beforeresize",{event:t,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Gk(e)),this.index=i,this.points=r.slice();const s=(a?"mousemove":"touchmove")+".resize",o=(a?"mouseup":"touchcancel.resize touchend")+".resize";t.type==="point"?zp(window,s,this.movePoint):t.type==="rot"?zp(window,s,this.rotate):zp(window,s,this.resize),zp(window,o,this.endResize)}resize(t){this.lastEvent=t;const e=this.snapToGrid(this.el.point(Gk(t)));let i=e.x-this.startPoint.x,r=e.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(i*=2,r*=2);const a=this.box.x+i,s=this.box.y+r,o=this.box.x2+i,l=this.box.y2+r;let c=new $o(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(a,this.box.x2),c.x2=Math.max(a,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(o,this.box.x),c.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(s,this.box.y2),c.y2=Math.max(s,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const h=c.width/this.box.width,d=c.height/this.box.height,g=["lt","t","rt","r","rb","b","lb","l"],y=(g.indexOf(this.eventType)+4)%g.length,x=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[y];let w=this.eventType.includes("t")||this.eventType.includes("b")?d:h;w=this.eventType.length===2?Math.max(h,d):w,c=(function(k,A,T){const R=[[k.x,k.y],[k.x+k.width,k.y],[k.x+k.width,k.y+k.height],[k.x,k.y+k.height]].map((([G,z])=>{const F=G-A[0],H=(z-A[1])*T;return[F*T+A[0],H+A[1]]}));return l4(R)})(this.box,x,w)}this.el.dispatch("resize",{box:new $o(c),angle:0,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(t){this.lastEvent=t;const{x:e,y:i}=this.snapToGrid(this.el.point(Gk(t))),r=this.el.array().slice();r[this.index]=[e,i],this.el.dispatch("resize",{box:l4(r),angle:0,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.plot(r)}rotate(t){this.lastEvent=t;const e=this.startPoint,i=this.el.point(Gk(t)),{cx:r,cy:a}=this.box,s=e.x-r,o=e.y-a,l=i.x-r,c=i.y-a,h=Math.sqrt(s*s+o*o)*Math.sqrt(l*l+c*c);if(h===0)return;let d=Math.acos((s*l+o*c)/h)/Math.PI*180;if(!d)return;i.x<e.x&&(d=-d);const g=new Hi(this.el),{x:y,y:x}=new aa(r,a).transformO(g),{rotate:w}=g.decompose(),k=this.snapToAngle(w+d)-w;this.el.dispatch("resize",{box:this.box,angle:k,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.transform(g.rotateO(k,y,x))}endResize(t){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(t),this.lastEvent=null,this.eventType="",cd(window,"mousemove.resize touchmove.resize"),cd(window,"mouseup.resize touchend.resize")}snapToGrid(t){return this.grid&&(t.x=Math.round(t.x/this.grid)*this.grid,t.y=Math.round(t.y/this.grid)*this.grid),t}snapToAngle(t){return this.degree&&(t=Math.round(t/this.degree)*this.degree),t}};jn(Cl,{resize:function(n=!0,t={}){typeof n=="object"&&(t=n,n=!0);let e=this.remember("_ResizeHandler");return e||(n.prototype instanceof c4?(e=new n(this),n=!0):e=new c4(this),this.remember("_resizeHandler",e)),e.active(n,t),this}}),window.SVG===void 0&&(window.SVG=TAt),window.Apex===void 0&&(window.Apex={});var u4=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new m1(this.ctx),this.ctx.axes=new IAt(this.ctx),this.ctx.core=new uTt(this.ctx.el,this.ctx),this.ctx.config=new A_({}),this.ctx.data=new gR(this.ctx),this.ctx.grid=new k7(this.ctx),this.ctx.graphics=new Me(this.ctx),this.ctx.coreUtils=new ps(this.ctx),this.ctx.crosshairs=new Wj(this.ctx),this.ctx.events=new LAt(this.ctx),this.ctx.exports=new Vw(this.ctx),this.ctx.fill=new cf(this.ctx),this.ctx.localization=new RAt(this.ctx),this.ctx.options=new ux,this.ctx.responsive=new zAt(this.ctx),this.ctx.series=new hd(this.ctx),this.ctx.theme=new FAt(this.ctx),this.ctx.formatters=new _S(this.ctx),this.ctx.titleSubtitle=new BAt(this.ctx),this.ctx.legend=new A7(this.ctx),this.ctx.toolbar=new T7(this.ctx),this.ctx.tooltip=new i4(this.ctx),this.ctx.dimensions=new X2(this.ctx),this.ctx.updateHelpers=new hTt(this.ctx),this.ctx.zoomPanSelection=new $At(this.ctx),this.ctx.w.globals.tooltip=new i4(this.ctx)}}]),n})(),h4=(function(){function n(t){$e(this,n),this.ctx=t,this.w=t.w}return Ve(n,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each((function(){this.removeClass("*"),this.off()}),!0),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!i&&(r.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach((function(o){a.removeEventListener(o,e.ctx.events.documentEvent)}));var s=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(s.Paper),s.Paper.remove(),s.elWrap=null,s.elGraphical=null,s.elLegendWrap=null,s.elLegendForeign=null,s.baseEl=null,s.elGridRect=null,s.elGridRectMask=null,s.elGridRectBarMask=null,s.elGridRectMarkerMask=null,s.elForecastMask=null,s.elNonForecastMask=null,s.elDefs=null}}]),n})(),bP=new WeakMap,fTt=(function(){function n(t,e){$e(this,n),this.opts=e,this.ctx=this,this.w=new OAt(e).init(),this.el=t,this.w.globals.cuid=qt.randomId(),this.w.globals.chartID=this.w.config.chart.id?qt.escapeString(this.w.config.chart.id):this.w.globals.cuid,new u4(this).initModules(),this.lastUpdateOptions=null,this.create=qt.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Ve(n,[{key:"render",value:function(){var t=this;return new Promise((function(e,i){if(qt.elementExists(t.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var r=t.w.config.chart.events.beforeMount;typeof r=="function"&&r(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),(function(g,y){var x=!1;if(g.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var w=g.getBoundingClientRect();g.style.display!=="none"&&w.width!==0||(x=!0)}var k=new ResizeObserver((function(A){x&&y.call(g,A),x=!0}));g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(g.children).forEach((function(A){return k.observe(A)})):k.observe(g),bP.set(y,k)})(t.el.parentNode,t.parentResizeHandler);var a=t.el.getRootNode&&t.el.getRootNode(),s=qt.is("ShadowRoot",a),o=t.el.ownerDocument,l=s?a.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var h=((c=t.opts.chart)===null||c===void 0?void 0:c.nonce)||t.w.config.chart.nonce;h&&l.setAttribute("nonce",h),s?a.prepend(l):t.w.config.chart.injectStyleSheet!==!1&&o.head.appendChild(l)}var d=t.create(t.w.config.series,{});if(!d)return e(t);t.mount(d).then((function(){typeof t.w.config.chart.events.mounted=="function"&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(d)})).catch((function(g){i(g)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(t,e){var i=this,r=this.w;new u4(this).initModules();var a=this.w.globals;if(a.noData=!1,a.animationEnded=!1,!qt.elementExists(this.el)||(this.responsive.checkResponsiveConfig(e),r.config.xaxis.convertedCatToNumeric&&new C_(r.config).convertCatToNumericXaxis(r.config,this.ctx),this.core.setupElements(),r.config.chart.type==="treemap"&&(r.config.grid.show=!1,r.config.yaxis[0].show=!1),a.svgWidth===0))return a.animationEnded=!0,null;var s=t;t.forEach((function(g,y){g.hidden&&(s=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:y}))}));var o=ps.checkComboSeries(s,r.config.chart.type);a.comboCharts=o.comboCharts,a.comboBarCount=o.comboBarCount;var l=s.every((function(g){return g.data&&g.data.length===0}));(s.length===0||l&&a.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(s),this.theme.init(),new b1(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),a.noData&&a.collapsedSeries.length!==a.series.length&&!r.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),a.axisCharts&&(this.core.coreCalculations(),r.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=r.globals.minX,this.ctx.toolbar.maxX=r.globals.maxX),this.formatters.heatmapLabelFormatters(),new ps(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var h=this.core.plotChartType(s,c),d=new Yb(this);return d.bringForward(),r.config.dataLabels.background.enabled&&d.dataLabelsBackground(),this.core.shiftGraphPosition(),r.globals.dataPoints>50&&r.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:h,xyRatios:c,dimensions:{plot:{left:r.globals.translateX,top:r.globals.translateY,width:r.globals.gridWidth,height:r.globals.gridHeight}}}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this,r=i.w;return new Promise((function(a,s){if(i.el===null)return s(new Error("Not enough data to display or target element not found"));(e===null||r.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new k7(i);var o,l,c=i.grid.drawGrid();if(i.annotations=new DAt(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),r.config.grid.position==="back"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(o=c.elGridBorders)!==null&&o!==void 0&&o.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(e.elGraph))for(var h=0;h<e.elGraph.length;h++)r.globals.dom.elGraphical.add(e.elGraph[h]);else r.globals.dom.elGraphical.add(e.elGraph);r.config.grid.position==="front"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),r.config.xaxis.crosshairs.position==="front"&&i.crosshairs.drawXCrosshairs(),r.config.yaxis[0].crosshairs.position==="front"&&i.crosshairs.drawYCrosshairs(),r.config.chart.type!=="treemap"&&i.axes.drawAxis(r.config.chart.type,c);var d=new T_(t.ctx,c),g=new pR(t.ctx,c);if(c!==null&&(d.xAxisLabelCorrections(c.xAxisTickWidth),g.setYAxisTextAlignments(),r.config.yaxis.map((function(x,w){r.globals.ignoreYAxisIndexes.indexOf(w)===-1&&g.yAxisTitleRotate(w,x.opposite)}))),i.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var y=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(x){y[x]=!1}))}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach((function(x){x.method(x.params,!1,x.context)})),r.globals.axisCharts||r.globals.noData||i.core.resizeNonAxisCharts(),a(i)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(e,i){var r=bP.get(i);r&&(r.disconnect(),bP.delete(i))})(this.el.parentNode,this.parentResizeHandler);var t=this.w.config.chart.id;t&&Apex._chartInstances.forEach((function(e,i){e.id===qt.escapeString(t)&&Apex._chartInstances.splice(i,1)})),new h4(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(t)?this:(t.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(l,c){return e.updateHelpers._extendSeries(l,c)}))),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,r,a,s))}},{key:"updateSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var r=this.w.config.series.slice();return r.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this;i.data.resetParsingFlags(),i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var r=i.w.config.series.slice(),a=0;a<r.length;a++)if(t[a]!==null&&t[a]!==void 0)for(var s=0;s<t[a].data.length;s++)r[a].data.push(t[a].data[s]);return i.w.config.series=r,e&&(i.w.globals.initialSeries=qt.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise((function(i,r){if(e.lastUpdateOptions&&JSON.stringify(e.lastUpdateOptions)===JSON.stringify(t))return i(e);e.lastUpdateOptions=qt.clone(t),new h4(e.ctx).clear({isUpdating:!0});var a=e.create(e.w.config.series,t);if(!a)return i(e);e.mount(a).then((function(){typeof e.w.config.chart.events.updated=="function"&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)})).catch((function(s){r(s)}))}))}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(i){e.push(i)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter((function(e){if(e.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"highlightSeries",value:function(t){this.series.highlightSeries(t)}},{key:"isSeriesHidden",value:function(t){this.series.isSeriesHidden(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addXaxisAnnotationExternal(t,e,r)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addYaxisAnnotationExternal(t,e,r)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;i&&(r=i),r.annotations.addPointAnnotationExternal(t,e,r)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Gj(this.ctx).getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Gj(this.ctx).getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new Vw(this.ctx).dataURI(t)}},{key:"getSvgString",value:function(t){return new Vw(this.ctx).getSvgString(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Vw(this.ctx).exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;typeof t=="function"&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=qt.escapeString(t);if(Apex._chartInstances){var i=Apex._chartInstances.filter((function(r){return r.id===e}))[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),e=0;e<t.length;e++)new n(t[e],JSON.parse(t[e].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var r=null;if(i.publicMethods.indexOf(e)!==-1){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];r=i[e].apply(i,s)}return r}}},{key:"merge",value:function(t,e){return qt.extend(t,e)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),n})(),wP={exports:{}},_P,d4;function gTt(){if(d4)return _P;d4=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _P=n,_P}var SP,f4;function pTt(){if(f4)return SP;f4=1;var n=gTt();function t(){}function e(){}return e.resetWarningCache=t,SP=function(){function i(s,o,l,c,h,d){if(d!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},SP}var g4;function mTt(){return g4||(g4=1,wP.exports=pTt()()),wP.exports}var yTt=mTt();const ef=Al(yTt);function vTt(n,t,e){return(t=(function(i){var r=(function(a,s){if(typeof a!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var l=o.call(a,s);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)})(i,"string");return typeof r=="symbol"?r:r+""})(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Xj(){return Xj=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Xj.apply(null,arguments)}function p4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),e.push.apply(e,i)}return e}function R7(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(e),!0).forEach((function(i){vTt(n,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):p4(Object(e)).forEach((function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))}))}return n}function M_(n){return M_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M_(n)}var xTt=["type","width","height","series","options","chartRef"];function kP(n){return n&&M_(n)==="object"&&!Array.isArray(n)}function I7(n,t){var e=R7({},n);return kP(n)&&kP(t)&&Object.keys(t).forEach((function(i){kP(t[i])?e[i]=i in n?I7(n[i],t[i]):t[i]:e[i]=t[i]})),e}function qj(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(n===t)return!0;if(M_(n)!=="object"||n===null||M_(t)!=="object"||t===null)return!1;if(e.has(n)||e.has(t))return!0;e.add(n),e.add(t);var i=Object.keys(n),r=Object.keys(t);if(i.length!==r.length)return!1;for(var a=0,s=i;a<s.length;a++){var o=s[a];if(!r.includes(o)||!qj(n[o],t[o],e))return!1}return!0}var bTt=["type","series","options","width","height","chartRef"];function z7(n){var t=n.type,e=t===void 0?"line":t,i=n.width,r=i===void 0?"100%":i,a=n.height,s=a===void 0?"auto":a,o=n.series,l=n.options,c=n.chartRef,h=(function(R,G){if(R==null)return{};var z,F,H=(function(J,nt){if(J==null)return{};var V={};for(var Z in J)if({}.hasOwnProperty.call(J,Z)){if(nt.includes(Z))continue;V[Z]=J[Z]}return V})(R,G);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(R);for(F=0;F<Y.length;F++)z=Y[F],G.includes(z)||{}.propertyIsEnumerable.call(R,z)&&(H[z]=R[z])}return H})(n,xTt),d=N.useRef(null),g=N.useRef(null),y=N.useRef(null),x=c||y,w=function(){return I7(l,{chart:{type:e,height:s,width:r},series:o})};N.useEffect((function(){return x.current=new fTt(d.current,w()),x.current.render(),g.current=l,function(){x.current&&typeof x.current.destroy=="function"&&x.current.destroy()}}),[]),N.useEffect((function(){if(x.current&&x.current.w){var R=!qj(x.current.w.config.series,o),G=!qj(g.current,l)||s!==x.current.opts.chart.height||r!==x.current.opts.chart.width;(R||G)&&(R?G?x.current.updateOptions(w()):x.current.updateSeries(o):x.current.updateOptions(w())),g.current=l}}),[l,o,s,r]);var k,A,T=(k=bTt,A=R7({},h),k.forEach((function(R){delete A[R]})),A);return mr.createElement("div",Xj({ref:d},T))}z7.propTypes={type:ef.string.isRequired,series:ef.array.isRequired,options:ef.object.isRequired,width:ef.oneOfType([ef.string,ef.number]),height:ef.oneOfType([ef.string,ef.number]),chartRef:ef.shape({current:ef.any})};const wTt="https://api_gold.thinkdiff.us/view_full_data_json/10_12_2025/10_12_2025_9_40.json",_Tt=()=>{const[n,t]=N.useState(!1),[e,i]=N.useState(null),[r,a]=N.useState([]),[s,o]=N.useState([]),[l,c]=N.useState([]);N.useEffect(()=>{(async()=>{t(!0),i(null);try{const A=await fetch(wTt);if(!A.ok)throw new Error(`HTTP li: ${A.status}`);const R=(await A.json())?.data?.XAGUSD;if(!Array.isArray(R)||R.length===0){i("Khng c d liu gi XAG");return}const G=R.map(H=>H.timestamp),z=R.map(H=>Number(H.close_price??0)),F=R.map(H=>Number(H.volume??0));a(G),o(z),c(F)}catch(A){console.error(A)}finally{t(!1)}})()},[]);const h=N.useMemo(()=>l.length?l.reduce((k,A)=>k+A,0)/l.length:0,[l]),d=N.useMemo(()=>l.map(k=>k>h?"#39ff14":"#ff4500"),[l,h]),g=[{name:"Gi XAG",type:"line",data:s,color:"#00BFFF",yaxisIndex:0},{name:"Volume XAG",type:"column",data:l,yaxisIndex:1}],y=s.length?Math.min(...s)*.9:0,x=s.length?Math.max(...s)*1.1:100,w={chart:{height:450,type:"line",stacked:!1,toolbar:{show:!0},background:"#000",foreColor:"#f8f8f8"},title:{text:"Biu  Gi Bc (XAG) v Volume",align:"left",style:{fontSize:"18px",fontWeight:700,color:"#f8f8f8"}},stroke:{show:!0,width:[3,0],colors:["#00BFFF","transparent"]},fill:{opacity:[1,.95],type:["solid","solid"]},plotOptions:{bar:{horizontal:!1,columnWidth:"90%",borderRadius:0,distributed:!0}},dataLabels:{enabled:!1},xaxis:{categories:r,title:{text:"Thi im",style:{fontWeight:600}},labels:{rotate:-45,style:{colors:"#999",fontSize:"12px"}}},yaxis:[{title:{text:"Gi XAG (USD/oz)",style:{fontWeight:600}},labels:{formatter:k=>k.toFixed(2),style:{colors:"#00BFFF"}},tickAmount:5,min:y,max:x},{opposite:!0,title:{text:"Volume (Khi lng)",style:{fontWeight:600,color:"#39ff14"}},labels:{formatter:k=>(k/1e3).toFixed(0)+"K",style:{colors:"#39ff14"}},min:0,tickAmount:5}],grid:{borderColor:"#333",strokeDashArray:3},tooltip:{theme:"dark",y:{formatter:(k,{seriesIndex:A})=>A===1?k.toLocaleString()+" Volume":k.toFixed(2)+" USD/oz"}},legend:{position:"top",horizontalAlign:"left",fontSize:"13px",markers:{radius:6},labels:{colors:["#f8f8f8"]}},colors:["#00BFFF",...d]};return n?u.jsx("div",{style:{textAlign:"center",padding:"50px",color:"#f8f8f8",backgroundColor:"#000"},children:"ang ti d liu biu ..."}):u.jsxs("div",{style:{marginTop:"30px",padding:"20px",borderRadius:"8px",backgroundColor:"#000",border:"1px solid #333",boxShadow:"0 1px 3px rgba(255,255,255,0.05)"},children:[u.jsx("h3",{style:{borderBottom:"1px solid #333",paddingBottom:"10px",marginBottom:"10px",color:"#f8f8f8"},children:"Biu  Gi Bc (XAG) v Volume"}),e&&u.jsx("p",{style:{color:"#ff4500",textAlign:"center",marginBottom:"10px"},children:e}),s.length>0?u.jsx(z7,{options:w,series:g,type:"line",height:450}):u.jsx("div",{style:{textAlign:"center",padding:"50px",color:"#f8f8f8"},children:"Khng c d liu  hin th."})]})};gi.register(qr,Ji,Fa,Xo,Qi,sr,dh);const STt="https://api_gold.thinkdiff.us/volume_data_xagusd_phantich",kTt="https://api_gold.thinkdiff.us/volume_data_xauusd_phantich",m4=(n,t)=>t?`${n}/${t}`:n,CTt=n=>{const t=String(n.getMonth()+1).padStart(2,"0"),e=String(n.getDate()).padStart(2,"0"),i=n.getFullYear();return`${t}_${e}_${i}`},ATt=()=>{const[n,t]=N.useState(!1),[e,i]=N.useState([]),[r,a]=N.useState([]),[s,o]=N.useState([]),[l,c]=N.useState([]),[h,d]=N.useState([]),[g,y]=N.useState(null),[x,w]=N.useState(new Date(2025,11,9)),k=N.useRef(new Set),A=async nt=>{const V=CTt(nt);if(!k.current.has(V)){k.current.add(V),t(!0),y(null);try{const[Z,rt]=await Promise.all([fetch(m4(STt,V)),fetch(m4(kTt,V))]);if(!Z.ok||!rt.ok)throw new Error("Li fetch API");const lt=await Z.json(),mt=await rt.json(),ct=lt?.data?.phantich_cactuan??[],st=mt?.data?.phantich_cactuan??[],xt=ct.map((dt,ht)=>dt?.phantu_cuoituan?.timestamp?.split(" ")[0]||`Tun ${ht+1}`);i(dt=>[...dt,...xt]),a(dt=>[...dt,...ct.map(ht=>ht?.ti_le_tang_truong??0)]),o(dt=>[...dt,...st.map(ht=>ht?.ti_le_tang_truong??0)]),c(dt=>[...dt,...ct.map(ht=>ht?.volume_trungbinh??0)]),d(dt=>[...dt,...st.map(ht=>ht?.volume_trungbinh??0)])}catch(Z){y(Z.message||"Li khi ti d liu")}finally{t(!1)}}};N.useEffect(()=>{A(x)},[x]);const T=()=>{const nt=new Date(x);nt.setDate(nt.getDate()+1),!(nt>new Date)&&w(nt)},R={labels:e,datasets:[{label:"XAU Growth (%)",data:s,backgroundColor:"#FFD700"},{label:"XAG Growth (%)",data:r,backgroundColor:"#C0C0C0"}]},G={labels:e,datasets:[{label:"XAU Volume",data:h,backgroundColor:"#FFD700"}]},z={labels:e,datasets:[{label:"XAG Volume",data:l,backgroundColor:"#C0C0C0"}]},F={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#f8f8f8"}},title:{display:!0,color:"#f8f8f8",font:{size:16}},zoom:{pan:{enabled:!0,mode:"x",modifierKey:"ctrl"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}},scales:{x:{ticks:{color:"#f8f8f8"},grid:{color:"#333"}},y:{ticks:{color:"#00bfff"},grid:{color:"#333"}}}},H={...F,plugins:{...F.plugins,title:{...F.plugins.title,text:"T l tng trng XAU / XAG"}}},Y={...F,plugins:{...F.plugins,title:{...F.plugins.title,text:"Volume Trung Bnh Vng (XAU)"}}},J={...F,plugins:{...F.plugins,title:{...F.plugins.title,text:"Volume Trung Bnh Bc (XAG)"}}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{marginTop:20,padding:15,borderRadius:6,backgroundColor:"#000",border:"1px solid #333"},children:[u.jsx("h3",{style:{color:"#f8f8f8",borderBottom:"1px solid #333",paddingBottom:8},children:"Biu  T l Tng trng"}),g&&u.jsx("p",{style:{color:"#ff4500",textAlign:"center"},children:g}),(r.length||s.length)>0?u.jsx("div",{style:{height:350},children:u.jsx(bg,{data:R,options:H})}):u.jsx("p",{style:{textAlign:"center",color:"#f8f8f8"},children:"Khng c d liu"}),u.jsx("div",{style:{textAlign:"center",marginTop:15},children:u.jsx("button",{onClick:T,disabled:n,style:{padding:"8px 18px",backgroundColor:"#00bfff",border:"none",borderRadius:4,color:"#fff",cursor:"pointer"},children:n?"ang ti...":"Load thm"})})]}),u.jsxs("div",{style:{marginTop:30},children:[h.length>0&&u.jsx("div",{style:{height:300},children:u.jsx(bg,{data:G,options:Y})}),l.length>0&&u.jsx("div",{style:{height:300,marginTop:20},children:u.jsx(bg,{data:z,options:J})})]})]})};gi.register(qr,Ji,Fa,Xo,Qi,sr);const TTt=({goldData:n,silverData:t})=>{const[e,i]=N.useState(!1);if(!n&&!t)return null;const r=n?(n?.phantich_cactuan||[]).sort((k,A)=>{const T=new Date(k?.phantu_cuoituan?.timestamp||0).getTime();return new Date(A?.phantu_cuoituan?.timestamp||0).getTime()-T}):[],a=t?(t?.phantich_cactuan||[]).sort((k,A)=>{const T=new Date(k?.phantu_cuoituan?.timestamp||0).getTime();return new Date(A?.phantu_cuoituan?.timestamp||0).getTime()-T}):[],s=Math.max(r.length,a.length),o=e?s:Math.min(4,s),l=r.slice(0,o),c=l.map(k=>k?.ti_le_tang_truong||0),h=a.slice(0,o),d=h.map(k=>k?.ti_le_tang_truong||0),g=l.length>=h.length?l:h,y=g.map((k,A)=>{const T=k?.phantu_dautuan,R=k?.phantu_cuoituan;try{const G=q2(T?.timestamp),z=q2(R?.timestamp);return`Tun ${g.length-A}: ${G} - ${z}`}catch{return`Tun ${g.length-A}`}}),x=[...c],w=[...d];for(;x.length<y.length;)x.push(0);for(;w.length<y.length;)w.push(0);return y.length===0?u.jsxs("div",{className:"chart-container",children:[u.jsxs("div",{className:"chart-header",children:[u.jsx("h3",{className:"chart-title",children:"Biu  So snh Vng & Bc"}),u.jsx("button",{className:`filter-btn ${e?"active":""}`,onClick:()=>i(!e),"aria-label":`${e?"Thu gn":"Xem thm"} d liu tun`,children:e?"Thu gn":"Xem thm cc tun"})]}),u.jsx("div",{className:"no-data-message",children:u.jsx("p",{children:"Khng c d liu  hin th biu "})})]}):u.jsxs("div",{className:"chart-container",children:[u.jsxs("div",{className:"chart-header",children:[u.jsx("h3",{className:"chart-title",children:"Biu  So snh T l Tng trng Vng & Bc"}),u.jsx("button",{className:`filter-btn ${e?"active":""}`,onClick:()=>i(!e),"aria-label":`${e?"Thu gn":"Xem thm"} d liu tun`,children:e?"Thu gn":"Xem thm cc tun"})]}),u.jsx("div",{className:"chart-wrapper",children:u.jsx(bg,{data:{labels:y,datasets:[{label:"Vng (XAU/USD)",data:x,backgroundColor:"#f1c40f",borderColor:"#f39c12",borderWidth:1,borderRadius:4,borderSkipped:!1},{label:"Bc (XAG/USD)",data:w,backgroundColor:"#c0c0c0",borderColor:"#95a5a6",borderWidth:1,borderRadius:4,borderSkipped:!1}]},plugins:[{id:"datalabels",afterDraw:k=>{const A=k.ctx;A.font="bold 11px Arial",A.textAlign="center",A.textBaseline="bottom",k.data.datasets.forEach((T,R)=>{k.getDatasetMeta(R).data.forEach((z,F)=>{const H=T.data[F];if(H!==0){const Y=z.x,J=H>=0?z.y-6:z.y+15;A.fillStyle=H>0?"#2ecc71":"#e74c3c",A.fillText(H.toFixed(2)+"%",Y,J)}})})}}],options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:"#fff",font:{size:12},usePointStyle:!0,pointStyle:"rect"}},tooltip:{enabled:!1}},scales:{x:{ticks:{color:"#94a3b8",maxRotation:0,minRotation:0,font:{size:10}},grid:{display:!1}},y:{ticks:{color:"#94a3b8",font:{size:11}},title:{display:!0,text:"T l tng gi (%)",color:"#94a3b8",font:{size:12,weight:"bold"}},grid:{color:"rgba(148, 163, 184, 0.1)"},beginAtZero:!0,min:Math.min(0,Math.min(...x,...w)-5),max:Math.max(...x,...w)+5}},interaction:{mode:"index",intersect:!1}}})})]})},q2=n=>{if(!n)return"-";try{return new Date(n).toLocaleDateString("vi-VN")}catch{return"-"}},lb=n=>typeof n!="number"||isNaN(n)?"0":Math.round(n).toLocaleString("USD"),y4=n=>typeof n!="number"||isNaN(n)?"0.000":parseFloat(n).toFixed(3),v4=({title:n,type:t,data:e,otherData:i})=>{const[r,a]=N.useState(!1),[s,o]=N.useState(!1);if(!e)return null;const l=(e?.phantich_cactuan||[]).sort((g,y)=>{const x=new Date(g?.phantu_cuoituan?.timestamp||0).getTime();return new Date(y?.phantu_cuoituan?.timestamp||0).getTime()-x}),c=s?l:l.slice(0,4),h={...e?.tongket_phantich_toanbo,phantu_dautuan:{...e?.tongket_phantich_toanbo.phantu_cuoituan},phantu_cuoituan:{...e?.tongket_phantich_toanbo.phantu_dautuan}},d=h?.phantu_cuoituan?.close_price-h?.phantu_dautuan?.open_price;return u.jsxs("div",{className:"analysis-block",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("h2",{className:`analysis-title-${t=="au"?"gold":"silver"}`,children:n}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx("button",{className:`filter-btn ${s?"active":""}`,onClick:()=>o(!s),children:s?"Thu gn":"Xem thm cc tun"}),u.jsx("button",{className:`filter-btn ${r?"active":""}`,onClick:()=>a(!r),children:r?"n":"Chi tit gi bn v mua"})]})]}),u.jsxs("table",{className:"analysis-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"Li nhun 1 Ounce - USD"}),u.jsx("th",{children:"T l tng gi"}),u.jsx("th",{children:"Volume trung bnh"}),r&&u.jsxs(u.Fragment,{children:[u.jsx("th",{children:"Gi bn u tun - USD"}),u.jsx("th",{children:"Gi mua u tun - USD"}),u.jsx("th",{children:"Gi bn cui tun - USD"}),u.jsx("th",{children:"Gi mua cui tun - USD"})]})]})}),u.jsxs("tbody",{children:[c&&c.length>0&&c.map((g,y)=>{const x=g?.phantu_dautuan,w=g?.phantu_cuoituan,k=w?.close_price-x?.open_price;return u.jsxs("tr",{children:[u.jsxs("td",{children:[u.jsxs("b",{children:["Tun ",c.length-y]}),u.jsx("br",{}),u.jsxs("small",{children:[q2(x?.timestamp)," - ",q2(w?.timestamp)]})]}),u.jsxs("td",{className:k>=0?"text-up":"text-down",children:[lb(k)," $/ounce"]}),u.jsxs("td",{style:{color:g.ti_le_tang_truong>=0?"#2ecc71":"#e74c3c",fontWeight:"bold"},children:[g?.ti_le_tang_truong.toFixed(2),"%"]}),u.jsx("td",{className:g?.volume_trungbinh>h?.volume_trungbinh?"text-up":"text-down",children:y4(g?.volume_trungbinh)}),r&&u.jsxs(u.Fragment,{children:[u.jsx("td",{children:lb(x?.open_price)}),u.jsx("td",{children:lb(x?.close_price)}),u.jsx("td",{children:lb(w?.open_price)}),u.jsx("td",{children:lb(w?.close_price)})]})]},y)}),u.jsxs("tr",{className:"summary-row",children:[u.jsx("td",{children:u.jsx("b",{children:"TNG KT"})}),u.jsxs("td",{className:d>=0?"text-up":"text-down",children:[lb(d)," $/ounce"]}),u.jsxs("td",{style:{color:h?.ti_le_tang_truong>=0?"#2ecc71":"#e74c3c",fontWeight:"bold"},children:[h?.ti_le_tang_truong.toFixed(2),"%"]}),u.jsx("td",{children:y4(h?.volume_trungbinh)}),r&&u.jsx("td",{colSpan:4})]})]})]})]})},MTt=({fomo:n})=>{const[t,e]=N.useState("chart");if(!n)return null;const i=n;return u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[u.jsx("h2",{style:{color:"#f1c40f",margin:0},children:" Phn tch tng trng Vng & Bc theo tun"}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx("button",{className:`view-toggle-btn ${t==="table"?"active":""}`,onClick:()=>e("table"),children:" Bng"}),u.jsx("button",{className:`view-toggle-btn ${t==="chart"?"active":""}`,onClick:()=>e("chart"),children:" Biu "})]})]}),t==="chart"?u.jsx(TTt,{goldData:i?.nhanxet_vang_tangtruong,silverData:i?.nhanxet_bac_tangtruong}):u.jsxs(u.Fragment,{children:[u.jsx(v4,{title:" Phn tch tng trng ca VNG (XAU/USD) theo tun",type:"au",data:i?.nhanxet_vang_tangtruong}),u.jsx(v4,{title:" Phn tch tng trng ca BC (XAG/USD) theo tun",type:"ag",data:i?.nhanxet_bac_tangtruong})]})]})};var x4=(function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1})(),Xw={toTextLines:function(n){var t=[],e;for(n=[].concat(n);n.length;)e=n.pop(),typeof e=="string"?t.unshift.apply(t,e.split(`
`)):Array.isArray(e)?n.push.apply(n,e):di(n)||t.unshift(""+e);return t},textSize:function(n,t,e){var i=[].concat(t),r=i.length,a=n.font,s=0,o;for(n.font=e.string,o=0;o<r;++o)s=Math.max(n.measureText(i[o]).width,s);return n.font=a,{height:r*e.lineHeight,width:s}},bound:function(n,t,e){return Math.max(n,Math.min(t,e))},arrayDiff:function(n,t){var e=n.slice(),i=[],r,a,s,o;for(r=0,s=t.length;r<s;++r)o=t[r],a=e.indexOf(o),a===-1?i.push([o,1]):e.splice(a,1);for(r=0,s=e.length;r<s;++r)i.push([e[r],-1]);return i},rasterize:function(n){return Math.round(n*x4)/x4}};function CP(n,t){var e=t.x,i=t.y;if(e===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var r=n.x-e,a=n.y-i,s=Math.sqrt(r*r+a*a);return{x:s?r/s:0,y:s?a/s:-1}}function NTt(n,t,e,i,r){switch(r){case"center":e=i=0;break;case"bottom":e=0,i=1;break;case"right":e=1,i=0;break;case"left":e=-1,i=0;break;case"top":e=0,i=-1;break;case"start":e=-e,i=-i;break;case"end":break;default:r*=Math.PI/180,e=Math.cos(r),i=Math.sin(r);break}return{x:n,y:t,vx:e,vy:i}}var PTt=0,F7=1,B7=2,H7=4,G7=8;function Wk(n,t,e){var i=PTt;return n<e.left?i|=F7:n>e.right&&(i|=B7),t<e.top?i|=G7:t>e.bottom&&(i|=H7),i}function ETt(n,t){for(var e=n.x0,i=n.y0,r=n.x1,a=n.y1,s=Wk(e,i,t),o=Wk(r,a,t),l,c,h;!(!(s|o)||s&o);)l=s||o,l&G7?(c=e+(r-e)*(t.top-i)/(a-i),h=t.top):l&H7?(c=e+(r-e)*(t.bottom-i)/(a-i),h=t.bottom):l&B7?(h=i+(a-i)*(t.right-e)/(r-e),c=t.right):l&F7&&(h=i+(a-i)*(t.left-e)/(r-e),c=t.left),l===s?(e=c,i=h,s=Wk(e,i,t)):(r=c,a=h,o=Wk(r,a,t));return{x0:e,x1:r,y0:i,y1:a}}function Uk(n,t){var e=t.anchor,i=n,r,a;return t.clamp&&(i=ETt(i,t.area)),e==="start"?(r=i.x0,a=i.y0):e==="end"?(r=i.x1,a=i.y1):(r=(i.x0+i.x1)/2,a=(i.y0+i.y1)/2),NTt(r,a,n.vx,n.vy,t.align)}var Yk={arc:function(n,t){var e=(n.startAngle+n.endAngle)/2,i=Math.cos(e),r=Math.sin(e),a=n.innerRadius,s=n.outerRadius;return Uk({x0:n.x+i*a,y0:n.y+r*a,x1:n.x+i*s,y1:n.y+r*s,vx:i,vy:r},t)},point:function(n,t){var e=CP(n,t.origin),i=e.x*n.options.radius,r=e.y*n.options.radius;return Uk({x0:n.x-i,y0:n.y-r,x1:n.x+i,y1:n.y+r,vx:e.x,vy:e.y},t)},bar:function(n,t){var e=CP(n,t.origin),i=n.x,r=n.y,a=0,s=0;return n.horizontal?(i=Math.min(n.x,n.base),a=Math.abs(n.base-n.x)):(r=Math.min(n.y,n.base),s=Math.abs(n.base-n.y)),Uk({x0:i,y0:r+s,x1:i+a,y1:r,vx:e.x,vy:e.y},t)},fallback:function(n,t){var e=CP(n,t.origin);return Uk({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:e.x,vy:e.y},t)}},Fp=Xw.rasterize;function jTt(n){var t=n.borderWidth||0,e=n.padding,i=n.size.height,r=n.size.width,a=-r/2,s=-i/2;return{frame:{x:a-e.left-t,y:s-e.top-t,w:r+e.width+t*2,h:i+e.height+t*2},text:{x:a,y:s,w:r,h:i}}}function DTt(n,t){var e=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!e)return null;if(e.xCenter!==void 0&&e.yCenter!==void 0)return{x:e.xCenter,y:e.yCenter};var i=e.getBasePixel();return n.horizontal?{x:i,y:null}:{x:null,y:i}}function OTt(n){return n instanceof i8?Yk.arc:n instanceof pa?Yk.point:n instanceof Fa?Yk.bar:Yk.fallback}function LTt(n,t,e,i,r,a){var s=Math.PI/2;if(a){var o=Math.min(a,r/2,i/2),l=t+o,c=e+o,h=t+i-o,d=e+r-o;n.moveTo(t,c),l<h&&c<d?(n.arc(l,c,o,-Math.PI,-s),n.arc(h,c,o,-s,0),n.arc(h,d,o,0,s),n.arc(l,d,o,s,Math.PI)):l<h?(n.moveTo(l,e),n.arc(h,c,o,-s,s),n.arc(l,c,o,s,Math.PI+s)):c<d?(n.arc(l,c,o,-Math.PI,0),n.arc(l,d,o,0,Math.PI)):n.arc(l,c,o,-Math.PI,Math.PI),n.closePath(),n.moveTo(t,e)}else n.rect(t,e,i,r)}function RTt(n,t,e){var i=e.backgroundColor,r=e.borderColor,a=e.borderWidth;!i&&(!r||!a)||(n.beginPath(),LTt(n,Fp(t.x)+a/2,Fp(t.y)+a/2,Fp(t.w)-a,Fp(t.h)-a,e.borderRadius),n.closePath(),i&&(n.fillStyle=i,n.fill()),r&&a&&(n.strokeStyle=r,n.lineWidth=a,n.lineJoin="miter",n.stroke()))}function ITt(n,t,e){var i=e.lineHeight,r=n.w,a=n.x,s=n.y+i/2;return t==="center"?a+=r/2:(t==="end"||t==="right")&&(a+=r),{h:i,w:r,x:a,y:s}}function zTt(n,t,e){var i=n.shadowBlur,r=e.stroked,a=Fp(e.x),s=Fp(e.y),o=Fp(e.w);r&&n.strokeText(t,a,s,o),e.filled&&(i&&r&&(n.shadowBlur=0),n.fillText(t,a,s,o),i&&r&&(n.shadowBlur=i))}function FTt(n,t,e,i){var r=i.textAlign,a=i.color,s=!!a,o=i.font,l=t.length,c=i.textStrokeColor,h=i.textStrokeWidth,d=c&&h,g;if(!(!l||!s&&!d))for(e=ITt(e,r,o),n.font=o.string,n.textAlign=r,n.textBaseline="middle",n.shadowBlur=i.textShadowBlur,n.shadowColor=i.textShadowColor,s&&(n.fillStyle=a),d&&(n.lineJoin="round",n.lineWidth=h,n.strokeStyle=c),g=0,l=t.length;g<l;++g)zTt(n,t[g],{stroked:d,filled:s,w:e.w,x:e.x,y:e.y+e.h*g})}var W7=function(n,t,e,i){var r=this;r._config=n,r._index=i,r._model=null,r._rects=null,r._ctx=t,r._el=e};Sg(W7.prototype,{_modelize:function(n,t,e,i){var r=this,a=r._index,s=is(La([e.font,{}],i,a)),o=La([e.color,gr.color],i,a);return{align:La([e.align,"center"],i,a),anchor:La([e.anchor,"center"],i,a),area:i.chart.chartArea,backgroundColor:La([e.backgroundColor,null],i,a),borderColor:La([e.borderColor,null],i,a),borderRadius:La([e.borderRadius,0],i,a),borderWidth:La([e.borderWidth,0],i,a),clamp:La([e.clamp,!1],i,a),clip:La([e.clip,!1],i,a),color:o,display:n,font:s,lines:t,offset:La([e.offset,4],i,a),opacity:La([e.opacity,1],i,a),origin:DTt(r._el,i),padding:Is(La([e.padding,4],i,a)),positioner:OTt(r._el),rotation:La([e.rotation,0],i,a)*(Math.PI/180),size:Xw.textSize(r._ctx,t,s),textAlign:La([e.textAlign,"start"],i,a),textShadowBlur:La([e.textShadowBlur,0],i,a),textShadowColor:La([e.textShadowColor,o],i,a),textStrokeColor:La([e.textStrokeColor,o],i,a),textStrokeWidth:La([e.textStrokeWidth,0],i,a)}},update:function(n){var t=this,e=null,i=null,r=t._index,a=t._config,s,o,l,c=La([a.display,!0],n,r);c&&(s=n.dataset.data[r],o=sn(Pn(a.formatter,[s,n]),s),l=di(o)?[]:Xw.toTextLines(o),l.length&&(e=t._modelize(c,l,a,n),i=jTt(e))),t._model=e,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,t){var e=this,i=n.ctx,r=e._model,a=e._rects,s;this.visible()&&(i.save(),r.clip&&(s=r.area,i.beginPath(),i.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),i.clip()),i.globalAlpha=Xw.bound(0,r.opacity,1),i.translate(Fp(t.x),Fp(t.y)),i.rotate(r.rotation),RTt(i,a.frame,r),FTt(i,r.lines,a.text,r),i.restore())}});var BTt=Number.MIN_SAFE_INTEGER||-9007199254740991,HTt=Number.MAX_SAFE_INTEGER||9007199254740991;function mw(n,t,e){var i=Math.cos(e),r=Math.sin(e),a=t.x,s=t.y;return{x:a+i*(n.x-a)-r*(n.y-s),y:s+r*(n.x-a)+i*(n.y-s)}}function b4(n,t){var e=HTt,i=BTt,r=t.origin,a,s,o,l,c;for(a=0;a<n.length;++a)s=n[a],o=s.x-r.x,l=s.y-r.y,c=t.vx*o+t.vy*l,e=Math.min(e,c),i=Math.max(i,c);return{min:e,max:i}}function $k(n,t){var e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);return{vx:(t.x-n.x)/r,vy:(t.y-n.y)/r,origin:n,ln:r}}var U7=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Sg(U7.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,t,e){this._rotation=e,this._rect={x:t.x+n.x,y:t.y+n.y,w:t.w,h:t.h}},contains:function(n){var t=this,e=1,i=t._rect;return n=mw(n,t.center(),-t._rotation),!(n.x<i.x-e||n.y<i.y-e||n.x>i.x+i.w+e*2||n.y>i.y+i.h+e*2)},intersects:function(n){var t=this._points(),e=n._points(),i=[$k(t[0],t[1]),$k(t[0],t[3])],r,a,s;for(this._rotation!==n._rotation&&i.push($k(e[0],e[1]),$k(e[0],e[3])),r=0;r<i.length;++r)if(a=b4(t,i[r]),s=b4(e,i[r]),a.max<s.min||s.max<a.min)return!1;return!0},_points:function(){var n=this,t=n._rect,e=n._rotation,i=n.center();return[mw({x:t.x,y:t.y},i,e),mw({x:t.x+t.w,y:t.y},i,e),mw({x:t.x+t.w,y:t.y+t.h},i,e),mw({x:t.x,y:t.y+t.h},i,e)]}});function Y7(n,t,e){var i=t.positioner(n,t),r=i.vx,a=i.vy;if(!r&&!a)return{x:i.x,y:i.y};var s=e.w,o=e.h,l=t.rotation,c=Math.abs(s/2*Math.cos(l))+Math.abs(o/2*Math.sin(l)),h=Math.abs(s/2*Math.sin(l))+Math.abs(o/2*Math.cos(l)),d=1/Math.max(Math.abs(r),Math.abs(a));return c*=r*d,h*=a*d,c+=t.offset*r,h+=t.offset*a,{x:i.x+c,y:i.y+h}}function GTt(n,t){var e,i,r,a;for(e=n.length-1;e>=0;--e)for(r=n[e].$layout,i=e-1;i>=0&&r._visible;--i)a=n[i].$layout,a._visible&&r._box.intersects(a._box)&&t(r,a);return n}function WTt(n){var t,e,i,r,a,s,o;for(t=0,e=n.length;t<e;++t)i=n[t],r=i.$layout,r._visible&&(o=new Proxy(i._el,{get:(l,c)=>l.getProps([c],!0)[c]}),a=i.geometry(),s=Y7(o,i.model(),a),r._box.update(s,a,i.rotation()));return GTt(n,function(l,c){var h=l._hidable,d=c._hidable;h&&d||d?c._visible=!1:h&&(l._visible=!1)})}var qw={prepare:function(n){var t=[],e,i,r,a,s;for(e=0,r=n.length;e<r;++e)for(i=0,a=n[e].length;i<a;++i)s=n[e][i],t.push(s),s.$layout={_box:new U7,_hidable:!1,_visible:!0,_set:e,_idx:s._index};return t.sort(function(o,l){var c=o.$layout,h=l.$layout;return c._idx===h._idx?h._set-c._set:h._idx-c._idx}),this.update(t),t},update:function(n){var t=!1,e,i,r,a,s;for(e=0,i=n.length;e<i;++e)r=n[e],a=r.model(),s=r.$layout,s._hidable=a&&a.display==="auto",s._visible=r.visible(),t|=s._hidable;t&&WTt(n)},lookup:function(n,t){var e,i;for(e=n.length-1;e>=0;--e)if(i=n[e].$layout,i&&i._visible&&i._box.contains(t))return n[e];return null},draw:function(n,t){var e,i,r,a,s,o;for(e=0,i=t.length;e<i;++e)r=t[e],a=r.$layout,a._visible&&(s=r.geometry(),o=Y7(r._el,r.model(),s),a._box.update(o,s,r.rotation()),r.draw(n,o))}},UTt=function(n){if(di(n))return null;var t=n,e,i,r;if(fi(n))if(!di(n.label))t=n.label;else if(!di(n.r))t=n.r;else for(t="",e=Object.keys(n),r=0,i=e.length;r<i;++r)t+=(r!==0?", ":"")+e[r]+": "+n[e[r]];return""+t},YTt={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:UTt,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},yu="$datalabels",$7="$default";function $Tt(n,t){var e=n.datalabels,i={},r=[],a,s;return e===!1?null:(e===!0&&(e={}),t=Sg({},[t,e]),a=t.labels||{},s=Object.keys(a),delete t.labels,s.length?s.forEach(function(o){a[o]&&r.push(Sg({},[t,a[o],{_key:o}]))}):r.push(t),i=r.reduce(function(o,l){return Bi(l.listeners||{},function(c,h){o[h]=o[h]||{},o[h][l._key||$7]=c}),delete l.listeners,o},{}),{labels:r,listeners:i})}function Kj(n,t,e,i){if(t){var r=e.$context,a=e.$groups,s;t[a._set]&&(s=t[a._set][a._key],s&&Pn(s,[r,i])===!0&&(n[yu]._dirty=!0,e.update(r)))}}function VTt(n,t,e,i,r){var a,s;!e&&!i||(e?i?e!==i&&(s=a=!0):s=!0:a=!0,s&&Kj(n,t.leave,e,r),a&&Kj(n,t.enter,i,r))}function XTt(n,t){var e=n[yu],i=e._listeners,r,a;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")a=qw.lookup(e._labels,t);else if(t.type!=="mouseout")return;r=e._hovered,e._hovered=a,VTt(n,i,r,a,t)}}function qTt(n,t){var e=n[yu],i=e._listeners.click,r=i&&qw.lookup(e._labels,t);r&&Kj(n,i,r,t)}var V7={id:"datalabels",defaults:YTt,beforeInit:function(n){n[yu]={_actives:[]}},beforeUpdate:function(n){var t=n[yu];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(n,t,e){var i=t.index,r=n[yu],a=r._datasets[i]=[],s=n.isDatasetVisible(i),o=n.data.datasets[i],l=$Tt(o,e),c=t.meta.data||[],h=n.ctx,d,g,y,x,w,k,A,T;for(h.save(),d=0,y=c.length;d<y;++d)if(A=c[d],A[yu]=[],s&&A&&n.getDataVisibility(d)&&!A.skip)for(g=0,x=l.labels.length;g<x;++g)w=l.labels[g],k=w._key,T=new W7(w,h,A,d),T.$groups={_set:i,_key:k||$7},T.$context={active:!1,chart:n,dataIndex:d,dataset:o,datasetIndex:i},T.update(T.$context),A[yu].push(T),a.push(T);h.restore(),Sg(r._listeners,l.listeners,{merger:function(R,G,z){G[R]=G[R]||{},G[R][t.index]=z[R],r._listened=!0}})},afterUpdate:function(n){n[yu]._labels=qw.prepare(n[yu]._datasets)},afterDatasetsDraw:function(n){qw.draw(n,n[yu]._labels)},beforeEvent:function(n,t){if(n[yu]._listened){var e=t.event;switch(e.type){case"mousemove":case"mouseout":XTt(n,e);break;case"click":qTt(n,e);break}}},afterEvent:function(n){var t=n[yu],e=t._actives,i=t._actives=n.getActiveElements(),r=Xw.arrayDiff(e,i),a,s,o,l,c,h,d;for(a=0,s=r.length;a<s;++a)if(c=r[a],c[1])for(d=c[0].element[yu]||[],o=0,l=d.length;o<l;++o)h=d[o],h.$context.active=c[1]===1,h.update(h.$context);(t._dirty||r.length)&&(qw.update(t._labels),n.render()),delete t._dirty}};gi.register(qr,Ji,Fa,Xr,pa,Qi,sr,dh);const KTt=(n,t)=>{const e={hour:"2-digit",minute:"2-digit",hour12:!1};return t||(e.year="numeric",e.month="2-digit",e.day="2-digit"),new Date(n).toLocaleString("vi-VN",e)},ZTt=(n,t)=>n.map(e=>Number(e.volume)>=t?"#00FF3C":"#FF3333"),w4=({data:n,title:t,avgVolume:e,enableZoom:i=!0})=>{const[r,a]=N.useState(!1);if(N.useEffect(()=>{const z=()=>a(window.innerWidth<768);return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),!n)return u.jsx("p",{children:"Loading..."});const s=[...n].reverse(),o=s.map(z=>t==="XAU"?Number(z.y[3])/.02835:Number(z.y[3])),l=t==="XAU"?"Gi Xau VND/LNG":"Gi Xag VND/KG",c=Math.min(...o),h=s.map(z=>KTt(z.x,r)),d=ZTt(s,e),g=s.map(z=>Number(z.volume)),y=(z,F,H)=>{let Y=new Array(z.length).fill(NaN),J=new Array(z.length).fill(0),nt=0;for(;nt<z.length;)if(H==="low"?z[nt]<F:z[nt]>=F){let Z=nt;for(;nt<z.length&&(H==="low"?z[nt]<F:z[nt]>=F);)nt++;let rt=nt-1,lt=nt-Z;if(lt>5){let mt=Math.floor((Z+rt)/2),ct=Math.max(...z.slice(Z,rt+1))*1.3;for(let st=Z;st<=rt;st++)st===mt?Y[st]=ct:st===Z||st===rt?Y[st]=z[st]*1.05:Y[st]=ct*.95,J[st]=lt}}else Y[nt]=NaN,nt++;return{result:Y,countArr:J}},{result:x,countArr:w}=y(g,e,"low"),{result:k,countArr:A}=y(g,e,"high"),T=t==="XAU"?"#FFD700":"#C0C0C0",R={labels:h,datasets:[{type:"bar",label:`${t} Volume`,data:g,backgroundColor:d,datalabels:{display:!1},yAxisID:"y"},{type:"line",label:`${t} Price`,data:s.map(z=>t==="XAU"?Number(z.y[3])/.02835:Number(z.y[3])),borderColor:T,borderWidth:2,pointRadius:0,tension:.2,yAxisID:"yPrice",datalabels:{display:!1}},{type:"line",label:"Cnh bo",data:x,borderColor:"#FF3333",borderWidth:2,pointRadius:0,spanGaps:!1,tension:.4,datalabels:{display:z=>{const F=z.dataset.data,H=z.dataIndex;return!isNaN(F[H])&&F[H]>F[H-1]&&F[H]>F[H+1]},formatter:(z,F)=>{const H=F.dataIndex;return`Volume tch ly di mc tb: ${w[H]||0} nn`},color:"#FF3333",align:"top",font:{weight:"bold",size:10}}},{type:"line",label:"Cnh bo",data:k,borderColor:"#00FF3C",borderWidth:2,pointRadius:0,spanGaps:!1,tension:.4,datalabels:{display:z=>{const F=z.dataset.data,H=z.dataIndex;return!isNaN(F[H])&&F[H]>F[H-1]&&F[H]>F[H+1]},formatter:(z,F)=>{const H=F.dataIndex;return`Volume bng n: ${A[H]||0} nn`},color:"#00FF3C",align:"top",font:{weight:"bold",size:10}}}]},G={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!r,position:"left",title:{display:!0,text:"Volume"}},yPrice:{type:"linear",display:!r,position:"left",title:{display:!0,text:l},grid:{drawOnChartArea:!1},min:c*.995},x:{title:{display:!0,text:"Date"}}},plugins:{legend:{display:!0},datalabels:{display:!1},tooltip:{callbacks:{label:z=>{if(z.dataset.label==="Cnh bo")return null;const F=z.raw??0;return`${z.dataset.label}: ${F.toLocaleString("en-US")}`}}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:i},pinch:{enabled:i},mode:"x"}}}};return u.jsx("div",{style:{width:"100%",height:"450px",marginBottom:"40px"},children:u.jsx(xa,{type:"bar",data:R,options:G,plugins:[V7]})})},QTt=({dataXau:n,dataXag:t,avgVolumeXau:e,avgVolumeXag:i,enableZoom:r=!0})=>{const a=e??(n?.length?Number(n[0].volume_trungbinh):0),s=i??(t?.length?Number(t[0].volume_trungbinh):0);return u.jsxs("div",{style:{marginTop:"50px"},children:[u.jsxs("div",{children:[u.jsx("h3",{style:{color:"#FFD700"},children:"Volume & Price XAU (Vng)"}),u.jsx(w4,{data:n,title:"XAU",avgVolume:a,enableZoom:r,colorScheme:{bar:"#FFD700",line:"#FFD700"}})]}),u.jsxs("div",{children:[u.jsx("h3",{style:{color:"#C0C0C0"},children:"Volume & Price XAG (Bc)"}),u.jsx(w4,{data:t,title:"XAG",avgVolume:s,enableZoom:r,colorScheme:{bar:"#C0C0C0",line:"#C0C0C0"}})]})]})},Zj=()=>{const n=N.useRef(null),[t,e]=N.useState(!1),[i,r]=N.useState("XAG"),[a,s]=N.useState(1),[o,l]=N.useState(1),[c,h]=N.useState(""),[d,g]=N.useState(window.innerWidth<768),[y,x]=N.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),w=d?15:10,[k,A]=N.useState(w),T=i==="XAU",R=T?"#FFD700":"#ffffff",G="#00b060",z="#ff4648";N.useEffect(()=>{const J=()=>g(window.innerWidth<768);return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const F=J=>{if(!J)return"";const nt=J.split(" ");return nt.length>1?nt[1].substring(0,5):J},H=J=>{if(!J)return"";const nt=J.split(" ");if(nt.length<2)return J;const V=nt[0].split("-"),Z=nt[1].split(":");return`${V[2]}/${V[1]}/${V[0].substring(2)} ${Z[0]}:${Z[1]}`},Y=(J,nt)=>{if(J===0)return"Tt c";if(!nt||nt.length===0)return`K${J}`;const V=Math.ceil(nt.length/w),Z=(J-1)*V;let rt=Z+V-1;return rt>=nt.length&&(rt=nt.length-1),Z>=nt.length?"-":`${F(nt[Z])}-${F(nt[rt])}`};return N.useEffect(()=>{(async()=>{const nt=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const V of nt)document.querySelector(`script[src="${V}"]`)||await new Promise(Z=>{const rt=document.createElement("script");rt.src=V,rt.async=!1,rt.onload=Z,document.head.appendChild(rt)});e(!0)})()},[]),N.useEffect(()=>{t&&(async()=>{try{const V=await fetch(`https://api_gold.thinkdiff.us/volume_${i==="XAU"?"xau_usd":"xag_usd"}?page=${a}`).then(rt=>rt.json());V.data&&V.data.total_page&&l(V.data.total_page);const Z=(V.data.list_volume||[]).reverse();Z.length>0&&h(Z[Z.length-1].timestamp),x(rt=>({...rt,[T?"gold_full":"silver_full"]:Z,[T?"gold_categories":"silver_categories"]:Z.map(lt=>lt.timestamp)})),A(w)}catch(nt){console.error(nt)}})()},[t,a,i,T,w]),N.useEffect(()=>{if(!t||!window.Highcharts||!n.current)return;const J=T?y.gold_full:y.silver_full,nt=T?y.gold_categories:y.silver_categories;if(!J.length)return;let V=[...J],Z=[...nt];if(k!==0){const St=Math.ceil(J.length/w),Pt=(k-1)*St,It=Pt+St;V=J.slice(Pt,It),Z=nt.slice(Pt,It)}const rt=[],lt=[],mt=[],ct=[],st=[],xt=k===0&&!d?1:d?10:1;V.forEach((St,Pt)=>{rt.push({x:Pt,open:St.open_price/xt,high:St.high_price/xt,low:St.low_price/xt,close:St.close_price/xt,timestamp:St.timestamp,bb_u:St.bb_upper_trungbinh!==null?St.bb_upper_trungbinh/xt:null,bb_l:St.bb_lower_trungbinh!==null?St.bb_lower_trungbinh/xt:null,rsi_val:St.rsi_pro_trungbinh||0}),St.bb_upper_trungbinh!==null&&St.bb_lower_trungbinh!==null&&lt.push([Pt,St.bb_lower_trungbinh/xt,St.bb_upper_trungbinh/xt]),mt.push({x:Pt,y:St.rsi_pro_trungbinh||0,price:St.close_price,timestamp:St.timestamp}),ct.push({x:Pt,y:St.acc_dist!=null?Number(St.acc_dist):null,timestamp:St.timestamp})});const dt=(St,Pt,It,Nt,Et,Yt,Rt)=>{const ee=Et.slice(St,Pt+1),fe=k===0&&!d?1:d?10:1,Jt=ee[0],ue=ee[ee.length-1],Te=Nt===0?Jt.close:Jt.y,qe=Nt===0?ue.close:ue.y,on=ee.map(Ei=>Nt===0?Ei.close:Ei.y),He=Rt?Math.min(...on):Math.max(...on);let mi;Nt===0?mi=d?Rt?-.1:.1:Rt?-.8:.8:mi=Rt?-15:15;const Si=He+mi;let li,Xe;St===Pt?(li=H(Z[St]),Xe=Nt===0?(Te*fe).toFixed(3):Te.toFixed(2)):(li=`${H(Z[St])}  ${H(Z[Pt])}`,Xe=Nt===0?`${(Te*fe).toFixed(3)}  ${(qe*fe).toFixed(3)}`:`${Te.toFixed(2)}  ${qe.toFixed(2)}`),st.push({draggable:"",labelOptions:{allowOverlap:!1,crop:!0,overflow:"justify",backgroundColor:"rgba(0,0,0,0.85)",borderColor:Yt,borderRadius:4,padding:d?4:8,style:{pointerEvents:"none",zIndex:10}},shapes:[{type:"path",points:[{x:St,xAxis:0,y:Nt===0?Jt.close:Jt.y,yAxis:Nt},{x:St,xAxis:0,y:Si,yAxis:Nt},{x:Pt,xAxis:0,y:Si,yAxis:Nt},{x:Pt,xAxis:0,y:Nt===0?ue.close:ue.y,yAxis:Nt}],fill:"none",stroke:Yt,strokeWidth:d?1:2,dashStyle:"Solid"}],labels:[{point:{x:(St+Pt)/2,xAxis:0,y:Si,yAxis:Nt},useHTML:!0,text:`<div style="text-align: center; white-space: nowrap;">
                  <div style="color: ${Yt}; font-weight: 900; font-size: ${d?"10px":"14px"}; margin-bottom: 2px;">
                    ${It}
                  </div>
                  <div style="color: #FFFFFF; font-weight: bold; font-size: ${d?"8px":"11px"}; margin-bottom: 2px;">
                    ${li}
                  </div>
                  <div style="color: #00FF80; font-weight: bold; font-size: ${d?"9px":"12px"};">
                    ${Xe}
                  </div>
                </div>`,verticalAlign:Rt?"bottom":"top"}]})};let ht=0;for(;ht<mt.length;){let St=mt[ht].y>70?"BN":mt[ht].y<30?"MUA":null;if(St){let Pt=ht,It=ht;for(;It+1<mt.length;){let Nt=mt[It+1].y;if(St==="BN"&&Nt>=70||St==="MUA"&&Nt<=30)It++;else break}dt(Pt,It,St,1,mt,St==="MUA"?"#00FF80":"#FF4B4B",St==="MUA"),ht=It+1}else ht++}let ot=0;for(;ot<rt.length;){const St=rt[ot];if(St.bb_u===null||St.bb_l===null){ot++;continue}let Pt=St.close>St.bb_u?"BN":St.close<St.bb_l?"MUA":null;if(Pt){let It=ot,Nt=ot;for(;Nt+1<rt.length;){let Et=rt[Nt+1];if(Et.bb_u===null||Et.bb_l===null)break;if((Et.close>Et.bb_u?"BN":Et.close<Et.bb_l?"MUA":null)===Pt)Nt++;else break}dt(It,Nt,Pt,0,rt,Pt==="MUA"?"#00FF80":"#FF4B4B",Pt==="MUA"),ot=Nt+1}else ot++}const vt={chart:{height:d?800:900,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},annotations:st,xAxis:{categories:Z,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:d?[{title:{text:null},height:"70%",gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},minPadding:.1,maxPadding:.1},{title:{text:null},top:"75%",height:"25%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},max:100,min:0,plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:null},top:"92%",height:"8%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1}}]:[{title:{text:null},height:"55%",gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},minPadding:.1,maxPadding:.1},{title:{text:null},top:"60%",height:"40%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1},max:100,min:0,plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:null},top:"84%",height:"16%",offset:0,gridLineWidth:1,gridLineColor:"#111",labels:{enabled:!1}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"none",borderWidth:0,shadow:!1,padding:0},plotOptions:{candlestick:{color:z,upColor:G,lineColor:z,upLineColor:G,wickColor:"#888",groupPadding:d?.05:.02,pointPadding:d?.02:.01,lineWidth:d?1:2},series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{type:"candlestick",name:"Gi",data:rt,yAxis:0,zIndex:2,tooltip:{pointFormatter:function(){const St=k===0&&!d?1:d?10:1;return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                        <b style="color:#ffd700; font-size:13px;">
                        <b style="color:#ffffff; font-size:14px;">${this.timestamp}</b><br/>
                          Open-price: ${(this.open*St).toFixed(3)}<br/>
                          High-price: ${(this.high*St).toFixed(3)}<br/>
                          Low-price: ${(this.low*St).toFixed(3)}<br/>
                          Close-price: ${(this.close*St).toFixed(3)}
                        </b>
                      </div>`}}},{type:"areasplinerange",name:"BB",data:lt,yAxis:0,color:"#9b59b6",fillColor:"rgba(155, 89, 182, 0.2)",lineWidth:d?.1:2,zIndex:0,enableMouseTracking:!1},{type:"spline",name:"RSI",data:mt,yAxis:1,color:R,lineWidth:d?1:3,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                        <b style="color:#ffd700; font-size:11px;">${this.timestamp}</b><br/>
                        <b style="color:#00ff00; font-size:13px;">Gi: ${this.price.toFixed(3)}</b><br/>
                        <b style="color:${R}; font-size:13px;">RSI: ${this.y.toFixed(2)}</b>
                      </div>`}}},{type:"spline",name:"AccumulationDistribution",data:ct,yAxis:2,color:"#00e5ff",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return this.y===null?`
                  <div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                    <b style="color:${R}; font-size:13px;">Accum/Dist</b><br/>
                    <b style="color:#ff6464; font-size:12px;">Khng c d liu Accum/Dist</b>
                  </div>
                `:`
                <div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                <b style="color:#ffd700; font-size:11px;">${this.timestamp}</b><br/>
                  <b style="color:${R}; font-size:13px;">Accum/Dist:</b><br/>
                  <b style="color:${R}; font-size:13px;">
                    ${Math.round(this.y).toLocaleString()}
                  </b>
                </div>
              `}}}],credits:{enabled:!1},legend:{enabled:!1}};window.Highcharts.chart(n.current,vt)},[i,y,a,k,t,T,R,d,w]),u.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[u.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),u.jsx("a",{href:"/#/rsi-chart",style:{textDecoration:"none"},children:u.jsx("span",{style:{color:R,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:c||"..."})})]}),u.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(J=>u.jsx("button",{onClick:()=>r(J),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:i===J?J==="XAU"?"#FFD700":"#ffffff":"#111",color:i===J?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:J==="XAU"?"Vng (XAU)":"Bc (XAG)"},J))}),u.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(w+1).keys()].map(J=>u.jsx("button",{onClick:()=>A(J),style:{padding:d?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:k===J?"#333":"#111",color:k===J?"#FFF":"#777",fontSize:d?"8px":"10px",cursor:"pointer",flex:d?"1 1 5.5%":"none",textAlign:"center"},children:Y(J,T?y.gold_categories:y.silver_categories)},J))}),u.jsx("div",{ref:n,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[u.jsx("button",{onClick:()=>s(J=>J+1),disabled:a>=o,style:_4(a>=o),children:" Trc "}),u.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",a," / ",o]}),u.jsx("button",{onClick:()=>s(J=>Math.max(1,J-1)),disabled:a===1,style:_4(a===1),children:" Sau "})]})]})},_4=n=>({padding:"6px 20px",backgroundColor:"#111",color:n?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:n?"default":"pointer"}),JTt=()=>{const n="https://api_gold.thinkdiff.us/volume_xauusd_phantich",t="https://api_gold.thinkdiff.us/volume_xagusd_phantich",e="wss://services.vang247.vn/ws-prices/ws/v1/prices",[i,r]=N.useState({gold:null,silver:null}),[a,s]=N.useState({XAUUSD:0,XAGUSD:0}),[o,l]=N.useState({XAUUSD:0,XAGUSD:0}),[c,h]=N.useState({gold:0,silver:0}),[d,g]=N.useState({gold:0,silver:0}),[y,x]=N.useState(null),[w,k]=N.useState(typeof window<"u"?window.innerWidth<768:!1),[A,T]=N.useState([]),R=N.useRef(null),G=N.useRef({VNG:0,BC:0}),z=N.useRef(0),F=rt=>rt?rt.split(".")[0]:"--:--",H=(rt,lt)=>{const mt=Date.now(),ct={id:mt,type:rt,instrument:lt,time:new Date().toLocaleTimeString()};T(st=>[ct,...st].slice(0,3)),setTimeout(()=>{T(st=>st.filter(xt=>xt.id!==mt))},5e3)};N.useEffect(()=>{const rt=()=>k(window.innerWidth<768);return window.addEventListener("resize",rt),()=>window.removeEventListener("resize",rt)},[]);const Y=(rt,lt)=>{if(!rt||!lt?.data?.rsi_data)return 0;const mt=lt.data.rsi_data.trungbinh_rsi.rsi_trungbinh,ct=lt.data.rsi_data.trungbinh_rsi,st=(rt-ct.bb_lower_trungbinh)/(ct.bb_upper_trungbinh-ct.bb_lower_trungbinh)*100;return mt+st},J=()=>{R.current&&R.current.readyState===WebSocket.OPEN||(R.current=new WebSocket(e),R.current.onmessage=rt=>{const lt=Date.now();if(!(lt-z.current<1e3))try{const mt=JSON.parse(rt.data),ct=mt.goldNationWide?.find(xt=>xt.name==="XAUUSD")||mt.sjcNationWide?.find(xt=>xt.name==="XAUUSD"),st=mt.silver_price?.find(xt=>xt.name==="XAGUSD");if(ct||st){if(z.current=lt,ct){const xt=ct.hanoi.buy-.05;s(dt=>(l(ht=>({...ht,XAUUSD:dt.XAUUSD})),{...dt,XAUUSD:xt})),r(dt=>{if(dt.gold){const ht=Y(xt,dt.gold);h(ot=>(g(vt=>({...vt,gold:ot.gold})),{...ot,gold:ht}))}return dt})}if(st){const xt=st.hanoi.buy-.05;s(dt=>(l(ht=>({...ht,XAGUSD:dt.XAGUSD})),{...dt,XAGUSD:xt})),r(dt=>{if(dt.silver){const ht=Y(xt,dt.silver);h(ot=>(g(vt=>({...vt,silver:ot.silver})),{...ot,silver:ht}))}return dt})}}}catch{}},R.current.onclose=()=>{setTimeout(J,3e3)},R.current.onerror=()=>{R.current.close()})},nt=async()=>{try{const[rt,lt]=await Promise.all([fetch(n).then(mt=>mt.json()),fetch(t).then(mt=>mt.json())]);r({gold:rt,silver:lt})}catch(rt){console.error("API Error:",rt)}};N.useEffect(()=>{nt();const rt=setInterval(nt,6e4);return J(),()=>{R.current?.close(),clearInterval(rt)}},[]);const Z=!i.gold||!i.silver?null:c.gold>c.silver?{char:">",text:"Vn ang Vo Vng Nhiu Hn Bc",color:"#fff200"}:c.gold<c.silver?{char:"<",text:"Vn ang Vo Bc Nhiu Hn Vng",color:"#c0c0c0"}:{char:"=",text:"Dng Tin ang Cn Bng",color:"#fff"};return u.jsxs("div",{style:{backgroundColor:"#000",padding:w?"5px":"20px",color:"#fff",fontFamily:"sans-serif",width:"100%",minHeight:"100vh",position:"relative",boxSizing:"border-box"},children:[u.jsx("style",{children:`
        @keyframes flash-green-glow { 0% { color: #00ff88; filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.9)); } 100% { color: inherit; filter: none; } }
        @keyframes flash-red-glow { 0% { color: #ff4d4d; filter: drop-shadow(0 0 10px rgba(255, 77, 77, 0.9)); } 100% { color: inherit; filter: none; } }
        @keyframes flash-bg-green { 0% { background-color: rgba(0, 255, 136, 0.2); } 100% { background-color: transparent; } }
        @keyframes flash-bg-red { 0% { background-color: rgba(255, 77, 77, 0.2); } 100% { background-color: transparent; } }
        @keyframes slide-in-left { from { transform: translateX(-100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .text-flash-up { animation: flash-green-glow 1s ease-out; }
        .text-flash-down { animation: flash-red-glow 1s ease-out; }
        .box-flash-up { animation: flash-bg-green 1s ease-out; }
        .box-flash-down { animation: flash-bg-red 1s ease-out; }
        .noti-item { animation: slide-in-left 0.3s ease-out; }
      `}),u.jsxs("div",{style:{width:"100%"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",borderBottom:"1px solid #333",paddingBottom:"10px"},children:[u.jsxs("div",{style:{color:"#ffffff",fontSize:w?"11px":"14px"},children:["Cp nht lc: ",u.jsx("span",{style:{color:"#00ff88",fontWeight:"bold"},children:F(i.gold?.data?.time_now)})]}),u.jsx("button",{onClick:nt,style:{backgroundColor:"#35e858",border:"none",color:"#fff",padding:w?"5px 10px":"10px 20px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",fontSize:w?"11px":"14px"},children:"LM MI"})]}),Z&&u.jsx("div",{style:{textAlign:"center",marginBottom:"15px",color:Z.color,fontWeight:"bold",fontSize:w?"12px":"20px",textTransform:"uppercase"},children:Z.text}),u.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:w?"5px":"20px",width:"100%",justifyContent:"center",alignItems:"center"},children:[u.jsx(S4,{title:"VNG",price:a.XAUUSD,prevPrice:o.XAUUSD,total:c.gold,prevTotal:d.gold,fullData:i.gold,isMobile:w,onOpenDetail:()=>x("VNG"),addNoti:H,lastSignalTime:G}),Z&&u.jsx("div",{style:{fontSize:w?"30px":"80px",color:"#ff9800",fontWeight:"bold",textShadow:"0 0 10px rgba(255, 152, 0, 0.5)",minWidth:w?"20px":"auto",textAlign:"center"},children:Z.char}),u.jsx(S4,{title:"BC",price:a.XAGUSD,prevPrice:o.XAGUSD,total:c.silver,prevTotal:d.silver,fullData:i.silver,isMobile:w,onOpenDetail:()=>x("BC"),addNoti:H,lastSignalTime:G})]})]}),u.jsx("div",{style:{position:"fixed",left:"10px",zIndex:1e4,display:"flex",flexDirection:"column-reverse",gap:"8px",bottom:"20px"},children:A.map(rt=>u.jsxs("div",{className:"noti-item",style:{backgroundColor:rt.type==="BUY"?"rgba(0, 255, 136, 0.95)":"rgba(255, 77, 77, 0.95)",color:"#000",padding:w?"6px 10px":"10px 15px",borderRadius:"8px",fontWeight:"bold",boxShadow:"0 8px 16px rgba(0,0,0,0.6)",minWidth:w?"140px":"180px",borderLeft:"5px solid #000"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:w?"11px":"14px"},children:[u.jsx("span",{children:rt.type==="BUY"?"":""}),u.jsx("span",{children:rt.type==="BUY"?"TN HIU MUA":"TN HIU BN"})]}),u.jsxs("div",{style:{fontSize:"10px",opacity:.7},children:[rt.instrument," - ",rt.time]})]},rt.id))}),y&&u.jsx(tMt,{title:y,price:y==="VNG"?a.XAUUSD:a.XAGUSD,fullData:y==="VNG"?i.gold:i.silver,isMobile:w,onClose:()=>x(null)})]})},S4=({title:n,price:t,prevPrice:e,total:i,prevTotal:r,fullData:a,onOpenDetail:s,isMobile:o,addNoti:l,lastSignalTime:c})=>{const h=N.useRef(null),d=N.useRef(null),g=N.useRef(null);if(N.useEffect(()=>{if(t>0&&a?.data?.rsi_data){const z=a.data.rsi_data.trungbinh_rsi.rsi_trungbinh,F=a.data.rsi_data.trungbinh_rsi,H=(t-F.bb_lower_trungbinh)/(F.bb_upper_trungbinh-F.bb_lower_trungbinh)*100,Y=Date.now(),J=3e4;if(z>=70&&H>100?Y-c.current[n]>J&&(l("SELL",n),c.current[n]=Y):z<=30&&H<0&&Y-c.current[n]>J&&(l("BUY",n),c.current[n]=Y),e>0&&t!==e){const nt=t>e?"text-flash-up":"text-flash-down",V=t>e?"box-flash-up":"box-flash-down";h.current&&(h.current.classList.remove("text-flash-up","text-flash-down"),h.current.offsetWidth,h.current.classList.add(nt)),d.current&&(d.current.classList.remove("box-flash-up","box-flash-down"),d.current.offsetWidth,d.current.classList.add(V))}if(r>0&&i!==r){const nt=i>r?"text-flash-up":"text-flash-down";g.current&&(g.current.classList.remove("text-flash-up","text-flash-down"),g.current.offsetWidth,g.current.classList.add(nt))}}},[t,i,a,n,l,e,r]),!a||!a.data?.rsi_data)return u.jsx("div",{style:{flex:1,textAlign:"center",padding:"10px",background:"#111",borderRadius:"24px"},children:"..."});const x=a.data.rsi_data.trungbinh_rsi,w=n==="VNG"?"#fff200":"#c0c0c0",k=x.rsi_trungbinh,A=(t-x.bb_lower_trungbinh)/(x.bb_upper_trungbinh-x.bb_lower_trungbinh)*100,R=((z,F)=>{let H="i ngang",Y="#ffffff";z>=70?(H="Nn bn",Y="#ff4d4d"):z<=30&&(H="Nn mua",Y="#00ff88");let J="ang i",nt="#ffffff";return F>100?(J="Nn bn ngay",nt="#ff4d4d"):F<0&&(J="Nn mua ngay",nt="#00ff88"),{rsiText:H,rsiColor:Y,bbText:J,bbColor:nt}})(k,A),G=n==="BC";return u.jsxs("div",{style:{flex:1,backgroundColor:"#111",borderRadius:o?"12px":"24px",border:"1px solid #333",padding:o?"10px":"30px",textAlign:"center",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",maxWidth:"50%",boxSizing:"border-box",position:"relative"},children:[u.jsxs("div",{style:{position:"absolute",top:o?"5px":"15px",left:G?o?"10px":"20px":"auto",right:G?"auto":o?"10px":"20px",textAlign:G?"left":"right"},children:[u.jsx("div",{style:{fontSize:o?"9px":"12px",color:"#888"},children:"TOTAL"}),u.jsx("div",{ref:g,style:{fontSize:o?"12px":"18px",fontWeight:"bold"},children:i.toFixed(2)})]}),u.jsx("h3",{style:{fontSize:o?"16px":"35px",color:w,marginBottom:o?"10px":"20px",fontWeight:"bold"},children:n}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:o?"5px":"30px",marginBottom:"10px"},children:[u.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[u.jsxs("div",{style:{position:"relative",width:o?"55px":"140px",height:o?"55px":"140px"},children:[u.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"1.5"}),u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:R.rsiColor,strokeWidth:"2.5",strokeDasharray:`${Math.min(Math.max(k,0),100)*1.13}, 113`,strokeLinecap:"round"})]}),u.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("span",{style:{fontSize:o?"12px":"28px",fontWeight:"900",color:R.rsiColor},children:k.toFixed(3)})})]}),u.jsx("span",{style:{fontSize:o?"10px":"18px",color:"#555",marginTop:"5px",fontWeight:"bold"},children:"RSI"}),u.jsx("div",{style:{fontSize:o?"8px":"12px",color:R.rsiColor,height:"14px"},children:R.rsiText})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[u.jsxs("div",{ref:d,style:{position:"relative",width:o?"55px":"140px",height:o?"55px":"140px"},children:[u.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"1.5"}),u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:R.bbColor,strokeWidth:"2.5",strokeDasharray:`${Math.min(Math.max(A,0),100)*1.13}, 113`,strokeLinecap:"round"})]}),u.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("span",{style:{fontSize:o?"12px":"28px",fontWeight:"900",color:R.bbColor},children:A.toFixed(3)})})]}),u.jsx("span",{style:{fontSize:o?"10px":"18px",color:"#555",marginTop:"5px",fontWeight:"bold"},children:"BB"}),u.jsx("div",{style:{fontSize:o?"8px":"12px",color:R.bbColor,height:"14px"},children:R.bbText})]})]}),u.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:o?"4px":"15px",marginBottom:o?"10px":"25px",marginTop:"10px",fontSize:o?"8px":"14px"},children:[u.jsxs("div",{children:[u.jsx("span",{style:{color:"#00ff88",fontWeight:"bold"},children:"Lower:"})," ",x.bb_lower_trungbinh.toFixed(3)]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#888",fontWeight:"bold"},children:"Middle:"})," ",x.bb_middle_trungbinh.toFixed(3)]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#ff4d4d",fontWeight:"bold"},children:"Upper:"})," ",x.bb_upper_trungbinh.toFixed(3)]})]}),u.jsxs("div",{ref:h,style:{fontSize:o?"15px":"45px",fontWeight:"bold",color:R.rsiColor},children:["$",t.toFixed(o?2:3)]}),u.jsx("div",{style:{color:R.rsiColor,fontSize:o?"12px":"35px",fontWeight:"900",marginTop:o?"5px":"10px"},children:R.rsiText==="i ngang"?"I NGANG":R.rsiText==="Nn bn"?"NN BN RA":"NN MUA VO"}),u.jsx("button",{onClick:s,style:{marginTop:"15px",backgroundColor:"#333",border:"none",color:"#fff",padding:o?"10px":"15px",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",width:"100%",fontSize:o?"10px":"14px"},children:"XEM CHI TIT"})]})},tMt=({title:n,price:t,fullData:e,onClose:i,isMobile:r})=>{const a=e?.data?.rsi_data?.rsi?.danhsach||[],s=n==="VNG"?"#fff200":"#c0c0c0",o=(l,c)=>{let h="i ngang",d="#ffffff";l>=70?(h="Nn bn",d="#ff4d4d"):l<=30&&(h="Nn mua",d="#00ff88");let g="Ch tn hiu",y="#ffffff";return c>100?(g="Nn bn",y="#ff4d4d"):c<0&&(g="Nn mua",y="#00ff88"),{rsiText:h,rsiColor:d,bbText:g,bbColor:y}};return u.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:r?"5px":"10px"},children:u.jsxs("div",{style:{backgroundColor:"#111",width:"100%",maxWidth:"1200px",maxHeight:"95vh",borderRadius:"24px",border:"1px solid #333",overflowY:"auto",padding:r?"10px":"30px",position:"relative"},children:[u.jsx("button",{onClick:i,style:{position:"absolute",top:"15px",right:"15px",background:"#ff4d4d",border:"none",color:"#fff",borderRadius:"50%",width:"35px",height:"35px",cursor:"pointer",zIndex:10},children:""}),u.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[u.jsxs("h2",{style:{color:s,margin:"0 0 5px 0",fontSize:r?"18px":"28px"},children:["CHI TIT ",n]}),u.jsxs("div",{style:{fontSize:r?"24px":"40px",fontWeight:"bold",color:"#ffbaba"},children:["$",t.toFixed(3)]})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:r?"1fr 1fr":"1fr 1fr 1fr",gap:r?"8px":"20px"},children:a.map((l,c)=>{const h=(t-l.value.bb_lower)/(l.value.bb_upper-l.value.bb_lower)*100,d=l.value.rsi_value,g=o(d,h);return u.jsxs("div",{style:{backgroundColor:"#111",padding:r?"10px":"20px",borderRadius:"20px",border:"1px solid #333",textAlign:"center"},children:[u.jsx("div",{style:{color:s,marginBottom:"15px",fontWeight:"bold",fontSize:r?"13px":"18px"},children:l.minute<60?l.minute+" PHT":l.minute/60+" GI"}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:r?"10px":"25px",marginBottom:"15px"},children:[u.jsxs("div",{style:{textAlign:"center"},children:[u.jsxs("div",{style:{position:"relative",width:r?"50px":"75px",height:r?"50px":"75px"},children:[u.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"3"}),u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:g.rsiColor,strokeWidth:"3",strokeDasharray:`${Math.min(Math.max(d,0),100)*1.13}, 113`})]}),u.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:r?"10px":"16px",fontWeight:"bold"},children:d.toFixed(3)})]}),u.jsx("div",{style:{fontSize:"10px",color:"#888",marginTop:"4px",fontWeight:"bold"},children:"RSI"}),u.jsx("div",{style:{fontSize:r?"9px":"11px",color:g.rsiColor,fontStyle:"italic",height:"14px"},children:g.rsiText})]}),u.jsxs("div",{style:{textAlign:"center"},children:[u.jsxs("div",{style:{position:"relative",width:r?"50px":"75px",height:r?"50px":"75px"},children:[u.jsxs("svg",{viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)",width:"100%",height:"100%"},children:[u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#222",strokeWidth:"3"}),u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:g.bbColor,strokeWidth:"3",strokeDasharray:`${Math.min(Math.max(h,0),100)*1.13}, 113`})]}),u.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:r?"10px":"16px",fontWeight:"bold"},children:h.toFixed(3)})]}),u.jsx("div",{style:{fontSize:"10px",color:"#888",marginTop:"4px",fontWeight:"bold"},children:"BB"}),u.jsx("div",{style:{fontSize:r?"9px":"11px",color:g.bbColor,fontStyle:"italic",height:"14px"},children:g.bbText})]})]}),u.jsx("div",{style:{fontSize:r?"14px":"20px",color:g.rsiColor,fontWeight:"bold",margin:"10px 0",textTransform:"uppercase"},children:g.rsiText==="i ngang"?"I NGANG":g.rsiText==="Nn bn"?"NN BN RA":"NN MUA VO"}),u.jsxs("div",{style:{marginTop:"10px",fontSize:r?"7px":"10px",borderTop:"1px solid #222",paddingTop:"10px",display:"flex",justifyContent:"space-between"},children:[u.jsxs("div",{children:[u.jsx("span",{style:{color:"#00ff88"},children:"Lower:"})," ",l.value.bb_lower.toFixed(3)]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#888"},children:"Middle:"})," ",l.value.bb_middle.toFixed(3)]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#ff4d4d"},children:"Upper:"})," ",l.value.bb_upper.toFixed(3)]})]})]},c)})})]})})},eMt="wss://api-ui.hyperliquid.xyz/ws";function k4(n){if(n==null)return"0";const t=Math.abs(n);return t>=1e9?(n/1e9).toFixed(2).replace(/\.0$/,"")+"B":t>=1e6?(n/1e6).toFixed(2).replace(/\.0$/,"")+"M":t>=1e3?(n/1e3).toFixed(2).replace(/\.0$/,"")+"K":n.toString()}const C4=({type:n="SILVER"})=>{const[t,e]=N.useState([]),[i,r]=N.useState([]),[a,s]=N.useState({val:0,percent:0}),[o,l]=N.useState(0),[c,h]=N.useState(!1),d=N.useRef([]),[g,y]=N.useState(!1),x=N.useRef(!1),w=`xyz:${n}`,k=N.useRef({bids:[],asks:[]});N.useEffect(()=>{const V=setInterval(()=>{h(!0),setTimeout(()=>{h(!1)},5e3)},3e4);return()=>clearInterval(V)},[]),N.useEffect(()=>{const V=new WebSocket(eMt);V.onopen=()=>{const rt={method:"subscribe",subscription:{type:"l2Book",coin:w,nSigFigs:null}};V.send(JSON.stringify(rt))},V.onmessage=rt=>{const mt=JSON.parse(rt.data).data;mt&&mt.levels&&(k.current={bids:mt.levels[0],asks:mt.levels[1]},x.current||(d.current.push({coin:mt.coin,levels:mt.levels,time:mt.time||Date.now()}),d.current.length>50&&d.current.shift()))};const Z=setInterval(()=>{T()},200);return()=>{V.close(),clearInterval(Z)}},[w]),N.useEffect(()=>{const V=setInterval(()=>{l(Z=>Z+1)},1e3);return()=>clearInterval(V)},[]);function A(V){const Z=Math.floor(V/3600),rt=Math.floor(V%3600/60),lt=V%60;return[Z.toString().padStart(2,"0"),rt.toString().padStart(2,"0"),lt.toString().padStart(2,"0")].join(":")}const T=()=>{const V=k.current.bids,Z=k.current.asks;if(V.length===0||Z.length===0)return;let rt=0;const lt=Z.slice(0,15).map(ot=>{const vt=parseFloat(ot.sz);return rt+=vt,{price:parseFloat(ot.px),size:vt,total:rt}}).reverse();let mt=0;const ct=V.slice(0,15).map(ot=>{const vt=parseFloat(ot.sz);return mt+=vt,{price:parseFloat(ot.px),size:vt,total:mt}}),st=parseFloat(V[0].px),xt=parseFloat(Z[0].px),dt=xt-st,ht=dt/xt*100;r(lt),e(ct),s({val:dt,percent:ht})},R=N.useRef(0),G=N.useRef(0),{maxTotal:z,buyPercent:F,sellPercent:H,a:Y,b:J}=N.useMemo(()=>{const V=t.length>0?t[t.length-1].total:0,Z=i.length>0?i[0].total:0;R.current=R.current+t.reduce((mt,ct)=>mt+(ct?.total||0),0),G.current=G.current+i.reduce((mt,ct)=>mt+(ct?.total||0),0);const rt=R.current+G.current;let lt=50;return rt>0&&(lt=R.current/rt*100),{maxTotal:Math.max(V,Z),buyPercent:lt,sellPercent:100-lt,a:R.current,b:G.current}},[t,i]),nt=n==="GOLD"?"Vng":"Bc";return u.jsxs("div",{style:Ua.container,onClick:()=>{y(!0),x.current=!0},children:[u.jsx("style",{children:`
                @keyframes vanishIn {
                    0% { opacity: 0; transform: translate(-50%, 0) scale(2); filter: blur(10px); }
                    100% { opacity: 1; transform: translate(-50%, 0) scale(1); filter: blur(0); }
                }
                @media (max-width: 600px) {
                    .noti-gold { left: 30% !important; }
                    .noti-silver { left: 70% !important; }
                }
                `}),c&&u.jsx("div",{className:n==="GOLD"?"noti-gold":"noti-silver",style:{...Ua.notification,left:n==="GOLD"?"45%":"55%",borderColor:F>50?"#3b82f6":"#ef4444"},children:u.jsxs("div",{style:{fontWeight:"bold"},children:[nt,": ",F.toFixed(1),"%"]})}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("h2",{style:{margin:0,color:n==="SILVER"?"#95a5a6":"#f1c40f"},children:n}),u.jsxs("span",{style:{fontSize:"11px",color:"#848E9C"},children:[" Thi Gian cng dn: ",A(o)]})]}),u.jsxs("div",{style:Ua.ratioContainer,children:[u.jsxs("div",{style:Ua.ratioLabel,children:[u.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[u.jsxs("span",{style:{color:"#3b82f6"},children:["Buy ",F.toFixed(1),"% "]}),u.jsxs("span",{style:{color:"#3b82f6"},children:["Tng: ",k4(Y)]})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[u.jsxs("span",{style:{color:"#ef4444"},children:["Sell ",H.toFixed(1),"% "]}),u.jsxs("span",{style:{color:"#ef4444"},children:["Tng: ",k4(J)]})]})]}),u.jsxs("div",{style:Ua.ratioBarBg,children:[u.jsx("div",{style:{...Ua.ratioFill,width:`${F}%`,backgroundColor:"#3b82f6"}}),u.jsx("div",{style:{...Ua.ratioFill,width:`${H}%`,backgroundColor:"#ef4444"}})]})]}),u.jsxs("div",{style:Ua.header,children:[u.jsx("div",{style:Ua.colLeft,children:"Price"}),u.jsxs("div",{style:Ua.colRight,children:["Size (",n,")"]}),u.jsxs("div",{style:Ua.colRight,children:["Total (",n,")"]})]}),u.jsx("div",{style:Ua.listContainer,children:i.map((V,Z)=>u.jsx(K2,{item:V,maxTotal:z,type:"ask"},`ask-${Z}`))}),u.jsxs("div",{style:Ua.spreadRow,children:[u.jsx("span",{style:{color:"#888"},children:"Spread"}),u.jsx("span",{style:{fontWeight:"bold"},children:a.val.toFixed(2)}),u.jsxs("span",{style:{color:"#888"},children:[a.percent.toFixed(3),"%"]})]}),u.jsx("div",{style:Ua.listContainer,children:t.map((V,Z)=>u.jsx(K2,{item:V,maxTotal:z,type:"bid"},`bid-${Z}`))}),g&&u.jsx(rMt,{data:d.current,onClose:()=>{x.current=!1,y(!1)},type:n})]})},K2=({item:n,maxTotal:t,type:e})=>{const i=e==="ask",r=i?"#FF5353":"#00C076",a=i?"rgba(255, 83, 83, 0.15)":"rgba(0, 192, 118, 0.15)",s=t>0?Math.min(n.total/t*100,100):0;return u.jsxs("div",{style:Ua.row,children:[u.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:0,width:`${s}%`,backgroundColor:a,zIndex:0,transition:"width 0.2s ease-out"}}),u.jsx("span",{style:{...Ua.cellLeft,color:r},children:n.price.toFixed(2)}),u.jsx("span",{style:Ua.cellRight,children:n.size.toLocaleString(void 0,{minimumFractionDigits:2})}),u.jsx("span",{style:Ua.cellRight,children:n.total.toLocaleString(void 0,{minimumFractionDigits:2})})]})};function nMt(n,t=15){const[e,i]=n;let r=0;const a=e.slice(0,t).map(c=>(r+=Number(c.sz),{price:Number(c.px),size:Number(c.sz),total:r}));let s=0;const o=i.slice(0,t).map(c=>(s+=Number(c.sz),{price:Number(c.px),size:Number(c.sz),total:s})).reverse(),l=Math.max(a[a.length-1]?.total||0,o[0]?.total||0);return{bids:a,asks:o,maxTotal:l}}function iMt(n){const t=new Date(n),e=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0"),r=t.getSeconds().toString().padStart(2,"0"),a=t.getMilliseconds().toString().padStart(3,"0"),s=t.getDate().toString().padStart(2,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getFullYear();return`${e}:${i}:${r}:${a} ${s}/${o}/${l}`}const rMt=({data:n,onClose:t,type:e})=>u.jsx("div",{style:Jv.backdrop,onClick:t,children:u.jsxs("div",{style:Jv.panel,onClick:i=>i.stopPropagation(),children:[u.jsxs("div",{style:Jv.header,children:[u.jsxs("h2",{children:["History ",` ${e}`]}),u.jsx("button",{style:Jv.closeBtn,onClick:t,children:""})]}),u.jsx("div",{style:Jv.content,children:n.map((i,r)=>{const{bids:a,asks:s,maxTotal:o}=nMt(i.levels);return u.jsxs("div",{style:Jv.snapshot,children:[u.jsx("div",{style:Jv.time,children:iMt(i.time)}),u.jsxs("div",{style:Ua.header,children:[u.jsx("div",{style:Ua.colLeft,children:"Price"}),u.jsxs("div",{style:Ua.colRight,children:["Size (",e,")"]}),u.jsxs("div",{style:Ua.colRight,children:["Total (",e,")"]})]}),u.jsx("div",{style:Ua.listContainer,children:s.map((l,c)=>u.jsx(K2,{item:l,maxTotal:o,type:"ask"},`ask-${r}-${c}`))}),u.jsx("div",{style:Ua.listContainer,children:a.map((l,c)=>u.jsx(K2,{item:l,maxTotal:o,type:"bid"},`bid-${r}-${c}`))})]},r)})})]})}),Jv={backdrop:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.75)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center"},panel:{width:"90%",maxWidth:"800px",maxHeight:"90vh",backgroundColor:"#161A25",borderRadius:"6px",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",padding:"10px",borderBottom:"1px solid #2B3139",fontWeight:"bold"},content:{overflowY:"auto",padding:"10px"},snapshot:{marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #2B3139"},time:{fontSize:"11px",color:"#9CA3AF",marginBottom:"6px"},closeBtn:{background:"transparent",border:"none",color:"#fff",fontSize:"16px",cursor:"pointer"}},Ua={container:{width:"520px",backgroundColor:"#161A25",color:"#F0F3FA",fontFamily:"Consolas, monospace",fontSize:"12px",padding:"8px",borderRadius:"4px",position:"relative"},notification:{position:"fixed",top:"20px",transform:"translateX(-50%)",width:"auto",minWidth:"100px",padding:"10px 15px",backgroundColor:"#1e232f",color:"#fff",borderRadius:"8px",borderLeft:"5px solid",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",zIndex:1e4,fontSize:"14px",textAlign:"center",animation:"vanishIn 0.5s ease-out forwards",whiteSpace:"nowrap"},ratioContainer:{marginBottom:"10px"},ratioLabel:{display:"flex",justifyContent:"space-between",marginBottom:"4px",fontSize:"11px",fontWeight:"bold"},ratioBarBg:{display:"flex",height:"6px",width:"100%",backgroundColor:"#2a2e39",borderRadius:"3px",overflow:"hidden"},ratioFill:{height:"100%",transition:"width 0.3s ease-in-out"},header:{display:"flex",color:"#848E9C",marginBottom:"8px",padding:"0 4px"},colLeft:{flex:1,textAlign:"left"},colRight:{flex:1,textAlign:"right"},listContainer:{display:"flex",flexDirection:"column"},row:{display:"flex",position:"relative",height:"20px",alignItems:"center",cursor:"pointer",padding:"0 4px",marginBottom:"1px"},cellLeft:{flex:1,textAlign:"left",zIndex:1,position:"relative"},cellRight:{flex:1,textAlign:"right",zIndex:1,position:"relative",color:"#EAECEF"},spreadRow:{display:"flex",justifyContent:"space-between",padding:"8px 4px",fontSize:"13px",borderTop:"1px solid #2B3139",borderBottom:"1px solid #2B3139",margin:"4px 0"}};gi.register(qr,Ji,Fa,Qi,sr);const aMt=()=>{const[n,t]=N.useState([]),[e,i]=N.useState("7days"),[r,a]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const d=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();if(!d.ig_sentiment)return;let g=[...d.ig_sentiment];g.sort((x,w)=>new Date(x.ngay_tao)-new Date(w.ngay_tao));const y=new Date;if(r){if(e==="7days"){const x=new Date(y-6048e5);g=g.filter(w=>new Date(w.ngay_tao)>=x)}else if(e==="30days"){const x=new Date(y-2592e6);g=g.filter(w=>new Date(w.ngay_tao)>=x)}}else g=g.slice(-10);t(g)}catch(h){console.error("Error fetching data:",h)}})()},[e,r]);const o={labels:n.map(c=>new Date(c.ngay_tao).toLocaleString("vi-VN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})),datasets:[{label:"LONG (%)",data:n.map(c=>c.sentiment_long),backgroundColor:"#4CAF50",borderRadius:4,datalabels:{display:!0,color:"#4CAF50",anchor:"end",align:"top",font:{weight:"bold",size:11},formatter:c=>c+"%"}},{label:"SHORT (%)",data:n.map(c=>c.sentiment_short),backgroundColor:"#F44336",borderRadius:4,datalabels:{display:!1}}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff",font:{size:12}}},tooltip:{callbacks:{label:c=>`${c.dataset.label}: ${c.parsed.y}%`},backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff"}},scales:{x:{grid:{display:!1},ticks:{color:"#999"}},y:{min:0,max:100,ticks:{color:"#999",callback:c=>c+"%"},grid:{color:"rgba(255, 255, 255, 0.1)"}}}};return u.jsxs("div",{className:"ig-chart-container",children:[u.jsxs("div",{className:"ig-chart-header",children:[u.jsx("h3",{children:"Biu  Long / Short theo thi gian"}),u.jsxs("div",{className:"time-range-buttons",children:[u.jsx("button",{className:`time-btn ${e==="7days"?"active":""}`,onClick:()=>i("7days"),children:"7 Ngy"}),u.jsx("button",{className:`time-btn ${e==="30days"?"active":""}`,onClick:()=>i("30days"),children:"30 Ngy"}),u.jsx("button",{className:`time-btn ${e==="all"?"active":""}`,onClick:()=>i("all"),children:"Tt c"}),u.jsx("button",{className:"time-btn",onClick:()=>a(c=>!c),children:r?"Thu gn (10)":"Xem thm"})]})]}),u.jsx("div",{className:"ig-chart-wrapper",children:n.length>0?u.jsx(bg,{data:o,options:l,plugins:[V7]}):u.jsx("div",{className:"no-data",children:"Khng c d liu"})})]})},sMt=({info:n=null})=>{const[t,e]=N.useState(n);return N.useEffect(()=>{if(n)return;(async()=>{try{const a=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();console.log("API raw:",a);const s=l=>{const c=l.filter(g=>g&&typeof g=="object");if(c.length===0)return null;const d=c.map(g=>{const y=g.ngay_tao||g.created_at||null,x=y?new Date(String(y).replace(" ","T")).getTime():NaN;return{it:g,ts:x}}).filter(g=>!Number.isNaN(g.ts));if(d.length>0)return d.sort((g,y)=>y.ts-g.ts),d[0].it;for(let g=c.length-1;g>=0;g--){const y=c[g];if("min_size"in y||"contract_size"in y||"one_pip_means"in y||"symbol"in y||"gia_sell"in y)return y}return c[c.length-1]};let o=null;a&&Array.isArray(a.ig_sentiment)&&a.ig_sentiment.length>0?o=s(a.ig_sentiment):Array.isArray(a)&&a.length>0?o=s(a):a&&typeof a=="object"&&(o=a),o?(console.log("Selected latest instrument (by date/fallback):",o.ngay_tao,o.id,o),e(o)):console.warn("No IG instrument info found in API response")}catch(r){console.error("Fetch instrument info error:",r)}})()},[n]),t?u.jsxs("div",{className:"instrument-card",children:[u.jsxs("h3",{className:"instrument-title",children:[t.symbol," (Dealing)"]}),u.jsxs("div",{className:"instrument-row",children:[u.jsx("span",{children:"Minimum size"}),u.jsx("span",{children:t.min_size??""})]}),u.jsxs("div",{className:"instrument-row",children:[u.jsx("span",{children:"Contract size"}),u.jsx("span",{children:t.contract_size??""})]}),u.jsxs("div",{className:"instrument-row",children:[u.jsx("span",{children:"One Pip means"}),u.jsx("span",{children:t.one_pip_means??""})]}),u.jsxs("div",{className:"instrument-row",children:[u.jsx("span",{children:"Value of one Pip"}),u.jsx("span",{children:t.value_one_pip??""})]}),u.jsxs("div",{className:"instrument-row",children:[u.jsx("span",{children:"Margin"}),u.jsx("span",{children:t.margin??""})]}),u.jsxs("div",{className:"instrument-row",children:[u.jsx("span",{children:"Minimum stop distance"}),u.jsx("span",{children:t.min_stop_dist??""})]}),u.jsxs("div",{className:"instrument-row",children:[u.jsx("span",{children:"Minimum guaranteed stop distance"}),u.jsx("span",{children:t.min_guaranteed_stop??""})]})]}):u.jsx("div",{className:"instrument-card",children:"ang ti d liu..."})},oMt=({raw:n})=>{if(!n)return null;let t=[];try{t=typeof n=="string"?JSON.parse(n):n}catch{try{t=JSON.parse(String(n).replace(/'/g,'"'))}catch(i){return console.warn("Failed to parse margin_full_table",i),null}}return!Array.isArray(t)||t.length===0?null:u.jsx("div",{className:"margin-card",children:u.jsxs("div",{className:"margin-card-body",children:[u.jsx("h4",{className:"margin-title",children:"Margin"}),u.jsx("div",{className:"margin-table-wrapper",children:u.jsxs("table",{className:"margin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Tier"}),u.jsx("th",{children:"Position size"}),u.jsx("th",{children:"Margin"})]})}),u.jsx("tbody",{children:t.map((e,i)=>u.jsxs("tr",{children:[u.jsx("td",{children:e.tier??""}),u.jsx("td",{children:e.position_size??""}),u.jsx("td",{children:e.margin_rate??""})]},i))})]})})]})})},lMt=()=>{const[n,t]=N.useState(null);return N.useEffect(()=>{const e=r=>{const a=r.filter(l=>l&&typeof l=="object");if(a.length===0)return null;const o=a.map(l=>{const c=l.ngay_tao||l.created_at||null,h=c?new Date(String(c).replace(" ","T")).getTime():NaN;return{it:l,ts:h}}).filter(l=>!Number.isNaN(l.ts));if(o.length>0)return o.sort((l,c)=>c.ts-l.ts),o[0].it;for(let l=a.length-1;l>=0;l--){const c=a[l];if("min_size"in c||"contract_size"in c||"one_pip_means"in c||"symbol"in c||"gia_sell"in c)return c}return a[a.length-1]};(async()=>{try{const a=await(await fetch("https://api_gold.thinkdiff.us/ig_sentiment")).json();let s=null;a&&Array.isArray(a.ig_sentiment)&&a.ig_sentiment.length>0?s=e(a.ig_sentiment):Array.isArray(a)&&a.length>0?s=e(a):a&&typeof a=="object"&&(s=a),s&&t(s)}catch(r){console.error("Fetch instrument block error",r)}})()},[]),n?u.jsxs("div",{className:"instrument-block",children:[u.jsx("div",{className:"instrument-left",children:u.jsx(sMt,{info:n})}),u.jsx("div",{className:"instrument-right",children:u.jsx(oMt,{raw:n.margin_full_table})})]}):null},X7=()=>{const[n,t]=N.useState(null),[e,i]=N.useState(!0),[r,a]=N.useState(null),[s,o]=N.useState(0),[l,c]=N.useState(0);if(N.useEffect(()=>{const V=async(rt=!1)=>{try{rt&&i(!0);const lt=await fetch("https://api_gold.thinkdiff.us/ig_sentiment");if(!lt.ok)throw new Error(`API error: ${lt.status}`);const mt=await lt.json();mt.ig_sentiment?.length>0&&t(mt.ig_sentiment[0]),a(null)}catch(lt){a(lt.message||"Failed to fetch sentiment data")}finally{rt&&i(!1)}};V(!0);const Z=setInterval(()=>V(!1),3e4);return()=>clearInterval(Z)},[]),N.useEffect(()=>{if(!n)return;const V=Number(n.sentiment_long),Z=Number(n.sentiment_short);let rt;const lt=600,mt=performance.now(),ct=s,st=l,xt=dt=>{const ht=Math.min((dt-mt)/lt,1);o(Math.round(ct+(V-ct)*ht)),c(Math.round(st+(Z-st)*ht)),ht<1&&(rt=requestAnimationFrame(xt))};return rt=requestAnimationFrame(xt),()=>cancelAnimationFrame(rt)},[n]),e)return u.jsx("div",{className:"sentiment-container loading",children:"Loading sentiment data..."});if(r)return u.jsxs("div",{className:"sentiment-container error",children:["Error: ",r]});if(!n)return u.jsx("div",{className:"sentiment-container",children:"No data available"});const{gia_sell:h=0,gia_buy:d=0,bien_dong_gia:g=0,bien_dong_phantram:y=0,gia_high:x=0,gia_low:w=0,sentiment_long:k=0,sentiment_short:A=0,ngay_tao:T=""}=n,R=h,G=d,z=g??0,F=y??0,H=x??0,Y=w??0,J=z>=0?"#4CAF50":"#FF6B6B",nt=z>=0?"+":"";return u.jsxs("div",{className:"sentiment-container",children:[u.jsxs("div",{className:"sentiment-header",children:[u.jsx("h2",{children:u.jsx(dd,{to:"/ig-sentiment",className:"ig-title-link",title:"Xem trang IG Sentiment",children:"IG Sentiment (Silver)"})}),u.jsxs("p",{className:"update-time",children:["Cp nht: ",T]})]}),u.jsxs("div",{className:"price-section",children:[u.jsxs("div",{className:"price-box sell",children:[u.jsx("div",{className:"price-label",children:"Bn"}),u.jsx("div",{className:"price-value",children:R.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]}),u.jsxs("div",{className:"price-change",children:[u.jsxs("div",{className:"change-value",style:{color:J},children:[nt,z.toFixed(1)," (",nt,F.toFixed(2),"%)"]}),u.jsxs("div",{className:"high-low",children:[u.jsxs("div",{className:"high1",children:["High: ",u.jsx("span",{className:"num1",children:H.toLocaleString("en-US",{maximumFractionDigits:1})})]}),u.jsxs("div",{className:"low1",children:["Low: ",u.jsx("span",{className:"num2",children:Y.toLocaleString("en-US",{maximumFractionDigits:1})})]})]})]}),u.jsxs("div",{className:"price-box buy",children:[u.jsx("div",{className:"price-label",children:"Mua"}),u.jsx("div",{className:"price-value",children:G.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})})]})]}),u.jsxs("div",{className:"sentiment-bar-section",children:[u.jsxs("div",{className:"sentiment-bar",children:[u.jsx("div",{className:"sentiment-fill long",style:{width:`${s}%`}}),u.jsx("div",{className:"sentiment-fill short",style:{width:`${l}%`}})]}),u.jsxs("div",{className:"sentiment-labels",children:[u.jsxs("div",{className:"sentiment-item long",children:[u.jsx("span",{className:"label",children:"Long"}),u.jsxs("span",{className:"percent",children:[s,"%"]})]}),u.jsxs("div",{className:"sentiment-item short",children:[u.jsx("span",{className:"label",children:"Short"}),u.jsxs("span",{className:"percent",children:[l,"%"]})]})]})]}),u.jsx(lMt,{}),u.jsx(aMt,{})]})},cMt=()=>{const[n,t]=N.useState({slv:null,gld:null,pslv:null}),[e,i]=N.useState(null);N.useEffect(()=>{(async()=>{try{const o=await(await fetch("https://api_gold.thinkdiff.us/phantich_quy_vang_bac")).json();t({slv:o.slv,gld:o.gld,pslv:o.PSLV})}catch(s){console.error(s),i("Khng load c d liu")}})()},[]);const r=(a,s)=>{const o=s?.json_goc?.chart_section?.default_display?.primary_value?.value,l=s?.json_goc?.chart_section?.default_display?.secondary_value?.main?.value;return u.jsxs("div",{style:{flex:1,border:"1px solid #ddd",borderRadius:8,padding:16,textAlign:"center"},children:[u.jsx("h2",{children:a}),o!==null?u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{fontSize:28,fontWeight:"bold"},children:o}),l&&u.jsx("div",{style:{color:l.includes("-")?"red":"green"},children:l})]}):u.jsx("p",{children:"ang load..."})]})};return u.jsxs("div",{children:[u.jsx("h1",{style:{textAlign:"center",padding:"8px 0"},children:"Gi SLV - GLD - PSLV"}),e&&u.jsx("p",{style:{color:"red"},children:e}),u.jsxs("div",{style:{display:"flex",gap:16,justifyContent:"center"},children:[r("SLV",n.slv),r("GLD",n.gld),r("PSLV",n.pslv)]})]})},uMt="https://ondemand.websol.barchart.com/getQuote.json",hMt="2d8b3b803594b13e02a7dc827f4a63f8",dMt={silver:"SIY00,SI*1,SI*2,SI*3,SI*4,SI*5,SI*6,SI*7,SI*8,SI*9,SI*10,SI*11,SI*12,SI*13,SI*14,SI*15,SI*16,SI*17,SI*18,SI*19,SI*20,SI*21,SI*22,SI*23,SI*24,SI*25,SI*26,SI*27,SI*28,SI*29,SI*30,SI*31,SI*32",gold:"GCY00,GC*1,GC*2,GC*3,GC*4,GC*5,GC*6,GC*7,GC*8,GC*9,GC*10,GC*11,GC*12,GC*13,GC*14"},fMt="open,high,low,lastPrice,settlement,netChange,percentChange,volume,previousClose,previousOpenInterest,tradeTimestamp",gMt=()=>{const[n,t]=N.useState("gold"),[e,i]=N.useState([]),[r,a]=N.useState(!1),[s,o]=N.useState(null);N.useEffect(()=>{l(n)},[n]);const l=async c=>{try{a(!0),o(null);const h=new URLSearchParams({apikey:hMt,symbols:dMt[c],fields:fMt}),g=await(await fetch(uMt,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:h})).json();if(g.status?.code!==200)throw new Error(g.status?.message||"API error");i(g.results||[])}catch(h){console.error(h),o("Khng load c d liu")}finally{a(!1)}};return u.jsxs("div",{style:{padding:16},children:[u.jsx("h2",{style:{textAlign:"center"},children:"Futures Chain - Gold & Silver"}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:10},children:[u.jsx(A4,{label:" Gold",active:n==="gold",onClick:()=>t("gold")}),u.jsx(A4,{label:" Silver",active:n==="silver",onClick:()=>t("silver")})]}),r&&u.jsx("p",{style:{textAlign:"center"},children:"ang ti d liu"}),s&&u.jsx("p",{style:{color:"red",textAlign:"center"},children:s}),!r&&u.jsx(pMt,{data:e})]})},pMt=({data:n})=>u.jsx("div",{style:{overflowX:"auto",marginTop:16},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsxs("thead",{children:[u.jsxs("tr",{style:{background:"#000"},children:[u.jsx("th",{style:mu,colSpan:10,children:"Phin hin ti"}),u.jsx("th",{style:mu,colSpan:2,children:"Phin trc"})]}),u.jsxs("tr",{style:{background:"#000"},children:[u.jsx("th",{style:mu,children:"M hp ng "}),u.jsx("th",{style:mu,children:"Gi M ca"}),u.jsx("th",{style:mu,children:"Gi Cao nht"}),u.jsx("th",{style:mu,children:"Gi Thp nht"}),u.jsx("th",{style:mu,children:"Gi hin ti"}),u.jsx("th",{style:mu,children:"Thi gian"}),u.jsx("th",{style:mu,children:"Gi thanh ton"}),u.jsx("th",{style:mu,children:"Thay i"}),u.jsx("th",{style:mu,children:"T l thay i"}),u.jsx("th",{style:mu,children:"Khi lng"}),u.jsx("th",{style:mu,children:"Gi trc "}),u.jsx("th",{style:mu,children:"Hp ng m"})]})]}),u.jsx("tbody",{children:n.map(t=>u.jsxs("tr",{children:[u.jsx("td",{style:ad,children:t.symbol}),u.jsx("td",{style:ad,children:tx(t.open)}),u.jsx("td",{style:ad,children:tx(t.high)}),u.jsx("td",{style:ad,children:tx(t.low)}),u.jsx("td",{style:yMt,children:tx(t.lastPrice)}),u.jsx("td",{style:vMt,children:mMt(t.tradeTimestamp)}),u.jsx("td",{style:ad,children:t.settlement?tx(t.settlement):"-"}),u.jsxs("td",{style:{...ad,color:t.netChange<0?"red":"green"},children:[t.netChange>0?"+":"",tx(t.netChange)]}),u.jsx("td",{style:ad,children:t.percentChange?`${t.percentChange}%`:"-"}),u.jsx("td",{style:ad,children:t.volume?.toLocaleString()??"-"}),u.jsx("td",{style:ad,children:tx(t.previousClose)}),u.jsx("td",{style:ad,children:t.previousOpenInterest?t.previousOpenInterest.toLocaleString():"-"})]},t.symbol))})]})}),tx=n=>typeof n=="number"?n.toFixed(4):"-",mMt=n=>{if(!n)return"-";const t=new Date(n),e=t.toLocaleString("en-US",{weekday:"short"}),i=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),a=String(t.getSeconds()).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return`${e} ${i}:${r}:${a} ${s}/${o}/${l}`},A4=({active:n,label:t,onClick:e})=>u.jsx("button",{onClick:e,style:{padding:"8px 16px",borderRadius:6,border:n?"1px solid #ccc":"2px solid #333",background:n?"#fff":"#333",color:n?"#000":"#fff",cursor:"pointer"},children:t}),mu={border:"1px solid #ccc",padding:6,fontSize:13,textAlign:"center"},ad={border:"1px solid #ddd",padding:6,fontSize:13,textAlign:"center"},yMt={...ad,fontWeight:"bold"},vMt={...ad,fontSize:12},xMt=n=>{switch(n){case"FX_IDC:XAUUSD":return"chart/gold";case"FX_IDC:XAGUSD":return"chart/silver";case"OANDA:XAUXAG":return"chart/xau_xag";case"TICKMILL:DXY":return"chart/dxy";default:return""}},bMt={gold:"FX_IDC:XAUUSD",xau_xag:"OANDA:XAUXAG",silver:"FX_IDC:XAGUSD",dxy:"TICKMILL:DXY"},wMt=({isOpen:n,onClose:t,dataXauVolume:e,dataXagVolume:i,avgVolumeXau:r,avgVolumeXag:a,volumeZoomState:s,handleVolumeZoom:o,modalRef:l,hasMoreData:c,loadNextPages:h,isLoadingMore:d,loadAllPages:g,resetToInitialPages:y,sliderPage:x,accumulatedXauRawRef:w,pageSize:k,handleVolumeSliderChange:A})=>!n||!e?null:u.jsxs("div",{className:"fullscreen-modal",ref:l,children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{className:"modal-title",children:"Biu  so snh XAU/XAG"}),u.jsx("button",{className:"modal-close-btn",onClick:t,children:""})]}),u.jsx("div",{className:"dual-chart-container",style:{width:"100%",display:"flex",flexDirection:"row",gap:"20px"},children:u.jsxs("div",{style:{width:"100%"},children:[u.jsx("h1",{children:"Biu  Phn Tch Volume Giao Dch XAU (Vng) v XAG (Bc)"}),u.jsx(BX,{dataXau:e,dataXag:i,externalZoom:s,onZoom:o,enableZoom:!0}),u.jsxs("div",{style:{margin:"20px 0",display:"none"},children:[u.jsxs("label",{children:["S trang hin th: ",u.jsx("b",{children:x})]}),u.jsx("input",{type:"range",min:1,max:Math.max(1,Math.ceil(w.current.length/k)),step:1,value:x,onChange:A,style:{width:"100%"}})]}),c&&u.jsxs("div",{className:"pagination-actions",children:[u.jsx("button",{className:"action-button",onClick:h,disabled:d,children:d?"ang ti...":"Tip"}),u.jsx("button",{className:"action-button",onClick:g,disabled:d,children:d?"ang ti...":"Tt c"})]}),u.jsx("button",{className:"action-button single",onClick:y,disabled:d,children:"Hin ti"}),u.jsx(QTt,{dataXau:e,dataXag:i,avgVolumeXau:r,avgVolumeXag:a,externalZoom:s,onZoom:o,enableZoom:!0}),u.jsx(ATt,{}),u.jsx(_Tt,{data:i})]})})]}),q7=({fomo:n,symbol:t,showPopUpCompare:e=!1})=>{const[i,r]=N.useState(null),[a,s]=N.useState(null),o=N.useRef(0),l=N.useRef(null),[c,h]=N.useState(e),d=N.useRef(null),g=Gi(),[y,x]=N.useState(null),[w,k]=N.useState(null),[A,T]=N.useState(0),[R,G]=N.useState(0),[z,F]=N.useState(1),[H,Y]=N.useState(!0),[J,nt]=N.useState(0),[V,Z]=N.useState(!1),[rt,lt]=N.useState(!1),[mt,ct]=N.useState(0),[st,xt]=N.useState(null),dt=N.useRef([]),ht=N.useRef([]),[ot,vt]=N.useState({min:null,max:null}),[St,Pt]=N.useState(!1),[It,Nt]=N.useState(!1),Et=100,Yt=3,[Rt,ee]=N.useState({visible:!1,x:0,y:0}),fe=["FX_IDC:XAUUSD","OANDA:XAUXAG","FX_IDC:XAGUSD","TICKMILL:DXY"],Jt=N.useCallback(Ke=>{xt(Ke)},[]);N.useEffect(()=>{t&&(r(bMt[t]),document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`)},[t]),N.useEffect(()=>{e&&(o.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`,h(!0))},[e]),N.useEffect(()=>{let Ke=!1;return(async()=>{try{Y(!0);const Jn=await Ep(1),ki=await Ep(2),$n=await Ep(3);if(Ke)return;dt.current=[...Jn.volumeXauRaw||[],...ki.volumeXauRaw||[],...$n.volumeXauRaw||[]],ht.current=[...Jn.volumeXagRaw||[],...ki.volumeXagRaw||[],...$n.volumeXagRaw||[]];const ti=Jn?.totalPages||0;ct(ti),nt(3),Z(ti>3),console.log("la page ",Jn),T(Jn.volume_trungbinh.xau||0),G(Jn.volume_trungbinh.xag||0);const be=[...dt.current.map(_r=>_r.timestamp),...ht.current.map(_r=>_r.timestamp)],cn=Math.min(...be),tn=Math.max(...be);vt({min:cn,max:tn});const On=dt.current.slice(0,Yt*Et),un=ht.current.slice(0,Yt*Et);k(rd(On)),x(rd(un));const kn=[...dt.current].sort((_r,or)=>or.timestamp-_r.timestamp),Dn=Math.max(0,kn.length-30),Bn=kn[Dn]?.timestamp||cn;setTimeout(()=>xt({min:Bn,max:tn}),300)}catch(Jn){console.error("Error fetching volume data:",Jn),Ke||(k([]),x([]),T(0),G(0))}finally{Ke||Y(!1)}})(),()=>{Ke=!0}},[]);const ue=async()=>{if(rt||!V)return;const Ke=J+1,dn=Math.min(J+3,mt);lt(!0);try{await WH(Ke,dn,(Jn,ki)=>{dt.current=[...dt.current,...ki.volumeXauRaw],ht.current=[...ht.current,...ki.volumeXagRaw];const $n=Array.from(new Map(dt.current.map(be=>[be.timestamp,be])).values()),ti=Array.from(new Map(ht.current.map(be=>[be.timestamp,be])).values());k(rd($n)),x(rd(ti)),nt(Jn),Z(Jn<mt)})}catch(Jn){console.error("Error loading more pages:",Jn)}finally{lt(!1)}},Te=async()=>{if(!(rt||!V)){lt(!0);try{await WH(J+1,mt,(Ke,dn)=>{dt.current=[...dt.current,...dn.volumeXauRaw],ht.current=[...ht.current,...dn.volumeXagRaw];const Jn=Array.from(new Map(dt.current.map($n=>[$n.timestamp,$n])).values()),ki=Array.from(new Map(ht.current.map($n=>[$n.timestamp,$n])).values());k(rd(Jn)),x(rd(ki)),nt(Ke),Z(!1)})}catch(Ke){console.error("Error loading all pages:",Ke)}finally{lt(!1)}}},qe=N.useCallback(async()=>{try{lt(!0);const Ke=await Ep(1),dn=await Ep(2),Jn=await Ep(3);dt.current=[...Ke.volumeXauRaw||[],...dn.volumeXauRaw||[],...Jn.volumeXauRaw||[]],ht.current=[...Ke.volumeXagRaw||[],...dn.volumeXagRaw||[],...Jn.volumeXagRaw||[]];const ki=[...dt.current.map(tn=>tn.timestamp),...ht.current.map(tn=>tn.timestamp)],$n=Math.min(...ki),ti=Math.max(...ki);k(rd(dt.current)),x(rd(ht.current)),nt(3),Z(mt>3),vt({min:$n,max:ti});const be=dt.current.slice().sort((tn,On)=>On.timestamp-tn.timestamp),cn=be[Math.max(0,be.length-30)]?.timestamp||$n;xt({min:cn,max:ti})}catch(Ke){console.error("Error resetting to initial pages:",Ke)}finally{lt(!1)}},[mt]),on=Ke=>{const dn=parseInt(Ke.target.value,10);F(dn);const ki=(dn-1)*Et+Et,$n=dt.current.slice(0,ki),ti=ht.current.slice(0,ki);k(rd($n)),x(rd(ti));const be=[...$n.map(On=>On.timestamp),...ti.map(On=>On.timestamp)],cn=Math.min(...be),tn=Math.max(...be);xt({min:cn,max:tn})},He=N.useCallback(Ke=>ee({visible:!0,x:Ke.clientX,y:Ke.clientY-15}),[]),mi=N.useCallback(()=>ee(Ke=>({...Ke,visible:!1})),[]),Si=N.useCallback(()=>{r(null),window.location.hash="#/vietnam/gold",requestAnimationFrame(()=>{document.body.style.overflow="",document.body.style.paddingRight="",setTimeout(()=>{window.scrollTo({top:o.current,behavior:"auto"})},20)})},[]),li=N.useCallback(Ke=>{o.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`;const dn=xMt(Ke);window.location.hash=`#/${dn}`,r(Ke)},[]),Xe=N.useCallback(()=>{o.current=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`,h(!0),g("/so-sanh-XAU-XAG")},[]),Ei=N.useCallback(()=>{h(!1),requestAnimationFrame(()=>{document.body.style.overflow="",document.body.style.paddingRight="",setTimeout(()=>{window.scrollTo({top:o.current,behavior:"auto"})},20)}),g("/")},[]);return N.useEffect(()=>{const Ke=dn=>{l.current&&!l.current.contains(dn.target)&&Si()};return i&&document.addEventListener("mousedown",Ke),()=>document.removeEventListener("mousedown",Ke)},[i,Si]),N.useEffect(()=>{const Ke=dn=>{d.current&&!d.current.contains(dn.target)&&Ei()};return c&&document.addEventListener("mousedown",Ke),()=>document.removeEventListener("mousedown",Ke)},[c,Ei]),N.useEffect(()=>{const Ke=dn=>{dn.key==="Escape"&&(i?Si():c&&Ei())};return(i||c)&&document.addEventListener("keydown",Ke),()=>document.removeEventListener("keydown",Ke)},[i,c,Si,Ei]),N.useEffect(()=>()=>{document.body.style.overflow=""},[]),N.useEffect(()=>{s(n)},[n]),u.jsxs("div",{className:"multi-chart-viewer",children:[!e&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"viewer-header",children:[u.jsx("h2",{className:"viewer-title",children:" BIU  PHN TCH K THUT"}),u.jsx("p",{className:"viewer-subtitle",children:"Click vo biu  mini  xem chi tit hoc m biu  Volume  phn tch ng b XAU/XAG."})]}),u.jsx("div",{children:u.jsx(cMt,{})}),u.jsx("div",{children:u.jsx(gMt,{})}),u.jsx("div",{className:"chart-grid",children:fe.map(Ke=>u.jsx(Mut,{symbol:Ke,onClick:li},Ke))})]}),u.jsx(JTt,{}),u.jsxs("div",{style:{marginTop:"20px"},children:[u.jsx("h1",{style:{textAlign:"center",color:"white"},children:"Order Book"}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10px",flexWrap:"wrap",gap:"10px"},children:[u.jsx(C4,{type:"GOLD"}),u.jsx(C4,{type:"SILVER"})]})]}),w&&u.jsxs("div",{onClick:Xe,className:`dual-chart-container ${c?"hidden":""}`,style:{width:"100%",display:"flex",flexDirection:"column",gap:"0px",marginTop:"40px",cursor:"pointer"},children:[u.jsx("div",{style:{width:"100%",marginTop:"20px"},onClick:Ke=>Ke.stopPropagation(),children:u.jsx(X7,{})}),u.jsx("div",{style:{width:"100%",marginTop:"30px"},onClick:Ke=>Ke.stopPropagation(),children:u.jsx(Zj,{})})]}),u.jsx(MTt,{fomo:n}),u.jsx(wMt,{isOpen:c,onClose:Ei,dataXauVolume:w,dataXagVolume:y,volumeZoomState:st,handleVolumeZoom:Jt,modalRef:d,hasMoreData:V,isLoadingMore:rt,loadNextPages:ue,loadAllPages:Te,resetToInitialPages:qe,avgVolumeXau:A,avgVolumeXag:R,sliderPage:z,accumulatedXauRawRef:ht,pageSize:Et,handleVolumeSliderChange:on}),i&&u.jsxs("div",{className:"fullscreen-modal",ref:l,children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{className:"modal-title",children:QC(i)}),u.jsx("button",{className:"modal-close-btn",onClick:Si,children:""})]}),u.jsx("div",{className:"modal-content",style:{width:"100%",height:"100%"},children:u.jsx(Aut,{symbol:i})})]}),a&&u.jsx("div",{className:"contain-bar-chart-xau-xag",children:u.jsxs("div",{className:"div-first",children:[u.jsxs("div",{className:"contain-two-chart",children:[u.jsx(VCt,{p1:a.chiso_xau_xag_ancarat,p2:a.chiso_xau_xag_kim_ngan_phuc,p3:a.chiso_xau_xag_nguyen_lieu,p4:a.chiso_xau_xag_phuquy,p5:a.chiso_xau_xag_quocte,p6:a.chiso_xau_xag_SACOMBANK}),u.jsxs("div",{className:"distance-title chart-container",onMouseMove:He,onMouseLeave:mi,style:{marginRight:"20px"},children:[u.jsx("h2",{children:"Ch s FOMO ca vng trong nc"}),u.jsx(Ww,{value:(a.chiso_fomo_vang_trong_nuoc*10).toFixed(1),size:"large",showLabel:!1,colors:["#ffffff"]})]}),u.jsxs("div",{className:"distance-title chart-container",style:{marginRight:"20px"},children:[u.jsx("h2",{children:"Ch s FOMO ca bc trong nc"}),u.jsx(Ww,{value:(a.gia_chenh_lech_nguyenlieu_bac/1e5).toFixed(1),size:"large",showLabel:!1,colors:["#ffffff"]})]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[u.jsx("div",{className:"contain-linexagxau",children:u.jsx(K2t,{})}),u.jsx("div",{children:u.jsx(t2t,{dataAnalysis:{"Bc 1 lng nhn t gi":a.gia_bac_1_luong_nhan_ty_gia/1e6,"Bc 1kg nhn t gi":a.gia_bac_1kg_nhan_ty_gia/1e6,"Chnh lch: bc":a.gia_chenh_lech_nguyenlieu_bac/1e6,"Chnh lch: vng":a.gia_chenh_lech_vang_nguyen_lieu/1e6,"Vng kitco USD":a.gia_vang_kitco_usd,"Vng nhn t gi":a.gia_vang_nhan_ty_gia/1e6,"Vng nguyn liu":a.gia_vang_nguyenlieu/1e6,"Bc nguyn liu 1 lng":a.gia_bac_nguyenlieu_1_luong/1e6,"Bc nguyn liu 1kg":a.gia_bac_nguyenlieu_1_kg/1e6,"Silver kitco usd":a.gia_silver_kitco_usd,"T gi USD":a.ty_gia_usd}})})]}),u.jsx("div",{style:{justifyItems:"center",marginTop:"10px"},children:[a.loi_khuyen_mua_ban_xau_xag_quoc_te,a.loi_khuyen_chenh_bac_nguyen_lieu_trong_nuoc,a.loi_khuyen_chenh_nguyen_lieu_trong_nuoc].map((Ke,dn)=>u.jsx("span",{style:{display:"block"},dangerouslySetInnerHTML:{__html:_Mt(Ke)}},dn))})]})}),Rt.visible&&u.jsx(Z2t,{x:Rt.x,y:Rt.y})]})},_Mt=n=>n.replace(/(\d+(\.\d+)?)/,'<span style="color:red;font-weight:bold;">$1</span>');function SMt(){return u.jsxs("div",{style:{height:"700px",backgroundColor:"#fff",margin:"16px",borderRadius:"8px",padding:"15px",boxSizing:"border-box"},children:[u.jsx("h1",{className:"economic-calendar-title-",style:{color:"#000",textAlign:"center"},children:"Lch Kinh T"}),u.jsx("div",{style:{width:"full",height:"90%",padding:"20px"},children:u.jsx("iframe",{title:"Economic Calendar",src:"https://sslecal2.investing.com/?columns=exc_flags,exc_currency,exc_importance,exc_actual,exc_forecast,exc_previous&importance=2,3&features=datepicker,timeselector,filters&countries=4,6,5,72,43,35,12,25&calType=day&timeZone=27&lang=52",width:"100%",height:"100%",style:{border:"none",overflow:"hidden",boxSizing:"border-box"},loading:"lazy"})})]})}function Z2(){return Z2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Z2.apply(this,arguments)}function kMt(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}var CMt=["cdnSuffix","cdnUrl","countryCode","style","svg"],AMt="https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/",TMt="svg",MMt=127397,NMt=function(t){var e=t.cdnSuffix,i=e===void 0?TMt:e,r=t.cdnUrl,a=r===void 0?AMt:r,s=t.countryCode,o=t.style,l=t.svg,c=l===void 0?!1:l,h=kMt(t,CMt);if(typeof s!="string")return null;if(c){var d=""+a+s.toLowerCase()+"."+i;return N.createElement("img",Object.assign({},h,{src:d,style:Z2({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},o)}))}var g=s.toUpperCase().replace(/./g,function(y){return String.fromCodePoint(y.charCodeAt(0)+MMt)});return N.createElement("span",Object.assign({role:"img"},h,{style:Z2({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},o)}),g)};const uf=n=>n==null?"N/A":new Intl.NumberFormat("vi-VN").format(n),mR=n=>({USD:" LA M",USD_TUDO:"USD T DO",EUR:"EURO",GBP:"BNG ANH",JPY:"YN NHT",AUD:" LA C",CAD:" LA CANADA",CHF:"FRANC THY S",HKD:" LA HNG KNG",SGD:" LA SINGAPORE",THB:"BT THI LAN",KRW:"WON HN QUC",CNY:"NHN DN T",INR:"RUPEE N ",MYR:"RINGGIT MALAYSIA",NOK:"KRONE NA UY",SEK:"KRONA THY IN",DKK:"KRONE AN MCH",RUB:"RUBLE NGA",KWD:"DINAR KUWAIT"})[n]||n,PMt=n=>({USD:"US",USD_TUDO:"US",EUR:"EU",GBP:"GB",JPY:"JP",AUD:"AU",CAD:"CA",CHF:"CH",HKD:"HK",SGD:"SG",THB:"TH",KRW:"KR",CNY:"CN",INR:"IN",MYR:"MY",NOK:"NO",SEK:"SE",DKK:"DK",RUB:"RU",KWD:"KW"})[n]||"XX",EMt=(n,t=24)=>{const e=PMt(n);return n==="EUR"?u.jsx("span",{style:{fontSize:`${t}px`},children:""}):u.jsx(NMt,{countryCode:e,svg:!0,style:{width:`${t}px`,height:`${t}px`},title:mR(n)})},jMt=(n,t)=>{if(!n||typeof n!="object")return{};const e=new Date,i=new Date(e);i.setDate(e.getDate()-t);const r={};return Object.keys(n).sort().forEach(a=>{const s=new Date(a);s>=i&&s<=e&&(r[a]=n[a])}),r},K7=n=>{if(!n)return"";const[t,e,i]=n.split("-");return`${i}-${e}-${t}`},DMt=n=>{if(!n)return"";const[t,e,i]=n.split("-");return`${i}-${e}-${t}`},OMt=(n,t=7)=>!n||typeof n!="object"?[]:Object.keys(n).sort().reverse().slice(0,t);gi.register(qr,Ji,pa,Xr,Xo,Qi,sr,vf);const LMt=({data:n})=>{const[t,e]=N.useState({}),[i,r]=N.useState({}),[a,s]=N.useState("ALL"),[o,l]=N.useState(null),[c,h]=N.useState({title:"",price:null,change:null,percent:null}),{minYear:d,maxYear:g,availableYears:y}=N.useMemo(()=>{if(!n||typeof n!="object"||Object.keys(n).length===0)return{minYear:null,maxYear:null,availableYears:[]};const z=Object.keys(n).sort();if(z.length===0)return{minYear:null,maxYear:null,availableYears:[]};const F=z.map(nt=>{const[V]=nt.split("-").map(Number);return V}),H=[...new Set(F)].sort((nt,V)=>nt-V),Y=H[0],J=H[H.length-1];return{minYear:Y,maxYear:J,availableYears:H}},[n]);N.useEffect(()=>{if(n&&typeof n=="object"&&Object.keys(n).length>0){e(n);const z=Object.keys(n).sort();if(z.length>0){const F=z[z.length-1],H=n[F]?.USD_TUDO?.sell,Y=z[0],J=n[Y]?.USD_TUDO?.sell;let nt={title:"",price:null,change:null,percent:null};if(H!=null){const[V,Z,rt]=F.split("-");if(nt.title=`Gi hin ti (${rt}/${Z}/${V})`,nt.price=H,J!=null&&J!==0){const lt=H-J,mt=(lt/J*100).toFixed(1);nt.change=lt,nt.percent=mt}}r(n),h(nt),s("ALL")}}},[n]);const x=z=>{if(!t||Object.keys(t).length===0)return;let F={},H={title:"",price:null,change:null,percent:null};const Y=Object.keys(t).sort();if(z==="ALL"){if(F={...t},Y.length>0){const J=Y[Y.length-1],nt=t[J]?.USD_TUDO?.sell,V=Y[0],Z=t[V]?.USD_TUDO?.sell;if(nt!=null){const[rt,lt,mt]=J.split("-");if(H.title=`Gi hin ti (${mt}/${lt}/${rt})`,H.price=nt,Z!=null&&Z!==0){const ct=nt-Z,st=(ct/Z*100).toFixed(1);H.change=ct,H.percent=st}}}}else if(z==="1W"){const J=Y[Y.length-1],[nt,V,Z]=J.split("-").map(Number),rt=new Date(nt,V-1,Z),lt=new Date(rt);if(lt.setDate(rt.getDate()-7),Y.forEach(mt=>{const[ct,st,xt]=mt.split("-").map(Number),dt=new Date(ct,st-1,xt);dt>=lt&&dt<=rt&&(F[mt]=t[mt])}),Y.length>0){const mt=Y[Y.length-1],ct=t[mt]?.USD_TUDO?.sell,xt=Object.keys(F).sort()[0],dt=t[xt]?.USD_TUDO?.sell;if(ct!=null){const[ht,ot,vt]=mt.split("-");if(H.title=`Gi hin ti (${vt}/${ot}/${ht})`,H.price=ct,dt!=null&&dt!==0){const St=ct-dt,Pt=(St/dt*100).toFixed(1);H.change=St,H.percent=Pt}}}}else if(z==="1M"){const J=Y[Y.length-1],[nt,V,Z]=J.split("-").map(Number),rt=new Date(nt,V-1,Z),lt=new Date(rt);if(lt.setDate(rt.getDate()-30),Y.forEach(mt=>{const[ct,st,xt]=mt.split("-").map(Number),dt=new Date(ct,st-1,xt);dt>=lt&&dt<=rt&&(F[mt]=t[mt])}),Y.length>0){const mt=Y[Y.length-1],ct=t[mt]?.USD_TUDO?.sell,xt=Object.keys(F).sort()[0],dt=t[xt]?.USD_TUDO?.sell;if(ct!=null){const[ht,ot,vt]=mt.split("-");if(H.title=`Gi hin ti (${vt}/${ot}/${ht})`,H.price=ct,dt!=null&&dt!==0){const St=ct-dt,Pt=(St/dt*100).toFixed(1);H.change=St,H.percent=Pt}}}}else if(typeof z=="number"||typeof z=="string"&&/^\d{4}$/.test(z)){const J=typeof z=="number"?z:parseInt(z,10),nt=new Date(J,0,1),V=new Date(J,11,31);Y.forEach(rt=>{const[lt,mt,ct]=rt.split("-").map(Number),st=new Date(lt,mt-1,ct);st>=nt&&st<=V&&(F[rt]=t[rt])});const Z=Object.keys(F).sort();if(Z.length>0){const rt=Z[Z.length-1],lt=t[rt]?.USD_TUDO?.sell,mt=Z[0],ct=t[mt]?.USD_TUDO?.sell;if(lt!=null&&(H.title=`Gi cui nm ${J}`,H.price=lt,ct!=null&&ct!==0)){const st=lt-ct,xt=(st/ct*100).toFixed(1);H.change=st,H.percent=xt}}}r(F),h(H)},w=z=>{const F=parseInt(z.target.value,10);l(F),s(F),t&&Object.keys(t).length>0&&x(F)},k=z=>{l(null),s(z),t&&Object.keys(t).length>0&&x(z)},A=N.useMemo(()=>o!==null?o:typeof a=="number"?a:typeof a=="string"&&/^\d{4}$/.test(a)?parseInt(a,10):g||new Date().getFullYear(),[o,a,g]),T=N.useMemo(()=>a==="ALL"?"Tt c":a==="1W"||a==="1M"?a==="1W"?"1 tun":"1 thng":o!==null?o.toString():typeof a=="number"?a.toString():typeof a=="string"&&/^\d{4}$/.test(a)?a:"Tt c",[o,a]),R=N.useMemo(()=>{if(!i||Object.keys(i).length===0)return null;const z=Object.keys(i).sort();let F=[];typeof a=="number"||typeof a=="string"&&/^\d{4}$/.test(a)?F=z.map(Y=>{const[,J]=Y.split("-");return["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"][parseInt(J,10)-1]||J}):F=z.map(Y=>{const[J]=Y.split("-");return J});const H=z.map(Y=>{const J=i[Y]?.USD_TUDO;return J?.sell!==null&&J?.sell!==void 0?J.sell:null});return{labels:F,datasets:[{label:"Gi Bn USD T Do",data:H,borderColor:"#22c55e",backgroundColor:Y=>{const nt=Y.chart.ctx.createLinearGradient(0,0,0,300);return nt.addColorStop(0,"rgba(34, 197, 94, 0.3)"),nt.addColorStop(1,"rgba(34, 197, 94, 0)"),nt},borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:5,pointBackgroundColor:"#22c55e",pointBorderColor:"#1E293B",pointBorderWidth:2}]}},[i,a]),G={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!0,callbacks:{title:z=>{const F=z[0].dataIndex,Y=Object.keys(i).sort()[F],[J,nt,V]=Y.split("-");return`Ngy: ${V}/${nt}/${J}`},label:z=>{const F=z.parsed.y;return F===null?"N/A":`Gi bn: ${uf(F)} VN`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",callback:z=>uf(z)}}},interaction:{intersect:!1,mode:"index"}};return R?u.jsxs("div",{className:"usd-history-chart-card",children:[u.jsx("div",{className:"usd-chart-header",children:u.jsxs("div",{className:"usd-chart-title-section",children:[u.jsx("h3",{className:"usd-chart-title",children:c.title||"Gi USD T Do"}),c.price!==null&&u.jsxs("div",{className:"usd-chart-price",children:[u.jsx("span",{className:"usd-price-value",children:uf(c.price)}),c.percent!==null&&u.jsxs("span",{className:`usd-price-change ${c.change>=0?"up":"down"}`,children:[c.change>=0?"":""," ",Math.abs(c.percent),"%",typeof a=="number"||typeof a=="string"&&/^\d{4}$/.test(a)?`(trong nm ${a})`:""]})]})]})}),u.jsx("div",{className:"usd-chart-container",children:u.jsx(hf,{data:R,options:G})}),u.jsxs("div",{className:"usd-controls",children:[u.jsxs("div",{className:"usd-year-slider-container",children:[u.jsxs("label",{className:"usd-slider-label",children:["Chn nm: ",T]}),u.jsx("input",{type:"range",min:d||2e3,max:g||new Date().getFullYear(),value:A,onChange:w,className:"usd-year-slider",disabled:a==="1W"||a==="1M"}),u.jsxs("div",{className:"usd-slider-years",children:[u.jsx("span",{children:d||2e3}),u.jsx("span",{children:g||new Date().getFullYear()})]})]}),u.jsx("div",{className:"usd-time-filter",children:["1W","1M","Tt C"].map(z=>u.jsx("button",{className:`usd-filter-btn ${a===z?"active":""}`,onClick:()=>k(z==="Tt C"?"ALL":z),children:z},z))})]})]}):u.jsxs("div",{className:"usd-history-chart-card",children:[u.jsx("div",{className:"usd-chart-header",children:u.jsx("div",{className:"usd-chart-title-section",children:u.jsx("h3",{className:"usd-chart-title",children:"ang ti d liu..."})})}),u.jsx("div",{className:"usd-chart-container",children:u.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"2rem"},children:"ang ti d liu..."})})]})},RMt=n=>n==null?"N/A":new Intl.NumberFormat("vi-VN",{minimumFractionDigits:0,maximumFractionDigits:0}).format(n),T4=({value:n,className:t})=>{const[e,i]=N.useState("00");if(N.useEffect(()=>{const a=setInterval(()=>{const s=Math.floor(Math.random()*100).toString().padStart(2,"0");i(s)},2e3);return()=>clearInterval(a)},[]),n==null)return u.jsx("span",{children:"N/A"});const r=RMt(n);return u.jsxs("span",{className:`animated-price ${t||""}`,children:[r,",",e]})},IMt=({exchangeRates:n})=>{if(!n||!Array.isArray(n)||n.length===0)return u.jsx("div",{className:"black-market-exchange-rate-table-empty",children:u.jsx("p",{children:"Khng c d liu t gi"})});const t=e=>e?`https://vang247.xyz/icon_tygia/${e.toLowerCase()}.png`:null;return u.jsxs("div",{className:"black-market-exchange-rate-table-card",children:[u.jsx("div",{className:"table-header",children:u.jsx("h2",{className:"table-title",children:"T Gi Ngoi T Ch en"})}),u.jsx("div",{className:"table-wrapper",children:u.jsxs("table",{className:"black-market-exchange-rate-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"M NT & Quc K"}),u.jsx("th",{children:"Tn Ngoi T"}),u.jsx("th",{children:"Mua Vo"}),u.jsx("th",{children:"Bn Ra"})]})}),u.jsx("tbody",{children:n.map((e,i)=>{const r=t(e.code);return u.jsxs("tr",{children:[u.jsx("td",{className:"currency-code-cell",children:u.jsxs("div",{className:"currency-flag-wrapper",children:[r?u.jsx("img",{src:r,alt:e.code||"",className:"currency-flag",onError:a=>{a.target.style.display="none"}}):null,u.jsx("span",{className:"currency-code",children:e.code||"N/A"})]})}),u.jsx("td",{className:"currency-name",children:e.name||"N/A"}),u.jsx("td",{className:"price-buy",children:e.buy!==null&&e.buy!==void 0?u.jsx(T4,{value:e.buy}):"N/A"}),u.jsx("td",{className:"price-sell",children:e.sell!==null&&e.sell!==void 0?u.jsx(T4,{value:e.sell}):"N/A"})]},e.code||i)})})]})})]})},zMt=n=>{if(!n||n.includes("api_gold.thinkdiff.us"))return n;if(n.includes("thinkdiff.us")){const t=n.match(/thinkdiff\.us\/(.+)$/);if(t)return`https://api_gold.thinkdiff.us/${t[1].replace(/^vang247_xyz\//,"view_full_data_json/")}`}return n},M4=async(n,t,e)=>{try{const i=await dO(n,t,e);if(!i||i.length===0)return null;const a=[...i].sort((s,o)=>{const l=s.modified_time||0;return(o.modified_time||0)-l})[0]?.link;return a?zMt(a):null}catch(i){return console.error("Error getting latest file URL:",i),null}},yR=async()=>{try{const n=new Date,t=String(n.getDate()).padStart(2,"0"),e=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getFullYear());let r=await M4(t,e,i);if(!r){const s=new Date(n);s.setDate(s.getDate()-1);const o=String(s.getDate()).padStart(2,"0"),l=String(s.getMonth()+1).padStart(2,"0"),c=String(s.getFullYear());r=await M4(o,l,c)}if(!r)return console.warn("Khng tm thy d liu t gi ch en"),null;console.log("fileUrl: ",r);const a=await Y_(r);return!a||!a.data||!a.data.chogia_vn||!a.data.chogia_vn.data?(console.warn("Cu trc d liu khng ng:",a),null):a.data.chogia_vn.data}catch(n){return console.error("Error fetching black market exchange rates:",n),null}},FMt="https://api_gold.thinkdiff.us/lich_su_tygia_dola",BMt=async()=>{try{const n=await fetch(FMt);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("Error fetching exchange rate history:",n),n}},HMt=n=>{if(!n||!n.data||!Array.isArray(n.data)||n.data.length<3)return console.error("Invalid API data structure"),{};const t=n.data[2]?.data;if(!t||!Array.isArray(t))return console.error("Invalid main data structure"),{};const e={};return t.forEach(i=>{if(!i.date)return;const r=i.date.split(" ")[0];e[r]||(e[r]={}),Object.keys(i).forEach(a=>{if(!(a==="date"||a==="id"))try{const s=typeof i[a]=="string"?JSON.parse(i[a]):i[a];s&&(s.buy!==void 0||s.sell!==void 0)&&(e[r][a]={buy:s.buy,sell:s.sell})}catch(s){console.warn(`Failed to parse currency data for ${a}:`,s)}})}),e},N4=(n,t)=>!n||!t?null:n[t]||null,GMt=n=>!n||Object.keys(n).length===0?null:Object.keys(n).sort().reverse()[0]||null,WMt=(n,t)=>{if(!n||!t)return{buyChange:null,sellChange:null,buyPercent:null,sellPercent:null};const e=n.buy!==null&&t.buy!==null?n.buy-t.buy:null,i=n.sell!==null&&t.sell!==null?n.sell-t.sell:null,r=e!==null&&t.buy!==null&&t.buy!==0?(e/t.buy*100).toFixed(2):null,a=i!==null&&t.sell!==null&&t.sell!==0?(i/t.sell*100).toFixed(2):null;return{buyChange:e,sellChange:i,buyPercent:r,sellPercent:a}},UMt=n=>{const t=new Date(n);return t.setDate(t.getDate()-1),t.toISOString().split("T")[0]},Z7=()=>{const[n,t]=N.useState(null),[e,i]=N.useState({}),[r,a]=N.useState(!0),[s,o]=N.useState(null);N.useEffect(()=>{let d=!1;return(async()=>{try{a(!0),o(null);const y=await BMt();if(d)return;const x=HMt(y);t(y),i(x)}catch(y){d||(console.error("Error loading exchange rate data:",y),o("Khng th ti d liu t gi. Vui lng th li sau."))}finally{d||a(!1)}})(),()=>{d=!0}},[]);const l=N.useMemo(()=>d=>N4(e,d),[e]),c=N.useMemo(()=>()=>GMt(e),[e]),h=N.useMemo(()=>d=>{const g=UMt(d);return N4(e,g)},[e]);return{processedData:e,loading:r,error:s,getRateByDate:l,getLatestDate:c,getPreviousRate:h}},YMt=()=>{const[n,t]=N.useState(null),[e,i]=N.useState(!0),[r,a]=N.useState(null),{processedData:s}=Z7();return N.useEffect(()=>{(async()=>{try{i(!0),a(null);const l=await yR();l?t(l):a("Khng tm thy d liu t gi")}catch(l){console.error("Error loading black market exchange rates:",l),a("Khng th ti d liu t gi")}finally{i(!1)}})()},[]),u.jsx("div",{className:"black-market-exchange-rate-section",children:u.jsxs("div",{className:"black-market-section-grid",children:[u.jsx("div",{className:"black-market-chart-column",children:u.jsx(LMt,{data:s})}),u.jsx("div",{className:"black-market-table-column",children:e?u.jsx("div",{className:"black-market-loading",children:u.jsx("p",{children:"ang ti d liu..."})}):r?u.jsx("div",{className:"black-market-error",children:u.jsx("p",{children:r})}):u.jsx(IMt,{exchangeRates:n})})]})})};var Lw={exports:{}};var $Mt=Lw.exports,P4;function VMt(){return P4||(P4=1,(function(n,t){(function(){var e,i="4.17.21",r=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",d=1,g=2,y=4,x=1,w=2,k=1,A=2,T=4,R=8,G=16,z=32,F=64,H=128,Y=256,J=512,nt=30,V="...",Z=800,rt=16,lt=1,mt=2,ct=3,st=1/0,xt=9007199254740991,dt=17976931348623157e292,ht=NaN,ot=4294967295,vt=ot-1,St=ot>>>1,Pt=[["ary",H],["bind",k],["bindKey",A],["curry",R],["curryRight",G],["flip",J],["partial",z],["partialRight",F],["rearg",Y]],It="[object Arguments]",Nt="[object Array]",Et="[object AsyncFunction]",Yt="[object Boolean]",Rt="[object Date]",ee="[object DOMException]",fe="[object Error]",Jt="[object Function]",ue="[object GeneratorFunction]",Te="[object Map]",qe="[object Number]",on="[object Null]",He="[object Object]",mi="[object Promise]",Si="[object Proxy]",li="[object RegExp]",Xe="[object Set]",Ei="[object String]",Ke="[object Symbol]",dn="[object Undefined]",Jn="[object WeakMap]",ki="[object WeakSet]",$n="[object ArrayBuffer]",ti="[object DataView]",be="[object Float32Array]",cn="[object Float64Array]",tn="[object Int8Array]",On="[object Int16Array]",un="[object Int32Array]",kn="[object Uint8Array]",Dn="[object Uint8ClampedArray]",Bn="[object Uint16Array]",_r="[object Uint32Array]",or=/\b__p \+= '';/g,as=/\b(__p \+=) '' \+/g,tr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_a=/&(?:amp|lt|gt|quot|#39);/g,Cr=/[&<>"']/g,ei=RegExp(_a.source),er=RegExp(Cr.source),ji=/<%-([\s\S]+?)%>/g,vn=/<%([\s\S]+?)%>/g,Vn=/<%=([\s\S]+?)%>/g,nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,We=/^\w*$/,Kr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ve=RegExp(re.source),ze=/^\s+/,Pe=/\s/,Ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ui=/\{\n\/\* \[wrapped with (.+)\] \*/,Zr=/,? & /,nr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hn=/[()=,{}\[\]\/\s]/,yi=/\\(\\)?/g,ci=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gn=/\w*$/,Di=/^[-+]0x[0-9a-f]+$/i,Oi=/^0b[01]+$/i,ni=/^\[object .+?Constructor\]$/,vr=/^0o[0-7]+$/i,xs=/^(?:0|[1-9]\d*)$/,ss=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,os=/($^)/,Xn=/['\n\r\u2028\u2029\\]/g,Ar="\\ud800-\\udfff",vi="\\u0300-\\u036f",ls="\\ufe20-\\ufe2f",zs="\\u20d0-\\u20ff",la=vi+ls+zs,Ka="\\u2700-\\u27bf",Sa="a-z\\xdf-\\xf6\\xf8-\\xff",io="\\xac\\xb1\\xd7\\xf7",Yi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",oc="\\u2000-\\u206f",Un=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ii="A-Z\\xc0-\\xd6\\xd8-\\xde",Ba="\\ufe0e\\ufe0f",ca=io+Yi+oc+Un,ro="[']",Hc="["+Ar+"]",An="["+ca+"]",$i="["+la+"]",cs="\\d+",ph="["+Ka+"]",Vi="["+Sa+"]",lc="[^"+Ar+ca+cs+Ka+Sa+ii+"]",Qo="\\ud83c[\\udffb-\\udfff]",Fs="(?:"+$i+"|"+Qo+")",ir="[^"+Ar+"]",At="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Ft="["+ii+"]",oe="\\u200d",Ne="(?:"+Vi+"|"+lc+")",Ge="(?:"+Ft+"|"+lc+")",Tn="(?:"+ro+"(?:d|ll|m|re|s|t|ve))?",Rr="(?:"+ro+"(?:D|LL|M|RE|S|T|VE))?",ua=Fs+"?",Ir="["+Ba+"]?",zr="(?:"+oe+"(?:"+[ir,At,Ot].join("|")+")"+Ir+ua+")*",cc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Tl=Ir+ua+zr,Mn="(?:"+[ph,At,Ot].join("|")+")"+Tl,Jo="(?:"+[ir+$i+"?",$i,At,Ot,Hc].join("|")+")",lr=RegExp(ro,"g"),bd=RegExp($i,"g"),uc=RegExp(Qo+"(?="+Qo+")|"+Jo+Tl,"g"),Bs=RegExp([Ft+"?"+Vi+"+"+Tn+"(?="+[An,Ft,"$"].join("|")+")",Ge+"+"+Rr+"(?="+[An,Ft+Ne,"$"].join("|")+")",Ft+"?"+Ne+"+"+Tn,Ft+"+"+Rr,xd,cc,cs,Mn].join("|"),"g"),mh=RegExp("["+oe+Ar+la+Ba+"]"),ka=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ml=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tl=-1,En={};En[be]=En[cn]=En[tn]=En[On]=En[un]=En[kn]=En[Dn]=En[Bn]=En[_r]=!0,En[It]=En[Nt]=En[$n]=En[Yt]=En[ti]=En[Rt]=En[fe]=En[Jt]=En[Te]=En[qe]=En[He]=En[li]=En[Xe]=En[Ei]=En[Jn]=!1;var xi={};xi[It]=xi[Nt]=xi[$n]=xi[ti]=xi[Yt]=xi[Rt]=xi[be]=xi[cn]=xi[tn]=xi[On]=xi[un]=xi[Te]=xi[qe]=xi[He]=xi[li]=xi[Xe]=xi[Ei]=xi[Ke]=xi[kn]=xi[Dn]=xi[Bn]=xi[_r]=!0,xi[fe]=xi[Jt]=xi[Jn]=!1;var yh={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},vh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nl=parseFloat,xh=parseInt,Ao=typeof nk=="object"&&nk&&nk.Object===Object&&nk,Gn=typeof self=="object"&&self&&self.Object===Object&&self,ha=Ao||Gn||Function("return this")(),ws=t&&!t.nodeType&&t,_s=ws&&!0&&n&&!n.nodeType&&n,bh=_s&&_s.exports===ws,wd=bh&&Ao.process,zi=(function(){try{var Qt=_s&&_s.require&&_s.require("util").types;return Qt||wd&&wd.binding&&wd.binding("util")}catch{}})(),el=zi&&zi.isArrayBuffer,wf=zi&&zi.isDate,_f=zi&&zi.isMap,Og=zi&&zi.isRegExp,Gc=zi&&zi.isSet,um=zi&&zi.isTypedArray;function Tr(Qt,xe,ce){switch(ce.length){case 0:return Qt.call(xe);case 1:return Qt.call(xe,ce[0]);case 2:return Qt.call(xe,ce[0],ce[1]);case 3:return Qt.call(xe,ce[0],ce[1],ce[2])}return Qt.apply(xe,ce)}function hm(Qt,xe,ce,Ue){for(var wn=-1,Ln=Qt==null?0:Qt.length;++wn<Ln;){var Fr=Qt[wn];xe(Ue,Fr,ce(Fr),Qt)}return Ue}function Ca(Qt,xe){for(var ce=-1,Ue=Qt==null?0:Qt.length;++ce<Ue&&xe(Qt[ce],ce,Qt)!==!1;);return Qt}function hc(Qt,xe){for(var ce=Qt==null?0:Qt.length;ce--&&xe(Qt[ce],ce,Qt)!==!1;);return Qt}function Lg(Qt,xe){for(var ce=-1,Ue=Qt==null?0:Qt.length;++ce<Ue;)if(!xe(Qt[ce],ce,Qt))return!1;return!0}function ao(Qt,xe){for(var ce=-1,Ue=Qt==null?0:Qt.length,wn=0,Ln=[];++ce<Ue;){var Fr=Qt[ce];xe(Fr,ce,Qt)&&(Ln[wn++]=Fr)}return Ln}function Eu(Qt,xe){var ce=Qt==null?0:Qt.length;return!!ce&&Sh(Qt,xe,0)>-1}function wh(Qt,xe,ce){for(var Ue=-1,wn=Qt==null?0:Qt.length;++Ue<wn;)if(ce(xe,Qt[Ue]))return!0;return!1}function xr(Qt,xe){for(var ce=-1,Ue=Qt==null?0:Qt.length,wn=Array(Ue);++ce<Ue;)wn[ce]=xe(Qt[ce],ce,Qt);return wn}function Pl(Qt,xe){for(var ce=-1,Ue=xe.length,wn=Qt.length;++ce<Ue;)Qt[wn+ce]=xe[ce];return Qt}function _d(Qt,xe,ce,Ue){var wn=-1,Ln=Qt==null?0:Qt.length;for(Ue&&Ln&&(ce=Qt[++wn]);++wn<Ln;)ce=xe(ce,Qt[wn],wn,Qt);return ce}function dm(Qt,xe,ce,Ue){var wn=Qt==null?0:Qt.length;for(Ue&&wn&&(ce=Qt[--wn]);wn--;)ce=xe(ce,Qt[wn],wn,Qt);return ce}function _h(Qt,xe){for(var ce=-1,Ue=Qt==null?0:Qt.length;++ce<Ue;)if(xe(Qt[ce],ce,Qt))return!0;return!1}var Rg=Wc("length");function fm(Qt){return Qt.split("")}function gm(Qt){return Qt.match(nr)||[]}function Sd(Qt,xe,ce){var Ue;return ce(Qt,function(wn,Ln,Fr){if(xe(wn,Ln,Fr))return Ue=Ln,!1}),Ue}function El(Qt,xe,ce,Ue){for(var wn=Qt.length,Ln=ce+(Ue?1:-1);Ue?Ln--:++Ln<wn;)if(xe(Qt[Ln],Ln,Qt))return Ln;return-1}function Sh(Qt,xe,ce){return xe===xe?kh(Qt,xe,ce):El(Qt,so,ce)}function ju(Qt,xe,ce,Ue){for(var wn=ce-1,Ln=Qt.length;++wn<Ln;)if(Ue(Qt[wn],xe))return wn;return-1}function so(Qt){return Qt!==Qt}function kd(Qt,xe){var ce=Qt==null?0:Qt.length;return ce?Ad(Qt,xe)/ce:ht}function Wc(Qt){return function(xe){return xe==null?e:xe[Qt]}}function Sf(Qt){return function(xe){return Qt==null?e:Qt[xe]}}function jl(Qt,xe,ce,Ue,wn){return wn(Qt,function(Ln,Fr,Xi){ce=Ue?(Ue=!1,Ln):xe(ce,Ln,Fr,Xi)}),ce}function Cd(Qt,xe){var ce=Qt.length;for(Qt.sort(xe);ce--;)Qt[ce]=Qt[ce].value;return Qt}function Ad(Qt,xe){for(var ce,Ue=-1,wn=Qt.length;++Ue<wn;){var Ln=xe(Qt[Ue]);Ln!==e&&(ce=ce===e?Ln:ce+Ln)}return ce}function kf(Qt,xe){for(var ce=-1,Ue=Array(Qt);++ce<Qt;)Ue[ce]=xe(ce);return Ue}function Ig(Qt,xe){return xr(xe,function(ce){return[ce,Qt[ce]]})}function Du(Qt){return Qt&&Qt.slice(0,Ru(Qt)+1).replace(ze,"")}function Mr(Qt){return function(xe){return Qt(xe)}}function Dl(Qt,xe){return xr(xe,function(ce){return Qt[ce]})}function Uc(Qt,xe){return Qt.has(xe)}function Hs(Qt,xe){for(var ce=-1,Ue=Qt.length;++ce<Ue&&Sh(xe,Qt[ce],0)>-1;);return ce}function zg(Qt,xe){for(var ce=Qt.length;ce--&&Sh(xe,Qt[ce],0)>-1;);return ce}function nl(Qt,xe){for(var ce=Qt.length,Ue=0;ce--;)Qt[ce]===xe&&++Ue;return Ue}var Yc=Sf(yh),il=Sf(vh);function Td(Qt){return"\\"+bs[Qt]}function rl(Qt,xe){return Qt==null?e:Qt[xe]}function Ou(Qt){return mh.test(Qt)}function us(Qt){return ka.test(Qt)}function Ol(Qt){for(var xe,ce=[];!(xe=Qt.next()).done;)ce.push(xe.value);return ce}function Cf(Qt){var xe=-1,ce=Array(Qt.size);return Qt.forEach(function(Ue,wn){ce[++xe]=[wn,Ue]}),ce}function Lu(Qt,xe){return function(ce){return Qt(xe(ce))}}function al(Qt,xe){for(var ce=-1,Ue=Qt.length,wn=0,Ln=[];++ce<Ue;){var Fr=Qt[ce];(Fr===xe||Fr===h)&&(Qt[ce]=h,Ln[wn++]=ce)}return Ln}function To(Qt){var xe=-1,ce=Array(Qt.size);return Qt.forEach(function(Ue){ce[++xe]=Ue}),ce}function av(Qt){var xe=-1,ce=Array(Qt.size);return Qt.forEach(function(Ue){ce[++xe]=[Ue,Ue]}),ce}function kh(Qt,xe,ce){for(var Ue=ce-1,wn=Qt.length;++Ue<wn;)if(Qt[Ue]===xe)return Ue;return-1}function Af(Qt,xe,ce){for(var Ue=ce+1;Ue--;)if(Qt[Ue]===xe)return Ue;return Ue}function Gs(Qt){return Ou(Qt)?Md(Qt):Rg(Qt)}function Sr(Qt){return Ou(Qt)?Nd(Qt):fm(Qt)}function Ru(Qt){for(var xe=Qt.length;xe--&&Pe.test(Qt.charAt(xe)););return xe}var sl=Sf(cm);function Md(Qt){for(var xe=uc.lastIndex=0;uc.test(Qt);)++xe;return xe}function Nd(Qt){return Qt.match(uc)||[]}function Pd(Qt){return Qt.match(Bs)||[]}var $c=(function Qt(xe){xe=xe==null?ha:Mo.defaults(ha.Object(),xe,Mo.pick(ha,Ml));var ce=xe.Array,Ue=xe.Date,wn=xe.Error,Ln=xe.Function,Fr=xe.Math,Xi=xe.Object,Tf=xe.RegExp,hs=xe.String,ds=xe.TypeError,Vc=ce.prototype,Iu=Ln.prototype,Ch=Xi.prototype,Xc=xe["__core-js_shared__"],Ah=Iu.toString,Ci=Ch.hasOwnProperty,Fg=0,oo=(function(){var S=/[^.]+$/.exec(Xc&&Xc.keys&&Xc.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""})(),Ss=Ch.toString,qc=Ah.call(Xi),No=ha._,Ws=Tf("^"+Ah.call(Ci).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fs=bh?xe.Buffer:e,Za=xe.Symbol,ol=xe.Uint8Array,Ed=fs?fs.allocUnsafe:e,lo=Lu(Xi.getPrototypeOf,Xi),dc=Xi.create,Th=Ch.propertyIsEnumerable,Ll=Vc.splice,Bg=Za?Za.isConcatSpreadable:e,Ha=Za?Za.iterator:e,Po=Za?Za.toStringTag:e,Nr=(function(){try{var S=_c(Xi,"defineProperty");return S({},"",{}),S}catch{}})(),qi=xe.clearTimeout!==ha.clearTimeout&&xe.clearTimeout,jd=Ue&&Ue.now!==ha.Date.now&&Ue.now,Kc=xe.setTimeout!==ha.setTimeout&&xe.setTimeout,fc=Fr.ceil,gc=Fr.floor,cr=Xi.getOwnPropertySymbols,v=fs?fs.isBuffer:e,M=xe.isFinite,W=Vc.join,et=Lu(Xi.keys,Xi),ft=Fr.max,Ct=Fr.min,Bt=Ue.now,te=xe.parseInt,Zt=Fr.random,_e=Vc.reverse,Re=_c(xe,"DataView"),rn=_c(xe,"Map"),Yn=_c(xe,"Promise"),Qr=_c(xe,"Set"),rr=_c(xe,"WeakMap"),Qa=_c(Xi,"create"),Li=rr&&new rr,bi={},ai=$s(Re),Zc=$s(rn),co=$s(Yn),Mf=$s(Qr),Qc=$s(rr),Mh=Za?Za.prototype:e,Pr=Mh?Mh.valueOf:e,Rl=Mh?Mh.toString:e;function Tt(S){if(zt(S)&&!C(S)&&!(S instanceof Rn)){if(S instanceof Ja)return S;if(Ci.call(S,"__wrapped__"))return Ym(S)}return new Ja(S)}var Jc=(function(){function S(){}return function(E){if(!Dt(E))return{};if(dc)return dc(E);S.prototype=E;var X=new S;return S.prototype=e,X}})();function tu(){}function Ja(S,E){this.__wrapped__=S,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=e}Tt.templateSettings={escape:ji,evaluate:vn,interpolate:Vn,variable:"",imports:{_:Tt}},Tt.prototype=tu.prototype,Tt.prototype.constructor=Tt,Ja.prototype=Jc(tu.prototype),Ja.prototype.constructor=Ja;function Rn(S){this.__wrapped__=S,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ot,this.__views__=[]}function Ga(){var S=new Rn(this.__wrapped__);return S.__actions__=Jr(this.__actions__),S.__dir__=this.__dir__,S.__filtered__=this.__filtered__,S.__iteratees__=Jr(this.__iteratees__),S.__takeCount__=this.__takeCount__,S.__views__=Jr(this.__views__),S}function Nh(){if(this.__filtered__){var S=new Rn(this);S.__dir__=-1,S.__filtered__=!0}else S=this.clone(),S.__dir__*=-1;return S}function zu(){var S=this.__wrapped__.value(),E=this.__dir__,X=C(S),ut=E<0,kt=X?S.length:0,Lt=D1(0,kt,this.__views__),Ht=Lt.start,Xt=Lt.end,ie=Xt-Ht,Ce=ut?Xt:Ht-1,Ae=this.__iteratees__,je=Ae.length,Ye=0,pn=Ct(ie,this.__takeCount__);if(!X||!ut&&kt==ie&&pn==ie)return Pm(S,this.__actions__);var zn=[];t:for(;ie--&&Ye<pn;){Ce+=E;for(var Pi=-1,Fn=S[Ce];++Pi<je;){var Wi=Ae[Pi],ar=Wi.iteratee,Ju=Wi.type,Dc=ar(Fn);if(Ju==mt)Fn=Dc;else if(!Dc){if(Ju==lt)continue t;break t}}zn[Ye++]=Fn}return zn}Rn.prototype=Jc(tu.prototype),Rn.prototype.constructor=Rn;function Fu(S){var E=-1,X=S==null?0:S.length;for(this.clear();++E<X;){var ut=S[E];this.set(ut[0],ut[1])}}function pm(){this.__data__=Qa?Qa(null):{},this.size=0}function Nf(S){var E=this.has(S)&&delete this.__data__[S];return this.size-=E?1:0,E}function mm(S){var E=this.__data__;if(Qa){var X=E[S];return X===l?e:X}return Ci.call(E,S)?E[S]:e}function eu(S){var E=this.__data__;return Qa?E[S]!==e:Ci.call(E,S)}function ks(S,E){var X=this.__data__;return this.size+=this.has(S)?0:1,X[S]=Qa&&E===e?l:E,this}Fu.prototype.clear=pm,Fu.prototype.delete=Nf,Fu.prototype.get=mm,Fu.prototype.has=eu,Fu.prototype.set=ks;function ll(S){var E=-1,X=S==null?0:S.length;for(this.clear();++E<X;){var ut=S[E];this.set(ut[0],ut[1])}}function s0(){this.__data__=[],this.size=0}function M1(S){var E=this.__data__,X=iu(E,S);if(X<0)return!1;var ut=E.length-1;return X==ut?E.pop():Ll.call(E,X,1),--this.size,!0}function o0(S){var E=this.__data__,X=iu(E,S);return X<0?e:E[X][1]}function N1(S){return iu(this.__data__,S)>-1}function Wa(S,E){var X=this.__data__,ut=iu(X,S);return ut<0?(++this.size,X.push([S,E])):X[ut][1]=E,this}ll.prototype.clear=s0,ll.prototype.delete=M1,ll.prototype.get=o0,ll.prototype.has=N1,ll.prototype.set=Wa;function pc(S){var E=-1,X=S==null?0:S.length;for(this.clear();++E<X;){var ut=S[E];this.set(ut[0],ut[1])}}function nu(){this.size=0,this.__data__={hash:new Fu,map:new(rn||ll),string:new Fu}}function Pf(S){var E=Hf(this,S).delete(S);return this.size-=E?1:0,E}function sv(S){return Hf(this,S).get(S)}function Ef(S){return Hf(this,S).has(S)}function Ph(S,E){var X=Hf(this,S),ut=X.size;return X.set(S,E),this.size+=X.size==ut?0:1,this}pc.prototype.clear=nu,pc.prototype.delete=Pf,pc.prototype.get=sv,pc.prototype.has=Ef,pc.prototype.set=Ph;function Eh(S){var E=-1,X=S==null?0:S.length;for(this.__data__=new pc;++E<X;)this.add(S[E])}function l0(S){return this.__data__.set(S,l),this}function P1(S){return this.__data__.has(S)}Eh.prototype.add=Eh.prototype.push=l0,Eh.prototype.has=P1;function Il(S){var E=this.__data__=new ll(S);this.size=E.size}function Bu(){this.__data__=new ll,this.size=0}function ov(S){var E=this.__data__,X=E.delete(S);return this.size=E.size,X}function Hu(S){return this.__data__.get(S)}function c0(S){return this.__data__.has(S)}function jh(S,E){var X=this.__data__;if(X instanceof ll){var ut=X.__data__;if(!rn||ut.length<r-1)return ut.push([S,E]),this.size=++X.size,this;X=this.__data__=new pc(ut)}return X.set(S,E),this.size=X.size,this}Il.prototype.clear=Bu,Il.prototype.delete=ov,Il.prototype.get=Hu,Il.prototype.has=c0,Il.prototype.set=jh;function ym(S,E){var X=C(S),ut=!X&&b(S),kt=!X&&!ut&&U(S),Lt=!X&&!ut&&!kt&&In(S),Ht=X||ut||kt||Lt,Xt=Ht?kf(S.length,hs):[],ie=Xt.length;for(var Ce in S)(E||Ci.call(S,Ce))&&!(Ht&&(Ce=="length"||kt&&(Ce=="offset"||Ce=="parent")||Lt&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||kc(Ce,ie)))&&Xt.push(Ce);return Xt}function Dd(S){var E=S.length;return E?S[zd(0,E-1)]:e}function Hg(S,E){return sp(Jr(S),yc(E,0,S.length))}function u0(S){return sp(Jr(S))}function vm(S,E,X){(X!==e&&!dl(S[E],X)||X===e&&!(E in S))&&uo(S,E,X)}function mc(S,E,X){var ut=S[E];(!(Ci.call(S,E)&&dl(ut,X))||X===e&&!(E in S))&&uo(S,E,X)}function iu(S,E){for(var X=S.length;X--;)if(dl(S[X][0],E))return X;return-1}function h0(S,E,X,ut){return ru(S,function(kt,Lt,Ht){E(ut,kt,X(kt),Ht)}),ut}function lv(S,E){return S&&Gl(E,Zs(E),S)}function Gu(S,E){return S&&Gl(E,Vl(E),S)}function uo(S,E,X){E=="__proto__"&&Nr?Nr(S,E,{configurable:!0,enumerable:!0,value:X,writable:!0}):S[E]=X}function jf(S,E){for(var X=-1,ut=E.length,kt=ce(ut),Lt=S==null;++X<ut;)kt[X]=Lt?e:Zf(S,E[X]);return kt}function yc(S,E,X){return S===S&&(X!==e&&(S=S<=X?S:X),E!==e&&(S=S>=E?S:E)),S}function ho(S,E,X,ut,kt,Lt){var Ht,Xt=E&d,ie=E&g,Ce=E&y;if(X&&(Ht=kt?X(S,ut,kt,Lt):X(S)),Ht!==e)return Ht;if(!Dt(S))return S;var Ae=C(S);if(Ae){if(Ht=zm(S),!Xt)return Jr(S,Ht)}else{var je=As(S),Ye=je==Jt||je==ue;if(U(S))return gv(S,Xt);if(je==He||je==It||Ye&&!kt){if(Ht=ie||Ye?{}:ip(S),!Xt)return ie?v0(S,Gu(Ht,S)):y0(S,lv(Ht,S))}else{if(!xi[je])return kt?S:{};Ht=w0(S,je,Xt)}}Lt||(Lt=new Il);var pn=Lt.get(S);if(pn)return pn;Lt.set(S,Ht),Be(S)?S.forEach(function(Fn){Ht.add(ho(Fn,E,X,Fn,S,Lt))}):Ut(S)&&S.forEach(function(Fn,Wi){Ht.set(Wi,ho(Fn,E,X,Wi,S,Lt))});var zn=Ce?ie?Bf:Rm:ie?Vl:Zs,Pi=Ae?e:zn(S);return Ca(Pi||S,function(Fn,Wi){Pi&&(Wi=Fn,Fn=S[Wi]),mc(Ht,Wi,ho(Fn,E,X,Wi,S,Lt))}),Ht}function Wu(S){var E=Zs(S);return function(X){return vc(X,S,E)}}function vc(S,E,X){var ut=X.length;if(S==null)return!ut;for(S=Xi(S);ut--;){var kt=X[ut],Lt=E[kt],Ht=S[kt];if(Ht===e&&!(kt in S)||!Lt(Ht))return!1}return!0}function xm(S,E,X){if(typeof S!="function")throw new ds(s);return Cc(function(){S.apply(e,X)},E)}function ts(S,E,X,ut){var kt=-1,Lt=Eu,Ht=!0,Xt=S.length,ie=[],Ce=E.length;if(!Xt)return ie;X&&(E=xr(E,Mr(X))),ut?(Lt=wh,Ht=!1):E.length>=r&&(Lt=Uc,Ht=!1,E=new Eh(E));t:for(;++kt<Xt;){var Ae=S[kt],je=X==null?Ae:X(Ae);if(Ae=ut||Ae!==0?Ae:0,Ht&&je===je){for(var Ye=Ce;Ye--;)if(E[Ye]===je)continue t;ie.push(Ae)}else Lt(E,je,ut)||ie.push(Ae)}return ie}var ru=Om(Aa),Gg=Om(wm,!0);function Dh(S,E){var X=!0;return ru(S,function(ut,kt,Lt){return X=!!E(ut,kt,Lt),X}),X}function fo(S,E,X){for(var ut=-1,kt=S.length;++ut<kt;){var Lt=S[ut],Ht=E(Lt);if(Ht!=null&&(Xt===e?Ht===Ht&&!qn(Ht):X(Ht,Xt)))var Xt=Ht,ie=Lt}return ie}function zl(S,E,X,ut){var kt=S.length;for(X=Fe(X),X<0&&(X=-X>kt?0:kt+X),ut=ut===e||ut>kt?kt:Fe(ut),ut<0&&(ut+=kt),ut=X>ut?0:Wr(ut);X<ut;)S[X++]=E;return S}function bm(S,E){var X=[];return ru(S,function(ut,kt,Lt){E(ut,kt,Lt)&&X.push(ut)}),X}function Ea(S,E,X,ut,kt){var Lt=-1,Ht=S.length;for(X||(X=Bm),kt||(kt=[]);++Lt<Ht;){var Xt=S[Lt];E>0&&X(Xt)?E>1?Ea(Xt,E-1,X,ut,kt):Pl(kt,Xt):ut||(kt[kt.length]=Xt)}return kt}var Od=qg(),Df=qg(!0);function Aa(S,E){return S&&Od(S,E,Zs)}function wm(S,E){return S&&Df(S,E,Zs)}function xc(S,E){return ao(E,function(X){return wt(S[X])})}function Fl(S,E){E=Lo(E,S);for(var X=0,ut=E.length;S!=null&&X<ut;)S=S[Io(E[X++])];return X&&X==ut?S:e}function _m(S,E,X){var ut=E(S);return C(S)?ut:Pl(ut,X(S))}function da(S){return S==null?S===e?dn:on:Po&&Po in Xi(S)?np(S):Wm(S)}function Oh(S,E){return S>E}function Us(S,E){return S!=null&&Ci.call(S,E)}function Bl(S,E){return S!=null&&E in Xi(S)}function Lh(S,E,X){return S>=Ct(E,X)&&S<ft(E,X)}function Eo(S,E,X){for(var ut=X?wh:Eu,kt=S[0].length,Lt=S.length,Ht=Lt,Xt=ce(Lt),ie=1/0,Ce=[];Ht--;){var Ae=S[Ht];Ht&&E&&(Ae=xr(Ae,Mr(E))),ie=Ct(Ae.length,ie),Xt[Ht]=!X&&(E||kt>=120&&Ae.length>=120)?new Eh(Ht&&Ae):e}Ae=S[0];var je=-1,Ye=Xt[0];t:for(;++je<kt&&Ce.length<ie;){var pn=Ae[je],zn=E?E(pn):pn;if(pn=X||pn!==0?pn:0,!(Ye?Uc(Ye,zn):ut(Ce,zn,X))){for(Ht=Lt;--Ht;){var Pi=Xt[Ht];if(!(Pi?Uc(Pi,zn):ut(S[Ht],zn,X)))continue t}Ye&&Ye.push(zn),Ce.push(pn)}}return Ce}function d0(S,E,X,ut){return Aa(S,function(kt,Lt,Ht){E(ut,X(kt),Lt,Ht)}),ut}function cl(S,E,X){E=Lo(E,S),S=Gf(S,E);var ut=S==null?S:S[Io(na(E))];return ut==null?e:Tr(ut,S,X)}function Ki(S){return zt(S)&&da(S)==It}function Ta(S){return zt(S)&&da(S)==$n}function Sm(S){return zt(S)&&da(S)==Rt}function jo(S,E,X,ut,kt){return S===E?!0:S==null||E==null||!zt(S)&&!zt(E)?S!==S&&E!==E:Wn(S,E,X,ut,jo,kt)}function Wn(S,E,X,ut,kt,Lt){var Ht=C(S),Xt=C(E),ie=Ht?Nt:As(S),Ce=Xt?Nt:As(E);ie=ie==It?He:ie,Ce=Ce==It?He:Ce;var Ae=ie==He,je=Ce==He,Ye=ie==Ce;if(Ye&&U(S)){if(!U(E))return!1;Ht=!0,Ae=!1}if(Ye&&!Ae)return Lt||(Lt=new Il),Ht||In(S)?tp(S,E,X,ut,kt,Lt):Lm(S,E,ie,X,ut,kt,Lt);if(!(X&x)){var pn=Ae&&Ci.call(S,"__wrapped__"),zn=je&&Ci.call(E,"__wrapped__");if(pn||zn){var Pi=pn?S.value():S,Fn=zn?E.value():E;return Lt||(Lt=new Il),kt(Pi,Fn,X,ut,Lt)}}return Ye?(Lt||(Lt=new Il),bv(S,E,X,ut,kt,Lt)):!1}function Zi(S){return zt(S)&&As(S)==Te}function Br(S,E,X,ut){var kt=X.length,Lt=kt,Ht=!ut;if(S==null)return!Lt;for(S=Xi(S);kt--;){var Xt=X[kt];if(Ht&&Xt[2]?Xt[1]!==S[Xt[0]]:!(Xt[0]in S))return!1}for(;++kt<Lt;){Xt=X[kt];var ie=Xt[0],Ce=S[ie],Ae=Xt[1];if(Ht&&Xt[2]){if(Ce===e&&!(ie in S))return!1}else{var je=new Il;if(ut)var Ye=ut(Ce,Ae,ie,S,E,je);if(!(Ye===e?jo(Ae,Ce,x|w,ut,je):Ye))return!1}}return!0}function Rh(S){if(!Dt(S)||_0(S))return!1;var E=wt(S)?Ws:ni;return E.test($s(S))}function Of(S){return zt(S)&&da(S)==li}function Ld(S){return zt(S)&&As(S)==Xe}function Wg(S){return zt(S)&&jt(S.length)&&!!En[da(S)]}function Rd(S){return typeof S=="function"?S:S==null?ml:typeof S=="object"?C(S)?Cm(S[0],S[1]):Hr(S):Mt(S)}function Uu(S){if(!Fh(S))return et(S);var E=[];for(var X in Xi(S))Ci.call(S,X)&&X!="constructor"&&E.push(X);return E}function E1(S){if(!Dt(S))return qu(S);var E=Fh(S),X=[];for(var ut in S)ut=="constructor"&&(E||!Ci.call(S,ut))||X.push(ut);return X}function fa(S,E){return S<E}function km(S,E){var X=-1,ut=O(S)?ce(S.length):[];return ru(S,function(kt,Lt,Ht){ut[++X]=E(kt,Lt,Ht)}),ut}function Hr(S){var E=ep(S);return E.length==1&&E[0][2]?Bh(E[0][0],E[0][1]):function(X){return X===S||Br(X,S,E)}}function Cm(S,E){return Xu(S)&&Ul(E)?Bh(Io(S),E):function(X){var ut=Zf(X,S);return ut===e&&ut===E?G1(X,S):jo(E,ut,x|w)}}function Ug(S,E,X,ut,kt){S!==E&&Od(E,function(Lt,Ht){if(kt||(kt=new Il),Dt(Lt))Am(S,E,Ht,X,Ug,ut,kt);else{var Xt=ut?ut(Er(S,Ht),Lt,Ht+"",S,E,kt):e;Xt===e&&(Xt=Lt),vm(S,Ht,Xt)}},Vl)}function Am(S,E,X,ut,kt,Lt,Ht){var Xt=Er(S,X),ie=Er(E,X),Ce=Ht.get(ie);if(Ce){vm(S,X,Ce);return}var Ae=Lt?Lt(Xt,ie,X+"",S,E,Ht):e,je=Ae===e;if(je){var Ye=C(ie),pn=!Ye&&U(ie),zn=!Ye&&!pn&&In(ie);Ae=ie,Ye||pn||zn?C(Xt)?Ae=Xt:I(Xt)?Ae=Jr(Xt):pn?(je=!1,Ae=gv(ie,!0)):zn?(je=!1,Ae=pv(ie,!0)):Ae=[]:Ze(ie)||b(ie)?(Ae=Xt,b(Xt)?Ae=Ps(Xt):(!Dt(Xt)||wt(Xt))&&(Ae=ip(ie))):je=!1}je&&(Ht.set(ie,Ae),kt(Ae,ie,ut,Lt,Ht),Ht.delete(ie)),vm(S,X,Ae)}function Tm(S,E){var X=S.length;if(X)return E+=E<0?X:0,kc(E,X)?S[E]:e}function Mm(S,E,X){E.length?E=xr(E,function(Lt){return C(Lt)?function(Ht){return Fl(Ht,Lt.length===1?Lt[0]:Lt)}:Lt}):E=[ml];var ut=-1;E=xr(E,Mr(_n()));var kt=km(S,function(Lt,Ht,Xt){var ie=xr(E,function(Ce){return Ce(Lt)});return{criteria:ie,index:++ut,value:Lt}});return Cd(kt,function(Lt,Ht){return au(Lt,Ht,X)})}function cv(S,E){return ja(S,E,function(X,ut){return G1(S,ut)})}function ja(S,E,X){for(var ut=-1,kt=E.length,Lt={};++ut<kt;){var Ht=E[ut],Xt=Fl(S,Ht);X(Xt,Ht)&&Fd(Lt,Lo(Ht,S),Xt)}return Lt}function Da(S){return function(E){return Fl(E,S)}}function Ih(S,E,X,ut){var kt=ut?ju:Sh,Lt=-1,Ht=E.length,Xt=S;for(S===E&&(E=Jr(E)),X&&(Xt=xr(S,Mr(X)));++Lt<Ht;)for(var ie=0,Ce=E[Lt],Ae=X?X(Ce):Ce;(ie=kt(Xt,Ae,ie,ut))>-1;)Xt!==S&&Ll.call(Xt,ie,1),Ll.call(S,ie,1);return S}function Id(S,E){for(var X=S?E.length:0,ut=X-1;X--;){var kt=E[X];if(X==ut||kt!==Lt){var Lt=kt;kc(kt)?Ll.call(S,kt,1):Gd(S,kt)}}return S}function zd(S,E){return S+gc(Zt()*(E-S+1))}function Nm(S,E,X,ut){for(var kt=-1,Lt=ft(fc((E-S)/(X||1)),0),Ht=ce(Lt);Lt--;)Ht[ut?Lt:++kt]=S,S+=X;return Ht}function bc(S,E){var X="";if(!S||E<1||E>xt)return X;do E%2&&(X+=S),E=gc(E/2),E&&(S+=S);while(E);return X}function hn(S,E){return Wf(Yd(S,E,ml),S+"")}function uv(S){return Dd(fy(S))}function hv(S,E){var X=fy(S);return sp(X,yc(E,0,X.length))}function Fd(S,E,X,ut){if(!Dt(S))return S;E=Lo(E,S);for(var kt=-1,Lt=E.length,Ht=Lt-1,Xt=S;Xt!=null&&++kt<Lt;){var ie=Io(E[kt]),Ce=X;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return S;if(kt!=Ht){var Ae=Xt[ie];Ce=ut?ut(Ae,ie,Xt):e,Ce===e&&(Ce=Dt(Ae)?Ae:kc(E[kt+1])?[]:{})}mc(Xt,ie,Ce),Xt=Xt[ie]}return S}var Lf=Li?function(S,E){return Li.set(S,E),S}:ml,Bd=Nr?function(S,E){return Nr(S,"toString",{configurable:!0,enumerable:!1,value:py(E),writable:!0})}:ml;function f0(S){return sp(fy(S))}function Ai(S,E,X){var ut=-1,kt=S.length;E<0&&(E=-E>kt?0:kt+E),X=X>kt?kt:X,X<0&&(X+=kt),kt=E>X?0:X-E>>>0,E>>>=0;for(var Lt=ce(kt);++ut<kt;)Lt[ut]=S[ut+E];return Lt}function g0(S,E){var X;return ru(S,function(ut,kt,Lt){return X=E(ut,kt,Lt),!X}),!!X}function Hd(S,E,X){var ut=0,kt=S==null?ut:S.length;if(typeof E=="number"&&E===E&&kt<=St){for(;ut<kt;){var Lt=ut+kt>>>1,Ht=S[Lt];Ht!==null&&!qn(Ht)&&(X?Ht<=E:Ht<E)?ut=Lt+1:kt=Lt}return kt}return Yg(S,E,ml,X)}function Yg(S,E,X,ut){var kt=0,Lt=S==null?0:S.length;if(Lt===0)return 0;E=X(E);for(var Ht=E!==E,Xt=E===null,ie=qn(E),Ce=E===e;kt<Lt;){var Ae=gc((kt+Lt)/2),je=X(S[Ae]),Ye=je!==e,pn=je===null,zn=je===je,Pi=qn(je);if(Ht)var Fn=ut||zn;else Ce?Fn=zn&&(ut||Ye):Xt?Fn=zn&&Ye&&(ut||!pn):ie?Fn=zn&&Ye&&!pn&&(ut||!Pi):pn||Pi?Fn=!1:Fn=ut?je<=E:je<E;Fn?kt=Ae+1:Lt=Ae}return Ct(Lt,vt)}function dv(S,E){for(var X=-1,ut=S.length,kt=0,Lt=[];++X<ut;){var Ht=S[X],Xt=E?E(Ht):Ht;if(!X||!dl(Xt,ie)){var ie=Xt;Lt[kt++]=Ht===0?0:Ht}}return Lt}function Oa(S){return typeof S=="number"?S:qn(S)?ht:+S}function Do(S){if(typeof S=="string")return S;if(C(S))return xr(S,Do)+"";if(qn(S))return Rl?Rl.call(S):"";var E=S+"";return E=="0"&&1/S==-st?"-0":E}function ul(S,E,X){var ut=-1,kt=Eu,Lt=S.length,Ht=!0,Xt=[],ie=Xt;if(X)Ht=!1,kt=wh;else if(Lt>=r){var Ce=E?null:b0(S);if(Ce)return To(Ce);Ht=!1,kt=Uc,ie=new Eh}else ie=E?[]:Xt;t:for(;++ut<Lt;){var Ae=S[ut],je=E?E(Ae):Ae;if(Ae=X||Ae!==0?Ae:0,Ht&&je===je){for(var Ye=ie.length;Ye--;)if(ie[Ye]===je)continue t;E&&ie.push(je),Xt.push(Ae)}else kt(ie,je,X)||(ie!==Xt&&ie.push(je),Xt.push(Ae))}return Xt}function Gd(S,E){return E=Lo(E,S),S=Gf(S,E),S==null||delete S[Io(na(E))]}function Gr(S,E,X,ut){return Fd(S,E,X(Fl(S,E)),ut)}function $g(S,E,X,ut){for(var kt=S.length,Lt=ut?kt:-1;(ut?Lt--:++Lt<kt)&&E(S[Lt],Lt,S););return X?Ai(S,ut?0:Lt,ut?Lt+1:kt):Ai(S,ut?Lt+1:0,ut?kt:Lt)}function Pm(S,E){var X=S;return X instanceof Rn&&(X=X.value()),_d(E,function(ut,kt){return kt.func.apply(kt.thisArg,Pl([ut],kt.args))},X)}function Oo(S,E,X){var ut=S.length;if(ut<2)return ut?ul(S[0]):[];for(var kt=-1,Lt=ce(ut);++kt<ut;)for(var Ht=S[kt],Xt=-1;++Xt<ut;)Xt!=kt&&(Lt[kt]=ts(Lt[kt]||Ht,S[Xt],E,X));return ul(Ea(Lt,1),E,X)}function Ys(S,E,X){for(var ut=-1,kt=S.length,Lt=E.length,Ht={};++ut<kt;){var Xt=ut<Lt?E[ut]:e;X(Ht,S[ut],Xt)}return Ht}function fv(S){return I(S)?S:[]}function Em(S){return typeof S=="function"?S:ml}function Lo(S,E){return C(S)?S:Xu(S,E)?[S]:wv(si(S))}var p0=hn;function Hl(S,E,X){var ut=S.length;return X=X===e?ut:X,!E&&X>=ut?S:Ai(S,E,X)}var Vg=qi||function(S){return ha.clearTimeout(S)};function gv(S,E){if(E)return S.slice();var X=S.length,ut=Ed?Ed(X):new S.constructor(X);return S.copy(ut),ut}function zh(S){var E=new S.constructor(S.byteLength);return new ol(E).set(new ol(S)),E}function j1(S,E){var X=E?zh(S.buffer):S.buffer;return new S.constructor(X,S.byteOffset,S.byteLength)}function m0(S){var E=new S.constructor(S.source,gn.exec(S));return E.lastIndex=S.lastIndex,E}function jm(S){return Pr?Xi(Pr.call(S)):{}}function pv(S,E){var X=E?zh(S.buffer):S.buffer;return new S.constructor(X,S.byteOffset,S.length)}function mv(S,E){if(S!==E){var X=S!==e,ut=S===null,kt=S===S,Lt=qn(S),Ht=E!==e,Xt=E===null,ie=E===E,Ce=qn(E);if(!Xt&&!Ce&&!Lt&&S>E||Lt&&Ht&&ie&&!Xt&&!Ce||ut&&Ht&&ie||!X&&ie||!kt)return 1;if(!ut&&!Lt&&!Ce&&S<E||Ce&&X&&kt&&!ut&&!Lt||Xt&&X&&kt||!Ht&&kt||!ie)return-1}return 0}function au(S,E,X){for(var ut=-1,kt=S.criteria,Lt=E.criteria,Ht=kt.length,Xt=X.length;++ut<Ht;){var ie=mv(kt[ut],Lt[ut]);if(ie){if(ut>=Xt)return ie;var Ce=X[ut];return ie*(Ce=="desc"?-1:1)}}return S.index-E.index}function Xg(S,E,X,ut){for(var kt=-1,Lt=S.length,Ht=X.length,Xt=-1,ie=E.length,Ce=ft(Lt-Ht,0),Ae=ce(ie+Ce),je=!ut;++Xt<ie;)Ae[Xt]=E[Xt];for(;++kt<Ht;)(je||kt<Lt)&&(Ae[X[kt]]=S[kt]);for(;Ce--;)Ae[Xt++]=S[kt++];return Ae}function Yu(S,E,X,ut){for(var kt=-1,Lt=S.length,Ht=-1,Xt=X.length,ie=-1,Ce=E.length,Ae=ft(Lt-Xt,0),je=ce(Ae+Ce),Ye=!ut;++kt<Ae;)je[kt]=S[kt];for(var pn=kt;++ie<Ce;)je[pn+ie]=E[ie];for(;++Ht<Xt;)(Ye||kt<Lt)&&(je[pn+X[Ht]]=S[kt++]);return je}function Jr(S,E){var X=-1,ut=S.length;for(E||(E=ce(ut));++X<ut;)E[X]=S[X];return E}function Gl(S,E,X,ut){var kt=!X;X||(X={});for(var Lt=-1,Ht=E.length;++Lt<Ht;){var Xt=E[Lt],ie=ut?ut(X[Xt],S[Xt],Xt,X,S):e;ie===e&&(ie=S[Xt]),kt?uo(X,Xt,ie):mc(X,Xt,ie)}return X}function y0(S,E){return Gl(S,Im(S),E)}function v0(S,E){return Gl(S,Wl(S),E)}function Dm(S,E){return function(X,ut){var kt=C(X)?hm:h0,Lt=E?E():{};return kt(X,S,_n(ut,2),Lt)}}function su(S){return hn(function(E,X){var ut=-1,kt=X.length,Lt=kt>1?X[kt-1]:e,Ht=kt>2?X[2]:e;for(Lt=S.length>3&&typeof Lt=="function"?(kt--,Lt):e,Ht&&Ts(X[0],X[1],Ht)&&(Lt=kt<3?e:Lt,kt=1),E=Xi(E);++ut<kt;){var Xt=X[ut];Xt&&S(E,Xt,ut,Lt)}return E})}function Om(S,E){return function(X,ut){if(X==null)return X;if(!O(X))return S(X,ut);for(var kt=X.length,Lt=E?kt:-1,Ht=Xi(X);(E?Lt--:++Lt<kt)&&ut(Ht[Lt],Lt,Ht)!==!1;);return X}}function qg(S){return function(E,X,ut){for(var kt=-1,Lt=Xi(E),Ht=ut(E),Xt=Ht.length;Xt--;){var ie=Ht[S?Xt:++kt];if(X(Lt[ie],ie,Lt)===!1)break}return E}}function yv(S,E,X){var ut=E&k,kt=Zg(S);function Lt(){var Ht=this&&this!==ha&&this instanceof Lt?kt:S;return Ht.apply(ut?X:this,arguments)}return Lt}function Kg(S){return function(E){E=si(E);var X=Ou(E)?Sr(E):e,ut=X?X[0]:E.charAt(0),kt=X?Hl(X,1).join(""):E.slice(1);return ut[S]()+kt}}function $u(S){return function(E){return _d(QS(gy(E).replace(lr,"")),S,"")}}function Zg(S){return function(){var E=arguments;switch(E.length){case 0:return new S;case 1:return new S(E[0]);case 2:return new S(E[0],E[1]);case 3:return new S(E[0],E[1],E[2]);case 4:return new S(E[0],E[1],E[2],E[3]);case 5:return new S(E[0],E[1],E[2],E[3],E[4]);case 6:return new S(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new S(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var X=Jc(S.prototype),ut=S.apply(X,E);return Dt(ut)?ut:X}}function x0(S,E,X){var ut=Zg(S);function kt(){for(var Lt=arguments.length,Ht=ce(Lt),Xt=Lt,ie=Ti(kt);Xt--;)Ht[Xt]=arguments[Xt];var Ce=Lt<3&&Ht[0]!==ie&&Ht[Lt-1]!==ie?[]:al(Ht,ie);if(Lt-=Ce.length,Lt<X)return wc(S,E,Wd,kt.placeholder,e,Ht,Ce,e,e,X-Lt);var Ae=this&&this!==ha&&this instanceof kt?ut:S;return Tr(Ae,this,Ht)}return kt}function Vu(S){return function(E,X,ut){var kt=Xi(E);if(!O(E)){var Lt=_n(X,3);E=Zs(E),X=function(Xt){return Lt(kt[Xt],Xt,kt)}}var Ht=S(E,X,ut);return Ht>-1?kt[Lt?E[Ht]:Ht]:e}}function ou(S){return po(function(E){var X=E.length,ut=X,kt=Ja.prototype.thru;for(S&&E.reverse();ut--;){var Lt=E[ut];if(typeof Lt!="function")throw new ds(s);if(kt&&!Ht&&ta(Lt)=="wrapper")var Ht=new Ja([],!0)}for(ut=Ht?ut:X;++ut<X;){Lt=E[ut];var Xt=ta(Lt),ie=Xt=="wrapper"?Ro(Lt):e;ie&&rp(ie[0])&&ie[1]==(H|R|z|Y)&&!ie[4].length&&ie[9]==1?Ht=Ht[ta(ie[0])].apply(Ht,ie[3]):Ht=Lt.length==1&&rp(Lt)?Ht[Xt]():Ht.thru(Lt)}return function(){var Ce=arguments,Ae=Ce[0];if(Ht&&Ce.length==1&&C(Ae))return Ht.plant(Ae).value();for(var je=0,Ye=X?E[je].apply(this,Ce):Ae;++je<X;)Ye=E[je].call(this,Ye);return Ye}})}function Wd(S,E,X,ut,kt,Lt,Ht,Xt,ie,Ce){var Ae=E&H,je=E&k,Ye=E&A,pn=E&(R|G),zn=E&J,Pi=Ye?e:Zg(S);function Fn(){for(var Wi=arguments.length,ar=ce(Wi),Ju=Wi;Ju--;)ar[Ju]=arguments[Ju];if(pn)var Dc=Ti(Fn),th=nl(ar,Dc);if(ut&&(ar=Xg(ar,ut,kt,pn)),Lt&&(ar=Yu(ar,Lt,Ht,pn)),Wi-=th,pn&&Wi<Ce){var Es=al(ar,Dc);return wc(S,E,Wd,Fn.placeholder,X,ar,Es,Xt,ie,Ce-Wi)}var tf=je?X:this,kp=Ye?tf[S]:S;return Wi=ar.length,Xt?ar=ap(ar,Xt):zn&&Wi>1&&ar.reverse(),Ae&&ie<Wi&&(ar.length=ie),this&&this!==ha&&this instanceof Fn&&(kp=Pi||Zg(kp)),kp.apply(tf,ar)}return Fn}function Qg(S,E){return function(X,ut){return d0(X,S,E(ut),{})}}function Rf(S,E){return function(X,ut){var kt;if(X===e&&ut===e)return E;if(X!==e&&(kt=X),ut!==e){if(kt===e)return ut;typeof X=="string"||typeof ut=="string"?(X=Do(X),ut=Do(ut)):(X=Oa(X),ut=Oa(ut)),kt=S(X,ut)}return kt}}function If(S){return po(function(E){return E=xr(E,Mr(_n())),hn(function(X){var ut=this;return S(E,function(kt){return Tr(kt,ut,X)})})})}function lu(S,E){E=E===e?" ":Do(E);var X=E.length;if(X<2)return X?bc(E,S):E;var ut=bc(E,fc(S/Gs(E)));return Ou(E)?Hl(Sr(ut),0,S).join(""):ut.slice(0,S)}function vv(S,E,X,ut){var kt=E&k,Lt=Zg(S);function Ht(){for(var Xt=-1,ie=arguments.length,Ce=-1,Ae=ut.length,je=ce(Ae+ie),Ye=this&&this!==ha&&this instanceof Ht?Lt:S;++Ce<Ae;)je[Ce]=ut[Ce];for(;ie--;)je[Ce++]=arguments[++Xt];return Tr(Ye,kt?X:this,je)}return Ht}function zf(S){return function(E,X,ut){return ut&&typeof ut!="number"&&Ts(E,X,ut)&&(X=ut=e),E=Ni(E),X===e?(X=E,E=0):X=Ni(X),ut=ut===e?E<X?1:-1:Ni(ut),Nm(E,X,ut,S)}}function go(S){return function(E,X){return typeof E=="string"&&typeof X=="string"||(E=Dr(E),X=Dr(X)),S(E,X)}}function wc(S,E,X,ut,kt,Lt,Ht,Xt,ie,Ce){var Ae=E&R,je=Ae?Ht:e,Ye=Ae?e:Ht,pn=Ae?Lt:e,zn=Ae?e:Lt;E|=Ae?z:F,E&=~(Ae?F:z),E&T||(E&=-4);var Pi=[S,E,kt,pn,je,zn,Ye,Xt,ie,Ce],Fn=X.apply(e,Pi);return rp(S)&&Um(Fn,Pi),Fn.placeholder=ut,Uf(Fn,S,E)}function Ff(S){var E=Fr[S];return function(X,ut){if(X=Dr(X),ut=ut==null?0:Ct(Fe(ut),292),ut&&M(X)){var kt=(si(X)+"e").split("e"),Lt=E(kt[0]+"e"+(+kt[1]+ut));return kt=(si(Lt)+"e").split("e"),+(kt[0]+"e"+(+kt[1]-ut))}return E(X)}}var b0=Qr&&1/To(new Qr([,-0]))[1]==st?function(S){return new Qr(S)}:_;function xv(S){return function(E){var X=As(E);return X==Te?Cf(E):X==Xe?av(E):Ig(E,S(E))}}function Cs(S,E,X,ut,kt,Lt,Ht,Xt){var ie=E&A;if(!ie&&typeof S!="function")throw new ds(s);var Ce=ut?ut.length:0;if(Ce||(E&=-97,ut=kt=e),Ht=Ht===e?Ht:ft(Fe(Ht),0),Xt=Xt===e?Xt:Fe(Xt),Ce-=kt?kt.length:0,E&F){var Ae=ut,je=kt;ut=kt=e}var Ye=ie?e:Ro(S),pn=[S,E,X,ut,kt,Ae,je,Lt,Ht,Xt];if(Ye&&k0(pn,Ye),S=pn[0],E=pn[1],X=pn[2],ut=pn[3],kt=pn[4],Xt=pn[9]=pn[9]===e?ie?0:S.length:ft(pn[9]-Ce,0),!Xt&&E&(R|G)&&(E&=-25),!E||E==k)var zn=yv(S,E,X);else E==R||E==G?zn=x0(S,E,Xt):(E==z||E==(k|z))&&!kt.length?zn=vv(S,E,X,ut):zn=Wd.apply(e,pn);var Pi=Ye?Lf:Um;return Uf(Pi(zn,pn),S,E)}function cu(S,E,X,ut){return S===e||dl(S,Ch[X])&&!Ci.call(ut,X)?E:S}function Jg(S,E,X,ut,kt,Lt){return Dt(S)&&Dt(E)&&(Lt.set(E,S),Ug(S,E,e,Jg,Lt),Lt.delete(E)),S}function wi(S){return Ze(S)?e:S}function tp(S,E,X,ut,kt,Lt){var Ht=X&x,Xt=S.length,ie=E.length;if(Xt!=ie&&!(Ht&&ie>Xt))return!1;var Ce=Lt.get(S),Ae=Lt.get(E);if(Ce&&Ae)return Ce==E&&Ae==S;var je=-1,Ye=!0,pn=X&w?new Eh:e;for(Lt.set(S,E),Lt.set(E,S);++je<Xt;){var zn=S[je],Pi=E[je];if(ut)var Fn=Ht?ut(Pi,zn,je,E,S,Lt):ut(zn,Pi,je,S,E,Lt);if(Fn!==e){if(Fn)continue;Ye=!1;break}if(pn){if(!_h(E,function(Wi,ar){if(!Uc(pn,ar)&&(zn===Wi||kt(zn,Wi,X,ut,Lt)))return pn.push(ar)})){Ye=!1;break}}else if(!(zn===Pi||kt(zn,Pi,X,ut,Lt))){Ye=!1;break}}return Lt.delete(S),Lt.delete(E),Ye}function Lm(S,E,X,ut,kt,Lt,Ht){switch(X){case ti:if(S.byteLength!=E.byteLength||S.byteOffset!=E.byteOffset)return!1;S=S.buffer,E=E.buffer;case $n:return!(S.byteLength!=E.byteLength||!Lt(new ol(S),new ol(E)));case Yt:case Rt:case qe:return dl(+S,+E);case fe:return S.name==E.name&&S.message==E.message;case li:case Ei:return S==E+"";case Te:var Xt=Cf;case Xe:var ie=ut&x;if(Xt||(Xt=To),S.size!=E.size&&!ie)return!1;var Ce=Ht.get(S);if(Ce)return Ce==E;ut|=w,Ht.set(S,E);var Ae=tp(Xt(S),Xt(E),ut,kt,Lt,Ht);return Ht.delete(S),Ae;case Ke:if(Pr)return Pr.call(S)==Pr.call(E)}return!1}function bv(S,E,X,ut,kt,Lt){var Ht=X&x,Xt=Rm(S),ie=Xt.length,Ce=Rm(E),Ae=Ce.length;if(ie!=Ae&&!Ht)return!1;for(var je=ie;je--;){var Ye=Xt[je];if(!(Ht?Ye in E:Ci.call(E,Ye)))return!1}var pn=Lt.get(S),zn=Lt.get(E);if(pn&&zn)return pn==E&&zn==S;var Pi=!0;Lt.set(S,E),Lt.set(E,S);for(var Fn=Ht;++je<ie;){Ye=Xt[je];var Wi=S[Ye],ar=E[Ye];if(ut)var Ju=Ht?ut(ar,Wi,Ye,E,S,Lt):ut(Wi,ar,Ye,S,E,Lt);if(!(Ju===e?Wi===ar||kt(Wi,ar,X,ut,Lt):Ju)){Pi=!1;break}Fn||(Fn=Ye=="constructor")}if(Pi&&!Fn){var Dc=S.constructor,th=E.constructor;Dc!=th&&"constructor"in S&&"constructor"in E&&!(typeof Dc=="function"&&Dc instanceof Dc&&typeof th=="function"&&th instanceof th)&&(Pi=!1)}return Lt.delete(S),Lt.delete(E),Pi}function po(S){return Wf(Yd(S,e,ea),S+"")}function Rm(S){return _m(S,Zs,Im)}function Bf(S){return _m(S,Vl,Wl)}var Ro=Li?function(S){return Li.get(S)}:_;function ta(S){for(var E=S.name+"",X=bi[E],ut=Ci.call(bi,E)?X.length:0;ut--;){var kt=X[ut],Lt=kt.func;if(Lt==null||Lt==S)return kt.name}return E}function Ti(S){var E=Ci.call(Tt,"placeholder")?Tt:S;return E.placeholder}function _n(){var S=Tt.iteratee||Xv;return S=S===Xv?Rd:S,arguments.length?S(arguments[0],arguments[1]):S}function Hf(S,E){var X=S.__data__;return Hm(E)?X[typeof E=="string"?"string":"hash"]:X.map}function ep(S){for(var E=Zs(S),X=E.length;X--;){var ut=E[X],kt=S[ut];E[X]=[ut,kt,Ul(kt)]}return E}function _c(S,E){var X=rl(S,E);return Rh(X)?X:e}function np(S){var E=Ci.call(S,Po),X=S[Po];try{S[Po]=e;var ut=!0}catch{}var kt=Ss.call(S);return ut&&(E?S[Po]=X:delete S[Po]),kt}var Im=cr?function(S){return S==null?[]:(S=Xi(S),ao(cr(S),function(E){return Th.call(S,E)}))}:ke,Wl=cr?function(S){for(var E=[];S;)Pl(E,Im(S)),S=lo(S);return E}:ke,As=da;(Re&&As(new Re(new ArrayBuffer(1)))!=ti||rn&&As(new rn)!=Te||Yn&&As(Yn.resolve())!=mi||Qr&&As(new Qr)!=Xe||rr&&As(new rr)!=Jn)&&(As=function(S){var E=da(S),X=E==He?S.constructor:e,ut=X?$s(X):"";if(ut)switch(ut){case ai:return ti;case Zc:return Te;case co:return mi;case Mf:return Xe;case Qc:return Jn}return E});function D1(S,E,X){for(var ut=-1,kt=X.length;++ut<kt;){var Lt=X[ut],Ht=Lt.size;switch(Lt.type){case"drop":S+=Ht;break;case"dropRight":E-=Ht;break;case"take":E=Ct(E,S+Ht);break;case"takeRight":S=ft(S,E-Ht);break}}return{start:S,end:E}}function Sc(S){var E=S.match(Ui);return E?E[1].split(Zr):[]}function Ud(S,E,X){E=Lo(E,S);for(var ut=-1,kt=E.length,Lt=!1;++ut<kt;){var Ht=Io(E[ut]);if(!(Lt=S!=null&&X(S,Ht)))break;S=S[Ht]}return Lt||++ut!=kt?Lt:(kt=S==null?0:S.length,!!kt&&jt(kt)&&kc(Ht,kt)&&(C(S)||b(S)))}function zm(S){var E=S.length,X=new S.constructor(E);return E&&typeof S[0]=="string"&&Ci.call(S,"index")&&(X.index=S.index,X.input=S.input),X}function ip(S){return typeof S.constructor=="function"&&!Fh(S)?Jc(lo(S)):{}}function w0(S,E,X){var ut=S.constructor;switch(E){case $n:return zh(S);case Yt:case Rt:return new ut(+S);case ti:return j1(S,X);case be:case cn:case tn:case On:case un:case kn:case Dn:case Bn:case _r:return pv(S,X);case Te:return new ut;case qe:case Ei:return new ut(S);case li:return m0(S);case Xe:return new ut;case Ke:return jm(S)}}function Fm(S,E){var X=E.length;if(!X)return S;var ut=X-1;return E[ut]=(X>1?"& ":"")+E[ut],E=E.join(X>2?", ":" "),S.replace(Ee,`{
/* [wrapped with `+E+`] */
`)}function Bm(S){return C(S)||b(S)||!!(Bg&&S&&S[Bg])}function kc(S,E){var X=typeof S;return E=E??xt,!!E&&(X=="number"||X!="symbol"&&xs.test(S))&&S>-1&&S%1==0&&S<E}function Ts(S,E,X){if(!Dt(X))return!1;var ut=typeof E;return(ut=="number"?O(X)&&kc(E,X.length):ut=="string"&&E in X)?dl(X[E],S):!1}function Xu(S,E){if(C(S))return!1;var X=typeof S;return X=="number"||X=="symbol"||X=="boolean"||S==null||qn(S)?!0:We.test(S)||!nn.test(S)||E!=null&&S in Xi(E)}function Hm(S){var E=typeof S;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?S!=="__proto__":S===null}function rp(S){var E=ta(S),X=Tt[E];if(typeof X!="function"||!(E in Rn.prototype))return!1;if(S===X)return!0;var ut=Ro(X);return!!ut&&S===ut[0]}function _0(S){return!!oo&&oo in S}var Gm=Xc?wt:le;function Fh(S){var E=S&&S.constructor,X=typeof E=="function"&&E.prototype||Ch;return S===X}function Ul(S){return S===S&&!Dt(S)}function Bh(S,E){return function(X){return X==null?!1:X[S]===E&&(E!==e||S in Xi(X))}}function S0(S){var E=Kf(S,function(ut){return X.size===c&&X.clear(),ut}),X=E.cache;return E}function k0(S,E){var X=S[1],ut=E[1],kt=X|ut,Lt=kt<(k|A|H),Ht=ut==H&&X==R||ut==H&&X==Y&&S[7].length<=E[8]||ut==(H|Y)&&E[7].length<=E[8]&&X==R;if(!(Lt||Ht))return S;ut&k&&(S[2]=E[2],kt|=X&k?0:T);var Xt=E[3];if(Xt){var ie=S[3];S[3]=ie?Xg(ie,Xt,E[4]):Xt,S[4]=ie?al(S[3],h):E[4]}return Xt=E[5],Xt&&(ie=S[5],S[5]=ie?Yu(ie,Xt,E[6]):Xt,S[6]=ie?al(S[5],h):E[6]),Xt=E[7],Xt&&(S[7]=Xt),ut&H&&(S[8]=S[8]==null?E[8]:Ct(S[8],E[8])),S[9]==null&&(S[9]=E[9]),S[0]=E[0],S[1]=kt,S}function qu(S){var E=[];if(S!=null)for(var X in Xi(S))E.push(X);return E}function Wm(S){return Ss.call(S)}function Yd(S,E,X){return E=ft(E===e?S.length-1:E,0),function(){for(var ut=arguments,kt=-1,Lt=ft(ut.length-E,0),Ht=ce(Lt);++kt<Lt;)Ht[kt]=ut[E+kt];kt=-1;for(var Xt=ce(E+1);++kt<E;)Xt[kt]=ut[kt];return Xt[E]=X(Ht),Tr(S,this,Xt)}}function Gf(S,E){return E.length<2?S:Fl(S,Ai(E,0,-1))}function ap(S,E){for(var X=S.length,ut=Ct(E.length,X),kt=Jr(S);ut--;){var Lt=E[ut];S[ut]=kc(Lt,X)?kt[Lt]:e}return S}function Er(S,E){if(!(E==="constructor"&&typeof S[E]=="function")&&E!="__proto__")return S[E]}var Um=Ku(Lf),Cc=Kc||function(S,E){return ha.setTimeout(S,E)},Wf=Ku(Bd);function Uf(S,E,X){var ut=E+"";return Wf(S,Fm(ut,C0(Sc(ut),X)))}function Ku(S){var E=0,X=0;return function(){var ut=Bt(),kt=rt-(ut-X);if(X=ut,kt>0){if(++E>=Z)return arguments[0]}else E=0;return S.apply(e,arguments)}}function sp(S,E){var X=-1,ut=S.length,kt=ut-1;for(E=E===e?ut:E;++X<E;){var Lt=zd(X,kt),Ht=S[Lt];S[Lt]=S[X],S[X]=Ht}return S.length=E,S}var wv=S0(function(S){var E=[];return S.charCodeAt(0)===46&&E.push(""),S.replace(Kr,function(X,ut,kt,Lt){E.push(kt?Lt.replace(yi,"$1"):ut||X)}),E});function Io(S){if(typeof S=="string"||qn(S))return S;var E=S+"";return E=="0"&&1/S==-st?"-0":E}function $s(S){if(S!=null){try{return Ah.call(S)}catch{}try{return S+""}catch{}}return""}function C0(S,E){return Ca(Pt,function(X){var ut="_."+X[0];E&X[1]&&!Eu(S,ut)&&S.push(ut)}),S.sort()}function Ym(S){if(S instanceof Rn)return S.clone();var E=new Ja(S.__wrapped__,S.__chain__);return E.__actions__=Jr(S.__actions__),E.__index__=S.__index__,E.__values__=S.__values__,E}function A0(S,E,X){(X?Ts(S,E,X):E===e)?E=1:E=ft(Fe(E),0);var ut=S==null?0:S.length;if(!ut||E<1)return[];for(var kt=0,Lt=0,Ht=ce(fc(ut/E));kt<ut;)Ht[Lt++]=Ai(S,kt,kt+=E);return Ht}function _v(S){for(var E=-1,X=S==null?0:S.length,ut=0,kt=[];++E<X;){var Lt=S[E];Lt&&(kt[ut++]=Lt)}return kt}function Sv(){var S=arguments.length;if(!S)return[];for(var E=ce(S-1),X=arguments[0],ut=S;ut--;)E[ut-1]=arguments[ut];return Pl(C(X)?Jr(X):[X],Ea(E,1))}var op=hn(function(S,E){return I(S)?ts(S,Ea(E,1,I,!0)):[]}),T0=hn(function(S,E){var X=na(E);return I(X)&&(X=e),I(S)?ts(S,Ea(E,1,I,!0),_n(X,2)):[]}),uu=hn(function(S,E){var X=na(E);return I(X)&&(X=e),I(S)?ts(S,Ea(E,1,I,!0),e,X):[]});function Ma(S,E,X){var ut=S==null?0:S.length;return ut?(E=X||E===e?1:Fe(E),Ai(S,E<0?0:E,ut)):[]}function kv(S,E,X){var ut=S==null?0:S.length;return ut?(E=X||E===e?1:Fe(E),E=ut-E,Ai(S,0,E<0?0:E)):[]}function M0(S,E){return S&&S.length?$g(S,_n(E,3),!0,!0):[]}function gs(S,E){return S&&S.length?$g(S,_n(E,3),!0):[]}function $m(S,E,X,ut){var kt=S==null?0:S.length;return kt?(X&&typeof X!="number"&&Ts(S,E,X)&&(X=0,ut=kt),zl(S,E,X,ut)):[]}function lp(S,E,X){var ut=S==null?0:S.length;if(!ut)return-1;var kt=X==null?0:Fe(X);return kt<0&&(kt=ft(ut+kt,0)),El(S,_n(E,3),kt)}function Vm(S,E,X){var ut=S==null?0:S.length;if(!ut)return-1;var kt=ut-1;return X!==e&&(kt=Fe(X),kt=X<0?ft(ut+kt,0):Ct(kt,ut-1)),El(S,_n(E,3),kt,!0)}function ea(S){var E=S==null?0:S.length;return E?Ea(S,1):[]}function Ms(S){var E=S==null?0:S.length;return E?Ea(S,st):[]}function Ac(S,E){var X=S==null?0:S.length;return X?(E=E===e?1:Fe(E),Ea(S,E)):[]}function Cv(S){for(var E=-1,X=S==null?0:S.length,ut={};++E<X;){var kt=S[E];ut[kt[0]]=kt[1]}return ut}function Av(S){return S&&S.length?S[0]:e}function Xm(S,E,X){var ut=S==null?0:S.length;if(!ut)return-1;var kt=X==null?0:Fe(X);return kt<0&&(kt=ft(ut+kt,0)),Sh(S,E,kt)}function O1(S){var E=S==null?0:S.length;return E?Ai(S,0,-1):[]}var qm=hn(function(S){var E=xr(S,fv);return E.length&&E[0]===S[0]?Eo(E):[]}),Vs=hn(function(S){var E=na(S),X=xr(S,fv);return E===na(X)?E=e:X.pop(),X.length&&X[0]===S[0]?Eo(X,_n(E,2)):[]}),Tc=hn(function(S){var E=na(S),X=xr(S,fv);return E=typeof E=="function"?E:e,E&&X.pop(),X.length&&X[0]===S[0]?Eo(X,e,E):[]});function N0(S,E){return S==null?"":W.call(S,E)}function na(S){var E=S==null?0:S.length;return E?S[E-1]:e}function cp(S,E,X){var ut=S==null?0:S.length;if(!ut)return-1;var kt=ut;return X!==e&&(kt=Fe(X),kt=kt<0?ft(ut+kt,0):Ct(kt,ut-1)),E===E?Af(S,E,kt):El(S,so,kt,!0)}function Yl(S,E){return S&&S.length?Tm(S,Fe(E)):e}var Hh=hn(Mc);function Mc(S,E){return S&&S.length&&E&&E.length?Ih(S,E):S}function Km(S,E,X){return S&&S.length&&E&&E.length?Ih(S,E,_n(X,2)):S}function Zm(S,E,X){return S&&S.length&&E&&E.length?Ih(S,E,e,X):S}var zo=po(function(S,E){var X=S==null?0:S.length,ut=jf(S,E);return Id(S,xr(E,function(kt){return kc(kt,X)?+kt:kt}).sort(mv)),ut});function Qm(S,E){var X=[];if(!(S&&S.length))return X;var ut=-1,kt=[],Lt=S.length;for(E=_n(E,3);++ut<Lt;){var Ht=S[ut];E(Ht,ut,S)&&(X.push(Ht),kt.push(ut))}return Id(S,kt),X}function $l(S){return S==null?S:_e.call(S)}function up(S,E,X){var ut=S==null?0:S.length;return ut?(X&&typeof X!="number"&&Ts(S,E,X)?(E=0,X=ut):(E=E==null?0:Fe(E),X=X===e?ut:Fe(X)),Ai(S,E,X)):[]}function Gh(S,E){return Hd(S,E)}function Zu(S,E,X){return Yg(S,E,_n(X,2))}function P0(S,E){var X=S==null?0:S.length;if(X){var ut=Hd(S,E);if(ut<X&&dl(S[ut],E))return ut}return-1}function E0(S,E){return Hd(S,E,!0)}function Nc(S,E,X){return Yg(S,E,_n(X,2),!0)}function Tv(S,E){var X=S==null?0:S.length;if(X){var ut=Hd(S,E,!0)-1;if(dl(S[ut],E))return ut}return-1}function Yf(S){return S&&S.length?dv(S):[]}function Mv(S,E){return S&&S.length?dv(S,_n(E,2)):[]}function Wh(S){var E=S==null?0:S.length;return E?Ai(S,1,E):[]}function hp(S,E,X){return S&&S.length?(E=X||E===e?1:Fe(E),Ai(S,0,E<0?0:E)):[]}function Ri(S,E,X){var ut=S==null?0:S.length;return ut?(E=X||E===e?1:Fe(E),E=ut-E,Ai(S,E<0?0:E,ut)):[]}function jr(S,E){return S&&S.length?$g(S,_n(E,3),!1,!0):[]}function ri(S,E){return S&&S.length?$g(S,_n(E,3)):[]}var Mi=hn(function(S){return ul(Ea(S,1,I,!0))}),ur=hn(function(S){var E=na(S);return I(E)&&(E=e),ul(Ea(S,1,I,!0),_n(E,2))}),Xs=hn(function(S){var E=na(S);return E=typeof E=="function"?E:e,ul(Ea(S,1,I,!0),e,E)});function Uh(S){return S&&S.length?ul(S):[]}function $d(S,E){return S&&S.length?ul(S,_n(E,2)):[]}function Nv(S,E){return E=typeof E=="function"?E:e,S&&S.length?ul(S,e,E):[]}function Pc(S){if(!(S&&S.length))return[];var E=0;return S=ao(S,function(X){if(I(X))return E=ft(X.length,E),!0}),kf(E,function(X){return xr(S,Wc(X))})}function ya(S,E){if(!(S&&S.length))return[];var X=Pc(S);return E==null?X:xr(X,function(ut){return Tr(E,e,ut)})}var Yh=hn(function(S,E){return I(S)?ts(S,E):[]}),Vd=hn(function(S){return Oo(ao(S,I))}),dp=hn(function(S){var E=na(S);return I(E)&&(E=e),Oo(ao(S,I),_n(E,2))}),hl=hn(function(S){var E=na(S);return E=typeof E=="function"?E:e,Oo(ao(S,I),e,E)}),Xd=hn(Pc);function fp(S,E){return Ys(S||[],E||[],mc)}function Fo(S,E){return Ys(S||[],E||[],Fd)}var Pv=hn(function(S){var E=S.length,X=E>1?S[E-1]:e;return X=typeof X=="function"?(S.pop(),X):e,ya(S,X)});function $h(S){var E=Tt(S);return E.__chain__=!0,E}function Ev(S,E){return E(S),S}function qd(S,E){return E(S)}var $f=po(function(S){var E=S.length,X=E?S[0]:0,ut=this.__wrapped__,kt=function(Lt){return jf(Lt,S)};return E>1||this.__actions__.length||!(ut instanceof Rn)||!kc(X)?this.thru(kt):(ut=ut.slice(X,+X+(E?1:0)),ut.__actions__.push({func:qd,args:[kt],thisArg:e}),new Ja(ut,this.__chain__).thru(function(Lt){return E&&!Lt.length&&Lt.push(e),Lt}))});function Ec(){return $h(this)}function es(){return new Ja(this.value(),this.__chain__)}function Qu(){this.__values__===e&&(this.__values__=br(this.value()));var S=this.__index__>=this.__values__.length,E=S?e:this.__values__[this.__index__++];return{done:S,value:E}}function Vf(){return this}function hu(S){for(var E,X=this;X instanceof tu;){var ut=Ym(X);ut.__index__=0,ut.__values__=e,E?kt.__wrapped__=ut:E=ut;var kt=ut;X=X.__wrapped__}return kt.__wrapped__=S,E}function jv(){var S=this.__wrapped__;if(S instanceof Rn){var E=S;return this.__actions__.length&&(E=new Rn(this)),E=E.reverse(),E.__actions__.push({func:qd,args:[$l],thisArg:e}),new Ja(E,this.__chain__)}return this.thru($l)}function Dv(){return Pm(this.__wrapped__,this.__actions__)}var j0=Dm(function(S,E,X){Ci.call(S,X)?++S[X]:uo(S,X,1)});function gp(S,E,X){var ut=C(S)?Lg:Dh;return X&&Ts(S,E,X)&&(E=e),ut(S,_n(E,3))}function Ov(S,E){var X=C(S)?ao:bm;return X(S,_n(E,3))}var Bo=Vu(lp),D0=Vu(Vm);function mo(S,E){return Ea(mp(S,E),1)}function O0(S,E){return Ea(mp(S,E),st)}function L0(S,E,X){return X=X===e?1:Fe(X),Ea(mp(S,E),X)}function Lv(S,E){var X=C(S)?Ca:ru;return X(S,_n(E,3))}function jc(S,E){var X=C(S)?hc:Gg;return X(S,_n(E,3))}var Jm=Dm(function(S,E,X){Ci.call(S,X)?S[X].push(E):uo(S,X,[E])});function pp(S,E,X,ut){S=O(S)?S:fy(S),X=X&&!ut?Fe(X):0;var kt=S.length;return X<0&&(X=ft(kt+X,0)),Je(S)?X<=kt&&S.indexOf(E,X)>-1:!!kt&&Sh(S,E,X)>-1}var Xf=hn(function(S,E,X){var ut=-1,kt=typeof E=="function",Lt=O(S)?ce(S.length):[];return ru(S,function(Ht){Lt[++ut]=kt?Tr(E,Ht,X):cl(Ht,E,X)}),Lt}),R0=Dm(function(S,E,X){uo(S,X,E)});function mp(S,E){var X=C(S)?xr:km;return X(S,_n(E,3))}function Rv(S,E,X,ut){return S==null?[]:(C(E)||(E=E==null?[]:[E]),X=ut?e:X,C(X)||(X=X==null?[]:[X]),Mm(S,E,X))}var I0=Dm(function(S,E,X){S[X?0:1].push(E)},function(){return[[],[]]});function yp(S,E,X){var ut=C(S)?_d:jl,kt=arguments.length<3;return ut(S,_n(E,4),X,kt,ru)}function ty(S,E,X){var ut=C(S)?dm:jl,kt=arguments.length<3;return ut(S,_n(E,4),X,kt,Gg)}function L1(S,E){var X=C(S)?ao:bm;return X(S,oy(_n(E,3)))}function R1(S){var E=C(S)?Dd:uv;return E(S)}function I1(S,E,X){(X?Ts(S,E,X):E===e)?E=1:E=Fe(E);var ut=C(S)?Hg:hv;return ut(S,E)}function Iv(S){var E=C(S)?u0:f0;return E(S)}function z0(S){if(S==null)return 0;if(O(S))return Je(S)?Gs(S):S.length;var E=As(S);return E==Te||E==Xe?S.size:Uu(S).length}function qf(S,E,X){var ut=C(S)?_h:g0;return X&&Ts(S,E,X)&&(E=e),ut(S,_n(E,3))}var ey=hn(function(S,E){if(S==null)return[];var X=E.length;return X>1&&Ts(S,E[0],E[1])?E=[]:X>2&&Ts(E[0],E[1],E[2])&&(E=[E[0]]),Mm(S,Ea(E,1),[])}),vp=jd||function(){return ha.Date.now()};function zv(S,E){if(typeof E!="function")throw new ds(s);return S=Fe(S),function(){if(--S<1)return E.apply(this,arguments)}}function ny(S,E,X){return E=X?e:E,E=S&&E==null?S.length:E,Cs(S,H,e,e,e,e,E)}function Fv(S,E){var X;if(typeof E!="function")throw new ds(s);return S=Fe(S),function(){return--S>0&&(X=E.apply(this,arguments)),S<=1&&(E=e),X}}var iy=hn(function(S,E,X){var ut=k;if(X.length){var kt=al(X,Ti(iy));ut|=z}return Cs(S,ut,E,X,kt)}),ry=hn(function(S,E,X){var ut=k|A;if(X.length){var kt=al(X,Ti(ry));ut|=z}return Cs(E,ut,S,X,kt)});function xp(S,E,X){E=X?e:E;var ut=Cs(S,R,e,e,e,e,e,E);return ut.placeholder=xp.placeholder,ut}function ay(S,E,X){E=X?e:E;var ut=Cs(S,G,e,e,e,e,e,E);return ut.placeholder=ay.placeholder,ut}function Bv(S,E,X){var ut,kt,Lt,Ht,Xt,ie,Ce=0,Ae=!1,je=!1,Ye=!0;if(typeof S!="function")throw new ds(s);E=Dr(E)||0,Dt(X)&&(Ae=!!X.leading,je="maxWait"in X,Lt=je?ft(Dr(X.maxWait)||0,E):Lt,Ye="trailing"in X?!!X.trailing:Ye);function pn(Es){var tf=ut,kp=kt;return ut=kt=e,Ce=Es,Ht=S.apply(kp,tf),Ht}function zn(Es){return Ce=Es,Xt=Cc(Wi,E),Ae?pn(Es):Ht}function Pi(Es){var tf=Es-ie,kp=Es-Ce,qR=E-tf;return je?Ct(qR,Lt-kp):qR}function Fn(Es){var tf=Es-ie,kp=Es-Ce;return ie===e||tf>=E||tf<0||je&&kp>=Lt}function Wi(){var Es=vp();if(Fn(Es))return ar(Es);Xt=Cc(Wi,Pi(Es))}function ar(Es){return Xt=e,Ye&&ut?pn(Es):(ut=kt=e,Ht)}function Ju(){Xt!==e&&Vg(Xt),Ce=0,ut=ie=kt=Xt=e}function Dc(){return Xt===e?Ht:ar(vp())}function th(){var Es=vp(),tf=Fn(Es);if(ut=arguments,kt=this,ie=Es,tf){if(Xt===e)return zn(ie);if(je)return Vg(Xt),Xt=Cc(Wi,E),pn(ie)}return Xt===e&&(Xt=Cc(Wi,E)),Ht}return th.cancel=Ju,th.flush=Dc,th}var hr=hn(function(S,E){return xm(S,1,E)}),sy=hn(function(S,E,X){return xm(S,Dr(E)||0,X)});function z1(S){return Cs(S,J)}function Kf(S,E){if(typeof S!="function"||E!=null&&typeof E!="function")throw new ds(s);var X=function(){var ut=arguments,kt=E?E.apply(this,ut):ut[0],Lt=X.cache;if(Lt.has(kt))return Lt.get(kt);var Ht=S.apply(this,ut);return X.cache=Lt.set(kt,Ht)||Lt,Ht};return X.cache=new(Kf.Cache||pc),X}Kf.Cache=pc;function oy(S){if(typeof S!="function")throw new ds(s);return function(){var E=arguments;switch(E.length){case 0:return!S.call(this);case 1:return!S.call(this,E[0]);case 2:return!S.call(this,E[0],E[1]);case 3:return!S.call(this,E[0],E[1],E[2])}return!S.apply(this,E)}}function Hv(S){return Fv(2,S)}var F1=p0(function(S,E){E=E.length==1&&C(E[0])?xr(E[0],Mr(_n())):xr(Ea(E,1),Mr(_n()));var X=E.length;return hn(function(ut){for(var kt=-1,Lt=Ct(ut.length,X);++kt<Lt;)ut[kt]=E[kt].call(this,ut[kt]);return Tr(S,this,ut)})}),Kd=hn(function(S,E){var X=al(E,Ti(Kd));return Cs(S,z,e,E,X)}),Vh=hn(function(S,E){var X=al(E,Ti(Vh));return Cs(S,F,e,E,X)}),Gv=po(function(S,E){return Cs(S,Y,e,e,e,E)});function ly(S,E){if(typeof S!="function")throw new ds(s);return E=E===e?E:Fe(E),hn(S,E)}function bp(S,E){if(typeof S!="function")throw new ds(s);return E=E==null?0:ft(Fe(E),0),hn(function(X){var ut=X[E],kt=Hl(X,0,E);return ut&&Pl(kt,ut),Tr(S,this,kt)})}function Xh(S,E,X){var ut=!0,kt=!0;if(typeof S!="function")throw new ds(s);return Dt(X)&&(ut="leading"in X?!!X.leading:ut,kt="trailing"in X?!!X.trailing:kt),Bv(S,E,{leading:ut,maxWait:E,trailing:kt})}function du(S){return ny(S,1)}function wp(S,E){return Kd(Em(E),S)}function B1(){if(!arguments.length)return[];var S=arguments[0];return C(S)?S:[S]}function F0(S){return ho(S,y)}function B0(S,E){return E=typeof E=="function"?E:e,ho(S,y,E)}function _p(S){return ho(S,d|y)}function H0(S,E){return E=typeof E=="function"?E:e,ho(S,d|y,E)}function H1(S,E){return E==null||vc(S,E,Zs(E))}function dl(S,E){return S===E||S!==S&&E!==E}var q=go(Oh),m=go(function(S,E){return S>=E}),b=Ki((function(){return arguments})())?Ki:function(S){return zt(S)&&Ci.call(S,"callee")&&!Th.call(S,"callee")},C=ce.isArray,D=el?Mr(el):Ta;function O(S){return S!=null&&jt(S.length)&&!wt(S)}function I(S){return zt(S)&&O(S)}function B(S){return S===!0||S===!1||zt(S)&&da(S)==Yt}var U=v||le,Q=wf?Mr(wf):Sm;function it(S){return zt(S)&&S.nodeType===1&&!Ze(S)}function tt(S){if(S==null)return!0;if(O(S)&&(C(S)||typeof S=="string"||typeof S.splice=="function"||U(S)||In(S)||b(S)))return!S.length;var E=As(S);if(E==Te||E==Xe)return!S.size;if(Fh(S))return!Uu(S).length;for(var X in S)if(Ci.call(S,X))return!1;return!0}function at(S,E){return jo(S,E)}function gt(S,E,X){X=typeof X=="function"?X:e;var ut=X?X(S,E):e;return ut===e?jo(S,E,e,X):!!ut}function pt(S){if(!zt(S))return!1;var E=da(S);return E==fe||E==ee||typeof S.message=="string"&&typeof S.name=="string"&&!Ze(S)}function _t(S){return typeof S=="number"&&M(S)}function wt(S){if(!Dt(S))return!1;var E=da(S);return E==Jt||E==ue||E==Et||E==Si}function bt(S){return typeof S=="number"&&S==Fe(S)}function jt(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=xt}function Dt(S){var E=typeof S;return S!=null&&(E=="object"||E=="function")}function zt(S){return S!=null&&typeof S=="object"}var Ut=_f?Mr(_f):Zi;function $t(S,E){return S===E||Br(S,E,ep(E))}function Vt(S,E,X){return X=typeof X=="function"?X:e,Br(S,E,ep(E),X)}function Gt(S){return Ie(S)&&S!=+S}function pe(S){if(Gm(S))throw new wn(a);return Rh(S)}function ye(S){return S===null}function me(S){return S==null}function Ie(S){return typeof S=="number"||zt(S)&&da(S)==qe}function Ze(S){if(!zt(S)||da(S)!=He)return!1;var E=lo(S);if(E===null)return!0;var X=Ci.call(E,"constructor")&&E.constructor;return typeof X=="function"&&X instanceof X&&Ah.call(X)==qc}var en=Og?Mr(Og):Of;function De(S){return bt(S)&&S>=-xt&&S<=xt}var Be=Gc?Mr(Gc):Ld;function Je(S){return typeof S=="string"||!C(S)&&zt(S)&&da(S)==Ei}function qn(S){return typeof S=="symbol"||zt(S)&&da(S)==Ke}var In=um?Mr(um):Wg;function Ns(S){return S===e}function Cn(S){return zt(S)&&As(S)==Jn}function Sn(S){return zt(S)&&da(S)==ki}var Ii=go(fa),Kn=go(function(S,E){return S<=E});function br(S){if(!S)return[];if(O(S))return Je(S)?Sr(S):Jr(S);if(Ha&&S[Ha])return Ol(S[Ha]());var E=As(S),X=E==Te?Cf:E==Xe?To:fy;return X(S)}function Ni(S){if(!S)return S===0?S:0;if(S=Dr(S),S===st||S===-st){var E=S<0?-1:1;return E*dt}return S===S?S:0}function Fe(S){var E=Ni(S),X=E%1;return E===E?X?E-X:E:0}function Wr(S){return S?yc(Fe(S),0,ot):0}function Dr(S){if(typeof S=="number")return S;if(qn(S))return ht;if(Dt(S)){var E=typeof S.valueOf=="function"?S.valueOf():S;S=Dt(E)?E+"":E}if(typeof S!="string")return S===0?S:+S;S=Du(S);var X=Oi.test(S);return X||vr.test(S)?xh(S.slice(2),X?2:8):Di.test(S)?ht:+S}function Ps(S){return Gl(S,Vl(S))}function qh(S){return S?yc(Fe(S),-xt,xt):S===0?S:0}function si(S){return S==null?"":Do(S)}var qs=su(function(S,E){if(Fh(E)||O(E)){Gl(E,Zs(E),S);return}for(var X in E)Ci.call(E,X)&&mc(S,X,E[X])}),fl=su(function(S,E){Gl(E,Vl(E),S)}),gl=su(function(S,E,X,ut){Gl(E,Vl(E),S,ut)}),Zd=su(function(S,E,X,ut){Gl(E,Zs(E),S,ut)}),Ks=po(jf);function pl(S,E){var X=Jc(S);return E==null?X:lv(X,E)}var Qd=hn(function(S,E){S=Xi(S);var X=-1,ut=E.length,kt=ut>2?E[2]:e;for(kt&&Ts(E[0],E[1],kt)&&(ut=1);++X<ut;)for(var Lt=E[X],Ht=Vl(Lt),Xt=-1,ie=Ht.length;++Xt<ie;){var Ce=Ht[Xt],Ae=S[Ce];(Ae===e||dl(Ae,Ch[Ce])&&!Ci.call(S,Ce))&&(S[Ce]=Lt[Ce])}return S}),Wv=hn(function(S){return S.push(e,Jg),Tr(uy,e,S)});function OS(S,E){return Sd(S,_n(E,3),Aa)}function Uv(S,E){return Sd(S,_n(E,3),wm)}function fu(S,E){return S==null?S:Od(S,_n(E,3),Vl)}function LS(S,E){return S==null?S:Df(S,_n(E,3),Vl)}function G0(S,E){return S&&Aa(S,_n(E,3))}function Jd(S,E){return S&&wm(S,_n(E,3))}function OT(S){return S==null?[]:xc(S,Zs(S))}function LT(S){return S==null?[]:xc(S,Vl(S))}function Zf(S,E,X){var ut=S==null?e:Fl(S,E);return ut===e?X:ut}function RS(S,E){return S!=null&&Ud(S,E,Us)}function G1(S,E){return S!=null&&Ud(S,E,Bl)}var RT=Qg(function(S,E,X){E!=null&&typeof E.toString!="function"&&(E=Ss.call(E)),S[E]=X},py(ml)),IT=Qg(function(S,E,X){E!=null&&typeof E.toString!="function"&&(E=Ss.call(E)),Ci.call(S,E)?S[E].push(X):S[E]=[X]},_n),zT=hn(cl);function Zs(S){return O(S)?ym(S):Uu(S)}function Vl(S){return O(S)?ym(S,!0):E1(S)}function FT(S,E){var X={};return E=_n(E,3),Aa(S,function(ut,kt,Lt){uo(X,E(ut,kt,Lt),ut)}),X}function IS(S,E){var X={};return E=_n(E,3),Aa(S,function(ut,kt,Lt){uo(X,kt,E(ut,kt,Lt))}),X}var cy=su(function(S,E,X){Ug(S,E,X)}),uy=su(function(S,E,X,ut){Ug(S,E,X,ut)}),zS=po(function(S,E){var X={};if(S==null)return X;var ut=!1;E=xr(E,function(Lt){return Lt=Lo(Lt,S),ut||(ut=Lt.length>1),Lt}),Gl(S,Bf(S),X),ut&&(X=ho(X,d|g|y,wi));for(var kt=E.length;kt--;)Gd(X,E[kt]);return X});function BT(S,E){return dy(S,oy(_n(E)))}var hy=po(function(S,E){return S==null?{}:cv(S,E)});function dy(S,E){if(S==null)return{};var X=xr(Bf(S),function(ut){return[ut]});return E=_n(E),ja(S,X,function(ut,kt){return E(ut,kt[0])})}function FS(S,E,X){E=Lo(E,S);var ut=-1,kt=E.length;for(kt||(kt=1,S=e);++ut<kt;){var Lt=S==null?e:S[Io(E[ut])];Lt===e&&(ut=kt,Lt=X),S=wt(Lt)?Lt.call(S):Lt}return S}function W0(S,E,X){return S==null?S:Fd(S,E,X)}function W1(S,E,X,ut){return ut=typeof ut=="function"?ut:e,S==null?S:Fd(S,E,X,ut)}var U0=xv(Zs),Yv=xv(Vl);function BS(S,E,X){var ut=C(S),kt=ut||U(S)||In(S);if(E=_n(E,4),X==null){var Lt=S&&S.constructor;kt?X=ut?new Lt:[]:Dt(S)?X=wt(Lt)?Jc(lo(S)):{}:X={}}return(kt?Ca:Aa)(S,function(Ht,Xt,ie){return E(X,Ht,Xt,ie)}),X}function HS(S,E){return S==null?!0:Gd(S,E)}function HT(S,E,X){return S==null?S:Gr(S,E,Em(X))}function GS(S,E,X,ut){return ut=typeof ut=="function"?ut:e,S==null?S:Gr(S,E,Em(X),ut)}function fy(S){return S==null?[]:Dl(S,Zs(S))}function U1(S){return S==null?[]:Dl(S,Vl(S))}function GT(S,E,X){return X===e&&(X=E,E=e),X!==e&&(X=Dr(X),X=X===X?X:0),E!==e&&(E=Dr(E),E=E===E?E:0),yc(Dr(S),E,X)}function Y0(S,E,X){return E=Ni(E),X===e?(X=E,E=0):X=Ni(X),S=Dr(S),Lh(S,E,X)}function $0(S,E,X){if(X&&typeof X!="boolean"&&Ts(S,E,X)&&(E=X=e),X===e&&(typeof E=="boolean"?(X=E,E=e):typeof S=="boolean"&&(X=S,S=e)),S===e&&E===e?(S=0,E=1):(S=Ni(S),E===e?(E=S,S=0):E=Ni(E)),S>E){var ut=S;S=E,E=ut}if(X||S%1||E%1){var kt=Zt();return Ct(S+kt*(E-S+Nl("1e-"+((kt+"").length-1))),E)}return zd(S,E)}var V0=$u(function(S,E,X){return E=E.toLowerCase(),S+(X?WS(E):E)});function WS(S){return Sp(si(S).toLowerCase())}function gy(S){return S=si(S),S&&S.replace(ss,Yc).replace(bd,"")}function WT(S,E,X){S=si(S),E=Do(E);var ut=S.length;X=X===e?ut:yc(Fe(X),0,ut);var kt=X;return X-=E.length,X>=0&&S.slice(X,kt)==E}function US(S){return S=si(S),S&&er.test(S)?S.replace(Cr,il):S}function YS(S){return S=si(S),S&&ve.test(S)?S.replace(re,"\\$&"):S}var $S=$u(function(S,E,X){return S+(X?"-":"")+E.toLowerCase()}),VS=$u(function(S,E,X){return S+(X?" ":"")+E.toLowerCase()}),Y1=Kg("toLowerCase");function XS(S,E,X){S=si(S),E=Fe(E);var ut=E?Gs(S):0;if(!E||ut>=E)return S;var kt=(E-ut)/2;return lu(gc(kt),X)+S+lu(fc(kt),X)}function qS(S,E,X){S=si(S),E=Fe(E);var ut=E?Gs(S):0;return E&&ut<E?S+lu(E-ut,X):S}function X0(S,E,X){S=si(S),E=Fe(E);var ut=E?Gs(S):0;return E&&ut<E?lu(E-ut,X)+S:S}function UT(S,E,X){return X||E==null?E=0:E&&(E=+E),te(si(S).replace(ze,""),E||0)}function YT(S,E,X){return(X?Ts(S,E,X):E===e)?E=1:E=Fe(E),bc(si(S),E)}function $1(){var S=arguments,E=si(S[0]);return S.length<3?E:E.replace(S[1],S[2])}var V1=$u(function(S,E,X){return S+(X?"_":"")+E.toLowerCase()});function q0(S,E,X){return X&&typeof X!="number"&&Ts(S,E,X)&&(E=X=e),X=X===e?ot:X>>>0,X?(S=si(S),S&&(typeof E=="string"||E!=null&&!en(E))&&(E=Do(E),!E&&Ou(S))?Hl(Sr(S),0,X):S.split(E,X)):[]}var X1=$u(function(S,E,X){return S+(X?" ":"")+Sp(E)});function KS(S,E,X){return S=si(S),X=X==null?0:yc(Fe(X),0,S.length),E=Do(E),S.slice(X,X+E.length)==E}function q1(S,E,X){var ut=Tt.templateSettings;X&&Ts(S,E,X)&&(E=e),S=si(S),E=gl({},E,ut,cu);var kt=gl({},E.imports,ut.imports,cu),Lt=Zs(kt),Ht=Dl(kt,Lt),Xt,ie,Ce=0,Ae=E.interpolate||os,je="__p += '",Ye=Tf((E.escape||os).source+"|"+Ae.source+"|"+(Ae===Vn?ci:os).source+"|"+(E.evaluate||os).source+"|$","g"),pn="//# sourceURL="+(Ci.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tl+"]")+`
`;S.replace(Ye,function(Fn,Wi,ar,Ju,Dc,th){return ar||(ar=Ju),je+=S.slice(Ce,th).replace(Xn,Td),Wi&&(Xt=!0,je+=`' +
__e(`+Wi+`) +
'`),Dc&&(ie=!0,je+=`';
`+Dc+`;
__p += '`),ar&&(je+=`' +
((__t = (`+ar+`)) == null ? '' : __t) +
'`),Ce=th+Fn.length,Fn}),je+=`';
`;var zn=Ci.call(E,"variable")&&E.variable;if(!zn)je=`with (obj) {
`+je+`
}
`;else if(Hn.test(zn))throw new wn(o);je=(ie?je.replace(or,""):je).replace(as,"$1").replace(tr,"$1;"),je="function("+(zn||"obj")+`) {
`+(zn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Xt?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+je+`return __p
}`;var Pi=K1(function(){return Ln(Lt,pn+"return "+je).apply(e,Ht)});if(Pi.source=je,pt(Pi))throw Pi;return Pi}function Qf(S){return si(S).toLowerCase()}function Jf(S){return si(S).toUpperCase()}function tg(S,E,X){if(S=si(S),S&&(X||E===e))return Du(S);if(!S||!(E=Do(E)))return S;var ut=Sr(S),kt=Sr(E),Lt=Hs(ut,kt),Ht=zg(ut,kt)+1;return Hl(ut,Lt,Ht).join("")}function $v(S,E,X){if(S=si(S),S&&(X||E===e))return S.slice(0,Ru(S)+1);if(!S||!(E=Do(E)))return S;var ut=Sr(S),kt=zg(ut,Sr(E))+1;return Hl(ut,0,kt).join("")}function Vv(S,E,X){if(S=si(S),S&&(X||E===e))return S.replace(ze,"");if(!S||!(E=Do(E)))return S;var ut=Sr(S),kt=Hs(ut,Sr(E));return Hl(ut,kt).join("")}function eg(S,E){var X=nt,ut=V;if(Dt(E)){var kt="separator"in E?E.separator:kt;X="length"in E?Fe(E.length):X,ut="omission"in E?Do(E.omission):ut}S=si(S);var Lt=S.length;if(Ou(S)){var Ht=Sr(S);Lt=Ht.length}if(X>=Lt)return S;var Xt=X-Gs(ut);if(Xt<1)return ut;var ie=Ht?Hl(Ht,0,Xt).join(""):S.slice(0,Xt);if(kt===e)return ie+ut;if(Ht&&(Xt+=ie.length-Xt),en(kt)){if(S.slice(Xt).search(kt)){var Ce,Ae=ie;for(kt.global||(kt=Tf(kt.source,si(gn.exec(kt))+"g")),kt.lastIndex=0;Ce=kt.exec(Ae);)var je=Ce.index;ie=ie.slice(0,je===e?Xt:je)}}else if(S.indexOf(Do(kt),Xt)!=Xt){var Ye=ie.lastIndexOf(kt);Ye>-1&&(ie=ie.slice(0,Ye))}return ie+ut}function $T(S){return S=si(S),S&&ei.test(S)?S.replace(_a,sl):S}var ZS=$u(function(S,E,X){return S+(X?" ":"")+E.toUpperCase()}),Sp=Kg("toUpperCase");function QS(S,E,X){return S=si(S),E=X?e:E,E===e?us(S)?Pd(S):gm(S):S.match(E)||[]}var K1=hn(function(S,E){try{return Tr(S,e,E)}catch(X){return pt(X)?X:new wn(X)}}),K0=po(function(S,E){return Ca(E,function(X){X=Io(X),uo(S,X,iy(S[X],S))}),S});function JS(S){var E=S==null?0:S.length,X=_n();return S=E?xr(S,function(ut){if(typeof ut[1]!="function")throw new ds(s);return[X(ut[0]),ut[1]]}):[],hn(function(ut){for(var kt=-1;++kt<E;){var Lt=S[kt];if(Tr(Lt[0],this,ut))return Tr(Lt[1],this,ut)}})}function VT(S){return Wu(ho(S,d))}function py(S){return function(){return S}}function Z0(S,E){return S==null||S!==S?E:S}var tk=ou(),my=ou(!0);function ml(S){return S}function Xv(S){return Rd(typeof S=="function"?S:ho(S,d))}function Q0(S){return Hr(ho(S,d))}function ek(S,E){return Cm(S,ho(E,d))}var XT=hn(function(S,E){return function(X){return cl(X,S,E)}}),J0=hn(function(S,E){return function(X){return cl(S,X,E)}});function f(S,E,X){var ut=Zs(E),kt=xc(E,ut);X==null&&!(Dt(E)&&(kt.length||!ut.length))&&(X=E,E=S,S=this,kt=xc(E,Zs(E)));var Lt=!(Dt(X)&&"chain"in X)||!!X.chain,Ht=wt(S);return Ca(kt,function(Xt){var ie=E[Xt];S[Xt]=ie,Ht&&(S.prototype[Xt]=function(){var Ce=this.__chain__;if(Lt||Ce){var Ae=S(this.__wrapped__),je=Ae.__actions__=Jr(this.__actions__);return je.push({func:ie,args:arguments,thisArg:S}),Ae.__chain__=Ce,Ae}return ie.apply(S,Pl([this.value()],arguments))})}),S}function p(){return ha._===this&&(ha._=No),this}function _(){}function P(S){return S=Fe(S),hn(function(E){return Tm(E,S)})}var $=If(xr),K=If(Lg),yt=If(_h);function Mt(S){return Xu(S)?Wc(Io(S)):Da(S)}function Wt(S){return function(E){return S==null?e:Fl(S,E)}}var se=zf(),we=zf(!0);function ke(){return[]}function le(){return!1}function de(){return{}}function an(){return""}function Nn(){return!0}function Ur(S,E){if(S=Fe(S),S<1||S>xt)return[];var X=ot,ut=Ct(S,ot);E=_n(E),S-=ot;for(var kt=kf(ut,E);++X<S;)E(X);return kt}function ne(S){return C(S)?xr(S,Io):qn(S)?[S]:Jr(wv(si(S)))}function Kt(S){var E=++Fg;return si(S)+E}var ae=Rf(function(S,E){return S+E},0),Se=Ff("ceil"),xn=Rf(function(S,E){return S/E},1),dr=Ff("floor");function fn(S){return S&&S.length?fo(S,ml,Oh):e}function ui(S,E){return S&&S.length?fo(S,_n(E,2),Oh):e}function Fi(S){return kd(S,ml)}function fr(S,E){return kd(S,_n(E,2))}function ng(S){return S&&S.length?fo(S,ml,fa):e}function qT(S,E){return S&&S.length?fo(S,_n(E,2),fa):e}var VK=Rf(function(S,E){return S*E},1),XK=Ff("round"),qK=Rf(function(S,E){return S-E},0);function KK(S){return S&&S.length?Ad(S,ml):0}function ZK(S,E){return S&&S.length?Ad(S,_n(E,2)):0}return Tt.after=zv,Tt.ary=ny,Tt.assign=qs,Tt.assignIn=fl,Tt.assignInWith=gl,Tt.assignWith=Zd,Tt.at=Ks,Tt.before=Fv,Tt.bind=iy,Tt.bindAll=K0,Tt.bindKey=ry,Tt.castArray=B1,Tt.chain=$h,Tt.chunk=A0,Tt.compact=_v,Tt.concat=Sv,Tt.cond=JS,Tt.conforms=VT,Tt.constant=py,Tt.countBy=j0,Tt.create=pl,Tt.curry=xp,Tt.curryRight=ay,Tt.debounce=Bv,Tt.defaults=Qd,Tt.defaultsDeep=Wv,Tt.defer=hr,Tt.delay=sy,Tt.difference=op,Tt.differenceBy=T0,Tt.differenceWith=uu,Tt.drop=Ma,Tt.dropRight=kv,Tt.dropRightWhile=M0,Tt.dropWhile=gs,Tt.fill=$m,Tt.filter=Ov,Tt.flatMap=mo,Tt.flatMapDeep=O0,Tt.flatMapDepth=L0,Tt.flatten=ea,Tt.flattenDeep=Ms,Tt.flattenDepth=Ac,Tt.flip=z1,Tt.flow=tk,Tt.flowRight=my,Tt.fromPairs=Cv,Tt.functions=OT,Tt.functionsIn=LT,Tt.groupBy=Jm,Tt.initial=O1,Tt.intersection=qm,Tt.intersectionBy=Vs,Tt.intersectionWith=Tc,Tt.invert=RT,Tt.invertBy=IT,Tt.invokeMap=Xf,Tt.iteratee=Xv,Tt.keyBy=R0,Tt.keys=Zs,Tt.keysIn=Vl,Tt.map=mp,Tt.mapKeys=FT,Tt.mapValues=IS,Tt.matches=Q0,Tt.matchesProperty=ek,Tt.memoize=Kf,Tt.merge=cy,Tt.mergeWith=uy,Tt.method=XT,Tt.methodOf=J0,Tt.mixin=f,Tt.negate=oy,Tt.nthArg=P,Tt.omit=zS,Tt.omitBy=BT,Tt.once=Hv,Tt.orderBy=Rv,Tt.over=$,Tt.overArgs=F1,Tt.overEvery=K,Tt.overSome=yt,Tt.partial=Kd,Tt.partialRight=Vh,Tt.partition=I0,Tt.pick=hy,Tt.pickBy=dy,Tt.property=Mt,Tt.propertyOf=Wt,Tt.pull=Hh,Tt.pullAll=Mc,Tt.pullAllBy=Km,Tt.pullAllWith=Zm,Tt.pullAt=zo,Tt.range=se,Tt.rangeRight=we,Tt.rearg=Gv,Tt.reject=L1,Tt.remove=Qm,Tt.rest=ly,Tt.reverse=$l,Tt.sampleSize=I1,Tt.set=W0,Tt.setWith=W1,Tt.shuffle=Iv,Tt.slice=up,Tt.sortBy=ey,Tt.sortedUniq=Yf,Tt.sortedUniqBy=Mv,Tt.split=q0,Tt.spread=bp,Tt.tail=Wh,Tt.take=hp,Tt.takeRight=Ri,Tt.takeRightWhile=jr,Tt.takeWhile=ri,Tt.tap=Ev,Tt.throttle=Xh,Tt.thru=qd,Tt.toArray=br,Tt.toPairs=U0,Tt.toPairsIn=Yv,Tt.toPath=ne,Tt.toPlainObject=Ps,Tt.transform=BS,Tt.unary=du,Tt.union=Mi,Tt.unionBy=ur,Tt.unionWith=Xs,Tt.uniq=Uh,Tt.uniqBy=$d,Tt.uniqWith=Nv,Tt.unset=HS,Tt.unzip=Pc,Tt.unzipWith=ya,Tt.update=HT,Tt.updateWith=GS,Tt.values=fy,Tt.valuesIn=U1,Tt.without=Yh,Tt.words=QS,Tt.wrap=wp,Tt.xor=Vd,Tt.xorBy=dp,Tt.xorWith=hl,Tt.zip=Xd,Tt.zipObject=fp,Tt.zipObjectDeep=Fo,Tt.zipWith=Pv,Tt.entries=U0,Tt.entriesIn=Yv,Tt.extend=fl,Tt.extendWith=gl,f(Tt,Tt),Tt.add=ae,Tt.attempt=K1,Tt.camelCase=V0,Tt.capitalize=WS,Tt.ceil=Se,Tt.clamp=GT,Tt.clone=F0,Tt.cloneDeep=_p,Tt.cloneDeepWith=H0,Tt.cloneWith=B0,Tt.conformsTo=H1,Tt.deburr=gy,Tt.defaultTo=Z0,Tt.divide=xn,Tt.endsWith=WT,Tt.eq=dl,Tt.escape=US,Tt.escapeRegExp=YS,Tt.every=gp,Tt.find=Bo,Tt.findIndex=lp,Tt.findKey=OS,Tt.findLast=D0,Tt.findLastIndex=Vm,Tt.findLastKey=Uv,Tt.floor=dr,Tt.forEach=Lv,Tt.forEachRight=jc,Tt.forIn=fu,Tt.forInRight=LS,Tt.forOwn=G0,Tt.forOwnRight=Jd,Tt.get=Zf,Tt.gt=q,Tt.gte=m,Tt.has=RS,Tt.hasIn=G1,Tt.head=Av,Tt.identity=ml,Tt.includes=pp,Tt.indexOf=Xm,Tt.inRange=Y0,Tt.invoke=zT,Tt.isArguments=b,Tt.isArray=C,Tt.isArrayBuffer=D,Tt.isArrayLike=O,Tt.isArrayLikeObject=I,Tt.isBoolean=B,Tt.isBuffer=U,Tt.isDate=Q,Tt.isElement=it,Tt.isEmpty=tt,Tt.isEqual=at,Tt.isEqualWith=gt,Tt.isError=pt,Tt.isFinite=_t,Tt.isFunction=wt,Tt.isInteger=bt,Tt.isLength=jt,Tt.isMap=Ut,Tt.isMatch=$t,Tt.isMatchWith=Vt,Tt.isNaN=Gt,Tt.isNative=pe,Tt.isNil=me,Tt.isNull=ye,Tt.isNumber=Ie,Tt.isObject=Dt,Tt.isObjectLike=zt,Tt.isPlainObject=Ze,Tt.isRegExp=en,Tt.isSafeInteger=De,Tt.isSet=Be,Tt.isString=Je,Tt.isSymbol=qn,Tt.isTypedArray=In,Tt.isUndefined=Ns,Tt.isWeakMap=Cn,Tt.isWeakSet=Sn,Tt.join=N0,Tt.kebabCase=$S,Tt.last=na,Tt.lastIndexOf=cp,Tt.lowerCase=VS,Tt.lowerFirst=Y1,Tt.lt=Ii,Tt.lte=Kn,Tt.max=fn,Tt.maxBy=ui,Tt.mean=Fi,Tt.meanBy=fr,Tt.min=ng,Tt.minBy=qT,Tt.stubArray=ke,Tt.stubFalse=le,Tt.stubObject=de,Tt.stubString=an,Tt.stubTrue=Nn,Tt.multiply=VK,Tt.nth=Yl,Tt.noConflict=p,Tt.noop=_,Tt.now=vp,Tt.pad=XS,Tt.padEnd=qS,Tt.padStart=X0,Tt.parseInt=UT,Tt.random=$0,Tt.reduce=yp,Tt.reduceRight=ty,Tt.repeat=YT,Tt.replace=$1,Tt.result=FS,Tt.round=XK,Tt.runInContext=Qt,Tt.sample=R1,Tt.size=z0,Tt.snakeCase=V1,Tt.some=qf,Tt.sortedIndex=Gh,Tt.sortedIndexBy=Zu,Tt.sortedIndexOf=P0,Tt.sortedLastIndex=E0,Tt.sortedLastIndexBy=Nc,Tt.sortedLastIndexOf=Tv,Tt.startCase=X1,Tt.startsWith=KS,Tt.subtract=qK,Tt.sum=KK,Tt.sumBy=ZK,Tt.template=q1,Tt.times=Ur,Tt.toFinite=Ni,Tt.toInteger=Fe,Tt.toLength=Wr,Tt.toLower=Qf,Tt.toNumber=Dr,Tt.toSafeInteger=qh,Tt.toString=si,Tt.toUpper=Jf,Tt.trim=tg,Tt.trimEnd=$v,Tt.trimStart=Vv,Tt.truncate=eg,Tt.unescape=$T,Tt.uniqueId=Kt,Tt.upperCase=ZS,Tt.upperFirst=Sp,Tt.each=Lv,Tt.eachRight=jc,Tt.first=Av,f(Tt,(function(){var S={};return Aa(Tt,function(E,X){Ci.call(Tt.prototype,X)||(S[X]=E)}),S})(),{chain:!1}),Tt.VERSION=i,Ca(["bind","bindKey","curry","curryRight","partial","partialRight"],function(S){Tt[S].placeholder=Tt}),Ca(["drop","take"],function(S,E){Rn.prototype[S]=function(X){X=X===e?1:ft(Fe(X),0);var ut=this.__filtered__&&!E?new Rn(this):this.clone();return ut.__filtered__?ut.__takeCount__=Ct(X,ut.__takeCount__):ut.__views__.push({size:Ct(X,ot),type:S+(ut.__dir__<0?"Right":"")}),ut},Rn.prototype[S+"Right"]=function(X){return this.reverse()[S](X).reverse()}}),Ca(["filter","map","takeWhile"],function(S,E){var X=E+1,ut=X==lt||X==ct;Rn.prototype[S]=function(kt){var Lt=this.clone();return Lt.__iteratees__.push({iteratee:_n(kt,3),type:X}),Lt.__filtered__=Lt.__filtered__||ut,Lt}}),Ca(["head","last"],function(S,E){var X="take"+(E?"Right":"");Rn.prototype[S]=function(){return this[X](1).value()[0]}}),Ca(["initial","tail"],function(S,E){var X="drop"+(E?"":"Right");Rn.prototype[S]=function(){return this.__filtered__?new Rn(this):this[X](1)}}),Rn.prototype.compact=function(){return this.filter(ml)},Rn.prototype.find=function(S){return this.filter(S).head()},Rn.prototype.findLast=function(S){return this.reverse().find(S)},Rn.prototype.invokeMap=hn(function(S,E){return typeof S=="function"?new Rn(this):this.map(function(X){return cl(X,S,E)})}),Rn.prototype.reject=function(S){return this.filter(oy(_n(S)))},Rn.prototype.slice=function(S,E){S=Fe(S);var X=this;return X.__filtered__&&(S>0||E<0)?new Rn(X):(S<0?X=X.takeRight(-S):S&&(X=X.drop(S)),E!==e&&(E=Fe(E),X=E<0?X.dropRight(-E):X.take(E-S)),X)},Rn.prototype.takeRightWhile=function(S){return this.reverse().takeWhile(S).reverse()},Rn.prototype.toArray=function(){return this.take(ot)},Aa(Rn.prototype,function(S,E){var X=/^(?:filter|find|map|reject)|While$/.test(E),ut=/^(?:head|last)$/.test(E),kt=Tt[ut?"take"+(E=="last"?"Right":""):E],Lt=ut||/^find/.test(E);kt&&(Tt.prototype[E]=function(){var Ht=this.__wrapped__,Xt=ut?[1]:arguments,ie=Ht instanceof Rn,Ce=Xt[0],Ae=ie||C(Ht),je=function(Wi){var ar=kt.apply(Tt,Pl([Wi],Xt));return ut&&Ye?ar[0]:ar};Ae&&X&&typeof Ce=="function"&&Ce.length!=1&&(ie=Ae=!1);var Ye=this.__chain__,pn=!!this.__actions__.length,zn=Lt&&!Ye,Pi=ie&&!pn;if(!Lt&&Ae){Ht=Pi?Ht:new Rn(this);var Fn=S.apply(Ht,Xt);return Fn.__actions__.push({func:qd,args:[je],thisArg:e}),new Ja(Fn,Ye)}return zn&&Pi?S.apply(this,Xt):(Fn=this.thru(je),zn?ut?Fn.value()[0]:Fn.value():Fn)})}),Ca(["pop","push","shift","sort","splice","unshift"],function(S){var E=Vc[S],X=/^(?:push|sort|unshift)$/.test(S)?"tap":"thru",ut=/^(?:pop|shift)$/.test(S);Tt.prototype[S]=function(){var kt=arguments;if(ut&&!this.__chain__){var Lt=this.value();return E.apply(C(Lt)?Lt:[],kt)}return this[X](function(Ht){return E.apply(C(Ht)?Ht:[],kt)})}}),Aa(Rn.prototype,function(S,E){var X=Tt[E];if(X){var ut=X.name+"";Ci.call(bi,ut)||(bi[ut]=[]),bi[ut].push({name:E,func:X})}}),bi[Wd(e,A).name]=[{name:"wrapper",func:e}],Rn.prototype.clone=Ga,Rn.prototype.reverse=Nh,Rn.prototype.value=zu,Tt.prototype.at=$f,Tt.prototype.chain=Ec,Tt.prototype.commit=es,Tt.prototype.next=Qu,Tt.prototype.plant=hu,Tt.prototype.reverse=jv,Tt.prototype.toJSON=Tt.prototype.valueOf=Tt.prototype.value=Dv,Tt.prototype.first=Tt.prototype.head,Ha&&(Tt.prototype[Ha]=Vf),Tt}),Mo=$c();_s?((_s.exports=Mo)._=Mo,ws._=Mo):ha._=Mo}).call($Mt)})(Lw,Lw.exports)),Lw.exports}var XMt=VMt();const vR=Al(XMt);gi.register(qr,Ji,Fa,Xr,pa,Qi,sr,dh);const AP=[{label:"7 ngy",days:7,urlParam:"7"},{label:"30 ngy",days:30,urlParam:"30"},{label:"90 ngy",days:90,urlParam:"90"},{label:"1 nm",days:365,urlParam:"365"},{label:"Tt c",days:9999,urlParam:"all"}];function Q7({dataGoldTrust:n,urlParams:t}){const e=Gi(),i=no(),a=new URLSearchParams(i.search).get("duration")||"7",s=AP.find(A=>A.urlParam===a)||AP[1],o=A=>{const T=new URLSearchParams(i.search);T.set("duration",A),e(`${i.pathname}?${T.toString()}`,{replace:!0})},{chartLabels:l,datasets:c,rawFilteredData:h}=N.useMemo(()=>{if(!n?.data?.dates)return{chartLabels:[],datasets:[],rawFilteredData:[]};let A=vR.cloneDeep(n.data.dates);A.sort((J,nt)=>new Date(J.dt)-new Date(nt.dt));const T=A.map((J,nt)=>{const V=nt===0?J.amount:A[nt-1].amount,Z=J.change!==void 0?J.change:J.amount-V;return{...J,calculatedChange:Z,displayHoldings:J.amount-Math.abs(Z)*10}}),R=s.days,G=R>=9999?T:T.slice(-R),z=G.map(J=>{const nt=new Date(J.dt),V=String(nt.getDate()).padStart(2,"0"),Z=String(nt.getMonth()+1).padStart(2,"0"),rt=nt.getFullYear();return R<=30?`${V}/${Z}`:`${V}/${Z}/${rt}`}),F=G.map(J=>Math.abs(J.calculatedChange)*10),H=G.map(J=>J.calculatedChange>=0?"#39CF96":"#E74C3C");G.map(J=>J.displayHoldings);const Y=[{type:"line",label:"Mua / Bn (Line)",data:G.map(J=>J.calculatedChange),borderColor:"#39CF96",backgroundColor:"#39CF96",yAxisID:"y1",tension:.3,pointRadius:2},{type:"bar",label:"Thay i",data:F,backgroundColor:H,yAxisID:"y2",stack:"stack1",barThickness:"flex",realValues:G.map(J=>J.calculatedChange)},{type:"bar",label:"SL nm gi",data:G.map(J=>J.amount-Math.abs(J.calculatedChange)*10),backgroundColor:"#FFF443",yAxisID:"y2",stack:"stack1",barThickness:"flex",realValues:G.map(J=>J.amount)}];return{chartLabels:z,datasets:Y,rawFilteredData:G}},[n,s.days]),d={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y1:{position:"left",title:{display:!0,text:"Mua / Bn (tn)",color:"white"},grid:{drawOnChartArea:!1}},y2:{position:"right",title:{display:!0,text:"Tng lng nm gi (tn)",color:"white"},grid:{drawOnChartArea:!1}}},plugins:{tooltip:{callbacks:{title:A=>{const T=A[0].dataIndex,R=h[T]?.dt;return R?new Date(R).toLocaleDateString("vi-VN"):""},label:A=>{const T=A.dataIndex,R=h[T],G=A.dataset.label;if(G==="SL nm gi"){const z=R.amount,F=R.calculatedChange,H=F>0?"+":"";return`SL nm gi: ${z} tn (${H}${F.toFixed(2)})`}return G==="Thay i"?`Thay i: ${Math.abs(R.calculatedChange).toFixed(2)} tn`:G==="Mua / Bn (Line)"?`Mua bn: ${R.calculatedChange.toFixed(2)} tn`:`${G}: ${A.raw}`}}},zoom:{pan:{enabled:i.pathname.includes("quy-dau-tu"),mode:"x"},zoom:{wheel:{enabled:i.pathname.includes("quy-dau-tu")},pinch:{enabled:i.pathname.includes("quy-dau-tu")},mode:"x"}}}};if(!n)return u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti..."})]});const g=(A,T)=>T==null||T===0?null:(A-T)/T*100,y=N.useMemo(()=>{if(!h||h.length<2)return{};const A=G=>G?.amount??0,T=A(h[h.length-1]),R=G=>{const z=h.length-1-G;return z>=0?A(h[z]):null};return{day1:g(T,R(1)),day2:g(T,R(2)),day3:g(T,R(3)),day4:g(T,R(4)),week1:g(T,R(7))}},[h]),x=N.useMemo(()=>{if(!h||h.length===0)return null;const A=h[h.length-1];if(!A?.dt)return null;const T=new Date(A.dt),R=String(T.getDate()).padStart(2,"0"),G=String(T.getMonth()+1).padStart(2,"0"),z=T.getFullYear();return`${R}/${G}/${z}`},[h]),w=N.useMemo(()=>!h||h.length===0?null:h.reduce((T,R)=>T+(R?.amount??0),0)/h.length,[h]),k=N.useMemo(()=>{if(!h||h.length<2)return null;const A=h[h.length-1],T=h[h.length-2];if(A?.amount==null||T?.amount==null||A?.gold_price==null)return null;const R=A.amount-T.amount,G=Math.abs(R)/31.1034768*1e6*A.gold_price;return{changeTon:R,isBuy:R>0,isZero:R===0,valueBillionUSD:G/1e9}},[h]);return u.jsxs("div",{children:[u.jsx("h4",{style:{fontSize:"1.8rem",fontWeight:700,color:"#ffd700",textAlign:"center",marginTop:"40px",cursor:"pointer"},onClick:()=>e(`/quy-dau-tu/${t.day}/${t.month}/${t.year}/${t.hour}/${t.minute}`),children:"Biu  SPDR Gold Trust"}),u.jsx("div",{className:"gc-main-box",children:u.jsxs("div",{className:"gc-split-layout",children:[u.jsx("div",{className:"gc-left-panel",children:u.jsxs("div",{className:"gc-toolbar",children:[u.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:"10px 0"},children:AP.map(A=>u.jsx("button",{onClick:()=>o(A.urlParam),style:{padding:"8px 15px",margin:"5px",borderRadius:"8px",border:"none",cursor:"pointer",background:s.urlParam===A.urlParam?"#FFF443":"#494A50",color:s.urlParam===A.urlParam?"#000":"#FFF",fontWeight:s.urlParam===A.urlParam?"bold":"normal"},children:A.label},A.urlParam))}),u.jsx("label",{className:"gc-label",children:"T l thay i:"}),Object.keys(y).length>0&&u.jsx("div",{className:"gc-percentage-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"}].map(({key:A,label:T})=>y[A]!=null&&u.jsxs("div",{className:`gc-percent-item ${y[A]>=0?"up":"down"}`,children:[u.jsxs("span",{className:"label",children:["Trong ",T]}),u.jsxs("span",{className:"value",children:[y[A]>=0?"+":"",y[A].toFixed(2),"%"]})]},A))}),w!=null&&u.jsxs("div",{className:"gc-avg-box",children:[u.jsx("label",{className:"gc-label2",children:"S lng nm gi trung bnh"}),u.jsxs("div",{className:"gc-avg-value",children:[w.toFixed(2)," ",u.jsx("span",{children:"Tn"})]}),u.jsxs("div",{className:"gc-avg-sub",children:["Trung bnh trong ",s.label.toLowerCase()]})]}),x&&u.jsxs("div",{className:"gc-update-box",children:[u.jsx("label",{className:"gc-label2",children:"D liu c cp nht ln cui:"}),u.jsx("div",{className:"gc-update-item",children:x})]}),k&&u.jsxs("div",{className:"gc-avg-box",children:[u.jsx("label",{className:"gc-label2",children:k.isBuy?"Mua rng trong 1 ngy":k.isZero?"Khng c giao dch rng":"Bn rng trong 1 ngy"}),u.jsx("div",{className:"gc-avg-value",style:{color:k.isZero?"#B2B2B2":k.isBuy?"#39CF96":"#E74C3C"},children:k.isZero?"0 USD":`${k.isBuy?"+":"-"}${k.valueBillionUSD.toFixed(2)} T USD`}),u.jsx("div",{className:"gc-avg-sub",children:"Tnh t thay i s lng & gi vng"})]})]})}),u.jsx("div",{className:"gc-right-panel",children:u.jsx("div",{style:{height:"520px",padding:"20px"},children:u.jsx(xa,{data:{labels:l,datasets:c},options:d})})})]})})]})}function qMt(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"},child:[]}]})(n)}function KMt(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"},child:[]}]})(n)}gi.register(qr,Ji,Fa,Xr,pa,Qi,sr,dh);const TP=[{label:"7 ngy",days:7,urlParam:"7"},{label:"30 ngy",days:30,urlParam:"30"},{label:"90 ngy",days:90,urlParam:"90"},{label:"1 nm",days:365,urlParam:"365"},{label:"Tt c",days:9999,urlParam:"all"}],ZMt=(n,t=2)=>n==null||isNaN(n)?0:(Number(n)/1e6).toFixed(t),Vk=n=>new Intl.NumberFormat("en-US").format(n),MP=n=>({cursor:"pointer",padding:"8px",borderRadius:"6px",backgroundColor:"#f0f2f5",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",border:`1px solid ${n?"#007bff":"#ddd"}`,color:n?"#007bff":"#666"});function J7({dataSilverTrust:n}){const t=Gi(),e=no(),[i,r]=N.useState("bar"),s=new URLSearchParams(e.search).get("duration")||"7",o=TP.find(Z=>Z.urlParam===s)||TP[0],l=o.days,{liveData:c}=U_(),h=N.useMemo(()=>{const Z=v9(c);return Z?.sell??Z?.buy??null},[c]),{chartLabels:d,chartDataValues:g,chartColors:y,rawDataFiltered:x}=N.useMemo(()=>{if(!n?.data?.dates)return{chartLabels:[],chartDataValues:{},chartColors:[],rawDataFiltered:[]};let Z=vR.cloneDeep(n.data.dates);Z.sort((vt,St)=>new Date(vt.dt)-new Date(St.dt));const rt=l>=9999?Z:Z.slice(-l),lt=[],mt=[],ct=[],st=[],xt=[],dt=[],ht=[],ot=[];return rt.forEach((vt,St)=>{const Pt=new Date(vt.dt),It=String(Pt.getDate()).padStart(2,"0"),Nt=String(Pt.getMonth()+1).padStart(2,"0"),Et=Pt.getFullYear();lt.push(l<=30?`${It}/${Nt}`:`${It}/${Nt}/${Et}`);const Yt=vt?.amount||0,Rt=vt?.change||0,ee=vt?.rsi||xt[St-1];mt.push(Yt),ct.push(Rt),xt.push(ee),st.push(ZMt(vt?.total_value_usd)),ht.push(vt?.silver_price??ht[St-1]??null),ot.push(vt?.chiso_sucmanh||ot[St-1]),Rt>0?dt.push("#32CD32"):Rt<0?dt.push("#FF4444"):dt.push("#B2B2B2")}),{chartLabels:lt,chartDataValues:{holding:mt,changeVal:ct,totalVal:st,rsiVal:xt,priceSilver:ht,powerIndex:ot},chartColors:dt,rawDataFiltered:rt}},[n,l]),w=Z=>{const rt=new URLSearchParams(e.search);rt.set("duration",Z),t(`${e.pathname}?${rt.toString()}`,{replace:!0})},k={labels:d,datasets:[{type:"line",label:"Thay i",data:g.changeVal,borderColor:"#ef0808",backgroundColor:"#ef0808",yAxisID:"y2",tension:.3,pointRadius:2,order:1},{type:"bar",label:"SL nm gi",data:g.holding,backgroundColor:"#B2B2B2",yAxisID:"y1",barThickness:"flex",order:3},{type:"line",label:"Gi bc",data:g.priceSilver,borderColor:"#0c08ef",backgroundColor:"#0c08ef",yAxisID:"y2",tension:.3,pointRadius:2,order:2}]},A={labels:d,datasets:[{type:"line",label:"Tng gi tr ($M)",data:g.totalVal,borderColor:"#4A8BC2",yAxisID:"yRight",tension:.3,pointRadius:2,fill:!0,backgroundColor:Z=>{const lt=Z.chart.ctx.createLinearGradient(0,0,0,300);return lt.addColorStop(0,"rgba(74, 139, 194, 0.3)"),lt.addColorStop(1,"rgba(74, 139, 194, 0)"),lt}}]},T={labels:d,datasets:[{type:"line",label:"Thay i (Tn)",data:g.changeVal,borderColor:"#FF4444",backgroundColor:"#FF4444",yAxisID:"yRight",tension:.3,pointRadius:2,borderDash:[5,5]}]},R={labels:d,datasets:[{type:"line",label:"S lng nm gi (tn)",data:g.holding,borderColor:"#1ecdf4",yAxisID:"yRight",tension:.3,pointRadius:2,fill:!0,backgroundColor:Z=>{const lt=Z.chart.ctx.createLinearGradient(0,0,0,300);return lt.addColorStop(0,"rgba(14, 209, 253, 0.3)"),lt.addColorStop(1,"rgba(75, 135, 154, 0)"),lt}}]},G={labels:d,datasets:[{type:"line",label:"Ch s RSI",data:g.rsiVal,borderColor:"#b80081",yAxisID:"yRight",tension:.3,pointRadius:2},{type:"line",label:"Ch s sc mnh",data:g.powerIndex,borderColor:"#ef7605",yAxisID:"yLeft",tension:.3,pointRadius:2}]},z={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{color:"gray"},grid:{display:!1},stacked:!0},y1:{position:"left",title:{display:!0,text:"SL nm gi (tn)",color:"#fff"},grid:{drawOnChartArea:!1}},y2:{position:"right",title:{display:!0,text:"Thay i(tn) / Gi bc(USD)",color:"#fff"},grid:{color:"#333"}}},plugins:{legend:{labels:{color:"#fff"}},zoom:{pan:{enabled:e.pathname.includes("quy-dau-tu"),mode:"x"},zoom:{wheel:{enabled:e.pathname.includes("quy-dau-tu")},pinch:{enabled:e.pathname.includes("quy-dau-tu")},mode:"x"}}}},F=(Z,rt,lt="left")=>({responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{color:"gray"},grid:{display:!1}},[rt]:{position:lt,title:{display:!0,text:Z,color:"#fff"},grid:{color:"#333"}}},plugins:{legend:{labels:{color:"#fff"}},tooltip:{callbacks:{label:mt=>`${mt.dataset.label}: ${Vk(mt.parsed.y)}`}},zoom:{pan:{enabled:e.pathname.includes("quy-dau-tu"),mode:"x"},zoom:{wheel:{enabled:e.pathname.includes("quy-dau-tu")},pinch:{enabled:e.pathname.includes("quy-dau-tu")},mode:"x"}}}});if(!n)return u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti..."})]});const H=(Z,rt)=>rt==null||rt===0?null:(Z-rt)/rt*100,Y=N.useMemo(()=>{if(!x||x.length<2)return{};const Z=mt=>mt?.amount??0,rt=Z(x[x.length-1]),lt=mt=>{const ct=x.length-1-mt;return ct>=0?Z(x[ct]):null};return{day1:H(rt,lt(1)),day2:H(rt,lt(2)),day3:H(rt,lt(3)),day4:H(rt,lt(4)),week1:H(rt,lt(7))}},[x]),J=N.useMemo(()=>{if(!x||x.length===0)return null;const Z=x[x.length-1];if(!Z?.dt)return null;const rt=new Date(Z.dt),lt=String(rt.getDate()).padStart(2,"0"),mt=String(rt.getMonth()+1).padStart(2,"0"),ct=rt.getFullYear();return`${lt}/${mt}/${ct}`},[x]),nt=N.useMemo(()=>!x||x.length===0?null:x.reduce((rt,lt)=>rt+(lt?.amount??0),0)/x.length,[x]),V=N.useMemo(()=>{if(!x||x.length===0||!h)return null;const Z=x.length-1,rt=g.changeVal[Z];if(rt==null)return null;const lt=Math.abs(rt)*1e6/31.1034768*h;return{isBuy:rt>0,isZero:rt===0,valueBillionUSD:lt/1e9}},[x,g,h]);return u.jsxs("div",{children:[u.jsxs("div",{style:{margin:"40px 0 10px",position:"relative"},children:[u.jsx("h4",{style:{fontSize:"1.8rem",fontWeight:700,color:"#B2B2B2",textAlign:"center"},children:"Biu  iShares Silver Trust"}),u.jsxs("div",{style:{position:"absolute",right:"35px",top:"20%",display:"flex",gap:"8px"},children:[u.jsx("span",{style:MP(i==="bar"),onClick:()=>r("bar"),children:u.jsx(Dlt,{size:"1.25rem"})}),u.jsx("span",{style:MP(i==="line"),onClick:()=>r("line"),children:u.jsx(qMt,{size:"1.25rem"})}),u.jsx("span",{style:MP(i==="table"),onClick:()=>r("table"),children:u.jsx(not,{size:"1.25rem"})})]})]}),u.jsxs("div",{className:"sc-main-box",children:[u.jsxs("div",{className:"sc-split-layout",children:[u.jsx("div",{className:"sc-left-panel",children:u.jsxs("div",{className:"sc-toolbar",children:[u.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:"10px 0"},children:TP.map(Z=>u.jsx("button",{onClick:()=>w(Z.urlParam),style:{padding:"8px 15px",margin:"5px",borderRadius:"8px",border:"none",cursor:"pointer",background:o.urlParam===Z.urlParam?"#FFF443":"#494A50",color:o.urlParam===Z.urlParam?"#000":"#FFF",fontWeight:o.urlParam===Z.urlParam?"bold":"normal"},children:Z.label},Z.urlParam))}),u.jsx("label",{className:"sc-label",children:"T l thay i:"}),Object.keys(Y).length>0&&u.jsx("div",{className:"sc-percentage-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"}].map(({key:Z,label:rt})=>Y[Z]!=null&&u.jsxs("div",{className:`sc-percent-item ${Y[Z]>=0?"up":"down"}`,children:[u.jsxs("span",{className:"label",children:["Trong ",rt]}),u.jsxs("span",{className:"value",children:[Y[Z]>=0?"+":"",Y[Z].toFixed(2),"%"]})]},Z))}),nt!=null&&u.jsxs("div",{className:"sc-avg-box",children:[u.jsx("label",{className:"sc-label2",children:"S lng nm gi trung bnh"}),u.jsxs("div",{className:"sc-avg-value",children:[Vk(nt.toFixed(2))," ",u.jsx("span",{children:"Tn"})]}),u.jsxs("div",{className:"sc-avg-sub",children:["Trung bnh trong ",o.label.toLowerCase()]})]}),J&&u.jsxs("div",{className:"sc-update-box",children:[u.jsx("label",{className:"sc-label2",children:"D liu c cp nht ln cui:"}),u.jsx("div",{className:"sc-update-item",children:J})]}),V&&u.jsxs("div",{className:"sc-avg-box",children:[u.jsx("label",{className:"sc-label2",children:V.isZero?"Khng c giao dch rng":V.isBuy?"Mua rng trong 1 ngy":"Bn rng trong 1 ngy"}),u.jsx("div",{className:"sc-avg-value",style:{color:V.isZero?"#B2B2B2":V.isBuy?"#32CD32":"#FF4444"},children:V.isZero?"0 USD":`${V.isBuy?"+":"-"}${V.valueBillionUSD.toFixed(2)} T USD`}),u.jsx("div",{className:"sc-avg-sub",children:"Tnh theo thay i s lng & gi bc"})]})]})}),u.jsxs("div",{className:"sc-right-panel",children:[i==="bar"&&u.jsx("div",{style:{height:"500px",padding:"20px"},children:u.jsx(xa,{data:k,options:z})}),i==="line"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{height:"300px",padding:"20px"},children:u.jsx(xa,{data:R,options:F("S lng nm gi","yRight","right")})}),u.jsx("div",{style:{height:"300px",padding:"20px"},children:u.jsx(xa,{data:A,options:F("Tng gi tr ($M)","yRight","right")})}),u.jsx("div",{style:{height:"300px",padding:"20px"},children:u.jsx(xa,{data:T,options:F("Thay i","yRight","right")})})]}),i==="table"&&u.jsx("div",{style:{height:"100%",overflowX:"auto",color:"#fff"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"right",minWidth:"500px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{borderBottom:"1px solid #555",color:"#ccc"},children:[u.jsx("th",{style:{padding:"10px",textAlign:"left"},children:"Ngy"}),u.jsx("th",{style:{padding:"10px"},children:"S lng (Tn)"}),u.jsx("th",{style:{padding:"10px"},children:"Thay i"}),u.jsx("th",{style:{padding:"10px"},children:"Gi tr ($M)"})]})}),u.jsx("tbody",{children:[...x].reverse().map((Z,rt)=>{const lt=x.length-1-rt,mt=g.changeVal[lt],ct=mt>0?"#32CD32":mt<0?"#FF4444":"#ccc";return u.jsxs("tr",{style:{borderBottom:"1px solid #333",backgroundColor:rt%2===0?"transparent":"rgba(255,255,255,0.03)"},children:[u.jsx("td",{style:{padding:"10px",textAlign:"left"},children:d[lt]}),u.jsx("td",{style:{padding:"10px"},children:Vk(Z.amount)}),u.jsxs("td",{style:{padding:"10px",color:ct},children:[mt>0?"+":"",Vk(mt)]}),u.jsx("td",{style:{padding:"10px"},children:g.totalVal[lt]})]},rt)})})]})})]})]}),u.jsx("div",{style:{height:"300px",marginBottom:"30px",padding:"20px"},children:u.jsx(xa,{data:G,options:F("RSI","yRight","right")})})]})]})}const QMt=n=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?n.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):n,JMt=QMt("https://api_gold.thinkdiff.us/phantich_fear"),tNt=async()=>{try{const n=await fetch(JMt);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const t=await n.json();if(t.status==="success"&&t.chi_so_noi_so)return[...t.chi_so_noi_so].sort((i,r)=>new Date(i.id_time)-new Date(r.id_time));throw new Error("Invalid data structure")}catch(n){throw console.error("Error fetching fear index:",n),n}},eNt=(n,t)=>!n||n.length===0?[]:n.slice(-t),Vb=Math.min,Tx=Math.max,Q2=Math.round,Xk=Math.floor,_g=n=>({x:n,y:n}),nNt={left:"right",right:"left",bottom:"top",top:"bottom"},iNt={start:"end",end:"start"};function Qj(n,t,e){return Tx(n,Vb(t,e))}function SS(n,t){return typeof n=="function"?n(t):n}function Bx(n){return n.split("-")[0]}function kS(n){return n.split("-")[1]}function tq(n){return n==="x"?"y":"x"}function xR(n){return n==="y"?"height":"width"}const rNt=new Set(["top","bottom"]);function Oy(n){return rNt.has(Bx(n))?"y":"x"}function bR(n){return tq(Oy(n))}function aNt(n,t,e){e===void 0&&(e=!1);const i=kS(n),r=bR(n),a=xR(r);let s=r==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=J2(s)),[s,J2(s)]}function sNt(n){const t=J2(n);return[Jj(n),t,Jj(t)]}function Jj(n){return n.replace(/start|end/g,t=>iNt[t])}const E4=["left","right"],j4=["right","left"],oNt=["top","bottom"],lNt=["bottom","top"];function cNt(n,t,e){switch(n){case"top":case"bottom":return e?t?j4:E4:t?E4:j4;case"left":case"right":return t?oNt:lNt;default:return[]}}function uNt(n,t,e,i){const r=kS(n);let a=cNt(Bx(n),e==="start",i);return r&&(a=a.map(s=>s+"-"+r),t&&(a=a.concat(a.map(Jj)))),a}function J2(n){return n.replace(/left|right|bottom|top/g,t=>nNt[t])}function hNt(n){return{top:0,right:0,bottom:0,left:0,...n}}function eq(n){return typeof n!="number"?hNt(n):{top:n,right:n,bottom:n,left:n}}function tA(n){const{x:t,y:e,width:i,height:r}=n;return{width:i,height:r,top:e,left:t,right:t+i,bottom:e+r,x:t,y:e}}function D4(n,t,e){let{reference:i,floating:r}=n;const a=Oy(t),s=bR(t),o=xR(s),l=Bx(t),c=a==="y",h=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,g=i[o]/2-r[o]/2;let y;switch(l){case"top":y={x:h,y:i.y-r.height};break;case"bottom":y={x:h,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:d};break;case"left":y={x:i.x-r.width,y:d};break;default:y={x:i.x,y:i.y}}switch(kS(t)){case"start":y[s]-=g*(e&&c?-1:1);break;case"end":y[s]+=g*(e&&c?-1:1);break}return y}const dNt=async(n,t,e)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:s}=e,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:n,floating:t,strategy:r}),{x:h,y:d}=D4(c,i,l),g=i,y={},x=0;for(let w=0;w<o.length;w++){const{name:k,fn:A}=o[w],{x:T,y:R,data:G,reset:z}=await A({x:h,y:d,initialPlacement:i,placement:g,strategy:r,middlewareData:y,rects:c,platform:s,elements:{reference:n,floating:t}});h=T??h,d=R??d,y={...y,[k]:{...y[k],...G}},z&&x<=50&&(x++,typeof z=="object"&&(z.placement&&(g=z.placement),z.rects&&(c=z.rects===!0?await s.getElementRects({reference:n,floating:t,strategy:r}):z.rects),{x:h,y:d}=D4(c,g,l)),w=-1)}return{x:h,y:d,placement:g,strategy:r,middlewareData:y}};async function nq(n,t){var e;t===void 0&&(t={});const{x:i,y:r,platform:a,rects:s,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:g=!1,padding:y=0}=SS(t,n),x=eq(y),k=o[g?d==="floating"?"reference":"floating":d],A=tA(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(k)))==null||e?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),T=d==="floating"?{x:i,y:r,width:s.floating.width,height:s.floating.height}:s.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),G=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},z=tA(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:T,offsetParent:R,strategy:l}):T);return{top:(A.top-z.top+x.top)/G.y,bottom:(z.bottom-A.bottom+x.bottom)/G.y,left:(A.left-z.left+x.left)/G.x,right:(z.right-A.right+x.right)/G.x}}const fNt=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:i,placement:r,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:h=0}=SS(n,t)||{};if(c==null)return{};const d=eq(h),g={x:e,y:i},y=bR(r),x=xR(y),w=await s.getDimensions(c),k=y==="y",A=k?"top":"left",T=k?"bottom":"right",R=k?"clientHeight":"clientWidth",G=a.reference[x]+a.reference[y]-g[y]-a.floating[x],z=g[y]-a.reference[y],F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let H=F?F[R]:0;(!H||!await(s.isElement==null?void 0:s.isElement(F)))&&(H=o.floating[R]||a.floating[x]);const Y=G/2-z/2,J=H/2-w[x]/2-1,nt=Vb(d[A],J),V=Vb(d[T],J),Z=nt,rt=H-w[x]-V,lt=H/2-w[x]/2+Y,mt=Qj(Z,lt,rt),ct=!l.arrow&&kS(r)!=null&&lt!==mt&&a.reference[x]/2-(lt<Z?nt:V)-w[x]/2<0,st=ct?lt<Z?lt-Z:lt-rt:0;return{[y]:g[y]+st,data:{[y]:mt,centerOffset:lt-mt-st,...ct&&{alignmentOffset:st}},reset:ct}}}),gNt=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:r,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...k}=SS(n,t);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const A=Bx(r),T=Oy(o),R=Bx(o)===o,G=await(l.isRTL==null?void 0:l.isRTL(c.floating)),z=g||(R||!w?[J2(o)]:sNt(o)),F=x!=="none";!g&&F&&z.push(...uNt(o,w,x,G));const H=[o,...z],Y=await nq(t,k),J=[];let nt=((i=a.flip)==null?void 0:i.overflows)||[];if(h&&J.push(Y[A]),d){const lt=aNt(r,s,G);J.push(Y[lt[0]],Y[lt[1]])}if(nt=[...nt,{placement:r,overflows:J}],!J.every(lt=>lt<=0)){var V,Z;const lt=(((V=a.flip)==null?void 0:V.index)||0)+1,mt=H[lt];if(mt&&(!(d==="alignment"?T!==Oy(mt):!1)||nt.every(xt=>Oy(xt.placement)===T?xt.overflows[0]>0:!0)))return{data:{index:lt,overflows:nt},reset:{placement:mt}};let ct=(Z=nt.filter(st=>st.overflows[0]<=0).sort((st,xt)=>st.overflows[1]-xt.overflows[1])[0])==null?void 0:Z.placement;if(!ct)switch(y){case"bestFit":{var rt;const st=(rt=nt.filter(xt=>{if(F){const dt=Oy(xt.placement);return dt===T||dt==="y"}return!0}).map(xt=>[xt.placement,xt.overflows.filter(dt=>dt>0).reduce((dt,ht)=>dt+ht,0)]).sort((xt,dt)=>xt[1]-dt[1])[0])==null?void 0:rt[0];st&&(ct=st);break}case"initialPlacement":ct=o;break}if(r!==ct)return{reset:{placement:ct}}}return{}}}},pNt=new Set(["left","top"]);async function mNt(n,t){const{placement:e,platform:i,elements:r}=n,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),s=Bx(e),o=kS(e),l=Oy(e)==="y",c=pNt.has(s)?-1:1,h=a&&l?-1:1,d=SS(t,n);let{mainAxis:g,crossAxis:y,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof x=="number"&&(y=o==="end"?x*-1:x),l?{x:y*h,y:g*c}:{x:g*c,y:y*h}}const yNt=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:r,y:a,placement:s,middlewareData:o}=t,l=await mNt(t,n);return s===((e=o.offset)==null?void 0:e.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:a+l.y,data:{...l,placement:s}}}}},vNt=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:r}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:k=>{let{x:A,y:T}=k;return{x:A,y:T}}},...l}=SS(n,t),c={x:e,y:i},h=await nq(t,l),d=Oy(Bx(r)),g=tq(d);let y=c[g],x=c[d];if(a){const k=g==="y"?"top":"left",A=g==="y"?"bottom":"right",T=y+h[k],R=y-h[A];y=Qj(T,y,R)}if(s){const k=d==="y"?"top":"left",A=d==="y"?"bottom":"right",T=x+h[k],R=x-h[A];x=Qj(T,x,R)}const w=o.fn({...t,[g]:y,[d]:x});return{...w,data:{x:w.x-e,y:w.y-i,enabled:{[g]:a,[d]:s}}}}}};function hT(){return typeof window<"u"}function w1(n){return iq(n)?(n.nodeName||"").toLowerCase():"#document"}function oh(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Dg(n){var t;return(t=(iq(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function iq(n){return hT()?n instanceof Node||n instanceof oh(n).Node:!1}function ff(n){return hT()?n instanceof Element||n instanceof oh(n).Element:!1}function Ng(n){return hT()?n instanceof HTMLElement||n instanceof oh(n).HTMLElement:!1}function O4(n){return!hT()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof oh(n).ShadowRoot}const xNt=new Set(["inline","contents"]);function CS(n){const{overflow:t,overflowX:e,overflowY:i,display:r}=gf(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!xNt.has(r)}const bNt=new Set(["table","td","th"]);function wNt(n){return bNt.has(w1(n))}const _Nt=[":popover-open",":modal"];function dT(n){return _Nt.some(t=>{try{return n.matches(t)}catch{return!1}})}const SNt=["transform","translate","scale","rotate","perspective"],kNt=["transform","translate","scale","rotate","perspective","filter"],CNt=["paint","layout","strict","content"];function wR(n){const t=_R(),e=ff(n)?gf(n):n;return SNt.some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||kNt.some(i=>(e.willChange||"").includes(i))||CNt.some(i=>(e.contain||"").includes(i))}function ANt(n){let t=Xy(n);for(;Ng(t)&&!Xb(t);){if(wR(t))return t;if(dT(t))return null;t=Xy(t)}return null}function _R(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TNt=new Set(["html","body","#document"]);function Xb(n){return TNt.has(w1(n))}function gf(n){return oh(n).getComputedStyle(n)}function fT(n){return ff(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Xy(n){if(w1(n)==="html")return n;const t=n.assignedSlot||n.parentNode||O4(n)&&n.host||Dg(n);return O4(t)?t.host:t}function rq(n){const t=Xy(n);return Xb(t)?n.ownerDocument?n.ownerDocument.body:n.body:Ng(t)&&CS(t)?t:rq(t)}function N_(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=rq(n),a=r===((i=n.ownerDocument)==null?void 0:i.body),s=oh(r);if(a){const o=tD(s);return t.concat(s,s.visualViewport||[],CS(r)?r:[],o&&e?N_(o):[])}return t.concat(r,N_(r,[],e))}function tD(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function aq(n){const t=gf(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=Ng(n),a=r?n.offsetWidth:e,s=r?n.offsetHeight:i,o=Q2(e)!==a||Q2(i)!==s;return o&&(e=a,i=s),{width:e,height:i,$:o}}function SR(n){return ff(n)?n:n.contextElement}function Tb(n){const t=SR(n);if(!Ng(t))return _g(1);const e=t.getBoundingClientRect(),{width:i,height:r,$:a}=aq(t);let s=(a?Q2(e.width):e.width)/i,o=(a?Q2(e.height):e.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const MNt=_g(0);function sq(n){const t=oh(n);return!_R()||!t.visualViewport?MNt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function NNt(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==oh(n)?!1:t}function Hx(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=n.getBoundingClientRect(),a=SR(n);let s=_g(1);t&&(i?ff(i)&&(s=Tb(i)):s=Tb(n));const o=NNt(a,e,i)?sq(a):_g(0);let l=(r.left+o.x)/s.x,c=(r.top+o.y)/s.y,h=r.width/s.x,d=r.height/s.y;if(a){const g=oh(a),y=i&&ff(i)?oh(i):i;let x=g,w=tD(x);for(;w&&i&&y!==x;){const k=Tb(w),A=w.getBoundingClientRect(),T=gf(w),R=A.left+(w.clientLeft+parseFloat(T.paddingLeft))*k.x,G=A.top+(w.clientTop+parseFloat(T.paddingTop))*k.y;l*=k.x,c*=k.y,h*=k.x,d*=k.y,l+=R,c+=G,x=oh(w),w=tD(x)}}return tA({width:h,height:d,x:l,y:c})}function gT(n,t){const e=fT(n).scrollLeft;return t?t.left+e:Hx(Dg(n)).left+e}function oq(n,t){const e=n.getBoundingClientRect(),i=e.left+t.scrollLeft-gT(n,e),r=e.top+t.scrollTop;return{x:i,y:r}}function PNt(n){let{elements:t,rect:e,offsetParent:i,strategy:r}=n;const a=r==="fixed",s=Dg(i),o=t?dT(t.floating):!1;if(i===s||o&&a)return e;let l={scrollLeft:0,scrollTop:0},c=_g(1);const h=_g(0),d=Ng(i);if((d||!d&&!a)&&((w1(i)!=="body"||CS(s))&&(l=fT(i)),Ng(i))){const y=Hx(i);c=Tb(i),h.x=y.x+i.clientLeft,h.y=y.y+i.clientTop}const g=s&&!d&&!a?oq(s,l):_g(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+h.x+g.x,y:e.y*c.y-l.scrollTop*c.y+h.y+g.y}}function ENt(n){return Array.from(n.getClientRects())}function jNt(n){const t=Dg(n),e=fT(n),i=n.ownerDocument.body,r=Tx(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Tx(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let s=-e.scrollLeft+gT(n);const o=-e.scrollTop;return gf(i).direction==="rtl"&&(s+=Tx(t.clientWidth,i.clientWidth)-r),{width:r,height:a,x:s,y:o}}const L4=25;function DNt(n,t){const e=oh(n),i=Dg(n),r=e.visualViewport;let a=i.clientWidth,s=i.clientHeight,o=0,l=0;if(r){a=r.width,s=r.height;const h=_R();(!h||h&&t==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}const c=gT(i);if(c<=0){const h=i.ownerDocument,d=h.body,g=getComputedStyle(d),y=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,x=Math.abs(i.clientWidth-d.clientWidth-y);x<=L4&&(a-=x)}else c<=L4&&(a+=c);return{width:a,height:s,x:o,y:l}}const ONt=new Set(["absolute","fixed"]);function LNt(n,t){const e=Hx(n,!0,t==="fixed"),i=e.top+n.clientTop,r=e.left+n.clientLeft,a=Ng(n)?Tb(n):_g(1),s=n.clientWidth*a.x,o=n.clientHeight*a.y,l=r*a.x,c=i*a.y;return{width:s,height:o,x:l,y:c}}function R4(n,t,e){let i;if(t==="viewport")i=DNt(n,e);else if(t==="document")i=jNt(Dg(n));else if(ff(t))i=LNt(t,e);else{const r=sq(n);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return tA(i)}function lq(n,t){const e=Xy(n);return e===t||!ff(e)||Xb(e)?!1:gf(e).position==="fixed"||lq(e,t)}function RNt(n,t){const e=t.get(n);if(e)return e;let i=N_(n,[],!1).filter(o=>ff(o)&&w1(o)!=="body"),r=null;const a=gf(n).position==="fixed";let s=a?Xy(n):n;for(;ff(s)&&!Xb(s);){const o=gf(s),l=wR(s);!l&&o.position==="fixed"&&(r=null),(a?!l&&!r:!l&&o.position==="static"&&!!r&&ONt.has(r.position)||CS(s)&&!l&&lq(n,s))?i=i.filter(h=>h!==s):r=o,s=Xy(s)}return t.set(n,i),i}function INt(n){let{element:t,boundary:e,rootBoundary:i,strategy:r}=n;const s=[...e==="clippingAncestors"?dT(t)?[]:RNt(t,this._c):[].concat(e),i],o=s[0],l=s.reduce((c,h)=>{const d=R4(t,h,r);return c.top=Tx(d.top,c.top),c.right=Vb(d.right,c.right),c.bottom=Vb(d.bottom,c.bottom),c.left=Tx(d.left,c.left),c},R4(t,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zNt(n){const{width:t,height:e}=aq(n);return{width:t,height:e}}function FNt(n,t,e){const i=Ng(t),r=Dg(t),a=e==="fixed",s=Hx(n,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=_g(0);function c(){l.x=gT(r)}if(i||!i&&!a)if((w1(t)!=="body"||CS(r))&&(o=fT(t)),i){const y=Hx(t,!0,a,t);l.x=y.x+t.clientLeft,l.y=y.y+t.clientTop}else r&&c();a&&!i&&r&&c();const h=r&&!i&&!a?oq(r,o):_g(0),d=s.left+o.scrollLeft-l.x-h.x,g=s.top+o.scrollTop-l.y-h.y;return{x:d,y:g,width:s.width,height:s.height}}function NP(n){return gf(n).position==="static"}function I4(n,t){if(!Ng(n)||gf(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Dg(n)===e&&(e=e.ownerDocument.body),e}function cq(n,t){const e=oh(n);if(dT(n))return e;if(!Ng(n)){let r=Xy(n);for(;r&&!Xb(r);){if(ff(r)&&!NP(r))return r;r=Xy(r)}return e}let i=I4(n,t);for(;i&&wNt(i)&&NP(i);)i=I4(i,t);return i&&Xb(i)&&NP(i)&&!wR(i)?e:i||ANt(n)||e}const BNt=async function(n){const t=this.getOffsetParent||cq,e=this.getDimensions,i=await e(n.floating);return{reference:FNt(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function HNt(n){return gf(n).direction==="rtl"}const GNt={convertOffsetParentRelativeRectToViewportRelativeRect:PNt,getDocumentElement:Dg,getClippingRect:INt,getOffsetParent:cq,getElementRects:BNt,getClientRects:ENt,getDimensions:zNt,getScale:Tb,isElement:ff,isRTL:HNt};function uq(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function WNt(n,t){let e=null,i;const r=Dg(n);function a(){var o;clearTimeout(i),(o=e)==null||o.disconnect(),e=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const c=n.getBoundingClientRect(),{left:h,top:d,width:g,height:y}=c;if(o||t(),!g||!y)return;const x=Xk(d),w=Xk(r.clientWidth-(h+g)),k=Xk(r.clientHeight-(d+y)),A=Xk(h),R={rootMargin:-x+"px "+-w+"px "+-k+"px "+-A+"px",threshold:Tx(0,Vb(1,l))||1};let G=!0;function z(F){const H=F[0].intersectionRatio;if(H!==l){if(!G)return s();H?s(!1,H):i=setTimeout(()=>{s(!1,1e-7)},1e3)}H===1&&!uq(c,n.getBoundingClientRect())&&s(),G=!1}try{e=new IntersectionObserver(z,{...R,root:r.ownerDocument})}catch{e=new IntersectionObserver(z,R)}e.observe(n)}return s(!0),a}function UNt(n,t,e,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=SR(n),h=r||a?[...c?N_(c):[],...N_(t)]:[];h.forEach(A=>{r&&A.addEventListener("scroll",e,{passive:!0}),a&&A.addEventListener("resize",e)});const d=c&&o?WNt(c,e):null;let g=-1,y=null;s&&(y=new ResizeObserver(A=>{let[T]=A;T&&T.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),e()}),c&&!l&&y.observe(c),y.observe(t));let x,w=l?Hx(n):null;l&&k();function k(){const A=Hx(n);w&&!uq(w,A)&&e(),w=A,x=requestAnimationFrame(k)}return e(),()=>{var A;h.forEach(T=>{r&&T.removeEventListener("scroll",e),a&&T.removeEventListener("resize",e)}),d?.(),(A=y)==null||A.disconnect(),y=null,l&&cancelAnimationFrame(x)}}const YNt=yNt,$Nt=vNt,VNt=gNt,XNt=fNt,z4=(n,t,e)=>{const i=new Map,r={platform:GNt,...e},a={...r.platform,_c:i};return dNt(n,t,{...r,platform:a})};var PP={exports:{}};var F4;function qNt(){return F4||(F4=1,(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=r(a,i(o)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=r(s,o));return s}function r(a,s){return s?a?a+" "+s:a+s:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(PP)),PP.exports}var KNt=qNt();const eD=Al(KNt);var B4={};const ZNt="react-tooltip-core-styles",QNt="react-tooltip-base-styles",H4={core:!1,base:!1};function G4({css:n,id:t=QNt,type:e="base",ref:i}){var r,a;if(!n||typeof document>"u"||H4[e]||e==="core"&&typeof process<"u"&&(!((r=process==null?void 0:B4)===null||r===void 0)&&r.REACT_TOOLTIP_DISABLE_CORE_STYLES)||e!=="base"&&typeof process<"u"&&(!((a=process==null?void 0:B4)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;e==="core"&&(t=ZNt),i||(i={});const{insertAt:s}=i;if(document.getElementById(t))return;const o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",s==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=n:l.appendChild(document.createTextNode(n)),H4[e]=!0}const W4=async({elementReference:n=null,tooltipReference:t=null,tooltipArrowReference:e=null,place:i="top",offset:r=10,strategy:a="absolute",middlewares:s=[YNt(Number(r)),VNt({fallbackAxisSideDirection:"start"}),$Nt({padding:5})],border:o,arrowSize:l=8})=>{if(!n)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const c=s;return e?(c.push(XNt({element:e,padding:5})),z4(n,t,{placement:i,strategy:a,middleware:c}).then((({x:h,y:d,placement:g,middlewareData:y})=>{var x,w;const k={left:`${h}px`,top:`${d}px`,border:o},{x:A,y:T}=(x=y.arrow)!==null&&x!==void 0?x:{x:0,y:0},R=(w={top:"bottom",right:"left",bottom:"top",left:"right"}[g.split("-")[0]])!==null&&w!==void 0?w:"bottom",G=o&&{borderBottom:o,borderRight:o};let z=0;if(o){const F=`${o}`.match(/(\d+)px/);z=F?.[1]?Number(F[1]):1}return{tooltipStyles:k,tooltipArrowStyles:{left:A!=null?`${A}px`:"",top:T!=null?`${T}px`:"",right:"",bottom:"",...G,[R]:`-${l/2+z}px`},place:g}}))):z4(n,t,{placement:"bottom",strategy:a,middleware:c}).then((({x:h,y:d,placement:g})=>({tooltipStyles:{left:`${h}px`,top:`${d}px`},tooltipArrowStyles:{},place:g})))},U4=(n,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(n,t),Y4=(n,t,e)=>{let i=null;const r=function(...a){const s=()=>{i=null};!i&&(n.apply(this,a),i=setTimeout(s,t))};return r.cancel=()=>{i&&(clearTimeout(i),i=null)},r},$4=n=>n!==null&&!Array.isArray(n)&&typeof n=="object",nD=(n,t)=>{if(n===t)return!0;if(Array.isArray(n)&&Array.isArray(t))return n.length===t.length&&n.every(((r,a)=>nD(r,t[a])));if(Array.isArray(n)!==Array.isArray(t))return!1;if(!$4(n)||!$4(t))return n===t;const e=Object.keys(n),i=Object.keys(t);return e.length===i.length&&e.every((r=>nD(n[r],t[r])))},JNt=n=>{if(!(n instanceof HTMLElement||n instanceof SVGElement))return!1;const t=getComputedStyle(n);return["overflow","overflow-x","overflow-y"].some((e=>{const i=t.getPropertyValue(e);return i==="auto"||i==="scroll"}))},V4=n=>{if(!n)return null;let t=n.parentElement;for(;t;){if(JNt(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},tPt=typeof window<"u"?N.useLayoutEffect:N.useEffect,td=n=>{n.current&&(clearTimeout(n.current),n.current=null)},ePt="DEFAULT_TOOLTIP_ID",nPt={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},iPt=N.createContext({getTooltipData:()=>nPt});function hq(n=ePt){return N.useContext(iPt).getTooltipData(n)}var cb={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},EP={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const rPt=({forwardRef:n,id:t,className:e,classNameArrow:i,variant:r="dark",anchorId:a,anchorSelect:s,place:o="top",offset:l=10,events:c=["hover"],openOnClick:h=!1,positionStrategy:d="absolute",middlewares:g,wrapper:y,delayShow:x=0,delayHide:w=0,float:k=!1,hidden:A=!1,noArrow:T=!1,clickable:R=!1,closeOnEsc:G=!1,closeOnScroll:z=!1,closeOnResize:F=!1,openEvents:H,closeEvents:Y,globalCloseEvents:J,imperativeModeOnly:nt,style:V,position:Z,afterShow:rt,afterHide:lt,disableTooltip:mt,content:ct,contentWrapperRef:st,isOpen:xt,defaultIsOpen:dt=!1,setIsOpen:ht,previousActiveAnchor:ot,activeAnchor:vt,setActiveAnchor:St,border:Pt,opacity:It,arrowColor:Nt,arrowSize:Et=8,role:Yt="tooltip"})=>{var Rt;const ee=N.useRef(null),fe=N.useRef(null),Jt=N.useRef(null),ue=N.useRef(null),Te=N.useRef(null),[qe,on]=N.useState({tooltipStyles:{},tooltipArrowStyles:{},place:o}),[He,mi]=N.useState(!1),[Si,li]=N.useState(!1),[Xe,Ei]=N.useState(null),Ke=N.useRef(!1),dn=N.useRef(null),{anchorRefs:Jn,setActiveAnchor:ki}=hq(t),$n=N.useRef(!1),[ti,be]=N.useState([]),cn=N.useRef(!1),tn=h||c.includes("click"),On=tn||H?.click||H?.dblclick||H?.mousedown,un=H?{...H}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!H&&tn&&Object.assign(un,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const kn=Y?{...Y}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!Y&&tn&&Object.assign(kn,{mouseleave:!1,blur:!1,mouseout:!1});const Dn=J?{...J}:{escape:G||!1,scroll:z||!1,resize:F||!1,clickOutsideAnchor:On||!1};nt&&(Object.assign(un,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(kn,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Dn,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),tPt((()=>(cn.current=!0,()=>{cn.current=!1})),[]);const Bn=ve=>{cn.current&&(ve&&li(!0),setTimeout((()=>{cn.current&&(ht?.(ve),xt===void 0&&mi(ve))}),10))};N.useEffect((()=>{if(t){if(He){ze(ot);const Pe=ve(vt),Ee=[...new Set([...Pe,t])].filter(Boolean).join(" ");vt?.setAttribute("aria-describedby",Ee)}else ze(vt);return()=>{ze(vt),ze(ot)}}function ve(Pe){var Ee;return((Ee=Pe?.getAttribute("aria-describedby"))===null||Ee===void 0?void 0:Ee.split(" "))||[]}function ze(Pe){const Ee=ve(Pe).filter((Ui=>Ui!==t));Ee.length?Pe?.setAttribute("aria-describedby",Ee.join(" ")):Pe?.removeAttribute("aria-describedby")}}),[vt,He,t,ot]),N.useEffect((()=>{if(xt===void 0)return()=>null;xt&&li(!0);const ve=setTimeout((()=>{mi(xt)}),10);return()=>{clearTimeout(ve)}}),[xt]),N.useEffect((()=>{if(He!==Ke.current)if(td(Te),Ke.current=He,He)rt?.();else{const ve=(ze=>{const Pe=ze.match(/^([\d.]+)(ms|s)$/);if(!Pe)return 0;const[,Ee,Ui]=Pe;return Number(Ee)*(Ui==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Te.current=setTimeout((()=>{li(!1),Ei(null),lt?.()}),ve+25)}}),[He]);const _r=ve=>{on((ze=>nD(ze,ve)?ze:ve))},or=(ve=x)=>{td(Jt),Si?Bn(!0):Jt.current=setTimeout((()=>{Bn(!0)}),ve)},as=(ve=w)=>{td(ue),ue.current=setTimeout((()=>{$n.current||Bn(!1)}),ve)},tr=ve=>{var ze;if(!ve)return;const Pe=(ze=ve.currentTarget)!==null&&ze!==void 0?ze:ve.target;if(!Pe?.isConnected)return St(null),void ki({current:null});x?or():Bn(!0),St(Pe),ki({current:Pe}),td(ue)},_a=()=>{R?as(w||100):w?as():Bn(!1),td(Jt)},Cr=({x:ve,y:ze})=>{var Pe;const Ee={getBoundingClientRect:()=>({x:ve,y:ze,width:0,height:0,top:ze,left:ve,right:ve,bottom:ze})};W4({place:(Pe=Xe?.place)!==null&&Pe!==void 0?Pe:o,offset:l,elementReference:Ee,tooltipReference:ee.current,tooltipArrowReference:fe.current,strategy:d,middlewares:g,border:Pt,arrowSize:Et}).then((Ui=>{_r(Ui)}))},ei=ve=>{if(!ve)return;const ze=ve,Pe={x:ze.clientX,y:ze.clientY};Cr(Pe),dn.current=Pe},er=ve=>{var ze;if(!He)return;const Pe=ve.target;Pe.isConnected&&(!((ze=ee.current)===null||ze===void 0)&&ze.contains(Pe)||[document.querySelector(`[id='${a}']`),...ti].some((Ee=>Ee?.contains(Pe)))||(Bn(!1),td(Jt)))},ji=Y4(tr,50),vn=Y4(_a,50),Vn=ve=>{vn.cancel(),ji(ve)},nn=()=>{ji.cancel(),vn()},We=N.useCallback((()=>{var ve,ze;const Pe=(ve=Xe?.position)!==null&&ve!==void 0?ve:Z;Pe?Cr(Pe):k?dn.current&&Cr(dn.current):vt?.isConnected&&W4({place:(ze=Xe?.place)!==null&&ze!==void 0?ze:o,offset:l,elementReference:vt,tooltipReference:ee.current,tooltipArrowReference:fe.current,strategy:d,middlewares:g,border:Pt,arrowSize:Et}).then((Ee=>{cn.current&&_r(Ee)}))}),[He,vt,ct,V,o,Xe?.place,l,d,Z,Xe?.position,k,Et]);N.useEffect((()=>{var ve,ze;const Pe=new Set(Jn);ti.forEach((Xn=>{mt?.(Xn)||Pe.add({current:Xn})}));const Ee=document.querySelector(`[id='${a}']`);Ee&&!mt?.(Ee)&&Pe.add({current:Ee});const Ui=()=>{Bn(!1)},Zr=V4(vt),nr=V4(ee.current);Dn.scroll&&(window.addEventListener("scroll",Ui),Zr?.addEventListener("scroll",Ui),nr?.addEventListener("scroll",Ui));let Hn=null;Dn.resize?window.addEventListener("resize",Ui):vt&&ee.current&&(Hn=UNt(vt,ee.current,We,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const yi=Xn=>{Xn.key==="Escape"&&Bn(!1)};Dn.escape&&window.addEventListener("keydown",yi),Dn.clickOutsideAnchor&&window.addEventListener("click",er);const ci=[],gn=Xn=>!!(Xn?.target&&vt?.contains(Xn.target)),Di=Xn=>{He&&gn(Xn)||tr(Xn)},Oi=Xn=>{He&&gn(Xn)&&_a()},ni=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],vr=["click","dblclick","mousedown","mouseup"];Object.entries(un).forEach((([Xn,Ar])=>{Ar&&(ni.includes(Xn)?ci.push({event:Xn,listener:Vn}):vr.includes(Xn)&&ci.push({event:Xn,listener:Di}))})),Object.entries(kn).forEach((([Xn,Ar])=>{Ar&&(ni.includes(Xn)?ci.push({event:Xn,listener:nn}):vr.includes(Xn)&&ci.push({event:Xn,listener:Oi}))})),k&&ci.push({event:"pointermove",listener:ei});const xs=()=>{$n.current=!0},ss=()=>{$n.current=!1,_a()},os=R&&(kn.mouseout||kn.mouseleave);return os&&((ve=ee.current)===null||ve===void 0||ve.addEventListener("mouseover",xs),(ze=ee.current)===null||ze===void 0||ze.addEventListener("mouseout",ss)),ci.forEach((({event:Xn,listener:Ar})=>{Pe.forEach((vi=>{var ls;(ls=vi.current)===null||ls===void 0||ls.addEventListener(Xn,Ar)}))})),()=>{var Xn,Ar;Dn.scroll&&(window.removeEventListener("scroll",Ui),Zr?.removeEventListener("scroll",Ui),nr?.removeEventListener("scroll",Ui)),Dn.resize?window.removeEventListener("resize",Ui):Hn?.(),Dn.clickOutsideAnchor&&window.removeEventListener("click",er),Dn.escape&&window.removeEventListener("keydown",yi),os&&((Xn=ee.current)===null||Xn===void 0||Xn.removeEventListener("mouseover",xs),(Ar=ee.current)===null||Ar===void 0||Ar.removeEventListener("mouseout",ss)),ci.forEach((({event:vi,listener:ls})=>{Pe.forEach((zs=>{var la;(la=zs.current)===null||la===void 0||la.removeEventListener(vi,ls)}))}))}}),[vt,We,Si,Jn,ti,H,Y,J,tn,x,w]),N.useEffect((()=>{var ve,ze;let Pe=(ze=(ve=Xe?.anchorSelect)!==null&&ve!==void 0?ve:s)!==null&&ze!==void 0?ze:"";!Pe&&t&&(Pe=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Ee=new MutationObserver((Ui=>{const Zr=[],nr=[];Ui.forEach((Hn=>{if(Hn.type==="attributes"&&Hn.attributeName==="data-tooltip-id"&&(Hn.target.getAttribute("data-tooltip-id")===t?Zr.push(Hn.target):Hn.oldValue===t&&nr.push(Hn.target)),Hn.type==="childList"){if(vt){const yi=[...Hn.removedNodes].filter((ci=>ci.nodeType===1));if(Pe)try{nr.push(...yi.filter((ci=>ci.matches(Pe)))),nr.push(...yi.flatMap((ci=>[...ci.querySelectorAll(Pe)])))}catch{}yi.some((ci=>{var gn;return!!(!((gn=ci?.contains)===null||gn===void 0)&&gn.call(ci,vt))&&(li(!1),Bn(!1),St(null),td(Jt),td(ue),!0)}))}if(Pe)try{const yi=[...Hn.addedNodes].filter((ci=>ci.nodeType===1));Zr.push(...yi.filter((ci=>ci.matches(Pe)))),Zr.push(...yi.flatMap((ci=>[...ci.querySelectorAll(Pe)])))}catch{}}})),(Zr.length||nr.length)&&be((Hn=>[...Hn.filter((yi=>!nr.includes(yi))),...Zr]))}));return Ee.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Ee.disconnect()}}),[t,s,Xe?.anchorSelect,vt]),N.useEffect((()=>{We()}),[We]),N.useEffect((()=>{if(!st?.current)return()=>null;const ve=new ResizeObserver((()=>{setTimeout((()=>We()))}));return ve.observe(st.current),()=>{ve.disconnect()}}),[ct,st?.current]),N.useEffect((()=>{var ve;const ze=document.querySelector(`[id='${a}']`),Pe=[...ti,ze];vt&&Pe.includes(vt)||St((ve=ti[0])!==null&&ve!==void 0?ve:ze)}),[a,ti,vt]),N.useEffect((()=>(dt&&Bn(!0),()=>{td(Jt),td(ue)})),[]),N.useEffect((()=>{var ve;let ze=(ve=Xe?.anchorSelect)!==null&&ve!==void 0?ve:s;if(!ze&&t&&(ze=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ze)try{const Pe=Array.from(document.querySelectorAll(ze));be(Pe)}catch{be([])}}),[t,s,Xe?.anchorSelect]),N.useEffect((()=>{Jt.current&&(td(Jt),or(x))}),[x]);const Kr=(Rt=Xe?.content)!==null&&Rt!==void 0?Rt:ct,re=He&&Object.keys(qe.tooltipStyles).length>0;return N.useImperativeHandle(n,(()=>({open:ve=>{if(ve?.anchorSelect)try{document.querySelector(ve.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ve.anchorSelect}" is not a valid CSS selector`)}Ei(ve??null),ve?.delay?or(ve.delay):Bn(!0)},close:ve=>{ve?.delay?as(ve.delay):Bn(!1)},activeAnchor:vt,place:qe.place,isOpen:!!(Si&&!A&&Kr&&re)}))),Si&&!A&&Kr?mr.createElement(y,{id:t,role:Yt,className:eD("react-tooltip",cb.tooltip,EP.tooltip,EP[r],e,`react-tooltip__place-${qe.place}`,cb[re?"show":"closing"],re?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&cb.fixed,R&&cb.clickable),onTransitionEnd:ve=>{td(Te),He||ve.propertyName!=="opacity"||(li(!1),Ei(null),lt?.())},style:{...V,...qe.tooltipStyles,opacity:It!==void 0&&re?It:void 0},ref:ee},Kr,mr.createElement(y,{className:eD("react-tooltip-arrow",cb.arrow,EP.arrow,i,T&&cb.noArrow),style:{...qe.tooltipArrowStyles,background:Nt?`linear-gradient(to right bottom, transparent 50%, ${Nt} 50%)`:void 0,"--rt-arrow-size":`${Et}px`},ref:fe})):null},aPt=({content:n})=>mr.createElement("span",{dangerouslySetInnerHTML:{__html:n}}),sPt=mr.forwardRef((({id:n,anchorId:t,anchorSelect:e,content:i,html:r,render:a,className:s,classNameArrow:o,variant:l="dark",place:c="top",offset:h=10,wrapper:d="div",children:g=null,events:y=["hover"],openOnClick:x=!1,positionStrategy:w="absolute",middlewares:k,delayShow:A=0,delayHide:T=0,float:R=!1,hidden:G=!1,noArrow:z=!1,clickable:F=!1,closeOnEsc:H=!1,closeOnScroll:Y=!1,closeOnResize:J=!1,openEvents:nt,closeEvents:V,globalCloseEvents:Z,imperativeModeOnly:rt=!1,style:lt,position:mt,isOpen:ct,defaultIsOpen:st=!1,disableStyleInjection:xt=!1,border:dt,opacity:ht,arrowColor:ot,arrowSize:vt,setIsOpen:St,afterShow:Pt,afterHide:It,disableTooltip:Nt,role:Et="tooltip"},Yt)=>{const[Rt,ee]=N.useState(i),[fe,Jt]=N.useState(r),[ue,Te]=N.useState(c),[qe,on]=N.useState(l),[He,mi]=N.useState(h),[Si,li]=N.useState(A),[Xe,Ei]=N.useState(T),[Ke,dn]=N.useState(R),[Jn,ki]=N.useState(G),[$n,ti]=N.useState(d),[be,cn]=N.useState(y),[tn,On]=N.useState(w),[un,kn]=N.useState(null),[Dn,Bn]=N.useState(null),_r=N.useRef(null),or=N.useRef(xt),{anchorRefs:as,activeAnchor:tr}=hq(n),_a=vn=>vn?.getAttributeNames().reduce(((Vn,nn)=>{var We;return nn.startsWith("data-tooltip-")&&(Vn[nn.replace(/^data-tooltip-/,"")]=(We=vn?.getAttribute(nn))!==null&&We!==void 0?We:null),Vn}),{}),Cr=vn=>{const Vn={place:nn=>{var We;Te((We=nn)!==null&&We!==void 0?We:c)},content:nn=>{ee(nn??i)},html:nn=>{Jt(nn??r)},variant:nn=>{var We;on((We=nn)!==null&&We!==void 0?We:l)},offset:nn=>{mi(nn===null?h:Number(nn))},wrapper:nn=>{var We;ti((We=nn)!==null&&We!==void 0?We:d)},events:nn=>{const We=nn?.split(" ");cn(We??y)},"position-strategy":nn=>{var We;On((We=nn)!==null&&We!==void 0?We:w)},"delay-show":nn=>{li(nn===null?A:Number(nn))},"delay-hide":nn=>{Ei(nn===null?T:Number(nn))},float:nn=>{dn(nn===null?R:nn==="true")},hidden:nn=>{ki(nn===null?G:nn==="true")},"class-name":nn=>{kn(nn)}};Object.values(Vn).forEach((nn=>nn(null))),Object.entries(vn).forEach((([nn,We])=>{var Kr;(Kr=Vn[nn])===null||Kr===void 0||Kr.call(Vn,We)}))};N.useEffect((()=>{ee(i)}),[i]),N.useEffect((()=>{Jt(r)}),[r]),N.useEffect((()=>{Te(c)}),[c]),N.useEffect((()=>{on(l)}),[l]),N.useEffect((()=>{mi(h)}),[h]),N.useEffect((()=>{li(A)}),[A]),N.useEffect((()=>{Ei(T)}),[T]),N.useEffect((()=>{dn(R)}),[R]),N.useEffect((()=>{ki(G)}),[G]),N.useEffect((()=>{On(w)}),[w]),N.useEffect((()=>{or.current!==xt&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[xt]),N.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:xt==="core",disableBase:xt}}))}),[]),N.useEffect((()=>{var vn;const Vn=new Set(as);let nn=e;if(!nn&&n&&(nn=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),nn)try{document.querySelectorAll(nn).forEach((ze=>{Vn.add({current:ze})}))}catch{console.warn(`[react-tooltip] "${nn}" is not a valid CSS selector`)}const We=document.querySelector(`[id='${t}']`);if(We&&Vn.add({current:We}),!Vn.size)return()=>null;const Kr=(vn=Dn??We)!==null&&vn!==void 0?vn:tr.current,re=new MutationObserver((ze=>{ze.forEach((Pe=>{var Ee;if(!Kr||Pe.type!=="attributes"||!(!((Ee=Pe.attributeName)===null||Ee===void 0)&&Ee.startsWith("data-tooltip-")))return;const Ui=_a(Kr);Cr(Ui)}))})),ve={attributes:!0,childList:!1,subtree:!1};if(Kr){const ze=_a(Kr);Cr(ze),re.observe(Kr,ve)}return()=>{re.disconnect()}}),[as,tr,Dn,t,e]),N.useEffect((()=>{lt?.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),dt&&!U4("border",`${dt}`)&&console.warn(`[react-tooltip] "${dt}" is not a valid \`border\`.`),lt?.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),ht&&!U4("opacity",`${ht}`)&&console.warn(`[react-tooltip] "${ht}" is not a valid \`opacity\`.`)}),[]);let ei=g;const er=N.useRef(null);if(a){const vn=a({content:Dn?.getAttribute("data-tooltip-content")||Rt||null,activeAnchor:Dn});ei=vn?mr.createElement("div",{ref:er,className:"react-tooltip-content-wrapper"},vn):null}else Rt&&(ei=Rt);fe&&(ei=mr.createElement(aPt,{content:fe}));const ji={forwardRef:Yt,id:n,anchorId:t,anchorSelect:e,className:eD(s,un),classNameArrow:o,content:ei,contentWrapperRef:er,place:ue,variant:qe,offset:He,wrapper:$n,events:be,openOnClick:x,positionStrategy:tn,middlewares:k,delayShow:Si,delayHide:Xe,float:Ke,hidden:Jn,noArrow:z,clickable:F,closeOnEsc:H,closeOnScroll:Y,closeOnResize:J,openEvents:nt,closeEvents:V,globalCloseEvents:Z,imperativeModeOnly:rt,style:lt,position:mt,isOpen:ct,defaultIsOpen:st,border:dt,opacity:ht,arrowColor:ot,arrowSize:vt,setIsOpen:St,afterShow:Pt,afterHide:It,disableTooltip:Nt,activeAnchor:Dn,previousActiveAnchor:_r.current,setActiveAnchor:vn=>{Bn((Vn=>(vn?.isSameNode(Vn)||(_r.current=Vn),vn)))},role:Et};return mr.createElement(rPt,{...ji})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(n=>{n.detail.disableCore||G4({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),n.detail.disableBase||G4({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));const oPt=n=>{if(n==null)return"Khng c d liu";const t=Number(n);return t>=75?" Th trng ang hng phn. Cn nhc ri ro cht li.":t>=55?" Tm l lc quan ang chim u th.":t>=46?" Th trng ang lng l. Quan st thm.":t>=26?" Tm l bi quan ang xut hin.":" Th trng ang hong lon. C th l c hi cho nh u t di hn."},lPt=({value:n,label:t=null,showLabel:e=!0})=>{const i=n??0,[r,a]=N.useState(i),[s,o]=N.useState(!1),l=N.useRef(null),c=CX(r);N.useEffect(()=>{a(i)},[i]);const h=()=>{o(!0),l.current&&cancelAnimationFrame(l.current),a(0),setTimeout(()=>{const y=performance.now(),x=0,w=i,k=A=>{const T=A-y,R=Math.min(T/2e3,1),G=1-Math.pow(1-R,3),z=x+(w-x)*G;a(Math.round(z)),R<1&&(l.current=requestAnimationFrame(k))};l.current=requestAnimationFrame(k)},10)},d=()=>{o(!1),l.current&&cancelAnimationFrame(l.current),a(i)};return N.useEffect(()=>()=>{l.current&&cancelAnimationFrame(l.current)},[]),u.jsxs("div",{className:"gauge-container gauge-large",children:[u.jsx("div",{className:"gauge-chart animated-gauge","data-tooltip-id":"fear-greed-tooltip","data-tooltip-content":oPt(i),onMouseEnter:h,onMouseLeave:d,children:u.jsx(SX,{value:r,text:`${i}`,styles:kX({textSize:"28px",textColor:c.textColor,pathColor:c.color,trailColor:"rgba(255, 255, 255, 0.1)",pathTransitionDuration:.05})})}),e&&u.jsx("div",{className:"gauge-label",children:t||c.label}),u.jsx(sPt,{id:"fear-greed-tooltip",place:"top",style:{backgroundColor:"rgba(15, 23, 42, 0.95)",color:"#FACC15",fontSize:"0.875rem",fontWeight:"600",padding:"0.75rem 1rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)",maxWidth:"300px",zIndex:1e3}})]})};gi.register(qr,Ji,pa,Xr,Xo,Qi,sr,vf);const cPt=({data:n})=>{if(!n||n.length===0)return u.jsx("div",{className:"chart-empty",children:u.jsx("p",{children:"Khng c d liu  hin th biu "})});const t=n.map(a=>JCt(a.id_time)),e=n.map(a=>a.chiso),i={labels:t,datasets:[{label:"Ch s Fear & Greed",data:e,borderColor:"#FACC15",backgroundColor:a=>{const o=a.chart.ctx.createLinearGradient(0,0,0,300);return o.addColorStop(0,"rgba(250, 204, 21, 0.3)"),o.addColorStop(1,"rgba(250, 204, 21, 0)"),o},borderWidth:3,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#FACC15",pointBorderColor:"#1E293B",pointBorderWidth:2}]},r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!1,callbacks:{title:a=>`Ngy: ${n[a[0].dataIndex].id_time}`,label:a=>`Ch s: ${a.parsed.y}`}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{min:0,max:100,grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",stepSize:20}}},interaction:{intersect:!1,mode:"index"}};return u.jsx("div",{className:"fear-greed-chart",children:u.jsx(hf,{data:i,options:r})})},uPt=()=>{const[n,t]=N.useState([]),[e,i]=N.useState(!0),[r,a]=N.useState(null),[s,o]=N.useState(30);N.useEffect(()=>{(async()=>{try{i(!0);const x=await tNt();t(x),a(null)}catch(x){console.error("Error loading fear index:",x),a("Khng th ti d liu. Vui lng th li sau.")}finally{i(!1)}})()},[]);const l=N.useMemo(()=>eNt(n,s),[n,s]),c=N.useMemo(()=>n.length===0?null:n[n.length-1],[n]),h=N.useMemo(()=>n.length<2?null:n[n.length-2],[n]),d=N.useMemo(()=>n.length<8?null:n[n.length-8],[n]),g=N.useMemo(()=>n.length<31?null:n[n.length-31],[n]);return e?u.jsx("div",{className:"fear-greed-section",children:u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti d liu phn tch..."})]})}):r?u.jsx("div",{className:"fear-greed-section",children:u.jsx("div",{className:"error-container",children:u.jsxs("p",{className:"error-message",children:[" ",r]})})}):c?u.jsxs("div",{className:"fear-greed-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{className:"section-title",style:{color:"#2ECC71"},children:" jmbullion"}),u.jsx("p",{className:"section-subtitle",children:"Ch s Fear & Greed - o lng tm l nh u t"})]}),u.jsxs("div",{className:"fear-greed-content",children:[u.jsxs("div",{className:"overview-section",children:[u.jsxs("div",{className:"main-gauge",children:[u.jsx("h3",{className:"gauge-title",children:"Ch s Hin ti"}),u.jsx(lPt,{value:c.chiso}),u.jsxs("div",{className:"gauge-date",children:["Cp nht: ",c.id_time]})]}),u.jsxs("div",{className:"comparison-gauges",children:[u.jsxs("div",{className:"gauge-item",children:[u.jsx("h4",{children:"Hm qua"}),h?u.jsx(Ww,{value:h.chiso,size:"small",showLabel:!1}):u.jsx("p",{className:"no-data-small",children:"N/A"})]}),u.jsxs("div",{className:"gauge-item",children:[u.jsx("h4",{children:"Tun trc"}),d?u.jsx(Ww,{value:d.chiso,size:"small",showLabel:!1}):u.jsx("p",{className:"no-data-small",children:"N/A"})]}),u.jsxs("div",{className:"gauge-item",children:[u.jsx("h4",{children:"Thng trc"}),g?u.jsx(Ww,{value:g.chiso,size:"small",showLabel:!1}):u.jsx("p",{className:"no-data-small",children:"N/A"})]})]})]}),u.jsxs("div",{className:"history-section",children:[u.jsxs("div",{className:"history-header",children:[u.jsx("h3",{className:"history-title",children:"Lch s Bin ng"}),u.jsxs("div",{className:"time-filter",children:[u.jsx("button",{className:`filter-btn ${s===7?"active":""}`,onClick:()=>o(7),children:"7 ngy"}),u.jsx("button",{className:`filter-btn ${s===30?"active":""}`,onClick:()=>o(30),children:"30 ngy"}),u.jsx("button",{className:`filter-btn ${s===90?"active":""}`,onClick:()=>o(90),children:"90 ngy"}),u.jsx("button",{className:`filter-btn ${s===365?"active":""}`,onClick:()=>o(365),children:"1 nm"})]})]}),u.jsx(cPt,{data:l})]})]})]}):u.jsx("div",{className:"fear-greed-section",children:u.jsx("div",{className:"no-data",children:u.jsx("p",{children:"Khng c d liu  hin th"})})})},hPt=mr.memo(uPt);gi.register(fd,Ji,pa,Xr,Qi,vf,dh);function dq({data:n=[],zoomable:t=!0,time:e}){const i=N.useRef(null),[r,a]=N.useState(e),[s,o]=N.useState({min:null,max:null}),l=N.useMemo(()=>n.filter(y=>y?.data&&Array.isArray(y.data)).map(y=>({name:y.name,data:[...y.data].sort((x,w)=>new Date(x.x)-new Date(w.x))})),[n]),c=N.useMemo(()=>{const y=l[0];return y?.length?new Date(y[y.length-1].x):new Date},[l]);N.useEffect(()=>{if(!l.length)return;const y=c;let x;r==="1M"?x=G3(y,1):r==="3M"?x=G3(y,3):r==="1Y"?x=Cst(y):r==="YTD"?x=oO(y):r==="ALL"&&(x=new Date("2016-07-01")),o({min:x.getTime(),max:y.getTime()}),i.current&&t&&i.current.chartInstance?.zoomScale("x",{min:x.getTime(),max:y.getTime()})},[r,l,c,t]);const h=N.useMemo(()=>({datasets:l.map((y,x)=>({label:y.name,data:y.data,parsing:!1,borderColor:["#E63946","#F4A261","#E9C46A","#2A9D8F","#1D3557","#457B9D","#9D4EDD","#F72585","#6C757D"][x%9],pointRadius:0,fill:!1,borderWidth:1.8,spanGaps:!0}))}),[l]),d=N.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,animation:!1,transitions:{zoom:{animation:!1},pan:{animation:!1}},interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{displayColors:!0,callbacks:{label:y=>`${y.dataset.label}: ${y.parsed.y}`,labelColor:y=>({borderColor:y.dataset.borderColor,backgroundColor:y.dataset.borderColor})}},decimation:{enabled:!0,algorithm:"min-max",samples:500},zoom:t?{limits:{x:{min:new Date("2016-07-01").getTime()}},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}:void 0},scales:{x:{type:"time",min:s.min,max:s.max,ticks:{maxTicksLimit:10}},y:{ticks:{callback:y=>`${y}`}}}}),[s,t]),g=()=>i.current?.resetZoom();return u.jsxs("div",{style:{width:"100%",marginTop:20,display:"flex",flexDirection:"column"},children:[u.jsx("div",{style:{height:480,width:"98%",marginBottom:"30px",cursor:"pointer "},children:u.jsx(hf,{ref:i,data:h,options:d})}),t&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:16,margin:"auto"},children:[["1M","3M","1Y","YTD","ALL"].map(y=>u.jsx("button",{style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ccc",background:r===y?"#ff8800":"#eee"},onClick:()=>a(y),children:y},y)),u.jsx("button",{onClick:g,style:{padding:"6px 14px",borderRadius:6,background:"#444",color:"white",border:"1px solid #666"},children:"Reset Zoom"})]})]})}var MC={exports:{}},dPt=MC.exports,X4;function fPt(){return X4||(X4=1,(function(n,t){(function(e,i){e._Highcharts=i(),n.exports=e._Highcharts})(typeof window>"u"?dPt:window,()=>(()=>{let e,i;var r,a,s,o,l,c,h,d,g,y,x,w,k,A,T,R,G,z,F={};F.d=(q,m)=>{for(var b in m)F.o(m,b)&&!F.o(q,b)&&Object.defineProperty(q,b,{enumerable:!0,get:m[b]})},F.o=(q,m)=>Object.prototype.hasOwnProperty.call(q,m);var H={};F.d(H,{default:()=>dl}),(function(q){q.SVG_NS="http://www.w3.org/2000/svg",q.product="Highcharts",q.version="12.4.0",q.win=typeof window<"u"?window:{},q.doc=q.win.document,q.svg=!!q.doc?.createElementNS?.(q.SVG_NS,"svg")?.createSVGRect,q.pageLang=q.doc?.documentElement?.closest("[lang]")?.lang,q.userAgent=q.win.navigator?.userAgent||"",q.isChrome=q.win.chrome,q.isFirefox=q.userAgent.indexOf("Firefox")!==-1,q.isMS=/(edge|msie|trident)/i.test(q.userAgent)&&!q.win.opera,q.isSafari=!q.isChrome&&q.userAgent.indexOf("Safari")!==-1,q.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(q.userAgent),q.isWebKit=q.userAgent.indexOf("AppleWebKit")!==-1,q.deg2rad=2*Math.PI/360,q.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],q.noop=function(){},q.supportsPassiveEvents=(function(){let m=!1;if(!q.isMS){let b=Object.defineProperty({},"passive",{get:function(){m=!0}});q.win.addEventListener&&q.win.removeEventListener&&(q.win.addEventListener("testPassive",q.noop,b),q.win.removeEventListener("testPassive",q.noop,b))}return m})(),q.charts=[],q.composed=[],q.dateFormats={},q.seriesTypes={},q.symbolSizes={},q.chartCount=0})(r||(r={}));let Y=r,{charts:J,doc:nt,win:V}=Y;function Z(q,m,b,C){let D=m?"Highcharts error":"Highcharts warning";q===32&&(q=`${D}: Deprecated member`);let O=dt(q),I=O?`${D} #${q}: www.highcharts.com/errors/${q}/`:q.toString();if(C!==void 0){let B="";O&&(I+="?"),Rt(C,function(U,Q){B+=`
 - ${Q}: ${U}`,O&&(I+=encodeURI(Q)+"="+encodeURI(U))}),I+=B}fe(Y,"displayError",{chart:b,code:q,message:I,params:C},function(){if(m)throw Error(I);V.console&&Z.messages.indexOf(I)===-1&&console.warn(I)}),Z.messages.push(I)}function rt(q,m){return parseInt(q,m||10)}function lt(q){return typeof q=="string"}function mt(q){let m=Object.prototype.toString.call(q);return m==="[object Array]"||m==="[object Array Iterator]"}function ct(q,m){return!!q&&typeof q=="object"&&(!m||!mt(q))}function st(q){return ct(q)&&typeof q.nodeType=="number"}function xt(q){let m=q?.constructor;return!!(ct(q,!0)&&!st(q)&&m?.name&&m.name!=="Object")}function dt(q){return typeof q=="number"&&!isNaN(q)&&q<1/0&&q>-1/0}function ht(q){return q!=null}function ot(q,m,b){let C,D=lt(m)&&!ht(b),O=(I,B)=>{ht(I)?q.setAttribute(B,I):D?(C=q.getAttribute(B))||B!=="class"||(C=q.getAttribute(B+"Name")):q.removeAttribute(B)};return lt(m)?O(b,m):Rt(m,O),C}function vt(q){return mt(q)?q:[q]}function St(q,m){let b;for(b in q||(q={}),m)q[b]=m[b];return q}function Pt(){let q=arguments,m=q.length;for(let b=0;b<m;b++){let C=q[b];if(C!=null)return C}}function It(q,m){St(q.style,m)}function Nt(q){return Math.pow(10,Math.floor(Math.log(q)/Math.LN10))}function Et(q,m){return q>1e14?q:parseFloat(q.toPrecision(m||14))}(Z||(Z={})).messages=[],Math.easeInOutSine=function(q){return-.5*(Math.cos(Math.PI*q)-1)};let Yt=Array.prototype.find?function(q,m){return q.find(m)}:function(q,m){let b,C=q.length;for(b=0;b<C;b++)if(m(q[b],b))return q[b]};function Rt(q,m,b){for(let C in q)Object.hasOwnProperty.call(q,C)&&m.call(b||q[C],q[C],C,q)}function ee(q,m,b){function C(I,B){let U=q.removeEventListener;U&&U.call(q,I,B,!1)}function D(I){let B,U;q.nodeName&&(m?(B={})[m]=!0:B=I,Rt(B,function(Q,it){if(I[it])for(U=I[it].length;U--;)C(it,I[it][U].fn)}))}let O=typeof q=="function"&&q.prototype||q;if(Object.hasOwnProperty.call(O,"hcEvents")){let I=O.hcEvents;if(m){let B=I[m]||[];b?(I[m]=B.filter(function(U){return b!==U.fn}),C(m,b)):(D(I),I[m]=[])}else D(I),delete O.hcEvents}}function fe(q,m,b,C){if(b=b||{},nt?.createEvent&&(q.dispatchEvent||q.fireEvent&&q!==Y)){let D=nt.createEvent("Events");D.initEvent(m,!0,!0),b=St(D,b),q.dispatchEvent?q.dispatchEvent(b):q.fireEvent(m,b)}else if(q.hcEvents){b.target||St(b,{preventDefault:function(){b.defaultPrevented=!0},target:q,type:m});let D=[],O=q,I=!1;for(;O.hcEvents;)Object.hasOwnProperty.call(O,"hcEvents")&&O.hcEvents[m]&&(D.length&&(I=!0),D.unshift.apply(D,O.hcEvents[m])),O=Object.getPrototypeOf(O);I&&D.sort((B,U)=>B.order-U.order),D.forEach(B=>{B.fn.call(q,b)===!1&&b.preventDefault()})}C&&!b.defaultPrevented&&C.call(q,b)}let Jt=(function(){let q=Math.random().toString(36).substring(2,9)+"-",m=0;return function(){return"highcharts-"+(e?"":q)+m++}})();V.jQuery&&(V.jQuery.fn.highcharts=function(){let q=[].slice.call(arguments);if(this[0])return q[0]?(new Y[lt(q[0])?q.shift():"Chart"](this[0],q[0],q[1]),this):J[ot(this[0],"data-highcharts-chart")]});let ue={addEvent:function(q,m,b,C={}){let D=typeof q=="function"&&q.prototype||q;Object.hasOwnProperty.call(D,"hcEvents")||(D.hcEvents={});let O=D.hcEvents;Y.Point&&q instanceof Y.Point&&q.series&&q.series.chart&&(q.series.chart.runTrackerClick=!0);let I=q.addEventListener;I&&I.call(q,m,b,!!Y.supportsPassiveEvents&&{passive:C.passive===void 0?m.indexOf("touch")!==-1:C.passive,capture:!1}),O[m]||(O[m]=[]);let B={fn:b,order:typeof C.order=="number"?C.order:1/0};return O[m].push(B),O[m].sort((U,Q)=>U.order-Q.order),function(){ee(q,m,b)}},arrayMax:function(q){let m=q.length,b=q[0];for(;m--;)q[m]>b&&(b=q[m]);return b},arrayMin:function(q){let m=q.length,b=q[0];for(;m--;)q[m]<b&&(b=q[m]);return b},attr:ot,clamp:function(q,m,b){return q>m?q<b?q:b:m},clearTimeout:function(q){ht(q)&&clearTimeout(q)},correctFloat:Et,createElement:function(q,m,b,C,D){let O=nt.createElement(q);return m&&St(O,m),D&&It(O,{padding:"0",border:"none",margin:"0"}),b&&It(O,b),C&&C.appendChild(O),O},crisp:function(q,m=0,b){let C=m%2/2,D=b?-1:1;return(Math.round(q*D-C)+C)*D},css:It,defined:ht,destroyObjectProperties:function(q,m,b){Rt(q,function(C,D){C!==m&&C?.destroy&&C.destroy(),(C?.destroy||!b)&&delete q[D]})},diffObjects:function(q,m,b,C){let D={};return(function O(I,B,U,Q){let it=b?B:I;Rt(I,function(tt,at){if(!Q&&C&&C.indexOf(at)>-1&&B[at]){tt=vt(tt),U[at]=[];for(let gt=0;gt<Math.max(tt.length,B[at].length);gt++)B[at][gt]&&(tt[gt]===void 0?U[at][gt]=B[at][gt]:(U[at][gt]={},O(tt[gt],B[at][gt],U[at][gt],Q+1)))}else ct(tt,!0)&&!tt.nodeType?(U[at]=mt(tt)?[]:{},O(tt,B[at]||{},U[at],Q+1),Object.keys(U[at]).length===0&&(at!=="colorAxis"||Q!==0)&&delete U[at]):(I[at]!==B[at]||at in I&&!(at in B))&&at!=="__proto__"&&at!=="constructor"&&(U[at]=it[at])})})(q,m,D,0),D},discardElement:function(q){q?.parentElement?.removeChild(q)},erase:function(q,m){let b=q.length;for(;b--;)if(q[b]===m){q.splice(b,1);break}},error:Z,extend:St,extendClass:function(q,m){let b=function(){};return b.prototype=new q,St(b.prototype,m),b},find:Yt,fireEvent:fe,getAlignFactor:(q="")=>({center:.5,right:1,middle:.5,bottom:1})[q]||0,getClosestDistance:function(q,m){let b,C,D,O=!m;return q.forEach(I=>{if(I.length>1)for(D=I.length-1;D>0;D--)(C=I[D]-I[D-1])<0&&!O?(m?.(),m=void 0):C&&(b===void 0||C<b)&&(b=C)}),b},getMagnitude:Nt,getNestedProperty:function(q,m){let b=q.split(".");for(;b.length&&ht(m);){let C=b.shift();if(C===void 0||C==="__proto__")return;if(C==="this"){let O;return ct(m)&&(O=m["@this"]),O??m}let D=m[C.replace(/[\\'"]/g,"")];if(!ht(D)||typeof D=="function"||typeof D.nodeType=="number"||D===V)return;m=D}return m},getStyle:function q(m,b,C){let D;if(b==="width"){let I=Math.min(m.offsetWidth,m.scrollWidth),B=m.getBoundingClientRect?.().width;return B<I&&B>=I-1&&(I=Math.floor(B)),Math.max(0,I-(q(m,"padding-left",!0)||0)-(q(m,"padding-right",!0)||0))}if(b==="height")return Math.max(0,Math.min(m.offsetHeight,m.scrollHeight)-(q(m,"padding-top",!0)||0)-(q(m,"padding-bottom",!0)||0));let O=V.getComputedStyle(m,void 0);return O&&(D=O.getPropertyValue(b),Pt(C,b!=="opacity")&&(D=rt(D))),D},insertItem:function(q,m){let b,C=q.options.index,D=m.length;for(b=q.options.isInternal?D:0;b<D+1;b++)if(!m[b]||dt(C)&&C<Pt(m[b].options.index,m[b]._i)||m[b].options.isInternal){m.splice(b,0,q);break}return b},isArray:mt,isClass:xt,isDOMElement:st,isFunction:function(q){return typeof q=="function"},isNumber:dt,isObject:ct,isString:lt,merge:function(q,...m){let b,C=[q,...m],D={},O=function(B,U){return typeof B!="object"&&(B={}),Rt(U,function(Q,it){it!=="__proto__"&&it!=="constructor"&&(!ct(Q,!0)||xt(Q)||st(Q)?B[it]=U[it]:B[it]=O(B[it]||{},Q))}),B};q===!0&&(D=C[1],C=Array.prototype.slice.call(C,2));let I=C.length;for(b=0;b<I;b++)D=O(D,C[b]);return D},normalizeTickInterval:function(q,m,b,C,D){let O,I=q;b=Pt(b,Nt(q));let B=q/b;for(!m&&(m=D?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],C===!1&&(b===1?m=m.filter(function(U){return U%1==0}):b<=.1&&(m=[1/b]))),O=0;O<m.length&&(I=m[O],(!D||!(I*b>=q))&&(D||!(B<=(m[O]+(m[O+1]||m[O]))/2)));O++);return Et(I*b,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Rt,offset:function(q){let m=nt.documentElement,b=q.parentElement||q.parentNode?q.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:b.top+(V.pageYOffset||m.scrollTop)-(m.clientTop||0),left:b.left+(V.pageXOffset||m.scrollLeft)-(m.clientLeft||0),width:b.width,height:b.height}},pad:function(q,m,b){return Array((m||2)+1-String(q).replace("-","").length).join(b||"0")+q},pick:Pt,pInt:rt,pushUnique:function(q,m){return 0>q.indexOf(m)&&!!q.push(m)},relativeLength:function(q,m,b){return/%$/.test(q)?m*parseFloat(q)/100+(b||0):parseFloat(q)},removeEvent:ee,replaceNested:function(q,...m){let b,C;do for(C of(b=q,m))q=q.replace(C[0],C[1]);while(q!==b);return q},splat:vt,stableSort:function(q,m){let b,C,D=q.length;for(C=0;C<D;C++)q[C].safeI=C;for(q.sort(function(O,I){return(b=m(O,I))===0?O.safeI-I.safeI:b}),C=0;C<D;C++)delete q[C].safeI},syncTimeout:function(q,m,b){return m>0?setTimeout(q,m,b):(q.call(0,b),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(q){return lt(q)?q.substring(0,1).toUpperCase()+q.substring(1):String(q)},uniqueKey:Jt,useSerialIds:function(q){return e=Pt(q,e)},wrap:function(q,m,b){let C=q[m];q[m]=function(){let D=arguments,O=this;return b.apply(this,[function(){return C.apply(O,arguments.length?arguments:D)}].concat([].slice.call(arguments)))}}},{pageLang:Te,win:qe}=Y,{defined:on,error:He,extend:mi,isNumber:Si,isObject:li,isString:Xe,merge:Ei,objectEach:Ke,pad:dn,splat:Jn,timeUnits:ki,ucfirst:$n}=ue,ti=Y.isSafari&&qe.Intl&&!qe.Intl.DateTimeFormat.prototype.formatRange,be=q=>q.main===void 0,cn=class{constructor(q,m){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=qe.Date,this.update(q),this.lang=m}update(q={}){this.dTLCache={},this.options=q=Ei(!0,this.options,q);let{timezoneOffset:m,useUTC:b,locale:C}=q;this.Date=q.Date||qe.Date||Date;let D=q.timezone;on(b)&&(D=b?"UTC":void 0),m&&m%60==0&&(D="Etc/GMT"+(m>0?"+":"")+m/60),this.variableTimezone=D!=="UTC"&&D?.indexOf("Etc/GMT")!==0,this.timezone=D,this.lang&&C&&(this.lang.locale=C),["months","shortMonths","weekdays","shortWeekdays"].forEach(O=>{let I=/months/i.test(O),B=/short/.test(O),U={timeZone:"UTC"};U[I?"month":"weekday"]=B?"short":"long",this[O]=(I?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(Q=>this.dateFormat(U,(I?31:1)*24*36e5*Q))})}toParts(q){let[m,b,C,D,O,I,B]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},q,"es").split(/(?:, | |\/|:)/g);return[D,C-1,b,O,I,B,Math.floor(Number(q)||0)%1e3,"DLMXJVS".indexOf(m)].map(Number)}dateTimeFormat(q,m,b=this.options.locale||Te){let C=JSON.stringify(q)+b;Xe(q)&&(q=this.str2dtf(q));let D=this.dTLCache[C];if(!D){q.timeZone??(q.timeZone=this.timezone);try{D=new Intl.DateTimeFormat(b,q)}catch(O){/Invalid time zone/i.test(O.message)?(He(34),q.timeZone="UTC",D=new Intl.DateTimeFormat(b,q)):He(O.message,!1)}}return this.dTLCache[C]=D,D?.format(m)||""}str2dtf(q,m={}){let b={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(b).forEach(C=>{q.indexOf(C)!==-1&&mi(m,b[C])}),m}makeTime(q,m,b=1,C=0,D,O,I){let B=this.Date.UTC(q,m,b,C,D||0,O||0,I||0);if(this.timezone!=="UTC"){let U=this.getTimezoneOffset(B);if(B+=U,[2,3,8,9,10,11].indexOf(m)!==-1&&(C<5||C>20)){let Q=this.getTimezoneOffset(B);U!==Q?B+=Q-U:U-36e5!==this.getTimezoneOffset(B-36e5)||ti||(B-=36e5)}}return B}parse(q){if(!Xe(q))return q??void 0;let m=(q=q.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(q),b=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(q);m||b||(q+="Z");let C=Date.parse(q);if(Si(C))return C+(!m||b?this.getTimezoneOffset(C):0)}getTimezoneOffset(q){if(this.timezone!=="UTC"){let[m,b,C,D,O=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},q,"en").split(/(GMT|:)/).map(Number),I=-(60*(C+O/60)*6e4);if(Si(I))return I}return 0}dateFormat(q,m,b){let C=this.lang;if(!on(m)||isNaN(m))return C?.invalidDate||"";if(Xe(q=q??"%Y-%m-%d %H:%M:%S")){let D,O=/%\[([a-zA-Z]+)\]/g;for(;D=O.exec(q);)q=q.replace(D[0],this.dateTimeFormat(D[1],m,C?.locale))}if(Xe(q)&&q.indexOf("%")!==-1){let D=this,[O,I,B,U,Q,it,tt,at]=this.toParts(m),gt=C?.weekdays||this.weekdays,pt=C?.shortWeekdays||this.shortWeekdays,_t=C?.months||this.months,wt=C?.shortMonths||this.shortMonths;Ke(mi({a:pt?pt[at]:gt[at].substr(0,3),A:gt[at],d:dn(B),e:dn(B,2," "),w:at,v:C?.weekFrom??"",b:wt[I],B:_t[I],m:dn(I+1),o:I+1,y:O.toString().substr(2,2),Y:O,H:dn(U),k:U,I:dn(U%12||12),l:U%12||12,M:dn(Q),p:U<12?"AM":"PM",P:U<12?"am":"pm",S:dn(it),L:dn(tt,3)},Y.dateFormats),function(bt,jt){if(Xe(q))for(;q.indexOf("%"+jt)!==-1;)q=q.replace("%"+jt,typeof bt=="function"?bt.call(D,m):bt)})}else if(li(q)){let D=(this.getTimezoneOffset(m)||0)/36e5,O=this.timezone||"Etc/GMT"+(D>=0?"+":"")+D,{prefix:I="",suffix:B=""}=q;q=I+this.dateTimeFormat(mi({timeZone:O},q),m)+B}return b?$n(q):q}resolveDTLFormat(q){return li(q,!0)?li(q,!0)&&be(q)?{main:q}:q:{main:(q=Jn(q))[0],from:q[1],to:q[2]}}getDateFormat(q,m,b,C){let D=this.dateFormat("%m-%d %H:%M:%S.%L",m),O="01-01 00:00:00.000",I={millisecond:15,second:12,minute:9,hour:6,day:3},B="millisecond",U=B;for(B in ki){if(q&&q===ki.week&&+this.dateFormat("%w",m)===b&&D.substr(6)===O.substr(6)){B="week";break}if(q&&ki[B]>q){B=U;break}if(I[B]&&D.substr(I[B])!==O.substr(I[B]))break;B!=="week"&&(U=B)}return this.resolveDTLFormat(C[B]).main}},{defined:tn,extend:On,timeUnits:un}=ue,kn=class extends cn{getTimeTicks(q,m,b,C){let D=this,O=[],I={},{count:B=1,unitRange:U}=q,[Q,it,tt,at,gt,pt]=D.toParts(m),_t=(m||0)%1e3,wt;if(C??(C=1),tn(m)){if(_t=U>=un.second?0:B*Math.floor(_t/B),U>=un.second&&(pt=U>=un.minute?0:B*Math.floor(pt/B)),U>=un.minute&&(gt=U>=un.hour?0:B*Math.floor(gt/B)),U>=un.hour&&(at=U>=un.day?0:B*Math.floor(at/B)),U>=un.day&&(tt=U>=un.month?1:Math.max(1,B*Math.floor(tt/B))),U>=un.month&&(it=U>=un.year?0:B*Math.floor(it/B)),U>=un.year&&(Q-=Q%B),U===un.week){B&&(m=D.makeTime(Q,it,tt,at,gt,pt,_t));let Dt=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},m,"es"),zt="DLMXJVS".indexOf(Dt);tt+=-zt+C+(zt<C?-7:0)}m=D.makeTime(Q,it,tt,at,gt,pt,_t),D.variableTimezone&&tn(b)&&(wt=b-m>4*un.month||D.getTimezoneOffset(m)!==D.getTimezoneOffset(b));let bt=m,jt=1;for(;bt<b;)O.push(bt),U===un.year?bt=D.makeTime(Q+jt*B,0):U===un.month?bt=D.makeTime(Q,it+jt*B):wt&&(U===un.day||U===un.week)?bt=D.makeTime(Q,it,tt+jt*B*(U===un.day?1:7)):wt&&U===un.hour&&B>1?bt=D.makeTime(Q,it,tt,at+jt*B):bt+=U*B,jt++;O.push(bt),U<=un.hour&&O.length<1e4&&O.forEach(Dt=>{Dt%18e5==0&&D.dateFormat("%H%M%S%L",Dt)==="000000000"&&(I[Dt]="day")})}return O.info=On(q,{higherRanks:I,totalRange:U*B}),O}},{isTouchDevice:Dn}=Y,{fireEvent:Bn,merge:_r}=ue,or={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:q=>Math.sqrt(1-Math.pow(q-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Dn?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},as=new kn(or.time,or.lang),tr={defaultOptions:or,defaultTime:as,getOptions:function(){return or},setOptions:function(q){return Bn(Y,"setOptions",{options:q}),_r(!0,or,q),q.time&&as.update(or.time),q.lang&&"locale"in q.lang&&as.update({locale:q.lang.locale}),q.lang?.chartTitle&&(or.title={...or.title,text:q.lang.chartTitle}),or}},{win:_a}=Y,{isNumber:Cr,isString:ei,merge:er,pInt:ji,defined:vn}=ue,Vn=(q,m,b)=>`color-mix(in srgb,${q},${m} ${100*b}%)`,nn=q=>ei(q)&&!!q&&q!=="none";class We{static parse(m){return m?new We(m):We.None}constructor(m){let b,C,D,O;this.rgba=[NaN,NaN,NaN,NaN],this.input=m;let I=Y.Color;if(I&&I!==We)return new I(m);if(typeof m=="object"&&m.stops!==void 0)this.stops=m.stops.map(B=>new We(B[1]));else if(typeof m=="string")for(this.input=m=We.names[m.toLowerCase()]||m,D=We.parsers.length;D--&&!C;)(b=(O=We.parsers[D]).regex.exec(m))&&(C=O.parse(b));C&&(this.rgba=C)}get(m){let b=this.input,C=this.rgba;if(this.output)return this.output;if(typeof b=="object"&&this.stops!==void 0){let D=er(b);return D.stops=[].slice.call(D.stops),this.stops.forEach((O,I)=>{D.stops[I]=[D.stops[I][0],O.get(m)]}),D}return C&&Cr(C[0])?m!=="rgb"&&(m||C[3]!==1)?m==="a"?`${C[3]}`:"rgba("+C.join(",")+")":"rgb("+C[0]+","+C[1]+","+C[2]+")":b}brighten(m){let b=this.rgba;if(this.stops)this.stops.forEach(function(C){C.brighten(m)});else if(Cr(m)&&m!==0)if(Cr(b[0]))for(let C=0;C<3;C++)b[C]+=ji(255*m),b[C]<0&&(b[C]=0),b[C]>255&&(b[C]=255);else We.useColorMix&&nn(this.input)&&(this.output=Vn(this.input,m>0?"white":"black",Math.abs(m)));return this}setOpacity(m){return this.rgba[3]=m,this}tweenTo(m,b){let C=this.rgba,D=m.rgba;if(!Cr(C[0])||!Cr(D[0]))return We.useColorMix&&nn(this.input)&&nn(m.input)&&b<.99?Vn(this.input,m.input,b):m.input||"none";let O=D[3]!==1||C[3]!==1,I=(U,Q)=>U+(C[Q]-U)*(1-b),B=D.slice(0,3).map(I).map(Math.round);return O&&B.push(I(D[3],3)),(O?"rgba(":"rgb(")+B.join(",")+")"}}We.names={white:"#ffffff",black:"#000000"},We.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(q){return[ji(q[1]),ji(q[2]),ji(q[3]),parseFloat(q[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(q){return[ji(q[1]),ji(q[2]),ji(q[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(q){return[ji(q[1]+q[1],16),ji(q[2]+q[2],16),ji(q[3]+q[3],16),vn(q[4])?ji(q[4]+q[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(q){return[ji(q[1],16),ji(q[2],16),ji(q[3],16),vn(q[4])?ji(q[4],16)/255:1]}}],We.useColorMix=_a.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),We.None=new We("");let{parse:Kr}=We,{win:re}=Y,{isNumber:ve,objectEach:ze}=ue;class Pe{constructor(m,b,C){this.pos=NaN,this.options=b,this.elem=m,this.prop=C}dSetter(){let m=this.paths,b=m?.[0],C=m?.[1],D=this.now||0,O=[];if(D!==1&&b&&C)if(b.length===C.length&&D<1)for(let I=0;I<C.length;I++){let B=b[I],U=C[I],Q=[];for(let it=0;it<U.length;it++){let tt=B[it],at=U[it];ve(tt)&&ve(at)&&(U[0]!=="A"||it!==4&&it!==5)?Q[it]=tt+D*(at-tt):Q[it]=at}O.push(Q)}else O=C;else O=this.toD||[];this.elem.attr("d",O,void 0,!0)}update(){let m=this.elem,b=this.prop,C=this.now,D=this.options.step;this[b+"Setter"]?this[b+"Setter"]():m.attr?m.element&&m.attr(b,C,null,!0):m.style[b]=C+this.unit,D&&D.call(m,C,this)}run(m,b,C){let D=this,O=D.options,I=function(Q){return!I.stopped&&D.step(Q)},B=re.requestAnimationFrame||function(Q){setTimeout(Q,13)},U=function(){for(let Q=0;Q<Pe.timers.length;Q++)Pe.timers[Q]()||Pe.timers.splice(Q--,1);Pe.timers.length&&B(U)};m!==b||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=m,this.end=b,this.unit=C,this.now=this.start,this.pos=0,I.elem=this.elem,I.prop=this.prop,I()&&Pe.timers.push(I)===1&&B(U)):(delete O.curAnim[this.prop],O.complete&&Object.keys(O.curAnim).length===0&&O.complete.call(this.elem))}step(m){let b,C,D=+new Date,O=this.options,I=this.elem,B=O.complete,U=O.duration,Q=O.curAnim;return I.attr&&!I.element?b=!1:m||D>=U+this.startTime?(this.now=this.end,this.pos=1,this.update(),Q[this.prop]=!0,C=!0,ze(Q,function(it){it!==!0&&(C=!1)}),C&&B&&B.call(I),b=!1):(this.pos=O.easing((D-this.startTime)/U),this.now=this.start+(this.end-this.start)*this.pos,this.update(),b=!0),b}initPath(m,b,C){let D=m.startX,O=m.endX,I=C.slice(),B=m.isArea,U=B?2:1,Q=b&&C.length>b.length&&C.hasStackedCliffs,it,tt,at,gt,pt=b?.slice();if(!pt||Q)return[I,I];function _t(bt,jt){for(;bt.length<tt;){let Dt=bt[0],zt=jt[tt-bt.length];if(zt&&Dt[0]==="M"&&(zt[0]==="C"?bt[0]=["C",Dt[1],Dt[2],Dt[1],Dt[2],Dt[1],Dt[2]]:bt[0]=["L",Dt[1],Dt[2]]),bt.unshift(Dt),B){let Ut=bt.pop();bt.push(bt[bt.length-1],Ut)}}}function wt(bt){for(;bt.length<tt;){let jt=bt[Math.floor(bt.length/U)-1].slice();if(jt[0]==="C"&&(jt[1]=jt[5],jt[2]=jt[6]),B){let Dt=bt[Math.floor(bt.length/U)].slice();bt.splice(bt.length/2,0,jt,Dt)}else bt.push(jt)}}if(D&&O&&O.length){for(at=0;at<D.length;at++)if(D[at]===O[0]){it=at;break}else if(D[0]===O[O.length-D.length+at]){it=at,gt=!0;break}else if(D[D.length-1]===O[O.length-D.length+at]){it=D.length-at;break}it===void 0&&(pt=[])}return pt.length&&ve(it)&&(tt=I.length+it*U,gt?(_t(pt,I),wt(I)):(_t(I,pt),wt(pt))),[pt,I]}fillSetter(){Pe.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Kr(this.start).tweenTo(Kr(this.end),this.pos),void 0,!0)}}Pe.timers=[];let{defined:Ee,getStyle:Ui,isArray:Zr,isNumber:nr,isObject:Hn,merge:yi,objectEach:ci,pick:gn}=ue;function Di(q){return Hn(q)?yi({duration:500,defer:0},q):{duration:500*!!q,defer:0}}function Oi(q,m){let b=Pe.timers.length;for(;b--;)Pe.timers[b].elem!==q||m&&m!==Pe.timers[b].prop||(Pe.timers[b].stopped=!0)}let ni={animate:function(q,m,b){let C,D="",O,I,B;Hn(b)||(B=arguments,b={duration:B[2],easing:B[3],complete:B[4]}),nr(b.duration)||(b.duration=400),b.easing=typeof b.easing=="function"?b.easing:Math[b.easing]||Math.easeInOutSine,b.curAnim=yi(m),ci(m,function(U,Q){Oi(q,Q),I=new Pe(q,b,Q),O=void 0,Q==="d"&&Zr(m.d)?(I.paths=I.initPath(q,q.pathArray,m.d),I.toD=m.d,C=0,O=1):q.attr?C=q.attr(Q):(C=parseFloat(Ui(q,Q))||0,Q!=="opacity"&&(D="px")),O||(O=U),typeof O=="string"&&O.match("px")&&(O=O.replace(/px/g,"")),I.run(C,O,D)})},animObject:Di,getDeferredAnimation:function(q,m,b){let C=Di(m),D=b?[b]:q.series,O=0,I=0;return D.forEach(B=>{let U=Di(B.options.animation);O=Hn(m)&&Ee(m.defer)?C.defer:Math.max(O,U.duration+U.defer),I=Math.min(C.duration,U.duration)}),q.renderer.forExport&&(O=0),{defer:Math.max(0,O-I),duration:Math.min(O,I)}},setAnimation:function(q,m){m.renderer.globalAnimation=gn(q,m.options.chart.animation,!0)},stop:Oi},{SVG_NS:vr,win:xs}=Y,{attr:ss,createElement:os,css:Xn,error:Ar,isFunction:vi,isString:ls,objectEach:zs,splat:la}=ue,{trustedTypes:Ka}=xs,Sa=Ka&&vi(Ka.createPolicy)&&Ka.createPolicy("highcharts",{createHTML:q=>q}),io=Sa?Sa.createHTML(""):"";class Yi{static filterUserAttributes(m){return zs(m,(b,C)=>{let D=!0;Yi.allowedAttributes.indexOf(C)===-1&&(D=!1),["background","dynsrc","href","lowsrc","src"].indexOf(C)!==-1&&(D=ls(b)&&Yi.allowedReferences.some(O=>b.indexOf(O)===0)),D||(Ar(33,!1,void 0,{"Invalid attribute in config":`${C}`}),delete m[C]),ls(b)&&m[C]&&(m[C]=b.replace(/</g,"&lt;"))}),m}static parseStyle(m){return m.split(";").reduce((b,C)=>{let D=C.split(":").map(I=>I.trim()),O=D.shift();return O&&D.length&&(b[O.replace(/-([a-z])/g,I=>I[1].toUpperCase())]=D.join(":")),b},{})}static setElementHTML(m,b){m.innerHTML=Yi.emptyHTML,b&&new Yi(b).addToDOM(m)}constructor(m){this.nodes=typeof m=="string"?this.parseMarkup(m):m}addToDOM(m){return(function b(C,D){let O;return la(C).forEach(function(I){let B,U=I.tagName,Q=I.textContent?Y.doc.createTextNode(I.textContent):void 0,it=Yi.bypassHTMLFiltering;if(U)if(U==="#text")B=Q;else if(Yi.allowedTags.indexOf(U)!==-1||it){let tt=U==="svg"?vr:D.namespaceURI||vr,at=Y.doc.createElementNS(tt,U),gt=I.attributes||{};zs(I,function(pt,_t){_t!=="tagName"&&_t!=="attributes"&&_t!=="children"&&_t!=="style"&&_t!=="textContent"&&(gt[_t]=pt)}),ss(at,it?gt:Yi.filterUserAttributes(gt)),I.style&&Xn(at,I.style),Q&&at.appendChild(Q),b(I.children||[],at),B=at}else Ar(33,!1,void 0,{"Invalid tagName in config":U});B&&D.appendChild(B),O=B}),O})(this.nodes,m)}parseMarkup(m){let b,C=[];m=m.trim().replace(/ style=(["'])/g," data-style=$1");try{b=new DOMParser().parseFromString(Sa?Sa.createHTML(m):m,"text/html")}catch{}if(!b){let O=os("div");O.innerHTML=m,b={body:O}}let D=(O,I)=>{let B=O.nodeName.toLowerCase(),U={tagName:B};B==="#text"&&(U.textContent=O.textContent||"");let Q=O.attributes;if(Q){let it={};[].forEach.call(Q,tt=>{tt.name==="data-style"?U.style=Yi.parseStyle(tt.value):it[tt.name]=tt.value}),U.attributes=it}if(O.childNodes.length){let it=[];[].forEach.call(O.childNodes,tt=>{D(tt,it)}),it.length&&(U.children=it)}I.push(U)};return[].forEach.call(b.body.childNodes,O=>D(O,C)),C}}Yi.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Yi.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Yi.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Yi.emptyHTML=io,Yi.bypassHTMLFiltering=!1;let{defaultOptions:oc,defaultTime:Un}=tr,{pageLang:ii}=Y,{extend:Ba,getNestedProperty:ca,isArray:ro,isNumber:Hc,isObject:An,isString:$i,pick:cs,ucfirst:ph}=ue,Vi={add:(q,m)=>q+m,divide:(q,m)=>m!==0?q/m:"",eq:(q,m)=>q==m,each:function(q){let m=arguments[arguments.length-1];return!!ro(q)&&q.map((b,C)=>Fs(m.body,Ba(An(b)?b:{"@this":b},{"@index":C,"@first":C===0,"@last":C===q.length-1}))).join("")},ge:(q,m)=>q>=m,gt:(q,m)=>q>m,if:q=>!!q,le:(q,m)=>q<=m,lt:(q,m)=>q<m,multiply:(q,m)=>q*m,ne:(q,m)=>q!=m,subtract:(q,m)=>q-m,ucfirst:ph,unless:q=>!q},lc={},Qo=q=>/^["'].+["']$/.test(q);function Fs(q="",m,b){let C=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,D=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,O=[],I=/f$/,B=/\.(\d)/,U=b?.options?.lang||oc.lang,Q=b?.time||Un,it=b?.numberFormatter||ir.bind(b),tt=(wt="")=>{let bt;return wt==="true"||wt!=="false"&&((bt=Number(wt)).toString()===wt?bt:Qo(wt)?wt.slice(1,-1):ca(wt,m))},at,gt,pt=0,_t;for(;(at=C.exec(q))!==null;){let wt=at,bt=D.exec(at[1]);bt&&(at=bt,_t=!0),gt?.isBlock||(gt={ctx:m,expression:at[1],find:at[0],isBlock:at[1].charAt(0)==="#",start:at.index,startInner:at.index+at[0].length,length:at[0].length});let jt=(gt.isBlock?wt:at)[1].split(" ")[0].replace("#","");Vi[jt]&&(gt.isBlock&&jt===gt.fn&&pt++,gt.fn||(gt.fn=jt));let Dt=at[1]==="else";if(gt.isBlock&&gt.fn&&(at[1]===`/${gt.fn}`||Dt))if(pt)!Dt&&pt--;else{let zt=gt.startInner,Ut=q.substr(zt,at.index-zt);gt.body===void 0?(gt.body=Ut,gt.startInner=at.index+at[0].length):gt.elseBody=Ut,gt.find+=Ut+at[0],Dt||(O.push(gt),gt=void 0)}else gt.isBlock||O.push(gt);if(bt&&!gt?.isBlock)break}return O.forEach(wt=>{let bt,jt,{body:Dt,elseBody:zt,expression:Ut,fn:$t}=wt;if($t){let Vt=[wt],Gt=[],pe=Ut.length,ye=0,me;for(jt=0;jt<=pe;jt++){let Ie=Ut.charAt(jt);me||Ie!=='"'&&Ie!=="'"?me===Ie&&(me=""):me=Ie,me||Ie!==" "&&jt!==pe||(Gt.push(Ut.substr(ye,jt-ye)),ye=jt+1)}for(jt=Vi[$t].length;jt--;)Vt.unshift(tt(Gt[jt+1]));bt=Vi[$t].apply(m,Vt),wt.isBlock&&typeof bt=="boolean"&&(bt=Fs(bt?Dt:zt,m,b))}else{let Vt=Qo(Ut)?[Ut]:Ut.split(":"),Gt=(bt=tt(Vt.shift()||""))%1!=0;if(typeof bt=="number"&&(Vt.length||Gt)){let pe=Vt.join(":");if(I.test(pe)||Gt){let ye=parseInt((pe.match(B)||["","-1"])[1],10);bt!==null&&(bt=it(bt,ye,U.decimalPoint,pe.indexOf(",")>-1?U.thousandsSep:""))}else bt=Q.dateFormat(pe,bt)}D.lastIndex=0,D.test(wt.find)&&$i(bt)&&(bt=`"${bt}"`)}q=q.replace(wt.find,cs(bt,""))}),_t?Fs(q,m,b):q}function ir(q,m,b,C){m*=1;let D,O,[I,B]=(q=+q||0).toString().split("e").map(Number),U=this?.options?.lang||oc.lang,Q=(q.toString().split(".")[1]||"").split("e")[0].length,it=m,tt={};b??(b=U.decimalPoint),C??(C=U.thousandsSep),m===-1?m=Math.min(Q,20):Hc(m)?m&&B<0&&((O=m+B)>=0?(I=+I.toExponential(O).split("e")[0],m=O):(I=Math.floor(I),q=m<20?+(I*Math.pow(10,B)).toFixed(m):0,B=0)):m=2,B&&(m??(m=2),q=I),Hc(m)&&m>=0&&(tt.minimumFractionDigits=m,tt.maximumFractionDigits=m),C===""&&(tt.useGrouping=!1);let at=C||b,gt=at?"en":this?.locale||U.locale||ii,pt=JSON.stringify(tt)+gt;return D=(lc[pt]??(lc[pt]=new Intl.NumberFormat(gt,tt))).format(q),at&&(D=D.replace(/([,\.])/g,"_$1").replace(/_\,/g,C??",").replace("_.",b??".")),(m||+D!=0)&&(!(B<0)||it)||(D="0"),B&&+D!=0&&(D+="e"+(B<0?"":"+")+B),D}let At={dateFormat:function(q,m,b){return Un.dateFormat(q,m,b)},format:Fs,helpers:Vi,numberFormat:ir};(function(q){let m;q.rendererTypes={},q.getRendererType=function(b=m){return q.rendererTypes[b]||q.rendererTypes[m]},q.registerRendererType=function(b,C,D){q.rendererTypes[b]=C,(!m||D)&&(m=b,Y.Renderer=C)}})(a||(a={}));let Ot=a,{clamp:Ft,pick:oe,pushUnique:Ne,stableSort:Ge}=ue;(s||(s={})).distribute=function q(m,b,C){let D=m,O=D.reducedLen||b,I=(Dt,zt)=>Dt.target-zt.target,B=[],U=m.length,Q=[],it=B.push,tt,at,gt,pt=!0,_t,wt,bt=0,jt;for(tt=U;tt--;)bt+=m[tt].size;if(bt>O){for(Ge(m,(Dt,zt)=>(zt.rank||0)-(Dt.rank||0)),gt=(jt=m[0].rank===m[m.length-1].rank)?U/2:-1,at=jt?gt:U-1;gt&&bt>O;)_t=m[tt=Math.floor(at)],Ne(Q,tt)&&(bt-=_t.size),at+=gt,jt&&at>=m.length&&(gt/=2,at=gt);Q.sort((Dt,zt)=>zt-Dt).forEach(Dt=>it.apply(B,m.splice(Dt,1)))}for(Ge(m,I),m=m.map(Dt=>({size:Dt.size,targets:[Dt.target],align:oe(Dt.align,.5)}));pt;){for(tt=m.length;tt--;)_t=m[tt],wt=(Math.min.apply(0,_t.targets)+Math.max.apply(0,_t.targets))/2,_t.pos=Ft(wt-_t.size*_t.align,0,b-_t.size);for(tt=m.length,pt=!1;tt--;)tt>0&&m[tt-1].pos+m[tt-1].size>m[tt].pos&&(m[tt-1].size+=m[tt].size,m[tt-1].targets=m[tt-1].targets.concat(m[tt].targets),m[tt-1].align=.5,m[tt-1].pos+m[tt-1].size>b&&(m[tt-1].pos=b-m[tt-1].size),m.splice(tt,1),pt=!0)}return it.apply(D,B),tt=0,m.some(Dt=>{let zt=0;return(Dt.targets||[]).some(()=>(D[tt].pos=Dt.pos+zt,C!==void 0&&Math.abs(D[tt].pos-D[tt].target)>C?(D.slice(0,tt+1).forEach(Ut=>delete Ut.pos),D.reducedLen=(D.reducedLen||b)-.1*b,D.reducedLen>.1*b&&q(D,b,C),!0):(zt+=D[tt].size,tt++,!1)))}),Ge(D,I),D};let Tn=s,{animate:Rr,animObject:ua,stop:Ir}=ni,{deg2rad:zr,doc:cc,svg:xd,SVG_NS:Tl,win:Mn,isFirefox:Jo}=Y,{addEvent:lr,attr:bd,createElement:uc,crisp:Bs,css:mh,defined:ka,erase:Ml,extend:tl,fireEvent:En,getAlignFactor:xi,isArray:yh,isFunction:vh,isNumber:cm,isObject:bs,isString:Nl,merge:xh,objectEach:Ao,pick:Gn,pInt:ha,pushUnique:ws,replaceNested:_s,syncTimeout:bh,uniqueKey:wd}=ue;class zi{_defaultGetter(m){let b=Gn(this[m+"Value"],this[m],this.element?this.element.getAttribute(m):null,0);return/^-?[\d\.]+$/.test(b)&&(b=parseFloat(b)),b}_defaultSetter(m,b,C){C.setAttribute(b,m)}add(m){let b,C=this.renderer,D=this.element;return m&&(this.parentGroup=m),this.textStr!==void 0&&this.element.nodeName==="text"&&C.buildText(this),this.added=!0,(!m||m.handleZ||this.zIndex)&&(b=this.zIndexSetter()),b||(m?m.element:C.box).appendChild(D),this.onAdd&&this.onAdd(),this}addClass(m,b){let C=b?"":this.attr("class")||"";return(m=(m||"").split(/ /g).reduce(function(D,O){return C.indexOf(O)===-1&&D.push(O),D},C?[C]:[]).join(" "))!==C&&this.attr("class",m),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(m,b,C,D=!0){let O=this.renderer,I=O.alignedObjects,B=!!m;m?(this.alignOptions=m,this.alignByTranslate=b,this.alignTo=C):(m=this.alignOptions||{},b=this.alignByTranslate,C=this.alignTo);let U=!C||Nl(C)?C||"renderer":void 0;U&&(B&&ws(I,this),C=void 0);let Q=Gn(C,O[U],O),it=(Q.x||0)+(m.x||0)+((Q.width||0)-(m.width||0))*xi(m.align),tt=(Q.y||0)+(m.y||0)+((Q.height||0)-(m.height||0))*xi(m.verticalAlign),at={"text-align":m?.align};return at[b?"translateX":"x"]=Math.round(it),at[b?"translateY":"y"]=Math.round(tt),D&&(this[this.placed?"animate":"attr"](at),this.placed=!0),this.alignAttr=at,this}alignSetter(m){let b={left:"start",center:"middle",right:"end"};b[m]&&(this.alignValue=m,this.element.setAttribute("text-anchor",b[m]))}animate(m,b,C){let D=ua(Gn(b,this.renderer.globalAnimation,!0)),O=D.defer;return cc.hidden&&(D.duration=0),D.duration!==0?(C&&(D.complete=C),bh(()=>{this.element&&Rr(this,m,D)},O)):(this.attr(m,void 0,C||D.complete),Ao(m,function(I,B){D.step&&D.step.call(this,I,{prop:B,pos:1,elem:this})},this)),this}applyTextOutline(m){let b=this.element;m.indexOf("contrast")!==-1&&(m=m.replace(/contrast/g,this.renderer.getContrast(b.style.fill)));let C=m.indexOf(" "),D=m.substring(C+1),O=m.substring(0,C);if(O&&O!=="none"&&Y.svg){this.fakeTS=!0,O=O.replace(/(^[\d\.]+)(.*?)$/g,function(it,tt,at){return 2*Number(tt)+at}),this.removeTextOutline();let I=cc.createElementNS(Tl,"tspan");bd(I,{class:"highcharts-text-outline",fill:D,stroke:D,"stroke-width":O,"stroke-linejoin":"round"});let B=b.querySelector("textPath")||b;[].forEach.call(B.childNodes,it=>{let tt=it.cloneNode(!0);tt.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(at=>tt.removeAttribute(at)),I.appendChild(tt)});let U=0;[].forEach.call(B.querySelectorAll("text tspan"),it=>{U+=Number(it.getAttribute("dy"))});let Q=cc.createElementNS(Tl,"tspan");Q.textContent="",bd(Q,{x:Number(b.getAttribute("x")),dy:-U}),I.appendChild(Q),B.insertBefore(I,B.firstChild)}}attr(m,b,C,D){let{element:O}=this,I=zi.symbolCustomAttribs,B,U,Q=this,it;return typeof m=="string"&&b!==void 0&&(B=m,(m={})[B]=b),typeof m=="string"?Q=(this[m+"Getter"]||this._defaultGetter).call(this,m,O):(Ao(m,function(tt,at){it=!1,D||Ir(this,at),this.symbolName&&I.indexOf(at)!==-1&&(U||(this.symbolAttr(m),U=!0),it=!0),this.rotation&&(at==="x"||at==="y")&&(this.doTransform=!0),it||(this[at+"Setter"]||this._defaultSetter).call(this,tt,at,O)},this),this.afterSetters()),C&&C.call(this),Q}clip(m){if(m&&!m.clipPath){let b=wd()+"-",C=this.renderer.createElement("clipPath").attr({id:b}).add(this.renderer.defs);tl(m,{clipPath:C,id:b,count:0}),m.add(C)}return this.attr("clip-path",m?`url(${this.renderer.url}#${m.id})`:"none")}crisp(m,b){b=Math.round(b||m.strokeWidth||0);let C=m.x||this.x||0,D=m.y||this.y||0,O=(m.width||this.width||0)+C,I=(m.height||this.height||0)+D,B=Bs(C,b),U=Bs(D,b);return tl(m,{x:B,y:U,width:Bs(O,b)-B,height:Bs(I,b)-U}),ka(m.strokeWidth)&&(m.strokeWidth=b),m}complexColor(m,b,C){let D=this.renderer,O,I,B,U,Q,it,tt,at,gt,pt,_t=[],wt;En(this.renderer,"complexColor",{args:arguments},function(){if(m.radialGradient?I="radialGradient":m.linearGradient&&(I="linearGradient"),I){if(B=m[I],Q=D.gradients,it=m.stops,gt=C.radialReference,yh(B)&&(m[I]=B={x1:B[0],y1:B[1],x2:B[2],y2:B[3],gradientUnits:"userSpaceOnUse"}),I==="radialGradient"&&gt&&!ka(B.gradientUnits)&&(U=B,B=xh(B,D.getRadialAttr(gt,U),{gradientUnits:"userSpaceOnUse"})),Ao(B,function(bt,jt){jt!=="id"&&_t.push(jt,bt)}),Ao(it,function(bt){_t.push(bt)}),Q[_t=_t.join(",")])pt=Q[_t].attr("id");else{B.id=pt=wd();let bt=Q[_t]=D.createElement(I).attr(B).add(D.defs);bt.radAttr=U,bt.stops=[],it.forEach(function(jt){jt[1].indexOf("rgba")===0?(tt=(O=We.parse(jt[1])).get("rgb"),at=O.get("a")):(tt=jt[1],at=1);let Dt=D.createElement("stop").attr({offset:jt[0],"stop-color":tt,"stop-opacity":at}).add(bt);bt.stops.push(Dt)})}wt="url("+D.url+"#"+pt+")",C.setAttribute(b,wt),C.gradient=_t,m.toString=function(){return wt}}})}css(m){let b=this.styles,C={},D=this.element,O,I=!b;if(b&&Ao(m,function(B,U){b&&b[U]!==B&&(C[U]=B,I=!0)}),I){b&&(m=tl(b,C)),m.width===null||m.width==="auto"?delete this.textWidth:D.nodeName.toLowerCase()==="text"&&m.width&&(O=this.textWidth=ha(m.width)),tl(this.styles,m),O&&!xd&&this.renderer.forExport&&delete m.width;let B=Jo&&m.fontSize||null;B&&(cm(B)||/^\d+$/.test(B))&&(m.fontSize+="px");let U=xh(m);D.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(Q=>U&&delete U[Q]),U.color&&(U.fill=U.color,delete U.color)),mh(D,U)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),m.textOutline&&this.applyTextOutline(m.textOutline)),this}dashstyleSetter(m){let b,C=this["stroke-width"];if(C==="inherit"&&(C=1),m){let D=(m=m.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(b=D.length;b--;)D[b]=""+ha(D[b])*Gn(C,NaN);m=D.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",m)}}destroy(){let m=this,b=m.element||{},C=m.renderer,D=b.ownerSVGElement,O=b.nodeName==="SPAN"&&m.parentGroup||void 0,I,B;if(b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=b.point=null,Ir(m),m.clipPath&&D){let U=m.clipPath;[].forEach.call(D.querySelectorAll("[clip-path],[CLIP-PATH]"),function(Q){Q.getAttribute("clip-path").indexOf(U.element.id)>-1&&Q.removeAttribute("clip-path")}),m.clipPath=U.destroy()}if(m.stops){for(B=0;B<m.stops.length;B++)m.stops[B].destroy();m.stops.length=0,m.stops=void 0}for(m.safeRemoveChild(b);O?.div&&O.div.childNodes.length===0;)I=O.parentGroup,m.safeRemoveChild(O.div),delete O.div,O=I;m.alignOptions&&Ml(C.alignedObjects,m),Ao(m,(U,Q)=>{(m[Q]?.parentGroup===m||["connector","foreignObject"].indexOf(Q)!==-1)&&m[Q]?.destroy?.(),delete m[Q]})}dSetter(m,b,C){yh(m)&&(typeof m[0]=="string"&&(m=this.renderer.pathToSegments(m)),this.pathArray=m,m=m.reduce((D,O,I)=>O?.join?(I?D+" ":"")+O.join(" "):(O||"").toString(),"")),/(NaN| {2}|^$)/.test(m)&&(m="M 0 0"),this[b]!==m&&(C.setAttribute(b,m),this[b]=m)}fillSetter(m,b,C){typeof m=="string"?C.setAttribute(b,m):m&&this.complexColor(m,b,C)}hrefSetter(m,b,C){C.setAttributeNS("http://www.w3.org/1999/xlink",b,m)}getBBox(m,b){let C,D,O,I,{alignValue:B,element:U,renderer:Q,styles:it,textStr:tt}=this,{cache:at,cacheKeys:gt}=Q,pt=U.namespaceURI===this.SVG_NS,_t=Gn(b,this.rotation,0),wt=Q.styledMode?U&&zi.prototype.getStyle.call(U,"font-size"):it.fontSize;if(ka(tt)&&((I=tt.toString()).indexOf("<")===-1&&(I=I.replace(/\d/g,"0")),I+=["",Q.rootFontSize,wt,_t,this.textWidth,B,it.lineClamp,it.textOverflow,it.fontWeight].join(",")),I&&!m&&(C=at[I]),!C||C.polygon){if(pt||Q.forExport){try{O=this.fakeTS&&function(jt){let Dt=U.querySelector(".highcharts-text-outline");Dt&&mh(Dt,{display:jt})},vh(O)&&O("none"),C=U.getBBox?tl({},U.getBBox()):{width:U.offsetWidth,height:U.offsetHeight,x:0,y:0},vh(O)&&O("")}catch{}(!C||C.width<0)&&(C={x:0,y:0,width:0,height:0})}else C=this.htmlGetBBox();D=C.height,pt&&(C.height=D={"11px,17":14,"13px,20":16}[`${wt||""},${Math.round(D)}`]||D),_t&&(C=this.getRotatedBox(C,_t));let bt={bBox:C};En(this,"afterGetBBox",bt),C=bt.bBox}if(I&&(tt===""||C.height>0)){for(;gt.length>250;)delete at[gt.shift()];at[I]||gt.push(I),at[I]=C}return C}getRotatedBox(m,b){let{x:C,y:D,width:O,height:I}=m,{alignValue:B,translateY:U,rotationOriginX:Q=0,rotationOriginY:it=0}=this,tt=xi(B),at=Number(this.element.getAttribute("y")||0)-(U?0:D),gt=b*zr,pt=(b-90)*zr,_t=Math.cos(gt),wt=Math.sin(gt),bt=O*_t,jt=O*wt,Dt=Math.cos(pt),zt=Math.sin(pt),[[Ut,$t],[Vt,Gt]]=[Q,it].map(Cn=>[Cn-Cn*_t,Cn*wt]),pe=C+tt*(O-bt)+Ut+Gt+at*Dt,ye=pe+bt,me=ye-I*Dt,Ie=me-bt,Ze=D+at-tt*jt-$t+Vt+at*zt,en=Ze+jt,De=en-I*zt,Be=De-jt,Je=Math.min(pe,ye,me,Ie),qn=Math.min(Ze,en,De,Be),In=Math.max(pe,ye,me,Ie)-Je,Ns=Math.max(Ze,en,De,Be)-qn;return{x:Je,y:qn,width:In,height:Ns,polygon:[[pe,Ze],[ye,en],[me,De],[Ie,Be]]}}getStyle(m){return Mn.getComputedStyle(this.element||this,"").getPropertyValue(m)}hasClass(m){return(""+this.attr("class")).split(" ").indexOf(m)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(m,b){this.onEvents={},this.opacity=1,this.SVG_NS=Tl,this.element=b==="span"||b==="body"?uc(b):cc.createElementNS(this.SVG_NS,b),this.renderer=m,this.styles={},En(this,"afterInit")}on(m,b){let{onEvents:C}=this;return C[m]&&C[m](),C[m]=lr(this.element,m,b),this}opacitySetter(m,b,C){let D=Number(Number(m).toFixed(3));this.opacity=D,C.setAttribute(b,D)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(m){return this.attr("class",(""+this.attr("class")).replace(Nl(m)?RegExp(`(^| )${m}( |$)`):m," ").replace(/ +/g," ").trim())}removeTextOutline(){let m=this.element.querySelector("tspan.highcharts-text-outline");m&&this.safeRemoveChild(m)}safeRemoveChild(m){let b=m.parentNode;b&&b.removeChild(m)}setRadialReference(m){let b=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=m,b?.radAttr&&b.animate(this.renderer.getRadialAttr(m,b.radAttr)),this}shadow(m){let{renderer:b}=this,C=xh(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},bs(m)?m:{}),D=b.shadowDefinition(C);return this.attr({filter:m?`url(${b.url}#${D})`:"none"})}show(m=!0){return this.attr({visibility:m?"inherit":"visible"})}"stroke-widthSetter"(m,b,C){this[b]=m,C.setAttribute(b,m)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let m=this.getStyle("stroke-width"),b=0,C;return/px$/.test(m)?b=ha(m):m!==""&&(bd(C=cc.createElementNS(Tl,"rect"),{width:m,"stroke-width":0}),this.element.parentNode.appendChild(C),b=C.getBBox().width,C.parentNode.removeChild(C)),b}symbolAttr(m){let b=this;zi.symbolCustomAttribs.forEach(function(C){b[C]=Gn(m[C],b[C])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})}textSetter(m){m!==this.textStr&&(delete this.textPxLength,this.textStr=m,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(m){let b=this.element,C=b.getElementsByTagName("title")[0]||cc.createElementNS(this.SVG_NS,"title");b.insertBefore?b.insertBefore(C,b.firstChild):b.appendChild(C),C.textContent=_s(Gn(m,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let m=this.element;return m.parentNode.appendChild(m),this}translate(m,b){return this.attr({translateX:m,translateY:b})}updateTransform(m="transform"){let{element:b,foreignObject:C,matrix:D,padding:O,rotation:I=0,rotationOriginX:B,rotationOriginY:U,scaleX:Q,scaleY:it,text:tt,translateX:at=0,translateY:gt=0}=this,pt=["translate("+at+","+gt+")"];ka(D)&&pt.push("matrix("+D.join(",")+")"),I&&(pt.push("rotate("+I+" "+(B??b.getAttribute("x")??this.x??0)+" "+(U??b.getAttribute("y")??this.y??0)+")"),tt?.element.tagName!=="SPAN"||tt?.foreignObject||tt.attr({rotation:I,rotationOriginX:(B||0)-O,rotationOriginY:(U||0)-O})),(ka(Q)||ka(it))&&pt.push("scale("+Gn(Q,1)+" "+Gn(it,1)+")"),pt.length&&!(tt||this).textPath&&(C?.element||b).setAttribute(m,pt.join(" "))}visibilitySetter(m,b,C){m==="inherit"?C.removeAttribute(b):this[b]!==m&&C.setAttribute(b,m),this[b]=m}xGetter(m){return this.element.nodeName==="circle"&&(m==="x"?m="cx":m==="y"&&(m="cy")),this._defaultGetter(m)}zIndexSetter(m,b){let C=this.renderer,D=this.parentGroup,O=(D||C).element||C.box,I=this.element,B=O===C.box,U,Q,it,tt=!1,at,gt=this.added,pt;if(ka(m)?(I.setAttribute("data-z-index",m),m*=1,this[b]===m&&(gt=!1)):ka(this[b])&&I.removeAttribute("data-z-index"),this[b]=m,gt){for((m=this.zIndex)&&D&&(D.handleZ=!0),pt=(U=O.childNodes).length-1;pt>=0&&!tt;pt--)at=!ka(it=(Q=U[pt]).getAttribute("data-z-index")),Q!==I&&(m<0&&at&&!B&&!pt?(O.insertBefore(I,U[pt]),tt=!0):(ha(it)<=m||at&&(!ka(m)||m>=0))&&(O.insertBefore(I,U[pt+1]),tt=!0));tt||(O.insertBefore(I,U[3*!!B]),tt=!0)}return tt}}zi.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],zi.prototype.strokeSetter=zi.prototype.fillSetter,zi.prototype.yGetter=zi.prototype.xGetter,zi.prototype.matrixSetter=zi.prototype.rotationOriginXSetter=zi.prototype.rotationOriginYSetter=zi.prototype.rotationSetter=zi.prototype.scaleXSetter=zi.prototype.scaleYSetter=zi.prototype.translateXSetter=zi.prototype.translateYSetter=zi.prototype.verticalAlignSetter=function(q,m){this[m]=q,this.doTransform=!0};let el=zi,{defined:wf,extend:_f,getAlignFactor:Og,isNumber:Gc,merge:um,pick:Tr,removeEvent:hm}=ue;class Ca extends el{constructor(m,b,C,D,O,I,B,U,Q,it){let tt;super(m,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=b,this.x=C,this.y=D,this.anchorX=I,this.anchorY=B,this.baseline=Q,this.className=it,this.addClass(it==="button"?"highcharts-no-tooltip":"highcharts-label"),it&&this.addClass("highcharts-"+it),this.text=m.text(void 0,0,0,U).attr({zIndex:1}),typeof O=="string"&&((tt=/^url\((.*?)\)$/.test(O))||this.renderer.symbols[O])&&(this.symbolKey=O),this.bBox=Ca.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=m.styledMode||tt,this.deferredAttr={},this.alignFactor=0}alignSetter(m){let b=Og(m);this.textAlign=m,b!==this.alignFactor&&(this.alignFactor=b,this.bBox&&Gc(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(m,b){this.anchorX=m,this.boxAttr(b,Math.round(m)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(m,b){this.anchorY=m,this.boxAttr(b,m-this.ySetting)}boxAttr(m,b){this.box?this.box.attr(m,b):this.deferredAttr[m]=b}css(m){if(m){let b={};m=um(m),Ca.textProps.forEach(C=>{m[C]!==void 0&&(b[C]=m[C],delete m[C])}),this.text.css(b),"fontSize"in b||"fontWeight"in b?this.updateTextPadding():("width"in b||"textOverflow"in b)&&this.updateBoxSize()}return el.prototype.css.call(this,m)}destroy(){hm(this.element,"mouseenter"),hm(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),el.prototype.destroy.call(this)}fillSetter(m,b){m&&(this.needsBox=!0),this.fill=m,this.boxAttr(b,m)}getBBox(m,b){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:C,height:D=0,translateX:O=0,translateY:I=0,width:B=0}=this,U=Tr(this.paddingLeft,C),Q=b??(this.rotation||0),it={width:B,height:D,x:O+this.bBox.x-U,y:I+this.bBox.y-C+this.baselineOffset};return Q&&(it=this.getRotatedBox(it,Q)),it}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(m){this.heightSetting=m,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Tr(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&wf(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(m,b){Gc(m)?m!==this[b]&&(this[b]=m,this.updateTextPadding()):this[b]=void 0}rSetter(m,b){this.boxAttr(b,m)}strokeSetter(m,b){this.stroke=m,this.boxAttr(b,m)}"stroke-widthSetter"(m,b){m&&(this.needsBox=!0),this["stroke-width"]=m,this.boxAttr(b,m)}"text-alignSetter"(m){this.textAlign=this["text-align"]=m,this.updateTextPadding()}textSetter(m){m!==void 0&&this.text.attr({text:m}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let m,b=this.text,C={},D=this.padding,O=this.bBox=(!Gc(this.widthSetting)||!Gc(this.heightSetting)||this.textAlign)&&wf(b.textStr)?b.getBBox(void 0,0):Ca.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||O.height||0)+2*D;let I=this.renderer.fontMetrics(b);if(this.baselineOffset=D+Math.min((this.text.firstLineMetrics||I).b,O.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-I.h)/2),this.needsBox&&!b.textPath){if(!this.box){let B=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();B.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),B.add(this)}C.x=m=this.getCrispAdjust(),C.y=(this.baseline?-this.baselineOffset:0)+m,C.width=Math.round(this.width),C.height=Math.round(this.height),this.box.attr(_f(C,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let m=this.text,b=m.styles.textAlign||this.textAlign;if(!m.textPath){this.updateBoxSize();let C=this.baseline?0:this.baselineOffset,D=(this.paddingLeft??this.padding)+Og(b)*(this.widthSetting??this.bBox.width);(D!==m.x||C!==m.y)&&(m.attr({align:b,x:D}),C!==void 0&&m.attr("y",C)),m.x=D,m.y=C}}widthSetter(m){this.widthSetting=Gc(m)?m:void 0,this.doUpdate=!0}getPaddedWidth(){let m=this.padding,b=Tr(this.paddingLeft,m),C=Tr(this.paddingRight,m);return(this.widthSetting||this.bBox.width||0)+b+C}xSetter(m){this.x=m,this.alignFactor&&(m-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(m),this.attr("translateX",this.xSetting)}ySetter(m){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(m),this.attr("translateY",this.ySetting)}}Ca.emptyBBox={width:0,height:0,x:0,y:0},Ca.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:hc,isNumber:Lg,pick:ao}=ue;function Eu(q,m,b,C,D){let O=[];if(D){let I=D.start||0,B=D.end||0,U=ao(D.r,b),Q=ao(D.r,C||b),it=2e-4/(D.borderRadius?1:Math.max(U,1)),tt=Math.abs(B-I-2*Math.PI)<it;tt&&(I=Math.PI/2,B=2.5*Math.PI-it);let at=D.innerR,gt=ao(D.open,tt),pt=Math.cos(I),_t=Math.sin(I),wt=Math.cos(B),bt=Math.sin(B),jt=ao(D.longArc,B-I-Math.PI<it?0:1),Dt=["A",U,Q,0,jt,ao(D.clockwise,1),q+U*wt,m+Q*bt];Dt.params={start:I,end:B,cx:q,cy:m},O.push(["M",q+U*pt,m+Q*_t],Dt),hc(at)&&((Dt=["A",at,at,0,jt,hc(D.clockwise)?1-D.clockwise:0,q+at*pt,m+at*_t]).params={start:B,end:I,cx:q,cy:m},O.push(gt?["M",q+at*wt,m+at*bt]:["L",q+at*wt,m+at*bt],Dt)),gt||O.push(["Z"])}return O}function wh(q,m,b,C,D){return D?.r?xr(q,m,b,C,D):[["M",q,m],["L",q+b,m],["L",q+b,m+C],["L",q,m+C],["Z"]]}function xr(q,m,b,C,D){let O=D?.r||0;return[["M",q+O,m],["L",q+b-O,m],["A",O,O,0,0,1,q+b,m+O],["L",q+b,m+C-O],["A",O,O,0,0,1,q+b-O,m+C],["L",q+O,m+C],["A",O,O,0,0,1,q,m+C-O],["L",q,m+O],["A",O,O,0,0,1,q+O,m],["Z"]]}let Pl={arc:Eu,callout:function(q,m,b,C,D){let O=Math.min(D?.r||0,b,C),I=O+6,B=D?.anchorX,U=D?.anchorY||0,Q=xr(q,m,b,C,{r:O});if(!Lg(B)||B<b&&B>0&&U<C&&U>0)return Q;if(q+B>b-I)if(U>m+I&&U<m+C-I)Q.splice(3,1,["L",q+b,U-6],["L",q+b+6,U],["L",q+b,U+6],["L",q+b,m+C-O]);else if(B<b){let it=U<m+I,tt=it?m:m+C;Q.splice(it?2:5,0,["L",B,U],["L",q+b-O,tt])}else Q.splice(3,1,["L",q+b,C/2],["L",B,U],["L",q+b,C/2],["L",q+b,m+C-O]);else if(q+B<I)if(U>m+I&&U<m+C-I)Q.splice(7,1,["L",q,U+6],["L",q-6,U],["L",q,U-6],["L",q,m+O]);else if(B>0){let it=U<m+I,tt=it?m:m+C;Q.splice(it?1:6,0,["L",B,U],["L",q+O,tt])}else Q.splice(7,1,["L",q,C/2],["L",B,U],["L",q,C/2],["L",q,m+O]);else U>C&&B<b-I?Q.splice(5,1,["L",B+6,m+C],["L",B,m+C+6],["L",B-6,m+C],["L",q+O,m+C]):U<0&&B>I&&Q.splice(1,1,["L",B-6,m],["L",B,m-6],["L",B+6,m],["L",b-O,m]);return Q},circle:function(q,m,b,C){return Eu(q+b/2,m+C/2,b/2,C/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(q,m,b,C){return[["M",q+b/2,m],["L",q+b,m+C/2],["L",q+b/2,m+C],["L",q,m+C/2],["Z"]]},rect:wh,roundedRect:xr,square:wh,triangle:function(q,m,b,C){return[["M",q+b/2,m],["L",q+b,m+C],["L",q,m+C],["Z"]]},"triangle-down":function(q,m,b,C){return[["M",q,m],["L",q+b,m],["L",q+b/2,m+C],["Z"]]}},{doc:_d,SVG_NS:dm,win:_h}=Y,{attr:Rg,extend:fm,fireEvent:gm,isString:Sd,objectEach:El,pick:Sh}=ue,ju=(q,m)=>q.substring(0,m)+"",so=class{constructor(q){let m=q.styles;this.renderer=q.renderer,this.svgElement=q,this.width=q.textWidth,this.textLineHeight=m?.lineHeight,this.textOutline=m?.textOutline,this.ellipsis=m?.textOverflow==="ellipsis",this.lineClamp=m?.lineClamp,this.noWrap=m?.whiteSpace==="nowrap"}buildSVG(){let q=this.svgElement,m=q.element,b=q.renderer,C=Sh(q.textStr,"").toString(),D=C.indexOf("<")!==-1,O=m.childNodes,I=!q.added&&b.box,B=[C,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,q.getStyle("font-size"),q.styles.lineClamp,this.width].join(",");if(B!==q.textCache){q.textCache=B,delete q.actualWidth;for(let U=O.length;U--;)m.removeChild(O[U]);if(D||this.ellipsis||this.width||q.textPath||C.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(C))){if(C!==""){I&&I.appendChild(m);let U=new Yi(C);this.modifyTree(U.nodes),U.addToDOM(m),this.modifyDOM(),this.ellipsis&&(m.textContent||"").indexOf("")!==-1&&q.attr("title",this.unescapeEntities(q.textStr||"",["&lt;","&gt;"])),I&&I.removeChild(m)}}else m.appendChild(_d.createTextNode(this.unescapeEntities(C)));Sd(this.textOutline)&&q.applyTextOutline&&q.applyTextOutline(this.textOutline)}}modifyDOM(){let q,m=this.svgElement,b=Rg(m.element,"x");for(m.firstLineMetrics=void 0;(q=m.element.firstChild)&&/^[\s\u200B]*$/.test(q.textContent||" ");)m.element.removeChild(q);[].forEach.call(m.element.querySelectorAll("tspan.highcharts-br"),(I,B)=>{I.nextSibling&&I.previousSibling&&(B===0&&I.previousSibling.nodeType===1&&(m.firstLineMetrics=m.renderer.fontMetrics(I.previousSibling)),Rg(I,{dy:this.getLineHeight(I.nextSibling),x:b}))});let C=this.width||0;if(!C)return;let D=(I,B)=>{let U=I.textContent||"",Q=U.replace(/([^\^])-/g,"$1- ").split(" "),it=!this.noWrap&&(Q.length>1||m.element.childNodes.length>1),tt=this.getLineHeight(B),at=Math.max(0,C-.8*tt),gt=0,pt=m.actualWidth;if(it){let _t=[],wt=[];for(;B.firstChild&&B.firstChild!==I;)wt.push(B.firstChild),B.removeChild(B.firstChild);for(;Q.length;)if(Q.length&&!this.noWrap&&gt>0&&(_t.push(I.textContent||""),I.textContent=Q.join(" ").replace(/- /g,"-")),this.truncate(I,void 0,Q,gt===0&&pt||0,C,at,(bt,jt)=>Q.slice(0,jt).join(" ").replace(/- /g,"-")),pt=m.actualWidth,gt++,this.lineClamp&&gt>=this.lineClamp){Q.length&&(this.truncate(I,I.textContent||"",void 0,0,C,at,ju),I.textContent=I.textContent?.replace("","")+"");break}wt.forEach(bt=>{B.insertBefore(bt,I)}),_t.forEach(bt=>{B.insertBefore(_d.createTextNode(bt),I);let jt=_d.createElementNS(dm,"tspan");jt.textContent="",Rg(jt,{dy:tt,x:b}),B.insertBefore(jt,I)})}else this.ellipsis&&U&&this.truncate(I,U,void 0,0,C,at,ju)},O=I=>{[].slice.call(I.childNodes).forEach(B=>{B.nodeType===_h.Node.TEXT_NODE?D(B,I):(B.className.baseVal.indexOf("highcharts-br")!==-1&&(m.actualWidth=0),O(B))})};O(m.element)}getLineHeight(q){let m=q.nodeType===_h.Node.TEXT_NODE?q.parentElement:q;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(m||this.svgElement.element).h}modifyTree(q){let m=(b,C)=>{let{attributes:D={},children:O,style:I={},tagName:B}=b,U=this.renderer.styledMode;if(B==="b"||B==="strong"?U?D.class="highcharts-strong":I.fontWeight="bold":(B==="i"||B==="em")&&(U?D.class="highcharts-emphasized":I.fontStyle="italic"),I?.color&&(I.fill=I.color),B==="br"){D.class="highcharts-br",b.textContent="";let Q=q[C+1];Q?.textContent&&(Q.textContent=Q.textContent.replace(/^ +/gm,""))}else B==="a"&&O&&O.some(Q=>Q.tagName==="#text")&&(b.children=[{children:O,tagName:"tspan"}]);B!=="#text"&&B!=="a"&&(b.tagName="tspan"),fm(b,{attributes:D,style:I}),O&&O.filter(Q=>Q.tagName!=="#text").forEach(m)};q.forEach(m),gm(this.svgElement,"afterModifyTree",{nodes:q})}truncate(q,m,b,C,D,O,I){let B,U,Q=this.svgElement,{rotation:it}=Q,tt=[],at=b&&!C?1:0,gt=(m||b||"").length,pt=gt;b||(D=O);let _t=function(wt,bt){let jt=bt||wt,Dt=q.parentNode;if(Dt&&tt[jt]===void 0&&Dt.getSubStringLength)try{tt[jt]=C+Dt.getSubStringLength(0,b?jt+1:jt)}catch{}return tt[jt]};if(Q.rotation=0,C+(U=_t(q.textContent.length))>D){for(;at<=gt;)pt=Math.ceil((at+gt)/2),b&&(B=I(b,pt)),U=_t(pt,B&&B.length-1),at===gt?at=gt+1:U>D?gt=pt-1:at=pt;gt===0?q.textContent="":m&&gt===m.length-1||(q.textContent=B||I(m||b,pt)),this.ellipsis&&U>D&&this.truncate(q,q.textContent||"",void 0,0,D,O,ju)}b&&b.splice(0,pt),Q.actualWidth=U,Q.rotation=it}unescapeEntities(q,m){return El(this.renderer.escapes,function(b,C){m&&m.indexOf(b)!==-1||(q=q.toString().replace(RegExp(b,"g"),C))}),q}},{defaultOptions:kd}=tr,{charts:Wc,deg2rad:Sf,doc:jl,isFirefox:Cd,isMS:Ad,isWebKit:kf,noop:Ig,SVG_NS:Du,symbolSizes:Mr,win:Dl}=Y,{addEvent:Uc,attr:Hs,createElement:zg,crisp:nl,css:Yc,defined:il,destroyObjectProperties:Td,extend:rl,isArray:Ou,isNumber:us,isObject:Ol,isString:Cf,merge:Lu,pick:al,pInt:To,replaceNested:av,uniqueKey:kh}=ue;class Af{constructor(m,b,C,D,O,I,B){let U,Q;this.x=0,this.y=0;let it=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),tt=it.element;B||it.css(this.getStyle(D||{})),m.appendChild(tt),Hs(m,"dir","ltr"),m.innerHTML.indexOf("xmlns")===-1&&Hs(tt,"xmlns",this.SVG_NS),this.box=tt,this.boxWrapper=it,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(jl.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=I,this.forExport=O,this.styledMode=B,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=it.getStyle("font-size"),this.setSize(b,C,!1),Cd&&m.getBoundingClientRect&&((U=function(){Yc(m,{left:0,top:0}),Q=m.getBoundingClientRect(),Yc(m,{left:Math.ceil(Q.left)-Q.left+"px",top:Math.ceil(Q.top)-Q.top+"px"})})(),this.unSubPixelFix=Uc(Dl,"resize",U))}definition(m){return new Yi([m]).addToDOM(this.defs.element)}getReferenceURL(){if((Cd||kf)&&jl.getElementsByTagName("base").length){if(!il(i)){let m=kh(),b=new Yi([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:m},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${m})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(jl.body);Yc(b,{position:"fixed",top:0,left:0,zIndex:9e5}),i=jl.elementFromPoint(6,6)?.id==="hitme",jl.body.removeChild(b)}if(i)return av(Dl.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(m){return this.style=rl({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},m),this.style}setStyle(m){this.boxWrapper.css(this.getStyle(m))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let m=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Td(this.gradients||{}),this.gradients=null,this.defs=m.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(m){return new this.Element(this,m)}getRadialAttr(m,b){return{cx:m[0]-m[2]/2+(b.cx||0)*m[2],cy:m[1]-m[2]/2+(b.cy||0)*m[2],r:(b.r||0)*m[2]}}shadowDefinition(m){let b=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(m).map(D=>`${D}-${m[D]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),C=Lu({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},m);return this.defs.element.querySelector(`#${b}`)||this.definition({tagName:"filter",attributes:{id:b,filterUnits:C.filterUnits},children:this.getShadowFilterContent(C)}),b}getShadowFilterContent(m){return[{tagName:"feDropShadow",attributes:{dx:m.offsetX,dy:m.offsetY,"flood-color":m.color,"flood-opacity":Math.min(5*m.opacity,1),stdDeviation:m.width/2}}]}buildText(m){new so(m).buildSVG()}getContrast(m){if(m==="transparent")return"#000000";let b=We.parse(m).rgba,C=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(us(b[0])||!We.useColorMix){let D=b.map(I=>{let B=I/255;return B<=.04?B/12.92:Math.pow((B+.055)/1.055,2.4)}),O=.2126*D[0]+.7152*D[1]+.0722*D[2];return 1.05/(O+.05)>(O+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+m+" srgb"+C+C+C+")"}button(m,b,C,D,O={},I,B,U,Q,it){let tt=this.label(m,b,C,Q,void 0,void 0,it,void 0,"button"),at=this.styledMode,gt=arguments,pt=0;O=Lu(kd.global.buttonTheme,O),at&&(delete O.fill,delete O.stroke,delete O["stroke-width"]);let _t=O.states||{},wt=O.style||{};delete O.states,delete O.style;let bt=[Yi.filterUserAttributes(O)],jt=[wt];return at||["hover","select","disabled"].forEach((Dt,zt)=>{bt.push(Lu(bt[0],Yi.filterUserAttributes(gt[zt+5]||_t[Dt]||{}))),jt.push(bt[zt+1].style),delete bt[zt+1].style}),Uc(tt.element,Ad?"mouseover":"mouseenter",function(){pt!==3&&tt.setState(1)}),Uc(tt.element,Ad?"mouseout":"mouseleave",function(){pt!==3&&tt.setState(pt)}),tt.setState=(Dt=0)=>{if(Dt!==1&&(tt.state=pt=Dt),tt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Dt]),!at){tt.attr(bt[Dt]);let zt=jt[Dt];Ol(zt)&&tt.css(zt)}},tt.attr(bt[0]),!at&&(tt.css(rl({cursor:"default"},wt)),it&&tt.text.css({pointerEvents:"none"})),tt.on("touchstart",Dt=>Dt.stopPropagation()).on("click",function(Dt){pt!==3&&D?.call(tt,Dt)})}crispLine(m,b){let[C,D]=m;return il(C[1])&&C[1]===D[1]&&(C[1]=D[1]=nl(C[1],b)),il(C[2])&&C[2]===D[2]&&(C[2]=D[2]=nl(C[2],b)),m}path(m){let b=this.styledMode?{}:{fill:"none"};return Ou(m)?b.d=m:Ol(m)&&rl(b,m),this.createElement("path").attr(b)}circle(m,b,C){let D=Ol(m)?m:m===void 0?{}:{x:m,y:b,r:C},O=this.createElement("circle");return O.xSetter=O.ySetter=function(I,B,U){U.setAttribute("c"+B,I)},O.attr(D)}arc(m,b,C,D,O,I){let B;Ol(m)?(b=(B=m).y,C=B.r,D=B.innerR,O=B.start,I=B.end,m=B.x):B={innerR:D,start:O,end:I};let U=this.symbol("arc",m,b,C,C,B);return U.r=C,U}rect(m,b,C,D,O,I){let B=Ol(m)?m:m===void 0?{}:{x:m,y:b,r:O,width:Math.max(C||0,0),height:Math.max(D||0,0)},U=this.createElement("rect");return this.styledMode||(I!==void 0&&(B["stroke-width"]=I,rl(B,U.crisp(B))),B.fill="none"),U.rSetter=function(Q,it,tt){U.r=Q,Hs(tt,{rx:Q,ry:Q})},U.rGetter=function(){return U.r||0},U.attr(B)}roundedRect(m){return this.symbol("roundedRect").attr(m)}setSize(m,b,C){this.width=m,this.height=b,this.boxWrapper.animate({width:m,height:b},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:al(C,!0)?void 0:0}),this.alignElements()}g(m){let b=this.createElement("g");return m?b.attr({class:"highcharts-"+m}):b}image(m,b,C,D,O,I){let B={preserveAspectRatio:"none"};us(b)&&(B.x=b),us(C)&&(B.y=C),us(D)&&(B.width=D),us(O)&&(B.height=O);let U=this.createElement("image").attr(B),Q=function(it){U.attr({href:m}),I.call(U,it)};if(I){U.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let it=new Dl.Image;Uc(it,"load",Q),it.src=m,it.complete&&Q({})}else U.attr({href:m});return U}symbol(m,b,C,D,O,I){let B,U,Q,it,tt=this,at=/^url\((.*?)\)$/,gt=at.test(m),pt=!gt&&(this.symbols[m]?m:"circle"),_t=pt&&this.symbols[pt];if(_t)typeof b=="number"&&(U=_t.call(this.symbols,b||0,C||0,D||0,O||0,I)),B=this.path(U),tt.styledMode||B.attr("fill","none"),rl(B,{symbolName:pt||void 0,x:b,y:C,width:D,height:O}),I&&rl(B,I);else if(gt){Q=m.match(at)[1];let wt=B=this.image(Q);wt.imgwidth=al(I?.width,Mr[Q]?.width),wt.imgheight=al(I?.height,Mr[Q]?.height),it=bt=>bt.attr({width:bt.width,height:bt.height}),["width","height"].forEach(bt=>{wt[`${bt}Setter`]=function(jt,Dt){this[Dt]=jt;let{alignByTranslate:zt,element:Ut,width:$t,height:Vt,imgwidth:Gt,imgheight:pe}=this,ye=Dt==="width"?Gt:pe,me=1;I&&I.backgroundSize==="within"&&$t&&Vt&&Gt&&pe?(me=Math.min($t/Gt,Vt/pe),Hs(Ut,{width:Math.round(Gt*me),height:Math.round(pe*me)})):Ut&&ye&&Ut.setAttribute(Dt,ye),!zt&&Gt&&pe&&this.translate((($t||0)-Gt*me)/2,((Vt||0)-pe*me)/2)}}),il(b)&&wt.attr({x:b,y:C}),wt.isImg=!0,wt.symbolUrl=m,il(wt.imgwidth)&&il(wt.imgheight)?it(wt):(wt.attr({width:0,height:0}),zg("img",{onload:function(){let bt=Wc[tt.chartIndex];this.width===0&&(Yc(this,{position:"absolute",top:"-999em"}),jl.body.appendChild(this)),Mr[Q]={width:this.width,height:this.height},wt.imgwidth=this.width,wt.imgheight=this.height,wt.element&&it(wt),this.parentNode&&this.parentNode.removeChild(this),tt.imgCount--,tt.imgCount||!bt||bt.hasLoaded||bt.onload()},src:Q}),this.imgCount++)}return B}clipRect(m,b,C,D){return this.rect(m,b,C,D,0)}text(m,b,C,D){let O={};if(D&&(this.allowHTML||!this.forExport))return this.html(m,b,C);O.x=Math.round(b||0),C&&(O.y=Math.round(C)),il(m)&&(O.text=m);let I=this.createElement("text").attr(O);return D&&(!this.forExport||this.allowHTML)||(I.xSetter=function(B,U,Q){let it=Q.getElementsByTagName("tspan"),tt=Q.getAttribute(U);for(let at=0,gt;at<it.length;at++)(gt=it[at]).getAttribute(U)===tt&&gt.setAttribute(U,B);Q.setAttribute(U,B)}),I}fontMetrics(m){let b=us(m)?m:To(el.prototype.getStyle.call(m,"font-size")||0),C=b<24?b+3:Math.round(1.2*b),D=Math.round(.8*C);return{h:C,b:D,f:b}}rotCorr(m,b,C){let D=m;return b&&C&&(D=Math.max(D*Math.cos(b*Sf),4)),{x:-m/3*Math.sin(b*Sf),y:D}}pathToSegments(m){let b=[],C=[],D={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let O=0;O<m.length;O++)Cf(C[0])&&us(m[O])&&C.length===D[C[0].toUpperCase()]&&m.splice(O,0,C[0].replace("M","L").replace("m","l")),typeof m[O]=="string"&&(C.length&&b.push(C.slice(0)),C.length=0),C.push(m[O]);return b.push(C.slice(0)),b}label(m,b,C,D,O,I,B,U,Q){return new Ca(this,m,b,C,D,O,I,B,U,Q)}alignElements(){this.alignedObjects.forEach(m=>m.align())}}rl(Af.prototype,{Element:el,SVG_NS:Du,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Pl,draw:Ig}),Ot.registerRendererType("svg",Af,!0);let{composed:Gs,isFirefox:Sr}=Y,{attr:Ru,css:sl,createElement:Md,defined:Nd,extend:Pd,getAlignFactor:$c,isNumber:Mo,pInt:Qt,pushUnique:xe}=ue;function ce(q,m,b){let C=this.div?.style;el.prototype[`${m}Setter`].call(this,q,m,b),C&&(b.style[m]=C[m]=q)}let Ue=(q,m)=>{if(!q.div){let b=Ru(q.element,"class"),C=q.css,D=Md("div",b?{className:b}:void 0,{position:"absolute",left:`${q.translateX||0}px`,top:`${q.translateY||0}px`,...q.styles,display:q.display,opacity:q.opacity,visibility:q.visibility},q.parentGroup?.div||m);q.classSetter=(O,I,B)=>{B.setAttribute("class",O),D.className=O},q.translateXSetter=q.translateYSetter=(O,I)=>{q[I]=O,D.style[I==="translateX"?"left":"top"]=`${O}px`,q.doTransform=!0},q.scaleXSetter=q.scaleYSetter=(O,I)=>{q[I]=O,q.doTransform=!0},q.opacitySetter=q.visibilitySetter=ce,q.css=O=>(C.call(q,O),O.cursor&&(D.style.cursor=O.cursor),O.pointerEvents&&(D.style.pointerEvents=O.pointerEvents),q),q.on=function(){return el.prototype.on.apply({element:D,onEvents:q.onEvents},arguments),q},q.div=D}return q.div};class wn extends el{static compose(m){xe(Gs,this.compose)&&(m.prototype.html=function(b,C,D){return new wn(this,"span").attr({text:b,x:Math.round(C),y:Math.round(D)})})}constructor(m,b){super(m,b),wn.useForeignObject?this.foreignObject=m.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...m.styledMode?{}:{fontFamily:m.style.fontFamily,fontSize:m.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(m,b,C){this.xCorr=-m*C,this.yCorr=-b}css(m){let b,{element:C}=this,D=C.tagName==="SPAN"&&m&&"width"in m,O=D&&m.width;return D&&(delete m.width,this.textWidth=Qt(O)||void 0,b=!0),m?.textOverflow==="ellipsis"&&(m.overflow="hidden",m.whiteSpace="nowrap"),m?.lineClamp&&(m.display="-webkit-box",m.WebkitLineClamp=m.lineClamp,m.WebkitBoxOrient="vertical",m.overflow="hidden"),Mo(Number(m?.fontSize))&&(m.fontSize+="px"),Pd(this.styles,m),sl(C,m),b&&this.updateTransform(),this}htmlGetBBox(){let{element:m}=this;return{x:m.offsetLeft,y:m.offsetTop,width:m.offsetWidth,height:m.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:m,foreignObject:b,oldTextWidth:C,renderer:D,rotation:O,rotationOriginX:I,rotationOriginY:B,scaleX:U,scaleY:Q,styles:{display:it="inline-block",whiteSpace:tt},textAlign:at="left",textWidth:gt,translateX:pt=0,translateY:_t=0,x:wt=0,y:bt=0}=this;if(b||sl(m,{marginLeft:`${pt}px`,marginTop:`${_t}px`}),m.tagName==="SPAN"){let jt,Dt=[O,at,m.innerHTML,gt,this.textAlign].join(","),zt=-(this.parentGroup?.padding*1)||0;if(gt!==C){let Gt=this.textPxLength?this.textPxLength:(sl(m,{width:"",whiteSpace:tt||"nowrap"}),m.offsetWidth),pe=gt||0,ye=!D.styledMode&&m.style.textOverflow===""&&m.style.webkitLineClamp;(pe>C||Gt>pe||ye)&&(/[\-\s\u00AD]/.test(m.textContent||m.innerText)||m.style.textOverflow==="ellipsis")&&(sl(m,{width:(O||U||Gt>pe||ye)&&Mo(gt)?gt+"px":"auto",display:it,whiteSpace:tt||"normal"}),this.oldTextWidth=gt)}b&&(sl(m,{display:"inline-block",verticalAlign:"top"}),b.attr({width:D.width,height:D.height})),Dt!==this.cTT&&(jt=D.fontMetrics(m).b,Nd(O)&&!b&&(O!==(this.oldRotation||0)||at!==this.oldAlign)&&sl(m,{transform:`rotate(${O}deg)`,transformOrigin:`${zt}% ${zt}px`}),this.getSpanCorrection(!Nd(O)&&!this.textWidth&&this.textPxLength||m.offsetWidth,jt,$c(at)));let{xCorr:Ut=0,yCorr:$t=0}=this,Vt={left:`${wt+Ut}px`,top:`${bt+$t}px`,textAlign:at,transformOrigin:`${(I??wt)-Ut-wt-zt}px ${(B??bt)-$t-bt-zt}px`};(U||Q)&&(Vt.transform=`scale(${U??1},${Q??1})`),b?(super.updateTransform(),Mo(wt)&&Mo(bt)?(b.attr({x:wt+Ut,y:bt+$t,width:m.offsetWidth+3,height:m.offsetHeight,"transform-origin":m.getAttribute("transform-origin")||"0 0"}),sl(m,{display:it,textAlign:at})):Sr&&b.attr({width:0,height:0})):sl(m,Vt),this.cTT=Dt,this.oldRotation=O,this.oldAlign=at}}add(m){let{foreignObject:b,renderer:C}=this,D=C.box.parentNode,O=[];if(b)b.add(m),super.add(C.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(b));else{let I;if(this.parentGroup=m,m&&!(I=m.div)){let B=m;for(;B;)O.push(B),B=B.parentGroup;for(let U of O.reverse())I=Ue(U,D)}(I||D).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(m){m!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Yi.setElementHTML(this.element,m??""),this.textStr=m,this.doTransform=!0)}alignSetter(m){this.alignValue=this.textAlign=m,this.doTransform=!0}xSetter(m,b){this[b]=m,this.doTransform=!0}}let Ln=wn.prototype;Ln.visibilitySetter=Ln.opacitySetter=ce,Ln.ySetter=Ln.rotationSetter=Ln.rotationOriginXSetter=Ln.rotationOriginYSetter=Ln.xSetter,(function(q){q.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},q.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:m}=this.axis.chart;return m(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(o||(o={}));let Fr=o,{addEvent:Xi,isFunction:Tf,objectEach:hs,removeEvent:ds}=ue;(l||(l={})).registerEventOptions=function(q,m){q.eventOptions=q.eventOptions||{},hs(m.events,function(b,C){q.eventOptions[C]!==b&&(q.eventOptions[C]&&(ds(q,C,q.eventOptions[C]),delete q.eventOptions[C]),Tf(b)&&(q.eventOptions[C]=b,Xi(q,C,b,{order:0})))})};let Vc=l,{deg2rad:Iu}=Y,{clamp:Ch,correctFloat:Xc,defined:Ah,destroyObjectProperties:Ci,extend:Fg,fireEvent:oo,getAlignFactor:Ss,isNumber:qc,merge:No,objectEach:Ws,pick:fs}=ue,Za=class{constructor(q,m,b,C,D){this.isNew=!0,this.isNewLabel=!0,this.axis=q,this.pos=m,this.type=b||"",this.parameters=D||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,oo(this,"init"),b||C||this.addLabel()}addLabel(){let q=this,m=q.axis,b=m.options,C=m.chart,D=m.categories,O=m.logarithmic,I=m.names,B=q.pos,U=fs(q.options?.labels,b.labels),Q=m.tickPositions,it=B===Q[0],tt=B===Q[Q.length-1],at=(!U.step||U.step===1)&&m.tickInterval===1,gt=Q.info,pt=q.label,_t,wt,bt,jt=this.parameters.category||(D?fs(D[B],I[B],B):B);O&&qc(jt)&&(jt=Xc(O.lin2log(jt))),m.dateTime&&(gt?_t=(wt=C.time.resolveDTLFormat(b.dateTimeLabelFormats[!b.grid?.enabled&&gt.higherRanks[B]||gt.unitName])).main:qc(jt)&&(_t=m.dateTime.getXDateFormat(jt,b.dateTimeLabelFormats||{}))),q.isFirst=it,q.isLast=tt;let Dt={axis:m,chart:C,dateTimeLabelFormat:_t,isFirst:it,isLast:tt,pos:B,tick:q,tickPositionInfo:gt,value:jt};oo(this,"labelFormat",Dt);let zt=Vt=>U.formatter?U.formatter.call(Vt,Vt):U.format?(Vt.text=m.defaultLabelFormatter.call(Vt),At.format(U.format,Vt,C)):m.defaultLabelFormatter.call(Vt),Ut=zt.call(Dt,Dt),$t=wt?.list;$t?q.shortenLabel=function(){for(bt=0;bt<$t.length;bt++)if(Fg(Dt,{dateTimeLabelFormat:$t[bt]}),pt.attr({text:zt.call(Dt,Dt)}),pt.getBBox().width<m.getSlotWidth(q)-2*(U.padding||0))return;pt.attr({text:""})}:q.shortenLabel=void 0,at&&m._addedPlotLB&&q.moveLabel(Ut,U),Ah(pt)||q.movedLabel?pt&&pt.textStr!==Ut&&!at&&(!pt.textWidth||U.style.width||pt.styles.width||pt.css({width:null}),pt.attr({text:Ut}),pt.textPxLength=pt.getBBox().width):(q.label=pt=q.createLabel(Ut,U),q.rotation=0)}createLabel(q,m,b){let C=this.axis,{renderer:D,styledMode:O}=C.chart,I=m.style.whiteSpace,B=Ah(q)&&m.enabled?D.text(q,b?.x,b?.y,m.useHTML).add(C.labelGroup):void 0;return B&&(O||B.css(No(m.style)),B.textPxLength=B.getBBox().width,!O&&I&&B.css({whiteSpace:I})),B}destroy(){Ci(this,this.axis)}getPosition(q,m,b,C){let D=this.axis,O=D.chart,I=C&&O.oldChartHeight||O.chartHeight,B={x:q?Xc(D.translate(m+b,void 0,void 0,C)+D.transB):D.left+D.offset+(D.opposite?(C&&O.oldChartWidth||O.chartWidth)-D.right-D.left:0),y:q?I-D.bottom+D.offset-(D.opposite?D.height:0):Xc(I-D.translate(m+b,void 0,void 0,C)-D.transB)};return B.y=Ch(B.y,-1e9,1e9),oo(this,"afterGetPosition",{pos:B}),B}getLabelPosition(q,m,b,C,D,O,I,B){let U,Q,it=this.axis,tt=it.transA,at=it.isLinked&&it.linkedParent?it.linkedParent.reversed:it.reversed,gt=it.staggerLines,pt=it.tickRotCorr||{x:0,y:0},_t=C||it.reserveSpaceDefault?0:-it.labelOffset*(it.labelAlign==="center"?.5:1),wt=D.distance,bt={};return U=it.side===0?b.rotation?-wt:-b.getBBox().height:it.side===2?pt.y+wt:Math.cos(b.rotation*Iu)*(pt.y-b.getBBox(!1,0).height/2),Ah(D.y)&&(U=it.side===0&&it.horiz?D.y+U:D.y),q=q+fs(D.x,[0,1,0,-1][it.side]*wt)+_t+pt.x-(O&&C?O*tt*(at?-1:1):0),m=m+U-(O&&!C?O*tt*(at?1:-1):0),gt&&(Q=I/(B||1)%gt,it.opposite&&(Q=gt-Q-1),m+=Q*(it.labelOffset/gt)),bt.x=q,bt.y=Math.round(m),oo(this,"afterGetLabelPosition",{pos:bt,tickmarkOffset:O,index:I}),bt}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(q,m,b,C,D=!1,O){return O.crispLine([["M",q,m],["L",q+(D?0:-b),m+(D?b:0)]],C)}handleOverflow(q){let m=this.axis,b=m.options.labels,C=q.x,D=m.chart.chartWidth,O=m.chart.spacing,I=fs(m.labelLeft,Math.min(m.pos,O[3])),B=fs(m.labelRight,Math.max(m.isRadial?0:m.pos+m.len,D-O[1])),U=this.label,Q=this.rotation,it=Ss(m.labelAlign||U.attr("align")),tt=U.getBBox().width,at=m.getSlotWidth(this),gt=at,pt=1,_t;Q||b.overflow!=="justify"?Q<0&&C-it*tt<I?_t=Math.round(C/Math.cos(Q*Iu)-I):Q>0&&C+it*tt>B&&(_t=Math.round((D-C)/Math.cos(Q*Iu))):(C-it*tt<I?gt=q.x+gt*(1-it)-I:C+(1-it)*tt>B&&(gt=B-q.x+gt*it,pt=-1),(gt=Math.min(at,gt))<at&&m.labelAlign==="center"&&(q.x+=pt*(at-gt-it*(at-Math.min(tt,gt)))),(tt>gt||m.autoRotation&&U?.styles?.width)&&(_t=gt)),_t&&U&&(this.shortenLabel?this.shortenLabel():U.css(Fg({},{width:Math.floor(_t)+"px",lineClamp:+!m.isRadial})))}moveLabel(q,m){let b=this,C=b.label,D=b.axis,O=!1,I;C&&C.textStr===q?(b.movedLabel=C,O=!0,delete b.label):Ws(D.ticks,function(B){O||B.isNew||B===b||!B.label||B.label.textStr!==q||(b.movedLabel=B.label,O=!0,B.labelPos=b.movedLabel.xy,delete B.label)}),!O&&(b.labelPos||C)&&(I=b.labelPos||C.xy,b.movedLabel=b.createLabel(q,m,I),b.movedLabel&&b.movedLabel.attr({opacity:0}))}render(q,m,b){let C=this.axis,D=C.horiz,O=this.pos,I=fs(this.tickmarkOffset,C.tickmarkOffset),B=this.getPosition(D,O,I,m),U=B.x,Q=B.y,it=C.pos,tt=it+C.len,at=D?U:Q,gt=fs(b,this.label?.newOpacity,1);!C.chart.polar&&(Xc(at)<it||at>tt)&&(b=0),b??(b=1),this.isActive=!0,this.renderGridLine(m,b),this.renderMark(B,b),this.renderLabel(B,m,gt,q),this.isNew=!1,oo(this,"afterRender")}renderGridLine(q,m){let b=this.axis,C=b.options,D={},O=this.pos,I=this.type,B=fs(this.tickmarkOffset,b.tickmarkOffset),U=b.chart.renderer,Q=this.gridLine,it,tt=C.gridLineWidth,at=C.gridLineColor,gt=C.gridLineDashStyle;this.type==="minor"&&(tt=C.minorGridLineWidth,at=C.minorGridLineColor,gt=C.minorGridLineDashStyle),Q||(b.chart.styledMode||(D.stroke=at,D["stroke-width"]=tt||0,D.dashstyle=gt),I||(D.zIndex=1),q&&(m=0),this.gridLine=Q=U.path().attr(D).addClass("highcharts-"+(I?I+"-":"")+"grid-line").add(b.gridGroup)),Q&&(it=b.getPlotLinePath({value:O+B,lineWidth:Q.strokeWidth(),force:"pass",old:q,acrossPanes:!1}))&&Q[q||this.isNew?"attr":"animate"]({d:it,opacity:m})}renderMark(q,m){let b=this.axis,C=b.options,D=b.chart.renderer,O=this.type,I=b.tickSize(O?O+"Tick":"tick"),B=q.x,U=q.y,Q=fs(C[O!=="minor"?"tickWidth":"minorTickWidth"],!O&&b.isXAxis?1:0),it=C[O!=="minor"?"tickColor":"minorTickColor"],tt=this.mark,at=!tt;I&&(b.opposite&&(I[0]=-I[0]),!tt&&(this.mark=tt=D.path().addClass("highcharts-"+(O?O+"-":"")+"tick").add(b.axisGroup),b.chart.styledMode||tt.attr({stroke:it,"stroke-width":Q})),tt[at?"attr":"animate"]({d:this.getMarkPath(B,U,I[0],tt.strokeWidth(),b.horiz,D),opacity:m}))}renderLabel(q,m,b,C){let D=this.axis,O=D.horiz,I=D.options,B=this.label,U=I.labels,Q=U.step,it=fs(this.tickmarkOffset,D.tickmarkOffset),tt=q.x,at=q.y,gt=!0;B&&qc(tt)&&(B.xy=q=this.getLabelPosition(tt,at,B,O,U,it,C,Q),(!this.isFirst||this.isLast||I.showFirstLabel)&&(!this.isLast||this.isFirst||I.showLastLabel)?!O||U.step||U.rotation||m||b===0||this.handleOverflow(q):gt=!1,Q&&C%Q&&(gt=!1),gt&&qc(q.y)?(q.opacity=b,B[this.isNewLabel?"attr":"animate"](q).show(!0),this.isNewLabel=!1):(B.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let q=this.label,m=this.axis;q&&!this.isNew&&(q.animate({opacity:0},void 0,q.destroy),delete this.label),m.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:ol}=ni,{xAxis:Ed,yAxis:lo}=Fr,{defaultOptions:dc}=tr,{registerEventOptions:Th}=Vc,{deg2rad:Ll}=Y,{arrayMax:Bg,arrayMin:Ha,clamp:Po,correctFloat:Nr,defined:qi,destroyObjectProperties:jd,erase:Kc,error:fc,extend:gc,fireEvent:cr,getClosestDistance:v,insertItem:M,isArray:W,isNumber:et,isString:ft,merge:Ct,normalizeTickInterval:Bt,objectEach:te,pick:Zt,relativeLength:_e,removeEvent:Re,splat:rn,syncTimeout:Yn}=ue,Qr=(q,m)=>Bt(m,void 0,void 0,Zt(q.options.allowDecimals,m<.5||q.tickAmount!==void 0),!!q.tickAmount);gc(dc,{xAxis:Ed,yAxis:Ct(Ed,lo)});class rr{constructor(m,b,C){this.init(m,b,C)}init(m,b,C=this.coll){let D=C==="xAxis",O=this.isZAxis||(m.inverted?!D:D);this.chart=m,this.horiz=O,this.isXAxis=D,this.coll=C,cr(this,"init",{userOptions:b}),this.opposite=Zt(b.opposite,this.opposite),this.side=Zt(b.side,this.side,O?2*!this.opposite:this.opposite?1:3),this.setOptions(b);let I=this.options,B=I.labels;this.type??(this.type=I.type||"linear"),this.uniqueNames??(this.uniqueNames=I.uniqueNames??!0),cr(this,"afterSetType"),this.userOptions=b,this.minPixelPadding=0,this.reversed=Zt(I.reversed,this.reversed),this.visible=I.visible,this.zoomEnabled=I.zoomEnabled,this.hasNames=this.type==="category"||I.categories===!0,this.categories=W(I.categories)&&I.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=qi(I.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=I.minRange||I.maxZoom,this.range=I.range,this.offset=I.offset||0,this.max=void 0,this.min=void 0;let U=Zt(I.crosshair,rn(m.options.tooltip.crosshairs)[+!D]);this.crosshair=U===!0?{}:U,m.axes.indexOf(this)===-1&&(D?m.axes.splice(m.xAxis.length,0,this):m.axes.push(this),M(this,m[this.coll])),m.orderItems(this.coll),this.series=this.series||[],m.inverted&&!this.isZAxis&&D&&!qi(this.reversed)&&(this.reversed=!0),this.labelRotation=et(B.rotation)?B.rotation:void 0,Th(this,I),cr(this,"afterInit")}setOptions(m){let b=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Ct(b,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},dc[this.coll],m),cr(this,"afterSetOptions",{userOptions:m})}defaultLabelFormatter(){let m=this.axis,{numberFormatter:b}=this.chart,C=et(this.value)?this.value:NaN,D=m.chart.time,O=m.categories,I=this.dateTimeLabelFormat,B=dc.lang,U=B.numericSymbols,Q=B.numericSymbolMagnitude||1e3,it=m.logarithmic?Math.abs(C):m.tickInterval,tt=U?.length,at,gt;if(O)gt=`${this.value}`;else if(I)gt=D.dateFormat(I,C,!0);else if(tt&&U&&it>=1e3)for(;tt--&&gt===void 0;)it>=(at=Math.pow(Q,tt+1))&&10*C%at==0&&U[tt]!==null&&C!==0&&(gt=b(C/at,-1)+U[tt]);return gt===void 0&&(gt=Math.abs(C)>=1e4?b(C,-1):b(C,-1,void 0,"")),gt}getSeriesExtremes(){let m,b=this;cr(this,"getSeriesExtremes",null,function(){b.hasVisibleSeries=!1,b.dataMin=b.dataMax=b.threshold=void 0,b.softThreshold=!b.isXAxis,b.series.forEach(C=>{if(C.reserveSpace()){let D=C.options,O,I=D.threshold,B,U;if(b.hasVisibleSeries=!0,b.positiveValuesOnly&&0>=(I||0)&&(I=void 0),b.isXAxis)(O=C.getColumn("x")).length&&(O=b.logarithmic?O.filter(Q=>Q>0):O,B=(m=C.getXExtremes(O)).min,U=m.max,et(B)||B instanceof Date||(O=O.filter(et),B=(m=C.getXExtremes(O)).min,U=m.max),O.length&&(b.dataMin=Math.min(Zt(b.dataMin,B),B),b.dataMax=Math.max(Zt(b.dataMax,U),U)));else{let Q=C.applyExtremes();et(Q.dataMin)&&(B=Q.dataMin,b.dataMin=Math.min(Zt(b.dataMin,B),B)),et(Q.dataMax)&&(U=Q.dataMax,b.dataMax=Math.max(Zt(b.dataMax,U),U)),qi(I)&&(b.threshold=I),(!D.softThreshold||b.positiveValuesOnly)&&(b.softThreshold=!1)}}})}),cr(this,"afterGetSeriesExtremes")}translate(m,b,C,D,O,I){let B=this.linkedParent||this,U=D&&B.old?B.old.min:B.min;if(!et(U))return NaN;let Q=B.minPixelPadding,it=(B.isOrdinal||B.brokenAxis?.hasBreaks||B.logarithmic&&O)&&!!B.lin2val,tt=1,at=0,gt=D&&B.old?B.old.transA:B.transA,pt=0;return gt||(gt=B.transA),C&&(tt*=-1,at=B.len),B.reversed&&(tt*=-1,at-=tt*(B.sector||B.len)),b?(pt=(m=m*tt+at-Q)/gt+U,it&&(pt=B.lin2val(pt))):(it&&(m=B.val2lin(m)),pt=tt*(m-U)*gt+at+tt*Q+(et(I)?gt*I:0),B.isRadial||(pt=Nr(pt))),pt}toPixels(m,b){return this.translate(this.chart?.time.parse(m)??NaN,!1,!this.horiz,void 0,!0)+(b?0:this.pos)}toValue(m,b){return this.translate(m-(b?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(m){let b=this,C=b.chart,D=b.left,O=b.top,I=m.old,B=m.value,U=m.lineWidth,Q=I&&C.oldChartHeight||C.chartHeight,it=I&&C.oldChartWidth||C.chartWidth,tt=b.transB,at=m.translatedValue,gt=m.force,pt,_t,wt,bt,jt;function Dt(Ut,$t,Vt){return gt!=="pass"&&(Ut<$t||Ut>Vt)&&(gt?Ut=Po(Ut,$t,Vt):jt=!0),Ut}let zt={value:B,lineWidth:U,old:I,force:gt,acrossPanes:m.acrossPanes,translatedValue:at};return cr(this,"getPlotLinePath",zt,function(Ut){pt=wt=(at=Po(at=Zt(at,b.translate(B,void 0,void 0,I)),-1e9,1e9))+tt,_t=bt=Q-at-tt,et(at)?b.horiz?(_t=O,bt=Q-b.bottom+(b.options.isInternal?0:C.scrollablePixelsY||0),pt=wt=Dt(pt,D,D+b.width)):(pt=D,wt=it-b.right+(C.scrollablePixelsX||0),_t=bt=Dt(_t,O,O+b.height)):(jt=!0,gt=!1),Ut.path=jt&&!gt?void 0:C.renderer.crispLine([["M",pt,_t],["L",wt,bt]],U||1)}),zt.path}getLinearTickPositions(m,b,C){let D,O,I,B=Nr(Math.floor(b/m)*m),U=Nr(Math.ceil(C/m)*m),Q=[];if(Nr(B+m)===B&&(I=20),this.single)return[b];for(D=B;D<=U&&(Q.push(D),(D=Nr(D+m,I))!==O);)O=D;return Q}getMinorTickInterval(){let{minorTicks:m,minorTickInterval:b}=this.options;return m===!0?Zt(b,"auto"):m!==!1?b:void 0}getMinorTickPositions(){let m=this.options,b=this.tickPositions,C=this.minorTickInterval,D=this.pointRangePadding||0,O=(this.min||0)-D,I=(this.max||0)+D,B=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:I-O,U=[],Q;if(B&&B/C<this.len/3){let it=this.logarithmic;if(it)this.paddedTicks.forEach(function(tt,at,gt){at&&U.push.apply(U,it.getLogTickPositions(C,gt[at-1],gt[at],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")U=U.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(C),O,I,m.startOfWeek));else for(Q=O+(b[0]-O)%C;Q<=I&&Q!==U[0];Q+=C)U.push(Q)}return U.length!==0&&this.trimTicks(U),U}adjustForMinRange(){let m=this.options,b=this.logarithmic,C=this.chart.time,{max:D,min:O,minRange:I}=this,B,U,Q,it;this.isXAxis&&I===void 0&&!b&&(I=qi(m.min)||qi(m.max)||qi(m.floor)||qi(m.ceiling)?null:Math.min(5*(v(this.series.map(tt=>{let at=tt.getColumn("x");return tt.xIncrement?at.slice(0,2):at}))||0),this.dataMax-this.dataMin)),et(D)&&et(O)&&et(I)&&D-O<I&&(U=this.dataMax-this.dataMin>=I,B=(I-D+O)/2,Q=[O-B,C.parse(m.min)??O-B],U&&(Q[2]=b?b.log2lin(this.dataMin):this.dataMin),it=[(O=Bg(Q))+I,C.parse(m.max)??O+I],U&&(it[2]=b?b.log2lin(this.dataMax):this.dataMax),(D=Ha(it))-O<I&&(Q[0]=D-I,Q[1]=C.parse(m.min)??D-I,O=Bg(Q))),this.minRange=I,this.min=O,this.max=D}getClosest(){let m,b;if(this.categories)b=1;else{let C=[];this.series.forEach(function(D){let O=D.closestPointRange,I=D.getColumn("x");I.length===1?C.push(I[0]):D.sorted&&qi(O)&&D.reserveSpace()&&(b=qi(b)?Math.min(b,O):O)}),C.length&&(C.sort((D,O)=>D-O),m=v([C]))}return m&&b?Math.min(m,b):m||b}nameToX(m){let b=W(this.options.categories),C=b?this.categories:this.names,D=m.options.x,O;return m.series.requireSorting=!1,qi(D)||(D=this.uniqueNames&&C?b?C.indexOf(m.name):Zt(C.keys[m.name],-1):m.series.autoIncrement()),D===-1?!b&&C&&(O=C.length):et(D)&&(O=D),O!==void 0?(this.names[O]=m.name,this.names.keys[m.name]=O):m.x&&(O=m.x),O}updateNames(){let m=this,b=this.names;b.length>0&&(Object.keys(b.keys).forEach(function(C){delete b.keys[C]}),b.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(C=>{C.xIncrement=null,(!C.points||C.isDirtyData)&&(m.max=Math.max(m.max||0,C.dataTable.rowCount-1),C.processData(),C.generatePoints());let D=C.getColumn("x").slice();C.data.forEach((O,I)=>{let B=D[I];O?.options&&O.name!==void 0&&(B=m.nameToX(O))!==void 0&&B!==O.x&&(D[I]=O.x=B)}),C.dataTable.setColumn("x",D)}))}setAxisTranslation(){let m=this,b=m.max-m.min,C=m.linkedParent,D=!!m.categories,O=m.isXAxis,I=m.axisPointRange||0,B,U=0,Q=0,it,tt=m.transA;(O||D||I)&&(B=m.getClosest(),C?(U=C.minPointOffset,Q=C.pointRangePadding):m.series.forEach(function(at){let gt=D?1:O?Zt(at.options.pointRange,B,0):m.axisPointRange||0,pt=at.options.pointPlacement;if(I=Math.max(I,gt),!m.single||D){let _t=at.is("xrange")?!O:O;U=Math.max(U,_t&&ft(pt)?0:gt/2),Q=Math.max(Q,_t&&pt==="on"?0:gt)}}),it=m.ordinal?.slope&&B?m.ordinal.slope/B:1,m.minPointOffset=U*=it,m.pointRangePadding=Q*=it,m.pointRange=Math.min(I,m.single&&D?1:b),O&&(m.closestPointRange=B)),m.translationSlope=m.transA=tt=m.staticScale||m.len/(b+Q||1),m.transB=m.horiz?m.left:m.bottom,m.minPixelPadding=tt*U,cr(this,"afterSetAxisTranslation")}minFromRange(){let{max:m,min:b}=this;return et(m)&&et(b)&&m-b||void 0}setTickInterval(m){let{categories:b,chart:C,dataMax:D,dataMin:O,dateTime:I,isXAxis:B,logarithmic:U,options:Q,softThreshold:it}=this,tt=C.time,at=et(this.threshold)?this.threshold:void 0,gt=this.minRange||0,{ceiling:pt,floor:_t,linkedTo:wt,softMax:bt,softMin:jt}=Q,Dt=et(wt)&&C[this.coll]?.[wt],zt=Q.tickPixelInterval,Ut=Q.maxPadding,$t=Q.minPadding,Vt=0,Gt,pe=et(Q.tickInterval)&&Q.tickInterval>=0?Q.tickInterval:void 0,ye,me,Ie,Ze;if(I||b||Dt||this.getTickAmount(),Ie=Zt(this.userMin,tt.parse(Q.min)),Ze=Zt(this.userMax,tt.parse(Q.max)),Dt?(this.linkedParent=Dt,Gt=Dt.getExtremes(),this.min=Zt(Gt.min,Gt.dataMin),this.max=Zt(Gt.max,Gt.dataMax),this.type!==Dt.type&&fc(11,!0,C)):(it&&qi(at)&&et(D)&&et(O)&&(O>=at?(ye=at,$t=0):D<=at&&(me=at,Ut=0)),this.min=Zt(Ie,ye,O),this.max=Zt(Ze,me,D)),et(this.max)&&et(this.min)&&(U&&(this.positiveValuesOnly&&!m&&0>=Math.min(this.min,Zt(O,this.min))&&fc(10,!0,C),this.min=Nr(U.log2lin(this.min),16),this.max=Nr(U.log2lin(this.max),16)),this.range&&et(O)&&(this.userMin=this.min=Ie=Math.max(O,this.minFromRange()||0),this.userMax=Ze=this.max,this.range=void 0)),cr(this,"foundExtremes"),this.adjustForMinRange(),et(this.min)&&et(this.max)){if(!et(this.userMin)&&et(jt)&&jt<this.min&&(this.min=Ie=jt),!et(this.userMax)&&et(bt)&&bt>this.max&&(this.max=Ze=bt),b||this.axisPointRange||this.stacking?.usePercentage||Dt||(Vt=this.max-this.min)&&(!qi(Ie)&&$t&&(this.min-=Vt*$t),!qi(Ze)&&Ut&&(this.max+=Vt*Ut)),!et(this.userMin)&&et(_t)&&(this.min=Math.max(this.min,_t)),!et(this.userMax)&&et(pt)&&(this.max=Math.min(this.max,pt)),it&&et(O)&&et(D)){let De=at||0;!qi(Ie)&&this.min<De&&O>=De?this.min=Q.minRange?Math.min(De,this.max-gt):De:!qi(Ze)&&this.max>De&&D<=De&&(this.max=Q.minRange?Math.max(De,this.min+gt):De)}!C.polar&&this.min>this.max&&(qi(Q.min)?this.max=this.min:qi(Q.max)&&(this.min=this.max)),Vt=this.max-this.min}if(this.min!==this.max&&et(this.min)&&et(this.max)?Dt&&!pe&&zt===Dt.options.tickPixelInterval?this.tickInterval=pe=Dt.tickInterval:this.tickInterval=Zt(pe,this.tickAmount?Vt/Math.max(this.tickAmount-1,1):void 0,b?1:Vt*zt/Math.max(this.len,zt)):this.tickInterval=1,B&&!m){let De=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Be){Be.forceCrop=Be.forceCropping?.(),Be.processData(De)}),cr(this,"postProcessData",{hasExtremesChanged:De})}this.setAxisTranslation(),cr(this,"initialAxisTranslation"),this.pointRange&&!pe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let en=Zt(Q.minTickInterval,I&&!this.series.some(De=>!De.sorted)?this.closestPointRange:0);!pe&&en&&this.tickInterval<en&&(this.tickInterval=en),I||U||pe||(this.tickInterval=Qr(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let m=this.options,b=m.tickPositions,C=m.tickPositioner,D=this.getMinorTickInterval(),O=!this.isPanning,I=O&&m.startOnTick,B=O&&m.endOnTick,U=[],Q;if(this.tickmarkOffset=this.categories&&m.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&qi(this.min)&&!this.tickAmount&&(this.min%1==0||m.allowDecimals!==!1),b)U=b.slice();else if(et(this.min)&&et(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))U=[this.min,this.max],fc(19,!1,this.chart);else if(this.dateTime)U=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,m.units),this.min,this.max,m.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)U=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let it=this.tickInterval,tt=it;for(;tt<=2*it&&(U=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&U.length>this.tickAmount);)this.tickInterval=Qr(this,tt*=1.1)}U.length>this.len&&(U=[U[0],U[U.length-1]])[0]===U[1]&&(U.length=1),C&&(this.tickPositions=U,(Q=C.apply(this,[this.min,this.max]))&&(U=Q))}this.tickPositions=U,this.minorTickInterval=D==="auto"&&this.tickInterval?this.tickInterval/m.minorTicksPerMajor:D,this.paddedTicks=U.slice(0),this.trimTicks(U,I,B),!this.isLinked&&et(this.min)&&et(this.max)&&(this.single&&U.length<2&&!this.categories&&!this.series.some(it=>it.is("heatmap")&&it.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),b||Q||this.adjustTickAmount()),cr(this,"afterSetTickPositions")}trimTicks(m,b,C){let D=m[0],O=m[m.length-1],I=!this.isOrdinal&&this.minPointOffset||0;if(cr(this,"trimTicks"),!this.isLinked||!this.grid){if(b&&D!==-1/0)this.min=D;else for(;this.min-I>m[0];)m.shift();if(C)this.max=O;else for(;this.max+I<m[m.length-1];)m.pop();m.length===0&&qi(D)&&!this.options.tickPositions&&m.push((O+D)/2)}}alignToOthers(){let m,b=this,C=b.chart,D=[this],O=b.options,I=C.options.chart,B=this.coll==="yAxis"&&I.alignThresholds,U=[];if(b.thresholdAlignment=void 0,(I.alignTicks!==!1&&O.alignTicks||B)&&O.startOnTick!==!1&&O.endOnTick!==!1&&!b.logarithmic){let Q=tt=>{let{horiz:at,options:gt}=tt;return[at?gt.left:gt.top,gt.width,gt.height,gt.pane].join(",")},it=Q(this);C[this.coll].forEach(function(tt){let{series:at}=tt;at.length&&at.some(gt=>gt.visible)&&tt!==b&&Q(tt)===it&&(m=!0,D.push(tt))})}if(m&&B){D.forEach(it=>{let tt=it.getThresholdAlignment(b);et(tt)&&U.push(tt)});let Q=U.length>1?U.reduce((it,tt)=>it+=tt,0)/U.length:void 0;D.forEach(it=>{it.thresholdAlignment=Q})}return m}getThresholdAlignment(m){if((!et(this.dataMin)||this!==m&&this.series.some(b=>b.isDirty||b.isDirtyData))&&this.getSeriesExtremes(),et(this.threshold)){let b=Po((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(b=1-b),b}}getTickAmount(){let m=this.options,b=m.tickPixelInterval,C=m.tickAmount;qi(m.tickInterval)||C||!(this.len<b)||this.isRadial||this.logarithmic||!m.startOnTick||!m.endOnTick||(C=2),!C&&this.alignToOthers()&&(C=Math.ceil(this.len/b)+1),C<4&&(this.finalTickAmt=C,C=5),this.tickAmount=C}adjustTickAmount(){let m=this,{finalTickAmt:b,max:C,min:D,options:O,tickPositions:I,tickAmount:B,thresholdAlignment:U}=m,Q=I?.length,it=Zt(m.threshold,m.softThreshold?0:null),tt,at,gt=m.tickInterval,pt,_t=()=>I.push(Nr(I[I.length-1]+gt)),wt=()=>I.unshift(Nr(I[0]-gt));if(et(U)&&(pt=U<.5?Math.ceil(U*(B-1)):Math.floor(U*(B-1)),O.reversed&&(pt=B-1-pt)),m.hasData()&&et(D)&&et(C)){let bt=()=>{m.transA*=(Q-1)/(B-1),m.min=O.startOnTick?I[0]:Math.min(D,I[0]),m.max=O.endOnTick?I[I.length-1]:Math.max(C,I[I.length-1])};if(et(pt)&&et(m.threshold)){for(;I[pt]!==it||I.length!==B||I[0]>D||I[I.length-1]<C;){for(I.length=0,I.push(m.threshold);I.length<B;)I[pt]===void 0||I[pt]>m.threshold?wt():_t();if(gt>8*m.tickInterval)break;gt*=2}bt()}else if(Q<B){for(;I.length<B;)I.length%2||D===it?_t():wt();bt()}if(qi(b)){for(at=tt=I.length;at--;)(b===3&&at%2==1||b<=2&&at>0&&at<tt-1)&&I.splice(at,1);m.finalTickAmt=void 0}}}setScale(){let{coll:m,stacking:b}=this,C=!1,D=!1;this.series.forEach(I=>{C=C||I.isDirtyData||I.isDirty,D=D||I.xAxis?.isDirty||!1}),this.setAxisSize();let O=this.len!==this.old?.len;O||C||D||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(b&&m==="yAxis"&&b.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),b&&m==="xAxis"&&b.buildStacks(),this.isDirty||(this.isDirty=O||this.min!==this.old?.min||this.max!==this.old?.max)):b&&b.cleanStacks(),C&&delete this.allExtremes,cr(this,"afterSetScale")}setExtremes(m,b,C=!0,D,O){let I=this.chart;this.series.forEach(B=>{delete B.kdTree}),m=I.time.parse(m),b=I.time.parse(b),cr(this,"setExtremes",O=gc(O,{min:m,max:b}),B=>{this.userMin=B.min,this.userMax=B.max,this.eventArgs=B,C&&I.redraw(D)})}setAxisSize(){let m=this.chart,b=this.options,C=b.offsets||[0,0,0,0],D=this.horiz,O=this.width=Math.round(_e(Zt(b.width,m.plotWidth-C[3]+C[1]),m.plotWidth)),I=this.height=Math.round(_e(Zt(b.height,m.plotHeight-C[0]+C[2]),m.plotHeight)),B=this.top=Math.round(_e(Zt(b.top,m.plotTop+C[0]),m.plotHeight,m.plotTop)),U=this.left=Math.round(_e(Zt(b.left,m.plotLeft+C[3]),m.plotWidth,m.plotLeft));this.bottom=m.chartHeight-I-B,this.right=m.chartWidth-O-U,this.len=Math.max(D?O:I,0),this.pos=D?U:B}getExtremes(){let m=this.logarithmic;return{min:m?Nr(m.lin2log(this.min)):this.min,max:m?Nr(m.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(m){let b=this.logarithmic,C=b?b.lin2log(this.min):this.min,D=b?b.lin2log(this.max):this.max;return m===null||m===-1/0?m=C:m===1/0?m=D:C>m?m=C:D<m&&(m=D),this.translate(m,0,1,0,1)}autoLabelAlign(m){let b=(Zt(m,0)-90*this.side+720)%360,C={align:"center"};return cr(this,"autoLabelAlign",C,function(D){b>15&&b<165?D.align="right":b>195&&b<345&&(D.align="left")}),C.align}tickSize(m){let b=this.options,C=Zt(b[m==="tick"?"tickWidth":"minorTickWidth"],m==="tick"&&this.isXAxis&&!this.categories?1:0),D=b[m==="tick"?"tickLength":"minorTickLength"],O;C&&D&&(b[m+"Position"]==="inside"&&(D=-D),O=[D,C]);let I={tickSize:O};return cr(this,"afterTickSize",I),I.tickSize}labelMetrics(){let m=this.chart.renderer,b=this.ticks,C=b[Object.keys(b)[0]]||{};return this.chart.renderer.fontMetrics(C.label||C.movedLabel||m.box)}unsquish(){let m=this.options.labels,b=m.padding||0,C=this.horiz,D=this.tickInterval,O=this.len/((+!!this.categories+this.max-this.min)/D),I=m.rotation,B=Nr(.8*this.labelMetrics().h),U=Math.max(this.max-this.min,0),Q=function(pt){let _t=(pt+2*b)/(O||1);return(_t=_t>1?Math.ceil(_t):1)*D>U&&pt!==1/0&&O!==1/0&&U&&(_t=Math.ceil(U/D)),Nr(_t*D)},it=D,tt,at=Number.MAX_VALUE,gt;if(C){if(!m.staggerLines&&(et(I)?gt=[I]:O<m.autoRotationLimit&&(gt=m.autoRotation)),gt){let pt,_t;for(let wt of gt)(wt===I||wt&&wt>=-90&&wt<=90)&&(_t=(pt=Q(Math.abs(B/Math.sin(Ll*wt))))+Math.abs(wt/360))<at&&(at=_t,tt=wt,it=pt)}}else it=Q(.75*B);return this.autoRotation=gt,this.labelRotation=Zt(tt,et(I)?I:0),m.step?D:it}getSlotWidth(m){let b=this.chart,C=this.horiz,D=this.options.labels,O=Math.max(this.tickPositions.length-!this.categories,1),I=b.margin[3];if(m&&et(m.slotWidth))return m.slotWidth;if(C&&D.step<2&&!this.isRadial)return D.rotation?0:(this.staggerLines||1)*this.len/O;if(!C){let B=D.style.width;if(B!==void 0)return parseInt(String(B),10);if(!this.opposite&&I)return I-b.spacing[3]}return .33*b.chartWidth}renderUnsquish(){let m=this.chart,b=m.renderer,C=this.tickPositions,D=this.ticks,O=this.options.labels,I=O.style,B=this.horiz,U=this.getSlotWidth(),Q=Math.max(1,Math.round(U-(B?2*(O.padding||0):O.distance||0))),it={},tt=this.labelMetrics(),at=I.lineClamp,gt,pt=at??(Math.floor(this.len/(C.length*tt.h))||1),_t=0;ft(O.rotation)||(it.rotation=O.rotation||0),C.forEach(function(wt){let bt=D[wt];bt.movedLabel&&bt.replaceMovedLabel();let jt=bt.label?.textPxLength||0;jt>_t&&(_t=jt)}),this.maxLabelLength=_t,this.autoRotation?_t>Q&&_t>tt.h?it.rotation=this.labelRotation:this.labelRotation=0:U&&(gt=Q),it.rotation&&(gt=_t>.5*m.chartHeight?.33*m.chartHeight:_t,at||(pt=1)),this.labelAlign=O.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(it.align=this.labelAlign),C.forEach(function(wt){let bt=D[wt],jt=bt?.label,Dt=I.width,zt={};jt&&(jt.attr(it),bt.shortenLabel?bt.shortenLabel():gt&&!Dt&&I.whiteSpace!=="nowrap"&&(gt<(jt.textPxLength||0)||jt.element.tagName==="SPAN")?jt.css(gc(zt,{width:`${gt}px`,lineClamp:pt})):!jt.styles.width||zt.width||Dt||jt.css({width:"auto"}),bt.rotation=it.rotation)},this),this.tickRotCorr=b.rotCorr(tt.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(m){return m.hasData()})||this.options.showEmpty&&qi(this.min)&&qi(this.max)}addTitle(m){let b,C=this.chart.renderer,D=this.horiz,O=this.opposite,I=this.options.title,B=this.chart.styledMode;this.axisTitle||((b=I.textAlign)||(b=(D?{low:"left",middle:"center",high:"right"}:{low:O?"right":"left",middle:"center",high:O?"left":"right"})[I.align]),this.axisTitle=C.text(I.text||"",0,0,I.useHTML).attr({zIndex:7,rotation:I.rotation||0,align:b}).addClass("highcharts-axis-title"),B||this.axisTitle.css(Ct(I.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),B||I.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[m?"show":"hide"](m)}generateTick(m){let b=this.ticks;b[m]?b[m].addLabel():b[m]=new Za(this,m)}createGroups(){let{axisParent:m,chart:b,coll:C,options:D}=this,O=b.renderer,I=(B,U,Q)=>O.g(B).attr({zIndex:Q}).addClass(`highcharts-${C.toLowerCase()}${U} `+(this.isRadial?`highcharts-radial-axis${U} `:"")+(D.className||"")).add(m);this.axisGroup||(this.gridGroup=I("grid","-grid",D.gridZIndex),this.axisGroup=I("axis","",D.zIndex),this.labelGroup=I("axis-labels","-labels",D.labels.zIndex))}getOffset(){let m=this,{chart:b,horiz:C,options:D,side:O,ticks:I,tickPositions:B,coll:U}=m,Q=b.inverted&&!m.isZAxis?[1,0,3,2][O]:O,it=m.hasData(),tt=D.title,at=D.labels,gt=et(D.crossing),pt=b.axisOffset,_t=b.clipOffset,wt=[-1,1,1,-1][O],bt,jt=0,Dt,zt=0,Ut=0,$t,Vt;if(m.showAxis=bt=it||D.showEmpty,m.staggerLines=m.horiz&&at.staggerLines||void 0,m.createGroups(),it||m.isLinked?(B.forEach(function(Gt){m.generateTick(Gt)}),m.renderUnsquish(),m.reserveSpaceDefault=O===0||O===2||{1:"left",3:"right"}[O]===m.labelAlign,Zt(at.reserveSpace,!gt&&null,m.labelAlign==="center"||null,m.reserveSpaceDefault)&&B.forEach(function(Gt){Ut=Math.max(I[Gt].getLabelSize(),Ut)}),m.staggerLines&&(Ut*=m.staggerLines),m.labelOffset=Ut*(m.opposite?-1:1)):te(I,function(Gt,pe){Gt.destroy(),delete I[pe]}),tt?.text&&tt.enabled!==!1&&(m.addTitle(bt),bt&&!gt&&tt.reserveSpace!==!1&&(m.titleOffset=jt=m.axisTitle.getBBox()[C?"height":"width"],zt=qi(Dt=tt.offset)?0:Zt(tt.margin,C?5:10))),m.renderLine(),m.offset=wt*Zt(D.offset,pt[O]?pt[O]+(D.margin||0):0),m.tickRotCorr=m.tickRotCorr||{x:0,y:0},Vt=O===0?-m.labelMetrics().h:O===2?m.tickRotCorr.y:0,$t=Math.abs(Ut)+zt,Ut&&($t-=Vt,$t+=wt*(C?Zt(at.y,m.tickRotCorr.y+wt*at.distance):Zt(at.x,wt*at.distance))),m.axisTitleMargin=Zt(Dt,$t),m.getMaxLabelDimensions&&(m.maxLabelDimensions=m.getMaxLabelDimensions(I,B)),U!=="colorAxis"&&_t){let Gt=this.tickSize("tick");pt[O]=Math.max(pt[O],(m.axisTitleMargin||0)+jt+wt*m.offset,$t,B?.length&&Gt?Gt[0]+wt*m.offset:0);let pe=!m.axisLine||D.offset?0:m.axisLine.strokeWidth()/2;_t[Q]=Math.max(_t[Q],pe)}cr(this,"afterGetOffset")}getLinePath(m){let b=this.chart,C=this.opposite,D=this.offset,O=this.horiz,I=this.left+(C?this.width:0)+D,B=b.chartHeight-this.bottom-(C?this.height:0)+D;return C&&(m*=-1),b.renderer.crispLine([["M",O?this.left:I,O?B:this.top],["L",O?b.chartWidth-this.right:I,O?B:b.chartHeight-this.bottom]],m)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(m){let b=this.horiz,C=this.left,D=this.top,O=this.len,I=this.options.title,B=b?C:D,U=this.opposite,Q=this.offset,it=I.x,tt=I.y,at=this.chart.renderer.fontMetrics(m),gt=m?Math.max(m.getBBox(!1,0).height-at.h-1,0):0,pt={low:B+(b?0:O),middle:B+O/2,high:B+(b?O:0)}[I.align],_t=(b?D+this.height:C)+(b?1:-1)*(U?-1:1)*(this.axisTitleMargin||0)+[-gt,gt,at.f,-gt][this.side],wt={x:b?pt+it:_t+(U?this.width:0)+Q+it,y:b?_t+tt-(U?this.height:0)+Q:pt+tt};return cr(this,"afterGetTitlePosition",{titlePosition:wt}),wt}renderMinorTick(m,b){let C=this.minorTicks;C[m]||(C[m]=new Za(this,m,"minor")),b&&C[m].isNew&&C[m].render(null,!0),C[m].render(null,!1,1)}renderTick(m,b,C){let D=this.isLinked,O=this.ticks;(!D||m>=this.min&&m<=this.max||this.grid?.isColumn)&&(O[m]||(O[m]=new Za(this,m)),C&&O[m].isNew&&O[m].render(b,!0,-1),O[m].render(b))}render(){let m,b,C=this,D=C.chart,O=C.logarithmic,I=D.renderer,B=C.options,U=C.isLinked,Q=C.tickPositions,it=C.axisTitle,tt=C.ticks,at=C.minorTicks,gt=C.alternateBands,pt=B.stackLabels,_t=B.alternateGridColor,wt=B.crossing,bt=C.tickmarkOffset,jt=C.axisLine,Dt=C.showAxis,zt=ol(I.globalAnimation);if(C.labelEdge.length=0,C.overlap=!1,[tt,at,gt].forEach(function(Ut){te(Ut,function($t){$t.isActive=!1})}),et(wt)){let Ut=this.isXAxis?D.yAxis[0]:D.xAxis[0],$t=[1,-1,-1,1][this.side];if(Ut){let Vt=Ut.toPixels(wt,!0);C.horiz&&(Vt=Ut.len-Vt),C.offset=$t*Vt}}if(C.hasData()||U){let Ut=C.chart.hasRendered&&C.old&&et(C.old.min);C.minorTickInterval&&!C.categories&&C.getMinorTickPositions().forEach(function($t){C.renderMinorTick($t,Ut)}),Q.length&&(Q.forEach(function($t,Vt){C.renderTick($t,Vt,Ut)}),bt&&(C.min===0||C.single)&&(tt[-1]||(tt[-1]=new Za(C,-1,null,!0)),tt[-1].render(-1))),_t&&Q.forEach(function($t,Vt){b=Q[Vt+1]!==void 0?Q[Vt+1]+bt:C.max-bt,Vt%2==0&&$t<C.max&&b<=C.max+(D.polar?-bt:bt)&&(gt[$t]||(gt[$t]=new Y.PlotLineOrBand(C,{})),m=$t+bt,gt[$t].options={from:O?O.lin2log(m):m,to:O?O.lin2log(b):b,color:_t,className:"highcharts-alternate-grid"},gt[$t].render(),gt[$t].isActive=!0)}),C._addedPlotLB||(C._addedPlotLB=!0,(B.plotLines||[]).concat(B.plotBands||[]).forEach(function($t){C.addPlotBandOrLine($t)}))}[tt,at,gt].forEach(function(Ut){let $t=[],Vt=zt.duration;te(Ut,function(Gt,pe){Gt.isActive||(Gt.render(pe,!1,0),Gt.isActive=!1,$t.push(pe))}),Yn(function(){let Gt=$t.length;for(;Gt--;)Ut[$t[Gt]]&&!Ut[$t[Gt]].isActive&&(Ut[$t[Gt]].destroy(),delete Ut[$t[Gt]])},Ut!==gt&&D.hasRendered&&Vt?Vt:0)}),jt&&(jt[jt.isPlaced?"animate":"attr"]({d:this.getLinePath(jt.strokeWidth())}),jt.isPlaced=!0,jt[Dt?"show":"hide"](Dt)),it&&Dt&&(it[it.isNew?"attr":"animate"](C.getTitlePosition(it)),it.isNew=!1),pt?.enabled&&C.stacking&&C.stacking.renderStackTotals(),C.old={len:C.len,max:C.max,min:C.min,transA:C.transA,userMax:C.userMax,userMin:C.userMin},C.isDirty=!1,cr(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(m){m.render()})),this.series.forEach(function(m){m.isDirty=!0})}getKeepProps(){return this.keepProps||rr.keepProps}destroy(m){let b=this,C=b.plotLinesAndBands,D=this.eventOptions;if(cr(this,"destroy",{keepEvents:m}),m||Re(b),[b.ticks,b.minorTicks,b.alternateBands].forEach(function(O){jd(O)}),C){let O=C.length;for(;O--;)C[O].destroy()}for(let O in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(I){b[I]&&(b[I]=b[I].destroy())}),b.plotLinesAndBandsGroups)b.plotLinesAndBandsGroups[O]=b.plotLinesAndBandsGroups[O].destroy();te(b,function(O,I){b.getKeepProps().indexOf(I)===-1&&delete b[I]}),this.eventOptions=D}drawCrosshair(m,b){let C=this.crosshair,D=C?.snap??!0,O=this.chart,I,B,U,Q=this.cross,it;if(cr(this,"drawCrosshair",{e:m,point:b}),m||(m=this.cross?.e),C&&(qi(b)||!D)!==!1){if(D?qi(b)&&(B=Zt(this.coll!=="colorAxis"?b.crosshairPos:null,this.isXAxis?b.plotX:this.len-b.plotY)):B=m&&(this.horiz?m.chartX-this.pos:this.len-m.chartY+this.pos),qi(B)&&(it={value:b&&(this.isXAxis?b.x:Zt(b.stackY,b.y)),translatedValue:B},O.polar&&gc(it,{isCrosshair:!0,chartX:m?.chartX,chartY:m?.chartY,point:b}),I=this.getPlotLinePath(it)||null),!qi(I))return void this.hideCrosshair();U=this.categories&&!this.isRadial,Q||(this.cross=Q=O.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(U?"category ":"thin ")+(C.className||"")).attr({zIndex:Zt(C.zIndex,2)}).add(),!O.styledMode&&(Q.attr({stroke:C.color||(U?We.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Zt(C.width,1)}).css({"pointer-events":"none"}),C.dashStyle&&Q.attr({dashstyle:C.dashStyle}))),Q.show().attr({d:I}),U&&!C.width&&Q.attr({"stroke-width":this.transA}),this.cross.e=m}else this.hideCrosshair();cr(this,"afterDrawCrosshair",{e:m,point:b})}hideCrosshair(){this.cross&&this.cross.hide(),cr(this,"afterHideCrosshair")}update(m,b){let C=this.chart;m=Ct(this.userOptions,m),this.destroy(!0),this.init(C,m),C.isDirtyBox=!0,Zt(b,!0)&&C.redraw()}remove(m){let b=this.chart,C=this.coll,D=this.series,O=D.length;for(;O--;)D[O]&&D[O].remove(!1);Kc(b.axes,this),Kc(b[C]||[],this),b.orderItems(C),this.destroy(),b.isDirtyBox=!0,Zt(m,!0)&&b.redraw()}setTitle(m,b){this.update({title:m},b)}setCategories(m,b){this.update({categories:m},b)}}rr.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Qa,getMagnitude:Li,normalizeTickInterval:bi,timeUnits:ai}=ue;(function(q){function m(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function b(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new C(this))}q.compose=function(D){return D.keepProps.includes("dateTime")||(D.keepProps.push("dateTime"),D.prototype.getTimeTicks=m,Qa(D,"afterSetType",b)),D};class C{constructor(O){this.axis=O}normalizeTimeTickInterval(O,I){let B=I||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],U=B[B.length-1],Q=ai[U[0]],it=U[1],tt;for(tt=0;tt<B.length&&(Q=ai[(U=B[tt])[0]],it=U[1],!B[tt+1]||!(O<=(Q*it[it.length-1]+ai[B[tt+1][0]])/2));tt++);Q===ai.year&&O<5*Q&&(it=[1,2,5]);let at=bi(O/Q,it,U[0]==="year"?Math.max(Li(O/Q),1):1);return{unitRange:Q,count:at,unitName:U[0]}}getXDateFormat(O,I){let{axis:B}=this,U=B.chart.time;return B.closestPointRange?U.getDateFormat(B.closestPointRange,O,B.options.startOfWeek,I)||U.resolveDTLFormat(I.year).main:U.resolveDTLFormat(I.day).main}}q.Additions=C})(c||(c={}));let Zc=c,{addEvent:co,normalizeTickInterval:Mf,pick:Qc}=ue;(function(q){function m(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new C(this))}function b(){let D=this.logarithmic;D&&(this.lin2val=function(O){return D.lin2log(O)},this.val2lin=function(O){return D.log2lin(O)})}q.compose=function(D){return D.keepProps.includes("logarithmic")||(D.keepProps.push("logarithmic"),co(D,"afterSetType",m),co(D,"afterInit",b)),D};class C{constructor(O){this.axis=O}getLogTickPositions(O,I,B,U){let Q=this.axis,it=Q.len,tt=Q.options,at=[];if(U||(this.minorAutoInterval=void 0),O>=.5)O=Math.round(O),at=Q.getLinearTickPositions(O,I,B);else if(O>=.08){let gt,pt,_t,wt,bt,jt,Dt,zt=Math.floor(I);for(gt=O>.3?[1,2,4]:O>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],pt=zt;pt<B+1&&!Dt;pt++)for(_t=0,wt=gt.length;_t<wt&&!Dt;_t++)(bt=this.log2lin(this.lin2log(pt)*gt[_t]))>I&&(!U||jt<=B)&&jt!==void 0&&at.push(jt),jt>B&&(Dt=!0),jt=bt}else{let gt=this.lin2log(I),pt=this.lin2log(B),_t=U?Q.getMinorTickInterval():tt.tickInterval,wt=tt.tickPixelInterval/(U?5:1),bt=U?it/Q.tickPositions.length:it;O=Mf(O=Qc(_t==="auto"?null:_t,this.minorAutoInterval,(pt-gt)*wt/(bt||1))),at=Q.getLinearTickPositions(O,gt,pt).map(this.log2lin),U||(this.minorAutoInterval=O/5)}return U||(Q.tickInterval=O),at}lin2log(O){return Math.pow(10,O)}log2lin(O){return Math.log(O)/Math.LN10}}q.Additions=C})(h||(h={}));let Mh=h,{erase:Pr,extend:Rl,isNumber:Tt}=ue;(function(q){let m;function b(Q){return this.addPlotBandOrLine(Q,"plotBands")}function C(Q,it){let tt=this.userOptions,at=new m(this,Q);if(this.visible&&(at=at.render()),at){if(this._addedPlotLB||(this._addedPlotLB=!0,(tt.plotLines||[]).concat(tt.plotBands||[]).forEach(gt=>{this.addPlotBandOrLine(gt)})),it){let gt=tt[it]||[];gt.push(Q),tt[it]=gt}this.plotLinesAndBands.push(at)}return at}function D(Q){return this.addPlotBandOrLine(Q,"plotLines")}function O(Q,it,tt){tt=tt||this.options;let at=this.getPlotLinePath({value:it,force:!0,acrossPanes:tt.acrossPanes}),gt=[],pt=this.horiz,_t=!Tt(this.min)||!Tt(this.max)||Q<this.min&&it<this.min||Q>this.max&&it>this.max,wt=this.getPlotLinePath({value:Q,force:!0,acrossPanes:tt.acrossPanes}),bt,jt=1,Dt;if(wt&&at)for(_t&&(Dt=wt.toString()===at.toString(),jt=0),bt=0;bt<wt.length;bt+=2){let zt=wt[bt],Ut=wt[bt+1],$t=at[bt],Vt=at[bt+1];(zt[0]==="M"||zt[0]==="L")&&(Ut[0]==="M"||Ut[0]==="L")&&($t[0]==="M"||$t[0]==="L")&&(Vt[0]==="M"||Vt[0]==="L")&&(pt&&$t[1]===zt[1]?($t[1]+=jt,Vt[1]+=jt):pt||$t[2]!==zt[2]||($t[2]+=jt,Vt[2]+=jt),gt.push(["M",zt[1],zt[2]],["L",Ut[1],Ut[2]],["L",Vt[1],Vt[2]],["L",$t[1],$t[2]],["Z"])),gt.isFlat=Dt}return gt}function I(Q){this.removePlotBandOrLine(Q)}function B(Q){let it=this.plotLinesAndBands,tt=this.options,at=this.userOptions;if(it){let gt=it.length;for(;gt--;)it[gt].id===Q&&it[gt].destroy();[tt.plotLines||[],at.plotLines||[],tt.plotBands||[],at.plotBands||[]].forEach(function(pt){for(gt=pt.length;gt--;)pt[gt]?.id===Q&&Pr(pt,pt[gt])})}}function U(Q){this.removePlotBandOrLine(Q)}q.compose=function(Q,it){let tt=it.prototype;return tt.addPlotBand||(m=Q,Rl(tt,{addPlotBand:b,addPlotLine:D,addPlotBandOrLine:C,getPlotBandPath:O,removePlotBand:I,removePlotLine:U,removePlotBandOrLine:B})),it}})(d||(d={}));let Jc=d,{addEvent:tu,arrayMax:Ja,arrayMin:Rn,defined:Ga,destroyObjectProperties:Nh,erase:zu,fireEvent:Fu,merge:pm,objectEach:Nf,pick:mm}=ue;class eu{static compose(m,b){return tu(m,"afterInit",function(){this.labelCollectors.push(()=>{let C=[];for(let D of this.axes)for(let{label:O,options:I}of D.plotLinesAndBands)O&&!I?.label?.allowOverlap&&C.push(O);return C})}),Jc.compose(eu,b)}constructor(m,b){this.axis=m,this.options=b,this.id=b.id}render(){Fu(this,"render");let{axis:m,options:b}=this,{horiz:C,logarithmic:D}=m,{color:O,events:I,zIndex:B=0}=b,{renderer:U,time:Q}=m.chart,it={},tt=Q.parse(b.to),at=Q.parse(b.from),gt=Q.parse(b.value),pt=b.borderWidth,_t=b.label,{label:wt,svgElem:bt}=this,jt=[],Dt,zt=Ga(at)&&Ga(tt),Ut=Ga(gt),$t=!bt,Vt={class:"highcharts-plot-"+(zt?"band ":"line ")+(b.className||"")},Gt=zt?"bands":"lines";if(!m.chart.styledMode&&(Ut?(Vt.stroke=O||"#999999",Vt["stroke-width"]=mm(b.width,1),b.dashStyle&&(Vt.dashstyle=b.dashStyle)):zt&&(Vt.fill=O||"#e6e9ff",pt&&(Vt.stroke=b.borderColor,Vt["stroke-width"]=pt))),it.zIndex=B,Gt+="-"+B,(Dt=m.plotLinesAndBandsGroups[Gt])||(m.plotLinesAndBandsGroups[Gt]=Dt=U.g("plot-"+Gt).attr(it).add()),bt||(this.svgElem=bt=U.path().attr(Vt).add(Dt)),Ga(gt))jt=m.getPlotLinePath({value:D?.log2lin(gt)??gt,lineWidth:bt.strokeWidth(),acrossPanes:b.acrossPanes});else{if(!(Ga(at)&&Ga(tt)))return;jt=m.getPlotBandPath(D?.log2lin(at)??at,D?.log2lin(tt)??tt,b)}return!this.eventsAdded&&I&&(Nf(I,(pe,ye)=>{bt?.on(ye,me=>{I[ye].apply(this,[me])})}),this.eventsAdded=!0),($t||!bt.d)&&jt?.length?bt.attr({d:jt}):bt&&(jt?(bt.show(),bt.animate({d:jt})):bt.d&&(bt.hide(),wt&&(this.label=wt=wt.destroy()))),_t&&(Ga(_t.text)||Ga(_t.formatter))&&jt?.length&&m.width>0&&m.height>0&&!jt.isFlat?(_t=pm({align:C&&zt?"center":void 0,x:C?!zt&&4:10,verticalAlign:!C&&zt?"middle":void 0,y:C?zt?16:10:zt?6:-4,rotation:C&&!zt?90:0,...zt?{inside:!0}:{}},_t),this.renderLabel(_t,jt,zt,B)):wt&&wt.hide(),this}renderLabel(m,b,C,D){let O=this.axis,I=O.chart.renderer,B=m.inside,U=this.label;U||(this.label=U=I.text(this.getLabelText(m),0,0,m.useHTML).attr({align:m.textAlign||m.align,rotation:m.rotation,class:"highcharts-plot-"+(C?"band":"line")+"-label "+(m.className||""),zIndex:D}),O.chart.styledMode||U.css(pm({color:O.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:C&&!B?"":"ellipsis"},m.style)),U.add());let Q=b.xBounds||[b[0][1],b[1][1],C?b[2][1]:b[0][1]],it=b.yBounds||[b[0][2],b[1][2],C?b[2][2]:b[0][2]],tt=Rn(Q),at=Rn(it),gt=Ja(Q)-tt;U.align(m,!1,{x:tt,y:at,width:gt,height:Ja(it)-at}),U.alignAttr.y-=I.fontMetrics(U).b,(!U.alignValue||U.alignValue==="left"||Ga(B))&&U.css({width:(m.style?.width||(C&&B?gt:U.rotation===90?O.height-(U.alignAttr.y-O.top):(m.clip?O.width:O.chart.chartWidth)-(U.alignAttr.x-O.left)))+"px"}),U.show(!0)}getLabelText(m){return Ga(m.formatter)?m.formatter.call(this):m.text}destroy(){zu(this.axis.plotLinesAndBands,this),delete this.axis,Nh(this)}}let{animObject:ks}=ni,{format:ll}=At,{composed:s0,dateFormats:M1,doc:o0,isSafari:N1}=Y,{distribute:Wa}=Tn,{addEvent:pc,clamp:nu,css:Pf,discardElement:sv,extend:Ef,fireEvent:Ph,getAlignFactor:Eh,isArray:l0,isNumber:P1,isObject:Il,isString:Bu,merge:ov,pick:Hu,pushUnique:c0,splat:jh,syncTimeout:ym}=ue;class Dd{constructor(m,b,C){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=m,this.init(m,b),this.pointer=C}bodyFormatter(m){return m.map(b=>{let C=b.series.tooltipOptions,D=b.formatPrefix||"point";return(C[D+"Formatter"]||b.tooltipFormatter).call(b,C[D+"Format"]||"")})}cleanSplit(m){this.chart.series.forEach(function(b){let C=b?.tt;C&&(!C.isActive||m?b.tt=C.destroy():C.isActive=!1)})}defaultFormatter(m){let b,C=this.points||jh(this);return(b=(b=[m.headerFooterFormatter(C[0])]).concat(m.bodyFormatter(C))).push(m.headerFooterFormatter(C[0],!0)),b}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),sv(this.container)),ue.clearTimeout(this.hideTimer)}getAnchor(m,b){let C,{chart:D,pointer:O}=this,I=D.inverted,B=D.plotTop,U=D.plotLeft;if(m=jh(m),m[0].series?.yAxis&&!m[0].series.yAxis.options.reversedStacks&&(m=m.slice().reverse()),this.followPointer&&b)b.chartX===void 0&&(b=O.normalize(b)),C=[b.chartX-U,b.chartY-B];else if(m[0].tooltipPos)C=m[0].tooltipPos;else{let it=0,tt=0;m.forEach(function(at){let gt=at.pos(!0);gt&&(it+=gt[0],tt+=gt[1])}),it/=m.length,tt/=m.length,this.shared&&m.length>1&&b&&(I?it=b.chartX:tt=b.chartY),C=[it-U,tt-B]}let Q={point:m[0],ret:C};return Ph(this,"getAnchor",Q),Q.ret.map(Math.round)}getClassName(m,b,C){let D=this.options,O=m.series,I=O.options;return[D.className,"highcharts-label",C&&"highcharts-tooltip-header",b?"highcharts-tooltip-box":"highcharts-tooltip",!C&&"highcharts-color-"+Hu(m.colorIndex,O.colorIndex),I?.className].filter(Bu).join(" ")}getLabel({anchorX:m,anchorY:b}={anchorX:0,anchorY:0}){let C=this,D=this.chart.styledMode,O=this.options,I=this.split&&this.allowShared,B=this.container,U=this.chart.renderer;if(this.label){let Q=!this.label.hasClass("highcharts-label");(!I&&Q||I&&!Q)&&this.destroy()}if(!this.label){if(this.outside){let Q=this.chart,it=Q.options.chart.style,tt=Ot.getRendererType();this.container=B=Y.doc.createElement("div"),B.className="highcharts-tooltip-container "+(Q.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Pf(B,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(it?.zIndex||0)+3)}),this.renderer=U=new tt(B,0,0,it,void 0,void 0,U.styledMode)}if(I?this.label=U.g("tooltip"):(this.label=U.label("",m,b,O.shape||"callout",void 0,void 0,O.useHTML,void 0,"tooltip").attr({padding:O.padding,r:O.borderRadius}),D||this.label.attr({fill:O.backgroundColor,"stroke-width":O.borderWidth||0}).css(O.style).css({pointerEvents:O.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),C.outside){let Q=this.label;[Q.xSetter,Q.ySetter].forEach((it,tt)=>{Q[tt?"ySetter":"xSetter"]=at=>{it.call(Q,C.distance),Q[tt?"y":"x"]=at,B&&(B.style[tt?"top":"left"]=`${at}px`)}})}this.label.attr({zIndex:8}).shadow(O.shadow??!O.fixed).add()}return B&&!B.parentElement&&Y.doc.body.appendChild(B),this.label}getPlayingField(){let{body:m,documentElement:b}=o0,{chart:C,distance:D,outside:O}=this;return{width:O?Math.max(m.scrollWidth,b.scrollWidth,m.offsetWidth,b.offsetWidth,b.clientWidth)-2*D-2:C.chartWidth,height:O?Math.max(m.scrollHeight,b.scrollHeight,m.offsetHeight,b.offsetHeight,b.clientHeight):C.chartHeight}}getPosition(m,b,C){let{distance:D,chart:O,outside:I,pointer:B}=this,{inverted:U,plotLeft:Q,plotTop:it,polar:tt}=O,{plotX:at=0,plotY:gt=0}=C,pt={},_t=U&&C.h||0,{height:wt,width:bt}=this.getPlayingField(),jt=B.getChartPosition(),Dt=De=>De*jt.scaleX,zt=De=>De*jt.scaleY,Ut=De=>{let Be=De==="x";return[De,Be?bt:wt,Be?m:b].concat(I?[Be?Dt(m):zt(b),Be?jt.left-D+Dt(at+Q):jt.top-D+zt(gt+it),0,Be?bt:wt]:[Be?m:b,Be?at+Q:gt+it,Be?Q:it,Be?Q+O.plotWidth:it+O.plotHeight])},$t=Ut("y"),Vt=Ut("x"),Gt,pe=!!C.negative;!tt&&O.hoverSeries?.yAxis?.reversed&&(pe=!pe);let ye=!this.followPointer&&Hu(C.ttBelow,!tt&&!U===pe),me=function(De,Be,Je,qn,In,Ns,Cn){let Sn=I?De==="y"?zt(D):Dt(D):D,Ii=(Je-qn)/2,Kn=qn<In-D,br=In+D+qn<Be,Ni=In-Sn-Je+Ii,Fe=In+Sn-Ii;if(ye&&br)pt[De]=Fe;else if(!ye&&Kn)pt[De]=Ni;else if(Kn)pt[De]=Math.min(Cn-qn,Ni-_t<0?Ni:Ni-_t);else{if(!br)return pt[De]=0,!1;pt[De]=Math.max(Ns,Fe+_t+Je>Be?Fe:Fe+_t)}},Ie=function(De,Be,Je,qn,In){if(In<D||In>Be-D)return!1;In<Je/2?pt[De]=1:In>Be-qn/2?pt[De]=Be-qn-2:pt[De]=In-Je/2},Ze=function(De){[$t,Vt]=[Vt,$t],Gt=De},en=()=>{me.apply(0,$t)!==!1?Ie.apply(0,Vt)!==!1||Gt||(Ze(!0),en()):Gt?pt.x=pt.y=0:(Ze(!0),en())};return(U&&!tt||this.len>1)&&Ze(),en(),pt}getFixedPosition(m,b,C){let D=C.series,{chart:O,options:I,split:B}=this,U=I.position,Q=U.relativeTo,it=I.shared||D?.yAxis?.isRadial&&(Q==="pane"||!Q)?"plotBox":Q,tt=it==="chart"?O.renderer:O[it]||O.getClipBox(D,!0);return{x:tt.x+(tt.width-m)*Eh(U.align)+U.x,y:tt.y+(tt.height-b)*Eh(U.verticalAlign)+(!B&&U.y||0)}}hide(m){let b=this;ue.clearTimeout(this.hideTimer),m=Hu(m,this.options.hideDelay),this.isHidden||(this.hideTimer=ym(function(){let C=b.getLabel();b.getLabel().animate({opacity:0},{duration:m&&150,complete:()=>{C.hide(),b.container&&b.container.remove()}}),b.isHidden=!0},m))}init(m,b){this.chart=m,this.options=b,this.crosshairs=[],this.isHidden=!0,this.split=b.split&&!m.inverted&&!m.polar,this.shared=b.shared||this.split,this.outside=Hu(b.outside,!!(m.scrollablePixelsX||m.scrollablePixelsY))}shouldStickOnContact(m){return!!(!this.followPointer&&this.options.stickOnContact&&(!m||this.pointer.inClass(m.target,"highcharts-tooltip")))}move(m,b,C,D){let{followPointer:O,options:I}=this,B=ks(!O&&!this.isHidden&&!I.fixed&&I.animation),U=O||(this.len||0)>1,Q={x:m,y:b};U?Q.anchorX=Q.anchorY=NaN:(Q.anchorX=C,Q.anchorY=D),B.step=()=>this.drawTracker(),this.getLabel().animate(Q,B)}refresh(m,b){let{chart:C,options:D,pointer:O,shared:I}=this,B=jh(m),U=B[0],Q=D.format,it=D.formatter||this.defaultFormatter,tt=C.styledMode,at=this.allowShared;if(!D.enabled||!U.series)return;ue.clearTimeout(this.hideTimer),this.allowShared=!(!l0(m)&&m.series&&m.series.noSharedTooltip),at=at&&!this.allowShared,this.followPointer=!this.split&&U.series.tooltipOptions.followPointer;let gt=this.getAnchor(m,b),pt=gt[0],_t=gt[1];I&&this.allowShared&&(O.applyInactiveState(B),B.forEach(jt=>jt.setState("hover")),U.points=B),this.len=B.length;let wt=Bu(Q)?ll(Q,U,C):it.call(U,this);U.points=void 0;let bt=U.series;if(this.distance=Hu(bt.tooltipOptions.distance,16),wt===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(wt,B);else{let jt=pt,Dt=_t;if(b&&O.isDirectTouch&&(jt=b.chartX-C.plotLeft,Dt=b.chartY-C.plotTop),!(C.polar||bt.options.clip===!1||B.some(zt=>O.isDirectTouch||zt.series.shouldShowTooltip(jt,Dt))))return void this.hide();{let zt=this.getLabel(at&&this.tt||{});(!D.style.width||tt)&&zt.css({width:(this.outside?this.getPlayingField():C.spacingBox).width+"px"}),zt.attr({class:this.getClassName(U),text:wt&&wt.join?wt.join(""):wt}),this.outside&&zt.attr({x:nu(zt.x||0,0,this.getPlayingField().width-(zt.width||0)-1)}),tt||zt.attr({stroke:D.borderColor||U.color||bt.color||"#666666"}),this.updatePosition({plotX:pt,plotY:_t,negative:U.negative,ttBelow:U.ttBelow,series:bt,h:gt[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Ph(this,"refresh")}renderSplit(m,b){let C=this,{chart:D,chart:{chartWidth:O,chartHeight:I,plotHeight:B,plotLeft:U,plotTop:Q,scrollablePixelsY:it=0,scrollablePixelsX:tt,styledMode:at},distance:gt,options:pt,options:{fixed:_t,position:wt,positioner:bt},pointer:jt}=C,{scrollLeft:Dt=0,scrollTop:zt=0}=D.scrollablePlotArea?.scrollingContainer||{},Ut=C.outside&&typeof tt!="number"?o0.documentElement.getBoundingClientRect():{left:Dt,right:Dt+O},$t=C.getLabel(),Vt=this.renderer||D.renderer,Gt=!!D.xAxis[0]?.opposite,{left:pe,top:ye}=jt.getChartPosition(),me=bt||_t,Ie=Q+zt,Ze=0,en=B-it,De=function(Cn,Sn,Ii,Kn=[0,0],br=!0){let Ni,Fe;if(Ii.isHeader)Fe=Gt?0:en,Ni=nu(Kn[0]-Cn/2,Ut.left,Ut.right-Cn-(C.outside?pe:0));else if(_t&&Ii){let Wr=C.getFixedPosition(Cn,Sn,Ii);Ni=Wr.x,Fe=Wr.y-Ie}else Fe=Kn[1]-Ie,Ni=nu(Ni=br?Kn[0]-Cn-gt:Kn[0]+gt,br?Ni:Ut.left,Ut.right);return{x:Ni,y:Fe}};Bu(m)&&(m=[!1,m]);let Be=m.slice(0,b.length+1).reduce(function(Cn,Sn,Ii){if(Sn!==!1&&Sn!==""){let Kn=b[Ii-1]||{isHeader:!0,plotX:b[0].plotX,plotY:B,series:{}},br=Kn.isHeader,Ni=br?C:Kn.series,Fe=Ni.tt=(function(si,qs,fl){let gl=si,{isHeader:Zd,series:Ks}=qs,pl=Ks.tooltipOptions||pt;if(!gl){let Qd={padding:pl.padding,r:pl.borderRadius};at||(Qd.fill=pl.backgroundColor,Qd["stroke-width"]=pl.borderWidth??(_t&&!Zd?0:1)),gl=Vt.label("",0,0,pl[Zd?"headerShape":"shape"]||(_t&&!Zd?"rect":"callout"),void 0,void 0,pl.useHTML).addClass(C.getClassName(qs,!0,Zd)).attr(Qd).add($t)}return gl.isActive=!0,gl.attr({text:fl}),at||gl.css(pl.style).attr({stroke:pl.borderColor||qs.color||Ks.color||"#333333"}),gl})(Ni.tt,Kn,Sn.toString()),Wr=Fe.getBBox(),Dr=Wr.width+Fe.strokeWidth();br&&(Ze=Wr.height,en+=Ze,Gt&&(Ie-=Ze));let{anchorX:Ps,anchorY:qh}=(function(si){let qs,fl,{isHeader:gl,plotX:Zd=0,plotY:Ks=0,series:pl}=si;if(gl)qs=Math.max(U+Zd,U),fl=Q+B/2;else{let{xAxis:Qd,yAxis:Wv}=pl;qs=Qd.pos+nu(Zd,-gt,Qd.len+gt),pl.shouldShowTooltip(0,Wv.pos-Q+Ks,{ignoreX:!0})&&(fl=Wv.pos+Ks)}return{anchorX:qs=nu(qs,Ut.left-gt,Ut.right+gt),anchorY:fl}})(Kn);if(typeof qh=="number"){let si=Wr.height+1,qs=(bt||De).call(C,Dr,si,Kn,[Ps,qh]);Cn.push({align:me?0:void 0,anchorX:Ps,anchorY:qh,boxWidth:Dr,point:Kn,rank:Hu(qs.rank,+!!br),size:si,target:qs.y,tt:Fe,x:qs.x})}else Fe.isActive=!1}return Cn},[]);!me&&Be.some(Cn=>{let{outside:Sn}=C,Ii=(Sn?pe:0)+Cn.anchorX;return Ii<Ut.left&&Ii+Cn.boxWidth<Ut.right||Ii<pe-Ut.left+Cn.boxWidth&&Ut.right-Ii>Ii})&&(Be=Be.map(Cn=>{let{x:Sn,y:Ii}=De.call(this,Cn.boxWidth,Cn.size,Cn.point,[Cn.anchorX,Cn.anchorY],!1);return Ef(Cn,{target:Ii,x:Sn})})),C.cleanSplit(),Wa(Be,en);let Je={left:pe,right:pe};Be.forEach(function(Cn){let{x:Sn,boxWidth:Ii,isHeader:Kn}=Cn;!Kn&&(C.outside&&pe+Sn<Je.left&&(Je.left=pe+Sn),!Kn&&C.outside&&Je.left+Ii>Je.right&&(Je.right=pe+Sn))}),Be.forEach(function(Cn){let{x:Sn,anchorX:Ii,anchorY:Kn,pos:br,point:{isHeader:Ni}}=Cn,Fe={visibility:br===void 0?"hidden":"inherit",x:Sn,y:(br||0)+Ie+(_t&&wt.y||0),anchorX:Ii,anchorY:Kn};if(C.outside&&Sn<Ii){let Wr=pe-Je.left;Wr>0&&(Ni||(Fe.x=Sn+Wr,Fe.anchorX=Ii+Wr),Ni&&(Fe.x=(Je.right-Je.left)/2,Fe.anchorX=Ii+Wr))}Cn.tt.attr(Fe)});let{container:qn,outside:In,renderer:Ns}=C;if(In&&qn&&Ns){let{width:Cn,height:Sn,x:Ii,y:Kn}=$t.getBBox();Ns.setSize(Cn+Ii,Sn+Kn,!1),qn.style.left=Je.left+"px",qn.style.top=ye+"px"}N1&&$t.attr({opacity:$t.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let m=this.chart,b=this.label,C=this.shared?m.hoverPoints:m.hoverPoint;if(!b||!C)return;let D={x:0,y:0,width:0,height:0},O=this.getAnchor(C),I=b.getBBox();O[0]+=m.plotLeft-(b.translateX||0),O[1]+=m.plotTop-(b.translateY||0),D.x=Math.min(0,O[0]),D.y=Math.min(0,O[1]),D.width=O[0]<0?Math.max(Math.abs(O[0]),I.width-O[0]):Math.max(Math.abs(O[0]),I.width),D.height=O[1]<0?Math.max(Math.abs(O[1]),I.height-Math.abs(O[1])):Math.max(Math.abs(O[1]),I.height),this.tracker?this.tracker.attr(D):(this.tracker=b.renderer.rect(D).addClass("highcharts-tracker").add(b),m.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(m){return m.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(m,b){let C=m.series,D=C.tooltipOptions,O=C.xAxis,I=O?.dateTime,B={isFooter:b,point:m},U=D.xDateFormat||"",Q=D[b?"footerFormat":"headerFormat"];return Ph(this,"headerFormatter",B,function(it){if(I&&!U&&P1(m.key)&&(U=I.getXDateFormat(m.key,D.dateTimeLabelFormats)),I&&U){if(Il(U)){let tt=U;M1[0]=at=>C.chart.time.dateFormat(tt,at),U="%0"}(m.tooltipDateKeys||["key"]).forEach(tt=>{Q=Q.replace(RegExp("point\\."+tt+"([ \\)}])"),`(point.${tt}:${U})$1`)})}C.chart.styledMode&&(Q=this.styledModeFormat(Q)),it.text=ll(Q,m,this.chart)}),B.text||""}update(m){this.destroy(),this.init(this.chart,ov(!0,this.options,m))}updatePosition(m){let{chart:b,container:C,distance:D,options:O,pointer:I,renderer:B}=this,{height:U=0,width:Q=0}=this.getLabel(),{fixed:it,positioner:tt}=O,{left:at,top:gt,scaleX:pt,scaleY:_t}=I.getChartPosition(),wt=(tt||it&&this.getFixedPosition||this.getPosition).call(this,Q,U,m),bt=Y.doc,jt=(m.plotX||0)+b.plotLeft,Dt=(m.plotY||0)+b.plotTop,zt;if(B&&C){if(tt||it){let{scrollLeft:Ut=0,scrollTop:$t=0}=b.scrollablePlotArea?.scrollingContainer||{};wt.x+=Ut+at-D,wt.y+=$t+gt-D}zt=(O.borderWidth||0)+2*D+2,B.setSize(nu(Q+zt,0,bt.documentElement.clientWidth)-1,U+zt,!1),(pt!==1||_t!==1)&&(Pf(C,{transform:`scale(${pt}, ${_t})`}),jt*=pt,Dt*=_t),jt+=at-wt.x,Dt+=gt-wt.y}this.move(Math.round(wt.x),Math.round(wt.y||0),jt,Dt)}}(function(q){q.compose=function(m){c0(s0,"Core.Tooltip")&&pc(m,"afterInit",function(){let b=this.chart;b.options.tooltip&&(b.tooltip=new q(b,b.options.tooltip,this))})}})(Dd||(Dd={}));let Hg=Dd,{animObject:u0}=ni,{defaultOptions:vm}=tr,{format:mc}=At,{addEvent:iu,crisp:h0,erase:lv,extend:Gu,fireEvent:uo,getNestedProperty:jf,isArray:yc,isFunction:ho,isNumber:Wu,isObject:vc,merge:xm,pick:ts,syncTimeout:ru,removeEvent:Gg,uniqueKey:Dh}=ue;class fo{animateBeforeDestroy(){let m=this,b={x:m.startXPos,opacity:0},C=m.getGraphicalProps();C.singular.forEach(function(D){m[D]=m[D].animate(D==="dataLabel"?{x:m[D].startXPos,y:m[D].startYPos,opacity:0}:b)}),C.plural.forEach(function(D){m[D].forEach(function(O){O.element&&O.animate(Gu({x:m.startXPos},O.startYPos?{x:O.startXPos,y:O.startYPos}:{}))})})}applyOptions(m,b){let C=this.series,D=C.options.pointValKey||C.pointValKey;return Gu(this,m=fo.prototype.optionsToObject.call(this,m)),this.options=this.options?Gu(this.options,m):m,m.group&&delete this.group,m.dataLabels&&delete this.dataLabels,D&&(this.y=fo.prototype.getNestedProperty.call(this,D)),this.selected&&(this.state="select"),"name"in this&&b===void 0&&C.xAxis&&C.xAxis.hasNames&&(this.x=C.xAxis.nameToX(this)),this.x===void 0&&C?this.x=b??C.autoIncrement():Wu(m.x)&&C.options.relativeXValue?this.x=C.autoIncrement(m.x):typeof this.x=="string"&&(b??(b=C.chart.time.parse(this.x)),Wu(b)&&(this.x=b)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let m=this,b=m.series,C=b.chart,D=b.options.dataSorting,O=C.hoverPoints,I=u0(m.series.chart.renderer.globalAnimation),B=()=>{for(let U in(m.graphic||m.graphics||m.dataLabel||m.dataLabels)&&(Gg(m),m.destroyElements()),m)delete m[U]};m.legendItem&&C.legend.destroyItem(m),O&&(m.setState(),lv(O,m),O.length||(C.hoverPoints=null)),m===C.hoverPoint&&m.onMouseOut(),D?.enabled?(this.animateBeforeDestroy(),ru(B,I.duration)):B(),C.pointCount--}this.destroyed=!0}destroyElements(m){let b=this,C=b.getGraphicalProps(m);C.singular.forEach(function(D){b[D]=b[D].destroy()}),C.plural.forEach(function(D){b[D].forEach(function(O){O?.element&&O.destroy()}),delete b[D]})}firePointEvent(m,b,C){let D=this,O=this.series.options;D.manageEvent(m),m==="click"&&O.allowPointSelect&&(C=function(I){!D.destroyed&&D.select&&D.select(null,I.ctrlKey||I.metaKey||I.shiftKey)}),uo(D,m,b,C)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(m){let b,C,D=this,O=[],I={singular:[],plural:[]};for((m=m||{graphic:1,dataLabel:1}).graphic&&O.push("graphic","connector"),m.dataLabel&&O.push("dataLabel","dataLabelPath","dataLabelUpper"),C=O.length;C--;)D[b=O[C]]&&I.singular.push(b);return["graphic","dataLabel"].forEach(function(B){let U=B+"s";m[B]&&D[U]&&I.plural.push(U)}),I}getNestedProperty(m){if(m)return m.indexOf("custom.")===0?jf(m,this.options):this[m]}getZone(){let m=this.series,b=m.zones,C=m.zoneAxis||"y",D,O=0;for(D=b[0];this[C]>=D.value;)D=b[++O];return this.nonZonedColor||(this.nonZonedColor=this.color),D?.color&&!this.options.color?this.color=D.color:this.color=this.nonZonedColor,D}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(m,b,C){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=m,this.applyOptions(b,C),this.id??(this.id=Dh()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=m.options.nullInteraction),m.chart.pointCount++,uo(this,"afterInit")}isValid(){return(Wu(this.x)||this.x instanceof Date)&&Wu(this.y)}optionsToObject(m){let b=this.series,C=b.options.keys,D=C||b.pointArrayMap||["y"],O=D.length,I={},B,U=0,Q=0;if(Wu(m)||m===null)I[D[0]]=m;else if(yc(m))for(!C&&m.length>O&&((B=typeof m[0])=="string"?b.xAxis?.dateTime?I.x=b.chart.time.parse(m[0]):I.name=m[0]:B==="number"&&(I.x=m[0]),U++);Q<O;)C&&m[U]===void 0||(D[Q].indexOf(".")>0?fo.prototype.setNestedProperty(I,m[U],D[Q]):I[D[Q]]=m[U]),U++,Q++;else typeof m=="object"&&(I=m,m.dataLabels&&(b.hasDataLabels=()=>!0),m.marker&&(b._hasPointMarkers=!0));return I}pos(m,b=this.plotY){if(!this.destroyed){let{plotX:C,series:D}=this,{chart:O,xAxis:I,yAxis:B}=D,U=0,Q=0;if(Wu(C)&&Wu(b))return m&&(U=I?I.pos:O.plotLeft,Q=B?B.pos:O.plotTop),O.inverted&&I&&B?[B.len-b+Q,I.len-C+U]:[C+U,b+Q]}}resolveColor(){let m=this.series,b=m.chart.options.chart,C=m.chart.styledMode,D,O,I=b.colorCount,B;delete this.nonZonedColor,m.options.colorByPoint?(C||(D=(O=m.options.colors||m.chart.options.colors)[m.colorCounter],I=O.length),B=m.colorCounter,m.colorCounter++,m.colorCounter===I&&(m.colorCounter=0)):(C||(D=m.color),B=m.colorIndex),this.colorIndex=ts(this.options.colorIndex,B),this.color=ts(this.options.color,D)}setNestedProperty(m,b,C){return C.split(".").reduce(function(D,O,I,B){let U=B.length-1===I;return D[O]=U?b:vc(D[O],!0)?D[O]:{},D[O]},m),m}shouldDraw(){return!this.isNull}tooltipFormatter(m){let{chart:b,pointArrayMap:C=["y"],tooltipOptions:D}=this.series,{valueDecimals:O="",valuePrefix:I="",valueSuffix:B=""}=D;return b.styledMode&&(m=b.tooltip?.styledModeFormat(m)||m),C.forEach(U=>{U="{point."+U,(I||B)&&(m=m.replace(RegExp(U+"}","g"),I+U+"}"+B)),m=m.replace(RegExp(U+"}","g"),U+":,."+O+"f}")}),mc(m,this,b)}update(m,b,C,D){let O,I=this,B=I.series,U=I.graphic,Q=B.chart,it=B.options;function tt(){I.applyOptions(m);let at=U&&I.hasMockGraphic,gt=I.y===null?!at:at;U&&gt&&(I.graphic=U.destroy(),delete I.hasMockGraphic),vc(m,!0)&&(U?.element&&m&&m.marker&&m.marker.symbol!==void 0&&(I.graphic=U.destroy()),m?.dataLabels&&I.dataLabel&&(I.dataLabel=I.dataLabel.destroy())),O=I.index;let pt={};for(let _t of B.dataColumnKeys())pt[_t]=I[_t];B.dataTable.setRow(pt,O),it.data[O]=vc(it.data[O],!0)||vc(m,!0)?I.options:ts(m,it.data[O]),B.isDirty=B.isDirtyData=!0,!B.fixedBox&&B.hasCartesianSeries&&(Q.isDirtyBox=!0),it.legendType==="point"&&(Q.isDirtyLegend=!0),b&&Q.redraw(C)}b=ts(b,!0),D===!1?tt():I.firePointEvent("update",{options:m},tt)}remove(m,b){this.series.removePoint(this.series.data.indexOf(this),m,b)}select(m,b){let C=this,D=C.series,O=D.chart;m=ts(m,!C.selected),this.selectedStaging=m,C.firePointEvent(m?"select":"unselect",{accumulate:b},function(){C.selected=C.options.selected=m,D.options.data[D.data.indexOf(C)]=C.options,C.setState(m&&"select"),b||O.getSelectedPoints().forEach(function(I){let B=I.series;I.selected&&I!==C&&(I.selected=I.options.selected=!1,B.options.data[B.data.indexOf(I)]=I.options,I.setState(O.hoverPoints&&B.options.inactiveOtherPoints?"inactive":""),I.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(m){let{inverted:b,pointer:C}=this.series.chart;C&&(m=m?C.normalize(m):C.getChartCoordinatesFromPoint(this,b),C.runPointActions(m,this))}onMouseOut(){let m=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(m.hoverPoints||[]).forEach(function(b){b.setState()}),m.hoverPoints=m.hoverPoint=null}manageEvent(m){let b=xm(this.series.options.point,this.options),C=b.events?.[m];ho(C)&&(!this.hcEvents?.[m]||this.hcEvents?.[m]?.map(D=>D.fn).indexOf(C)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=iu(this,m,C),this.hcEvents&&(this.hcEvents[m].userEvent=!0)):this.importedUserEvent&&!C&&this.hcEvents?.[m]&&this.hcEvents?.[m].userEvent&&(Gg(this,m),delete this.hcEvents[m],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(m,b){let C=this.series,D=this.state,O=C.options.states[m||"normal"]||{},I=vm.plotOptions[C.type].marker&&C.options.marker,B=I&&I.enabled===!1,U=I?.states?.[m||"normal"]||{},Q=U.enabled===!1,it=this.marker||{},tt=C.chart,at=I&&C.markerAttribs,gt=C.halo,pt,_t,wt,bt=C.stateMarkerGraphic,jt;if((m=m||"")===this.state&&!b||this.selected&&m!=="select"||O.enabled===!1||m&&(Q||B&&U.enabled===!1)||m&&it.states&&it.states[m]&&it.states[m].enabled===!1)return;if(this.state=m,at&&(pt=C.markerAttribs(this,m)),this.graphic&&!this.hasMockGraphic){if(D&&this.graphic.removeClass("highcharts-point-"+D),m&&this.graphic.addClass("highcharts-point-"+m),!tt.styledMode){_t=C.pointAttribs(this,m),wt=ts(tt.options.chart.animation,O.animation);let $t=_t.opacity;C.options.inactiveOtherPoints&&Wu($t)&&(this.dataLabels||[]).forEach(function(Vt){Vt&&!Vt.hasClass("highcharts-data-label-hidden")&&(Vt.animate({opacity:$t},wt),Vt.connector&&Vt.connector.animate({opacity:$t},wt))}),this.graphic.animate(_t,wt)}pt&&this.graphic.animate(pt,ts(tt.options.chart.animation,U.animation,I.animation)),bt&&bt.hide()}else m&&U&&(jt=it.symbol||C.symbol,bt&&bt.currentSymbol!==jt&&(bt=bt.destroy()),pt&&(bt?bt[b?"animate":"attr"]({x:pt.x,y:pt.y}):jt&&(C.stateMarkerGraphic=bt=tt.renderer.symbol(jt,pt.x,pt.y,pt.width,pt.height,xm(I,U)).add(C.markerGroup),bt.currentSymbol=jt)),!tt.styledMode&&bt&&this.state!=="inactive"&&bt.attr(C.pointAttribs(this,m))),bt&&(bt[m&&this.isInside?"show":"hide"](),bt.element.point=this,bt.addClass(this.getClassName(),!0));let Dt=O.halo,zt=this.graphic||bt,Ut=zt?.visibility||"inherit";Dt?.size&&zt&&Ut!=="hidden"&&!this.isCluster?(gt||(C.halo=gt=tt.renderer.path().add(zt.parentGroup)),gt.show()[b?"animate":"attr"]({d:this.haloPath(Dt.size)}),gt.attr({class:"highcharts-halo highcharts-color-"+ts(this.colorIndex,C.colorIndex)+(this.className?" "+this.className:""),visibility:Ut,zIndex:-1}),gt.point=this,tt.styledMode||gt.attr(Gu({fill:this.color||C.color,"fill-opacity":Dt.opacity},Yi.filterUserAttributes(Dt.attributes||{})))):gt?.point?.haloPath&&!gt.point.destroyed&&gt.animate({d:gt.point.haloPath(0)},null,gt.hide),uo(this,"afterSetState",{state:m})}haloPath(m){let b=this.pos();return b?this.series.chart.renderer.symbols.circle(h0(b[0],1)-m,b[1]-m,2*m,2*m):[]}}let zl=fo,{parse:bm}=We,{charts:Ea,composed:Od,isTouchDevice:Df}=Y,{addEvent:Aa,attr:wm,css:xc,extend:Fl,find:_m,fireEvent:da,isNumber:Oh,isObject:Us,objectEach:Bl,offset:Lh,pick:Eo,pushUnique:d0,splat:cl}=ue;class Ki{applyInactiveState(m=[]){let b=[];for(let C of(m.forEach(D=>{let O=D.series;b.push(O),O.linkedParent&&b.push(O.linkedParent),O.linkedSeries&&b.push.apply(b,O.linkedSeries),O.navigatorSeries&&b.push(O.navigatorSeries),O.boosted&&O.markerGroup&&b.push.apply(b,this.chart.series.filter(I=>I.markerGroup===O.markerGroup))}),this.chart.series)){let D=C.options;D.states?.inactive?.enabled!==!1&&(b.indexOf(C)===-1?C.setState("inactive",!0):D.inactiveOtherPoints&&C.setAllPointsToState("inactive"))}}destroy(){let m=this;this.eventsToUnbind.forEach(b=>b()),this.eventsToUnbind=[],!Y.chartCount&&(Ki.unbindDocumentMouseUp.forEach(b=>b.unbind()),Ki.unbindDocumentMouseUp.length=0,Ki.unbindDocumentTouchEnd&&(Ki.unbindDocumentTouchEnd=Ki.unbindDocumentTouchEnd())),clearInterval(m.tooltipTimeout),Bl(m,function(b,C){m[C]=void 0})}getSelectionMarkerAttrs(m,b){let C={args:{chartX:m,chartY:b},attrs:{},shapeType:"rect"};return da(this,"getSelectionMarkerAttrs",C,D=>{let O,{chart:I,zoomHor:B,zoomVert:U}=this,{mouseDownX:Q=0,mouseDownY:it=0}=I,tt=D.attrs;tt.x=I.plotLeft,tt.y=I.plotTop,tt.width=B?1:I.plotWidth,tt.height=U?1:I.plotHeight,B&&(tt.width=Math.max(1,Math.abs(O=m-Q)),tt.x=(O>0?0:O)+Q),U&&(tt.height=Math.max(1,Math.abs(O=b-it)),tt.y=(O>0?0:O)+it)}),C}drag(m){let{chart:b}=this,{mouseDownX:C=0,mouseDownY:D=0}=b,{panning:O,panKey:I,selectionMarkerFill:B}=b.options.chart,U=b.plotLeft,Q=b.plotTop,it=b.plotWidth,tt=b.plotHeight,at=Us(O)?O.enabled:O,gt=I&&m[`${I}Key`],pt=m.chartX,_t=m.chartY,wt,bt=this.selectionMarker;if((!bt||!bt.touch)&&(pt<U?pt=U:pt>U+it&&(pt=U+it),_t<Q?_t=Q:_t>Q+tt&&(_t=Q+tt),this.hasDragged=Math.sqrt(Math.pow(C-pt,2)+Math.pow(D-_t,2)),this.hasDragged>10)){wt=b.isInsidePlot(C-U,D-Q,{visiblePlotOnly:!0});let{shapeType:jt,attrs:Dt}=this.getSelectionMarkerAttrs(pt,_t);this.hasZoom&&wt&&!gt&&!bt&&(this.selectionMarker=bt=b.renderer[jt](),bt.attr({class:"highcharts-selection-marker",zIndex:7}).add(),b.styledMode||bt.attr({fill:B||bm("#334eff").setOpacity(.25).get()})),bt&&bt.attr(Dt),wt&&!bt&&at&&b.pan(m,O)}}dragStart(m){let b=this.chart;b.mouseIsDown=m.type,b.cancelClick=!1,b.mouseDownX=m.chartX,b.mouseDownY=m.chartY}getSelectionBox(m){let b={args:{marker:m},result:m.getBBox()};return da(this,"getSelectionBox",b),b.result}drop(m){let b,{chart:C,selectionMarker:D}=this;for(let O of C.axes)O.isPanning&&(O.isPanning=!1,(O.options.startOnTick||O.options.endOnTick||O.series.some(I=>I.boosted))&&(O.forceRedraw=!0,O.setExtremes(O.userMin,O.userMax,!1),b=!0));if(b&&C.redraw(),D&&m){if(this.hasDragged){let O=this.getSelectionBox(D);C.transform({axes:C.axes.filter(I=>I.zoomEnabled&&(I.coll==="xAxis"&&this.zoomX||I.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:m,xAxis:[],yAxis:[],...O},from:O})}Oh(C.index)&&(this.selectionMarker=D.destroy())}C&&Oh(C.index)&&(xc(C.container,{cursor:C._cursor}),C.cancelClick=this.hasDragged>10,C.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(m,b,C){let D;return m.forEach(function(O){let I=!(O.noSharedTooltip&&b)&&0>O.options.findNearestPointBy.indexOf("y"),B=O.searchPoint(C,I);Us(B,!0)&&B.series&&(!Us(D,!0)||(function(U,Q){let it=U.distX-Q.distX,tt=U.dist-Q.dist,at=Q.series.group?.zIndex-U.series.group?.zIndex;return it!==0&&b?it:tt!==0?tt:at!==0?at:U.series.index>Q.series.index?-1:1})(D,B)>0)&&(D=B)}),D}getChartCoordinatesFromPoint(m,b){let{xAxis:C,yAxis:D}=m.series,O=m.shapeArgs;if(C&&D){let I=m.clientX??m.plotX??0,B=m.plotY||0;return m.isNode&&O&&Oh(O.x)&&Oh(O.y)&&(I=O.x,B=O.y),b?{chartX:D.len+D.pos-B,chartY:C.len+C.pos-I}:{chartX:I+C.pos,chartY:B+D.pos}}if(O?.x&&O.y)return{chartX:O.x,chartY:O.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:m}=this.chart,b=Lh(m);this.chartPosition={left:b.left,top:b.top,scaleX:1,scaleY:1};let{offsetHeight:C,offsetWidth:D}=m;return D>2&&C>2&&(this.chartPosition.scaleX=b.width/D,this.chartPosition.scaleY=b.height/C),this.chartPosition}getCoordinates(m){let b={xAxis:[],yAxis:[]};for(let C of this.chart.axes)b[C.isXAxis?"xAxis":"yAxis"].push({axis:C,value:C.toValue(m[C.horiz?"chartX":"chartY"])});return b}getHoverData(m,b,C,D,O,I){let B=[],U=function(gt){return gt.visible&&!(!O&&gt.directTouch)&&Eo(gt.options.enableMouseTracking,!0)},Q=b,it,tt={chartX:I?I.chartX:void 0,chartY:I?I.chartY:void 0,shared:O};da(this,"beforeGetHoverData",tt),it=Q&&!Q.stickyTracking?[Q]:C.filter(gt=>gt.stickyTracking&&(tt.filter||U)(gt));let at=D&&m||!I?m:this.findNearestKDPoint(it,O,I);return Q=at?.series,at&&(O&&!Q.noSharedTooltip?(it=C.filter(function(gt){return tt.filter?tt.filter(gt):U(gt)&&!gt.noSharedTooltip})).forEach(function(gt){let pt=gt.options?.nullInteraction,_t=_m(gt.points,function(wt){return wt.x===at.x&&(!wt.isNull||!!pt)});Us(_t)&&(gt.boosted&&gt.boost&&(_t=gt.boost.getPoint(_t)),B.push(_t))}):B.push(at)),da(this,"afterGetHoverData",tt={hoverPoint:at}),{hoverPoint:tt.hoverPoint,hoverSeries:Q,hoverPoints:B}}getPointFromEvent(m){let b=m.target,C;for(;b&&!C;)C=b.point,b=b.parentNode;return C}onTrackerMouseOut(m){let b=this.chart,C=m.relatedTarget,D=b.hoverSeries;this.isDirectTouch=!1,!D||!C||D.stickyTracking||this.inClass(C,"highcharts-tooltip")||this.inClass(C,"highcharts-series-"+D.index)&&this.inClass(C,"highcharts-tracker")||D.onMouseOut()}inClass(m,b){let C=m,D;for(;C;){if(D=wm(C,"class")){if(D.indexOf(b)!==-1)return!0;if(D.indexOf("highcharts-container")!==-1)return!1}C=C.parentElement}}constructor(m,b){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=b,this.chart=m,this.runChartClick=!!b.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),da(this,"afterInit")}normalize(m,b){let C=m.touches,D=C?C.length?C.item(0):Eo(C.changedTouches,m.changedTouches)[0]:m;b||(b=this.getChartPosition());let O=D.pageX-b.left,I=D.pageY-b.top;return Fl(m,{chartX:Math.round(O/=b.scaleX),chartY:Math.round(I/=b.scaleY)})}onContainerClick(m){let b=this.chart,C=b.hoverPoint,D=this.normalize(m),O=b.plotLeft,I=b.plotTop;!b.cancelClick&&(C&&this.inClass(D.target,"highcharts-tracker")?(da(C.series,"click",Fl(D,{point:C})),b.hoverPoint&&C.firePointEvent("click",D)):(Fl(D,this.getCoordinates(D)),b.isInsidePlot(D.chartX-O,D.chartY-I,{visiblePlotOnly:!0})&&da(b,"click",D)))}onContainerMouseDown(m){let b=(1&(m.buttons||m.button))==1;m=this.normalize(m),Y.isFirefox&&m.button!==0&&this.onContainerMouseMove(m),(m.button===void 0||b)&&(this.zoomOption(m),b&&m.preventDefault?.(),this.dragStart(m))}onContainerMouseLeave(m){let{pointer:b}=Ea[Eo(Ki.hoverChartIndex,-1)]||{};m=this.normalize(m),this.onContainerMouseMove(m),b&&!this.inClass(m.relatedTarget,"highcharts-tooltip")&&(b.reset(),b.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(m){let b=this.chart,C=b.tooltip,D=this.normalize(m);this.setHoverChartIndex(m),(b.mouseIsDown==="mousedown"||this.touchSelect(D))&&this.drag(D),!b.exporting?.openMenu&&(this.inClass(D.target,"highcharts-tracker")||b.isInsidePlot(D.chartX-b.plotLeft,D.chartY-b.plotTop,{visiblePlotOnly:!0}))&&!C?.shouldStickOnContact(D)&&(this.inClass(D.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(D))}onDocumentTouchEnd(m){this.onDocumentMouseUp(m)}onContainerTouchMove(m){this.touchSelect(m)?this.onContainerMouseMove(m):this.touch(m)}onContainerTouchStart(m){this.touchSelect(m)?this.onContainerMouseDown(m):(this.zoomOption(m),this.touch(m,!0))}onDocumentMouseMove(m){let b=this.chart,C=b.tooltip,D=this.chartPosition,O=this.normalize(m,D);!D||b.isInsidePlot(O.chartX-b.plotLeft,O.chartY-b.plotTop,{visiblePlotOnly:!0})||C?.shouldStickOnContact(O)||O.target!==b.container.ownerDocument&&this.inClass(O.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(m){m?.touches&&this.hasPinchMoved&&m?.preventDefault?.(),Ea[Eo(Ki.hoverChartIndex,-1)]?.pointer?.drop(m)}pinch(m){let b=this,{chart:C,hasZoom:D,lastTouches:O}=b,I=[].map.call(m.touches||[],tt=>b.normalize(tt)),B=I.length,U=B===1&&(b.inClass(m.target,"highcharts-tracker")&&C.runTrackerClick||b.runChartClick),Q=C.tooltip,it=B===1&&Eo(Q?.options.followTouchMove,!0);B>1?b.initiated=!0:it&&(b.initiated=!1),D&&b.initiated&&!U&&m.cancelable!==!1&&m.preventDefault(),m.type==="touchstart"?(b.pinchDown=I,b.res=!0,C.mouseDownX=m.chartX):it?this.runPointActions(b.normalize(m)):O&&(da(C,"touchpan",{originalEvent:m,touches:I},()=>{let tt=at=>{let gt=at[0],pt=at[1]||gt;return{x:gt.chartX,y:gt.chartY,width:pt.chartX-gt.chartX,height:pt.chartY-gt.chartY}};C.transform({axes:C.axes.filter(at=>at.zoomEnabled&&(this.zoomHor&&at.horiz||this.zoomVert&&!at.horiz)),to:tt(I),from:tt(O),trigger:m.type})}),b.res&&(b.res=!1,this.reset(!1,0))),b.lastTouches=I}reset(m,b){let C=this.chart,D=C.hoverSeries,O=C.hoverPoint,I=C.hoverPoints,B=C.tooltip,U=B?.shared?I:O;m&&U&&cl(U).forEach(function(Q){Q.series.isCartesian&&Q.plotX===void 0&&(m=!1)}),m?B&&U&&cl(U).length&&(B.refresh(U),B.shared&&I?I.forEach(function(Q){Q.setState(Q.state,!0),Q.series.isCartesian&&(Q.series.xAxis.crosshair&&Q.series.xAxis.drawCrosshair(null,Q),Q.series.yAxis.crosshair&&Q.series.yAxis.drawCrosshair(null,Q))}):O&&(O.setState(O.state,!0),C.axes.forEach(function(Q){Q.crosshair&&O.series[Q.coll]===Q&&Q.drawCrosshair(null,O)}))):(O&&O.onMouseOut(),I&&I.forEach(function(Q){Q.setState()}),D&&D.onMouseOut(),B&&B.hide(b),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),C.axes.forEach(function(Q){Q.hideCrosshair()}),C.hoverPoints=C.hoverPoint=void 0)}runPointActions(m,b,C){let D=this.chart,O=D.series,I=D.tooltip?.options.enabled?D.tooltip:void 0,B=!!I&&I.shared,U=b||D.hoverPoint,Q=U?.series||D.hoverSeries,it=(!m||m.type!=="touchmove")&&(!!b||Q?.directTouch&&this.isDirectTouch),tt=this.getHoverData(U,Q,O,it,B,m);U=tt.hoverPoint,Q=tt.hoverSeries;let at=tt.hoverPoints,gt=Q?.tooltipOptions.followPointer&&!Q.tooltipOptions.split,pt=B&&Q&&!Q.noSharedTooltip;if(U&&(C||U!==D.hoverPoint||I?.isHidden)){if((D.hoverPoints||[]).forEach(function(_t){at.indexOf(_t)===-1&&_t.setState()}),D.hoverSeries!==Q&&Q.onMouseOver(),this.applyInactiveState(at),(at||[]).forEach(function(_t){_t.setState("hover")}),D.hoverPoint&&D.hoverPoint.firePointEvent("mouseOut"),!U.series)return;D.hoverPoints=at,D.hoverPoint=U,U.firePointEvent("mouseOver",void 0,()=>{I&&U&&I.refresh(pt?at:U,m)})}else if(gt&&I&&!I.isHidden){let _t=I.getAnchor([{}],m);D.isInsidePlot(_t[0],_t[1],{visiblePlotOnly:!0})&&I.updatePosition({plotX:_t[0],plotY:_t[1]})}this.unDocMouseMove||(this.unDocMouseMove=Aa(D.container.ownerDocument,"mousemove",_t=>Ea[Ki.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(_t)),this.eventsToUnbind.push(this.unDocMouseMove)),D.axes.forEach(function(_t){let wt,bt=_t.crosshair?.snap??!0;bt&&((wt=D.hoverPoint)&&wt.series[_t.coll]===_t||(wt=_m(at,jt=>jt.series?.[_t.coll]===_t))),wt||!bt?_t.drawCrosshair(m,wt):_t.hideCrosshair()})}setDOMEvents(){let m=this.chart.container,b=m.ownerDocument;m.onmousedown=this.onContainerMouseDown.bind(this),m.onmousemove=this.onContainerMouseMove.bind(this),m.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Aa(m,"mouseenter",this.onContainerMouseEnter.bind(this)),Aa(m,"mouseleave",this.onContainerMouseLeave.bind(this))),Ki.unbindDocumentMouseUp.some(D=>D.doc===b)||Ki.unbindDocumentMouseUp.push({doc:b,unbind:Aa(b,"mouseup",this.onDocumentMouseUp.bind(this))});let C=this.chart.renderTo.parentElement;for(;C&&C.tagName!=="BODY";)this.eventsToUnbind.push(Aa(C,"scroll",()=>{delete this.chartPosition})),C=C.parentElement;this.eventsToUnbind.push(Aa(m,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Aa(m,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Ki.unbindDocumentTouchEnd||(Ki.unbindDocumentTouchEnd=Aa(b,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Aa(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Df)return;let m=this.pointerCaptureEventsToUnbind,b=this.chart,C=b.container,D=Eo(b.options.tooltip?.followTouchMove,!0)&&b.series.some(O=>O.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&D?(m.push(Aa(C,"pointerdown",O=>{O.target?.hasPointerCapture(O.pointerId)&&O.target?.releasePointerCapture(O.pointerId)}),Aa(C,"pointermove",O=>{b.pointer?.getPointFromEvent(O)?.onMouseOver(O)})),b.styledMode||xc(C,{"touch-action":"none"}),C.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!D&&(m.forEach(O=>O()),m.length=0,b.styledMode||xc(C,{"touch-action":Eo(b.options.chart.style?.["touch-action"],"manipulation")}),C.className=C.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(m){let b=this.chart,C=Y.charts[Eo(Ki.hoverChartIndex,-1)];if(C&&C!==b){let D={relatedTarget:b.container};m&&!m?.relatedTarget&&Object.assign({},m,D),C.pointer?.onContainerMouseLeave(m||D)}C?.mouseIsDown||(Ki.hoverChartIndex=b.index)}touch(m,b){let C,{chart:D,pinchDown:O=[]}=this;this.setHoverChartIndex(),(m=this.normalize(m)).touches.length===1?D.isInsidePlot(m.chartX-D.plotLeft,m.chartY-D.plotTop,{visiblePlotOnly:!0})&&!D.exporting?.openMenu?(b&&this.runPointActions(m),m.type==="touchmove"&&(this.hasPinchMoved=C=!!O[0]&&Math.pow(O[0].chartX-m.chartX,2)+Math.pow(O[0].chartY-m.chartY,2)>=16),Eo(C,!0)&&this.pinch(m)):b&&this.reset():m.touches.length===2&&this.pinch(m)}touchSelect(m){return!!(this.chart.zooming.singleTouch&&m.touches&&m.touches.length===1)}zoomOption(m){let b=this.chart,C=b.inverted,D=b.zooming.type||"",O,I;/touch/.test(m.type)&&(D=Eo(b.zooming.pinchType,D)),this.zoomX=O=/x/.test(D),this.zoomY=I=/y/.test(D),this.zoomHor=O&&!C||I&&C,this.zoomVert=I&&!C||O&&C,this.hasZoom=O||I}}Ki.unbindDocumentMouseUp=[],(function(q){q.compose=function(m){d0(Od,"Core.Pointer")&&Aa(m,"beforeRender",function(){this.pointer=new q(this,this.options)})}})(Ki||(Ki={}));let Ta=Ki;(function(q){q.setLength=function(m,b,C){return Array.isArray(m)?(m.length=b,m):m[C?"subarray":"slice"](0,b)},q.splice=function(m,b,C,D,O=[]){if(Array.isArray(m))return Array.isArray(O)||(O=Array.from(O)),{removed:m.splice(b,C,...O),array:m};let I=Object.getPrototypeOf(m).constructor,B=m[D?"subarray":"slice"](b,b+C),U=new I(m.length-C+O.length);return U.set(m.subarray(0,b),0),U.set(O,b),U.set(m.subarray(b+C),b+O.length),{removed:B,array:U}}})(g||(g={}));let{setLength:Sm,splice:jo}=g,{fireEvent:Wn,objectEach:Zi,uniqueKey:Br}=ue,Rh=class{constructor(q={}){this.autoId=!q.id,this.columns={},this.id=q.id||Br(),this.modified=this,this.rowCount=0,this.versionTag=Br();let m=0;Zi(q.columns||{},(b,C)=>{this.columns[C]=b.slice(),m=Math.max(m,b.length)}),this.applyRowCount(m)}applyRowCount(q){this.rowCount=q,Zi(this.columns,(m,b)=>{m.length!==q&&(this.columns[b]=Sm(m,q))})}deleteRows(q,m=1){if(m>0&&q<this.rowCount){let b=0;Zi(this.columns,(C,D)=>{this.columns[D]=jo(C,q,m).array,b=C.length}),this.rowCount=b}Wn(this,"afterDeleteRows",{rowIndex:q,rowCount:m}),this.versionTag=Br()}getColumn(q,m){return this.columns[q]}getColumns(q,m){return(q||Object.keys(this.columns)).reduce((b,C)=>(b[C]=this.columns[C],b),{})}getRow(q,m){return(m||Object.keys(this.columns)).map(b=>this.columns[b]?.[q])}setColumn(q,m=[],b=0,C){this.setColumns({[q]:m},b,C)}setColumns(q,m,b){let C=this.rowCount;Zi(q,(D,O)=>{this.columns[O]=D.slice(),C=D.length}),this.applyRowCount(C),b?.silent||(Wn(this,"afterSetColumns"),this.versionTag=Br())}setRow(q,m=this.rowCount,b,C){let{columns:D}=this,O=b?this.rowCount+1:m+1;Zi(q,(I,B)=>{let U=D[B]||C?.addColumns!==!1&&Array(O);U&&(b?U=jo(U,m,0,!0,[I]).array:U[m]=I,D[B]=U)}),O>this.rowCount&&this.applyRowCount(O),C?.silent||(Wn(this,"afterSetRows"),this.versionTag=Br())}},{extend:Of,merge:Ld,pick:Wg}=ue;(function(q){function m(b,C,D){let O=this.legendItem=this.legendItem||{},{chart:I,options:B}=this,{baseline:U=0,symbolWidth:Q,symbolHeight:it}=b,tt=this.symbol||"circle",at=it/2,gt=I.renderer,pt=O.group,_t=U-Math.round((b.fontMetrics?.b||it)*(D?.4:.3)),wt={},bt,jt=B.marker,Dt=0;if(I.styledMode||(wt["stroke-width"]=Math.min(B.lineWidth||0,24),B.dashStyle?wt.dashstyle=B.dashStyle:B.linecap!=="square"&&(wt["stroke-linecap"]="round")),O.line=gt.path().addClass("highcharts-graph").attr(wt).add(pt),D&&(O.area=gt.path().addClass("highcharts-area").add(pt)),wt["stroke-linecap"]&&(Dt=Math.min(O.line.strokeWidth(),Q)/2),Q){let zt=[["M",Dt,_t],["L",Q-Dt,_t]];O.line.attr({d:zt}),O.area?.attr({d:[...zt,["L",Q-Dt,U],["L",Dt,U]]})}if(jt&&jt.enabled!==!1&&Q){let zt=Math.min(Wg(jt.radius,at),at);tt.indexOf("url")===0&&(jt=Ld(jt,{width:it,height:it}),zt=0),O.symbol=bt=gt.symbol(tt,Q/2-zt,_t-zt,2*zt,2*zt,Of({context:"legend"},jt)).addClass("highcharts-point").add(pt),bt.isMarker=!0}}q.areaMarker=function(b,C){m.call(this,b,C,!0)},q.lineMarker=m,q.rectangle=function(b,C){let D=C.legendItem||{},O=b.options,I=b.symbolHeight,B=O.squareSymbol,U=B?I:b.symbolWidth;D.symbol=this.chart.renderer.rect(B?(b.symbolWidth-I)/2:0,b.baseline-I+1,U,I,Wg(b.options.symbolRadius,I/2)).addClass("highcharts-point").attr({zIndex:3}).add(D.group)}})(y||(y={}));let Rd=y,{defaultOptions:Uu}=tr,{extend:E1,extendClass:fa,merge:km}=ue;(function(q){function m(b,C){let D=Uu.plotOptions||{},O=C.defaultOptions,I=C.prototype;return I.type=b,I.pointClass||(I.pointClass=zl),!q.seriesTypes[b]&&(O&&(D[b]=O),q.seriesTypes[b]=C,!0)}q.seriesTypes=Y.seriesTypes,q.registerSeriesType=m,q.seriesType=function(b,C,D,O,I){let B=Uu.plotOptions||{};if(C=C||"",B[b]=km(B[C],D),delete q.seriesTypes[b],m(b,fa(q.seriesTypes[C]||Ys,O)),q.seriesTypes[b].prototype.type=b,I){class U extends zl{}E1(U.prototype,I),q.seriesTypes[b].prototype.pointClass=U}return q.seriesTypes[b]}})(x||(x={}));let Hr=x,{animObject:Cm,setAnimation:Ug}=ni,{defaultOptions:Am}=tr,{registerEventOptions:Tm}=Vc,{svg:Mm,win:cv}=Y,{seriesTypes:ja}=Hr,{format:Da}=At,{arrayMax:Ih,arrayMin:Id,clamp:zd,correctFloat:Nm,crisp:bc,defined:hn,destroyObjectProperties:uv,diffObjects:hv,erase:Fd,error:Lf,extend:Bd,find:f0,fireEvent:Ai,getClosestDistance:g0,getNestedProperty:Hd,insertItem:Yg,isArray:dv,isNumber:Oa,isString:Do,merge:ul,objectEach:Gd,pick:Gr,removeEvent:$g,syncTimeout:Pm}=ue;class Oo{constructor(){this.zoneAxis="y"}init(m,b){let C;Ai(this,"init",{options:b}),this.dataTable??(this.dataTable=new Rh);let D=m.series;this.eventsToUnbind=[],this.chart=m,this.options=this.setOptions(b);let O=this.options,I=O.visible!==!1;this.linkedSeries=[],this.bindAxes(),Bd(this,{name:O.name,state:"",visible:I,selected:O.selected===!0}),Tm(this,O),(O.events?.click||O.point?.events?.click||O.allowPointSelect)&&(m.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(m.hasCartesianSeries=!0),D.length&&(C=D[D.length-1]),this._i=Gr(C?._i,-1)+1,this.opacity=this.options.opacity,m.orderItems("series",Yg(this,D)),O.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(O.data,!1),Ai(this,"afterInit")}is(m){return ja[m]&&this instanceof ja[m]}bindAxes(){let m,b=this,C=b.options,D=b.chart;Ai(this,"bindAxes",null,function(){(b.axisTypes||[]).forEach(function(O){(D[O]||[]).forEach(function(I){m=I.options,(Gr(C[O],0)===I.index||C[O]!==void 0&&C[O]===m.id)&&(Yg(b,I.series),b[O]=I,I.isDirty=!0)}),b[O]||b.optionalAxis===O||Lf(18,!0,D)})}),Ai(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(m,b){let C=m.marker,D=b.marker||{};return C&&(D.enabled&&!C.enabled||D.symbol!==C.symbol||D.height!==C.height||D.width!==C.width)}autoIncrement(m){let b,C=this.options,{pointIntervalUnit:D,relativeXValue:O}=this.options,I=this.chart.time,B=this.xIncrement??I.parse(C.pointStart)??0;if(this.pointInterval=b=Gr(this.pointInterval,C.pointInterval,1),O&&Oa(m)&&(b*=m),D){let U=I.toParts(B);D==="day"?U[2]+=b:D==="month"?U[1]+=b:D==="year"&&(U[0]+=b),b=I.makeTime.apply(I,U)-B}return O&&Oa(m)?B+b:(this.xIncrement=B+b,B)}setDataSortingOptions(){let m=this.options;Bd(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),hn(m.pointRange)||(m.pointRange=1)}setOptions(m){let b,C=this.chart,D=C.options.plotOptions,O=C.userOptions||{},I=ul(m),B=C.styledMode,U={plotOptions:D,userOptions:I};Ai(this,"setOptions",U);let Q=U.plotOptions[this.type],it=O.plotOptions||{},tt=it.series||{},at=Am.plotOptions[this.type]||{},gt=it[this.type]||{};Q.dataLabels=this.mergeArrays(at.dataLabels,Q.dataLabels),this.userOptions=U.userOptions;let pt=ul(Q,D.series,gt,I);this.tooltipOptions=ul(Am.tooltip,Am.plotOptions.series?.tooltip,at?.tooltip,C.userOptions.tooltip,it.series?.tooltip,gt.tooltip,I.tooltip),this.stickyTracking=Gr(I.stickyTracking,gt.stickyTracking,tt.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||pt.stickyTracking),Q.marker===null&&delete pt.marker,this.zoneAxis=pt.zoneAxis||"y";let _t=this.zones=(pt.zones||[]).map(wt=>({...wt}));return(pt.negativeColor||pt.negativeFillColor)&&!pt.zones&&(b={value:pt[this.zoneAxis+"Threshold"]||pt.threshold||0,className:"highcharts-negative"},B||(b.color=pt.negativeColor,b.fillColor=pt.negativeFillColor),_t.push(b)),_t.length&&hn(_t[_t.length-1].value)&&_t.push(B?{}:{color:this.color,fillColor:this.fillColor}),Ai(this,"afterSetOptions",{options:pt}),pt}getName(){return this.options.name??Da(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(m,b,C){let D,O,I=this.chart,B=`${m}Index`,U=`${m}Counter`,Q=C?.length||I.options.chart.colorCount;!b&&(hn(O=Gr(m==="color"?this.options.colorIndex:void 0,this[B]))?D=O:(I.series.length||(I[U]=0),D=I[U]%Q,I[U]+=1),C&&(b=C[D])),D!==void 0&&(this[B]=D),this[m]=b}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Am.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let m=this.options.marker;this.getCyclic("symbol",m.symbol,this.chart.options.symbols)}getColumn(m,b){return(b?this.dataTable.modified:this.dataTable).getColumn(m,!0)||[]}findPointIndex(m,b){let C,D,O,{id:I,x:B}=m,U=this.points,Q=this.options.dataSorting,it=this.cropStart||0;if(I){let tt=this.chart.get(I);tt instanceof zl&&(C=tt)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let tt=at=>!at.touched&&at.index===m.index;if(Q?.matchByName?tt=at=>!at.touched&&at.name===m.name:this.options.relativeXValue&&(tt=at=>!at.touched&&at.options.x===m.x),!(C=f0(U,tt)))return}return C&&(O=C?.index)!==void 0&&(D=!0),O===void 0&&Oa(B)&&(O=this.getColumn("x").indexOf(B,b)),O!==-1&&O!==void 0&&this.cropped&&(O=O>=it?O-it:O),!D&&Oa(O)&&U[O]?.touched&&(O=void 0),O}updateData(m,b){let{options:C,requireSorting:D}=this,O=C.dataSorting,I=this.points,B=[],U=m.length===I.length,Q,it,tt,at,gt=!0;if(this.xIncrement=null,m.forEach((_t,wt)=>{let bt,jt=hn(_t)&&this.pointClass.prototype.optionsToObject.call({series:this},_t)||{},{id:Dt,x:zt}=jt;Dt||Oa(zt)?((bt=this.findPointIndex(jt,at))===-1||bt===void 0?B.push(_t):I[bt]&&_t!==C.data?.[bt]?(I[bt].update(_t,!1,void 0,!1),I[bt].touched=!0,D&&(at=bt+1)):I[bt]&&(I[bt].touched=!0),(!U||wt!==bt||O?.enabled||this.hasDerivedData)&&(Q=!0)):B.push(_t)},this),Q)for(it=I.length;it--;)(tt=I[it])&&!tt.touched&&tt.remove?.(!1,b);else U&&!O?.enabled?(m.forEach((_t,wt)=>{_t===I[wt].y||I[wt].destroyed||I[wt].update(_t,!1,void 0,!1)}),B.length=0):gt=!1;if(I.forEach(_t=>{_t&&(_t.touched=!1)}),!gt)return!1;B.forEach(_t=>{this.addPoint(_t,!1,void 0,void 0,!1)},this);let pt=this.getColumn("x");return this.xIncrement===null&&pt.length&&(this.xIncrement=Ih(pt),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(m,b=!0,C,D){let O=this.points,I=O?.length||0,B=this.options,U=this.chart,Q=B.dataSorting,it=this.xAxis,tt=B.turboThreshold,at=this.dataTable,gt=this.dataColumnKeys(),pt=this.pointValKey||"y",_t=(this.pointArrayMap||[]).length,wt=B.keys,bt,jt,Dt=0,zt=1,Ut;U.options.chart.allowMutatingData||(B.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,Ut=ul(!0,m));let $t=(m=Ut||m||[]).length;if(Q?.enabled&&(m=this.sortData(m)),U.options.chart.allowMutatingData&&D!==!1&&$t&&I&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(jt=this.updateData(m,C)),!jt){this.xIncrement=null,this.colorCounter=0;let Vt=tt&&!B.relativeXValue&&$t>tt;if(Vt){let Gt=this.getFirstValidPoint(m),pe=this.getFirstValidPoint(m,$t-1,-1),ye=me=>!!(dv(me)&&(wt||Oa(me[0])));if(Oa(Gt)&&Oa(pe)){let me=[],Ie=[];for(let Ze of m)me.push(this.autoIncrement()),Ie.push(Ze);at.setColumns({x:me,[pt]:Ie})}else if(ye(Gt)&&ye(pe))if(_t){let me=+(Gt.length===_t),Ie=Array(gt.length).fill(0).map(()=>[]);for(let Ze of m){me&&Ie[0].push(this.autoIncrement());for(let en=me;en<=_t;en++)Ie[en]?.push(Ze[en-me])}at.setColumns(gt.reduce((Ze,en,De)=>(Ze[en]=Ie[De],Ze),{}))}else{wt&&(Dt=wt.indexOf("x"),zt=wt.indexOf("y"),Dt=Dt>=0?Dt:0,zt=zt>=0?zt:1),Gt.length===1&&(zt=0);let me=[],Ie=[];if(Dt===zt)for(let Ze of m)me.push(this.autoIncrement()),Ie.push(Ze[zt]);else for(let Ze of m)me.push(Ze[Dt]),Ie.push(Ze[zt]);at.setColumns({x:me,[pt]:Ie})}else Vt=!1}if(!Vt){let Gt=gt.reduce((pe,ye)=>(pe[ye]=[],pe),{});for(bt=0;bt<$t;bt++){let pe=this.pointClass.prototype.applyOptions.apply({series:this},[m[bt]]);for(let ye of gt)Gt[ye][bt]=pe[ye]}at.setColumns(Gt)}for(Do(this.getColumn("y")[0])&&Lf(14,!0,U),this.data=[],this.options.data=this.userOptions.data=m,bt=I;bt--;)O[bt]?.destroy();it&&(it.minRange=it.userMinRange),this.isDirty=U.isDirtyBox=!0,this.isDirtyData=!!O,C=!1}B.legendType==="point"&&(this.processData(),this.generatePoints()),b&&U.redraw(C)}sortData(m){let b=this,C=b.options.dataSorting.sortKey||"y",D=function(O,I){return hn(I)&&O.pointClass.prototype.optionsToObject.call({series:O},I)||{}};return m.forEach(function(O,I){m[I]=D(b,O),m[I].index=I},this),m.concat().sort((O,I)=>{let B=Hd(C,O),U=Hd(C,I);return U<B?-1:+(U>B)}).forEach(function(O,I){O.x=I},this),b.linkedSeries&&b.linkedSeries.forEach(function(O){let I=O.options,B=I.data;!I.dataSorting?.enabled&&B&&(B.forEach(function(U,Q){B[Q]=D(O,U),m[Q]&&(B[Q].x=m[Q].x,B[Q].index=Q)}),O.setData(B,!1))}),m}getProcessedData(m){let b=this,{dataTable:C,isCartesian:D,options:O,xAxis:I}=b,B=O.cropThreshold,U=m||b.getExtremesFromAll,Q=I?.logarithmic,it=C.rowCount,tt,at,gt=0,pt,_t,wt,bt=b.getColumn("x"),jt=C,Dt=!1;return I&&(_t=(pt=I.getExtremes()).min,wt=pt.max,Dt=!!(I.categories&&!I.names.length),D&&b.sorted&&!U&&(!B||it>B||b.forceCrop)&&(bt[it-1]<_t||bt[0]>wt?jt=new Rh:b.getColumn(b.pointValKey||"y").length&&(bt[0]<_t||bt[it-1]>wt)&&(jt=(tt=this.cropData(C,_t,wt)).modified,gt=tt.start,at=!0))),bt=jt.getColumn("x")||[],{modified:jt,cropped:at,cropStart:gt,closestPointRange:g0([Q?bt.map(Q.log2lin):bt],()=>b.requireSorting&&!Dt&&Lf(15,!1,b.chart))}}processData(m){let b=this.xAxis,C=this.dataTable;if(this.isCartesian&&!this.isDirty&&!b.isDirty&&!this.yAxis.isDirty&&!m)return!1;let D=this.getProcessedData();C.modified=D.modified,this.cropped=D.cropped,this.cropStart=D.cropStart,this.closestPointRange=this.basePointRange=D.closestPointRange,Ai(this,"afterProcessData")}cropData(m,b,C){let D=m.getColumn("x",!0)||[],O=D.length,I={},B,U,Q=0,it=O;for(B=0;B<O;B++)if(D[B]>=b){Q=Math.max(0,B-1);break}for(U=B;U<O;U++)if(D[U]>C){it=U+1;break}for(let tt of this.dataColumnKeys()){let at=m.getColumn(tt,!0);at&&(I[tt]=at.slice(Q,it))}return{modified:new Rh({columns:I}),start:Q,end:it}}generatePoints(){let m=this.options,b=this.processedData||m.data,C=this.dataTable.modified,D=this.getColumn("x",!0),O=this.pointClass,I=C.rowCount,B=this.cropStart||0,U=this.hasGroupedData,Q=m.keys,it=[],tt=m.dataGrouping?.groupAll?B:0,at=this.xAxis?.categories,gt=this.pointArrayMap||["y"],pt=this.dataColumnKeys(),_t,wt,bt,jt,Dt=this.data,zt;if(!Dt&&!U){let Ut=[];Ut.length=b?.length||0,Dt=this.data=Ut}for(Q&&U&&(this.options.keys=!1),jt=0;jt<I;jt++)wt=B+jt,U?((bt=new O(this,C.getRow(jt,pt)||[])).dataGroup=this.groupMap[tt+jt],bt.dataGroup?.options&&(bt.options=bt.dataGroup.options,Bd(bt,bt.dataGroup.options),delete bt.dataLabels)):(bt=Dt[wt],zt=b?b[wt]:C.getRow(jt,gt),bt||zt===void 0||(Dt[wt]=bt=new O(this,zt,D[jt]))),bt&&(bt.index=U?tt+jt:wt,it[jt]=bt,bt.category=at?.[bt.x]??bt.x,bt.key=bt.name??bt.category);if(this.options.keys=Q,Dt&&(I!==(_t=Dt.length)||U))for(jt=0;jt<_t;jt++)jt!==B||U||(jt+=I),Dt[jt]&&(Dt[jt].destroyElements(),Dt[jt].plotX=void 0);this.data=Dt,this.points=it,Ai(this,"afterGeneratePoints")}getXExtremes(m){return{min:Id(m),max:Ih(m)}}getExtremes(m,b){let{xAxis:C,yAxis:D}=this,O=b||this.getExtremesFromAll||this.options.getExtremesFromAll,I=O&&this.cropped?this.dataTable:this.dataTable.modified,B=I.rowCount,U=m||this.stackedYData,Q=U?[U]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(Ut=>I.getColumn(Ut,!0)||[])||[],it=this.getColumn("x",!0),tt=[],at=this.requireSorting&&!this.is("column")?1:0,gt=!!D&&D.positiveValuesOnly,pt=O||this.cropped||!C,_t,wt,bt,jt=0,Dt=0;for(C&&(jt=(_t=C.getExtremes()).min,Dt=_t.max),bt=0;bt<B;bt++)if(wt=it[bt],pt||(it[bt+at]||wt)>=jt&&(it[bt-at]||wt)<=Dt)for(let Ut of Q){let $t=Ut[bt];Oa($t)&&($t>0||!gt)&&tt.push($t)}let zt={activeYData:tt,dataMin:Id(tt),dataMax:Ih(tt)};return Ai(this,"afterGetExtremes",{dataExtremes:zt}),zt}applyExtremes(){let m=this.getExtremes();return this.dataMin=m.dataMin,this.dataMax=m.dataMax,m}getFirstValidPoint(m,b=0,C=1){let D=m.length,O=b;for(;O>=0&&O<D;){if(hn(m[O]))return m[O];O+=C}}translate(){this.generatePoints();let m=this.options,b=m.stacking,C=this.xAxis,D=this.enabledDataSorting,O=this.yAxis,I=this.points,B=I.length,U=this.pointPlacementToXValue(),Q=!!U,it=m.threshold,tt=m.startFromThreshold?it:0,at=m?.nullInteraction&&O.len,gt,pt,_t,wt,bt=Number.MAX_VALUE;function jt(Dt){return zd(Dt,-1e9,1e9)}for(gt=0;gt<B;gt++){let Dt,zt=I[gt],Ut=zt.x,$t,Vt,Gt=zt.y,pe=zt.low,ye=b&&O.stacking?.stacks[(this.negStacks&&Gt<(tt?0:it)?"-":"")+this.stackKey];zt.plotX=Oa(pt=C.translate(Ut,!1,!1,!1,!0,U))?Nm(jt(pt)):void 0,b&&this.visible&&ye&&ye[Ut]&&(wt=this.getStackIndicator(wt,Ut,this.index),!zt.isNull&&wt.key&&(Vt=($t=ye[Ut]).points[wt.key]),$t&&dv(Vt)&&(pe=Vt[0],Gt=Vt[1],pe===tt&&wt.key===ye[Ut].base&&(pe=Gr(Oa(it)?it:O.min)),O.positiveValuesOnly&&hn(pe)&&pe<=0&&(pe=void 0),zt.total=zt.stackTotal=Gr($t.total),zt.percentage=hn(zt.y)&&$t.total?zt.y/$t.total*100:void 0,zt.stackY=Gt,this.irregularWidths||$t.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),zt.yBottom=hn(pe)?jt(O.translate(pe,!1,!0,!1,!0)):void 0,this.dataModify&&(Gt=this.dataModify.modifyValue(Gt,gt)),Oa(Gt)&&zt.plotX!==void 0?Dt=Oa(Dt=O.translate(Gt,!1,!0,!1,!0))?jt(Dt):void 0:!Oa(Gt)&&at&&(Dt=at),zt.plotY=Dt,zt.isInside=this.isPointInside(zt),zt.clientX=Q?Nm(C.translate(Ut,!1,!1,!1,!0,U)):pt,zt.negative=(zt.y||0)<(it||0),zt.isNull||zt.visible===!1||(_t!==void 0&&(bt=Math.min(bt,Math.abs(pt-_t))),_t=pt),zt.zone=this.zones.length?zt.getZone():void 0,!zt.graphic&&this.group&&D&&(zt.isNew=!0)}this.closestPointRangePx=bt,Ai(this,"afterTranslate")}getValidPoints(m,b,C){let D=this.chart;return(m||this.points||[]).filter(function(O){let{plotX:I,plotY:B}=O;return(!!C||!O.isNull&&!!Oa(B))&&(!b||!!D.isInsidePlot(I,B,{inverted:D.inverted}))&&O.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:m,group:b,markerGroup:C}=this,D=m.sharedClips,O=m.renderer,I=m.getClipBox(this),B=this.getSharedClipKey(),U=D[B];U?U.animate(I):D[B]=U=O.clipRect(I),b&&b.clip(this.options.clip===!1?void 0:U),C&&C.clip()}animate(m){let{chart:b,group:C,markerGroup:D}=this,O=b.inverted,I=Cm(this.options.animation),B=[this.getSharedClipKey(),I.duration,I.easing,I.defer].join(","),U=b.sharedClips[B],Q=b.sharedClips[B+"m"];if(m&&C){let it=b.getClipBox(this);if(U)U.attr("height",it.height);else{it.width=0,O&&(it.x=b.plotHeight),U=b.renderer.clipRect(it),b.sharedClips[B]=U;let tt={x:-99,y:-99,width:O?b.plotWidth+199:99,height:O?99:b.plotHeight+199};Q=b.renderer.clipRect(tt),b.sharedClips[B+"m"]=Q}C.clip(U),D?.clip(Q)}else if(U&&!U.hasClass("highcharts-animating")){let it=b.getClipBox(this),tt=I.step;(D?.element.childNodes.length||b.series.length>1)&&(I.step=function(at,gt){tt&&tt.apply(gt,arguments),gt.prop==="width"&&Q?.element&&Q.attr(O?"height":"width",at+99)}),U.addClass("highcharts-animating").animate(it,I)}}afterAnimate(){this.setClip(),Gd(this.chart.sharedClips,(m,b,C)=>{m&&!this.chart.container.querySelector(`[clip-path="url(#${m.id})"]`)&&(m.destroy(),delete C[b])}),this.finishedAnimating=!0,Ai(this,"afterAnimate")}drawPoints(m=this.points){let b,C,D,O,I,B,U,Q=this.chart,it=Q.styledMode,{colorAxis:tt,options:at}=this,gt=at.marker,pt=at.nullInteraction,_t=this[this.specialGroup||"markerGroup"],wt=this.xAxis,bt=Gr(gt.enabled,!wt||!!wt.isRadial||null,this.closestPointRangePx>=gt.enabledThreshold*gt.radius);if(gt.enabled!==!1||this._hasPointMarkers)for(b=0;b<m.length;b++){O=(D=(C=m[b]).graphic)?"animate":"attr",I=C.marker||{},B=!!C.marker;let jt=C.isNull;if((bt&&!hn(I.enabled)||I.enabled)&&(!jt||pt)&&C.visible!==!1){let Dt=Gr(I.symbol,this.symbol,"rect");U=this.markerAttribs(C,C.selected&&"select"),this.enabledDataSorting&&(C.startXPos=wt.reversed?-(U.width||0):wt.width);let zt=C.isInside!==!1;if(!D&&zt&&((U.width||0)>0||C.hasImage)&&(C.graphic=D=Q.renderer.symbol(Dt,U.x,U.y,U.width,U.height,B?I:gt).add(_t),this.enabledDataSorting&&Q.hasRendered&&(D.attr({x:C.startXPos}),O="animate")),D&&O==="animate"&&D[zt?"show":"hide"](zt).animate(U),D){let Ut=this.pointAttribs(C,it||!C.selected?void 0:"select");it?tt&&D.css({fill:Ut.fill}):D[O](Ut)}D&&D.addClass(C.getClassName(),!0)}else D&&(C.graphic=D.destroy())}}markerAttribs(m,b){let C=this.options,D=C.marker,O=m.marker||{},I=O.symbol||D.symbol,B={},U,Q,it=Gr(O.radius,D?.radius);b&&(U=D.states[b],Q=O.states&&O.states[b],it=Gr(Q?.radius,U?.radius,it&&it+(U?.radiusPlus||0))),m.hasImage=I&&I.indexOf("url")===0,m.hasImage&&(it=0);let tt=m.pos();return Oa(it)&&tt&&(C.crisp&&(tt[0]=bc(tt[0],m.hasImage?0:I==="rect"?D?.lineWidth||0:1)),B.x=tt[0]-it,B.y=tt[1]-it),it&&(B.width=B.height=2*it),B}pointAttribs(m,b){let C=this.options,D=C.marker,O=m?.options,I=O?.marker||{},B=O?.color,U=m?.color,Q=m?.zone?.color,it,tt,at=this.color,gt,pt,_t=Gr(I.lineWidth,D.lineWidth),wt=m?.isNull&&C.nullInteraction?0:1;return at=B||Q||U||at,gt=I.fillColor||D.fillColor||at,pt=I.lineColor||D.lineColor||at,b=b||"normal",it=D.states[b]||{},_t=Gr((tt=I.states&&I.states[b]||{}).lineWidth,it.lineWidth,_t+Gr(tt.lineWidthPlus,it.lineWidthPlus,0)),gt=tt.fillColor||it.fillColor||gt,pt=tt.lineColor||it.lineColor||pt,{stroke:pt,"stroke-width":_t,fill:gt,opacity:wt=Gr(tt.opacity,it.opacity,wt)}}destroy(m){let b,C,D=this,O=D.chart,I=/AppleWebKit\/533/.test(cv.navigator.userAgent),B=D.data||[];for(Ai(D,"destroy",{keepEventsForUpdate:m}),this.removeEvents(m),(D.axisTypes||[]).forEach(function(U){C=D[U],C?.series&&(Fd(C.series,D),C.isDirty=C.forceRedraw=!0)}),D.legendItem&&D.chart.legend.destroyItem(D),b=B.length;b--;)B[b]?.destroy?.();for(let U of D.zones)uv(U,void 0,!0);ue.clearTimeout(D.animationTimeout),Gd(D,function(U,Q){U instanceof el&&!U.survive&&U[I&&Q==="group"?"hide":"destroy"]()}),O.hoverSeries===D&&(O.hoverSeries=void 0),Fd(O.series,D),O.orderItems("series"),Gd(D,function(U,Q){m&&Q==="hcEvents"||delete D[Q]})}applyZones(){let{area:m,chart:b,graph:C,zones:D,points:O,xAxis:I,yAxis:B,zoneAxis:U}=this,{inverted:Q,renderer:it}=b,tt=this[`${U}Axis`],{isXAxis:at,len:gt=0,minPointOffset:pt=0}=tt||{},_t=(C?.strokeWidth()||0)/2+1,wt=(bt,jt=0,Dt=0)=>{Q&&(Dt=gt-Dt);let{translated:zt=0,lineClip:Ut}=bt,$t=Dt-zt;Ut?.push(["L",jt,Math.abs($t)<_t?Dt-_t*($t<=0?-1:1):zt])};if(D.length&&(C||m)&&tt&&Oa(tt.min)){let bt=tt.getExtremes().max+pt,jt=Ut=>{Ut.forEach(($t,Vt)=>{($t[0]==="M"||$t[0]==="L")&&(Ut[Vt]=[$t[0],at?gt-$t[1]:$t[1],at?$t[2]:gt-$t[2]])})};if(D.forEach(Ut=>{Ut.lineClip=[],Ut.translated=zd(tt.toPixels(Gr(Ut.value,bt),!0)||0,0,gt)}),C&&!this.showLine&&C.hide(),m&&m.hide(),U==="y"&&O.length<I.len)for(let Ut of O){let{plotX:$t,plotY:Vt,zone:Gt}=Ut,pe=Gt&&D[D.indexOf(Gt)-1];Gt&&wt(Gt,$t,Vt),pe&&wt(pe,$t,Vt)}let Dt=[],zt=tt.toPixels(tt.getExtremes().min-pt,!0);D.forEach(Ut=>{let $t=Ut.lineClip||[],Vt=Math.round(Ut.translated||0);I.reversed&&$t.reverse();let{clip:Gt,simpleClip:pe}=Ut,ye=0,me=0,Ie=I.len,Ze=B.len;at?(ye=Vt,Ie=zt):(me=Vt,Ze=zt);let en=[["M",ye,me],["L",Ie,me],["L",Ie,Ze],["L",ye,Ze],["Z"]],De=[en[0],...$t,en[1],en[2],...Dt,en[3],en[4]];Dt=$t.reverse(),zt=Vt,Q&&(jt(De),m&&jt(en)),Gt?(Gt.animate({d:De}),pe?.animate({d:en})):(Gt=Ut.clip=it.path(De),m&&(pe=Ut.simpleClip=it.path(en))),C&&Ut.graph?.clip(Gt),m&&Ut.area?.clip(pe)})}else this.visible&&(C&&C.show(),m&&m.show())}plotGroup(m,b,C,D,O){let I=this[m],B=!I,U={visibility:C,zIndex:D||.1};return hn(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(U.opacity=this.opacity),I||(this[m]=I=this.chart.renderer.g().add(O)),I.addClass("highcharts-"+b+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(hn(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(I.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),I.attr(U)[B?"attr":"animate"](this.getPlotBox(b)),I}getPlotBox(m){let b=this.xAxis,C=this.yAxis,D=this.chart,O=D.inverted&&!D.polar&&b&&this.invertible&&m==="series";D.inverted&&(b=C,C=this.xAxis);let I={scale:1,translateX:b?b.left:D.plotLeft,translateY:C?C.top:D.plotTop,name:m};Ai(this,"getPlotBox",I);let{scale:B,translateX:U,translateY:Q}=I;return{translateX:U,translateY:Q,rotation:90*!!O,rotationOriginX:O?B*(b.len-C.len)/2:0,rotationOriginY:O?B*(b.len+C.len)/2:0,scaleX:O?-B:B,scaleY:B}}removeEvents(m){let{eventsToUnbind:b}=this;m||$g(this),b.length&&(b.forEach(C=>{C()}),b.length=0)}render(){let m=this,{chart:b,options:C,hasRendered:D}=m,O=Cm(C.animation),I=m.visible?"inherit":"hidden",B=C.zIndex,U=b.seriesGroup,Q=m.finishedAnimating?0:O.duration;Ai(this,"render"),m.plotGroup("group","series",I,B,U),m.markerGroup=m.plotGroup("markerGroup","markers",I,B,U),C.clip!==!1&&m.setClip(),Q&&m.animate?.(!0),m.drawGraph&&(m.drawGraph(),m.applyZones()),m.visible&&m.drawPoints(),m.drawDataLabels?.(),m.redrawPoints?.(),C.enableMouseTracking&&m.drawTracker?.(),Q&&m.animate?.(),D||(Q&&O.defer&&(Q+=O.defer),m.animationTimeout=Pm(()=>{m.afterAnimate()},Q||0)),m.isDirty=!1,m.hasRendered=!0,Ai(m,"afterRender")}redraw(){let m=this.isDirty||this.isDirtyData;this.translate(),this.render(),m&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(m,b){let{xAxis:C,yAxis:D}=this,O=this.chart.inverted;return this.searchKDTree({clientX:O?C.len-m.chartY+C.pos:m.chartX-C.pos,plotY:O?D.len-m.chartX+D.pos:m.chartY-D.pos},b,m)}buildKDTree(m){this.buildingKdTree=!0;let b=this,C=b.options,D=C.findNearestPointBy.indexOf("y")>-1?2:1;delete b.kdTree,Pm(function(){b.kdTree=(function O(I,B,U){let Q,it,tt=I?.length;if(tt)return Q=b.kdAxisArray[B%U],I.sort((at,gt)=>(at[Q]||0)-(gt[Q]||0)),{point:I[it=Math.floor(tt/2)],left:O(I.slice(0,it),B+1,U),right:O(I.slice(it+1),B+1,U)}})(b.getValidPoints(void 0,!b.directTouch,C?.nullInteraction),D,D),b.buildingKdTree=!1},C.kdNow||m?.type==="touchstart"?0:1)}searchKDTree(m,b,C,D,O){let I=this,[B,U]=this.kdAxisArray,Q=b?"distX":"dist",it=(I.options.findNearestPointBy||"").indexOf("y")>-1?2:1,tt=!!I.isBubble,at=D||((pt,_t,wt)=>{let bt=pt[wt]||0,jt=_t[wt]||0;return[bt===jt&&pt.index>_t.index||bt<jt?pt:_t,!1]}),gt=O||((pt,_t)=>pt<_t);if(this.kdTree||this.buildingKdTree||this.buildKDTree(C),this.kdTree)return(function pt(_t,wt,bt,jt){let Dt=wt.point,zt=I.kdAxisArray[bt%jt],Ut=Dt,$t=!1;(function(ye,me){let Ie=ye[B],Ze=me[B],en=hn(Ie)&&hn(Ze)?Ie-Ze:null,De=ye[U],Be=me[U],Je=hn(De)&&hn(Be)?De-Be:0,qn=tt&&me.marker?.radius||0;me.dist=Math.sqrt((en&&en*en||0)+Je*Je)-qn,me.distX=hn(en)?Math.abs(en)-qn:Number.MAX_VALUE})(_t,Dt);let Vt=(_t[zt]||0)-(Dt[zt]||0)+(tt&&Dt.marker?.radius||0),Gt=Vt<0?"left":"right",pe=Vt<0?"right":"left";return wt[Gt]&&([Ut,$t]=at(Dt,pt(_t,wt[Gt],bt+1,jt),Q)),wt[pe]&&gt(Math.sqrt(Vt*Vt),Ut[Q],$t)&&(Ut=at(Ut,pt(_t,wt[pe],bt+1,jt),Q)[0]),Ut})(m,this.kdTree,it,it)}pointPlacementToXValue(){let{options:m,xAxis:b}=this,C=m.pointPlacement;return C==="between"&&(C=b.reversed?-.5:.5),Oa(C)?C*(m.pointRange||b.pointRange):0}isPointInside(m){let{chart:b,xAxis:C,yAxis:D}=this,{plotX:O=-1,plotY:I=-1}=m;return I>=0&&I<=(D?D.len:b.plotHeight)&&O>=0&&O<=(C?C.len:b.plotWidth)}drawTracker(){let m=this,b=m.options,C=b.trackByArea,D=[].concat((C?m.areaPath:m.graphPath)||[]),O=m.chart,I=O.pointer,B=O.renderer,U=O.options.tooltip?.snap||0,Q=()=>{b.enableMouseTracking&&O.hoverSeries!==m&&m.onMouseOver()},it="rgba(192,192,192,"+(Mm?1e-4:.002)+")",tt=m.tracker;tt?tt.attr({d:D}):m.graph&&(m.tracker=tt=B.path(D).attr({visibility:m.visible?"inherit":"hidden",zIndex:2}).addClass(C?"highcharts-tracker-area":"highcharts-tracker-line").add(m.group),O.styledMode||tt.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:it,fill:C?it:"none","stroke-width":m.graph.strokeWidth()+(C?0:2*U)}),[m.tracker,m.markerGroup,m.dataLabelsGroup].forEach(at=>{at&&(at.addClass("highcharts-tracker").on("mouseover",Q).on("mouseout",gt=>{I?.onTrackerMouseOut(gt)}),b.cursor&&!O.styledMode&&at.css({cursor:b.cursor}),at.on("touchstart",Q))})),Ai(this,"afterDrawTracker")}addPoint(m,b,C,D,O){let I,B,U=this.options,{chart:Q,data:it,dataTable:tt,xAxis:at}=this,gt=at?.hasNames&&at.names,pt=U.data,_t=this.getColumn("x");b=Gr(b,!0);let wt={series:this};this.pointClass.prototype.applyOptions.apply(wt,[m]);let bt=wt.x;if(B=_t.length,this.requireSorting&&bt<_t[B-1])for(I=!0;B&&_t[B-1]>bt;)B--;tt.setRow(wt,B,!0,{addColumns:!1}),gt&&wt.name&&(gt[bt]=wt.name),pt?.splice(B,0,m),(I||this.processedData)&&(this.data.splice(B,0,null),this.processData()),U.legendType==="point"&&this.generatePoints(),C&&(it[0]&&it[0].remove?it[0].remove(!1):([it,pt].filter(hn).forEach(jt=>{jt.shift()}),tt.deleteRows(0))),O!==!1&&Ai(this,"addPoint",{point:wt}),this.isDirty=!0,this.isDirtyData=!0,b&&Q.redraw(D)}removePoint(m,b,C){let D=this,{chart:O,data:I,points:B,dataTable:U}=D,Q=I[m],it=function(){[B?.length===I.length?B:void 0,I,D.options.data].filter(hn).forEach(tt=>{tt.splice(m,1)}),U.deleteRows(m),Q?.destroy(),D.isDirty=!0,D.isDirtyData=!0,b&&O.redraw()};Ug(C,O),b=Gr(b,!0),Q?Q.firePointEvent("remove",null,it):it()}remove(m,b,C,D){let O=this,I=O.chart;function B(){O.destroy(D),I.isDirtyLegend=I.isDirtyBox=!0,I.linkSeries(D),Gr(m,!0)&&I.redraw(b)}C!==!1?Ai(O,"remove",null,B):B()}update(m,b){Ai(this,"update",{options:m=hv(m,this.userOptions)});let C=this,D=C.chart,O=C.userOptions,I=C.initialType||C.type,B=D.options.plotOptions,U=ja[I].prototype,Q=C.finishedAnimating&&{animation:!1},it={},tt,at,gt=Oo.keepProps.slice(),pt=m.type||O.type||D.options.chart.type,_t=!(this.hasDerivedData||pt&&pt!==this.type||m.keys!==void 0||m.pointStart!==void 0||m.pointInterval!==void 0||m.relativeXValue!==void 0||m.joinBy||m.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(bt=>C.hasOptionChanged(bt)));pt=pt||I,_t?(gt.push.apply(gt,Oo.keepPropsForPoints),m.visible!==!1&&gt.push("area","graph"),C.parallelArrays.forEach(function(bt){gt.push(bt+"Data")}),m.data&&(m.dataSorting&&Bd(C.options.dataSorting,m.dataSorting),this.setData(m.data,!1))):this.dataTable.modified=this.dataTable,m=ul(O,{index:O.index===void 0?C.index:O.index,pointStart:B?.series?.pointStart??O.pointStart??C.getColumn("x")[0]},!_t&&{data:C.options.data},m,Q),_t&&m.data&&(m.data=C.options.data),(gt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(gt)).forEach(function(bt){gt[bt]=C[bt],delete C[bt]});let wt=!1;if(ja[pt]){if(wt=pt!==C.type,C.remove(!1,!1,!1,!0),wt)if(D.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(C,ja[pt].prototype);else{let bt=Object.hasOwnProperty.call(C,"hcEvents")&&C.hcEvents;for(at in U)C[at]=void 0;Bd(C,ja[pt].prototype),bt?C.hcEvents=bt:delete C.hcEvents}}else Lf(17,!0,D,{missingModuleFor:pt});if(gt.forEach(function(bt){C[bt]=gt[bt]}),C.init(D,m),_t&&this.points)for(let bt of((tt=C.options).visible===!1?(it.graphic=1,it.dataLabel=1):(this.hasMarkerChanged(tt,O)&&(it.graphic=1),C.hasDataLabels?.()||(it.dataLabel=1)),this.points))bt?.series&&(bt.resolveColor(),Object.keys(it).length&&bt.destroyElements(it),tt.showInLegend===!1&&bt.legendItem&&D.legend.destroyItem(bt));C.initialType=I,D.linkSeries(),D.setSortedData(),wt&&C.linkedSeries.length&&(C.isDirtyData=!0),Ai(this,"afterUpdate"),Gr(b,!0)&&D.redraw(!!_t&&void 0)}setName(m){this.name=this.options.name=this.userOptions.name=m,this.chart.isDirtyLegend=!0}hasOptionChanged(m){let b=this.chart,C=this.options[m],D=b.options.plotOptions,O=this.userOptions[m],I=Gr(D?.[this.type]?.[m],D?.series?.[m]);return O&&!hn(I)?C!==O:C!==Gr(I,C)}onMouseOver(){let m=this.chart,b=m.hoverSeries;m.pointer?.setHoverChartIndex(),b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&Ai(this,"mouseOver"),this.setState("hover"),m.hoverSeries=this}onMouseOut(){let m=this.options,b=this.chart,C=b.tooltip,D=b.hoverPoint;b.hoverSeries=null,D&&D.onMouseOut(),this&&m.events.mouseOut&&Ai(this,"mouseOut"),C&&!this.stickyTracking&&(!C.shared||this.noSharedTooltip)&&C.hide(),b.series.forEach(function(O){O.setState("",!0)})}setState(m,b){let C=this,D=C.options,O=C.graph,I=D.inactiveOtherPoints,B=D.states,U=Gr(B[m||"normal"]&&B[m||"normal"].animation,C.chart.options.chart.animation),Q=D.lineWidth,it=D.opacity;if(m=m||"",C.state!==m&&([C.group,C.markerGroup,C.dataLabelsGroup].forEach(function(tt){tt&&(C.state&&tt.removeClass("highcharts-series-"+C.state),m&&tt.addClass("highcharts-series-"+m))}),C.state=m,!C.chart.styledMode)){if(B[m]&&B[m].enabled===!1)return;if(m&&(Q=B[m].lineWidth||Q+(B[m].lineWidthPlus||0),it=Gr(B[m].opacity,it)),O&&!O.dashstyle&&Oa(Q))for(let tt of[O,...this.zones.map(at=>at.graph)])tt?.animate({"stroke-width":Q},U);I||[C.group,C.markerGroup,C.dataLabelsGroup,C.labelBySeries].forEach(function(tt){tt&&tt.animate({opacity:it},U)})}b&&I&&C.points&&C.setAllPointsToState(m||void 0)}setAllPointsToState(m){this.points.forEach(function(b){b.setState&&b.setState(m)})}setVisible(m,b){let C=this,D=C.chart,O=D.options.chart.ignoreHiddenSeries,I=C.visible;C.visible=m=C.options.visible=C.userOptions.visible=m===void 0?!I:m;let B=m?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(U=>{C[U]?.[B]()}),(D.hoverSeries===C||D.hoverPoint?.series===C)&&C.onMouseOut(),C.legendItem&&D.legend.colorizeItem(C,m),C.isDirty=!0,C.options.stacking&&D.series.forEach(U=>{U.options.stacking&&U.visible&&(U.isDirty=!0)}),C.linkedSeries.forEach(U=>{U.setVisible(m,!1)}),O&&(D.isDirtyBox=!0),Ai(C,B),b!==!1&&D.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(m){this.selected=m=this.options.selected=m===void 0?!this.selected:m,this.checkbox&&(this.checkbox.checked=m),Ai(this,m?"select":"unselect")}shouldShowTooltip(m,b,C={}){return C.series=this,C.visiblePlotOnly=!0,this.chart.isInsidePlot(m,b,C)}drawLegendSymbol(m,b){Rd[this.options.legendSymbol||"rectangle"]?.call(this,m,b)}}Oo.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:q}=this.series.chart;return typeof this.y!="number"?"":q(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Oo.types=Hr.seriesTypes,Oo.registerType=Hr.registerSeriesType,Oo.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Oo.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Bd(Oo.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:zl,requireSorting:!0,sorted:!0}),Hr.series=Oo;let Ys=Oo,{animObject:fv,setAnimation:Em}=ni,{registerEventOptions:Lo}=Vc,{composed:p0,marginNames:Hl}=Y,{distribute:Vg}=Tn,{format:gv}=At,{addEvent:zh,createElement:j1,css:m0,defined:jm,discardElement:pv,find:mv,fireEvent:au,isNumber:Xg,merge:Yu,pick:Jr,pushUnique:Gl,relativeLength:y0,stableSort:v0,syncTimeout:Dm}=ue;class su{constructor(m,b){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=m,this.setOptions(b),b.enabled&&(this.render(),Lo(this,b),zh(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),zh(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(m){let b=Jr(m.padding,8);this.options=m,this.chart.styledMode||(this.itemStyle=m.itemStyle,this.itemHiddenStyle=Yu(this.itemStyle,m.itemHiddenStyle)),this.itemMarginTop=m.itemMarginTop,this.itemMarginBottom=m.itemMarginBottom,this.padding=b,this.initialItemY=b-5,this.symbolWidth=Jr(m.symbolWidth,16),this.pages=[],this.proximate=m.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(m,b){let C=this.chart;this.setOptions(Yu(!0,this.options,m)),"events"in this.options&&Lo(this,this.options),this.destroy(),C.isDirtyLegend=C.isDirtyBox=!0,Jr(b,!0)&&C.redraw(),au(this,"afterUpdate",{redraw:b})}colorizeItem(m,b){let C=m.color,{area:D,group:O,label:I,line:B,symbol:U}=m.legendItem||{};if((m instanceof Ys||m instanceof zl)&&(m.color=m.options?.legendSymbolColor||C),O?.[b?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:Q={}}=this,it=Q.color,{fillColor:tt,fillOpacity:at,lineColor:gt,marker:pt}=m.options,_t=wt=>(!b&&(wt.fill&&(wt.fill=it),wt.stroke&&(wt.stroke=it)),wt);I?.css(Yu(b?this.itemStyle:Q)),B?.attr(_t({stroke:gt||m.color})),U&&U.attr(_t(pt&&U.isMarker?m.pointAttribs():{fill:m.color})),D?.attr(_t({fill:tt||m.color,"fill-opacity":tt?1:at??.75}))}m.color=C,au(this,"afterColorizeItem",{item:m,visible:b})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(m){let{group:b,x:C=0,y:D=0}=m.legendItem||{},O=this.options,I=O.symbolPadding,B=!O.rtl,U=m.checkbox;if(b?.element){let Q={translateX:B?C:this.legendWidth-C-2*I-4,translateY:D};b[jm(b.translateY)?"animate":"attr"](Q,void 0,()=>{au(this,"afterPositionItem",{item:m})})}U&&(U.x=C,U.y=D)}destroyItem(m){let b=m.legendItem||{};for(let C of["group","label","line","symbol"])b[C]&&(b[C]=b[C].destroy());m.checkbox=pv(m.checkbox),m.legendItem=void 0}destroy(){for(let m of this.getAllItems())this.destroyItem(m);for(let m of["clipRect","up","down","pager","nav","box","title","group"])this[m]&&(this[m]=this[m].destroy());this.display=null}positionCheckboxes(){let m,b=this.group?.alignAttr,C=this.clipHeight||this.legendHeight,D=this.titleHeight;b&&(m=b.translateY,this.allItems.forEach(function(O){let I,B=O.checkbox;B&&(I=m+D+B.y+(this.scrollOffset||0)+3,m0(B,{left:b.translateX+O.checkboxOffset+B.x-20+"px",top:I+"px",display:this.proximate||I>m-6&&I<m+C-6?"":"none"}))},this))}renderTitle(){let m=this.options,b=this.padding,C=m.title,D,O=0;C.text&&(this.title||(this.title=this.chart.renderer.label(C.text,b-3,b-4,void 0,void 0,void 0,m.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(C.style),this.title.add(this.group)),C.width||this.title.css({width:this.maxLegendWidth+"px"}),O=(D=this.title.getBBox()).height,this.offsetWidth=D.width,this.contentGroup.attr({translateY:O})),this.titleHeight=O}setText(m){let b=this.options;m.legendItem.label.attr({text:b.labelFormat?gv(b.labelFormat,m,this.chart):b.labelFormatter.call(m)})}renderItem(m){let b=m.legendItem=m.legendItem||{},C=this.chart,D=C.renderer,O=this.options,I=O.layout==="horizontal",B=this.symbolWidth,U=O.symbolPadding||0,Q=this.itemStyle,it=this.itemHiddenStyle,tt=I?Jr(O.itemDistance,20):0,at=!O.rtl,gt=!m.series,pt=!gt&&m.series.drawLegendSymbol?m.series:m,_t=pt.options,wt=!!this.createCheckboxForItem&&_t&&_t.showCheckbox,bt=O.useHTML,jt=m.options.className,Dt=b.label,zt=B+U+tt+20*!!wt;!Dt&&(b.group=D.g("legend-item").addClass("highcharts-"+pt.type+"-series highcharts-color-"+m.colorIndex+(jt?" "+jt:"")+(gt?" highcharts-series-"+m.index:"")).attr({zIndex:1}).add(this.scrollGroup),b.label=Dt=D.text("",at?B+U:-U,this.baseline||0,bt),C.styledMode||Dt.css(Yu(m.visible?Q:it)),Dt.attr({align:at?"left":"right",zIndex:2}).add(b.group),!this.baseline&&(this.fontMetrics=D.fontMetrics(Dt),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,Dt.attr("y",this.baseline),this.symbolHeight=Jr(O.symbolHeight,this.fontMetrics.f),O.squareSymbol&&(this.symbolWidth=Jr(O.symbolWidth,Math.max(this.symbolHeight,16)),zt=this.symbolWidth+U+tt+20*!!wt,at&&Dt.attr("x",this.symbolWidth+U))),pt.drawLegendSymbol(this,m),this.setItemEvents&&this.setItemEvents(m,Dt,bt)),wt&&!m.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(m),this.colorizeItem(m,m.visible),(C.styledMode||!Q.width)&&Dt.css({width:(O.itemWidth||this.widthOption||C.spacingBox.width)-zt+"px"}),this.setText(m);let Ut=Dt.getBBox(),$t=this.fontMetrics?.h||0;m.itemWidth=m.checkboxOffset=O.itemWidth||b.labelWidth||Ut.width+zt,this.maxItemWidth=Math.max(this.maxItemWidth,m.itemWidth),this.totalItemWidth+=m.itemWidth,this.itemHeight=m.itemHeight=Math.round(b.labelHeight||(Ut.height>1.5*$t?Ut.height:$t))}layoutItem(m){let b=this.options,C=this.padding,D=b.layout==="horizontal",O=m.itemHeight,I=this.itemMarginBottom,B=this.itemMarginTop,U=D?Jr(b.itemDistance,20):0,Q=this.maxLegendWidth,it=b.alignColumns&&this.totalItemWidth>Q?this.maxItemWidth:m.itemWidth,tt=m.legendItem||{};D&&this.itemX-C+it>Q&&(this.itemX=C,this.lastLineHeight&&(this.itemY+=B+this.lastLineHeight+I),this.lastLineHeight=0),this.lastItemY=B+this.itemY+I,this.lastLineHeight=Math.max(O,this.lastLineHeight),tt.x=this.itemX,tt.y=this.itemY,D?this.itemX+=it:(this.itemY+=B+O+I,this.lastLineHeight=O),this.offsetWidth=this.widthOption||Math.max((D?this.itemX-C-(m.checkbox?0:U):it)+C,this.offsetWidth)}getAllItems(){let m=[];return this.chart.series.forEach(function(b){let C=b?.options;b&&Jr(C.showInLegend,!jm(C.linkedTo)&&void 0,!0)&&(m=m.concat(b.legendItem?.labels||(C.legendType==="point"?b.data:b)))}),au(this,"afterGetAllItems",{allItems:m}),m}getAlignment(){let m=this.options;return this.proximate?m.align.charAt(0)+"tv":m.floating?"":m.align.charAt(0)+m.verticalAlign.charAt(0)+m.layout.charAt(0)}adjustMargins(m,b){let C=this.chart,D=this.options,O=this.getAlignment();O&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((I,B)=>{I.test(O)&&!jm(m[B])&&(C[Hl[B]]=Math.max(C[Hl[B]],C.legend[(B+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][B]*D[B%2?"x":"y"]+(D.margin??12)+b[B]+(C.titleOffset[B]||0)))})}proximatePositions(){let m,b=this.chart,C=[],D=this.options.align==="left";for(let O of(this.allItems.forEach(function(I){let B,U,Q=D,it,tt;I.yAxis&&(I.xAxis.options.reversed&&(Q=!Q),I.points&&(B=mv(Q?I.points:I.points.slice(0).reverse(),function(at){return Xg(at.plotY)})),U=this.itemMarginTop+I.legendItem.label.getBBox().height+this.itemMarginBottom,tt=I.yAxis.top-b.plotTop,it=I.visible?(B?B.plotY:I.yAxis.height)+(tt-.3*U):tt+I.yAxis.height,C.push({target:it,size:U,item:I}))},this),Vg(C,b.plotHeight)))m=O.item.legendItem||{},Xg(O.pos)&&(m.y=b.plotTop-b.spacing[0]+O.pos)}render(){let m=this.chart,b=m.renderer,C=this.options,D=this.padding,O=this.getAllItems(),I,B,U,Q=this.group,it,tt=this.box;this.itemX=D,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=y0(C.width,m.spacingBox.width-D),it=m.spacingBox.width-2*D-C.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(it/=2),this.maxLegendWidth=this.widthOption||it,Q||(this.group=Q=b.g("legend").addClass(C.className||"").attr({zIndex:7}).add(),this.contentGroup=b.g().attr({zIndex:1}).add(Q),this.scrollGroup=b.g().add(this.contentGroup)),this.renderTitle(),v0(O,(at,gt)=>(at.options?.legendIndex||0)-(gt.options?.legendIndex||0)),C.reversed&&O.reverse(),this.allItems=O,this.display=I=!!O.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,O.forEach(this.renderItem,this),O.forEach(this.layoutItem,this),B=(this.widthOption||this.offsetWidth)+D,U=this.lastItemY+this.lastLineHeight+this.titleHeight,U=this.handleOverflow(U)+D,tt||(this.box=tt=b.rect().addClass("highcharts-legend-box").attr({r:C.borderRadius}).add(Q)),m.styledMode||tt.attr({stroke:C.borderColor,"stroke-width":C.borderWidth||0,fill:C.backgroundColor||"none"}).shadow(C.shadow),B>0&&U>0&&tt[tt.placed?"animate":"attr"](tt.crisp.call({},{x:0,y:0,width:B,height:U},tt.strokeWidth())),Q[I?"show":"hide"](),m.styledMode&&Q.getStyle("display")==="none"&&(B=U=0),this.legendWidth=B,this.legendHeight=U,I&&this.align(),this.proximate||this.positionItems(),au(this,"afterRender")}align(m=this.chart.spacingBox){let b=this.chart,C=this.options,D=m.y;/(lth|ct|rth)/.test(this.getAlignment())&&b.titleOffset[0]>0?D+=b.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&b.titleOffset[2]>0&&(D-=b.titleOffset[2]),D!==m.y&&(m=Yu(m,{y:D})),b.hasRendered||(this.group.placed=!1),this.group.align(Yu(C,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":C.verticalAlign}),!0,m)}handleOverflow(m){let b=this,C=this.chart,D=C.renderer,O=this.options,I=O.y,B=O.verticalAlign==="top",U=this.padding,Q=O.maxHeight,it=O.navigation,tt=Jr(it.animation,!0),at=it.arrowSize||12,gt=this.pages,pt=this.allItems,_t=function(Gt){typeof Gt=="number"?Vt.attr({height:Gt}):Vt&&(b.clipRect=Vt.destroy(),b.contentGroup.clip()),b.contentGroup.div&&(b.contentGroup.div.style.clip=Gt?"rect("+U+"px,9999px,"+(U+Gt)+"px,0)":"auto")},wt=function(Gt){return b[Gt]=D.circle(0,0,1.3*at).translate(at/2,at/2).add($t),C.styledMode||b[Gt].attr("fill","rgba(0,0,0,0.0001)"),b[Gt]},bt,jt,Dt,zt,Ut=C.spacingBox.height+(B?-I:I)-U,$t=this.nav,Vt=this.clipRect;return O.layout!=="horizontal"||O.verticalAlign==="middle"||O.floating||(Ut/=2),Q&&(Ut=Math.min(Ut,Q)),gt.length=0,m&&Ut>0&&m>Ut&&it.enabled!==!1?(this.clipHeight=bt=Math.max(Ut-20-this.titleHeight-U,0),this.currentPage=Jr(this.currentPage,1),this.fullHeight=m,pt.forEach((Gt,pe)=>{let ye=(Dt=Gt.legendItem||{}).y||0,me=Math.round(Dt.label.getBBox().height),Ie=gt.length;(!Ie||ye-gt[Ie-1]>bt&&(jt||ye)!==gt[Ie-1])&&(gt.push(jt||ye),Ie++),Dt.pageIx=Ie-1,jt&&zt&&(zt.pageIx=Ie-1),pe===pt.length-1&&ye+me-gt[Ie-1]>bt&&ye>gt[Ie-1]&&(gt.push(ye),Dt.pageIx=Ie),ye!==jt&&(jt=ye),zt=Dt}),Vt||(Vt=b.clipRect=D.clipRect(0,U-2,9999,0),b.contentGroup.clip(Vt)),_t(bt),$t||(this.nav=$t=D.g().attr({zIndex:1}).add(this.group),this.up=D.symbol("triangle",0,0,at,at).add($t),wt("upTracker").on("click",function(){b.scroll(-1,tt)}),this.pager=D.text("",15,10).addClass("highcharts-legend-navigation"),!C.styledMode&&it.style&&this.pager.css(it.style),this.pager.add($t),this.down=D.symbol("triangle-down",0,0,at,at).add($t),wt("downTracker").on("click",function(){b.scroll(1,tt)})),b.scroll(0),m=Ut):$t&&(_t(),this.nav=$t.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),m}scroll(m,b){let C=this.chart,D=this.pages,O=D.length,I=this.clipHeight,B=this.options.navigation,U=this.pager,Q=this.padding,it=this.currentPage+m;it>O&&(it=O),it>0&&(b!==void 0&&Em(b,C),this.nav.attr({translateX:Q,translateY:I+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(tt){tt.attr({class:it===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),U.attr({text:it+"/"+O}),[this.down,this.downTracker].forEach(function(tt){tt.attr({x:18+this.pager.getBBox().width,class:it===O?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),C.styledMode||(this.up.attr({fill:it===1?B.inactiveColor:B.activeColor}),this.upTracker.css({cursor:it===1?"default":"pointer"}),this.down.attr({fill:it===O?B.inactiveColor:B.activeColor}),this.downTracker.css({cursor:it===O?"default":"pointer"})),this.scrollOffset=-D[it-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=it,this.positionCheckboxes(),Dm(()=>{au(this,"afterScroll",{currentPage:it})},fv(Jr(b,C.renderer.globalAnimation,!0)).duration))}setItemEvents(m,b,C){let D=this,O=m.legendItem||{},I=D.chart.renderer.boxWrapper,B=m instanceof zl,U=m instanceof Ys,Q="highcharts-legend-"+(B?"point":"series")+"-active",it=D.chart.styledMode,tt=C?[b,O.symbol]:[O.group],at=gt=>{D.allItems.forEach(pt=>{m!==pt&&[pt].concat(pt.linkedSeries||[]).forEach(_t=>{_t.setState(gt,!B)})})};for(let gt of tt)gt&&gt.on("mouseover",function(){m.visible&&at("inactive"),m.setState("hover"),m.visible&&I.addClass(Q),it||b.css(D.options.itemHoverStyle)}).on("mouseout",function(){D.chart.styledMode||b.css(Yu(m.visible?D.itemStyle:D.itemHiddenStyle)),at(""),I.removeClass(Q),m.setState()}).on("click",function(pt){let _t=function(){m.setVisible&&m.setVisible(),at(m.visible?"inactive":"")};I.removeClass(Q),au(D,"itemClick",{browserEvent:pt,legendItem:m},_t),B?m.firePointEvent("legendItemClick",{browserEvent:pt}):U&&au(m,"legendItemClick",{browserEvent:pt})})}createCheckboxForItem(m){m.checkbox=j1("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container),zh(m.checkbox,"click",function(b){let C=b.target;au(m.series||m,"checkboxClick",{checked:C.checked,item:m},function(){m.select()})})}}(function(q){q.compose=function(m){Gl(p0,"Core.Legend")&&zh(m,"beforeMargins",function(){this.legend=new q(this,this.options.legend)})}})(su||(su={}));let Om=su,{animate:qg,animObject:yv,setAnimation:Kg}=ni,{defaultOptions:$u}=tr,{numberFormat:Zg}=At,{registerEventOptions:x0}=Vc,{charts:Vu,doc:ou,marginNames:Wd,svg:Qg,win:Rf}=Y,{seriesTypes:If}=Hr,{addEvent:lu,attr:vv,createElement:zf,css:go,defined:wc,diffObjects:Ff,discardElement:b0,erase:xv,error:Cs,extend:cu,find:Jg,fireEvent:wi,getAlignFactor:tp,getStyle:Lm,isArray:bv,isNumber:po,isObject:Rm,isString:Bf,merge:Ro,objectEach:ta,pick:Ti,pInt:_n,relativeLength:Hf,removeEvent:ep,splat:_c,syncTimeout:np,uniqueKey:Im}=ue;class Wl{static chart(m,b,C){return new Wl(m,b,C)}constructor(m,b,C){this.sharedClips={};let D=[...arguments];(Bf(m)||m.nodeName)&&(this.renderTo=D.shift()),this.init(D[0],D[1])}setZoomOptions(){let m=this.options.chart,b=m.zooming;this.zooming={...b,type:Ti(m.zoomType,b.type),key:Ti(m.zoomKey,b.key),pinchType:Ti(m.pinchType,b.pinchType),singleTouch:Ti(m.zoomBySingleTouch,b.singleTouch,!1),resetButton:Ro(b.resetButton,m.resetZoomButton)}}init(m,b){wi(this,"init",{args:arguments},function(){let C=Ro($u,m),D=C.chart,O=this.renderTo||D.renderTo;this.userOptions=cu({},m),(this.renderTo=Bf(O)?ou.getElementById(O):O)||Cs(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=b,this.isResizing=0,this.options=C,this.axes=[],this.series=[],this.locale=C.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new kn(cu(C.time||{},{locale:this.locale}),C.lang),C.time=this.time.options,this.numberFormatter=(D.numberFormatter||Zg).bind(this),this.styledMode=D.styledMode,this.hasCartesianSeries=D.showAxes,this.index=Vu.length,Vu.push(this),Y.chartCount++,x0(this,D),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),wi(this,"afterInit"),this.firstRender()})}initSeries(m){let b=this.options.chart,C=m.type||b.type,D=If[C];D||Cs(17,!0,this,{missingModuleFor:C});let O=new D;return typeof O.init=="function"&&O.init(this,m),O}setSortedData(){this.getSeriesOrderByLinks().forEach(function(m){m.points||m.data||!m.enabledDataSorting||m.setData(m.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(m,b){return m.linkedSeries.length||b.linkedSeries.length?b.linkedSeries.length-m.linkedSeries.length:0})}orderItems(m,b=0){let C=this[m],D=this.options[m]=_c(this.options[m]).slice(),O=this.userOptions[m]=this.userOptions[m]?_c(this.userOptions[m]).slice():[];if(this.hasRendered&&(D.splice(b),O.splice(b)),C)for(let I=b,B=C.length;I<B;++I){let U=C[I];U&&(U.index=I,U instanceof Ys&&(U.name=U.getName()),U.options.isInternal||(D[I]=U.options,O[I]=U.userOptions))}}getClipBox(m,b){let C=this.inverted,{xAxis:D,yAxis:O}=m||{},{x:I,y:B,width:U,height:Q}=Ro(this.clipBox);return m&&(D&&D.len!==this.plotSizeX&&(U=D.len),O&&O.len!==this.plotSizeY&&(Q=O.len),C&&!m.invertible&&([U,Q]=[Q,U])),b&&(I+=(C?O:D)?.pos??this.plotLeft,B+=(C?D:O)?.pos??this.plotTop),{x:I,y:B,width:U,height:Q}}isInsidePlot(m,b,C={}){let{inverted:D,plotBox:O,plotLeft:I,plotTop:B,scrollablePlotBox:U}=this,{scrollLeft:Q=0,scrollTop:it=0}=C.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},tt=C.series,at=C.visiblePlotOnly&&U||O,gt=C.inverted?b:m,pt=C.inverted?m:b,_t={x:gt,y:pt,isInsidePlot:!0,options:C};if(!C.ignoreX){let wt=tt&&(D&&!this.polar?tt.yAxis:tt.xAxis)||{pos:I,len:1/0},bt=C.paneCoordinates?wt.pos+gt:I+gt;bt>=Math.max(Q+I,wt.pos)&&bt<=Math.min(Q+I+at.width,wt.pos+wt.len)||(_t.isInsidePlot=!1)}if(!C.ignoreY&&_t.isInsidePlot){let wt=!D&&C.axis&&!C.axis.isXAxis&&C.axis||tt&&(D?tt.xAxis:tt.yAxis)||{pos:B,len:1/0},bt=C.paneCoordinates?wt.pos+pt:B+pt;bt>=Math.max(it+B,wt.pos)&&bt<=Math.min(it+B+at.height,wt.pos+wt.len)||(_t.isInsidePlot=!1)}return wi(this,"afterIsInsidePlot",_t),_t.isInsidePlot}redraw(m){wi(this,"beforeRedraw");let b=this.hasCartesianSeries?this.axes:this.colorAxis||[],C=this.series,D=this.pointer,O=this.legend,I=this.userOptions.legend,B=this.renderer,U=B.isHidden(),Q=[],it,tt,at,gt=this.isDirtyBox,pt=this.isDirtyLegend,_t;for(B.rootFontSize=B.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Kg(!!this.hasRendered&&m,this),U&&this.temporaryDisplay(),this.layOutTitles(!1),at=C.length;at--;)if(((_t=C[at]).options.stacking||_t.options.centerInCategory)&&(tt=!0,_t.isDirty)){it=!0;break}if(it)for(at=C.length;at--;)(_t=C[at]).options.stacking&&(_t.isDirty=!0);C.forEach(function(wt){wt.isDirty&&(wt.options.legendType==="point"?(typeof wt.updateTotals=="function"&&wt.updateTotals(),pt=!0):I&&(I.labelFormatter||I.labelFormat)&&(pt=!0)),wt.isDirtyData&&wi(wt,"updatedData")}),pt&&O&&O.options.enabled&&(O.render(),this.isDirtyLegend=!1),tt&&this.getStacks(),b.forEach(function(wt){wt.updateNames(),wt.setScale()}),this.getMargins(),b.forEach(function(wt){wt.isDirty&&(gt=!0)}),b.forEach(function(wt){let bt=wt.min+","+wt.max;wt.extKey!==bt&&(wt.extKey=bt,Q.push(function(){wi(wt,"afterSetExtremes",cu(wt.eventArgs,wt.getExtremes())),delete wt.eventArgs})),(gt||tt)&&wt.redraw()}),gt&&this.drawChartBox(),wi(this,"predraw"),C.forEach(function(wt){(gt||wt.isDirty)&&wt.visible&&wt.redraw(),wt.isDirtyData=!1}),D&&D.reset(!0),B.draw(),wi(this,"redraw"),wi(this,"render"),U&&this.temporaryDisplay(!0),Q.forEach(function(wt){wt.call()})}get(m){let b=this.series;function C(O){return O.id===m||O.options&&O.options.id===m}let D=Jg(this.axes,C)||Jg(this.series,C);for(let O=0;!D&&O<b.length;O++)D=Jg(b[O].points||[],C);return D}createAxes(){let m=this.userOptions;for(let b of(wi(this,"createAxes"),["xAxis","yAxis"]))for(let C of m[b]=_c(m[b]||{}))new rr(this,C,b);wi(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((m,b)=>(b.getPointsCollection().forEach(C=>{Ti(C.selectedStaging,C.selected)&&m.push(C)}),m),[])}getSelectedSeries(){return this.series.filter(m=>m.selected)}setTitle(m,b,C){this.applyDescription("title",m),this.applyDescription("subtitle",b),this.applyDescription("caption",void 0),this.layOutTitles(C)}applyDescription(m,b){let C=this,D=this.options[m]=Ro(this.options[m],b),O=this[m];O&&b&&(this[m]=O=O.destroy()),D&&!O&&((O=this.renderer.text(D.text,0,0,D.useHTML).attr({align:D.align,class:"highcharts-"+m,zIndex:D.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(I,B){C.applyDescription(m,I),C.layOutTitles(B)},this.styledMode||O.css(cu(m==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},D.style)),O.textPxLength=O.getBBox().width,O.css({whiteSpace:D.style?.whiteSpace}),this[m]=O)}layOutTitles(m=!0){let b=[0,0,0],{options:C,renderer:D,spacingBox:O}=this;["title","subtitle","caption"].forEach(B=>{let U=this[B],Q=this.options[B],it=Ro(O),tt=U?.textPxLength||0;if(U&&Q){wi(this,"layOutTitle",{alignTo:it,key:B,textPxLength:tt});let at=D.fontMetrics(U),gt=at.b,pt=at.h,_t=Q.verticalAlign||"top",wt=_t==="top",bt=wt&&Q.minScale||1,jt=B==="title"?wt?-3:0:wt?b[0]+2:0,Dt=Math.min(it.width/tt,1),zt=Math.max(bt,Dt),Ut=Ro({y:_t==="bottom"?gt:jt+gt},{align:B==="title"?Dt<bt?"left":"center":this.title?.alignValue},Q),$t=(Q.width||(Dt>bt?this.chartWidth:it.width)/zt)+"px";U.alignValue!==Ut.align&&(U.placed=!1);let Vt=Math.round(U.css({width:$t}).getBBox(Q.useHTML).height);if(Ut.height=Vt,U.align(Ut,!1,it).attr({align:Ut.align,scaleX:zt,scaleY:zt,"transform-origin":`${it.x+tt*zt*tp(Ut.align)} ${pt}`}),!Q.floating){let Gt=Vt*(Vt<1.2*pt?1:zt);_t==="top"?b[0]=Math.ceil(b[0]+Gt):_t==="bottom"&&(b[2]=Math.ceil(b[2]+Gt))}}},this),b[0]&&(C.title?.verticalAlign||"top")==="top"&&(b[0]+=C.title?.margin||0),b[2]&&C.caption?.verticalAlign==="bottom"&&(b[2]+=C.caption?.margin||0);let I=!this.titleOffset||this.titleOffset.join(",")!==b.join(",");this.titleOffset=b,wi(this,"afterLayOutTitles"),!this.isDirtyBox&&I&&(this.isDirtyBox=this.isDirtyLegend=I,this.hasRendered&&m&&this.isDirtyBox&&this.redraw())}getContainerBox(){let m=[].map.call(this.renderTo.children,C=>{if(C!==this.container){let D=C.style.display;return C.style.display="none",[C,D]}}),b={width:Lm(this.renderTo,"width",!0)||0,height:Lm(this.renderTo,"height",!0)||0};return m.filter(Boolean).forEach(([C,D])=>{C.style.display=D}),b}getChartSize(){let m=this.options.chart,b=m.width,C=m.height,D=this.getContainerBox(),O=D.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,b||D.width||600),this.chartHeight=Math.max(0,Hf(C,this.chartWidth)||(O?400:D.height)),this.containerBox=D}temporaryDisplay(m){let b=this.renderTo,C;if(m)for(;b?.style;)b.hcOrigStyle&&(go(b,b.hcOrigStyle),delete b.hcOrigStyle),b.hcOrigDetached&&(ou.body.removeChild(b),b.hcOrigDetached=!1),b=b.parentNode;else for(;b?.style&&(ou.body.contains(b)||b.parentNode||(b.hcOrigDetached=!0,ou.body.appendChild(b)),(Lm(b,"display",!1)==="none"||b.hcOricDetached)&&(b.hcOrigStyle={display:b.style.display,height:b.style.height,overflow:b.style.overflow},C={display:"block",overflow:"hidden"},b!==this.renderTo&&(C.height=0),go(b,C),b.offsetWidth||b.style.setProperty("display","block","important")),(b=b.parentNode)!==ou.body););}setClassName(m){this.container.className="highcharts-container "+(m||"")}getContainer(){let m,b=this.options,C=b.chart,D="data-highcharts-chart",O=Im(),I=this.renderTo,B=_n(vv(I,D));po(B)&&Vu[B]&&Vu[B].hasRendered&&Vu[B].destroy(),vv(I,D,this.index),I.innerHTML=Yi.emptyHTML,C.skipClone||I.offsetWidth||this.temporaryDisplay(),this.getChartSize();let U=this.chartHeight,Q=this.chartWidth;go(I,{overflow:"hidden"}),this.styledMode||(m=cu({position:"relative",overflow:"hidden",width:Q+"px",height:U+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},C.style||{}));let it=zf("div",{id:O},m,I);this.container=it,this.getChartSize(),Q!==this.chartWidth&&(Q=this.chartWidth,this.styledMode||go(it,{width:Ti(C.style?.width,Q+"px")})),this.containerBox=this.getContainerBox(),this._cursor=it.style.cursor;let tt=C.renderer||!Qg?Ot.getRendererType(C.renderer):Af;if(this.renderer=new tt(it,Q,U,void 0,C.forExport,b.exporting?.allowHTML,this.styledMode),Kg(void 0,this),this.setClassName(C.className),this.styledMode)for(let at in b.defs)this.renderer.definition(b.defs[at]);else this.renderer.setStyle(C.style);this.renderer.chartIndex=this.index,wi(this,"afterGetContainer")}getMargins(m){let{spacing:b,margin:C,titleOffset:D}=this;this.resetMargins(),D[0]&&!wc(C[0])&&(this.plotTop=Math.max(this.plotTop,D[0]+b[0])),D[2]&&!wc(C[2])&&(this.marginBottom=Math.max(this.marginBottom,D[2]+b[2])),this.legend?.display&&this.legend.adjustMargins(C,b),wi(this,"getMargins"),m||this.getAxisMargins()}getAxisMargins(){let m=this,b=m.axisOffset=[0,0,0,0],C=m.colorAxis,D=m.margin,O=I=>{I.forEach(B=>{B.visible&&B.getOffset()})};m.hasCartesianSeries?O(m.axes):C?.length&&O(C),Wd.forEach((I,B)=>{wc(D[B])||(m[I]+=b[B])}),m.setChartSize()}getOptions(){return Ff(this.userOptions,$u)}reflow(m){let b=this,C=b.containerBox,D=b.getContainerBox();delete b.pointer?.chartPosition,!b.exporting?.isPrinting&&!b.isResizing&&C&&D.width&&((D.width!==C.width||D.height!==C.height)&&(ue.clearTimeout(b.reflowTimeout),b.reflowTimeout=np(function(){b.container&&b.setSize(void 0,void 0,!1)},100*!!m)),b.containerBox=D)}setReflow(){let m=this,b=C=>{m.options?.chart.reflow&&m.hasLoaded&&m.reflow(C)};if(typeof ResizeObserver=="function")new ResizeObserver(b).observe(m.renderTo);else{let C=lu(Rf,"resize",b);lu(this,"destroy",C)}}setSize(m,b,C){let D=this,O=D.renderer;D.isResizing+=1,Kg(C,D);let I=O.globalAnimation;D.oldChartHeight=D.chartHeight,D.oldChartWidth=D.chartWidth,m!==void 0&&(D.options.chart.width=m),b!==void 0&&(D.options.chart.height=b),D.getChartSize();let{chartWidth:B,chartHeight:U,scrollablePixelsX:Q=0,scrollablePixelsY:it=0}=D;(D.isDirtyBox||B!==D.oldChartWidth||U!==D.oldChartHeight)&&(D.styledMode||(I?qg:go)(D.container,{width:`${B+Q}px`,height:`${U+it}px`},I),D.setChartSize(!0),O.setSize(B,U,I),D.axes.forEach(function(tt){tt.isDirty=!0,tt.setScale()}),D.isDirtyLegend=!0,D.isDirtyBox=!0,D.layOutTitles(),D.getMargins(),D.redraw(I),D.oldChartHeight=void 0,wi(D,"resize"),setTimeout(()=>{D&&wi(D,"endResize")},yv(I).duration)),D.isResizing-=1}setChartSize(m){let b,C,D,O,{chartHeight:I,chartWidth:B,inverted:U,spacing:Q,renderer:it}=this,tt=this.clipOffset,at=Math[U?"floor":"round"];this.plotLeft=b=Math.round(this.plotLeft),this.plotTop=C=Math.round(this.plotTop),this.plotWidth=D=Math.max(0,Math.round(B-b-(this.marginRight??0))),this.plotHeight=O=Math.max(0,Math.round(I-C-(this.marginBottom??0))),this.plotSizeX=U?O:D,this.plotSizeY=U?D:O,this.spacingBox=it.spacingBox={x:Q[3],y:Q[0],width:B-Q[3]-Q[1],height:I-Q[0]-Q[2]},this.plotBox=it.plotBox={x:b,y:C,width:D,height:O},tt&&(this.clipBox={x:at(tt[3]),y:at(tt[0]),width:at(this.plotSizeX-tt[1]-tt[3]),height:at(this.plotSizeY-tt[0]-tt[2])}),m||(this.axes.forEach(function(gt){gt.setAxisSize(),gt.setAxisTranslation()}),it.alignElements()),wi(this,"afterSetChartSize",{skipAxes:m})}resetMargins(){wi(this,"resetMargins");let m=this,b=m.options.chart,C=b.plotBorderWidth||0,D=Math.round(C)/2;["margin","spacing"].forEach(O=>{let I=b[O],B=Rm(I)?I:[I,I,I,I];["Top","Right","Bottom","Left"].forEach((U,Q)=>{m[O][Q]=b[`${O}${U}`]??B[Q]})}),Wd.forEach((O,I)=>{m[O]=m.margin[I]??m.spacing[I]}),m.axisOffset=[0,0,0,0],m.clipOffset=[D,D,D,D],m.plotBorderWidth=C}drawChartBox(){let m=this.options.chart,b=this.renderer,C=this.chartWidth,D=this.chartHeight,O=this.styledMode,I=this.plotBGImage,B=m.backgroundColor,U=m.plotBackgroundColor,Q=m.plotBackgroundImage,it=this.plotLeft,tt=this.plotTop,at=this.plotWidth,gt=this.plotHeight,pt=this.plotBox,_t=this.clipRect,wt=this.clipBox,bt=this.chartBackground,jt=this.plotBackground,Dt=this.plotBorder,zt,Ut,$t,Vt="animate";bt||(this.chartBackground=bt=b.rect().addClass("highcharts-background").add(),Vt="attr"),O?zt=Ut=bt.strokeWidth():(Ut=(zt=m.borderWidth||0)+8*!!m.shadow,$t={fill:B||"none"},(zt||bt["stroke-width"])&&($t.stroke=m.borderColor,$t["stroke-width"]=zt),bt.attr($t).shadow(m.shadow)),bt[Vt]({x:Ut/2,y:Ut/2,width:C-Ut-zt%2,height:D-Ut-zt%2,r:m.borderRadius}),Vt="animate",jt||(Vt="attr",this.plotBackground=jt=b.rect().addClass("highcharts-plot-background").add()),jt[Vt](pt),!O&&(jt.attr({fill:U||"none"}).shadow(m.plotShadow),Q&&(I?(Q!==I.attr("href")&&I.attr("href",Q),I.animate(pt)):this.plotBGImage=b.image(Q,it,tt,at,gt).add())),_t?_t.animate({width:wt.width,height:wt.height}):this.clipRect=b.clipRect(wt),Vt="animate",Dt||(Vt="attr",this.plotBorder=Dt=b.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),O||Dt.attr({stroke:m.plotBorderColor,"stroke-width":m.plotBorderWidth||0,fill:"none"}),Dt[Vt](Dt.crisp(pt,-Dt.strokeWidth())),this.isDirtyBox=!1,wi(this,"afterDrawChartBox")}propFromSeries(){let m,b,C,D=this,O=D.options.chart,I=D.options.series;["inverted","angular","polar"].forEach(function(B){for(b=If[O.type],C=O[B]||b&&b.prototype[B],m=I?.length;!C&&m--;)(b=If[I[m].type])&&b.prototype[B]&&(C=!0);D[B]=C})}linkSeries(m){let b=this,C=b.series;C.forEach(function(D){D.linkedSeries.length=0}),C.forEach(function(D){let{linkedTo:O}=D.options;if(Bf(O)){let I;(I=O===":previous"?b.series[D.index-1]:b.get(O))&&I.linkedParent!==D&&(I.linkedSeries.push(D),D.linkedParent=I,I.enabledDataSorting&&D.setDataSortingOptions(),D.visible=Ti(D.options.visible,I.options.visible,D.visible))}}),wi(this,"afterLinkSeries",{isUpdating:m})}renderSeries(){this.series.forEach(function(m){m.translate(),m.render()})}render(){let m=this.axes,b=this.colorAxis,C=this.renderer,D=this.options.chart.axisLayoutRuns||2,O=it=>{it.forEach(tt=>{tt.visible&&tt.render()})},I=0,B=!0,U,Q=0;for(let it of(this.setTitle(),wi(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),m)){let{options:tt}=it,{labels:at}=tt;if(this.hasCartesianSeries&&it.horiz&&it.visible&&at.enabled&&it.series.length&&it.coll!=="colorAxis"&&!this.polar){I=tt.tickLength,it.createGroups();let gt=new Za(it,0,"",!0),pt=gt.createLabel("x",at);if(gt.destroy(),pt&&Ti(at.reserveSpace,!po(tt.crossing))&&(I=pt.getBBox().height+at.distance+Math.max(tt.offset||0,0)),I){pt?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-I,0);(B||U||D>1)&&Q<D;){let it=this.plotWidth,tt=this.plotHeight;for(let at of m)Q===0?at.setScale():(at.horiz&&B||!at.horiz&&U)&&at.setTickInterval(!0);Q===0?this.getAxisMargins():this.getMargins(),B=it/this.plotWidth>(Q?1:1.1),U=tt/this.plotHeight>(Q?1:1.05),Q++}this.drawChartBox(),this.hasCartesianSeries?O(m):b?.length&&O(b),this.seriesGroup||(this.seriesGroup=C.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=C.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(m){let b=this,C=Ro(!0,this.options.credits,m);C.enabled&&!this.credits&&(this.credits=this.renderer.text(C.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){C.href&&(Rf.location.href=C.href)}).attr({align:C.position.align,zIndex:8}),b.styledMode||this.credits.css(C.style),this.credits.add().align(C.position),this.credits.update=function(D){b.credits=b.credits.destroy(),b.addCredits(D)})}destroy(){let m,b=this,C=b.axes,D=b.series,O=b.container,I=O?.parentNode;for(wi(b,"destroy"),b.renderer.forExport?xv(Vu,b):Vu[b.index]=void 0,Y.chartCount--,b.renderTo.removeAttribute("data-highcharts-chart"),ep(b),m=C.length;m--;)C[m]=C[m].destroy();for(this.scroller?.destroy?.(),m=D.length;m--;)D[m]=D[m].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(B=>{b[B]=b[B]?.destroy?.()}),O&&(O.innerHTML=Yi.emptyHTML,ep(O),I&&b0(O)),ta(b,function(B,U){delete b[U]})}firstRender(){let m=this,b=m.options;m.getContainer(),m.resetMargins(),m.setChartSize(),m.propFromSeries(),m.createAxes();let C=bv(b.series)?b.series:[];b.series=[],C.forEach(function(D){m.initSeries(D)}),m.linkSeries(),m.setSortedData(),wi(m,"beforeRender"),m.render(),m.pointer?.getChartPosition(),m.renderer.imgCount||m.hasLoaded||m.onload(),m.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(m){m&&this.index!==void 0&&m.apply(this,[this])},this),wi(this,"load"),wi(this,"render"),wc(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:m,title:b}=this;m&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(b?.element.textContent||"").replace(/</g,"&lt;")}),m.accessibility&&m.accessibility.enabled===!1||Cs('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(m,b,C){let D,O=this;return m&&(b=Ti(b,!0),wi(O,"addSeries",{options:m},function(){D=O.initSeries(m),O.isDirtyLegend=!0,O.linkSeries(),D.enabledDataSorting&&D.setData(m.data,!1),wi(O,"afterAddSeries",{series:D}),b&&O.redraw(C)})),D}addAxis(m,b,C,D){return this.createAxis(b?"xAxis":"yAxis",{axis:m,redraw:C,animation:D})}addColorAxis(m,b,C){return this.createAxis("colorAxis",{axis:m,redraw:b,animation:C})}createAxis(m,b){let C=new rr(this,b.axis,m);return Ti(b.redraw,!0)&&this.redraw(b.animation),C}showLoading(m){let b=this,C=b.options,D=C.loading,O=function(){I&&go(I,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})},I=b.loadingDiv,B=b.loadingSpan;I||(b.loadingDiv=I=zf("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container)),B||(b.loadingSpan=B=zf("span",{className:"highcharts-loading-inner"},null,I),lu(b,"redraw",O)),I.className="highcharts-loading",Yi.setElementHTML(B,Ti(m,C.lang.loading,"")),!b.styledMode&&(go(I,cu(D.style,{zIndex:10})),go(B,D.labelStyle),b.loadingShown||(go(I,{opacity:0,display:""}),qg(I,{opacity:D.style.opacity||.5},{duration:D.showDuration||0}))),b.loadingShown=!0,O()}hideLoading(){let m=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",this.styledMode||qg(b,{opacity:0},{duration:m.loading.hideDuration||100,complete:function(){go(b,{display:"none"})}})),this.loadingShown=!1}update(m,b,C,D){let O,I,B,U=this,Q={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},it=m.isResponsiveOptions,tt=[];wi(U,"update",{options:m}),it||U.setResponsive(!1,!0),m=Ff(m,U.options),U.userOptions=Ro(U.userOptions,m);let at=m.chart;at&&(Ro(!0,U.options.chart,at),this.setZoomOptions(),"className"in at&&U.setClassName(at.className),("inverted"in at||"polar"in at||"type"in at)&&(U.propFromSeries(),O=!0),"alignTicks"in at&&(O=!0),"events"in at&&x0(this,at),ta(at,function(_t,wt){U.propsRequireUpdateSeries.indexOf("chart."+wt)!==-1&&(I=!0),U.propsRequireDirtyBox.indexOf(wt)!==-1&&(U.isDirtyBox=!0),U.propsRequireReflow.indexOf(wt)!==-1&&(U.isDirtyBox=!0,it||(B=!0))}),!U.styledMode&&at.style&&U.renderer.setStyle(U.options.chart.style||{})),!U.styledMode&&m.colors&&(this.options.colors=m.colors),ta(m,function(_t,wt){U[wt]&&typeof U[wt].update=="function"?U[wt].update(_t,!1):typeof U[Q[wt]]=="function"?U[Q[wt]](_t):wt!=="colors"&&U.collectionsWithUpdate.indexOf(wt)===-1&&Ro(!0,U.options[wt],m[wt]),wt!=="chart"&&U.propsRequireUpdateSeries.indexOf(wt)!==-1&&(I=!0)}),this.collectionsWithUpdate.forEach(function(_t){m[_t]&&(_c(m[_t]).forEach(function(wt,bt){let jt,Dt=wc(wt.id);Dt&&(jt=U.get(wt.id)),!jt&&U[_t]&&(jt=U[_t][Ti(wt.index,bt)])&&(Dt&&wc(jt.options.id)||jt.options.isInternal)&&(jt=void 0),jt&&jt.coll===_t&&(jt.update(wt,!1),C&&(jt.touched=!0)),!jt&&C&&U.collectionsWithInit[_t]&&(U.collectionsWithInit[_t][0].apply(U,[wt].concat(U.collectionsWithInit[_t][1]||[]).concat([!1])).touched=!0)}),C&&U[_t].forEach(function(wt){wt.touched||wt.options.isInternal?delete wt.touched:tt.push(wt)}))}),tt.forEach(function(_t){_t.chart&&_t.remove&&_t.remove(!1)}),O&&U.axes.forEach(function(_t){_t.update({},!1)}),I&&U.getSeriesOrderByLinks().forEach(function(_t){_t.chart&&_t.update({},!1)},this);let gt=at?.width,pt=at&&(Bf(at.height)?Hf(at.height,gt||U.chartWidth):at.height);B||po(gt)&&gt!==U.chartWidth||po(pt)&&pt!==U.chartHeight?U.setSize(gt,pt,D):Ti(b,!0)&&U.redraw(D),wi(U,"afterUpdate",{options:m,redraw:b,animation:D})}setSubtitle(m,b){this.applyDescription("subtitle",m),this.layOutTitles(b)}setCaption(m,b){this.applyDescription("caption",m),this.layOutTitles(b)}showResetZoom(){let m=this,b=$u.lang,C=m.zooming.resetButton,D=C.theme,O=C.relativeTo==="chart"||C.relativeTo==="spacingBox"?null:"plotBox";function I(){m.zoomOut()}wi(this,"beforeShowResetZoom",null,function(){m.resetZoomButton=m.renderer.button(b.resetZoom,null,null,I,D).attr({align:C.position.align,title:b.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(C.position,!1,O)}),wi(this,"afterShowResetZoom")}zoomOut(){wi(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(m,b){let C=this,D=typeof b=="object"?b:{enabled:b,type:"x"},O=D.type,I=O&&C[{x:"xAxis",xy:"axes",y:"yAxis"}[O]].filter(U=>U.options.panningEnabled&&!U.options.isInternal),B=C.options.chart;B?.panning&&(B.panning=D),wi(this,"pan",{originalEvent:m},()=>{C.transform({axes:I,event:m,to:{x:m.chartX-(C.mouseDownX||0),y:m.chartY-(C.mouseDownY||0)},trigger:"pan"}),go(C.container,{cursor:"move"})})}transform(m){let{axes:b=this.axes,event:C,from:D={},reset:O,selection:I,to:B={},trigger:U}=m,{inverted:Q,time:it}=this;this.hoverPoints?.forEach(pt=>pt.setState()),wi(this,"transform",m);let tt=m.hasZoomed||!1,at,gt;for(let pt of b){let{horiz:_t,len:wt,minPointOffset:bt=0,options:jt,reversed:Dt}=pt,zt=_t?"width":"height",Ut=_t?"x":"y",$t=Ti(B[zt],pt.len),Vt=Ti(D[zt],pt.len),Gt=10>Math.abs($t)?1:$t/Vt,pe=(D[Ut]||0)+Vt/2-pt.pos,ye=pe-((B[Ut]??pt.pos)+$t/2-pt.pos)/Gt,me=Dt&&!Q||!Dt&&Q?-1:1;if(!O&&(pe<0||pe>pt.len))continue;let Ie=pt.chart.polar||pt.isOrdinal?0:bt*me||0,Ze=pt.toValue(ye,!0),en=pt.toValue(ye+wt/Gt,!0),De=Ze+Ie,Be=en-Ie,Je=pt.allExtremes;if(I&&I[pt.coll].push({axis:pt,min:Math.min(Ze,en),max:Math.max(Ze,en)}),De>Be&&([De,Be]=[Be,De]),Gt===1&&!O&&pt.coll==="yAxis"&&!Je){for(let qs of pt.series){let fl=qs.getExtremes(qs.getProcessedData(!0).modified.getColumn("y")||[],!0);Je??(Je={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),po(fl.dataMin)&&po(fl.dataMax)&&(Je.dataMin=Math.min(fl.dataMin,Je.dataMin),Je.dataMax=Math.max(fl.dataMax,Je.dataMax))}pt.allExtremes=Je}let{dataMin:qn,dataMax:In,min:Ns,max:Cn}=cu(pt.getExtremes(),Je||{}),Sn=it.parse(jt.min),Ii=it.parse(jt.max),Kn=qn??Sn,br=In??Ii,Ni=Be-De,Fe=pt.categories?0:Math.min(Ni,br-Kn),Wr=Kn-Fe*(wc(Sn)?0:jt.minPadding),Dr=br+Fe*(wc(Ii)?0:jt.maxPadding),Ps=pt.allowZoomOutside||Gt===1||U!=="zoom"&&Gt>1,qh=Math.min(Sn??Wr,Wr,Ps?Ns:Wr),si=Math.max(Ii??Dr,Dr,Ps?Cn:Dr);(!pt.isOrdinal||Gt!==1||O)&&(De<qh&&(De=qh,Gt>=1&&(Be=De+Ni)),Be>si&&(Be=si,Gt>=1&&(De=Be-Ni)),(O||pt.series.length&&(De!==Ns||Be!==Cn)&&De>=qh&&Be<=si)&&(I?I[pt.coll].push({axis:pt,min:De,max:Be}):(pt.isPanning=U!=="zoom",pt.isPanning&&(gt=!0),pt.setExtremes(O?void 0:De,O?void 0:Be,!1,!1,{move:ye,trigger:U,scale:Gt}),!O&&(De>qh||Be<si)&&U!=="mousewheel"&&(at=!0)),tt=!0),this.hasCartesianSeries||O||U==="mousewheel"||(at=!0),C&&(this[_t?"mouseDownX":"mouseDownY"]=C[_t?"chartX":"chartY"]))}return tt&&(I?wi(this,"selection",I,()=>{delete m.selection,m.trigger="zoom",this.transform(m)}):(!at||gt||this.resetZoomButton?!at&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(U==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),tt}}cu(Wl.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Wl.prototype.addAxis,[!0]],yAxis:[Wl.prototype.addAxis,[!1]],series:[Wl.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:As}=ni,{composed:D1}=Y,{addEvent:Sc,createElement:Ud,css:zm,defined:ip,erase:w0,merge:Fm,pushUnique:Bm}=ue;function kc(){let q=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!q&&(this.scrollablePlotArea=q=new Xu(this)),q?.applyFixed()}function Ts(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class Xu{static compose(m,b,C){Bm(D1,this.compose)&&(Sc(m,"afterInit",Ts),Sc(b,"afterSetChartSize",D=>this.afterSetSize(D.target,D)),Sc(b,"render",kc),Sc(C,"show",Ts))}static afterSetSize(m,b){let C,D,O,{minWidth:I,minHeight:B}=m.options.chart.scrollablePlotArea||{},{clipBox:U,plotBox:Q,inverted:it,renderer:tt}=m;if(!tt.forExport)if(I?(m.scrollablePixelsX=C=Math.max(0,I-m.chartWidth),C&&(m.scrollablePlotBox=Fm(m.plotBox),Q.width=m.plotWidth+=C,U[it?"height":"width"]+=C,O=!0)):B&&(m.scrollablePixelsY=D=Math.max(0,B-m.chartHeight),ip(D)&&(m.scrollablePlotBox=Fm(m.plotBox),Q.height=m.plotHeight+=D,U[it?"width":"height"]+=D,O=!1)),ip(O)){if(!b.skipAxes)for(let at of m.axes)(at.horiz===O||m.hasParallelCoordinates&&at.coll==="yAxis")&&(at.setAxisSize(),at.setAxisTranslation())}else delete m.scrollablePlotBox}constructor(m){let b,C=m.options.chart,D=Ot.getRendererType(),O=C.scrollablePlotArea||{},I=this.moveFixedElements.bind(this),B={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};m.scrollablePixelsX&&(B.overflowX="auto"),m.scrollablePixelsY&&(B.overflowY="auto"),this.chart=m;let U=this.parentDiv=Ud("div",{className:"highcharts-scrolling-parent"},{position:"relative"},m.renderTo),Q=this.scrollingContainer=Ud("div",{className:"highcharts-scrolling"},B,U),it=this.innerContainer=Ud("div",{className:"highcharts-inner-container"},void 0,Q),tt=this.fixedDiv=Ud("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(C.style?.zIndex||0)+2,top:0},void 0,!0),at=this.fixedRenderer=new D(tt,m.chartWidth,m.chartHeight,C.style);this.mask=at.path().attr({fill:C.backgroundColor||"#fff","fill-opacity":O.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),Q.parentNode.insertBefore(tt,Q),zm(m.renderTo,{overflow:"visible"}),Sc(m,"afterShowResetZoom",I),Sc(m,"afterApplyDrilldown",I),Sc(m,"afterLayOutTitles",I),Sc(Q,"scroll",()=>{let{pointer:gt,hoverPoint:pt}=m;gt&&(delete gt.chartPosition,pt&&(b=pt),gt.runPointActions(void 0,b,!0))}),it.appendChild(m.container)}applyFixed(){let{chart:m,fixedRenderer:b,isDirty:C,scrollingContainer:D}=this,{axisOffset:O,chartWidth:I,chartHeight:B,container:U,plotHeight:Q,plotLeft:it,plotTop:tt,plotWidth:at,scrollablePixelsX:gt=0,scrollablePixelsY:pt=0}=m,{scrollPositionX:_t=0,scrollPositionY:wt=0}=m.options.chart.scrollablePlotArea||{},bt=I+gt,jt=B+pt;b.setSize(I,B),(C??!0)&&(this.isDirty=!1,this.moveFixedElements()),As(m.container),zm(U,{width:`${bt}px`,height:`${jt}px`}),m.renderer.boxWrapper.attr({width:bt,height:jt,viewBox:[0,0,bt,jt].join(" ")}),m.chartBackground?.attr({width:bt,height:jt}),zm(D,{width:`${I}px`,height:`${B}px`}),ip(C)||(D.scrollLeft=gt*_t,D.scrollTop=pt*wt);let Dt=tt-O[0]-1,zt=it-O[3]-1,Ut=tt+Q+O[2]+1,$t=it+at+O[1]+1,Vt=it+at-gt,Gt=tt+Q-pt,pe=[["M",0,0]];gt?pe=[["M",0,Dt],["L",it-1,Dt],["L",it-1,Ut],["L",0,Ut],["Z"],["M",Vt,Dt],["L",I,Dt],["L",I,Ut],["L",Vt,Ut],["Z"]]:pt&&(pe=[["M",zt,0],["L",zt,tt-1],["L",$t,tt-1],["L",$t,0],["Z"],["M",zt,Gt],["L",zt,B],["L",$t,B],["L",$t,Gt],["Z"]]),m.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:pe})}moveFixedElements(){let m,{container:b,inverted:C,scrollablePixelsX:D,scrollablePixelsY:O}=this.chart,I=this.fixedRenderer,B=Xu.fixedSelectors;if(D&&!C?m=".highcharts-yaxis":D&&C||O&&!C?m=".highcharts-xaxis":O&&C&&(m=".highcharts-yaxis"),m&&!(this.chart.hasParallelCoordinates&&m===".highcharts-yaxis"))for(let U of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])Bm(B,U);else for(let U of[".highcharts-xaxis",".highcharts-yaxis"])for(let Q of[`${U}:not(.highcharts-radial-axis)`,`${U}-labels:not(.highcharts-radial-axis-labels)`])w0(B,Q);for(let U of B)[].forEach.call(b.querySelectorAll(U),Q=>{(Q.namespaceURI===I.SVG_NS?I.box:I.box.parentNode).appendChild(Q),Q.style.pointerEvents="auto"})}}Xu.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Hm}=At,{series:rp}=Hr,{destroyObjectProperties:_0,fireEvent:Gm,getAlignFactor:Fh,isNumber:Ul,pick:Bh}=ue,S0=class{constructor(q,m,b,C,D){let O=q.chart.inverted,I=q.reversed;this.axis=q;let B=this.isNegative=!!b!=!!I;this.options=m=m||{},this.x=C,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=D,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:m.align||(O?B?"left":"right":"center"),verticalAlign:m.verticalAlign||(O?"middle":B?"bottom":"top"),y:m.y,x:m.x},this.textAlign=m.textAlign||(O?B?"right":"left":"center")}destroy(){_0(this,this.axis)}render(q){let m=this.axis.chart,b=this.options,C=b.format,D=C?Hm(C,this,m):b.formatter.call(this);if(this.label)this.label.attr({text:D,visibility:"hidden"});else{this.label=m.renderer.label(D,null,void 0,b.shape,void 0,void 0,b.useHTML,!1,"stack-labels");let O={r:b.borderRadius||0,text:D,padding:Bh(b.padding,5),visibility:"hidden"};m.styledMode||(O.fill=b.backgroundColor,O.stroke=b.borderColor,O["stroke-width"]=b.borderWidth,this.label.css(b.style||{})),this.label.attr(O),this.label.added||this.label.add(q)}this.label.labelrank=m.plotSizeY,Gm(this,"afterRender")}setOffset(q,m,b,C,D,O){let{alignOptions:I,axis:B,label:U,options:Q,textAlign:it}=this,tt=B.chart,at=this.getStackBox({xOffset:q,width:m,boxBottom:b,boxTop:C,defaultX:D,xAxis:O}),{verticalAlign:gt}=I;if(U&&at){let pt=U.getBBox(void 0,0),_t=U.padding,wt=Bh(Q.overflow,"justify")==="justify",bt;I.x=Q.x||0,I.y=Q.y||0;let{x:jt,y:Dt}=this.adjustStackPosition({labelBox:pt,verticalAlign:gt,textAlign:it});at.x-=jt,at.y-=Dt,U.align(I,!1,at),(bt=tt.isInsidePlot(U.alignAttr.x+I.x+jt,U.alignAttr.y+I.y+Dt))||(wt=!1),wt&&rp.prototype.justifyDataLabel.call(B,U,I,U.alignAttr,pt,at),U.attr({x:U.alignAttr.x,y:U.alignAttr.y,rotation:Q.rotation,rotationOriginX:pt.width*Fh(Q.textAlign||"center"),rotationOriginY:pt.height/2}),Bh(!wt&&Q.crop,!0)&&(bt=Ul(U.x)&&Ul(U.y)&&tt.isInsidePlot(U.x-_t+(U.width||0),U.y)&&tt.isInsidePlot(U.x+_t,U.y)),U[bt?"show":"hide"]()}Gm(this,"afterSetOffset",{xOffset:q,width:m})}adjustStackPosition({labelBox:q,verticalAlign:m,textAlign:b}){return{x:q.width/2+q.width/2*(2*Fh(b)-1),y:q.height/2*2*(1-Fh(m))}}getStackBox(q){let m=this.axis,b=m.chart,{boxTop:C,defaultX:D,xOffset:O,width:I,boxBottom:B}=q,U=m.stacking.usePercentage?100:Bh(C,this.total,0),Q=m.toPixels(U),it=q.xAxis||b.xAxis[0],tt=Bh(D,it.translate(this.x))+O,at=Math.abs(Q-m.toPixels(B||Ul(m.min)&&m.logarithmic&&m.logarithmic.lin2log(m.min)||0)),gt=b.inverted,pt=this.isNegative;return gt?{x:(pt?Q:Q-at)-b.plotLeft,y:it.height-tt-I+it.top-b.plotTop,width:at,height:I}:{x:tt+it.transB-b.plotLeft,y:(pt?Q-at:Q)-b.plotTop,width:I,height:at}}},{getDeferredAnimation:k0}=ni,{series:{prototype:qu}}=Hr,{addEvent:Wm,correctFloat:Yd,defined:Gf,destroyObjectProperties:ap,fireEvent:Er,isNumber:Um,objectEach:Cc,pick:Wf}=ue;function Uf(){let q=this.inverted;this.axes.forEach(m=>{m.stacking?.stacks&&m.hasVisibleSeries&&(m.stacking.oldStacks=m.stacking.stacks)}),this.series.forEach(m=>{let b=m.xAxis?.options||{};m.options.stacking&&m.reserveSpace()&&(m.stackKey=[m.type,Wf(m.options.stack,""),q?b.top:b.left,q?b.height:b.width].join(","))})}function Ku(){let q=this.stacking;if(q){let m=q.stacks;Cc(m,(b,C)=>{ap(b),delete m[C]}),q.stackTotalGroup?.destroy()}}function sp(){this.stacking||(this.stacking=new A0(this))}function wv(q,m,b,C){return!Gf(q)||q.x!==m||C&&q.stackKey!==C?q={x:m,index:0,key:C,stackKey:C}:q.index++,q.key=[b,m,q.index].join(","),q}function Io(){let q,m=this,b=m.yAxis,C=m.stackKey||"",D=b.stacking.stacks,O=m.getColumn("x",!0),I=m.options.stacking,B=m[I+"Stacker"];B&&[C,"-"+C].forEach(U=>{let Q=O.length,it,tt,at;for(;Q--;)it=O[Q],q=m.getStackIndicator(q,it,m.index,U),tt=D[U]?.[it],(at=tt?.points[q.key||""])&&B.call(m,at,tt,Q)})}function $s(q,m,b){let C=m.total?100/m.total:0;q[0]=Yd(q[0]*C),q[1]=Yd(q[1]*C),this.stackedYData[b]=q[1]}function C0(q){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?qu.setStackedPoints.call(this,q,"group"):q.stacking.resetStacks())}function Ym(q,m){let b,C,D,O,I,B,U,Q=m||this.options.stacking;if(!Q||!this.reserveSpace()||({group:"xAxis"}[Q]||"yAxis")!==q.coll)return;let it=this.getColumn("x",!0),tt=this.getColumn(this.pointValKey||"y",!0),at=[],gt=tt.length,pt=this.options,_t=pt.threshold||0,wt=pt.startFromThreshold?_t:0,bt=pt.stack,jt=m?`${this.type},${Q}`:this.stackKey||"",Dt="-"+jt,zt=this.negStacks,Ut=q.stacking,$t=Ut.stacks,Vt=Ut.oldStacks;for(Ut.stacksTouched+=1,U=0;U<gt;U++){let Gt=it[U]||0,pe=tt[U],ye=Um(pe)&&pe||0;B=(b=this.getStackIndicator(b,Gt,this.index)).key||"",$t[I=(C=zt&&ye<(wt?0:_t))?Dt:jt]||($t[I]={}),$t[I][Gt]||(Vt[I]?.[Gt]?($t[I][Gt]=Vt[I][Gt],$t[I][Gt].total=null):$t[I][Gt]=new S0(q,q.options.stackLabels,!!C,Gt,bt)),D=$t[I][Gt],pe!==null?(D.points[B]=D.points[this.index]=[Wf(D.cumulative,wt)],Gf(D.cumulative)||(D.base=B),D.touched=Ut.stacksTouched,b.index>0&&this.singleStacks===!1&&(D.points[B][0]=D.points[this.index+","+Gt+",0"][0])):(delete D.points[B],delete D.points[this.index]);let me=D.total||0;Q==="percent"?(O=C?jt:Dt,me=zt&&$t[O]?.[Gt]?(O=$t[O][Gt]).total=Math.max(O.total||0,me)+Math.abs(ye):Yd(me+Math.abs(ye))):Q==="group"?Um(pe)&&me++:me=Yd(me+ye),Q==="group"?D.cumulative=(me||1)-1:D.cumulative=Yd(Wf(D.cumulative,wt)+ye),D.total=me,pe!==null&&(D.points[B].push(D.cumulative),at[U]=D.cumulative,D.hasValidPoints=!0)}Q==="percent"&&(Ut.usePercentage=!0),Q!=="group"&&(this.stackedYData=at),Ut.oldStacks={}}class A0{constructor(m){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=m}buildStacks(){let m,b,C=this.axis,D=C.series,O=C.coll==="xAxis",I=C.options.reversedStacks,B=D.length;for(this.resetStacks(),this.usePercentage=!1,b=B;b--;)m=D[I?b:B-b-1],O&&m.setGroupedPoints(C),m.setStackedPoints(C);if(!O)for(b=0;b<B;b++)D[b].modifyStacks();Er(C,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Cc(this.stacks,m=>{Cc(m,b=>{b.cumulative=b.total})}))}resetStacks(){Cc(this.stacks,m=>{Cc(m,(b,C)=>{Um(b.touched)&&b.touched<this.stacksTouched?(b.destroy(),delete m[C]):(b.total=null,b.cumulative=null)})})}renderStackTotals(){let m=this.axis,b=m.chart,C=b.renderer,D=this.stacks,O=k0(b,m.options.stackLabels?.animation||!1),I=this.stackTotalGroup=this.stackTotalGroup||C.g("stack-labels").attr({zIndex:6,opacity:0}).add();I.translate(b.plotLeft,b.plotTop),Cc(D,B=>{Cc(B,U=>{U.render(I)})}),I.animate({opacity:1},O)}}(w||(w={})).compose=function(q,m,b){let C=m.prototype,D=b.prototype;C.getStacks||(Wm(q,"init",sp),Wm(q,"destroy",Ku),C.getStacks=Uf,D.getStackIndicator=wv,D.modifyStacks=Io,D.percentStacker=$s,D.setGroupedPoints=C0,D.setStackedPoints=Ym)};let _v=w,{defined:Sv,merge:op,isObject:T0}=ue;class uu extends Ys{drawGraph(){let m=this.options,b=(this.gappedPath||this.getGraphPath).call(this),C=this.chart.styledMode;[this,...this.zones].forEach((D,O)=>{let I,B=D.graph,U=B?"animate":"attr",Q=D.dashStyle||m.dashStyle;B?(B.endX=this.preventGraphAnimation?null:b.xMap,B.animate({d:b})):b.length&&(D.graph=B=this.chart.renderer.path(b).addClass("highcharts-graph"+(O?` highcharts-zone-graph-${O-1} `:" ")+(O&&D.className||"")).attr({zIndex:1}).add(this.group)),B&&!C&&(I={stroke:!O&&m.lineColor||D.color||this.color||"#cccccc","stroke-width":m.lineWidth||0,fill:this.fillGraph&&this.color||"none"},Q?I.dashstyle=Q:m.linecap!=="square"&&(I["stroke-linecap"]=I["stroke-linejoin"]="round"),B[U](I).shadow(m.shadow&&op({filterUnits:"userSpaceOnUse"},T0(m.shadow)?m.shadow:{}))),B&&(B.startX=b.xMap,B.isArea=b.isArea)})}getGraphPath(m,b,C){let D=this,O=D.options,I=[],B=[],U,Q=O.step,it=(m=m||D.points).reversed;return it&&m.reverse(),(Q={right:1,center:2}[Q]||Q&&3)&&it&&(Q=4-Q),(m=this.getValidPoints(m,!1,O.nullInteraction||!(O.connectNulls&&!b&&!C))).forEach(function(tt,at){let gt,pt=tt.plotX,_t=tt.plotY,wt=m[at-1],bt=tt.isNull||typeof _t!="number";(tt.leftCliff||wt?.rightCliff)&&!C&&(U=!0),bt&&!Sv(b)&&at>0?U=!O.connectNulls:bt&&!b?U=!0:(at===0||U?gt=[["M",tt.plotX,tt.plotY]]:D.getPointSpline?gt=[D.getPointSpline(m,tt,at)]:Q?(gt=Q===1?[["L",wt.plotX,_t]]:Q===2?[["L",(wt.plotX+pt)/2,wt.plotY],["L",(wt.plotX+pt)/2,_t]]:[["L",pt,wt.plotY]]).push(["L",pt,_t]):gt=[["L",pt,_t]],B.push(tt.x),Q&&(B.push(tt.x),Q===2&&B.push(tt.x)),I.push.apply(I,gt),U=!1)}),I.xMap=B,D.graphPath=I,I}}uu.defaultOptions=op(Ys.defaultOptions,{legendSymbol:"lineMarker"}),Hr.registerSeriesType("line",uu);let{seriesTypes:{line:Ma}}=Hr,{extend:kv,merge:M0,objectEach:gs,pick:$m}=ue;class lp extends Ma{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:m,options:b}=this;[this,...this.zones].forEach((C,D)=>{let O={},I=C.fillColor||b.fillColor,B=C.area,U=B?"animate":"attr";B?(B.endX=this.preventGraphAnimation?null:m.xMap,B.animate({d:m})):(O.zIndex=0,(B=C.area=this.chart.renderer.path(m).addClass("highcharts-area"+(D?` highcharts-zone-area-${D-1} `:" ")+(D&&C.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(O.fill=I||C.color||this.color,O["fill-opacity"]=I?1:b.fillOpacity??.75,B.css({pointerEvents:this.stickyTracking?"none":"auto"})),B[U](O),B.startX=m.xMap,B.shiftUnit=b.step?2:1})}getGraphPath(m){let b,C,D,O=Ma.prototype.getGraphPath,I=this.options,B=I.stacking,U=this.yAxis,Q=[],it=[],tt=this.index,at=U.stacking.stacks[this.stackKey],gt=I.threshold,pt=Math.round(U.getThreshold(I.threshold)),_t=$m(I.connectNulls,B==="percent"),wt=function($t,Vt,Gt){let pe=m[$t],ye=B&&at[pe.x].points[tt],me=pe[Gt+"Null"]||0,Ie=pe[Gt+"Cliff"]||0,Ze,en,De=!0;Ie||me?(Ze=(me?ye[0]:ye[1])+Ie,en=ye[0]+Ie,De=!!me):!B&&m[Vt]&&m[Vt].isNull&&(Ze=en=gt),Ze!==void 0&&(it.push({plotX:b,plotY:Ze===null?pt:U.getThreshold(Ze),isNull:De,isCliff:!0}),Q.push({plotX:b,plotY:en===null?pt:U.getThreshold(en),doCurve:!1}))};m=m||this.points,B&&(m=this.getStackPoints(m));for(let $t=0,Vt=m.length;$t<Vt;++$t)B||(m[$t].leftCliff=m[$t].rightCliff=m[$t].leftNull=m[$t].rightNull=void 0),C=m[$t].isNull,b=$m(m[$t].rectPlotX,m[$t].plotX),D=B?$m(m[$t].yBottom,pt):pt,(!C||_t)&&(_t||wt($t,$t-1,"left"),C&&!B&&_t||(it.push(m[$t]),Q.push({x:$t,plotX:b,plotY:D})),_t||wt($t,$t+1,"right"));let bt=O.call(this,it,!0,!0);Q.reversed=!0;let jt=O.call(this,Q,!0,!0),Dt=jt[0];Dt&&Dt[0]==="M"&&(jt[0]=["L",Dt[1],Dt[2]]);let zt=bt.concat(jt);zt.length&&zt.push(["Z"]);let Ut=O.call(this,it,!1,_t);return this.chart.series.length>1&&B&&it.some($t=>$t.isCliff)&&(zt.hasStackedCliffs=Ut.hasStackedCliffs=!0),zt.xMap=bt.xMap,this.areaPath=zt,Ut}getStackPoints(m){let b=this,C=[],D=[],O=this.xAxis,I=this.yAxis,B=I.stacking.stacks[this.stackKey],U={},Q=I.series,it=Q.length,tt=I.options.reversedStacks?1:-1,at=Q.indexOf(b);if(m=m||this.points,this.options.stacking){for(let pt=0;pt<m.length;pt++)m[pt].leftNull=m[pt].rightNull=void 0,U[m[pt].x]=m[pt];gs(B,function(pt,_t){pt.total!==null&&D.push(_t)}),D.sort(function(pt,_t){return pt-_t});let gt=Q.map(pt=>pt.visible);D.forEach(function(pt,_t){let wt=0,bt,jt;if(U[pt]&&!U[pt].isNull)C.push(U[pt]),[-1,1].forEach(function(Dt){let zt=Dt===1?"rightNull":"leftNull",Ut=B[D[_t+Dt]],$t=0;if(Ut){let Vt=at;for(;Vt>=0&&Vt<it;){let Gt=Q[Vt].index;!(bt=Ut.points[Gt])&&(Gt===b.index?U[pt][zt]=!0:gt[Vt]&&(jt=B[pt].points[Gt])&&($t-=jt[1]-jt[0])),Vt+=tt}}U[pt][Dt===1?"rightCliff":"leftCliff"]=$t});else{let Dt=at;for(;Dt>=0&&Dt<it;){let zt=Q[Dt].index;if(bt=B[pt].points[zt]){wt=bt[1];break}Dt+=tt}wt=$m(wt,0),wt=I.translate(wt,0,1,0,1),C.push({isNull:!0,plotX:O.translate(pt,0,0,0,1),x:pt,plotY:wt,yBottom:wt})}})}return C}}lp.defaultOptions=M0(Ma.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),kv(lp.prototype,{singleStacks:!1}),Hr.registerSeriesType("area",lp);let{line:Vm}=Hr.seriesTypes,{merge:ea,pick:Ms}=ue;class Ac extends Vm{getPointSpline(m,b,C){let D,O,I,B,U=b.plotX||0,Q=b.plotY||0,it=m[C-1],tt=m[C+1];function at(pt){return pt&&!pt.isNull&&pt.doCurve!==!1&&!b.isCliff}if(at(it)&&at(tt)){let pt=it.plotX||0,_t=it.plotY||0,wt=tt.plotX||0,bt=tt.plotY||0,jt=0;D=(1.5*U+pt)/2.5,O=(1.5*Q+_t)/2.5,I=(1.5*U+wt)/2.5,B=(1.5*Q+bt)/2.5,I!==D&&(jt=(B-O)*(I-U)/(I-D)+Q-B),O+=jt,B+=jt,O>_t&&O>Q?(O=Math.max(_t,Q),B=2*Q-O):O<_t&&O<Q&&(O=Math.min(_t,Q),B=2*Q-O),B>bt&&B>Q?(B=Math.max(bt,Q),O=2*Q-B):B<bt&&B<Q&&(B=Math.min(bt,Q),O=2*Q-B),b.rightContX=I,b.rightContY=B,b.controlPoints={low:[D,O],high:[I,B]}}let gt=["C",Ms(it.rightContX,it.plotX,0),Ms(it.rightContY,it.plotY,0),Ms(D,U,0),Ms(O,Q,0),U,Q];return it.rightContX=it.rightContY=void 0,gt}}Ac.defaultOptions=ea(Vm.defaultOptions),Hr.registerSeriesType("spline",Ac);let Cv=Ac,{area:Av,area:{prototype:Xm}}=Hr.seriesTypes,{extend:O1,merge:qm}=ue;class Vs extends Cv{}Vs.defaultOptions=qm(Cv.defaultOptions,Av.defaultOptions),O1(Vs.prototype,{getGraphPath:Xm.getGraphPath,getStackPoints:Xm.getStackPoints,drawGraph:Xm.drawGraph}),Hr.registerSeriesType("areaspline",Vs);let{animObject:Tc}=ni,{parse:N0}=We,{noop:na}=Y,{clamp:cp,crisp:Yl,defined:Hh,extend:Mc,fireEvent:Km,isArray:Zm,isNumber:zo,merge:Qm,pick:$l,objectEach:up}=ue;class Gh extends Ys{animate(m){let b,C,D=this,O=this.yAxis,I=O.pos,B=O.reversed,U=D.options,{clipOffset:Q,inverted:it}=this.chart,tt={},at=it?"translateX":"translateY";m&&Q?(tt.scaleY=.001,C=cp(O.toPixels(U.threshold||0),I,I+O.len),it?tt.translateX=(C+=B?-Math.floor(Q[0]):Math.ceil(Q[2]))-O.len:tt.translateY=C+=B?Math.ceil(Q[0]):-Math.floor(Q[2]),D.clipBox&&D.setClip(),D.group.attr(tt)):(b=Number(D.group.attr(at)),D.group.animate({scaleY:1},Mc(Tc(D.options.animation),{step:function(gt,pt){D.group&&(tt[at]=b+pt.pos*(I-b),D.group.attr(tt))}})))}init(m,b){super.init.apply(this,arguments);let C=this;(m=C.chart).hasRendered&&m.series.forEach(function(D){D.type===C.type&&(D.isDirty=!0)})}getColumnMetrics(){let m=this,b=m.options,C=m.xAxis,D=m.yAxis,O=C.options.reversedStacks,I=C.reversed&&!O||!C.reversed&&O,B={},U,Q=0;b.grouping===!1?Q=1:m.chart.series.forEach(function(_t){let wt,bt=_t.yAxis,jt=_t.options;_t.type===m.type&&_t.reserveSpace()&&D.len===bt.len&&D.pos===bt.pos&&(jt.stacking&&jt.stacking!=="group"?(B[U=_t.stackKey]===void 0&&(B[U]=Q++),wt=B[U]):jt.grouping!==!1&&(wt=Q++),_t.columnIndex=wt)});let it=Math.min(Math.abs(C.transA)*(!C.brokenAxis?.hasBreaks&&C.ordinal?.slope||b.pointRange||C.closestPointRange||C.tickInterval||1),C.len),tt=it*b.groupPadding,at=(it-2*tt)/(Q||1),gt=Math.min(b.maxPointWidth||C.len,$l(b.pointWidth,at*(1-2*b.pointPadding))),pt=(m.columnIndex||0)+ +!!I;return m.columnMetrics={width:gt,offset:(at-gt)/2+(tt+pt*at-it/2)*(I?-1:1),paddedWidth:at,columnCount:Q},m.columnMetrics}crispCol(m,b,C,D){let O=this.borderWidth,I=this.chart.inverted;return D=Yl(b+D,O,I)-(b=Yl(b,O,I)),this.options.crisp&&(C=Yl(m+C,O)-(m=Yl(m,O))),{x:m,y:b,width:C,height:D}}adjustForMissingColumns(m,b,C,D){if(!C.isNull&&D.columnCount>1){let O=this.xAxis.series.filter(Q=>Q.visible).map(Q=>Q.index),I=0,B=0;up(this.xAxis.stacking?.stacks,Q=>{let it=typeof C.x=="number"?Q[C.x.toString()]?.points:void 0,tt=it?.[this.index],at={};if(it&&Zm(tt)){let gt=this.index,pt=Object.keys(it).filter(_t=>!_t.match(",")&&it[_t]&&it[_t].length>1).map(parseFloat).filter(_t=>O.indexOf(_t)!==-1).filter(_t=>{let wt=this.chart.series[_t].options,bt=wt.stacking&&wt.stack;if(Hh(bt)){if(zo(at[bt]))return gt===_t&&(gt=at[bt]),!1;at[bt]=_t}return!0}).sort((_t,wt)=>wt-_t);I=pt.indexOf(gt),B=pt.length}}),I=this.xAxis.reversed?B-1-I:I;let U=(B-1)*D.paddedWidth+b;m=(C.plotX||0)+U/2-b-I*D.paddedWidth}return m}translate(){let m=this,b=m.chart,C=m.options,D=m.dense=m.closestPointRange*m.xAxis.transA<2,O=m.borderWidth=$l(C.borderWidth,+!D),I=m.xAxis,B=m.yAxis,U=C.threshold,Q=$l(C.minPointLength,5),it=m.getColumnMetrics(),tt=it.width,at=m.pointXOffset=it.offset,gt=m.dataMin,pt=m.dataMax,_t=m.translatedThreshold=B.getThreshold(U),wt=m.barW=Math.max(tt,1+2*O);C.pointPadding&&C.crisp&&(wt=Math.ceil(wt)),Ys.prototype.translate.apply(m),m.points.forEach(function(bt){let jt=$l(bt.yBottom,_t),Dt=999+Math.abs(jt),zt=bt.plotX||0,Ut=cp(bt.plotY,-Dt,B.len+Dt),$t,Vt=Math.min(Ut,jt),Gt=Math.max(Ut,jt)-Vt,pe=tt,ye=zt+at,me=wt;Q&&Math.abs(Gt)<Q&&(Gt=Q,$t=!B.reversed&&!bt.negative||B.reversed&&bt.negative,zo(U)&&zo(pt)&&bt.y===U&&pt<=U&&(B.min||0)<U&&(gt!==pt||(B.max||0)<=U)&&($t=!$t,bt.negative=!bt.negative),Vt=Math.abs(Vt-_t)>Q?jt-Q:_t-($t?Q:0)),Hh(bt.options.pointWidth)&&(ye-=Math.round(((pe=me=Math.ceil(bt.options.pointWidth))-tt)/2)),C.centerInCategory&&(ye=m.adjustForMissingColumns(ye,pe,bt,it)),bt.barX=ye,bt.pointWidth=pe,bt.tooltipPos=b.inverted?[cp(B.len+B.pos-b.plotLeft-Ut,B.pos-b.plotLeft,B.len+B.pos-b.plotLeft),I.len+I.pos-b.plotTop-ye-me/2,Gt]:[I.left-b.plotLeft+ye+me/2,cp(Ut+B.pos-b.plotTop,B.pos-b.plotTop,B.len+B.pos-b.plotTop),Gt],bt.shapeType=m.pointClass.prototype.shapeType||"roundedRect",bt.shapeArgs=m.crispCol(ye,Vt,me,bt.isNull?0:Gt)}),Km(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(m,b){let C=this.options,D=this.pointAttrToOptions||{},O=D.stroke||"borderColor",I=D["stroke-width"]||"borderWidth",B,U,Q,it=m&&m.color||this.color,tt=m&&m[O]||C[O]||it,at=m&&m.options.dashStyle||C.dashStyle,gt=m&&m[I]||C[I]||this[I]||0,pt=m?.isNull&&C.nullInteraction?0:m?.opacity??C.opacity??1;m&&this.zones.length&&(U=m.getZone(),it=m.options.color||U&&(U.color||m.nonZonedColor)||this.color,U&&(tt=U.borderColor||tt,at=U.dashStyle||at,gt=U.borderWidth||gt)),b&&m&&(Q=(B=Qm(C.states[b],m.options.states&&m.options.states[b]||{})).brightness,it=B.color||Q!==void 0&&N0(it).brighten(B.brightness).get()||it,tt=B[O]||tt,gt=B[I]||gt,at=B.dashStyle||at,pt=$l(B.opacity,pt));let _t={fill:it,stroke:tt,"stroke-width":gt,opacity:pt};return at&&(_t.dashstyle=at),_t}drawPoints(m=this.points){let b,C=this,D=this.chart,O=C.options,I=O.nullInteraction,B=D.renderer,U=O.animationLimit||250;m.forEach(function(Q){let it=Q.plotY,tt=Q.graphic,at=!!tt,gt=tt&&D.pointCount<U?"animate":"attr";zo(it)&&(Q.y!==null||I)?(b=Q.shapeArgs,tt&&Q.hasNewShapeType()&&(tt=tt.destroy()),C.enabledDataSorting&&(Q.startXPos=C.xAxis.reversed?-(b&&b.width||0):C.xAxis.width),!tt&&(Q.graphic=tt=B[Q.shapeType](b).add(Q.group||C.group),tt&&C.enabledDataSorting&&D.hasRendered&&D.pointCount<U&&(tt.attr({x:Q.startXPos}),at=!0,gt="animate")),tt&&at&&tt[gt](Qm(b)),D.styledMode||tt[gt](C.pointAttribs(Q,Q.selected&&"select")).shadow(Q.allowShadow!==!1&&O.shadow),tt&&(tt.addClass(Q.getClassName(),!0),tt.attr({visibility:Q.visible?"inherit":"hidden"}))):tt&&(Q.graphic=tt.destroy())})}drawTracker(m=this.points){let b,C=this,D=C.chart,O=D.pointer,I=function(B){O?.normalize(B);let U=O?.getPointFromEvent(B);O&&U&&C.options.enableMouseTracking&&(D.isInsidePlot(B.chartX-D.plotLeft,B.chartY-D.plotTop,{visiblePlotOnly:!0})||O?.inClass(B.target,"highcharts-data-label"))&&(O.isDirectTouch=!0,U.onMouseOver(B))};m.forEach(function(B){b=Zm(B.dataLabels)?B.dataLabels:B.dataLabel?[B.dataLabel]:[],B.graphic&&(B.graphic.element.point=B),b.forEach(function(U){(U.div||U.element).point=B})}),C._hasTracking||(C.trackerGroups.forEach(function(B){C[B]&&(C[B].addClass("highcharts-tracker").on("mouseover",I).on("mouseout",function(U){O?.onTrackerMouseOut(U)}).on("touchstart",I),!D.styledMode&&C.options.cursor&&C[B].css({cursor:C.options.cursor}))}),C._hasTracking=!0),Km(this,"afterDrawTracker")}remove(){let m=this,b=m.chart;b.hasRendered&&b.series.forEach(function(C){C.type===m.type&&(C.isDirty=!0)}),Ys.prototype.remove.apply(m,arguments)}}Gh.defaultOptions=Qm(Ys.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Mc(Gh.prototype,{directTouch:!0,getSymbol:na,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Hr.registerSeriesType("column",Gh);let Zu=Gh,{getDeferredAnimation:P0}=ni,{format:E0}=At,{defined:Nc,extend:Tv,fireEvent:Yf,getAlignFactor:Mv,isArray:Wh,isString:hp,merge:Ri,objectEach:jr,pick:ri,pInt:Mi,splat:ur}=ue;(function(q){function m(){return U(this).some(it=>it?.enabled)}function b(it,tt,at,gt,pt){let{chart:_t,enabledDataSorting:wt}=this,bt=this.isCartesian&&_t.inverted,jt=it.plotX,Dt=it.plotY,zt=at.rotation||0,Ut=Nc(jt)&&Nc(Dt)&&_t.isInsidePlot(jt,Math.round(Dt),{inverted:bt,paneCoordinates:!0,series:this}),$t=zt===0&&ri(at.overflow,wt?"none":"justify")==="justify",Vt=this.visible&&it.visible!==!1&&Nc(jt)&&(it.series.forceDL||wt&&!$t||Ut||ri(at.inside,!!this.options.stacking)&&gt&&_t.isInsidePlot(jt,bt?gt.x+1:gt.y+gt.height-1,{inverted:bt,paneCoordinates:!0,series:this})),Gt=it.pos();if(Vt&&Gt){var pe;let ye=tt.getBBox(),me=tt.getBBox(void 0,0);if(gt=Tv({x:Gt[0],y:Math.round(Gt[1]),width:0,height:0},gt||{}),at.alignTo==="plotEdges"&&this.isCartesian&&(gt[bt?"x":"y"]=0,gt[bt?"width":"height"]=this.yAxis?.len||0),Tv(at,{width:ye.width,height:ye.height}),pe=gt,wt&&this.xAxis&&!$t&&this.setDataLabelStartPos(it,tt,pt,Ut,pe),tt.align(Ri(at,{width:me.width,height:me.height}),!1,gt,!1),tt.alignAttr.x+=Mv(at.align)*(me.width-ye.width),tt.alignAttr.y+=Mv(at.verticalAlign)*(me.height-ye.height),tt[tt.placed?"animate":"attr"]({"text-align":tt.alignAttr["text-align"]||"center",x:tt.alignAttr.x+(ye.width-me.width)/2,y:tt.alignAttr.y+(ye.height-me.height)/2,rotationOriginX:(tt.width||0)/2,rotationOriginY:(tt.height||0)/2}),$t&&gt.height>=0)this.justifyDataLabel(tt,at,tt.alignAttr,ye,gt,pt);else if(ri(at.crop,!0)){let{x:Ie,y:Ze}=tt.alignAttr;Vt=_t.isInsidePlot(Ie,Ze,{paneCoordinates:!0,series:this})&&_t.isInsidePlot(Ie+ye.width-1,Ze+ye.height-1,{paneCoordinates:!0,series:this})}at.shape&&!zt&&tt[pt?"attr":"animate"]({anchorX:Gt[0],anchorY:Gt[1]})}pt&&wt&&(tt.placed=!1),Vt||wt&&!$t?(tt.show(),tt.placed=!0):(tt.hide(),tt.placed=!1)}function C(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function D(it){let tt=this.hasRendered||0,at=this.initDataLabelsGroup().attr({opacity:+tt});return!tt&&at&&(this.visible&&at.show(),this.options.animation?at.animate({opacity:1},it):at.attr({opacity:1})),at}function O(it){let tt;it=it||this.points;let at=this,gt=at.chart,pt=at.options,_t=gt.renderer,{backgroundColor:wt,plotBackgroundColor:bt}=gt.options.chart,jt=_t.getContrast(hp(bt)&&bt||hp(wt)&&wt||"#000000"),Dt=U(at),{animation:zt,defer:Ut}=Dt[0],$t=Ut?P0(gt,zt,at):{defer:0,duration:0};Yf(this,"drawDataLabels"),at.hasDataLabels?.()&&(tt=this.initDataLabels($t),it.forEach(Vt=>{let Gt=Vt.dataLabels||[],pe=Vt.color||at.color;ur(B(Dt,Vt.dlOptions||Vt.options?.dataLabels)).forEach((me,Ie)=>{let Ze=me.enabled&&(Vt.visible||Vt.dataLabelOnHidden)&&(!Vt.isNull||Vt.dataLabelOnNull)&&(function(br,Ni){let Fe=Ni.filter;if(Fe){let Wr=Fe.operator,Dr=br[Fe.property],Ps=Fe.value;return Wr===">"&&Dr>Ps||Wr==="<"&&Dr<Ps||Wr===">="&&Dr>=Ps||Wr==="<="&&Dr<=Ps||Wr==="=="&&Dr==Ps||Wr==="==="&&Dr===Ps||Wr==="!="&&Dr!=Ps||Wr==="!=="&&Dr!==Ps||!1}return!0})(Vt,me),{backgroundColor:en,borderColor:De,distance:Be,style:Je={}}=me,qn,In,Ns,Cn={},Sn=Gt[Ie],Ii=!Sn,Kn;Ze&&(In=Nc(qn=ri(me[Vt.formatPrefix+"Format"],me.format))?E0(qn,Vt,gt):(me[Vt.formatPrefix+"Formatter"]||me.formatter).call(Vt,me),Ns=me.rotation,!gt.styledMode&&(Je.color=ri(me.color,Je.color,hp(at.color)?at.color:void 0,"#000000"),Je.color==="contrast"?(en!=="none"&&(Kn=en),Vt.contrastColor=_t.getContrast(Kn!=="auto"&&hp(Kn)&&Kn||(hp(pe)?pe:"")),Je.color=Kn||!Nc(Be)&&me.inside||0>Mi(Be||0)||pt.stacking?Vt.contrastColor:jt):delete Vt.contrastColor,pt.cursor&&(Je.cursor=pt.cursor)),Cn={r:me.borderRadius||0,rotation:Ns,padding:me.padding,zIndex:1},gt.styledMode||(Cn.fill=en==="auto"?Vt.color:en,Cn.stroke=De==="auto"?Vt.color:De,Cn["stroke-width"]=me.borderWidth),jr(Cn,(br,Ni)=>{br===void 0&&delete Cn[Ni]})),!Sn||Ze&&Nc(In)&&!!(Sn.div||Sn.text?.foreignObject)==!!me.useHTML&&(Sn.rotation&&me.rotation||Sn.rotation===me.rotation)||(Sn=void 0,Ii=!0),Ze&&Nc(In)&&In!==""&&(Sn?Cn.text=In:(Sn=_t.label(In,0,0,me.shape,void 0,void 0,me.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Vt.colorIndex+" "+(me.className||"")+(me.useHTML?" highcharts-tracker":"")),Sn&&(Sn.options=me,Sn.attr(Cn),gt.styledMode?Je.width&&Sn.css({width:Je.width,textOverflow:Je.textOverflow,whiteSpace:Je.whiteSpace}):Sn.css(Je).shadow(me.shadow),Yf(Sn,"beforeAddingDataLabel",{labelOptions:me,point:Vt}),Sn.added||Sn.add(tt),at.alignDataLabel(Vt,Sn,me,void 0,Ii),Sn.isActive=!0,Gt[Ie]&&Gt[Ie]!==Sn&&Gt[Ie].destroy(),Gt[Ie]=Sn))});let ye=Gt.length;for(;ye--;)Gt[ye]?.isActive?Gt[ye].isActive=!1:(Gt[ye]?.destroy(),Gt.splice(ye,1));Vt.dataLabel=Gt[0],Vt.dataLabels=Gt})),Yf(this,"afterDrawDataLabels")}function I(it,tt,at,gt,pt,_t){let wt=this.chart,bt=tt.align,jt=tt.verticalAlign,Dt=it.box?0:it.padding||0,zt=wt.inverted?this.yAxis:this.xAxis,Ut=zt?zt.left-wt.plotLeft:0,$t=wt.inverted?this.xAxis:this.yAxis,Vt=$t?$t.top-wt.plotTop:0,{x:Gt=0,y:pe=0}=tt,ye,me;return(ye=(at.x||0)+Dt+Ut)<0&&(bt==="right"&&Gt>=0?(tt.align="left",tt.inside=!0):Gt-=ye,me=!0),(ye=(at.x||0)+gt.width-Dt+Ut)>wt.plotWidth&&(bt==="left"&&Gt<=0?(tt.align="right",tt.inside=!0):Gt+=wt.plotWidth-ye,me=!0),(ye=at.y+Dt+Vt)<0&&(jt==="bottom"&&pe>=0?(tt.verticalAlign="top",tt.inside=!0):pe-=ye,me=!0),(ye=(at.y||0)+gt.height-Dt+Vt)>wt.plotHeight&&(jt==="top"&&pe<=0?(tt.verticalAlign="bottom",tt.inside=!0):pe+=wt.plotHeight-ye,me=!0),me&&(tt.x=Gt,tt.y=pe,it.placed=!_t,it.align(tt,void 0,pt)),me}function B(it,tt){let at=[],gt;if(Wh(it)&&!Wh(tt))at=it.map(function(pt){return Ri(pt,tt)});else if(Wh(tt)&&!Wh(it))at=tt.map(function(pt){return Ri(it,pt)});else if(Wh(it)||Wh(tt)){if(Wh(it)&&Wh(tt))for(gt=Math.max(it.length,tt.length);gt--;)at[gt]=Ri(it[gt],tt[gt])}else at=Ri(it,tt);return at}function U(it){let tt=it.chart.options.plotOptions;return ur(B(B(tt?.series?.dataLabels,tt?.[it.type]?.dataLabels),it.options.dataLabels))}function Q(it,tt,at,gt,pt){let _t=this.chart,wt=_t.inverted,bt=this.xAxis,jt=bt.reversed,Dt=((wt?tt.height:tt.width)||0)/2,zt=it.pointWidth,Ut=zt?zt/2:0;tt.startXPos=wt?pt.x:jt?-Dt-Ut:bt.width-Dt+Ut,tt.startYPos=wt?jt?this.yAxis.height-Dt+Ut:-Dt-Ut:pt.y,gt?tt.visibility==="hidden"&&(tt.show(),tt.attr({opacity:0}).animate({opacity:1})):tt.attr({opacity:1}).animate({opacity:0},void 0,tt.hide),_t.hasRendered&&(at&&tt.attr({x:tt.startXPos,y:tt.startYPos}),tt.placed=!0)}q.compose=function(it){let tt=it.prototype;tt.initDataLabels||(tt.initDataLabels=D,tt.initDataLabelsGroup=C,tt.alignDataLabel=b,tt.drawDataLabels=O,tt.justifyDataLabel=I,tt.mergeArrays=B,tt.setDataLabelStartPos=Q,tt.hasDataLabels=m)}})(k||(k={}));let Xs=k,{composed:Uh}=Y,{series:$d}=Hr,{merge:Nv,pushUnique:Pc}=ue;(function(q){function m(b,C,D,O,I){let{chart:B,options:U}=this,Q=B.inverted,it=this.xAxis?.len||B.plotSizeX||0,tt=this.yAxis?.len||B.plotSizeY||0,at=b.dlBox||b.shapeArgs,gt=b.below??(b.plotY||0)>(this.translatedThreshold??tt),pt=D.inside??!!U.stacking;if(at){if(O=Nv(at),D.overflow!=="allow"||D.crop!==!1||U.clip!==!1){O.y<0&&(O.height+=O.y,O.y=0);let _t=O.y+O.height-tt;_t>0&&_t<O.height-1&&(O.height-=_t)}Q&&(O={x:tt-O.y-O.height,y:it-O.x-O.width,width:O.height,height:O.width}),pt||(Q?(O.x+=gt?0:O.width,O.width=0):(O.y+=gt?O.height:0,O.height=0))}D.align??(D.align=!Q||pt?"center":gt?"right":"left"),D.verticalAlign??(D.verticalAlign=Q||pt?"middle":gt?"top":"bottom"),$d.prototype.alignDataLabel.call(this,b,C,D,O,I),D.inside&&b.contrastColor&&C.css({color:b.contrastColor})}q.compose=function(b){Xs.compose($d),Pc(Uh,"ColumnDataLabel")&&(b.prototype.alignDataLabel=m)}})(A||(A={}));let ya=A,{extend:Yh,merge:Vd}=ue;class dp extends Zu{}dp.defaultOptions=Vd(Zu.defaultOptions,{}),Yh(dp.prototype,{inverted:!0}),Hr.registerSeriesType("bar",dp);let{column:hl,line:Xd}=Hr.seriesTypes,{addEvent:fp,extend:Fo,merge:Pv}=ue;class $h extends Xd{applyJitter(){let m=this,b=this.options.jitter,C=this.points.length;b&&this.points.forEach(function(D,O){["x","y"].forEach(function(I,B){if(b[I]&&!D.isNull){let U=`plot${I.toUpperCase()}`,Q=m[`${I}Axis`],it=b[I]*Q.transA;if(Q&&!Q.logarithmic){let tt=Math.max(0,(D[U]||0)-it),at=Math.min(Q.len,(D[U]||0)+it);D[U]=tt+(at-tt)*(function(gt){let pt=1e4*Math.sin(gt);return pt-Math.floor(pt)})(O+B*C),I==="x"&&(D.clientX=D.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}$h.defaultOptions=Pv(Xd.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Fo($h.prototype,{drawTracker:hl.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),fp($h,"afterTranslate",function(){this.applyJitter()}),Hr.registerSeriesType("scatter",$h);let{deg2rad:Ev}=Y,{fireEvent:qd,isNumber:$f,pick:Ec,relativeLength:es}=ue;(function(q){q.getCenter=function(){let m=this.options,b=this.chart,C=2*(m.slicedOffset||0),D=b.plotWidth-2*C,O=b.plotHeight-2*C,I=m.center,B=Math.min(D,O),U=m.thickness,Q,it=m.size,tt=m.innerSize||0,at,gt;typeof it=="string"&&(it=parseFloat(it)),typeof tt=="string"&&(tt=parseFloat(tt));let pt=[Ec(I?.[0],"50%"),Ec(I?.[1],"50%"),Ec(it&&it<0?void 0:m.size,"100%"),Ec(tt&&tt<0?void 0:m.innerSize||0,"0%")];for(!b.angular||this instanceof Ys||(pt[3]=0),at=0;at<4;++at)gt=pt[at],Q=at<2||at===2&&/%$/.test(gt),pt[at]=es(gt,[D,O,B,pt[2]][at])+(Q?C:0);return pt[3]>pt[2]&&(pt[3]=pt[2]),$f(U)&&2*U<pt[2]&&U>0&&(pt[3]=pt[2]-2*U),qd(this,"afterGetCenter",{positions:pt}),pt},q.getStartAndEndRadians=function(m,b){let C=$f(m)?m:0,D=$f(b)&&b>C&&b-C<360?b:C+360;return{start:Ev*(C+-90),end:Ev*(D+-90)}}})(T||(T={}));let Qu=T,{setAnimation:Vf}=ni,{addEvent:hu,defined:jv,extend:Dv,isNumber:j0,pick:gp,relativeLength:Ov}=ue;class Bo extends zl{getConnectorPath(m){let b=m.dataLabelPosition,C=m.options||{},D=C.connectorShape,O=this.connectorShapes[D]||D;return b&&O.call(this,{...b.computed,alignment:b.alignment},b.connectorPosition,C)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(m){let b=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(b.x,b.y,b.r+m,b.r+m,{innerR:b.r-1,start:b.start,end:b.end,borderRadius:b.borderRadius})}constructor(m,b,C){super(m,b,C),this.half=0,this.name??(this.name=m.chart.options.lang.pieSliceName);let D=O=>{this.slice(O.type==="select")};hu(this,"select",D),hu(this,"unselect",D)}isValid(){return j0(this.y)&&this.y>=0}setVisible(m,b=!0){m!==this.visible&&this.update({visible:m??!this.visible},b,void 0,!1)}slice(m,b,C){let D=this.series;Vf(C,D.chart),b=gp(b,!0),this.sliced=this.options.sliced=m=jv(m)?m:!this.sliced,D.options.data[D.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Dv(Bo.prototype,{connectorShapes:{fixedOffset:function(q,m,b){let C=m.breakAt,D=m.touchingSliceAt,O=b.softConnector?["C",q.x+(q.alignment==="left"?-5:5),q.y,2*C.x-D.x,2*C.y-D.y,C.x,C.y]:["L",C.x,C.y];return[["M",q.x,q.y],O,["L",D.x,D.y]]},straight:function(q,m){let b=m.touchingSliceAt;return[["M",q.x,q.y],["L",b.x,b.y]]},crookedLine:function(q,m,b){let{angle:C=this.angle||0,breakAt:D,touchingSliceAt:O}=m,{series:I}=this,[B,U,Q]=I.center,it=Q/2,{plotLeft:tt,plotWidth:at}=I.chart,gt=q.alignment==="left",{x:pt,y:_t}=q,wt=D.x;if(b.crookDistance){let jt=Ov(b.crookDistance,1);wt=gt?B+it+(at+tt-B-it)*(1-jt):tt+(B-it)*jt}else wt=B+(U-_t)*Math.tan(C-Math.PI/2);let bt=[["M",pt,_t]];return(gt?wt<=pt&&wt>=D.x:wt>=pt&&wt<=D.x)&&bt.push(["L",wt,_t]),bt.push(["L",D.x,D.y],["L",O.x,O.y]),bt}}});let{getStartAndEndRadians:D0}=Qu,{noop:mo}=Y,{clamp:O0,extend:L0,fireEvent:Lv,merge:jc,pick:Jm}=ue;class pp extends Ys{animate(m){let b=this,C=b.points,D=b.startAngleRad;m||C.forEach(function(O){let I=O.graphic,B=O.shapeArgs;I&&B&&(I.attr({r:Jm(O.startR,b.center&&b.center[3]/2),start:D,end:D}),I.animate({r:B.r,start:B.start,end:B.end},b.options.animation))})}drawEmpty(){let m,b,C=this.startAngleRad,D=this.endAngleRad,O=this.options;this.total===0&&this.center?(m=this.center[0],b=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(m,b,this.center[1]/2,0,C,D).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Pl.arc(m,b,this.center[2]/2,0,{start:C,end:D,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":O.borderWidth,fill:O.fillColor||"none",stroke:O.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let m=this.chart.renderer;this.points.forEach(function(b){b.graphic&&b.hasNewShapeType()&&(b.graphic=b.graphic.destroy()),b.graphic||(b.graphic=m[b.shapeType](b.shapeArgs).add(b.series.group),b.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(m,b,C,D){let O=this.center,I=this.radii?this.radii[C.index]||0:O[2]/2,B=D.dataLabelPosition,U=B?.distance||0,Q=Math.asin(O0((m-O[1])/(I+U),-1,1));return O[0]+Math.cos(Q)*(I+U)*(b?-1:1)+(U>0?(b?-1:1)*(D.padding||0):0)}hasData(){return this.points.some(m=>m.visible)}redrawPoints(){let m,b,C,D,O=this,I=O.chart;this.drawEmpty(),O.group&&!I.styledMode&&O.group.shadow(O.options.shadow),O.points.forEach(function(B){let U={};b=B.graphic,!B.isNull&&b?(D=B.shapeArgs,m=B.getTranslate(),I.styledMode||(C=O.pointAttribs(B,B.selected&&"select")),B.delayedRendering?(b.setRadialReference(O.center).attr(D).attr(m),I.styledMode||b.attr(C).attr({"stroke-linejoin":"round"}),B.delayedRendering=!1):(b.setRadialReference(O.center),I.styledMode||jc(!0,U,C),jc(!0,U,D,m),b.animate(U)),b.attr({visibility:B.visible?"inherit":"hidden"}),b.addClass(B.getClassName(),!0)):b&&(B.graphic=b.destroy())})}sortByAngle(m,b){m.sort(function(C,D){return C.angle!==void 0&&(D.angle-C.angle)*b})}translate(m){Lv(this,"translate"),this.generatePoints();let b=this.options,C=b.slicedOffset,D=D0(b.startAngle,b.endAngle),O=this.startAngleRad=D.start,I=(this.endAngleRad=D.end)-O,B=this.points,U=b.ignoreHiddenPoint,Q=B.length,it,tt,at,gt,pt,_t,wt,bt=0;for(m||(this.center=m=this.getCenter()),_t=0;_t<Q;_t++){wt=B[_t],it=O+bt*I,wt.isValid()&&(!U||wt.visible)&&(bt+=wt.percentage/100),tt=O+bt*I;let jt={x:m[0],y:m[1],r:m[2]/2,innerR:m[3]/2,start:Math.round(1e3*it)/1e3,end:Math.round(1e3*tt)/1e3};wt.shapeType="arc",wt.shapeArgs=jt,(at=(tt+it)/2)>1.5*Math.PI?at-=2*Math.PI:at<-Math.PI/2&&(at+=2*Math.PI),wt.slicedTranslation={translateX:Math.round(Math.cos(at)*C),translateY:Math.round(Math.sin(at)*C)},gt=Math.cos(at)*m[2]/2,pt=Math.sin(at)*m[2]/2,wt.tooltipPos=[m[0]+.7*gt,m[1]+.7*pt],wt.half=+(at<-Math.PI/2||at>Math.PI/2),wt.angle=at}Lv(this,"afterTranslate")}updateTotals(){let m=this.points,b=m.length,C=this.options.ignoreHiddenPoint,D,O,I=0;for(D=0;D<b;D++)(O=m[D]).isValid()&&(!C||O.visible)&&(I+=O.y);for(D=0,this.total=I;D<b;D++)(O=m[D]).percentage=I>0&&(O.visible||!C)?O.y/I*100:0,O.total=I}}pp.defaultOptions=jc(Ys.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),L0(pp.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Zu.prototype.drawTracker,getCenter:Qu.getCenter,getSymbol:mo,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Zu.prototype.pointAttribs,pointClass:Bo,requireSorting:!1,searchPoint:mo,trackerGroups:["group","dataLabelsGroup"]}),Hr.registerSeriesType("pie",pp);let{composed:Xf,noop:R0}=Y,{distribute:mp}=Tn,{series:Rv}=Hr,{arrayMax:I0,clamp:yp,defined:ty,isNumber:L1,pick:R1,pushUnique:I1,relativeLength:Iv}=ue;(function(q){let m={radialDistributionY:function(I,B){return(B.dataLabelPosition?.top||0)+I.distributeBox.pos},radialDistributionX:function(I,B,U,Q,it){let tt=it.dataLabelPosition;return I.getX(U<(tt?.top||0)+2||U>(tt?.bottom||0)-2?Q:U,B.half,B,it)},justify:function(I,B,U,Q){return Q[0]+(I.half?-1:1)*(U+(B.dataLabelPosition?.distance||0))},alignToPlotEdges:function(I,B,U,Q){let it=I.getBBox().width;return B?it+Q:U-it-Q},alignToConnectors:function(I,B,U,Q){let it=0,tt;return I.forEach(function(at){(tt=at.dataLabel.getBBox().width)>it&&(it=tt)}),B?it+Q:U-it-Q}};function b(I,B){let U=Math.PI/2,{start:Q=0,end:it=0}=I.shapeArgs||{},tt=I.angle||0;B>0&&Q<U&&it>U&&tt>U/2&&tt<1.5*U&&(tt=tt<=U?Math.max(U/2,(Q+U)/2):Math.min(1.5*U,(U+it)/2));let{center:at,options:gt}=this,pt=at[2]/2,_t=Math.cos(tt),wt=Math.sin(tt),bt=at[0]+_t*pt,jt=at[1]+wt*pt,Dt=Math.min((gt.slicedOffset||0)+(gt.borderWidth||0),B/5);return{natural:{x:bt+_t*B,y:jt+wt*B},computed:{},alignment:B<0?"center":I.half?"right":"left",connectorPosition:{angle:tt,breakAt:{x:bt+_t*Dt,y:jt+wt*Dt},touchingSliceAt:{x:bt,y:jt}},distance:B}}function C(){let I=this,B=I.points,U=I.chart,Q=U.plotWidth,it=U.plotHeight,tt=U.plotLeft,at=Math.round(U.chartWidth/3),gt=I.center,pt=gt[2]/2,_t=gt[1],wt=[[],[]],bt=[0,0,0,0],jt=I.dataLabelPositioners,Dt,zt,Ut,$t=0;I.visible&&I.hasDataLabels?.()&&(B.forEach(Vt=>{(Vt.dataLabels||[]).forEach(Gt=>{Gt.shortened&&(Gt.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Gt.shortened=!1)})}),Rv.prototype.drawDataLabels.apply(I),B.forEach(Vt=>{(Vt.dataLabels||[]).forEach((Gt,pe)=>{let ye=gt[2]/2,me=Gt.options,Ie=Iv(me?.distance||0,ye);pe===0&&wt[Vt.half].push(Vt),!ty(me?.style?.width)&&Gt.getBBox().width>at&&(Gt.css({width:Math.round(.7*at)+"px"}),Gt.shortened=!0),Gt.dataLabelPosition=this.getDataLabelPosition(Vt,Ie),$t=Math.max($t,Ie)})}),wt.forEach((Vt,Gt)=>{let pe=Vt.length,ye=[],me,Ie,Ze=0,en;pe&&(I.sortByAngle(Vt,Gt-.5),$t>0&&(me=Math.max(0,_t-pt-$t),Ie=Math.min(_t+pt+$t,U.plotHeight),Vt.forEach(De=>{(De.dataLabels||[]).forEach(Be=>{let Je=Be.dataLabelPosition;Je&&Je.distance>0&&(Je.top=Math.max(0,_t-pt-Je.distance),Je.bottom=Math.min(_t+pt+Je.distance,U.plotHeight),Ze=Be.getBBox().height||21,Be.lineHeight=U.renderer.fontMetrics(Be.text||Be).h+2*Be.padding,De.distributeBox={target:(Be.dataLabelPosition?.natural.y||0)-Je.top+Be.lineHeight/2,size:Ze,rank:De.y},ye.push(De.distributeBox))})}),mp(ye,en=Ie+Ze-me,en/5)),Vt.forEach(De=>{(De.dataLabels||[]).forEach(Be=>{let Je=Be.options||{},qn=De.distributeBox,In=Be.dataLabelPosition,Ns=In?.natural.y||0,Cn=Je.connectorPadding||0,Sn=Be.lineHeight||21,Ii=(Sn-Be.getBBox().height)/2,Kn=0,br=Ns,Ni="inherit";if(In){if(ye&&ty(qn)&&In.distance>0&&(qn.pos===void 0?Ni="hidden":(Ut=qn.size,br=jt.radialDistributionY(De,Be))),Je.justify)Kn=jt.justify(De,Be,pt,gt);else switch(Je.alignTo){case"connectors":Kn=jt.alignToConnectors(Vt,Gt,Q,tt);break;case"plotEdges":Kn=jt.alignToPlotEdges(Be,Gt,Q,tt);break;default:Kn=jt.radialDistributionX(I,De,br-Ii,Ns,Be)}if(In.attribs={visibility:Ni,align:In.alignment},In.posAttribs={x:Kn+(Je.x||0)+({left:Cn,right:-Cn}[In.alignment]||0),y:br+(Je.y||0)-Sn/2},In.computed.x=Kn,In.computed.y=br-Ii,R1(Je.crop,!0)){let Fe;Kn-(zt=Be.getBBox().width)<Cn&&Gt===1?(Fe=Math.round(zt-Kn+Cn),bt[3]=Math.max(Fe,bt[3])):Kn+zt>Q-Cn&&Gt===0&&(Fe=Math.round(Kn+zt-Q+Cn),bt[1]=Math.max(Fe,bt[1])),br-Ut/2<0?bt[0]=Math.max(Math.round(-br+Ut/2),bt[0]):br+Ut/2>it&&(bt[2]=Math.max(Math.round(br+Ut/2-it),bt[2])),In.sideOverflow=Fe}}})}))}),(I0(bt)===0||this.verifyDataLabelOverflow(bt))&&(this.placeDataLabels(),this.points.forEach(Vt=>{(Vt.dataLabels||[]).forEach(Gt=>{let{connectorColor:pe,connectorWidth:ye=1}=Gt.options||{},me=Gt.dataLabelPosition;if(L1(ye)){let Ie;Dt=Gt.connector,me&&me.distance>0?(Ie=!Dt,Dt||(Gt.connector=Dt=U.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Vt.colorIndex+(Vt.className?" "+Vt.className:"")).add(I.dataLabelsGroup)),U.styledMode||Dt.attr({"stroke-width":ye,stroke:pe||Vt.color||"#666666"}),Dt[Ie?"attr":"animate"]({d:Vt.getConnectorPath(Gt)}),Dt.attr({visibility:me.attribs?.visibility})):Dt&&(Gt.connector=Dt.destroy())}})})))}function D(){this.points.forEach(I=>{(I.dataLabels||[]).forEach(B=>{let U=B.dataLabelPosition;U?(U.sideOverflow&&(B.css({width:Math.max(B.getBBox().width-U.sideOverflow,0)+"px",textOverflow:B.options?.style?.textOverflow||"ellipsis"}),B.shortened=!0),B.attr(U.attribs),B[B.moved?"animate":"attr"](U.posAttribs),B.moved=!0):B&&B.attr({y:-9999})}),delete I.distributeBox},this)}function O(I){let B=this.center,U=this.options,Q=U.center,it=U.minSize||80,tt=it,at=U.size!==null;return!at&&(Q[0]!==null?tt=Math.max(B[2]-Math.max(I[1],I[3]),it):(tt=Math.max(B[2]-I[1]-I[3],it),B[0]+=(I[3]-I[1])/2),Q[1]!==null?tt=yp(tt,it,B[2]-Math.max(I[0],I[2])):(tt=yp(tt,it,B[2]-I[0]-I[2]),B[1]+=(I[0]-I[2])/2),tt<B[2]?(B[2]=tt,B[3]=Math.min(U.thickness?Math.max(0,tt-2*U.thickness):Math.max(0,Iv(U.innerSize||0,tt)),tt),this.translate(B),this.drawDataLabels&&this.drawDataLabels()):at=!0),at}q.compose=function(I){if(Xs.compose(Rv),I1(Xf,"PieDataLabel")){let B=I.prototype;B.dataLabelPositioners=m,B.alignDataLabel=R0,B.drawDataLabels=C,B.getDataLabelPosition=b,B.placeDataLabels=D,B.verifyDataLabelOverflow=O}}})(R||(R={}));let z0=R;(function(q){q.getCenterOfPoints=function(m){let b=m.reduce((C,D)=>(C.x+=D.x,C.y+=D.y,C),{x:0,y:0});return{x:b.x/m.length,y:b.y/m.length}},q.getDistanceBetweenPoints=function(m,b){return Math.sqrt(Math.pow(b.x-m.x,2)+Math.pow(b.y-m.y,2))},q.getAngleBetweenPoints=function(m,b){return Math.atan2(b.x-m.x,b.y-m.y)},q.pointInPolygon=function({x:m,y:b},C){let D=C.length,O,I,B=!1;for(O=0,I=D-1;O<D;I=O++){let[U,Q]=C[O],[it,tt]=C[I];Q>b!=tt>b&&m<(it-U)*(b-Q)/(tt-Q)+U&&(B=!B)}return B}})(G||(G={}));let{pointInPolygon:qf}=G,{addEvent:ey,getAlignFactor:vp,fireEvent:zv,objectEach:ny,pick:Fv}=ue;function iy(q){let m=q.length,b=(it,tt)=>!(tt.x>=it.x+it.width||tt.x+tt.width<=it.x||tt.y>=it.y+it.height||tt.y+tt.height<=it.y),C=(it,tt)=>{for(let at of it)if(qf({x:at[0],y:at[1]},tt))return!0;return!1},D,O,I,B,U,Q=!1;for(let it=0;it<m;it++)(D=q[it])&&(D.oldOpacity=D.opacity,D.newOpacity=1,D.absoluteBox=(function(tt){if(tt&&(!tt.alignAttr||tt.placed)){let at=tt.box?0:tt.padding||0,gt=tt.alignAttr||{x:tt.attr("x"),y:tt.attr("y")},{height:pt,polygon:_t,width:wt}=tt.getBBox(),bt=vp(tt.alignValue)*wt;return tt.width=wt,tt.height=pt,{x:gt.x+(tt.parentGroup?.translateX||0)+at-bt,y:gt.y+(tt.parentGroup?.translateY||0)+at,width:wt-2*at,height:pt-2*at,polygon:_t}}})(D));q.sort((it,tt)=>(tt.labelrank||0)-(it.labelrank||0));for(let it=0;it<m;++it){B=(O=q[it])&&O.absoluteBox;let tt=B?.polygon;for(let at=it+1;at<m;++at){U=(I=q[at])&&I.absoluteBox;let gt=!1;if(B&&U&&O!==I&&O.newOpacity!==0&&I.newOpacity!==0&&O.visibility!=="hidden"&&I.visibility!=="hidden"){let pt=U.polygon;if(tt&&pt&&tt!==pt?C(tt,pt)&&(gt=!0):b(B,U)&&(gt=!0),gt){let _t=O.labelrank<I.labelrank?O:I,wt=_t.text;_t.newOpacity=0,wt?.element.querySelector("textPath")&&wt.hide()}}}}for(let it of q)ry(it,this)&&(Q=!0);Q&&zv(this,"afterHideAllOverlappingLabels")}function ry(q,m){let b,C=!1;return q&&(b=q.newOpacity,q.oldOpacity!==b&&(q.hasClass("highcharts-data-label")?(q[b?"removeClass":"addClass"]("highcharts-data-label-hidden"),C=!0,q[q.isOld?"animate":"attr"]({opacity:b},void 0,function(){m.styledMode||q.css({pointerEvents:b?"auto":"none"})}),zv(m,"afterHideOverlappingLabel")):q.attr({opacity:b})),q.isOld=!0),C}function xp(){let q=this,m=[];for(let b of q.labelCollectors||[])m=m.concat(b());for(let b of q.yAxis||[])b.stacking&&b.options.stackLabels&&!b.options.stackLabels.allowOverlap&&ny(b.stacking.stacks,C=>{ny(C,D=>{D.label&&m.push(D.label)})});for(let b of q.series||[])if(b.visible&&b.hasDataLabels?.()){let C=D=>{for(let O of D)O.visible&&(O.dataLabels||[]).forEach(I=>{let B=I.options||{};I.labelrank=Fv(B.labelrank,O.labelrank,O.shapeArgs?.height),B.allowOverlap??Number(B.distance)>0?(I.oldOpacity=I.opacity,I.newOpacity=1,ry(I,q)):m.push(I)})};C(b.nodes||[]),C(b.points)}this.hideOverlappingLabels(m)}let ay={compose:function(q){let m=q.prototype;m.hideOverlappingLabels||(m.hideOverlappingLabels=iy,ey(q,"render",xp))}},{defaultOptions:Bv}=tr,{noop:hr}=Y,{addEvent:sy,extend:z1,isObject:Kf,merge:oy,relativeLength:Hv}=ue,F1={radius:0,scope:"stack",where:void 0},Kd=hr,Vh=hr;function Gv(q,m,b,C,D={}){let O=Kd(q,m,b,C,D),{brStart:I=!0,brEnd:B=!0,innerR:U=0,r:Q=b,start:it=0,end:tt=0}=D;if(D.open||!D.borderRadius)return O;let at=tt-it,gt=Math.sin(at/2),pt=Math.max(Math.min(Hv(D.borderRadius||0,Q-U),(Q-U)/2,Q*gt/(1+gt)),0),_t=Math.min(pt,at/Math.PI*2*U),wt=O.length-1;for(;wt--;)(I||wt!==0&&wt!==3)&&(B||wt!==1&&wt!==2)&&(function(bt,jt,Dt){let zt,Ut,$t,Vt=bt[jt],Gt=bt[jt+1];if(Gt[0]==="Z"&&(Gt=bt[0]),(Vt[0]==="M"||Vt[0]==="L")&&Gt[0]==="A"?(zt=Vt,Ut=Gt,$t=!0):Vt[0]==="A"&&(Gt[0]==="M"||Gt[0]==="L")&&(zt=Gt,Ut=Vt),zt&&Ut&&Ut.params){let pe=Ut[1],ye=Ut[5],me=Ut.params,{start:Ie,end:Ze,cx:en,cy:De}=me,Be=ye?pe-Dt:pe+Dt,Je=Be?Math.asin(Dt/Be):0,qn=ye?Je:-Je,In=Math.cos(Je)*Be;$t?(me.start=Ie+qn,zt[1]=en+In*Math.cos(Ie),zt[2]=De+In*Math.sin(Ie),bt.splice(jt+1,0,["A",Dt,Dt,0,0,1,en+pe*Math.cos(me.start),De+pe*Math.sin(me.start)])):(me.end=Ze-qn,Ut[6]=en+pe*Math.cos(me.end),Ut[7]=De+pe*Math.sin(me.end),bt.splice(jt+1,0,["A",Dt,Dt,0,0,1,en+In*Math.cos(Ze),De+In*Math.sin(Ze)])),Ut[4]=Math.abs(me.end-me.start)<Math.PI?0:1}})(O,wt,wt>1?_t:pt);return O}function ly(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:q,yAxis:m}=this,b=q.stacking==="percent",C=Bv.plotOptions?.[this.type]?.borderRadius,D=bp(q.borderRadius,Kf(C)?C:{}),O=m.options.reversed;for(let I of this.points){let{shapeArgs:B}=I;if(I.shapeType==="roundedRect"&&B){let{width:U=0,height:Q=0,y:it=0}=B,tt=it,at=Q;if(D.scope==="stack"&&I.stackTotal){let wt=m.translate(b?100:I.stackTotal,!1,!0,!1,!0),bt=m.translate(q.threshold||0,!1,!0,!1,!0),jt=this.crispCol(0,Math.min(wt,bt),0,Math.abs(wt-bt));tt=jt.y,at=jt.height}let gt=(I.negative?-1:1)*(O?-1:1)==-1,pt=D.where;!pt&&this.is("waterfall")&&Math.abs((I.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(pt="all"),pt||(pt="end");let _t=Math.min(Hv(D.radius,U),U/2,pt==="all"?Q/2:1/0)||0;pt==="end"&&(gt&&(tt-=_t),at+=_t),z1(B,{brBoxHeight:at,brBoxY:tt,r:_t})}}}}function bp(q,m){return Kf(q)||(q={radius:q||0}),oy(F1,m,q)}function Xh(){let q=bp(this.options.borderRadius);for(let m of this.points){let b=m.shapeArgs;b&&(b.borderRadius=Hv(q.radius,(b.r||0)-(b.innerR||0)))}}function du(q,m,b,C,D={}){let O=Vh(q,m,b,C,D),{r:I=0,brBoxHeight:B=C,brBoxY:U=m}=D,Q=m-U,it=U+B-(m+C),tt=Q-I>-.1?0:I,at=it-I>-.1?0:I,gt=Math.max(tt&&Q,0),pt=Math.max(at&&it,0),_t=[q+tt,m],wt=[q+b-tt,m],bt=[q+b,m+tt],jt=[q+b,m+C-at],Dt=[q+b-at,m+C],zt=[q+at,m+C],Ut=[q,m+C-at],$t=[q,m+tt],Vt=(Gt,pe)=>Math.sqrt(Math.pow(Gt,2)-Math.pow(pe,2));if(gt){let Gt=Vt(tt,tt-gt);_t[0]-=Gt,wt[0]+=Gt,bt[1]=$t[1]=m+tt-gt}if(C<tt-gt){let Gt=Vt(tt,tt-gt-C);bt[0]=jt[0]=q+b-tt+Gt,Dt[0]=Math.min(bt[0],Dt[0]),zt[0]=Math.max(jt[0],zt[0]),Ut[0]=$t[0]=q+tt-Gt,bt[1]=$t[1]=m+C}if(pt){let Gt=Vt(at,at-pt);Dt[0]+=Gt,zt[0]-=Gt,jt[1]=Ut[1]=m+C-at+pt}if(C<at-pt){let Gt=Vt(at,at-pt-C);bt[0]=jt[0]=q+b-at+Gt,wt[0]=Math.min(bt[0],wt[0]),_t[0]=Math.max(jt[0],_t[0]),Ut[0]=$t[0]=q+at-Gt,jt[1]=Ut[1]=m}return O.length=0,O.push(["M",..._t],["L",...wt],["A",tt,tt,0,0,1,...bt],["L",...jt],["A",at,at,0,0,1,...Dt],["L",...zt],["A",at,at,0,0,1,...Ut],["L",...$t],["A",tt,tt,0,0,1,..._t],["Z"]),O}let{diffObjects:wp,extend:B1,find:F0,merge:B0,pick:_p,uniqueKey:H0}=ue;(function(q){function m(C,D){let O=C.condition;(O.callback||function(){return this.chartWidth<=_p(O.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=_p(O.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=_p(O.minWidth,0)&&this.chartHeight>=_p(O.minHeight,0)}).call(this)&&D.push(C._id)}function b(C,D){let O=this.options.responsive,I=this.currentResponsive,B=[],U;!D&&O&&O.rules&&O.rules.forEach(tt=>{tt._id===void 0&&(tt._id=H0()),this.matchResponsiveRule(tt,B)},this);let Q=B0(...B.map(tt=>F0(O?.rules||[],at=>at._id===tt)).map(tt=>tt?.chartOptions));Q.isResponsiveOptions=!0,B=B.toString()||void 0;let it=I?.ruleIds;B!==it&&(I&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(I.undoOptions,C,!0),this.updatingResponsive=!1),B?((U=wp(Q,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:B,mergedOptions:Q,undoOptions:U},this.updatingResponsive||this.update(Q,C,!0)):this.currentResponsive=void 0)}q.compose=function(C){let D=C.prototype;return D.matchResponsiveRule||B1(D,{matchResponsiveRule:m,setResponsive:b}),C}})(z||(z={}));let H1=z;Y.AST=Yi,Y.Axis=rr,Y.Chart=Wl,Y.Color=We,Y.DataLabel=Xs,Y.DataTableCore=Rh,Y.Fx=Pe,Y.HTMLElement=wn,Y.Legend=Om,Y.LegendSymbol=Rd,Y.OverlappingDataLabels=Y.OverlappingDataLabels||ay,Y.PlotLineOrBand=eu,Y.Point=zl,Y.Pointer=Ta,Y.RendererRegistry=Ot,Y.Series=Ys,Y.SeriesRegistry=Hr,Y.StackItem=S0,Y.SVGElement=el,Y.SVGRenderer=Af,Y.Templating=At,Y.Tick=Za,Y.Time=kn,Y.Tooltip=Hg,Y.animate=ni.animate,Y.animObject=ni.animObject,Y.chart=Wl.chart,Y.color=We.parse,Y.dateFormat=At.dateFormat,Y.defaultOptions=tr.defaultOptions,Y.distribute=Tn.distribute,Y.format=At.format,Y.getDeferredAnimation=ni.getDeferredAnimation,Y.getOptions=tr.getOptions,Y.numberFormat=At.numberFormat,Y.seriesType=Hr.seriesType,Y.setAnimation=ni.setAnimation,Y.setOptions=tr.setOptions,Y.stop=ni.stop,Y.time=tr.defaultTime,Y.timers=Pe.timers,{compose:function(q,m,b){let C=q.types.pie;if(!m.symbolCustomAttribs.includes("borderRadius")){let D=b.prototype.symbols;sy(q,"afterColumnTranslate",ly,{order:9}),sy(C,"afterTranslate",Xh),m.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),Kd=D.arc,Vh=D.roundedRect,D.arc=Gv,D.roundedRect=du}},optionsToObject:bp}.compose(Y.Series,Y.SVGElement,Y.SVGRenderer),ya.compose(Y.Series.types.column),Xs.compose(Y.Series),Zc.compose(Y.Axis),wn.compose(Y.SVGRenderer),Om.compose(Y.Chart),Mh.compose(Y.Axis),ay.compose(Y.Chart),z0.compose(Y.Series.types.pie),eu.compose(Y.Chart,Y.Axis),Ta.compose(Y.Chart),H1.compose(Y.Chart),Xu.compose(Y.Axis,Y.Chart,Y.Series),_v.compose(Y.Axis,Y.Chart,Y.Series),Hg.compose(Y.Pointer),ue.extend(Y,ue);let dl=Y;return H.default})())})(MC)),MC.exports}var gPt=fPt();const pPt=Al(gPt);var NC={exports:{}},mPt=NC.exports,q4;function yPt(){return q4||(q4=1,(function(n,t){(function(e,i){n.exports=i($x())})(typeof self<"u"?self:mPt,function(e){return(function(i){function r(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var a={};return r.m=i,r.c=a,r.d=function(s,o,l){r.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(o,"a",o),o},r.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},r.p="",r(r.s=0)})([function(i,r,a){function s(){return s=Object.assign?Object.assign.bind():function(T){for(var R=1;R<arguments.length;R++){var G=arguments[R];for(var z in G)Object.prototype.hasOwnProperty.call(G,z)&&(T[z]=G[z])}return T},s.apply(this,arguments)}function o(T){return d(T)||h(T)||c(T)||l()}function l(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(T,R){if(T){if(typeof T=="string")return g(T,R);var G=Object.prototype.toString.call(T).slice(8,-1);return G==="Object"&&T.constructor&&(G=T.constructor.name),G==="Map"||G==="Set"?Array.from(T):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?g(T,R):void 0}}function h(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}function d(T){if(Array.isArray(T))return g(T)}function g(T,R){(R==null||R>T.length)&&(R=T.length);for(var G=0,z=new Array(R);G<R;G++)z[G]=T[G];return z}function y(T){"@babel/helpers - typeof";return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(T)}Object.defineProperty(r,"__esModule",{value:!0}),a.d(r,"HighchartsReact",function(){return A});var x=a(1),w=a.n(x),k=typeof window<"u"?x.useLayoutEffect:x.useEffect,A=Object(x.memo)(Object(x.forwardRef)(function(T,R){var G=Object(x.useRef)(),z=Object(x.useRef)(),F=Object(x.useRef)(T.constructorType),H=Object(x.useRef)(T.highcharts);return k(function(){function Y(){var nt=T.highcharts||(typeof window>"u"?"undefined":y(window))==="object"&&window.Highcharts,V=T.constructorType||"chart";nt?nt[V]?T.options?z.current=nt[V](G.current,T.options,T.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(z.current){if(T.allowChartUpdate!==!1)if(T.constructorType!==F.current||T.highcharts!==H.current)F.current=T.constructorType,H.current=T.highcharts,Y();else if(!T.immutable&&z.current){var J;(J=z.current).update.apply(J,[T.options].concat(o(T.updateArgs||[!0,!0])))}else Y()}else Y()},[T.options,T.allowChartUpdate,T.updateArgs,T.containerProps,T.highcharts,T.constructorType]),k(function(){return function(){z.current&&(z.current.destroy(),z.current=null)}},[]),Object(x.useImperativeHandle)(R,function(){return{get chart(){return z.current},container:G}},[]),w.a.createElement("div",s({},T.containerProps,{ref:G}))}));r.default=A},function(i,r){i.exports=e}])})})(NC)),NC.exports}var vPt=yPt();const xPt=Al(vPt);function fq({rawData:n,isMini:t=!0}){const e=N.useMemo(()=>{if(!n||n.length===0)return{};const i=n.map(s=>({x:new Date(s.x).getTime(),y:s.y})),a=i[0].y;return{chart:{type:"area",width:t?170:null,height:t?120:null,backgroundColor:t?"transparent":"#FFFFFF",margin:t?[0,0,0,0]:void 0,spacing:t?[0,0,0,0]:[10,10,15,10]},title:{text:""},credits:{enabled:!1},legend:{enabled:!1},xAxis:{visible:!t,type:"datetime",labels:{format:"{value:%H:%M}",style:{color:"#999"}},lineWidth:0,tickWidth:0},yAxis:{visible:!t,title:{text:null},gridLineColor:"#eee",gridLineDashStyle:"Dashed",softMin:a-.5,softMax:a+.5,plotLines:[{value:a,color:"#666",width:1,dashStyle:"ShortDot",zIndex:5,label:{text:`Ref: ${a}`,align:"right",style:{color:"#666",fontSize:"10px"}}}]},tooltip:{enabled:!t},plotOptions:{area:{marker:{enabled:!1},lineWidth:2,states:{hover:{enabled:!0}}}},series:[{name:"Gi",data:i,threshold:a,color:"rgba(34, 197, 94, 0.7)",lineColor:"#16a34a",negativeColor:"rgba(239, 68, 68, 0.7)",negativeFillColor:"rgba(239, 68, 68, 0.7)"}]}},[n]);return u.jsx("div",{style:{border:t?"1px solid #e5e7eb":"",borderRadius:t?"12px":"0px",width:t?"170px":"100%",height:t?"120px":"100%",overflow:t?"hidden":"none"},children:u.jsx(xPt,{highcharts:pPt,options:e})})}function bPt({setIsShowFullChart:n,chartSelect:t,navigate:e,setChartSelect:i}){const r=no();return u.jsxs("div",{className:"modal-overlay",onClick:a=>{a.target===a.currentTarget&&(n(!1),i(null),e(r.pathname))},children:[u.jsx("div",{className:"modal-close",onClick:()=>{n(!1),i(null),e(r.pathname)},children:"X"}),u.jsxs("div",{style:{width:"100%",height:"80vh"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"40px"},children:t?.name}),u.jsx(fq,{rawData:t?.data,isMini:!1})]})]})}function gq({data:n=[],zoomable:t=!1}){const[e]=yf(),i=e.get("name"),[r,a]=N.useState(!1),[s,o]=N.useState(null),l=Gi(),c=no();N.useEffect(()=>{if(i&&n.length>0){const d=n.find(g=>g.name===i);d&&(o(d),a(!0))}},[i,n]);const h=d=>(d?new Date(d):new Date).toLocaleString("vi-VN",{timeZone:"Asia/Ho_Chi_Minh",hour:"2-digit",minute:"2-digit",second:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"});return u.jsxs("div",{style:{width:"100%",minHeight:"100vh",marginTop:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[u.jsx("h3",{style:{color:"#08F405",fontWeight:600,marginBottom:20,textAlign:"center"},children:"Theo di ETF mi nht trong ngy"}),u.jsx("div",{style:{minHeight:480,width:"100%",display:"flex",gap:20,flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"},children:n.length>0?n.map((d,g)=>{const y=Array.isArray(d?.data)?d.data:[];return u.jsxs("div",{style:{width:"calc(50% - 20px)",marginBottom:30,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{t&&(a(!0),l({pathname:c.pathname,search:`?name=${d?.name}`}))},children:[u.jsx("p",{style:{fontSize:12,color:"#fff",marginBottom:8},children:d?.name}),u.jsx(fq,{rawData:y}),u.jsx("div",{style:{fontSize:11,color:"#08F405",marginTop:10,fontWeight:"bold",border:"1px solid rgba(8, 244, 5, 0.4)",padding:"4px 10px",borderRadius:"4px",display:"inline-block"},children:h(d?.date)})]},g)}):u.jsx("div",{style:{color:"#fff",textAlign:"center"},children:"ang ti d liu..."})}),r&&s&&u.jsx(bPt,{setIsShowFullChart:a,chartSelect:s,setChartSelect:o,navigate:l})]})}function wPt(n,t,e){const i=`wss://api.mobile.stock-data-subscriptions.justetf.com/?subscription=trend&parameters=isins:${n}/currency:EUR/language:en`;let r=new WebSocket(i);return e&&e("Connecting..."),r.onopen=()=>{e&&e("Connected")},r.onmessage=a=>{try{const s=JSON.parse(a.data);t&&t(s)}catch{t&&t(a.data)}},r.onerror=a=>{console.error("WebSocket error:",a),e&&e("Error")},r.onclose=()=>{e&&e("Closed")},()=>{r.close()}}const _Pt={Accept:"application/json, text/plain, */*","User-Agent":"Mozilla/5.0"};async function SPt(n){const t=`https://www.justetf.com/api/etfs/${n}/performance-chart?locale=en&currency=EUR&valuesType=MARKET_VALUE&reduceData=false&includeDividends=false&features=DIVIDENDS&period=D1`;try{console.log("[fetchPerformanceChart] Requesting URL:",t);const e=await fetch(t,{method:"GET",headers:_Pt});if(console.log("[fetchPerformanceChart] Response status:",e.status,e.statusText),!e.ok){const r=await e.text().catch(()=>"");throw console.error("[fetchPerformanceChart] Server error:",e.status,r.substring(0,200)),new Error("HTTP "+e.status)}const i=await e.json();return console.log("[fetchPerformanceChart] Success, data received:",i?"yes":"no"),i}catch(e){return console.error("[fetchPerformanceChart] Error:",e.message),null}}const kPt=n=>{const e=Math.min(Math.abs(n)/2,1);return n<0?`rgb(${180+e*75}, ${80-e*80}, ${80-e*80})`:`rgb(${80-e*80}, ${180+e*75}, ${80-e*80})`},CPt=({slug:n,name:t,nameColorClass:e,price:i,changeAbsolute:r,changePercent:a})=>u.jsxs("div",{className:"etf-row",children:[u.jsx(dd,{to:`/EtfSharkDetail/${n}`,className:`etf-name ${e}`,children:t}),u.jsxs("div",{className:"etf-data",children:[u.jsxs("div",{className:"data-box price-box",children:["EUR ",i]}),u.jsxs("div",{className:"data-box change-box",style:{backgroundColor:kPt(r)},children:[r," | ",a]})]})]}),pq=()=>{const[n,t]=N.useState(""),[e,i]=N.useState({}),[r,a]=N.useState([]),[s,o]=N.useState([]),[l,c]=N.useState(""),[h,d]=N.useState(!0),g=["IE000UL6CLP7","IE00B6R52036","IE00B3CNHG25","IE00B7KMNP07","IE00BQQP9F84","IE00BNTVVR89","LU0259322260","IE00BQQP9G91","IE00BDFBTQ78"],y=["Global X Silver Miners UCITS ETF","IShares Gold Producers UCITS ETF","L&G Gold Mining UCITS ETF","UBS Solactive Global Pure Gold Miners UCITS ETF USD","VanEck Gold Miners UCITS ETF","HANetf AuAg ESG Gold Mining UCITS ETF","Market Access NYSE Arca Gold Bugs UCITS ETF","VanEck Junior Gold Miners UCITS","VanEck S&P Global Mining UCITS ETF A"];return N.useEffect(()=>{const x=g.map((w,k)=>wPt(w,A=>i(T=>({...T,[y[k]]:{prc:A.dtdPrc.raw,amt:A.dtdAmt.raw,ask:A?.ask?.raw}})),A=>t(A)));return()=>{x.forEach(w=>w())}},[]),N.useEffect(()=>{(async()=>{const w=[];for(let k=0;k<g.length;k++)try{const A=await SPt(g[k]);w.push(A.latestQuote.localized)}catch(A){console.error("Error fetching chart for",g[k],A),w.push("46.13")}o(w),d(!1)})()},[]),N.useEffect(()=>{(()=>{console.log("chart",s)})()},[s]),N.useEffect(()=>{const x=Object.entries(e).map(([w,k])=>({name:w,nameColorClass:"",price:k.ask,changeAbsolute:k.amt,changePercent:k.prc}));a(x)},[e]),u.jsxs("div",{className:"dark-background",children:[r.length===0&&u.jsx("div",{children:"Loading..."}),r.map((x,w)=>u.jsx(CPt,{name:x.name,nameColorClass:x.nameColorClass,price:x?.price,changeAbsolute:x.changeAbsolute,changePercent:x.changePercent,slug:APt(x.name)},w))]})};function APt(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/&/g,"and").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-")}function TPt(){const{day:n,month:t,year:e}=rc(),[i,r]=N.useState(null);N.useEffect(()=>{(async()=>{try{let l=new Date,c=null,h=0;for(;!c&&h<7;){const A=String(l.getDate()).padStart(2,"0"),T=String(l.getMonth()+1).padStart(2,"0"),R=l.getFullYear(),G=`${A}_${T}_${R}`;try{const F=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${G}`)).json();F?.data&&F.data.length>0?c=F.data:l.setDate(l.getDate()-1)}catch{l.setDate(l.getDate()-1)}h++}if(!c)return;const y=c.reduce((A,T)=>{const R=G=>{const[z,F]=G.split(" "),[H,Y,J]=z.split("/");return new Date(`${J}-${Y}-${H}T${F||"00:00"}`)};return R(T.modified_time)>R(A.modified_time)?T:A}).link.split("/").pop().replace(".json","").split("_"),x=i1(parseInt(y[0]),parseInt(y[1]),parseInt(y[2]),parseInt(y[3]||0),parseInt(y[4]||0)),k=(await Y_(x))?.data?.phan_tich?.chiso_barchart;k&&r(k)}catch(l){console.error("Li tng th:",l)}})()},[n,t,e]);const a=i?.averages?.filter(o=>o).map(o=>{const l=o.split("Volume:")[0].trim(),c=o.split("Volume:")[1]||"",h=c.split("Average:")[0]?.trim(),d=c.split("Average:")[1]?.trim();return{name:l,volume:h,signal:d}}),s=({value:o,label:l})=>{const c=o&&!isNaN(o)?o:0,g=(180-c/100*180)*(Math.PI/180),y=80,x=100,w=100,k=x+y*Math.cos(g),A=w-y*Math.sin(g);return u.jsxs("div",{className:"arc-wrapper",style:{textAlign:"center"},children:[u.jsxs("svg",{width:"180",height:"110",viewBox:"0 0 200 120",children:[u.jsx("path",{d:"M20 100 A80 80 0 0 1 180 100",stroke:"#383838",strokeWidth:"20",fill:"none",strokeLinecap:"round"}),u.jsx("path",{d:`M20 100 A80 80 0 0 1 ${k} ${A}`,stroke:"#0f9d58",strokeWidth:"20",fill:"none",strokeLinecap:"round"})]}),u.jsx("h2",{style:{color:"#eab308",fontSize:"28px",margin:"10px 0 5px 0",fontWeight:"bold"},children:c}),u.jsx("p",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold",margin:0,letterSpacing:"1px"},children:l.toUpperCase()})]})};return u.jsxs("div",{className:"barchart-container",children:[u.jsx("h2",{className:"title",style:{color:"#eab308"},children:"Overall Average:"}),u.jsxs("div",{className:"contain-below",children:[u.jsxs("div",{className:"gauge-grid",style:{display:"flex",gap:"30px",justifyContent:"center"},children:[u.jsxs("div",{className:"gauge-block",children:[u.jsx("p",{className:"gauge-title",style:{color:"#fff",marginBottom:"15px"},children:"Current Strength"}),u.jsx(s,{value:i?.gia_tri_current_strength,label:"STRENGTH"})]}),u.jsxs("div",{className:"gauge-block",children:[u.jsx("p",{className:"gauge-title",style:{color:"#fff",marginBottom:"15px"},children:"Current Direction"}),u.jsx(s,{value:i?.gia_tri_current_direction,label:"DIRECTION"})]})]}),u.jsxs("div",{className:"opinion-card",children:[u.jsx("div",{className:"opinion-header",children:"Barchart Opinion"}),u.jsxs("table",{className:"opinion-table",style:{width:"100%"},children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{textAlign:"left"},children:"INDICATOR"}),u.jsx("th",{style:{textAlign:"center"},children:"Opinion"}),u.jsx("th",{style:{textAlign:"right"},children:"Volume"})]})}),u.jsx("tbody",{children:a?.map((o,l)=>u.jsxs("tr",{children:[u.jsx("td",{style:{textAlign:"left"},children:o.name}),u.jsx("td",{style:{textAlign:"center"},children:o.signal}),u.jsx("td",{style:{textAlign:"right"},children:o.volume})]},l))})]}),u.jsxs("div",{className:"opinion-footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px"},children:[u.jsxs("h4",{style:{margin:0},children:["20-Day Average Volume: ",u.jsx("span",{style:{color:"#eab308"},children:i?.gia_tri_20_day_average_volume?.toLocaleString("en-US")})]}),u.jsxs("p",{style:{margin:0,color:"#10b981",fontWeight:"bold",fontSize:"16px"},children:["Average: ",i?.overall?.percent," ",i?.overall?.signal]})]})]})]})]})}gi.register(qr,Ji,Fa,Qi,sr);const MPt=()=>{const[n,t]=N.useState(()=>{const ht=new Date;return{year:ht.getFullYear(),month:ht.getMonth()+1}}),[e,i]=N.useState(null),[r,a]=N.useState([]),[s,o]=N.useState([]),[l,c]=N.useState(null),[h,d]=N.useState(null),[g,y]=N.useState(null),[x,w]=N.useState("CNY"),[k,A]=N.useState(0),[T,R]=N.useState(!0),[G,z]=N.useState(!1),[F,H]=N.useState({gold:null,silver:null,date:null}),[Y,J]=N.useState({gold:null,silver:null}),nt=N.useRef(),V=31.1034768,Z=(ht,ot)=>{if(!ht||ht.length===0)return 0;let vt=0,St=0;return ht.forEach(Pt=>{const It=Number(Pt.close_price)||Number(Pt.open_price);It>0&&(vt+=It,St++)}),St>0?vt/St:0};N.useEffect(()=>{fetch(`https://api_gold.thinkdiff.us/shanghai_gold_exchange/${n.year}/${n.month}`).then(ht=>ht.json()).then(ht=>{if(ht.status==="success"&&Array.isArray(ht.tong_toanbo)){a(ht.tong_toanbo),c(null);const ot=ht.tong_toanbo.filter(vt=>Number(vt.tong_vang)>0||Number(vt.tong_bac)>0||Number(vt.tongkhac)>0);if(ot.length>0){const vt=ot[ot.length-1],St=Z(vt.vang),Pt=Z(vt.bac);H({gold:St,silver:Pt,date:vt.ngay})}else H({gold:null,silver:null,date:null});i({labels:ot.map(vt=>{const St=vt.ngay.split("-");return`${St[2]}/${St[1]}`}),datasets:[{label:"Vng (CNY)",data:ot.map(vt=>Number(vt.tong_vang)||0),backgroundColor:"#f1c40f",yAxisID:"y"},{label:"Bc (CNY)",data:ot.map(vt=>Number(vt.tong_bac)||0),backgroundColor:"#bdc3c7",yAxisID:"y"},{label:"Khc (CNY)",data:ot.map(vt=>Number(vt.tongkhac)||0),backgroundColor:"#2ecc71",yAxisID:"y1"}]})}})},[n]);const rt=async()=>{const ht=await yR();if(!ht)return;const ot=ht.find(St=>St.code==="CNY"),vt=ht.find(St=>St.code==="USD");ot&&d(ot.sell),vt&&y(vt.sell)};N.useEffect(()=>{rt()},[]);const lt=ht=>{const{current:ot}=nt;if(!ot)return;const vt=iO(ot,ht);if(vt.length>0){const{index:St,datasetIndex:Pt}=vt[0],It=ot.data.labels[St],Nt=r.find(Et=>{const Yt=Et.ngay.split("-");return`${Yt[2]}/${Yt[1]}`===It});if(Nt){let Et=[];Pt===0?Et=Nt.vang||[]:Pt===1?Et=Nt.bac||[]:Pt===2&&(Et=Nt.kim_loai_khac||[]),c({date:Nt.ngay,contracts:Et}),A(Pt)}}},mt=ht=>{if(!ht)return 0;if(x==="CNY")return ht;if(x==="VND"){if(!h)return 0;let ot=ht*h;return k===0&&(ot*=37.5),ot}return x==="USD"?!h||!g?0:ht*h/g:0},ct=(ht,ot,vt)=>ot===0?u.jsxs(u.Fragment,{children:[ht," ",u.jsx("br",{})," ",vt?"(Ounce)":"(Gi / Lng)"]}):ot===1?u.jsxs(u.Fragment,{children:[ht," ",u.jsx("br",{})," ",vt?"(Ounce)":"(Gi / Kg)"]}):ht,st=(ht,ot)=>{if(!ht)return 0;let vt=ht;return ot===0?vt=ht*V:ot===1&&(vt=ht*V/1e3),T?h&&g?vt*h/g:0:x==="CNY"?vt:x==="VND"?h?vt*h:0:x==="USD"?h&&g?vt*h/g:0:vt},xt={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff"}}},scales:{x:{ticks:{color:"#94a3b8"}},y:{position:"left",ticks:{color:"#f1c40f"}},y1:{position:"right",ticks:{color:"#2ecc71"},grid:{display:!1}}}},dt=(ht,ot)=>{if(!ht||!h||!g)return 0;const St=ht*h/g;return ot==="gold"?St*V:St/1e3*V};return u.jsxs("div",{style:{background:"#05111d",color:"#fff",padding:"20px",minHeight:"100vh"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px"},children:[u.jsx("button",{onClick:()=>t(ht=>ht.month===1?{year:ht.year-1,month:12}:{year:ht.year,month:ht.month-1}),style:K4,children:" Trc"}),u.jsxs("h2",{style:{color:"#f1c40f"},children:["LNG GIAO DCH VNG-BC SN SHANGHAI GOLD EXCHANGE ",n.month,"/",n.year]}),u.jsx("button",{onClick:()=>t(ht=>ht.month===12?{year:ht.year+1,month:1}:{year:ht.year,month:ht.month+1}),style:K4,children:"Sau "})]}),u.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",padding:"10px"},children:[u.jsx("div",{}),u.jsxs("div",{style:{textAlign:"center"},children:[u.jsxs("div",{style:{fontSize:"24px",color:"#94a3b8",marginBottom:"5px"},children:["Gi ng ca trung bnh ngy ",u.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:F.date?F.date.split("-").reverse().join("/"):"..."})]}),u.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",textAlign:"center",justifyContent:"center"},children:[u.jsx("div",{children:u.jsxs("span",{style:{color:"#f1c40f",fontWeight:"bold",fontSize:"20px"},children:["Vng: ",dt(F.gold,"gold").toLocaleString(void 0,{maximumFractionDigits:2})," ",u.jsx("span",{style:{fontSize:"14px"},children:"$/Ounce"})]})}),u.jsx("div",{children:u.jsxs("span",{style:{color:"#bdc3c7",fontWeight:"bold",fontSize:"20px"},children:["Bc: ",dt(F.silver,"silver").toLocaleString(void 0,{maximumFractionDigits:2})," ",u.jsx("span",{style:{fontSize:"14px"},children:"$/Ounce"})]})})]})]})]}),u.jsx("div",{style:{height:"400px",background:"#101929",padding:"20px",borderRadius:"8px",marginBottom:"30px",position:"relative"},children:e&&u.jsx(bg,{ref:nt,data:e,options:xt,onClick:lt})}),l&&u.jsxs("div",{style:{background:"#101929",padding:"20px",borderRadius:"8px",border:"1px solid #1e293b"},children:[u.jsxs("h3",{style:{color:"#3498db"},children:["Chi tit ngy:"," ",u.jsx("span",{style:{color:"red"},children:l.date.split("-").reverse().join("/")})]}),u.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginBottom:"10px"},children:[T?u.jsx("button",{onClick:()=>w("USD"),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:x==="USD"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer"},children:"USD"},"USD"):["CNY","VND","USD"].map(ht=>u.jsx("button",{onClick:()=>w(ht),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:x===ht?"#3498db":"#1e293b",color:"#fff",cursor:"pointer"},children:ht},ht)),u.jsx("button",{onClick:()=>{R(!T),T||w("USD")},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #334155",background:T?"#10b981":"#1e293b",color:"#fff",cursor:"pointer"},children:T?"1 Ounce":"Gc"})]}),u.jsx("div",{style:{overflowX:"auto"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"900px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"#172a45",color:"#94a3b8"},children:[u.jsx("th",{style:ed,children:"Hp ng"}),u.jsx("th",{style:ed,children:"Hng"}),u.jsx("th",{style:ed,children:"Khi lng"}),u.jsx("th",{style:ed,children:ct("Gi m ca",k,T)}),u.jsx("th",{style:ed,children:ct("Gi ng ca",k,T)}),u.jsx("th",{style:ed,children:ct("Gi chnh lch",k,T)}),u.jsx("th",{style:ed,children:"T l phn trm"}),u.jsx("th",{style:ed,children:ct("Gi cao nht",k,T)}),u.jsx("th",{style:ed,children:ct("Gi thp nht",k,T)}),u.jsx("th",{style:ed,children:"S lng hp ng"}),u.jsx("th",{style:ed,children:ct("Gi TB",k,T)}),u.jsxs("th",{style:ed,children:["Thnh tin",u.jsx("button",{onClick:()=>z(!G),style:{marginLeft:8,padding:"2px 6px",fontSize:12,cursor:"pointer"},children:G?"USD":"T USD"})]})]})}),u.jsx("tbody",{children:l.contracts.map((ht,ot)=>u.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[u.jsx("td",{style:{...nd,color:"#fff"},children:ht.Contract}),u.jsx("td",{style:{...nd,color:(ht.Direction||"")==="Long to Short"?"#e74c3c":(ht.Direction||"")==="Short to Long"?"#2ecc71":"#94a3b8"},children:ht.Direction===""?"":ht.Direction}),u.jsx("td",{style:nd,children:Number(ht.volume||0).toLocaleString()}),u.jsx("td",{style:nd,children:ht.open_price?(T?st(Number(ht.open_price),k):mt(Number(ht.open_price))).toLocaleString(void 0,{maximumFractionDigits:x==="USD"?2:0})+` ${T?"USD":x}`:""}),u.jsx("td",{style:nd,children:ht.close_price?(T?st(Number(ht.close_price),k):mt(Number(ht.close_price))).toLocaleString(void 0,{maximumFractionDigits:x==="USD"?2:0})+` ${T?"USD":x}`:""}),u.jsx("td",{style:nd,children:ht.change_price?(T?st(Number(ht.change_price),k):mt(Number(ht.change_price))).toLocaleString(void 0,{maximumFractionDigits:x==="USD"?2:0})+` ${T?"USD":x}`:""}),u.jsx("td",{style:nd,children:ht.change_pct?`${Number(ht.change_pct).toFixed(2)}%`:""}),u.jsx("td",{style:nd,children:ht.high_price?(T?st(Number(ht.high_price),k):mt(Number(ht.high_price))).toLocaleString(void 0,{maximumFractionDigits:x==="USD"?2:0})+` ${T?"USD":x}`:""}),u.jsx("td",{style:nd,children:ht.low_price?(T?st(Number(ht.low_price),k):mt(Number(ht.low_price))).toLocaleString(void 0,{maximumFractionDigits:x==="USD"?2:0})+` ${T?"USD":x}`:""}),u.jsx("td",{style:nd,children:Number(ht.open_interest||0).toLocaleString()}),u.jsx("td",{style:nd,children:ht.high_price&&ht.low_price?(()=>{const vt=(Number(ht.high_price)+Number(ht.low_price))/2;return(T?st(vt,k):mt(vt)).toLocaleString(void 0,{maximumFractionDigits:x==="USD"?2:0})+` ${T?"USD":x}`})():""}),u.jsx("td",{style:{...nd,color:"#f1c40f",fontWeight:"bold"},children:ht.tong_tien_cny?(()=>{const vt=T?st(Number(ht.tong_tien_cny),k):mt(Number(ht.tong_tien_cny));return!G||vt<555675726e-2?vt.toLocaleString(void 0,{maximumFractionDigits:2})+` ${T?"USD":x}`:(vt/1e9).toLocaleString(void 0,{minimumFractionDigits:vt>=1e9?2:4,maximumFractionDigits:vt>=1e9?2:4})+` T ${T?"USD":x}`})():""})]},ot))})]})})]})]})},K4={padding:"8px 16px",background:"#172a45",color:"#fff",border:"1px solid #3498db",borderRadius:"4px",cursor:"pointer"},ed={padding:"12px",textAlign:"left",borderBottom:"1px solid #1e293b"},nd={padding:"10px",borderBottom:"1px solid #1e293b"},NPt={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},PPt=(n,t,e)=>{let i;const r=NPt[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",String(t)),e?.addSuffix?e.comparison&&e.comparison>0?i+" na":i+" trc":i},EPt={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},jPt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},DPt={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},OPt={date:Sb({formats:EPt,defaultWidth:"full"}),time:Sb({formats:jPt,defaultWidth:"full"}),dateTime:Sb({formats:DPt,defaultWidth:"full"})},LPt={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},RPt=(n,t,e,i)=>LPt[n],IPt={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},zPt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},FPt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},BPt={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},HPt={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},GPt={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},WPt={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},UPt={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},YPt=(n,t)=>{const e=Number(n),i=t?.unit;if(i==="quarter")switch(e){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(i==="day")switch(e){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(i==="week")return e===1?"th nht":"th "+e;if(i==="dayOfYear")return e===1?"u tin":"th "+e}return String(e)},$Pt={ordinalNumber:YPt,era:dg({values:IPt,defaultWidth:"wide"}),quarter:dg({values:zPt,defaultWidth:"wide",formattingValues:FPt,defaultFormattingWidth:"wide",argumentCallback:n=>n-1}),month:dg({values:BPt,defaultWidth:"wide",formattingValues:HPt,defaultFormattingWidth:"wide"}),day:dg({values:GPt,defaultWidth:"wide"}),dayPeriod:dg({values:WPt,defaultWidth:"wide",formattingValues:UPt,defaultFormattingWidth:"wide"})},VPt=/^(\d+)/i,XPt=/\d+/i,qPt={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},KPt={any:[/^t/i,/^s/i]},ZPt={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},QPt={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},JPt={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},tEt={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},eEt={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},nEt={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},iEt={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},rEt={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},aEt={ordinalNumber:M8({matchPattern:VPt,parsePattern:XPt,valueCallback:n=>parseInt(n,10)}),era:fg({matchPatterns:qPt,defaultMatchWidth:"wide",parsePatterns:KPt,defaultParseWidth:"any"}),quarter:fg({matchPatterns:ZPt,defaultMatchWidth:"wide",parsePatterns:QPt,defaultParseWidth:"any",valueCallback:n=>n+1}),month:fg({matchPatterns:JPt,defaultMatchWidth:"wide",parsePatterns:tEt,defaultParseWidth:"wide"}),day:fg({matchPatterns:eEt,defaultMatchWidth:"wide",parsePatterns:nEt,defaultParseWidth:"wide"}),dayPeriod:fg({matchPatterns:iEt,defaultMatchWidth:"wide",parsePatterns:rEt,defaultParseWidth:"any"})},mq={code:"vi",formatDistance:PPt,formatLong:OPt,formatRelative:RPt,localize:$Pt,match:aEt,options:{weekStartsOn:1,firstWeekContainsDate:1}};gi.register(qr,Ji,Fa,Xr,pa,Qi,sr,fd,vf,dh);const sEt="https://api_gold.thinkdiff.us/load_GLD_co_phieu";function Z4(n){const t=new Date(n),e=i=>String(i).padStart(2,"0");return`${e(t.getDate())}/${e(t.getMonth()+1)}/${t.getFullYear()} ${e(t.getHours())}:${e(t.getMinutes())}`}function oEt(n,t){if(!t?.length||n==="ALL")return null;const e=new Date(Math.max(...t.map(i=>+i)));switch(n){case"7D":return new Date(e.getTime()-10080*60*1e3);case"30D":return new Date(e.getTime()-720*60*60*1e3);case"90D":return new Date(e.getTime()-2160*60*60*1e3);case"1Y":return new Date(e.getFullYear()-1,e.getMonth(),e.getDate());default:return null}}function lEt(n){if(!n?.length)return"";const t=e=>e.toLocaleDateString("vi-VN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return`${t(n[0])} - ${t(n[n.length-1])}`}function cEt(n){return n.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function uEt(n){if(!n)return null;const t=[];return n.stock_prices?.forEach(e=>{e.record_time&&t.push(new Date(e.record_time).getTime())}),n.stock_volumes?.forEach(e=>{e.record_time&&t.push(new Date(e.record_time).getTime())}),n.options_flow?.forEach(e=>{e.trade_time&&t.push(new Date(e.trade_time).getTime())}),t.length?new Date(Math.max(...t)):null}function iD({onlyMain:n=!1,onlyExtra:t=!1}){const[e,i]=N.useState(!0),[r,a]=N.useState(null),[s,o]=N.useState(null),[l,c]=N.useState("7D"),[h,d]=N.useState("30D"),[g,y]=N.useState(!1),x=Gi();N.useEffect(()=>{let H=!1;async function Y(){try{i(!0);const J=await fetch(sEt);if(!J.ok)throw new Error(`HTTP ${J.status}`);const nt=await J.json();H||o(nt?.data?.data||null)}catch(J){H||a(J.message)}finally{H||i(!1)}}return Y(),()=>{H=!0}},[]);const w={"7D":"7 ngy","30D":"30 ngy","90D":"90 ngy","1Y":"1 nm",ALL:"Tt c"},k=N.useMemo(()=>{const H=s?.stock_prices||[];if(!H.length)return null;const Y=H.map(rt=>new Date(rt.record_time)),J=oEt(l,Y),nt=J?H.filter(rt=>new Date(rt.record_time)>=J):H,V=nt.map(rt=>new Date(rt.record_time)),Z=nt.map(rt=>rt.close);return{data:{labels:V,datasets:[{type:"line",data:Z,fill:!0,borderColor:"#3fb27f",backgroundColor:"rgba(63,178,127,0.25)",tension:.3,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",adapters:{date:{locale:mq}},time:{unit:"day"},ticks:{display:!1},grid:{display:!1}},y:{grid:{drawBorder:!1}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:rt=>new Date(rt[0].parsed.x).toLocaleString("vi-VN"),label:rt=>{const lt=rt.dataIndex,mt=rt.raw,ct=nt[lt]?.high;return ct!=null?[`Close: ${mt.toFixed(2)}`,`High: ${ct.toFixed(2)}`]:`Close: ${mt.toFixed(2)}`}}}}},range:lEt(V)}},[s,l]),A=(H,Y)=>Y==null||Y===0?null:(H-Y)/Y*100,T=N.useMemo(()=>{const H=s?.stock_prices;if(!H||H.length<2)return{};const Y=H.length-1,J=H[Y]?.close,nt=V=>{const Z=Y-V;return Z>=0?H[Z]?.close:null};return{day1:A(J,nt(1)),day2:A(J,nt(2)),day3:A(J,nt(3)),day4:A(J,nt(4)),week1:A(J,nt(7)),month1:A(J,nt(30))}},[s]),R=N.useMemo(()=>{const H=s?.stock_volumes||[];if(!H.length)return null;const Y=H.filter(V=>V.record_time.includes("T09:30:00")),J=Y.map(V=>({x:V.record_time,y:V.volume})),nt=Y.map(V=>V.color==="GREEN"?"#26a69a":"#ef5350");return{data:{labels:J.map(V=>V.x),datasets:[{type:"bar",label:"Volume",data:J.map(V=>V.y),backgroundColor:nt,borderRadius:3,barPercentage:.9,categoryPercentage:.9}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"category",grid:{display:!1},ticks:{callback:function(V,Z){const rt=this.getLabelForValue(V),[lt,mt,ct]=rt.split("T")[0].split("-");return`${Number(ct)}/${Number(mt)}`}}},y:{grid:{drawBorder:!1},ticks:{callback:V=>V>=1e6?`${(V/1e6).toFixed(1)}M`:V>=1e3?`${(V/1e3).toFixed(0)}k`:V}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:()=>"",label:function(V){return`${(V.parsed.y/1e6).toFixed(3)}M`},afterLabel:function(V){const Z=V.label,[rt,lt]=Z.split("T"),[mt,ct,st]=rt.split("-"),[xt,dt]=lt.split(":"),ht=new Date(`${mt}-${ct}-${st}`).toLocaleString("en-US",{month:"short"});return[`${Number(st)} ${ht}, ${mt}`,`${xt}:${dt}`]}},labelFont:{size:16,weight:"bold"}},zoom:{pan:{enabled:!0,mode:"x",threshold:5},zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"x"},limits:{x:{min:"original",max:"original",minRange:1440*60*1e3}}}}}}},[s,h]),G=N.useMemo(()=>(s?.options_flow||[]).slice().sort((H,Y)=>new Date(Y.trade_time)-new Date(H.trade_time)),[s]),z=g?G:G.slice(0,7),F=N.useMemo(()=>uEt(s),[s]);return e?u.jsx("p",{style:{padding:24},children:"ang ti d liu GLD"}):r?u.jsx("p",{style:{color:"tomato"},children:r}):u.jsxs("div",{className:`sharechart ${t?"sharechart-extra":""}`,children:[!t&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"sc-header-title sc-header-link",onClick:()=>x("/spdr-shares"),style:{cursor:"pointer",textAlign:"center"},children:"SPDR Gold Shares (GLD)"}),F&&u.jsxs("div",{className:"sc-header-sub",children:["D liu cp nht ln cui ca ton b d liu GLD:"," ",u.jsx("span",{style:{textAlign:"center",fontSize:"16px",color:"#FFD700",marginTop:"4px",fontWeight:"700"},children:cEt(F)})]}),Object.keys(T).length>0&&!t&&u.jsxs("div",{className:"sc-toolbar",children:[u.jsx("label",{className:"sc-label",children:"T l thay i:"}),u.jsx("div",{className:"scc-percentage-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"},{key:"month1",label:"1 thng"}].map(({key:H,label:Y})=>T[H]!=null&&u.jsxs("div",{className:`sc-percent-item ${T[H]>=0?"up":"down"}`,children:[u.jsxs("span",{className:"label",children:["Trong ",Y]}),u.jsxs("span",{className:"value",children:[T[H]>=0?"+":"",T[H].toFixed(2),"%"]})]},H))})]})]}),!t&&u.jsx("div",{className:"sc-timebar",children:["7D","30D","90D","1Y","ALL"].map(H=>u.jsx("button",{className:`sc-time-btn ${l===H?"active":""}`,onClick:()=>c(H),children:w[H]},H))}),!t&&u.jsx("section",{className:"sc-section",children:u.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--price",children:k&&u.jsx(xa,{data:k.data,options:k.options})})}),!n&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"sc-header",children:u.jsx("div",{className:"sc-header-title2",children:"Market Volume Chart (GLD)"})}),u.jsxs("section",{className:"sc-section",children:[u.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--volume",children:R&&u.jsx(xa,{data:R.data,options:R.options})}),u.jsx("div",{className:"sc-caption",children:R?.range})]}),u.jsx("div",{className:"sc-header",children:u.jsx("div",{className:"sc-header-title3",children:"Option Flow (GLD)"})}),u.jsxs("section",{className:"sc-section",children:[u.jsxs("div",{className:"sc-section-header",children:[u.jsx("h3",{className:"sc-section-title",children:g?"Tt c":"7 bn ghi gn nht"}),u.jsx("button",{onClick:()=>y(H=>!H),children:g?"n bt":"Hin tt c"})]}),u.jsx("div",{className:"sc-table-scroll",children:u.jsxs("table",{className:"sc-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Date & Time"}),u.jsx("th",{children:"Expiration"}),u.jsx("th",{children:"Strike"}),u.jsx("th",{children:"Type"}),u.jsx("th",{children:"Size"}),u.jsx("th",{children:"Open Interest"})]})}),u.jsx("tbody",{children:z.map(H=>u.jsxs("tr",{children:[u.jsx("td",{children:Z4(H.trade_time)}),u.jsx("td",{children:Z4(H.expiration_date).split(" ")[0]}),u.jsx("td",{children:H.strike_price}),u.jsx("td",{style:{color:H.contract_type==="CALL"?"#26a69a":"#ef5350"},children:H.contract_type}),u.jsx("td",{children:H.trade_size}),u.jsx("td",{children:H.open_interest})]},H.id))})]})})]})]})]})}gi.register(qr,Ji,Fa,Xr,pa,Qi,sr,fd,vf,dh);const hEt="https://api_gold.thinkdiff.us/load_SLV_co_phieu";function Q4(n){const t=new Date(n),e=i=>String(i).padStart(2,"0");return`${e(t.getDate())}/${e(t.getMonth()+1)}/${t.getFullYear()} ${e(t.getHours())}:${e(t.getMinutes())}`}function dEt(n,t){if(!t?.length||n==="ALL")return null;const e=new Date(Math.max(...t.map(i=>+i)));switch(n){case"7D":return new Date(e.getTime()-10080*60*1e3);case"30D":return new Date(e.getTime()-720*60*60*1e3);case"90D":return new Date(e.getTime()-2160*60*60*1e3);case"1Y":return new Date(e.getFullYear()-1,e.getMonth(),e.getDate());default:return null}}function fEt(n){if(!n?.length)return"";const t=e=>e.toLocaleString("vi-VN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return`${t(n[0])} - ${t(n[n.length-1])}`}function gEt(n){return n.toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function pEt(n){if(!n)return null;const t=[];return n.stock_prices?.forEach(e=>{e.record_time&&t.push(new Date(e.record_time).getTime())}),n.stock_volumes?.forEach(e=>{e.record_time&&t.push(new Date(e.record_time).getTime())}),n.options_flow?.forEach(e=>{e.trade_time&&t.push(new Date(e.trade_time).getTime())}),t.length?new Date(Math.max(...t)):null}function rD({onlyMain:n=!1,onlyExtra:t=!1}){const[e,i]=N.useState(!0),[r,a]=N.useState(null),[s,o]=N.useState(null),[l,c]=N.useState("7D"),[h,d]=N.useState("30D"),[g,y]=N.useState(!1),x=Gi();N.useEffect(()=>{let H=!1;async function Y(){try{i(!0);const J=await fetch(hEt);if(!J.ok)throw new Error(`HTTP ${J.status}`);const nt=await J.json();H||o(nt?.data?.data||null)}catch(J){H||a(J.message)}finally{H||i(!1)}}return Y(),()=>{H=!0}},[]);const w={"7D":"7 ngy","30D":"30 ngy","90D":"90 ngy","1Y":"1 nm",ALL:"Tt c"},k=N.useMemo(()=>{const H=s?.stock_prices||[];if(!H.length)return null;const Y=H.map(rt=>new Date(rt.record_time)),J=dEt(l,Y),nt=J?H.filter(rt=>new Date(rt.record_time)>=J):H,V=nt.map(rt=>new Date(rt.record_time)),Z=nt.map(rt=>rt.close);return{data:{labels:V,datasets:[{type:"line",data:Z,fill:!0,borderColor:"#3fb27f",backgroundColor:"rgba(63,178,127,0.25)",tension:.3,pointRadius:0,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"time",adapters:{date:{locale:mq}},time:{unit:"day"},ticks:{display:!1},grid:{display:!1}},y:{grid:{drawBorder:!1}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:rt=>new Date(rt[0].parsed.x).toLocaleString("vi-VN"),label:rt=>{const lt=rt.dataIndex,mt=rt.raw,ct=nt[lt]?.high;return ct!=null?[`Close: ${mt.toFixed(2)}`,`High: ${ct.toFixed(2)}`]:`Close: ${mt.toFixed(2)}`}}}}},range:fEt(V)}},[s,l]),A=(H,Y)=>Y==null||Y===0?null:(H-Y)/Y*100,T=N.useMemo(()=>{const H=s?.stock_prices;if(!H||H.length<2)return{};const Y=Z=>H[Z]?.close??null,J=H.length-1,nt=Y(J),V=Z=>{const rt=J-Z;return rt>=0?Y(rt):null};return{day1:A(nt,V(1)),day2:A(nt,V(2)),day3:A(nt,V(3)),day4:A(nt,V(4)),week1:A(nt,V(7)),month1:A(nt,V(30))}},[s]),R=N.useMemo(()=>{const H=s?.stock_volumes||[];if(!H.length)return null;const Y=H.filter(V=>V.record_time.includes("T09:30:00")),J=Y.map(V=>({x:V.record_time,y:V.volume})),nt=Y.map(V=>V.color==="GREEN"?"#26a69a":"#ef5350");return{data:{labels:J.map(V=>V.x),datasets:[{type:"bar",label:"Volume",data:J.map(V=>V.y),backgroundColor:nt,borderRadius:3,barPercentage:.9,categoryPercentage:.9}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{type:"category",grid:{display:!1},ticks:{callback:function(V,Z){const rt=this.getLabelForValue(V),[lt,mt,ct]=rt.split("T")[0].split("-");return`${Number(ct)}/${Number(mt)}`}}},y:{grid:{drawBorder:!1},ticks:{callback:V=>V>=1e6?`${(V/1e6).toFixed(1)}M`:V>=1e3?`${(V/1e3).toFixed(0)}k`:V}}},plugins:{legend:{display:!1},tooltip:{displayColors:!1,callbacks:{title:()=>"",label:function(V){return`${(V.parsed.y/1e6).toFixed(3)}M`},afterLabel:function(V){const Z=V.label,[rt,lt]=Z.split("T"),[mt,ct,st]=rt.split("-"),[xt,dt]=lt.split(":"),ht=new Date(`${mt}-${ct}-${st}`).toLocaleString("en-US",{month:"short"});return[`${Number(st)} ${ht}, ${mt}`,`${xt}:${dt}`]}},labelFont:{size:16,weight:"bold"}},zoom:{pan:{enabled:!0,mode:"x",threshold:5},zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"x"},limits:{x:{min:"original",max:"original",minRange:1440*60*1e3}}}}}}},[s,h]),G=N.useMemo(()=>(s?.options_flow||[]).slice().sort((H,Y)=>new Date(Y.trade_time)-new Date(H.trade_time)),[s]),z=g?G:G.slice(0,7),F=N.useMemo(()=>pEt(s),[s]);return e?u.jsx("p",{style:{padding:24},children:"ang ti d liu SLV..."}):r?u.jsx("p",{style:{color:"tomato"},children:r}):u.jsxs("div",{className:"sharechart",children:[!t&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"sc-header-title7 sc-header-link",onClick:()=>x("/spdr-shares"),style:{cursor:"pointer",textAlign:"center"},children:"SPDR Silver Shares (SLV)"}),F&&u.jsxs("div",{className:"sc-header-sub",children:["D liu cp nht ln cui:",u.jsx("span",{style:{display:"block",textAlign:"center",fontSize:"16px",color:"#FFD700",marginTop:"4px",fontWeight:"700"},children:gEt(F)})]}),Object.keys(T).length>0&&u.jsxs("div",{className:"sc-toolbar",children:[u.jsx("label",{className:"sc-label",children:"T l thay i:"}),u.jsx("div",{className:"sc-percentager-bar",children:[{key:"day1",label:"1 ngy"},{key:"day2",label:"2 ngy"},{key:"day3",label:"3 ngy"},{key:"day4",label:"4 ngy"},{key:"week1",label:"1 tun"},{key:"month1",label:"1 thng"}].map(({key:H,label:Y})=>T[H]!=null&&u.jsxs("div",{className:`sc-percent-item ${T[H]>=0?"up":"down"}`,children:[u.jsxs("span",{className:"label",children:["Trong ",Y]}),u.jsxs("span",{className:"value",children:[T[H]>=0?"+":"",T[H].toFixed(2),"%"]})]},H))})]})]}),!t&&u.jsx("div",{className:"sc-timebar",children:["7D","30D","90D","1Y","ALL"].map(H=>u.jsx("button",{className:`sc-time-btn ${l===H?"active":""}`,onClick:()=>c(H),children:w[H]},H))}),!t&&u.jsx("section",{className:"sc-section",children:u.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--price",children:k&&u.jsx(xa,{data:k.data,options:k.options})})}),!n&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"sc-header",children:u.jsx("div",{className:"sc-header-title8",children:"Market Volume Chart Silver"})}),u.jsxs("section",{className:"sc-section",children:[u.jsx("div",{className:"sc-chart-wrap sc-chart-wrap--volume",children:R&&u.jsx(xa,{data:R.data,options:R.options})}),u.jsx("div",{className:"sc-caption",children:R?.range})]}),u.jsx("div",{className:"sc-header",children:u.jsx("div",{className:"sc-header-title9",children:"Option Flow (Silver)"})}),u.jsxs("section",{className:"sc-section",children:[u.jsxs("div",{className:"sc-section-header",children:[u.jsx("h3",{className:"sc-section-title",children:g?"Tt c":"7 bn ghi gn nht"}),u.jsx("button",{onClick:()=>y(H=>!H),children:g?"n bt":"Hin tt c"})]}),u.jsx("div",{className:"sc-table-scroll",children:u.jsxs("table",{className:"sc-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Date & Time"}),u.jsx("th",{children:"Expiration"}),u.jsx("th",{children:"Strike"}),u.jsx("th",{children:"Type"}),u.jsx("th",{children:"Size"}),u.jsx("th",{children:"Open Interest"})]})}),u.jsx("tbody",{children:z.map(H=>u.jsxs("tr",{children:[u.jsx("td",{children:Q4(H.trade_time)}),u.jsx("td",{children:Q4(H.expiration_date).split(" ")[0]}),u.jsx("td",{children:H.strike_price}),u.jsx("td",{style:{color:H.contract_type==="CALL"?"#26a69a":"#ef5350"},children:H.contract_type}),u.jsx("td",{children:H.trade_size}),u.jsx("td",{children:H.open_interest})]},H.id))})]})})]})]})]})}const mEt=({charts:n,params:t})=>{const[e,i]=N.useState("silver");return u.jsxs("div",{className:"metal-tabs",children:[u.jsxs("div",{className:"metal-tabs-header",children:[u.jsx("button",{className:e==="gold"?"active":"",onClick:()=>i("gold"),children:" Gold"}),u.jsx("button",{className:e==="silver"?"active":"",onClick:()=>i("silver"),children:" Silver"})]}),u.jsxs("div",{className:"sharechart-split",children:[e==="gold"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"metal-left",children:u.jsx(iD,{dataShare:n?.[3]?.data?.[2],urlParams:t,onlyMain:!0})}),u.jsx("div",{className:"metal-right",children:u.jsx(iD,{dataShare:n?.[3]?.data?.[2],urlParams:t,onlyExtra:!0})})]}),e==="silver"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"metal-left",children:u.jsx(rD,{dataShare:n?.[3]?.data?.[3],urlParams:t,onlyMain:!0})}),u.jsx("div",{className:"metal-right",children:u.jsx(rD,{dataShare:n?.[3]?.data?.[3],urlParams:t,onlyExtra:!0})})]})]})]})},J4=["https://api_gold.thinkdiff.us/global_x_silver_miners","https://api_gold.thinkdiff.us/UBS_Solactive_Global_Pure_Gold_Miners","https://api_gold.thinkdiff.us/VanEck_Gold_Miners_UCITS_ETF","https://api_gold.thinkdiff.us/VanEck_Junior_Gold_Miners_UCITS","https://api_gold.thinkdiff.us/LG_Gold_Mining_UCITS_ETF","https://api_gold.thinkdiff.us/iShares_Gold_Producers_UCITS","https://api_gold.thinkdiff.us/global_x_silver_miners_etf","https://api_gold.thinkdiff.us/HANetf_AuAg_ESG_Gold_Mining_UCITS","https://api_gold.thinkdiff.us/Market_Access_NYSE_Arca_Gold_Bugs_UCITS","https://api_gold.thinkdiff.us/VanEck_SP_Global_Mining_UCITS_ETF_A"],yEt=["https://api_gold.thinkdiff.us/global_x_silver_miners_1day","https://api_gold.thinkdiff.us/VanEck_SP_Global_Mining_UCITS_ETF_A_1day","https://api_gold.thinkdiff.us/UBS_Solactive_Global_Pure_Gold_Miners_1day","https://api_gold.thinkdiff.us/VanEck_Gold_Miners_UCITS_ETF_1day","https://api_gold.thinkdiff.us/VanEck_Junior_Gold_Miners_UCITS_1day","https://api_gold.thinkdiff.us/LG_Gold_Mining_UCITS_ETF_1day","https://api_gold.thinkdiff.us/iShares_Gold_Producers_UCITS_1day","https://api_gold.thinkdiff.us/HANetf_AuAg_ESG_Gold_Mining_UCITS_1day","https://api_gold.thinkdiff.us/Market_Access_NYSE_Arca_Gold_Bugs_UCITS_1day"],vEt=n=>{const t=n.split("/");return t[t.length-1]};async function eA(n){let t=null;return n==="DAY"&&(t=(await Promise.all(yEt.map(r=>fetch(r).then(a=>{if(!a.ok)throw new Error(`HTTP Error ${a.status}`);return a.json()}).catch(a=>(console.warn(`Li khi gi link: ${r}`,a),null))))).filter(r=>r!==null)),n==="ALL"&&(t=await Promise.all(J4.map(i=>fetch(i).then(r=>r.json())))),t.map((i,r)=>{const s=[...i?.data?.series||[]].sort((l,c)=>new Date(l.date)-new Date(c.date)),o=s.at(-1)?.date;return{name:vEt(J4[r]),data:s.map(l=>({x:new Date(l.date).getTime()+420*60*1e3,y:Number(l.value.raw)})),date:o}})}const xEt=()=>{const[n,t]=N.useState(null),[e,i]=N.useState(!0);if(N.useEffect(()=>{let a=!0;return(async()=>{try{const o=await fetch("https://api_gold.thinkdiff.us/SLV_von_vao");if(!o.ok)throw new Error(o.status);const l=await o.json(),c=l?.slv_chartexchange_info_cophieu?.[0]||l?.slv_stats?.[0]||l?.slv_overview?.[0]||null;a&&t(c)}catch(o){console.error("SLV Stats fetch error:",o)}finally{a&&i(!1)}})(),()=>a=!1},[]),e)return u.jsx("div",{className:"slv-loading",children:"Loading SLV stats"});if(!n)return null;const r=a=>a?.toLocaleString(void 0,{maximumFractionDigits:2});return u.jsxs("div",{className:"slv-stats-card",children:[u.jsxs("div",{className:"slv-stats-header",children:["SLV Stats",u.jsxs("div",{className:"slv-stats-timestamp",children:["Cp nht mi nht: ",n.time_insert]})]}),u.jsxs("div",{className:"slv-stats-grid",children:[u.jsx(eh,{label:"Market Cap",value:`${r(n.market_cap)}`}),u.jsx(eh,{label:"Shares Out",value:r(n.shares_out)}),u.jsx(eh,{label:"On / Off Exchange",value:`${n.On_Off_Exchange}% / ${100-n.On_Off_Exchange}%`}),u.jsx(eh,{label:"Avg Vol (10 Day)",value:r(n.avg_vol_10_day)}),u.jsx(eh,{label:"Avg Vol (30 Day)",value:r(n.avg_vol_30_day)}),u.jsx(eh,{label:"6 Month Beta",value:n["6_Month_Beta"]}),u.jsx(eh,{label:"1 Year Beta",value:n["1_Year_Beta"]}),u.jsx(eh,{label:"2 Year Beta",value:n["2_Year_Beta"]}),u.jsx(eh,{label:"3 Year Beta",value:n["3_Year_Beta"]}),u.jsx(eh,{label:"52 Week Low",value:n["52_Week_Low"]}),u.jsx(eh,{label:"52 Week High",value:n["52_Week_High"]}),u.jsx(eh,{label:"SMA50",value:n.SMA50}),u.jsx(eh,{label:"SMA200",value:n.SMA200})]}),u.jsxs("div",{className:"slv-returns",children:[u.jsx(ex,{label:"1 Week",value:n["1_Week"]}),u.jsx(ex,{label:"1 Month",value:n["1_Month"]}),u.jsx(ex,{label:"3 Month",value:n["3_Month"]}),u.jsx(ex,{label:"6 Month",value:n["6_Month"]}),u.jsx(ex,{label:"1 Year",value:n["1Year"]}),u.jsx(ex,{label:"2 Year",value:n["2Year"]}),u.jsx(ex,{label:"5 Year",value:n["5Year"]})]})]})},eh=({label:n,value:t})=>u.jsxs("div",{className:"slv-stat",children:[u.jsx("span",{children:n}),u.jsx("strong",{children:t})]}),ex=({label:n,value:t})=>{const e=t>=0;return u.jsxs("div",{className:`slv-return ${e?"up":"down"}`,children:[u.jsx("span",{children:n}),u.jsxs("strong",{children:[e?"+":"",t,"%"]})]})},bEt=()=>{const[n,t]=N.useState([]),[e,i]=N.useState(!0),[r,a]=N.useState(1),s=10,[o,l]=N.useState(1),[c,h]=N.useState("");N.useEffect(()=>{let y=!0;return(async()=>{try{const w=await fetch("https://api_gold.thinkdiff.us/SLV_von_vao");if(!w.ok)throw new Error(w.status);const A=(await w.json())?.slv_dark_pool_levels||[];if(!y)return;t(A),A.length>0&&h(A[0].created_at)}catch(w){console.error("SLV Dark Pool fetch error:",w)}finally{y&&i(!1)}})(),()=>y=!1},[]);const d=Math.ceil(n.length/s),g=n.slice((r-1)*s,r*s);return e?u.jsx("div",{className:"dp-loading",children:"Loading Dark Pool"}):n.length?u.jsxs("div",{className:"darkpool-card",children:[u.jsx("div",{className:"darkpool-header",children:u.jsx("div",{className:"darkpool-title",children:"SLV Dark Pool Levels"})}),u.jsxs("table",{className:"darkpool-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Level"}),u.jsx("th",{children:"Traders"}),u.jsx("th",{children:"Volume"}),u.jsx("th",{children:"Premium"})]})}),u.jsx("tbody",{children:g.map((y,x)=>u.jsxs("tr",{children:[u.jsxs("td",{className:"dp-level-cell",children:[u.jsx("div",{className:"dp-price",children:y.price_level?.toFixed(2)}),u.jsx("div",{className:"dp-time",children:y.created_at})]}),u.jsx("td",{children:y.trade_count?.toLocaleString()}),u.jsx("td",{children:y.volume?.toLocaleString()}),u.jsxs("td",{children:["$",y.premium?.toLocaleString(void 0,{maximumFractionDigits:0})]})]},x))})]}),u.jsxs("div",{className:"dp-pagination",children:[u.jsx("button",{disabled:r===1,onClick:()=>{const y=r-1;a(y),l(y)},children:""}),u.jsx("input",{type:"number",min:1,max:d,value:o,onChange:y=>l(y.target.value),onKeyDown:y=>{if(y.key==="Enter"){let x=Number(o);x<1&&(x=1),x>d&&(x=d),a(x),l(x)}},className:"dp-page-input"}),u.jsxs("span",{children:["/ ",d]}),u.jsx("button",{disabled:r===d,onClick:()=>{const y=r+1;a(y),l(y)},children:""})]})]}):null};gi.register(qr,Ji,Fa,Xo,Qi,sr);const t6={padding:"8px 16px",background:"#172a45",color:"#fff",border:"1px solid #3498db",borderRadius:"4px",cursor:"pointer"},vy={padding:"12px",textAlign:"left",borderBottom:"1px solid #1e293b"},xy={padding:"10px",borderBottom:"1px solid #1e293b"};function yq(){const[n,t]=N.useState(null),[e,i]=N.useState([]),[r,a]=N.useState(null),[s,o]=N.useState(null),[l,c]=N.useState(null),[h,d]=N.useState("USD"),[g,y]=N.useState(0),[x,w]=N.useState(!0),[k,A]=N.useState(!1),[T,R]=N.useState("all"),[G,z]=N.useState(!1),F=N.useRef(),[H,Y]=N.useState(()=>{const st=new Date;return{month:st.getMonth()+1,year:st.getFullYear()}}),J=st=>{t(null),a(null),Y(xt=>{let dt=xt.month+st,ht=xt.year;return dt>12?(dt=1,ht+=1):dt<1&&(dt=12,ht-=1),{month:dt,year:ht}})},nt=async()=>{const st=await yR();if(!st)return;const xt=st.find(ht=>ht.code==="CNY"),dt=st.find(ht=>ht.code==="USD");xt&&o(xt.sell),dt&&c(dt.sell)};N.useEffect(()=>{r&&nt()},[r]),N.useEffect(()=>{z(!0),fetch(`https://api_gold.thinkdiff.us/cme_report_theo_thang/${H.month}/${H.year}`).then(st=>st.json()).then(st=>{st.status==="success"?(t(st.ketqua),i(st.ketqua)):(t([]),i([]))}).catch(st=>{console.error("Li:",st),t([]),i([])}).finally(()=>z(!1))},[H.month,H.year]);const V={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff"}},title:{display:!1,text:"Bo Co Lng Mua Bn Sn Comex"}},scales:{x:{stacked:!0,ticks:{color:"#94a3b8"}},y:{stacked:!0,ticks:{color:"#f1c40f"}}}},Z=st=>{const{current:xt}=F;if(!xt)return;const dt=iO(xt,st);if(dt.length>0){const{index:ht,datasetIndex:ot}=dt[0],vt=xt.data.labels[ht],St=e.find(Pt=>{if(!Pt?.day)return!1;const[,It,Nt]=Pt.day.split("-");return`${Nt}/${It}`===vt});if(St){let Pt=[];T==="hop_dong_tuong_lai"?ot===0?(Pt=St.vang||[],y(0)):ot===1?(Pt=St.bac||[],y(1)):ot===2?(Pt=St.bach_kim||[],y(2)):ot===3?(Pt=St.dong||[],y(3)):(Pt=St.palladium||[],y(4)):ot<=1?(Pt=St.vang||[],y(0)):ot<=3?(Pt=St.bac||[],y(1)):ot<=5?(Pt=St.bach_kim||[],y(2)):ot<=7?(Pt=St.dong||[],y(3)):(Pt=St.palladium||[],y(4)),a({date:St.day,contracts:Pt})}}},rt=st=>({0:"VNG",1:"BC",2:"BCH KIM",3:"NG",4:"PALLADIUM"})[st]||"KIM LOI",lt=(st,xt,dt)=>{if(!st||!Array.isArray(st))return 0;let ht=st;dt==="hop_dong_tuong_lai"&&(ht=st.filter(vt=>vt.contract_type_vi==="hop_dong_tuong_lai"));const ot=ht.find(vt=>vt.contract_type_vi===xt);return ot&&Number(ot.total_volume)||0},ct={labels:n?.map(st=>{if(!st?.day)return"";const[,xt,dt]=st.day.split("-");return`${dt}/${xt}`}),datasets:T==="hop_dong_tuong_lai"?[{label:"Vng",data:n?.map(st=>lt(st?.vang,"hop_dong_tuong_lai",T)),backgroundColor:"#FCB100",stack:"Stack 0"},{label:"Bc",data:n?.map(st=>lt(st?.bac,"hop_dong_tuong_lai",T)),backgroundColor:"#9CA3AF",stack:"Stack 1"},{label:"Bch kim",data:n?.map(st=>lt(st?.bach_kim,"hop_dong_tuong_lai",T)),backgroundColor:"#1c89f6ff",stack:"Stack 2"},{label:"ng",data:n?.map(st=>lt(st?.dong,"hop_dong_tuong_lai",T)),backgroundColor:"#FC7A00",stack:"Stack 3"},{label:"Palladium",data:n?.map(st=>lt(st?.palladium,"hop_dong_tuong_lai",T)),backgroundColor:"#7C8792",stack:"Stack 4"}]:[{label:"Vng mua",data:n?.map(st=>lt(st?.vang,"tang_gia",T)),backgroundColor:"#FCB100",stack:"Stack 0"},{label:"Vng bn",data:n?.map(st=>lt(st?.vang,"giam_gia",T)),backgroundColor:"#F0C256",stack:"Stack 0"},{label:"Bc mua",data:n?.map(st=>lt(st?.bac,"tang_gia",T)),backgroundColor:"#9CA3AF",stack:"Stack 1"},{label:"Bc bn",data:n?.map(st=>lt(st?.bac,"giam_gia",T)),backgroundColor:"#E5E7EB",stack:"Stack 1"},{label:"Bch kim mua",data:n?.map(st=>lt(st?.bach_kim,"tang_gia",T)),backgroundColor:"#1c89f6ff",stack:"Stack 2"},{label:"Bch kim bn",data:n?.map(st=>lt(st?.bach_kim,"giam_gia",T)),backgroundColor:"#7cbbfaff",stack:"Stack 2"},{label:"ng mua",data:n?.map(st=>lt(st?.dong,"tang_gia",T)),backgroundColor:"#FC7A00",stack:"Stack 3"},{label:"ng bn",data:n?.map(st=>lt(st?.dong,"giam_gia",T)),backgroundColor:"#F5AB67",stack:"Stack 3"},{label:"Palladium mua",data:n?.map(st=>lt(st?.palladium,"tang_gia",T)),backgroundColor:"#7C8792",stack:"Stack 4"},{label:"Palladium bn",data:n?.map(st=>lt(st?.palladium,"giam_gia",T)),backgroundColor:"#E6EBEF",stack:"Stack 4"}]};return u.jsxs("div",{style:{background:"#05111d",color:"#fff",padding:"20px",minHeight:"100vh"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px"},children:[u.jsx("button",{onClick:()=>J(-1),style:t6,children:" Trc"}),u.jsxs("h2",{style:{color:"#f1c40f"},children:["BO CO LNG MUA BN SN COMEX - THNG ",H.month,"/",H.year]}),u.jsx("button",{onClick:()=>J(1),style:t6,children:"Sau "})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"20px"},children:[u.jsx("button",{onClick:()=>R("all"),style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #334155",background:T==="all"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer",fontSize:"14px"},children:"Tt c"}),u.jsx("button",{onClick:()=>R("hop_dong_tuong_lai"),style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #334155",background:T==="hop_dong_tuong_lai"?"#3498db":"#1e293b",color:"#fff",cursor:"pointer",fontSize:"14px"},children:"Hp ng tng lai"})]}),u.jsx("div",{style:{height:"400px",background:"#101929",padding:"20px",borderRadius:"8px",marginBottom:"30px"},children:G?u.jsx("div",{style:{textAlign:"center",marginTop:"50px",color:"#fff"},children:"ang ti d liu..."}):!n||n.length===0?u.jsx("div",{style:{textAlign:"center",marginTop:"50px",color:"#fff"},children:"Khng c d liu cho thng ny"}):u.jsx(bg,{ref:F,data:ct,options:V,onClick:Z})}),r&&u.jsxs("div",{style:{background:"#101929",padding:"20px",borderRadius:"8px",border:"1px solid #1e293b"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"},children:[u.jsxs("h3",{style:{color:"#3498db",margin:0},children:["Chi tit ngy:"," ",u.jsx("span",{style:{color:"red"},children:r.date.split("-").reverse().join("/")})]}),u.jsx("div",{style:{background:g===0?"#f1c40f":g===1?"#bdc3c7":g===2?"#3498db":g===3?"#e67e22":"#9b59b6",color:"#000",padding:"6px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"bold"},children:rt(g)})]}),u.jsx("div",{style:{marginBottom:"15px"},children:u.jsx("p",{style:{color:"#94a3b8",margin:0,fontSize:"14px"},children:"D liu bo co khi lng giao dch t sn COMEX"})}),u.jsx("div",{style:{overflowX:"auto"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"900px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"#172a45",color:"#94a3b8"},children:[u.jsx("th",{style:vy,children:"Loi hp ng"}),u.jsx("th",{style:vy,children:"Khi lng in t"}),u.jsx("th",{style:vy,children:"Khi lng sn"}),u.jsx("th",{style:vy,children:"Khi lng ngoi sn"}),u.jsx("th",{style:vy,children:"Tng khi lng"}),u.jsx("th",{style:vy,children:"Li sut m"}),u.jsx("th",{style:vy,children:"Thay i OI"}),u.jsx("th",{style:vy,children:"Ngy bo co"})]})}),u.jsx("tbody",{children:r.contracts.map((st,xt)=>u.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[u.jsx("td",{style:{...xy,color:"#fff"},children:st.contract_type_vi==="hop_dong_tuong_lai"?"Hp ng tng lai":st.contract_type_vi==="quyen_chon"?"Quyn chn":st.contract_type_vi==="tang_gia"?"Tng gi (Call)":st.contract_type_vi==="giam_gia"?"Gim gi (Put)":st.contract_type_vi||""}),u.jsx("td",{style:xy,children:Number(st.electronic_volume||0).toLocaleString()}),u.jsx("td",{style:xy,children:Number(st.floor_volume||0).toLocaleString()}),u.jsx("td",{style:xy,children:Number(st.off_floor_volume||0).toLocaleString()}),u.jsx("td",{style:{...xy,color:"#f1c40f",fontWeight:"bold"},children:Number(st.total_volume||0).toLocaleString()}),u.jsx("td",{style:xy,children:Number(st.open_interest||0).toLocaleString()}),u.jsx("td",{style:{...xy,color:(st.oi_change||0)>0?"#2ecc71":(st.oi_change||0)<0?"#e74c3c":"#94a3b8"},children:st.oi_change?(st.oi_change>0?"+":"")+Number(st.oi_change).toLocaleString():"0"}),u.jsx("td",{style:xy,children:st.report_date?new Date(st.report_date).toLocaleDateString("vi-VN"):""})]},xt))})]})})]})]})}gi.register(qr,Ji,Fa,Qi,sr);const wEt=()=>{const[n,t]=N.useState("2025"),[e,i]=N.useState([]),[r,a]=N.useState("oz"),[s,o]=N.useState("gold");N.useEffect(()=>{(async()=>{const J=(await(await fetch("https://api_gold.thinkdiff.us/lbma_vault_all")).json()).data;J.sort((nt,V)=>new Date(nt.date)-new Date(V.date)),i(J)})()},[]);const l=(F,H)=>!H||H===0?null:(F-H)/H*100,c=n==="all"?e:e.filter(F=>new Date(F.date).getFullYear()===Number(n)),h=mr.useMemo(()=>{if(!e||e.length<2)return{};const F=V=>s==="gold"?V.gold_oz_000:V.silver_oz_000,H=[...e].sort((V,Z)=>new Date(V.date)-new Date(Z.date)),Y=H.length-1,J=F(H[Y]),nt=V=>{const Z=Y-V;return Z<0?null:l(J,F(H[Z]))};return{day1:nt(1),day2:nt(2),day3:nt(3),week1:nt(7),month1:nt(30),month6:nt(180)}},[e,s]),d=mr.useMemo(()=>{if(!e||e.length===0)return null;const F=e[e.length-1].date,H=new Date(F),Y=String(H.getDate()).padStart(2,"0"),J=String(H.getMonth()+1).padStart(2,"0"),nt=H.getFullYear();return`${Y}/${J}/${nt}`},[e]),g=n==="all"?c.map(F=>new Date(F.date).getFullYear().toString()):c.map(F=>F.date),y=F=>r==="tonnes"?F/31.1035:F,x=F=>r==="tonnes"?F/31.1035:F,w=F=>s==="gold"?y(F.gold_oz_000):x(F.silver_oz_000),k=mr.useMemo(()=>{if(!c||c.length===0)return{max:null,min:null,current:null};const F=c.map(w);return{max:Math.max(...F),min:Math.min(...F),current:F[F.length-1]}},[c,s,r]),A=F=>F==null?"--":r==="tonnes"?F.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})+" Tn":F.toLocaleString()+" OZ",T={labels:g,datasets:[{label:r==="tonnes"?"Gold (tonnes)":"Gold (oz)",data:c.map(F=>y(F.gold_oz_000)),backgroundColor:"rgba(212, 175, 55, 0.7)"}]},R={labels:g,datasets:[{label:r==="tonnes"?"Silver (tonnes)":"Silver (oz)",data:c.map(F=>x(F.silver_oz_000)),backgroundColor:"rgba(191, 193, 194, 0.7)"}]},G=[...new Set(e.map(F=>new Date(F.date).getFullYear()))];if(!T||!R)return u.jsx("div",{children:"Loading"});const z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{x:{ticks:{autoSkip:!0,maxTicksLimit:n==="all"?25:31}},y:{title:{display:!0,text:r==="tonnes"?"Tn":"OZ"}}}};return u.jsxs("div",{className:"comex-inventory-container",children:[u.jsxs("div",{className:"comex-inventory-header header-row",children:[u.jsxs("div",{className:"header-left",children:[u.jsx("h2",{children:"LBMA Gold & Silver Vault Reserves"}),u.jsx("p",{className:"subtitle",children:"Biu  Lng Lu Tr D Tr Vng & Bc ti Sn LBMA London"})]}),d&&u.jsxs("div",{className:"header-right",children:[u.jsx("label",{className:"last-updated-label",children:" D liu cp nht ln cui: "}),u.jsx("span",{className:"last-updated",children:d})]})]}),u.jsxs("div",{className:"comex-tab-navigation",children:[u.jsx("button",{className:`tab-button ${s==="gold"?"active":""}`,onClick:()=>o("gold"),children:"LBMA Gold"}),u.jsx("button",{className:`tab-button ${s==="silver"?"active":""}`,onClick:()=>o("silver"),children:"LBMA Silver"})]}),u.jsxs("div",{className:"comex-unit-converter",children:[u.jsx("span",{className:"unit-label",children:"n v:"}),u.jsx("button",{className:`unit-btn ${r==="oz"?"active":""}`,onClick:()=>a("oz"),children:"OZ"}),u.jsx("button",{className:`unit-btn ${r==="tonnes"?"active":""}`,onClick:()=>a("tonnes"),children:"Tn"})]}),u.jsxs("div",{className:"comex-desktop-layout",children:[u.jsxs("div",{className:"comex-left-column",children:[u.jsxs("div",{className:"percentage-changes-container",children:[u.jsx("h3",{children:"T l thay i"}),u.jsx("div",{className:"percentage-grid",children:[["Trong 1 ngy",h.day1],["Trong 2 ngy",h.day2],["Trong 3 ngy",h.day3],["Trong 1 tun",h.week1],["Trong 1 thng",h.month1],["Trong 6 thng",h.month6]].map(([F,H])=>typeof H=="number"&&u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:F}),u.jsxs("span",{className:`percentage-value ${H>=0?"positive":"negative"}`,children:[H>=0?"+":"",H.toFixed(2),"%"]})]},F))})]}),u.jsx("div",{className:"percentage-changes-container",children:u.jsxs("div",{className:"percentage-grid",children:[u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Gi tr cao nht"}),u.jsx("span",{className:"percentage-value3",children:A(k.max)})]}),u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Gi tr thp nht"}),u.jsx("span",{className:"percentage-value3",children:A(k.min)})]}),u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Gi tr hin ti"}),u.jsx("span",{className:"percentage-value3",children:A(k.current)})]}),u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Nm"}),u.jsxs("select",{value:n,onChange:F=>t(F.target.value),className:"lbma-year-select",children:[u.jsx("option",{value:"all",children:"Tt c"}),G.map(F=>u.jsx("option",{value:F,children:F},F))]})]})]})})]}),u.jsx("div",{className:"comex-right-column",children:u.jsx("div",{className:"comex-chart-wrapper",children:s==="gold"?u.jsx(bg,{data:T,options:z}):u.jsx(bg,{data:R,options:z})})})]})]})};gi.register(qr,Ji,Fa,Qi,sr);const _Et={gold:"https://api_gold.thinkdiff.us/lbma_gold_price",silver:"https://api_gold.thinkdiff.us/lbma_silver_price"},SEt=()=>{const[n,t]=N.useState([]),[e,i]=N.useState("all"),[r,a]=N.useState("month"),[s,o]=N.useState("silver");N.useEffect(()=>{(async()=>{const H=(await(await fetch(_Et[s])).json()).data||[];H.sort((Y,J)=>new Date(Y.date)-new Date(J.date)),t(H)})()},[s]);const l=(G,z)=>z===0||z==null?null:(G-z)/z*100,c=mr.useMemo(()=>{if(!n||n.length<2)return{};const G=[...n].sort((Y,J)=>Number(Y.time)-Number(J.time)),z=G.length-1,F=G[z].value,H=Y=>{const J=z-Y;if(J<0)return null;const nt=G[J].value;return l(F,nt)};return{day5:H(5),month1:H(30),month6:H(180)}},[n]),h=mr.useMemo(()=>{if(!n||n.length===0)return null;const G=n[n.length-1].time,z=new Date(G),F=String(z.getDate()).padStart(2,"0"),H=String(z.getMonth()+1).padStart(2,"0"),Y=z.getFullYear(),J=String(z.getHours()).padStart(2,"0"),nt=String(z.getMinutes()).padStart(2,"0"),V=String(z.getSeconds()).padStart(2,"0");return`${F}/${H}/${Y} ${J}:${nt}:${V}`},[n]),d=G=>{const z=new Date(G),F=String(z.getDate()).padStart(2,"0"),H=String(z.getMonth()+1).padStart(2,"0"),Y=String(z.getFullYear()).padStart(2,"0"),J=String(z.getHours()).padStart(2,"0"),nt=String(z.getMinutes()).padStart(2,"0");return`${F}/${H}/${Y} ${J}:${nt}`},g=G=>new Date(Number(G)).getFullYear(),y=N.useMemo(()=>{if(!n.length)return["all"];const G=[...new Set(n.map(z=>g(z.time)))];return G.sort((z,F)=>F-z),["all",...G]},[n]),x=G=>G.length?Math.max(...G.map(z=>Number(z.time))):null,w=N.useMemo(()=>{if(!n.length)return[];const G=x(n);if(!G)return n;const z=new Date(G);if(r==="week"){const F=new Date(z);return F.setDate(F.getDate()-7),n.filter(H=>Number(H.time)>=F.getTime())}if(r==="month"){const F=new Date(z);return F.setMonth(F.getMonth()-1),n.filter(H=>Number(H.time)>=F.getTime())}if(r==="year_rolling"){const F=x(n);if(!F)return n;const H=new Date(F),Y=new Date(H);return Y.setFullYear(Y.getFullYear()-1),n.filter(J=>Number(J.time)>=Y.getTime()&&Number(J.time)<=H.getTime())}return r==="year_fixed"&&e!=="all"?n.filter(F=>g(F.time)===Number(e)):n},[n,e,r]);N.useEffect(()=>{r==="year_fixed"&&y.length>1&&e==="all"&&i(String(y[1]))},[y,r]);const k=N.useMemo(()=>{if(!w.length)return{};const G=w.map(z=>z.value);return{max:Math.max(...G),min:Math.min(...G),current:G[G.length-1]}},[w]),A=s==="gold",T={labels:w.map(G=>d(G.time)),datasets:[{label:A?"Gold Price (USD)":"Silver Price (USD)",data:w.map(G=>G.value),borderColor:A?"rgba(212,175,55,1)":"rgba(192,192,192,1)",backgroundColor:A?"rgba(212,175,55,0.7)":"rgba(192,192,192,0.7)",pointBackgroundColor:A?"rgba(212,175,55,1)":"rgba(192,192,192,1)",pointRadius:2,pointHoverRadius:5,tension:.3,fill:!0}]},R={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"}},scales:{y:{title:{display:!0,text:"USD"}}}};return u.jsxs("div",{className:"comex-inventory-container",children:[u.jsxs("div",{className:"comex-inventory-header header-row",children:[u.jsxs("div",{className:"header-left",children:[u.jsx("h2",{children:"LBMA Gold & Silver Prices"}),u.jsx("p",{className:"subtitle",children:"Biu  gi Vng & Bc LBMA London (USD)"})]}),h&&u.jsxs("div",{className:"header-right",children:[u.jsx("label",{className:"last-updated-label",children:" D liu cp nht ln cui: "}),u.jsx("span",{className:"last-updated",children:h})]})]}),u.jsxs("div",{className:"comex-tab-navigation",children:[u.jsx("button",{className:`tab-button ${s==="gold"?"active":""}`,onClick:()=>o("gold"),children:"LBMA Gold"}),u.jsx("button",{className:`tab-button ${s==="silver"?"active":""}`,onClick:()=>o("silver"),children:"LBMA Silver"})]}),u.jsxs("div",{className:"comex-desktop-layout",children:[u.jsxs("div",{className:"comex-left-column",children:[u.jsxs("div",{className:"percentage-changes-container",children:[u.jsx("h3",{children:"Tng quan"}),u.jsxs("div",{className:"percentage-grid",children:[u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Gi cao nht"}),u.jsxs("span",{className:"percentage-value3",children:[k.max?.toLocaleString()," USD"]})]}),u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Gi thp nht"}),u.jsxs("span",{className:"percentage-value3",children:[k.min?.toLocaleString()," USD"]})]}),u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Gi hin ti"}),u.jsxs("span",{className:"percentage-value3",style:{color:"#1bb553"},children:[k.current?.toLocaleString()," USD"]})]})]})]}),u.jsxs("div",{className:"percentage-changes-container",children:[u.jsx("h3",{children:"T l thay i"}),u.jsx("div",{className:"percentage-grid",children:[["Trong 5 ngy",c.day5],["Trong 1 thng",c.month1],["Trong 6 thng",c.month6]].map(([G,z])=>typeof z=="number"&&u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:G}),u.jsxs("span",{className:`percentage-value ${z>=0?"positive":"negative"}`,children:[z>=0?"+":"",z.toFixed(2),"%"]})]},G))})]}),u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Khong thi gian"}),u.jsxs("div",{className:"time-filter-buttons",children:[u.jsx("button",{className:r==="all"?"active":"",onClick:()=>a("all"),children:"Tt c"}),u.jsx("button",{className:r==="week"?"active":"",onClick:()=>a("week"),children:"7 ngy"}),u.jsx("button",{className:r==="month"?"active":"",onClick:()=>a("month"),children:"1 thng"}),u.jsx("button",{className:r==="year_rolling"?"active":"",onClick:()=>{a("year_rolling"),i("all")},children:"1 nm"}),u.jsx("button",{className:r==="year_fixed"?"active":"",onClick:()=>{a("year_fixed"),y.length>1&&i(String(y[1]))},children:"Chn nm"})]}),r==="year_fixed"&&u.jsx("select",{value:e,onChange:G=>i(G.target.value),className:"lbma-year-select",children:y.filter(G=>G!=="all").map(G=>u.jsx("option",{value:G,children:G},G))})]})]}),u.jsx("div",{className:"comex-right-column",children:u.jsx("div",{className:"comex-chart-wrapper",children:u.jsx(hf,{data:T,options:R})})})]})]})},kEt="https://api_gold.thinkdiff.us/comex_gold_data",CEt="https://api_gold.thinkdiff.us/comex_silver_data",vq=n=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?n.replace("https://api_gold.thinkdiff.us","https://api_gold.thinkdiff.us"):n,AEt=async()=>{try{const n=vq(kEt),t=await fetch(n);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(n){throw console.error("Error fetching COMEX Gold data:",n),n}},TEt=async()=>{try{const n=vq(CEt),t=await fetch(n);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(n){throw console.error("Error fetching COMEX Silver data:",n),n}},MEt=async()=>{try{const[n,t]=await Promise.all([AEt(),TEt()]);return{goldData:n,silverData:t}}catch(n){throw console.error("Error fetching COMEX Inventory data:",n),n}};gi.register(qr,Ji,pa,Xr,Fa,Xo,Qi,sr,vf,g8);function xq(){const[n,t]=N.useState(null),[e,i]=N.useState(null),[r,a]=N.useState(!0),[s,o]=N.useState(null),[l,c]=N.useState("silver"),[h,d]=N.useState("30"),[g,y]=N.useState("line"),[x,w]=N.useState(!1),[k,A]=N.useState("oz"),T=(V,Z)=>!Z||Z===0?null:(V-Z)/Z*100,R=(V,Z)=>{if(Z==null)return null;const rt=V-Z;return G(rt)},G=V=>k==="oz"?V:k==="moz"?V/1e6:k==="ton"?V/32150.75:V,z=V=>{const Z=G(V);return k==="moz"?Z.toFixed(2)+" Triu OZ":k==="oz"?Z.toLocaleString()+" OZ":k==="ton"?Z.toFixed(2)+" Tn":Z.toLocaleString()};N.useEffect(()=>{(async()=>{try{a(!0),o(null);const Z=await MEt(),rt=Z.goldData?.data||Z.goldData,lt=Z.silverData?.data||Z.silverData;rt&&Array.isArray(rt)&&t(rt),lt&&Array.isArray(lt)&&i(lt),!rt&&!lt&&o("Khng c d liu COMEX Inventory t API")}catch(Z){console.error("Error in fetchData:",Z),o("Li khi ti d liu: "+Z.message)}finally{a(!1)}})()},[]);const F=N.useMemo(()=>{const V=l==="gold"?n:e;if(!V||!Array.isArray(V)||V.length===0)return{labels:[],datasets:[],percentageChanges:{}};const Z=[...V].sort((ot,vt)=>{const St=new Date(ot.date||ot.dt),Pt=new Date(vt.date||vt.dt);return St-Pt});let rt=Z;if(h!=="all"){const ot=parseInt(h);if(Z.length>0){const vt=Math.min(ot,Z.length);rt=Z.slice(-vt)}}const lt={};if(Z.length>0){const ot=Z[Z.length-1]?.value||Z[Z.length-1]?.amount||0;if(Z.length>=2){const vt=Z[Z.length-2]?.value||Z[Z.length-2]?.amount||0;lt.day1=k==="ton"?R(ot,vt):T(ot,vt)}if(Z.length>=3){const vt=Z[Z.length-3]?.value||Z[Z.length-3]?.amount||0;lt.day2=k==="ton"?R(ot,vt):T(ot,vt)}if(Z.length>=4){const vt=Z[Z.length-4]?.value||Z[Z.length-4]?.amount||0;lt.day3=k==="ton"?R(ot,vt):T(ot,vt)}if(Z.length>=8){const vt=Z[Z.length-8]?.value||Z[Z.length-8]?.amount||0;lt.week1=k==="ton"?R(ot,vt):T(ot,vt)}if(Z.length>=31){const vt=Z[Z.length-31]?.value||Z[Z.length-31]?.amount||0;lt.month1=k==="ton"?R(ot,vt):T(ot,vt)}if(Z.length>=181){const vt=Z[Z.length-181]?.value||Z[Z.length-181]?.amount||0;lt.month6=k==="ton"?R(ot,vt):T(ot,vt)}}const mt=rt.map((ot,vt)=>{const St=new Date(ot.date||ot.dt),Pt=String(St.getDate()).padStart(2,"0"),It=String(St.getMonth()+1).padStart(2,"0"),Nt=St.getFullYear();return h==="all"?vt%2===0?`${Nt}`:"":h==="365"?vt%4===0?`${It}/${Nt}`:"":`${Pt}/${It}`}),ct=rt.map(ot=>{const vt=ot.value||ot.amount||ot.inventory||0;return typeof vt=="number"?vt:parseFloat(vt)||0}),st=Math.max(...ct),xt=Math.min(...ct);let dt=[];g==="line"?dt=[{type:"line",label:l==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:ct,borderColor:"#2563eb",backgroundColor:"tranparent",fill:!1,tension:0,pointRadius:0,pointBackgroundColor:l==="gold"?"#FDB913":"#9CA3AF",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:6,borderWidth:2}]:g==="column"?dt=[{type:"bar",label:l==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:ct,backgroundColor:l==="gold"?"#FDB913":"#9CA3AF",borderColor:"#fff",borderWidth:0,barThickness:"flex"}]:g==="stackedBar"?dt=[{type:"bar",label:"Inventory",data:ct,backgroundColor:l==="gold"?"#FDB913":"#9CA3AF",borderColor:l==="gold"?"#FDB913":"#9CA3AF",borderWidth:0,barThickness:"flex",stack:"stack1"}]:g==="scatter"&&(dt=[{type:"scatter",label:l==="gold"?"COMEX Gold Inventory":"COMEX Silver Inventory",data:rt.map((ot,vt)=>({x:vt,y:ct[vt]})),backgroundColor:l==="gold"?"#FDB913":"#9CA3AF",pointRadius:5,pointHoverRadius:7,showLine:!1}]);let ht=null;if(Z.length>0){const ot=Z[Z.length-1];ht=new Date(ot.date||ot.dt)}return{labels:mt,datasets:dt,filteredData:rt,minValue:xt,maxValue:st,percentageChanges:lt,latestUpdateDate:ht}},[n,e,l,h,g,k]),H={responsive:!0,maintainAspectRatio:!1,indexAxis:void 0,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#9CA3AF",font:{size:12,weight:"500"},padding:15,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#fff",bodyColor:"#E0E7FF",borderColor:"#3B82F6",borderWidth:1,padding:12,titleFont:{size:14,weight:"600"},bodyFont:{size:13},callbacks:{title:V=>{const Z=V[0].dataIndex;if(F.filteredData&&F.filteredData[Z]){const rt=F.filteredData[Z],lt=new Date(rt.date||rt.dt),mt=String(lt.getDate()).padStart(2,"0"),ct=String(lt.getMonth()+1).padStart(2,"0"),st=lt.getFullYear();return`${mt}/${ct}/${st}`}return""},label:V=>{const Z=V.parsed.y;return`${l==="gold"?"Gold":"Silver"} Inventory: ${Z.toLocaleString()} OZ`},afterLabel:V=>{let lt=`value: ${(V.parsed.y/32150.75).toFixed(2)} Tn`;const mt=V.dataIndex;if(F.filteredData&&F.filteredData[mt]){const ct=F.filteredData[mt],st=Object.entries(ct).filter(([xt])=>xt!=="date"&&xt!=="dt"&&xt!=="value"&&xt!=="amount").map(([xt,dt])=>`${xt}: ${dt}`).join(`
`);st&&(lt+=`
`+st)}return lt}}}},scales:{y:{type:"logarithmic",stacked:g==="stackedBar",beginAtZero:!1,grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#9CA3AF",font:{size:11},callback:V=>V>=1e6?(V/1e6).toFixed(0)+"M":V.toLocaleString()},title:{display:!0,text:"OZ",color:"#9CA3AF",font:{size:12}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:"#9CA3AF",font:{size:11},maxRotation:45,minRotation:0}}}},Y=V=>{d(V)},J=V=>{c(V)},nt=V=>{y(V)};return r?u.jsx("div",{className:"comex-inventory-container",children:u.jsx("div",{className:"loading-spinner",children:u.jsx("p",{children:"ang ti d liu COMEX Inventory..."})})}):s?u.jsx("div",{className:"comex-inventory-container",children:u.jsx("div",{className:"error-message",children:u.jsx("p",{children:s})})}):u.jsxs("div",{className:"comex-inventory-container",children:[u.jsx("div",{className:"comex-inventory-header",children:u.jsxs(dd,{to:"/comex-inventory",className:"comex-header-link",children:[u.jsx("h2",{children:"COMEX Gold & Silver Inventory"}),u.jsx("p",{className:"subtitle",children:"Theo di lng d tr vng v bc trn sn COMEX"})]})}),u.jsxs("div",{className:"comex-tab-navigation",children:[u.jsxs("button",{className:`tab-button ${l==="gold"?"active":""}`,onClick:()=>J("gold"),children:[u.jsx("span",{className:"tab-icon gold-icon",children:""}),"COMEX Gold"]}),u.jsxs("button",{className:`tab-button ${l==="silver"?"active":""}`,onClick:()=>J("silver"),children:[u.jsx("span",{className:"tab-icon silver-icon",children:""}),"COMEX Silver"]}),F.latestUpdateDate&&u.jsxs("div",{className:"latest-update-date",children:["Cp nht mi nht: ",F.latestUpdateDate.getDate(),"/",F.latestUpdateDate.getMonth()+1,"/",F.latestUpdateDate.getFullYear()]})]}),u.jsxs("div",{className:"comex-unit-converter",children:[u.jsx("span",{className:"unit-label",children:"n v:"}),u.jsx("button",{className:`unit-btn ${k==="oz"?"active":""}`,onClick:()=>A("oz"),children:"OZ"}),u.jsx("button",{className:`unit-btn ${k==="moz"?"active":""}`,onClick:()=>A("moz"),children:"MOZ"}),u.jsx("button",{className:`unit-btn ${k==="ton"?"active":""}`,onClick:()=>A("ton"),children:"Tn"})]}),u.jsxs("div",{className:"comex-desktop-layout",children:[F.filteredData&&F.filteredData.length>0&&u.jsxs("div",{className:"comex-left-column",children:[u.jsxs("div",{className:"comex-summary",children:[u.jsxs("div",{className:"summary-item",children:[u.jsx("span",{className:"summary-label",children:"Gi tr cao nht:"}),u.jsx("span",{className:"summary-value",children:z(F.maxValue)})]}),u.jsxs("div",{className:"summary-item",children:[u.jsx("span",{className:"summary-label",children:"Gi tr thp nht:"}),u.jsx("span",{className:"summary-value",children:z(F.minValue)})]}),u.jsxs("div",{className:"summary-item",children:[u.jsx("span",{className:"summary-label",children:"Gi tr hin ti:"}),u.jsx("span",{className:"summary-value",children:z(F.filteredData[F.filteredData.length-1]?.value||0)})]})]}),u.jsxs("div",{className:"percentage-changes-container",children:[u.jsx("h3",{children:"T l thay i"}),u.jsxs("div",{className:"percentage-grid",children:[F.percentageChanges.day1!==null&&u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Trong 1 Ngy"}),u.jsxs("span",{className:`percentage-value ${F.percentageChanges.day1>=0?"positive":"negative"}`,children:[F.percentageChanges.day1>=0?"+":"",k==="ton"?`${F.percentageChanges.day1.toFixed(2)} Tn`:`${F.percentageChanges.day1.toFixed(2)}%`]})]}),F.percentageChanges.day2!==null&&u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Trong 2 Ngy"}),u.jsxs("span",{className:`percentage-value ${F.percentageChanges.day2>=0?"positive":"negative"}`,children:[F.percentageChanges.day2>=0?"+":"",k==="ton"?`${F.percentageChanges.day2.toFixed(2)} Tn`:`${F.percentageChanges.day2.toFixed(2)}%`]})]}),F.percentageChanges.day3!==null&&u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Trong 3 Ngy"}),u.jsxs("span",{className:`percentage-value ${F.percentageChanges.day3>=0?"positive":"negative"}`,children:[F.percentageChanges.day3>=0?"+":"",k==="ton"?`${F.percentageChanges.day3.toFixed(2)} Tn`:`${F.percentageChanges.day3.toFixed(2)}%`]})]}),F.percentageChanges.week1!==null&&u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Trong 1 Tun"}),u.jsxs("span",{className:`percentage-value ${F.percentageChanges.week1>=0?"positive":"negative"}`,children:[F.percentageChanges.week1>=0?"+":"",k==="ton"?`${F.percentageChanges.week1.toFixed(2)} Tn`:`${F.percentageChanges.week1.toFixed(2)}%`]})]}),F.percentageChanges.month1!==null&&u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Trong 1 Thng"}),u.jsxs("span",{className:`percentage-value ${F.percentageChanges.month1>=0?"positive":"negative"}`,children:[F.percentageChanges.month1>=0?"+":"",k==="ton"?`${F.percentageChanges.month1.toFixed(2)} Tn`:`${F.percentageChanges.month1.toFixed(2)}%`]})]}),F.percentageChanges.month6!==null&&u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:"Trong 6 Thng"}),u.jsxs("span",{className:`percentage-value ${F.percentageChanges.month6>=0?"positive":"negative"}`,children:[F.percentageChanges.month6>=0?"+":"",k==="ton"?`${F.percentageChanges.month6.toFixed(2)} Tn`:`${F.percentageChanges.month6.toFixed(2)}%`]})]})]})]})]}),u.jsxs("div",{className:"comex-right-column",children:[u.jsxs("div",{className:"comex-time-range",children:[["7","30","90","365","all"].map(V=>u.jsxs("button",{className:`time-range-btn ${h===V?"active":""}`,onClick:()=>Y(V),children:[V==="7"&&"7 ngy",V==="30"&&"30 ngy",V==="90"&&"90 ngy",V==="365"&&"1 nm",V==="all"&&"Tt c"]},V)),u.jsxs("div",{className:"comex-chart-type-dropdown",children:[u.jsxs("button",{className:"chart-type-trigger",onClick:()=>w(!x),children:[u.jsxs("span",{className:"chart-type-icon",children:[g==="line"&&"",g==="column"&&"",g==="stackedBar"&&"",g==="scatter"&&""]}),u.jsxs("span",{className:"chart-type-label",children:[g==="line"&&"Line Chart",g==="column"&&"Column",g==="stackedBar"&&"Stacked Bar",g==="scatter"&&"Scatter"]}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),x&&u.jsxs("div",{className:"chart-type-menu",children:[u.jsxs("div",{className:`chart-type-option ${g==="line"?"active":""}`,onClick:()=>{nt("line"),w(!1)},children:[u.jsx("span",{className:"chart-type-icon",children:""})," Line Chart"]}),u.jsxs("div",{className:`chart-type-option ${g==="column"?"active":""}`,onClick:()=>{nt("column"),w(!1)},children:[u.jsx("span",{className:"chart-type-icon",children:""})," Column"]}),u.jsxs("div",{className:`chart-type-option ${g==="stackedBar"?"active":""}`,onClick:()=>{nt("stackedBar"),w(!1)},children:[u.jsx("span",{className:"chart-type-icon",children:""})," Stacked Bar"]}),u.jsxs("div",{className:`chart-type-option ${g==="scatter"?"active":""}`,onClick:()=>{nt("scatter"),w(!1)},children:[u.jsx("span",{className:"chart-type-icon",children:""})," Scatter"]})]})]})]}),u.jsx("div",{className:"comex-chart-wrapper",children:F.datasets.length>0?u.jsx(xa,{type:"line",data:F,options:H}):u.jsx("div",{className:"no-data",children:u.jsxs("p",{children:["Khng c d liu cho ",l==="gold"?"vng":"bc"]})})})]})]})]})}gi.register(qr,Ji,Fa,Xr,pa,Xo,Qi,sr,vf);const NEt={background:"#0f172a",color:"#333",padding:"20px",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",minHeight:"100vh"},qk={background:"rgba(30, 41, 59, 0.23)",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0)",marginBottom:"24px",color:"#f9fbfc"},yw={padding:"16px",textAlign:"left",borderBottom:"1px solid #343638",color:"#ffffff",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},vw={padding:"16px",borderBottom:"1px solid #606775",fontSize:"14px",fontWeight:"500",color:"#ffffff"},e6={padding:"8px 16px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",transition:"background 0.2s"};function PEt(){const[n,t]=N.useState([]),[e,i]=N.useState(null),[r,a]=N.useState(!1),s=N.useRef(),[o,l]=N.useState(()=>{const w=new Date;return{month:w.getMonth()+1,year:w.getFullYear()}});N.useEffect(()=>{a(!0);const w=[];for(let A=0;A<1;A++){let T=o.month-A,R=o.year;T<=0&&(T+=12,R-=1),w.push({month:T,year:R})}const k=w.map(A=>`https://api_gold.thinkdiff.us/cftc_tuonglai_thang/${A.month}/${A.year}`);console.log(`[Fetch] ang gi API cho thng ${o.month}/${o.year}`),Promise.all(k.map(A=>fetch(A).then(T=>T.json()))).then(A=>{let T=[];A.forEach(G=>{G.status==="success"&&Array.isArray(G.ketqua)&&(T=T.concat(G.ketqua))});const R=T.sort((G,z)=>new Date(G.day)-new Date(z.day));t(R),i(null)}).catch(A=>console.error("Error:",A)).finally(()=>a(!1))},[o.month,o.year]);const c=w=>{l(k=>{let A=k.month+w,T=k.year;return A>12?(A=1,T+=1):A<1&&(A=12,T-=1),{month:A,year:T}})},h=(w,k)=>{const A=w?.find(T=>T.position_type===k);return A?A.positions:0},d=w=>{const{current:k}=s;if(!k)return;const A=iO(k,w);if(A.length>0){const{index:T}=A[0],R=n[T];if(R){const G=[...(R.vang||[]).map(Y=>({...Y,commodity:"Vng"})),...(R.bac||[]).map(Y=>({...Y,commodity:"Bc"}))],z=["Vng","Bc"],F=[h(R.vang,"Long"),h(R.bac,"Long")],H=[h(R.vang,"Short"),h(R.bac,"Short")];i({date:R.day,tableData:G,chartData:{labels:z,long:F,short:H}})}}},y={labels:n.map(w=>{const k=new Date(w.day);return`${k.getDate()}/${k.getMonth()+1}`}),datasets:[{label:"Tng Hp ng Vng",data:n.map(w=>h(w.vang,"Long")+h(w.vang,"Short")),backgroundColor:"#fbbf24",borderRadius:4},{label:"Tng Hp ng Bc",data:n.map(w=>h(w.bac,"Long")+h(w.bac,"Short")),backgroundColor:"#94a3b8",borderRadius:4}]},x={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"#e5e7eb",borderWidth:1,padding:10,displayColors:!1,callbacks:{label:w=>`${w.parsed.y.toLocaleString()} Hp ng`}}},scales:{y:{beginAtZero:!0,grid:{color:"#f3f4f6",borderDash:[5,5]},ticks:{color:"#9ca3af"}},x:{grid:{display:!1},ticks:{color:"#4b5563",font:{weight:"bold"}}}},elements:{line:{tension:.4},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#fff"}}};return u.jsxs("div",{style:NEt,children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[u.jsx("button",{onClick:()=>c(-1),style:e6,children:" Thng trc"}),u.jsxs("h2",{style:{margin:0,color:"#fcfdfd"},children:["LNG LU TR CA CFTC VNG BC - Thng ",o.month,"/",o.year]}),u.jsx("button",{onClick:()=>c(1),style:e6,children:"Thng sau "})]}),u.jsxs("div",{style:qk,children:[u.jsx("h3",{style:{margin:"0 0 16px 0",color:"#f5f5f5"},children:"Lch s giao dch"}),u.jsx("div",{style:{height:"300px"},children:u.jsx(bg,{ref:s,data:y,options:{maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},onClick:d})})]}),e&&u.jsxs("div",{className:"detail-section",children:[u.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:u.jsxs("span",{style:{background:"#dbeafe",color:"#1e40af",padding:"6px 16px",borderRadius:"20px",fontWeight:"bold",fontSize:"14px"},children:["D liu ngy: ",e.date]})}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[u.jsxs("div",{style:qk,children:[u.jsx("h4",{style:{margin:"0 0 12px 0",color:"#3b82f6",fontSize:"16px"},children:"V th Mua (Long)"}),u.jsx("div",{style:{height:"250px"},children:u.jsx(hf,{data:{labels:e.chartData.labels,datasets:[{data:e.chartData.long,borderColor:"#3b82f6",backgroundColor:w=>{const A=w.chart.ctx.createLinearGradient(0,0,0,250);return A.addColorStop(0,"rgba(59, 130, 246, 0.4)"),A.addColorStop(1,"rgba(59, 130, 246, 0.0)"),A},fill:!0,pointBorderColor:"#3b82f6"}]},options:x})})]}),u.jsxs("div",{style:qk,children:[u.jsx("h4",{style:{margin:"0 0 12px 0",color:"#6366f1",fontSize:"16px"},children:"V th Bn (Short)"}),u.jsx("div",{style:{height:"250px"},children:u.jsx(hf,{data:{labels:e.chartData.labels,datasets:[{data:e.chartData.short,borderColor:"#6366f1",backgroundColor:w=>{const A=w.chart.ctx.createLinearGradient(0,0,0,250);return A.addColorStop(0,"rgba(99, 102, 241, 0.4)"),A.addColorStop(1,"rgba(99, 102, 241, 0.0)"),A},fill:!0,pointBorderColor:"#6366f1"}]},options:x})})]})]}),u.jsxs("div",{style:{...qk,padding:"0",overflow:"hidden"},children:[u.jsx("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",background:"#1c1f22"},children:u.jsx("h4",{style:{margin:0,color:"#dadde3"},children:"Bng chi tit s liu"})}),u.jsx("div",{style:{overflowX:"auto"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"#1a1b1d"},children:[u.jsx("th",{style:yw,children:"Hng ha"}),u.jsx("th",{style:yw,children:"Loi V th"}),u.jsx("th",{style:{...yw,textAlign:"right"},children:"S lng"}),u.jsx("th",{style:{...yw,textAlign:"right"},children:"Thay i"}),u.jsx("th",{style:{...yw,textAlign:"right"},children:"K trc"})]})}),u.jsx("tbody",{children:e.tableData.map((w,k)=>u.jsxs("tr",{style:{":hover":{background:"#f9fafb"}},children:[u.jsx("td",{style:{...vw,color:w.commodity==="Vng"?"#e3a155":"#c6d0de",fontWeight:"bold"},children:w.commodity}),u.jsx("td",{style:vw,children:w.position_type==="Long"?u.jsx("span",{style:{color:"#2563eb",background:"#dbeafe",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:"MUA"}):w.position_type==="Short"?u.jsx("span",{style:{color:"#dc2626",background:"#fee2e2",padding:"2px 8px",borderRadius:"4px",fontSize:"12px"},children:"BN"}):"RNG"}),u.jsx("td",{style:{...vw,textAlign:"right",fontWeight:"bold"},children:Number(w.positions).toLocaleString()}),u.jsxs("td",{style:{...vw,textAlign:"right",color:w.change_val>0?"#16a34a":w.change_val<0?"#dc2626":"#9ca3af"},children:[w.change_val>0?"+":"",Number(w.change_val).toLocaleString()]}),u.jsx("td",{style:{...vw,textAlign:"right",color:"#6b7280"},children:Number(w.positions_prev).toLocaleString()})]},k))})]})})]})]})]})}gi.register(qr,Ji,pa,Xr,Qi,sr,vf);const bq=()=>{const n=Gi(),[t,e]=N.useState(!1),[i,r]=N.useState(null),[a,s]=N.useState([]),[o,l]=N.useState([]),[c,h]=N.useState("1M"),d=(H,Y)=>{const J=new Date(H);return Y==="1W"||Y==="1M"?`${J.getDate()}/${J.getMonth()+1}`:Y==="1Y"?`${J.getMonth()+1}/${J.getFullYear()}`:typeof Y=="number"?`Thg ${J.getMonth()+1}`:J.getFullYear().toString()},g=H=>{if(!a.length)return;const Y=[...a].sort((V,Z)=>V.time-Z.time),J=new Date(Y[Y.length-1].time);let nt=[];if(H==="ALL")nt=Y;else if(H==="1W"){const V=new Date(J);V.setDate(V.getDate()-7),nt=Y.filter(Z=>new Date(Z.time)>=V)}else if(H==="1M"){const V=new Date(J);V.setMonth(V.getMonth()-1),nt=Y.filter(Z=>new Date(Z.time)>=V)}else if(H==="1Y"){const V=new Date(J);V.setFullYear(V.getFullYear()-1),nt=Y.filter(Z=>new Date(Z.time)>=V)}else typeof H=="number"&&(nt=Y.filter(V=>new Date(V.time).getFullYear()===H));h(H),l(nt)};N.useEffect(()=>{(async()=>{e(!0),r(null);try{let Y=new Date,J=null,nt=0;const V=7;for(;!J&&nt<V;){const vt=String(Y.getDate()).padStart(2,"0"),St=String(Y.getMonth()+1).padStart(2,"0"),Pt=Y.getFullYear(),It=`${vt}_${St}_${Pt}`;try{const Nt=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${It}`);if(Nt.ok){const Et=await Nt.json();if(Et&&Array.isArray(Et.data)&&Et.data.length>0){J=Et;break}}}catch{console.warn(`Ngy ${It} khng c d liu hoc li kt ni.`)}Y.setDate(Y.getDate()-1),nt++}if(!J)throw new Error("Khng tm thy d liu trong 7 ngy gn nht.");const rt=J.data.reduce((vt,St)=>{const Pt=new Date(vt.modified_time.split("/").reverse().join("-"));return new Date(St.modified_time.split("/").reverse().join("-"))>Pt?St:vt}).link.split("/").pop().replace(".json",""),[lt,mt,ct,st,xt]=rt.split("_").map(vt=>parseInt(vt,10)),dt=i1(lt,mt,ct,st,xt);if(!dt)throw new Error("URL file khng hp l");const ot=(await Y_(dt)).data?.bieudo?.[4]?.data;if(!ot||!ot.length)throw new Error("File SHFE khng c d liu biu ");s(ot)}catch(Y){r(Y.message||"Li khi ti d liu")}finally{e(!1)}})()},[]),N.useEffect(()=>{a.length&&g("1M")},[a]);const y=N.useMemo(()=>{const H=a.map(Y=>new Date(Y.time).getFullYear());return[...new Set(H)].sort((Y,J)=>Y-J)},[a]),x=N.useMemo(()=>o.length?{labels:o.map(H=>d(H.time,c)),datasets:[{label:"SHFE",data:o.map(H=>H.usd),borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.25)",fill:!0,tension:.4,pointRadius:0}]}:null,[o,c]),w=H=>{if(!H||!H.length)return null;const Y=H[H.length-1];return{usd:Y.usd,time:Y.time}},k=N.useMemo(()=>w(o),[o]);function A(){const H=new Date;return new Date(H.getFullYear(),H.getMonth()+1,0).getDate()}const T=A(),R=[{label:"1 ngy",days:1},{label:"2 ngy",days:2},{label:"3 ngy",days:3},{label:"1 tun",days:7},{label:"1 thng",days:T},{label:"6 thng",days:T*6}],G=(H,Y)=>{if(!H||!H.length)return null;const J=new Date(Y);J.setHours(0,0,0,0);const nt=H.filter(V=>{const Z=new Date(V.time);return Z.setHours(0,0,0,0),Z.getTime()===J.getTime()});return nt.length?nt[nt.length-1]:null},z=N.useMemo(()=>{if(!a.length)return[];const H=[...a].sort((V,Z)=>V.time-Z.time),Y=H[H.length-1],J=new Date(Y.time),nt=G(H,J);return nt?R.map(V=>{const Z=new Date(J);Z.setDate(Z.getDate()-V.days);const rt=G(H,Z);if(!rt)return null;const lt=nt.usd-rt.usd,mt=lt/rt.usd*100;return{label:V.label,diff:lt,percent:mt,fromUsd:rt.usd,toUsd:nt.usd}}).filter(Boolean):[]},[a]),F={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{callbacks:{title:H=>{const Y=o[H[0].dataIndex];return new Date(Y.time).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})},label:H=>{const Y=o[H.dataIndex],J=Y.value;return[`Gi: ${Y.usd.toFixed(2)} USD`,`Value: ${J}`]}}}},scales:{y:{ticks:{callback:H=>`$${H}`,color:"#f59e0b"},title:{display:!0,text:"USD",color:"#f59e0b"}},x:{ticks:{color:"#fff"}}}};return t?u.jsx("div",{children:"ang ti SHFE..."}):i?u.jsxs("div",{children:["Li: ",i]}):x?u.jsxs("div",{style:{minHeight:700,height:"auto",width:"100%",padding:16,boxSizing:"border-box"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:30,cursor:"pointer"},onClick:()=>n("/chart/XOJ26"),children:"SHFE Silver Apr '26 (XOJ26) - Giao Dch Bc Tng Lai 26-Thng 4-2026"}),k&&u.jsxs("div",{style:{textAlign:"center",marginBottom:16,color:"#f59e0b",fontWeight:"bold",fontSize:18},children:["Gi USD cui ngy:"," ",k.usd.toFixed(2)," USD "," ",new Date(k.time).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})]}),u.jsxs("div",{style:{marginBottom:16},children:[u.jsx("h4",{style:{marginBottom:12,color:"#e5e7eb"},children:"T l thay i"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12},children:z.map(H=>{const Y=H.percent>=0;return u.jsxs("div",{style:{background:"#0f172a",borderRadius:12,padding:"16px 12px",textAlign:"center",boxShadow:"inset 0 0 0 1px #1e293b"},children:[u.jsx("div",{style:{fontSize:12,color:"#94a3b8",marginBottom:8,textTransform:"uppercase"},children:H.label}),u.jsxs("div",{style:{fontSize:20,fontWeight:700,color:Y?"#22c55e":"#ef4444"},children:[H.fromUsd.toFixed(2)," USD ",u.jsx("br",{}),H.percent.toFixed(2)," %"]})]},H.label)})})]}),u.jsx("div",{style:{height:300,width:"100%"},children:u.jsx(hf,{data:x,options:F})}),u.jsx("div",{style:{display:"flex",gap:8,marginTop:20,marginBottom:12,flexWrap:"wrap",justifyContent:"center"},children:["1W","1M","1Y","ALL"].map(H=>u.jsx("button",{onClick:()=>g(H),style:{padding:"6px 12px",background:c===H?"#f59e0b":"#1e293b",color:"#fff",border:"none",cursor:"pointer",borderRadius:"9999px",fontWeight:c===H?"bold":"normal",transition:"all 0.3s ease"},children:H},H))}),y.length>0&&u.jsxs("div",{style:{maxWidth:400,width:"100%",margin:"0 auto 12px auto",textAlign:"center"},children:[u.jsx("input",{type:"range",min:Math.min(...y),max:Math.max(...y),value:typeof c=="number"?c:y[0],onChange:H=>g(Number(H.target.value)),style:{width:"100%"}}),u.jsxs("div",{style:{marginTop:8,fontWeight:"bold"},children:["Chn theo: ",c]})]})]}):u.jsx("div",{children:"Khng c d liu"})};gi.register(qr,Ji,pa,Xr,Fa,Qi,sr,fd);const EEt=["7 ngy","30 ngy","90 ngy","1 nm"];function n6({type:n="gold",title:t="Biu  d tr vng ca Comex"}){const[e,i]=N.useState([]),[r,a]=N.useState("7 ngy");N.useEffect(()=>{const c=async h=>{try{const g=await(await fetch(h)).json();g&&g?.status==="success"&&i(g?.data)}catch(d){console.error(d)}};n==="gold"&&c("https://api_gold.thinkdiff.us/comex_gold_data"),n==="silver"&&c("https://api_gold.thinkdiff.us/comex_silver_data")},[]);const s=N.useMemo(()=>{let c=[];return r==="7 ngy"?c=e?.slice(-7):r==="30 ngy"?c=e?.slice(-30):r==="90 ngy"?c=e?.slice(-90):r==="1 nm"?c=e?.slice(-365):c=vR.cloneDeep(e),c},[r,e]),o={labels:s?.map(c=>c?.date),datasets:[{type:"line",label:"D tr(tn)",data:s?.map(c=>c?.value),borderColor:n==="gold"?"#FDE047":"#c9c3c3",backgroundColor:n==="gold"?"#FDE047":"#c9c3c3",tension:.3,pointRadius:2}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{x:{border:{color:"#c9c3c3"},grid:{color:"rgba(255,255,255,0.05)"},ticks:{callback:function(c,h){const d=this.getLabelForValue(c),[,g,y]=d.split("-");return`${y}/${g}`}}},y:{beginAtZero:!1,border:{color:"#c9c3c3"},grid:{color:"rgba(255,255,255,0.05)"},ticks:{callback:function(c){return c>=1e6?(c/1e6).toFixed(1)+"M":c}}}}};return u.jsxs("div",{children:[u.jsx("h2",{style:{textAlign:"center",color:n==="gold"?"#FDE047":"#c9c3c3"},children:t}),u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:u.jsx("div",{style:{display:"flex",gap:"10px",padding:"20px"},children:EEt.map(c=>{const h=r===c;return u.jsx("button",{onClick:()=>a(c),style:{backgroundColor:h?"#FDE047":"#4B5563",color:h?"#000000":"#E5E7EB",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:h?"bold":"normal",cursor:"pointer",transition:"all 0.2s",outline:"none"},children:c},c)})})}),u.jsx("div",{style:{height:"400px",width:"100%",margin:"0 auto",position:"relative",padding:"0 20px"},children:e.length>0?u.jsx(xa,{type:"line",data:o,options:l}):u.jsx("p",{style:{textAlign:"center",marginTop:"50px",color:"#9CA3AF"},children:"ang ti d liu..."})})]})}const i6={modes:{point(n,t){return PC(n,t,{intersect:!0})},nearest(n,t,e){return OEt(n,t,e)},x(n,t,e){return PC(n,t,{intersect:e.intersect,axis:"x"})},y(n,t,e){return PC(n,t,{intersect:e.intersect,axis:"y"})}}};function kR(n,t,e){return(i6.modes[e.mode]||i6.modes.nearest)(n,t,e)}function jEt(n,t,e){return e!=="x"&&e!=="y"?n.inRange(t.x,t.y,"x",!0)||n.inRange(t.x,t.y,"y",!0):n.inRange(t.x,t.y,e,!0)}function DEt(n,t,e){return e==="x"?{x:n.x,y:t.y}:e==="y"?{x:t.x,y:n.y}:t}function PC(n,t,e){return n.filter(i=>e.intersect?i.inRange(t.x,t.y):jEt(i,t,e.axis))}function OEt(n,t,e){let i=Number.POSITIVE_INFINITY;return PC(n,t,e).reduce((r,a)=>{const s=a.getCenterPoint(),o=DEt(t,s,e.axis),l=Pb(t,o);return l<i?(r=[a],i=l):l===i&&r.push(a),r},[]).sort((r,a)=>r._index-a._index).slice(0,1)}function n0(n,t,e){const i=Math.cos(e),r=Math.sin(e),a=t.x,s=t.y;return{x:a+i*(n.x-a)-r*(n.y-s),y:s+r*(n.x-a)+i*(n.y-s)}}const LEt=(n,t)=>t>n||n.length>t.length&&n.slice(0,t.length)===t,vx=.001,pT=(n,t,e)=>Math.min(e,Math.max(t,n)),wq=(n,t)=>n.value>=n.start-t&&n.value<=n.end+t;function REt(n,t,e){for(const i of Object.keys(n))n[i]=pT(n[i],t,e);return n}function IEt(n,t,e,i){return!n||!t||e<=0?!1:Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)<=Math.pow(e+i,2)}function _q(n,{x:t,y:e,x2:i,y2:r},a,{borderWidth:s,hitTolerance:o}){const l=(s+o)/2,c=n.x>=t-l-vx&&n.x<=i+l+vx,h=n.y>=e-l-vx&&n.y<=r+l+vx;return a==="x"?c:(a==="y"||c)&&h}function Sq(n,{rect:t,center:e},i,{rotation:r,borderWidth:a,hitTolerance:s}){const o=n0(n,e,to(-r));return _q(o,t,i,{borderWidth:a,hitTolerance:s})}function i0(n,t){const{centerX:e,centerY:i}=n.getProps(["centerX","centerY"],t);return{x:e,y:i}}function zEt(n,t,e,i=!0){const r=e.split(".");let a=0;for(const s of t.split(".")){const o=r[a++];if(parseInt(s,10)<parseInt(o,10))break;if(LEt(o,s)){if(i)throw new Error(`${n} v${e} is not supported. v${t} or newer is required.`);return!1}}return!0}const kq=n=>typeof n=="string"&&n.endsWith("%"),Cq=n=>parseFloat(n)/100,Aq=n=>pT(Cq(n),0,1),xw=(n,t)=>({x:n,y:t,x2:n,y2:t,width:0,height:0}),FEt={box:n=>xw(n.centerX,n.centerY),doughnutLabel:n=>xw(n.centerX,n.centerY),ellipse:n=>({centerX:n.centerX,centerY:n.centerX,radius:0,width:0,height:0}),label:n=>xw(n.centerX,n.centerY),line:n=>xw(n.x,n.y),point:n=>({centerX:n.centerX,centerY:n.centerY,radius:0,width:0,height:0}),polygon:n=>xw(n.centerX,n.centerY)};function CR(n,t){return t==="start"?0:t==="end"?n:kq(t)?Aq(t)*n:n/2}function qy(n,t,e=!0){return typeof t=="number"?t:kq(t)?(e?Aq(t):Cq(t))*n:n}function BEt(n,t){const{x:e,width:i}=n,r=t.textAlign;return r==="center"?e+i/2:r==="end"||r==="right"?e+i:e}function Tq(n,t,{borderWidth:e,position:i,xAdjust:r,yAdjust:a},s){const o=fi(s),l=t.width+(o?s.width:0)+e,c=t.height+(o?s.height:0)+e,h=AR(i),d=r6(n.x,l,r,h.x),g=r6(n.y,c,a,h.y);return{x:d,y:g,x2:d+l,y2:g+c,width:l,height:c,centerX:d+l/2,centerY:g+c/2}}function AR(n,t="center"){return fi(n)?{x:sn(n.x,t),y:sn(n.y,t)}:(n=sn(n,t),{x:n,y:n})}const Mq=(n,t)=>n&&n.autoFit&&t<1;function Nq(n,t){const e=n.font,i=Or(e)?e:[e];return Mq(n,t)?i.map(function(r){const a=is(r);return a.size=Math.floor(r.size*t),a.lineHeight=r.lineHeight,is(a)}):i.map(r=>is(r))}function Pq(n){return n&&(Tu(n.xValue)||Tu(n.yValue))}function r6(n,t,e=0,i){return n-CR(t,i)+e}function _1(n,t,e){const i=e.init;if(i){if(i===!0)return jq(t,e)}else return;return HEt(n,t,e)}function Eq(n,t,e){let i=!1;return t.forEach(r=>{Su(n[r])?(i=!0,e[r]=n[r]):Tu(e[r])&&delete e[r]}),i}function jq(n,t){const e=t.type||"line";return FEt[e](n)}function HEt(n,t,e){const i=Pn(e.init,[{chart:n,properties:t,options:e}]);if(i===!0)return jq(t,e);if(fi(i))return i}const jP=new Map,GEt=n=>isNaN(n)||n<=0,WEt=n=>n.reduce(function(t,e){return t+=e.string,t},"");function mT(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object HTMLImageElement]"||t==="[object HTMLCanvasElement]"}}function yT(n,{x:t,y:e},i){i&&(n.translate(t,e),n.rotate(to(i)),n.translate(-t,-e))}function em(n,t){if(t&&t.borderWidth)return n.lineCap=t.borderCapStyle||"butt",n.setLineDash(t.borderDash),n.lineDashOffset=t.borderDashOffset,n.lineJoin=t.borderJoinStyle||"miter",n.lineWidth=t.borderWidth,n.strokeStyle=t.borderColor,!0}function S1(n,t){n.shadowColor=t.backgroundShadowColor,n.shadowBlur=t.shadowBlur,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY}function vT(n,t){const e=t.content;if(mT(e))return{width:qy(e.width,t.width),height:qy(e.height,t.height)};const i=Nq(t),r=t.textStrokeWidth,a=Or(e)?e:[e],s=a.join()+WEt(i)+r+(n._measureText?"-spriting":"");return jP.has(s)||jP.set(s,VEt(n,a,i,r)),jP.get(s)}function Dq(n,t,e){const{x:i,y:r,width:a,height:s}=t;n.save(),S1(n,e);const o=em(n,e);n.fillStyle=e.backgroundColor,n.beginPath(),Eb(n,{x:i,y:r,w:a,h:s,radius:REt(Iy(e.borderRadius),0,Math.min(a,s)/2)}),n.closePath(),n.fill(),o&&(n.shadowColor=e.borderShadowColor,n.stroke()),n.restore()}function Oq(n,t,e,i){const r=e.content;if(mT(r)){n.save(),n.globalAlpha=KEt(e.opacity,r.style.opacity),n.drawImage(r,t.x,t.y,t.width,t.height),n.restore();return}const a=Or(r)?r:[r],s=Nq(e,i),o=e.color,l=Or(o)?o:[o],c=BEt(t,e),h=t.y+e.textStrokeWidth/2;n.save(),n.textBaseline="middle",n.textAlign=e.textAlign,UEt(n,e)&&XEt(n,{x:c,y:h},a,s),qEt(n,{x:c,y:h},a,{fonts:s,colors:l}),n.restore()}function UEt(n,t){if(t.textStrokeWidth>0)return n.lineJoin="round",n.miterLimit=2,n.lineWidth=t.textStrokeWidth,n.strokeStyle=t.textStrokeColor,!0}function YEt(n,t,e,i){const{radius:r,options:a}=t,s=a.pointStyle,o=a.rotation;let l=(o||0)*WD;if(mT(s)){n.save(),n.translate(e,i),n.rotate(l),n.drawImage(s,-s.width/2,-s.height/2,s.width,s.height),n.restore();return}GEt(r)||$Et(n,{x:e,y:i,radius:r,rotation:o,style:s,rad:l})}function $Et(n,{x:t,y:e,radius:i,rotation:r,style:a,rad:s}){let o,l,c,h;switch(n.beginPath(),a){default:n.arc(t,e,i,0,ba),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(s)*i,e-Math.cos(s)*i),s+=zC,n.lineTo(t+Math.sin(s)*i,e-Math.cos(s)*i),s+=zC,n.lineTo(t+Math.sin(s)*i,e-Math.cos(s)*i),n.closePath();break;case"rectRounded":h=i*.516,c=i-h,o=Math.cos(s+sd)*c,l=Math.sin(s+sd)*c,n.arc(t-o,e-l,h,s-hi,s-Ia),n.arc(t+l,e-o,h,s-Ia,s),n.arc(t+o,e+l,h,s,s+Ia),n.arc(t-l,e+o,h,s+Ia,s+hi),n.closePath();break;case"rect":if(!r){c=Math.SQRT1_2*i,n.rect(t-c,e-c,2*c,2*c);break}s+=sd;case"rectRot":o=Math.cos(s)*i,l=Math.sin(s)*i,n.moveTo(t-o,e-l),n.lineTo(t+l,e-o),n.lineTo(t+o,e+l),n.lineTo(t-l,e+o),n.closePath();break;case"crossRot":s+=sd;case"cross":o=Math.cos(s)*i,l=Math.sin(s)*i,n.moveTo(t-o,e-l),n.lineTo(t+o,e+l),n.moveTo(t+l,e-o),n.lineTo(t-l,e+o);break;case"star":o=Math.cos(s)*i,l=Math.sin(s)*i,n.moveTo(t-o,e-l),n.lineTo(t+o,e+l),n.moveTo(t+l,e-o),n.lineTo(t-l,e+o),s+=sd,o=Math.cos(s)*i,l=Math.sin(s)*i,n.moveTo(t-o,e-l),n.lineTo(t+o,e+l),n.moveTo(t+l,e-o),n.lineTo(t-l,e+o);break;case"line":o=Math.cos(s)*i,l=Math.sin(s)*i,n.moveTo(t-o,e-l),n.lineTo(t+o,e+l);break;case"dash":n.moveTo(t,e),n.lineTo(t+Math.cos(s)*i,e+Math.sin(s)*i);break}n.fill()}function VEt(n,t,e,i){n.save();const r=t.length;let a=0,s=i;for(let o=0;o<r;o++){const l=e[Math.min(o,e.length-1)];n.font=l.string;const c=t[o];a=Math.max(a,n.measureText(c).width+i),s+=l.lineHeight}return n.restore(),{width:a,height:s}}function XEt(n,{x:t,y:e},i,r){n.beginPath();let a=0;i.forEach(function(s,o){const l=r[Math.min(o,r.length-1)],c=l.lineHeight;n.font=l.string,n.strokeText(s,t,e+c/2+a),a+=c}),n.stroke()}function qEt(n,{x:t,y:e},i,{fonts:r,colors:a}){let s=0;i.forEach(function(o,l){const c=a[Math.min(l,a.length-1)],h=r[Math.min(l,r.length-1)],d=h.lineHeight;n.beginPath(),n.font=h.string,n.fillStyle=c,n.fillText(o,t,e+d/2+s),s+=d,n.fill()})}function KEt(n,t){const e=Gy(n)?n:t;return Gy(e)?pT(e,0,1):1}const Lq=["left","bottom","top","right"];function ZEt(n,t){const{pointX:e,pointY:i,options:r}=t,a=r.callout,s=a&&a.display&&njt(t,a);if(!s||rjt(t,a,s))return;if(n.save(),n.beginPath(),!em(n,a))return n.restore();const{separatorStart:l,separatorEnd:c}=QEt(t,s),{sideStart:h,sideEnd:d}=tjt(t,s,l);(a.margin>0||r.borderWidth===0)&&(n.moveTo(l.x,l.y),n.lineTo(c.x,c.y)),n.moveTo(h.x,h.y),n.lineTo(d.x,d.y);const g=n0({x:e,y:i},t.getCenterPoint(),to(-t.rotation));n.lineTo(g.x,g.y),n.stroke(),n.restore()}function QEt(n,t){const{x:e,y:i,x2:r,y2:a}=n,s=JEt(n,t);let o,l;return t==="left"||t==="right"?(o={x:e+s,y:i},l={x:o.x,y:a}):(o={x:e,y:i+s},l={x:r,y:o.y}),{separatorStart:o,separatorEnd:l}}function JEt(n,t){const{width:e,height:i,options:r}=n,a=r.callout.margin+r.borderWidth/2;return t==="right"?e+a:t==="bottom"?i+a:-a}function tjt(n,t,e){const{y:i,width:r,height:a,options:s}=n,o=s.callout.start,l=ejt(t,s.callout);let c,h;return t==="left"||t==="right"?(c={x:e.x,y:i+qy(a,o)},h={x:c.x+l,y:c.y}):(c={x:e.x+qy(r,o),y:e.y},h={x:c.x,y:c.y+l}),{sideStart:c,sideEnd:h}}function ejt(n,t){const e=t.side;return n==="left"||n==="top"?-e:e}function njt(n,t){const e=t.position;return Lq.includes(e)?e:ijt(n,t)}function ijt(n,t){const{x:e,y:i,x2:r,y2:a,width:s,height:o,pointX:l,pointY:c,centerX:h,centerY:d,rotation:g}=n,y={x:h,y:d},x=t.start,w=qy(s,x),k=qy(o,x),A=[e,e+w,e+w,r],T=[i+k,a,i,a],R=[];for(let G=0;G<4;G++){const z=n0({x:A[G],y:T[G]},y,to(g));R.push({position:Lq[G],distance:Pb(z,{x:l,y:c})})}return R.sort((G,z)=>G.distance-z.distance)[0].position}function rjt(n,t,e){const{pointX:i,pointY:r}=n,a=t.margin;let s=i,o=r;return e==="left"?s+=a:e==="right"?s-=a:e==="top"?o+=a:e==="bottom"&&(o-=a),n.inRange(s,o)}const a6={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function qb(n,t,e){return t=typeof t=="number"?t:n.parse(t),$a(t)?n.getPixelForValue(t):e}function Gx(n,t,e){const i=t[e];if(i||e==="scaleID")return i;const r=e.charAt(0),a=Object.values(n).filter(s=>s.axis&&s.axis===r);return a.length?a[0].id:r}function Rq(n,t){if(n){const e=n.options.reverse,i=qb(n,t.min,e?t.end:t.start),r=qb(n,t.max,e?t.start:t.end);return{start:i,end:r}}}function Iq(n,t){const{chartArea:e,scales:i}=n,r=i[Gx(i,t,"xScaleID")],a=i[Gx(i,t,"yScaleID")];let s=e.width/2,o=e.height/2;return r&&(s=qb(r,t.xValue,r.left+r.width/2)),a&&(o=qb(a,t.yValue,a.top+a.height/2)),{x:s,y:o}}function TR(n,t){const e=n.scales,i=e[Gx(e,t,"xScaleID")],r=e[Gx(e,t,"yScaleID")];if(!i&&!r)return{};let{left:a,right:s}=i||n.chartArea,{top:o,bottom:l}=r||n.chartArea;const c=s6(i,{min:t.xMin,max:t.xMax,start:a,end:s});a=c.start,s=c.end;const h=s6(r,{min:t.yMin,max:t.yMax,start:l,end:o});return o=h.start,l=h.end,{x:a,y:o,x2:s,y2:l,width:s-a,height:l-o,centerX:a+(s-a)/2,centerY:o+(l-o)/2}}function zq(n,t){if(!Pq(t)){const e=TR(n,t);let i=t.radius;(!i||isNaN(i))&&(i=Math.min(e.width,e.height)/2,t.radius=i);const r=i*2,a=e.centerX+t.xAdjust,s=e.centerY+t.yAdjust;return{x:a-i,y:s-i,x2:a+i,y2:s+i,centerX:a,centerY:s,width:r,height:r,radius:i}}return sjt(n,t)}function ajt(n,t){const{scales:e,chartArea:i}=n,r=e[t.scaleID],a={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return r?ojt(r,a,t):ljt(e,a,t),a}function Fq(n,t){const e=TR(n,t);return e.initProperties=_1(n,e,t),e.elements=[{type:"label",optionScope:"label",properties:hjt(n,e,t),initProperties:e.initProperties}],e}function sjt(n,t){const e=Iq(n,t),i=t.radius*2;return{x:e.x-t.radius+t.xAdjust,y:e.y-t.radius+t.yAdjust,x2:e.x+t.radius+t.xAdjust,y2:e.y+t.radius+t.yAdjust,centerX:e.x+t.xAdjust,centerY:e.y+t.yAdjust,radius:t.radius,width:i,height:i}}function s6(n,t){const e=Rq(n,t)||t;return{start:Math.min(e.start,e.end),end:Math.max(e.start,e.end)}}function ojt(n,t,e){const i=qb(n,e.value,NaN),r=qb(n,e.endValue,i);n.isHorizontal()?(t.x=i,t.x2=r):(t.y=i,t.y2=r)}function ljt(n,t,e){for(const i of Object.keys(a6)){const r=n[Gx(n,e,i)];if(r){const{min:a,max:s,start:o,end:l,startProp:c,endProp:h}=a6[i],d=Rq(r,{min:e[a],max:e[s],start:r[o],end:r[l]});t[c]=d.start,t[h]=d.end}}}function cjt({properties:n,options:t},e,i,r){const{x:a,x2:s,width:o}=n;return Bq({start:a,end:s,borderWidth:t.borderWidth},{position:i.x,padding:{start:r.left,end:r.right},adjust:t.label.xAdjust,size:e.width})}function ujt({properties:n,options:t},e,i,r){const{y:a,y2:s,height:o}=n;return Bq({start:a,end:s,borderWidth:t.borderWidth},{position:i.y,padding:{start:r.top,end:r.bottom},adjust:t.label.yAdjust,size:e.height})}function Bq(n,t){const{start:e,end:i,borderWidth:r}=n,{position:a,padding:{start:s,end:o},adjust:l}=t,c=i-r-e-s-o-t.size;return e+r/2+l+CR(c,a)}function hjt(n,t,e){const i=e.label;i.backgroundColor="transparent",i.callout.display=!1;const r=AR(i.position),a=Is(i.padding),s=vT(n.ctx,i),o=cjt({properties:t,options:e},s,r,a),l=ujt({properties:t,options:e},s,r,a),c=s.width+a.width,h=s.height+a.height;return{x:o,y:l,x2:o+c,y2:l+h,width:c,height:h,centerX:o+c/2,centerY:l+h/2,rotation:i.rotation}}const aD=["enter","leave"],MR=aD.concat("click");function djt(n,t,e){t.listened=Eq(e,MR,t.listeners),t.moveListened=!1,aD.forEach(i=>{Su(e[i])&&(t.moveListened=!0)}),(!t.listened||!t.moveListened)&&t.annotations.forEach(i=>{!t.listened&&Su(i.click)&&(t.listened=!0),t.moveListened||aD.forEach(r=>{Su(i[r])&&(t.listened=!0,t.moveListened=!0)})})}function fjt(n,t,e){if(n.listened)switch(t.type){case"mousemove":case"mouseout":return gjt(n,t,e);case"click":return pjt(n,t,e)}}function gjt(n,t,e){if(!n.moveListened)return;let i;t.type==="mousemove"?i=kR(n.visibleElements,t,e.interaction):i=[];const r=n.hovered;n.hovered=i;const a={state:n,event:t};let s=o6(a,"leave",r,i);return o6(a,"enter",i,r)||s}function o6({state:n,event:t},e,i,r){let a;for(const s of i)r.indexOf(s)<0&&(a=Hq(s.options[e]||n.listeners[e],s,t)||a);return a}function pjt(n,t,e){const i=n.listeners,r=kR(n.visibleElements,t,e.interaction);let a;for(const s of r)a=Hq(s.options.click||i.click,s,t)||a;return a}function Hq(n,t,e){return Pn(n,[t.$context,e])===!0}const nA=["afterDraw","beforeDraw"];function mjt(n,t,e){const i=t.visibleElements;t.hooked=Eq(e,nA,t.hooks),t.hooked||i.forEach(r=>{t.hooked||nA.forEach(a=>{Su(r.options[a])&&(t.hooked=!0)})})}function l6(n,t,e){if(n.hooked){const i=t.options[e]||n.hooks[e];return Pn(i,[t.$context])}}function yjt(n,t,e){const i=_jt(n.scales,t,e);let r=c6(t,i,"min","suggestedMin");r=c6(t,i,"max","suggestedMax")||r,r&&Su(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function vjt(n,t){for(const e of n)bjt(e,t)}function c6(n,t,e,i){if($a(t[e])&&!xjt(n.options,e,i)){const r=n[e]!==t[e];return n[e]=t[e],r}}function xjt(n,t,e){return Tu(n[t])||Tu(n[e])}function bjt(n,t){for(const e of["scaleID","xScaleID","yScaleID"]){const i=Gx(t,n,e);i&&!t[i]&&wjt(n,e)&&console.warn(`No scale found with id '${i}' for annotation '${n.id}'`)}}function wjt(n,t){if(t==="scaleID")return!0;const e=t.charAt(0);for(const i of["Min","Max","Value"])if(Tu(n[e+i]))return!0;return!1}function _jt(n,t,e){const i=t.axis,r=t.id,a=i+"ScaleID",s={min:sn(t.min,Number.NEGATIVE_INFINITY),max:sn(t.max,Number.POSITIVE_INFINITY)};for(const o of e)o.scaleID===r?u6(o,t,["value","endValue"],s):Gx(n,o,a)===r&&u6(o,t,[i+"Min",i+"Max",i+"Value"],s);return s}function u6(n,t,e,i){for(const r of e){const a=n[r];if(Tu(a)){const s=t.parse(a);i.min=Math.min(i.min,s),i.max=Math.max(i.max,s)}}}class k1 extends ac{inRange(t,e,i,r){const{x:a,y:s}=n0({x:t,y:e},this.getCenterPoint(r),to(-this.options.rotation));return _q({x:a,y:s},this.getProps(["x","y","x2","y2"],r),i,this.options)}getCenterPoint(t){return i0(this,t)}draw(t){t.save(),yT(t,this.getCenterPoint(),this.options.rotation),Dq(t,this,this.options),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return Fq(t,e)}}k1.id="boxAnnotation";k1.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};k1.defaultRoutes={borderColor:"color",backgroundColor:"color"};k1.descriptors={label:{_fallback:!0}};class xT extends ac{inRange(t,e,i,r){return Sq({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},i,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return i0(this,t)}draw(t){const e=this.options;!e.display||!e.content||(Mjt(t,this),t.save(),yT(t,this.getCenterPoint(),this.rotation),Oq(t,this,e,this._fitRatio),t.restore())}resolveElementProperties(t,e){const i=Sjt(t,e);if(!i)return{};const{controllerMeta:r,point:a,radius:s}=Cjt(t,e,i);let o=vT(t.ctx,e);const l=Ajt(o,s);Mq(e,l)&&(o={width:o.width*l,height:o.height*l});const{position:c,xAdjust:h,yAdjust:d}=e,g=Tq(a,o,{borderWidth:0,position:c,xAdjust:h,yAdjust:d});return{initProperties:_1(t,g,e),...g,...r,rotation:e.rotation,_fitRatio:l}}}xT.id="doughnutLabelAnnotation";xT.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};xT.defaultRoutes={};function Sjt(n,t){return n.getSortedVisibleDatasetMetas().reduce(function(e,i){const r=i.controller;return r instanceof yA&&kjt(n,t,i.data)&&(!e||r.innerRadius<e.controller.innerRadius)&&r.options.circumference>=90?i:e},void 0)}function kjt(n,t,e){if(!t.autoHide)return!0;for(let i=0;i<e.length;i++)if(!e[i].hidden&&n.getDataVisibility(i))return!0}function Cjt({chartArea:n},t,e){const{left:i,top:r,right:a,bottom:s}=n,{innerRadius:o,offsetX:l,offsetY:c}=e.controller,h=(i+a)/2+l,d=(r+s)/2+c,g={left:Math.max(h-o,i),right:Math.min(h+o,a),top:Math.max(d-o,r),bottom:Math.min(d+o,s)},y={x:(g.left+g.right)/2,y:(g.top+g.bottom)/2},x=t.spacing+t.borderWidth/2,w=o-x,k=y.y>d,A=k?r+x:s-x,T=Tjt(A,h,d,w);return{controllerMeta:{_centerX:h,_centerY:d,_radius:w,_counterclockwise:k,...T},point:y,radius:Math.min(o,Math.min(g.right-g.left,g.bottom-g.top)/2)}}function Ajt({width:n,height:t},e){const i=Math.sqrt(Math.pow(n,2)+Math.pow(t,2));return e*2/i}function Tjt(n,t,e,i){const r=Math.pow(e-n,2),a=Math.pow(i,2),s=t*-2,o=Math.pow(t,2)+r-a,l=Math.pow(s,2)-4*o;if(l<=0)return{_startAngle:0,_endAngle:ba};const c=(-s-Math.sqrt(l))/2,h=(-s+Math.sqrt(l))/2;return{_startAngle:FC({x:t,y:e},{x:c,y:n}).angle,_endAngle:FC({x:t,y:e},{x:h,y:n}).angle}}function Mjt(n,t){const{_centerX:e,_centerY:i,_radius:r,_startAngle:a,_endAngle:s,_counterclockwise:o,options:l}=t;n.save();const c=em(n,l);n.fillStyle=l.backgroundColor,n.beginPath(),n.arc(e,i,r,a,s,o),n.closePath(),n.fill(),c&&n.stroke(),n.restore()}class AS extends ac{inRange(t,e,i,r){return Sq({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},i,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return i0(this,t)}draw(t){const e=this.options,i=!Tu(this._visible)||this._visible;!e.display||!e.content||!i||(t.save(),yT(t,this.getCenterPoint(),this.rotation),ZEt(t,this),Dq(t,this,e),Oq(t,Njt(this),e),t.restore())}resolveElementProperties(t,e){let i;if(Pq(e))i=Iq(t,e);else{const{centerX:o,centerY:l}=TR(t,e);i={x:o,y:l}}const r=Is(e.padding),a=vT(t.ctx,e),s=Tq(i,a,e,r);return{initProperties:_1(t,s,e),pointX:i.x,pointY:i.y,...s,rotation:e.rotation}}}AS.id="labelAnnotation";AS.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};AS.defaultRoutes={borderColor:"color"};function Njt({x:n,y:t,width:e,height:i,options:r}){const a=r.borderWidth/2,s=Is(r.padding);return{x:n+s.left+a,y:t+s.top+a,width:e-s.left-s.right-r.borderWidth,height:i-s.top-s.bottom-r.borderWidth}}const NR=(n,t,e)=>({x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}),sD=(n,t,e)=>NR(t,e,Math.abs((n-t.y)/(e.y-t.y))).x,h6=(n,t,e)=>NR(t,e,Math.abs((n-t.x)/(e.x-t.x))).y,Rw=n=>n*n,Pjt=(n,t,{x:e,y:i,x2:r,y2:a},s)=>s==="y"?{start:Math.min(i,a),end:Math.max(i,a),value:t}:{start:Math.min(e,r),end:Math.max(e,r),value:n},d6=(n,t,e,i)=>(1-i)*(1-i)*n+2*(1-i)*i*t+i*i*e,oD=(n,t,e,i)=>({x:d6(n.x,t.x,e.x,i),y:d6(n.y,t.y,e.y,i)}),f6=(n,t,e,i)=>2*(1-i)*(t-n)+2*i*(e-t),g6=(n,t,e,i)=>-Math.atan2(f6(n.x,t.x,e.x,i),f6(n.y,t.y,e.y,i))+.5*hi;class TS extends ac{inRange(t,e,i,r){const a=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y"){const s={mouseX:t,mouseY:e},{path:o,ctx:l}=this;if(o){em(l,this.options),l.lineWidth+=this.options.hitTolerance;const{chart:h}=this.$context,d=t*h.currentDevicePixelRatio,g=e*h.currentDevicePixelRatio,y=l.isPointInStroke(o,d,g)||lD(this,s,r);return l.restore(),y}const c=Rw(a);return Ojt(this,s,c,r)||lD(this,s,r)}return Ejt(this,{mouseX:t,mouseY:e},i,{hitSize:a,useFinalPosition:r})}getCenterPoint(t){return i0(this,t)}draw(t){const{x:e,y:i,x2:r,y2:a,cp:s,options:o}=this;if(t.save(),!em(t,o))return t.restore();S1(t,o);const l=Math.sqrt(Math.pow(r-e,2)+Math.pow(a-i,2));if(o.curve&&s)return Gjt(t,this,s,l),t.restore();const{startOpts:c,endOpts:h,startAdjust:d,endAdjust:g}=Gq(this),y=Math.atan2(a-i,r-e);t.translate(e,i),t.rotate(y),t.beginPath(),t.moveTo(0+d,0),t.lineTo(l-g,0),t.shadowColor=o.borderShadowColor,t.stroke(),cD(t,0,d,c),cD(t,l,-g,h),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){const i=ajt(t,e),{x:r,y:a,x2:s,y2:o}=i,l=jjt(i,t.chartArea),c=l?Djt({x:r,y:a},{x:s,y:o},t.chartArea):{x:r,y:a,x2:s,y2:o,width:Math.abs(s-r),height:Math.abs(o-a)};if(c.centerX=(s+r)/2,c.centerY=(o+a)/2,c.initProperties=_1(t,c,e),e.curve){const d={x:c.x,y:c.y},g={x:c.x2,y:c.y2};c.cp=Hjt(c,e,Pb(d,g))}const h=Ljt(t,c,e.label);return h._visible=l,c.elements=[{type:"label",optionScope:"label",properties:h,initProperties:c.initProperties}],c}}TS.id="lineAnnotation";const p6={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};TS.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},p6),fill:!1,length:12,start:Object.assign({},p6),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},AS.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};TS.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};TS.defaultRoutes={borderColor:"color"};function Ejt(n,{mouseX:t,mouseY:e},i,{hitSize:r,useFinalPosition:a}){const s=Pjt(t,e,n.getProps(["x","y","x2","y2"],a),i);return wq(s,r)||lD(n,{mouseX:t,mouseY:e},a,i)}function jjt({x:n,y:t,x2:e,y2:i},{top:r,right:a,bottom:s,left:o}){return!(n<o&&e<o||n>a&&e>a||t<r&&i<r||t>s&&i>s)}function m6({x:n,y:t},e,{top:i,right:r,bottom:a,left:s}){return n<s&&(t=h6(s,{x:n,y:t},e),n=s),n>r&&(t=h6(r,{x:n,y:t},e),n=r),t<i&&(n=sD(i,{x:n,y:t},e),t=i),t>a&&(n=sD(a,{x:n,y:t},e),t=a),{x:n,y:t}}function Djt(n,t,e){const{x:i,y:r}=m6(n,t,e),{x:a,y:s}=m6(t,n,e);return{x:i,y:r,x2:a,y2:s,width:Math.abs(a-i),height:Math.abs(s-r)}}function Ojt(n,{mouseX:t,mouseY:e},i=vx,r){const{x:a,y:s,x2:o,y2:l}=n.getProps(["x","y","x2","y2"],r),c=o-a,h=l-s,d=Rw(c)+Rw(h),g=d===0?-1:((t-a)*c+(e-s)*h)/d;let y,x;return g<0?(y=a,x=s):g>1?(y=o,x=l):(y=a+g*c,x=s+g*h),Rw(t-y)+Rw(e-x)<=i}function lD(n,{mouseX:t,mouseY:e},i,r){const a=n.label;return a.options.display&&a.inRange(t,e,r,i)}function Ljt(n,t,e){const i=e.borderWidth,r=Is(e.padding),a=vT(n.ctx,e),s=a.width+r.width+i,o=a.height+r.height+i;return Ijt(t,e,{width:s,height:o,padding:r},n.chartArea)}function Rjt(n){const{x:t,y:e,x2:i,y2:r}=n,a=Math.atan2(r-e,i-t);return a>hi/2?a-hi:a<hi/-2?a+hi:a}function Ijt(n,t,e,i){const{width:r,height:a,padding:s}=e,{xAdjust:o,yAdjust:l}=t,c={x:n.x,y:n.y},h={x:n.x2,y:n.y2},d=t.rotation==="auto"?Rjt(n):to(t.rotation),g=zjt(r,a,d),y=Fjt(n,t,{labelSize:g,padding:s},i),x=n.cp?oD(c,n.cp,h,y):NR(c,h,y),w={size:g.w,min:i.left,max:i.right,padding:s.left},k={size:g.h,min:i.top,max:i.bottom,padding:s.top},A=v6(x.x,w)+o,T=v6(x.y,k)+l;return{x:A-r/2,y:T-a/2,x2:A+r/2,y2:T+a/2,centerX:A,centerY:T,pointX:x.x,pointY:x.y,width:r,height:a,rotation:gA(d)}}function zjt(n,t,e){const i=Math.cos(e),r=Math.sin(e);return{w:Math.abs(n*i)+Math.abs(t*r),h:Math.abs(n*r)+Math.abs(t*i)}}function Fjt(n,t,e,i){let r;const a=Bjt(n,i);return t.position==="start"?r=y6({w:n.x2-n.x,h:n.y2-n.y},e,t,a):t.position==="end"?r=1-y6({w:n.x-n.x2,h:n.y-n.y2},e,t,a):r=CR(1,t.position),r}function y6(n,t,e,i){const{labelSize:r,padding:a}=t,s=n.w*i.dx,o=n.h*i.dy,l=s>0&&(r.w/2+a.left-i.x)/s,c=o>0&&(r.h/2+a.top-i.y)/o;return pT(Math.max(l,c),0,.25)}function Bjt(n,t){const{x:e,x2:i,y:r,y2:a}=n,s=Math.min(r,a)-t.top,o=Math.min(e,i)-t.left,l=t.bottom-Math.max(r,a),c=t.right-Math.max(e,i);return{x:Math.min(o,c),y:Math.min(s,l),dx:o<=c?1:-1,dy:s<=l?1:-1}}function v6(n,t){const{size:e,min:i,max:r,padding:a}=t,s=e/2;return e>r-i?(r+i)/2:(i>=n-a-s&&(n=i+a+s),r<=n+a+s&&(n=r-a-s),n)}function Gq(n){const t=n.options,e=t.arrowHeads&&t.arrowHeads.start,i=t.arrowHeads&&t.arrowHeads.end;return{startOpts:e,endOpts:i,startAdjust:x6(n,e),endAdjust:x6(n,i)}}function x6(n,t){if(!t||!t.display)return 0;const{length:e,width:i}=t,r=n.options.borderWidth/2,a={x:e,y:i+r};return Math.abs(sD(0,a,{x:0,y:r}))}function cD(n,t,e,i){if(!i||!i.display)return;const{length:r,width:a,fill:s,backgroundColor:o,borderColor:l}=i,c=Math.abs(t-r)+e;n.beginPath(),S1(n,i),em(n,i),n.moveTo(c,-a),n.lineTo(t+e,0),n.lineTo(c,a),s===!0?(n.fillStyle=o||l,n.closePath(),n.fill(),n.shadowColor="transparent"):n.shadowColor=i.borderShadowColor,n.stroke()}function Hjt(n,t,e){const{x:i,y:r,x2:a,y2:s,centerX:o,centerY:l}=n,c=Math.atan2(s-r,a-i),h=AR(t.controlPoint,0),d={x:o+qy(e,h.x,!1),y:l+qy(e,h.y,!1)};return n0(d,{x:o,y:l},c)}function b6(n,{x:t,y:e},{angle:i,adjust:r},a){!a||!a.display||(n.save(),n.translate(t,e),n.rotate(i),cD(n,0,-r,a),n.restore())}function Gjt(n,t,e,i){const{x:r,y:a,x2:s,y2:o,options:l}=t,{startOpts:c,endOpts:h,startAdjust:d,endAdjust:g}=Gq(t),y={x:r,y:a},x={x:s,y:o},w=g6(y,e,x,0),k=g6(y,e,x,1)-hi,A=oD(y,e,x,d/i),T=oD(y,e,x,1-g/i),R=new Path2D;n.beginPath(),R.moveTo(A.x,A.y),R.quadraticCurveTo(e.x,e.y,T.x,T.y),n.shadowColor=l.borderShadowColor,n.stroke(R),t.path=R,t.ctx=n,b6(n,A,{angle:w,adjust:d},c),b6(n,T,{angle:k,adjust:g},h)}class MS extends ac{inRange(t,e,i,r){const a=this.options.rotation,s=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y")return Wjt({x:t,y:e},this.getProps(["width","height","centerX","centerY"],r),a,s);const{x:o,y:l,x2:c,y2:h}=this.getProps(["x","y","x2","y2"],r),d=i==="y"?{start:l,end:h}:{start:o,end:c},g=n0({x:t,y:e},this.getCenterPoint(r),to(-a));return g[i]>=d.start-s-vx&&g[i]<=d.end+s+vx}getCenterPoint(t){return i0(this,t)}draw(t){const{width:e,height:i,centerX:r,centerY:a,options:s}=this;t.save(),yT(t,this.getCenterPoint(),s.rotation),S1(t,this.options),t.beginPath(),t.fillStyle=s.backgroundColor;const o=em(t,s);t.ellipse(r,a,i/2,e/2,hi/2,0,2*hi),t.fill(),o&&(t.shadowColor=s.borderShadowColor,t.stroke()),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return Fq(t,e)}}MS.id="ellipseAnnotation";MS.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},k1.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};MS.defaultRoutes={borderColor:"color",backgroundColor:"color"};MS.descriptors={label:{_fallback:!0}};function Wjt(n,t,e,i){const{width:r,height:a,centerX:s,centerY:o}=t,l=r/2,c=a/2;if(l<=0||c<=0)return!1;const h=to(e||0),d=Math.cos(h),g=Math.sin(h),y=Math.pow(d*(n.x-s)+g*(n.y-o),2),x=Math.pow(g*(n.x-s)-d*(n.y-o),2);return y/Math.pow(l+i,2)+x/Math.pow(c+i,2)<=1.0001}class bT extends ac{inRange(t,e,i,r){const{x:a,y:s,x2:o,y2:l,width:c}=this.getProps(["x","y","x2","y2","width"],r),h=(this.options.borderWidth+this.options.hitTolerance)/2;return i!=="x"&&i!=="y"?IEt({x:t,y:e},this.getCenterPoint(r),c/2,h):wq(i==="y"?{start:s,end:l,value:e}:{start:a,end:o,value:t},h)}getCenterPoint(t){return i0(this,t)}draw(t){const e=this.options,i=e.borderWidth;if(e.radius<.1)return;t.save(),t.fillStyle=e.backgroundColor,S1(t,e);const r=em(t,e);YEt(t,this,this.centerX,this.centerY),r&&!mT(e.pointStyle)&&(t.shadowColor=e.borderShadowColor,t.stroke()),t.restore(),e.borderWidth=i}resolveElementProperties(t,e){const i=zq(t,e);return i.initProperties=_1(t,i,e),i}}bT.id="pointAnnotation";bT.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};bT.defaultRoutes={borderColor:"color",backgroundColor:"color"};class wT extends ac{inRange(t,e,i,r){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&Yjt(this.elements,t,e,r);const a=n0({x:t,y:e},this.getCenterPoint(r),to(-this.options.rotation)),s=this.elements.map(c=>i==="y"?c.bY:c.bX),o=Math.min(...s),l=Math.max(...s);return a[i]>=o&&a[i]<=l}getCenterPoint(t){return i0(this,t)}draw(t){const{elements:e,options:i}=this;t.save(),t.beginPath(),t.fillStyle=i.backgroundColor,S1(t,i);const r=em(t,i);let a=!0;for(const s of e)a?(t.moveTo(s.x,s.y),a=!1):t.lineTo(s.x,s.y);t.closePath(),t.fill(),r&&(t.shadowColor=i.borderShadowColor,t.stroke()),t.restore()}resolveElementProperties(t,e){const i=zq(t,e),{sides:r,rotation:a}=e,s=[],o=2*hi/r;let l=a*WD;for(let c=0;c<r;c++,l+=o){const h=Ujt(i,e,l);h.initProperties=_1(t,i,e),s.push(h)}return i.elements=s,i}}wT.id="polygonAnnotation";wT.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};wT.defaultRoutes={borderColor:"color",backgroundColor:"color"};function Ujt({centerX:n,centerY:t},{radius:e,borderWidth:i,hitTolerance:r},a){const s=(i+r)/2,o=Math.sin(a),l=Math.cos(a),c={x:n+o*e,y:t-l*e};return{type:"point",optionScope:"point",properties:{x:c.x,y:c.y,centerX:c.x,centerY:c.y,bX:n+o*(e+s),bY:t-l*(e+s)}}}function Yjt(n,t,e,i){let r=!1,a=n[n.length-1].getProps(["bX","bY"],i);for(const s of n){const o=s.getProps(["bX","bY"],i);o.bY>e!=a.bY>e&&t<(a.bX-o.bX)*(e-o.bY)/(a.bY-o.bY)+o.bX&&(r=!r),a=o}return r}const By={box:k1,doughnutLabel:xT,ellipse:MS,label:AS,line:TS,point:bT,polygon:wT};Object.keys(By).forEach(n=>{gr.describe(`elements.${By[n].id}`,{_fallback:"plugins.annotation.common"})});const $jt={update:Object.assign},Vjt=MR.concat(nA),w6=(n,t)=>fi(t)?hD(n,t):n,uD=n=>n==="color"||n==="font";function PR(n="line"){return By[n]?n:(console.warn(`Unknown annotation type: '${n}', defaulting to 'line'`),"line")}function Xjt(n,t,e,i){const r=Kjt(n,e.animations,i),a=t.annotations,s=Jjt(t.elements,a);for(let o=0;o<a.length;o++){const l=a[o],c=Wq(s,o,l.type),h=l.setContext(Qjt(n,c,s,l)),d=c.resolveElementProperties(n,h);d.skip=qjt(d),"elements"in d&&(Zjt(c,d.elements,h,r),delete d.elements),Tu(c.x)||Object.assign(c,d),Object.assign(c,d.initProperties),d.options=Uq(h),r.update(c,d)}}function qjt(n){return isNaN(n.x)||isNaN(n.y)}function Kjt(n,t,e){return e==="reset"||e==="none"||e==="resize"?$jt:new JD(n,t)}function Zjt(n,t,e,i){const r=n.elements||(n.elements=[]);r.length=t.length;for(let a=0;a<t.length;a++){const s=t[a],o=s.properties,l=Wq(r,a,s.type,s.initProperties),c=e[s.optionScope].override(s);o.options=Uq(c),i.update(l,o)}}function Wq(n,t,e,i){const r=By[PR(e)];let a=n[t];return(!a||!(a instanceof r))&&(a=n[t]=new r,Object.assign(a,i)),a}function Uq(n){const t=By[PR(n.type)],e={};e.id=n.id,e.type=n.type,e.drawTime=n.drawTime,Object.assign(e,hD(n,t.defaults),hD(n,t.defaultRoutes));for(const i of Vjt)e[i]=n[i];return e}function hD(n,t){const e={};for(const i of Object.keys(t)){const r=t[i],a=n[i];uD(i)&&Or(a)?e[i]=a.map(s=>w6(s,r)):e[i]=w6(a,r)}return e}function Qjt(n,t,e,i){return t.$context||(t.$context=Object.assign(Object.create(n.getContext()),{element:t,get elements(){return e.filter(r=>r&&r.options)},id:i.id,type:"annotation"}))}function Jjt(n,t){const e=t.length,i=n.length;if(i<e){const r=e-i;n.splice(i,0,...new Array(r))}else i>e&&n.splice(e,i-e);return n}var tDt="3.1.0";const _y=new Map,_6=n=>n.type!=="doughnutLabel",eDt=MR.concat(nA);var nDt={id:"annotation",version:tDt,beforeRegister(){zEt("chart.js","4.0",gi.version)},afterRegister(){gi.register(By)},afterUnregister(){gi.unregister(By)},beforeInit(n){_y.set(n,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(n,t,e){const i=_y.get(n),r=i.annotations=[];let a=e.annotations;fi(a)?Object.keys(a).forEach(s=>{const o=a[s];fi(o)&&(o.id=s,r.push(o))}):Or(a)&&r.push(...a),vjt(r.filter(_6),n.scales)},afterDataLimits(n,t){const e=_y.get(n);yjt(n,t.scale,e.annotations.filter(_6).filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(n,t,e){const i=_y.get(n);djt(n,i,e),Xjt(n,i,e,t.mode),i.visibleElements=i.elements.filter(r=>!r.skip&&r.options.display),mjt(n,i,e)},beforeDatasetsDraw(n,t,e){bw(n,"beforeDatasetsDraw",e.clip)},afterDatasetsDraw(n,t,e){bw(n,"afterDatasetsDraw",e.clip)},beforeDatasetDraw(n,t,e){bw(n,t.index,e.clip)},beforeDraw(n,t,e){bw(n,"beforeDraw",e.clip)},afterDraw(n,t,e){bw(n,"afterDraw",e.clip)},beforeEvent(n,t,e){const i=_y.get(n);fjt(i,t.event,e)&&(t.changed=!0)},afterDestroy(n){_y.delete(n)},getAnnotations(n){const t=_y.get(n);return t?t.elements:[]},_getAnnotationElementsAtEventForMode(n,t,e){return kR(n,t,e)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:n=>!eDt.includes(n)&&n!=="init",annotations:{_allKeys:!1,_fallback:(n,t)=>`elements.${By[PR(t.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:uD,_fallback:!0},_indexable:uD}},additionalOptionScopes:[""]};function bw(n,t,e){const{ctx:i,chartArea:r}=n,a=_y.get(n);e&&e1(i,r);const s=iDt(a.visibleElements,t).sort((o,l)=>o.element.options.z-l.element.options.z);for(const o of s)rDt(i,r,a,o);e&&n1(i)}function iDt(n,t){const e=[];for(const i of n)if(i.options.drawTime===t&&e.push({element:i,main:!0}),i.elements&&i.elements.length)for(const r of i.elements)r.options.display&&r.options.drawTime===t&&e.push({element:r});return e}function rDt(n,t,e,i){const r=i.element;i.main?(l6(e,r,"beforeDraw"),r.draw(n,t),l6(e,r,"afterDraw")):r.draw(n,t)}gi.register(qr,Ji,pa,Xr,Fa,Xo,Qi,sr,vf,dh,nDt);const Yq=()=>{const[n,t]=N.useState("silver"),[e,i]=N.useState("30d"),[r,a]=N.useState(!1),[s,o]=N.useState("line"),[l,c]=N.useState({labels:[],datasets:[]}),[h,d]=N.useState({labels:[],datasets:[]}),[g,y]=N.useState({high:0,low:0,current:0}),[x,w]=N.useState({day1:0,day2:0,day3:0,week1:0,month1:0,month6:0}),[k,A]=N.useState(!0),[T,R]=N.useState({gold:[],silver:[]}),G=N.useRef(null),z=N.useRef(null),F=V=>{try{return gb(new Date(V),"dd/MM")}catch{return V}};N.useEffect(()=>{(async()=>{try{A(!0);const rt=(await sa.get("https://api_gold.thinkdiff.us/FOMO_history_vang_bac")).data;R({silver:rt.chi_so_fomo_bac||[],gold:rt.chi_so_fomo_vang||[]}),A(!1)}catch(Z){console.error("Error fetching data:",Z),A(!1)}})()},[]),N.useEffect(()=>{const V=n==="silver"?T.silver:T.gold;if(!V||V.length===0){c({labels:[],datasets:[]}),d({labels:[],datasets:[]});return}const Z=[...V].sort((Rt,ee)=>new Date(Rt.datatime)-new Date(ee.datatime)),rt=n==="silver"?"fomo_bac":"fomo_vang",lt=n==="silver"?"gia_bac_kitco":"gia_vang_kitco",mt=Z.map(Rt=>typeof Rt[rt]=="number"?Rt[rt]:0),ct=Z[Z.length-1],st=new Date(ct.datatime).getTime(),xt=ct[rt]||0;y({high:Math.max(...mt),low:Math.min(...mt),current:xt});const dt=Rt=>{const ee=st-Rt*24*60*60*1e3;return Z.reduce((Jt,ue)=>{const Te=new Date(Jt.datatime).getTime(),qe=new Date(ue.datatime).getTime();return Math.abs(qe-ee)<Math.abs(Te-ee)?ue:Jt})[rt]||0},ht=Rt=>{const ee=dt(Rt);return!ee||ee===0?0:(xt-ee)/ee*100};w({day1:ht(1),day2:ht(2),day3:ht(3),week1:ht(7),month1:ht(30),month6:ht(180)});const ot=new Date;let vt;switch(e){case"7d":vt=yk(ot,7);break;case"30d":vt=yk(ot,30);break;case"90d":vt=yk(ot,90);break;case"1y":vt=yk(ot,365);break;default:vt=null}const St=vt?Z.filter(Rt=>uat(new Date(Rt.datatime),vt)):Z,Pt=St.map(Rt=>F(Rt.datatime)),It=St.map(Rt=>Rt[rt]||0),Nt=St.map(Rt=>Rt[lt]||0),Et=G.current?.canvas;let Yt=null;Et&&(Yt=Et.getContext("2d").createLinearGradient(0,0,0,400),Yt.addColorStop(0,"rgba(59, 130, 246, 0.5)"),Yt.addColorStop(1,"rgba(59, 130, 246, 0.0)")),c({labels:Pt,datasets:[{type:s,label:n==="silver"?"Ch s FOMO Bc":"Ch s FOMO Vng",data:It,borderColor:Rt=>{const ee=Rt.parsed?Rt.parsed.y:null;if(s==="line"){const fe=Rt.chart,{ctx:Jt,chartArea:ue}=fe;if(!ue)return"#3b82f6";const Te=fe.scales.y,qe=Jt.createLinearGradient(0,ue.bottom,0,ue.top),on=Te.getPixelForValue(80),He=(ue.bottom-on)/(ue.bottom-ue.top);return He<=0?"#3b82f6":He>=1?"#ef4444":(qe.addColorStop(0,"#3b82f6"),qe.addColorStop(He,"#3b82f6"),qe.addColorStop(He,"#ef4444"),qe.addColorStop(1,"#ef4444"),qe)}return ee>=80?"#ef4444":"#3b82f6"},backgroundColor:Rt=>{const ee=Rt.parsed?Rt.parsed.y:null;return s==="bar"?ee>=80?"rgba(239, 68, 68, 0.7)":"rgba(59, 130, 246, 0.7)":Yt||"rgba(59,130,246,0.2)"},borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6,pointHitRadius:10}]}),d({labels:Pt,datasets:[{type:s,label:n==="silver"?"Gi Bc (USD/oz)":"Gi Vng (USD/oz)",data:Nt,borderColor:"#06b6d4",backgroundColor:"rgba(6, 182, 212, 0.2)",borderWidth:2,pointRadius:0,pointHoverRadius:6,fill:!0,tension:.4}]})},[n,e,T,s]),N.useEffect(()=>{const V=setTimeout(()=>{G.current?.resetZoom(),z.current?.resetZoom()},0);return()=>clearTimeout(V)},[l,h]);const H={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#e0e7ff",bodyColor:"#cbd5e1",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1},zoom:e!=="7d"?{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy"},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}:void 0},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af",maxTicksLimit:8}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af"},position:"right"}},interaction:{mode:"nearest",axis:"x",intersect:!1}},Y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},annotation:{annotations:{line80:{type:"line",yMin:80,yMax:80,borderColor:"rgba(239, 68, 68, 0.8)",borderWidth:2,borderDash:[6,6],label:{display:!0,content:"Qu mc mua",position:"end",backgroundColor:"rgba(239, 68, 68, 0.8)",font:{size:10}}}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#e0e7ff",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,callbacks:{labelTextColor:V=>{const Z=V.parsed.y;return Z>=80?"#ef4444":Z<=20?"#22c55e":"#e5e7eb"},label:V=>{const Z=V.parsed.y;let rt=Z>=80?"(Qu mua)":Z<=20?"(Qu bn)":"";return`Ch s FOMO: ${Z.toFixed(1)}% ${rt}`}}},zoom:e!=="7d"?{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy"},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}:void 0},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af",maxTicksLimit:8}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#9ca3af"},position:"right",min:0,max:130,grace:"5%"}},interaction:{mode:"nearest",axis:"x",intersect:!0}},J=V=>{o(V)},nt=(V,Z)=>{const rt=typeof Z=="number"?Z:0;return u.jsxs("div",{className:"percentage-item",children:[u.jsx("div",{className:"percentage-label",children:V}),u.jsxs("div",{className:`percentage-value ${rt>=0?"positive":"negative"}`,children:[rt>0?"+":"",rt.toFixed(2),"%"]})]})};return u.jsxs("div",{className:"fomo-inventory-container",children:[u.jsx(dd,{to:"/fomo-vang-bac",children:u.jsxs("div",{className:"fomo-inventory-header",children:[u.jsx("h2",{children:"Theo di Th trng Vng & Bc"}),u.jsx("p",{className:"subtitle",children:"Ch s FOMO v Gi th gii (USD) theo thi gian thc"})]})}),u.jsxs("div",{className:"fomo-tab-navigation",children:[u.jsxs("button",{className:`tab-button ${n==="gold"?"active":""}`,onClick:()=>t("gold"),children:[u.jsx("span",{className:"tab-icon",children:""})," Vng (Gold)"]}),u.jsxs("button",{className:`tab-button ${n==="silver"?"active":""}`,onClick:()=>t("silver"),children:[u.jsx("span",{className:"tab-icon",children:""})," Bc (Silver)"]})]}),u.jsxs("div",{className:"fomo-desktop-layout",children:[u.jsxs("div",{className:"fomo-left-column",children:[u.jsxs("div",{className:"fomo-summary",children:[u.jsxs("div",{className:"summary-item",children:[u.jsx("span",{className:"summary-label",children:"FOMO Cao nht"}),u.jsxs("span",{className:"summary-value",children:[g.high.toFixed(2)," ",u.jsx("span",{className:"unit-badge",children:"im"})]})]}),u.jsxs("div",{className:"summary-item",children:[u.jsx("span",{className:"summary-label",children:"FOMO Thp nht"}),u.jsxs("span",{className:"summary-value",children:[g.low.toFixed(2)," ",u.jsx("span",{className:"unit-badge",children:"im"})]})]}),u.jsxs("div",{className:"summary-item",style:{borderLeftColor:"#22c55e"},children:[u.jsx("span",{className:"summary-label",children:"FOMO Hin ti"}),u.jsxs("span",{className:"summary-value",style:{color:g.current>=80?"#ef4444":"#22c55e"},children:[g.current.toFixed(2)," ",u.jsx("span",{className:"unit-badge",children:"im"})]})]}),u.jsxs("h3",{children:[n==="silver"?"Bc":"Vng"," nguyn liu chnh quc t ",(g?.current/10).toFixed(2)," triu"]})]}),u.jsxs("div",{className:"percentage-changes-container",children:[u.jsx("h3",{children:"T l thay i FOMO"}),u.jsxs("div",{className:"percentage-grid",children:[nt("Trong 1 ngy",x.day1),nt("Trong 2 ngy",x.day2),nt("Trong 3 ngy",x.day3),nt("Trong 1 tun",x.week1),nt("Trong 1 thng",x.month1),nt("Trong 6 thng",x.month6)]})]})]}),u.jsxs("div",{className:"fomo-right-column",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[u.jsxs("div",{className:"latest-update-date",style:{margin:0,left:0,fontSize:"14px"},children:["Cp nht: ",l&&l?.labels.at(-1),"/",new Date().getFullYear()]}),u.jsx("div",{className:"fomo-time-range",children:["7d","30d","90d","1y","all"].map(V=>u.jsx("button",{className:`time-range-btn ${e===V?"active":""}`,onClick:()=>i(V),children:V==="all"?"Tt c":V.toUpperCase()},V))})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[u.jsxs("h3",{style:{color:"#e0e7ff",fontSize:"18px",marginBottom:"10px"},children:["Biu  Ch s FOMO ",u.jsx("br",{}),u.jsx("small",{style:{fontSize:"10px",color:"lightcoral"},children:"Ln chut  zoom"})]}),u.jsxs("div",{className:"fomo-chart-type-dropdown",children:[u.jsxs("button",{className:"chart-type-trigger",onClick:()=>a(!r),children:[u.jsx("span",{className:"chart-type-icon",children:s==="line"?"":""}),u.jsx("span",{className:"chart-type-label",children:s==="line"?"Line Chart":"Column"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),r&&u.jsxs("div",{className:"chart-type-menu",children:[u.jsxs("div",{className:`chart-type-option ${s==="line"?"active":""}`,onClick:()=>{J("line"),a(!1)},children:[u.jsx("span",{className:"chart-type-icon",children:""})," Line Chart"]}),u.jsxs("div",{className:`chart-type-option ${s==="bar"?"active":""}`,onClick:()=>{J("bar"),a(!1)},children:[u.jsx("span",{className:"chart-type-icon",children:""})," Column"]})]})]})]}),u.jsx("div",{className:"fomo-chart-wrapper",style:{minHeight:"450px"},children:k?u.jsx("div",{children:"ang ti d liu..."}):l.datasets.length>0?u.jsx(xa,{ref:G,type:s,data:l,options:Y}):u.jsx("div",{className:"no-data",children:"Khng c d liu FOMO"})}),u.jsxs("h3",{style:{color:"#e0e7ff",fontSize:"18px",marginTop:"30px",marginBottom:"10px"},children:["Biu  Gi ",n==="silver"?"Bc":"Vng"," (USD/oz)"]}),u.jsx("div",{className:"fomo-chart-wrapper",style:{minHeight:"450px"},children:k?u.jsx("div",{children:"ang ti d liu..."}):h.datasets.length>0?u.jsx(xa,{ref:z,type:s,data:h,options:H}):u.jsx("div",{className:"no-data",children:"Khng c d liu gi USD"})})]})]})]})};gi.register(qr,Ji,pa,Xr,Qi,sr);const ww={turnover:{url:"https://api_gold.thinkdiff.us/Volume_Shanghai_Future_Exchange",title:"Biu  China Turnover",subtitle:"Khi lng giao dch Bc - Thng Hi (SHFE)",label:"China Silver Turnover (SHFE)",unit:"Hp ng"},warehouse:{url:"https://api_gold.thinkdiff.us/Warehouse_Shanghai_Future_Exchange",title:"Biu  Tn Kho SHFE",subtitle:"Tn kho Bc - Kho lu tr Sn K hn Thng Hi (SHFE)",label:"China Silver Warehouse (SHFE)",unit:"Tn"}},aDt=()=>{const[n,t]=N.useState("warehouse"),[e,i]=N.useState([]),[r,a]=N.useState("all");N.useEffect(()=>{(async()=>{try{const G=await(await fetch(ww[n].url)).json(),z=Object.keys(G)[0],F=G[z]||[];i(F)}catch(R){console.error("API error:",R)}})()},[n]);const s=N.useMemo(()=>{if(!e.length)return null;const T=e.map(V=>Number(V.volume)),R=e[0],G=e.length>1?e[1]:null,z=Math.min(...T),F=Math.max(...T),H=e.find(V=>Number(V.volume)===z),Y=e.find(V=>Number(V.volume)===F),J=e[0].trade_date,nt=e[e.length-1].trade_date;return{current:R,yesterday:G,minItem:H,maxItem:Y,fromDate:nt,toDate:J}},[e]),o=N.useMemo(()=>{if(!e.length)return null;const T=e[0].trade_date,R=new Date(T),z=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][R.getDay()],F=String(R.getDate()).padStart(2,"0"),H=String(R.getMonth()+1).padStart(2,"0"),Y=R.getFullYear(),J=String(R.getHours()).padStart(2,"0"),nt=String(R.getMinutes()).padStart(2,"0"),V=String(R.getSeconds()).padStart(2,"0");return`${z}, ${F}/${H}/${Y} ${J}:${nt}:${V}`},[e]),l=T=>T==null||isNaN(T)?"-":`${Number(T).toLocaleString()} ${ww[n].unit}`,c=N.useMemo(()=>{if(!e.length||r==="all")return e;const T=new Date(e[0].trade_date),G={"7d":7,"1m":30}[r];return G?e.filter(z=>{const F=new Date(z.trade_date);return(T-F)/(1e3*60*60*24)<=G}):e},[e,r]),h=T=>{const R=new Date(T),z=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][R.getDay()],F=String(R.getDate()).padStart(2,"0"),H=String(R.getMonth()+1).padStart(2,"0"),Y=R.getFullYear(),J=String(R.getHours()).padStart(2,"0"),nt=String(R.getMinutes()).padStart(2,"0");return`${z}, ${F}/${H}/${Y} ${J}:${nt}`},d=N.useMemo(()=>{const T=[...c].sort((R,G)=>new Date(R.trade_date)-new Date(G.trade_date));return{labels:T.map(R=>h(R.trade_date)),datasets:[{label:ww[n].label,data:T.map(R=>Number(R.volume)),borderColor:"rgba(192,192,192,1)",backgroundColor:"rgba(192,192,192,0.4)",pointRadius:2,tension:.3,fill:!0}]}},[c,n]),g={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:T=>`${T.dataset.label}: ${l(T.raw)}`}}},scales:{x:{ticks:{autoSkip:!0,maxRotation:0}},y:{title:{display:!0,text:"Volume"},ticks:{callback:T=>(T*1e3).toLocaleString()}}}},y=(T,R)=>{const G=typeof R=="number"?R:0;return u.jsxs("div",{className:"percentage-item",children:[u.jsx("div",{className:"percentage-label",children:T}),u.jsxs("div",{className:`percentage-value ${G>=0?"positive":"negative"}`,children:[G>0?"+":"",G.toFixed(2),"%"]})]})},x=N.useMemo(()=>{if(!e.length)return null;const T=R=>{if(e.length<=R)return null;const G=Number(e[0].volume),z=Number(e[R].volume);return z?(G-z)/z*100:null};return{day1:T(1),day2:T(2),day3:T(3),week1:T(7)}},[e]),w=n==="turnover",k=w?"hp ng":"tn",A=w?"S hp ng":"Khi lng";return u.jsxs("div",{className:"comex-inventory-container",children:[u.jsxs("div",{className:"comex-inventory-headerzc header-row",children:[u.jsxs("div",{className:"header-left",children:[u.jsx("h2",{children:ww[n].title}),u.jsx("p",{className:"subtitle",children:ww[n].subtitle}),u.jsxs("div",{className:"api-switch",children:[u.jsx("button",{className:n==="turnover"?"active":"",onClick:()=>t("turnover"),children:"Turnover"}),u.jsx("button",{className:n==="warehouse"?"active":"",onClick:()=>t("warehouse"),children:"Warehouse"})]})]}),o&&u.jsxs("div",{className:"header-right",children:[u.jsx("label",{className:"last-updated-label",children:"D liu cp nht ln cui:"}),u.jsx("span",{className:"last-updated",children:o})]})]}),x&&u.jsxs("div",{className:"percentage-changes-container under-header",children:[u.jsxs("h3",{style:{justifyContent:"center"},children:["T l thay i ",A]}),u.jsxs("div",{className:"percentage-grid percentage-grid--one-row center",children:[y("Trong 1 ngy",x.day1),y("Trong 2 ngy",x.day2),y("Trong 3 ngy",x.day3),y("Trong 1 tun",x.week1)]}),u.jsxs("div",{className:"chart-range-filter",children:[u.jsx("button",{className:r==="7d"?"active":"",onClick:()=>a("7d"),children:"7 ngy"}),u.jsx("button",{className:r==="1m"?"active":"",onClick:()=>a("1m"),children:"1 thng"}),u.jsx("button",{className:r==="all"?"active":"",onClick:()=>a("all"),children:"Tt c"})]})]}),u.jsx("div",{className:"comex-chart-wrapper",style:{height:400},children:e.length?u.jsx(hf,{data:d,options:g}):u.jsx("p",{children:"Loading data..."})}),s&&u.jsx("div",{className:"lbma-summary-table",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Ch tiu"}),u.jsxs("th",{children:["Gi tr (",k,")"]}),u.jsx("th",{children:"Ngy giao dch"}),u.jsx("th",{children:"Khong thi gian"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsxs("td",{children:[A," hin ti"]}),u.jsxs("td",{children:[Number(s.current.volume).toLocaleString()," ",k]}),u.jsx("td",{children:h(s.current.trade_date)}),u.jsxs("td",{rowSpan:4,children:[h(s.fromDate),"  ",h(s.toDate)]})]}),s.yesterday&&u.jsxs("tr",{children:[u.jsxs("td",{children:[A," hm qua"]}),u.jsxs("td",{children:[Number(s.yesterday.volume).toLocaleString()," ",k]}),u.jsx("td",{children:h(s.yesterday.trade_date)})]}),u.jsxs("tr",{children:[u.jsxs("td",{children:[A," Thp nht (Min)"]}),u.jsxs("td",{children:[Number(s.minItem.volume).toLocaleString()," ",k]}),u.jsx("td",{children:h(s.minItem.trade_date)})]}),u.jsxs("tr",{children:[u.jsxs("td",{children:[A," Cao nht (Max)"]}),u.jsxs("td",{children:[Number(s.maxItem.volume).toLocaleString()," ",k]}),u.jsx("td",{children:h(s.maxItem.trade_date)})]})]})]})})]})};gi.register(qr,Ji,pa,Xr,Qi,sr);const _w={mcx:{url:"https://api_gold.thinkdiff.us/groww_mcx_today_price_india",title:"Biu  gi MCX Sn n ",subtitle:"Gi vng & bc MCX (India)",labelGold:"MCX Gold",labelSilver:"MCX Silver"}},S6={"1d":1,"1w":7,"1m":30,"3m":90},lg=n=>n?new Date(n):null,k6=n=>n&&n.date&&!isNaN(lg(n.date)),sDt=()=>{const[n,t]=N.useState({gold:[],silver:[]}),[e,i]=N.useState("1d"),[r,a]=N.useState("gold"),[s,o]=N.useState(1);N.useEffect(()=>{(async()=>{try{const k=await(await fetch(_w.mcx.url)).json();o(Number(k.tygia_INR_USD)||1),t({gold:(k?.data?.gold||[]).filter(k6),silver:(k?.data?.silver||[]).filter(k6)}),console.log("FX INR  USD:",k.tygia_INR_USD)}catch(w){console.error("API error:",w)}})()},[]);const l=N.useMemo(()=>{const x=n[r];if(!x.length||!S6[e])return x;const w=S6[e],k=lg(x[x.length-1].date);return x.filter(A=>{const T=lg(A.date);return(k-T)/(1e3*60*60*24)<=w})},[n,r,e]);N.useEffect(()=>{const x=n[r];if(!x||!x.length)return;const w=x[x.length-1].date,k=x.filter(A=>A.date===w).length;console.log(`S lng data ngy ${w} (${r}):`,k)},[n,r]);const c=x=>{const w=lg(x);return w?`${w.getDate().toString().padStart(2,"0")}/${(w.getMonth()+1).toString().padStart(2,"0")}/${w.getFullYear()}`:""},h=N.useMemo(()=>{if(!l.length)return{labels:[],datasets:[]};const x=[...l].sort((T,R)=>lg(T.date)-lg(R.date)),w=r==="gold",k=x.map(T=>c(T.date)),A=x.map(T=>({x:c(T.date),y:(Number(T.close)||0)*s,fullDate:T.date}));return{labels:k,datasets:[{label:w?`${_w.mcx.labelGold} (USD)`:`${_w.mcx.labelSilver} (USD)`,data:A,borderColor:w?"#FFD700":"#C0C0C0",backgroundColor:w?"rgba(255,215,0,0.25)":"rgba(192,192,192,0.25)",fill:!0,tension:.3,pointRadius:2}]}},[l,r,s]),d={responsive:!0,interaction:{mode:"index",intersect:!1},plugins:{tooltip:{enabled:!0,callbacks:{title:x=>{const w=x[0];return w?.raw?.fullDate||w?.label||""},label:x=>`${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(x.parsed.y)} USD`}},legend:{display:!0}}},g=(x,w)=>!w||!x?null:(x-w)/w*100,y=N.useMemo(()=>{const x=n[r];if(!x||x.length<2)return null;const w=[...x].sort((V,Z)=>lg(V.date)-lg(Z.date)),k=w[w.length-1],A=w[w.length-2],T=w[w.length-3],R=w[w.length-4],G=Number(k.close)*s,z=Number(A.close)*s,F=Number(T.close)*s,H=Number(R.close)*s,Y=lg(k.date),J=[...w].reverse().find(V=>{const Z=lg(V.date);return(Y-Z)/(1e3*60*60*24)>=7}),nt=J?Number(J.close)*s:null;return{day1:g(G,z),day2:g(G,F),day3:g(G,H),week:g(G,nt),latestPrice:G}},[n,r,s]);return u.jsxs("div",{className:"comex-inventory-container",children:[u.jsx("div",{className:"comex-inventory-headerzc header-row",children:u.jsxs("div",{className:"header-left",children:[u.jsx("h2",{children:_w.mcx.title}),u.jsx("p",{className:"subtitle",children:_w.mcx.subtitle}),u.jsxs("div",{className:"api-switch",children:[u.jsx("button",{className:r==="gold"?"active":"",onClick:()=>a("gold"),children:"Gold"}),u.jsx("button",{className:r==="silver"?"active":"",onClick:()=>a("silver"),children:"Silver"})]})]})}),y&&u.jsxs("div",{className:"percentage-changes-container under-header",children:[u.jsxs("h3",{style:{justifyContent:"center",textAlign:"center"},children:["T l thay i ",r==="gold"?"Vng":"Bc"]}),u.jsxs("div",{className:"percentage-grid percentage-grid--one-row center",children:[u.jsxs("div",{className:`percentage-box ${y.day>=0?"up":"down"}`,children:[u.jsx("span",{className:"label",children:"Trong 1 ngy"}),u.jsxs("span",{className:"value",children:[y.day1?.toFixed(2),"%"]})]}),u.jsxs("div",{className:`percentage-box ${y.day2>=0?"up":"down"}`,children:[u.jsx("span",{className:"label",children:"Trong 2 ngy"}),u.jsxs("span",{className:"value",children:[y.day2?.toFixed(2),"%"]})]}),u.jsxs("div",{className:`percentage-box ${y.day3>=0?"up":"down"}`,children:[u.jsx("span",{className:"label",children:"Trong 3 ngy"}),u.jsxs("span",{className:"value",children:[y.day3?.toFixed(2),"%"]})]}),u.jsxs("div",{className:`percentage-box ${y.week>=0?"up":"down"}`,children:[u.jsx("span",{className:"label",children:"Trong 1 tun"}),u.jsxs("span",{className:"value",children:[y.week?.toFixed(2),"%"]})]})]}),u.jsxs("div",{className:"chart-range-filter",children:[u.jsx("button",{className:e==="1d"?"active":"",onClick:()=>i("1d"),children:"1 ngy"}),u.jsx("button",{className:e==="1w"?"active":"",onClick:()=>i("1w"),children:"1 tun"}),u.jsx("button",{className:e==="1m"?"active":"",onClick:()=>i("1m"),children:"1 thng"}),u.jsx("button",{className:e==="3m"?"active":"",onClick:()=>i("3m"),children:"3 thng"})]})]}),u.jsx("div",{className:"comex-chart-wrapper",style:{height:400},children:n[r].length?u.jsx(hf,{data:h,options:d}):u.jsx("p",{children:"Loading data..."})})]})};gi.register(qr,Ji,pa,Xr,Fa,Xo,Qi,sr);function oDt(){const[n,t]=N.useState(null),[e,i]=N.useState("gold"),[r,a]=N.useState("30"),[s,o]=N.useState("line"),[l,c]=N.useState(!1),[h,d]=N.useState(!0),[g,y]=N.useState(null),[x,w]=N.useState(null);N.useEffect(()=>{(async()=>{try{d(!0);const Y=await(await fetch("https://api_gold.thinkdiff.us/SGE_SILVER_GOLD_HISTORY")).json(),J=e==="gold"?Y.list_item_json_vang:Y.list_item_json_bac;if(Array.isArray(J)&&J.length>0){const nt=J.reduce((Z,rt)=>new Date(rt.ngay_giao_dich)>new Date(Z.ngay_giao_dich)?rt:Z),V=new Date(nt.ngay_giao_dich);w(V.toLocaleDateString("vi-VN"))}t(Y)}catch(H){console.error(H),y("Khng ti c d liu SGE")}finally{d(!1)}})()},[]);const k=N.useMemo(()=>{if(!n)return[];const F=e==="gold"?n.list_item_json_vang:n.list_item_json_bac;return Array.isArray(F)?[...F].sort((H,Y)=>new Date(H.ngay_giao_dich)-new Date(Y.ngay_giao_dich)):[]},[n,e]),A=N.useMemo(()=>{if(r==="all")return k;const F=parseInt(r,10);return k.slice(-F)},[k,r]);N.useMemo(()=>{const F=A.map(Y=>{const J=new Date(Y.ngay_giao_dich);return`${J.getDate()}/${J.getMonth()+1}/${J.getFullYear()}`}),H=s==="column";return{labels:F,datasets:[{label:"Gi sng",data:A.map(Y=>Number(Y.gia_sang)),borderColor:"#10b981",backgroundColor:H?"rgba(16, 185, 129, 0.6)":"rgba(16, 185, 129, 0.25)",tension:.3,pointRadius:0,borderWidth:H?0:2,fill:!H},{label:"Gi chiu",data:A.map(Y=>Number(Y.gia_chieu)),borderColor:"#f59e0b",backgroundColor:H?"rgba(245, 158, 11, 0.6)":"rgba(245, 158, 11, 0.25)",tension:.3,pointRadius:0,borderWidth:H?0:2,fill:!H}]}},[A,s]);const T=N.useMemo(()=>{const F=A.map(Y=>{const J=new Date(Y.ngay_giao_dich);return`${J.getDate()}/${J.getMonth()+1}/${J.getFullYear()}`}),H=s==="column";return{labels:F,datasets:[{label:"USD sng / ounce",data:A.map(Y=>Number(Y.usd_1ounce_sang)),borderColor:"#3b82f6",backgroundColor:H?"rgba(59, 130, 246, 0.6)":"rgba(59, 130, 246, 0.25)",tension:.3,pointRadius:0,borderWidth:H?0:2,fill:!H},{label:"USD chiu / ounce",data:A.map(Y=>Number(Y.usd_1ounce_chieu)),borderColor:"#ef4444",backgroundColor:H?"rgba(239, 68, 68, 0.6)":"rgba(239, 68, 68, 0.25)",tension:.3,pointRadius:0,borderWidth:H?0:2,fill:!H}]}},[A,s]),R={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:F=>`${F.dataset.label}: ${F.parsed.y.toLocaleString()}`}}},scales:{y:{ticks:{callback:F=>F.toLocaleString()}}}},G=N.useMemo(()=>{if(!k||k.length===0)return null;const F=k.map(nt=>({date:new Date(nt.ngay_giao_dich).getTime(),price:Number(nt.gia_chieu)})).filter(nt=>Number.isFinite(nt.price)).sort((nt,V)=>nt.date-V.date);if(F.length===0)return null;const H=F[F.length-1],Y=nt=>{const V=H.date-nt*24*60*60*1e3;for(let Z=F.length-2;Z>=0;Z--)if(F[Z].date<=V)return F[Z];return null},J=nt=>{const V=Y(nt);return!V||V.price===0?0:(H.price-V.price)/V.price*100};return{maxValue:Math.max(...F.map(nt=>nt.price)),minValue:Math.min(...F.map(nt=>nt.price)),currentValue:H.price,percentageChanges:{day1:J(1),day2:J(2),day3:J(3),day7:J(7),month1:J(30),month6:J(180)}}},[k]),z=[{label:"7D",value:"7"},{label:"30D",value:"30"},{label:"90D",value:"90"},{label:"1Y",value:"365"},{label:"Tt c",value:"all"}];return h?u.jsx("p",{children:"ang ti d liu..."}):g?u.jsx("p",{children:g}):u.jsxs("div",{className:"comex-inventory-container",children:[u.jsxs("div",{className:"comex-inventory-header header-row ",children:[u.jsxs("div",{className:"header-left",children:[u.jsx("h2",{children:"SGE Gold & Silver Price"}),u.jsx("p",{className:"subtitle",children:"Lch s gi vng & bc SGE"})]}),x&&u.jsxs("div",{className:"header-right",children:[u.jsx("label",{className:"last-updated-label",children:"Cp nht ln cui:"}),u.jsx("span",{className:"last-updated",children:x})]})]}),u.jsxs("div",{className:"comex-desktop-layout",children:[u.jsxs("div",{className:"comex-left-column",children:[u.jsxs("div",{className:"comex-tab-navigation",children:[u.jsxs("button",{className:`tab-button ${e==="gold"?"active":""}`,onClick:()=>i("gold"),children:[u.jsx("span",{className:"tab-icon gold-icon",children:""}),"SGE Gold"]}),u.jsxs("button",{className:`tab-button ${e==="silver"?"active":""}`,onClick:()=>i("silver"),children:[u.jsx("span",{className:"tab-icon silver-icon",children:""}),"SGE Silver"]})]}),G&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"comex-summary",children:[u.jsxs("div",{className:"summary-item",children:[u.jsx("span",{className:"summary-label",children:"Gi cao nht:"}),u.jsx("span",{className:"summary-value",children:G.maxValue.toLocaleString()})]}),u.jsxs("div",{className:"summary-item",children:[u.jsx("span",{className:"summary-label",children:"Gi thp nht:"}),u.jsx("span",{className:"summary-value",children:G.minValue.toLocaleString()})]}),u.jsxs("div",{className:"summary-item",style:{color:"#22c55e"},children:[u.jsx("span",{className:"summary-label",children:"Gi hin ti:"}),u.jsx("span",{className:"summary-value",style:{color:"#22c55e"},children:G.currentValue.toLocaleString()})]})]}),u.jsxs("div",{className:"percentage-changes-container",children:[u.jsx("h3",{children:"T l thay i gi"}),u.jsx("div",{className:"percentage-grid",children:[{key:"day1",label:"Trong 1 ngy"},{key:"day2",label:"Trong 2 ngy"},{key:"day3",label:"Trong 3 ngy"},{key:"day7",label:"Trong 1 tun"},{key:"month1",label:"Trong 1 thng"},{key:"month6",label:"Trong 6 thng"}].map(F=>{const H=G.percentageChanges[F.key];return u.jsxs("div",{className:"percentage-item",children:[u.jsx("span",{className:"percentage-label",children:F.label}),u.jsxs("span",{className:`percentage-value ${H>=0?"positive":"negative"}`,children:[H>=0?"+":"-",H.toFixed(2),"%"]})]},F.key)})})]})]})]}),u.jsxs("div",{className:"comex-right-column",children:[u.jsxs("div",{className:"comex-time-range",children:[z.map(({label:F,value:H})=>u.jsx("button",{className:`time-range-btn ${r===H?"active":""}`,onClick:()=>a(H),children:F},H)),u.jsxs("div",{className:"comex-chart-type-dropdown",children:[u.jsxs("button",{className:"chart-type-trigger",onClick:()=>c(!l),children:[u.jsx("span",{className:"chart-type-icon",children:s==="line"?"":""}),u.jsx("span",{className:"chart-type-label",children:s==="line"?"Line Chart":"Column"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),l&&u.jsxs("div",{className:"chart-type-menu",children:[u.jsx("div",{className:`chart-type-option ${s==="line"?"active":""}`,onClick:()=>{o("line"),c(!1)},children:" Line Chart"}),u.jsx("div",{className:`chart-type-option ${s==="column"?"active":""}`,onClick:()=>{o("column"),c(!1)},children:" Column"})]})]})]}),u.jsx("div",{className:"comex-chart-wrapper",children:A.length>0?u.jsxs("div",{className:"chart-block",children:[u.jsx("h3",{children:" USD / Ounce (Sng / Chiu)"}),u.jsx(xa,{type:s==="line"?"line":"bar",data:T,options:R})]}):u.jsx("div",{className:"no-data",children:"Khng c d liu"})})]})]})]})}function va(n){var t=n.width,e=n.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function Mx(n,t){return n.width===t.width&&n.height===t.height}var lDt=(function(){function n(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(r){return r!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},n})();function cDt(n){return new lDt(n)}var uDt=(function(){function n(t,e,i){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=va({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??(function(a){return a}),this._allowResizeObserver=(r=i?.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return va({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=va(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(t){var e=this.bitmapSize;Mx(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},n.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=va(this._transformBitmapSize(t,this._canvasElementClientSize)),r=Mx(this.bitmapSize,i)?null:i;e===null&&r===null||e!==null&&r!==null&&Mx(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},n.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}dDt().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=C6(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=cDt(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var i=C6(this._canvasElement);if(i!==null){var r=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:i.devicePixelRatio,a=this._canvasElement.getClientRects(),s=a[0]!==void 0?fDt(a[0],r):va({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(s)}}},n.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(s){return s.target===t._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var r=i.devicePixelContentBoxSize[0],a=va({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(a)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n})();function hDt(n,t){return new uDt(n,t.transform,t.options)}function C6(n){return n.ownerDocument.defaultView}function dDt(){return new Promise(function(n){var t=new ResizeObserver(function(e){n(e.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function fDt(n,t){return va({width:Math.round(n.left*t+n.width*t)-Math.round(n.left*t),height:Math.round(n.top*t+n.height*t)-Math.round(n.top*t)})}var gDt=(function(){function n(t,e,i){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return n.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n})();function Wx(n,t){var e=n.canvasElementClientSize;if(e.width===0||e.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var r=n.canvasElement.getContext("2d",t);return r===null?null:new gDt(r,e,i)}const $q={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var A6,T6;function Ky(n,t){const e={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[t];n.setLineDash(e)}function Vq(n,t,e,i){n.beginPath();const r=n.lineWidth%2?.5:0;n.moveTo(e,t+r),n.lineTo(i,t+r),n.stroke()}function bl(n,t){if(!n)throw new Error("Assertion failed"+(t?": "+t:""))}function Mu(n){if(n===void 0)throw new Error("Value is undefined");return n}function Le(n){if(n===null)throw new Error("Value is null");return n}function Ly(n){return Le(Mu(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(A6||(A6={})),(function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"})(T6||(T6={}));class Rs{constructor(){this.t=[]}i(t,e,i){const r={h:t,l:e,o:i===!0};this.t.push(r)}_(t){const e=this.t.findIndex((i=>t===i.h));e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter((e=>e.l!==t))}p(t,e,i){const r=[...this.t];this.t=this.t.filter((a=>!a.o)),r.forEach((a=>a.h(t,e,i)))}v(){return this.t.length>0}m(){this.t=[]}}function lh(n,...t){for(const e of t)for(const i in e)e[i]!==void 0&&Object.prototype.hasOwnProperty.call(e,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof e[i]!="object"||n[i]===void 0||Array.isArray(e[i])?n[i]=e[i]:lh(n[i],e[i]));return n}function Kb(n){return typeof n=="number"&&isFinite(n)}function P_(n){return typeof n=="number"&&n%1==0}function NS(n){return typeof n=="string"}function Kk(n){return typeof n=="boolean"}function Bp(n){const t=n;if(!t||typeof t!="object")return t;let e,i,r;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(r=t[i],e[i]=r&&typeof r=="object"?Bp(r):r);return e}function pDt(n){return n!==null}function E_(n){return n===null?void 0:n}const Xq="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function iA(n,t,e){return t===void 0&&(t=Xq),`${e=e!==void 0?`${e} `:""}${n}px ${t}`}class mDt{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.F(),i=this.W();return t.P===e&&t.T===i||(t.P=e,t.T=i,t.k=iA(e,i),t.A=2.5/12*e,t.V=t.A,t.B=e/12*t.C,t.I=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function DP(n){return n<0?0:n>255?255:Math.round(n)||0}function M6(n){return .199*n[0]+.687*n[1]+.114*n[2]}class yDt{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if(t==="transparent")return t;const i=this.K(t),r=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*r})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:M6(e)>160?"black":"white"}}J(t){return M6(this.K(t))}tt(t,e,i){const[r,a,s,o]=this.K(t),[l,c,h,d]=this.K(e),g=[DP(r+i*(l-r)),DP(a+i*(c-a)),DP(s+i*(h-s)),(y=o+i*(d-o),y<=0||y>1?Math.min(Math.max(y,0),1):Math.round(1e4*y)/1e4)];var y;return`rgba(${g[0]}, ${g[1]}, ${g[2]}, ${g[3]})`}K(t){const e=this.q.get(t);if(e)return e;const i=(function(s){const o=document.createElement("div");o.style.display="none",document.body.appendChild(o),o.style.color=s;const l=window.getComputedStyle(o).color;return document.body.removeChild(o),l})(t),r=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(const s of this.Y){const o=s(t);if(o)return this.q.set(t,o),o}throw new Error(`Failed to parse color: ${t}`)}const a=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,a),a}}class qq{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach((r=>{r.nt(t,e,i)}))}}class om{nt(t,e,i){t.useBitmapCoordinateSpace((r=>this.et(r,e,i)))}}class vDt extends om{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,a=this.rt,s=Math.max(1,Math.floor(e))%2/2,o=l=>{t.beginPath();for(let c=r.to-1;c>=r.from;--c){const h=a.ot[c],d=Math.round(h._t*e)+s,g=h.ut*i,y=l*i+s;t.moveTo(d,g),t.arc(d,g,y,0,2*Math.PI)}t.fill()};a.ct>0&&(t.fillStyle=a.dt,o(a.ft+a.ct)),t.fillStyle=a.vt,o(a.ft)}}function xDt(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const bDt={from:0,to:1};class wDt{constructor(t,e,i){this.Mt=new qq,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.Pt=i,this.Mt.st(this.bt)}yt(t){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(xDt),this.bt=this.St.map((e=>{const i=new vDt;return i.ht(e),i})),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),e=this.Pt.Bt(),i=this.Ct.It(),r=this.O.Et();this.kt(),e.forEach(((a,s)=>{const o=this.St[s],l=a.At(i),c=a.zt();!t&&l!==null&&a.Vt()&&c!==null?(o.vt=l.Lt,o.ft=l.ft,o.ct=l.Ot,o.ot[0].gt=l.gt,o.ot[0].ut=a.Ft().Nt(l.gt,c.Wt),o.dt=l.Ht??this.O.Ut(o.ot[0].ut/a.Ft().$t()),o.ot[0].wt=i,o.ot[0]._t=r.qt(i),o.lt=bDt):o.lt=null}))}}class _Dt extends om{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const a=this.Yt.jt.Vt,s=this.Yt.Kt.Vt;if(!a&&!s)return;const o=Math.round(this.Yt._t*i),l=Math.round(this.Yt.ut*r);t.lineCap="butt",a&&o>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*i),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,Ky(t,this.Yt.jt.Xt),(function(c,h,d,g){c.beginPath();const y=c.lineWidth%2?.5:0;c.moveTo(h+y,d),c.lineTo(h+y,g),c.stroke()})(t,o,0,e.height)),s&&l>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*r),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,Ky(t,this.Yt.Kt.Xt),Vq(t,l,0,e.width))}}class SDt{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new _Dt(this.Zt),this.Jt=t,this.Pt=e}yt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.Pt.Qt().N().crosshair,i=this.Zt;if(e.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=t&&this.Jt.ti(this.Pt),i.jt.Vt=t&&this.Jt.ii(),i.Kt.ct=e.horzLine.width,i.Kt.Xt=e.horzLine.style,i.Kt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Xt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function kDt(n,t,e,i,r,a){n.fillRect(t+a,e,i-2*a,a),n.fillRect(t+a,e+r-a,i-2*a,a),n.fillRect(t,e,a,r),n.fillRect(t+i-a,e,a,r)}function _T(n,t,e,i,r,a){n.save(),n.globalCompositeOperation="copy",n.fillStyle=a,n.fillRect(t,e,i,r),n.restore()}function N6(n,t,e,i,r,a){n.beginPath(),n.roundRect?n.roundRect(t,e,i,r,a):(n.lineTo(t+i-a[1],e),a[1]!==0&&n.arcTo(t+i,e,t+i,e+a[1],a[1]),n.lineTo(t+i,e+r-a[2]),a[2]!==0&&n.arcTo(t+i,e+r,t+i-a[2],e+r,a[2]),n.lineTo(t+a[3],e+r),a[3]!==0&&n.arcTo(t,e+r,t,e+r-a[3],a[3]),n.lineTo(t,e+a[0]),a[0]!==0&&n.arcTo(t,e,t+a[0],e,a[0]))}function P6(n,t,e,i,r,a,s=0,o=[0,0,0,0],l=""){if(n.save(),!s||!l||l===a)return N6(n,t,e,i,r,o),n.fillStyle=a,n.fill(),void n.restore();const c=s/2;var h;N6(n,t+c,e+c,i-s,r-s,(h=-c,o.map((d=>d===0?d:d+h)))),a!=="transparent"&&(n.fillStyle=a,n.fill()),l!=="transparent"&&(n.lineWidth=s,n.strokeStyle=l,n.closePath(),n.stroke()),n.restore()}function Kq(n,t,e,i,r,a,s){n.save(),n.globalCompositeOperation="copy";const o=n.createLinearGradient(0,0,0,r);o.addColorStop(0,a),o.addColorStop(1,s),n.fillStyle=o,n.fillRect(t,e,i,r),n.restore()}class E6{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,i,r){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const a=this.Yt.R,s=this.ei.Z,o=t.useBitmapCoordinateSpace((l=>{const c=l.context;c.font=e.k;const h=this.hi(l,e,i,r),d=h.ai;return h.li?P6(c,d.oi,d._i,d.ui,d.ci,s,d.di,[d.ft,0,0,d.ft],s):P6(c,d.fi,d._i,d.ui,d.ci,s,d.di,[0,d.ft,d.ft,0],s),this.Yt.pi&&(c.fillStyle=a,c.fillRect(d.fi,d.mi,d.wi-d.fi,d.gi)),this.Yt.Mi&&(c.fillStyle=e.D,c.fillRect(h.li?d.bi-d.di:0,d._i,d.di,d.Si-d._i)),h}));t.useMediaCoordinateSpace((({context:l})=>{const c=o.xi;l.font=e.k,l.textAlign=o.li?"right":"left",l.textBaseline="middle",l.fillStyle=a,l.fillText(this.Yt.ri,c.Ci,(c._i+c.Si)/2+c.Pi)}))}hi(t,e,i,r){const{context:a,bitmapSize:s,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:c}=t,h=this.Yt.pi||!this.Yt.yi?e.C:0,d=this.Yt.ki?e.S:0,g=e.A+this.ei.Ti,y=e.V+this.ei.Ri,x=e.B,w=e.I,k=this.Yt.ri,A=e.P,T=i.Di(a,k),R=Math.ceil(i.Vi(a,k)),G=A+g+y,z=e.S+x+w+R+h,F=Math.max(1,Math.floor(c));let H=Math.round(G*c);H%2!=F%2&&(H+=1);const Y=d>0?Math.max(1,Math.floor(d*l)):0,J=Math.round(z*l),nt=Math.round(h*l),V=this.ei.Bi??this.ei.Ii,Z=Math.round(V*c)-Math.floor(.5*c),rt=Math.floor(Z+F/2-H/2),lt=rt+H,mt=r==="right",ct=mt?o.width-d:d,st=mt?s.width-Y:Y;let xt,dt,ht;return mt?(xt=st-J,dt=st-nt,ht=ct-h-x-d):(xt=st+J,dt=st+nt,ht=ct+h+x),{li:mt,ai:{_i:rt,mi:Z,Si:lt,ui:J,ci:H,ft:2*l,di:Y,oi:xt,fi:st,wi:dt,gi:F,bi:s.width},xi:{_i:rt/c,Si:lt/c,Ci:ht,Pi:T}}}}class ST{constructor(t){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(t||E6)(this.Ai,this.Ei),this.Oi=new(t||E6)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Fi(){return this.Ei.Bi||0}Wi(t){this.Ei.Bi=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class CDt extends ST{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const a=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||a===null)return;const s=this.Yi.Xi().X(r.labelBackgroundColor);i.Z=s.Z,t.R=s.G;const o=2/12*this.Yi.P();i.Ti=o,i.Ri=o;const l=this.ji(this.Yi);i.Ii=l.Ii,t.ri=this.Yi.Zi(l.gt,a),t.Vt=!0}}const ADt=/[1-9]/g;class Zq{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=t.useMediaCoordinateSpace((({context:g})=>(g.font=e.k,Math.round(e.Gi.Vi(g,Le(this.Yt).ri,ADt)))));if(i<=0)return;const r=e.Ji,a=i+2*r,s=a/2,o=this.Yt.Qi;let l=this.Yt.Ii,c=Math.floor(l-s)+.5;c<0?(l+=Math.abs(0-c),c=Math.floor(l-s)+.5):c+a>o&&(l-=Math.abs(o-(c+a)),c=Math.floor(l-s)+.5);const h=c+a,d=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace((({context:g,horizontalPixelRatio:y,verticalPixelRatio:x})=>{const w=Le(this.Yt);g.fillStyle=w.Z;const k=Math.round(c*y),A=Math.round(0*x),T=Math.round(h*y),R=Math.round(d*x),G=Math.round(2*y);if(g.beginPath(),g.moveTo(k,A),g.lineTo(k,R-G),g.arcTo(k,R,k+G,R,G),g.lineTo(T-G,R),g.arcTo(T,R,T,R-G,G),g.lineTo(T,A),g.fill(),w.pi){const z=Math.round(w.Ii*y),F=A,H=Math.round((F+e.C)*x);g.fillStyle=w.R;const Y=Math.max(1,Math.floor(y)),J=Math.floor(.5*y);g.fillRect(z-J,F,Y,H-F)}})),t.useMediaCoordinateSpace((({context:g})=>{const y=Le(this.Yt),x=0+e.S+e.C+e.A+e.P/2;g.font=e.k,g.textAlign="left",g.textBaseline="middle",g.fillStyle=y.R;const w=e.Gi.Di(g,"Apr0");g.translate(c+r,x+w),g.fillText(y.ri,0,0)}))}}class TDt{constructor(t,e,i){this.xt=!0,this.Gt=new Zq,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;t.Qi=i.Qi();const r=this.ji();if(r===null)return;t.Ii=r.Ii;const a=i.ss(this.Ct.It());t.ri=i.ns(Le(a)),t.Vt=!0;const s=this.ts.Xi().X(e.labelBackgroundColor);t.Z=s.Z,t.R=s.G,t.pi=i.N().ticksVisible}}let Qq=class{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}};var j6;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(j6||(j6={}));class MDt extends Qq{constructor(t,e){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=e,this.ys=((r,a)=>s=>{const o=a(),l=r();if(s===Le(this.Pt).ks())return{gt:l,Ii:o};{const c=Le(s.zt());return{gt:s.Ts(o,c),Ii:o}}})((()=>this.ds),(()=>this.Ss));const i=((r,a)=>()=>{const s=this.ts.Et().Rs(r()),o=a();return s&&Number.isFinite(o)?{wt:s,Ii:o}:null})((()=>this.fs),(()=>this.si()));this.Ds=new TDt(this,t,i)}N(){return this.Ps}Vs(t,e){this.xs=t,this.Cs=e}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(t){let e=this.gs.get(t);e||(e=new SDt(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new wDt(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,e){this.ps&&this.Pt===t||this.vs.clear();const i=[];return this.Pt===t&&i.push(this.Hs(this.vs,e,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach((t=>{this.gs.get(t)?.yt(),this.Ms.get(t)?.yt()})),this.vs.forEach((t=>t.yt())),this.Ds.yt()}qs(t){return t&&!t.ks().Ki()?t.ks():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){const r=this.bs,a=this.Ss,s=this.ds,o=this.fs,l=this.Pt,c=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=i;const h=c!==null?c.zt():null;return c!==null&&h!==null?(this.ds=e,this.Ss=c.Nt(e,h)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||a!==this.Ss||o!==this.fs||s!==this.ds||l!==this.Pt}Os(){const t=this.ts.js().map((i=>i.Xs().Ks())).filter(pDt),e=t.length===0?null:Math.max(...t);this.fs=e!==null?e:NaN}Hs(t,e,i){let r=t.get(e);return r===void 0&&(r=new CDt(this,e,i),t.set(e,r)),r}}function kT(n){return n==="left"||n==="right"}class vl{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const i=(function(r,a){return r===void 0?a:{tn:Math.max(r.tn,a.tn),sn:r.sn||a.sn}})(this.Zs.get(t),e);this.Zs.set(t,i)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return e===void 0?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach(((e,i)=>{this.Qs(i,e)}))}static wn(){return new vl(2)}static gn(){return new vl(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){const t=this.Gs.findIndex((e=>e.an===5));t!==-1&&this.Gs.splice(t,1)}}class Jq{formatTickmarks(t){return t.map((e=>this.format(e)))}}const D6=".";function Hp(n,t){if(!Kb(n))return"n/a";if(!P_(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?n.toString():("0000000000000000"+n.toString()).slice(-t)}class CT extends Jq{constructor(t,e){if(super(),e||(e=1),Kb(t)&&P_(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const e=this.Yi/this.Mn;let i=Math.floor(t),r="";const a=this.xn!==void 0?this.xn:NaN;if(e>1){let s=+(Math.round(t*e)-i*e).toFixed(this.xn);s>=e&&(s-=e,i+=1),r=D6+Hp(+s.toFixed(this.xn)*this.Mn,a)}else i=Math.round(i*e)/e,a>0&&(r=D6+Hp(0,a));return i.toFixed(0)+r}}class tK extends CT{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class NDt extends Jq{constructor(t){super(),this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.Pn(t):t<999995?e+this.Pn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Pn(t/1e9)+"B")}Pn(t){let e;const i=Math.pow(10,this.Cn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((r,a)=>a))}}const PDt=/[2-9]/g;class rA{constructor(t=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.In(t,e,i).width}Di(t,e,i){const r=this.In(t,e,i);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}In(t,e,i){const r=i||PDt,a=String(e).replace(r,"0");if(this.Dn.has(a))return Mu(this.Dn.get(a)).En;if(this.yn===this.Vn){const o=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(o),this.Tn++,this.yn--}t.save(),t.textBaseline="middle";const s=t.measureText(a);return t.restore(),s.width===0&&e.length||(this.Dn.set(a,{En:s,An:this.kn}),this.Rn[this.kn]=a,this.yn++,this.kn++),s}}class EDt{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class eK{constructor(t,e,i){this.Fn=t,this.On=new rA(50),this.Wn=e,this.O=i,this.F=-1,this.Gt=new EDt(this.On)}Tt(){const t=this.O.Hn(this.Wn);if(t===null)return null;const e=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(e===null)return null;const i=t.qn(e);if(i==="overlay")return null;const r=this.O.Yn();return r.P!==this.F&&(this.F=r.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),r,i),this.Gt}}class jDt extends om{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){if(!this.Yt?.Vt)return null;const{ut:i,ct:r,Kn:a}=this.Yt;return e>=i-r-7&&e<=i+r+7?{Xn:this.Yt,Kn:a}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null||this.Yt.Vt===!1)return;const a=Math.round(this.Yt.ut*r);a<0||a>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*i),Ky(t,this.Yt.Xt),Vq(t,a,0,e.width))}}class ER{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new jDt,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class DDt extends ER{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Ft(),e=t.ie().ie;if(e!==2&&e!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();r!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(r.Wt,r.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class ODt extends om{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const r=this.Yt;if(r===null)return;const a=Math.max(1,Math.floor(e)),s=a%2/2,o=Math.round(r.ne.x*e)+s,l=r.ne.y*i;t.fillStyle=r.ee,t.beginPath();const c=Math.max(2,1.5*r.re)*e;t.arc(o,l,c,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.he,t.beginPath(),t.arc(o,l,r.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=a,t.strokeStyle=r.ae,t.beginPath(),t.arc(o,l,r.ft*e+a/2,0,2*Math.PI,!1),t.stroke()}}const LDt=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class RDt{constructor(t){this.Gt=new ODt,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Et(),e=t.Pe(),i=this.ge.zt();if(e===null||i===null)return;const r=this.ge.ye(!0);if(r.ke||!e.Te(r.Re))return;const a={x:t.qt(r.Re),y:this.ge.Ft().Nt(r.gt,i.Wt)},s=r.R,o=this.ge.N().lineWidth,l=this.De(this.Ve(),s);this.Gt.ht({ee:s,re:o,he:l.he,ae:l.ae,ft:l.ft,ne:a})}Ce(){const t=this.Gt.se();if(t!==null){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(t,e,i,r){const a=i+(r-i)*e;return this.ge.Qt().Xi().j(t,a)}De(t,e){const i=t%2600/2600;let r;for(const c of LDt)if(i>=c.le&&i<=c.oe){r=c;break}bl(r!==void 0,"Last price animation internal logic error");const a=(i-r.le)/(r.oe-r.le);return{he:this.Be(e,a,r.ce,r.de),ae:this.Be(e,a,r.fe,r.pe),ft:(s=a,o=r._e,l=r.ue,o+(l-o)*s)};var s,o,l}}class IDt extends ER{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ye(e.priceLineSource===0);i.ke||(t.Vt=!0,t.ut=i.Ii,t.R=this.Jn.Ie(i.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class zDt extends ST{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.Jt;if(!r.Vt())return;const a=r.N(),s=a.lastValueVisible,o=r.Ee()!=="",l=a.seriesLastValueMode===0,c=r.ye(!1);if(c.ke)return;s&&(t.ri=this.Ae(c,s,l),t.Vt=t.ri.length!==0),(o||l)&&(e.ri=this.ze(c,s,o,l),e.Vt=e.ri.length>0);const h=r.Ie(c.R),d=this.Jt.Qt().Xi().X(h);i.Z=d.Z,i.Ii=c.Ii,e.Ht=r.Qt().Ut(c.Ii/r.Ft().$t()),t.Ht=h,t.R=d.G,e.R=d.G}ze(t,e,i,r){let a="";const s=this.Jt.Ee();return i&&s.length!==0&&(a+=`${s} `),e&&r&&(a+=this.Jt.Ft().Le()?t.Oe:t.Ne),a.trim()}Ae(t,e,i){return e?i?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function O6(n,t,e,i){const r=Number.isFinite(t),a=Number.isFinite(e);return r&&a?n(t,e):r||a?r?t:e:i}class zc{constructor(t,e){this.Fe=t,this.We=e}He(t){return t!==null&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new zc(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return t===null?this:new zc(O6(Math.min,this.$e(),t.$e(),-1/0),O6(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!Kb(t)||this.We-this.Fe===0)return;const e=.5*(this.We+this.Fe);let i=this.We-e,r=this.Fe-e;i*=t,r*=t,this.We=e+i,this.Fe=e+r}Ke(t){Kb(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return t===null?null:new zc(t.minValue,t.maxValue)}}class aA{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new aA(zc.Ze(t.priceRange),t.margins)}}class FDt extends ER{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const i=this.ir.sr();i!==null&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class BDt extends ST{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.ir.N(),a=r.axisLabelVisible,s=r.title!=="",o=this.ge;if(!a||!o.Vt())return;const l=this.ir.sr();if(l===null)return;s&&(e.ri=r.title,e.Vt=!0),e.Ht=o.Qt().Ut(l/o.Ft().$t()),t.ri=this.nr(r.price),t.Vt=!0;const c=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);i.Z=c.Z;const h=r.axisLabelTextColor||c.G;t.R=h,e.R=h,i.Ii=l}nr(t){const e=this.ge.zt();return e===null?"":this.ge.Ft().Zi(t,e.Wt)}}class HDt{constructor(t,e){this.ge=t,this.Ps=e,this.er=new FDt(t,this),this.Fn=new BDt(t,this),this.rr=new eK(this.Fn,t,t.Qt())}hr(t){lh(this.Ps,t),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const t=this.ge,e=t.Ft();if(t.Qt().Et().Ki()||e.Ki())return null;const i=t.zt();return i===null?null:e.Nt(this.Ps.price,i.Wt)}}class GDt extends Qq{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const WDt={Bar:(n,t,e,i)=>{const r=t.upColor,a=t.downColor,s=Le(n(e,i)),o=Ly(s.Wt[0])<=Ly(s.Wt[3]);return{cr:s.R??(o?r:a)}},Candlestick:(n,t,e,i)=>{const r=t.upColor,a=t.downColor,s=t.borderUpColor,o=t.borderDownColor,l=t.wickUpColor,c=t.wickDownColor,h=Le(n(e,i)),d=Ly(h.Wt[0])<=Ly(h.Wt[3]);return{cr:h.R??(d?r:a),dr:h.Ht??(d?s:o),pr:h.vr??(d?l:c)}},Custom:(n,t,e,i)=>({cr:Le(n(e,i)).R??t.color}),Area:(n,t,e,i)=>{const r=Le(n(e,i));return{cr:r.vt??t.lineColor,vt:r.vt??t.lineColor,mr:r.mr??t.topColor,wr:r.wr??t.bottomColor}},Baseline:(n,t,e,i)=>{const r=Le(n(e,i));return{cr:r.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:r.gr??t.topLineColor,Mr:r.Mr??t.bottomLineColor,br:r.br??t.topFillColor1,Sr:r.Sr??t.topFillColor2,Cr:r.Cr??t.bottomFillColor1,Pr:r.Pr??t.bottomFillColor2}},Line:(n,t,e,i)=>{const r=Le(n(e,i));return{cr:r.R??t.color,vt:r.R??t.color}},Histogram:(n,t,e,i)=>({cr:Le(n(e,i)).R??t.color})};class UDt{constructor(t){this.yr=(e,i)=>i!==void 0?i.Wt:this.ge.Xs().kr(e),this.ge=t,this.Tr=WDt[t.Rr()]}Dr(t,e){return this.Tr(this.yr,this.ge.N(),t,e)}}function nK(n,t,e,i,r=0,a=t.length){let s=a-r;for(;0<s;){const o=s>>1,l=r+o;i(t[l],e)===n?(r=l+1,s-=o+1):s=o}return r}const Zb=nK.bind(null,!0),iK=nK.bind(null,!1);var L6;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(L6||(L6={}));const by=30;class YDt{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}kr(t){return this.Fr(t)}Fr(t,e=0){const i=this.Nr(t,e);return i===null?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Ki())return null;let r=null;for(const a of i)r=Zk(r,this.$r(t,e,a));return r}ht(t){this.Ir.clear(),this.Br.clear(),this.Vr=t,this.Er=t.map((e=>e.Re))}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,e){const i=this.Yr(t);if(i===null&&e!==0)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return i}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return Zb(this.Vr,t,((e,i)=>e.Re<i))}Zr(t){return iK(this.Vr,t,((e,i)=>e.Re>i))}Gr(t,e,i){let r=null;for(let a=t;a<e;a++){const s=this.Vr[a].Wt[i];Number.isNaN(s)||(r===null?r={Jr:s,Qr:s}:(s<r.Jr&&(r.Jr=s),s>r.Qr&&(r.Qr=s)))}return r}$r(t,e,i){if(this.Ki())return null;let r=null;const a=Le(this.Lr()),s=Le(this.Ks()),o=Math.max(t,a),l=Math.min(e,s),c=Math.ceil(o/by)*by,h=Math.max(c,Math.floor(l/by)*by);{const g=this.Xr(o),y=this.Zr(Math.min(l,c,e));r=Zk(r,this.Gr(g,y,i))}let d=this.Br.get(i);d===void 0&&(d=new Map,this.Br.set(i,d));for(let g=Math.max(c+1,o);g<h;g+=by){const y=Math.floor(g/by);let x=d.get(y);if(x===void 0){const w=this.Xr(y*by),k=this.Zr((y+1)*by-1);x=this.Gr(w,k,i),d.set(y,x)}r=Zk(r,x)}{const g=this.Xr(h),y=this.Zr(l);r=Zk(r,this.Gr(g,y,i))}return r}}function Zk(n,t){return n===null?t:t===null?n:{Jr:Math.min(n.Jr,t.Jr),Qr:Math.max(n.Qr,t.Qr)}}const sA={setLineStyle:Ky};class $Dt{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t,sA)}ih(t,e,i){this.th.drawBackground?.(t,sA)}}class VDt{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new $Dt(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}class rK{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const e=t.map((i=>new VDt(i)));return this.hh={nh:t,eh:e},e}jn(t,e){return this.ah.hitTest?.(t,e)??null}}let XDt=class extends rK{us(){return[]}};class qDt{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t,sA)}ih(t,e,i){this.th.drawBackground?.(t,sA)}}class R6{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new qDt(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}function aK(n){return{ri:n.text(),Ii:n.coordinate(),Bi:n.fixedCoordinate?.(),R:n.textColor(),Z:n.backColor(),Vt:n.visible?.()??!0,pi:n.tickVisible?.()??!0}}class KDt{constructor(t,e){this.Gt=new Zq,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...aK(this._h)}),this.Gt}}class ZDt extends ST{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){const r=aK(this._h);i.Z=r.Z,t.R=r.R;const a=2/12*this.Yi.P();i.Ti=a,i.Ri=a,i.Ii=r.Ii,i.Bi=r.Bi,t.ri=r.ri,t.Vt=r.Vt,t.pi=r.pi}}class QDt extends rK{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const e=this.ge.Qt().Et(),i=t.map((r=>new KDt(r,e)));return this.dh={nh:t,eh:i},i}Ws(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const e=this.ge.Ft(),i=t.map((r=>new ZDt(r,e)));return this.fh={nh:t,eh:i},i}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const e=t.map((i=>new R6(i)));return this.ph={nh:t,eh:e},e}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const e=t.map((i=>new R6(i)));return this.mh={nh:t,eh:e},e}Mh(t,e){return this.ah.autoscaleInfo?.(t,e)??null}}function OP(n,t,e,i){n.forEach((r=>{t(r).forEach((a=>{a.rh()===e&&i.push(a)}))}))}function LP(n){return n.Fs()}function JDt(n){return n.wh()}function tOt(n){return n.gh()}const eOt=["Area","Line","Baseline"];class AT extends GDt{constructor(t,e,i,r,a){super(t),this.Yt=new YDt,this.er=new IDt(this),this.bh=[],this.Sh=new DDt(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=e;const s=new zDt(this);this.vs=[s],this.rr=new eK(s,this,t),eOt.includes(this.kh)&&(this.xh=new RDt(this)),this.Th(),this.sh=r(this,this.Qt(),a)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(t){return this.Ps.priceLineColor||t}ye(t){const e={ke:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return e;const r=this.Qt().Et().Pe(),a=this.zt();if(r===null||a===null)return e;let s,o;if(t){const d=this.Yt.Ar();if(d===null)return e;s=d,o=d.Re}else{const d=this.Yt.Fr(r.bi(),-1);if(d===null||(s=this.Yt.kr(d.Re),s===null))return e;o=d.Re}const l=s.Wt[3],c=this.Rh().Dr(o,{Wt:s}),h=i.Nt(l,a.Wt);return{ke:!1,gt:l,ri:i.Zi(l,a.Wt),Oe:i.Dh(l),Ne:i.Vh(l,a.Wt),R:c.cr,Ii:h,Re:o}}Rh(){return this.Ch!==null||(this.Ch=new UDt(this)),this.Ch}N(){return this.Ps}hr(t){const e=t.priceScaleId;e!==void 0&&e!==this.Ps.priceScaleId&&this.Qt().Bh(this,e),lh(this.Ps,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(t,e){this.Yt.ht(t),this.sh.yt("data"),this.xh!==null&&(e&&e.zh?this.xh.be():t.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){const e=new HDt(this,t);return this.bh.push(e),this.Qt().Eh(this),e}Nh(t){const e=this.bh.indexOf(t);e!==-1&&this.bh.splice(e,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const t=this.Wh();return t===null?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){const t=this.Qt().Et().Pe();if(t===null)return null;const e=t.Uh();return this.Yt.Fr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.kr(t);return e===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3]}:e.Wt[3]}Xh(t){const e=[];OP(this.yh,LP,"top",e);const i=this.xh;return i!==null&&i.Vt()&&(this.Ph===null&&i.xe()&&(this.Ph=setTimeout((()=>{this.Ph=null,this.Qt().Zh()}),0)),i.Se(),e.unshift(i)),e}Fs(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const e=this.bh.map((i=>i.lr()));return t.push(...e),OP(this.yh,LP,"normal",t),t}Jh(){return this.Qh(LP,"bottom")}ta(t){return this.Qh(JDt,t)}ia(t){return this.Qh(tOt,t)}sa(t,e){return this.yh.map((i=>i.jn(t,e))).filter((i=>i!==null))}us(){return[this.rr,...this.bh.map((t=>t._r()))]}Ws(t,e){if(e!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const r of this.bh)i.push(r.ur());return this.yh.forEach((r=>{i.push(...r.Ws())})),i}cs(){const t=[];return this.yh.forEach((e=>{t.push(...e.cs())})),t}Mh(t,e){if(this.Ps.autoscaleInfoProvider!==void 0){const i=this.Ps.autoscaleInfoProvider((()=>{const r=this.na(t,e);return r===null?null:r.Xe()}));return aA.Ze(i)}return this.na(t,e)}nh(){const t=this.Ps.priceFormat;return t.base??1/t.minMove}ea(){return this.ra}Ns(){this.sh.yt();for(const t of this.vs)t.yt();for(const t of this.bh)t.yt();this.er.yt(),this.Sh.yt(),this.xh?.yt(),this.yh.forEach((t=>t.Ns()))}Ft(){return Le(super.Ft())}At(t){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const e=this.Yt.kr(t);return e===null?null:{gt:e.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(t){this.yh.push(new QDt(t,this))}ua(t){this.yh=this.yh.filter((e=>e.oh()!==t))}ca(){if(this.kh==="Custom")return t=>this.sh.da(t)}fa(){if(this.kh==="Custom")return t=>this.sh.pa(t)}va(){return this.Yt.qr()}Gh(){return!kT(this.Ft().ma())}na(t,e){if(!P_(t)||!P_(e)||this.Yt.Ki())return null;const i=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],r=this.Yt.Ur(t,e,i);let a=r!==null?new zc(r.Jr,r.Qr):null,s=null;if(this.Rr()==="Histogram"){const o=this.Ps.base,l=new zc(o,o);a=a!==null?a.vn(l):l}return this.yh.forEach((o=>{const l=o.Mh(t,e);if(l?.priceRange){const c=new zc(l.priceRange.minValue,l.priceRange.maxValue);a=a!==null?a.vn(c):c}l?.margins&&(s=l.margins)})),new aA(a,s)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(t){switch(this.kh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ra={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(e=>e.map(t))};break}case"volume":this.ra=new NDt(this.Ps.priceFormat.precision);break;case"percent":this.ra=new tK(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new CT(t,this.Ps.priceFormat.minMove*t)}}this.es!==null&&this.es.wa()}Qh(t,e){const i=[];return OP(this.yh,t,e,i),i}}const nOt=[3],iOt=[0,1,2,3];class rOt{constructor(t){this.Ps=t}ga(t,e,i){let r=t;if(this.Ps.mode===0)return r;const a=i.ks(),s=a.zt();if(s===null)return r;const o=a.Nt(t,s),l=i.Ma().filter((h=>h instanceof AT)).reduce(((h,d)=>{if(i.Un(d)||!d.Vt())return h;const g=d.Ft(),y=d.Xs();if(g.Ki()||!y.Te(e))return h;const x=y.kr(e);if(x===null)return h;const w=Ly(d.zt()),k=this.Ps.mode===3?iOt:nOt;return h.concat(k.map((A=>g.Nt(x.Wt[A],w.Wt))))}),[]);if(l.length===0)return r;l.sort(((h,d)=>Math.abs(h-o)-Math.abs(d-o)));const c=l[0];return r=a.Ts(c,s),r}}function Mb(n,t,e){return Math.min(Math.max(n,t),e)}function Qk(n,t,e){return t-n<=e}class aOt extends om{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const a=Math.max(1,Math.floor(i));t.lineWidth=a,(function(s,o){s.save(),s.lineWidth%2&&s.translate(.5,.5),o(),s.restore()})(t,(()=>{const s=Le(this.Yt);if(s.ba){t.strokeStyle=s.Sa,Ky(t,s.xa),t.beginPath();for(const o of s.Ca){const l=Math.round(o.Pa*i);t.moveTo(l,-a),t.lineTo(l,e.height+a)}t.stroke()}if(s.ya){t.strokeStyle=s.ka,Ky(t,s.Ta),t.beginPath();for(const o of s.Ra){const l=Math.round(o.Pa*r);t.moveTo(-a,l),t.lineTo(e.width+a,l)}t.stroke()}}))}}class sOt{constructor(t){this.Gt=new aOt,this.xt=!0,this.Pt=t}yt(){this.xt=!0}Tt(){if(this.xt){const t=this.Pt.Qt().N().grid,e={ya:t.horzLines.visible,ba:t.vertLines.visible,ka:t.horzLines.color,Sa:t.vertLines.color,Ta:t.horzLines.style,xa:t.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map((i=>({Pa:i.coord})))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class oOt{constructor(t){this.sh=new sOt(t)}lr(){return this.sh}}const RP={Va:4,Ba:1e-4};function vb(n,t){const e=100*(n-t)/t;return t<0?-e:e}function lOt(n,t){const e=vb(n.$e(),t),i=vb(n.qe(),t);return new zc(e,i)}function Kw(n,t){const e=100*(n-t)/t+100;return t<0?-e:e}function cOt(n,t){const e=Kw(n.$e(),t),i=Kw(n.qe(),t);return new zc(e,i)}function oA(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.log10(e+t.Ba)+t.Va;return n<0?-i:i}function Zw(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.pow(10,e-t.Va)-t.Ba;return n<0?-i:i}function Sw(n,t){if(n===null)return null;const e=oA(n.$e(),t),i=oA(n.qe(),t);return new zc(e,i)}function xb(n,t){if(n===null)return null;const e=Zw(n.$e(),t),i=Zw(n.qe(),t);return new zc(e,i)}function IP(n){if(n===null)return RP;const t=Math.abs(n.qe()-n.$e());if(t>=1||t<1e-15)return RP;const e=Math.ceil(Math.abs(Math.log10(t))),i=RP.Va+e;return{Va:i,Ba:1/Math.pow(10,i)}}class zP{constructor(t,e){if(this.Ia=t,this.Ea=e,(function(i){if(i<0)return!1;if(i>1e18)return!0;for(let r=i;r>1;r/=10)if(r%10!=0)return!1;return!0})(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let i=this.Ia;i!==1;){if(i%2==0)this.Aa.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),i/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(t,e,i){const r=this.Ia===0?0:1/this.Ia;let a=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),s=0,o=this.Ea[0];for(;;){const d=Qk(a,r,1e-14)&&a>r+1e-14,g=Qk(a,i*o,1e-14),y=Qk(a,1,1e-14);if(!(d&&g&&y))break;a/=o,o=this.Ea[++s%this.Ea.length]}if(a<=r+1e-14&&(a=r),a=Math.max(1,a),this.Aa.length>0&&(l=a,c=1,h=1e-14,Math.abs(l-c)<h))for(s=0,o=this.Aa[0];Qk(a,i*o,1e-14)&&a>r+1e-14;)a/=o,o=this.Aa[++s%this.Aa.length];var l,c,h;return a}}class I6{constructor(t,e,i,r){this.La=[],this.Yi=t,this.Ia=e,this.Oa=i,this.Na=r}za(t,e){if(t<e)throw new Error("high < low");const i=this.Yi.$t(),r=(t-e)*this.Fa()/i,a=new zP(this.Ia,[2,2.5,2]),s=new zP(this.Ia,[2,2,2.5]),o=new zP(this.Ia,[2.5,2,2]),l=[];return l.push(a.za(t,e,r),s.za(t,e,r),o.za(t,e,r)),(function(c){if(c.length<1)throw Error("array is empty");let h=c[0];for(let d=1;d<c.length;++d)c[d]<h&&(h=c[d]);return h})(l)}Wa(){const t=this.Yi,e=t.zt();if(e===null)return void(this.La=[]);const i=t.$t(),r=this.Oa(i-1,e),a=this.Oa(0,e),s=this.Yi.N().entireTextOnly?this.Ha()/2:0,o=s,l=i-1-s,c=Math.max(r,a),h=Math.min(r,a);if(c===h)return void(this.La=[]);const d=this.za(c,h);if(this.Ua(e,d,c,h,o,l),t.$a()&&this.qa(d,h,c)){const x=this.Yi.Ya();this.ja(e,d,o,l,x,2*x)}const g=this.La.map((x=>x.Ka)),y=this.Yi.Xa(g);for(let x=0;x<this.La.length;x++)this.La[x].Za=y[x]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(t,e,i,r,a,s){const o=this.La,l=this.Yi;let c=i%e;c+=c<0?e:0;const h=i>=r?1:-1;let d=null,g=0;for(let y=i-c;y>r;y-=e){const x=this.Na(y,t,!0);d!==null&&Math.abs(x-d)<this.Fa()||x<a||x>s||(g<o.length?(o[g].Pa=x,o[g].Za=l.Ga(y),o[g].Ka=y):o.push({Pa:x,Za:l.Ga(y),Ka:y}),g++,d=x,l.Ja()&&(e=this.za(y*h,r)))}o.length=g}ja(t,e,i,r,a,s){const o=this.La,l=this.Qa(t,i,a,s),c=this.Qa(t,r,-s,-a),h=this.Na(0,t,!0)-this.Na(e,t,!0);o.length>0&&o[0].Pa-l.Pa<h/2&&o.shift(),o.length>0&&c.Pa-o[o.length-1].Pa<h/2&&o.pop(),o.unshift(l),o.push(c)}Qa(t,e,i,r){const a=(i+r)/2,s=this.Oa(e+i,t),o=this.Oa(e+r,t),l=Math.min(s,o),c=Math.max(s,o),h=Math.max(.1,this.za(c,l)),d=this.Oa(e+a,t),g=d-d%h,y=this.Na(g,t,!0);return{Za:this.Yi.Ga(g),Pa:y,Ka:g}}qa(t,e,i){let r=Ly(this.Yi.Qe());return this.Yi.Ja()&&(r=xb(r,this.Yi.tl())),r.$e()-e<t&&i-r.qe()<t}}function sK(n){return n.slice().sort(((t,e)=>Le(t.hs())-Le(e.hs())))}var z6;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(z6||(z6={}));const F6=new tK,B6=new CT(100,1);class uOt{constructor(t,e,i,r,a){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new Rs,this.ul=new Rs,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=B6,this.wl=IP(null),this.gl=t,this.Ps=e,this.Ml=i,this.bl=r,this.Sl=a,this.xl=new I6(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(t){if(lh(this.Ps,t),this.wa(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const e=Mu(t.scaleMargins.top),i=Mu(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){const e=this.ie();let i=null;t.sn!==void 0&&(this.Ps.autoScale=t.sn),t.ie!==void 0&&(this.Ps.mode=t.ie,t.ie!==2&&t.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),e.ie===1&&t.ie!==e.ie&&((function(a,s){if(a===null)return!1;const o=Zw(a.$e(),s),l=Zw(a.qe(),s);return isFinite(o)&&isFinite(l)})(this.Ge,this.wl)?(i=xb(this.Ge,this.wl),i!==null&&this.Bl(i)):this.Ps.autoScale=!0),t.ie===1&&t.ie!==e.ie&&(i=Sw(this.Ge,this.wl),i!==null&&this.Bl(i));const r=e.ie!==this.Ps.mode;r&&(e.ie===2||this.Le())&&this.wa(),r&&(e.ie===3||this.Dl())&&this.wa(),t.Vl!==void 0&&e.Vl!==t.Vl&&(this.Ps.invertScale=t.Vl,this.Il()),this.ul.p(e,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(t){this.il!==t&&(this.il=t,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const t=this.$t()-this.Ll()-this.Ol();return this.sl=t,t}Qe(){return this.Nl(),this.Ge}Bl(t,e){const i=this.Ge;(e||i===null&&t!==null||i!==null&&!i.He(t))&&(this.pl=null,this.Ge=t)}Fl(t){this.Bl(t),this.Wl(t!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(t){return this.Vl()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=vb(t,e):this.Dl()&&(t=Kw(t,e)),this.Pl(t,e)}Ul(t,e,i){this.Nl();const r=this.Ol(),a=Le(this.Qe()),s=a.$e(),o=a.qe(),l=this.zl()-1,c=this.Vl(),h=l/(o-s),d=i===void 0?0:i.from,g=i===void 0?t.length:i.to,y=this.$l();for(let x=d;x<g;x++){const w=t[x],k=w.gt;if(isNaN(k))continue;let A=k;y!==null&&(A=y(w.gt,e));const T=r+h*(A-s),R=c?T:this.il-1-T;w.ut=R}}ql(t,e,i){this.Nl();const r=this.Ol(),a=Le(this.Qe()),s=a.$e(),o=a.qe(),l=this.zl()-1,c=this.Vl(),h=l/(o-s),d=i===void 0?0:i.from,g=i===void 0?t.length:i.to,y=this.$l();for(let x=d;x<g;x++){const w=t[x];let k=w.qh,A=w.Yh,T=w.jh,R=w.Kh;y!==null&&(k=y(w.qh,e),A=y(w.Yh,e),T=y(w.jh,e),R=y(w.Kh,e));let G=r+h*(k-s),z=c?G:this.il-1-G;w.Yl=z,G=r+h*(A-s),z=c?G:this.il-1-G,w.jl=z,G=r+h*(T-s),z=c?G:this.il-1-G,w.Kl=z,G=r+h*(R-s),z=c?G:this.il-1-G,w.Xl=z}}Ts(t,e){const i=this.Cl(t,e);return this.Zl(i,e)}Zl(t,e){let i=t;return this.Le()?i=(function(r,a){return a<0&&(r=-r),r/100*a+a})(i,e):this.Dl()&&(i=(function(r,a){return r-=100,a<0&&(r=-r),r/100*a+a})(i,e)),i}Ma(){return this.cl}Dt(){return this.fl||(this.fl=sK(this.cl)),this.fl}Gl(t){this.cl.indexOf(t)===-1&&(this.cl.push(t),this.wa(),this.Jl())}Ql(t){const e=this.cl.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.cl.splice(e,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let t=null;for(const e of this.cl){const i=e.zt();i!==null&&(t===null||i.Hh<t.Hh)&&(t=i)}return t===null?null:t.Wt}Vl(){return this.Ps.invertScale}Da(){const t=this.zt()===null;if(this.pl!==null&&(t||this.pl.io===t))return this.pl.Da;this.xl.Wa();const e=this.xl.Da();return this.pl={Da:e,io:t},this._l.p(),e}so(){return this._l}no(t){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-t,this.nl=Le(this.Qe()).Ue()))}eo(t){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(t=this.il-t)<0&&(t=0);let e=(this.vl+.2*(this.il-1))/(t+.2*(this.il-1));const i=Le(this.nl).Ue();e=Math.max(e,.1),i.je(e),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(t){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=t,this.nl=Le(this.Qe()).Ue()))}ao(t){if(this.Tl()||this.ml===null)return;const e=Le(this.Qe()).Ye()/(this.zl()-1);let i=t-this.ml;this.Vl()&&(i*=-1);const r=i*e,a=Le(this.nl).Ue();a.Ke(r),this.Bl(a,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(t,e){switch(this.Ps.mode){case 2:return this.oo(vb(t,e));case 3:return this.ea().format(Kw(t,e));default:return this.nr(t)}}Ga(t){switch(this.Ps.mode){case 2:return this.oo(t);case 3:return this.ea().format(t);default:return this.nr(t)}}Xa(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ea().formatTickmarks(t);default:return this.uo(t)}}Dh(t){return this.nr(t,Le(this.dl).ea())}Vh(t,e){return t=vb(t,e),this.oo(t,F6)}co(){return this.cl}do(t){this.el={hl:t,rl:!1}}Ns(){this.cl.forEach((t=>t.Ns()))}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let t=1/0;this.dl=null;for(const i of this.cl)i.hs()<t&&(t=i.hs(),this.dl=i);let e=100;this.dl!==null&&(e=Math.round(this.dl.nh())),this.ra=B6,this.Le()?(this.ra=F6,e=100):this.Dl()?(this.ra=new CT(100,1),e=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new I6(this,e,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(t){this.al=t}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(t,e){if(this.Nl(),this.Ki())return 0;t=this.Ja()&&t?oA(t,this.wl):t;const i=Le(this.Qe()),r=this.Ol()+(this.zl()-1)*(t-i.$e())/i.Ye();return this.Hl(r)}Cl(t,e){if(this.Nl(),this.Ki())return 0;const i=this.Hl(t),r=Le(this.Qe()),a=r.$e()+r.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?Zw(a,this.wl):a}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const t=this.el.hl;if(t===null)return;let e=null;const i=this.co();let r=0,a=0;for(const l of i){if(!l.Vt())continue;const c=l.zt();if(c===null)continue;const h=l.Mh(t.Uh(),t.bi());let d=h&&h.Qe();if(d!==null){switch(this.Ps.mode){case 1:d=Sw(d,this.wl);break;case 2:d=lOt(d,c.Wt);break;case 3:d=cOt(d,c.Wt)}if(e=e===null?d:e.vn(Le(d)),h!==null){const g=h.tr();g!==null&&(r=Math.max(r,g.above),a=Math.max(a,g.below))}}}if(this.$a()&&(r=Math.max(r,this.Ya()),a=Math.max(a,this.Ya())),r===this.ll&&a===this.ol||(this.ll=r,this.ol=a,this.pl=null,this.kl()),e!==null){if(e.$e()===e.qe()){const l=5*this.fo();this.Ja()&&(e=xb(e,this.wl)),e=new zc(e.$e()-l,e.qe()+l),this.Ja()&&(e=Sw(e,this.wl))}if(this.Ja()){const l=xb(e,this.wl),c=IP(l);if(s=c,o=this.wl,s.Va!==o.Va||s.Ba!==o.Ba){const h=this.nl!==null?xb(this.nl,this.wl):null;this.wl=c,e=Sw(l,c),h!==null&&(this.nl=Sw(h,c))}}this.Bl(e)}else this.Ge===null&&(this.Bl(new zc(-.5,.5)),this.wl=IP(null));var s,o}$l(){return this.Le()?vb:this.Dl()?Kw:this.Ja()?t=>oA(t,this.wl):null}vo(t,e,i){return e===void 0?(i===void 0&&(i=this.ea()),i.format(t)):e(t)}mo(t,e,i){return e===void 0?(i===void 0&&(i=this.ea()),i.formatTickmarks(t)):e(t)}nr(t,e){return this.vo(t,this.bl.priceFormatter,e)}uo(t,e){const i=this.bl.priceFormatter;return this.mo(t,this.bl.tickmarksPriceFormatter??(i?r=>r.map(i):void 0),e)}oo(t,e){return this.vo(t,this.bl.percentageFormatter,e)}_o(t,e){const i=this.bl.percentageFormatter;return this.mo(t,this.bl.tickmarksPercentageFormatter??(i?r=>r.map(i):void 0),e)}}function H6(n){return n instanceof AT}class G6{constructor(t,e){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new Rs,this.yh=[],this.uh=t,this.ts=e,this.Co=new oOt(this);const i=e.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.ko.hr(t.rightPriceScale),t.localization&&(this.Po.wa(),this.ko.wa()),t.overlayPriceScales){const e=Array.from(this.wo.values());for(const i of e){const r=Le(i[0].Ft());r.hr(t.overlayPriceScales),t.localization&&r.wa()}}}Do(t){switch(t){case"left":return this.Po;case"right":return this.ko}return this.wo.has(t)?Mu(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach((t=>{t.m&&t.m()})),this.yh=this.yh.filter((t=>{const e=t.oh();return e.detached&&e.detached(),!1})),this.xo.p()}Bo(){return this.bo}Io(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(t){this.Mo=t,this.Ao()}Al(t){this.il=t,this.Po.Al(t),this.ko.Al(t),this.cl.forEach((e=>{if(this.Un(e)){const i=e.Ft();i!==null&&i.Al(t)}})),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.cl.filter(H6)}Ma(){return this.cl}Un(t){const e=t.Ft();return e===null||this.Po!==e&&this.ko!==e}Gl(t,e,i){this.No(t,e,i?t.hs():this.cl.length)}Ql(t,e){const i=this.cl.indexOf(t);bl(i!==-1,"removeDataSource: invalid data source"),this.cl.splice(i,1),e||this.cl.forEach(((s,o)=>s.ls(o)));const r=Le(t.Ft()).ma();if(this.wo.has(r)){const s=Mu(this.wo.get(r)),o=s.indexOf(t);o!==-1&&(s.splice(o,1),s.length===0&&this.wo.delete(r))}const a=t.Ft();a&&a.Ma().indexOf(t)>=0&&(a.Ql(t),this.Fo(a)),this.fl=null}qn(t){return t===this.Po?"left":t===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(t,e){t.no(e)}$o(t,e){t.eo(e),this.Ao()}qo(t){t.ro()}Yo(t,e){t.ho(e)}jo(t,e){t.ao(e),this.Ao()}Ko(t){t.lo()}Ao(){this.cl.forEach((t=>{t.Ns()}))}ks(){let t=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?t=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?t=this.Po:this.cl.length!==0&&(t=this.cl[0].Ft()),t===null&&(t=this.ko),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.ko:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){t!==null&&t.Tl()&&this.Xo(t)}Zo(t){const e=this.uh.Pe();t.yl({sn:!0}),e!==null&&t.do(e),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach((t=>{this.Un(t)&&this.Fo(t.Ft())})),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=sK(this.cl)),this.fl}Qo(t,e){e=Mb(e,0,this.cl.length-1);const i=this.cl.indexOf(t);bl(i!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(e,0,t),this.cl.forEach(((r,a)=>r.ls(a))),this.fl=null;for(const r of[this.Po,this.ko])r.Jl(),r.wa();this.ts.ar()}Bt(){return this.Dt().filter(H6)}t_(){return this.xo}i_(){return this.Co}_a(t){this.yh.push(new XDt(t))}ua(t){this.yh=this.yh.filter((e=>e.oh()!==t)),t.detached&&t.detached(),this.ts.ar()}s_(){return this.yh}sa(t,e){return this.yh.map((i=>i.jn(t,e))).filter((i=>i!==null))}Xo(t){const e=t.co();if(e&&e.length>0&&!this.uh.Ki()){const i=this.uh.Pe();i!==null&&t.do(i)}t.Ns()}No(t,e,i){let r=this.Do(e);if(r===null&&(r=this.yo(e,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,t),!kT(e)){const a=this.wo.get(e)||[];a.push(t),this.wo.set(e,a)}t.ls(i),r.Gl(t),t._s(r),this.Fo(r),this.fl=null}To(t,e,i){e.ie!==i.ie&&this.Xo(t)}yo(t,e){const i={visible:!0,autoScale:!0,...Bp(e)},r=new uOt(t,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.Al(this.$t()),r}}function Jk(n){return{n_:n.n_,e_:{Kn:n.r_.externalId},h_:n.r_.cursorStyle}}function hOt(n,t,e,i){for(const r of n){const a=r.Tt(i);if(a!==null&&a.jn){const s=a.jn(t,e);if(s!==null)return{a_:r,e_:s}}}return null}function dOt(n){return n.Fs!==void 0}function oK(n,t,e){const i=[n,...n.Dt()],r=(function(a,s,o){let l,c;for(const g of a){const y=g.sa?.(s,o)??[];for(const x of y)h=x.zOrder,d=l?.zOrder,(!d||h==="top"&&d!=="top"||h==="normal"&&d==="bottom")&&(l=x,c=g)}var h,d;return l&&c?{r_:l,n_:c}:null})(i,t,e);if(r?.r_.zOrder==="top")return Jk(r);for(const a of i){if(r&&r.n_===a&&r.r_.zOrder!=="bottom"&&!r.r_.isBackground)return Jk(r);if(dOt(a)){const s=hOt(a.Fs(n),t,e,n);if(s!==null)return{n_:a,a_:s.a_,e_:s.e_}}if(r&&r.n_===a&&r.r_.zOrder!=="bottom"&&r.r_.isBackground)return Jk(r)}return r?.r_?Jk(r):null}class fOt{constructor(t,e,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=e,this.Vn=i}__(t){const e=t.time,i=this.o_.cacheKey(e),r=this.Dn.get(i);if(r!==void 0)return r.u_;if(this.yn===this.Vn){const s=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Mu(s)),this.Tn++,this.yn--}const a=this.l_(t);return this.Dn.set(i,{u_:a,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,a}}class Qw{constructor(t,e){bl(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function W6(n,t){return n===null||t===null?n===t:n.He(t)}class gOt{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,e){this.g_(e),this.Dn=null;for(let i=e;i<t.length;++i){const r=t[i];let a=this.p_.get(r.timeWeight);a===void 0&&(a=[],this.p_.set(r.timeWeight,a)),a.push({index:i,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}M_(t,e,i,r,a){const s=Math.ceil(e/t);return this.Dn!==null&&this.Dn.b_===s&&a===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:a,x_:i,Da:this.C_(s,i,r),b_:s}),this.Dn.Da}g_(t){if(t===0)return void this.p_.clear();const e=[];this.p_.forEach(((i,r)=>{t<=i[0].index?e.push(r):i.splice(Zb(i,t,(a=>a.index<t)),1/0)}));for(const i of e)this.p_.delete(i)}C_(t,e,i){let r=[];const a=s=>!e||i.has(s.index);for(const s of Array.from(this.p_.keys()).sort(((o,l)=>l-o))){if(!this.p_.get(s))continue;const o=r;r=[];const l=o.length;let c=0;const h=Mu(this.p_.get(s)),d=h.length;let g=1/0,y=-1/0;for(let x=0;x<d;x++){const w=h[x],k=w.index;for(;c<l;){const A=o[c],T=A.index;if(!(T<k&&a(A))){g=T;break}c++,r.push(A),y=T,g=1/0}if(g-k>=t&&k-y>=t&&a(w))r.push(w),y=k;else if(this.v_)return o}for(;c<l;c++)a(o[c])&&r.push(o[c])}return r}}class Nb{constructor(t){this.P_=t}y_(){return this.P_===null?null:new Qw(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new Nb(null)}}function pOt(n,t){return n.weight>t.weight?n:t}class mOt{constructor(t,e,i,r){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new gOt,this.B_=new Map,this.I_=Nb.T_(),this.E_=!0,this.A_=new Rs,this.z_=new Rs,this.L_=new Rs,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=e,this.bl=i,this.U_=e.rightOffset,this.q_=e.barSpacing,this.ts=t,this.Y_(e),this.o_=r,this.j_(),this.V_.m_(e.uniformDistribution),this.K_()}N(){return this.Ps}X_(t){lh(this.bl,t),this.Z_(),this.j_()}hr(t,e){lh(this.Ps,t),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),this.Y_(t),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.q_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(t){return this.D_[t]?.time??null}ss(t){return this.D_[t]??null}Q_(t,e){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return e?this.D_.length-1:null;const i=Zb(this.D_,this.o_.key(t),((r,a)=>this.o_.key(r.time)<a));return this.o_.key(t)<this.o_.key(this.D_[i].time)?e?i:null:i}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const t=this.Pe();if(t===null)return null;const e={from:t.Uh(),to:t.bi()};return this.eu(e)}eu(t){const e=Math.round(t.from),i=Math.round(t.to),r=Le(this.ru()),a=Le(this.hu());return{from:Le(this.ss(Math.max(r,e))),to:Le(this.ss(Math.min(a,i)))}}au(t){return{from:Le(this.Q_(t.from,!0)),to:Le(this.Q_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0||this.Mo===t)return;const e=this.su(),i=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&i!==0){const r=this.q_*t/i;this.q_=r}if(this.Ps.fixLeftEdge&&e!==null&&e.Uh()<=0){const r=i-t;this.U_-=Math.round(r/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(t){if(this.Ki()||!P_(t))return 0;const e=this._u()+this.U_-t;return this.Mo-(e+.5)*this.q_-1}uu(t,e){const i=this._u(),r=e===void 0?0:e.from,a=e===void 0?t.length:e.to;for(let s=r;s<a;s++){const o=t[s].wt,l=i+this.U_-o,c=this.Mo-(l+.5)*this.q_-1;t[s]._t=c}}cu(t,e){const i=Math.ceil(this.du(t));return e&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(t){this.E_=!0,this.U_=t,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(t){const e=this.q_;if(this.wu(t),this.Ps.rightOffsetPixels!==void 0&&e!==0){const i=this.U_*e/this.q_;this.U_=i}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const t=this.q_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(e/t),r=Le(this.Pe()),a=Math.max(r.Uh(),r.Uh()-i),s=Math.max(r.bi(),r.bi()-i),o=this.V_.M_(t,e,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),l=this.ru()+i,c=this.hu()-i,h=this.Mu(),d=this.Ps.fixLeftEdge||h,g=this.Ps.fixRightEdge||h;let y=0;for(const x of o){if(!(a<=x.index&&x.index<=s))continue;let w;y<this.H_.length?(w=this.H_[y],w.coord=this.qt(x.index),w.label=this.bu(x),w.weight=x.weight):(w={needAlignCoordinate:!1,coord:this.qt(x.index),label:this.bu(x),weight:x.weight},this.H_.push(w)),this.q_>e/2&&!h?w.needAlignCoordinate=!1:w.needAlignCoordinate=d&&x.index<=l||g&&x.index>=c,y++}return this.H_.length=y,this.N_=this.H_,this.H_}Su(){let t;this.E_=!0,this.dn(this.Ps.barSpacing),t=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(t)}xu(t){this.E_=!0,this.R_=t,this.ou(),this.G_()}Cu(t,e){const i=this.du(t),r=this.mu(),a=r+e*(r/10);this.dn(a),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(t)))}no(t){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=t,this.Pu()))}eo(t){if(this.O_===null)return;const e=Mb(this.Mo-t,0,this.Mo),i=Mb(this.Mo-Le(this.vl),0,this.Mo);e!==0&&i!==0&&this.dn(this.O_.mu*e/i)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(t){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=t,this.Pu()))}ao(t){if(this.ml===null)return;const e=(this.ml-t)/this.mu();this.U_=Le(this.O_).gu+e,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,r=performance.now();this.ts._n({Ru:a=>(a-r)/e>=1,Du:a=>{const s=(a-r)/e;return s>=1?t:i+(t-i)*s}})}yt(t,e){this.E_=!0,this.D_=t,this.V_.w_(t,e),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(t,e){const i=t.f_(),r=e&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-r)/i),this.U_=t.bi()-this._u(),e&&(this.U_=r?r/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const t=this.ru(),e=this.hu();t!==null&&e!==null&&this.Eu(new Qw(t,e),!0)}zu(t){const e=new Qw(t.from,t.to);this.Eu(e)}ns(t){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const t=this.ts.js();for(const e of t)for(const i of e.va())this.F_.set(i,!0);this.W_++}Mu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(t){return(this.Mo-1-t)/this.q_}du(t){const e=this.Lu(t),i=this._u()+this.U_-e;return Math.round(1e6*i)/1e6}wu(t){const e=this.q_;this.q_=t,this.lu(),e!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(Nb.T_());const t=this._u(),e=this.Mo/this.q_,i=this.U_+t,r=new Qw(i-e+1,i);this.Nu(new Nb(r))}lu(){const t=Mb(this.q_,this.Fu(),this.Wu());this.q_!==t&&(this.q_=t,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const t=this.Hu();t!==null&&this.U_<t&&(this.U_=t,this.E_=!0);const e=this.Uu();this.U_>e&&(this.U_=e,this.E_=!0)}Hu(){const t=this.ru(),e=this.R_;return t===null||e===null?null:t-e-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(t){let e=this.B_.get(t.weight);return e===void 0&&(e=new fOt((i=>this.$u(i)),this.o_),this.B_.set(t.weight,e)),e.__(t)}$u(t){return this.o_.formatTickmark(t,this.bl)}Nu(t){const e=this.I_;this.I_=t,W6(e.y_(),this.I_.y_())||this.A_.p(),W6(e.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const t=this.ru();if(t===null)return;const e=this.Pe();if(e===null)return;const i=e.Uh()-t;if(i<0){const r=this.U_-i-1;this.fn(r)}this.lu()}J_(){this.ou(),this.lu()}fu(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}pu(t){const e=(function*(r){const a=Math.round(r),s=a<r;let o=1;for(;;)s?(yield a+o,yield a-o):(yield a-o,yield a+o),o++})(t),i=this.hu();for(;i;){const r=e.next().value;if(this.F_.get(r))return r;if(r<0||r>i)break}return t}Y_(t){if(t.rightOffsetPixels!==void 0){const e=t.rightOffsetPixels/(t.barSpacing||this.q_);this.ts.fn(e)}}}var U6,Y6,$6,V6,X6;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(U6||(U6={}));class yOt{constructor(t,e,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new Rs,this.Xu=new Rs,this.Zu=null,this.Gu=t,this.Ps=e,this.o_=i,this.Sl=new yDt(this.Ps.layout.colorParsers),this.Ju=new mDt(this),this.uh=new mOt(this,e.timeScale,this.Ps.localization,i),this.Ct=new MDt(this,e.crosshair),this.Qu=new rOt(e.crosshair),e.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(vl.gn())}ar(){this.rc(vl.wn())}Zh(){this.rc(new vl(1))}Eh(t){const e=this.hc(t);this.rc(e)}ac(){return this.ju}lc(t){if(this.ju?.n_===t?.n_&&this.ju?.e_?.Kn===t?.e_?.Kn)return;const e=this.ju;this.ju=t,e!==null&&this.Eh(e.n_),t!==null&&t.n_!==e?.n_&&this.Eh(t.n_)}N(){return this.Ps}hr(t){lh(this.Ps,t),this.qu.forEach((e=>e.Ro(t))),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.X_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(t,e,i=0){const r=this.qu[i];if(r===void 0)return;if(t==="left")return lh(this.Ps,{leftPriceScale:e}),r.Ro({leftPriceScale:e}),this.Ku.p(),void this.Ih();if(t==="right")return lh(this.Ps,{rightPriceScale:e}),r.Ro({rightPriceScale:e}),this.Ku.p(),void this.Ih();const a=this._c(t,i);a!==null&&(a.Ft.hr(e),this.Ku.p())}_c(t,e){const i=this.qu[e];if(i===void 0)return null;const r=i.Do(t);return r!==null?{Us:i,Ft:r}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(t,e){t.Al(e),this.vu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.qu.forEach((e=>e.Eo(t))),this.vu()}fc(t){this.qu.length!==1&&(bl(t>=0&&t<this.qu.length,"Invalid pane index"),this.qu.splice(t,1),this.Ih())}vc(t,e){if(this.qu.length<2)return;bl(t>=0&&t<this.qu.length,"Invalid pane index");const i=this.qu[t],r=this.qu.reduce(((d,g)=>d+g.Bo()),0),a=this.qu.reduce(((d,g)=>d+g.$t()),0),s=a-30*(this.qu.length-1);e=Math.min(s,Math.max(30,e));const o=r/a,l=i.$t();i.Io(e*o);let c=e-l,h=this.qu.length-1;for(const d of this.qu)if(d!==i){const g=Math.min(s,Math.max(30,d.$t()-c/h));c-=d.$t()-g,h-=1;const y=g*o;d.Io(y)}this.Ih()}mc(t,e){bl(t>=0&&t<this.qu.length&&e>=0&&e<this.qu.length,"Invalid pane index");const i=this.qu[t],r=this.qu[e];this.qu[t]=r,this.qu[e]=i,this.Ih()}wc(t,e){if(bl(t>=0&&t<this.qu.length&&e>=0&&e<this.qu.length,"Invalid pane index"),t===e)return;const[i]=this.qu.splice(t,1);this.qu.splice(e,0,i),this.Ih()}Uo(t,e,i){t.Uo(e,i)}$o(t,e,i){t.$o(e,i),this.Ah(),this.rc(this.gc(t,2))}qo(t,e){t.qo(e),this.rc(this.gc(t,2))}Yo(t,e,i){e.Tl()||t.Yo(e,i)}jo(t,e,i){e.Tl()||(t.jo(e,i),this.Ah(),this.rc(this.gc(t,2)))}Ko(t,e){e.Tl()||(t.Ko(e),this.rc(this.gc(t,2)))}Zo(t,e){t.Zo(e),this.rc(this.gc(t,2))}Mc(t){this.uh.no(t)}bc(t,e){const i=this.Et();if(i.Ki()||e===0)return;const r=i.Qi();t=Math.max(1,Math.min(t,r)),i.Cu(t,e),this.vu()}Sc(t){this.xc(0),this.Cc(t),this.Pc()}yc(t){this.uh.eo(t),this.vu()}kc(){this.uh.ro(),this.ar()}xc(t){this.uh.ho(t)}Cc(t){this.uh.ao(t),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(t,e,i,r,a){this.Ct.Vs(t,e);let s=NaN,o=this.uh.cu(t,!0);const l=this.uh.Pe();l!==null&&(o=Math.min(Math.max(l.Uh(),o),l.bi()));const c=r.ks(),h=c.zt();if(h!==null&&(s=c.Ts(e,h)),s=this.Qu.ga(s,o,r),this.Ct.As(o,s,r),this.Zh(),!a){const d=oK(r,t,e);this.lc(d&&{n_:d.n_,e_:d.e_,h_:d.h_||null}),this.Xu.p(this.Ct.It(),{x:t,y:e},i)}}Rc(t,e,i){const r=i.ks(),a=r.zt(),s=r.Nt(t,Le(a)),o=this.uh.Q_(e,!0),l=this.uh.qt(Le(o));this.Tc(l,s,null,i,!0)}Dc(t){this.uc().Ls(),this.Zh(),t||this.Xu.p(null,null,null)}Ah(){const t=this.Ct.Us();if(t!==null){const e=this.Ct.Is(),i=this.Ct.Es();this.Tc(e,i,null,t)}this.Ct.Ns()}Vc(t,e,i){const r=this.uh.Rs(0);e!==void 0&&i!==void 0&&this.uh.yt(e,i);const a=this.uh.Rs(0),s=this.uh._u(),o=this.uh.Pe();if(o!==null&&r!==null&&a!==null){const l=o.Te(s),c=this.o_.key(r)>this.o_.key(a),h=t!==null&&t>s&&!c,d=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,g=l&&(i!==void 0||d)&&this.uh.N().shiftVisibleRangeOnNewBar;if(h&&!g){const y=t-s;this.uh.fn(this.uh.gu()-y)}}this.uh.xu(t)}Lh(t){t!==null&&t.Jo()}Hn(t){if((function(i){return i instanceof G6})(t))return t;const e=this.qu.find((i=>i.Dt().includes(t)));return e===void 0?null:e}vu(){this.qu.forEach((t=>t.Jo())),this.Ah()}m(){this.qu.forEach((t=>t.m())),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(t,e){const i=this.tc(e);this.Ec(t,i),this.Yu.push(t),this.Yu.length===1?this.Ih():this.ar()}Ac(t){const e=this.Hn(t),i=this.Yu.indexOf(t);bl(i!==-1,"Series not found");const r=Le(e);this.Yu.splice(i,1),r.Ql(t),t.m&&t.m(),this.uh.K_(),this.zc(r)}Bh(t,e){const i=Le(this.Hn(t));i.Ql(t,!0),i.Gl(t,e,!0)}Au(){const t=vl.wn();t.rn(),this.rc(t)}Lc(t){const e=vl.wn();e.ln(t),this.rc(e)}cn(){const t=vl.wn();t.cn(),this.rc(t)}dn(t){const e=vl.wn();e.dn(t),this.rc(e)}fn(t){const e=vl.wn();e.fn(t),this.rc(e)}_n(t){const e=vl.wn();e._n(t),this.rc(e)}hn(){const t=vl.wn();t.hn(),this.rc(t)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(t,e){if(bl(e>=0,"Index should be greater or equal to 0"),e===this.Fc(t))return;const i=Le(this.Hn(t));i.Ql(t);const r=this.tc(e);this.Ec(t,r),i.Ma().length===0&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(t){const e=this.ec,i=this.sc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Zu===null||this.Zu.mr!==i||this.Zu.wr!==e)this.Zu={mr:i,wr:e,Hc:new Map};else{const a=this.Zu.Hc.get(t);if(a!==void 0)return a}const r=this.Sl.tt(i,e,t/100);return this.Zu.Hc.set(t,r),r}Uc(t){return this.qu.indexOf(t)}Xi(){return this.Sl}$c(){return this.qc()}qc(t){const e=new G6(this.uh,this);this.qu.push(e);const i=t??this.qu.length-1,r=vl.gn();return r.Qs(i,{tn:0,sn:!0}),this.rc(r),e}tc(t){return bl(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.qu.length,t))<this.qu.length?this.qu[t]:this.qc(t)}Fc(t){return this.qu.findIndex((e=>e.Oo().includes(t)))}gc(t,e){const i=new vl(e);if(t!==null){const r=this.qu.indexOf(t);i.Qs(r,{tn:e})}return i}hc(t,e){return e===void 0&&(e=2),this.gc(this.Hn(t),e)}rc(t){this.Gu&&this.Gu(t),this.qu.forEach((e=>e.i_().lr().yt()))}Ec(t,e){const i=t.N().priceScaleId,r=i!==void 0?i:this.Oc();e.Gl(t,r),kT(r)||t.hr(t.N())}nc(t){const e=this.Ps.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}zc(t){!t.Lo()&&t.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(t),1)}}function lK(n){if(n>=1)return 0;let t=0;for(;t<8;t++){const e=Math.round(n);if(Math.abs(e-n)<1e-8)return t;n*=10}return t}function dD(n){return!Kb(n)&&!NS(n)}function cK(n){return Kb(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(Y6||(Y6={})),(function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"})($6||($6={})),(function(n){n.Solid="solid",n.VerticalGradient="gradient"})(V6||(V6={})),(function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"})(X6||(X6={}));const q6=n=>n.getUTCFullYear();function vOt(n,t,e){return t.replace(/yyyy/g,(i=>Hp(q6(i),4))(n)).replace(/yy/g,(i=>Hp(q6(i)%100,2))(n)).replace(/MMMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(n,e)).replace(/MMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(n,e)).replace(/MM/g,(i=>Hp((r=>r.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>Hp((r=>r.getUTCDate())(i),2))(n))}class uK{constructor(t="yyyy-MM-dd",e="default"){this.Yc=t,this.jc=e}__(t){return vOt(t,this.Yc,this.jc)}}class xOt{constructor(t){this.Kc=t||"%h:%m:%s"}__(t){return this.Kc.replace("%h",Hp(t.getUTCHours(),2)).replace("%m",Hp(t.getUTCMinutes(),2)).replace("%s",Hp(t.getUTCSeconds(),2))}}const bOt={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class wOt{constructor(t={}){const e={...bOt,...t};this.Qc=new uK(e.Xc,e.Jc),this.td=new xOt(e.Zc),this.sd=e.Gc}__(t){return`${this.Qc.__(t)}${this.sd}${this.td.__(t)}`}}function tC(n){return 60*n*60*1e3}function FP(n){return 60*n*1e3}const eC=[{nd:(K6=1,1e3*K6),ed:10},{nd:FP(1),ed:20},{nd:FP(5),ed:21},{nd:FP(30),ed:22},{nd:tC(1),ed:30},{nd:tC(3),ed:31},{nd:tC(6),ed:32},{nd:tC(12),ed:33}];var K6;function Z6(n,t){if(n.getUTCFullYear()!==t.getUTCFullYear())return 70;if(n.getUTCMonth()!==t.getUTCMonth())return 60;if(n.getUTCDate()!==t.getUTCDate())return 50;for(let e=eC.length-1;e>=0;--e)if(Math.floor(t.getTime()/eC[e].nd)!==Math.floor(n.getTime()/eC[e].nd))return eC[e].ed;return 0}function BP(n){let t=n;if(NS(n)&&(t=jR(n)),!dD(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{rd:Math.round(e.getTime()/1e3),hd:t}}function Q6(n){if(!cK(n))throw new Error("time must be of type isUTCTimestamp");return{rd:n}}function jR(n){const t=new Date(n);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function J6(n){NS(n.time)&&(n.time=jR(n.time))}class tG{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?(function(e){e.forEach(J6)})(t):J6(t)}createConverterToInternalObj(t){return Le((function(e){return e.length===0?null:dD(e[0].time)||NS(e[0].time)?BP:Q6})(t))}key(t){return typeof t=="object"&&"rd"in t?t.rd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.hd===void 0?new Date(1e3*e.rd).getTime():new Date(Date.UTC(e.hd.year,e.hd.month-1,e.hd.day)).getTime()}convertHorzItemToInternal(t){return cK(e=t)?Q6(e):dD(e)?BP(e):BP(jR(e));var e}updateFormatter(t){if(!this.Ps)return;const e=t.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new wOt({Xc:e,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:t.locale}):this.ad=new uK(e,t.locale)}formatHorzItem(t){const e=t;return this.ad.__(new Date(1e3*e.rd))}formatTickmark(t,e){const i=(function(a,s,o){switch(a){case 0:case 10:return s?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return s?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(r.tickMarkFormatter!==void 0){const a=r.tickMarkFormatter(t.originalTime,i,e.locale);if(a!==null)return a}return(function(a,s,o){const l={};switch(s){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const c=a.hd===void 0?new Date(1e3*a.rd):new Date(Date.UTC(a.hd.year,a.hd.month-1,a.hd.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(o,l)})(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(pOt,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(i,r=0){if(i.length===0)return;let a=r===0?null:i[r-1].time.rd,s=a!==null?new Date(1e3*a):null,o=0;for(let l=r;l<i.length;++l){const c=i[l],h=new Date(1e3*c.time.rd);s!==null&&(c.timeWeight=Z6(h,s)),o+=c.time.rd-(a||c.time.rd),a=c.time.rd,s=h}if(r===0&&i.length>1){const l=Math.ceil(o/(i.length-1)),c=new Date(1e3*(i[0].time.rd-l));i[0].timeWeight=Z6(new Date(1e3*i[0].time.rd),c)}})(t,e)}static ld(t){return lh({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const Qb=typeof window<"u";function eG(){return!!Qb&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function HP(){return!!Qb&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function fD(n){return n+n%2}function _Ot(n){Qb&&window.chrome!==void 0&&n.addEventListener("mousedown",(t=>{if(t.button===1)return t.preventDefault(),!1}))}class TT{constructor(t,e,i){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!HP(),this.Ld=r=>{this.Od(r)},this.Nd=r=>{if(this.Fd(r)){const a=this.Wd(r);if(++this.dd,this.fd&&this.dd>1){const{Hd:s}=this.Ud(rg(r),this.pd);s<30&&!this.Sd&&this.$d(a,this.Yd.qd),this.jd()}}else{const a=this.Wd(r);if(++this.od,this._d&&this.od>1){const{Hd:s}=this.Ud(rg(r),this.ud);s<5&&!this.bd&&this.Kd(a,this.Yd.Xd),this.Zd()}}},this.Gd=t,this.Yd=e,this.Ps=i,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(t){this.yd&&this.yd();const e=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",e)},this.Gd.addEventListener("mousemove",e),this.Fd(t))return;const i=this.Wd(t);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(t){if(this.Id||this.gd!==null||this.Fd(t))return;const e=this.Wd(t);this.Kd(e,this.Yd.nf),this.zd=!0}ef(t){const e=GP(t.changedTouches,Le(this.Ad));if(e===null||(this.Ed=nC(t),this.Rd!==null)||this.Bd)return;this.Vd=!0;const i=this.Ud(rg(e),Le(this.gd)),{rf:r,hf:a,Hd:s}=i;if(this.Md||!(s<5)){if(!this.Md){const o=.5*r,l=a>=o&&!this.Ps.af(),c=o>a&&!this.Ps.lf();l||c||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const o=this.Wd(t,e);this.$d(o,this.Yd._f),ub(t)}}}uf(t){if(t.button!==0)return;const e=this.Ud(rg(t),Le(this.wd)),{Hd:i}=e;if(i>=5&&(this.bd=!0,this.Zd()),this.bd){const r=this.Wd(t);this.Kd(r,this.Yd.cf)}}Ud(t,e){const i=Math.abs(e._t-t._t),r=Math.abs(e.ut-t.ut);return{rf:i,hf:r,Hd:i+r}}df(t){let e=GP(t.changedTouches,Le(this.Ad));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Ad=null,this.Ed=nC(t),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const i=this.Wd(t,e);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:r}=this.Ud(rg(e),this.pd);r<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&ub(t));this.dd===0&&ub(t),t.touches.length===0&&this.md&&(this.md=!1,ub(t))}Od(t){if(t.button!==0)return;const e=this.Wd(t);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),eG()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(t))if(this.Kd(e,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:i}=this.Ud(rg(t),this.ud);i<5&&!this.bd&&this.Kd(e,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(e,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(t){if(this.Ad!==null)return;const e=t.changedTouches[0];this.Ad=e.identifier,this.Ed=nC(t);const i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=rg(e),this.Td&&(this.Td(),this.Td=null);{const a=this.ef.bind(this),s=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",a),i.removeEventListener("touchend",s)},i.addEventListener("touchmove",a,{passive:!1}),i.addEventListener("touchend",s,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,t),240)}const r=this.Wd(t,e);this.$d(r,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=rg(e))}bf(t){if(t.button!==0)return;const e=this.Gd.ownerDocument.documentElement;eG()&&e.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=rg(t),this.kd&&(this.kd(),this.kd=null);{const r=this.uf.bind(this),a=this.Od.bind(this);this.kd=()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",a)},e.addEventListener("mousemove",r),e.addEventListener("mouseup",a)}if(this.Id=!0,this.Fd(t))return;const i=this.Wd(t);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=rg(t))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const t=this.Gd.ownerDocument,e=i=>{this.Yd.xf&&(i.composed&&this.Gd.contains(i.composedPath()[0])||i.target&&this.Gd.contains(i.target)||this.Yd.xf())};this.Cd=()=>{t.removeEventListener("touchstart",e)},this.xd=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}HP()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),_Ot(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",(()=>{}),{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",(t=>this.Rf(t.touches)),{passive:!0}),this.Gd.addEventListener("touchmove",(t=>{if(t.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const e=nG(t.touches[0],t.touches[1])/this.Dd;this.Yd.kf(this.Rd,e),ub(t)}}),{passive:!1}),this.Gd.addEventListener("touchend",(t=>{this.Rf(t.touches)})))}Rf(t){t.length===1&&(this.Vd=!1),t.length!==2||this.Vd||this.md?this.Df():this.Vf(t)}Vf(t){const e=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Dd=nG(t[0],t[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(t){if(this.yd&&this.yd(),this.Fd(t)||!this.zd)return;const e=this.Wd(t);this.Kd(e,this.Yd.Bf),this.zd=!HP()}gf(t){const e=GP(t.touches,Le(this.Ad));if(e===null)return;const i=this.Wd(t,e);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:nC(t)<this.Ed+500}$d(t,e){e&&e.call(this.Yd,t)}Kd(t,e){e&&e.call(this.Yd,t)}Wd(t,e){const i=e||t,r=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-r.left,localY:i.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Ef:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Af:t.type,zf:i.target,a_:t.view,Lf:()=>{t.type!=="touchstart"&&ub(t)}}}}function nG(n,t){const e=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(e*e+i*i)}function ub(n){n.cancelable&&n.preventDefault()}function rg(n){return{_t:n.pageX,ut:n.pageY}}function nC(n){return n.timeStamp||performance.now()}function GP(n,t){for(let e=0;e<n.length;++e)if(n[e].identifier===t)return n[e];return null}class SOt{constructor(t,e,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=t,this.Uf=t.$f()[e],this.qf=t.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return va({width:this.Uf.Gf().width,height:1})}Jf(){return va({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(t,e,i){const r=this.Jf();t.fillStyle=this.Hf.N().layout.panes.separatorColor,t.fillRect(e,i,r.width,r.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.jf.appendChild(t);const i=document.createElement("div"),r=i.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.jf.appendChild(i);const a={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new TT(i,a,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:t}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(t){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(t){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(t){if(this.Of===null)return;const e=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=e/(this.Uf.Gf().height+this.qf.Gf().height),r=30*i;e<=2*r||(this.Wf={lp:t.pageY,op:this.Uf.ap().Bo(),_p:e-r,up:e,cp:i,dp:r},this.Of.tp.style.display="block")}rp(t){const e=this.Wf;if(e===null)return;const i=(t.pageY-e.lp)*e.cp,r=Mb(e.op+i,e.dp,e._p);this.Uf.ap().Io(r),this.qf.ap().Io(e.up-r),this.Hf.Qt().Ih()}hp(t){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function WP(n,t){return n.fp-t.fp}function UP(n,t,e){const i=(n.fp-t.fp)/(n.wt-t.wt);return Math.sign(i)*Math.min(Math.abs(i),e)}class kOt{constructor(t,e,i,r){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=t,this.xp=e,this.Cp=i,this.Mn=r}Pp(t,e){if(this.pp!==null){if(this.pp.wt===e)return void(this.pp.fp=t);if(Math.abs(this.pp.fp-t)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:e,fp:t}}le(t,e){if(this.pp===null||this.vp===null||e-this.pp.wt>50)return;let i=0;const r=UP(this.pp,this.vp,this.xp),a=WP(this.pp,this.vp),s=[r],o=[a];if(i+=a,this.mp!==null){const c=UP(this.vp,this.mp,this.xp);if(Math.sign(c)===Math.sign(r)){const h=WP(this.vp,this.mp);if(s.push(c),o.push(h),i+=h,this.wp!==null){const d=UP(this.mp,this.wp,this.xp);if(Math.sign(d)===Math.sign(r)){const g=WP(this.mp,this.wp);s.push(d),o.push(g),i+=g}}}}let l=0;for(let c=0;c<s.length;++c)l+=o[c]/i*s[c];Math.abs(l)<this.Sp||(this.gp={fp:t,wt:e},this.bp=l,this.Mp=(function(c,h){const d=Math.log(h);return Math.log(1*d/-c)/d})(Math.abs(l),this.Cp))}Du(t){const e=Le(this.gp),i=t-e.wt;return e.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(t){return this.gp===null||this.yp(t)===this.Mp}yp(t){const e=t-Le(this.gp).wt;return Math.min(e,this.Mp)}}class COt{constructor(t,e){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=t,this.Vp=e,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function Ux(n,t){const e=Le(n.ownerDocument).createElement("canvas");n.appendChild(e);const i=hDt(e,{options:{allowResizeObserver:!0},transform:(r,a)=>({width:Math.max(r.width,a.width),height:Math.max(r.height,a.height)})});return i.resizeCanvasElement(t),i}function Yx(n){n.width=1,n.height=1,n.getContext("2d")?.clearRect(0,0,1,1)}function gD(n,t,e,i){n.ih&&n.ih(t,e,i)}function EC(n,t,e,i){n.nt(t,e,i)}function pD(n,t,e,i){const r=n(e,i);for(const a of r){const s=a.Tt(i);s!==null&&t(s)}}function YP(n,t){return e=>(function(i){return i.Ft!==void 0})(e)?(e.Ft()?.ma()??"")!==t?[]:e.ta?.(n)??[]:[]}function iG(n,t,e,i){if(!n.length)return;let r=0;const a=n[0].$t(i,!0);let s=t===1?e/2-(n[0].Fi()-a/2):n[0].Fi()-a/2-e/2;s=Math.max(0,s);for(let o=1;o<n.length;o++){const l=n[o],c=n[o-1],h=c.$t(i,!1),d=l.Fi(),g=c.Fi();if(t===1?d>g-h:d<g+h){const y=g-h*t;l.Wi(y);const x=y-t*h/2;if((t===1?x<0:x>e)&&s>0){const w=t===1?-1-x:x-e,k=Math.min(w,s);for(let A=r;A<n.length;A++)n[A].Wi(n[A].Fi()+t*k);s-=k}}else r=o,s=t===1?g-h-d:d-(g+h)}}class rG{constructor(t,e,i,r){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new rA(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=t,this.Ps=e,this.Ml=e.layout,this.Ju=i,this.jp=r==="left",this.Kp=YP("normal",r),this.Xp=YP("top",r),this.Zp=YP("bottom",r),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=Ux(this.jf,va({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const a=this.Gp.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.Jp=Ux(this.jf,va({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const s=this.Jp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const o={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new TT(this.Jp.canvasElement,o,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Yx(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Yx(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const t=this.Ju.N();return this.Wp!==t.k&&(this.Fp.Bn(),this.Wp=t.k),t}nv(){if(this.Yi===null)return 0;let t=0;const e=this.sv(),i=Le(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));i.save();const r=this.Yi.Da();i.font=this.ev(),r.length>0&&(t=Math.max(this.Fp.Vi(i,r[0].Za),this.Fp.Vi(i,r[r.length-1].Za)));const a=this.rv();for(let c=a.length;c--;){const h=this.Fp.Vi(i,a[c].ri());h>t&&(t=h)}const s=this.Yi.zt();if(s!==null&&this.Op!==null&&(o=this.Ps.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){const c=this.Yi.Ts(1,s),h=this.Yi.Ts(this.Op.height-2,s);t=Math.max(t,this.Fp.Vi(i,this.Yi.Zi(Math.floor(Math.min(c,h))+.11111111111111,s)),this.Fp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(c,h))-.11111111111111,s)))}var o;i.restore();const l=t||34;return fD(Math.ceil(e.S+e.C+e.B+e.I+5+l))}hv(t){this.Op!==null&&Mx(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`)}av(){return Le(this.Op).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=t,t.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const t=this.Pt.ap();this.Pt.qp().Qt().Zo(t,Le(this.Ft()))}lv(t){if(this.Op===null)return;const e={colorSpace:this.Pt.qp().N().layout.colorSpace};if(t!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const r=Wx(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((a=>{this._v(a),this.uv(a)})),this.Pt.cv(r,this.Zp),this.dv(r),this.Pt.cv(r,this.Kp),this.fv(r))}this.Jp.applySuggestedBitmapSize();const i=Wx(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:a})=>{r.clearRect(0,0,a.width,a.height)})),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const a=this.Jf();if(a.width>0&&a.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const s=this.Jp.canvasElement;t.drawImage(s,e,i)}}yt(){this.Yi?.Da()}ep(t){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,e.Uo(i,this.Yi,t.localY)}rp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap(),r=this.Yi;e.$o(i,r,t.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.qp().Qt(),e=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,t.qo(e,i))}hp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,e.qo(i,this.Yi)}tv(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(t){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(t){this.vv(0)}rv(){const t=[],e=this.Yi===null?void 0:this.Yi;return(i=>{for(let r=0;r<i.length;++r){const a=i[r].Ws(this.Pt.ap(),e);for(let s=0;s<a.length;s++)t.push(a[s])}})(this.Pt.ap().Dt()),t}_v({context:t,bitmapSize:e}){const{width:i,height:r}=e,a=this.Pt.ap().Qt(),s=a.$(),o=a.Wc();s===o?_T(t,0,0,i,r,s):Kq(t,0,0,i,r,s,o)}uv({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.sv().S*i));let a;a=this.jp?e.width-r:0,t.fillRect(a,0,r,e.height)}dv(t){if(this.Op===null||this.Yi===null)return;const e=this.Yi.Da(),i=this.Yi.N(),r=this.sv(),a=this.jp?this.Op.width-r.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((({context:s,horizontalPixelRatio:o,verticalPixelRatio:l})=>{s.fillStyle=i.borderColor;const c=Math.max(1,Math.floor(l)),h=Math.floor(.5*l),d=Math.round(r.C*o);s.beginPath();for(const g of e)s.rect(Math.floor(a*o),Math.round(g.Pa*l)-h,d,c);s.fill()})),t.useMediaCoordinateSpace((({context:s})=>{s.font=this.ev(),s.fillStyle=i.textColor??this.Ml.textColor,s.textAlign=this.jp?"right":"left",s.textBaseline="middle";const o=this.jp?Math.round(a-r.B):Math.round(a+r.C+r.B),l=e.map((c=>this.Fp.Di(s,c.Za)));for(let c=e.length;c--;){const h=e[c];s.fillText(h.Za,o,h.Pa+l[c])}}))}ov(){if(this.Op===null||this.Yi===null)return;let t=this.Op.height/2;const e=[],i=this.Yi.Dt().slice(),r=this.Pt.ap(),a=this.sv();this.Yi===r.$n()&&this.Pt.ap().Dt().forEach((l=>{r.Un(l)&&i.push(l)}));const s=this.Yi.Ma()[0],o=this.Yi;i.forEach((l=>{const c=l.Ws(r,o);c.forEach((h=>{h.Wi(null),h.Hi()&&e.push(h)})),s===l&&c.length>0&&(t=c[0].Ii())})),e.forEach((l=>l.Wi(l.Ii()))),this.Yi.N().alignLabels&&this.mv(e,a,t)}mv(t,e,i){if(this.Op===null)return;const r=t.filter((s=>s.Ii()<=i)),a=t.filter((s=>s.Ii()>i));r.sort(((s,o)=>o.Ii()-s.Ii())),r.length&&a.length&&a.push(r[0]),a.sort(((s,o)=>s.Ii()-o.Ii()));for(const s of t){const o=Math.floor(s.$t(e)/2),l=s.Ii();l>-o&&l<o&&s.Wi(o),l>this.Op.height-o&&l<this.Op.height+o&&s.Wi(this.Op.height-o)}iG(r,1,this.Op.height,e),iG(a,-1,this.Op.height,e)}fv(t){if(this.Op===null)return;const e=this.rv(),i=this.sv(),r=this.jp?"right":"left";e.forEach((a=>{a.Ui()&&a.Tt(Le(this.Yi)).nt(t,i,this.Fp,r)}))}pv(t){if(this.Op===null||this.Yi===null)return;const e=this.Pt.qp().Qt(),i=[],r=this.Pt.ap(),a=e.uc().Ws(r,this.Yi);a.length&&i.push(a);const s=this.sv(),o=this.jp?"right":"left";i.forEach((l=>{l.forEach((c=>{c.Tt(Le(this.Yi)).nt(t,s,this.Fp,o)}))}))}vv(t){this.jf.style.cursor=t===1?"ns-resize":"default"}_l(){const t=this.nv();this.Hp<t&&this.Pt.qp().Qt().Ih(),this.Hp=t}ev(){return iA(this.Ml.fontSize,this.Ml.fontFamily)}}function AOt(n,t){return n.Jh?.(t)??[]}function aG(n,t){return n.Fs?.(t)??[]}function sG(n,t){return n.us?.(t)??[]}function TOt(n,t){return n.Xh?.(t)??[]}class DR{constructor(t,e){this.Op=va({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new Rs,this.Cv=new Rs,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=t,this.Vv=e,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=Ux(i,va({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jp=Ux(i,va({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const a=this.Jp.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new TT(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Yx(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Yx(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return Le(this.Vv)}Lv(t){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=t,this.Vv!==null&&this.Vv.t_().i(DR.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new COt(this.Iv,this.Vp),this.Mv.yt()):(this.Mv?.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const t=this.Vv.Wo();this.wv._s(Le(t))}if(this.gv!==null){const t=this.Vv.Ho();this.gv._s(Le(t))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(t){this.Vv&&this.Vv.Io(t)}sf(t){if(!this.Vv)return;this.Fv();const e=t.localX,i=t.localY;this.Wv(e,i,t)}Sf(t){this.Fv(),this.Hv(),this.Wv(t.localX,t.localY,t)}nf(t){if(!this.Vv)return;this.Fv();const e=t.localX,i=t.localY;this.Wv(e,i,t)}mf(t){this.Vv!==null&&(this.Fv(),this.Uv(t))}Xd(t){this.Vv!==null&&this.$v(this.Cv,t)}qd(t){this.Xd(t)}cf(t){this.Fv(),this.qv(t),this.Wv(t.localX,t.localY,t)}vf(t){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(t))}pf(t){this.Vv!==null&&this.Uv(t)}If(t){if(this.yv=!0,this.kv===null){const e={x:t.localX,y:t.localY};this.jv(e,e,t)}}Bf(t){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(t,e){if(!this.Vp.N().handleScale.pinch)return;const i=5*(e-this.Pv);this.Pv=e,this.ts().bc(t._t,i)}Mf(t){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const e=this.ts().uc();this.kv!==null&&e.Vt()&&(this.Rv={x:e.si(),y:e.ni()},this.kv={x:t.localX,y:t.localY})}_f(t){if(this.Vv===null)return;const e=t.localX,i=t.localY;if(this.kv===null)this.qv(t);else{this.Tv=!1;const r=Le(this.Rv),a=r.x+(e-this.kv.x),s=r.y+(i-this.kv.y);this.Wv(a,s,t)}}ff(t){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(t)}jn(t,e){const i=this.Vv;return i===null?null:oK(i,t,e)}Jv(t,e){Le(e==="left"?this.wv:this.gv).hv(va({width:t,height:this.Op.height}))}Gf(){return this.Op}hv(t){Mx(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Qv(){const t=Le(this.Vv);t.Fo(t.Wo()),t.Fo(t.Ho());for(const e of t.Ma())if(t.Un(e)){const i=e.Ft();i!==null&&t.Fo(i),e.Ns()}for(const e of t.s_())e.Ns()}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const a=this.Jf();if(a.width>0&&a.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const s=this.Jp.canvasElement;t!==null&&t.drawImage(s,e,i)}}lv(t){if(t===0||this.Vv===null)return;t>1&&this.Qv(),this.wv!==null&&this.wv.lv(t),this.gv!==null&&this.gv.lv(t);const e={colorSpace:this.Vp.N().layout.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=Wx(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((a=>{this._v(a)})),this.Vv&&(this.tm(r,AOt),this.im(r),this.tm(r,aG),this.tm(r,sG)))}this.Jp.applySuggestedBitmapSize();const i=Wx(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:a})=>{r.clearRect(0,0,a.width,a.height)})),this.sm(i),this.tm(i,TOt),this.tm(i,sG))}nm(){return this.wv}rm(){return this.gv}cv(t,e){this.tm(t,e)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(t){this.$v(this.xv,t)}$v(t,e){const i=e.localX,r=e.localY;t.v()&&t.p(this.ts().Et().cu(i),{x:i,y:r},e)}_v({context:t,bitmapSize:e}){const{width:i,height:r}=e,a=this.ts(),s=a.$(),o=a.Wc();s===o?_T(t,0,0,i,r,o):Kq(t,0,0,i,r,s,o)}im(t){const e=Le(this.Vv),i=e.i_().lr().Tt(e);i!==null&&i.nt(t,!1)}sm(t){this.hm(t,aG,EC,this.ts().uc())}tm(t,e){const i=Le(this.Vv),r=i.Dt(),a=i.s_();for(const s of a)this.hm(t,e,gD,s);for(const s of r)this.hm(t,e,gD,s);for(const s of a)this.hm(t,e,EC,s);for(const s of r)this.hm(t,e,EC,s)}hm(t,e,i,r){const a=Le(this.Vv),s=a.Qt().ac(),o=s!==null&&s.n_===r,l=s!==null&&o&&s.e_!==void 0?s.e_.Xn:void 0;pD(e,(c=>i(c,t,o,l)),r,a)}Ov(){if(this.Vv===null)return;const t=this.Vp,e=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;e||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const r=t.Qt().Bc();e&&this.wv===null&&(this.wv=new rG(this,t.N(),r,"left"),this.Ev.appendChild(this.wv.Zf())),i&&this.gv===null&&(this.gv=new rG(this,t.N(),r,"right"),this.Av.appendChild(this.gv.Zf()))}am(t){return t.Ef&&this.yv||this.kv!==null}lm(t){return Math.max(0,Math.min(t,this.Op.width-1))}om(t){return Math.max(0,Math.min(t,this.Op.height-1))}Wv(t,e,i){this.ts().Tc(this.lm(t),this.om(e),i,Le(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(t,e,i){this.kv=t,this.Tv=!1,this.Wv(e.x,e.y,i);const r=this.ts().uc();this.Rv={x:r.si(),y:r.ni()}}ts(){return this.Vp.Qt()}Yv(t){if(!this.Sv)return;const e=this.ts(),i=this.ap();if(e.Ko(i,i.ks()),this.bv=null,this.Sv=!1,e.Pc(),this.Dv!==null){const r=performance.now(),a=e.Et();this.Dv.le(a.gu(),r),this.Dv.Ru(r)||e._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Le(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(t){if(this.Vv===null)return;const e=this.ts(),i=e.Et();if(i.Ki())return;const r=this.Vp.N(),a=r.handleScroll,s=r.kineticScroll;if((!a.pressedMouseMove||t.Ef)&&(!a.horzTouchDrag&&!a.vertTouchDrag||!t.Ef))return;const o=this.Vv.ks(),l=performance.now();if(this.bv!==null||this.am(t)||(this.bv={x:t.clientX,y:t.clientY,rd:l,_m:t.localX,um:t.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==t.clientX||this.bv.y!==t.clientY)){if(t.Ef&&s.touch||!t.Ef&&s.mouse){const c=i.mu();this.Dv=new kOt(.2/c,7/c,.997,15/c),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;o.Ki()||e.Yo(this.Vv,o,t.localY),e.xc(t.localX),this.Sv=!0}this.Sv&&(o.Ki()||e.jo(this.Vv,o,t.localY),e.Cc(t.localX),this.Dv!==null&&this.Dv.Pp(i.gu(),l))}}class oG{constructor(t,e,i,r,a){this.xt=!0,this.Op=va({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=t==="left",this.Ju=i.Bc,this.Ps=e,this.dm=r,this.fm=a,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=Ux(this.jf,va({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Yx(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(t){Mx(this.Op,t)||(this.Op=t,this.Gp.resizeCanvasElement(t),this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.xt=!0)}lv(t){if(t<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const e=Wx(this.Gp,{colorSpace:this.Ps.layout.colorSpace});e!==null&&e.useBitmapCoordinateSpace((i=>{this._v(i),this.uv(i)}))}Jf(){return this.Gp.bitmapSize}Qf(t,e,i){const r=this.Jf();r.width>0&&r.height>0&&t.drawImage(this.Gp.canvasElement,e,i)}uv({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(!this.dm())return;t.fillStyle=this.Ps.timeScale.borderColor;const a=Math.floor(this.Ju.N().S*i),s=Math.floor(this.Ju.N().S*r),o=this.jp?e.width-a:0;t.fillRect(o,0,a,s)}_v({context:t,bitmapSize:e}){_T(t,0,0,e.width,e.height,this.fm())}}function OR(n){return t=>t.ia?.(n)??[]}const MOt=OR("normal"),NOt=OR("top"),POt=OR("bottom");class EOt{constructor(t,e){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=va({width:0,height:0}),this.gm=new Rs,this.Fp=new rA(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=t,this.o_=e,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=Ux(this.Sm,va({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=Ux(this.Sm,va({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const r=this.Jp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new TT(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Yx(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Yx(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(t){if(this.wm)return;this.wm=!0;const e=this.Vp.Qt();!e.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&e.Mc(t.localX)}Mf(t){this.Sf(t)}xf(){const t=this.Vp.Qt();!t.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&t.kc())}cf(t){const e=this.Vp.Qt();!e.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&e.yc(t.localX)}_f(t){this.cf(t)}vf(){this.wm=!1;const t=this.Vp.Qt();t.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||t.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(t,e,i){Mx(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.gm.p(t)),this.pm!==null&&this.pm.hv(va({width:e,height:t.height})),this.vm!==null&&this.vm.hv(va({width:i,height:t.height}))}Tm(){const t=this.Rm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const a=this.Jf();if(a.width>0&&a.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const s=this.Jp.canvasElement;t.drawImage(s,e,i)}}lv(t){if(t===0)return;const e={colorSpace:this.Ps.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=Wx(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((a=>{this._v(a),this.uv(a),this.Vm(r,POt)})),this.dv(r),this.Vm(r,MOt)),this.pm!==null&&this.pm.lv(t),this.vm!==null&&this.vm.lv(t)}this.Jp.applySuggestedBitmapSize();const i=Wx(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:a})=>{r.clearRect(0,0,a.width,a.height)})),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,NOt))}Vm(t,e){const i=this.Vp.Qt().js();for(const r of i)pD(e,(a=>gD(a,t,!1,void 0)),r,void 0);for(const r of i)pD(e,(a=>EC(a,t,!1,void 0)),r,void 0)}_v({context:t,bitmapSize:e}){_T(t,0,0,e.width,e.height,this.Vp.Qt().Wc())}uv({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){t.fillStyle=this.Im();const r=Math.max(1,Math.floor(this.Rm().S*i));t.fillRect(0,0,e.width,r)}}dv(t){const e=this.Vp.Qt().Et(),i=e.Da();if(!i||i.length===0)return;const r=this.o_.maxTickMarkWeight(i),a=this.Rm(),s=e.N();s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace((({context:o,horizontalPixelRatio:l,verticalPixelRatio:c})=>{o.strokeStyle=this.Im(),o.fillStyle=this.Im();const h=Math.max(1,Math.floor(l)),d=Math.floor(.5*l);o.beginPath();const g=Math.round(a.C*c);for(let y=i.length;y--;){const x=Math.round(i[y].coord*l);o.rect(x-d,0,h,g)}o.fill()})),t.useMediaCoordinateSpace((({context:o})=>{const l=a.S+a.C+a.A+a.P/2;o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.H(),o.font=this.ev();for(const c of i)if(c.weight<r){const h=c.needAlignCoordinate?this.Em(o,c.coord,c.label):c.coord;o.fillText(c.label,h,l)}this.Vp.N().timeScale.allowBoldLabels&&(o.font=this.Am());for(const c of i)if(c.weight>=r){const h=c.needAlignCoordinate?this.Em(o,c.coord,c.label):c.coord;o.fillText(c.label,h,l)}}))}Em(t,e,i){const r=this.Fp.Vi(t,i),a=r/2,s=Math.floor(e-a)+.5;return s<0?e+=Math.abs(0-s):s+r>this.Op.width&&(e-=Math.abs(this.Op.width-(s+r))),e}Bm(t,e){const i=this.Rm();for(const r of t)for(const a of r.cs())a.Tt().nt(e,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return iA(this.F(),this.Ps.fontFamily)}Am(){return iA(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new rA,Dm:0});const t=this.M,e=this.ev();if(t.k!==e){const i=this.F();t.P=i,t.k=e,t.A=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.Dm=4*i/12,t.Gi.Bn()}return this.M}vv(t){this.jf.style.cursor=t===1?"ew-resize":"default"}xm(){const t=this.Vp.Qt(),e=t.N();e.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),e.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const i={Bc:this.Vp.Qt().Bc()},r=()=>e.leftPriceScale.borderVisible&&t.Et().N().borderVisible,a=()=>t.Wc();e.leftPriceScale.visible&&this.pm===null&&(this.pm=new oG("left",e,i,r,a),this.Mm.appendChild(this.pm.Zf())),e.rightPriceScale.visible&&this.vm===null&&(this.vm=new oG("right",e,i,r,a),this.bm.appendChild(this.vm.Zf()))}}const jOt=!!Qb&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((n=>n.brand.includes("Chromium")))&&!!Qb&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class DOt{constructor(t,e,i){var r;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new Rs,this.Cv=new Rs,this.Xu=new Rs,this.Um=null,this.$m=null,this.Dp=t,this.Ps=e,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(r=this.kp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),$P(this.Ps)&&this.Km(!0),this.ts=new yOt(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new EOt(this,this.o_),this.qm.appendChild(this.Zm.Zf());const a=e.autoSize&&this.Gm();let s=this.Ps.width,o=this.Ps.height;if(a||s===0||o===0){const l=t.getBoundingClientRect();s=s||l.width,o=o||l.height}this.Jm(s,o),this.Qm(),t.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const t of this.zm)this.qm.removeChild(t.Zf()),t.Xv().u(this),t.Zv().u(this),t.m();this.zm=[];for(const t of this.Lm)this.sw(t);this.Lm=[],Le(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(t,e,i=!1){if(this.il===e&&this.Mo===t)return;const r=(function(o){const l=Math.floor(o.width),c=Math.floor(o.height);return va({width:l-l%2,height:c-c%2})})(va({width:t,height:e}));this.il=r.height,this.Mo=r.width;const a=this.il+"px",s=this.Mo+"px";Le(this.kp).style.height=a,Le(this.kp).style.width=s,this.qm.style.height=a,this.qm.style.width=s,i?this.ew(vl.gn(),performance.now()):this.ts.Ih()}lv(t){t===void 0&&(t=vl.gn());for(let e=0;e<this.zm.length;e++)this.zm[e].lv(t.en(e).tn);this.Ps.timeScale.visible&&this.Zm.lv(t.nn())}hr(t){const e=$P(this.Ps);this.ts.hr(t);const i=$P(this.Ps);i!==e&&this.Km(i),t.layout?.panes&&this.rw(),this.tw(),this.hw(t)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(t=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const e=this.lw(null),i=document.createElement("canvas");i.width=e.width,i.height=e.height;const r=Le(i.getContext("2d"));return this.lw(r,t),i}ow(t){return t==="left"&&!this._w()||t==="right"&&!this.uw()||this.zm.length===0?0:Le(t==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(t){this.$m=t,this.$m?this.ip().style.setProperty("cursor",t):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(t){return Mu(this.zm[t]).Gf()}rw(){this.Lm.forEach((t=>{t.yt()}))}hw(t){(t.autoSize!==void 0||!this.Um||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Um&&this.Gm(),t.autoSize===!1&&this.Um!==null&&this.nw(),t.autoSize||t.width===void 0&&t.height===void 0||this.Jm(t.width||this.Mo,t.height||this.il))}lw(t,e){let i=0,r=0;const a=this.zm[0],s=(l,c)=>{let h=0;for(let d=0;d<this.zm.length;d++){const g=this.zm[d],y=Le(l==="left"?g.nm():g.rm()),x=y.Jf();if(t!==null&&y.Qf(t,c,h,e),h+=x.height,d<this.zm.length-1){const w=this.Lm[d],k=w.Jf();t!==null&&w.Qf(t,c,h),h+=k.height}}};this._w()&&(s("left",0),i+=Le(a.nm()).Jf().width);for(let l=0;l<this.zm.length;l++){const c=this.zm[l],h=c.Jf();if(t!==null&&c.Qf(t,i,r,e),r+=h.height,l<this.zm.length-1){const d=this.Lm[l],g=d.Jf();t!==null&&d.Qf(t,i,r),r+=g.height}}i+=a.Jf().width,this.uw()&&(s("right",i),i+=Le(a.rm()).Jf().width);const o=(l,c,h)=>{Le(l==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(Le(t),c,h)};if(this.Ps.timeScale.visible){const l=this.Zm.Jf();if(t!==null){let c=0;this._w()&&(o("left",c,r),c=Le(a.nm()).Jf().width),this.Zm.Qf(t,c,r,e),c+=l.width,this.uw()&&o("right",c,r)}r+=l.height}return va({width:i,height:r})}mw(){let t=0,e=0,i=0;for(const k of this.zm)this._w()&&(e=Math.max(e,Le(k.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(i=Math.max(i,Le(k.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),t+=k.Bo();e=fD(e),i=fD(i);const r=this.Mo,a=this.il,s=Math.max(r-e-i,0),o=1*this.Lm.length,l=this.Ps.timeScale.visible;let c=l?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var h;c=(h=c)+h%2;const d=o+c,g=a<d?0:a-d,y=g/t;let x=0;const w=window.devicePixelRatio||1;for(let k=0;k<this.zm.length;++k){const A=this.zm[k];A.Lv(this.ts.$s()[k]);let T=0,R=0;R=k===this.zm.length-1?Math.ceil((g-x)*w)/w:Math.round(A.Bo()*y*w)/w,T=Math.max(R,2),x+=T,A.hv(va({width:s,height:T})),this._w()&&A.Jv(e,"left"),this.uw()&&A.Jv(i,"right"),A.ap()&&this.ts.dc(A.ap(),T)}this.Zm.km(va({width:l?s:0,height:c}),l?e:0,l?i:0),this.ts.Eo(s),this.Nm!==e&&(this.Nm=e),this.Fm!==i&&(this.Fm=i)}Km(t){t?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return jOt?1/window.devicePixelRatio:1}jm(t){if(!(t.deltaX!==0&&this.Ps.handleScroll.mouseWheel||t.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const e=this.ww(t),i=e*t.deltaX/100,r=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.Ps.handleScale.mouseWheel){const a=Math.sign(r)*Math.min(1,Math.abs(r)),s=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(s,a)}i!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(t,e){const i=t.nn();i===3&&this.gw(),i!==3&&i!==2||(this.Mw(t),this.bw(t,e),this.Zm.yt(),this.zm.forEach((r=>{r.Nv()})),this.Wm?.nn()===3&&(this.Wm.vn(t),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,e),t=this.Wm,this.Wm=null)),this.lv(t)}bw(t,e){for(const i of t.pn())this.mn(i,e)}Mw(t){const e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Go()}mn(t,e){const i=this.ts.Et();switch(t.an){case 0:i.Au();break;case 1:i.zu(t.Wt);break;case 2:i.dn(t.Wt);break;case 3:i.fn(t.Wt);break;case 4:i.Su();break;case 5:t.Wt.Ru(e)||i.fn(t.Wt.Du(e))}}Gu(t){this.Wm!==null?this.Wm.vn(t):this.Wm=t,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame((e=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const i=this.Wm;this.Wm=null,this.ew(i,e);for(const r of i.pn())if(r.an===5&&!r.Wt.Ru(e)){this.Qt()._n(r.Wt);break}}})))}gw(){this.Qm()}sw(t){this.qm.removeChild(t.Zf()),t.m()}Qm(){const t=this.ts.$s(),e=t.length,i=this.zm.length;for(let r=e;r<i;r++){const a=Mu(this.zm.pop());this.qm.removeChild(a.Zf()),a.Xv().u(this),a.Zv().u(this),a.m();const s=this.Lm.pop();s!==void 0&&this.sw(s)}for(let r=i;r<e;r++){const a=new DR(this,t[r]);if(a.Xv().i(this.Sw.bind(this,a),this),a.Zv().i(this.xw.bind(this,a),this),this.zm.push(a),r>0){const s=new SOt(this,r-1,r);this.Lm.push(s),this.qm.insertBefore(s.Zf(),this.Zm.Zf())}this.qm.insertBefore(a.Zf(),this.Zm.Zf())}for(let r=0;r<e;r++){const a=t[r],s=this.zm[r];s.ap()!==a?s.Lv(a):s.zv()}this.tw(),this.mw()}Cw(t,e,i,r){const a=new Map;t!==null&&this.ts.js().forEach((d=>{const g=d.Xs().Fr(t);g!==null&&a.set(d,g)}));let s;if(t!==null){const d=this.ts.Et().ss(t)?.originalTime;d!==void 0&&(s=d)}const o=this.Qt().ac(),l=o!==null&&o.n_ instanceof AT?o.n_:void 0,c=o!==null&&o.e_!==void 0?o.e_.Kn:void 0,h=this.Pw(r);return{yw:s,Re:t??void 0,kw:e??void 0,Tw:h!==-1?h:void 0,Rw:l,Dw:a,Vw:c,Bw:i??void 0}}Pw(t){let e=-1;if(t)e=this.zm.indexOf(t);else{const i=this.Qt().uc().Us();i!==null&&(e=this.Qt().$s().indexOf(i))}return e}Sw(t,e,i,r){this.xv.p((()=>this.Cw(e,i,r,t)))}xw(t,e,i,r){this.Cv.p((()=>this.Cw(e,i,r,t)))}Xm(t,e,i){this.dw(this.Qt().ac()?.h_??null),this.Xu.p((()=>this.Cw(t,e,i)))}tw(){const t=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=t}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver((t=>{const e=t[t.length-1];e&&this.Jm(e.contentRect.width,e.contentRect.height)})),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function $P(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function OOt(n){return n.open===void 0&&n.value===void 0}function LOt(n){return(function(t){return t.open!==void 0})(n)||(function(t){return t.value!==void 0})(n)}function lG(n,t,e,i){const r=e.value,a={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.color!==void 0&&(a.R=e.color),a}function ROt(n,t,e,i){const r=e.value,a={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.lineColor!==void 0&&(a.vt=e.lineColor),e.topColor!==void 0&&(a.mr=e.topColor),e.bottomColor!==void 0&&(a.wr=e.bottomColor),a}function IOt(n,t,e,i){const r=e.value,a={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.topLineColor!==void 0&&(a.gr=e.topLineColor),e.bottomLineColor!==void 0&&(a.Mr=e.bottomLineColor),e.topFillColor1!==void 0&&(a.br=e.topFillColor1),e.topFillColor2!==void 0&&(a.Sr=e.topFillColor2),e.bottomFillColor1!==void 0&&(a.Cr=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(a.Pr=e.bottomFillColor2),a}function zOt(n,t,e,i){const r={Re:t,wt:n,Wt:[e.open,e.high,e.low,e.close],yw:i};return e.color!==void 0&&(r.R=e.color),r}function FOt(n,t,e,i){const r={Re:t,wt:n,Wt:[e.open,e.high,e.low,e.close],yw:i};return e.color!==void 0&&(r.R=e.color),e.borderColor!==void 0&&(r.Ht=e.borderColor),e.wickColor!==void 0&&(r.vr=e.wickColor),r}function BOt(n,t,e,i,r){const a=Mu(r)(e),s=Math.max(...a),o=Math.min(...a),l=a[a.length-1],c=[l,s,o,l],{time:h,color:d,...g}=e;return{Re:t,wt:n,Wt:c,yw:i,se:g,R:d}}function kw(n){return n.Wt!==void 0}function cG(n,t){return t.customValues!==void 0&&(n.Iw=t.customValues),n}function nx(n){return(t,e,i,r,a,s)=>(function(o,l){return l?l(o):OOt(o)})(i,s)?cG({wt:t,Re:e,yw:r},i):cG(n(t,e,i,r,a),i)}function uG(n){return{Candlestick:nx(FOt),Bar:nx(zOt),Area:nx(ROt),Baseline:nx(IOt),Histogram:nx(lG),Line:nx(lG),Custom:nx(BOt)}[n]}function hG(n){return{Re:0,Ew:new Map,Hh:n}}function dG(n,t){if(n!==void 0&&n.length!==0)return{Aw:t.key(n[0].wt),zw:t.key(n[n.length-1].wt)}}function fG(n){let t;return n.forEach((e=>{t===void 0&&(t=e.yw)})),Mu(t)}class HOt{constructor(t){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=t}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(t,e){let i=this.Lw.size!==0,r=!1;const a=this.Ow.get(t);if(a!==void 0)if(this.Ow.size===1)i=!1,r=!0,this.Lw.clear();else for(const l of this.Fw)l.pointData.Ew.delete(t)&&(r=!0);let s=[];if(e.length!==0){const l=e.map((y=>y.time)),c=this.o_.createConverterToInternalObj(e),h=uG(t.Rr()),d=t.ca(),g=t.fa();s=e.map(((y,x)=>{const w=c(y.time),k=this.o_.key(w);let A=this.Lw.get(k);A===void 0&&(A=hG(w),this.Lw.set(k,A),r=!0);const T=h(w,A.Re,y,l[x],d,g);return A.Ew.set(t,T),T}))}i&&this.Hw(),this.Uw(t,s);let o=-1;if(r){const l=[];this.Lw.forEach((c=>{l.push({timeWeight:0,time:c.Hh,pointData:c,originalTime:fG(c.Ew)})})),l.sort(((c,h)=>this.o_.key(c.time)-this.o_.key(h.time))),o=this.$w(l)}return this.qw(t,o,(function(l,c,h){const d=dG(l,h),g=dG(c,h);if(d!==void 0&&g!==void 0)return{Yw:!1,zh:d.zw>=g.zw&&d.Aw>=g.Aw}})(this.Ow.get(t),a,this.o_))}Ac(t){return this.Ww(t,[])}jw(t,e,i){const r=e;(function(k){k.yw===void 0&&(k.yw=k.time)})(r),this.o_.preprocessData(e);const a=this.o_.createConverterToInternalObj([e])(e.time),s=this.Nw.get(t);if(!i&&s!==void 0&&this.o_.key(a)<this.o_.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${a}`);let o=this.Lw.get(this.o_.key(a));if(i&&o===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=o===void 0;o===void 0&&(o=hG(a),this.Lw.set(this.o_.key(a),o));const c=uG(t.Rr()),h=t.ca(),d=t.fa(),g=c(a,o.Re,e,r.yw,h,d);o.Ew.set(t,g),i?this.Kw(t,g,o.Re):this.Xw(t,g);const y={zh:kw(g),Yw:i};if(!l)return this.qw(t,-1,y);const x={timeWeight:0,time:o.Hh,pointData:o,originalTime:fG(o.Ew)},w=Zb(this.Fw,this.o_.key(x.time),((k,A)=>this.o_.key(k.time)<A));this.Fw.splice(w,0,x);for(let k=w;k<this.Fw.length;++k)iC(this.Fw[k].pointData,k);return this.o_.fillWeightsForPoints(this.Fw,w),this.qw(t,w,y)}Zw(t,e){const i=this.Ow.get(t);if(i===void 0||e<=0)return[[],this.Gw()];e=Math.min(e,i.length);const r=i.splice(-e).reverse();i.length===0?this.Nw.delete(t):this.Nw.set(t,i[i.length-1].wt);for(const a of r){const s=this.Lw.get(this.o_.key(a.wt));if(s&&(s.Ew.delete(t),s.Ew.size===0)){this.Lw.delete(this.o_.key(s.Hh)),this.Fw.splice(s.Re,1);for(let o=s.Re;o<this.Fw.length;++o)iC(this.Fw[o].pointData,o)}}return[r,this.qw(t,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(t,e){let i=this.Ow.get(t);i===void 0&&(i=[],this.Ow.set(t,i));const r=i.length!==0?i[i.length-1]:null;r===null||this.o_.key(e.wt)>this.o_.key(r.wt)?kw(e)&&i.push(e):kw(e)?i[i.length-1]=e:i.splice(-1,1),this.Nw.set(t,e.wt)}Kw(t,e,i){const r=this.Ow.get(t);if(r===void 0)return;const a=Zb(r,i,((s,o)=>s.Re<o));kw(e)?r[a]=e:r.splice(a,1)}Uw(t,e){e.length!==0?(this.Ow.set(t,e.filter(kw)),this.Nw.set(t,e[e.length-1].wt)):(this.Ow.delete(t),this.Nw.delete(t))}Hw(){for(const t of this.Fw)t.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(t.time))}$w(t){let e=-1;for(let i=0;i<this.Fw.length&&i<t.length;++i){const r=this.Fw[i],a=t[i];if(this.o_.key(r.time)!==this.o_.key(a.time)){e=i;break}a.timeWeight=r.timeWeight,iC(a.pointData,i)}if(e===-1&&this.Fw.length!==t.length&&(e=Math.min(this.Fw.length,t.length)),e===-1)return-1;for(let i=e;i<t.length;++i)iC(t[i].pointData,i);return this.o_.fillWeightsForPoints(t,e),this.Fw=t,e}Jw(){if(this.Ow.size===0)return null;let t=0;return this.Ow.forEach((e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Re))})),t}qw(t,e,i){const r=this.Gw();if(e!==-1)this.Ow.forEach(((a,s)=>{r.Oo.set(s,{se:a,Qw:s===t?i:void 0})})),this.Ow.has(t)||r.Oo.set(t,{se:[],Qw:i}),r.Et.tg=this.Fw,r.Et.ig=e;else{const a=this.Ow.get(t);r.Oo.set(t,{se:a||[],Qw:i})}return r}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function iC(n,t){n.Re=t,n.Ew.forEach((e=>{e.Re=t}))}function GOt(n,t){return n.wt<t}function WOt(n,t){return t<n.wt}function UOt(n,t,e){const i=t.Uh(),r=t.bi(),a=Zb(n,i,GOt),s=iK(n,r,WOt);if(!e)return{from:a,to:s};let o=a,l=s;return a>0&&a<n.length&&n[a].wt>=i&&(o=a-1),s>0&&s<n.length&&n[s-1].wt<=r&&(l=s+1),{from:o,to:l}}class LR{constructor(t,e,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=t,this.Qn=e,this.ag=i}yt(t){this.sg=!0,t==="data"&&(this.ng=!0),t==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map((t=>({...t,...this.Jn.Rh().Dr(t.wt)})))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const t=this.Jn.Ft(),e=this.Qn.Et();if(this.ug(),e.Ki()||t.Ki())return;const i=e.Pe();if(i===null||this.Jn.Xs().zr()===0)return;const r=this.Jn.zt();r!==null&&(this.hg=UOt(this.rg,i,this.ag),this.fg(t,e,r.Wt),this.pg())}}class YOt{constructor(t,e){this.vg=t,this.Yi=e}nt(t,e,i){this.vg.draw(t,this.Yi,e,i)}}class $Ot extends LR{constructor(t,e,i){super(t,e,!1),this.sh=i,this.og=new YOt(this.sh.renderer(),(r=>{const a=t.zt();return a===null?null:t.Ft().Nt(r,a.Wt)}))}da(t){return this.sh.priceValueBuilder(t)}pa(t){return this.sh.isWhitespace(t)}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),mg:e.se})))}fg(t,e){e.uu(this.rg,E_(this.hg))}pg(){this.sh.update({bars:this.rg.map(VOt),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function VOt(n){return{x:n._t,time:n.wt,originalData:n.mg,barColor:n.cr}}const XOt={color:"#2196f3"},qOt=(n,t,e)=>{const i=Ly(e);return new $Ot(n,t,i)};function RR(n){const t={value:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(t.customValues=n.Iw),t}function gG(n){const t=RR(n);return n.R!==void 0&&(t.color=n.R),t}function KOt(n){const t=RR(n);return n.vt!==void 0&&(t.lineColor=n.vt),n.mr!==void 0&&(t.topColor=n.mr),n.wr!==void 0&&(t.bottomColor=n.wr),t}function ZOt(n){const t=RR(n);return n.gr!==void 0&&(t.topLineColor=n.gr),n.Mr!==void 0&&(t.bottomLineColor=n.Mr),n.br!==void 0&&(t.topFillColor1=n.br),n.Sr!==void 0&&(t.topFillColor2=n.Sr),n.Cr!==void 0&&(t.bottomFillColor1=n.Cr),n.Pr!==void 0&&(t.bottomFillColor2=n.Pr),t}function hK(n){const t={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(t.customValues=n.Iw),t}function QOt(n){const t=hK(n);return n.R!==void 0&&(t.color=n.R),t}function JOt(n){const t=hK(n),{R:e,Ht:i,vr:r}=n;return e!==void 0&&(t.color=e),i!==void 0&&(t.borderColor=i),r!==void 0&&(t.wickColor=r),t}function jC(n){return{Area:KOt,Line:gG,Baseline:ZOt,Histogram:gG,Bar:QOt,Candlestick:JOt,Custom:tLt}[n]}function tLt(n){const t=n.yw;return{...n.se,time:t}}const eLt={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},nLt={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},iLt={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Xq,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},VP={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},rLt={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function pG(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:iLt,crosshair:eLt,grid:nLt,overlayPriceScales:{...VP},leftPriceScale:{...VP,visible:!1},rightPriceScale:{...VP,visible:!0},timeScale:rLt,localization:{locale:Qb?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class dK{constructor(t,e,i){this.Hf=t,this.wg=e,this.gg=i??0}applyOptions(t){this.Hf.Qt().oc(this.wg,t,this.gg)}options(){return this.Yi().N()}width(){return kT(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Fl(new zc(t.from,t.to))}getVisibleRange(){let t,e,i=this.Yi().Qe();if(i===null)return null;if(this.Yi().Ja()){const r=this.Yi().fo(),a=lK(r);i=xb(i,this.Yi().tl()),t=Number((Math.round(i.$e()/r)*r).toFixed(a)),e=Number((Math.round(i.qe()/r)*r).toFixed(a))}else t=i.$e(),e=i.qe();return{from:t,to:e}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return Le(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class aLt{constructor(t,e,i,r){this.Hf=t,this.Pt=i,this.Mg=e,this.bg=r}getHeight(){return this.Pt.$t()}setHeight(t){const e=this.Hf.Qt(),i=e.Uc(this.Pt);e.vc(i,t)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(t){this.Pt.Io(t),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(t){const e=this.paneIndex();e!==t&&(bl(t>=0&&t<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(e,t))}getSeries(){return this.Pt.Oo().map((t=>this.Mg(t)))??[]}getHTMLElement(){const t=this.Hf.$f();return t&&t.length!==0&&t[this.paneIndex()]?t[this.paneIndex()].Zf():null}attachPrimitive(t){this.Pt._a(t),t.attached&&t.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(t){this.Pt.ua(t)}priceScale(t){if(this.Pt.Do(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new dK(this.Hf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t,e={},i=0){return this.bg.addCustomSeries(t,e,i)}addSeries(t,e={}){return this.bg.addSeries(t,e,this.paneIndex())}}const sLt={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class mG{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Sg(){return this.ir}}class oLt{constructor(t,e,i,r,a,s){this.xg=new Rs,this.Jn=t,this.Cg=e,this.Pg=i,this.o_=a,this.bg=r,this.yg=s}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Nt(t,e.Wt)}coordinateToPrice(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Ts(t,e.Wt)}barsInLogicalRange(t){if(t===null)return null;const e=new Nb(new Qw(t.from,t.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;const r=i.Fr(e.Uh(),1),a=i.Fr(e.bi(),-1),s=Le(i.Lr()),o=Le(i.Ks());if(r!==null&&a!==null&&r.Re>a.Re)return{barsBefore:t.from-s,barsAfter:o-t.to};const l={barsBefore:r===null||r.Re===s?t.from-s:r.Re-s,barsAfter:a===null||a.Re===o?o-t.to:o-a.Re};return r!==null&&a!==null&&(l.from=r.yw,l.to=a.yw),l}setData(t){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,t),this.Tg("full")}update(t,e=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,t,e),this.Tg("update")}pop(t=1){const e=this.Cg.Dg(this.Jn,t);e.length!==0&&this.Tg("update");const i=jC(this.seriesType());return e.map((r=>i(r)))}dataByIndex(t,e){const i=this.Jn.Xs().Fr(t,e);return i===null?null:jC(this.seriesType())(i)}data(){const t=jC(this.seriesType());return this.Jn.Xs().Hr().map((e=>t(e)))}subscribeDataChanged(t){this.xg.i(t)}unsubscribeDataChanged(t){this.xg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return Bp(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(t){const e=lh(Bp(sLt),t),i=this.Jn.Oh(e);return new mG(i)}removePriceLine(t){this.Jn.Nh(t.Sg())}priceLines(){return this.Jn.Fh().map((t=>new mG(t)))}seriesType(){return this.Jn.Rr()}lastValueData(t){const e=this.Jn.ye(t);return e.ke?{noData:!0}:{noData:!1,price:e.gt,color:e.R}}attachPrimitive(t){this.Jn._a(t),t.attached&&t.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ua(t),t.detached&&t.detached(),this.Jn.Qt().Ih()}getPane(){const t=this.Jn,e=Le(this.Jn.Qt().Hn(t));return this.yg(e)}moveToPane(t){this.Jn.Qt().Nc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);e!==null&&e.Qo(this.Jn,t)}Tg(t){this.xg.v()&&this.xg.p(t)}}class lLt{constructor(t,e,i){this.Vg=new Rs,this.z_=new Rs,this.gm=new Rs,this.ts=t,this.uh=t.Et(),this.Zm=e,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(t,e){e?this.uh.Tu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const t=this.uh.nu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},i=this.uh.au(e);this.ts.Lc(i)}getVisibleLogicalRange(){const t=this.uh.su();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){bl(t.from<=t.to,"The from index cannot be after the to index."),this.ts.Lc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(t){const e=this.ts.Et();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.cu(t)}timeToIndex(t,e){const i=this.o_.convertHorzItemToInternal(t);return this.uh.Q_(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return e===null?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.Et(),i=e.cu(t),r=e.ss(i);return r===null?null:r.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(t){this.Vg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.Vg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.gm.i(t)}unsubscribeSizeChange(t){this.gm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...Bp(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(t){this.gm.p(t.width,t.height)}}function yG(n){return(function(t){if(Kk(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:r}=t.handleScale;Kk(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),Kk(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const e=t.handleScroll;Kk(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})})(n),n}class cLt{constructor(t,e,i){this.Ag=new Map,this.zg=new Map,this.Lg=new Rs,this.Og=new Rs,this.Ng=new Rs,this.qu=new WeakMap,this.Fg=new HOt(e);const r=i===void 0?Bp(pG()):lh(Bp(pG()),yG(i));this.Wg=e,this.Hf=new DOt(t,r,e),this.Hf.Xv().i((s=>{this.Lg.v()&&this.Lg.p(this.Hg(s()))}),this),this.Hf.Zv().i((s=>{this.Og.v()&&this.Og.p(this.Hg(s()))}),this),this.Hf.cc().i((s=>{this.Ng.v()&&this.Ng.p(this.Hg(s()))}),this);const a=this.Hf.Qt();this.Ug=new lLt(a,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(t,e,i){this.autoSizeActive()||this.Hf.Jm(t,e,i)}addCustomSeries(t,e={},i=0){const r=(a=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...XOt,...a.defaultOptions()},$g:qOt,qg:a}))(Ly(t));return this.Yg(r,e,i)}addSeries(t,e={},i=0){return this.Yg(t,e,i)}removeSeries(t){const e=Mu(this.Ag.get(t)),i=this.Fg.Ac(e);this.Hf.Qt().Ac(e),this.jg(i),this.Ag.delete(t),this.zg.delete(e)}kg(t,e){this.jg(this.Fg.Ww(t,e))}Rg(t,e,i){this.jg(this.Fg.jw(t,e,i))}Dg(t,e){const[i,r]=this.Fg.Zw(t,e);return i.length!==0&&this.jg(r),i}subscribeClick(t){this.Lg.i(t)}unsubscribeClick(t){this.Lg._(t)}subscribeCrosshairMove(t){this.Ng.i(t)}unsubscribeCrosshairMove(t){this.Ng._(t)}subscribeDblClick(t){this.Og.i(t)}unsubscribeDblClick(t){this.Og._(t)}priceScale(t,e=0){return new dK(this.Hf,t,e)}timeScale(){return this.Ug}applyOptions(t){this.Hf.hr(yG(t))}options(){return this.Hf.N()}takeScreenshot(t=!1,e=!1){let i,r;try{e||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),r=this.Hf.aw(t)}finally{e||i===void 0||this.Hf.Qt().hr({crosshair:{mode:i}})}return r}addPane(t=!1){const e=this.Hf.Qt().$c();return e.zo(t),this.Kg(e)}removePane(t){this.Hf.Qt().fc(t)}swapPanes(t,e){this.Hf.Qt().mc(t,e)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map((t=>this.Kg(t)))}paneSize(t=0){const e=this.Hf.pw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const r=this.Ag.get(i);if(r===void 0)return;const a=this.Hf.Qt().Hn(r);a!==null&&this.Hf.Qt().Rc(t,e,a)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(t,e={},i=0){bl(t.$g!==void 0),(function(l){if(l===void 0||l.type==="custom")return;const c=l;c.minMove!==void 0&&c.precision===void 0&&(c.precision=lK(c.minMove))})(e.priceFormat),t.type==="Candlestick"&&(function(l){l.borderColor!==void 0&&(l.borderUpColor=l.borderColor,l.borderDownColor=l.borderColor),l.wickColor!==void 0&&(l.wickUpColor=l.wickColor,l.wickDownColor=l.wickColor)})(e);const r=lh(Bp($q),Bp(t.defaultOptions),e),a=t.$g,s=new AT(this.Hf.Qt(),t.type,r,a,t.qg);this.Hf.Qt().Ic(s,i);const o=new oLt(s,this,this,this,this.Wg,(l=>this.Kg(l)));return this.Ag.set(o,s),this.zg.set(s,o),o}jg(t){const e=this.Hf.Qt();e.Vc(t.Et._u,t.Et.tg,t.Et.ig),t.Oo.forEach(((i,r)=>r.ht(i.se,i.Qw))),e.Et().K_(),e.vu()}Xg(t){return Mu(this.zg.get(t))}Hg(t){const e=new Map;t.Dw.forEach(((r,a)=>{const s=a.Rr(),o=jC(s)(r);if(s!=="Custom")bl(LOt(o));else{const l=a.fa();bl(!l||l(o)===!1)}e.set(this.Xg(a),o)}));const i=t.Rw!==void 0&&this.zg.has(t.Rw)?this.Xg(t.Rw):void 0;return{time:t.yw,logical:t.Re,point:t.kw,paneIndex:t.Tw,hoveredSeries:i,hoveredObjectId:t.Vw,seriesData:e,sourceEvent:t.Bw}}Kg(t){let e=this.qu.get(t);return e||(e=new aLt(this.Hf,(i=>this.Xg(i)),t,this),this.qu.set(t,e)),e}}function uLt(n){if(NS(n)){const t=document.getElementById(n);return bl(t!==null,`Cannot find element in DOM with id=${n}`),t}return n}function hLt(n,t,e){const i=uLt(n),r=new cLt(i,t,e);return t.setOptions(r.options()),r}function fK(n,t){return hLt(n,new tG,tG.ld(t))}class IR extends LR{constructor(t,e){super(t,e,!0)}fg(t,e,i){e.uu(this.rg,E_(this.hg)),t.Ul(this.rg,i,E_(this.hg))}Zg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((e=>{const i=e.Wt[3];return this.Gg(e.Re,i,t)}))}}function gK(n,t,e,i,r,a,s){if(t.length===0||i.from>=t.length||i.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:c}=n,h=t[i.from];let d=a(n,h),g=h;if(i.to-i.from<2){const y=r/2;o.beginPath();const x={_t:h._t-y,ut:h.ut},w={_t:h._t+y,ut:h.ut};o.moveTo(x._t*l,x.ut*c),o.lineTo(w._t*l,w.ut*c),s(n,d,x,w)}else{const y=(w,k)=>{s(n,d,g,k),o.beginPath(),d=w,g=k};let x=g;o.beginPath(),o.moveTo(h._t*l,h.ut*c);for(let w=i.from+1;w<i.to;++w){x=t[w];const k=a(n,x);switch(e){case 0:o.lineTo(x._t*l,x.ut*c);break;case 1:o.lineTo(x._t*l,t[w-1].ut*c),k!==d&&(y(k,x),o.lineTo(x._t*l,t[w-1].ut*c)),o.lineTo(x._t*l,x.ut*c);break;case 2:{const[A,T]=dLt(t,w-1,w);o.bezierCurveTo(A._t*l,A.ut*c,T._t*l,T.ut*c,x._t*l,x.ut*c);break}}e!==1&&k!==d&&(y(k,x),o.moveTo(x._t*l,x.ut*c))}(g!==x||g===x&&e===1)&&s(n,d,g,x)}}const vG=6;function XP(n,t){return{_t:n._t-t._t,ut:n.ut-t.ut}}function xG(n,t){return{_t:n._t/t,ut:n.ut/t}}function dLt(n,t,e){const i=Math.max(0,t-1),r=Math.min(n.length-1,e+1);var a,s;return[(a=n[t],s=xG(XP(n[e],n[i]),vG),{_t:a._t+s._t,ut:a.ut+s.ut}),XP(n[e],xG(XP(n[r],n[t]),vG))]}function fLt(n,t){const e=n.context;e.strokeStyle=t,e.stroke()}class gLt extends om{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:i,Jg:r,Qg:a,ct:s,Xt:o,tM:l}=this.rt;if(i===null)return;const c=t.context;c.lineCap="butt",c.lineWidth=s*t.verticalPixelRatio,Ky(c,o),c.lineJoin="round";const h=this.iM.bind(this);a!==void 0&&gK(t,e,a,i,r,h,fLt),l&&(function(d,g,y,x,w){if(x.to-x.from<=0)return;const{horizontalPixelRatio:k,verticalPixelRatio:A,context:T}=d;let R=null;const G=Math.max(1,Math.floor(k))%2/2,z=y*A+G;for(let F=x.to-1;F>=x.from;--F){const H=g[F];if(H){const Y=w(d,H);Y!==R&&(T.beginPath(),R!==null&&T.fill(),T.fillStyle=Y,R=Y);const J=Math.round(H._t*k)+G,nt=H.ut*A;T.moveTo(J,nt),T.arc(J,nt,z,0,2*Math.PI)}}T.fill()})(t,e,l,i,h)}}class pK extends gLt{iM(t,e){return e.vt}}class pLt extends IR{constructor(){super(...arguments),this.og=new pK}Gg(t,e,i){return{...this.Zg(t,e),...i.Dr(t)}}pg(){const t=this.Jn.N(),e={ot:this.rg,Xt:t.lineStyle,Qg:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,tM:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.hg,Jg:this.Qn.Et().mu()};this.og.ht(e)}}const bG={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$g:(n,t)=>new pLt(n,t)};function mLt(n,t,e,i,r){const{context:a,horizontalPixelRatio:s,verticalPixelRatio:o}=t;a.lineTo(r._t*s,n*o),a.lineTo(i._t*s,n*o),a.closePath(),a.fillStyle=e,a.fill()}class yLt extends om{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:e,lt:i,Jg:r,ct:a,Xt:s,Qg:o}=this.rt,l=this.rt.lM??(this.rt.oM?0:t.mediaSize.height);if(i===null)return;const c=t.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=a,Ky(c,s),c.lineWidth=1,gK(t,e,o,i,r,this._M.bind(this),mLt.bind(null,l))}}class vLt{uM(t,e){const i=this.cM,{dM:r,fM:a,pM:s,vM:o,lM:l,mM:c,wM:h}=e;if(this.gM===void 0||i===void 0||i.dM!==r||i.fM!==a||i.pM!==s||i.vM!==o||i.lM!==l||i.mM!==c||i.wM!==h){const{verticalPixelRatio:d}=t,g=l||c>0?d:1,y=c*g,x=h===t.bitmapSize.height?h:h*g,w=(l??0)*g,k=t.context.createLinearGradient(0,y,0,x);if(k.addColorStop(0,r),l!=null){const A=Mb((w-y)/(x-y),0,1);k.addColorStop(A,a),k.addColorStop(A,s)}k.addColorStop(1,o),this.gM=k,this.cM=e}return this.gM}}class xLt extends yLt{constructor(){super(...arguments),this.MM=new vLt}_M(t,e){return this.MM.uM(t,{dM:e.mr,fM:"",pM:"",vM:e.wr,mM:this.rt?.mM??0,wM:t.bitmapSize.height})}}class bLt extends IR{constructor(t,e){super(t,e),this.og=new qq,this.CM=new xLt,this.PM=new pK,this.og.st([this.CM,this.PM])}Gg(t,e,i){return{...this.Zg(t,e),...i.Dr(t)}}pg(){const t=this.Jn.N();if(this.hg===null||this.rg.length===0)return;let e;if(t.relativeGradient){e=this.rg[this.hg.from].ut;for(let i=this.hg.from;i<this.hg.to;i++){const r=this.rg[i];r.ut<e&&(e=r.ut)}}this.CM.ht({Qg:t.lineType,ot:this.rg,Xt:t.lineStyle,ct:t.lineWidth,lM:null,mM:e,oM:t.invertFilledArea,lt:this.hg,Jg:this.Qn.Et().mu()}),this.PM.ht({Qg:t.lineVisible?t.lineType:void 0,ot:this.rg,Xt:t.lineStyle,ct:t.lineWidth,lt:this.hg,Jg:this.Qn.Et().mu(),tM:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}const wLt={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$g:(n,t)=>new bLt(n,t)};class _Lt extends LR{constructor(t,e){super(t,e,!1)}fg(t,e,i){e.uu(this.rg,E_(this.hg)),t.ql(this.rg,i,E_(this.hg))}VM(t,e,i){return{wt:t,qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3],_t:NaN,Yl:NaN,jl:NaN,Kl:NaN,Xl:NaN}}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((e=>this.Gg(e.Re,e,t)))}}class SLt extends om{constructor(){super(...arguments),this.Yt=null,this.yM=0}ht(t){this.Yt=t}et(t){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;const{horizontalPixelRatio:e}=t;this.yM=(function(a,s){if(a>=2.5&&a<=4)return Math.floor(3*s);const o=1-.2*Math.atan(Math.max(4,a)-4)/(.5*Math.PI),l=Math.floor(a*o*s),c=Math.floor(a*s),h=Math.min(l,c);return Math.max(Math.floor(s),h)})(this.Yt.mu,e),this.yM>=2&&Math.floor(e)%2!=this.yM%2&&this.yM--;const i=this.Yt.Xs;this.Yt.BM&&this.IM(t,i,this.Yt.lt),this.Yt.Mi&&this.uv(t,i,this.Yt.lt);const r=this.EM(e);(!this.Yt.Mi||this.yM>2*r)&&this.AM(t,i,this.Yt.lt)}IM(t,e,i){if(this.Yt===null)return;const{context:r,horizontalPixelRatio:a,verticalPixelRatio:s}=t;let o="",l=Math.min(Math.floor(a),Math.floor(this.Yt.mu*a));l=Math.max(Math.floor(a),Math.min(l,this.yM));const c=Math.floor(.5*l);let h=null;for(let d=i.from;d<i.to;d++){const g=e[d];g.pr!==o&&(r.fillStyle=g.pr,o=g.pr);const y=Math.round(Math.min(g.Yl,g.Xl)*s),x=Math.round(Math.max(g.Yl,g.Xl)*s),w=Math.round(g.jl*s),k=Math.round(g.Kl*s);let A=Math.round(a*g._t)-c;const T=A+l-1;h!==null&&(A=Math.max(h+1,A),A=Math.min(A,T));const R=T-A+1;r.fillRect(A,w,R,y-w),r.fillRect(A,x+1,R,k-x),h=T}}EM(t){let e=Math.floor(1*t);this.yM<=2*e&&(e=Math.floor(.5*(this.yM-1)));const i=Math.max(Math.floor(t),e);return this.yM<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}uv(t,e,i){if(this.Yt===null)return;const{context:r,horizontalPixelRatio:a,verticalPixelRatio:s}=t;let o="";const l=this.EM(a);let c=null;for(let h=i.from;h<i.to;h++){const d=e[h];d.dr!==o&&(r.fillStyle=d.dr,o=d.dr);let g=Math.round(d._t*a)-Math.floor(.5*this.yM);const y=g+this.yM-1,x=Math.round(Math.min(d.Yl,d.Xl)*s),w=Math.round(Math.max(d.Yl,d.Xl)*s);if(c!==null&&(g=Math.max(c+1,g),g=Math.min(g,y)),this.Yt.mu*a>2*l)kDt(r,g,x,y-g+1,w-x+1,l);else{const k=y-g+1;r.fillRect(g,x,k,w-x+1)}c=y}}AM(t,e,i){if(this.Yt===null)return;const{context:r,horizontalPixelRatio:a,verticalPixelRatio:s}=t;let o="";const l=this.EM(a);for(let c=i.from;c<i.to;c++){const h=e[c];let d=Math.round(Math.min(h.Yl,h.Xl)*s),g=Math.round(Math.max(h.Yl,h.Xl)*s),y=Math.round(h._t*a)-Math.floor(.5*this.yM),x=y+this.yM-1;if(h.cr!==o){const w=h.cr;r.fillStyle=w,o=w}this.Yt.Mi&&(y+=l,d+=l,x-=l,g-=l),d>g||r.fillRect(y,d,x-y+1,g-d+1)}}}class kLt extends _Lt{constructor(){super(...arguments),this.og=new SLt}Gg(t,e,i){return{...this.VM(t,e,i),...i.Dr(t)}}pg(){const t=this.Jn.N();this.og.ht({Xs:this.rg,mu:this.Qn.Et().mu(),BM:t.wickVisible,Mi:t.borderVisible,lt:this.hg})}}const CLt={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},$g:(n,t)=>new kLt(n,t)};class ALt extends om{constructor(){super(...arguments),this.Yt=null,this.zM=[]}ht(t){this.Yt=t,this.zM=[]}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return;this.zM.length||this.LM(e);const r=Math.max(1,Math.floor(i)),a=Math.round(this.Yt.OM*i)-Math.floor(r/2),s=a+r;for(let o=this.Yt.lt.from;o<this.Yt.lt.to;o++){const l=this.Yt.ot[o],c=this.zM[o-this.Yt.lt.from],h=Math.round(l.ut*i);let d,g;t.fillStyle=l.cr,h<=a?(d=h,g=s):(d=a,g=h-Math.floor(r/2)+r),t.fillRect(c.Uh,d,c.bi-c.Uh+1,g-d)}}LM(t){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return void(this.zM=[]);const e=Math.ceil(this.Yt.mu*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.Yt.mu*t)-e;this.zM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let a=this.Yt.lt.from;a<this.Yt.lt.to;a++){const s=this.Yt.ot[a],o=Math.round(s._t*t);let l,c;if(i%2){const h=(i-1)/2;l=o-h,c=o+h}else{const h=i/2;l=o-h,c=o+h-1}this.zM[a-this.Yt.lt.from]={Uh:l,bi:c,NM:o,ne:s._t*t,wt:s.wt}}for(let a=this.Yt.lt.from+1;a<this.Yt.lt.to;a++){const s=this.zM[a-this.Yt.lt.from],o=this.zM[a-this.Yt.lt.from-1];s.wt===o.wt+1&&s.Uh-o.bi!==e+1&&(o.NM>o.ne?o.bi=s.Uh-e-1:s.Uh=o.bi+e+1)}let r=Math.ceil(this.Yt.mu*t);for(let a=this.Yt.lt.from;a<this.Yt.lt.to;a++){const s=this.zM[a-this.Yt.lt.from];s.bi<s.Uh&&(s.bi=s.Uh);const o=s.bi-s.Uh+1;r=Math.min(o,r)}if(e>0&&r<4)for(let a=this.Yt.lt.from;a<this.Yt.lt.to;a++){const s=this.zM[a-this.Yt.lt.from];s.bi-s.Uh+1>r&&(s.NM>s.ne?s.bi-=1:s.Uh+=1)}}}class TLt extends IR{constructor(){super(...arguments),this.og=new ALt}Gg(t,e,i){return{...this.Zg(t,e),...i.Dr(t)}}pg(){const t={ot:this.rg,mu:this.Qn.Et().mu(),lt:this.hg,OM:this.Jn.Ft().Nt(this.Jn.N().base,Le(this.Jn.zt()).Wt)};this.og.ht(t)}}const MLt={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},$g:(n,t)=>new TLt(n,t)};({...$q});const mK=()=>{const n=N.useRef(),t=N.useRef();N.useRef(),N.useRef();const[e,i]=N.useState([]),[r,a]=N.useState("market"),[s,o]=N.useState("1M"),[l,c]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const x=((await sa.get("https://api_gold.thinkdiff.us/SLV_von_vao")).data.slv_market_data_daily||[]).filter(w=>w.trade_date&&w.close_price!=null).sort((w,k)=>new Date(w.trade_date)-new Date(k.trade_date)).map(w=>({time:w.trade_date,open:Number(w.open_price),high:Number(w.high_price),low:Number(w.low_price),close:Number(w.close_price),volume:Number(w.volume),color:Number(w.close_price)>=Number(w.open_price)?"#26a69a":"#ef5350"}));i(x),c(!1)}catch{c(!1)}})()},[]);const h=N.useMemo(()=>{if(!e.length)return[];if(s==="ALL")return e;const d=new Date(e[e.length-1].time);let g=new Date(d);return s==="1W"?g.setDate(d.getDate()-7):s==="1M"?g.setMonth(d.getMonth()-1):s==="3M"?g.setMonth(d.getMonth()-3):s==="1Y"&&g.setFullYear(d.getFullYear()-1),e.filter(y=>new Date(y.time)>=g)},[e,s]);return N.useEffect(()=>{if(!n.current||h.length===0||r!=="market")return;const d=window.innerWidth<=768,g=fK(n.current,{width:n.current.clientWidth,height:n.current.clientHeight,layout:{background:{color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},timeScale:{borderColor:"#2a2e39",timeVisible:!0,barSpacing:d?8:12,minBarSpacing:5},rightPriceScale:{borderColor:"#2a2e39",autoScale:!0,scaleMargins:{top:.1,bottom:d?.3:.25}}}),y=g.addSeries(CLt,{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),x=g.addSeries(MLt,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:d?.94:.9,bottom:0}});y.setData(h),x.setData(h.map(k=>({time:k.time,value:k.volume,color:k.color}))),g.timeScale().fitContent(),t.current=g;const w=()=>{if(t.current&&n.current){const k=window.innerWidth<=768;t.current.applyOptions({width:n.current.clientWidth,height:n.current.clientHeight,rightPriceScale:{scaleMargins:{top:.1,bottom:k?.3:.25}}}),x.applyOptions({scaleMargins:{top:k?.94:.9,bottom:0}})}};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),g.remove()}},[h,r]),l?u.jsx("div",{style:{height:"100vh",background:"#131722"}}):u.jsxs("div",{style:{background:"#131722",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden",color:"#d1d4dc"},children:[u.jsx("style",{children:`
        .slv-header { display: flex; justify-content: space-between; padding: 10px 15px; background: #1c202b; border-bottom: 1px solid #2a2e39; flex-shrink: 0; }
        .tab-item { color: #787b86; cursor: pointer; font-weight: bold; font-size: 13px; padding-bottom: 5px; border-bottom: 2px solid transparent; margin-right: 20px; }
        .tab-item.active { color: #fff; border-bottom: 2px solid #2962ff; }
        .slv-btns { display: flex; gap: 5px; flex-wrap: wrap; justify-content: flex-end; max-width: 70%; }
        .slv-btns button { background: #2a2e39; color: #b2b5be; border: none; padding: 5px 10px; cursor: pointer; font-weight: bold; font-size: 10px; border-radius: 2px; white-space: nowrap; }
        .slv-btns button.active { background: #2962ff; color: white; }
        .data-table-container { height: 100%; overflow-y: auto; background: #131722; padding: 0 10px; overflow-x: auto; }
        .slv-table { width: 100%; border-collapse: collapse; font-size: 13px; text-align: right; min-width: 600px; }
        .slv-table th { position: sticky; top: 0; background: #1c202b; color: #787b86; padding: 12px; font-weight: normal; border-bottom: 1px solid #2a2e39; z-index: 10; }
        .slv-table td { padding: 10px; border-bottom: 1px solid #1e222d; }
        .text-up { color: #26a69a; }
        .text-down { color: #ef5350; }

        @media (max-width: 768px) {
          .slv-table { font-size: 11px; min-width: 500px; }
          .slv-table td, .slv-table th { padding: 8px 5px; }
          .slv-header { flex-direction: column; gap: 8px; align-items: flex-start; padding: 8px 12px; }
          .slv-btns { max-width: 100%; justify-content: flex-start; }
          .tab-item { margin-right: 15px; font-size: 12px; }
        }
      `}),u.jsxs("div",{className:"slv-header",children:[u.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[u.jsx("div",{className:`tab-item ${r==="market"?"active":""}`,onClick:()=>a("market"),children:"MARKET CHART"}),u.jsx("div",{className:`tab-item ${r==="darkpool"?"active":""}`,onClick:()=>a("darkpool"),children:"PRICE & VOLUME"})]}),r==="market"&&u.jsxs("div",{className:"slv-btns",children:[u.jsx("button",{className:s==="1W"?"active":"",onClick:()=>o("1W"),children:"1 TUN"}),u.jsx("button",{className:s==="1M"?"active":"",onClick:()=>o("1M"),children:"1 THNG"}),u.jsx("button",{className:s==="3M"?"active":"",onClick:()=>o("3M"),children:"3 THNG"}),u.jsx("button",{className:s==="1Y"?"active":"",onClick:()=>o("1Y"),children:"1 NM"}),u.jsx("button",{className:s==="ALL"?"active":"",onClick:()=>o("ALL"),children:"TT C"})]})]}),u.jsx("div",{className:"chart-box-container",style:{flexGrow:1,position:"relative",overflow:"hidden"},children:r==="market"?u.jsx("div",{ref:n,style:{width:"100%",height:"100%"}}):u.jsx("div",{className:"data-table-container",children:u.jsxs("table",{className:"slv-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{textAlign:"left"},children:"Date (EST)"}),u.jsx("th",{children:"Open"}),u.jsx("th",{children:"High"}),u.jsx("th",{children:"Low"}),u.jsx("th",{children:"Close"}),u.jsx("th",{children:"Change"}),u.jsx("th",{children:"Volume"})]})}),u.jsx("tbody",{children:[...e].reverse().map((d,g)=>{const y=d.close>=d.open,x=(d.close-d.open).toFixed(2);return u.jsxs("tr",{children:[u.jsx("td",{style:{textAlign:"left"},children:d.time}),u.jsx("td",{children:d.open.toFixed(2)}),u.jsx("td",{children:d.high.toFixed(2)}),u.jsx("td",{children:d.low.toFixed(2)}),u.jsx("td",{className:y?"text-up":"text-down",children:d.close.toFixed(2)}),u.jsx("td",{className:y?"text-up":"text-down",children:y?`+${x}`:x}),u.jsx("td",{children:d.volume.toLocaleString()})]},g)})})]})})})]})};gi.register(qr,Ji,pa,Xr,Xo,Qi,sr);const NLt="https://api_gold.thinkdiff.us/compare_shanghai_comex_silver";function wG(n){return(n>0?"+":"")+Number(n).toFixed(2)+"%"}function yK({apiUrl:n=NLt,height:t=450}){const e=Gi(),[i,r]=N.useState("silver"),[a,s]=N.useState("1 Tun"),[o,l]=N.useState(!0),[c,h]=N.useState(null),[d,g]=N.useState([]),[y,x]=N.useState([]),[w,k]=N.useState([]),[A,T]=N.useState([]),[R,G]=N.useState([]),z=N.useRef(),F=N.useRef();N.useEffect(()=>{let mt=!0;async function ct(){try{l(!0);const xt=await(await fetch(n)).json(),dt=i.includes("gold")?"gold":"silver",ot=(xt?.data?.[dt]?.data||[]).slice().sort((Pt,It)=>new Date(Pt.date)-new Date(It.date));if(!mt)return;T(ot);const vt=new Date;let St=[...ot];if(a!=="ALL"){const Pt=new Date;a==="1 Tun"?Pt.setDate(vt.getDate()-7):a==="1 Thng"?Pt.setMonth(vt.getMonth()-1):a==="1 Nm"&&Pt.setFullYear(vt.getFullYear()-1),St=ot.filter(It=>new Date(It.date)>=Pt)}if(G(St),i.includes("premium")){const Pt=St.map(It=>({time:It.date,value:Number(It.premium||It.shanghai-It.western)}));k(Pt),g([]),x([])}else{const Pt=St.map(Nt=>({time:Nt.date,value:Number(Nt.shanghai)})),It=St.map(Nt=>({time:Nt.date,value:Number(Nt.western)}));g(Pt),x(It),k([])}}catch(st){h(st?.message||"Error fetching data")}finally{l(!1)}}return ct(),()=>{mt=!1}},[n,i,a]),N.useEffect(()=>{if(!z.current||o)return;const mt=fK(z.current,{width:z.current.clientWidth,height:300,layout:{background:{color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#2a2e39"},horzLines:{color:"#2a2e39"}},timeScale:{borderColor:"#2a2e39",timeVisible:!0},rightPriceScale:{borderColor:"#2a2e39",autoScale:!0,scaleMargins:{top:.1,bottom:.1}}});if(F.current=mt,i.includes("premium")){const st=i==="gold_premium"?"#c9b458":"#b5b7b9";mt.addSeries(wLt,{lineColor:st,topColor:`${st}44`,bottomColor:`${st}00`,lineWidth:2}).setData(w)}else{const st=mt.addSeries(bG,{color:"#e04646",lineWidth:2}),xt=mt.addSeries(bG,{color:"#3b8be6",lineWidth:2});st.setData(d),xt.setData(y)}mt.timeScale().fitContent();const ct=()=>mt.applyOptions({width:z.current.clientWidth});return window.addEventListener("resize",ct),()=>{window.removeEventListener("resize",ct),mt.remove()}},[o,i,d,y,w]);const{latest:H,avgPremium:Y,avgPremiumPercent:J,maxPremium:nt,minPremium:V}=N.useMemo(()=>{if(!A.length)return{latest:null,avgPremium:0,avgPremiumPercent:0,maxPremium:0,minPremium:0};const mt=A[A.length-1];let ct=0,st=0,xt=-1/0,dt=1/0;for(const ht of A){const ot=Number(ht.premium||ht.shanghai-ht.western);ct+=ot,st+=Number(ht.premiumPercent||0),ot>xt&&(xt=ot),ot<dt&&(dt=ot)}return{latest:mt,avgPremium:ct/A.length,avgPremiumPercent:st/A.length,maxPremium:xt,minPremium:dt}},[A]),Z=mt=>{if(!mt||mt.length<2)return 0;const ct=mt[0].value;return(mt[mt.length-1].value-ct)/Math.abs(ct||1)*100},rt=Z(d),lt=Z(y);return u.jsxs("div",{className:"compare-shanghai-comex__wrapper",children:[u.jsxs("div",{className:"compare-shanghai-comex__tabs",children:[u.jsx("button",{className:`tab-btn ${i==="gold"?"active":""}`,onClick:()=>r("gold"),children:"Gold"}),u.jsx("button",{className:`tab-btn ${i==="silver"?"active":""}`,onClick:()=>r("silver"),children:"Silver"}),u.jsx("button",{className:`tab-btn premium-gold-btn ${i==="gold_premium"?"active":""}`,onClick:()=>r("gold_premium"),children:"Chnh Vng"}),u.jsx("button",{className:`tab-btn premium-silver-btn ${i==="silver_premium"?"active":""}`,onClick:()=>r("silver_premium"),children:"Chnh Bc"})]}),u.jsxs("div",{className:"compare-shanghai-comex__stats-row",children:[u.jsxs("div",{className:"stat-card highlight",children:[u.jsx("div",{className:"stat-title",children:"Shanghai Spot"}),u.jsx("div",{className:"stat-value",children:H?`$${Number(H.shanghai).toFixed(2)}`:""}),u.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),u.jsxs("div",{className:"stat-card highlight",children:[u.jsx("div",{className:"stat-title",children:"Western Spot"}),u.jsx("div",{className:"stat-value",children:H?`$${Number(H.western).toFixed(2)}`:""}),u.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),u.jsxs("div",{className:"stat-card premium",children:[u.jsx("div",{className:"stat-title",children:"Premium"}),u.jsx("div",{className:"stat-value",children:H?`${Number(H.premium||H.shanghai-H.western)>0?"+":""}$${Number(H.premium||H.shanghai-H.western).toFixed(2)}`:""}),u.jsx("div",{className:"stat-sub",children:"per troy oz"})]}),u.jsxs("div",{className:"stat-card premium",children:[u.jsx("div",{className:"stat-title",children:"Premium %"}),u.jsx("div",{className:"stat-value",children:H?`${(H.premiumPercent||0)>0?"+":""}${Number(H.premiumPercent||0).toFixed(2)}%`:""}),u.jsx("div",{className:"stat-sub",children:"vs Western spot"})]}),u.jsxs("div",{className:"stat-card small",children:[u.jsx("div",{className:"stat-title",children:"Avg Premium (1Y)"}),u.jsxs("div",{className:"stat-value",children:["$",Y.toFixed(2)," ",u.jsxs("span",{className:"muted",children:["(",J.toFixed(2),"%)"]})]})]}),u.jsxs("div",{className:"stat-card small",children:[u.jsx("div",{className:"stat-title",children:"Max Premium"}),u.jsxs("div",{className:"stat-value",children:["$",nt.toFixed(2)]})]}),u.jsxs("div",{className:"stat-card small",children:[u.jsx("div",{className:"stat-title",children:"Min Premium"}),u.jsxs("div",{className:"stat-value",children:["$",V.toFixed(2)]})]})]}),u.jsxs("div",{className:"compare-shanghai-comex__header",children:[u.jsx("div",{className:"compare-shanghai-comex__title",onClick:()=>e("/shanghaichart"),style:{cursor:"pointer"},children:i.includes("premium")?`Chnh lch ${i.includes("gold")?"Vng":"Bc"} (Shanghai - Western)`:`Shanghai vs Western ${i.toUpperCase()}  Spot`}),!i.includes("premium")&&u.jsxs("div",{className:"compare-shanghai-comex__legend",children:[u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"dot dot-sh"}),u.jsx("span",{className:"legend-label",children:"Shanghai Spot"}),u.jsx("span",{className:"legend-value",children:wG(rt)})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"dot dot-w"}),u.jsx("span",{className:"legend-label",children:"Western Spot"}),u.jsx("span",{className:"legend-value",children:wG(lt)})]})]})]}),u.jsxs("div",{className:"compare-shanghai-comex__chart-container",children:[o?u.jsx("div",{className:"loading-overlay",children:"Loading data..."}):u.jsx("div",{ref:z,style:{width:"100%",height:"300px"}}),u.jsx("div",{className:"timeframe-selector",children:["1 Tun","1 Thng","1 Nm","ALL"].map(mt=>u.jsx("button",{className:`tf-btn ${a===mt?"active":""}`,onClick:()=>s(mt),children:mt},mt))})]})]})}const Cw=({setNewsInAPI:n})=>{const t=Gi(),e=rc(),i=!!e.symbol,[r,a]=N.useState([]),[s,o]=N.useState([]),[l,c]=N.useState(!1),[h,d]=N.useState(null),[g,y]=N.useState(()=>Math.random()<.5),[x,w]=N.useState(!1),[k,A]=N.useState({sortBy:"reputation",sortOrder:"desc",distanceKm:"20"}),[T,R]=N.useState(!0),G=xt=>{const dt=(z.region||"").toString(),ht=(z.type||"").toString();return xt?`skipUpdate:${dt}:${ht}:${xt.day}:${xt.month}:${xt.year}:${xt.hour}:${xt.minute}`:`skipUpdate:${dt}:${ht}`},z=N.useMemo(()=>({day:e.day,month:e.month,year:e.year,hour:e.hour,minute:e.minute,region:e.region||"Vietnam",type:e.type||"gold"}),[e]);N.useMemo(()=>z.type,[z.type]);const{loading:F,error:H,displayedPrices:Y,loadingProgress:J,availableCountries:nt,fomo:V,news:Z,charts:rt}=fO(z),lt=()=>{c(!1),t(`/vietnam/gold/${h?.day}/${h?.month}/${h?.year}/${h?.hour}/${h?.minute}`)},mt=()=>{try{const xt=e.hour?Number(e.hour):0,dt=e.minute?Number(e.minute):0,ht=G({day:Number(e.day),month:Number(e.month),year:Number(e.year),hour:xt,minute:dt}),ot=new Date(Number(e.year),Number(e.month)-1,Number(e.day),xt,dt).getTime();localStorage.setItem(ht,String(ot))}catch(xt){console.warn("Could not persist skipUpdate:",xt)}c(!1)};N.useEffect(()=>{if(i)return;if(!(e.day&&e.month&&e.year)&&Y?.latestDate){const dt=Y.latestDate;t(`/${z.region}/${z.type}/${dt.day}/${dt.month}/${dt.year}/${dt.hour}/${dt.minute}`,{replace:!0})}},[Y,t,i,e,z]),N.useEffect(()=>{!i&&Z&&n(Z)},[Z,i,n]);const ct=N.useCallback(xt=>{i||t(`/${xt.region}/${xt.type}/${xt.day}/${xt.month}/${xt.year}/${xt.hour}/${xt.minute}`,{replace:!0})},[t,i]);N.useEffect(()=>{eA("ALL").then(a).catch(()=>{}),eA("DAY").then(o).catch(()=>{}),qo("HomePage")},[]);const st=no();return N.useEffect(()=>{const dt=new URLSearchParams(st.search).get("view");dt==="analysis"?g||y(!0):dt==="prices"&&g&&y(!1),R(!1)},[st.search]),N.useEffect(()=>{if(T)return;const xt=new URLSearchParams(st.search);if(!(xt.get("view")!==null)&&!x)return;const ht=g?"analysis":"prices";if(xt.get("view")!==ht){xt.set("view",ht);const ot=xt.toString();t(`${st.pathname}${ot?`?${ot}`:""}`,{replace:!0})}x&&w(!1)},[g,T,x,st.search,t,st.pathname]),N.useEffect(()=>{const dt=new URLSearchParams(st.search).get("vendor");if(!dt)return;const ht=setTimeout(()=>{const ot=document.querySelectorAll("[data-vendor]");for(const vt of ot)if(vt.dataset.vendor===dt){try{vt.scrollIntoView({behavior:"smooth",block:"center"})}catch{vt.scrollIntoView()}break}},150);return()=>clearTimeout(ht)},[st.search]),u.jsxs(u.Fragment,{children:[u.jsx(G8,{isVisible:l,latestData:h,onConfirm:lt,onCancel:mt}),u.jsx("main",{className:"main-content",children:u.jsxs("div",{className:"container",children:[u.jsx(q7,{symbol:e.symbol,fomo:V}),u.jsx(YMt,{}),g?u.jsxs(u.Fragment,{children:[u.jsx(AO,{filterOptions:z,onFilterChange:ct,uiFilter:k,setUiFilter:A,availableCountries:nt,showAnalysis:g,onToggleAnalysis:xt=>{w(!0),y(xt)}}),u.jsx(Cut,{})]}):u.jsx(O9,{loading:F,error:H,displayedPrices:Y,filterOptions:z,onFilterChange:ct,loadingProgress:J,availableCountries:nt,showAnalysis:g,onToggleAnalysis:y,exchangeRateUSD:V?.ty_gia_usd}),u.jsx(hPt,{}),u.jsx(TPt,{}),u.jsx("section",{style:{width:"100%",minHeight:0}}),u.jsx("section",{style:{width:"100%",minHeight:560,marginTop:40},children:u.jsx(MPt,{})}),u.jsxs("div",{children:[u.jsx("div",{style:{marginBottom:"20px",display:"none"},children:u.jsx(n6,{})}),u.jsx("div",{style:{marginBottom:"20px",display:"none"},children:u.jsx(n6,{type:"silver",title:"Biu  d tr bc ca Comex"})})]}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(yq,{})}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(bq,{})}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(xq,{})}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(Yq,{})}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(oDt,{})}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(aDt,{})}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(sDt,{})}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(SEt,{})}),u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(PEt,{})}),rt&&u.jsxs(u.Fragment,{children:[u.jsx(Q7,{dataGoldTrust:rt[3]?.data?.[0],urlParams:e}),u.jsx(J7,{dataSilverTrust:rt[3]?.data?.[1],urlParams:e}),u.jsx(mEt,{charts:rt,params:e})]}),u.jsxs("div",{className:"slv-section",children:[u.jsx(mK,{}),u.jsx(xEt,{}),u.jsx(bEt,{})]}),u.jsx("div",{className:"compare-shanghai",children:u.jsx(yK,{})}),r?.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"title-shark-global",onClick:()=>t("/DetailSharkGlobal"),children:"Thng k mua bn ETF C Mp"}),u.jsxs("div",{className:"dashboard-container",onClick:()=>t("/SharkGlobalChart"),children:[u.jsx("div",{className:"dashboard-item",children:u.jsx(gq,{data:s})}),u.jsx("div",{className:"dashboard-item",children:u.jsx(pq,{})}),u.jsx("div",{className:"dashboard-item",children:u.jsx(dq,{data:r,zoomable:!1,time:"1Y"})})]})]}),u.jsx(SMt,{})]})}),u.jsx(Xct,{newsInAPI:Z})]})},PLt=(n,t,e,i)=>{if(e==="length"||e==="prototype"||e==="arguments"||e==="caller")return;const r=Object.getOwnPropertyDescriptor(n,e),a=Object.getOwnPropertyDescriptor(t,e);!ELt(r,a)&&i||Object.defineProperty(n,e,a)},ELt=function(n,t){return n===void 0||n.configurable||n.writable===t.writable&&n.enumerable===t.enumerable&&n.configurable===t.configurable&&(n.writable||n.value===t.value)},jLt=(n,t)=>{const e=Object.getPrototypeOf(t);e!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,e)},DLt=(n,t)=>`/* Wrapped ${n}*/
${t}`,OLt=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),LLt=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),RLt=(n,t,e)=>{const i=e===""?"":`with ${e.trim()}() `,r=DLt.bind(null,i,t.toString());Object.defineProperty(r,"name",LLt);const{writable:a,enumerable:s,configurable:o}=OLt;Object.defineProperty(n,"toString",{value:r,writable:a,enumerable:s,configurable:o})};function ILt(n,t,{ignoreNonConfigurable:e=!1}={}){const{name:i}=n;for(const r of Reflect.ownKeys(t))PLt(n,t,r,e);return jLt(n,t),RLt(n,t,i),n}const rC=2147483647,zLt=new WeakMap,qP=new WeakMap,FLt=new WeakMap;function BLt(n,t){const e=n.get(t);if(e){if(e.maxAge<=Date.now()){n.delete(t);return}return e}}function vK(n,{cacheKey:t,cache:e=new Map,maxAge:i}={}){if(i===0)return n;if(typeof i=="number"&&Number.isFinite(i)){if(i>rC)throw new TypeError(`The \`maxAge\` option cannot exceed ${rC}.`);if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const r=function(...a){const s=t?t(a):a[0],o=BLt(e,s);if(o)return o.data;const l=n.apply(this,a),c=typeof i=="function"?i(...a):i;if(c!==void 0&&c!==Number.POSITIVE_INFINITY){if(!Number.isFinite(c))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(c<=0)return l;if(c>rC)throw new TypeError(`The \`maxAge\` function result cannot exceed ${rC}.`)}if(e.set(s,{data:l,maxAge:c===void 0||c===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+c}),c!==void 0&&c!==Number.POSITIVE_INFINITY){const h=setTimeout(()=>{e.delete(s),qP.get(r)?.delete(h)},c);h.unref?.();const d=qP.get(r)??new Set;d.add(h),qP.set(r,d)}return l};return ILt(r,n,{ignoreNonConfigurable:!0}),zLt.set(r,e),FLt.set(r,t??(a=>a[0])),r}function HLt(n){return typeof n=="string"}function GLt(n,t,e){return e.indexOf(n)===t}function WLt(n){return n.toLowerCase()===n}function _G(n){return n.indexOf(",")===-1?n:n.split(",")}function mD(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var t=n.split(".")[0],e=t===void 0?"":t;return mD(e)}if(n.indexOf("@")!==-1){var i=n.split("@")[0],e=i===void 0?"":i;return mD(e)}if(n.indexOf("-")===-1||!WLt(n))return n;var r=n.split("-"),a=r[0],s=r[1],o=s===void 0?"":s;return"".concat(a,"-").concat(o.toUpperCase())}function ULt(n){var t=n===void 0?{}:n,e=t.useFallbackLocale,i=e===void 0?!0:e,r=t.fallbackLocale,a=r===void 0?"en-US":r,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],l=[],c=0,h=o;c<h.length;c++){var d=h[c];l=l.concat(_G(d))}var g=navigator.language,y=g&&_G(g);s=s.concat(l,y)}return i&&s.push(a),s.filter(HLt).map(mD).filter(GLt)}var YLt=vK(ULt,{cacheKey:JSON.stringify});function $Lt(n){return YLt(n)[0]||null}var xK=vK($Lt,{cacheKey:JSON.stringify});function lm(n,t,e){return function(r,a=e){const s=n(r)+a;return t(s)}}function PS(n){return function(e){return new Date(n(e).getTime()-1)}}function ES(n,t){return function(i){return[n(i),t(i)]}}function qa(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const t=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${n}.`)}function iv(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function MT(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function C1(n){const t=qa(n),e=t+(-t+1)%100,i=new Date;return i.setFullYear(e,0,1),i.setHours(0,0,0,0),i}const VLt=lm(qa,C1,-100),bK=lm(qa,C1,100),zR=PS(bK),XLt=lm(qa,zR,-100),wK=ES(C1,zR);function rv(n){const t=qa(n),e=t+(-t+1)%10,i=new Date;return i.setFullYear(e,0,1),i.setHours(0,0,0,0),i}const _K=lm(qa,rv,-10),FR=lm(qa,rv,10),NT=PS(FR),SK=lm(qa,NT,-10),kK=ES(rv,NT);function A1(n){const t=qa(n),e=new Date;return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const CK=lm(qa,A1,-1),BR=lm(qa,A1,1),PT=PS(BR),AK=lm(qa,PT,-1),qLt=ES(A1,PT);function HR(n,t){return function(i,r=t){const a=qa(i),s=iv(i)+r,o=new Date;return o.setFullYear(a,s,1),o.setHours(0,0,0,0),n(o)}}function r0(n){const t=qa(n),e=iv(n),i=new Date;return i.setFullYear(t,e,1),i.setHours(0,0,0,0),i}const TK=HR(r0,-1),GR=HR(r0,1),jS=PS(GR),MK=HR(jS,-1),KLt=ES(r0,jS);function ZLt(n,t){return function(i,r=t){const a=qa(i),s=iv(i),o=MT(i)+r,l=new Date;return l.setFullYear(a,s,o),l.setHours(0,0,0,0),n(l)}}function DS(n){const t=qa(n),e=iv(n),i=MT(n),r=new Date;return r.setFullYear(t,e,i),r.setHours(0,0,0,0),r}const QLt=ZLt(DS,1),WR=PS(QLt),JLt=ES(DS,WR);function NK(n){return MT(jS(n))}var _l={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},tRt={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},UR=[0,1,2,3,4,5,6],KP=new Map;function eRt(n){return function(e,i){var r=e||xK();KP.has(r)||KP.set(r,new Map);var a=KP.get(r);return a.has(n)||a.set(n,new Intl.DateTimeFormat(r||void 0,n).format),a.get(n)(i)}}function nRt(n){var t=new Date(n);return new Date(t.setHours(12))}function a0(n){return function(t,e){return eRt(n)(t,nRt(e))}}var iRt={day:"numeric"},rRt={day:"numeric",month:"long",year:"numeric"},aRt={month:"long"},sRt={month:"long",year:"numeric"},oRt={weekday:"short"},lRt={weekday:"long"},cRt={year:"numeric"},uRt=a0(iRt),hRt=a0(rRt),dRt=a0(aRt),PK=a0(sRt),fRt=a0(oRt),gRt=a0(lRt),ET=a0(cRt),pRt=UR[0],mRt=UR[5],SG=UR[6];function j_(n,t){t===void 0&&(t=_l.ISO_8601);var e=n.getDay();switch(t){case _l.ISO_8601:return(e+6)%7;case _l.ISLAMIC:return(e+1)%7;case _l.HEBREW:case _l.GREGORY:return e;default:throw new Error("Unsupported calendar type.")}}function yRt(n){var t=C1(n);return qa(t)}function vRt(n){var t=rv(n);return qa(t)}function yD(n,t){t===void 0&&(t=_l.ISO_8601);var e=qa(n),i=iv(n),r=n.getDate()-j_(n,t);return new Date(e,i,r)}function xRt(n,t){t===void 0&&(t=_l.ISO_8601);var e=t===_l.GREGORY?_l.GREGORY:_l.ISO_8601,i=yD(n,t),r=qa(n)+1,a,s;do a=new Date(r,0,e===_l.ISO_8601?4:1),s=yD(a,t),r-=1;while(n<s);return Math.round((i.getTime()-s.getTime())/(864e5*7))+1}function Nx(n,t){switch(n){case"century":return C1(t);case"decade":return rv(t);case"year":return A1(t);case"month":return r0(t);case"day":return DS(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function bRt(n,t){switch(n){case"century":return VLt(t);case"decade":return _K(t);case"year":return CK(t);case"month":return TK(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function EK(n,t){switch(n){case"century":return bK(t);case"decade":return FR(t);case"year":return BR(t);case"month":return GR(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function wRt(n,t){switch(n){case"decade":return _K(t,-100);case"year":return CK(t,-10);case"month":return TK(t,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function _Rt(n,t){switch(n){case"decade":return FR(t,100);case"year":return BR(t,10);case"month":return GR(t,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function jK(n,t){switch(n){case"century":return zR(t);case"decade":return NT(t);case"year":return PT(t);case"month":return jS(t);case"day":return WR(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function SRt(n,t){switch(n){case"century":return XLt(t);case"decade":return SK(t);case"year":return AK(t);case"month":return MK(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function kRt(n,t){switch(n){case"decade":return SK(t,-100);case"year":return AK(t,-10);case"month":return MK(t,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function kG(n,t){switch(n){case"century":return wK(t);case"decade":return kK(t);case"year":return qLt(t);case"month":return KLt(t);case"day":return JLt(t);default:throw new Error("Invalid rangeType: ".concat(n))}}function CRt(n,t,e){var i=[t,e].sort(function(r,a){return r.getTime()-a.getTime()});return[Nx(n,i[0]),jK(n,i[1])]}function DK(n,t,e){return e.map(function(i){return(t||ET)(n,i)}).join("  ")}function ARt(n,t,e){return DK(n,t,wK(e))}function OK(n,t,e){return DK(n,t,kK(e))}function TRt(n){return n.getDay()===new Date().getDay()}function LK(n,t){t===void 0&&(t=_l.ISO_8601);var e=n.getDay();switch(t){case _l.ISLAMIC:case _l.HEBREW:return e===mRt||e===SG;case _l.ISO_8601:case _l.GREGORY:return e===SG||e===pRt;default:throw new Error("Unsupported calendar type.")}}var ag="react-calendar__navigation";function MRt(n){var t=n.activeStartDate,e=n.drillUp,i=n.formatMonthYear,r=i===void 0?PK:i,a=n.formatYear,s=a===void 0?ET:a,o=n.locale,l=n.maxDate,c=n.minDate,h=n.navigationAriaLabel,d=h===void 0?"":h,g=n.navigationAriaLive,y=n.navigationLabel,x=n.next2AriaLabel,w=x===void 0?"":x,k=n.next2Label,A=k===void 0?"":k,T=n.nextAriaLabel,R=T===void 0?"":T,G=n.nextLabel,z=G===void 0?"":G,F=n.prev2AriaLabel,H=F===void 0?"":F,Y=n.prev2Label,J=Y===void 0?"":Y,nt=n.prevAriaLabel,V=nt===void 0?"":nt,Z=n.prevLabel,rt=Z===void 0?"":Z,lt=n.setActiveStartDate,mt=n.showDoubleView,ct=n.view,st=n.views,xt=st.indexOf(ct)>0,dt=ct!=="century",ht=bRt(ct,t),ot=dt?wRt(ct,t):void 0,vt=EK(ct,t),St=dt?_Rt(ct,t):void 0,Pt=(function(){if(ht.getFullYear()<0)return!0;var Te=SRt(ct,t);return c&&c>=Te})(),It=dt&&(function(){if(ot.getFullYear()<0)return!0;var Te=kRt(ct,t);return c&&c>=Te})(),Nt=l&&l<vt,Et=dt&&l&&l<St;function Yt(){lt(ht,"prev")}function Rt(){lt(ot,"prev2")}function ee(){lt(vt,"next")}function fe(){lt(St,"next2")}function Jt(Te){var qe=(function(){switch(ct){case"century":return ARt(o,s,Te);case"decade":return OK(o,s,Te);case"year":return s(o,Te);case"month":return r(o,Te);default:throw new Error("Invalid view: ".concat(ct,"."))}})();return y?y({date:Te,label:qe,locale:o||xK()||void 0,view:ct}):qe}function ue(){var Te="".concat(ag,"__label");return u.jsxs("button",{"aria-label":d,"aria-live":g,className:Te,disabled:!xt,onClick:e,style:{flexGrow:1},type:"button",children:[u.jsx("span",{className:"".concat(Te,"__labelText ").concat(Te,"__labelText--from"),children:Jt(t)}),mt?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"".concat(Te,"__divider"),children:"  "}),u.jsx("span",{className:"".concat(Te,"__labelText ").concat(Te,"__labelText--to"),children:Jt(vt)})]}):null]})}return u.jsxs("div",{className:ag,children:[J!==null&&dt?u.jsx("button",{"aria-label":H,className:"".concat(ag,"__arrow ").concat(ag,"__prev2-button"),disabled:It,onClick:Rt,type:"button",children:J}):null,rt!==null&&u.jsx("button",{"aria-label":V,className:"".concat(ag,"__arrow ").concat(ag,"__prev-button"),disabled:Pt,onClick:Yt,type:"button",children:rt}),ue(),z!==null&&u.jsx("button",{"aria-label":R,className:"".concat(ag,"__arrow ").concat(ag,"__next-button"),disabled:Nt,onClick:ee,type:"button",children:z}),A!==null&&dt?u.jsx("button",{"aria-label":w,className:"".concat(ag,"__arrow ").concat(ag,"__next2-button"),disabled:Et,onClick:fe,type:"button",children:A}):null]})}var bb=function(){return bb=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bb.apply(this,arguments)},NRt=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e};function CG(n){return"".concat(n,"%")}function YR(n){var t=n.children,e=n.className,i=n.count,r=n.direction,a=n.offset,s=n.style,o=n.wrap,l=NRt(n,["children","className","count","direction","offset","style","wrap"]);return u.jsx("div",bb({className:e,style:bb({display:"flex",flexDirection:r,flexWrap:o?"wrap":"nowrap"},s)},l,{children:N.Children.map(t,function(c,h){var d=a&&h===0?CG(100*a/i):null;return N.cloneElement(c,bb(bb({},c.props),{style:{flexBasis:CG(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))})}))}function PRt(n,t,e){return t&&t>n?t:e&&e<n?e:n}function D_(n,t){return t[0]<=n&&t[1]>=n}function ERt(n,t){return n[0]<=t[0]&&n[1]>=t[1]}function RK(n,t){return D_(n[0],t)||D_(n[1],t)}function AG(n,t,e){var i=RK(t,n),r=[];if(i){r.push(e);var a=D_(n[0],t),s=D_(n[1],t);a&&r.push("".concat(e,"Start")),s&&r.push("".concat(e,"End")),a&&s&&r.push("".concat(e,"BothEnds"))}return r}function jRt(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function DRt(n){if(!n)throw new Error("args is required");var t=n.value,e=n.date,i=n.hover,r="react-calendar__tile",a=[r];if(!e)return a;var s=new Date,o=(function(){if(Array.isArray(e))return e;var y=n.dateType;if(!y)throw new Error("dateType is required when date is not an array of two dates");return kG(y,e)})();if(D_(s,o)&&a.push("".concat(r,"--now")),!t||!jRt(t))return a;var l=(function(){if(Array.isArray(t))return t;var y=n.valueType;if(!y)throw new Error("valueType is required when value is not an array of two dates");return kG(y,t)})();ERt(l,o)?a.push("".concat(r,"--active")):RK(l,o)&&a.push("".concat(r,"--hasActive"));var c=AG(l,o,"".concat(r,"--range"));a.push.apply(a,c);var h=Array.isArray(t)?t:[t];if(i&&h.length===1){var d=i>l[0]?[l[0],i]:[i,l[0]],g=AG(d,o,"".concat(r,"--hover"));a.push.apply(a,g)}return a}function jT(n){for(var t=n.className,e=n.count,i=e===void 0?3:e,r=n.dateTransform,a=n.dateType,s=n.end,o=n.hover,l=n.offset,c=n.renderTile,h=n.start,d=n.step,g=d===void 0?1:d,y=n.value,x=n.valueType,w=[],k=h;k<=s;k+=g){var A=r(k);w.push(c({classes:DRt({date:A,dateType:a,hover:o,value:y,valueType:x}),date:A}))}return u.jsx(YR,{className:t,count:i,offset:l,wrap:!0,children:w})}function DT(n){var t=n.activeStartDate,e=n.children,i=n.classes,r=n.date,a=n.formatAbbr,s=n.locale,o=n.maxDate,l=n.maxDateTransform,c=n.minDate,h=n.minDateTransform,d=n.onClick,g=n.onMouseOver,y=n.style,x=n.tileClassName,w=n.tileContent,k=n.tileDisabled,A=n.view,T=N.useMemo(function(){var G={activeStartDate:t,date:r,view:A};return typeof x=="function"?x(G):x},[t,r,x,A]),R=N.useMemo(function(){var G={activeStartDate:t,date:r,view:A};return typeof w=="function"?w(G):w},[t,r,w,A]);return u.jsxs("button",{className:Vr(i,T),disabled:c&&h(c)>r||o&&l(o)<r||k?.({activeStartDate:t,date:r,view:A}),onClick:d?function(G){return d(r,G)}:void 0,onFocus:g?function(){return g(r)}:void 0,onMouseOver:g?function(){return g(r)}:void 0,style:y,type:"button",children:[a?u.jsx("abbr",{"aria-label":a(s,r),children:e}):e,R]})}var vD=function(){return vD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vD.apply(this,arguments)},ORt=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e},TG="react-calendar__century-view__decades__decade";function LRt(n){var t=n.classes,e=t===void 0?[]:t,i=n.currentCentury,r=n.formatYear,a=r===void 0?ET:r,s=ORt(n,["classes","currentCentury","formatYear"]),o=s.date,l=s.locale,c=[];return e&&c.push.apply(c,e),c.push(TG),C1(o).getFullYear()!==i&&c.push("".concat(TG,"--neighboringCentury")),u.jsx(DT,vD({},s,{classes:c,maxDateTransform:NT,minDateTransform:rv,view:"century",children:OK(l,a,o)}))}var xD=function(){return xD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xD.apply(this,arguments)},MG=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e};function RRt(n){var t=n.activeStartDate,e=n.hover,i=n.showNeighboringCentury,r=n.value,a=n.valueType,s=MG(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=yRt(t),l=o+(i?119:99);return u.jsx(jT,{className:"react-calendar__century-view__decades",dateTransform:rv,dateType:"decade",end:l,hover:e,renderTile:function(c){var h=c.date,d=MG(c,["date"]);return u.jsx(LRt,xD({},s,d,{activeStartDate:t,currentCentury:o,date:h}),h.getTime())},start:o,step:10,value:r,valueType:a})}var bD=function(){return bD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bD.apply(this,arguments)};function IRt(n){function t(){return u.jsx(RRt,bD({},n))}return u.jsx("div",{className:"react-calendar__century-view",children:t()})}var wD=function(){return wD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wD.apply(this,arguments)},zRt=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e},NG="react-calendar__decade-view__years__year";function FRt(n){var t=n.classes,e=t===void 0?[]:t,i=n.currentDecade,r=n.formatYear,a=r===void 0?ET:r,s=zRt(n,["classes","currentDecade","formatYear"]),o=s.date,l=s.locale,c=[];return e&&c.push.apply(c,e),c.push(NG),rv(o).getFullYear()!==i&&c.push("".concat(NG,"--neighboringDecade")),u.jsx(DT,wD({},s,{classes:c,maxDateTransform:PT,minDateTransform:A1,view:"decade",children:a(l,o)}))}var _D=function(){return _D=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_D.apply(this,arguments)},PG=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e};function BRt(n){var t=n.activeStartDate,e=n.hover,i=n.showNeighboringDecade,r=n.value,a=n.valueType,s=PG(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=vRt(t),l=o+(i?11:9);return u.jsx(jT,{className:"react-calendar__decade-view__years",dateTransform:A1,dateType:"year",end:l,hover:e,renderTile:function(c){var h=c.date,d=PG(c,["date"]);return u.jsx(FRt,_D({},s,d,{activeStartDate:t,currentDecade:o,date:h}),h.getTime())},start:o,value:r,valueType:a})}var SD=function(){return SD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SD.apply(this,arguments)};function HRt(n){function t(){return u.jsx(BRt,SD({},n))}return u.jsx("div",{className:"react-calendar__decade-view",children:t()})}var kD=function(){return kD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kD.apply(this,arguments)},GRt=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e},EG=function(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,a;i<r;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return n.concat(a||Array.prototype.slice.call(t))},WRt="react-calendar__year-view__months__month";function URt(n){var t=n.classes,e=t===void 0?[]:t,i=n.formatMonth,r=i===void 0?dRt:i,a=n.formatMonthYear,s=a===void 0?PK:a,o=GRt(n,["classes","formatMonth","formatMonthYear"]),l=o.date,c=o.locale;return u.jsx(DT,kD({},o,{classes:EG(EG([],e,!0),[WRt],!1),formatAbbr:s,maxDateTransform:jS,minDateTransform:r0,view:"year",children:r(c,l)}))}var CD=function(){return CD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CD.apply(this,arguments)},jG=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e};function YRt(n){var t=n.activeStartDate,e=n.hover,i=n.value,r=n.valueType,a=jG(n,["activeStartDate","hover","value","valueType"]),s=0,o=11,l=qa(t);return u.jsx(jT,{className:"react-calendar__year-view__months",dateTransform:function(c){var h=new Date;return h.setFullYear(l,c,1),r0(h)},dateType:"month",end:o,hover:e,renderTile:function(c){var h=c.date,d=jG(c,["date"]);return u.jsx(URt,CD({},a,d,{activeStartDate:t,date:h}),h.getTime())},start:s,value:i,valueType:r})}var AD=function(){return AD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AD.apply(this,arguments)};function $Rt(n){function t(){return u.jsx(YRt,AD({},n))}return u.jsx("div",{className:"react-calendar__year-view",children:t()})}var TD=function(){return TD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TD.apply(this,arguments)},VRt=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e},ZP="react-calendar__month-view__days__day";function XRt(n){var t=n.calendarType,e=n.classes,i=e===void 0?[]:e,r=n.currentMonthIndex,a=n.formatDay,s=a===void 0?uRt:a,o=n.formatLongDate,l=o===void 0?hRt:o,c=VRt(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),h=c.date,d=c.locale,g=[];return i&&g.push.apply(g,i),g.push(ZP),LK(h,t)&&g.push("".concat(ZP,"--weekend")),h.getMonth()!==r&&g.push("".concat(ZP,"--neighboringMonth")),u.jsx(DT,TD({},c,{classes:g,formatAbbr:l,maxDateTransform:WR,minDateTransform:DS,view:"month",children:s(d,h)}))}var MD=function(){return MD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},MD.apply(this,arguments)},DG=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e};function qRt(n){var t=n.activeStartDate,e=n.calendarType,i=n.hover,r=n.showFixedNumberOfWeeks,a=n.showNeighboringMonth,s=n.value,o=n.valueType,l=DG(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=qa(t),h=iv(t),d=r||a,g=j_(t,e),y=d?0:g,x=(d?-g:0)+1,w=(function(){if(r)return x+42-1;var k=NK(t);if(a){var A=new Date;A.setFullYear(c,h,k),A.setHours(0,0,0,0);var T=7-j_(A,e)-1;return k+T}return k})();return u.jsx(jT,{className:"react-calendar__month-view__days",count:7,dateTransform:function(k){var A=new Date;return A.setFullYear(c,h,k),DS(A)},dateType:"day",hover:i,end:w,renderTile:function(k){var A=k.date,T=DG(k,["date"]);return u.jsx(XRt,MD({},l,T,{activeStartDate:t,calendarType:e,currentMonthIndex:h,date:A}),A.getTime())},offset:y,start:x,value:s,valueType:o})}var IK="react-calendar__month-view__weekdays",QP="".concat(IK,"__weekday");function KRt(n){for(var t=n.calendarType,e=n.formatShortWeekday,i=e===void 0?fRt:e,r=n.formatWeekday,a=r===void 0?gRt:r,s=n.locale,o=n.onMouseLeave,l=new Date,c=r0(l),h=qa(c),d=iv(c),g=[],y=1;y<=7;y+=1){var x=new Date(h,d,y-j_(c,t)),w=a(s,x);g.push(u.jsx("div",{className:Vr(QP,TRt(x)&&"".concat(QP,"--current"),LK(x,t)&&"".concat(QP,"--weekend")),children:u.jsx("abbr",{"aria-label":w,title:w,children:i(s,x).replace(".","")})},y))}return u.jsx(YR,{className:IK,count:7,onFocus:o,onMouseOver:o,children:g})}var lA=function(){return lA=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lA.apply(this,arguments)},OG=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e},LG="react-calendar__tile";function ZRt(n){var t=n.onClickWeekNumber,e=n.weekNumber,i=u.jsx("span",{children:e});if(t){var r=n.date,a=n.onClickWeekNumber,s=n.weekNumber,o=OG(n,["date","onClickWeekNumber","weekNumber"]);return u.jsx("button",lA({},o,{className:LG,onClick:function(l){return a(s,r,l)},type:"button",children:i}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var o=OG(n,["date","onClickWeekNumber","weekNumber"]);return u.jsx("div",lA({},o,{className:LG,children:i}))}}function QRt(n){var t=n.activeStartDate,e=n.calendarType,i=n.onClickWeekNumber,r=n.onMouseLeave,a=n.showFixedNumberOfWeeks,s=(function(){if(a)return 6;var c=NK(t),h=j_(t,e),d=c-(7-h);return 1+Math.ceil(d/7)})(),o=(function(){for(var c=qa(t),h=iv(t),d=MT(t),g=[],y=0;y<s;y+=1)g.push(yD(new Date(c,h,d+y*7),e));return g})(),l=o.map(function(c){return xRt(c,e)});return u.jsx(YR,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:r,onMouseOver:r,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(c,h){var d=o[h];if(!d)throw new Error("date is not defined");return u.jsx(ZRt,{date:d,onClickWeekNumber:i,weekNumber:c},c)})})}var ND=function(){return ND=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ND.apply(this,arguments)},JRt=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e};function tIt(n){if(n)for(var t=0,e=Object.entries(tRt);t<e.length;t++){var i=e[t],r=i[0],a=i[1];if(a.includes(n))return r}return _l.ISO_8601}function eIt(n){var t=n.activeStartDate,e=n.locale,i=n.onMouseLeave,r=n.showFixedNumberOfWeeks,a=n.calendarType,s=a===void 0?tIt(e):a,o=n.formatShortWeekday,l=n.formatWeekday,c=n.onClickWeekNumber,h=n.showWeekNumbers,d=JRt(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return u.jsx(KRt,{calendarType:s,formatShortWeekday:o,formatWeekday:l,locale:e,onMouseLeave:i})}function y(){return h?u.jsx(QRt,{activeStartDate:t,calendarType:s,onClickWeekNumber:c,onMouseLeave:i,showFixedNumberOfWeeks:r}):null}function x(){return u.jsx(qRt,ND({calendarType:s},d))}var w="react-calendar__month-view";return u.jsx("div",{className:Vr(w,h?"".concat(w,"--weekNumbers"):""),children:u.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[y(),u.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[g(),x()]})]})})}var wb=function(){return wb=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wb.apply(this,arguments)},aC="react-calendar",DC=["century","decade","year","month"],nIt=["decade","year","month","day"],$R=new Date;$R.setFullYear(1,0,1);$R.setHours(0,0,0,0);var iIt=new Date(864e13);function Iw(n){return n instanceof Date?n:new Date(n)}function zK(n,t){return DC.slice(DC.indexOf(n),DC.indexOf(t)+1)}function rIt(n,t,e){var i=zK(t,e);return i.indexOf(n)!==-1}function VR(n,t,e){return n&&rIt(n,t,e)?n:e}function FK(n){var t=DC.indexOf(n);return nIt[t]}function aIt(n,t){var e=Array.isArray(n)?n[t]:n;if(!e)return null;var i=Iw(e);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(n));return i}function BK(n,t){var e=n.value,i=n.minDate,r=n.maxDate,a=n.maxDetail,s=aIt(e,t);if(!s)return null;var o=FK(a),l=(function(){switch(t){case 0:return Nx(o,s);case 1:return jK(o,s);default:throw new Error("Invalid index value: ".concat(t))}})();return PRt(l,i,r)}var XR=function(n){return BK(n,0)},HK=function(n){return BK(n,1)},sIt=function(n){return[XR,HK].map(function(t){return t(n)})};function GK(n){var t=n.maxDate,e=n.maxDetail,i=n.minDate,r=n.minDetail,a=n.value,s=n.view,o=VR(s,r,e),l=XR({value:a,minDate:i,maxDate:t,maxDetail:e})||new Date;return Nx(o,l)}function oIt(n){var t=n.activeStartDate,e=n.defaultActiveStartDate,i=n.defaultValue,r=n.defaultView,a=n.maxDate,s=n.maxDetail,o=n.minDate,l=n.minDetail,c=n.value,h=n.view,d=VR(h,l,s),g=t||e;return g?Nx(d,g):GK({maxDate:a,maxDetail:s,minDate:o,minDetail:l,value:c||i,view:h||r})}function JP(n){return n&&(!Array.isArray(n)||n.length===1)}function sC(n,t){return n instanceof Date&&t instanceof Date&&n.getTime()===t.getTime()}var lIt=N.forwardRef(function(t,e){var i=t.activeStartDate,r=t.allowPartialRange,a=t.calendarType,s=t.className,o=t.defaultActiveStartDate,l=t.defaultValue,c=t.defaultView,h=t.formatDay,d=t.formatLongDate,g=t.formatMonth,y=t.formatMonthYear,x=t.formatShortWeekday,w=t.formatWeekday,k=t.formatYear,A=t.goToRangeStartOnSelect,T=A===void 0?!0:A,R=t.inputRef,G=t.locale,z=t.maxDate,F=z===void 0?iIt:z,H=t.maxDetail,Y=H===void 0?"month":H,J=t.minDate,nt=J===void 0?$R:J,V=t.minDetail,Z=V===void 0?"century":V,rt=t.navigationAriaLabel,lt=t.navigationAriaLive,mt=t.navigationLabel,ct=t.next2AriaLabel,st=t.next2Label,xt=t.nextAriaLabel,dt=t.nextLabel,ht=t.onActiveStartDateChange,ot=t.onChange,vt=t.onClickDay,St=t.onClickDecade,Pt=t.onClickMonth,It=t.onClickWeekNumber,Nt=t.onClickYear,Et=t.onDrillDown,Yt=t.onDrillUp,Rt=t.onViewChange,ee=t.prev2AriaLabel,fe=t.prev2Label,Jt=t.prevAriaLabel,ue=t.prevLabel,Te=t.returnValue,qe=Te===void 0?"start":Te,on=t.selectRange,He=t.showDoubleView,mi=t.showFixedNumberOfWeeks,Si=t.showNavigation,li=Si===void 0?!0:Si,Xe=t.showNeighboringCentury,Ei=t.showNeighboringDecade,Ke=t.showNeighboringMonth,dn=Ke===void 0?!0:Ke,Jn=t.showWeekNumbers,ki=t.tileClassName,$n=t.tileContent,ti=t.tileDisabled,be=t.value,cn=t.view,tn=N.useState(o),On=tn[0],un=tn[1],kn=N.useState(null),Dn=kn[0],Bn=kn[1],_r=N.useState(Array.isArray(l)?l.map(function(gn){return gn!==null?Iw(gn):null}):l!=null?Iw(l):null),or=_r[0],as=_r[1],tr=N.useState(c),_a=tr[0],Cr=tr[1],ei=i||On||oIt({activeStartDate:i,defaultActiveStartDate:o,defaultValue:l,defaultView:c,maxDate:F,maxDetail:Y,minDate:nt,minDetail:Z,value:be,view:cn}),er=(function(){var gn=(function(){return on&&JP(or)?or:be!==void 0?be:or})();return gn?Array.isArray(gn)?gn.map(function(Di){return Di!==null?Iw(Di):null}):gn!==null?Iw(gn):null:null})(),ji=FK(Y),vn=VR(cn||_a,Z,Y),Vn=zK(Z,Y),nn=on?Dn:null,We=Vn.indexOf(vn)<Vn.length-1,Kr=Vn.indexOf(vn)>0,re=N.useCallback(function(gn){var Di=(function(){switch(qe){case"start":return XR;case"end":return HK;case"range":return sIt;default:throw new Error("Invalid returnValue.")}})();return Di({maxDate:F,maxDetail:Y,minDate:nt,value:gn})},[F,Y,nt,qe]),ve=N.useCallback(function(gn,Di){un(gn);var Oi={action:Di,activeStartDate:gn,value:er,view:vn};ht&&!sC(ei,gn)&&ht(Oi)},[ei,ht,er,vn]),ze=N.useCallback(function(gn,Di){var Oi=(function(){switch(vn){case"century":return St;case"decade":return Nt;case"year":return Pt;case"month":return vt;default:throw new Error("Invalid view: ".concat(vn,"."))}})();Oi&&Oi(gn,Di)},[vt,St,Pt,Nt,vn]),Pe=N.useCallback(function(gn,Di){if(We){ze(gn,Di);var Oi=Vn[Vn.indexOf(vn)+1];if(!Oi)throw new Error("Attempted to drill down from the lowest view.");un(gn),Cr(Oi);var ni={action:"drillDown",activeStartDate:gn,value:er,view:Oi};ht&&!sC(ei,gn)&&ht(ni),Rt&&vn!==Oi&&Rt(ni),Et&&Et(ni)}},[ei,We,ht,ze,Et,Rt,er,vn,Vn]),Ee=N.useCallback(function(){if(Kr){var gn=Vn[Vn.indexOf(vn)-1];if(!gn)throw new Error("Attempted to drill up from the highest view.");var Di=Nx(gn,ei);un(Di),Cr(gn);var Oi={action:"drillUp",activeStartDate:Di,value:er,view:gn};ht&&!sC(ei,Di)&&ht(Oi),Rt&&vn!==gn&&Rt(Oi),Yt&&Yt(Oi)}},[ei,Kr,ht,Yt,Rt,er,vn,Vn]),Ui=N.useCallback(function(gn,Di){var Oi=er;ze(gn,Di);var ni=on&&!JP(Oi),vr;if(on)if(ni)vr=Nx(ji,gn);else{if(!Oi)throw new Error("previousValue is required");if(Array.isArray(Oi))throw new Error("previousValue must not be an array");vr=CRt(ji,Oi,gn)}else vr=re(gn);var xs=!on||ni||T?GK({maxDate:F,maxDetail:Y,minDate:nt,minDetail:Z,value:vr,view:vn}):null;Di.persist(),un(xs),as(vr);var ss={action:"onChange",activeStartDate:xs,value:vr,view:vn};if(ht&&!sC(ei,xs)&&ht(ss),ot)if(on){var os=JP(vr);if(!os)ot(vr||null,Di);else if(r){if(Array.isArray(vr))throw new Error("value must not be an array");ot([vr||null,null],Di)}}else ot(vr||null,Di)},[ei,r,re,T,F,Y,nt,Z,ht,ot,ze,on,er,ji,vn]);function Zr(gn){Bn(gn)}function nr(){Bn(null)}N.useImperativeHandle(e,function(){return{activeStartDate:ei,drillDown:Pe,drillUp:Ee,onChange:Ui,setActiveStartDate:ve,value:er,view:vn}},[ei,Pe,Ee,Ui,ve,er,vn]);function Hn(gn){var Di=gn?EK(vn,ei):Nx(vn,ei),Oi=We?Pe:Ui,ni={activeStartDate:Di,hover:nn,locale:G,maxDate:F,minDate:nt,onClick:Oi,onMouseOver:on?Zr:void 0,tileClassName:ki,tileContent:$n,tileDisabled:ti,value:er,valueType:ji};switch(vn){case"century":return u.jsx(IRt,wb({formatYear:k,showNeighboringCentury:Xe},ni));case"decade":return u.jsx(HRt,wb({formatYear:k,showNeighboringDecade:Ei},ni));case"year":return u.jsx($Rt,wb({formatMonth:g,formatMonthYear:y},ni));case"month":return u.jsx(eIt,wb({calendarType:a,formatDay:h,formatLongDate:d,formatShortWeekday:x,formatWeekday:w,onClickWeekNumber:It,onMouseLeave:on?nr:void 0,showFixedNumberOfWeeks:typeof mi<"u"?mi:He,showNeighboringMonth:dn,showWeekNumbers:Jn},ni));default:throw new Error("Invalid view: ".concat(vn,"."))}}function yi(){return li?u.jsx(MRt,{activeStartDate:ei,drillUp:Ee,formatMonthYear:y,formatYear:k,locale:G,maxDate:F,minDate:nt,navigationAriaLabel:rt,navigationAriaLive:lt,navigationLabel:mt,next2AriaLabel:ct,next2Label:st,nextAriaLabel:xt,nextLabel:dt,prev2AriaLabel:ee,prev2Label:fe,prevAriaLabel:Jt,prevLabel:ue,setActiveStartDate:ve,showDoubleView:He,view:vn,views:Vn}):null}var ci=Array.isArray(er)?er:[er];return u.jsxs("div",{className:Vr(aC,on&&ci.length===1&&"".concat(aC,"--selectRange"),He&&"".concat(aC,"--doubleView"),s),ref:R,children:[yi(),u.jsxs("div",{className:"".concat(aC,"__viewContainer"),onBlur:on?nr:void 0,onMouseLeave:on?nr:void 0,children:[Hn(),He?Hn(!0):null]})]})});const cIt=({selected:n,onChange:t,maxDate:e,minDate:i})=>{const[r,a]=N.useState(!1),s=N.useRef(null),o=l=>{t&&t(l),a(!1)};return N.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&a(!1)};return r&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[r]),u.jsxs("div",{className:"date-picker-wrapper",ref:s,children:[u.jsx("button",{type:"button",className:"date-picker-input",onClick:()=>a(!r),children:n?n.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"Chn ngy"}),r&&u.jsx("div",{className:"calendar-popup",children:u.jsx(lIt,{onChange:o,value:n,maxDate:e,minDate:i,className:"exchange-rate-calendar"})})]})},uIt=({exchangeRates:n,previousRates:t})=>{if(!n||Object.keys(n).length===0)return u.jsx("div",{className:"exchange-rate-table-empty",children:u.jsx("p",{children:"Khng c d liu t gi cho ngy ny"})});const e=(a,s)=>{if(!t||!t[a])return{buyChange:null,sellChange:null};const o=t[a],l=s.buy!==null&&o.buy!==null?s.buy-o.buy:null,c=s.sell!==null&&o.sell!==null?s.sell-o.sell:null;return{buyChange:l,sellChange:c}},i=a=>a==null?null:a>0?u.jsx("span",{className:"change-icon up",children:""}):a<0?u.jsx("span",{className:"change-icon down",children:""}):u.jsx("span",{className:"change-icon neutral",children:""}),r=Object.keys(n).sort((a,s)=>a==="USD"?-1:s==="USD"?1:a==="USD_TUDO"?-1:s==="USD_TUDO"?1:a.localeCompare(s));return u.jsxs("div",{className:"exchange-rate-table-card",children:[u.jsx("div",{className:"table-header",children:u.jsx("h2",{className:"table-title",children:"T Gi Ngoi T"})}),u.jsx("div",{className:"table-wrapper",children:u.jsxs("table",{className:"exchange-rate-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"M NT & Quc K"}),u.jsx("th",{children:"Tn Ngoi T"}),u.jsx("th",{children:"Mua Vo"}),u.jsx("th",{children:"Bn Ra"}),u.jsx("th",{children:"Thay i"})]})}),u.jsx("tbody",{children:r.map(a=>{const s=n[a],{buyChange:o,sellChange:l}=e(a,s),c=l;return u.jsxs("tr",{children:[u.jsx("td",{className:"currency-code-cell",children:u.jsxs("div",{className:"currency-flag-wrapper",children:[EMt(a,24),u.jsx("span",{className:"currency-code",children:a})]})}),u.jsx("td",{className:"currency-name",children:mR(a)}),u.jsx("td",{className:"price-buy",children:s.buy!==null?uf(s.buy):"N/A"}),u.jsx("td",{className:"price-sell",children:s.sell!==null?uf(s.sell):"N/A"}),u.jsx("td",{className:"price-change",children:c!=null?u.jsxs("div",{className:"change-wrapper",children:[i(c),u.jsx("span",{className:`change-value ${c>0?"up":c<0?"down":"neutral"}`,children:uf(Math.abs(c))})]}):u.jsx("span",{className:"change-na",children:"-"})})]},a)})})]})})]})};gi.register(qr,Ji,pa,Xr,Xo,Qi,sr,vf);const hIt=({data:n,selectedCurrency:t="USD"})=>{const[e,i]=N.useState(t),[r,a]=N.useState(30),s=N.useMemo(()=>{const h=jMt(n,r);return!h||Object.keys(h).length===0?n||{}:h},[n,r]),o=N.useMemo(()=>{if(!s||Object.keys(s).length===0){if(!n||Object.keys(n).length===0)return null;const x=Object.keys(n).sort(),w=x.map(T=>{const[R,G,z]=T.split("-");return`${z}/${G}/${R}`}),k=x.map(T=>{const R=n[T]?.[e];return R?.buy!==null&&R?.buy!==void 0?R.buy:null}),A=x.map(T=>{const R=n[T]?.[e];return R?.sell!==null&&R?.sell!==void 0?R.sell:null});return{labels:w,datasets:[{label:"Mua vo",data:k,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Bn ra",data:A,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]}}const h=Object.keys(s).sort(),d=h.map(x=>{const[w,k,A]=x.split("-");return`${A}/${k}/${w}`}),g=h.map(x=>{const w=s[x]?.[e];return w?.buy!==null&&w?.buy!==void 0?w.buy:null}),y=h.map(x=>{const w=s[x]?.[e];return w?.sell!==null&&w?.sell!==void 0?w.sell:null});return{labels:d,datasets:[{label:"Mua Vo",data:g,borderColor:"#00C26F",backgroundColor:x=>{const k=x.chart.ctx.createLinearGradient(0,0,0,300);return k.addColorStop(0,"rgba(0, 194, 111, 0.3)"),k.addColorStop(1,"rgba(0, 194, 111, 0)"),k},borderWidth:2,fill:!0,tension:.4,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:"#00C26F",pointBorderColor:"#1E293B",pointBorderWidth:2},{label:"Bn Ra",data:y,borderColor:"#FF4D4D",backgroundColor:x=>{const k=x.chart.ctx.createLinearGradient(0,0,0,300);return k.addColorStop(0,"rgba(255, 77, 77, 0.3)"),k.addColorStop(1,"rgba(255, 77, 77, 0)"),k},borderWidth:2,fill:!0,tension:.4,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:"#FF4D4D",pointBorderColor:"#1E293B",pointBorderWidth:2}]}},[s,e]),l=N.useMemo(()=>{if(!n||Object.keys(n).length===0)return[];const h=new Set;return Object.values(n).forEach(d=>{Object.keys(d).forEach(g=>h.add(g))}),Array.from(h).sort()},[n]),c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:"#f8fafc",font:{size:12,weight:600},padding:15,usePointStyle:!0}},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#FFF",padding:12,displayColors:!0,callbacks:{title:h=>{const d=h[0].dataIndex,y=Object.keys(s).sort()[d],[x,w,k]=y.split("-");return`Ngy: ${k}/${w}/${x}`},label:h=>{const d=h.parsed.y;return d===null?`${h.dataset.label}: N/A`:`${h.dataset.label}: ${uf(d)} VN`}}}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",maxRotation:45,minRotation:0}},y:{grid:{color:"rgba(255, 255, 255, 0.1)",drawBorder:!1},ticks:{color:"#94A3B8",callback:h=>uf(h)}}},interaction:{intersect:!1,mode:"index"}};return o?u.jsxs("div",{className:"exchange-rate-chart-card",children:[u.jsxs("div",{className:"chart-header",children:[u.jsx("h3",{className:"chart-title",children:"Biu  Lch S T Gi"}),u.jsxs("div",{className:"chart-controls",children:[u.jsx("select",{className:"currency-select",value:e,onChange:h=>i(h.target.value),children:l.map(h=>u.jsxs("option",{value:h,children:[h," - ",mR(h)]},h))}),u.jsxs("div",{className:"time-range-buttons",children:[u.jsx("button",{className:`time-range-btn ${r===7?"active":""}`,onClick:()=>a(7),children:"7 ngy"}),u.jsx("button",{className:`time-range-btn ${r===30?"active":""}`,onClick:()=>a(30),children:"30 ngy"}),u.jsx("button",{className:`time-range-btn ${r===90?"active":""}`,onClick:()=>a(90),children:"3 thng"}),u.jsx("button",{className:`time-range-btn ${r===365?"active":""}`,onClick:()=>a(365),children:"1 nm"}),u.jsx("button",{className:`time-range-btn ${r===365*2?"active":""}`,onClick:()=>a(365*2),children:"2 nm"}),u.jsx("button",{className:`time-range-btn ${r===365*3?"active":""}`,onClick:()=>a(365*3),children:"3 nm"}),u.jsx("button",{className:`time-range-btn ${r===365*4?"active":""}`,onClick:()=>a(365*4),children:"4 nm"}),u.jsx("button",{className:`time-range-btn ${r===365*5?"active":""}`,onClick:()=>a(365*5),children:"5 nm"}),u.jsx("button",{className:`time-range-btn ${r===365*10?"active":""}`,onClick:()=>a(365*10),children:"10 nm"}),u.jsx("button",{className:`time-range-btn ${r===365*100?"active":""}`,onClick:()=>a(365*100),children:"Tt c"})]})]})]}),u.jsx("div",{className:"chart-container",children:u.jsx(hf,{data:o,options:c})})]}):u.jsxs("div",{className:"exchange-rate-chart-card",children:[u.jsx("div",{className:"chart-header",children:u.jsx("h3",{className:"chart-title",children:"Biu  Lch S T Gi"})}),u.jsx("div",{className:"chart-container",children:u.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",padding:"2rem"},children:"ang ti d liu..."})})]})},dIt=({usdRate:n,previousUsdRate:t})=>{if(!n)return u.jsxs("div",{className:"usd-highlight-box",children:[u.jsx("div",{className:"usd-box-header",children:u.jsx("h3",{children:"Gi USD T Do"})}),u.jsx("div",{className:"usd-box-content",children:u.jsx("p",{className:"no-data",children:"Khng c d liu"})})]});const e=t?WMt(n,t):{sellChange:null,sellPercent:null},i=e.sellChange,r=e.sellPercent,a=()=>{if(i==null)return null;const s=i>0,o=i<0;return u.jsxs("div",{className:`change-display ${s?"up":o?"down":"neutral"}`,children:[u.jsx("span",{className:"change-icon",children:s?"":o?"":""}),u.jsx("span",{className:"change-value",children:uf(Math.abs(i))}),r!==null&&u.jsxs("span",{className:"change-percent",children:["(",r,"%)"]})]})};return u.jsxs("div",{className:"usd-highlight-box",children:[u.jsx("div",{className:"usd-box-header",children:u.jsx("h3",{children:"Gi USD T Do"})}),u.jsxs("div",{className:"usd-box-content",children:[u.jsxs("div",{className:"usd-price-row",children:[u.jsx("div",{className:"price-label",children:"Mua Vo:"}),u.jsx("div",{className:"price-value",children:n.buy!==null?uf(n.buy):"N/A"})]}),u.jsxs("div",{className:"usd-price-row",children:[u.jsx("div",{className:"price-label",children:"Bn Ra:"}),u.jsx("div",{className:"price-value",children:n.sell!==null?uf(n.sell):"N/A"}),a()]})]})]})},fIt=({data:n,count:t=7})=>{const e=OMt(n,t);if(e.length===0)return null;const i=r=>{const[a,s,o]=r.split("-");return`${o}/${s}/${a}`};return u.jsxs("div",{className:"recent-dates-list",children:[u.jsx("h3",{className:"recent-dates-title",children:"Lch S Tra Cu"}),u.jsx("div",{className:"recent-dates-items",children:e.map(r=>{const a=K7(r);return u.jsx(dd,{to:`/ty-gia/${a}`,className:"recent-date-item",children:i(r)},r)})})]})},RG=()=>{const n=Gi(),t=no(),e=rc(),{processedData:i,loading:r,error:a,getRateByDate:s,getLatestDate:o,getPreviousRate:l}=Z7();N.useEffect(()=>{if(!t.pathname.startsWith("/ty-gia")){n("/ty-gia",{replace:!0});return}},[t.pathname,n]),N.useEffect(()=>{(async()=>await qo("Mn hnh ExchangeRatePage.jsx"))()},[]);const c=N.useMemo(()=>{if(e.date){const F=DMt(e.date),H=Pw(F,"yyyy-MM-dd",new Date);return aO(H)?H:new Date}return new Date},[e.date]),[h,d]=N.useState(c);N.useEffect(()=>{d(c)},[c]);const g=N.useMemo(()=>gb(h,"yyyy-MM-dd"),[h]),y=N.useMemo(()=>o(),[o]),x=N.useMemo(()=>s(g),[g,s]),w=N.useMemo(()=>x!==null&&Object.keys(x).length>0,[x]),k=N.useMemo(()=>w?l(g):null,[g,w,l]),A=N.useMemo(()=>w&&(x?.USD_TUDO||x?.USD)||null,[x,w]),T=N.useMemo(()=>w&&(k?.USD_TUDO||k?.USD)||null,[k,w]),R=F=>{if(!F)return;d(F);const H=K7(gb(F,"yyyy-MM-dd"));n(`/ty-gia/${H}`,{replace:!1})},G=new Date,z=N.useMemo(()=>{if(!i||Object.keys(i).length===0)return null;const F=Object.keys(i).sort();return F.length===0?null:Pw(F[0],"yyyy-MM-dd",new Date)},[i]);return r?u.jsx("div",{className:"exchange-rate-page",children:u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti d liu t gi..."})]})}):a?u.jsx("div",{className:"exchange-rate-page",children:u.jsxs("div",{className:"error-container",children:[u.jsxs("p",{className:"error-message",children:[" ",a]}),u.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]})}):u.jsxs("div",{className:"exchange-rate-page",children:[u.jsx("div",{className:"page-header",children:u.jsx("h1",{className:"page-title",children:"T Gi Ngoi T"})}),u.jsx("div",{className:"date-filter-section",children:u.jsxs("div",{className:"date-picker-container",children:[u.jsx("label",{className:"date-picker-label",children:"Chn ngy:"}),u.jsx(cIt,{selected:h,onChange:R,maxDate:G,minDate:z})]})}),!w&&y&&u.jsxs("div",{className:"no-data-notification",children:[u.jsxs("p",{className:"no-data-message",children:[" D liu ngy ",u.jsx("strong",{children:gb(h,"dd/MM/yyyy")})," khng c."]}),u.jsxs("p",{className:"latest-data-info",children:["D liu ch c n ngy ",u.jsx("strong",{children:gb(Pw(y,"yyyy-MM-dd",new Date),"dd/MM/yyyy")}),"."]}),u.jsx("button",{className:"go-to-latest-btn",onClick:()=>{const F=Pw(y,"yyyy-MM-dd",new Date);R(F)},children:"Chuyn n ngy c d liu mi nht"})]}),w&&u.jsxs("div",{className:"main-content-grid",children:[u.jsx("div",{className:"table-section",children:u.jsx(uIt,{exchangeRates:x,previousRates:k})}),u.jsxs("div",{className:"chart-section",children:[u.jsx(dIt,{usdRate:A,previousUsdRate:T}),u.jsx(hIt,{data:i,selectedCurrency:"USD"})]})]}),u.jsx(fIt,{data:i,count:7})]})},gIt=n=>{const[t,e]=N.useState([]),[i,r]=N.useState(!0),[a,s]=N.useState(null),[o,l]=N.useState({loaded:0,total:0});N.useEffect(()=>{let g=!1;return(async()=>{try{r(!0),e([]),s(null),l({loaded:0,total:20}),await mut((x,w,k)=>{g||(l({loaded:w,total:k}),e(A=>{const T=x.site||x.name;return A.find(G=>(G.site||G.name)===T)?A:[...A,x]}))}),g||s(null)}catch(x){g||(console.error("Error loading gold prices:",x),s("Khng th ti d liu gi vng. Vui lng th li sau."))}finally{g||r(!1)}})(),()=>{g=!0}},[]);const c=N.useMemo(()=>{let g=t;n.region&&(n.region==="vietnam"?g=t.filter(T=>T.quoc_gia==="Vietnam"||T.quoc_gia==="Vit Nam"||!T.quoc_gia):n.region==="international"&&(g=t.filter(T=>T.quoc_gia&&T.quoc_gia!=="Vietnam"&&T.quoc_gia!=="Vit Nam")));let y=g;n.country&&n.country!=="all"&&(y=g.filter(T=>T.quoc_gia===n.country));const x=y.map(T=>({...T,items:T.items.filter(R=>{const G=R.TYPE?.toUpperCase();return n.type==="gold"?G==="VANG"||G==="GOLD":n.type==="silver"?G==="BAC"||G==="SILVER":!0})})).filter(T=>T.items.length>0),w=T=>{const R=n.type==="silver"?"1KG_BAC_999":"9999";return T.items.find(G=>G.purity===R)||null};if(!n.sortBy)return x;const k=n.sortOrder==="asc"?1:-1;return[...x].sort((T,R)=>{if(n.sortBy==="reputation"){const Y=Number(T.do_uy_tin??0),J=Number(R.do_uy_tin??0);return Y-J}if(n.sortBy==="spread"){const Y=w(T),J=w(R);if(!Y&&!J)return 0;if(!Y)return 1;if(!J)return-1;const nt=(Y.sell??0)-(Y.buy??0),V=(J.sell??0)-(J.buy??0);return(nt-V)*k}const G=w(T),z=w(R);if(!G&&!z)return 0;if(!G)return 1;if(!z)return-1;const F=n.sortBy==="buyPrice"?G.buy:G.sell,H=n.sortBy==="buyPrice"?z.buy:z.sell;return F==null&&H==null?0:F==null?1:H==null?-1:(F-H)*k})},[t,n]),h=N.useMemo(()=>yut(t),[t]),d=N.useMemo(()=>{const g=new Set;return t.forEach(y=>{y.quoc_gia&&g.add(y.quoc_gia)}),Array.from(g).sort()},[t]);return{loading:i,error:a,displayedPrices:c,lastUpdated:h,loadingProgress:o,availableCountries:d}},pIt=()=>u.jsxs("div",{className:"article-container",children:[u.jsx("button",{className:"back-btn",onClick:()=>window.history.back(),children:" Quay li"}),u.jsx("h1",{className:"article-title",children:" T l Vng / Bc (GoldSilver Ratio)"}),u.jsx("p",{className:"article-lead",children:"T l vng/bc l mt thc o quan trng trong u t kim loi qu. N cho thy cn bao nhiu ounce bc  mua 1 ounce vng."}),u.jsxs("section",{children:[u.jsx("h2",{children:" Tm quan trng ca t l"}),u.jsxs("p",{children:["Trong lch s, t l vng/bc dao ng ch yu trong khong",u.jsx("span",{className:"stat-highlight",children:" 50:1  80:1"}),". Khi t l i qu xa vng ny, th trng thng phn nh s nh gi lch gia vng v bc."]}),u.jsxs("div",{className:"info-box",children:[u.jsx("b",{children:" Ngng quan trng:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("span",{className:"stat-highlight",children:"T l > 90:1"}),"  Vng b nh gi qu cao hoc bc r."]}),u.jsxs("li",{children:[u.jsx("span",{className:"stat-highlight",children:"T l < 50:1"}),"  Bc t hoc vng r."]})]})]}),u.jsx("blockquote",{className:"quote",children:" Khi t l qu cao: thng bn vng / mua bc.  Khi t l qu thp: thng mua vng."})]}),u.jsxs("section",{children:[u.jsx("h2",{children:" T l hin ti & tm l th trng"}),u.jsxs("p",{children:["Tnh n thng 5 nm 2025, t l t",u.jsx("span",{className:"stat-highlight",children:" 99.7"}),", cao hn khong 30% so vi trung bnh 12 thng trc ( tng chm 73)."]}),u.jsxs("p",{children:["Mt ng lc chnh y t l tng l chnh sch thu quan leo thang ca M i vi nhiu cng quc, trong mt s trng hp vt qu ",u.jsx("b",{children:"100%"}),". iu ny khin vng tr thnh ni tr n, tng t bin t u 2024  t nh lch s vo 4/2025."]})]}),u.jsxs("section",{children:[u.jsx("h2",{children:" V sao bc tng chm hn vng?"}),u.jsxs("div",{className:"card-grid",children:[u.jsx(tE,{title:" Kim loi cng nghip",content:"Bc c s dng nhiu trong in t, pin, PV  khin n b nhn nhn thin v kim loi cng nghip hn l ti sn tr n."}),u.jsx(tE,{title:" Lu tr kh",content:"1kg vng c th ct gn, nhng bc tng ng phi dng kt ngn hng."}),u.jsx(tE,{title:" Bin ng mnh",content:"Bc c th tng/gim nhiu % ch trong vi tun  khng hp vi nh u t an ton."})]})]}),u.jsxs("section",{children:[u.jsx("h2",{children:" Hiu sut lch s 5 nm"}),u.jsx(oC,{number:"11/08/2020  68.47",title:"Sau nh COVID",color:"green",content:"Bc tng mnh cui 2020 trong khi vng chng  thu hp t l."}),u.jsx(oC,{number:"01/02/2021  63.13",title:"Mc thp nht 5 nm",color:"green",content:"Vng suy yu, bc phc hi  t l chm y."}),u.jsx(oC,{number:"0809/2022  ~95.8",title:"nh trung k",color:"red",content:"Bc lao dc nhanh hn vng  t l tng."}),u.jsx(oC,{number:"29/05/2024  73.07",title:"Ln gim him",color:"blue",content:"Mt trong nhng vng cn bng nht ca th trng."})]})]}),tE=({title:n,content:t})=>u.jsxs("div",{className:"app-card",children:[u.jsx("h4",{children:n}),u.jsx("p",{children:t})]}),oC=({number:n,title:t,content:e,color:i})=>u.jsxs("div",{className:`factor-card ${i}`,children:[u.jsx("div",{className:"factor-number",children:n}),u.jsxs("div",{children:[u.jsx("h4",{children:t}),u.jsx("p",{children:e})]})]});gi.register(qr,Ji,Fa,Xr,pa,Qi,sr,dh);function mIt(){const[n,t]=N.useState(null),[e,i]=N.useState(null),[r,a]=N.useState(null),s=rc(),{day:o,month:l,year:c,hour:h,minute:d}=s;return N.useEffect(()=>{(async()=>{try{const y=i1(o,l,c,h,d);if(!y){console.warn("SPDRGold: invalid parameters for getVang247FileUrl",{day:o,month:l,year:c,hour:h,minute:d});return}const x=await fetch(y);if(!x.ok){console.warn("SPDRGold: fetch returned non-ok status",x.status);return}const w=await x.json();if(w.status==="success"){const k=w?.data?.bieudo?.[3]?.data||[];k[0]?.status===1&&t(k[0]),k[1]?.status===1&&i(k[1]),k[3]?.status===1&&k[2]?.status===1&&a({dataMonth:k[3],dataWeek:k[2]})}}catch(y){console.error("SPDRGold load error",y)}})(),(async()=>await qo("Mn hnh SPDR.jsx"))()},[]),u.jsxs("div",{children:[n&&u.jsx(Q7,{dataGoldTrust:n,urlParams:s}),e&&u.jsx(J7,{dataSilverTrust:e,urlParams:s})]})}const yIt={"Ch s kinh t":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/interest-rate&s=fdtr","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/gdp-growth&s=gdp+cqoq","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/crude-oil-stocks-change&s=unitedstacruoilstoch","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/api-crude-oil-stock-change&s=apicrudeoil","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/crude-oil-rigs&s=usoilrigs"],"Ch s lm pht":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/inflation-cpi&s=cpi+yoy","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/core-inflation-rate&s=usacorecpirate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/inflation-rate-mom&s=unitedstainfratmom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstapropricha&ref=/united-states/producer-prices-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/core-producer-prices-yoy&s=usacppy","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/producer-price-inflation-mom&s=usappim","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&ref=/united-states/pce-price-index-annual-change&s=usappiac","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usacppiac&ref=/united-states/core-pce-price-index-annual-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usacppim&ref=/united-states/core-pce-price-index-mom"],"Sn xut":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstamanpmi&ref=/united-states/manufacturing-pmi","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=napmpmi&ref=/united-states/business-confidence","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaindpromom&ref=/united-states/industrial-production-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usampmom&ref=/united-states/manufacturing-production-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstacaputi&ref=/united-states/capacity-utilization"],"Vic lm v ngi lao ng":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaadpempcha&ref=/united-states/adp-employment-change","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstajoboff&ref=/united-states/job-offers","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=nfp+tch&ref=/united-states/non-farm-payrolls","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usurtot&ref=/united-states/unemployment-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=ijcusa&ref=/united-states/jobless-claims","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstalabforparra&ref=/united-states/labor-force-participation-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaavehouear&ref=/united-states/average-hourly-earnings","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaahey&ref=/united-states/average-hourly-earnings-yoy"],"Ngi tiu dng v khch hng":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaperinc&ref=/united-states/personal-income","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabanlenrat&ref=/united-states/bank-lending-rate","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstapersav&ref=/united-states/personal-savings","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usamce&ref=/united-states/michigan-consumer-expectations","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstaperspe&ref=/united-states/personal-spending","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=concconf&ref=/united-states/consumer-confidence"],"Nhp khu v xut khu":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=tbextot&ref=/united-states/exports","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=tbimtot&ref=/united-states/imports","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=ustbtot&ref=/united-states/balance-of-trade","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaepm&ref=/united-states/export-prices-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=usaipm&ref=/united-states/import-prices-mom","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=rstamom&ref=/united-states/retail-sales","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabusinv&ref=/united-states/business-inventories"],"Bt ng sn v thu nh":["https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstabuiper&ref=/united-states/building-permits","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstahousta&ref=/united-states/housing-starts","https://tradingeconomics.com/embed/?h=300&w=600&time=27:11:25-06:36:07&s=unitedstanewhomsal&ref=/united-states/new-home-sales"]},vIt={"Ch s kinh t":["Li Sut Tch Ly","GDP - S Liu Thc T c Cng B","Tr Lng Du Th EIA","D Tr Du Th API","S Gin Khoan Du Th"],"Ch s lm pht":["CPI - Lm Pht Tiu Dng Theo Nm","CPI Li - Lm Pht Tiu Dng Li Theo Nm","CPI - Lm Pht Tiu Dng Theo Thng","PPI - Lm Pht Gi Sn Xut Theo Nm","PPI Li - Lm Pht Gi Sn Xut Li Theo Nm","PPI - Lm Pht Gi Sn Xut Theo Thng","PCE - Lm Pht Chi Tiu C Nhn Theo Nm","PCE Li - Lm Pht Chi Tiu C Nhn Li Theo Nm","PCE Li - Lm Pht Chi Tiu C Nhn Li Theo Thng"],"Sn xut":["PMI - Ch S Qun L Thu Mua Sn Xut","Ch S PMI Sn Xut ca ISM","Sn Xut Cng Nghip Theo Thng","Sn Lng Sn Xut Theo Thng","Hiu Sut S Dng Cng Sut"],"Vic lm v ngi lao ng":["Thay i Vic Lm Phi Nng Nghip ADP","C Hi Vic Lm ca JOLTs","NonFarm","T L Tht Nghip"," Ngh Tr Cp Tht Nghip Ln u","T L Tham Gia Ngi Lao ng","Thu Nhp Trung Bnh Theo Gi (Theo Thng)","Thu Nhp Trung Bnh Theo Gi (Theo Nm)"],"Ngi tiu dng v khch hng":["Thu Nhp C Nhn","Li Sut i Vay","Tit Kim C Nhn","K Vng Tiu Dng Michigan","Tiu Xi C Nhn","Tm L Tiu Dng Michigan"],"Nhp khu v xut khu":["Xut Khu","Nhp Khu","Cn Cn Thng Mi","Gi Xut Khu","Gi Nhp Khu","Doanh S Bn L Theo Thng","Hng Tn Kho Kinh Doanh"],"Bt ng sn v thu nh":["Giy Php Xy Dng","Lng Nh Khi Cng Xy Dng","Doanh S Bn Nh Mi"]};function xIt(){return N.useEffect(()=>{(async()=>await qo("Mn hnh TradingEconomicsWidgets.jsx"))()},[]),u.jsxs("div",{className:"te-widget-container",children:[u.jsx("h1",{style:{fontSize:"60px",marginBottom:"60px",marginTop:"40px",fontWeight:"bold",color:"#ffc107"},children:"Ch s kinh t"}),Object.entries(yIt).map(([n,t],e)=>u.jsxs("div",{children:[e!==0&&u.jsx("h1",{style:{marginTop:"50px",color:"red",fontWeight:"bold"},children:n}),u.jsx("div",{className:"contain-widget",children:t.map((i,r)=>u.jsxs("div",{className:"widget-item",children:[u.jsx("h3",{children:vIt[n][r]}),u.jsx("iframe",{src:i,title:`TE Widget ${r}`,allowTransparency:"true",loading:"lazy",scrolling:"no"})]},r))})]}))]})}function bIt(){const[n,t]=N.useState(null);return N.useEffect(()=>{navigator.geolocation.getCurrentPosition(()=>{t(!0)},async()=>{try{const e=await navigator.permissions.query({name:"geolocation"});e.state==="denied"?t(!1):e.state==="granted"?t(!0):t(!1)}catch{t(!1)}})},[]),n}const T1=({activeRange:n,onRangeChange:t})=>{const e=[{value:"1W",label:"1 Tun"},{value:"1M",label:"1 Thng"},{value:"6M",label:"6 Thng"},{value:"1Y",label:"1 Nm"},{value:"ALL",label:"Tt c"}];return u.jsxs("div",{className:"time-range-filter",children:[u.jsx("div",{className:"filter-label",children:"Khong thi gian:"}),u.jsx("div",{className:"filter-buttons",children:e.map(i=>u.jsx("button",{className:`filter-btn ${n===i.value?"active":""}`,onClick:()=>t(i.value),"aria-label":`Xem d liu ${i.label}`,children:i.value},i.value))})]})};gi.register(...Hit);const IG="https://api_gold.thinkdiff.us/",lC={kim_khanh_viet_hung_da_nang:"history_KIM_KHANH_VIET_HUNG_DA_NANG",kim_tung_an_giang:"history_KIM_TUNG_AN_GIANG",quoc_bao_bien_hoa_dong_nai:"history_QUOC_BAO_BIEN_HOA_DONGNAI",quoc_bao_lam_bien_hoa:"history_QUOC_BAO_LAM_BIEN_HOA",kim_hung_phat:"history_KIM_HUNG_PHAT",lap_duc_tan_phu_hcm:"history_LAP_DUC_TANPHU_HCM",kim_ngoc_lam_dong:"history_KIMNGOC_LAMDONG",kim_thuy_go_cong_tien_giang:"history_KIMTHUY_GO_CONG_TIEN_GIANG",kim_yen_binh_chanh_hcm:"history_KIM_YEN_BINH_CHANH_HCM",kim_phat_thoi_an_nha_be:"history_KIMPHAT_THOIAN_NHABE",luc_ngoc_thanh_bien_hoa:"history_LUC_NGOC_THANH_BIENHOA",phuoc_thanh_can_duoc_long_an:"history_PHUOCTHANH_CANDUOC_LONGAN",kim_phat_hiep_thanh_quan_12_hcm:"history_KIM_PHAT_HIEPTHANH_QUAN12",kim_phat_nha_be_hcm:"history_KIM_PHAT_NHA_BE_HCM",kim_hanh_thu_duc_hcm:"history_KIMHANH_THUDUC_HCM",quoc_bao_son_bien_hoa:"history_QUOCBAO_SON_BIENHOA",minh_thanh_ben_luc_long_an:"history_MINHTHANH_BENLUC_LONGAN",my_ngoc_long_thanh_long_an:"history_MYNGOC_LONGTHANH_LONGAN",kim_ton_long_khanh_dong_nai:"history_KIMTON_LONGKHANH_DONGNAI",yen_hien_nghia_hung_nam_dinh:"history_YENHIEN_NGHIAHUNG_NAMDINH",xuan_mui_ninh_binh:"history_XUAN_MUI_NINH_BINH",hai_sen_dien_bien:"history_HAISEN_DIENBIEN",thanh_xuan_dong_anh_hn:"history_THANHXUAN_DONGANH_HN",da_phuc_son_tay_hn:"history_DAPHUC_SONTAY_HN",nha_huong_hai_phong:"history_NHAHUONG_HAIPHONG",hjc_quang_ninh:"history_HJC_QUANGNINH",kim_chung_le_hoan_thanh_hoa:"history_KIMCHUNG_LEHOAN_THANHHOA",hoa_tung_quang_ngai:"history_HOATUNG_QUANGNGAI",quy_tung_thai_nguyen:"history_QUY_TUNG_THAINGUYEN",kim_lien_quang_yen_quang_ninh:"history_KIM_LIEN_QUANG_YEN_QUANG_NINH",trung_sinh_thai_nguyen:"history_TRUNGSINH_THAINGUYEN",huong_yen_hai_duong:"history_HUONGYEN_HAIDUONG",kim_khanh_ha_nam:"history_KIMKHANH_HANAM",hai_hong_hai_phong:"history_HAIHONG_HAIPHONG",quang_hanh_hai_phong:"history_QUANGHANH_HAIPHONG",son_ha_bac_ninh:"history_SONHA_BACNINH",lu_huong_dong_hung_thai_binh:"history_LU_HUONG_DONG_HUNG_THAI_BINH",anh_minh_ho_tung_mau_hn:"history_ANHMINH_HOTUNGMAU_HN",huong_chi_bac_giang:"history_HUONGCHI_BACGIANG",nhat_ha_hai_phong:"history_NHAHA_HAIPHONG",phi_doan_ha_dong_hn:"history_PHIDOAN_HADONG",dai_nghia_nam_dinh:"history_DAINGHIA_NAMDINH",tien_ngoc_tu_son_bac_ninh:"history_TIENNGOC_TUSON_BACNINH",phuc_thanh_nam_dinh:"history_PHUCTHANH_NAMDINH",phuc_thanh_long_bien:"history_PHUCTHANH_LONGBIEN",hoan_hue_lao_cai:"history_HOANHUE_LAOCAI",gia_vang_mi_hong_sjc_tu_do_goldenfund_sjc_tu_do:"history_MIHONG_HCM",vang_doji:"history_DOJI",chow_tai_fook:"history_CHOW_TAI_FOOK",chow_tai_seng:"history_CHOW_TAI_SENG",lukfook_jewellery:"history_LukFook_Jewellery",chow_sang_sang:"history_Chow_Sang_Sang",vang_bac_huong_diu_bac_ninh:"history_HUONGDIU_BACNINH",huy_thanh_doi_can_hn:"history_HUYTHANH_DOICAN_HN",vang_nguyen_lieu_nam_dinh:"history_NGUYENLIEU_NAMDINH",malabargoldanddiamonds:"history_malabargoldanddiamonds",tokuriki_kanda_co_jp:"history_tokuriki_kanda_co_jp",tanaka_co_jp:"history_tanaka_co_jp",ishifuku:"history_ishifuku_JP",kim_tin_cao_bang:"history_KIMTIN_CAOBANG",bao_tin_manh_hai:"history_BAO_TIN_MANH_HAI",phu_quy_vang:"history_PHUQUY_VANG",anekalogam:"history_Anekalogam",aurum24_russian:"history_aurum24_russian",orient_singapore:"history_Orient_SINGAPORE",goldheart:"history_Goldheart_SINGAPORE",gvs_trading_dubai:"history_GVS_Trading_DUBAI",kanz_jewels_dubai:"history_Kanz_Jewels_DUBAI",igold:"history_IGOLD",lam_ngoc_thanh_bien_hoa:"history_LAMNGOCTHANH_BIENHOA",vang_ancarat:"history_VANG_ANCARAT",bao_tin_lan_vy_cau_giay_hn:"history_BAO_TIN_LAN_VY_CAU_GIAY_HN",kim_ngan_phuc_ha_noi:"history_KIM_NGAN_PHUC_HA_NOI",chien_minh_cau_giay_hn:"history_CHIEN_MINH_CAU_GIAY_HN",kim_chau_an_giang:"history_KIM_CHAU_AN_GIANG",vang_kim_hoan_camau:"history_VANG_KIM_HOAN_CAMAU",vang_pnj:"history_VANG_PNJ",phu_tai_long_bien_hn:"history_PHU_TAI_LONG_BIEN_HN",ngoc_tham_dong_thap:"history_NGOC_THAM_DONG_THAP",vang_btmc:"history_VANG_BTMC",sacombank_sbj_gold:"history_SACOMBANK_GOLD",huong_chi_bac_ninh:"history_HUONGCHI_BACGIANG","kim_hoa-phan_thiet-binh_thuan":"history_KIM_HOA_PHAN_THIET_BINH_THUAN",tu_minh_vinh_long:"history_HONG_LINH_VINH_LONG",hong_linh_vinh_long:"history_HONG_LINH_VINH_LONG","hong_nga-cao_lanh-dong_thap":"history_HONG_NGA_CA_LANH_DONG_THAP","kim_bao_tri-tan_phu-hcm":"history_KIM_BAO_TRI_TAN_PHU_HCM","kim_chau_2-an_giang":"history_KIM_CHAU_2_AN_GIANG","trong_nghia-quan_10-hcm":"history_TRONG_NGHIA_QUAN_10_HCM","kim_hoang_ngoan-long_khanh-dong":"history_KIM_HOANG_NGOAN_LONG_KHAN_DONG_NAI","kim_uyen-long_khanh-dong_nai":"history_KIM_UYEN_LONG_KHANH_DONG_NAI","kim_loan-quan_6-hcm":"history_KIM_LOAN_QUAN_6_HCM","kim_anh_tuan-long_khanh-dong_nai":"history_KIM_ANH_TUAN_Long_Khanh_Dong_Nai","kieu_ngoc-ha_tinh":"history_KIEU_NGOC_HA_TINH","ngoc_ha-quang_binh":"history_NGOC_HA_QUANG_BINH","kim_viet-tam_ky-quang_nam":"history_KIM_VIET_TAM_KY_QUANG_NAM","kim_thach_bich-nha_trang":"history_KIM_THACH_BICH_NHA_TRANG","kim_khanh_viet_hung-lien_chieu-da_nang":"history_KIM_KHANH_VIET_HUNG_LIEN_CHIEU_DA_NANG","my_long-quy_nhon":"history_MY_LONG_QUY_NHON","ngoc_thien-binh_dinh":"history_NGOC_THIEN_BINH_DINH",hoakimnguyen:"history_hoakimnguyen","hoa_kim_nguyen-da_nang":"history_HOA_KIM_NGUYEN_DA_NANG","nghia_tin-tam_ky-quang_nam":"history_NGHIA_TIN_TAM_KY_QUANG_NAM","kim_thu-ca_mau":"history_KIM_THU_CA_MAU","ngoc_hai-nhj-my_tho-tien_giang":"history_NGOC_HAI_NHJ_MY_THO_TIEN_GIANG",sinh_dien_bac_ninh:"history_SINH_DIEN_BAC_NINH","kim_thanh_h-binh_tan-hcm":"history_KIM_THANH_HBINH_TAN_HCM","mao_thiet-thai_binh":"history_MAOTHIET_THAIBINH","vietagold-me_tri-ntl-hn":"history_VIETAGOLD_ME_TRI",bullionbypost:"history_bullionbypost",korea_gold_exchange:"history_Korea_Gold_Exchange","thanh_lien-hai phong":"history_Thanh_Lien_HAI_PHONG",kim_chau_hai_hau_nam_inh:"history_Kim_Chau_Hai_Hau_Nam_Dinh","candere.com":"history_candere_com"},eE=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n),zG=n=>n?new Date(n).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"";function wIt(n){if(!n)return null;const t=n.toLowerCase().trim();if(lC[t])return IG+lC[t];const e=t.replace(/[^a-z0-9]/g,""),i=Object.keys(lC).find(r=>{const a=r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"");return a.includes(e)||e.includes(a)});return i?IG+lC[i]:null}const _It=(n,t,e,i)=>{const a=h=>h*Math.PI/180,s=a(e-n),o=a(i-t),l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(a(n))*Math.cos(a(e))*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},FG=({title:n,data:t})=>!t||t.length===0?null:u.jsxs("div",{className:"gold-container",style:{marginTop:"20px"},children:[u.jsx("h2",{className:"gold-header",children:n}),u.jsx("div",{className:"table-wrapper",children:u.jsxs("table",{className:"gold-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Tun"}),u.jsx("th",{children:"Ngy bt u"}),u.jsx("th",{children:"Gi mua u"}),u.jsx("th",{children:"Ngy kt thc"}),u.jsx("th",{children:"Gi mua cui"}),u.jsx("th",{className:"text-right",children:"Li nhun"}),u.jsx("th",{className:"text-right",children:"Tng trng"})]})}),u.jsx("tbody",{children:t.map((e,i)=>{const r=!!e.cuoituan,a=r?e.dautuan:e.cuoi,s=r?e.cuoituan:e.dau,o=r?e.tilephantram_1tuan:e.tilephantram_all,l=e.loinhuan>=0?"#16a34a":"#dc2626";return u.jsxs("tr",{children:[u.jsxs("td",{className:"font-bold",children:["Tun ",i+1]}),u.jsx("td",{children:zG(a?.datetime)}),u.jsx("td",{children:eE(a?.buy)}),u.jsx("td",{children:zG(s?.datetime)}),u.jsx("td",{children:eE(s?.buy)}),u.jsx("td",{style:{color:l,fontWeight:"bold",textAlign:"left"},children:eE(e.loinhuan)}),u.jsxs("td",{style:{color:l,fontWeight:"bold",textAlign:"left",paddingLeft:"40px"},children:[o?o.toFixed(2):0,"%"]})]},i)})})]})})]}),SIt=()=>{const{vendorName:n}=rc(),t=Gi(),[e,i]=N.useState(null),[r,a]=N.useState(null),[s,o]=N.useState(!0),[l,c]=N.useState(null),[h,d]=N.useState(""),[g,y]=N.useState(null),[x,w]=N.useState(""),[k,A]=N.useState(null),[T,R]=N.useState(null),[G,z]=N.useState("ALL"),[F,H]=N.useState("VANG");N.useEffect(()=>{(async()=>{o(!0),c(null);try{let rt=new Date,lt=null;for(;!lt;){const Et=String(rt.getDate()).padStart(2,"0"),Yt=String(rt.getMonth()+1).padStart(2,"0"),Rt=rt.getFullYear(),ee=`${Et}_${Yt}_${Rt}`;try{const Jt=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${ee}`)).json();if(Jt&&Jt.data&&Jt.data.length>0){lt=Jt;break}else rt.setDate(rt.getDate()-1)}catch(fe){console.warn(`Khng th fetch d liu ngy ${ee}:`,fe),rt.setDate(rt.getDate()-1)}}const ct=lt.data.reduce((Et,Yt)=>{const Rt=new Date(Et.modified_time.split("/").reverse().join("-"));return new Date(Yt.modified_time.split("/").reverse().join("-"))>Rt?Yt:Et},lt.data[0]).link.match(/\/([^\/]+)\.json$/)[1],[st,xt,dt,ht,ot]=ct.split("_").map(Et=>parseInt(Et,10)),vt=i1(st,xt,dt,ht,ot);if(!vt)throw new Error("Invalid parameters when building Vang247 file URL in GoldDetail");const Pt=(await Y_(vt)).data?.list_server;if(!Array.isArray(Pt))throw new Error("list_server khng phi mng");const It=Et=>Et?Et.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""):"",Nt=Pt.find(Et=>It(Et.name)===It(n)||It(Et.name).includes(It(n)));if(!Nt)console.warn("Khng tm thy khp. Danh sch server:",Pt.map(Et=>Et.name)),c(`Khng tm thy d liu cho "${n}"`);else{const Et=Nt.maps;let Yt=null;if(Array.isArray(Et)&&Et.length>0){const fe=await new Promise(Jt=>{navigator.geolocation.getCurrentPosition(ue=>Jt({lat:ue.coords.latitude,long:ue.coords.longitude}),()=>Jt(null),{enableHighAccuracy:!0})});if(fe){const Jt=Et.map(ue=>_It(fe.lat,fe.long,ue.lat,ue.long));Yt=Math.min(...Jt)}}const Rt={...Nt,items:Nt.data?.data?.items||[],fetched_at:Nt.data?.data?.fetched_at||Nt.data?.data?.timestamp||null,distance:Yt!==null?Yt.toFixed(2):null};a(Array.isArray(Et)&&Et.length>0?Et:[]),i(Rt);const ee=wIt(D9(n));if(w(ee),ee){const Jt=await(await fetch(ee)).json();y(Jt),Jt?.data_bac?.tangtruong?.length&&R(Jt.data_bac.tangtruong),Jt?.data_vang?.tangtruong?.length&&A(Jt.data_vang.tangtruong)}}}catch(rt){console.error("Li khi fetch vendor:",rt),c(rt.message||" xy ra li khi ti d liu")}finally{o(!1)}})()},[n]),N.useEffect(()=>{(async()=>{if(!(!Array.isArray(r)||r.length===0))try{const rt=[];for(let lt of r){const ct=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lt.lat}&lon=${lt.long}&format=json`)).json();rt.push({lat:lt.lat,long:lt.long,address:ct.display_name})}d(rt)}catch(rt){console.error("Li ly a ch:",rt)}})()},[r]),N.useEffect(()=>{(async()=>await qo("Mn hnh GoldDetail.jsx"))()},[]);const Y=N.useMemo(()=>{let Z=null;if(F==="VANG"&&(Z=g?.data_vang?.data),F==="BAC"&&(Z=g?.data_bac?.data),!Z||Z.length===0)return[];const rt=new Map;return Z.forEach(lt=>{if(!lt?.datetime)return;const mt=lt.datetime.split(" ")[0];rt.has(mt)||rt.set(mt,{time:mt,buy:Number(lt.buy),sell:Number(lt.sell)})}),[...rt.values()].sort((lt,mt)=>new Date(lt.time)-new Date(mt.time))},[g,F]),nt=((Z,rt)=>{if(rt==="ALL")return Z;if(!Z||Z.length===0)return[];const lt=new Date;let mt;switch(rt){case"1W":mt=new Date(lt),mt.setDate(lt.getDate()-7);break;case"1M":mt=new Date(lt),mt.setMonth(lt.getMonth()-1);break;case"6M":mt=new Date(lt),mt.setMonth(lt.getMonth()-6);break;case"1Y":mt=new Date(lt),mt.setFullYear(lt.getFullYear()-1);break;default:return Z}return Z.filter(ct=>new Date(ct.time)>=mt)})(Y,G),V=N.useMemo(()=>{if(!nt||nt.length===0)return{labels:[],datasets:[]};const Z=nt.map(lt=>lt.time),rt=[{label:"Gi mua",data:nt.map(lt=>lt.buy),borderColor:"#0066ff",tension:.3},{label:"Gi bn",data:nt.map(lt=>lt.sell),borderColor:"#ff0000",tension:.3}];return{labels:Z,datasets:rt}},[nt]);return s?u.jsx("div",{children:"ang ti d liu..."}):l?u.jsx("div",{children:l}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsxs("a",{href:"#",className:"back-button",onClick:Z=>{Z.preventDefault(),t(-1)},children:[u.jsx("span",{className:"icon",children:""})," Quay li"]}),u.jsxs("div",{className:"price-address-wrapper",children:[u.jsx("div",{className:"max_with",children:u.jsx(ME,{vendorData:e})}),u.jsxs("div",{className:"address-list",children:[u.jsx("strong",{style:{display:"block",marginBottom:"8px"},children:"Danh sch a ch:"}),Array.isArray(h)&&h.length>0?h.map((Z,rt)=>u.jsx("div",{className:"address-item",style:{padding:"8px 4px",borderBottom:rt!==h.length-1?"1px dashed #ccc":"none"},children:u.jsxs("a",{href:`https://www.google.com/maps/search/${Z.lat},+${Z.long}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"white",display:"block"},children:[rt+1,". ",Z.address]})},rt)):u.jsx("div",{style:{color:"white",fontStyle:"italic"},children:"ang ly a ch"})]})]})]}),u.jsxs("div",{style:{width:"90%",maxWidth:"1200px",margin:"30px auto"},children:[u.jsx("h3",{children:"Lch s gi vng"}),x&&u.jsxs("p",{style:{fontSize:12,color:"#666"},children:["Ngun: ",x]}),u.jsxs("div",{style:{margin:"10px 0"},children:[u.jsx("button",{className:`btn-type ${F==="VANG"?"btn-active":""}`,onClick:()=>H("VANG"),children:"Vng"}),u.jsx("button",{className:`btn-type ${F==="BAC"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>H("BAC"),children:"Bc"})]}),u.jsx(T1,{activeRange:G,onRangeChange:z}),u.jsx(hf,{data:V}),u.jsx(FG,{title:"Bng Tng Trng Gi Vng",data:k}),u.jsx(FG,{title:"Bng Tng Trng Gi Bc",data:T})]}),u.jsx("div",{style:{height:"300px",width:"80%",marginTop:"20px",margin:"auto"},children:r&&r.length>0?u.jsxs(kO,{center:[r[0].lat,r[0].long],zoom:16,style:{height:"300px",width:"100%"},children:[u.jsx(a_,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri"}),u.jsx(a_,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",attribution:"Transportation data  Esri",opacity:.6}),r.map((Z,rt)=>u.jsx(r_,{position:[Z.lat,Z.long],children:u.jsxs(E9,{children:["a im ",rt+1," ",u.jsx("br",{}),e.name," - ",e.quoc_gia,u.jsx(ME,{vendorData:e})]})},rt))]}):u.jsx("p",{children:"Khng c d liu bn "})})]})};function kIt({data:n,setIsShowModal:t,setNewsSelect:e,currentPage:i=1,translateState:r,setTranslateState:a}){const[s,o]=N.useState(!1),{isTranslated:l,translatedText:c}=r,h=N.useRef(null),[d,g]=N.useState(!1),[y]=yf(),x=Gi(),w="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg";if(!n)return null;const k=async Z=>{if(Z.stopPropagation(),l){a({isTranslated:!1,translatedText:""});return}if(c){a({isTranslated:!0,translatedText:c});return}o(!0);try{const rt=n?.content_text||n?.content_text_vi||"",lt=document.createElement("div");lt.innerHTML=rt;const mt=lt.innerText||lt.textContent||"";if(!mt.trim())return;const xt=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(mt)}`)).json())[0].map(dt=>dt[0]).join("");a({isTranslated:!0,translatedText:xt})}catch(rt){console.error(rt)}finally{o(!1)}},A=Z=>{if(!Z&&Z!==0)return null;if(typeof Z!="string")return Z&&typeof Z=="object"&&(Z.url||Z.src)||null;const rt=Z.trim();if(!rt)return null;if(rt.startsWith("data:image/")||/^https?:\/\//i.test(rt))return rt;const lt=rt.replace(/\s+/g,"");return lt.startsWith("iVBOR")?`data:image/png;base64,${lt}`:lt.startsWith("/9")?`data:image/jpeg;base64,${lt}`:rt},R=(Array.isArray(n?.images)?n.images:typeof n?.images=="string"?[n.images]:[]).map(Z=>A(Z)).filter(Boolean),G=n?.content_text||n?.content_text_vi||"",z=document.createElement("div");z.innerHTML=G;const F=z.innerText||z.textContent||"",H=l?c:F,J=H.length>200?`${H.substring(0,200)}...`:H,nt=()=>{const Z={...n,isTranslatedFromCard:l,translatedTextFromCard:c};e&&e(Z),t&&t(!0);const rt=i||y.get("page")||1,lt=new URLSearchParams;lt.set("page",rt),lt.set("idPost",n.post_db_id),x(`?${lt.toString()}`)},V=async()=>{const Z=i||y.get("page")||1,lt=`${window.location.href.split("?")[0]}?page=${Z}&idPost=${n.post_db_id}`,mt=n?.name_group||"Tin tc",ct=J;if(navigator.share)try{await navigator.share({title:mt,text:ct,url:lt})}catch(st){console.error("Li chia s:",st)}else navigator.clipboard.writeText(lt).then(()=>{alert(" sao chp lin kt!")}).catch(st=>{console.error("Li sao chp:",st)})};return u.jsxs("div",{className:"post-card",children:[u.jsxs("div",{className:"post-header",children:[u.jsx("img",{src:n?.avatar_group||w,alt:"User Avatar",className:"user-avatar"}),u.jsxs("div",{className:"user-info",children:[u.jsx("h3",{className:"user-name",children:n?.name_group}),u.jsxs("span",{className:"post-date",children:[u.jsx(f9,{size:14,className:"icon-small"})," ",n?.PostTime||""]})]}),u.jsxs("button",{onClick:k,disabled:s,className:"translate-btn",style:{marginLeft:"auto",padding:"4px 12px",fontSize:"12px",cursor:s?"not-allowed":"pointer",borderRadius:"20px",border:"1px solid #1877f2",background:l?"#1877f2":"#fff",color:l?"#fff":"#1877f2",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px"},children:[u.jsx(i_,{size:14}),s?"...":l?"Gc":"Dch VN"]})]}),u.jsxs("div",{className:"post-content",children:[u.jsx("div",{ref:h,className:"post-content-text",onClick:nt,dangerouslySetInnerHTML:{__html:l?c:n?.content_text||n?.content_text_vi||""}}),u.jsx("div",{className:`see-more-wrapper ${d?"show":""}`,children:u.jsx("span",{className:"see-more",onClick:nt,children:"Xem thm"})})]}),u.jsx("div",{className:"post-media",onClick:nt,children:R.length>0&&u.jsx("img",{src:R[0],className:"post-card-image",alt:"news"})}),u.jsxs("div",{className:"post-footer",children:[u.jsx("div",{className:"post-stats",children:u.jsxs("div",{className:"stat-item",children:[u.jsx(g9,{size:18}),u.jsx("span",{children:n?.so_lan_view||"0"})]})}),u.jsxs("div",{className:"post-actions",children:[u.jsxs("button",{className:"action-btn",onClick:nt,children:[u.jsx(KMt,{size:18})," ",u.jsx("span",{children:"Bnh lun"})]}),u.jsxs("button",{className:"action-btn",onClick:V,children:[u.jsx(p9,{size:18})," Chia s"]})]})]})]})}function WK(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(n)}function CIt(n){return sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.795 396.8H320V448h128V320h-51.205zM396.8 115.205V192H448V64H320v51.205zM115.205 115.2H192V64H64v128h51.205zM115.2 396.795V320H64v128h128v-51.205z"},child:[]}]})(n)}function AIt({isOpen:n,onClose:t,imageSrc:e,newsSelect:i,comments:r=[],lat:a,long:s}){const[o,l]=N.useState(r),[c,h]=N.useState(""),[d,g]=N.useState(!1),y=N.useRef(null),[x,w]=N.useState(i?.isTranslatedFromCard||!1),[k,A]=N.useState(i?.translatedTextFromCard||""),[T,R]=N.useState(!1);if(N.useEffect(()=>{l(r)},[r]),N.useEffect(()=>{w(i?.isTranslatedFromCard||!1),A(i?.translatedTextFromCard||"")},[i]),N.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[o]),!n)return null;const G=async()=>{if(x){w(!1);return}if(k){w(!0);return}R(!0);try{const H=i?.content_text||i?.content_text_vi||"",Y=document.createElement("div");Y.innerHTML=H;const J=Y.innerText||Y.textContent||"";if(!J.trim())return;const V=await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(J)}`)).json();if(V&&V[0]){const Z=V[0].map(rt=>rt[0]).join("");A(Z),w(!0)}}catch(H){console.error("Li dch Lightbox:",H)}finally{R(!1)}},z=async()=>{if(i?.post_db_id)try{const H=`https://api_gold.thinkdiff.us/view_detail_comment_post/${i.post_db_id}`,J=await(await fetch(H)).json();J?.data&&l(J.data)}catch(H){console.warn("Error fetching comments:",H)}},F=async()=>{if(!c.trim())return;const H=a!=null&&s!=null?{lat:a,long:s}:{lat:0,long:0},Y=new FormData;Y.append("maps",JSON.stringify(H)),Y.append("content",c),Y.append("idPost",i?.post_db_id);try{g(!0),(await(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:Y})).json())?.status==="success"&&(h(""),await z())}catch(J){console.error("API Error:",J)}finally{g(!1)}};return u.jsxs("div",{className:"lightbox-overlay",onClick:t,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[u.jsxs("div",{className:"lightbox-content",onClick:H=>H.stopPropagation(),style:{display:"flex",width:"95%",height:"90%",background:"#111",borderRadius:"12px",overflow:"hidden"},children:[u.jsx("div",{style:{flex:2,display:"flex",justifyContent:"center",alignItems:"center",background:"#000",borderRight:"1px solid #222"},children:u.jsx("img",{src:e,alt:"Post",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),u.jsxs("div",{style:{flex:1,minWidth:"350px",display:"flex",flexDirection:"column",background:"#111"},children:[u.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #222",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:[u.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px"},children:i?.name_group}),u.jsx("small",{style:{color:"#888"},children:i?.PostTime})]}),u.jsxs("button",{onClick:G,disabled:T,style:{padding:"5px 10px",borderRadius:"15px",border:"1px solid #1877f2",background:x?"#1877f2":"transparent",color:x?"#fff":"#1877f2",fontSize:"12px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[u.jsx(i_,{size:14})," ",T?"...":x?"Gc":"Dch VN"]})]}),u.jsxs("div",{style:{flexGrow:1,overflowY:"auto",padding:"16px"},children:[u.jsx("div",{style:{color:"#eee",fontSize:"14px",lineHeight:"1.5",whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:x?k:i?.content_text_vi||i?.content_text||""}}),u.jsxs("div",{style:{marginTop:"24px"},children:[u.jsx("strong",{style:{color:"#fff",display:"block",marginBottom:"12px",borderTop:"1px solid #222",paddingTop:"12px"},children:"Bnh lun"}),o.map((H,Y)=>u.jsxs("div",{style:{marginBottom:"12px",display:"flex",gap:"10px"},children:[u.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#333",flexShrink:0}}),u.jsxs("div",{style:{background:"#222",padding:"8px 12px",borderRadius:"12px",flexGrow:1},children:[u.jsxs("p",{style:{margin:0,fontSize:"13px",fontWeight:"bold",color:"#aaa"},children:["Ngi dng ",Y+1]}),u.jsx("p",{style:{margin:"4px 0 0",fontSize:"14px",color:"#fff"},children:H.contentVI||H.content})]})]},H.id||Y)),u.jsx("div",{ref:y})]})]}),u.jsxs("div",{style:{padding:"16px",borderTop:"1px solid #222",display:"flex",gap:"10px",alignItems:"center"},children:[u.jsx("textarea",{value:c,onChange:H=>h(H.target.value),placeholder:"Vit bnh lun...",style:{flexGrow:1,padding:"10px 15px",borderRadius:"20px",border:"1px solid #333",background:"#1a1a1a",color:"#fff",outline:"none",resize:"none",height:"40px",fontSize:"14px"}}),u.jsx("button",{onClick:F,disabled:!c.trim()||d,style:{background:"transparent",color:c.trim()?"#0a84ff":"#555",border:"none",cursor:"pointer",fontSize:"20px",display:"flex"},children:d?"...":u.jsx(xO,{})})]})]})]}),u.jsx("button",{onClick:t,style:{position:"absolute",top:"20px",right:"20px",background:"rgba(0,0,0,0.5)",color:"#fff",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},children:u.jsx(WK,{size:24})})]})}function TIt({setIsShowModal:n,newsSelect:t,translateState:e,setTranslateState:i}){const r="https://cdn1.vectorstock.com/i/1000x1000/31/95/user-sign-icon-person-symbol-human-avatar-vector-12693195.jpg",[a,s]=N.useState(!1),[o,l]=N.useState(""),[c,h]=N.useState(!1),[d,g]=N.useState([]),[y,x]=N.useState(!1),[w,k]=N.useState({}),[A,T]=N.useState({}),[R,G]=N.useState(!1),{isTranslated:z,translatedText:F}=e,H=Gi();no();const[Y]=yf(),J=async(ht,ot)=>{if(w[ht]){k(vt=>({...vt,[ht]:vt[ht].isTranslated?{...vt[ht],isTranslated:!1}:{...vt[ht],isTranslated:!0}}));return}T(vt=>({...vt,[ht]:!0}));try{const vt=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(ot)}`);if(!vt.ok)throw new Error("Gii hn API hoc li kt ni");const St=await vt.json();if(St&&St[0]){const Pt=St[0].map(It=>It[0]).join("");k(It=>({...It,[ht]:{originalText:ot,translatedText:Pt,isTranslated:!0}}))}}catch(vt){console.error("Li dch bnh lun:",vt)}finally{T(vt=>({...vt,[ht]:!1}))}},nt=async()=>{if(z){i({isTranslated:!1,translatedText:F});return}if(F){i({isTranslated:!0,translatedText:F});return}x(!0);try{const ht=t?.content||t?.content_text_vi||"",ot=document.createElement("div");ot.innerHTML=ht;const vt=ot.innerText||ot.textContent||"";if(!vt.trim())return;const It=(await(await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(vt)}`)).json())[0].map(Nt=>Nt[0]).join("");i({isTranslated:!0,translatedText:It})}catch(ht){console.error(ht)}finally{x(!1)}};N.useEffect(()=>{t?.post_db_id&&V()},[t?.post_db_id]);const V=async()=>{if(t?.post_db_id)try{const ot=await(await fetch(`https://api_gold.thinkdiff.us/view_detail_comment_post/${t.post_db_id}`)).json();ot?.data&&g(ot.data)}catch{t?.list_comment&&g(t.list_comment)}};function Z(){const[ht,ot]=N.useState({lat:null,long:null});return N.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(vt=>{ot({lat:vt.coords.latitude,long:vt.coords.longitude})},vt=>{console.error("Li ly v tr:",vt),ot({lat:null,long:null})}):console.error("Trnh duyt khng h tr geolocation")},[]),ht}const{lat:rt,long:lt}=Z(),mt=async()=>{if(!o.trim()||c)return;const ht={lat:rt||0,long:lt||0},ot=new FormData;ot.append("content",o),ot.append("idPost",t?.post_db_id),ot.append("browser_info","Chrome Web"),ot.append("maps",JSON.stringify(ht));try{h(!0),(await fetch("https://api_gold.thinkdiff.us/post_comment",{method:"POST",body:ot})).ok&&(l(""),setTimeout(V,1e3))}catch(vt){console.error(vt)}finally{h(!1)}},ct=()=>{n(!1);const ht=Y.get("page")||1;H(`?page=${ht}`,{replace:!0})},st=async()=>{const ht=Y.get("page")||1,vt=`${window.location.href.split("?")[0]}?page=${ht}&idPost=${t.post_db_id}`,St=t?.name_group||"Tin tc",Pt=z?F:t?.content||t?.content_text_vi||"";if(navigator.share)try{await navigator.share({title:St,text:Pt,url:vt})}catch(It){console.error("Li chia s:",It)}else navigator.clipboard.writeText(vt).then(()=>{alert(" sao chp lin kt!")}).catch(It=>{console.error("Li sao chp:",It)})},xt=Array.isArray(d)?d.filter((ht,ot,vt)=>vt.findIndex(St=>St.id===ht.id)===ot):[],dt=async ht=>{if(!ht||ht.length===0)return;const ot={};ht.forEach((St,Pt)=>{const It=St.id||Pt;w[It]||(ot[It]=!0)}),T(St=>({...St,...ot}));const vt={};await Promise.all(ht.map(async(St,Pt)=>{const It=St.id||Pt;if(w[It])return;const Nt=St.contentVI||St.content||"";if(Nt.trim())try{const Et=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=vi&dt=t&q=${encodeURIComponent(Nt)}`);if(!Et.ok)return;const Yt=await Et.json();if(Yt&&Yt[0]){const Rt=Yt[0].map(ee=>ee[0]).join("");vt[It]={originalText:Nt,translatedText:Rt,isTranslated:!0}}}catch(Et){console.error(`Li dch comment ${It}:`,Et)}})),k(St=>({...St,...vt})),T(St=>{const Pt={...St};return Object.keys(ot).forEach(It=>Pt[It]=!1),Pt})};return N.useEffect(()=>{if(d&&d.length>0){const ht=d.filter((ot,vt,St)=>St.findIndex(Pt=>Pt.id===ot.id)===vt);dt(ht)}},[d]),u.jsxs("div",{className:"overlay-modal-news",onClick:ht=>ht.target===ht.currentTarget&&ct(),children:[u.jsxs("div",{className:`modal ${a?"modal-zoom":""}`,children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{style:{flex:1,textAlign:"center",marginLeft:"24px"},children:"Bi vit chi tit"}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"modal-icon-btn",onClick:()=>s(ht=>!ht),title:a?"Thu nh":"Phng to",children:u.jsx(CIt,{})}),u.jsx("button",{className:"modal-icon-btn",onClick:ct,title:"ng",children:u.jsx(WK,{})})]})]}),u.jsxs("div",{className:"modal-content-news",children:[u.jsxs("div",{className:"post-card",children:[u.jsxs("div",{className:"post-header",style:{display:"flex",alignItems:"center",gap:"10px"},children:[u.jsx("img",{src:t?.avatar_group||r,className:"user-avatar",style:{borderRadius:"50%"},alt:"avt"}),u.jsxs("div",{className:"user-info",style:{display:"flex",flexDirection:"column"},children:[u.jsx("h3",{onClick:()=>window.open(t?.link_group),style:{cursor:"pointer",margin:0},children:t?.name_group}),u.jsxs("span",{className:"post-date",style:{display:"flex",alignItems:"center",gap:"4px"},children:[u.jsx(f9,{})," ",t?.PostTime]})]}),u.jsx("div",{style:{marginLeft:"auto"},children:u.jsxs("button",{onClick:nt,disabled:y,className:`translate-btn ${z?"active":""}`,style:{display:"flex",alignItems:"center",gap:"6px"},children:[u.jsx(i_,{size:14}),y?"...":z?"Xem gc":"Dch VN"]})})]}),u.jsx("div",{className:"post-content",style:{marginTop:"15px"},children:u.jsx("div",{style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:z?F:t?.content||t?.content_text_vi||""}})}),t?.images?.length>0&&u.jsx("img",{src:t.images[0],style:{width:"100%",borderRadius:"8px",marginTop:"12px",cursor:"pointer"},onClick:()=>G(!0),alt:"post"}),u.jsxs("div",{className:"post-footer",children:[u.jsxs("div",{className:"post-stats",children:[u.jsx(g9,{})," ",t?.so_lan_view||0]}),u.jsxs("div",{className:"post-actions",children:[u.jsxs("button",{className:"action-btn",children:[u.jsx(Rlt,{})," ",xt.length," Bnh lun"]}),u.jsxs("button",{className:"action-btn",onClick:st,children:[u.jsx(p9,{})," Chia s"]})]})]})]}),u.jsxs("div",{style:{display:"flex",padding:"16px",alignItems:"center"},children:[u.jsx("img",{src:r,className:"user-avatar",style:{marginRight:"10px"},alt:"me"}),u.jsxs("div",{style:{flexGrow:1,background:"#111",border:"1px solid #333",borderRadius:"20px",display:"flex",alignItems:"center",padding:"0 15px"},children:[u.jsx("textarea",{placeholder:"Vit bnh lun...",style:{flexGrow:1,height:"40px",padding:"10px 0",color:"#eee",resize:"none",fontSize:"14px",outline:"none",background:"transparent",border:"none"},value:o,onChange:ht=>l(ht.target.value)}),c?u.jsx("div",{className:"comment-loading-spinner"}):u.jsx(xO,{onClick:mt,style:{cursor:"pointer",color:o.trim()?"#0084ff":"#555"}})]})]}),u.jsx("div",{style:{padding:"0 16px 16px"},children:xt.map((ht,ot)=>{const vt=ht.id||ot,St=ht.contentVI||ht.content||"",Pt=w[vt],It=A[vt];return u.jsxs("div",{style:{marginTop:"15px"},children:[u.jsxs("div",{style:{display:"flex"},children:[u.jsx("img",{src:r,className:"user-avatar",style:{width:"30px",height:"30px",marginRight:"10px",borderRadius:"50%"},alt:"u"}),u.jsxs("div",{style:{background:"#333",borderRadius:"12px",padding:"8px 12px",flex:1},children:[u.jsxs("h5",{style:{margin:0,fontSize:"12px",color:"#aaa"},children:["Ngi dng ",ot+1]}),u.jsx("div",{style:{fontSize:"14px",color:"#fff"},children:Pt?.isTranslated?Pt.translatedText:St})]})]}),u.jsx("div",{style:{marginLeft:"40px",marginTop:"5px"},children:u.jsx("button",{onClick:()=>J(vt,St),disabled:It,style:{background:"none",border:"none",color:"#65676b",fontSize:"12px",cursor:It?"not-allowed":"pointer",padding:"2px 0",fontWeight:"500"},children:It?"ang dch...":Pt?.isTranslated?"Xem bn gc":"Dch on ny"})})]},ot)})})]})]}),u.jsx(AIt,{isOpen:R,onClose:()=>G(!1),imageSrc:t?.images?.[0],newsSelect:t,comments:xt})]})}function MIt(){const[n,t]=N.useState(!1),[e,i]=N.useState(null),[r,a]=N.useState(null),[s,o]=N.useState(null),[l,c]=N.useState(null),[h,d]=N.useState(1),[g,y]=N.useState(1),[x,w]=N.useState(!1),[k,A]=N.useState({}),[T]=yf(),R=Gi(),G=T.get("idPost"),z=T.get("page"),F=async()=>{await navigator.geolocation.getCurrentPosition(async V=>{const Z=V.coords.latitude,rt=V.coords.longitude;a(Z),o(rt)},V=>{console.error("Geolocation Error:",V),alert("Khng ly c v tr ngi dng")})},H=async(V=1)=>{w(!0);try{const Z=`https://api_gold.thinkdiff.us/tintuc_moi_nhat${V>1?`?page=${V}`:""}`;console.log("Fetching page:",V,"URL:",Z);const lt=await(await fetch(Z)).json();if(console.log("Response status:",lt.status,"Items count:",lt?.data?.items?.length),lt.status==="success"){const mt=lt?.data?.items;if(!mt||mt.length===0)if(console.log("Empty page detected for page:",V),V>1){y(V-1),d(V-1);return}else i([]),y(1),d(1);else console.log("Setting news with",mt.length,"items for page",V),i(mt),d(V),lt?.data?.total_pages?y(lt.data.total_pages):lt?.data?.totalPages?y(lt.data.totalPages):y(10)}}catch(Z){console.error("Fetch news error:",Z)}finally{w(!1)}};N.useEffect(()=>{(async()=>{await F();const Z=z?parseInt(z):1;await H(Z)})(),(async()=>await qo("Mn hnh ExchangeRatePage.jsx"))()},[z]),N.useEffect(()=>{window.scrollTo(0,0)},[h]),N.useEffect(()=>{h>g&&g>0&&(console.log("Current page",h,"exceeds totalPages",g,"- redirecting to",g),R(`?page=${g}`,{replace:!0}))},[h,g,R]);const Y=()=>{const V=Math.max(1,h-1);V!==h&&R(`?page=${V}`)},J=()=>{const V=Math.min(g,h+1);V!==h&&R(`?page=${V}`)};N.useEffect(()=>{if(!G||!e)return;const V=e.find(Z=>String(Z.post_db_id)===String(G));V&&(c(V),t(!0))},[G,e]);const nt=e&&e.length>0&&u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",marginTop:"30px",marginBottom:"20px"},children:[u.jsx("button",{onClick:Y,disabled:h===1,style:{padding:"10px 15px",backgroundColor:h===1?"#ccc":"#d4af37",color:h===1?"#999":"#000",border:"none",borderRadius:"4px",cursor:h===1?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:" Trang trc"}),u.jsx("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:u.jsxs("span",{style:{color:"#666",fontWeight:"bold"},children:["Trang ",h," / ",g]})}),u.jsx("button",{onClick:J,disabled:h>=g,style:{padding:"10px 15px",backgroundColor:h>=g?"#ccc":"#d4af37",color:h>=g?"#999":"#000",border:"none",borderRadius:"4px",cursor:h>=g?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:"Trang sau "})]});return u.jsxs("div",{style:{position:"relative"},children:[u.jsx("div",{className:"containt-lastestnews",children:u.jsxs("div",{children:[nt,(e===null||x)&&u.jsxs("div",{className:"loading-container",style:{maxWidth:"1000px",margin:"auto",marginTop:"20px"},children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti ..."})]}),u.jsx("div",{className:"news-grid",children:e&&e.length>0&&e.map((V,Z)=>u.jsx(kIt,{data:V,setIsShowModal:t,currentPage:h,translateState:k[V.post_db_id]||{isTranslated:!1,translatedText:""},setTranslateState:rt=>A(lt=>({...lt,[V.post_db_id]:rt}))},`card-news-${V?.user_id}-${Z}`))}),e&&e.length===0&&u.jsx("p",{style:{color:"#ccc",textAlign:"center",marginTop:"20px"},children:"Khng c bi vit no!"}),nt]})}),n&&u.jsx(TIt,{setIsShowModal:t,newsSelect:l,translateState:k[l?.post_db_id]||{isTranslated:!1,translatedText:""},setTranslateState:V=>A(Z=>({...Z,[l.post_db_id]:V})),lat:r,long:s,fetchNews:H})]})}const NIt=()=>u.jsxs("div",{className:"ig-page",children:[u.jsxs("header",{className:"ig-page-header",children:[u.jsx("h1",{children:"IG Sentiment  Full View"}),u.jsx("p",{children:"Xem chi tit sentiment v biu  IG (Silver)."})]}),u.jsx("section",{className:"ig-page-content",children:u.jsx("div",{className:"ig-overview",children:u.jsx(X7,{})})})]}),PIt=()=>{const[n,t]=N.useState([]),[e,i]=N.useState([]),r=Gi();return N.useEffect(()=>{(async()=>await eA("ALL").then(a=>{t(a)}))(),(async()=>await eA("DAY").then(a=>{i(a)}))(),(async()=>await qo("Mn hnh SharkGlobalChart.jsx"))()},[]),u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>r("/"),children:u.jsxs("div",{style:{backgroundColor:"rgba(0,0,0,1)",padding:20,borderRadius:8,width:"95%",height:"90%",position:"relative",overflow:"auto"},onClick:a=>a.stopPropagation(),children:[u.jsx("h2",{style:{cursor:"pointer",fontWeight:"bold",color:"#ffd700",textAlign:"center",marginBottom:10,marginTop:30},children:"Thng K Lng Mua Bn Ca 9 ETF C Mp Vng - Bc"}),u.jsx("button",{onClick:()=>r("/"),style:{position:"absolute",top:10,right:10,padding:"4px 10px",borderRadius:4,background:"#ff3b30",color:"#fff",border:"none",cursor:"pointer"},children:"Close"}),u.jsxs("div",{style:{width:"100%",height:"80%",display:"flex"},children:[u.jsx(gq,{data:e,zoomable:!0}),u.jsx(pq,{}),u.jsx(dq,{data:n,zoomable:!0,time:"1Y"})]})]})})},EIt=()=>{const n=Gi();return N.useEffect(()=>{(async()=>await qo("Mn hnh DetailSharkGlobal.jsx"))()},[]),u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>n("/"),children:u.jsxs("div",{style:{backgroundColor:"rgba(0,0,0,0.95)",padding:30,borderRadius:12,width:"95%",height:"90%",position:"relative",overflowY:"auto",boxShadow:"0 0 20px rgba(255, 215, 0, 0.5)"},onClick:t=>t.stopPropagation(),children:[u.jsx("button",{onClick:()=>n("/"),style:{position:"absolute",top:20,right:20,padding:"6px 12px",borderRadius:6,background:"#ff3b30",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Close"}),u.jsx("h2",{style:{color:"#ffd700",marginBottom:20,textAlign:"center",fontSize:28},children:"Global X Silver Miners UCITS ETF"}),u.jsxs("div",{style:{color:"#f5f5f5",fontSize:18,lineHeight:1.8},children:[u.jsxs("p",{children:[u.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Gii thiu:"})," Global X Silver Miners UCITS ETF l mt qu ETF cung cp cho nh u t quyn tip cn cc cng ty khai thc bc trn ton cu. Qu ny giao dch nh c phiu v cho php u t a dng thay v mua tng c phiu ring l."]}),u.jsxs("p",{children:[u.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"ETF l g:"})," ETF (Qu Giao dch hon i danh mc) l qu nm gi mt r ti sn nh c phiu, tri phiu, hng ha v c giao dch trn sn chng khon nh c phiu."]}),u.jsxs("p",{children:[u.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Mc tiu:"})," Tp trung vo cc cng ty c hot ng chnh trong ngnh khai thc bc."]}),u.jsxs("p",{children:[u.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Li ch:"})," u t vo ETF ny gip a dng ha danh mc v gim ri ro so vi u t vo tng cng ty ring l."]}),u.jsxs("p",{children:[u.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Cch giao dch:"})," Mua v bn chng ch qu trn sn chng khon trong thi gian giao dch, ging nh c phiu."]}),u.jsxs("p",{children:[u.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Thng s biu :"})," Theo di ch s Solactive Global Silver Miners, m phng hiu sut ton b cc thnh phn, c tc tch ly v ti u t. T l chi ph tng th (TER): 0,65%/nm."]}),u.jsxs("p",{children:[u.jsx("span",{style:{color:"#ffcc00",fontWeight:"bold"},children:"Qu hin ti:"})," 882 triu Euro ti sn c qun l, ra mt 04/05/2022 ti Ireland."]})]})]})})},jIt=(n,t)=>{const[e,i]=[Math.min(n,t),Math.max(n,t)],r=[{name:"iPhone 17",width:393,height:852},{name:"iPhone Air",width:414,height:896},{name:"iPhone 17 Pro",width:393,height:852},{name:"iPhone 17 Pro Max",width:430,height:932},{name:"iPhone 16 Pro Max",width:430,height:932},{name:"iPhone 16 Pro",width:393,height:852},{name:"iPhone 16 Plus",width:414,height:896},{name:"iPhone 16",width:393,height:852},{name:"iPhone 15 Pro Max",width:430,height:932},{name:"iPhone 15 Pro",width:393,height:852},{name:"iPhone 15 Plus",width:414,height:896},{name:"iPhone 15",width:393,height:852},{name:"iPhone 14 Pro Max",width:430,height:932},{name:"iPhone 14 Pro",width:393,height:852},{name:"iPhone 14 Plus",width:414,height:896},{name:"iPhone 14",width:390,height:844},{name:"iPhone SE 3",width:375,height:667},{name:"iPhone 13 Pro Max",width:428,height:926},{name:"iPhone 13 Pro",width:390,height:844},{name:"iPhone 13",width:390,height:844},{name:"iPhone 13 Mini",width:375,height:812},{name:"iPhone 12 Pro Max",width:428,height:926},{name:"iPhone 12 Pro",width:390,height:844},{name:"iPhone 12",width:390,height:844},{name:"iPhone 12 Mini",width:375,height:812},{name:"iPhone SE 2",width:375,height:667},{name:"iPhone 11 Pro Max",width:414,height:896},{name:"iPhone 11 Pro",width:375,height:812},{name:"iPhone 11",width:414,height:896},{name:"iPhone Xs Max",width:414,height:896},{name:"iPhone Xs",width:375,height:812},{name:"iPhone Xr",width:414,height:896},{name:"iPhone X",width:375,height:812},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone 8",width:375,height:667},{name:"iPhone 7 Plus",width:414,height:736},{name:"iPhone 7",width:375,height:667},{name:"iPhone SE 1",width:320,height:568},{name:"iPhone 6s Plus",width:414,height:736},{name:"iPhone 6s",width:375,height:667},{name:"iPhone 6 Plus",width:414,height:736},{name:"iPhone 6",width:375,height:667},{name:"iPhone 5c",width:320,height:568},{name:"iPhone 5s",width:320,height:568},{name:"iPhone 5",width:320,height:568},{name:"iPhone 4s",width:320,height:480},{name:"iPhone 4",width:320,height:480},{name:"iPhone 3Gs",width:320,height:480},{name:"iPhone 3G",width:320,height:480},{name:"iPhone 2G",width:320,height:480}],a=Math.round(e),s=Math.round(i);for(const o of r){const l=Math.min(o.width,o.height),c=Math.max(o.width,o.height);if(Math.abs(a-l)<=5&&Math.abs(s-c)<=5)return o.name}return"iPhone (Unknown Model)"},DIt=n=>{const t=n.toLowerCase();let e=" Desktop";t.includes("iphone")?e=" iPhone":t.includes("ipad")?e=" iPad":t.includes("android")&&t.includes("mobile")?e=" Android Phone":t.includes("android")&&(e=" Android Tablet");let i="";if(t.includes("iphone")||t.includes("ipad")){const a=t.match(/os (\d+)_(\d+)_?(\d*)/);i=a?`iOS ${a[1]}.${a[2]}${a[3]?"."+a[3]:""}`:"iOS"}else if(t.includes("android")){const a=t.match(/android (\d+\.?\d*\.?\d*)/);i=a?`Android ${a[1]}`:"Android"}else if(t.includes("windows"))i="Windows";else if(t.includes("mac os x")){const a=t.match(/mac os x (\d+)_(\d+)_?(\d*)/);i=a?`macOS ${a[1]}.${a[2]}${a[3]?"."+a[3]:""}`:"macOS"}let r="Unknown";return t.includes("gsa/")?r="Google App":t.includes("crios")?r="Chrome iOS":t.includes("fxios")?r="Firefox iOS":t.includes("edg")?r="Edge":t.includes("chrome")?r="Chrome":t.includes("safari")&&t.includes("version")?r="Safari":t.includes("firefox")&&(r="Firefox"),{deviceType:e,osVersion:i,browser:r}};function OIt({data:n,setIsShowModal:t}){return u.jsx("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&t(!1)},children:u.jsxs("div",{className:"modal-box",children:[u.jsx("div",{className:"modal-close",onClick:()=>t(!1),children:""}),n.map(e=>{const i=DIt(e?.user_agent||""),r=parseInt(e?.width)||0,a=parseInt(e?.height)||0;let s="Unknown";return/iPhone/i.test(e?.user_agent)&&r&&a&&(s=jIt(r,a)),u.jsxs("div",{className:"log-item",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"IP:"})," ",e?.ip_location]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Thit b:"})," ",u.jsx("span",{style:{color:"#3b82f6"},children:i.deviceType})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"H iu hnh:"})," ",u.jsx("span",{style:{color:"#10b981"},children:i.osVersion})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Trnh duyt:"})," ",u.jsx("span",{style:{color:"#f59e0b"},children:i.browser})]}),s!=="Unknown"&&u.jsxs("p",{children:[u.jsx("strong",{children:"Model iPhone:"})," ",u.jsx("span",{style:{color:"#f59e0b"},children:s})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Kch thc mn hnh:"})," ",e?.width,"x",e?.height]}),u.jsxs("p",{children:[u.jsx("strong",{children:"a ch:"})," ",u.jsx("span",{style:{color:"#06EF06"},children:e?.diachi_chi_tiet})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Mn hnh:"})," ",e?.widget_activate]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Thi gian:"})," ",new Date(e.time_access).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Tc nhn:"})," ",e?.user_agent]}),u.jsx("a",{href:e.linkmap,target:"_blank",className:"map-link",children:"Xem trn Google Maps"})]},e?.id)})]})})}const LIt=n=>{const t=n.toLowerCase();let e=" Desktop";t.includes("iphone")||t.includes("android")&&t.includes("mobile")?e=" Mobile":(t.includes("ipad")||t.includes("tablet"))&&(e=" Tablet");let i="Unknown";if(t.includes("iphone")||t.includes("ipad")){const r=t.match(/os (\d+)_(\d+)/);i=r?`iOS ${r[1]}.${r[2]}`:"iOS"}else if(t.includes("android")){const r=t.match(/android (\d+\.?\d*)/);i=r?`Android ${r[1]}`:"Android"}else t.includes("windows")?i="Windows":t.includes("mac os x")?i="macOS":t.includes("linux")&&(i="Linux");return`${e} - ${i}`},RIt=(n,t)=>{const[e,i]=[Math.min(n,t),Math.max(n,t)],r=[{name:"iPhone 17",width:393,height:852},{name:"iPhone Air",width:414,height:896},{name:"iPhone 17 Pro",width:393,height:852},{name:"iPhone 17 Pro Max",width:430,height:932},{name:"iPhone 16 Pro Max",width:430,height:932},{name:"iPhone 16 Pro",width:393,height:852},{name:"iPhone 16 Plus",width:414,height:896},{name:"iPhone 16",width:393,height:852},{name:"iPhone 15 Pro Max",width:430,height:932},{name:"iPhone 15 Pro",width:393,height:852},{name:"iPhone 15 Plus",width:414,height:896},{name:"iPhone 15",width:393,height:852},{name:"iPhone 14 Pro Max",width:430,height:932},{name:"iPhone 14 Pro",width:393,height:852},{name:"iPhone 14 Plus",width:414,height:896},{name:"iPhone 14",width:390,height:844},{name:"iPhone SE 3",width:375,height:667},{name:"iPhone 13 Pro Max",width:428,height:926},{name:"iPhone 13 Pro",width:390,height:844},{name:"iPhone 13",width:390,height:844},{name:"iPhone 13 Mini",width:375,height:812},{name:"iPhone 12 Pro Max",width:428,height:926},{name:"iPhone 12 Pro",width:390,height:844},{name:"iPhone 12",width:390,height:844},{name:"iPhone 12 Mini",width:375,height:812},{name:"iPhone SE 2",width:375,height:667},{name:"iPhone 11 Pro Max",width:414,height:896},{name:"iPhone 11 Pro",width:375,height:812},{name:"iPhone 11",width:414,height:896},{name:"iPhone Xs Max",width:414,height:896},{name:"iPhone Xs",width:375,height:812},{name:"iPhone Xr",width:414,height:896},{name:"iPhone X",width:375,height:812},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone 8",width:375,height:667},{name:"iPhone 7 Plus",width:414,height:736},{name:"iPhone 7",width:375,height:667},{name:"iPhone SE 1",width:320,height:568},{name:"iPhone 6s Plus",width:414,height:736},{name:"iPhone 6s",width:375,height:667},{name:"iPhone 6 Plus",width:414,height:736},{name:"iPhone 6",width:375,height:667},{name:"iPhone 5c",width:320,height:568},{name:"iPhone 5s",width:320,height:568},{name:"iPhone 5",width:320,height:568},{name:"iPhone 4s",width:320,height:480},{name:"iPhone 4",width:320,height:480},{name:"iPhone 3Gs",width:320,height:480},{name:"iPhone 3G",width:320,height:480},{name:"iPhone 2G",width:320,height:480}],a=Math.round(e),s=Math.round(i);for(const o of r){const l=Math.min(o.width,o.height),c=Math.max(o.width,o.height);if(Math.abs(a-l)<=5&&Math.abs(s-c)<=5)return o.name}return"iPhone (Unknown Model)"};function IIt({data:n}){const[t,e]=N.useState(!1),[i,r]=N.useState(null);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"log-container",children:[n&&n.map((a,s)=>{const o=a?.ten.split("___")[0],l=a?.danhsach[0]?.user_agent||"",c=parseInt(a?.danhsach[0]?.width)||0,h=parseInt(a?.danhsach[0]?.height)||0;let d="Unknown";return/iPhone/i.test(l)&&c&&h&&(d=RIt(c,h)),u.jsxs("div",{className:"log-box",onClick:()=>{e(!0),r(a?.danhsach)},children:[u.jsxs("p",{children:[u.jsx("strong",{children:"IP:"})," ",o]}),u.jsxs("p",{children:[u.jsx("strong",{children:"a ch:"})," ",u.jsx("span",{style:{color:"#06EF06"},children:a?.diachi})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Thit b:"})," ",u.jsx("span",{style:{color:"#3b82f6"},children:LIt(l)})]}),d!=="Unknown"&&u.jsxs("p",{children:[u.jsx("strong",{children:"Model iPhone:"})," ",u.jsx("span",{style:{color:"#f59e0b"},children:d})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Ln gn nht:"})," ",new Date(a?.danhsach[0].time_access).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"S ln truy cp:"})," ",a?.solan]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Kch thc mn hnh:"})," ",a?.danhsach[0].width,"x",a?.danhsach[0].height]})]},`${o}-${s}`)}),n&&n.length===0&&u.jsx("h3",{style:{marginTop:"30px"},children:"Khng c lt truy cp"})]}),t&&u.jsx(OIt,{data:i,setIsShowModal:e})]})}const zIt=new Z_.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/684/684908.png",iconSize:[32,32]}),FIt=n=>{const t=n.toLowerCase();let e=" Desktop";t.includes("iphone")||t.includes("android")&&t.includes("mobile")?e=" Mobile":(t.includes("ipad")||t.includes("tablet"))&&(e=" Tablet");let i="Unknown";if(t.includes("iphone")||t.includes("ipad")){const r=t.match(/os (\d+)_(\d+)/);i=r?`iOS ${r[1]}.${r[2]}`:"iOS"}else if(t.includes("android")){const r=t.match(/android (\d+\.?\d*)/);i=r?`Android ${r[1]}`:"Android"}else t.includes("windows")?i="Windows":t.includes("mac os x")?i="macOS":t.includes("linux")&&(i="Linux");return`${e} - ${i}`};function BIt({data:n}){const t=n.map(e=>e?.danhsach[0]);return u.jsx("div",{style:{padding:"20px"},children:u.jsxs(kO,{center:[21.03,105.85],zoom:11,style:{height:"500px",width:"100%",borderRadius:"12px"},children:[u.jsx(a_,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t&&t.map(e=>{const i=JSON.parse(e.maps);return u.jsx(r_,{position:[i.lat,i.long],icon:zIt,children:u.jsxs(E9,{children:[u.jsxs("p",{children:[u.jsx("strong",{children:"IP:"})," ",e.ip_location]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Thit b:"})," ",FIt(e?.user_agent)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"a ch:"})," ",e?.diachi_chi_tiet]}),u.jsx("a",{href:e.linkmap,target:"_blank",className:"map-link",children:"Xem trn Google Maps"})]})},e.id)})]})})}function BG(){const[n,t]=N.useState(null),[e,i]=N.useState(!1),[r,a]=N.useState([]),[s,o]=N.useState({}),l=rc(),c=Gi(),h=new Date().toISOString().slice(0,10),d=l.date??h;N.useEffect(()=>{(async()=>{try{const k=await(await fetch("https://api_gold.thinkdiff.us/all_day_history_access")).json();if(k.status==="success"){const A={},T=k.data.map(G=>{const z=G.link.split("/").pop().replace(".json",""),[F,H,Y]=z.split("_"),J=`${Y}-${H}-${F}`;return A[J]=z,J});o(A);const R=T.sort();a(R),!T.includes(d)&&T.length>0&&c(`/luong-truy-cap/${R[R.length-1]}`)}}catch(w){console.error("Error fetching day list:",w)}})()},[]),N.useEffect(()=>{const x=async()=>{const w=s[d];if(!w){t([]);return}try{const A=await(await fetch(`https://api_gold.thinkdiff.us/get_account_access/${w}`)).json();A.status==="success"||A.data?.status==="success"?t(A.data.tonghop??[]):t([]),await qo("User access with date "+d)}catch(k){console.error("Error fetching access data:",k),t([])}};r.length>0&&x()},[d,s,r]);const g=x=>{c(`/luong-truy-cap/${x.target.value}`)},y=s.hasOwnProperty(d);return u.jsxs("div",{children:[u.jsxs("div",{style:{position:"relative"},children:[u.jsxs("h3",{style:{textAlign:"center",padding:"20px 0"},children:["S thit b truy cp ngy ",d," (",n?.length||0,")"]}),u.jsx("div",{style:{position:"absolute",top:"1rem",right:"6.5rem"},children:u.jsx("input",{type:"date",value:d,onChange:g,style:{padding:"8px",borderRadius:"8px",border:"1px solid #ccc",width:"135px"}})}),u.jsx("div",{style:{position:"absolute",top:"1rem",right:"2rem",width:"4rem",height:"2.5rem",backgroundColor:"#3b82f6",borderRadius:"9999px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>i(!e),children:e?u.jsx(Llt,{color:"white"}):u.jsx(Olt,{color:"white"})})]}),n===null&&r.length===0&&u.jsx("p",{style:{textAlign:"center",color:"#666"},children:"ang ti danh sch ngy truy cp..."}),r.length>0&&!y&&u.jsxs("p",{style:{textAlign:"center",color:"red",fontWeight:"bold"},children:["Ngy ",d," khng c d liu truy cp trong h thng. Vui lng chn ngy khc."]}),y&&n===null&&u.jsxs("p",{style:{textAlign:"center",color:"#666"},children:["ang ti d liu truy cp chi tit cho ngy ",d,"..."]}),y&&n!==null&&n.length===0&&u.jsxs("p",{style:{textAlign:"center",color:"orange",fontWeight:"bold"},children:["Khng c lng truy cp no c ghi nhn vo ngy ",d,"."]}),y&&n!==null&&n.length>0&&u.jsxs(u.Fragment,{children:[!e&&u.jsx(IIt,{data:n}),e&&u.jsx(BIt,{data:n})]})]})}gi.register(qr,Ji,Xr,pa,Qi,sr,Xo,dh);const HG="https://api_gold.thinkdiff.us/",cC={kim_khanh_viet_hung_da_nang:"history_KIM_KHANH_VIET_HUNG_DA_NANG",kim_tung_an_giang:"history_KIM_TUNG_AN_GIANG",quoc_bao_bien_hoa_dong_nai:"history_QUOC_BAO_BIEN_HOA_DONGNAI",quoc_bao_lam_bien_hoa:"history_QUOC_BAO_LAM_BIEN_HOA",kim_hung_phat:"history_KIM_HUNG_PHAT",lap_duc_tan_phu_hcm:"history_LAP_DUC_TANPHU_HCM",kim_ngoc_lam_dong:"history_KIMNGOC_LAMDONG",kim_thuy_go_cong_tien_giang:"history_KIMTHUY_GO_CONG_TIEN_GIANG",kim_yen_binh_chanh_hcm:"history_KIM_YEN_BINH_CHANH_HCM",kim_phat_thoi_an_nha_be:"history_KIMPHAT_THOIAN_NHABE",luc_ngoc_thanh_bien_hoa:"history_LUC_NGOC_THANH_BIENHOA",phuoc_thanh_can_duoc_long_an:"history_PHUOCTHANH_CANDUOC_LONGAN",kim_phat_hiep_thanh_quan_12_hcm:"history_KIM_PHAT_HIEPTHANH_QUAN12",kim_phat_nha_be_hcm:"history_KIM_PHAT_NHA_BE_HCM",kim_hanh_thu_duc_hcm:"history_KIMHANH_THUDUC_HCM",quoc_bao_son_bien_hoa:"history_QUOCBAO_SON_BIENHOA",minh_thanh_ben_luc_long_an:"history_MINHTHANH_BENLUC_LONGAN",my_ngoc_long_thanh_long_an:"history_MYNGOC_LONGTHANH_LONGAN",kim_ton_long_khanh_dong_nai:"history_KIMTON_LONGKHANH_DONGNAI",yen_hien_nghia_hung_nam_dinh:"history_YENHIEN_NGHIAHUNG_NAMDINH",xuan_mui_ninh_binh:"history_XUAN_MUI_NINH_BINH",hai_sen_dien_bien:"history_HAISEN_DIENBIEN",thanh_xuan_dong_anh_hn:"history_THANHXUAN_DONGANH_HN",da_phuc_son_tay_hn:"history_DAPHUC_SONTAY_HN",nha_huong_hai_phong:"history_NHAHUONG_HAIPHONG",hjc_quang_ninh:"history_HJC_QUANGNINH",kim_chung_le_hoan_thanh_hoa:"history_KIMCHUNG_LEHOAN_THANHHOA",hoa_tung_quang_ngai:"history_HOATUNG_QUANGNGAI",quy_tung_thai_nguyen:"history_QUY_TUNG_THAINGUYEN",kim_lien_quang_yen_quang_ninh:"history_KIM_LIEN_QUANG_YEN_QUANG_NINH",trung_sinh_thai_nguyen:"history_TRUNGSINH_THAINGUYEN",huong_yen_hai_duong:"history_HUONGYEN_HAIDUONG",kim_khanh_ha_nam:"history_KIMKHANH_HANAM",hai_hong_hai_phong:"history_HAIHONG_HAIPHONG",quang_hanh_hai_phong:"history_QUANGHANH_HAIPHONG",son_ha_bac_ninh:"history_SONHA_BACNINH",lu_huong_dong_hung_thai_binh:"history_LU_HUONG_DONG_HUNG_THAI_BINH",anh_minh_ho_tung_mau_hn:"history_ANHMINH_HOTUNGMAU_HN",huong_chi_bac_giang:"history_HUONGCHI_BACGIANG",nhat_ha_hai_phong:"history_NHAHA_HAIPHONG",phi_doan_ha_dong_hn:"history_PHIDOAN_HADONG",dai_nghia_nam_dinh:"history_DAINGHIA_NAMDINH",tien_ngoc_tu_son_bac_ninh:"history_TIENNGOC_TUSON_BACNINH",phuc_thanh_nam_dinh:"history_PHUCTHANH_NAMDINH",phuc_thanh_long_bien:"history_PHUCTHANH_LONGBIEN",hoan_hue_lao_cai:"history_HOANHUE_LAOCAI",gia_vang_mi_hong_sjc_tu_do_goldenfund_sjc_tu_do:"history_MIHONG_HCM",vang_doji:"history_DOJI",chow_tai_fook:"history_CHOW_TAI_FOOK",chow_tai_seng:"history_CHOW_TAI_SENG",lukfook_jewellery:"history_LukFook_Jewellery",chow_sang_sang:"history_Chow_Sang_Sang",vang_bac_huong_diu_bac_ninh:"history_HUONGDIU_BACNINH",huy_thanh_doi_can_hn:"history_HUYTHANH_DOICAN_HN",vang_nguyen_lieu_nam_dinh:"history_NGUYENLIEU_NAMDINH",malabargoldanddiamonds:"history_malabargoldanddiamonds",tokuriki_kanda_co_jp:"history_tokuriki_kanda_co_jp",tanaka_co_jp:"history_tanaka_co_jp",ishifuku:"history_ishifuku_JP",kim_tin_cao_bang:"history_KIMTIN_CAOBANG",bao_tin_manh_hai:"history_BAO_TIN_MANH_HAI",phu_quy_vang:"history_PHUQUY_VANG",anekalogam:"history_Anekalogam",aurum24_russian:"history_aurum24_russian",orient_singapore:"history_Orient_SINGAPORE",goldheart:"history_Goldheart_SINGAPORE",gvs_trading_dubai:"history_GVS_Trading_DUBAI",kanz_jewels_dubai:"history_Kanz_Jewels_DUBAI",igold:"history_IGOLD",lam_ngoc_thanh_bien_hoa:"history_LAMNGOCTHANH_BIENHOA",vang_ancarat:"history_VANG_ANCARAT",bao_tin_lan_vy_cau_giay_hn:"history_BAO_TIN_LAN_VY_CAU_GIAY_HN",kim_ngan_phuc_ha_noi:"history_KIM_NGAN_PHUC_HA_NOI",chien_minh_cau_giay_hn:"history_CHIEN_MINH_CAU_GIAY_HN",kim_chau_an_giang:"history_KIM_CHAU_AN_GIANG",vang_kim_hoan_camau:"history_VANG_KIM_HOAN_CAMAU",vang_pnj:"history_VANG_PNJ",phu_tai_long_bien_hn:"history_PHU_TAI_LONG_BIEN_HN",ngoc_tham_dong_thap:"history_NGOC_THAM_DONG_THAP",vang_btmc:"history_VANG_BTMC",sacombank_sbj_gold:"history_SACOMBANK_GOLD",huong_chi_bac_ninh:"history_HUONGCHI_BACGIANG","kim_hoa-phan_thiet-binh_thuan":"history_KIM_HOA_PHAN_THIET_BINH_THUAN",tu_minh_vinh_long:"history_HONG_LINH_VINH_LONG",hong_linh_vinh_long:"history_HONG_LINH_VINH_LONG","hong_nga-cao_lanh-dong_thap":"history_HONG_NGA_CA_LANH_DONG_THAP","kim_bao_tri-tan_phu-hcm":"history_KIM_BAO_TRI_TAN_PHU_HCM","kim_chau_2-an_giang":"history_KIM_CHAU_2_AN_GIANG","trong_nghia-quan_10-hcm":"history_TRONG_NGHIA_QUAN_10_HCM","kim_hoang_ngoan-long_khanh-dong":"history_KIM_HOANG_NGOAN_LONG_KHAN_DONG_NAI","kim_uyen-long_khanh-dong_nai":"history_KIM_UYEN_LONG_KHANH_DONG_NAI","kim_loan-quan_6-hcm":"history_KIM_LOAN_QUAN_6_HCM","kim_anh_tuan-long_khanh-dong_nai":"history_KIM_ANH_TUAN_Long_Khanh_Dong_Nai","kieu_ngoc-ha_tinh":"history_KIEU_NGOC_HA_TINH","ngoc_ha-quang_binh":"history_NGOC_HA_QUANG_BINH","kim_viet-tam_ky-quang_nam":"history_KIM_VIET_TAM_KY_QUANG_NAM","kim_thach_bich-nha_trang":"history_KIM_THACH_BICH_NHA_TRANG","kim_khanh_viet_hung-lien_chieu-da_nang":"history_KIM_KHANH_VIET_HUNG_LIEN_CHIEU_DA_NANG","my_long-quy_nhon":"history_MY_LONG_QUY_NHON","ngoc_thien-binh_dinh":"history_NGOC_THIEN_BINH_DINH",hoakimnguyen:"history_hoakimnguyen","hoa_kim_nguyen-da_nang":"history_HOA_KIM_NGUYEN_DA_NANG","nghia_tin-tam_ky-quang_nam":"history_NGHIA_TIN_TAM_KY_QUANG_NAM","kim_thu-ca_mau":"history_KIM_THU_CA_MAU","ngoc_hai-nhj-my_tho-tien_giang":"history_NGOC_HAI_NHJ_MY_THO_TIEN_GIANG",sinh_dien_bac_ninh:"history_SINH_DIEN_BAC_NINH","kim_thanh_h-binh_tan-hcm":"history_KIM_THANH_HBINH_TAN_HCM","mao_thiet-thai_binh":"history_MAOTHIET_THAIBINH","vietagold-me_tri-ntl-hn":"history_VIETAGOLD_ME_TRI",bullionbypost:"history_bullionbypost",korea_gold_exchange:"history_Korea_Gold_Exchange","thanh_lien-hai phong":"history_Thanh_Lien_HAI_PHONG",kim_chau_hai_hau_nam_inh:"history_Kim_Chau_Hai_Hau_Nam_Dinh","candere.com":"history_candere_com"},wy=["#FF5733","#33FF57","#3357FF","#FF33A1","#A133FF","#33FFA1","#FFA133","#33A1FF","#A1FF33","#FF3333","#FF6F91","#FFC75F","#F9F871","#0089BA","#845EC2","#4B4453","#C34A36","#00C9A7","#2C73D2","#FF8066","#AA96DA","#FCBAD3","#FFFFD2","#A8E6CF","#FDFFAB","#FFAAA5","#FFD3B6","#D291BC","#FEC8D8","#C7CEEA","#4D8076","#BEBBBB","#FFB5E8","#B28DFF","#AFF8DB","#85E3FF","#ACE7FF","#D5AAFF","#FFABAB","#FFDAAB","#FFB3BA","#FFDFBA","#FFFFBA","#BAFFC9","#BAE1FF","#D7BAFF","#FFC4E1","#C4FFF9","#F5A623","#7ED321","#BD10E0","#50E3C2","#4A90E2","#D0021B","#F8E71C","#9013FE","#B8E986","#417505","#8B572A","#F5A623","#29A7E5","#E5295A","#29E5C3","#E5D129","#9B29E5","#E529D6","#29E578","#E56329","#29C8E5","#E55C29","#FF7F50","#6495ED","#40E0D0","#FF1493","#7FFF00","#00FA9A","#FFD700","#00CED1","#1E90FF","#DC143C"],HIt=n=>!n||n.length===0?[]:n.map(t=>{const e=t.toLowerCase().trim();if(cC[e])return HG+cC[e];const i=e.replace(/[^a-z0-9]/g,""),r=Object.keys(cC).find(a=>{const s=a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"");return s.includes(i)||i.includes(s)});return r?HG+cC[r]:null}).filter(t=>t!==null);function GIt(){const[n,t]=N.useState(null),[e,i]=N.useState(!1),[r]=yf(),a=r.get("data"),s=a?a.split("|"):[],[o,l]=N.useState("buy"),[c,h]=N.useState("VANG");N.useEffect(()=>{if(!s||s.length===0){t([]);return}(async()=>{i(!0);const x=HIt(s);if(x.length===0){i(!1);return}try{const w=x.map(T=>fetch(T).then(R=>R.json())),A=(await Promise.all(w)).filter(T=>T&&T.status==="success").map(T=>T);t(A)}catch(w){console.error("Li khi ti d liu:",w)}finally{i(!1)}})()},[a]);const d=N.useMemo(()=>{if(!n||n.length===0)return{labels:[],datasets:[]};const y=c==="VANG"?"data_vang":"data_bac",x=n.filter(A=>{const T=A?.[y]?.data;return Array.isArray(T)&&T.length>0});if(x.length===0)return{labels:[],datasets:[]};const w=[...x[0][y].data].reverse().map(A=>A.datetime),k=x.map((A,T)=>{const R=[...A[y].data].reverse();return{label:R[0]?.product||`Sn phm ${T+1}`,data:R.map(G=>G[o]),borderColor:wy[T%wy.length],backgroundColor:wy[T%wy.length],tension:.2,pointRadius:2,type:"line"}});return{labels:w,datasets:k}},[n,o,c]),g={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{title:{display:!0,text:o==="buy"?"Gi Mua Vo (VND)":"Gi Bn Ra (VND)"},ticks:{callback:function(y){return new Intl.NumberFormat("vi-VN",{notation:"compact"}).format(y)}}},x:{title:{display:!0,text:"Thi gian"},ticks:{maxTicksLimit:10}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(y){let x=y.dataset.label||"";return x&&(x+=": "),y.parsed.y!==null&&(x+=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(y.parsed.y)),x}}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}}}};return console.log("check dataChart: ",n),u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{marginLeft:"40px",marginTop:"20px"},children:[u.jsx("button",{className:`btn-type ${c==="VANG"?"btn-active":""}`,onClick:()=>{c!=="VANG"&&h("VANG")},children:"So snh vng"}),u.jsx("button",{className:`btn-type ${c==="BAC"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>{c!=="BAC"&&h("BAC")},children:"So snh bc"})]}),u.jsxs("div",{className:"modal-box",style:{height:"90vh",width:"95%",padding:"20px",borderRadius:"8px",display:"flex",flexDirection:"column",margin:"auto",marginTop:"10px"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"10px"},children:"So snh gi lch s cc nh vng"}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",marginBottom:"15px",gap:"10px"},children:[u.jsx("button",{onClick:()=>l("buy"),style:{padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",backgroundColor:o==="buy"?"#2ecc71":"#ecf0f1",color:o==="buy"?"white":"#7f8c8d",transition:"all 0.3s"},children:"Mua Vo"}),u.jsx("button",{onClick:()=>l("sell"),style:{padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",backgroundColor:o==="sell"?"#e74c3c":"#ecf0f1",color:o==="sell"?"white":"#7f8c8d",transition:"all 0.3s"},children:"Bn Ra"})]}),u.jsx("div",{style:{flex:1,position:"relative",minHeight:0},children:e?u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:"ang ti d liu..."}):!n||n.length>0?u.jsx(xa,{type:"line",data:d,options:g},`${s.join(",")}-${o}`):u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:"Khng tm thy d liu ph hp"})})]}),!e&&n&&n.length>0&&u.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid #eee",padding:"20px"},children:[u.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px"},children:" Hiu qu u t vng"}),u.jsx("div",{style:{overflowX:"auto"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{textAlign:"left"},children:[u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"Nh vng"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy bt u"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi u (VN)"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy kt thc"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi cui (VN)"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Li nhun"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"% Tng trng"})]})}),u.jsx("tbody",{children:n.map((y,x)=>{const w=y?.data_vang?.tangtruong||[],k=w.length;return u.jsx(mr.Fragment,{children:w.map((A,T)=>{const R=T===k-1,G=R?A?.cuoi:A?.cuoituan,z=R?A?.dau:A?.dautuan,F=R?A?.tilephantram_all:A?.tilephantram_1tuan;return u.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[T===0&&u.jsx("td",{rowSpan:k,style:{padding:"12px 10px",fontWeight:"bold",verticalAlign:"middle",color:wy[x%wy.length],borderRight:"1px solid #f0f0f0"},children:w[0]?.cuoituan?.product||w[0]?.cuoi?.product}),u.jsx("td",{style:{padding:"10px",textAlign:"right"},children:z?.datetime?.split(" ")[0]}),u.jsx("td",{style:{padding:"10px",textAlign:"right"},children:z?.buy?.toLocaleString()}),u.jsx("td",{style:{padding:"10px",textAlign:"right"},children:G?.datetime?.split(" ")[0]}),u.jsx("td",{style:{padding:"10px",textAlign:"right"},children:G?.buy?.toLocaleString()}),u.jsx("td",{style:{padding:"10px",textAlign:"right",color:A?.loinhuan>=0?"#27ae60":"#e74c3c",fontWeight:"500"},children:A?.loinhuan>0?`+${A.loinhuan.toLocaleString()}`:A?.loinhuan?.toLocaleString()}),u.jsxs("td",{style:{padding:"10px",textAlign:"right",color:F>=0?"#27ae60":"#e74c3c",fontWeight:"bold"},children:[F?.toFixed(2),"%"]})]},`${x}-${T}`)})},x)})})]})}),u.jsx("h3",{style:{marginBottom:"15px",fontSize:"18px",marginTop:"80px",color:"#bdc3c7"},children:" Hiu qu u t bc"}),u.jsx("div",{style:{overflowX:"auto"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{textAlign:"left"},children:[u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:"Nh vng"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy bt u"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi u (VN)"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Ngy kt thc"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Gi cui (VN)"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"Li nhun"}),u.jsx("th",{style:{padding:"10px",borderBottom:"1px solid #ddd",textAlign:"right"},children:"% Tng trng"})]})}),u.jsx("tbody",{children:n.map((y,x)=>{const w=y?.data_bac?.tangtruong||[],k=w.length;return u.jsx(mr.Fragment,{children:w.map((A,T)=>{const R=T===k-1,G=R?A?.cuoi:A?.cuoituan,z=R?A?.dau:A?.dautuan,F=R?A?.tilephantram_all:A?.tilephantram_1tuan;return u.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[T===0&&u.jsx("td",{rowSpan:k,style:{padding:"12px 10px",fontWeight:"bold",verticalAlign:"middle",color:wy[x%wy.length],borderRight:"1px solid #f0f0f0"},children:w[0]?.cuoituan?.product||w[0]?.cuoi?.product}),u.jsx("td",{style:{padding:"10px",textAlign:"right"},children:z?.datetime?.split(" ")[0]}),u.jsx("td",{style:{padding:"10px",textAlign:"right"},children:z?.buy?.toLocaleString()}),u.jsx("td",{style:{padding:"10px",textAlign:"right"},children:G?.datetime?.split(" ")[0]}),u.jsx("td",{style:{padding:"10px",textAlign:"right"},children:G?.buy?.toLocaleString()}),u.jsx("td",{style:{padding:"10px",textAlign:"right",color:A?.loinhuan>=0?"#27ae60":"#e74c3c",fontWeight:"500"},children:A?.loinhuan>0?`+${A.loinhuan.toLocaleString()}`:A?.loinhuan?.toLocaleString()}),u.jsxs("td",{style:{padding:"10px",textAlign:"right",color:F>=0?"#27ae60":"#e74c3c",fontWeight:"bold"},children:[F?.toFixed(2),"%"]})]},`${x}-${T}`)})},x)})})]})}),u.jsx("p",{style:{fontSize:"12px",color:"#7f8c8d",marginTop:"10px",fontStyle:"italic"},children:"* Li nhun tnh trn chnh lch gia gi Mua vo hin ti so vi gi Bn ra ca nh vng ti thi im qu kh."})]})]})}function WIt(){return u.jsx("div",{children:u.jsx(GIt,{})})}function UIt(){Gi();const n=rc(),[t,e]=N.useState(null),i=N.useMemo(()=>({day:n.day?Number(n.day):null,month:n.month?Number(n.month):null,year:n.year?Number(n.year):null,hour:n.hour?Number(n.hour):null,minute:n.minute?Number(n.minute):null,region:n.region||"Vietnam",type:n.type||"gold",level:n.level||"3"}),[n]),{loading:r,error:a,displayedPrices:s,loadingProgress:o}=fO(i);if(r&&s.length===0)return u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti d liu gi vng..."}),o.total>0&&u.jsxs("p",{className:"loading-progress",children:[" ti ",o.loaded,"/",o.total," ngun"]})]});if(a)return u.jsxs("div",{className:"error-container",children:[u.jsxs("p",{className:"error-message",children:[" ",a]}),u.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Th li"})]});const l=s.filter(c=>c.do_uy_tin==i.level).map(c=>{const h=c.items.find(d=>d.purity==="9999"||d.purity==="1KG_BAC_999");return h?{...h,difference:h.sell-h.buy,nameVendor:c.name,level:c.do_uy_tin}:null}).filter(Boolean).sort((c,h)=>c.sell-h.sell);return console.log("filteredItems: ",l),u.jsx("div",{className:"modal-overlay-",children:u.jsxs("div",{className:"modal-content-c",children:[u.jsx("div",{className:"modal-header",children:u.jsxs("h2",{children:["Biu  so snh gi ",i.type=="gold"?"vng":"bc"," vi  uy tn ",i.level,"  "]})}),l.length>0?u.jsx("div",{className:"chart-wrapper",children:u.jsx(f2,{width:"100%",height:450,children:u.jsxs(W2,{data:l,margin:{top:20,right:20,bottom:40,left:20},children:[u.jsx(v_,{strokeDasharray:"3 3"}),u.jsx(x_,{dataKey:"nameVendor",angle:-45,textAnchor:"end",interval:0,height:100,padding:{left:20,right:20},tick:{fontSize:12,fill:"#ddd"}}),u.jsx(b_,{tickFormatter:c=>c.toLocaleString(),tick:{fontSize:12,fill:"#ddd"}}),u.jsx(j2,{formatter:c=>c.toLocaleString()}),u.jsx(Dy,{dataKey:"sell",barSize:40,barCategoryGap:"15%",fill:"#ae5f0fff"}),u.jsx(Dy,{dataKey:"buy",barSize:40,barCategoryGap:"15%",fill:"#12631cff"}),u.jsx(Dy,{dataKey:"difference",barSize:40,barCategoryGap:"15%",fill:"#d32b05ff",onClick:(c,h)=>{e(!0)}})]})})}):u.jsxs("p",{children:["khng c d liu ",i.type=="gold"?"vng":"bc"," 9999 "]}),t&&u.jsxs("div",{className:"chart-wrapper",children:[u.jsxs("div",{className:"bb",children:[u.jsxs("h2",{children:[" chch lch gi ",i.type=="gold"?"vng":"bc"," vi  uy tn ",i.level,"  "]}),u.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:""})]}),u.jsx(f2,{width:"100%",height:450,children:u.jsxs(W2,{data:l,margin:{top:20,right:20,bottom:40,left:20},children:[u.jsx(v_,{strokeDasharray:"3 3"}),u.jsx(x_,{dataKey:"nameVendor",angle:-45,textAnchor:"end",interval:0,height:100,padding:{left:20,right:20},tick:{fontSize:12,fill:"#ddd"}}),u.jsx(b_,{tickFormatter:c=>c.toLocaleString(),tick:{fontSize:12,fill:"#ddd"}}),u.jsx(j2,{formatter:c=>c.toLocaleString()}),u.jsx(Dy,{dataKey:"difference",barSize:40,barCategoryGap:"15%",fill:"#d32b05ff"})]})})]})]})})}const ql=(n,t="buy")=>!n||n.length===0?[]:[...n].sort((i,r)=>i.id_time-r.id_time).map(i=>({x:new Date(Number(i.id_time)),y:t==="buy"?i.buy||0:i.sell||0})),GG=n=>{if(!n||n.length===0)return[];const e=[...n].sort((i,r)=>nE(i.x)-nE(r.x)).map(i=>({x:nE(i.x),y:i.y}));return console.log("formatLineMaterialDataXY result:",e.slice(0,2)),e},Qs=(n,t="buy")=>{if(!n||n.length===0)return[];const e=a=>{if(!a)return new Date;if(typeof a=="string"&&a.includes("/")){const s=a.split("/");if(s.length===3){const o=parseInt(s[0],10),l=parseInt(s[1],10)-1,c=parseInt(s[2],10);return new Date(c,l,o)}}return new Date(a)};return n.filter(a=>a&&a.id_time).sort((a,s)=>e(a.id_time)-e(s.id_time)).map(a=>{const s=a[t]??0;return{x:e(a.id_time).getTime(),y:s}})};function nE(n){if(!n)return NaN;const t=/^(\d{2})\/(\d{2})\/(\d{4})$/,e=/^(\d{4})-(\d{2})-(\d{2})$/;let i;if(i=n.match(t)){const[,r,a,s]=i.map(Number);return Date.UTC(s,a-1,r)}else if(i=n.match(e)){const[r,a,s]=n.split("-").map(Number);return Date.UTC(r,a-1,s)}else return NaN}const YIt="https://api_gold.thinkdiff.us/history_sjc_nguyenlieu_USD_SILVER_GOLDENFUN",$It="https://api_gold.thinkdiff.us/history_lich_su_vang_nguyen_lieu_kimtin_tu_2009",VIt="https://api_gold.thinkdiff.us/history_goonus",XIt="https://api_gold.thinkdiff.us/history_bac_phuquy",qIt="https://api_gold.thinkdiff.us/phuquy_gold_history",KIt="https://api_gold.thinkdiff.us/korea_gold_history",ZIt="https://api_gold.thinkdiff.us/sacombank_vang_history",QIt="https://api_gold.thinkdiff.us/sacombank_bac_history",JIt="https://api_gold.thinkdiff.us/sacombank_vang_history",t3t="https://api_gold.thinkdiff.us/sacombank_bac_history",UK=async()=>{try{const n=await fetch(YIt),t=await fetch($It),e=await fetch(VIt),i=await fetch(JIt),r=await fetch(t3t),a=await fetch(XIt),s=await fetch(qIt),o=await fetch(KIt),l=await fetch(ZIt),c=await fetch(QIt);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const h=await n.json();if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const d=await t.json();if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const g=await e.json();if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const y=await a.json();if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const x=await s.json();if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const w=await i.json();if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const k=await r.json();console.log("Raw dataHistorySJC_GOLD:",w?.data?.slice(0,2)),console.log("Raw dataHistorySJC_SILVER:",k?.data?.slice(0,2));const A=w.data.map((re,ve)=>{let ze=null;return re.data&&Array.isArray(re.data)&&re.data[1]&&re.data[1].buy!==void 0?ze=re.data[1].buy:re.buy!==void 0&&(ze=re.buy),{x:re?.date,y:ze}}),T=k.data.map((re,ve)=>({x:re.date,y:re.buy}));if(console.log("Formatted materialHistorySJC_GOLD:",A.slice(0,2)),console.log("Formatted materialHistorySJC_SILVER:",T.slice(0,2)),!c.ok)throw new Error(`HTTP error! status: ${c.status}`);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const R=await l.json(),G=await c.json(),z=await o.json(),F=h.SJC||[],H=h.vang_nguyenlieu||[],Y=h.tygia_usd||[],J=d.lich_su_gia_nguyen_lieu_vietnam||[],nt=g.btmc||[],V=g.btmh||[],Z=g.doji||[],rt=g.mihong||[],lt=g.ngoctham||[],mt=g.pnj||[],ct=g.vang_phuquy||[],st=y.list_phuquy||[],xt=x.map(re=>re.nhan_tron_phu_quy_9999?{id_time:re.update_time,...JSON.parse(re.nhan_tron_phu_quy_9999)}:null),dt=x.map(re=>re.vang_mieng_sjc?{id_time:re.update_time,...JSON.parse(re.vang_mieng_sjc)}:null),ht=x.map(re=>re.vang_trang_suc_98?{id_time:re.update_time,...JSON.parse(re.vang_trang_suc_98)}:null),ot=x.map(re=>re.vang_trang_suc_99?{id_time:re.update_time,...JSON.parse(re.vang_trang_suc_99)}:null),vt=x.map(re=>re.vang_trang_suc_999?{id_time:re.update_time,...JSON.parse(re.vang_trang_suc_999)}:null),St=x.map(re=>re.vang_trang_suc_9999?{id_time:re.update_time,...JSON.parse(re.vang_trang_suc_9999)}:null),Pt=(re,ve="buy")=>{const Ee=re.filter(Ui=>{const Zr=Ui[ve],nr=Zr>=2e7&&Zr<=5e8;return nr||console.log(`Outlier removed - ${ve}: ${Zr} (outside range [20000000, 500000000])`),nr});return console.log(`Outlier filter - Before: ${re.length}, After: ${Ee.length}`),Ee},It="1 VNG M NGH P V";let Nt=[];if(console.log("Vng Sac - Data structure:",{hasData:!!R?.data,isArray:Array.isArray(R?.data),firstItem:R?.data?.[0]}),R?.data&&Array.isArray(R?.data)&&R?.data.length>0&&!R?.data[0]?.data){let re=R.data.map(ve=>{const ze=ve.buy!==void 0&&ve.buy!==null?ve.buy:0,Pe=ve.sell!==void 0&&ve.sell!==null?ve.sell:0;return{id_time:ve.date||new Date().toISOString().split("T")[0],buy:ze,sell:Pe}}).filter(ve=>ve.id_time&&ve.buy>0&&ve.sell>0);Nt=Pt(re,"buy"),console.log("Vng Sac (Simple) - After outlier removal:",Nt.slice(0,3),"Total items:",Nt.length)}else R?.data&&Array.isArray(R?.data)&&R?.data.length>0&&R?.data[0]?.data&&Array.isArray(R?.data[0].data)?(Nt=R.data.flatMap(re=>re.data&&Array.isArray(re.data)?re.data.filter(ve=>ve.name===It).map(ve=>{const ze=ve.buy!==void 0&&ve.buy!==null?ve.buy:ve.buy_price!==void 0&&ve.buy_price!==null?ve.buy_price:0,Pe=ve.sell!==void 0&&ve.sell!==null?ve.sell:ve.sell_price!==void 0&&ve.sell_price!==null?ve.sell_price:0;return{id_time:ve.date||ve.id_time||re.date||new Date().toISOString().split("T")[0],buy:ze,sell:Pe}}):[]).filter(re=>re.buy>0&&re.sell>0),console.log("Vng Sac (Nested) - First 3 items after parse:",Nt.slice(0,3))):Array.isArray(R)?Nt=R.map(re=>({id_time:re.date||re.id_time||re.update_time,buy:re.buy!==void 0&&re.buy!==null?re.buy:re.buy_price!==void 0&&re.buy_price!==null?re.buy_price:0,sell:re.sell!==void 0&&re.sell!==null?re.sell:re.sell_price!==void 0&&re.sell_price!==null?re.sell_price:0})).filter(re=>re.id_time&&re.buy>0&&re.sell>0):R.data&&Array.isArray(R.data)&&(Nt=R.data.map(re=>({id_time:re.date||re.id_time||re.update_time,buy:re.buy!==void 0&&re.buy!==null?re.buy:re.buy_price!==void 0&&re.buy_price!==null?re.buy_price:0,sell:re.sell!==void 0&&re.sell!==null?re.sell:re.sell_price!==void 0&&re.sell_price!==null?re.sell_price:0})).filter(re=>re.id_time&&re.buy>0&&re.sell>0));let Et=[];Et=(Array.isArray(G)?G:G&&G.data||[]).map(re=>{if(!re)return null;const ve=re.date||re.id_time||re.crawled_at||re.update_time,ze=re.buy!==void 0&&re.buy!==null?re.buy:re.buy_price!==void 0&&re.buy_price!==null?re.buy_price:0,Pe=re.sell!==void 0&&re.sell!==null?re.sell:re.sell_price!==void 0&&re.sell_price!==null?re.sell_price:0;return ve&&(ze>0||Pe>0)?{id_time:ve,buy:ze,sell:Pe}:null}).filter(Boolean),console.log("Vng Hn Quc - Sample record:",z.data?.records?.[0]),console.log("Vng Hn Quc - gold_pure structure:",z.data?.records?.[0]?.gold_pure);const Rt=z.data.records.filter(re=>{if(!re||!re.date_key||!re.gold_pure)return!1;const ve=new Date(re.date_key).getFullYear();return ve>=2009&&!isNaN(ve)}).map(re=>{const ve=re.gold_pure?.buy_vnd||re.gold_pure?.buy||0,ze=re.gold_pure?.sell_vnd||re.gold_pure?.sell||0;return re===z.data.records.filter(Pe=>Pe?.gold_pure)[0]&&console.log("Vng Hn Quc - First item parsed:",{date_key:re.date_key,buy_vnd:re.gold_pure?.buy_vnd,sell_vnd:re.gold_pure?.sell_vnd,buy:re.gold_pure?.buy,sell:re.gold_pure?.sell,parsed_buy:ve,parsed_sell:ze,full_gold_pure:re.gold_pure}),{id_time:re.date_key,buy:ve,sell:ze}}).filter(re=>re.buy>0&&re.sell>0);console.log("Vng Hn Quc - First 3 items after parse:",Rt.slice(0,3));const ee=nP(F),fe=nP(H),Jt=nP(Y),ue=ql(J,"buy"),Te=ql(J,"sell"),qe=ql(nt,"buy"),on=ql(nt,"sell"),He=ql(V,"buy"),mi=ql(V,"sell"),Si=ql(Z,"buy"),li=ql(Z,"sell"),Xe=ql(rt,"buy"),Ei=ql(rt,"sell"),Ke=ql(lt,"buy"),dn=ql(lt,"sell"),Jn=ql(mt,"buy"),ki=ql(mt,"sell"),$n=ql(ct,"buy"),ti=ql(ct,"sell"),be=Qs(st,"buy"),cn=Qs(st,"sell"),tn=Qs(xt,"mua"),On=Qs(xt,"ban"),un=Qs(dt,"mua"),kn=Qs(dt,"ban"),Dn=Qs(ot,"mua"),Bn=Qs(ot,"ban"),_r=Qs(vt,"mua"),or=Qs(vt,"ban"),as=Qs(St,"mua"),tr=Qs(St,"ban"),_a=Qs(ht,"mua"),Cr=Qs(ht,"ban"),ei=Qs(Rt,"buy"),er=Qs(Rt,"sell"),ji=Qs(Et,"buy"),vn=Qs(Et,"sell");ei.length>0&&(console.log("Vng Hn Quc - After format (first 3):",ei.slice(0,3)),console.log("Vng Hn Quc - Max buy:",Math.max(...ei.map(re=>re.y))),console.log("Vng Hn Quc - Min buy:",Math.min(...ei.map(re=>re.y))));const Vn=Qs(Nt,"buy"),nn=Qs(Nt,"sell");Vn.length>0&&(console.log("Vng Sac - After format (first 3):",Vn.slice(0,3)),console.log("Vng Sac - Max buy:",Math.max(...Vn.map(re=>re.y))),console.log("Vng Sac - Min buy:",Math.min(...Vn.map(re=>re.y))));const We=GG(A),Kr=GG(T);return{sjcData:ee,nguyenLieuData:fe,usdData:Jt,buyDataMaterial:ue,sellDataMaterial:Te,buyDataHistoryGooonusBTMC:qe,sellDataHistoryGooonusBTMC:on,buyDataHistoryGooonusBTMH:He,sellDataHistoryGooonusBTMH:mi,buyDataHistoryGooonusDOJI:Si,sellDataHistoryGooonusDOJI:li,buyDataHistoryGooonusMIHONG:Xe,sellDataHistoryGooonusMIHONG:Ei,buyDataHistoryGooonusNGOCTHAM:Ke,sellDataHistoryGooonusNGOCTHAM:dn,buyDataHistoryGooonusPNJ:Jn,sellDataHistoryGooonusPNJ:ki,buyDataHistoryGooonusVANGPHUQUY:$n,sellDataHistoryGooonusVANGPHUQUY:ti,buyDataHistoryGooonusBacPhuQuy:be,sellDataHistoryGooonusBacPhuQuy:cn,buyDataHistoryGooonusNhanTronPhuQuy9999:tn,sellDataHistoryGooonusNhanTronPhuQuy9999:On,buyDataHistoryGooonusVangMiengSjc:un,sellDataHistoryGooonusVangMiengSjc:kn,buyDataHistoryGooonusVangTrangSuc99:Dn,sellDataHistoryGooonusVangTrangSuc99:Bn,buyDataHistoryGooonusVangTrangSuc999:_r,sellDataHistoryGooonusVangTrangSuc999:or,buyDataHistoryGooonusVangTrangSuc9999:as,sellDataHistoryGooonusVangTrangSuc9999:tr,buyDataHistoryGooonusVangTrangSuc98:_a,sellDataHistoryGooonusVangTrangSuc98:Cr,buySJC_GOLD:We,buySJC_SILVER:Kr,buyDataHistoryGooonusVangHanQuoc:ei,sellDataHistoryGooonusVangHanQuoc:er,buyDataHistoryGooonusVangSac:Vn,sellDataHistoryGooonusVangSac:nn,buyDataHistoryGooonusBacSac:ji,sellDataHistoryGooonusBacSac:vn}}catch(n){throw console.error("Error fetching candlestick data:",n),n}},e3t=n=>{const t=new Date,e=new Date(t);switch(n){case"1W":e.setDate(e.getDate()-7);break;case"1M":e.setMonth(e.getMonth()-1);break;case"6M":e.setMonth(e.getMonth()-6);break;case"1Y":e.setFullYear(e.getFullYear()-1);break;case"ALL":return null;default:e.setFullYear(e.getFullYear()-1)}return e},Qe=(n,t)=>{if(!Array.isArray(n)||t==="ALL")return n;const e=e3t(t);if(!e)return n;const i=e.getTime();return n.filter(r=>Number(r.x)>=i)};function n3t(n,t){const{x:e,y:i,base:r,width:a,height:s}=n.getProps(["x","low","high","width","height"],t);let o,l,c,h,d;return n.horizontal?(d=s/2,o=Math.min(e,r),l=Math.max(e,r),c=i-d,h=i+d):(d=a/2,o=e-d,l=e+d,c=Math.min(i,r),h=Math.max(i,r)),{left:o,top:c,right:l,bottom:h}}function iE(n,t,e,i){const r=t===null,a=e===null,s=!n||r&&a?!1:n3t(n,i);return s&&(r||t>=s.left&&t<=s.right)&&(a||e>=s.top&&e<=s.bottom)}class cA extends Fa{static defaults={backgroundColors:{up:"rgba(75, 192, 192, 0.5)",down:"rgba(255, 99, 132, 0.5)",unchanged:"rgba(201, 203, 207, 0.5)"},borderColors:{up:"rgb(75, 192, 192)",down:"rgb(255, 99, 132)",unchanged:"rgb(201, 203, 207)"}};height(){return this.base-this.y}inRange(t,e,i){return iE(this,t,e,i)}inXRange(t,e){return iE(this,t,null,e)}inYRange(t,e){return iE(this,null,t,e)}getRange(t){return t==="x"?this.width/2:this.height/2}getCenterPoint(t){const{x:e,low:i,high:r}=this.getProps(["x","low","high"],t);return{x:e,y:(r+i)/2}}tooltipPosition(t){const{x:e,open:i,close:r}=this.getProps(["x","open","close"],t);return{x:e,y:(i+r)/2}}}const hb=gi.defaults;class i3t extends cA{static id="ohlc";static defaults={...cA.defaults,lineWidth:2,armLength:null,armLengthRatio:.8};draw(t){const e=this,{x:i,open:r,high:a,low:s,close:o}=e,l=sn(e.armLengthRatio,hb.elements.ohlc.armLengthRatio);let c=sn(e.armLength,hb.elements.ohlc.armLength);c===null&&(c=e.width*l*.5),o<r?t.strokeStyle=sn(e.options.borderColors?e.options.borderColors.up:void 0,hb.elements.ohlc.borderColors.up):o>r?t.strokeStyle=sn(e.options.borderColors?e.options.borderColors.down:void 0,hb.elements.ohlc.borderColors.down):t.strokeStyle=sn(e.options.borderColors?e.options.borderColors.unchanged:void 0,hb.elements.ohlc.borderColors.unchanged),t.lineWidth=sn(e.lineWidth,hb.elements.ohlc.lineWidth),t.beginPath(),t.moveTo(i,a),t.lineTo(i,s),t.moveTo(i-c,r),t.lineTo(i,r),t.moveTo(i+c,o),t.lineTo(i,o),t.stroke()}}class uA extends F_{static overrides={label:"",parsing:!1,hover:{mode:"label"},animations:{numbers:{type:"number",properties:["x","y","base","width","open","high","low","close"]}},scales:{x:{type:"timeseries",offset:!0,ticks:{major:{enabled:!0},source:"data",maxRotation:0,autoSkip:!0,autoSkipPadding:75,sampleSize:100}},y:{type:"linear"}},plugins:{tooltip:{intersect:!1,mode:"index",callbacks:{label(t){const e=t.parsed;if(!di(e.y))return gr.plugins.tooltip.callbacks.label(t);const{o:i,h:r,l:a,c:s}=e;return`O: ${i}  H: ${r}  L: ${a}  C: ${s}`}}}}};getLabelAndValue(t){const e=this,i=e.getParsed(t),r=e._cachedMeta.iScale.axis,{o:a,h:s,l:o,c:l}=i,c=`O: ${a}  H: ${s}  L: ${o}  C: ${l}`;return{label:`${e._cachedMeta.iScale.getLabelForValue(i[r])}`,value:c}}getUserBounds(t){const{min:e,max:i,minDefined:r,maxDefined:a}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:a?i:Number.POSITIVE_INFINITY}}getMinMax(t){const e=this._cachedMeta,i=e._parsed,r=e.iScale.axis,a=this._getOtherScale(t),{min:s,max:o}=this.getUserBounds(a);if(i.length<2)return{min:0,max:1};if(t===e.iScale)return{min:i[0][r],max:i[i.length-1][r]};const l=i.filter(({x:d})=>d>=s&&d<o);let c=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let d=0;d<l.length;d++){const g=l[d];c=Math.min(c,g.l),h=Math.max(h,g.h)}return{min:c,max:h}}calculateElementProperties(t,e,i,r){const a=this,s=a._cachedMeta.vScale,o=s.getBasePixel(),l=a._calculateBarIndexPixels(t,e,r),c=a.chart.data.datasets[a.index].data[t],h=s.getPixelForValue(c.o),d=s.getPixelForValue(c.h),g=s.getPixelForValue(c.l),y=s.getPixelForValue(c.c);return{base:i?o:g,x:l.center,y:(g+d)/2,width:l.size,open:h,high:d,low:g,close:y}}draw(){const t=this,e=t.chart,i=t._cachedMeta.data;e1(e.ctx,e.chartArea);for(let r=0;r<i.length;++r)i[r].draw(t._ctx);n1(e.ctx)}}class DFt extends uA{static id="ohlc";static defaults={...uA.defaults,dataElementType:i3t.id,datasets:{barPercentage:1,categoryPercentage:1}};updateElements(t,e,i,r){const a=r==="reset",s=this._getRuler(),{sharedOptions:o,includeOptions:l}=this._getSharedOptions(e,r);for(let c=e;c<e+i;c++){const h=o||this.resolveDataElementOptions(c,r),d=this.calculateElementProperties(c,s,a,h);l&&(d.options=h),this.updateElement(t[c],c,d,r)}}}class YK extends cA{static id="candlestick";static defaults={...cA.defaults,borderWidth:1};draw(t){const e=this,{x:i,open:r,high:a,low:s,close:o}=e;let l=e.options.borderColors;typeof l=="string"&&(l={up:l,down:l,unchanged:l});let c;o<r?(c=sn(l?l.up:void 0,gr.elements.candlestick.borderColors.up),t.fillStyle=sn(e.options.backgroundColors?e.options.backgroundColors.up:void 0,gr.elements.candlestick.backgroundColors.up)):o>r?(c=sn(l?l.down:void 0,gr.elements.candlestick.borderColors.down),t.fillStyle=sn(e.options.backgroundColors?e.options.backgroundColors.down:void 0,gr.elements.candlestick.backgroundColors.down)):(c=sn(l?l.unchanged:void 0,gr.elements.candlestick.borderColors.unchanged),t.fillStyle=sn(e.backgroundColors?e.backgroundColors.unchanged:void 0,gr.elements.candlestick.backgroundColors.unchanged)),t.lineWidth=sn(e.options.borderWidth,gr.elements.candlestick.borderWidth),t.strokeStyle=c,t.beginPath(),t.moveTo(i,a),t.lineTo(i,Math.min(r,o)),t.moveTo(i,s),t.lineTo(i,Math.max(r,o)),t.stroke(),t.fillRect(i-e.width/2,o,e.width,r-o),t.strokeRect(i-e.width/2,o,e.width,r-o),t.closePath()}}class r3t extends uA{static id="candlestick";static defaults={...uA.defaults,dataElementType:YK.id};static defaultRoutes=F_.defaultRoutes;updateElements(t,e,i,r){const a=r==="reset",s=this._getRuler(),{sharedOptions:o,includeOptions:l}=this._getSharedOptions(e,r);for(let c=e;c<e+i;c++){const h=o||this.resolveDataElementOptions(c,r),d=this.calculateElementProperties(c,s,a,h);l&&(d.options=h),this.updateElement(t[c],c,d,r)}}}gi.register(fd,Ji,r3t,YK,Xo,Qi,sr);const PD=({data:n,title:t,timeRange:e,setTimeRange:i})=>{const[r,a]=N.useState(!1);if(!n||n.length===0)return u.jsxs("div",{className:"chart-wrapper",children:[u.jsx("h3",{className:"chart-title",children:t}),u.jsx("div",{className:"chart-empty",children:u.jsx("p",{children:"Khng c d liu"})})]});const s={datasets:[{label:t,data:n,borderColor:"#64748B",backgroundColor:"rgba(100, 116, 139, 0.1)",color:{up:"#22C55E",down:"#EF4444",unchanged:"#64748B"},borderWidth:1}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1E293B",titleColor:"#FACC15",bodyColor:"#F1F5F9",borderColor:"#FACC15",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:l=>{const c=l.raw;if(!c)return[];const{o:h,h:d,l:g,c:y}=c;return[`Open: ${h?.toLocaleString()||0}`,`High: ${d?.toLocaleString()||0}`,`Low: ${g?.toLocaleString()||0}`,`Close: ${y?.toLocaleString()||0}`]}}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#64748B",font:{size:11,family:"Inter, sans-serif"}}},y:{grid:{color:"rgba(148, 163, 184, 0.1)",drawBorder:!1},ticks:{color:"#64748B",font:{size:11,family:"Inter, sans-serif"},callback:l=>l.toLocaleString()}}},onClick:()=>a(!0)};return u.jsxs("div",{className:"chart-wrapper",children:[u.jsx("h3",{className:"chart-title",style:{cursor:"pointer"},onClick:()=>{a(!0)},children:t}),u.jsx("div",{className:"chart-container",children:u.jsx(xa,{type:"candlestick",data:s,options:o})}),r&&u.jsx("div",{className:"contain-popup-candle",children:u.jsxs("div",{className:"chart-popup",children:[u.jsx(T1,{activeRange:e,onRangeChange:i}),u.jsx("h3",{className:"chart-title-popup",children:t}),u.jsx("div",{className:"chart-popup-content",style:{pointerEvents:"initial"},children:u.jsx(xa,{type:"candlestick",data:s,options:o})}),u.jsx("button",{className:"close-btn-candle",onClick:()=>a(!1),children:"ng"})]})})]})};gi.register(fd,Ji,pa,Xr,Xo,Qi,sr,dh);const ED=({buyData:n,sellData:t,title:e,isZoom:i})=>{e&&(e.includes("Vng Sac")||e.includes("Hn Quc"))&&console.log(`DoubleLineChart [${e}]:`,{buyData_first3:n?.slice(0,3),sellData_first3:t?.slice(0,3),buyData_length:n?.length,sellData_length:t?.length,buyData_max:n?.length>0?Math.max(...n.map(s=>s.y)):0,sellData_max:t?.length>0?Math.max(...t.map(s=>s.y)):0});const r={datasets:[{label:"Buy",data:n,borderColor:"#22C55E",fill:!1,tension:.3},{label:"Sell",data:t,borderColor:"#EF4444",fill:!1,tension:.3}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:s=>{const o=s.parsed.y;return e&&(e.includes("Vng Sac")||e.includes("Hn Quc"))&&console.log(`Tooltip [${e}]:`,{label:s.dataset.label,parsed_y:o,raw_data:s.raw}),`${s.dataset.label}: ${o.toLocaleString()}`}}},zoom:{zoom:{wheel:{enabled:i},pinch:{enabled:i},mode:"x"},pan:{enabled:i,mode:"x"}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"dd/MM"}},ticks:{color:"#64748B"},grid:{color:"rgba(148, 163, 184, 0.1)"}},y:{ticks:{color:"#64748B",callback:s=>(e&&(e.includes("Vng Sac")||e.includes("Hn Quc"))&&console.log(`Y-axis tick [${e}]:`,s),s.toLocaleString())},grid:{color:"rgba(148, 163, 184, 0.1)"},beginAtZero:!1}}};return u.jsxs("div",{className:"chart-wrapper",style:{height:"400px"},children:[u.jsx("h3",{children:e}),u.jsx("div",{style:{width:"100%",height:"100%"},children:u.jsx(xa,{type:"line",data:r,options:a})})]})},a3t=()=>{const{chartKey:n}=rc(),t=Gi(),[e,i]=N.useState({}),[r,a]=N.useState(!0),[s,o]=N.useState(null),[l,c]=N.useState("ALL");N.useEffect(()=>{(async()=>{try{a(!0);const g=await UK();i(g),o(null)}catch(g){console.error("Error loading chart data:",g),o("Khng th ti d liu biu . Vui lng th li sau.")}finally{a(!1)}})()},[]);const h=N.useMemo(()=>{if(!e||Object.keys(e).length===0)return null;let d=[],g="",y=!1;switch(n){case"sjc":d=Qe(e.sjcData||[],l),g="SJC T do";break;case"nguyenLieu":d=Qe(e.nguyenLieuData||[],l),g="Vng Nguyn liu";break;case"usd":d=Qe(e.usdData||[],l),g="T gi USD/VND";break;case"DataMaterial":d={buy:Qe(e.buyDataMaterial||[],l),sell:Qe(e.sellDataMaterial||[],l)},g="Lch s vng km tn t nm 2009",y=!0;break;case"DataHistoryGooonusBTMC":d={buy:Qe(e.buyDataHistoryGooonusBTMC||[],l),sell:Qe(e.sellDataHistoryGooonusBTMC||[],l)},g="History 1 Nm BTMC",y=!0;break;case"DataHistoryGooonusBTMH":d={buy:Qe(e.buyDataHistoryGooonusBTMH||[],l),sell:Qe(e.sellDataHistoryGooonusBTMH||[],l)},g="History 1 Nm BTMH",y=!0;break;case"DataHistoryGooonusDOJI":d={buy:Qe(e.buyDataHistoryGooonusDOJI||[],l),sell:Qe(e.sellDataHistoryGooonusDOJI||[],l)},g="History 1 Nm DOJI",y=!0;break;case"DataHistoryGooonusMIHONG":d={buy:Qe(e.buyDataHistoryGooonusMIHONG||[],l),sell:Qe(e.sellDataHistoryGooonusMIHONG||[],l)},g="History 1 Nm MIHONG",y=!0;break;case"DataHistoryGooonusNGOCTHAM":d={buy:Qe(e.buyDataHistoryGooonusNGOCTHAM||[],l),sell:Qe(e.sellDataHistoryGooonusNGOCTHAM||[],l)},g="History 1 Nm NGOCTHAM",y=!0;break;case"DataHistoryGooonusPNJ":d={buy:Qe(e.buyDataHistoryGooonusPNJ||[],l),sell:Qe(e.sellDataHistoryGooonusPNJ||[],l)},g="History 1 Nm PNJ",y=!0;break;case"DataHistoryGooonusVANGPHUQUY":d={buy:Qe(e.buyDataHistoryGooonusVANGPHUQUY||[],l),sell:Qe(e.sellDataHistoryGooonusVANGPHUQUY||[],l)},g="History 1 Nm VANGPHUQUY",y=!0;break;case"DataHistoryGooonusBacPhuQuy":d={buy:Qe(e.buyDataHistoryGooonusBacPhuQuy||[],l),sell:Qe(e.sellDataHistoryGooonusBacPhuQuy||[],l)},g="History Bac Phu Quy",y=!0;break;case"DataHistoryGooonusVangHanQuoc":d={buy:Qe(e.buyDataHistoryGooonusVangHanQuoc||[],l),sell:Qe(e.sellDataHistoryGooonusVangHanQuoc||[],l)},g="History Vng koreagoldx.co.kr",y=!0;break;case"DataHistoryGooonusVangSac":d={buy:Qe(e.buyDataHistoryGooonusVangSac||[],l),sell:Qe(e.sellDataHistoryGooonusVangSac||[],l)},g="History Vng SACOMBANK SBJ",y=!0;break;case"DataHistoryGooonusBacSac":d={buy:Qe(e.buyDataHistoryGooonusBacSac||[],l),sell:Qe(e.sellDataHistoryGooonusBacSac||[],l)},g="History Bc SACOMBANK",y=!0;break;default:return null}return{data:d,title:g,isDoubleLine:y}},[e,l,n]);return r?u.jsx("div",{className:"chart-detail-page",children:u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti biu ..."})]})}):s||!h?u.jsx("div",{className:"chart-detail-page",children:u.jsxs("div",{className:"error-container",children:[u.jsxs("p",{className:"error-message",children:[" ",s||"Biu  khng tn ti"]}),u.jsx("button",{onClick:()=>t(-1),children:"Quay li"})]})}):u.jsxs("div",{className:"chart-detail-page",style:{padding:"20px"},children:[u.jsxs("div",{className:"section-header",children:[u.jsxs("h2",{className:"section-title",children:[" ",h.title]}),u.jsx("button",{onClick:()=>t(-1),style:{marginBottom:"20px",padding:"8px 16px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},children:"Quay li"})]}),u.jsx(T1,{activeRange:l,onRangeChange:c}),u.jsx("div",{style:{marginTop:"20px"},children:h.isDoubleLine?u.jsx(ED,{buyData:h.data.buy,sellData:h.data.sell,title:h.title,isZoom:!0}):u.jsx(PD,{data:h.data,title:h.title,timeRange:l,setTimeRange:c})})]})},s3t={"vaneck-sandp-global-mining-ucits-etf-a":{name:"VanEck S&P Global Mining UCITS ETF A",slug:"vaneck-sandp-global-mining-ucits-etf-a",description:["Qu ETF VanEck S&P Global Mining UCITS ETF A hng n mc tiu theo di ch s S&P Global Mining. Ch s ny theo di cc cng ty khai thc v kim loi ln nht trn ton th gii, bao gm c vng, bc, ng, st v cc kim loi qu khc.","T l chi ph qun l (TER) ca qu ETF ny l 0,50% mi nm. VanEck S&P Global Mining UCITS ETF A l qu ETF a dng trong ngnh khai thc ton cu. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck S&P Global Mining UCITS ETF A l mt qu ETF c quy m ln vi tng ti sn qun l khong 3.456 triu Euro. Qu c ra mt vo ngy 8 thng 11 nm 2007 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"S&P Global Mining"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, a dng"},{key:"Quy m qu",value:"3.456 triu EUR"},{key:"T l chi ph tng cng",value:"0,50% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"26,78%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 8 thng 11 nm 2007"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:54.23,totalHoldings:89},topHoldings:[{name:"Tp on BHP",weight:8.9},{name:"Rio Tinto",weight:7.45},{name:"Vale SA",weight:6.78},{name:"Tp on Newmont",weight:5.67},{name:"Cng ty Khai thc M Barrick",weight:4.89},{name:"Glencore",weight:4.56},{name:"Cng ty Khai thc M Agnico Eagle",weight:4.23},{name:"Freeport-McMoRan",weight:3.89},{name:"Anglo American",weight:3.67},{name:"Teck Resources",weight:4.19}],countries:[{name:"c",weight:28.45},{name:"Canada",weight:24.67},{name:"Hoa K",weight:18.9},{name:"Brazil",weight:12.34},{name:"Khc",weight:15.64}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:78.9},{name:"Nng lng",weight:12.34},{name:"Khc",weight:8.76}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1789,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:98.45},{key:"1m",label:"1 thng",value:6.78},{key:"3m",label:"3 thng",value:16.89},{key:"6m",label:"6 thng",value:38.9},{key:"1y",label:"1 nm",value:89.67},{key:"3y",label:"3 nm",value:145.23},{key:"5y",label:"5 nm",value:123.45},{key:"max",label:"K t khi thnh lp (MAX)",value:67.89},{key:"2024",label:"2024",value:14.56},{key:"2023",label:"2023",value:3.45},{key:"2022",label:"2022",value:-9.78},{key:"2021",label:"2021",value:1.23}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[6.5,-1.8,7.2,-2.9,4.8,7.4,-.3,16.2,18.9,-6.1,12.8,2.4],2024:[-10.2,-10.8,16.1,9.1,8.8,-9.6,5.7,-8.3,5.4,11.5,-3.9,-9.9],2023:[3.8,-12.2,10.6,-5.4,-7.4,-6.3,4.1,-3.9,-8.5,-1.3,9.2,1.9],2022:[1.7,-2.4,4.1,-2.9,1.3,-3.9,2.4,-4.7,1.5,2.8,-2.1,2.4],2021:[1.4,-2.7,3.5,-2.3,1.9,-3.4,1,-4.2,2.3,2.4,-1.5,1.7]}},scale:{min:-20,max:20,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:26.78,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:23.45,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:24.67,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.35,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.32,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.67,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-19.78,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-27.89,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-41.23,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-72.45,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}},"global-x-silver-miners-ucits-etf":{name:"Global X Silver Miners UCITS ETF",slug:"global-x-silver-miners-ucits-etf",description:["Qu ETF Global X Silver Miners UCITS USD Accumulating hng n mc tiu theo di ch s Solactive Global Silver Miners. Ch s Solactive Global Silver Miners theo di cc cng ty trn ton th gii tham gia vo hot ng thm d, khai thc v/hoc tinh ch bc.","T l chi ph tng cng ( TER ) ca ETF ny l 0,65% mi nm . Global X Silver Miners UCITS ETF USD Accumulating l ETF duy nht theo di ch s Solactive Global Silver Miners. ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton (mua tt c cc thnh phn ca ch s). C tc trong ETF c tch ly v ti u t vo ETF.","Qu ETF Global X Silver Miners UCITS USD Accumulating l mt qu ETF rt ln vi tng ti sn qun l ln n 1.008 triu Euro . Qu ETF ny c ra mt vo ngy 4 thng 5 nm 2022 v c tr s ti Ireland ."],basics:[{key:"Mc lc",value:"Cng ty khai thc bc ton cu Solactive"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"1.014 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"38,09%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 4 thng 5 nm 2022"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Global X"}],holdings:{summary:{top10Weight:74.88,totalHoldings:32},topHoldings:[{name:"Tp on Pan American Silver",weight:12.01},{name:"Cng ty Khai thc M Coeur",weight:11.13},{name:"Cng ty Kim loi Qu Wheaton",weight:10.96},{name:"Tp on Industrias Peoles",weight:7.64},{name:"Cng ty Khai thc M Hecla",weight:7.61},{name:"Cng ty Km Hn Quc",weight:6.45},{name:"Cng ty First Majestic Silver",weight:5.64},{name:"Cng ty Fresnillo",weight:5.19},{name:"Cng ty Khai thc M SSR",weight:4.56},{name:"Cng ty Minas Buenaventura SAA",weight:3.69}],countries:[{name:"Canada",weight:38.62},{name:"Hoa K",weight:23.37},{name:"Mexico",weight:12.83},{name:"Hn Quc",weight:6.45},{name:"Khc",weight:18.73}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:83.34},{name:"Khc",weight:16.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:131.33},{key:"1m",label:"1 thng",value:21.57},{key:"3m",label:"3 thng",value:29.27},{key:"6m",label:"6 thng",value:68.17},{key:"1y",label:"1 nm",value:114.94},{key:"3y",label:"3 nm",value:169.82},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:135.11},{key:"2024",label:"2024",value:20.57},{key:"2023",label:"2023",value:-3.34},{key:"2022",label:"2022",value:null},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[8.1,-1,9.1,-2.1,6.5,9.1,1.1,20.8,23.4,-4.9,16.5,3.8],2024:[-9.2,-9.8,19.1,12.1,11.6,-8.6,7.6,-7.3,7.3,14.2,-2.9,-8.9],2023:[5.4,-10.8,12.4,-4.4,-6.4,-5.3,5.7,-2.9,-7.5,-.3,10.9,2.9],2022:[0,0,0,0,-6.9,-12.5,3.8,-7.6,-4.6,2.2,8.5,3.8]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:38.75,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:34.38,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.63,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.28,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-22.73,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-31.16,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-32.1,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-global-x-silver.jpg"}}},"market-access-nyse-arca-gold-bugs-ucits-etf":{name:"Market Access NYSE Arca Gold Bugs UCITS ETF",slug:"market-access-nyse-arca-gold-bugs-ucits-etf",description:["Qu ETF Market Access NYSE Arca Gold Bugs UCITS hng n mc tiu theo di ch s NYSE Arca Gold BUGS. Ch s ny theo di cc cng ty khai thc vng khng thc hin phng nga ri ro gi vng trong tng lai, tp trung vo nhng cng ty c tim nng tng trng cao nht khi gi vng tng.","T l chi ph qun l (TER) ca qu ETF ny l 0,65% mi nm. Market Access NYSE Arca Gold Bugs UCITS ETF l qu ETF chuyn bit theo di cc cng ty khai thc vng 'khng phng nga ri ro'. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c tch ly v ti u t.","Qu ETF Market Access NYSE Arca Gold Bugs UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 892 triu Euro. Qu c ra mt vo ngy 28 thng 4 nm 2008 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"NYSE Arca Gold BUGS"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"892 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"35,67%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 28 thng 4 nm 2008"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Market Access"}],holdings:{summary:{top10Weight:73.45,totalHoldings:28},topHoldings:[{name:"Tp on Newmont",weight:15.23},{name:"Cng ty Khai thc M Barrick",weight:12.67},{name:"Cng ty Khai thc M Agnico Eagle",weight:10.45},{name:"Franco-Nevada",weight:8.89},{name:"Cng ty Gold Fields",weight:7.23},{name:"Anglogold Ashanti",weight:6.78},{name:"Cng ty Kinross Gold",weight:5.34},{name:"Cng ty Ti nguyn Sao Bc",weight:3.67},{name:"Cng ty Alamos Gold",weight:2.89},{name:"Cng ty B2Gold",weight:.3}],countries:[{name:"Canada",weight:48.9},{name:"Hoa K",weight:22.67},{name:"c",weight:14.78},{name:"Nam Phi",weight:8.45},{name:"Khc",weight:5.2}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:95.67},{name:"Khc",weight:4.33}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:128.9},{key:"1m",label:"1 thng",value:12.78},{key:"3m",label:"3 thng",value:28.45},{key:"6m",label:"6 thng",value:62.34},{key:"1y",label:"1 nm",value:123.67},{key:"3y",label:"3 nm",value:201.45},{key:"5y",label:"5 nm",value:178.9},{key:"max",label:"K t khi thnh lp (MAX)",value:67.89},{key:"2024",label:"2024",value:23.45},{key:"2023",label:"2023",value:9.78},{key:"2022",label:"2022",value:-3.45},{key:"2021",label:"2021",value:.67}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[9.8,-.2,10.5,-.8,7.9,10.8,2.1,22.8,26.7,-3.2,18.9,5.3],2024:[-7.8,-8.4,20.8,13.8,13.3,-7.2,9.1,-5.9,8.8,16.5,-1.5,-7.5],2023:[6.9,-9.4,14.1,-2.9,-4.9,-3.8,6.5,-1.5,-6.1,1,12.4,4.4],2022:[2.7,-1.4,5.1,-1.8,2.3,-2.9,3.4,-3.7,2.5,3.8,-1.1,2.9],2021:[2.4,-1.7,4.5,-1.3,2.9,-2.4,1.9,-3.2,3.3,3.4,-.5,2.3]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:35.67,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:31.23,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:32.45,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.47,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.78,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.98,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-13.45,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-19.78,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-32.67,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-81.23,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/z7284465822618_c08e61ba2a0f4605080528caa7c46c54.jpg"}}},"ubs-solactive-global-pure-gold-miners-ucits-etf-usd":{name:"UBS Solactive Global Pure Gold Miners UCITS ETF USD",slug:"ubs-solactive-global-pure-gold-miners-ucits-etf-usd",description:["Qu ETF UBS Solactive Global Pure Gold Miners UCITS USD hng n mc tiu theo di ch s Solactive Global Pure Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht chuyn v hot ng khai thc vng thun ty trn ton th gii.","T l chi ph qun l (TER) ca qu ETF ny l 0,28% mi nm. UBS Solactive Global Pure Gold Miners UCITS ETF USD l mt trong nhng qu ETF c chi ph thp nht theo di ch s vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp ti u ha. C tc trong qu ETF c phn phi hng qu.","Qu ETF UBS Solactive Global Pure Gold Miners UCITS USD l mt qu ETF c quy m ln vi tng ti sn qun l khong 2.156 triu Euro. Qu c ra mt vo ngy 18 thng 1 nm 2018 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"Solactive Global Pure Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"2.156 triu EUR"},{key:"T l chi ph tng cng",value:"0,28% mi nm"},{key:"Sao chp",value:"Ti u ha (Sao chp mt phn)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"31,22%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 18 thng 1 nm 2018"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"UBS"}],holdings:{summary:{top10Weight:68.92,totalHoldings:45},topHoldings:[{name:"Tp on Newmont",weight:12.45},{name:"Cng ty Khai thc M Barrick",weight:10.78},{name:"Cng ty Khai thc M Agnico Eagle",weight:9.34},{name:"Cng ty Kim loi Qu Wheaton",weight:7.89},{name:"Franco-Nevada",weight:6.78},{name:"Cng ty Gold Fields",weight:5.92},{name:"Anglogold Ashanti",weight:5.23},{name:"Cng ty Kinross Gold",weight:4.89},{name:"Tp on Khai thc M Zijin",weight:3.12},{name:"Cng ty Ti nguyn Sao Bc",weight:2.52}],countries:[{name:"Canada",weight:43.78},{name:"Hoa K",weight:18.45},{name:"c",weight:12.67},{name:"Trung Quc",weight:7.23},{name:"Khc",weight:17.87}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:89.45},{name:"Khc",weight:10.55}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"UBS",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"UBS",rating:5,orderFee:"0,90",etfSavingsPlans:1245,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:122.78},{key:"1m",label:"1 thng",value:10.45},{key:"3m",label:"3 thng",value:24.67},{key:"6m",label:"6 thng",value:55.89},{key:"1y",label:"1 nm",value:115.23},{key:"3y",label:"3 nm",value:189.45},{key:"5y",label:"5 nm",value:156.78},{key:"max",label:"K t khi thnh lp (MAX)",value:98.34},{key:"2024",label:"2024",value:19.78},{key:"2023",label:"2023",value:7.45},{key:"2022",label:"2022",value:-5.67},{key:"2021",label:"2021",value:-1.23}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[8.5,-.7,9.3,-1.5,6.8,9.5,1.3,20.2,23.8,-4.2,16.8,4.1],2024:[-8.6,-9.2,19.4,12.4,11.9,-8,7.9,-6.7,7.6,14.5,-2.3,-8.3],2023:[5.7,-10.2,12.7,-3.8,-5.8,-4.7,5.7,-2.3,-6.9,.2,11.2,3.2],2022:[0,0,0,0,0,0,0,0,0,0,0,0],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:31.22,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:27.45,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:28.67,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.69,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.58,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.78,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-15.89,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-22.45,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-36.78,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-68.45,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/xagxauvolume.jpg"}}},"landg-gold-mining-ucits-etf":{name:"L&G Gold Mining UCITS ETF",slug:"landg-gold-mining-ucits-etf",description:["Qu ETF L&G Gold Mining UCITS hng n mc tiu theo di ch s Solactive Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht tham gia vo hot ng thm d, khai thc v sn xut vng trn ton th gii.","T l chi ph qun l (TER) ca qu ETF ny l 0,65% mi nm. L&G Gold Mining UCITS ETF l mt trong nhng qu ETF theo di ch s Solactive Gold Miners. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton cc thnh phn ch s. C tc trong qu ETF c tch ly v ti u t.","Qu ETF L&G Gold Mining UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 1.245 triu Euro. Qu c ra mt vo ngy 10 thng 6 nm 2020 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"Solactive Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"1.245 triu EUR"},{key:"T l chi ph tng cng",value:"0,65% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"29,84%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 10 thng 6 nm 2020"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"Legal & General"}],holdings:{summary:{top10Weight:65.45,totalHoldings:58},topHoldings:[{name:"Tp on Newmont",weight:11.25},{name:"Cng ty Khai thc M Barrick",weight:9.87},{name:"Cng ty Khai thc M Agnico Eagle",weight:8.92},{name:"Cng ty Kim loi Qu Wheaton",weight:7.15},{name:"Franco-Nevada",weight:6.33},{name:"Cng ty Gold Fields",weight:5.78},{name:"Anglogold Ashanti",weight:4.89},{name:"Cng ty Kinross Gold",weight:4.67},{name:"Tp on Khai thc M Zijin",weight:3.45},{name:"Cng ty Ti nguyn Sao Bc",weight:3.14}],countries:[{name:"Canada",weight:42.15},{name:"Hoa K",weight:16.78},{name:"c",weight:11.23},{name:"Trung Quc",weight:6.89},{name:"Khc",weight:22.95}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:76.34},{name:"Khc",weight:23.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"flatex",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:"C iu kin p dng"}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:118.45},{key:"1m",label:"1 thng",value:8.76},{key:"3m",label:"3 thng",value:21.89},{key:"6m",label:"6 thng",value:51.23},{key:"1y",label:"1 nm",value:109.67},{key:"3y",label:"3 nm",value:176.89},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:125.34},{key:"2024",label:"2024",value:17.89},{key:"2023",label:"2023",value:5.67},{key:"2022",label:"2022",value:-8.45},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.8,-.9,8.7,-1.8,6.2,8.9,1,19.5,22.1,-4.6,15.2,3.5],2024:[-8.9,-9.5,18.8,11.8,11.3,-8.3,7.3,-7,7,13.9,-2.6,-8.6],2023:[5.1,-10.5,12.1,-4.1,-6.1,-5,5.4,-2.6,-7.2,-.1,10.6,2.6],2022:[0,0,0,0,0,0,-6.6,-12.2,3.5,-7.3,-4.3,2],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:29.84,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:26.12,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.67,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.48,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-17.45,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-24.78,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-28.67,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares-loi-nhuan-theo-thang.jpg"}}},"ishares-gold-producers-ucits-etf":{name:"iShares Gold Producers UCITS ETF",slug:"ishares-gold-producers-ucits-etf",description:["Qu ETF iShares Gold Producers UCITS hng n mc tiu theo di ch s S&P Commodity Producers Gold. Ch s S&P Commodity Producers Gold theo di cc cng ty nim yt ln nht tham gia vo hot ng thm d v sn xut vng v cc sn phm lin quan trn ton th gii.","T l chi ph qun l ( TER ) ca qu ETF ny l 0,55% mi nm . Qu iShares Gold Producers UCITS ETF l qu ETF duy nht theo di ch s S&P Commodity Producers Gold. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton (mua tt c cc thnh phn ca ch s). C tc trong qu ETF c tch ly v ti u t vo chnh qu.","Qu ETF iShares Gold Producers UCITS l mt qu ETF rt ln vi tng ti sn qun l ln ti 3.624 triu Euro . Qu c ra mt vo ngy 16 thng 9 nm 2011 v c tr s ti Ireland"],basics:[{key:"Mc lc",value:"Vng ca S&P Commodity Producers"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"3.624 triu EUR"},{key:"T l chi ph tng cng",value:"0,55% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"30,59%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 16 thng 9 nm 2011"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"iShares"}],holdings:{summary:{top10Weight:63.22,totalHoldings:64},topHoldings:[{name:"Cng ty Khai thc M Agnico Eagle",weight:10.15},{name:"Tp on Newmont",weight:10.02},{name:"Cng ty Khai thc M Barrick",weight:8.75},{name:"Cng ty Kim loi Qu Wheaton",weight:6.9},{name:"Franco-Nevada",weight:5.65},{name:"Cng ty Gold Fields",weight:5.38},{name:"Anglogold Ashanti",weight:4.53},{name:"Cng ty Kinross Gold",weight:4.5},{name:"Tp on Khai thc M Zijin",weight:3.88},{name:"Cng ty Ti nguyn Sao Bc",weight:3.46}],countries:[{name:"Canada",weight:41.4},{name:"Hoa K",weight:15.4},{name:"c",weight:10.36},{name:"Trung Quc",weight:5.71},{name:"Khc",weight:27.13}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:74.81},{name:"Khc",weight:25.19}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"ING",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0,00",etfSavingsPlans:2969,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Traders Place",rating:5,orderFee:"0,00",etfSavingsPlans:1523,actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:120.07},{key:"1m",label:"1 thng",value:9.92},{key:"3m",label:"3 thng",value:23.22},{key:"6m",label:"6 thng",value:53.94},{key:"1y",label:"1 nm",value:111.82},{key:"3y",label:"3 nm",value:184.14},{key:"5y",label:"5 nm",value:149.92},{key:"max",label:"K t khi thnh lp (MAX)",value:78.89},{key:"2024",label:"2024",value:18.63},{key:"2023",label:"2023",value:6.8},{key:"2022",label:"2022",value:-6.89},{key:"2021",label:"2021",value:-2.02}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{}},scale:{min:-40,max:45,unit:"%"}},risk:{title:"Tng quan v ri ro",overview:[{key:"volatility_1y",label:"Bin ng trong 1 nm",value:30.59,unit:"%"},{key:"volatility_3y",label:"Bin ng trong 3 nm",value:26.87,unit:"%"},{key:"volatility_5y",label:"Bin ng trong 5 nm",value:27.43,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn mi ri ro trong 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn mi ri ro trong 3 nm",value:1.55,unit:""},{key:"return_risk_5y",label:"Li nhun trn mi ri ro trong 5 nm",value:.73,unit:""},{key:"max_drawdown_1y",label:"Mc rt tin ti a 1 nm",value:-16.18,unit:"%"},{key:"max_drawdown_3y",label:"Thi hn rt tin ti a 3 nm",value:-23.69,unit:"%"},{key:"max_drawdown_5y",label:"Thi hn rt tin ti a 5 nm",value:-38.42,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-74.83,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares.jpg"}}},"vaneck-gold-miners-ucits-etf":{name:"VanEck Gold Miners UCITS ETF",slug:"vaneck-gold-miners-ucits-etf",description:["Qu ETF VanEck Gold Miners UCITS hng n mc tiu theo di ch s NYSE Arca Gold Miners. Ch s ny theo di cc cng ty nim yt ln nht tham gia vo hot ng khai thc vng trn ton th gii, bao gm c cc cng ty khai thc vng v cc cng ty lin quan n ngnh vng.","T l chi ph qun l (TER) ca qu ETF ny l 0,53% mi nm. VanEck Gold Miners UCITS ETF l mt trong nhng qu ETF lu i nht theo di ngnh khai thc vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck Gold Miners UCITS l mt qu ETF c quy m ln vi tng ti sn qun l khong 4.567 triu Euro. Qu c ra mt vo ngy 15 thng 12 nm 2006 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"NYSE Arca Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn"},{key:"Quy m qu",value:"4.567 triu EUR"},{key:"T l chi ph tng cng",value:"0,53% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"32,45%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 15 thng 12 nm 2006"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:71.23,totalHoldings:52},topHoldings:[{name:"Tp on Newmont",weight:13.78},{name:"Cng ty Khai thc M Barrick",weight:11.45},{name:"Cng ty Khai thc M Agnico Eagle",weight:9.89},{name:"Cng ty Kim loi Qu Wheaton",weight:8.23},{name:"Franco-Nevada",weight:7.12},{name:"Cng ty Gold Fields",weight:6.34},{name:"Anglogold Ashanti",weight:5.67},{name:"Cng ty Kinross Gold",weight:4.98},{name:"Tp on Khai thc M Zijin",weight:2.89},{name:"Cng ty Ti nguyn Sao Bc",weight:.88}],countries:[{name:"Canada",weight:45.67},{name:"Hoa K",weight:20.34},{name:"c",weight:13.45},{name:"Trung Quc",weight:8.12},{name:"Khc",weight:12.42}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:92.34},{name:"Khc",weight:7.66}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1567,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:125.67},{key:"1m",label:"1 thng",value:11.23},{key:"3m",label:"3 thng",value:26.45},{key:"6m",label:"6 thng",value:58.78},{key:"1y",label:"1 nm",value:118.9},{key:"3y",label:"3 nm",value:195.67},{key:"5y",label:"5 nm",value:167.89},{key:"max",label:"K t khi thnh lp (MAX)",value:89.45},{key:"2024",label:"2024",value:21.34},{key:"2023",label:"2023",value:8.67},{key:"2022",label:"2022",value:-4.23},{key:"2021",label:"2021",value:-.89}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[9.1,-.5,9.8,-1.2,7.3,10.1,1.6,21.5,25.2,-3.8,17.9,4.7],2024:[-8.2,-8.8,20.1,13.1,12.6,-7.6,8.5,-6.3,8.2,15.8,-1.9,-7.9],2023:[6.3,-9.8,13.4,-3.4,-5.4,-4.3,6.1,-1.9,-6.5,.6,11.8,3.8],2022:[2.1,-1.8,4.5,-2.3,1.7,-3.4,2.8,-4.1,1.9,3.2,-1.5,2.4],2021:[1.8,-2.1,3.9,-1.7,2.3,-2.8,1.4,-3.6,2.7,2.8,-.9,1.7]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:32.45,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:28.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:29.89,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.68,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:.89,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-14.67,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-21.23,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-34.56,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-78.9,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/gia-cat-loi-phan-tich-bac-ngay-10-06-gia-bac-cham-dinh-ky-luc.jpg"}}},"vaneck-junior-gold-miners-ucits":{name:"VanEck Junior Gold Miners UCITS",slug:"vaneck-junior-gold-miners-ucits",description:["Qu ETF VanEck Junior Gold Miners UCITS hng n mc tiu theo di ch s MVIS Global Junior Gold Miners. Ch s ny theo di cc cng ty khai thc vng quy m nh v va trn ton th gii, tp trung vo nhng cng ty c tim nng tng trng cao nhng cng c ri ro cao hn.","T l chi ph qun l (TER) ca qu ETF ny l 0,56% mi nm. VanEck Junior Gold Miners UCITS l qu ETF chuyn bit theo di cc cng ty khai thc vng quy m nh. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp hon ton. C tc trong qu ETF c phn phi hng qu.","Qu ETF VanEck Junior Gold Miners UCITS l mt qu ETF c quy m trung bnh vi tng ti sn qun l khong 678 triu Euro. Qu c ra mt vo ngy 22 thng 9 nm 2009 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"MVIS Global Junior Gold Miners"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, Quy m nh"},{key:"Quy m qu",value:"678 triu EUR"},{key:"T l chi ph tng cng",value:"0,56% mi nm"},{key:"Sao chp",value:"Vt l (Sao chp hon ton)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"KHNG"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"42,34%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 22 thng 9 nm 2009"},{key:"Chnh sch phn phi",value:"Phn phi"},{key:"Tn sut phn b",value:"Hng qu"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"VanEck"}],holdings:{summary:{top10Weight:58.67,totalHoldings:78},topHoldings:[{name:"Cng ty B2Gold",weight:8.45},{name:"Cng ty Alamos Gold",weight:7.89},{name:"Cng ty Yamana Gold",weight:6.78},{name:"Cng ty Eldorado Gold",weight:5.67},{name:"Cng ty Centerra Gold",weight:5.23},{name:"Cng ty New Gold",weight:4.89},{name:"Cng ty Torex Gold Resources",weight:4.56},{name:"Cng ty Iamgold",weight:4.23},{name:"Cng ty Endeavour Mining",weight:3.89},{name:"Cng ty Kirkland Lake Gold",weight:7.08}],countries:[{name:"Canada",weight:52.34},{name:"c",weight:18.67},{name:"Hoa K",weight:12.45},{name:"Nam Phi",weight:7.89},{name:"Khc",weight:8.65}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:94.56},{name:"Khc",weight:5.44}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"VanEck",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"VanEck",rating:5,orderFee:"0,85",etfSavingsPlans:1234,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:145.67},{key:"1m",label:"1 thng",value:15.89},{key:"3m",label:"3 thng",value:35.23},{key:"6m",label:"6 thng",value:78.45},{key:"1y",label:"1 nm",value:142.34},{key:"3y",label:"3 nm",value:234.56},{key:"5y",label:"5 nm",value:198.78},{key:"max",label:"K t khi thnh lp (MAX)",value:45.67},{key:"2024",label:"2024",value:28.9},{key:"2023",label:"2023",value:12.45},{key:"2022",label:"2022",value:-1.23},{key:"2021",label:"2021",value:2.34}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[11.2,.8,12.1,.5,9.4,12.8,3.2,25.6,29.8,-2.1,21.4,6.7],2024:[-6.8,-7.4,22.4,15.4,14.9,-6.2,10.7,-4.9,10.4,18.2,-.5,-6.5],2023:[8.2,-8.4,15.8,-1.9,-3.9,-2.8,7.5,-.5,-5.1,2,13.8,5.4],2022:[3.7,-.4,6.1,-.8,3.3,-1.9,4.4,-2.7,3.5,4.8,.9,3.9],2021:[3.4,-.7,5.5,-.3,3.9,-1.4,2.9,-2.2,4.3,4.4,1.5,3.3]}},scale:{min:-30,max:30,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:42.34,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:38.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:39.89,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.36,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.89,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:1.12,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-11.23,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-17.89,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:-29.45,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-86.78,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}},"hanetf-auag-esg-gold-mining-ucits-etf":{name:"HANetf AuAg ESG Gold Mining UCITS ETF",slug:"hanetf-auag-esg-gold-mining-ucits-etf",description:["Qu ETF HANetf AuAg ESG Gold Mining UCITS hng n mc tiu theo di ch s AuAg ESG Gold Mining. Ch s ny theo di cc cng ty khai thc vng p ng cc tiu chun ESG (Mi trng, X hi v Qun tr) nghim ngt, tp trung vo u t bn vng trong ngnh khai thc vng.","T l chi ph qun l (TER) ca qu ETF ny l 0,75% mi nm. HANetf AuAg ESG Gold Mining UCITS ETF l qu ETF u tin tp trung vo u t ESG trong ngnh khai thc vng. Qu ETF ny m phng hiu sut ca ch s c s bng cch sao chp ti u ha. C tc trong qu ETF c tch ly v ti u t.","Qu ETF HANetf AuAg ESG Gold Mining UCITS l mt qu ETF c quy m nh vi tng ti sn qun l khong 234 triu Euro. Qu c ra mt vo ngy 12 thng 3 nm 2021 v c tr s ti Ireland."],basics:[{key:"Mc lc",value:"AuAg ESG Gold Mining"},{key:"Trng tm u t",value:"C phiu, Ton cu, Vt liu c bn, ESG"},{key:"Quy m qu",value:"234 triu EUR"},{key:"T l chi ph tng cng",value:"0,75% mi nm"},{key:"Sao chp",value:"Ti u ha (Sao chp mt phn)"},{key:"Cu trc php l",value:"ETF"},{key:"Ri ro chin lc",value:"Ch di hn"},{key:"Tnh bn vng",value:"C (ESG)"},{key:"Tin t ca qu",value:"USD"},{key:"Ri ro tin t",value:"Tin t khng c phng nga ri ro"},{key:"Bin ng 1 nm (tnh bng EUR)",value:"28,90%"},{key:"Ngy thnh lp / Ngy nim yt",value:"Ngy 12 thng 3 nm 2021"},{key:"Chnh sch phn phi",value:"Tch ly"},{key:"Tn sut phn b",value:"-"},{key:"Ni t tr s qu",value:"Ireland"},{key:"Nh cung cp qu",value:"HANetf"}],holdings:{summary:{top10Weight:69.78,totalHoldings:35},topHoldings:[{name:"Tp on Newmont",weight:14.56},{name:"Cng ty Khai thc M Agnico Eagle",weight:11.23},{name:"Cng ty Khai thc M Barrick",weight:9.78},{name:"Franco-Nevada",weight:8.45},{name:"Cng ty Gold Fields",weight:7.12},{name:"Anglogold Ashanti",weight:6.34},{name:"Cng ty Kinross Gold",weight:5.67},{name:"Cng ty Ti nguyn Sao Bc",weight:3.89},{name:"Cng ty Alamos Gold",weight:2.74},{name:"Cng ty Yamana Gold",weight:0}],countries:[{name:"Canada",weight:46.78},{name:"Hoa K",weight:19.45},{name:"c",weight:15.67},{name:"Nam Phi",weight:9.23},{name:"Khc",weight:8.87}],sectors:[{name:"Ngnh Khai thc & Kim loi",weight:87.45},{name:"Khc",weight:12.55}],asOfDate:"2025-10-30"},offers:{description:"Ti y bn c th tm thy thng tin v cc gi tit kim kh dng ca qu ETF. Bn c th s dng bng  so snh tt c cc gi tit kim c cung cp vi mc li sut tit kim  chn.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"HANetf",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0,00",accountFee:"0,00",actionLabel:"Xem u i",note:null}]},orderFees:{description:"Ti y, bn c th tm thy thng tin v cc nh mi gii khc nhau cho php bn giao dch ETF. Chn khi lng giao dch mong mun  so snh ph giao dch ca tng nh mi gii.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"HANetf",rating:4.5,orderFee:"1,20",etfSavingsPlans:567,actionLabel:"Xem u i",note:null},{name:"Scalable Capital",rating:5,orderFee:"0,99",etfSavingsPlans:2968,actionLabel:"Xem u i",note:"C iu kin p dng"},{name:"Trade Republic",rating:5,orderFee:"1,00",etfSavingsPlans:2640,actionLabel:"Xem u i",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0,00",etfSavingsPlans:1881,actionLabel:"Xem u i",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0,00",etfSavingsPlans:1617,actionLabel:"Xem u i",note:"C iu kin p dng"}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"T u nm n nay",value:115.23},{key:"1m",label:"1 thng",value:8.45},{key:"3m",label:"3 thng",value:20.67},{key:"6m",label:"6 thng",value:48.9},{key:"1y",label:"1 nm",value:105.78},{key:"3y",label:"3 nm",value:167.45},{key:"5y",label:"5 nm",value:null},{key:"max",label:"K t khi thnh lp (MAX)",value:89.67},{key:"2024",label:"2024",value:16.78},{key:"2023",label:"2023",value:4.56},{key:"2022",label:"2022",value:-7.89},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.2,-1.1,8.4,-2.3,5.8,8.6,.7,18.9,21.5,-5.2,14.8,3.1],2024:[-9.5,-10.1,17.9,10.8,10.5,-8.9,6.7,-7.6,6.4,13.2,-3.2,-9.2],2023:[4.8,-11.2,11.6,-4.7,-6.7,-5.6,5.1,-3.2,-7.8,-.6,10.2,2.3],2022:[0,0,0,-7.2,-12.8,3.2,-8.1,-4.9,1.7,8.1,3.4,0],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Tng quan ri ro",overview:[{key:"volatility_1y",label:" bin ng 1 nm",value:28.9,unit:"%"},{key:"volatility_3y",label:" bin ng 3 nm",value:25.67,unit:"%"},{key:"volatility_5y",label:" bin ng 5 nm",value:null,unit:"%"},{key:"return_risk_1y",label:"Li nhun trn ri ro 1 nm",value:3.66,unit:""},{key:"return_risk_3y",label:"Li nhun trn ri ro 3 nm",value:1.42,unit:""},{key:"return_risk_5y",label:"Li nhun trn ri ro 5 nm",value:null,unit:""},{key:"max_drawdown_1y",label:"Mc st gim ti a 1 nm",value:-18.9,unit:"%"},{key:"max_drawdown_3y",label:"Mc st gim ti a 3 nm",value:-26.45,unit:"%"},{key:"max_drawdown_5y",label:"Mc st gim ti a 5 nm",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Mc st gim ti a k t khi thnh lp",value:-31.78,unit:"%"}],rollingVolatility:{title:"Bin ng trong 1 nm lin tip",period:"1 nm",unit:"%",chartUrl:"public/vite.svg"}}}},cg={"global-x-silver-miners-ucits-etf":{name:"Global X Silver Miners UCITS ETF",slug:"global-x-silver-miners-ucits-etf",description:["The Global X Silver Miners UCITS ETF USD Accumulating aims to track the performance of the Solactive Global Silver Miners Index. The Solactive Global Silver Miners Index tracks companies worldwide engaged in silver exploration, mining and/or refining.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. Global X Silver Miners UCITS ETF USD Accumulating is the only ETF tracking the Solactive Global Silver Miners Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The Global X Silver Miners UCITS ETF USD Accumulating is a very large ETF with assets under management of 1,008 million Euro. The ETF was launched on May 4, 2022 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Global Silver Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"1,014 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"38.09%"},{key:"Inception / Listing Date",value:"May 4, 2022"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Global X"}],holdings:{summary:{top10Weight:74.88,totalHoldings:32},topHoldings:[{name:"Pan American Silver Corp",weight:12.01},{name:"Coeur Mining Inc",weight:11.13},{name:"Wheaton Precious Metals Corp",weight:10.96},{name:"Industrias Penoles SAB de CV",weight:7.64},{name:"Hecla Mining Co",weight:7.61},{name:"Korea Zinc Co Ltd",weight:6.45},{name:"First Majestic Silver Corp",weight:5.64},{name:"Fresnillo Plc",weight:5.19},{name:"SSR Mining Inc",weight:4.56},{name:"Compania de Minas Buenaventura SAA",weight:3.69}],countries:[{name:"Canada",weight:38.62},{name:"United States",weight:23.37},{name:"Mexico",weight:12.83},{name:"South Korea",weight:6.45},{name:"Other",weight:18.73}],sectors:[{name:"Basic Materials",weight:83.34},{name:"Other",weight:16.66}],asOfDate:"2025-10-30"}},"ishares-gold-producers-ucits-etf":{name:"iShares Gold Producers UCITS ETF",slug:"ishares-gold-producers-ucits-etf",description:["The iShares Gold Producers UCITS ETF aims to track the performance of the S&P Commodity Producers Gold Index. The S&P Commodity Producers Gold Index tracks the largest listed companies engaged in gold exploration and production and related products worldwide.","The Total Expense Ratio (TER) of this ETF is 0.55% per annum. The iShares Gold Producers UCITS ETF is the only ETF tracking the S&P Commodity Producers Gold Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The iShares Gold Producers UCITS ETF is a very large ETF with assets under management of 3,624 million Euro. The fund was launched on September 16, 2011 and is domiciled in Ireland."],basics:[{key:"Index",value:"S&P Commodity Producers Gold"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"3,624 million EUR"},{key:"Total Expense Ratio",value:"0.55% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"30.59%"},{key:"Inception / Listing Date",value:"September 16, 2011"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"iShares"}],holdings:{summary:{top10Weight:63.22,totalHoldings:64},topHoldings:[{name:"Agnico Eagle Mines Limited",weight:10.15},{name:"Newmont Corporation",weight:10.02},{name:"Barrick Gold Corporation",weight:8.75},{name:"Wheaton Precious Metals Corp",weight:6.9},{name:"Franco-Nevada Corporation",weight:5.65},{name:"Gold Fields Limited",weight:5.38},{name:"AngloGold Ashanti Limited",weight:4.53},{name:"Kinross Gold Corporation",weight:4.5},{name:"Zijin Mining Group Co Ltd",weight:3.88},{name:"Northern Star Resources Ltd",weight:3.46}],countries:[{name:"Canada",weight:41.4},{name:"United States",weight:15.4},{name:"Australia",weight:10.36},{name:"China",weight:5.71},{name:"Other",weight:27.13}],sectors:[{name:"Basic Materials",weight:74.81},{name:"Other",weight:25.19}],asOfDate:"2025-10-30"}},"landg-gold-mining-ucits-etf":{name:"L&G Gold Mining UCITS ETF",slug:"landg-gold-mining-ucits-etf",description:["The L&G Gold Mining UCITS ETF aims to track the performance of the Solactive Gold Miners Index. This index tracks the largest listed companies engaged in gold exploration, mining and production worldwide.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. L&G Gold Mining UCITS ETF is one of the ETFs tracking the Solactive Gold Miners Index. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The L&G Gold Mining UCITS ETF is a medium-sized ETF with assets under management of approximately 1,245 million Euro. The fund was launched on June 10, 2020 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"1,245 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"29.84%"},{key:"Inception / Listing Date",value:"June 10, 2020"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Legal & General"}],holdings:{summary:{top10Weight:65.45,totalHoldings:58},topHoldings:[{name:"Newmont Corporation",weight:11.25},{name:"Barrick Gold Corporation",weight:9.87},{name:"Agnico Eagle Mines Limited",weight:8.92},{name:"Wheaton Precious Metals Corp",weight:7.15},{name:"Franco-Nevada Corporation",weight:6.33},{name:"Gold Fields Limited",weight:5.78},{name:"AngloGold Ashanti Limited",weight:4.89},{name:"Kinross Gold Corporation",weight:4.67},{name:"Zijin Mining Group Co Ltd",weight:3.45},{name:"Northern Star Resources Ltd",weight:3.14}],countries:[{name:"Canada",weight:42.15},{name:"United States",weight:16.78},{name:"Australia",weight:11.23},{name:"China",weight:6.89},{name:"Other",weight:22.95}],sectors:[{name:"Basic Materials",weight:76.34},{name:"Other",weight:23.66}],asOfDate:"2025-10-30"}},"ubs-solactive-global-pure-gold-miners-ucits-etf-usd":{name:"UBS Solactive Global Pure Gold Miners UCITS ETF USD",slug:"ubs-solactive-global-pure-gold-miners-ucits-etf-usd",description:["The UBS Solactive Global Pure Gold Miners UCITS ETF USD aims to track the performance of the Solactive Global Pure Gold Miners Index. This index tracks the largest listed companies specializing in pure gold mining operations worldwide.","The Total Expense Ratio (TER) of this ETF is 0.28% per annum. UBS Solactive Global Pure Gold Miners UCITS ETF USD is one of the lowest-cost ETFs tracking gold indices. This ETF replicates the performance of the underlying index through optimized sampling. Dividends in the ETF are distributed quarterly.","The UBS Solactive Global Pure Gold Miners UCITS ETF USD is a large ETF with assets under management of approximately 2,156 million Euro. The fund was launched on January 18, 2018 and is domiciled in Ireland."],basics:[{key:"Index",value:"Solactive Global Pure Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"2,156 million EUR"},{key:"Total Expense Ratio",value:"0.28% per annum"},{key:"Replication",value:"Optimized (Partial Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"31.22%"},{key:"Inception / Listing Date",value:"January 18, 2018"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"UBS"}],holdings:{summary:{top10Weight:68.92,totalHoldings:45},topHoldings:[{name:"Newmont Corporation",weight:12.45},{name:"Barrick Gold Corporation",weight:10.78},{name:"Agnico Eagle Mines Limited",weight:9.34},{name:"Wheaton Precious Metals Corp",weight:7.89},{name:"Franco-Nevada Corporation",weight:6.78},{name:"Gold Fields Limited",weight:5.92},{name:"AngloGold Ashanti Limited",weight:5.23},{name:"Kinross Gold Corporation",weight:4.89},{name:"Zijin Mining Group Co Ltd",weight:3.12},{name:"Northern Star Resources Ltd",weight:2.52}],countries:[{name:"Canada",weight:43.78},{name:"United States",weight:18.45},{name:"Australia",weight:12.67},{name:"China",weight:7.23},{name:"Other",weight:17.87}],sectors:[{name:"Basic Materials",weight:89.45},{name:"Other",weight:10.55}],asOfDate:"2025-10-30"}},"vaneck-gold-miners-ucits-etf":{name:"VanEck Gold Miners UCITS ETF",slug:"vaneck-gold-miners-ucits-etf",description:["The VanEck Gold Miners UCITS ETF aims to track the performance of the NYSE Arca Gold Miners Index. This index tracks the largest listed companies engaged in gold mining operations worldwide, including gold mining companies and gold-related companies.","The Total Expense Ratio (TER) of this ETF is 0.53% per annum. VanEck Gold Miners UCITS ETF is one of the oldest ETFs tracking the gold mining sector. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck Gold Miners UCITS ETF is a large ETF with assets under management of approximately 4,567 million Euro. The fund was launched on December 15, 2006 and is domiciled in Ireland."],basics:[{key:"Index",value:"NYSE Arca Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"4,567 million EUR"},{key:"Total Expense Ratio",value:"0.53% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"32.45%"},{key:"Inception / Listing Date",value:"December 15, 2006"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:71.23,totalHoldings:52},topHoldings:[{name:"Newmont Corporation",weight:13.78},{name:"Barrick Gold Corporation",weight:11.45},{name:"Agnico Eagle Mines Limited",weight:9.89},{name:"Wheaton Precious Metals Corp",weight:8.23},{name:"Franco-Nevada Corporation",weight:7.12},{name:"Gold Fields Limited",weight:6.34},{name:"AngloGold Ashanti Limited",weight:5.67},{name:"Kinross Gold Corporation",weight:4.98},{name:"Zijin Mining Group Co Ltd",weight:2.89},{name:"Northern Star Resources Ltd",weight:.88}],countries:[{name:"Canada",weight:45.67},{name:"United States",weight:20.34},{name:"Australia",weight:13.45},{name:"China",weight:8.12},{name:"Other",weight:12.42}],sectors:[{name:"Basic Materials",weight:92.34},{name:"Other",weight:7.66}],asOfDate:"2025-10-30"}},"market-access-nyse-arca-gold-bugs-ucits-etf":{name:"Market Access NYSE Arca Gold Bugs UCITS ETF",slug:"market-access-nyse-arca-gold-bugs-ucits-etf",description:["The Market Access NYSE Arca Gold Bugs UCITS ETF aims to track the performance of the NYSE Arca Gold BUGS Index. This index tracks gold mining companies that do not hedge their gold price exposure beyond 1.5 years, focusing on companies with the highest potential for growth when gold prices rise.","The Total Expense Ratio (TER) of this ETF is 0.65% per annum. Market Access NYSE Arca Gold Bugs UCITS ETF is a specialized ETF tracking 'unhedged' gold mining companies. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are accumulated and reinvested.","The Market Access NYSE Arca Gold Bugs UCITS ETF is a medium-sized ETF with assets under management of approximately 892 million Euro. The fund was launched on April 28, 2008 and is domiciled in Ireland."],basics:[{key:"Index",value:"NYSE Arca Gold BUGS"},{key:"Investment Focus",value:"Equity, Global, Basic Materials"},{key:"Fund Size",value:"892 million EUR"},{key:"Total Expense Ratio",value:"0.65% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"35.67%"},{key:"Inception / Listing Date",value:"April 28, 2008"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"Market Access"}],holdings:{summary:{top10Weight:73.45,totalHoldings:28},topHoldings:[{name:"Newmont Corporation",weight:15.23},{name:"Barrick Gold Corporation",weight:12.67},{name:"Agnico Eagle Mines Limited",weight:10.45},{name:"Franco-Nevada Corporation",weight:8.89},{name:"Gold Fields Limited",weight:7.23},{name:"AngloGold Ashanti Limited",weight:6.78},{name:"Kinross Gold Corporation",weight:5.34},{name:"Northern Star Resources Ltd",weight:3.67},{name:"Alamos Gold Inc",weight:2.89},{name:"B2Gold Corp",weight:.3}],countries:[{name:"Canada",weight:48.9},{name:"United States",weight:22.67},{name:"Australia",weight:14.78},{name:"South Africa",weight:8.45},{name:"Other",weight:5.2}],sectors:[{name:"Basic Materials",weight:95.67},{name:"Other",weight:4.33}],asOfDate:"2025-10-30"}},"hanetf-auag-esg-gold-mining-ucits-etf":{name:"HANetf AuAg ESG Gold Mining UCITS ETF",slug:"hanetf-auag-esg-gold-mining-ucits-etf",description:["The HANetf AuAg ESG Gold Mining UCITS ETF aims to track the performance of the AuAg ESG Gold Mining Index. This index tracks gold mining companies that meet strict ESG (Environmental, Social and Governance) standards, focusing on sustainable investment in the gold mining sector.","The Total Expense Ratio (TER) of this ETF is 0.75% per annum. HANetf AuAg ESG Gold Mining UCITS ETF is the first ETF focusing on ESG investment in the gold mining sector. This ETF replicates the performance of the underlying index through optimized sampling. Dividends in the ETF are accumulated and reinvested.","The HANetf AuAg ESG Gold Mining UCITS ETF is a small ETF with assets under management of approximately 234 million Euro. The fund was launched on March 12, 2021 and is domiciled in Ireland."],basics:[{key:"Index",value:"AuAg ESG Gold Mining"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, ESG"},{key:"Fund Size",value:"234 million EUR"},{key:"Total Expense Ratio",value:"0.75% per annum"},{key:"Replication",value:"Optimized (Partial Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"Yes (ESG)"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"28.90%"},{key:"Inception / Listing Date",value:"March 12, 2021"},{key:"Distribution Policy",value:"Accumulating"},{key:"Distribution Frequency",value:"-"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"HANetf"}],holdings:{summary:{top10Weight:69.78,totalHoldings:35},topHoldings:[{name:"Newmont Corporation",weight:14.56},{name:"Agnico Eagle Mines Limited",weight:11.23},{name:"Barrick Gold Corporation",weight:9.78},{name:"Franco-Nevada Corporation",weight:8.45},{name:"Gold Fields Limited",weight:7.12},{name:"AngloGold Ashanti Limited",weight:6.34},{name:"Kinross Gold Corporation",weight:5.67},{name:"Northern Star Resources Ltd",weight:3.89},{name:"Alamos Gold Inc",weight:2.74},{name:"Yamana Gold Inc",weight:0}],countries:[{name:"Canada",weight:46.78},{name:"United States",weight:19.45},{name:"Australia",weight:15.67},{name:"South Africa",weight:9.23},{name:"Other",weight:8.87}],sectors:[{name:"Basic Materials",weight:87.45},{name:"Other",weight:12.55}],asOfDate:"2025-10-30"}},"vaneck-junior-gold-miners-ucits":{name:"VanEck Junior Gold Miners UCITS",slug:"vaneck-junior-gold-miners-ucits",description:["The VanEck Junior Gold Miners UCITS ETF aims to track the performance of the MVIS Global Junior Gold Miners Index. This index tracks small and medium-sized gold mining companies worldwide, focusing on companies with high growth potential but also higher risk.","The Total Expense Ratio (TER) of this ETF is 0.56% per annum. VanEck Junior Gold Miners UCITS is a specialized ETF tracking small-cap gold mining companies. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck Junior Gold Miners UCITS ETF is a medium-sized ETF with assets under management of approximately 678 million Euro. The fund was launched on September 22, 2009 and is domiciled in Ireland."],basics:[{key:"Index",value:"MVIS Global Junior Gold Miners"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, Small Cap"},{key:"Fund Size",value:"678 million EUR"},{key:"Total Expense Ratio",value:"0.56% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"42.34%"},{key:"Inception / Listing Date",value:"September 22, 2009"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:58.67,totalHoldings:78},topHoldings:[{name:"B2Gold Corp",weight:8.45},{name:"Alamos Gold Inc",weight:7.89},{name:"Yamana Gold Inc",weight:6.78},{name:"Eldorado Gold Corporation",weight:5.67},{name:"Centerra Gold Inc",weight:5.23},{name:"New Gold Inc",weight:4.89},{name:"Torex Gold Resources Inc",weight:4.56},{name:"Iamgold Corporation",weight:4.23},{name:"Endeavour Mining Corporation",weight:3.89},{name:"Kirkland Lake Gold Ltd",weight:7.08}],countries:[{name:"Canada",weight:52.34},{name:"Australia",weight:18.67},{name:"United States",weight:12.45},{name:"South Africa",weight:7.89},{name:"Other",weight:8.65}],sectors:[{name:"Basic Materials",weight:94.56},{name:"Other",weight:5.44}],asOfDate:"2025-10-30"}},"vaneck-sandp-global-mining-ucits-etf-a":{name:"VanEck S&P Global Mining UCITS ETF A",slug:"vaneck-sandp-global-mining-ucits-etf-a",description:["The VanEck S&P Global Mining UCITS ETF A aims to track the performance of the S&P Global Mining Index. This index tracks the largest mining and metals companies worldwide, including gold, silver, copper, iron and other precious metals.","The Total Expense Ratio (TER) of this ETF is 0.50% per annum. VanEck S&P Global Mining UCITS ETF A is a diversified ETF in the global mining sector. This ETF replicates the performance of the underlying index through full replication. Dividends in the ETF are distributed quarterly.","The VanEck S&P Global Mining UCITS ETF A is a large ETF with assets under management of approximately 3,456 million Euro. The fund was launched on November 8, 2007 and is domiciled in Ireland."],basics:[{key:"Index",value:"S&P Global Mining"},{key:"Investment Focus",value:"Equity, Global, Basic Materials, Diversified"},{key:"Fund Size",value:"3,456 million EUR"},{key:"Total Expense Ratio",value:"0.50% per annum"},{key:"Replication",value:"Physical (Full Replication)"},{key:"Legal Structure",value:"ETF"},{key:"Strategy Risk",value:"Long Only"},{key:"Sustainability",value:"No"},{key:"Fund Currency",value:"USD"},{key:"Currency Risk",value:"Currency not hedged"},{key:"Volatility 1 Year (in EUR)",value:"26.78%"},{key:"Inception / Listing Date",value:"November 8, 2007"},{key:"Distribution Policy",value:"Distributing"},{key:"Distribution Frequency",value:"Quarterly"},{key:"Fund Domicile",value:"Ireland"},{key:"Fund Provider",value:"VanEck"}],holdings:{summary:{top10Weight:54.23,totalHoldings:89},topHoldings:[{name:"BHP Group Limited",weight:8.9},{name:"Rio Tinto Plc",weight:7.45},{name:"Vale SA",weight:6.78},{name:"Newmont Corporation",weight:5.67},{name:"Barrick Gold Corporation",weight:4.89},{name:"Glencore Plc",weight:4.56},{name:"Agnico Eagle Mines Limited",weight:4.23},{name:"Freeport-McMoRan Inc",weight:3.89},{name:"Anglo American Plc",weight:3.67},{name:"Teck Resources Limited",weight:4.19}],countries:[{name:"Australia",weight:28.45},{name:"Canada",weight:24.67},{name:"United States",weight:18.9},{name:"Brazil",weight:12.34},{name:"Other",weight:15.64}],sectors:[{name:"Basic Materials",weight:78.9},{name:"Energy",weight:12.34},{name:"Other",weight:8.76}],asOfDate:"2025-10-30"}}},uC={offers:{description:"Here you can find information about available savings plans for the ETF. You can use the table to compare all available savings plans with the selected savings rate.",defaultMonthlyAmount:100,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"Trade Republic",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"FINANZEN.NET ZERO",rating:5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"Consorsbank",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:null},{name:"flatex",rating:4.5,executionFee:"0.00",accountFee:"0.00",actionLabel:"View Offer",note:"Conditions apply"}]},orderFees:{description:"Here you can find information about different brokers that allow you to trade the ETF. Select your desired trading volume to compare the trading fees of each broker.",defaultOrderVolume:500,currency:"EUR",providers:[{name:"Scalable Capital",rating:5,orderFee:"0.99",etfSavingsPlans:2968,actionLabel:"View Offer",note:"Conditions apply"},{name:"Trade Republic",rating:5,orderFee:"1.00",etfSavingsPlans:2640,actionLabel:"View Offer",note:null},{name:"FINANZEN.NET ZERO",rating:4.5,orderFee:"0.00",etfSavingsPlans:1881,actionLabel:"View Offer",note:null},{name:"Smartbroker+",rating:4.5,orderFee:"0.00",etfSavingsPlans:1617,actionLabel:"View Offer",note:"Conditions apply"},{name:"Traders Place",rating:5,orderFee:"0.00",etfSavingsPlans:1523,actionLabel:"View Offer",note:null}]},performance:{currency:"EUR",summary:[{key:"ytd",label:"Year to date",value:118.45},{key:"1m",label:"1 month",value:8.76},{key:"3m",label:"3 months",value:21.89},{key:"6m",label:"6 months",value:51.23},{key:"1y",label:"1 year",value:109.67},{key:"3y",label:"3 years",value:176.89},{key:"5y",label:"5 years",value:null},{key:"max",label:"Since inception (MAX)",value:125.34},{key:"2024",label:"2024",value:17.89},{key:"2023",label:"2023",value:5.67},{key:"2022",label:"2022",value:-8.45},{key:"2021",label:"2021",value:null}],heatmap:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:{2025:[7.8,-.9,8.7,-1.8,6.2,8.9,1,19.5,22.1,-4.6,15.2,3.5],2024:[-8.9,-9.5,18.8,11.8,11.3,-8.3,7.3,-7,7,13.9,-2.6,-8.6],2023:[5.1,-10.5,12.1,-4.1,-6.1,-5,5.4,-2.6,-7.2,-.1,10.6,2.6],2022:[0,0,0,0,0,0,-6.6,-12.2,3.5,-7.3,-4.3,2],2021:[0,0,0,0,0,0,0,0,0,0,0,0]}},scale:{min:-25,max:25,unit:"%"}},risk:{title:"Risk Overview",overview:[{key:"volatility_1y",label:"1 Year Volatility",value:29.84,unit:"%"},{key:"volatility_3y",label:"3 Year Volatility",value:26.12,unit:"%"},{key:"volatility_5y",label:"5 Year Volatility",value:null,unit:"%"},{key:"return_risk_1y",label:"Return to Risk 1 Year",value:3.67,unit:""},{key:"return_risk_3y",label:"Return to Risk 3 Years",value:1.48,unit:""},{key:"return_risk_5y",label:"Return to Risk 5 Years",value:null,unit:""},{key:"max_drawdown_1y",label:"Maximum Drawdown 1 Year",value:-17.45,unit:"%"},{key:"max_drawdown_3y",label:"Maximum Drawdown 3 Years",value:-24.78,unit:"%"},{key:"max_drawdown_5y",label:"Maximum Drawdown 5 Years",value:null,unit:"%"},{key:"max_drawdown_since_inception",label:"Maximum Drawdown Since Inception",value:-28.67,unit:"%"}],rollingVolatility:{title:"Rolling 1 Year Volatility",period:"1 year",unit:"%",chartUrl:"public/bieu-do-quy-ETF-iShares-loi-nhuan-theo-thang.jpg"}}};Object.keys(cg).forEach(n=>{cg[n].offers||(cg[n].offers=uC.offers),cg[n].orderFees||(cg[n].orderFees=uC.orderFees),cg[n].performance||(cg[n].performance=uC.performance),cg[n].risk||(cg[n].risk=uC.risk)});const db=new Map,o3t=200,sg=async(n,t="en",e="vi")=>{if(!n||typeof n!="string")return n;const i=n.slice(0,4500),r=`${t}_${e}_${i}`;if(db.has(r))return db.get(r);const a=[()=>l3t(i,t,e),()=>c3t(i,t,e),()=>u3t(i,t,e),()=>h3t(i)];for(const s of a)try{const o=await s();if(o&&o!==i){if(db.size>=o3t){const l=db.keys().next().value;db.delete(l)}return db.set(r,o),o}}catch(o){console.warn("Translation method failed:",o.message);continue}return i};async function l3t(n,t,e){const i=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${t}&tl=${e}&dt=t&q=${encodeURIComponent(n)}`);if(!i.ok)throw new Error("Google API 1 failed");return(await i.json())[0]?.map(a=>a[0]).join("")||n}async function c3t(n,t,e){const i=await fetch(`https://clients5.google.com/translate_a/t?client=dict-chrome-ex&sl=${t}&tl=${e}&q=${encodeURIComponent(n)}`);if(!i.ok)throw new Error("Google API 2 failed");return(await i.json())[0]||n}async function u3t(n,t,e){const i=await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(n)}&langpair=${t}|${e}`);if(!i.ok)throw new Error("MyMemory API failed");return(await i.json()).responseData?.translatedText||n}function h3t(n){const t={Corporation:"Tp on",Corp:"Cng ty",Inc:"Cng ty",Limited:"Cng ty",Ltd:"Cng ty",Plc:"Cng ty",Group:"Tp on",Mining:"Khai thc M",Gold:"Vng",Silver:"Bc",Resources:"Ti nguyn","Precious Metals":"Kim loi Qu",Mines:"M",Eagle:"i bng","United States":"Hoa K",Canada:"Canada",Australia:"c",China:"Trung Quc","South Africa":"Nam Phi",Mexico:"Mexico",Brazil:"Brazil","South Korea":"Hn Quc",Other:"Khc","Basic Materials":"Ngnh Khai thc & Kim loi",Materials:"Vt liu",Energy:"Nng lng",Index:"Ch s","Investment Focus":"Trng tm u t","Fund Size":"Quy m qu","Total Expense Ratio":"T l chi ph tng cng",Replication:"Sao chp","Legal Structure":"Cu trc php l","Strategy Risk":"Ri ro chin lc",Sustainability:"Tnh bn vng","Fund Currency":"Tin t ca qu","Currency Risk":"Ri ro tin t",Volatility:"Bin ng",Inception:"Thnh lp","Listing Date":"Ngy nim yt","Distribution Policy":"Chnh sch phn phi","Distribution Frequency":"Tn sut phn b","Fund Domicile":"Ni t tr s qu","Fund Provider":"Nh cung cp qu","Year to date":"T u nm n nay","Since inception":"K t khi thnh lp","Risk Overview":"Tng quan ri ro",Rolling:"Lin tip","Maximum Drawdown":"Mc st gim ti a","Return to Risk":"Li nhun trn ri ro","View Offer":"Xem u i","Conditions apply":"C iu kin p dng","per annum":"mi nm",Physical:"Vt l","Full Replication":"Sao chp hon ton","Partial Replication":"Sao chp mt phn",Optimized:"Ti u ha",Accumulating:"Tch ly",Distributing:"Phn phi",Quarterly:"Hng qu","Long Only":"Ch di hn","Currency not hedged":"Tin t khng c phng nga ri ro",Ireland:"Ireland",No:"KHNG",Yes:"C"};let e=n;for(const[i,r]of Object.entries(t)){const a=new RegExp(`\\b${i}\\b`,"gi");e=e.replace(a,r)}return e!==n?e:null}const rE=new Map,d3t=async n=>{if(!n)return n;const t=`etf_${n.slug}`;if(rE.has(t))return rE.get(t);try{const e={...n};if(console.log("ang dch ETF:",n.name),n.description&&Array.isArray(n.description)){console.log("ang dch description..."),e.description=[];for(let i=0;i<n.description.length;i++)try{const r=await sg(n.description[i],"en","vi");e.description.push(r),await new Promise(a=>setTimeout(a,100))}catch(r){console.warn(`Li dch description ${i}:`,r),e.description.push(n.description[i])}}if(n.basics&&Array.isArray(n.basics)){console.log("ang dch basics..."),e.basics=[];for(let i=0;i<n.basics.length;i++)try{const r=n.basics[i],a=await sg(r.key,"en","vi");await new Promise(o=>setTimeout(o,50));const s=await sg(r.value,"en","vi");await new Promise(o=>setTimeout(o,50)),e.basics.push({key:a,value:s})}catch(r){console.warn(`Li dch basic ${i}:`,r),e.basics.push(n.basics[i])}}if(n.holdings){if(console.log("ang dch holdings..."),e.holdings={...n.holdings},n.holdings.topHoldings){e.holdings.topHoldings=[];for(let i=0;i<n.holdings.topHoldings.length;i++)try{const r=n.holdings.topHoldings[i],a=await sg(r.name,"en","vi");await new Promise(s=>setTimeout(s,50)),e.holdings.topHoldings.push({...r,name:a})}catch(r){console.warn(`Li dch holding ${i}:`,r),e.holdings.topHoldings.push(n.holdings.topHoldings[i])}}if(n.holdings.countries){e.holdings.countries=[];for(let i=0;i<n.holdings.countries.length;i++)try{const r=n.holdings.countries[i],a=await sg(r.name,"en","vi");await new Promise(s=>setTimeout(s,50)),e.holdings.countries.push({...r,name:a})}catch(r){console.warn(`Li dch country ${i}:`,r),e.holdings.countries.push(n.holdings.countries[i])}}if(n.holdings.sectors){e.holdings.sectors=[];for(let i=0;i<n.holdings.sectors.length;i++)try{const r=n.holdings.sectors[i],a=await sg(r.name,"en","vi");await new Promise(s=>setTimeout(s,50)),e.holdings.sectors.push({...r,name:a})}catch(r){console.warn(`Li dch sector ${i}:`,r),e.holdings.sectors.push(n.holdings.sectors[i])}}}if(n.performance&&n.performance.summary){console.log("ang dch performance..."),e.performance={...n.performance},e.performance.summary=[];for(let i=0;i<n.performance.summary.length;i++)try{const r=n.performance.summary[i],a=await sg(r.label,"en","vi");await new Promise(s=>setTimeout(s,50)),e.performance.summary.push({...r,label:a})}catch(r){console.warn(`Li dch performance ${i}:`,r),e.performance.summary.push(n.performance.summary[i])}}if(n.risk){console.log("ang dch risk..."),e.risk={...n.risk};try{e.risk.title=await sg(n.risk.title,"en","vi"),await new Promise(i=>setTimeout(i,50))}catch(i){console.warn("Li dch risk title:",i)}if(n.risk.overview){e.risk.overview=[];for(let i=0;i<n.risk.overview.length;i++)try{const r=n.risk.overview[i],a=await sg(r.label,"en","vi");await new Promise(s=>setTimeout(s,50)),e.risk.overview.push({...r,label:a})}catch(r){console.warn(`Li dch risk overview ${i}:`,r),e.risk.overview.push(n.risk.overview[i])}}if(n.risk.rollingVolatility)try{e.risk.rollingVolatility={...n.risk.rollingVolatility,title:await sg(n.risk.rollingVolatility.title,"en","vi")}}catch(i){console.warn("Li dch rolling volatility:",i),e.risk.rollingVolatility=n.risk.rollingVolatility}}return console.log("Hon thnh dch ETF:",n.name),rE.set(t,e),e}catch(e){return console.error("Error translating ETF data:",e),f3t(n)}};function f3t(n){console.log("S dng quick translate cho:",n.name);const t={...n};return n.basics&&(t.basics=n.basics.map(e=>({key:fb(e.key),value:fb(e.value)}))),n.holdings&&(t.holdings={...n.holdings},n.holdings.topHoldings&&(t.holdings.topHoldings=n.holdings.topHoldings.map(e=>({...e,name:fb(e.name)}))),n.holdings.countries&&(t.holdings.countries=n.holdings.countries.map(e=>({...e,name:fb(e.name)}))),n.holdings.sectors&&(t.holdings.sectors=n.holdings.sectors.map(e=>({...e,name:fb(e.name)})))),t}const fb=n=>{const t={Corporation:"Tp on",Corp:"Cng ty",Inc:"Cng ty",Limited:"Cng ty",Ltd:"Cng ty",Plc:"Cng ty",Group:"Tp on",Mining:"Khai thc M",Gold:"Vng",Silver:"Bc",Resources:"Ti nguyn","Precious Metals":"Kim loi Qu",Mines:"M",Eagle:"i bng","United States":"Hoa K",Canada:"Canada",Australia:"c",China:"Trung Quc","South Africa":"Nam Phi",Mexico:"Mexico",Brazil:"Brazil","South Korea":"Hn Quc",Other:"Khc","Basic Materials":"Ngnh Khai thc & Kim loi",Materials:"Vt liu",Energy:"Nng lng",Index:"Ch s","Investment Focus":"Trng tm u t","Fund Size":"Quy m qu","Total Expense Ratio":"T l chi ph tng cng",Replication:"Sao chp","Legal Structure":"Cu trc php l","Strategy Risk":"Ri ro chin lc",Sustainability:"Tnh bn vng","Fund Currency":"Tin t ca qu","Currency Risk":"Ri ro tin t",Volatility:"Bin ng",Inception:"Thnh lp","Listing Date":"Ngy nim yt","Distribution Policy":"Chnh sch phn phi","Distribution Frequency":"Tn sut phn b","Fund Domicile":"Ni t tr s qu","Fund Provider":"Nh cung cp qu","Year to date":"T u nm n nay","Since inception":"K t khi thnh lp","Risk Overview":"Tng quan ri ro",Rolling:"Lin tip","Maximum Drawdown":"Mc st gim ti a","Return to Risk":"Li nhun trn ri ro","View Offer":"Xem u i","Conditions apply":"C iu kin p dng","per annum":"mi nm",Physical:"Vt l","Full Replication":"Sao chp hon ton","Partial Replication":"Sao chp mt phn",Optimized:"Ti u ha",Accumulating:"Tch ly",Distributing:"Phn phi",Quarterly:"Hng qu","Long Only":"Ch di hn","Currency not hedged":"Tin t khng c phng nga ri ro",Ireland:"Ireland",No:"KHNG",Yes:"C"};let e=n;for(const[i,r]of Object.entries(t)){const a=new RegExp(`\\b${i}\\b`,"gi");e=e.replace(a,r)}return e},hC=({value:n})=>u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${n}%`}})});function g3t(){const{etfSlug:n}=rc(),[t,e]=N.useState(null),[i,r]=N.useState(!0);return N.useEffect(()=>{(async()=>{let s=s3t[n],o=!1;if(s||(s=cg[n],o=!0),!s){r(!1);return}try{if(o){const l=await d3t(s);e(l)}else e(s)}catch(l){console.error("Error translating ETF data:",l);const c={...s,name:fb(s.name)};e(c)}finally{r(!1)}})()},[n]),i?u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",color:"#fff"},children:u.jsx("div",{children:"ang dch thng tin ETF..."})}):t?u.jsxs("div",{className:"etf-detail",children:[u.jsx("h1",{className:"section-title",children:t?.name}),u.jsx("p",{}),u.jsxs("div",{className:"description",children:[u.jsx("h2",{className:"section-title",children:"M t"}),t?.description?.map((a,s)=>u.jsx("p",{children:a},s))]}),u.jsxs("div",{children:[u.jsx("h2",{className:"section-title",children:"Nhng iu c bn"}),u.jsx("table",{className:"basics-table",children:u.jsx("tbody",{children:t.basics?.map((a,s)=>u.jsxs("tr",{children:[u.jsx("td",{className:"label",children:a.key}),u.jsx("td",{className:"value",children:a.value})]},s))})})]}),u.jsx(p3t,{holdings:t.holdings}),u.jsx(m3t,{offers:t.offers}),u.jsx(y3t,{orderFees:t.orderFees}),u.jsx(v3t,{performance:t.performance}),u.jsx(b3t,{risk:t.risk})]}):u.jsx("div",{children:"ETF khng tm thy"})}function p3t({holdings:n}){return u.jsxs("div",{className:"holdings-section",children:[u.jsx("h2",{className:"section-title",children:"Cng ty nm gi"}),u.jsx("p",{className:"section-subtitle",children:"Di y l thng tin v thnh phn ca qu Global X Silver Miners UCITS ETF USD Accumulating."}),u.jsxs("div",{className:"holdings-grid",children:[u.jsxs("div",{className:"holdings-left",children:[u.jsx("h3",{children:"Top 10 Holdings"}),u.jsxs("div",{className:"summary-box",children:[u.jsxs("span",{children:["T trng ca 10 khon u t hng u trn ",n.summary.totalHoldings]}),u.jsxs("span",{className:"summary-value",children:[n.summary.top10Weight,"%"]}),u.jsx(hC,{value:n.summary.top10Weight})]}),n.topHoldings.map(t=>u.jsxs("div",{className:"row",children:[u.jsx("span",{className:"row-name",children:t.name}),u.jsxs("span",{className:"row-value",children:[t.weight,"%"]}),u.jsx(hC,{value:t.weight})]},t.name))]}),u.jsxs("div",{className:"holdings-right",children:[u.jsxs("div",{className:"block",children:[u.jsx("h3",{children:"Cc quc gia"}),n.countries.map(t=>u.jsxs("div",{className:"row",children:[u.jsx("span",{className:"row-name",children:t.name}),u.jsxs("span",{className:"row-value",children:[t.weight,"%"]}),u.jsx(hC,{value:t.weight})]},t.name))]}),u.jsxs("div",{className:"block",children:[u.jsx("h3",{children:"Cc lnh vc"}),n.sectors.map(t=>u.jsxs("div",{className:"row",children:[u.jsx("span",{className:"row-name",children:t.name}),u.jsxs("span",{className:"row-value",children:[t.weight,"%"]}),u.jsx(hC,{value:t.weight})]},t.name))]})]})]}),u.jsxs("div",{className:"asof",children:["Tnh n ngy ",new Date(n.asOfDate).toLocaleDateString("vi-VN")]})]})}const $K=({value:n})=>{const t=Math.floor(n),e=n%1!==0;return u.jsxs("div",{className:"stars",children:[[...Array(t)].map((i,r)=>u.jsx("span",{children:""},r)),e&&u.jsx("span",{children:""})]})};function m3t({offers:n}){return u.jsxs("div",{className:"offers-section",children:[u.jsx("h2",{className:"offers-title",children:"Chng trnh tit kim ETF cung cp"}),u.jsx("p",{className:"offers-desc",children:n.description}),u.jsxs("div",{className:"offers-filter",children:[u.jsx("span",{children:"Chn s tin bn mun tit kim:"}),u.jsx("select",{defaultValue:n.defaultMonthlyAmount,children:u.jsxs("option",{value:n.defaultMonthlyAmount,children:[n.defaultMonthlyAmount," ",n.currency]})})]}),u.jsxs("table",{className:"offers-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Mi gii"}),u.jsx("th",{children:"Xp hng"}),u.jsx("th",{children:"Ph thc hin"}),u.jsx("th",{children:"Ph ti khon"}),u.jsx("th",{})]})}),u.jsx("tbody",{children:n.providers.map(t=>u.jsxs("tr",{children:[u.jsx("td",{className:"provider",children:t.name}),u.jsx("td",{children:u.jsx($K,{value:t.rating})}),u.jsx("td",{children:t.executionFee}),u.jsxs("td",{children:[t.accountFee,t.note&&u.jsx("span",{className:"note",children:" "})]}),u.jsx("td",{children:u.jsx("button",{className:"offer-btn",children:t.actionLabel})})]},t.name))})]})]})}function y3t({orderFees:n}){return u.jsxs("div",{className:"offers-section",children:[u.jsx("h2",{className:"offers-title",children:"Ph giao dch ETF theo nh mi gii"}),u.jsx("p",{className:"offers-desc",children:n.description}),u.jsxs("div",{className:"offers-filter",children:[u.jsx("span",{children:"Chn khi lng giao dch:"}),u.jsx("select",{defaultValue:n.defaultOrderVolume,children:u.jsxs("option",{value:n.defaultOrderVolume,children:[n.defaultOrderVolume," ",n.currency]})})]}),u.jsxs("table",{className:"offers-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Mi gii"}),u.jsx("th",{children:"Xp hng"}),u.jsx("th",{children:"Ph giao dch"}),u.jsx("th",{children:"S ETF tit kim"}),u.jsx("th",{})]})}),u.jsx("tbody",{children:n.providers.map(t=>u.jsxs("tr",{children:[u.jsx("td",{className:"provider",children:t.name}),u.jsx("td",{children:u.jsx($K,{value:t.rating})}),u.jsx("td",{children:t.orderFee}),u.jsxs("td",{children:[t.etfSavingsPlans.toLocaleString("vi-VN"),t.note&&u.jsx("span",{className:"note",children:" "})]}),u.jsx("td",{children:u.jsx("button",{className:"offer-btn",children:t.actionLabel})})]},t.name))})]})]})}function v3t({performance:n}){const{summary:t,heatmap:e,currency:i}=n;return u.jsxs("div",{className:"performance-section",children:[u.jsx("h2",{className:"section-title-performance",children:"Hiu sut"}),u.jsxs("div",{className:"performance-wrapper",children:[u.jsxs("div",{className:"performance-left",children:[u.jsx("h3",{children:"Tng quan v chnh sch hon tr"}),u.jsx("div",{className:"performance-table",children:t.map(r=>u.jsxs("div",{className:"perf-row",children:[u.jsx("span",{className:"perf-label",children:r.label}),u.jsx("span",{className:`perf-value ${r.value==null?"neutral":r.value>=0?"positive":"negative"}`,children:r.value==null?"-":`${r.value.toFixed(2)}%`})]},r.key))})]}),u.jsxs("div",{className:"performance-right",children:[u.jsx("h3",{className:"section-title",children:"Li nhun hng thng c th hin trn bn  nhit"}),u.jsxs("div",{className:"heatmap",children:[u.jsxs("div",{className:"heatmap-header",children:[u.jsx("span",{}),e.months.map(r=>u.jsx("span",{children:r},r))]}),Object.entries(e.data).map(([r,a])=>u.jsxs("div",{className:"heatmap-row",children:[u.jsx("span",{className:"heatmap-year",children:r}),a.map((s,o)=>u.jsx("span",{className:`heatmap-cell ${x3t(s)}`,children:s>0?`+${s}`:s},o))]},r))]})]})]})]})}function x3t(n){return n>=20?"heat-very-positive":n>=10?"heat-positive":n>0?"heat-light-positive":n===0?"heat-neutral":n>-5?"heat-light-negative":n>-10?"heat-negative":"heat-very-negative"}function b3t({risk:n}){const{overview:t,rollingVolatility:e}=n;return u.jsxs("div",{className:"risk-wrapper",children:[u.jsxs("div",{className:"risk-left",children:[u.jsx("h2",{className:"section-title",children:n.title}),n.overview.map(i=>u.jsxs("div",{className:"risk-row",children:[u.jsx("span",{children:i.label}),u.jsx("span",{className:i.value<0?"negative":"",children:i.value==null?"-":`${i.value}${i.unit}`})]},i.key))]}),u.jsxs("div",{className:"risk-right",children:[u.jsx("h2",{className:"section-title",children:e.title}),u.jsx("div",{className:"volatility-chart",children:u.jsx("img",{src:e.chartUrl,alt:"Volatility Chart"})})]})]})}const aE=({data:n,title:t,timeRange:e,setTimeRange:i,chartKey:r,initialIsOpen:a=!1})=>{const[s,o]=N.useState(a),[l,c]=yf(),[h,d]=N.useState(e);N.useEffect(()=>{const x=l.get("chart");x===r?o(!0):x!==r&&s&&o(!1)},[l,r]);const g=()=>{o(!1),l.get("chart")===r&&(l.delete("chart"),c(l))},y=N.useMemo(()=>Qe(n,h),[n,h]);return u.jsxs(u.Fragment,{children:[u.jsx(dd,{to:`/chart-detail/${r}`,style:{textDecoration:"none"},children:u.jsx("div",{style:{cursor:"pointer"},children:u.jsx(PD,{data:n,title:t,timeRange:e,setTimeRange:i})})}),s&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center"},onClick:g,children:u.jsxs("div",{style:{width:"97%",maxWidth:"2000px",height:"90%",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px"},onClick:x=>x.stopPropagation(),children:[u.jsx(T1,{activeRange:h,onRangeChange:d}),u.jsx(PD,{data:y,title:t,timeRange:h,setTimeRange:d}),u.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:x=>{x.stopPropagation(),g()},children:"ng"})]})})]})},w3t=({allData:n,buyData:t,sellData:e,keyIndex:i,title:r,time:a,initialIsOpen:s=!1})=>{const[o,l]=N.useState(s),[c,h]=yf();Gi();const[d,g]=N.useState(a),[y,x]=N.useState(i),[w,k]=N.useState(r),A=n[`buy${y}`]||[],T=n[`sell${y}`]||[];N.useEffect(()=>{c.get("chart")===i&&!o&&l(!0)},[c,i]);const R=()=>{l(!1),c.get("chart")===i&&(c.delete("chart"),h(c))},G=N.useMemo(()=>Qe(t,d),[t,d]),z=N.useMemo(()=>Qe(e,d),[e,d]),F=N.useMemo(()=>Qe(A,d),[A,d]),H=N.useMemo(()=>Qe(T,d),[T,d]),Y={DataHistoryGooonusVANGPHUQUY:"History 1 Nm VANGPHUQUY",DatatoryGooonusNhanTronPhuQuy9999:"Nhn trn ph qu 9999",DataHistoryGooonusVangMiengSjc:"Vng ming SJC",DataHistoryGooonusVangTrangSuc98:"Vng trang sc 98",DataHistoryGooonusVangTrangSuc99:"Vng trang sc 99",DataHistoryGooonusVangTrangSuc999:"Vng trang sc 999",DataHistoryGooonusVangTrangSuc9999:"Vng trang sc 9999",DataHistoryGooonusVangHanQuoc:"Vng Hn Quc",DataHistoryGooonusVangSac:"Vng Sac",DataHistoryGooonusBacSac:"Bc Sac"};return u.jsxs(u.Fragment,{children:[u.jsx(dd,{to:`/chart-detail/${i}`,style:{textDecoration:"none"},children:u.jsx("div",{style:{cursor:"pointer"},children:u.jsx(ED,{buyData:G,sellData:z,title:r,isZoom:o})})}),o&&u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,textAlign:"center"},onClick:R,children:u.jsxs("div",{style:{width:"97%",maxWidth:"2000px",height:"90%",backgroundColor:"var(--background-dark)",padding:"20px",borderRadius:"10px"},onClick:J=>J.stopPropagation(),children:[u.jsx(T1,{activeRange:d,onRangeChange:g}),i==="DataHistoryGooonusVANGPHUQUY"&&u.jsxs("select",{class:"custom-select",value:y,onChange:J=>{const nt=J.target.value;x(nt),k(Y[nt])},children:[u.jsx("option",{value:"DataMatDataHistoryGooonusVANGPHUQUYerial",children:"History 1 Nm VANGPHUQUY"},"DataHistoryGooonusVANGPHUQUY"),u.jsx("option",{value:"DataHistoryGooonusNhanTronPhuQuy9999",children:"Nhn trn ph qu 9999"},"DataHistoryGooonusNhanTronPhuQuy9999"),u.jsx("option",{value:"DataHistoryGooonusVangMiengSjc",children:"Vng ming SJC"},"DataHistoryGooonusVangMiengSjc"),u.jsx("option",{value:"DataHistoryGooonusVangTrangSuc98",children:"Vng trang sc 98"},"DataHistoryGooonusVangTrangSuc98"),u.jsx("option",{value:"DataHistoryGooonusVangTrangSuc99",children:"Vng trang sc 99"},"DataHistoryGooonusVangTrangSuc99"),u.jsx("option",{value:"DataHistoryGooonusVangTrangSuc999",children:"Vng trang sc 999"},"DataHistoryGooonusVangTrangSuc999"),u.jsx("option",{value:"DataHistoryGooonusVangTrangSuc9999",children:"Vng trang sc 9999"},"DataHistoryGooonusVangTrangSuc9999")]}),u.jsx(ED,{buyData:F,sellData:H,title:w,isZoom:o}),u.jsx("button",{style:{marginTop:"20px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#EF4444",color:"#fff",cursor:"pointer"},onClick:R,children:"ng"})]})})]})},_3t=()=>{const[n,t]=N.useState("gold"),[e,i]=N.useState({sjcData:[],nguyenLieuData:[],usdData:[],buyDataMaterial:[],sellDataMaterial:[],buyDataHistoryGooonusBTMC:[],sellDataHistoryGooonusBTMC:[],buyDataHistoryGooonusBTMH:[],sellDataHistoryGooonusBTMH:[],buyDataHistoryGooonusDOJI:[],sellDataHistoryGooonusDOJI:[],buyDataHistoryGooonusMIHONG:[],sellDataHistoryGooonusMIHONG:[],buyDataHistoryGooonusNGOCTHAM:[],sellDataHistoryGooonusNGOCTHAM:[],buyDataHistoryGooonusPNJ:[],sellDataHistoryGooonusPNJ:[],buyDataHistoryGooonusVANGPHUQUY:[],sellDataHistoryGooonusVANGPHUQUY:[],buyDataHistoryGooonusBacPhuQuy:[],sellDataHistoryGooonusBacPhuQuy:[],buyDataHistoryGooonusNhanTronPhuQuy9999:[],sellDataHistoryGooonusNhanTronPhuQuy9999:[],buyDataHistoryGooonusVangMiengSjc:[],sellDataHistoryGooonusVangMiengSjc:[],buyDataHistoryGooonusVangTrangSuc99:[],sellDataHistoryGooonusVangTrangSuc99:[],buyDataHistoryGooonusVangTrangSuc999:[],sellDataHistoryGooonusVangTrangSuc999:[],buyDataHistoryGooonusVangTrangSuc9999:[],sellDataHistoryGooonusVangTrangSuc9999:[],buyDataHistoryGooonusVangTrangSuc98:[],sellDataHistoryGooonusVangTrangSuc98:[],buyDataHistoryGooonusVangHanQuoc:[],sellDataHistoryGooonusVangHanQuoc:[],buyDataHistoryGooonusVangSac:[],sellDataHistoryGooonusVangSac:[],buyDataHistoryGooonusBacSac:[],sellDataHistoryGooonusBacSac:[]}),[r,a]=N.useState(!0),[s,o]=N.useState(null),[l,c]=N.useState("ALL"),[h]=yf(),d=h.get("chart");N.useEffect(()=>{(async()=>{try{a(!0);const w=await UK();i(w),o(null)}catch(w){console.error("Error loading candlestick data:",w),o("Khng th ti d liu biu . Vui lng th li sau.")}finally{a(!1)}})()},[]);const g=N.useMemo(()=>e.sjcData?{sjcData:Qe(e.sjcData,l),nguyenLieuData:Qe(e.nguyenLieuData,l),usdData:Qe(e.usdData,l),buyDataMaterial:Qe(e.buyDataMaterial,l),sellDataMaterial:Qe(e.sellDataMaterial,l),buyDataHistoryGooonusBTMC:Qe(e.buyDataHistoryGooonusBTMC,l),sellDataHistoryGooonusBTMC:Qe(e.sellDataHistoryGooonusBTMC,l),buyDataHistoryGooonusBTMH:Qe(e.buyDataHistoryGooonusBTMH,l),sellDataHistoryGooonusBTMH:Qe(e.sellDataHistoryGooonusBTMH,l),buyDataHistoryGooonusDOJI:Qe(e.buyDataHistoryGooonusDOJI,l),sellDataHistoryGooonusDOJI:Qe(e.sellDataHistoryGooonusDOJI,l),buyDataHistoryGooonusMIHONG:Qe(e.buyDataHistoryGooonusMIHONG,l),sellDataHistoryGooonusMIHONG:Qe(e.sellDataHistoryGooonusMIHONG,l),buyDataHistoryGooonusNGOCTHAM:Qe(e.buyDataHistoryGooonusNGOCTHAM,l),sellDataHistoryGooonusNGOCTHAM:Qe(e.sellDataHistoryGooonusNGOCTHAM,l),buyDataHistoryGooonusPNJ:Qe(e.buyDataHistoryGooonusPNJ,l),sellDataHistoryGooonusPNJ:Qe(e.sellDataHistoryGooonusPNJ,l),buyDataHistoryGooonusVANGPHUQUY:Qe(e.buyDataHistoryGooonusVANGPHUQUY,l),sellDataHistoryGooonusVANGPHUQUY:Qe(e.sellDataHistoryGooonusVANGPHUQUY,l),buyDataHistoryGooonusBacPhuQuy:Qe(e.buyDataHistoryGooonusBacPhuQuy,l),sellDataHistoryGooonusBacPhuQuy:Qe(e.sellDataHistoryGooonusBacPhuQuy,l),buyDataHistoryGooonusNhanTronPhuQuy9999:Qe(e.buyDataHistoryGooonusNhanTronPhuQuy9999,l),sellDataHistoryGooonusNhanTronPhuQuy9999:Qe(e.sellDataHistoryGooonusNhanTronPhuQuy9999,l),buyDataHistoryGooonusVangMiengSjc:Qe(e.buyDataHistoryGooonusVangMiengSjc,l),sellDataHistoryGooonusVangMiengSjc:Qe(e.sellDataHistoryGooonusVangMiengSjc,l),buyDataHistoryGooonusVangTrangSuc99:Qe(e.buyDataHistoryGooonusVangTrangSuc99,l),sellDataHistoryGooonusVangTrangSuc99:Qe(e.sellDataHistoryGooonusVangTrangSuc99,l),buyDataHistoryGooonusVangTrangSuc999:Qe(e.buyDataHistoryGooonusVangTrangSuc999,l),sellDataHistoryGooonusVangTrangSuc999:Qe(e.sellDataHistoryGooonusVangTrangSuc999,l),buyDataHistoryGooonusVangTrangSuc9999:Qe(e.buyDataHistoryGooonusVangTrangSuc9999,l),sellDataHistoryGooonusVangTrangSuc9999:Qe(e.sellDataHistoryGooonusVangTrangSuc9999,l),buyDataHistoryGooonusVangTrangSuc98:Qe(e.buyDataHistoryGooonusVangTrangSuc98,l),sellDataHistoryGooonusVangTrangSuc98:Qe(e.sellDataHistoryGooonusVangTrangSuc98,l),buyDataHistoryGooonusVangHanQuoc:Qe(e.buyDataHistoryGooonusVangHanQuoc,l),sellDataHistoryGooonusVangHanQuoc:Qe(e.sellDataHistoryGooonusVangHanQuoc,l),buyDataHistoryGooonusVangSac:Qe(e.buyDataHistoryGooonusVangSac,l),sellDataHistoryGooonusVangSac:Qe(e.sellDataHistoryGooonusVangSac,l),buyDataHistoryGooonusBacSac:Qe(e.buyDataHistoryGooonusBacSac,l),sellDataHistoryGooonusBacSac:Qe(e.sellDataHistoryGooonusBacSac,l)}:{sjcData:[],nguyenLieuData:[],usdData:[],buyDataMaterial:[],sellDateMaterial:[],buyDataHistoryGooonusBTMC:[],sellDataHistoryGooonusBTMC:[],buyDataHistoryGooonusBTMH:[],sellDataHistoryGooonusBTMH:[],buyDataHistoryGooonusDOJI:[],sellDataHistoryGooonusDOJI:[],buyDataHistoryGooonusMIHONG:[],sellDataHistoryGooonusMIHONG:[],buyDataHistoryGooonusNGOCTHAM:[],sellDataHistoryGooonusNGOCTHAM:[],buyDataHistoryGooonusPNJ:[],sellDataHistoryGooonusPNJ:[],buyDataHistoryGooonusVANGPHUQUY:[],sellDataHistoryGooonusVANGPHUQUY:[],buyDataHistoryGooonusBacPhuQuy:[],sellDataHistoryGooonusBacPhuQuy:[],buyDataHistoryGooonusNhanTronPhuQuy9999:[],sellDataHistoryGooonusNhanTronPhuQuy9999:[],buyDataHistoryGooonusVangMiengSjc:[],sellDataHistoryGooonusVangMiengSjc:[],buyDataHistoryGooonusVangTrangSuc99:[],sellDataHistoryGooonusVangTrangSuc99:[],buyDataHistoryGooonusVangTrangSuc999:[],sellDataHistoryGooonusVangTrangSuc999:[],buyDataHistoryGooonusVangTrangSuc9999:[],sellDataHistoryGooonusVangTrangSuc9999:[],buyDataHistoryGooonusVangTrangSuc98:[],sellDataHistoryGooonusVangTrangSuc98:[],buyDataHistoryGooonusVangHanQuoc:[],sellDataHistoryGooonusVangHanQuoc:[],buyDataHistoryGooonusVangSac:[],sellDataHistoryGooonusVangSac:[],buyDataHistoryGooonusBacSac:[],sellDataHistoryGooonusBacSac:[]},[e,l]);if(r)return u.jsx("div",{className:"candlestick-section",children:u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"ang ti biu  lch s gi..."})]})});if(s)return u.jsx("div",{className:"candlestick-section",children:u.jsx("div",{className:"error-container",children:u.jsxs("p",{className:"error-message",children:[" ",s]})})});const y=[{type:"gold",key:"DataMaterial",title:"Lch s vng km tn t nm 2009"},{type:"gold",key:"DataHistoryGooonusBTMC",title:"History 1 Nm BTMC"},{type:"gold",key:"DataHistoryGooonusBTMH",title:"History 1 Nm BTMH"},{type:"gold",key:"DataHistoryGooonusDOJI",title:"History 1 Nm DOJI"},{type:"gold",key:"DataHistoryGooonusMIHONG",title:"History 1 Nm MIHONG"},{type:"gold",key:"DataHistoryGooonusNGOCTHAM",title:"History 1 Nm NGOCTHAM"},{type:"gold",key:"DataHistoryGooonusPNJ",title:"History 1 Nm PNJ"},{type:"silver",key:"DataHistoryGooonusBacPhuQuy",title:"History Bac Phu Quy"},{type:"gold",key:"DataHistoryGooonusVANGPHUQUY",title:"History 1 Nm VANGPHUQUY"},{type:"gold",key:"DataHistoryGooonusVangHanQuoc",title:"History Vng koreagoldx.co.kr"},{type:"gold",key:"DataHistoryGooonusVangSac",title:"History Vng SACOMBANK SBJ"},{type:"gold",key:"DataHistoryGooonusBacSac",title:"History Bc SACOMBANK"}];return console.log("Vang Han Quoc buyData:",g.buyDataHistoryGooonusVangHanQuoc),console.log("Vang Han Quoc sellData:",g.sellDataHistoryGooonusVangHanQuoc),u.jsxs("div",{className:"candlestick-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{className:"section-title",children:" BIU  LCH S GI"}),u.jsx("p",{className:"section-subtitle",children:"Biu  nn (Candlestick) hin th lch s bin ng gi"})]}),u.jsxs("div",{style:{margin:"10px 0"},children:[u.jsx("button",{className:`btn-type ${n==="gold"?"btn-active":""}`,onClick:()=>t("gold"),children:"Vng"}),u.jsx("button",{className:`btn-type ${n==="silver"?"btn-active":""}`,style:{marginLeft:"20px"},onClick:()=>t("silver"),children:"Bc"})]}),u.jsx(T1,{activeRange:l,onRangeChange:c}),u.jsxs("div",{className:"charts-grid",children:[u.jsx(aE,{data:g.sjcData,title:"SJC T do",timeRange:l,setTimeRange:c,chartKey:"sjc",initialIsOpen:d==="sjc"}),u.jsx(aE,{data:g.nguyenLieuData,title:"Vng Nguyn liu",timeRange:l,setTimeRange:c,chartKey:"nguyenLieu",initialIsOpen:d==="nguyenLieu"}),u.jsx(aE,{data:g.usdData,title:"T gi USD/VND",timeRange:l,setTimeRange:c,chartKey:"usd",initialIsOpen:d==="usd"}),y.filter(x=>x.type===n).map(x=>u.jsx(w3t,{allData:g,buyData:g[`buy${x.key}`],sellData:g[`sell${x.key}`],keyIndex:x.key,title:x.title,time:l,initialIsOpen:d===x.key},x.key))]})]})},WG=()=>{const n=Gi(),{username:t}=rc(),[e,i]=yf(),[r,a]=N.useState([]),[s,o]=N.useState(null),[l,c]=N.useState(!1),[h,d]=N.useState(!1),[g,y]=N.useState(null),[x,w]=N.useState(""),[k,A]=N.useState(!1),[T,R]=N.useState(""),[G,z]=N.useState(()=>{const V=e.get("page");return V?parseInt(V,10):1}),F=6;N.useEffect(()=>{qo("Trang Danh sch v - WalletAccountsList.jsx")},[]),N.useEffect(()=>{(async()=>{c(!0);try{const Z=localStorage.getItem("accountInfo");Z&&o(JSON.parse(Z));const rt=new Date,lt=rt.getDate(),mt=rt.getMonth()+1,ct=rt.getFullYear(),st=await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${lt}_${mt}_${ct}`);if(!st.ok)throw new Error("Khng gi c API ly IP");const xt=await st.json();if(xt.status!=="success"||!xt.ip_location)throw new Error("Khng c ip_location trong API");const dt=xt.ip_location;console.log(" User IP:",dt);const ht=`https://api_gold.thinkdiff.us/api/vi/find_by_iplocation/${dt}`;console.log("Fetching wallets:",ht);const ot=await fetch(ht);if(!ot.ok)throw new Error(`API Error: ${ot.status}`);const vt=await ot.json();console.log("=== API Response ===",vt);let St=[];Array.isArray(vt)?St=vt:vt?.data&&Array.isArray(vt.data)?St=vt.data:typeof vt=="object"&&(St=Object.values(vt).filter(Et=>typeof Et=="object"&&Et?.email));const Pt=St.map(Et=>{let Yt=Et.id_thongke_taikhoan;if(Yt||(Yt=Et.username||Et.vi||Et.tai_khoan||Et.account_name||Et.name||null),!Yt){const fe=Et.id_taikhoan||Et.id;fe&&(Yt=`wallet_${fe}`)}const Rt=`transactions_${Yt}`,ee=JSON.parse(localStorage.getItem(Rt))||[];return{...Et,username:String(Yt).trim(),email:Et.email||Et.dia_chi_email||"",id_taikhoan:Et.id_taikhoan||Et.id||"",id_thongke_taikhoan:Et.id_thongke_taikhoan||Et.id_thongke||"",password:Et.password||"",timecreate:Et.timecreate||Et.created_at||new Date().toISOString(),transactions:ee}}),It=new Set,Nt=Pt.filter(Et=>It.has(Et.username)?!1:(It.add(Et.username),!0));if(Nt.sort((Et,Yt)=>new Date(Yt.timecreate)-new Date(Et.timecreate)),a(Nt),z(1),console.log(" Wallets loaded:",Nt),t){const Et=Nt.find(Yt=>Yt.username===t);Et&&setTimeout(()=>{Y(Et)},100)}}catch(Z){console.error(" Li load danh sch v:",Z),a([])}finally{c(!1)}})()},[t]);const H=V=>{let Z=0,rt=0,lt=0;return V.transactions.forEach(mt=>{Z+=mt.tong_tien||0,mt.loai_san_pham==="VANG"?rt+=mt.soluong||0:mt.loai_san_pham==="BAC"&&(lt+=mt.soluong||0)}),{totalMoneySpent:Z,vangQuantity:rt,bacQuantity:lt,totalTransactions:V.transactions.length}},Y=V=>{y(V),w(""),R(""),d(!0)},J=async()=>{if(!x.trim()){alert(" Vui lng nhp mt khu");return}try{A(!0);const V={...g,username:g.username,password:x,loginTime:new Date().toISOString()};localStorage.setItem("accountInfo",JSON.stringify(V)),console.log(" ng nhp v thnh cng:",g.username),d(!1),n(`/vi/${g.username}`)}catch(V){console.error("Li ng nhp:",V),alert(`Li: ${V.message}`)}finally{A(!1)}},nt=async()=>{if(!x.trim()){R(" Vui lng nhp mt khu");return}try{A(!0),R(""),console.log(`ang ng nhp trc tip cho v: ${t}`);const V=`https://api_gold.thinkdiff.us/api/vi/${t}?password=${encodeURIComponent(x)}`,Z=await fetch(V,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Z.ok){Z.status===401?R(" Mt khu khng chnh xc"):R(` Li API: ${Z.status}`),A(!1);return}const rt=await Z.json();if(rt.status!=="success"&&rt.error){R(` ${rt.error}`),A(!1);return}const lt={username:t,password:x,...rt,loginTime:new Date().toISOString(),source:"api"};localStorage.setItem("accountInfo",JSON.stringify(lt)),console.log(" ng nhp thnh cng t API:",lt),n(`/vi/${t}`)}catch(V){console.error("Li ng nhp:",V),R(` Li: ${V.message}`),A(!1)}};return l?u.jsx("div",{className:"wallet-accounts-container",children:u.jsx("div",{className:"wallet-accounts-card",children:u.jsx("p",{style:{textAlign:"center",padding:"30px"},children:" ang ti danh sch v..."})})}):t?u.jsx("div",{style:{minHeight:"100vh"},children:u.jsxs("div",{className:"password-modal-overlay",children:[u.jsxs("div",{className:"password-modal",onClick:V=>V.stopPropagation(),children:[u.jsxs("div",{className:"password-modal-header",children:[u.jsx("h3",{children:" Nhp mt khu  ng nhp"}),u.jsx("button",{className:"close-btn",onClick:()=>n("/"),children:""})]}),u.jsxs("div",{className:"password-modal-body",children:[u.jsxs("p",{className:"wallet-name",children:["Ti khon: ",u.jsx("strong",{children:t})]}),T&&u.jsx("div",{className:"error-message",style:{background:"#fee",color:"#c33",padding:"12px 15px",borderRadius:"6px",marginBottom:"15px",borderLeft:"4px solid #c33",fontSize:"14px",wordBreak:"break-word"},children:T}),u.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:x,onChange:V=>{w(V.target.value),R("")},onKeyDown:V=>{V.key==="Enter"&&!k&&nt()},disabled:k,autoFocus:!0})]}),u.jsxs("div",{className:"password-modal-footer",children:[u.jsx("button",{className:"cancel-btn",onClick:()=>n("/"),disabled:k,children:"Hy"}),u.jsx("button",{className:"confirm-btn",onClick:nt,disabled:k,children:k?" ang ng nhp...":" ng nhp"})]})]}),u.jsx("style",{children:`
                            .password-modal-overlay {
                                position: fixed;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: rgba(0, 0, 0, 0.6);
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                z-index: 1000;
                            }

                            .password-modal {
                                background: white;
                                border-radius: 12px;
                                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                                max-width: 400px;
                                width: 90%;
                                overflow: hidden;
                                animation: slideUp 0.3s ease;
                            }

                            @keyframes slideUp {
                                from {
                                    opacity: 0;
                                    transform: translateY(20px);
                                }
                                to {
                                    opacity: 1;
                                    transform: translateY(0);
                                }
                            }

                            .password-modal-header {
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                color: white;
                                padding: 20px;
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                            }

                            .password-modal-header h3 {
                                margin: 0;
                                font-size: 18px;
                            }

                            .close-btn {
                                background: none;
                                border: none;
                                color: white;
                                font-size: 24px;
                                cursor: pointer;
                                padding: 0;
                                width: 30px;
                                height: 30px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                transition: all 0.2s;
                            }

                            .close-btn:hover {
                                transform: scale(1.2);
                            }

                            .password-modal-body {
                                padding: 30px;
                            }

                            .wallet-name {
                                margin: 0 0 20px 0;
                                color: #666;
                                font-size: 14px;
                            }

                            .wallet-name strong {
                                color: #333;
                                font-weight: 600;
                            }

                            .password-input {
                                width: 100%;
                                padding: 12px 15px;
                                border: 2px solid #e0e0e0;
                                border-radius: 8px;
                                font-size: 16px;
                                transition: all 0.3s;
                                box-sizing: border-box;
                                font-family: inherit;
                            }

                            .password-input:focus {
                                outline: none;
                                border-color: #667eea;
                                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                            }

                            .password-input:disabled {
                                background: #f5f5f5;
                                cursor: not-allowed;
                            }

                            .password-modal-footer {
                                padding: 20px;
                                display: flex;
                                gap: 10px;
                                background: #f9f9f9;
                                border-top: 1px solid #e0e0e0;
                            }

                            .cancel-btn,
                            .confirm-btn {
                                flex: 1;
                                padding: 12px;
                                border: none;
                                border-radius: 8px;
                                font-size: 14px;
                                font-weight: 600;
                                cursor: pointer;
                                transition: all 0.3s;
                            }

                            .cancel-btn {
                                background: #e0e0e0;
                                color: #333;
                            }

                            .cancel-btn:hover:not(:disabled) {
                                background: #d0d0d0;
                            }

                            .confirm-btn {
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                color: white;
                            }

                            .confirm-btn:hover:not(:disabled) {
                                transform: translateY(-2px);
                                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                            }

                            .cancel-btn:disabled,
                            .confirm-btn:disabled {
                                opacity: 0.6;
                                cursor: not-allowed;
                            }
                        `})]})}):u.jsxs("div",{className:"wallet-accounts-container",children:[u.jsxs("div",{className:"wallet-accounts-card",children:[u.jsx("h2",{children:" Danh sch cc v ca ti"}),u.jsxs("div",{className:"wallet-top-actions",children:[u.jsx("button",{className:"nav-btn left",onClick:()=>n("/dang-ky-tai-khoan"),children:" Quay li"}),u.jsx("button",{className:"nav-btn right",onClick:()=>n("/wallet-buy"),children:"V "})]}),r.length===0?u.jsx("p",{className:"no-transactions",children:"Bn cha to v no"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"wallets-grid",children:r.slice((G-1)*F,G*F).map((V,Z)=>{H(V);const rt=s?.username===V.username;return u.jsxs("div",{className:`wallet-card-item ${rt?"active":""}`,children:[u.jsx("div",{className:"wallet-header",children:u.jsxs("h3",{children:[" ",V.username]})}),u.jsx("div",{className:"wallet-email",children:u.jsxs("small",{children:[" ",V.email]})}),rt&&u.jsx("div",{className:"active-badge",children:" ang s dng"}),!rt&&u.jsx("button",{className:"login-wallet-btn",onClick:()=>Y(V),children:" ng nhp v ny"}),rt&&u.jsx("div",{className:"active-wallet-actions",children:u.jsx("button",{className:"detail-btn",onClick:()=>n(`/vi/${s.username}`),children:" Xem chi tit li/l"})})]},V.username||Z)})}),Math.ceil(r.length/F)>1&&u.jsxs("div",{className:"pagination-container",children:[u.jsx("button",{className:"pagination-btn",onClick:()=>{const V=Math.max(1,G-1);z(V),i({page:V})},disabled:G===1,children:" Trang trc"}),u.jsx("div",{className:"pagination-numbers",children:Array.from({length:Math.ceil(r.length/F)},(V,Z)=>Z+1).map(V=>u.jsx("button",{className:`pagination-number ${G===V?"active":""}`,onClick:()=>{z(V),i({page:V})},children:V},V))}),u.jsx("button",{className:"pagination-btn",onClick:()=>{const V=Math.min(Math.ceil(r.length/F),G+1);z(V),i({page:V})},disabled:G===Math.ceil(r.length/F),children:"Trang sau "})]})]})]}),h&&u.jsxs("div",{className:"password-modal-overlay",onClick:()=>d(!1),children:[u.jsxs("div",{className:"password-modal",onClick:V=>V.stopPropagation(),children:[u.jsxs("div",{className:"password-modal-header",children:[u.jsx("h3",{className:"abc",children:" Nhp mt khu  ng nhp"}),u.jsx("button",{className:"close-btn",onClick:()=>d(!1),children:""})]}),u.jsxs("div",{className:"password-modal-body",children:[u.jsxs("p",{className:"wallet-name",children:["Ti khon: ",u.jsx("strong",{children:g?.username})]}),u.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:x,onChange:V=>w(V.target.value),onKeyDown:V=>{V.key==="Enter"&&J()},disabled:k,autoFocus:!0})]}),u.jsxs("div",{className:"password-modal-footer",children:[u.jsx("button",{className:"cancel-btn",onClick:()=>d(!1),disabled:k,children:"Hy"}),u.jsx("button",{className:"confirm-btn",onClick:J,disabled:k,children:k?" ang ng nhp...":" ng nhp"})]})]}),u.jsx("style",{children:`
                        .password-modal-overlay {
                            position: fixed;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background: rgba(0, 0, 0, 0.6);
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            z-index: 1000;
                        }

                        .password-modal {
                            background: white;
                            border-radius: 12px;
                            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                            max-width: 400px;
                            width: 90%;
                            overflow: hidden;
                            animation: slideUp 0.3s ease;
                        }

                        @keyframes slideUp {
                            from {
                                opacity: 0;
                                transform: translateY(20px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }

                        .password-modal-header {
                            background: #FFD700;
                            color: white;
                            padding: 20px;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        }
                        .abc{
                            color: black;
                            margin: 0;
                            font-size: 18px;
                        }

                        .close-btn {
                            background: none;
                            border: none;
                            color: white;
                            font-size: 24px;
                            cursor: pointer;
                            padding: 0;
                            width: 30px;
                            height: 30px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            transition: all 0.2s;
                        }

                        .close-btn:hover {
                            transform: scale(1.2);
                        }

                        .password-modal-body {
                            padding: 30px;
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                        }

                        .wallet-name {
                            margin: 0 0 20px 0;
                            color: lightgreen;
                            font-size: 14px;
                        }

                        .wallet-name strong {
                            color: #FFD700;
                            font-weight: 600;
                        }

                        .password-input {
                            width: 100%;
                            padding: 12px 15px;
                            border: 2px solid #81d6d3;
                            border-radius: 8px;
                            font-size: 16px;
                            transition: all 0.3s;
                            box-sizing: border-box;
                            font-family: inherit;
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                            color: #FFD700;

                        }

                        .password-input:focus {
                            outline: none;
                            border-color: #FFD700;
                            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                        }

                        .password-input:disabled {
                            background: #f5f5f5;
                            cursor: not-allowed;
                        }

                        .password-modal-footer {
                            padding: 20px;
                            display: flex;
                            gap: 10px;
                            background: #FFD700;
                            border-top: 1px solid #e0e0e0;
                        }

                        .cancel-btn,
                        .confirm-btn {
                            flex: 1;
                            padding: 12px;
                            border: none;
                            border-radius: 8px;
                            font-size: 14px;
                            font-weight: 600;
                            cursor: pointer;
                            transition: all 0.3s;
                        }

                        .cancel-btn {
                            background: #e0e0e0;
                            color: #333;
                        }

                        .cancel-btn:hover:not(:disabled) {
                            background: #d0d0d0;
                        }

                        .confirm-btn {
                            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                            color: white;
                        }

                        .confirm-btn:hover:not(:disabled) {
                            transform: translateY(-2px);
                            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                        }

                        .cancel-btn:disabled,
                        .confirm-btn:disabled {
                            opacity: 0.6;
                            cursor: not-allowed;
                        }
                    `})]})]})},UG=()=>{const n=Gi(),[t,e]=N.useState({email:"",username:"",password:"",confirmPassword:""}),[i,r]=N.useState({}),[a,s]=N.useState(!1),[o,l]=N.useState(!1),[c,h]=N.useState(null),d=N.useRef(null),g=N.useRef(null),[y,x]=N.useState(null),[w,k]=N.useState([]),[A,T]=N.useState(!1),[R,G]=N.useState(!1),[z,F]=N.useState(!1),[H,Y]=N.useState(!1),[J,nt]=N.useState(null),[V,Z]=N.useState(""),[rt,lt]=N.useState(""),[mt,ct]=N.useState(!1);N.useEffect(()=>{qo("Trang ng k v - WalletRegistration.jsx")},[]),N.useEffect(()=>((async()=>{try{const Nt=new Date,Et=Nt.getDate(),Yt=Nt.getMonth()+1,Rt=Nt.getFullYear(),fe=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${Et}_${Yt}_${Rt}`)).json();fe.status==="success"&&fe.ip_location?h(fe.ip_location):h(null)}catch(Nt){console.error("Khng ly c IP:",Nt),h(null)}})(),()=>{d.current&&clearTimeout(d.current),g.current&&clearTimeout(g.current)}),[]);const st=async()=>{if(!c){k([]),T(!1),G(!1);return}F(!0);try{const Nt=await(await fetch(`https://api_gold.thinkdiff.us/api/vi/find_by_iplocation/${c}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();(Nt.status==="ok"||Nt.status==="success")&&Nt.data&&Array.isArray(Nt.data)?(k(Nt.data),T(!0),G(!0)):(k([]),T(!1),G(!1))}catch(It){console.error("Li tm kim v:",It),k([]),T(!1),G(!1)}finally{F(!1)}},xt=It=>{nt(It),Z(""),lt(""),Y(!0),G(!1)},dt=async()=>{if(!V.trim()){lt("Vui lng nhp mt khu");return}ct(!0);try{const It=new FormData;if(It.append("id_taikhoan",J.id_thongke_taikhoan),It.append("password",V),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:It})).ok){const Et={email:J.email,username:J.id_thongke_taikhoan,id_taikhoan:J.id_thongke_taikhoan,id_thongke_taikhoan:J.id_thongke_taikhoan,password:V,ip_address:c};localStorage.setItem("accountInfo",JSON.stringify(Et)),Y(!1),n(`/vi/${J.id_thongke_taikhoan}`)}else lt("Mt khu khng chnh xc")}catch{lt("C li xy ra, vui lng th li")}finally{ct(!1)}};N.useEffect(()=>(c&&st(),()=>{d.current&&clearTimeout(d.current),g.current&&clearTimeout(g.current)}),[c]);const ht=It=>{if(!It)return{strength:0,label:"Cha nhp",color:"#ccc"};let Nt=0;It.length>=8&&Nt++,/[A-Z]/.test(It)&&Nt++,/[a-z]/.test(It)&&Nt++,/\d/.test(It)&&Nt++,/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(It)&&Nt++;let Et="Yu",Yt="#e74c3c";return Nt>=4?(Et="Rt mnh",Yt="#27ae60"):Nt>=3?(Et="Mnh",Yt="#f39c12"):Nt>=2&&(Et="Trung bnh",Yt="#e67e22"),{strength:Nt,label:Et,color:Yt}},ot=It=>{const{name:Nt,value:Et}=It.target;e(Yt=>({...Yt,[Nt]:Et})),i[Nt]&&r(Yt=>({...Yt,[Nt]:""}))},vt=()=>{const It={};return t.email.trim()||(It.email="Email l bt buc"),t.username.trim()||(It.username="ID thng k ti khon l bt buc"),t.password||(It.password="Mt khu l bt buc"),t.password!==t.confirmPassword&&(It.confirmPassword="Mt khu xc nhn khng khp"),r(It),Object.keys(It).length===0},St=async It=>{if(It.preventDefault(),!!vt()){l(!0);try{const Nt=new FormData;Nt.append("email",t.email),Nt.append("id_taikhoan",t.username),Nt.append("id_thongke_taikhoan",t.username),Nt.append("password",t.password),Nt.append("password_vi",t.password),y&&Nt.append("location",JSON.stringify(y));const Yt=await(await fetch("https://api_gold.thinkdiff.us/api/vi/taotaikhoan",{method:"POST",body:Nt})).json();Yt.status==="success"?(s(!0),setTimeout(()=>n("/wallet-buy"),1e3)):r({submit:Yt.message||"ng k tht bi"})}catch{r({submit:"C li xy ra, vui lng th li sau"})}finally{l(!1)}}},Pt=localStorage.getItem("accountInfo");return u.jsxs("div",{className:"account-registration-container",children:[u.jsxs("div",{className:"registration-layout-wrapper",children:[u.jsxs("div",{className:"registration-left-section",children:[u.jsx("h1",{className:"registration-title",children:"ng k v"}),a&&u.jsx("div",{className:"success-message",children:" ng k ti khon thnh cng!"}),i.submit&&u.jsxs("div",{className:"error-message",children:[" ",i.submit]}),u.jsxs("form",{onSubmit:St,className:"registration-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:ot,className:`form-input ${i.email?"input-error":""}`,disabled:o}),i.email&&u.jsx("span",{className:"error-text",children:i.email})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"username",className:"form-label",children:["Tn ti khon ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"text",id:"username",name:"username",value:t.username,onChange:ot,className:`form-input ${i.username?"input-error":""}`,disabled:o}),i.username&&u.jsx("span",{className:"error-text",children:i.username})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"password",className:"form-label",children:["Mt khu ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:ot,className:`form-input ${i.password?"input-error":""}`,disabled:o}),t.password&&u.jsxs("div",{className:"password-strength-container",children:[u.jsx("div",{className:"strength-bar",children:u.jsx("div",{className:"strength-fill",style:{width:`${ht(t.password).strength/5*100}%`,backgroundColor:ht(t.password).color}})}),u.jsxs("span",{className:"strength-label",style:{color:ht(t.password).color},children:[" mnh: ",ht(t.password).label]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"confirmPassword",className:"form-label",children:["Xc nhn mt khu ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:ot,className:`form-input ${i.confirmPassword?"input-error":""}`,disabled:o}),i.confirmPassword&&u.jsx("span",{className:"error-text",children:i.confirmPassword})]}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:o,children:o?"ang x l...":"ng k v"})]}),Pt&&u.jsx("div",{style:{marginTop:"20px"},children:u.jsx("button",{type:"button",onClick:()=>n("/danh-sach-vi"),className:"view-wallet-list-btn",children:" Xem danh sch v"})})]}),u.jsxs("div",{className:"registration-right-section",children:[u.jsx("h1",{className:"wallet-list-title",children:"Danh sch v"}),u.jsxs("div",{className:"wallet-search-section",children:[w.length>0&&u.jsxs("div",{className:"wallet-dropdown",children:[u.jsx("p",{className:"wallet-dropdown-title",children:"Ti khon ca bn:"}),w.map((It,Nt)=>u.jsxs("div",{className:"wallet-item",onClick:()=>xt(It),children:[u.jsxs("div",{className:"wallet-item-name",children:[" ",It.id_thongke_taikhoan]}),u.jsxs("div",{className:"wallet-item-email",children:[" ",It.email]}),u.jsxs("div",{className:"wallet-item-date",children:[" ",new Date(It.timecreate).toLocaleDateString("vi-VN")]})]},Nt))]}),!z&&w.length===0&&u.jsx("p",{className:"wallet-no-data",children:"Khng c v no cho IP ny"}),z&&u.jsx("p",{className:"wallet-loading",children:" ang ti danh sch v..."})]})]})]}),H&&u.jsx("div",{className:"password-modal-overlay",onClick:()=>Y(!1),children:u.jsxs("div",{className:"password-modal",onClick:It=>It.stopPropagation(),children:[u.jsxs("div",{className:"password-modal-header",children:[u.jsx("h3",{children:" Nhp mt khu"}),u.jsx("button",{className:"close-btn",onClick:()=>Y(!1),children:""})]}),u.jsxs("div",{className:"password-modal-body",children:[u.jsxs("p",{className:"wallet-name",children:["Ti khon: ",u.jsx("strong",{children:J?.id_thongke_taikhoan})]}),u.jsx("p",{className:"wallet-email",children:J?.email}),u.jsx("input",{type:"password",className:"password-input",placeholder:"Nhp mt khu...",value:V,onChange:It=>Z(It.target.value),onKeyPress:It=>{It.key==="Enter"&&dt()},disabled:mt,autoFocus:!0}),rt&&u.jsx("p",{className:"password-error",children:rt})]}),u.jsxs("div",{className:"password-modal-footer",children:[u.jsx("button",{className:"cancel-btn",onClick:()=>Y(!1),disabled:mt,children:"Hy"}),u.jsx("button",{className:"confirm-btn",onClick:dt,disabled:mt,children:mt?" ang x l...":" ng nhp"})]}),u.jsx("style",{children:`
              .password-modal-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.6);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
              }

              .password-modal {
                background: white;
                border-radius: 12px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                max-width: 400px;
                width: 90%;
                overflow: hidden;
                animation: slideUp 0.3s ease;
              }

              @keyframes slideUp {
                from {
                  opacity: 0;
                  transform: translateY(20px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }

              .password-modal-header {
                background: linear-gradient(135deg, #FFD700 0%, #FFD700 100%);
                color: white;
                padding: 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
              }

              .password-modal-header h3 {
                margin: 0;
                font-size: 18px;
                color: green !important;
              }

              .close-btn {
                background: none;
                border: none;
                color: white;
                font-size: 24px;
                cursor: pointer;
                padding: 0;
                width: 30px;
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s;
              }

              .close-btn:hover {
                transform: scale(1.2);
              }

              .password-modal-body {
                padding: 30px;
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
              }

              .wallet-name {
                margin: 0 0 8px 0;
                color: #FFD700;
                font-size: 14px;
              }

              .wallet-name strong {
                color: #FFD700;
                font-weight: 600;
              }

              .wallet-email {
                margin: 0 0 20px 0;
                color: lightcoral;
                font-size: 12px;
              }

              .password-input {
                width: 100%;
                padding: 12px 15px;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                font-size: 16px;
                transition: all 0.3s;
                box-sizing: border-box;
                font-family: inherit;
                margin-bottom: 10px;
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
              }

              .password-input:focus {
                outline: none;
                border-color: #667eea;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
                color: #FFD700;
              }

              .password-input:disabled {
                background: #f5f5f5;
                cursor: not-allowed;
              }

              .password-error {
                color: #e74c3c;
                font-size: 13px;
                margin: 0;
                text-align: center;
              }

              .password-modal-footer {
                padding: 20px;
                display: flex;
                gap: 10px;
                background: linear-gradient(135deg, #FFD700 0%, #FFD700 100%);
                border-top: 1px solid #e0e0e0;
              }

              .cancel-btn,
              .confirm-btn {
                flex: 1;
                padding: 12px;
                border: none;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s;
              }

              .cancel-btn {
                background: #e0e0e0;
                color: #333;
              }

              .cancel-btn:hover:not(:disabled) {
                background: #d0d0d0;
              }

              .confirm-btn {
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                color: #ffd700 ;
              }

              .confirm-btn:hover:not(:disabled) {
                transform: translateY(-2px);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
              }

              .cancel-btn:disabled,
              .confirm-btn:disabled {
                opacity: 0.6;
                cursor: not-allowed;
              }
            `})]})})]})},S3t=()=>{const n=Gi(),[t,e]=N.useState(null),[i,r]=N.useState([]),[a,s]=N.useState([]),[o,l]=N.useState("20"),[c,h]=N.useState([]),[d,g]=N.useState(null),[y,x]=N.useState(!1),[w,k]=N.useState(o),[A,T]=N.useState(""),[R,G]=N.useState([]),[z,F]=N.useState(!1),[H,Y]=N.useState(""),[J,nt]=N.useState(""),[V,Z]=N.useState(null),[rt,lt]=N.useState(!1),[mt,ct]=N.useState(""),[st,xt]=N.useState(!1),[dt,ht]=N.useState(""),[ot,vt]=N.useState(!1),[St,Pt]=N.useState(""),[It,Nt]=N.useState(""),[Et,Yt]=N.useState(""),[Rt,ee]=N.useState([]),[fe,Jt]=N.useState(!1),[ue,Te]=N.useState(!1),qe=N.useRef(null),on=()=>new Date().toISOString().split("T")[0],[He,mi]=N.useState({id_chungloai:"",loai:"VANG",soluong:1,ngaymua:on(),gia_mua:""}),Si=be=>be*Math.PI/180,li=(be,cn,tn,On)=>{const kn=Si(tn-be),Dn=Si(On-cn),Bn=Math.sin(kn/2)*Math.sin(kn/2)+Math.cos(Si(be))*Math.cos(Si(tn))*Math.sin(Dn/2)*Math.sin(Dn/2);return 6371*(2*Math.atan2(Math.sqrt(Bn),Math.sqrt(1-Bn)))},Xe=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(be=>{g({lat:be.coords.latitude,long:be.coords.longitude})},be=>{console.warn("Khng ly c v tr:",be.message),g(null)},{enableHighAccuracy:!0,timeout:5e3})};N.useEffect(()=>{if(!d||!o||i.length===0){h(i);return}const be=Number(o),cn=i.filter(tn=>{if(!tn.vitri_location)return!1;try{const On=JSON.parse(tn.vitri_location);return Array.isArray(On)?On.some(un=>li(d.lat,d.long,un.lat,un.long)<=be):!1}catch{return!1}});h(cn)},[o,i,d]),N.useEffect(()=>{const be=localStorage.getItem("accountInfo");if(!be){n("/dang-ky-tai-khoan");return}e(JSON.parse(be)),qo("Trang Mua vng - Wallet.jsx"),Xe()},[n]),N.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/list_nha_vang").then(be=>be.json()).then(be=>{let cn=Array.isArray(be)?be:Array.isArray(be.data)?be.data:[];const tn={};cn.forEach(un=>{const kn=un.name_nhavang,Dn=Number(un.gia_hien_tai)||0;(!tn[kn]||Dn>tn[kn].gia_hien_tai)&&(tn[kn]=un)});const On=Object.values(tn);r(On)}).catch(()=>r([]))},[]),N.useEffect(()=>{if(w==="ALL"||!d||i.length===0){G(i);return}const be=Number(w),cn=i.filter(tn=>{if(!tn.vitri_location)return!1;try{const On=JSON.parse(tn.vitri_location);return Array.isArray(On)?On.some(un=>li(d.lat,d.long,Number(un.lat),Number(un.long))<=be):!1}catch{return!1}});G(cn)},[w,i,d]),N.useEffect(()=>{if(!t)return;const be=`transactions_${t.username}`,cn=localStorage.getItem(be);s(cn?JSON.parse(cn):[])},[t]);const Ei=be=>{const{name:cn,value:tn}=be.target;(cn==="soluong"||cn==="gia_mua")&&tn!==""&&!/^\d+$/.test(tn)||(mi(On=>({...On,[cn]:tn})),cn==="id_chungloai"&&ht(""))},Ke=be=>{const cn=be.target.value;if(Yt(cn),qe.current&&clearTimeout(qe.current),!cn.trim()){ee([]),Te(!1);return}Jt(!0),qe.current=setTimeout(async()=>{try{const On=await(await fetch(`https://api_gold.thinkdiff.us/api/vi/find/${cn}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();(On.status==="ok"||On.status==="success")&&On.data&&Array.isArray(On.data)?(ee(On.data),Te(!0)):(ee([]),Te(!1))}catch(tn){console.error("Li tm kim ti khon:",tn),ee([]),Te(!1)}finally{Jt(!1)}},500)},dn=be=>{Z(be),F(!0),Y(""),nt("")},Jn=async()=>{if(nt(""),!H.trim()){nt("Vui lng nhp mt khu");return}lt(!0);try{const be=new FormData;if(be.append("id_taikhoan",V.id_thongke_taikhoan),be.append("password",H),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:be})).ok){const tn={email:V.email,username:V.id_thongke_taikhoan,id_taikhoan:V.id_thongke_taikhoan,id_thongke_taikhoan:V.id_thongke_taikhoan,password:H,ip_address:t?.ip_address||""};e(tn),localStorage.setItem("accountInfo",JSON.stringify(tn)),Yt(""),ee([]),Te(!1),F(!1),Z(null),Y("")}else nt("Mt khu khng chnh xc")}catch{nt("C li xy ra, vui lng th li")}finally{lt(!1)}},ki=be=>{if(be.preventDefault(),ct(""),xt(!1),!He.id_chungloai){ht(" Vui lng chn nh vng");return}const cn=Number(He.soluong);if(isNaN(cn)||cn<=0||!He.gia_mua){ct("Vui lng nhp y  thng tin hp l");return}Pt(""),Nt(""),vt(!0)},$n=async()=>{if(!St.trim()){Nt("Vui lng nhp mt khu");return}lt(!0);try{const be=new FormData;if(be.append("id_taikhoan",t.id_thongke_taikhoan),be.append("password",St),!(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:be})).ok){Nt("Mt khu khng chnh xc"),lt(!1);return}e(tn=>({...tn,password:St})),vt(!1),ti()}catch{Nt("C li xy ra, vui lng th li")}finally{lt(!1)}},ti=async()=>{lt(!0),ct("");try{const be=new FormData;be.append("email",t.email),be.append("id_taikhoan",t.username),be.append("id_thongke_taikhoan",t.id_thongke_taikhoan),be.append("password",t.password),be.append("id_chungloai",He.id_chungloai),be.append("loai",He.loai),be.append("soluong",Number(He.soluong)),be.append("ngaymua",He.ngaymua),be.append("gia_mua",Number(He.gia_mua)),be.append("location",t.location||'{"lat":0,"long":0}'),be.append("ip_address",t.ip_address);const cn=await fetch("https://api_gold.thinkdiff.us/api/vi/mua",{method:"POST",body:be}),tn=await cn.json();if(!cn.ok)throw new Error(tn.message||"Mua tht bi");const On={...tn,vi_id:Date.now()},un=`transactions_${t.username}`,kn=JSON.parse(localStorage.getItem(un))||[],Dn=[On,...kn];localStorage.setItem(un,JSON.stringify(Dn)),s(Dn),xt(!0),mi({id_chungloai:"",loai:"VANG",soluong:1,ngaymua:on(),gia_mua:""})}catch(be){ct(be.message)}finally{lt(!1)}};return t?u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"wallet-card",children:[u.jsx("h1",{children:" Mua vng / bc"}),u.jsxs("div",{className:"search-account-section",style:{marginBottom:"30px",paddingBottom:"20px",borderBottom:"2px solid #f0f0f0"},children:[u.jsx("h3",{style:{marginBottom:"15px",color:"#FFD700"},children:" Tm kim ti khon khc"}),u.jsxs("div",{style:{position:"relative"},children:[u.jsx("input",{type:"text",placeholder:"Nhp email hoc tn ti khon",value:Et,onChange:Ke,style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box",marginBottom:"10px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)",color:"yellow"}}),fe&&u.jsx("p",{style:{fontSize:"13px",color:"#666",marginTop:"5px"},children:" ang tm kim..."}),ue&&Rt.length>0&&u.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"linear-gradient(135deg, #d6d632 0%, #FFD700 100%)",border:"1px solid #ddd",borderRadius:"8px",maxHeight:"300px",overflowY:"auto",zIndex:100,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",marginTop:"5px"},children:Rt.map((be,cn)=>u.jsxs("div",{onClick:()=>dn(be),style:{padding:"12px",borderBottom:cn<Rt.length-1?"1px solid #f0f0f0":"none",cursor:"pointer",transition:"background-color 0.2s",backgroundColor:"#1e293b "},children:[u.jsxs("div",{style:{fontWeight:"600",color:"#ffd700",marginBottom:"3px"},children:[" ",be.id_thongke_taikhoan]}),u.jsxs("div",{style:{fontSize:"12px",color:"lightcoral"},children:[" ",be.email]})]},cn))}),ue&&Rt.length===0&&Et&&!fe&&u.jsx("p",{style:{fontSize:"13px",color:"#e74c3c",marginTop:"5px"},children:" Khng tm thy ti khon"})]})]}),t&&u.jsxs("div",{style:{padding:"15px",borderRadius:"8px",marginBottom:"20px",borderLeft:"4px solid #FFD700",borderRight:"4px solid #FFD700"},children:[u.jsx("p",{style:{margin:"0 0 5px 0",color:"#FFD700",fontSize:"15px"},children:u.jsx("strong",{children:" V hin ti:"})}),u.jsxs("p",{style:{margin:"0",color:"lightgreen",fontSize:"15px",fontWeight:"500"},children:[" ",t.username]})]}),u.jsx("h2",{style:{marginTop:"30px",marginBottom:"20px",color:"#FFD700"},children:" Chi tit giao dch"}),u.jsxs("form",{onSubmit:ki,className:"wallet-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:" Khong cch & Nh vng"}),u.jsx("div",{onClick:()=>{k(o),T(He.id_chungloai),x(!0)},style:{padding:"12px",border:"2px solid #FFD700",borderRadius:"8px",cursor:"pointer",background:"#1a1a1a",color:"#FFD700"},children:He.id_chungloai?` ${He.id_chungloai}  ${o==="ALL"?"Th gii":`${o} km`}`:" Chn khong cch & nh vng"}),dt&&u.jsx("p",{className:"error-text",children:dt})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:" Loi sn phm"}),u.jsxs("select",{name:"loai",value:He.loai,onChange:Ei,children:[u.jsx("option",{value:"VANG",children:"VNG"}),u.jsx("option",{value:"BAC",children:"BC"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:" S lng (ch)"}),u.jsx("input",{type:"text",name:"soluong",value:He.soluong,onChange:Ei,placeholder:"Nhp s lng"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:" Ngy mua"}),u.jsx("input",{type:"date",name:"ngaymua",value:He.ngaymua,onChange:Ei,className:"date-input",onClick:be=>{be.target.showPicker?.()},onKeyDown:be=>be.preventDefault()})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:" Gi mua (VND)"}),u.jsx("input",{type:"number",name:"gia_mua",value:He.gia_mua,onChange:Ei,placeholder:"Nhp gi mua",min:"0"})]}),mt&&u.jsxs("p",{className:"error-text",children:[" ",mt]}),st&&u.jsx("p",{className:"success-text",children:" Mua thnh cng"}),u.jsx("button",{type:"submit",className:"purchase-btn",disabled:rt,children:rt?" ang x l...":" Mua ngay"})]}),u.jsxs("div",{className:"button-group",children:[u.jsx("a",{href:`/#/vi/${t?.username}`,className:"back-btn-custom",children:" Quay li"}),u.jsx("a",{href:"/#/dang-ky-tai-khoan",className:"signup-btn-custom",children:"ng k v mi "})]})]}),z&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{F(!1),Z(null),Y(""),nt("")},children:u.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:be=>be.stopPropagation(),children:[u.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Xc nhn chuyn ti khon"}),u.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0},onClick:()=>{F(!1),Z(null),Y(""),nt("")},children:""})]}),u.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[u.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",u.jsx("strong",{children:V?.id_thongke_taikhoan})]}),u.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:H,onChange:be=>Y(be.target.value),onKeyPress:be=>{be.key==="Enter"&&Jn()},disabled:rt,autoFocus:!0}),J&&u.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:J})]}),u.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>{F(!1),Z(null),Y(""),nt("")},disabled:rt,children:"ng"}),u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:rt?.6:1},onClick:Jn,disabled:rt,children:rt?" ang x l...":" Xc nhn"})]})]})}),ot&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{vt(!1),Pt(""),Nt("")},children:u.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:be=>be.stopPropagation(),children:[u.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Xc nhn mua"}),u.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0},onClick:()=>{vt(!1),Pt(""),Nt("")},children:""})]}),u.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[u.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",u.jsx("strong",{children:t?.username})]}),u.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:St,onChange:be=>Pt(be.target.value),onKeyDown:be=>{be.key==="Enter"&&$n()},disabled:rt,autoFocus:!0}),It&&u.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:It})]}),u.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>{vt(!1),Pt(""),Nt("")},disabled:rt,children:"ng"}),u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:rt?.6:1},onClick:$n,disabled:rt,children:rt?" ang x l...":" Xc nhn"})]})]})}),y&&u.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>x(!1),children:u.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",width:"90%",maxWidth:"450px",overflow:"hidden"},onClick:be=>be.stopPropagation(),children:[u.jsx("div",{style:{padding:"20px",fontWeight:"600",color:"#333"},children:" Lc theo khong cch"}),u.jsxs("div",{style:{padding:"20px",background:"#1a1a1a"},children:[u.jsx("label",{style:{color:"#FFD700",fontSize:"14px"},children:"Khong cch"}),u.jsxs("select",{value:w,onChange:be=>k(be.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"2px solid #FFD700",borderRadius:"8px",color:"#FFD700"},children:[u.jsx("option",{value:"ALL",children:"Th gii"}),u.jsx("option",{value:"10",children:"10 km"}),u.jsx("option",{value:"20",children:"20 km"}),u.jsx("option",{value:"30",children:"30 km"}),u.jsx("option",{value:"40",children:"40 km"}),u.jsx("option",{value:"50",children:"50 km"}),u.jsx("option",{value:"100",children:"100 km"})]}),u.jsx("label",{style:{color:"#FFD700",fontSize:"14px"},children:"Nh vng trong phm vi"}),u.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:R.map(be=>u.jsxs("div",{onClick:()=>T(be.name_nhavang),style:{padding:"10px",marginBottom:"8px",borderRadius:"6px",cursor:"pointer",background:A===be.name_nhavang?"#FFD700":"#2a2a2a",color:A===be.name_nhavang?"#333":"#FFD700"},children:[" ",be.name_nhavang]},be.id))})]}),u.jsxs("div",{style:{padding:"15px",display:"flex",gap:"10px"},children:[u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"gray",color:"#FFD700",transition:"all 0.3s"},onClick:()=>x(!1),children:"ng"}),u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s"},onClick:()=>{l(w),mi(be=>({...be,id_chungloai:A})),ht(""),x(!1)},children:" p dng"})]})]})})]}):null},k3t=()=>{const n=Gi(),{username:t}=rc(),[e,i]=N.useState(null),[r,a]=N.useState([]),[s,o]=N.useState(0),[l,c]=N.useState(0),[h,d]=N.useState(!0),[g,y]=N.useState(""),[x,w]=N.useState(1),k=10,A={padding:"6px 10px",border:"1.5px solid #FFD700",borderRadius:"6px",background:"none",color:"#FFD700",fontSize:"13px",fontWeight:600,cursor:"pointer",transition:"all 0.25s ease"},T=dt=>(dt=dt.toLowerCase(),dt.includes("windows nt")?"Windows":dt.includes("mac os x")&&!dt.includes("iphone")?"MacOS":dt.includes("iphone")||dt.includes("ipad")?"iOS":dt.includes("android")?"Android":dt.includes("linux")?"Linux":"Unknown"),R=dt=>(dt=dt.toLowerCase(),dt.includes("edg")?"Edge":dt.includes("chrome")?"Chrome":dt.includes("safari")&&!dt.includes("chrome")?"Safari":dt.includes("firefox")?"Firefox":dt.includes("opera")||dt.includes("opr")?"Opera":"Unknown"),[G,z]=N.useState(!1),[F,H]=N.useState(""),[Y,J]=N.useState(""),[nt,V]=N.useState(!1);N.useEffect(()=>{try{const dt=navigator.userAgent,ht=T(dt),ot=R(dt);qo("Trang thng tin v - ProfitLossDetail.jsx",{os:ht,browser:ot})}catch(dt){console.error(" logUserInfo error:",dt)}},[]),N.useEffect(()=>{(async()=>{try{d(!0),y(""),a([]),o(0);const ht=localStorage.getItem("accountInfo");if(!ht){if(t){z(!0),d(!1);return}n("/dang-ky-tai-khoan");return}const ot=JSON.parse(ht);if(t&&ot.username!==t){console.warn(`Username mismatch: URL=${t}, localStorage=${ot.username}`),z(!0),d(!1);return}if(i(ot),!ot.password){y(" Li: Mt khu khng c lu. Vui lng ng nhp li."),d(!1);return}await Z(ot)}catch{y("C li xy ra khi ti d liu"),d(!1)}})()},[n,t]);const Z=async dt=>{try{console.log(" Thng tin ti khon:",{username:dt.username,id_thongke_taikhoan:dt.id_thongke_taikhoan,hasPassword:!!dt.password,passwordLength:dt.password?.length||0});const ht=new FormData;ht.append("id_taikhoan",dt.id_thongke_taikhoan||dt.username),ht.append("password",dt.password);const ot=await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:ht});if(!ot.ok){ot.status===401?y(" Xc thc khng hp l. Vui lng ng nhp li."):y(`Li API: ${ot.status} ${ot.statusText}`),d(!1);return}const vt=await ot.json();if(vt.status==="success"&&vt.data){const St=[...vt.data].sort((Et,Yt)=>{const Rt=Number(Et.vi_id)||0;return(Number(Yt.vi_id)||0)-Rt}),Pt={},It=[];St.forEach(Et=>{const Yt=`${Et.chung_loai}_${Et.ngay_mua}_${Et.loai}`,Rt=Number(Et.gia_hien_tai)||0;(!Pt[Yt]||Rt>Pt[Yt])&&(Pt[Yt]=Rt)}),St.forEach(Et=>{const Yt=`${Et.chung_loai}_${Et.ngay_mua}_${Et.loai}`,Rt=Number(Et.gia_hien_tai)||0;Pt[Yt]===Rt&&(It.push(Et),delete Pt[Yt])}),a(It),o(vt.tong_loi_nhuan||0);const Nt=It.reduce((Et,Yt)=>Et+Number(Yt.gia_mua)*Number(Yt.soluong),0);c(Nt)}else y(vt.message||vt.error||"Khng th ly d liu")}catch{y("C li xy ra khi ti d liu")}finally{d(!1)}},rt=async()=>{if(!F.trim()){J("Vui lng nhp mt khu");return}V(!0);try{const dt=new FormData;if(dt.append("id_taikhoan",t),dt.append("password",F),(await fetch("https://api_gold.thinkdiff.us/api/vi/lai-lo",{method:"POST",body:dt})).ok){const ot={email:"",username:t,id_taikhoan:t,id_thongke_taikhoan:t,password:F,ip_address:""};localStorage.setItem("accountInfo",JSON.stringify(ot)),i(ot),z(!1),H(""),J(""),await Z(ot)}else J("Mt khu khng chnh xc")}catch{J("C li xy ra, vui lng th li")}finally{V(!1)}},lt=dt=>Number(dt).toLocaleString("vi-VN"),mt=dt=>dt>0?"green":dt<0?"red":"gray",ct=dt=>dt>0?"LI":dt<0?"L":"HA VN";if(h)return u.jsx("div",{className:"profit-loss-container",children:u.jsx("div",{className:"profit-loss-card",children:u.jsx("p",{style:{textAlign:"center",padding:30,color:"white"},children:" ang ti d liu..."})})});const st=Math.ceil(r.length/k),xt=r.slice((x-1)*k,x*k);return u.jsxs("div",{className:"profit-loss-container",children:[u.jsxs("div",{className:"profit-loss-card",children:[u.jsxs("div",{className:"profit-loss-header",children:[u.jsxs("div",{className:"header-top",children:[u.jsx("div",{className:"header-left",children:u.jsx("button",{className:"back-btn",onClick:()=>n("/danh-sach-vi"),children:" Quay li"})}),u.jsx("div",{className:"header-center",children:u.jsx("h1",{children:" Chi tit li l"})}),u.jsxs("div",{className:"header-right",children:["  ",u.jsx("button",{className:"action-btn",onClick:()=>n("/wallet-buy"),children:"Thm v Vng / Bc "})]})]}),u.jsx("div",{className:"account-info",children:u.jsxs("span",{children:[" ",e?.username]})})]}),g&&u.jsxs("div",{className:"error-message",children:[u.jsxs("p",{children:[" ",g]}),g.includes("Xc thc")&&u.jsx("button",{className:"retry-login-btn",onClick:()=>n(`/danh-sach-vi/${t}`),style:{marginTop:"12px",padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s"},onMouseEnter:dt=>{dt.target.style.background="#764ba2",dt.target.style.transform="translateY(-2px)"},onMouseLeave:dt=>{dt.target.style.background="#667eea",dt.target.style.transform="translateY(0)"},children:" ng nhp li"})]}),u.jsxs("div",{className:"total-profit-section",children:[u.jsxs("div",{className:`total-profit-box ${s>0?"profit":s<0?"loss":"neutral"}`,children:[u.jsx("h3",{children:" Tng li nhun"}),u.jsxs("p",{className:"total-value",children:[lt(s)," VND"]}),u.jsx("span",{className:"status-label",children:ct(s)})]}),u.jsxs("div",{className:"total-profit-box invested",children:[u.jsx("h3",{children:" Tng tin u t"}),u.jsxs("p",{className:"total-value",children:[lt(l)," VND"]})]})]}),xt.length===0?u.jsx("p",{className:"no-data",children:"Khng c giao dch no"}):u.jsxs("div",{className:"profit-loss-table-wrapper",children:[u.jsxs("table",{className:"profit-loss-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:" Nh vng"}),u.jsx("th",{children:" ID V"}),u.jsx("th",{children:" Gi mua"}),u.jsx("th",{children:" Gi hin ti"}),u.jsx("th",{children:" S lng"}),u.jsx("th",{children:" Loi"}),u.jsx("th",{children:" Ngy mua"}),u.jsx("th",{children:" Li/L (1 n v)"}),u.jsx("th",{children:" Tng li/l"}),u.jsx("th",{children:" Trng thi"}),u.jsx("th",{children:" Sa"})]})}),u.jsx("tbody",{children:xt.map((dt,ht)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("strong",{children:dt.chung_loai})}),u.jsx("td",{children:dt.vi_id??"null"}),u.jsxs("td",{children:[lt(dt.gia_mua)," VND"]}),u.jsx("td",{children:dt.gia_hien_tai>0?lt(dt.gia_hien_tai)+" VND":"N/A"}),u.jsx("td",{children:dt.soluong}),u.jsx("td",{children:u.jsx("span",{className:`type-badge ${dt.loai.toLowerCase()}`,children:dt.loai})}),u.jsx("td",{children:new Date(dt.ngay_mua).toLocaleDateString("vi-VN")}),u.jsxs("td",{className:`${mt(dt.lai_lo_1_don_vi)}-text`,children:[lt(dt.lai_lo_1_don_vi)," VND"]}),u.jsx("td",{className:`${mt(dt.tong_lai_lo)}-text`,children:u.jsxs("strong",{children:[lt(dt.tong_lai_lo)," VND"]})}),u.jsx("td",{children:u.jsx("span",{className:`status-badge ${mt(dt.tong_lai_lo)}`,children:ct(dt.tong_lai_lo)})}),u.jsx("td",{children:dt.vi_id?u.jsx("button",{className:"action-btn",onClick:()=>{n(`/vi/${e?.username||t}/sua?vi_id=${dt.vi_id}`,{state:{id_chungloai:dt.chung_loai,loai_san_pham:dt.loai,gia_mua:dt.gia_mua,soluong:dt.soluong,ngaymua:dt.ngay_mua}})},children:"Sa"}):u.jsx("span",{style:{color:"#aaa"},children:"N/A"})})]},ht))})]}),u.jsxs("div",{className:"pagination",style:{marginTop:"20px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",flexWrap:"wrap",paddingBottom:"20px"},children:[u.jsx("button",{style:A,onClick:()=>w(dt=>dt-1),onMouseEnter:dt=>{dt.target.style.background="#FFD700",dt.target.style.color="#000"},onMouseLeave:dt=>{dt.target.style.background="none",dt.target.style.color="#FFD700"},disabled:x===1,children:" Trc"}),[...Array(st)].map((dt,ht)=>{const ot=ht+1;return u.jsx("button",{onClick:()=>w(ot),style:{fontWeight:x===ot?"bold":"normal",background:x===ot?"#FFD700":"#333",color:x===ot?"#000":"#fff",borderRadius:"6px",padding:"6px 10px",border:"none",cursor:"pointer"},children:ot},ot)}),u.jsx("button",{style:A,onClick:()=>w(dt=>dt+1),onMouseEnter:dt=>{dt.target.style.background="#FFD700",dt.target.style.color="#000"},onMouseLeave:dt=>{dt.target.style.background="none",dt.target.style.color="#FFD700"},disabled:x===st,children:"Sau "})]})]})]}),G&&u.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>z(!1),children:u.jsxs("div",{className:"modal-content",style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:dt=>dt.stopPropagation(),children:[u.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Nhp mt khu"}),u.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0,textAlign:"right"},onClick:()=>z(!1),children:""})]}),u.jsxs("div",{style:{padding:"30px",background:"#1a1a1a"},children:[u.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",u.jsx("strong",{children:t})]}),u.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:F,onChange:dt=>H(dt.target.value),onKeyPress:dt=>{dt.key==="Enter"&&rt()},disabled:nt,autoFocus:!0}),Y&&u.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:Y})]}),u.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>z(!1),disabled:nt,children:"Hy"}),u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s",opacity:nt?.6:1},onClick:rt,disabled:nt,children:nt?" ang x l...":" Xc nhn"})]})]})})]})},C3t=n=>{if(!n)return"";const t=new Date(n);return isNaN(t.getTime())?"":t.toISOString().slice(0,10)},A3t=()=>{const n=Gi(),{username:t}=rc(),[e]=yf(),r=no().state||{},[a,s]=N.useState(null),[o,l]=N.useState([]),[c,h]=N.useState(null),[d,g]=N.useState(!1),[y,x]=N.useState({vi_id:e.get("vi_id")||"",id_chungloai:r.id_chungloai||"",gia_mua:r.gia_mua||"",soluong:r.soluong||"",loai_san_pham:r.loai_san_pham||"VANG",ngaymua:C3t(r.ngaymua),khoang_cach:r.khoang_cach||20}),[w,k]=N.useState(String(y.khoang_cach||20)),[A,T]=N.useState(y.id_chungloai||""),[R,G]=N.useState([]),z=(Nt,Et,Yt,Rt)=>{const fe=(Yt-Nt)*Math.PI/180,Jt=(Rt-Et)*Math.PI/180,ue=Math.sin(fe/2)*Math.sin(fe/2)+Math.cos(Nt*Math.PI/180)*Math.cos(Yt*Math.PI/180)*Math.sin(Jt/2)*Math.sin(Jt/2);return 6371*(2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue)))};N.useEffect(()=>{if(w==="ALL"||!c||o.length===0){G(o);return}const Nt=Number(w),Et=o.filter(Yt=>{if(!Yt.vitri_location)return!1;try{const Rt=JSON.parse(Yt.vitri_location);return Array.isArray(Rt)?Rt.some(ee=>z(c.lat,c.long,Number(ee.lat),Number(ee.long))<=Nt):!1}catch{return!1}});G(Et)},[w,o,c]);const F=r.id_chungloai||"";N.useEffect(()=>{qo("Trang Chnh sa v - EditWallet.jsx")},[]),N.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(Nt=>{h({lat:Nt.coords.latitude,long:Nt.coords.longitude})},()=>h(null),{enableHighAccuracy:!0,timeout:5e3})},[]);const[H,Y]=N.useState(!1),[J,nt]=N.useState(""),[V,Z]=N.useState(""),[rt,lt]=N.useState(!1),[mt,ct]=N.useState(!1),[st,xt]=N.useState(""),[dt,ht]=N.useState("");N.useEffect(()=>{const Nt=localStorage.getItem("accountInfo");Nt&&s(JSON.parse(Nt))},[]),N.useEffect(()=>{fetch("https://api_gold.thinkdiff.us/list_nha_vang").then(Nt=>Nt.json()).then(Nt=>{const Et=Array.isArray(Nt)?Nt:Nt.data||[];l(Et)})},[]);const ot=o.find(Nt=>Nt.name_nhavang===F)?.name_nhavang||F,vt=Nt=>{const{name:Et,value:Yt}=Nt.target;x(Rt=>({...Rt,[Et]:Yt}))},St=()=>y.id_chungloai?!y.soluong||Number(y.soluong)<=0?"S lng khng hp l":!y.gia_mua||Number(y.gia_mua)<=0?"Gi mua khng hp l":y.ngaymua?null:"Vui lng chn ngy mua":"Vui lng chn nh vng",Pt=Nt=>{Nt.preventDefault();const Et=St();if(Et){xt(Et);return}Y(!0)},It=async()=>{if(!J){Z("Vui lng nhp mt khu");return}lt(!0),Z("");try{const Nt=new FormData;Nt.append("vi_id",y.vi_id),Nt.append("id_taikhoan",a.id_thongke_taikhoan),Nt.append("password",J),Nt.append("soluong",y.soluong),Nt.append("gia_mua",y.gia_mua),Nt.append("id_chungloai",y.id_chungloai),Nt.append("loai_san_pham",y.loai_san_pham),Nt.append("ngaymua",y.ngaymua),Nt.append("location",a.location||'{"lat":0,"long":0}');const Et=await fetch(`https://api_gold.thinkdiff.us/api/vi/sua/${y.vi_id}`,{method:"POST",body:Nt}),Yt=await Et.json();if(!Et.ok||Yt.status==="error"){Z(Yt.message||"Mt khu khng ng");return}ht(" Cp nht v thnh cng"),Y(!1),setTimeout(()=>n(`/vi/${t}`),800)}catch{Z("Li kt ni server")}finally{lt(!1)}};return u.jsxs("div",{className:"gold-page",children:[u.jsxs("div",{className:"gold-card",children:[u.jsxs("h1",{children:[" Chnh sa V - ",ot]}),u.jsxs("form",{onSubmit:Pt,className:"gold-form",children:[u.jsxs("div",{className:"gold-field",children:[u.jsx("label",{children:"ID V"}),u.jsx("input",{value:y.vi_id,disabled:!0})]}),u.jsx("div",{className:"gold-field",children:u.jsx("label",{children:"Khong cch v Nh vng"})}),u.jsx("div",{onClick:()=>{k(String(y.khoang_cach||20)),T(y.id_chungloai),g(!0)},style:{padding:"12px",border:"2px solid #FFD700",borderRadius:"8px",cursor:"pointer",background:"#1a1a1a",color:"#FFD700"},children:y.id_chungloai?` ${y.id_chungloai}  ${y.khoang_cach==="ALL"?"Th gii":`${y.khoang_cach} km`}`:" Chn khong cch & nh vng"}),y.id_chungloai!==F&&u.jsx("div",{className:"gold-warning",children:" Bn ang thay i nh vng ca v"}),u.jsxs("div",{className:"gold-field",children:[u.jsx("label",{children:"S lng"}),u.jsx("input",{type:"number",name:"soluong",value:y.soluong,onChange:vt})]}),u.jsxs("div",{className:"gold-field",children:[u.jsx("label",{children:"Loi sn phm"}),u.jsxs("select",{name:"loai_san_pham",value:y.loai_san_pham,onChange:vt,children:[u.jsx("option",{value:"VANG",children:"Vng"}),u.jsx("option",{value:"BAC",children:"Bc"})]})]}),u.jsxs("div",{className:"gold-field",children:[u.jsx("label",{children:"Gi mua"}),u.jsx("input",{type:"number",name:"gia_mua",value:y.gia_mua,onChange:vt})]}),u.jsxs("div",{className:"gold-field",children:[u.jsx("label",{children:"Ngy mua"}),u.jsx("input",{type:"date",name:"ngaymua",value:y.ngaymua,onChange:vt,onClick:Nt=>{Nt.target.showPicker?.()},onKeyDown:Nt=>Nt.preventDefault()})]}),st&&u.jsxs("div",{className:"gold-error",children:[" ",st]}),dt&&u.jsx("div",{className:"gold-success",children:dt}),u.jsxs("div",{className:"gold-actions",children:[u.jsx("button",{type:"button",onClick:()=>n(-1),children:"Hy"}),u.jsx("button",{type:"submit",disabled:mt,children:"Xc nhn chnh sa"})]})]})]}),H&&u.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>Y(!1),children:u.jsxs("div",{className:"modal-content",style:{background:"#FFD700",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%",overflow:"hidden"},onClick:Nt=>Nt.stopPropagation(),children:[u.jsxs("div",{style:{background:"#FFD700",color:"white",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("h3",{style:{margin:0,fontSize:"18px",color:"#333",fontWeight:"600"},children:" Nhp mt khu xc nhn sa"}),u.jsx("button",{style:{background:"none",border:"none",color:"#333",fontSize:"24px",cursor:"pointer",padding:0,textAlign:"right"},onClick:()=>Y(!1),children:""})]}),u.jsxs("div",{style:{padding:"30px",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[u.jsxs("p",{style:{margin:"0 0 20px 0",color:"#FFD700",fontSize:"14px"},children:["Ti khon: ",u.jsx("strong",{children:t})]}),u.jsx("input",{type:"password",style:{width:"100%",padding:"12px 15px",border:"2px solid #FFD700",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",marginBottom:"10px",background:"#2a2a2a",color:"#FFD700"},placeholder:"Nhp mt khu...",value:J,onChange:Nt=>nt(Nt.target.value),onKeyPress:Nt=>{Nt.key==="Enter"&&It()},disabled:rt,autoFocus:!0}),V&&u.jsx("p",{style:{color:"#ff6b6b",fontSize:"13px",margin:"0",textAlign:"center",marginBottom:"10px"},children:V})]}),u.jsxs("div",{style:{padding:"20px",display:"flex",gap:"10px",background:"#FFD700"},children:[u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#ffffff",color:"#333",transition:"all 0.3s"},onClick:()=>Y(!1),disabled:rt,children:"Hy"}),u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",color:"#FFD700",transition:"all 0.3s",opacity:rt?.6:1},onClick:It,disabled:rt,children:rt?" ang x l...":" Xc nhn"})]})]})}),d&&u.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:Nt=>{Nt.target===Nt.currentTarget&&g(!1)},children:u.jsxs("div",{style:{background:"#FFD700",borderRadius:"12px",width:"90%",maxWidth:"450px",overflow:"hidden"},onClick:Nt=>Nt.stopPropagation(),children:[u.jsx("div",{style:{padding:"20px",fontWeight:600},children:" Khong cch & Nh vng"}),u.jsxs("div",{style:{padding:"20px",background:"#1a1a1a",maxHeight:"300px",overflowY:"auto",marginTop:"8px"},children:[u.jsx("label",{style:{color:"#FFD700"},children:"Khong cch"}),u.jsxs("select",{value:w,onChange:Nt=>k(Nt.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"2px solid #FFD700",borderRadius:"8px",color:"#FFD700",background:"#000"},children:[u.jsx("option",{value:"ALL",children:"Th gii"}),u.jsx("option",{value:"10",children:"10 km"}),u.jsx("option",{value:"20",children:"20 km"}),u.jsx("option",{value:"30",children:"30 km"}),u.jsx("option",{value:"40",children:"40 km"}),u.jsx("option",{value:"50",children:"50 km"}),u.jsx("option",{value:"100",children:"100 km"})]}),R.map(Nt=>u.jsxs("div",{onClick:()=>T(Nt.name_nhavang),style:{padding:"10px",borderRadius:"8px",marginBottom:"8px",cursor:"pointer",fontWeight:600,background:A===Nt.name_nhavang?"#FFD700":"#2a2a2a",color:A===Nt.name_nhavang?"#333":"#FFD700"},children:[" ",Nt.name_nhavang]},Nt.id))]}),u.jsxs("div",{style:{display:"flex",padding:"15px",gap:"10px"},children:[u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"gray",color:"#FFD700",transition:"all 0.3s"},onClick:()=>g(!1),children:"Hy"}),u.jsx("button",{style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",background:"#333",color:"#FFD700",transition:"all 0.3s"},onClick:()=>{x(Nt=>({...Nt,khoang_cach:w,id_chungloai:A})),g(!1)},children:"p dng"})]})]})})]})};function T3t(){return u.jsx("div",{children:u.jsx(yq,{})})}const M3t=()=>{const[n,t]=N.useState(!1),[e,i]=N.useState(null),[r,a]=N.useState([]),[s,o]=N.useState([]);if(N.useEffect(()=>{(async()=>{t(!0),i(null);try{let d=new Date,g=null;for(;!g;){const Y=String(d.getDate()).padStart(2,"0"),J=String(d.getMonth()+1).padStart(2,"0"),nt=d.getFullYear(),V=`${Y}_${J}_${nt}`;try{const rt=await(await fetch(`https://api_gold.thinkdiff.us/all_json_1_day/${V}`)).json();if(rt&&Array.isArray(rt.data)&&rt.data.length>0){g=rt;break}else d.setDate(d.getDate()-1)}catch(Z){console.warn(`Khng th fetch d liu ngy ${V}:`,Z),d.setDate(d.getDate()-1)}}if(!g)throw new Error("Khng tm thy file d liu");const x=g.data.reduce((Y,J)=>{const nt=new Date(Y.modified_time.split("/").reverse().join("-"));return new Date(J.modified_time.split("/").reverse().join("-"))>nt?J:Y}).link.split("/").pop().replace(".json",""),[w,k,A,T,R]=x.split("_").map(Y=>parseInt(Y,10)),G=i1(w,k,A,T,R);if(!G)throw new Error("Invalid parameters when building Vang247 file URL");const z=await Y_(G),F=z.data?.data_xau_shfe||[],H=z.data?.data_xag_shfe||[];a(F),o(H)}catch(d){i(d.message||"Li khi ti d liu")}finally{t(!1)}})()},[]),n)return u.jsx("div",{children:"ang ti..."});if(e)return u.jsxs("div",{children:["Li: ",e]});const l={width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch",marginBottom:"20px",border:"1px solid #444",borderRadius:"4px"},c={borderCollapse:"collapse",width:"100%",minWidth:"1200px",fontSize:"14px"};return u.jsx(u.Fragment,{children:u.jsxs("div",{style:{padding:"10px"},children:[u.jsx("h2",{children:"Bo co Sn Thng Hi Tng Lai (SHFE)"}),u.jsx("h3",{children:"D liu Vng (XAU SHFE)"}),r.length===0?u.jsx("div",{children:"Khng c d liu"}):u.jsx("div",{style:l,children:u.jsxs("table",{className:"styled-table",border:"1",cellPadding:"8",style:c,children:[u.jsxs("thead",{children:[u.jsx("tr",{children:u.jsxs("th",{colSpan:"13",children:["Cp nht lc: ",u.jsx("span",{style:{color:"#00ff00"},children:r[0]?new Date(r[0].crawl_time).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"---"})]})}),u.jsxs("tr",{children:[u.jsx("th",{children:"Hp ng"}),u.jsx("th",{children:"Gi mua/gi bn"}),u.jsx("th",{children:"Chnh lch"}),u.jsx("th",{children:"Gi gn nht"}),u.jsx("th",{children:"Gii hn gim"}),u.jsx("th",{children:"Gii hn tng"}),u.jsx("th",{children:"Gi thp nht"}),u.jsx("th",{children:"S hp ng m"}),u.jsx("th",{children:"Gi thanh ton trc"}),u.jsx("th",{children:u.jsx("span",{style:{color:"red"},children:"Gi thanh ton"})}),u.jsx("th",{children:"M sn phm"}),u.jsx("th",{children:"Gi tr giao dch"}),u.jsx("th",{children:"Khi lng"})]})]}),u.jsx("tbody",{children:r.map((h,d)=>u.jsxs("tr",{children:[u.jsx("td",{children:h.contract||"---"}),u.jsx("td",{children:h.bid_ask||"---"}),u.jsx("td",{children:h.change?Number(h.change).toLocaleString():"---"}),u.jsx("td",{children:h.last_price?Number(h.last_price).toFixed(2):"---"}),u.jsx("td",{children:h.limit_down?Number(h.limit_down).toLocaleString():"---"}),u.jsx("td",{children:h.limit_up?Number(h.limit_up).toLocaleString():"---"}),u.jsx("td",{children:h.lowest?Number(h.lowest).toFixed(2):"---"}),u.jsx("td",{children:h.open_interest?Number(h.open_interest).toLocaleString():"---"}),u.jsx("td",{children:h.prev_settlement?Number(h.prev_settlement).toFixed(2):"---"}),u.jsx("td",{children:h.settlement?Number(h.settlement).toFixed(2):"---"}),u.jsx("td",{children:h.symbol||"---"}),u.jsx("td",{children:h.turnover?Number(h.turnover).toLocaleString():"---"}),u.jsx("td",{children:h.volume?Number(h.volume).toLocaleString():"---"})]},d))})]})}),u.jsx("h3",{children:"D liu Bc (XAG SHFE)"}),s.length===0?u.jsx("div",{children:"Khng c d liu"}):u.jsx("div",{style:l,children:u.jsxs("table",{className:"styled-table",border:"1",cellPadding:"8",style:c,children:[u.jsxs("thead",{children:[u.jsx("tr",{children:u.jsxs("th",{colSpan:"13",children:["Cp nht lc: ",u.jsx("span",{style:{color:"#00ff00"},children:s[0]?new Date(s[0].crawl_time).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"N/A"})]})}),u.jsxs("tr",{children:[u.jsx("th",{children:"Hp ng"}),u.jsx("th",{children:"Gi mua/gi bn"}),u.jsx("th",{children:"Chnh lch"}),u.jsx("th",{children:"Gi gn nht"}),u.jsx("th",{children:"Gii hn gim"}),u.jsx("th",{children:"Gii hn tng"}),u.jsx("th",{children:"Gi thp nht"}),u.jsx("th",{children:"S hp ng m"}),u.jsx("th",{children:"Gi thanh ton trc"}),u.jsx("th",{children:u.jsx("span",{style:{color:"red"},children:"Gi thanh ton"})}),u.jsx("th",{children:"M sn phm"}),u.jsx("th",{children:"Gi tr giao dch"}),u.jsx("th",{children:"Khi lng"})]})]}),u.jsx("tbody",{children:s.map((h,d)=>u.jsxs("tr",{children:[u.jsx("td",{children:h.contract||"---"}),u.jsx("td",{children:h.bid_ask||"---"}),u.jsx("td",{children:h.change?Number(h.change).toLocaleString(void 0,{maximumFractionDigits:1}):"---"}),u.jsx("td",{children:h.last_price?(Number(h.last_price)/1e3).toFixed(2):"---"}),u.jsx("td",{children:h.limit_down?(Number(h.limit_down)/1e3).toLocaleString():"---"}),u.jsx("td",{children:h.limit_up?(Number(h.limit_up)/1e3).toLocaleString():"---"}),u.jsx("td",{children:h.lowest?(Number(h.lowest)/1e3).toFixed(2):"---"}),u.jsx("td",{children:h.open_interest?Number(h.open_interest).toLocaleString():"---"}),u.jsx("td",{children:h.prev_settlement?(Number(h.prev_settlement)/1e3).toFixed(2):"---"}),u.jsx("td",{children:h.settlement?(Number(h.settlement)/1e3).toFixed(2):"---"}),u.jsx("td",{children:h.symbol||"---"}),u.jsx("td",{children:h.turnover?(Number(h.turnover)/1e3).toLocaleString():"---"}),u.jsx("td",{children:h.volume?Number(h.volume).toLocaleString():"---"})]},d))})]})})]})})},N3t=()=>{const[n,t]=N.useState(!1),[e,i]=N.useState(null),[r,a]=N.useState([]);if(N.useEffect(()=>{(async()=>{t(!0),i(null);try{const g=await fetch("https://api_gold.thinkdiff.us/shfe_luong_luutru");if(!g.ok)throw new Error("Khng th ti d liu");const y=await g.json(),x=y.data||y.chi_so_fomo_vang||[];a(x)}catch(g){i(g.message||"Li khi ti d liu")}finally{t(!1)}})()},[]),n)return u.jsx("div",{children:"ang ti..."});if(e)return u.jsxs("div",{children:["Li: ",e]});const s=r.filter(d=>d.commodity==="GOLD"),o=r.filter(d=>d.commodity==="SILVER"),l={width:"100%",overflowX:"auto",WebkitOverflowScrolling:"touch",marginBottom:"30px",border:"1px solid #444",borderRadius:"4px"},c={borderCollapse:"collapse",width:"100%",minWidth:"1200px",fontSize:"14px"},h=(d,g)=>u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:g}),d.length===0?u.jsx("div",{children:"Khng c d liu"}):u.jsx("div",{style:l,children:u.jsxs("table",{className:"styled-table",border:"1",cellPadding:"5",style:c,children:[u.jsxs("thead",{children:[u.jsx("tr",{children:u.jsxs("th",{colSpan:"6",children:["Cp nht lc:"," ",u.jsx("span",{style:{color:"#00ff00"},children:new Date(d[0].report_date).toLocaleString("vi-VN",{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]})}),u.jsxs("tr",{children:[u.jsx("th",{children:"Mc thay i"}),u.jsx("th",{children:"Hng ha"}),u.jsx("th",{children:"Lng lu kho"}),u.jsx("th",{children:"Khu vc"}),u.jsx("th",{children:"Kho lu tr"}),u.jsx("th",{children:"Thi gian"})]})]}),u.jsx("tbody",{style:{textAlign:"center"},children:d.map((y,x)=>u.jsxs("tr",{children:[u.jsx("td",{children:y.change_val??"---"}),u.jsx("td",{children:y.commodity??"---"}),u.jsx("td",{children:y.on_warrant?Number(y.on_warrant).toLocaleString():"---"}),u.jsx("td",{children:y.region??"---"}),u.jsx("td",{children:y.warehouse??"---"}),u.jsx("td",{children:y.report_date?new Date(y.report_date).toLocaleString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"---"})]},x))})]})})]});return u.jsxs("div",{style:{padding:"10px"},children:[u.jsx("h2",{children:"Lng lu tr SHFE"}),h(s,"D liu Vng (GOLD SHFE)"),h(o,"D liu Bc (SILVER SHFE)")]})};function YG(){return u.jsx("div",{children:u.jsx(xq,{})})}const P3t=()=>{const[n,t]=N.useState("silver");return u.jsxs("div",{className:"metal-tabs",style:{paddingBottom:60},children:[u.jsxs("div",{className:"metal-tabs-header",children:[u.jsx("button",{className:n==="gold"?"active":"",onClick:()=>t("gold"),children:" Gold"}),u.jsx("button",{className:n==="silver"?"active":"",onClick:()=>t("silver"),children:" Silver"})]}),u.jsxs("div",{className:"metal-tabs-content",children:[n==="gold"&&u.jsx(iD,{}),n==="silver"&&u.jsx(rD,{})]})]})};function E3t(){return u.jsx("div",{style:{paddingBottom:"45px",paddingTop:"25px"},children:u.jsx(wEt,{})})}gi.register(qr,Ji,Fa,Xr,pa,Qi,sr,F_,tO);const j3t="https://api_gold.thinkdiff.us/final_gold_silver_report_api",$G=({weekData:n,formatDate:t})=>{const e=[...n.servers].sort((l,c)=>c.percent-l.percent),i=e.map(l=>l.name),r=e.map(l=>l.loinhuan),a=e.map(l=>l.percent),s={labels:i,datasets:[{type:"bar",label:"Li nhun (VN)",data:r,backgroundColor:r.map(l=>l>0?"#05fa2e":l<0?"#fa0505":"#94a3b8"),yAxisID:"y"},{type:"line",label:"% li nhun",data:a,borderColor:"#3b82f6",pointBackgroundColor:"#3b82f6",tension:.3,yAxisID:"y1"}]},o=n.servers[0];return u.jsxs("div",{className:"server-chart",children:[u.jsxs("h3",{className:"server-title",children:["Tun ",n.weekIndex+1,o&&u.jsxs("span",{style:{fontWeight:400,fontSize:13},children:[" ","(",t(o.dautuan)," -"," ",t(o.cuoituan),")"]})]}),u.jsx("div",{style:{height:380},children:u.jsx(xa,{type:"bar",data:s,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{beginAtZero:!0},y1:{beginAtZero:!0,position:"right",grid:{drawOnChartArea:!1}}}}})})]})},D3t=({type:n})=>{const[t,e]=N.useState([]),[i,r]=N.useState(!1),[a,s]=N.useState(null),[o,l]=N.useState(null),[c,h]=N.useState("none"),d=A=>{if(!A)return"";const T=new Date(A);return`${String(T.getDate()).padStart(2,"0")}/${String(T.getMonth()+1).padStart(2,"0")}/${T.getFullYear()}`};N.useEffect(()=>{(async()=>{try{r(!0);const T=await fetch(j3t);if(!T.ok)throw new Error("API error");const G=(await T.json())?.data?.tocdo_tang_truong?.results?.[n]??[];e(G)}catch(T){s(T.message)}finally{r(!1)}})()},[n]);const g=A=>A.servers.length?Math.max(...A.servers.map(T=>T.percent??0)):0,y=A=>{const T=A.toFixed(2);return A>0?`+${T}%`:`${T}%`},x=N.useMemo(()=>{if(!t.length)return[];const A=Math.max(...t.map(R=>R.cac_tuan?.length??0)),T=[];for(let R=0;R<A;R++){const G=t.map(z=>{const F=z.cac_tuan?.[R];return F?{name:z.name_server,loinhuan:F.loinhuan??0,percent:Number((F.tilephantram_1tuan??0).toFixed(2)),dautuan:F.dautuan?.datetime,cuoituan:F.cuoituan?.datetime}:null}).filter(Boolean);T.push({weekIndex:R,servers:G})}return T},[t]),w=N.useMemo(()=>{let A=[...x];return c==="profit_desc"&&A.sort((T,R)=>g(R)-g(T)),c==="profit_asc"&&A.sort((T,R)=>g(T)-g(R)),A},[x,c]),k=w.slice(0,5);return i?u.jsx("p",{children:"ang ti d liu..."}):a?u.jsx("p",{style:{color:"red"},children:a}):t.length?u.jsxs("div",{className:"servers-chart-list",children:[w.length>0&&u.jsxs("div",{className:"week-controls",children:[u.jsxs("select",{value:o??"",onChange:A=>{const T=A.target.value;l(T===""?null:Number(T))},className:"week-select",children:[u.jsx("option",{value:"",children:"-- Hin th 5 tun u --"}),w.map((A,T)=>{const R=A.servers[0]??null;return u.jsxs("option",{value:T,children:["Tun ",A.weekIndex+1,R?` (${d(R.dautuan)} - ${d(R.cuoituan)})`:""," | Max: ",y(g(A))]},A.weekIndex)})]}),u.jsxs("div",{className:"sort-buttons",children:[u.jsx("button",{className:`sort-btn ${c==="profit_desc"?"active":""}`,onClick:()=>{h("profit_desc"),l(null)},children:" % Li nhun cao  thp"}),u.jsx("button",{className:`sort-btn ${c==="profit_asc"?"active":""}`,onClick:()=>{h("profit_asc"),l(null)},children:" % Li nhun thp  cao"}),u.jsx("button",{className:`sort-btn ${c==="none"?"active":""}`,onClick:()=>{h("none"),l(null)},children:" Th t gc"})]})]}),o!==null&&w[o]&&u.jsx($G,{weekData:w[o],formatDate:d}),o===null&&k.map(A=>u.jsx($G,{weekData:A,formatDate:d},A.weekIndex))]}):u.jsx("p",{children:"Khng c d liu"})},O3t=()=>{const[n,t]=N.useState("vang"),[e,i]=N.useState(null);return u.jsx("div",{className:"weekly-chart-wrapper",children:u.jsxs("div",{className:"weekly-chart-card",children:[u.jsxs("h2",{style:{marginBottom:20,color:"#e5e7eb"},children:["Li nhun theo tun (",n==="vang"?"Vng":"Bc",")"]}),u.jsxs("div",{className:"chart-tabs",children:[u.jsx("button",{className:`chart-tab-btn ${n==="vang"?"active":""}`,onClick:()=>{t("vang"),i(null)},children:"Vng"}),u.jsx("button",{className:`chart-tab-btn ${n==="bac"?"active":""}`,onClick:()=>{t("bac"),i(null)},children:"Bc"})]}),u.jsx(D3t,{type:n})]})})};function L3t(){return u.jsx("div",{children:u.jsx(Yq,{})})}const R3t=()=>{const[n,t]=N.useState([]),[e,i]=N.useState("VNG"),[r,a]=N.useState(!0),[s,o]=N.useState(""),l=g=>({USA:"us",VIETNAM:"vn",ENGLAND:"gb",RUSSIAN:"ru","SOUTH KOREA":"kr",UAE:"ae",TRUNGQUOC:"cn",INDIA:"in",JAPAN:"jp"})[g.toUpperCase()]||"un",c=async()=>{a(!0);try{const g=await sa.get("https://api_gold.thinkdiff.us/all_day_save_price");if(!g.data?.data?.length)throw new Error("No day data");const y=g.data.data[g.data.data.length-1].dirname,x=await sa.get(`https://api_gold.thinkdiff.us/all_json_1_day/${y}`);if(!x.data?.data?.length)throw new Error("No file data");const k=x.data.data[x.data.data.length-1].link.split("/vang247_xyz/")[1],T=(await sa.get(`https://api_gold.thinkdiff.us/view_full_data_json/${k}`)).data?.data||{},R=T.list_server||[];if(R.length>0){let Y=R[0]?.data?.data?.fetched_at||R[0]?.items?.[0]?.fetched_at||"";if(Y){const J=Y.includes("T")?Y.split("T")[0]:Y.split(" ")[0];if(J.includes("-")&&J.indexOf("-")===4){const[nt,V,Z]=J.split("-");o(`${Z}-${V}-${nt}`)}else o(J.replace(/\//g,"-"))}}let G=26447;const F=(T.chogia_vn?.data||[]).find(Y=>Y.code==="USD");F&&(G=F.sell);let H=[];Array.isArray(R)&&R.forEach(Y=>{const J=Y.quoc_gia||"",nt=Y.items||Y.data?.data?.items;Array.isArray(nt)&&nt.forEach(V=>{const Z=(V.name||Y.name||"").toUpperCase(),rt=(V.purity||"").toLowerCase(),lt=V.TYPE==="VANG",mt=V.TYPE==="BAC";let ct=!1;if(lt&&(rt==="9999"||rt==="24k")&&(ct=!0),mt&&rt==="1kg_bac_999"&&(ct=!0),!!ct){if(J.toLowerCase()==="vietnam"||Z.includes("PH QU")||Z.includes("BTMC")){if(lt&&Z.includes("BTMC")||mt&&Z.includes("PH QU")){const st=h(J,Z,lt?"VNG":"BC",V,Y,G);st&&H.push(st)}}else if(J!==""){const st=h(J,Z,lt?"VNG":"BC",V,Y,G);st&&H.push(st)}}})}),t(H),a(!1)}catch(g){console.error("Li ti API:",g),a(!1)}},h=(g,y,x,w,k,A)=>{const T=w.sell?Number(w.sell):0,R=A||26447;if(!T)return null;let G=37.5;x==="BC"&&(G=1e3);const z=T/G*31.1034768/R;return{country:g.toUpperCase(),name:w.product||y,type:x,price:z}};N.useEffect(()=>{c()},[]);const d=N.useMemo(()=>n.filter(g=>g&&g.type===e).sort((g,y)=>y.price-g.price),[n,e]);return u.jsxs("div",{style:I3t,children:[u.jsx("h2",{style:z3t,children:"Bo Co Gi Vng Bc ca cc Quc Gia"}),u.jsxs("div",{style:F3t,children:["Cp nht lc: ",u.jsx("span",{style:{color:"#f1c40f"},children:s||"---"})]}),u.jsxs("div",{style:B3t,children:[u.jsx("button",{style:e==="VNG"?H3t:hA,onClick:()=>i("VNG"),children:" VNG"}),u.jsx("button",{style:e==="BC"?G3t:hA,onClick:()=>i("BC"),children:" BC"})]}),r?u.jsx("div",{style:tzt,children:"ang ti d liu an ton..."}):u.jsx("div",{style:W3t,children:d.map((g,y)=>u.jsxs("div",{style:U3t(g.type),children:[u.jsxs("div",{style:Y3t,children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[u.jsx("img",{src:`https://flagcdn.com/w40/${l(g.country)}.png`,style:$3t,alt:"flag"}),u.jsx("span",{style:V3t,children:g.country})]}),u.jsx("div",{style:X3t(g.type),children:g.type})]}),u.jsx("div",{style:q3t,children:g.name}),u.jsxs("div",{style:K3t,children:[u.jsx("span",{style:Z3t,children:"Quy i:"}),u.jsx("span",{style:Q3t(g.type),children:g.price>0?g.price.toLocaleString(void 0,{maximumFractionDigits:2}):"---"}),u.jsx("span",{style:J3t,children:"USD/oz"})]})]},y))})]})},I3t={backgroundColor:"#0a0a0a",minHeight:"100vh",padding:"20px"},z3t={color:"#f1c40f",textAlign:"center",marginBottom:"5px",fontSize:"22px",fontWeight:"bold"},F3t={color:"#888",textAlign:"center",marginBottom:"30px",fontSize:"14px"},B3t={display:"flex",justifyContent:"center",gap:"15px",marginBottom:"40px"},hA={backgroundColor:"#1a1a1a",color:"#666",border:"1px solid #333",padding:"10px 30px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},H3t={...hA,backgroundColor:"#f1c40f",color:"#000",border:"1px solid #f1c40f"},G3t={...hA,backgroundColor:"#bdc3c7",color:"#000",border:"1px solid #bdc3c7"},W3t={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px",maxWidth:"1200px",margin:"0 auto"},U3t=n=>({backgroundColor:"#161616",border:"1px solid #333",borderRadius:"12px",padding:"20px",borderTop:`4px solid ${n==="VNG"?"#f1c40f":"#bdc3c7"}`}),Y3t={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},$3t={width:"22px"},V3t={color:"#888",fontSize:"11px",fontWeight:"bold"},X3t=n=>({color:n==="VNG"?"#f1c40f":"#bdc3c7",fontSize:"10px",fontWeight:"bold"}),q3t={color:"#efefef",fontSize:"12px",marginBottom:"20px",minHeight:"35px"},K3t={borderTop:"1px solid #222",paddingTop:"15px",display:"flex",alignItems:"baseline",gap:"8px"},Z3t={color:"#666",fontSize:"12px"},Q3t=n=>({color:n==="VNG"?"#f1c40f":"#bdc3c7",fontSize:"24px",fontWeight:"bold"}),J3t={color:"#444",fontSize:"11px"},tzt={color:"white",textAlign:"center",marginTop:"50px"},ezt=()=>{const n=N.useRef(null),[t,e]=N.useState(!1),[i,r]=N.useState("XAG"),[a,s]=N.useState(1),[o,l]=N.useState(1),[c,h]=N.useState(""),[d,g]=N.useState(window.innerWidth<768),[y,x]=N.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),w=d?15:10,[k,A]=N.useState(w),T=i==="XAU",R=T?"#FFD700":"#ffffff";N.useEffect(()=>{const F=()=>g(window.innerWidth<768);return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const G=F=>{if(!F)return"";const H=F.split(" ");return H.length>1?H[1].substring(0,5):F},z=(F,H)=>{if(F===0)return"Tt c";if(!H||H.length===0)return`K${F}`;const Y=Math.ceil(H.length/w),J=(F-1)*Y;let nt=J+Y-1;return nt>=H.length&&(nt=H.length-1),J>=H.length?"-":`${G(H[J])}-${G(H[nt])}`};return N.useEffect(()=>{(async()=>{const H=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Y of H)document.querySelector(`script[src="${Y}"]`)||await new Promise(J=>{const nt=document.createElement("script");nt.src=Y,nt.async=!1,nt.onload=J,document.head.appendChild(nt)});e(!0)})()},[]),N.useEffect(()=>{t&&(async()=>{try{const Y=await fetch(`https://api_gold.thinkdiff.us/volume_${i==="XAU"?"xau_usd":"xag_usd"}?page=${a}`).then(nt=>nt.json());Y.data&&Y.data.total_page&&l(Y.data.total_page);const J=(Y.data.list_volume||[]).reverse();J.length>0&&h(J[J.length-1].timestamp),x(nt=>({...nt,[T?"gold_full":"silver_full"]:J,[T?"gold_categories":"silver_categories"]:J.map(V=>V.timestamp)})),A(w)}catch(H){console.error(H)}})()},[t,a,i,T,w]),N.useEffect(()=>{if(!t||!window.Highcharts||!n.current)return;const F=T?y.gold_full:y.silver_full,H=T?y.gold_categories:y.silver_categories;if(!F.length)return;let Y=[...F],J=[...H];if(k!==0){const ht=Math.ceil(F.length/w),ot=(k-1)*ht,vt=ot+ht;Y=F.slice(ot,vt),J=H.slice(ot,vt)}const nt=[],V=[],Z=[],rt=[],lt=[],mt=[],ct=[],st=[],xt=[];Y.forEach((ht,ot)=>{ht.atr_14!==null&&ht.atr_14!==void 0&&nt.push({x:ot,y:ht.atr_14,timestamp:ht.timestamp});const vt=ht.rsi_14||ht.rsi||0;V.push({x:ot,y:vt,timestamp:ht.timestamp}),ht.williams_r!==null&&ht.williams_r!==void 0&&Z.push({x:ot,y:ht.williams_r,timestamp:ht.timestamp}),ht.momentum_10!==null&&ht.momentum_10!==void 0&&rt.push({x:ot,y:ht.momentum_10,timestamp:ht.timestamp}),ht.roc_10!==null&&ht.roc_10!==void 0&&lt.push({x:ot,y:ht.roc_10,timestamp:ht.timestamp}),ht.cci_20!==null&&ht.cci_20!==void 0&&mt.push({x:ot,y:ht.cci_20,timestamp:ht.timestamp}),ht.bb_bandwidth!==null&&ht.bb_bandwidth!==void 0&&ct.push({x:ot,y:ht.bb_bandwidth,timestamp:ht.timestamp}),ht.bb_percent_b!==null&&ht.bb_percent_b!==void 0&&st.push({x:ot,y:ht.bb_percent_b,timestamp:ht.timestamp}),ht.log_return!==null&&ht.log_return!==void 0&&xt.push({x:ot,y:ht.log_return*100,timestamp:ht.timestamp})});const dt={chart:{height:d?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:J,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"ATR 14",style:{color:"#00FF80"}},top:"0%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"RSI 14",style:{color:"#FFD700"}},top:"16%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FFD700",fontSize:"10px"}},min:0,max:100,plotLines:[{value:70,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:30,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:"Williams R (-100 to 0)",style:{color:"#00E5FF"}},top:"32%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00E5FF",fontSize:"10px"}},min:-100,max:0},{title:{text:"Momentum and CCI",style:{color:"#FF69B4"}},top:"48%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FF69B4",fontSize:"10px"}}},{title:{text:"ROC (10) and Log Return (%)",style:{color:"#9B59B6"}},top:"64%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}},plotLines:[{value:0,color:"#666",width:1,dashStyle:"Dash"}]},{title:{text:"Volatility (BB)",style:{color:"#03A9F4"}},top:"80%",height:"15%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#03A9F4",fontSize:"10px"}},min:0}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"ATR (14)",data:nt,yAxis:0,type:"line",color:"#00FF80",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00FF80; font-size:13px;">ATR 14:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"RSI (14)",data:V,yAxis:1,type:"line",color:"#FFD700",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">RSI 14:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(2)}</b></div>`}}},{name:"Williams %R",data:Z,yAxis:2,type:"line",color:"#00E5FF",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00E5FF; font-size:13px;">Williams %R:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(2)}</b></div>`}}},{name:"Momentum (10)",data:rt,yAxis:3,type:"line",color:"#FF69B4",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">Momentum</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"ROC (10) %",data:lt,yAxis:4,type:"line",color:"#9B59B6",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">ROC:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}%</b></div>`}}},{name:"CCI (20)",data:mt,yAxis:3,type:"line",color:"#FFA500",lineWidth:1,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center">
        <b style="color:#FFA500">CCI</b><br/>
        <b>${this.y.toFixed(2)}</b>
      </div>`}}},{name:"BB Bandwidth",data:ct,yAxis:5,type:"line",color:"#FF9800",dashStyle:"ShortDot",lineWidth:1,marker:{enabled:!1}},{name:"BB %B",data:st,yAxis:5,type:"line",color:"#03A9F4",dashStyle:"Dot",lineWidth:1,marker:{enabled:!1}},{name:"Log Return (%)",data:xt,yAxis:4,type:"line",color:"#E91E63",lineWidth:1,marker:{enabled:!1}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(n.current,dt)},[i,y,a,k,t,T,d,w]),u.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[u.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),u.jsx("a",{href:"/#/technical-indicators",style:{textDecoration:"none"},children:u.jsx("span",{style:{color:R,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:c||"..."})})]}),u.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(F=>u.jsx("button",{onClick:()=>r(F),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:i===F?F==="XAU"?"#FFD700":"#ffffff":"#111",color:i===F?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:F==="XAU"?"Vng (XAU)":"Bc (XAG)"},F))}),u.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(w+1).keys()].map(F=>u.jsx("button",{onClick:()=>A(F),style:{padding:d?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:k===F?"#333":"#111",color:k===F?"#FFF":"#777",fontSize:d?"8px":"10px",cursor:"pointer",flex:d?"1 1 5.5%":"none",textAlign:"center"},children:z(F,T?y.gold_categories:y.silver_categories)},F))}),u.jsx("div",{ref:n,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[u.jsx("button",{onClick:()=>s(F=>F+1),disabled:a>=o,style:VG(a>=o),children:" Trc "}),u.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",a," / ",o]}),u.jsx("button",{onClick:()=>s(F=>Math.max(1,F-1)),disabled:a===1,style:VG(a===1),children:" Sau "})]})]})},VG=n=>({padding:"6px 20px",backgroundColor:"#111",color:n?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:n?"default":"pointer"}),nzt=()=>{const n=N.useRef(null),[t,e]=N.useState(!1),[i,r]=N.useState("XAG"),[a,s]=N.useState(1),[o,l]=N.useState(1),[c,h]=N.useState(""),[d,g]=N.useState(window.innerWidth<768),[y,x]=N.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),w=d?15:10,[k,A]=N.useState(w),T=i==="XAU",R=T?"#FFD700":"#ffffff";N.useEffect(()=>{const F=()=>g(window.innerWidth<768);return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const G=F=>{if(!F)return"";const H=F.split(" ");return H.length>1?H[1].substring(0,5):F},z=(F,H)=>{if(F===0)return"Tt c";if(!H||H.length===0)return`K${F}`;const Y=Math.ceil(H.length/w),J=(F-1)*Y;let nt=J+Y-1;return nt>=H.length&&(nt=H.length-1),J>=H.length?"-":`${G(H[J])}-${G(H[nt])}`};return N.useEffect(()=>{(async()=>{const H=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Y of H)document.querySelector(`script[src="${Y}"]`)||await new Promise(J=>{const nt=document.createElement("script");nt.src=Y,nt.async=!1,nt.onload=J,document.head.appendChild(nt)});e(!0)})()},[]),N.useEffect(()=>{t&&(async()=>{try{const Y=await fetch(`https://api_gold.thinkdiff.us/volume_${i==="XAU"?"xau_usd":"xag_usd"}?page=${a}`).then(nt=>nt.json());Y.data&&Y.data.total_page&&l(Y.data.total_page);const J=(Y.data.list_volume||[]).reverse();J.length>0&&h(J[J.length-1].timestamp),x(nt=>({...nt,[T?"gold_full":"silver_full"]:J,[T?"gold_categories":"silver_categories"]:J.map(V=>V.timestamp)})),A(w)}catch(H){console.error(H)}})()},[t,a,i,T,w]),N.useEffect(()=>{if(!t||!window.Highcharts||!n.current)return;const F=T?y.gold_full:y.silver_full,H=T?y.gold_categories:y.silver_categories;if(!F.length)return;let Y=[...F],J=[...H];if(k!==0){const ct=Math.ceil(F.length/w),st=(k-1)*ct,xt=st+ct;Y=F.slice(st,xt),J=H.slice(st,xt)}const nt=[],V=[],Z=[],rt=[],lt=[];Y.forEach((ct,st)=>{if(ct.volume!==null&&ct.volume!==void 0){const xt=ct.close_price>ct.open_price?"#00b060":"#ff4648";nt.push({x:st,y:ct.volume,timestamp:ct.timestamp,color:xt})}ct.obv!==null&&ct.obv!==void 0&&V.push({x:st,y:ct.obv,timestamp:ct.timestamp}),ct.mfi_14!==null&&ct.mfi_14!==void 0&&Z.push({x:st,y:ct.mfi_14,timestamp:ct.timestamp}),ct.elder_force!==null&&ct.elder_force!==void 0&&rt.push({x:st,y:ct.elder_force,timestamp:ct.timestamp}),ct.volume_change!==null&&ct.volume_change!==void 0&&lt.push({x:st,y:ct.volume_change,timestamp:ct.timestamp})});const mt={chart:{height:d?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:J,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Volume",style:{color:"#00FF80"}},height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"OBV",style:{color:"#FF69B4"}},top:"20%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FF69B4",fontSize:"10px"}}},{title:{text:"MFI (0-100)",style:{color:"#00E5FF"}},top:"40%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00E5FF",fontSize:"10px"}},min:0,max:100,plotLines:[{value:80,color:"#FF4B4B",width:1,dashStyle:"Dash"},{value:20,color:"#00FF80",width:1,dashStyle:"Dash"}]},{title:{text:"Elder Force",style:{color:"#FFD700"}},top:"60%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#FFD700",fontSize:"10px"}}},{title:{text:"Volume Change (%)",style:{color:"#9B59B6"}},top:"80%",height:"18%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"Volume",data:nt,yAxis:0,type:"column",borderWidth:0,tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:${this.color}; font-size:13px;">Volume:</b><br/><b style="color:${this.color}; font-size:12px;">${this.y.toLocaleString()}</b></div>`}}},{name:"OBV",data:V,yAxis:1,type:"line",color:"#FF69B4",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">OBV:</b><br/><b style="color:#ffffff; font-size:12px;">${Math.round(this.y).toLocaleString()}</b></div>`}}},{name:"MFI (14)",data:Z,yAxis:2,type:"line",color:"#00E5FF",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00E5FF; font-size:13px;">MFI:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(2)}</b></div>`}}},{name:"Elder Force",data:rt,yAxis:3,type:"line",color:"#FFD700",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">Elder Force:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"Volume Change %",data:lt,yAxis:4,type:"line",color:"#9B59B6",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">Vol Change:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}%</b></div>`}}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(n.current,mt)},[i,y,a,k,t,T,d,w]),u.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[u.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),u.jsx("a",{href:"/#/volume-momentum",style:{textDecoration:"none"},children:u.jsx("span",{style:{color:R,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:c||"..."})})]}),u.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(F=>u.jsx("button",{onClick:()=>r(F),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:i===F?F==="XAU"?"#FFD700":"#ffffff":"#111",color:i===F?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:F==="XAU"?"Vng (XAU)":"Bc (XAG)"},F))}),u.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(w+1).keys()].map(F=>u.jsx("button",{onClick:()=>A(F),style:{padding:d?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:k===F?"#333":"#111",color:k===F?"#FFF":"#777",fontSize:d?"8px":"10px",cursor:"pointer",flex:d?"1 1 5.5%":"none",textAlign:"center"},children:z(F,T?y.gold_categories:y.silver_categories)},F))}),u.jsx("div",{ref:n,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[u.jsx("button",{onClick:()=>s(F=>F+1),disabled:a>=o,style:XG(a>=o),children:" Trc "}),u.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",a," / ",o]}),u.jsx("button",{onClick:()=>s(F=>Math.max(1,F-1)),disabled:a===1,style:XG(a===1),children:" Sau "})]})]})},XG=n=>({padding:"6px 20px",backgroundColor:"#111",color:n?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:n?"default":"pointer"}),izt=()=>{const n=N.useRef(null),[t,e]=N.useState(!1),[i,r]=N.useState("XAG"),[a,s]=N.useState(1),[o,l]=N.useState(1),[c,h]=N.useState(""),[d,g]=N.useState(window.innerWidth<768),[y,x]=N.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),w=d?15:10,[k,A]=N.useState(w),T=i==="XAU",R=T?"#FFD700":"#ffffff";N.useEffect(()=>{const F=()=>g(window.innerWidth<768);return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const G=F=>{if(!F)return"";const H=F.split(" ");return H.length>1?H[1].substring(0,5):F},z=(F,H)=>{if(F===0)return"Tt c";if(!H||H.length===0)return`K${F}`;const Y=Math.ceil(H.length/w),J=(F-1)*Y;let nt=J+Y-1;return nt>=H.length&&(nt=H.length-1),J>=H.length?"-":`${G(H[J])}-${G(H[nt])}`};return N.useEffect(()=>{(async()=>{const H=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Y of H)document.querySelector(`script[src="${Y}"]`)||await new Promise(J=>{const nt=document.createElement("script");nt.src=Y,nt.async=!1,nt.onload=J,document.head.appendChild(nt)});e(!0)})()},[]),N.useEffect(()=>{t&&(async()=>{try{const Y=await fetch(`https://api_gold.thinkdiff.us/volume_${i==="XAU"?"xau_usd":"xag_usd"}?page=${a}`).then(nt=>nt.json());Y.data&&Y.data.total_page&&l(Y.data.total_page);const J=(Y.data.list_volume||[]).reverse();J.length>0&&h(J[J.length-1].timestamp),x(nt=>({...nt,[T?"gold_full":"silver_full"]:J,[T?"gold_categories":"silver_categories"]:J.map(V=>V.timestamp)})),A(w)}catch(H){console.error(H)}})()},[t,a,i,T,w]),N.useEffect(()=>{if(!t||!window.Highcharts||!n.current)return;const F=T?y.gold_full:y.silver_full,H=T?y.gold_categories:y.silver_categories;if(!F.length)return;let Y=[...F],J=[...H];if(k!==0){const St=Math.ceil(F.length/w),Pt=(k-1)*St,It=Pt+St;Y=F.slice(Pt,It),J=H.slice(Pt,It)}const nt=[],V=[],Z=[],rt=[],lt=[],mt=[],ct=[],st=[],xt=[],dt=[],ht=[],ot=[];Y.forEach((St,Pt)=>{const It=St.close_price;nt.push({x:Pt,y:It,timestamp:St.timestamp}),St.sma_20!==null&&St.sma_20!==void 0&&V.push({x:Pt,y:St.sma_20,timestamp:St.timestamp}),St.sma_50!==null&&St.sma_50!==void 0&&ct.push({x:Pt,y:St.sma_50,timestamp:St.timestamp}),St.ema_20!==null&&St.ema_20!==void 0&&Z.push({x:Pt,y:St.ema_20,timestamp:St.timestamp}),St.dema_20!==null&&St.dema_20!==void 0&&rt.push({x:Pt,y:St.dema_20,timestamp:St.timestamp}),St.tema_20!==null&&St.tema_20!==void 0&&lt.push({x:Pt,y:St.tema_20,timestamp:St.timestamp}),St.wma_20!==null&&St.wma_20!==void 0&&mt.push({x:Pt,y:St.wma_20,timestamp:St.timestamp}),St.ema_50!==null&&St.ema_50!==void 0&&st.push({x:Pt,y:St.ema_50,timestamp:St.timestamp}),St.bb_upper!==null&&St.bb_lower!==null&&St.bb_upper!==void 0&&St.bb_lower!==void 0&&dt.push({x:Pt,low:St.bb_lower,high:St.bb_upper,timestamp:St.timestamp});const Nt=St.rsi_14!==null&&St.rsi_14!==void 0?St.rsi_14:St.rsi_pro_trungbinh||0;ht.push({x:Pt,y:Nt,timestamp:St.timestamp}),St.vwap!==null&&St.vwap!==void 0&&xt.push({x:Pt,y:St.vwap,timestamp:St.timestamp}),St.pct_return!==null&&St.pct_return!==void 0&&ot.push({x:Pt,y:St.pct_return*100,timestamp:St.timestamp})});const vt={chart:{height:d?1e3:1200,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:J,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Price & Moving Averages",style:{color:"#00FF80"}},height:"60%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}},{title:{text:"VWAP",style:{color:"#9B59B6"}},top:"62%",height:"25%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#9B59B6",fontSize:"10px"}}}],tooltip:{shared:!0,useHTML:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,headerFormat:'<div style="color: #FFD700; font-weight: bold; margin-bottom: 8px;">{point.key}</div>',pointFormat:'<div style="color: {series.color}; font-size: 12px;">{series.name}: <b>{point.y:.3f}</b></div>'},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{name:"Bollinger Bands",data:dt,yAxis:0,type:"arearange",color:"rgba(0, 255, 128, 0.1)",fillColor:"rgba(0, 255, 128, 0.1)",lineWidth:d?.5:1,lineColor:"#00FF80",zIndex:-1,enableMouseTracking:!1,marker:{enabled:!1},states:{hover:{enabled:!1}}},{name:"Close Price",data:nt,yAxis:0,type:"line",color:"#FFD700",lineWidth:d?2:3,zIndex:5,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFD700; font-size:13px;">Close Price:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"SMA (20)",data:V,yAxis:0,type:"line",color:"#00FF80",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00FF80; font-size:13px;">SMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"SMA (50)",data:ct,yAxis:0,type:"line",color:"#FF6B6B",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF6B6B; font-size:13px;">SMA (50):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"EMA (20)",data:Z,yAxis:0,type:"line",color:"#00E5FF",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#00E5FF; font-size:13px;">EMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"DEMA (20)",data:rt,yAxis:0,type:"line",color:"#FF69B4",lineWidth:1,marker:{enabled:!1},dashStyle:"ShortDash",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FF69B4; font-size:13px;">DEMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"TEMA (20)",data:lt,yAxis:0,type:"line",color:"#9B59B6",lineWidth:1,marker:{enabled:!1},dashStyle:"ShortDash",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">TEMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"WMA (20)",data:mt,yAxis:0,type:"line",color:"#FFA500",lineWidth:1,marker:{enabled:!1},dashStyle:"Dot",tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#FFA500; font-size:13px;">WMA (20):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"EMA (50)",data:st,yAxis:0,type:"line",color:"#4ECDC4",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#4ECDC4; font-size:13px;">EMA (50):</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"VWAP",data:xt,yAxis:1,type:"line",color:"#9B59B6",lineWidth:d?1:2,marker:{enabled:!1},tooltip:{shared:!1,pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;"><b style="color:#9B59B6; font-size:13px;">VWAP:</b><br/><b style="color:#ffffff; font-size:12px;">${this.y.toFixed(3)}</b></div>`}}},{name:"Return %",data:ot,yAxis:1,type:"column",color:function(){return this.y>=0?"#00FF80":"#FF4648"},borderWidth:0,enableMouseTracking:!1}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(n.current,vt)},[i,y,a,k,t,T,d,w]),u.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",minHeight:"100vh",fontFamily:"sans-serif"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[u.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),u.jsx("a",{href:"/#/moving-averages",style:{textDecoration:"none"},children:u.jsx("span",{style:{color:R,fontSize:"11px",fontWeight:"bold",cursor:"pointer"},children:c||"..."})})]}),u.jsx("div",{style:{marginBottom:"15px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(F=>u.jsx("button",{onClick:()=>r(F),style:{padding:"8px 16px",borderRadius:"4px",border:"1px solid #333",backgroundColor:i===F?F==="XAU"?"#FFD700":"#ffffff":"#111",color:i===F?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"12px"},children:F==="XAU"?"Vng (XAU)":"Bc (XAG)"},F))}),u.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(w+1).keys()].map(F=>u.jsx("button",{onClick:()=>A(F),style:{padding:d?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:k===F?"#333":"#111",color:k===F?"#FFF":"#777",fontSize:d?"8px":"10px",cursor:"pointer",flex:d?"1 1 5.5%":"none",textAlign:"center"},children:z(F,T?y.gold_categories:y.silver_categories)},F))}),u.jsx("div",{ref:n,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"15px"},children:[u.jsx("button",{onClick:()=>s(F=>F+1),disabled:a>=o,style:qG(a>=o),children:" Trc "}),u.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",a," / ",o]}),u.jsx("button",{onClick:()=>s(F=>Math.max(1,F-1)),disabled:a===1,style:qG(a===1),children:" Sau "})]})]})},qG=n=>({padding:"6px 20px",backgroundColor:"#111",color:n?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:n?"default":"pointer"}),rzt=()=>{const n=N.useRef(null),[t,e]=N.useState(!1),[i,r]=N.useState("XAG"),[a,s]=N.useState(1),[o,l]=N.useState(1),[c,h]=N.useState(""),[d,g]=N.useState(window.innerWidth<768),[y,x]=N.useState({gold_full:[],silver_full:[],gold_categories:[],silver_categories:[]}),w=d?15:10,[k,A]=N.useState(w),[T,R]=N.useState({open:0,high:0,low:0,close:0}),G=i==="XAU",z=G?"#FFD700":"#ffffff",F="#00b060",H="#ff4648";N.useEffect(()=>{const nt=()=>g(window.innerWidth<768);return window.addEventListener("resize",nt),()=>window.removeEventListener("resize",nt)},[]);const Y=nt=>{if(!nt)return"";const V=nt.split(" ");return V.length>1?V[1].substring(0,5):nt},J=(nt,V)=>{if(nt===0)return"Tt c";if(!V||V.length===0)return`K${nt}`;const Z=Math.ceil(V.length/w),rt=(nt-1)*Z;let lt=rt+Z-1;return lt>=V.length&&(lt=V.length-1),rt>=V.length?"-":`${Y(V[rt])}-${Y(V[lt])}`};return N.useEffect(()=>{(async()=>{const V=["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/stock/highcharts-more.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/mouse-wheel-zoom.js"];for(const Z of V)document.querySelector(`script[src="${Z}"]`)||await new Promise(rt=>{const lt=document.createElement("script");lt.src=Z,lt.async=!1,lt.onload=rt,document.head.appendChild(lt)});e(!0)})()},[]),N.useEffect(()=>{t&&(async()=>{try{const Z=await fetch(`https://api_gold.thinkdiff.us/volume_${i==="XAU"?"xau_usd":"xag_usd"}?page=${a}`).then(lt=>lt.json());Z.data&&Z.data.total_page&&l(Z.data.total_page);const rt=(Z.data.list_volume||[]).reverse();rt.length>0&&h(rt[rt.length-1].timestamp),x(lt=>({...lt,[G?"gold_full":"silver_full"]:rt,[G?"gold_categories":"silver_categories"]:rt.map(mt=>mt.timestamp)})),A(w)}catch(V){console.error(V)}})()},[t,a,i,G,w]),N.useEffect(()=>{if(!t||!window.Highcharts||!n.current)return;const nt=G?y.gold_full:y.silver_full,V=G?y.gold_categories:y.silver_categories;if(!nt.length)return;let Z=[...nt],rt=[...V];if(k!==0){const ct=Math.ceil(nt.length/w),st=(k-1)*ct,xt=st+ct;Z=nt.slice(st,xt),rt=V.slice(st,xt)}const lt=[];if(Z.forEach((ct,st)=>{ct.open_price!==null&&ct.high_price!==null&&ct.low_price!==null&&ct.close_price!==null&&lt.push({x:st,open:ct.open_price,high:ct.high_price,low:ct.low_price,close:ct.close_price,timestamp:ct.timestamp})}),lt.length>0){const ct=lt[lt.length-1];R({open:ct.open,high:ct.high,low:ct.low,close:ct.close})}const mt={chart:{height:d?600:500,backgroundColor:"#000",animation:!1,zooming:{type:"x",mouseWheel:{enabled:!0}}},title:{text:null},xAxis:{categories:rt,crosshair:!0,lineColor:"#333",labels:{useHTML:!0,style:{color:"#999",fontSize:"10px"},autoRotation:[-45]}},yAxis:[{title:{text:"Gi",style:{color:"#00FF80"}},height:"70%",gridLineWidth:1,gridLineColor:"#111",labels:{style:{color:"#00FF80",fontSize:"10px"}}}],tooltip:{shared:!1,useHTML:!0,backgroundColor:"rgba(0,0,0,0.85)",borderWidth:1,borderColor:"#333",shadow:!1,padding:8,style:{color:"#ffd700",fontSize:"12px"}},plotOptions:{candlestick:{color:H,upColor:F,lineColor:H,upLineColor:F,wickColor:"#888",groupPadding:d?.05:.02,pointPadding:d?.02:.01,lineWidth:d?1:2},series:{animation:!1,dataGrouping:{enabled:!1},states:{inactive:{opacity:1}}}},series:[{type:"candlestick",name:"Gi (OHLC)",data:lt,yAxis:0,tooltip:{pointFormatter:function(){return`<div style="text-align:center; text-shadow: 1px 1px 3px #000;">
                <b style="color:#FFD700; font-size:13px;">Gi:</b><br/>
                <b style="color:#00FF80; font-size:11px;">Open: ${this.open.toFixed(2)}</b><br/>
                <b style="color:#00E5FF; font-size:11px;">High: <b style="color:#fffff; font-size:11px;">${this.high.toFixed(2)}</b></b><br/>
                <b style="color:#FF69B4; font-size:11px;">Low: ${this.low.toFixed(2)}</b><br/>
                <b style="color:#FFD700; font-size:11px;">Close: ${this.close.toFixed(2)}</b>
              </div>`}}}],credits:{enabled:!1},legend:{enabled:!0,itemStyle:{color:"#999",fontSize:"12px"}}};window.Highcharts.chart(n.current,mt)},[i,y,a,k,t,G,d,w]),u.jsxs("div",{style:{backgroundColor:"#000",padding:"10px 5px",fontFamily:"sans-serif"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[u.jsx("span",{style:{color:"#666",fontSize:"11px"},children:"Cp nht: "}),u.jsx("span",{style:{color:z,fontSize:"11px",fontWeight:"bold"},children:c||"..."})]}),u.jsxs("div",{style:{backgroundColor:"#0a0a0a",border:"1px solid #FFD700",borderRadius:"6px",padding:"12px",marginBottom:"10px",textAlign:"center"},children:[u.jsx("div",{style:{color:"#FFD700",fontSize:"14px",fontWeight:"bold",marginBottom:"8px"},children:"Gi Mi Nht (OHLC)"}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[u.jsxs("div",{children:[u.jsx("span",{style:{color:"#00FF80",fontSize:"12px"},children:"Open: "}),u.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:T.open.toFixed(2)})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#00E5FF",fontSize:"12px"},children:"High: "}),u.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:T.high.toFixed(2)})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#FF69B4",fontSize:"12px"},children:"Low: "}),u.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:T.low.toFixed(2)})]}),u.jsxs("div",{children:[u.jsx("span",{style:{color:"#FFD700",fontSize:"12px"},children:"Close: "}),u.jsx("span",{style:{color:"#ffffff",fontSize:"13px",fontWeight:"bold"},children:T.close.toFixed(2)})]})]})]}),u.jsx("div",{style:{marginBottom:"10px",display:"flex",gap:"8px",justifyContent:"center"},children:["XAU","XAG"].map(nt=>u.jsx("button",{onClick:()=>r(nt),style:{padding:"6px 12px",borderRadius:"4px",border:"1px solid #333",backgroundColor:i===nt?nt==="XAU"?"#FFD700":"#ffffff":"#111",color:i===nt?"#000":"#FFF",fontWeight:"bold",cursor:"pointer",fontSize:"11px"},children:nt==="XAU"?"Vng (XAU)":"Bc (XAG)"},nt))}),u.jsx("div",{style:{marginBottom:"10px",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",maxWidth:"100%"},children:[...Array(w+1).keys()].map(nt=>u.jsx("button",{onClick:()=>A(nt),style:{padding:d?"4px 2px":"5px 8px",borderRadius:"3px",border:"1px solid #222",backgroundColor:k===nt?"#333":"#111",color:k===nt?"#FFF":"#777",fontSize:d?"8px":"10px",cursor:"pointer",flex:d?"1 1 5.5%":"none",textAlign:"center"},children:J(nt,G?y.gold_categories:y.silver_categories)},nt))}),u.jsx("div",{ref:n,style:{width:"100%",borderRadius:"8px",overflow:"hidden"}}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"10px"},children:[u.jsx("button",{onClick:()=>s(nt=>nt+1),disabled:a>=o,style:KG(a>=o),children:" Trc "}),u.jsxs("span",{style:{color:"#555",fontSize:"12px"},children:["Trang ",a," / ",o]}),u.jsx("button",{onClick:()=>s(nt=>Math.max(1,nt-1)),disabled:a===1,style:KG(a===1),children:" Sau "})]})]})},KG=n=>({padding:"6px 20px",backgroundColor:"#111",color:n?"#333":"#999",border:"1px solid #222",borderRadius:"4px",fontSize:"12px",cursor:n?"default":"pointer"}),Aw=()=>{const[n,t]=yf();Gi();const e=n.get("charts")||"rsi",[i,r]=N.useState(e);N.useEffect(()=>{qo("Trang All Charts")},[]),N.useEffect(()=>{r(e)},[e]);const a=[{id:"rsi",label:"RSI & Bollinger",icon:"",route:"/volumexagxau?charts=rsi"},{id:"technical",label:"Technical Indicators",icon:"",route:"/volumexagxau?charts=technical"},{id:"volume",label:"Volume & Momentum",icon:"",route:"/volumexagxau?charts=volume"},{id:"moving",label:"Moving Averages",icon:"",route:"/volumexagxau?charts=moving"}],s=l=>{r(l),t({charts:l})},o=()=>{switch(i){case"rsi":return u.jsx(Zj,{});case"technical":return u.jsx(ezt,{});case"volume":return u.jsx(nzt,{});case"moving":return u.jsx(izt,{});default:return u.jsx(Zj,{})}};return u.jsxs("div",{style:{backgroundColor:"#000",minHeight:"100vh",fontFamily:"sans-serif"},children:[u.jsxs("div",{style:{borderBottom:"3px solid #FFD700",paddingBottom:"10px"},children:[u.jsx("h3",{style:{textAlign:"center",color:"#FFD700",margin:"10px 0",fontSize:"16px"},children:"Biu  Gi XAU / XAG"}),u.jsx(rzt,{})]}),u.jsx("div",{style:{display:"flex",gap:"10px",padding:"15px",backgroundColor:"#0a0a0a",borderBottom:"2px solid #222",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:a.map(l=>u.jsxs("button",{onClick:()=>s(l.id),style:{padding:"10px 20px",borderRadius:"6px",border:i===l.id?"2px solid #FFD700":"2px solid #333",backgroundColor:i===l.id?"rgba(255, 215, 0, 0.1)":"#111",color:i===l.id?"#FFD700":"#999",fontWeight:i===l.id?"bold":"normal",cursor:"pointer",fontSize:"13px",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:c=>{i!==l.id&&(c.target.style.borderColor="#FFD700",c.target.style.color="#FFD700")},onMouseLeave:c=>{i!==l.id&&(c.target.style.borderColor="#333",c.target.style.color="#999")},children:[u.jsx("span",{children:l.icon}),u.jsx("span",{children:l.label})]},l.id))}),u.jsx("div",{style:{padding:"0"},children:o()})]})},azt=()=>{const[n,t]=N.useState(null),[e,i]=N.useState(null),[r,a]=N.useState(!0),[s,o]=N.useState(null),l=Gi();N.useEffect(()=>{qo("Trang CombinedXauXagChart")},[]),N.useEffect(()=>{(async()=>{try{a(!0);const d=await Ep(1),g=await Ep(2),y=await Ep(3),x=[...d?.volumeXauRaw||[],...g?.volumeXauRaw||[],...y?.volumeXauRaw||[]],w=[...d?.volumeXagRaw||[],...g?.volumeXagRaw||[],...y?.volumeXagRaw||[]],k=rd(x),A=rd(w);t(k),i(A),o(null)}catch(d){console.error("Error fetching data:",d),o("Khng th ti d liu. Vui lng th li sau.")}finally{a(!1)}})()},[]);const c=()=>{l("/so-sanh-XAU-XAG")};return r?u.jsx("div",{style:{textAlign:"center",padding:"40px"},children:u.jsx("p",{children:"ang ti d liu..."})}):s?u.jsx("div",{style:{textAlign:"center",padding:"40px",color:"red"},children:u.jsx("p",{children:s})}):u.jsxs("div",{style:{padding:"20px",width:"100%"},children:[u.jsx("h1",{onClick:c,style:{marginBottom:"20px",cursor:"pointer",display:"inline-block",transition:"color 0.2s"},onMouseOver:h=>h.currentTarget.style.color="#007bff",onMouseOut:h=>h.currentTarget.style.color="inherit",children:"Biu  Phn Tch Volume Giao Dch XAU (Vng) v XAG (Bc)"}),n&&e&&u.jsx(BX,{dataXau:n,dataXag:e,enableZoom:!0})]})},ZG=()=>{const{type:n,day:t,month:e,year:i}=rc(),r=Gi(),a=N.useRef(0),s=N.useRef(!0),[o,l]=N.useState({gold:[],silver:[]}),[c,h]=N.useState(!0),[d,g]=N.useState(""),[y,x]=N.useState(window.innerWidth<768);N.useEffect(()=>{const Z=()=>x(window.innerWidth<768);return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]);const w=n||"silver",k=w==="gold"?"#FFD700":"#C0C0C0",A=new Date,[T,R]=N.useState(()=>t&&e&&i?new Date(i,e-1,t):A);N.useEffect(()=>{qo("Trang OrderFlowAnalysis Timeline")},[]);const G=(Z,rt,lt=!1)=>{const mt=rt.getDate(),ct=rt.getMonth()+1,st=rt.getFullYear();r(`/orderflowanalysis/${Z}/${mt}/${ct}/${st}`,{replace:lt})},z=Z=>{const rt=String(Z.getDate()).padStart(2,"0"),lt=String(Z.getMonth()+1).padStart(2,"0");return`${rt}_${lt}_${Z.getFullYear()}`};N.useEffect(()=>{if(!t&&s.current)R(A),G(w,A,!0);else if(t&&e&&i){const Z=new Date(i,e-1,t);z(Z)!==z(T)&&R(Z)}s.current=!1},[t,e,i,n]),N.useEffect(()=>{h(!0),(async()=>{try{const rt=await sa.get(`https://api_gold.thinkdiff.us/tile_mua_ban_check_giao_dich/${z(T)}`),lt=dt=>{if(!dt||typeof dt!="object")return null;if(dt.hasOwnProperty("time_update"))return dt.time_update;for(let ht in dt){let ot=lt(dt[ht]);if(ot)return ot}return null},mt=lt(rt.data),ct=rt?.data?.tile_mua_ban_check_giao_dich;if(!ct||ct.list_tongtien_ban?.length===0&&ct.list_tongtien_mua?.length===0)if(a.current<7){a.current+=1;const dt=new Date(T);dt.setDate(dt.getDate()-1),R(dt),G(w,dt,!0);return}else{g("Ht d liu 7 ngy."),l({gold:[],silver:[]}),h(!1);return}a.current=0,g(mt||"");const st=(dt,ht)=>{if(!dt)return[];const ot=dt.map((St,Pt)=>{const It=Number(St?.so_luong)||0,Nt=Number(ht?.[Pt]?.so_luong)||0,Et=It+Nt;return{gia:St.gia,sell:It,buy:-Nt,sellQty:It,buyQty:Nt,sellPercent:Et>0?(It/Et*100).toFixed(2):"0.00",buyPercent:Et>0?(Nt/Et*100).toFixed(2):"0.00",total:Et,isMaxSell:!1,isMaxBuy:!1}}).filter(St=>St.sell!==0||St.buy!==0),vt=ot.reduce((St,Pt)=>St+Pt.total,0);return ot.map(St=>({...St,percent:vt>0?(St.total/vt*100).toFixed(2):"0.00"}))},xt=dt=>{if(!dt||!dt.length)return[];const ht=[...dt].sort((vt,St)=>St.sell-vt.sell)[0],ot=[...dt].sort((vt,St)=>vt.buy-St.buy)[0];return dt.map(vt=>({...vt,isMaxSell:vt.sell>0&&vt.gia===ht?.gia,isMaxBuy:vt.buy<0&&vt.gia===ot?.gia}))};l({gold:xt(st(ct.list_tongtien_ban_gold,ct.list_tongtien_mua_gold)),silver:xt(st(ct.list_tongtien_ban,ct.list_tongtien_mua))}),h(!1)}catch{if(a.current<7){a.current+=1;const lt=new Date(T);lt.setDate(lt.getDate()-1),R(lt),G(w,lt,!0)}else h(!1),g("Li kt ni.")}})()},[T]);const F=w==="gold"?o.gold:o.silver,H=Z=>{a.current=0,G(Z,T)},Y=Z=>{a.current=0;const rt=new Date(T);rt.setDate(rt.getDate()+Z),R(rt),G(w,rt)},J=Z=>{const{x:rt,y:lt,payload:mt}=Z;return u.jsx("g",{transform:`translate(${rt},${lt})`,children:u.jsx("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:"#ffffff",fontSize:y?9:11,fontWeight:"bold",children:`${mt.value} USD`})})},nt=(Z,rt)=>{const{x:lt,y:mt,width:ct,index:st}=Z,xt=F[st];if(!xt||(rt==="sell"?!xt.isMaxSell:!xt.isMaxBuy))return null;const dt=rt==="sell"?"#ff4d4d":"#09ff00";return u.jsxs("g",{children:[u.jsx("line",{x1:lt+ct/2,y1:mt,x2:lt+ct/2,y2:rt==="sell"?mt-15:mt+15,stroke:dt,strokeWidth:3}),u.jsx("text",{x:lt+ct/2,y:rt==="sell"?mt-25:mt+35,fill:dt,fontSize:y?10:12,fontWeight:"bold",textAnchor:"middle",stroke:"#000",strokeWidth:.5,paintOrder:"stroke",children:rt==="sell"?"MAX SELL":"MAX BUY"})]})},V=(Z,rt)=>{const{x:lt,y:mt,width:ct,index:st}=Z,xt=F[st];return xt?u.jsx("text",{x:lt+ct/2,y:rt==="sell"?mt-5:mt+15,fill:rt==="sell"?"#ff4d4d":"#09ff00",fontSize:y?8:10,textAnchor:"middle",fontWeight:"bold",children:rt==="sell"?`${xt.sellPercent}%`:`${xt.buyPercent}%`}):null};return u.jsxs("div",{style:{backgroundColor:"#050505",padding:y?"8px":"15px",borderRadius:"12px",width:"98%",margin:"auto"},children:[u.jsxs("div",{style:{display:"flex",flexDirection:y?"column":"row",justifyContent:"space-between",marginBottom:"15px",alignItems:"center",gap:y?"12px":"0"},children:[u.jsxs("div",{style:{display:"flex",flexDirection:y?"column":"row",gap:y?"8px":"15px",alignItems:"center",width:y?"100%":"auto"},children:[u.jsxs("div",{style:{display:"flex",gap:"5px",width:y?"100%":"auto",justifyContent:"center"},children:[u.jsx("button",{onClick:()=>H("gold"),style:QG(w==="gold","#FFD700",y),children:"GOLD"}),u.jsx("button",{onClick:()=>H("silver"),style:QG(w==="silver","#C0C0C0",y),children:"SILVER"})]}),u.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"5px",justifyContent:"center"},children:[u.jsx("span",{style:{color:"#ffffff",fontSize:y?"9px":"11px",fontWeight:"bold"},children:"Cp nht mi:"}),u.jsx("span",{style:{color:k,fontSize:y?"10px":"12px",fontWeight:"bold",fontFamily:"monospace"},children:d||(c?"SCANNING...":"N/A")})]})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:y?"8px":"15px",background:"#111",padding:y?"4px 12px":"6px 20px",borderRadius:"30px"},children:[u.jsx("button",{onClick:()=>Y(-1),style:{...JG,fontSize:y?"14px":"18px"},children:""}),u.jsx("span",{style:{fontSize:y?"12px":"14px",fontWeight:"bold",color:k},children:z(T).replaceAll("_","/")}),u.jsx("button",{onClick:()=>Y(1),style:{...JG,fontSize:y?"14px":"18px"},children:""})]})]}),u.jsx("div",{style:{width:"100%",height:y?"400px":"520px"},children:u.jsx(f2,{width:"100%",height:"100%",children:u.jsxs(W2,{data:F,stackOffset:"sign",margin:{top:80,bottom:50,left:10,right:10},barCategoryGap:"0%",children:[u.jsx(v_,{strokeDasharray:"0",stroke:"#111",vertical:!1}),u.jsx(x_,{dataKey:"gia",tick:u.jsx(J,{}),axisLine:{stroke:"#333"},tickLine:!1,interval:0}),u.jsx(b_,{stroke:k,fontSize:y?9:11,tickFormatter:Z=>Math.abs(Z).toLocaleString(),axisLine:!1,tickLine:!1}),u.jsx(j2,{content:({active:Z,payload:rt})=>{if(Z&&rt&&rt.length){const lt=rt[0].payload;return u.jsxs("div",{style:{backgroundColor:"#000",border:`1px solid ${k}`,padding:"10px",borderRadius:"8px"},children:[u.jsxs("p",{style:{margin:"0 0 5px",fontSize:"12px",color:k},children:["Gi: ",lt.gia," USD"]}),u.jsxs("div",{style:{fontSize:"12px",fontWeight:"bold"},children:[u.jsxs("div",{style:{color:"#ff4d4d"},children:["Bn: ",lt.sellQty.toLocaleString()," (",lt.sellPercent,"%)"]}),u.jsxs("div",{style:{color:"#09ff00"},children:["Mua: ",lt.buyQty.toLocaleString()," (",lt.buyPercent,"%)"]})]})]})}return null}}),u.jsx(cX,{y:0,stroke:"#333",strokeWidth:1}),u.jsxs(Dy,{dataKey:"sell",stackId:"s",children:[F.map((Z,rt)=>u.jsx(y_,{fill:"#ff4d4d"},rt)),u.jsx(jy,{content:Z=>nt(Z,"sell")}),u.jsx(jy,{content:Z=>V(Z,"sell")})]}),u.jsxs(Dy,{dataKey:"buy",stackId:"s",children:[F.map((Z,rt)=>u.jsx(y_,{fill:"#09ff00"},rt)),u.jsx(jy,{content:Z=>nt(Z,"buy")}),u.jsx(jy,{content:Z=>V(Z,"buy")})]})]})})})]})},QG=(n,t,e)=>({background:n?t:"#111",border:"none",padding:e?"6px 12px":"8px 18px",color:n?"#000":"#888",cursor:"pointer",fontWeight:"bold",borderRadius:"4px",fontSize:e?"10px":"12px",transition:"all 0.2s",flex:e?1:"none"}),JG={background:"none",border:"none",color:"#fff",cursor:"pointer"},szt=n=>{const t=Number(n);return Number.isFinite(t)?t.toLocaleString():n??"-"},ozt=n=>{const t=Number(n);return Number.isFinite(t)?t.toLocaleString():"-"};function lzt({apiUrl:n="https://api_gold.thinkdiff.us/slv_short_long"}){const[t,e]=N.useState([]),[i,r]=N.useState(!0),[a,s]=N.useState(null);return N.useEffect(()=>{const o=new AbortController;return(async()=>{try{r(!0),s(null);const c=await fetch(n,{signal:o.signal});if(!c.ok)throw new Error(`HTTP ${c.status}`);const h=await c.json(),d=Array.isArray(h)?h:h?.data;e(Array.isArray(d)?d:[])}catch(c){c.name!=="AbortError"&&(console.error("Fetch trade data failed:",c),s(c),e([]))}finally{r(!1)}})(),()=>o.abort()},[n]),i?u.jsx("div",{className:"trade-table--loading",children:"Loading trades"}):t.length===0?u.jsx("div",{className:"trade-table--empty",children:a?"Failed to load trades.":"No trades available."}):u.jsxs("div",{className:"trade-table__wrap",children:[a&&u.jsx("div",{className:"trade-table__notice",children:"Data may be incomplete or restricted."}),u.jsxs("table",{className:"trade-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{textAlign:"center"},children:"Date"}),u.jsx("th",{style:{textAlign:"center"},children:"Time"}),u.jsx("th",{style:{textAlign:"center"},children:"Symbol"}),u.jsx("th",{style:{textAlign:"center"},children:"Trade Side"}),u.jsx("th",{style:{textAlign:"center"},children:"Side"}),u.jsx("th",{style:{textAlign:"center"},children:"Contract"}),u.jsx("th",{style:{textAlign:"center"},children:"Expiry"}),u.jsx("th",{style:{textAlign:"center"},children:"DTE"}),u.jsx("th",{style:{textAlign:"center"},children:"Strike"}),u.jsx("th",{style:{textAlign:"center"},children:"Spot"}),u.jsx("th",{style:{textAlign:"center"},children:"Strike / Spot %"}),u.jsx("th",{style:{textAlign:"center"},children:"Event"}),u.jsx("th",{style:{textAlign:"center"},children:"Trade Type"}),u.jsx("th",{style:{textAlign:"right"},children:"Open Int"}),u.jsx("th",{style:{textAlign:"right"},children:"IVOL"}),u.jsx("th",{style:{textAlign:"right"},children:"Premium Paid ($)"}),u.jsx("th",{style:{textAlign:"right"},children:"Premium Sigmas"})]})}),u.jsx("tbody",{children:t.map((o,l)=>{const c=String(o.trade_side||"").toUpperCase()==="BUY";return u.jsxs("tr",{className:c?"row-buy":"row-sell",children:[u.jsx("td",{children:o.date??"-"}),u.jsx("td",{children:o.time??"-"}),u.jsx("td",{className:"symbol",children:o.symbol??"-"}),u.jsx("td",{className:"trade-side",children:o.trade_side??"-"}),u.jsx("td",{className:"side-pattern",children:u.jsx("code",{children:o.side??"-"})}),u.jsx("td",{className:`contract ${String(o.contract).toUpperCase()}`,children:o.contract??"-"}),u.jsx("td",{children:o.expiry??"-"}),u.jsx("td",{children:o.dte??"-"}),u.jsx("td",{children:o.strike_price??"-"}),u.jsx("td",{children:o.spot_price??"-"}),u.jsx("td",{children:o.strike_spot_pct!=null?`${o.strike_spot_pct}%`:"-"}),u.jsx("td",{children:o.event??"-"}),u.jsx("td",{children:o.trade_type??"-"}),u.jsx("td",{style:{textAlign:"right"},children:szt(o.open_int)}),u.jsx("td",{style:{textAlign:"right"},children:Number.isFinite(Number(o.ivol))?Number(o.ivol).toFixed(2):"-"}),u.jsxs("td",{style:{textAlign:"right"},children:["$",ozt(o.premium_paid)]}),u.jsx("td",{style:{textAlign:"right"},children:o.premium_sigmas??"-"})]},`${o.date||"d"}_${o.time||"t"}_${l}`)})})]})]})}function czt(){return u.jsxs("div",{className:"tradeflow-page",children:[u.jsx("h1",{style:{marginBottom:12},children:"Order Flow / Trade Flow"}),u.jsx("p",{style:{marginBottom:16,color:"#444"},children:"Bng hin th cc lnh ln (d liu t API)"}),u.jsx(lzt,{apiUrl:"https://api_gold.thinkdiff.us/slv_short_long"})]})}function uzt(){const n=bIt(),[t]=N.useState({region:"vietnam",type:"gold",sortBy:null,sortOrder:"desc",country:"all"}),[e,i]=N.useState(null),{lastUpdated:r}=gIt(t);return n===null?u.jsx("div",{children:"ang kim tra quyn v tr..."}):n===!1?u.jsxs("div",{style:{textAlign:"center",padding:30},children:[u.jsx("h2",{children:" Bn phi bt quyn v tr  chng ti c th hin th cc nh vng gn bn "}),u.jsx("p",{children:"Hy bt GPS / Location v ti li trang."}),u.jsx("img",{src:"https://vang247.xyz/vang_247_maps.png",alt:"Bt v tr",className:"location-permission-image"})]}):u.jsx(SQ,{children:u.jsxs("div",{className:"app",children:[u.jsx(Flt,{lastUpdated:r,newsInAPI:e}),u.jsx(Vlt,{}),u.jsx("main",{className:"main-content",children:u.jsx("div",{className:"container",children:u.jsxs(JZ,{children:[u.jsx(mn,{path:"/",element:u.jsx(Cw,{setNewsInAPI:i})}),u.jsx(mn,{path:"/:region/:type",element:u.jsx(Cw,{setNewsInAPI:i})}),u.jsx(mn,{path:"/vang247/:day/:month/:year/:hour/:minute",element:u.jsx(Cw,{setNewsInAPI:i})}),u.jsx(mn,{path:"/:region/:type/:day/:month/:year/:hour/:minute",element:u.jsx(Cw,{setNewsInAPI:i})}),u.jsx(mn,{path:"/map-view/:region/:type/:day/:month/:year/:hour/:minute/:z/:lat/:lng",element:u.jsx(_ut,{})}),u.jsx(mn,{path:"/comparison-chart/:region/:type/:day/:month/:year/:hour/:minute/:level",element:u.jsx(UIt,{})}),u.jsx(mn,{path:"/chart/:symbol",element:u.jsx(Cw,{setNewsInAPI:i})}),u.jsx(mn,{path:"/lich_kinh_te",element:u.jsx(dz,{})}),u.jsx(mn,{path:"/calendar",element:u.jsx(dz,{})}),u.jsx(mn,{path:"/ty-gia/:date",element:u.jsx(RG,{})}),u.jsx(mn,{path:"/ty-gia",element:u.jsx(RG,{})}),u.jsx(mn,{path:"/xauxagdetail",element:u.jsx(pIt,{})}),u.jsx(mn,{path:"/TradingEconomicsWidgets",element:u.jsx(xIt,{})}),u.jsx(mn,{path:"/quy-dau-tu/:day/:month/:year/:hour/:minute",element:u.jsx(mIt,{})}),u.jsx(mn,{path:"/SharkGlobalChart",element:u.jsx(PIt,{})}),u.jsx(mn,{path:"/DetailSharkGlobal",element:u.jsx(EIt,{})}),u.jsx(mn,{path:"/EtfSharkDetail/:etfSlug",element:u.jsx(g3t,{})}),u.jsx(mn,{path:"/so-sanh-quoc-gia",element:u.jsx(R3t,{})}),u.jsx(mn,{path:"/tin-tuc-moi-nhat",element:u.jsx(MIt,{})}),u.jsx(mn,{path:"/so-sanh-nha-vang",element:u.jsx(WIt,{})}),u.jsx(mn,{path:"/luong-truy-cap",element:u.jsx(BG,{})}),u.jsx(mn,{path:"/luong-truy-cap/:date",element:u.jsx(BG,{})}),u.jsx(mn,{path:"/dang-ky-vi",element:u.jsx(UG,{})}),u.jsx(mn,{path:"/danh-sach-vi",element:u.jsx(WG,{})}),u.jsx(mn,{path:"/danh-sach-vi/:username",element:u.jsx(WG,{})}),u.jsx(mn,{path:"/wallet-buy",element:u.jsx(S3t,{})}),u.jsx(mn,{path:"/vi/:username",element:u.jsx(k3t,{})}),u.jsx(mn,{path:"/vi/:username/sua",element:u.jsx(A3t,{})}),u.jsx(mn,{path:"/dang-ky-tai-khoan",element:u.jsx(UG,{})}),u.jsx(mn,{path:"/so-sanh-XAU-XAG",element:u.jsx(q7,{showPopUpCompare:!0})}),u.jsx(mn,{path:"/chart-detail/:chartKey",element:u.jsx(a3t,{})}),u.jsx(mn,{path:"/lich-su-gia",element:u.jsx(_3t,{})}),u.jsx(mn,{path:"/lbma-reserves",element:u.jsx(E3t,{})}),u.jsx(mn,{path:"/spdr-shares",element:u.jsx(P3t,{})}),u.jsx(mn,{path:"/loi-nhuan-tuan",element:u.jsx(O3t,{})}),u.jsx(mn,{path:"/zsl",element:u.jsx(Rst,{})}),u.jsx(mn,{path:"/zsl-comparison",element:u.jsx(hI,{to:"/zsl",replace:!0})}),u.jsx(mn,{path:"/zsl-price",element:u.jsx(hI,{to:"/zsl",replace:!0})}),u.jsx(mn,{path:"/fomo-vang-bac",element:u.jsx(L3t,{})}),u.jsx(mn,{path:"/ig-sentiment",element:u.jsx(NIt,{})}),u.jsx(mn,{path:"/bao-cao-comex",element:u.jsx(T3t,{})}),u.jsx(mn,{path:"/bao-cao-san-thuong-hai-tuong-lai",element:u.jsx(M3t,{})}),u.jsx(mn,{path:"/bao-cao-luong-luu-tru",element:u.jsx(N3t,{})}),u.jsx(mn,{path:"/chart/XOJ26",element:u.jsx(bq,{})}),u.jsx(mn,{path:"/comex-inventory",element:u.jsx(YG,{})}),u.jsx(mn,{path:"/luu-tru-comex",element:u.jsx(YG,{})}),u.jsx(mn,{path:"/volumexagxau",element:u.jsx(Aw,{})}),u.jsx(mn,{path:"/volumexagxau?charts=rsi",element:u.jsx(Aw,{})}),u.jsx(mn,{path:"/volumexagxau?charts=technical",element:u.jsx(Aw,{})}),u.jsx(mn,{path:"/volumexagxau?charts=volume",element:u.jsx(Aw,{})}),u.jsx(mn,{path:"/volumexagxau?charts=moving",element:u.jsx(Aw,{})}),u.jsx(mn,{path:"/xau-xag-chart",element:u.jsx(azt,{})}),u.jsx(mn,{path:"/:vendorName",element:u.jsx(SIt,{})}),u.jsx(mn,{path:"/slvchart",element:u.jsx(mK,{})}),u.jsx(mn,{path:"/compareshanghaicomex",element:u.jsx(yK,{})}),u.jsx(mn,{path:"/orderflowanalysis/:type/:day/:month/:year",element:u.jsx(ZG,{})}),u.jsx(mn,{path:"/orderflowanalysis",element:u.jsx(ZG,{})}),u.jsx(mn,{path:"/trade-flow",element:u.jsx(czt,{})}),u.jsx(mn,{path:"*",element:u.jsx("div",{className:"p-10 text-center",children:"404 - Trang khng tn ti"})})]})})}),u.jsx(Blt,{})]})})}eW.createRoot(document.getElementById("root")).render(u.jsx(mr.StrictMode,{children:u.jsx(uzt,{})}));
